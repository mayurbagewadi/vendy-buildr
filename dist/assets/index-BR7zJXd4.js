function Rge(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ige(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var eT={exports:{}},vv={},tT={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $B;function Mge(){if($B)return zr;$B=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(B,V,Z){this.props=B,this.context=V,this.refs=g,this.updater=Z||p}v.prototype.isReactComponent={},v.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},v.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function _(){}_.prototype=v.prototype;function w(B,V,Z){this.props=B,this.context=V,this.refs=g,this.updater=Z||p}var j=w.prototype=new _;j.constructor=w,y(j,v.prototype),j.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(B,V,Z){var X,Q={},ce=null,de=null;if(V!=null)for(X in V.ref!==void 0&&(de=V.ref),V.key!==void 0&&(ce=""+V.key),V)S.call(V,X)&&!E.hasOwnProperty(X)&&(Q[X]=V[X]);var pe=arguments.length-2;if(pe===1)Q.children=Z;else if(1<pe){for(var re=Array(pe),ie=0;ie<pe;ie++)re[ie]=arguments[ie+2];Q.children=re}if(B&&B.defaultProps)for(X in pe=B.defaultProps,pe)Q[X]===void 0&&(Q[X]=pe[X]);return{$$typeof:e,type:B,key:ce,ref:de,props:Q,_owner:k.current}}function P(B,V){return{$$typeof:e,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function T(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function O(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Z){return V[Z]})}var D=/\/+/g;function I(B,V){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):V.toString(36)}function L(B,V,Z,X,Q){var ce=typeof B;(ce==="undefined"||ce==="boolean")&&(B=null);var de=!1;if(B===null)de=!0;else switch(ce){case"string":case"number":de=!0;break;case"object":switch(B.$$typeof){case e:case t:de=!0}}if(de)return de=B,Q=Q(de),B=X===""?"."+I(de,0):X,C(Q)?(Z="",B!=null&&(Z=B.replace(D,"$&/")+"/"),L(Q,V,Z,"",function(ie){return ie})):Q!=null&&(T(Q)&&(Q=P(Q,Z+(!Q.key||de&&de.key===Q.key?"":(""+Q.key).replace(D,"$&/")+"/")+B)),V.push(Q)),1;if(de=0,X=X===""?".":X+":",C(B))for(var pe=0;pe<B.length;pe++){ce=B[pe];var re=X+I(ce,pe);de+=L(ce,V,Z,re,Q)}else if(re=m(B),typeof re=="function")for(B=re.call(B),pe=0;!(ce=B.next()).done;)ce=ce.value,re=X+I(ce,pe++),de+=L(ce,V,Z,re,Q);else if(ce==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return de}function W(B,V,Z){if(B==null)return B;var X=[],Q=0;return L(B,X,"","",function(ce){return V.call(Z,ce,Q++)}),X}function q(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(Z){(B._status===0||B._status===-1)&&(B._status=1,B._result=Z)},function(Z){(B._status===0||B._status===-1)&&(B._status=2,B._result=Z)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var G={current:null},K={transition:null},U={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:K,ReactCurrentOwner:k};function F(){throw Error("act(...) is not supported in production builds of React.")}return zr.Children={map:W,forEach:function(B,V,Z){W(B,function(){V.apply(this,arguments)},Z)},count:function(B){var V=0;return W(B,function(){V++}),V},toArray:function(B){return W(B,function(V){return V})||[]},only:function(B){if(!T(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},zr.Component=v,zr.Fragment=r,zr.Profiler=a,zr.PureComponent=w,zr.StrictMode=n,zr.Suspense=c,zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,zr.act=F,zr.cloneElement=function(B,V,Z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var X=y({},B.props),Q=B.key,ce=B.ref,de=B._owner;if(V!=null){if(V.ref!==void 0&&(ce=V.ref,de=k.current),V.key!==void 0&&(Q=""+V.key),B.type&&B.type.defaultProps)var pe=B.type.defaultProps;for(re in V)S.call(V,re)&&!E.hasOwnProperty(re)&&(X[re]=V[re]===void 0&&pe!==void 0?pe[re]:V[re])}var re=arguments.length-2;if(re===1)X.children=Z;else if(1<re){pe=Array(re);for(var ie=0;ie<re;ie++)pe[ie]=arguments[ie+2];X.children=pe}return{$$typeof:e,type:B.type,key:Q,ref:ce,props:X,_owner:de}},zr.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},zr.createElement=R,zr.createFactory=function(B){var V=R.bind(null,B);return V.type=B,V},zr.createRef=function(){return{current:null}},zr.forwardRef=function(B){return{$$typeof:l,render:B}},zr.isValidElement=T,zr.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:q}},zr.memo=function(B,V){return{$$typeof:u,type:B,compare:V===void 0?null:V}},zr.startTransition=function(B){var V=K.transition;K.transition={};try{B()}finally{K.transition=V}},zr.unstable_act=F,zr.useCallback=function(B,V){return G.current.useCallback(B,V)},zr.useContext=function(B){return G.current.useContext(B)},zr.useDebugValue=function(){},zr.useDeferredValue=function(B){return G.current.useDeferredValue(B)},zr.useEffect=function(B,V){return G.current.useEffect(B,V)},zr.useId=function(){return G.current.useId()},zr.useImperativeHandle=function(B,V,Z){return G.current.useImperativeHandle(B,V,Z)},zr.useInsertionEffect=function(B,V){return G.current.useInsertionEffect(B,V)},zr.useLayoutEffect=function(B,V){return G.current.useLayoutEffect(B,V)},zr.useMemo=function(B,V){return G.current.useMemo(B,V)},zr.useReducer=function(B,V,Z){return G.current.useReducer(B,V,Z)},zr.useRef=function(B){return G.current.useRef(B)},zr.useState=function(B){return G.current.useState(B)},zr.useSyncExternalStore=function(B,V,Z){return G.current.useSyncExternalStore(B,V,Z)},zr.useTransition=function(){return G.current.useTransition()},zr.version="18.3.1",zr}var BB;function x2(){return BB||(BB=1,tT.exports=Mge()),tT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UB;function Fge(){if(UB)return vv;UB=1;var e=x2(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:p,props:f,_owner:a.current}}return vv.Fragment=r,vv.jsx=o,vv.jsxs=o,vv}var VB;function Lge(){return VB||(VB=1,eT.exports=Fge()),eT.exports}var s=Lge(),S_={},rT={exports:{}},ao={},nT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zB;function $ge(){return zB||(zB=1,(function(e){function t(K,U){var F=K.length;K.push(U);e:for(;0<F;){var B=F-1>>>1,V=K[B];if(0<a(V,U))K[B]=U,K[F]=V,F=B;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var U=K[0],F=K.pop();if(F!==U){K[0]=F;e:for(var B=0,V=K.length,Z=V>>>1;B<Z;){var X=2*(B+1)-1,Q=K[X],ce=X+1,de=K[ce];if(0>a(Q,F))ce<V&&0>a(de,Q)?(K[B]=de,K[ce]=F,B=ce):(K[B]=Q,K[X]=F,B=X);else if(ce<V&&0>a(de,F))K[B]=de,K[ce]=F,B=ce;else break e}}return U}function a(K,U){var F=K.sortIndex-U.sortIndex;return F!==0?F:K.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(K){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=K)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function C(K){if(g=!1,j(K),!y)if(r(c)!==null)y=!0,q(S);else{var U=r(u);U!==null&&G(C,U.startTime-K)}}function S(K,U){y=!1,g&&(g=!1,_(R),R=-1),p=!0;var F=m;try{for(j(U),f=r(c);f!==null&&(!(f.expirationTime>U)||K&&!O());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var V=B(f.expirationTime<=U);U=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),j(U)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var X=r(u);X!==null&&G(C,X.startTime-U),Z=!1}return Z}finally{f=null,m=F,p=!1}}var k=!1,E=null,R=-1,P=5,T=-1;function O(){return!(e.unstable_now()-T<P)}function D(){if(E!==null){var K=e.unstable_now();T=K;var U=!0;try{U=E(!0,K)}finally{U?I():(k=!1,E=null)}}else k=!1}var I;if(typeof w=="function")I=function(){w(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=D,I=function(){W.postMessage(null)}}else I=function(){v(D,0)};function q(K){E=K,k||(k=!0,I())}function G(K,U){R=v(function(){K(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,q(S))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var F=m;m=U;try{return K()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,U){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var F=m;m=K;try{return U()}finally{m=F}},e.unstable_scheduleCallback=function(K,U,F){var B=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,K={id:d++,callback:U,priorityLevel:K,startTime:F,expirationTime:V,sortIndex:-1},F>B?(K.sortIndex=F,t(u,K),r(c)===null&&K===r(u)&&(g?(_(R),R=-1):g=!0,G(C,F-B))):(K.sortIndex=V,t(c,K),y||p||(y=!0,q(S))),K},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(K){var U=m;return function(){var F=m;m=U;try{return K.apply(this,arguments)}finally{m=F}}}})(sT)),sT}var qB;function Bge(){return qB||(qB=1,nT.exports=$ge()),nT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WB;function Uge(){if(WB)return ao;WB=1;var e=x2(),t=Bge();function r(h){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+h,N=1;N<arguments.length;N++)x+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(h,x){o(h,x),o(h+"Capture",x)}function o(h,x){for(a[h]=x,h=0;h<x.length;h++)n.add(x[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function p(h,x,N,A){if(N!==null&&N.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return A?!1:N!==null?!N.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,x,N,A){if(x===null||typeof x>"u"||p(h,x,N,A))return!0;if(A)return!1;if(N!==null)switch(N.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(h,x,N,A,M,H,se){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=A,this.attributeNamespace=M,this.mustUseProperty=N,this.propertyName=h,this.type=x,this.sanitizeURL=H,this.removeEmptyString=se}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new g(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var x=h[0];v[x]=new g(x,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new g(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new g(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new g(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new g(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new g(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new g(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new g(h,5,!1,h.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function w(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var x=h.replace(_,w);v[x]=new g(x,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var x=h.replace(_,w);v[x]=new g(x,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var x=h.replace(_,w);v[x]=new g(x,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!0,!0)});function j(h,x,N,A){var M=v.hasOwnProperty(x)?v[x]:null;(M!==null?M.type!==0:A||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,N,M,A)&&(N=null),A||M===null?m(x)&&(N===null?h.removeAttribute(x):h.setAttribute(x,""+N)):M.mustUseProperty?h[M.propertyName]=N===null?M.type===3?!1:"":N:(x=M.attributeName,A=M.attributeNamespace,N===null?h.removeAttribute(x):(M=M.type,N=M===3||M===4&&N===!0?"":""+N,A?h.setAttributeNS(A,x,N):h.setAttribute(x,N))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),K=Symbol.iterator;function U(h){return h===null||typeof h!="object"?null:(h=K&&h[K]||h["@@iterator"],typeof h=="function"?h:null)}var F=Object.assign,B;function V(h){if(B===void 0)try{throw Error()}catch(N){var x=N.stack.trim().match(/\n( *(at )?)/);B=x&&x[1]||""}return`
`+B+h}var Z=!1;function X(h,x){if(!h||Z)return"";Z=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Ye){var A=Ye}Reflect.construct(h,[],x)}else{try{x.call()}catch(Ye){A=Ye}h.call(x.prototype)}else{try{throw Error()}catch(Ye){A=Ye}h()}}catch(Ye){if(Ye&&A&&typeof Ye.stack=="string"){for(var M=Ye.stack.split(`
`),H=A.stack.split(`
`),se=M.length-1,Ne=H.length-1;1<=se&&0<=Ne&&M[se]!==H[Ne];)Ne--;for(;1<=se&&0<=Ne;se--,Ne--)if(M[se]!==H[Ne]){if(se!==1||Ne!==1)do if(se--,Ne--,0>Ne||M[se]!==H[Ne]){var Te=`
`+M[se].replace(" at new "," at ");return h.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",h.displayName)),Te}while(1<=se&&0<=Ne);break}}}finally{Z=!1,Error.prepareStackTrace=N}return(h=h?h.displayName||h.name:"")?V(h):""}function Q(h){switch(h.tag){case 5:return V(h.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return h=X(h.type,!1),h;case 11:return h=X(h.type.render,!1),h;case 1:return h=X(h.type,!0),h;default:return""}}function ce(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case E:return"Fragment";case k:return"Portal";case P:return"Profiler";case R:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case O:return(h.displayName||"Context")+".Consumer";case T:return(h._context.displayName||"Context")+".Provider";case D:var x=h.render;return h=h.displayName,h||(h=x.displayName||x.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case W:return x=h.displayName||null,x!==null?x:ce(h.type)||"Memo";case q:x=h._payload,h=h._init;try{return ce(h(x))}catch{}}return null}function de(h){var x=h.type;switch(h.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=x.render,h=h.displayName||h.name||"",x.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(x);case 8:return x===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function pe(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function re(h){var x=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function ie(h){var x=re(h)?"checked":"value",N=Object.getOwnPropertyDescriptor(h.constructor.prototype,x),A=""+h[x];if(!h.hasOwnProperty(x)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var M=N.get,H=N.set;return Object.defineProperty(h,x,{configurable:!0,get:function(){return M.call(this)},set:function(se){A=""+se,H.call(this,se)}}),Object.defineProperty(h,x,{enumerable:N.enumerable}),{getValue:function(){return A},setValue:function(se){A=""+se},stopTracking:function(){h._valueTracker=null,delete h[x]}}}}function J(h){h._valueTracker||(h._valueTracker=ie(h))}function z(h){if(!h)return!1;var x=h._valueTracker;if(!x)return!0;var N=x.getValue(),A="";return h&&(A=re(h)?h.checked?"true":"false":h.value),h=A,h!==N?(x.setValue(h),!0):!1}function Se(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function te(h,x){var N=x.checked;return F({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??h._wrapperState.initialChecked})}function _e(h,x){var N=x.defaultValue==null?"":x.defaultValue,A=x.checked!=null?x.checked:x.defaultChecked;N=pe(x.value!=null?x.value:N),h._wrapperState={initialChecked:A,initialValue:N,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Ae(h,x){x=x.checked,x!=null&&j(h,"checked",x,!1)}function ue(h,x){Ae(h,x);var N=pe(x.value),A=x.type;if(N!=null)A==="number"?(N===0&&h.value===""||h.value!=N)&&(h.value=""+N):h.value!==""+N&&(h.value=""+N);else if(A==="submit"||A==="reset"){h.removeAttribute("value");return}x.hasOwnProperty("value")?He(h,x.type,N):x.hasOwnProperty("defaultValue")&&He(h,x.type,pe(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(h.defaultChecked=!!x.defaultChecked)}function Ve(h,x,N){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var A=x.type;if(!(A!=="submit"&&A!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+h._wrapperState.initialValue,N||x===h.value||(h.value=x),h.defaultValue=x}N=h.name,N!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,N!==""&&(h.name=N)}function He(h,x,N){(x!=="number"||Se(h.ownerDocument)!==h)&&(N==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+N&&(h.defaultValue=""+N))}var le=Array.isArray;function be(h,x,N,A){if(h=h.options,x){x={};for(var M=0;M<N.length;M++)x["$"+N[M]]=!0;for(N=0;N<h.length;N++)M=x.hasOwnProperty("$"+h[N].value),h[N].selected!==M&&(h[N].selected=M),M&&A&&(h[N].defaultSelected=!0)}else{for(N=""+pe(N),x=null,M=0;M<h.length;M++){if(h[M].value===N){h[M].selected=!0,A&&(h[M].defaultSelected=!0);return}x!==null||h[M].disabled||(x=h[M])}x!==null&&(x.selected=!0)}}function Oe(h,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return F({},x,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ze(h,x){var N=x.value;if(N==null){if(N=x.children,x=x.defaultValue,N!=null){if(x!=null)throw Error(r(92));if(le(N)){if(1<N.length)throw Error(r(93));N=N[0]}x=N}x==null&&(x=""),N=x}h._wrapperState={initialValue:pe(N)}}function tt(h,x){var N=pe(x.value),A=pe(x.defaultValue);N!=null&&(N=""+N,N!==h.value&&(h.value=N),x.defaultValue==null&&h.defaultValue!==N&&(h.defaultValue=N)),A!=null&&(h.defaultValue=""+A)}function fe(h){var x=h.textContent;x===h._wrapperState.initialValue&&x!==""&&x!==null&&(h.value=x)}function ee(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function we(h,x){return h==null||h==="http://www.w3.org/1999/xhtml"?ee(x):h==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var he,Me=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,N,A,M){MSApp.execUnsafeLocalFunction(function(){return h(x,N,A,M)})}:h})(function(h,x){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=x;else{for(he=he||document.createElement("div"),he.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=he.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;x.firstChild;)h.appendChild(x.firstChild)}});function Pe(h,x){if(x){var N=h.firstChild;if(N&&N===h.lastChild&&N.nodeType===3){N.nodeValue=x;return}}h.textContent=x}var Re={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},et=["Webkit","ms","Moz","O"];Object.keys(Re).forEach(function(h){et.forEach(function(x){x=x+h.charAt(0).toUpperCase()+h.substring(1),Re[x]=Re[h]})});function jt(h,x,N){return x==null||typeof x=="boolean"||x===""?"":N||typeof x!="number"||x===0||Re.hasOwnProperty(h)&&Re[h]?(""+x).trim():x+"px"}function je(h,x){h=h.style;for(var N in x)if(x.hasOwnProperty(N)){var A=N.indexOf("--")===0,M=jt(N,x[N],A);N==="float"&&(N="cssFloat"),A?h.setProperty(N,M):h[N]=M}}var nt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(h,x){if(x){if(nt[h]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function Dt(h,x){if(h.indexOf("-")===-1)return typeof x.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lt=null;function vt(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Zt=null,Gt=null,pr=null;function Qt(h){if(h=nv(h)){if(typeof Zt!="function")throw Error(r(280));var x=h.stateNode;x&&(x=$1(x),Zt(h.stateNode,h.type,x))}}function jn(h){Gt?pr?pr.push(h):pr=[h]:Gt=h}function $t(){if(Gt){var h=Gt,x=pr;if(pr=Gt=null,Qt(h),x)for(h=0;h<x.length;h++)Qt(x[h])}}function jr(h,x){return h(x)}function br(){}var It=!1;function Rt(h,x,N){if(It)return h(x,N);It=!0;try{return jr(h,x,N)}finally{It=!1,(Gt!==null||pr!==null)&&(br(),$t())}}function or(h,x){var N=h.stateNode;if(N===null)return null;var A=$1(N);if(A===null)return null;N=A[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(h=h.type,A=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!A;break e;default:h=!1}if(h)return null;if(N&&typeof N!="function")throw Error(r(231,x,typeof N));return N}var bt=!1;if(l)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){bt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch{bt=!1}function Lt(h,x,N,A,M,H,se,Ne,Te){var Ye=Array.prototype.slice.call(arguments,3);try{x.apply(N,Ye)}catch(pt){this.onError(pt)}}var sr=!1,$n=null,ne=!1,xe=null,me={onError:function(h){sr=!0,$n=h}};function ge(h,x,N,A,M,H,se,Ne,Te){sr=!1,$n=null,Lt.apply(me,arguments)}function ye(h,x,N,A,M,H,se,Ne,Te){if(ge.apply(this,arguments),sr){if(sr){var Ye=$n;sr=!1,$n=null}else throw Error(r(198));ne||(ne=!0,xe=Ye)}}function ve(h){var x=h,N=h;if(h.alternate)for(;x.return;)x=x.return;else{h=x;do x=h,(x.flags&4098)!==0&&(N=x.return),h=x.return;while(h)}return x.tag===3?N:null}function $e(h){if(h.tag===13){var x=h.memoizedState;if(x===null&&(h=h.alternate,h!==null&&(x=h.memoizedState)),x!==null)return x.dehydrated}return null}function Ge(h){if(ve(h)!==h)throw Error(r(188))}function Le(h){var x=h.alternate;if(!x){if(x=ve(h),x===null)throw Error(r(188));return x!==h?null:h}for(var N=h,A=x;;){var M=N.return;if(M===null)break;var H=M.alternate;if(H===null){if(A=M.return,A!==null){N=A;continue}break}if(M.child===H.child){for(H=M.child;H;){if(H===N)return Ge(M),h;if(H===A)return Ge(M),x;H=H.sibling}throw Error(r(188))}if(N.return!==A.return)N=M,A=H;else{for(var se=!1,Ne=M.child;Ne;){if(Ne===N){se=!0,N=M,A=H;break}if(Ne===A){se=!0,A=M,N=H;break}Ne=Ne.sibling}if(!se){for(Ne=H.child;Ne;){if(Ne===N){se=!0,N=H,A=M;break}if(Ne===A){se=!0,A=H,N=M;break}Ne=Ne.sibling}if(!se)throw Error(r(189))}}if(N.alternate!==A)throw Error(r(190))}if(N.tag!==3)throw Error(r(188));return N.stateNode.current===N?h:x}function qe(h){return h=Le(h),h!==null?Be(h):null}function Be(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var x=Be(h);if(x!==null)return x;h=h.sibling}return null}var it=t.unstable_scheduleCallback,gt=t.unstable_cancelCallback,Pt=t.unstable_shouldYield,yt=t.unstable_requestPaint,ot=t.unstable_now,qt=t.unstable_getCurrentPriorityLevel,Vr=t.unstable_ImmediatePriority,Nn=t.unstable_UserBlockingPriority,ls=t.unstable_NormalPriority,So=t.unstable_LowPriority,ha=t.unstable_IdlePriority,ci=null,ms=null;function Qi(h){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(ci,h,void 0,(h.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:Zme,Xme=Math.log,Jme=Math.LN2;function Zme(h){return h>>>=0,h===0?32:31-(Xme(h)/Jme|0)|0}var w1=64,_1=4194304;function $x(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function j1(h,x){var N=h.pendingLanes;if(N===0)return 0;var A=0,M=h.suspendedLanes,H=h.pingedLanes,se=N&268435455;if(se!==0){var Ne=se&~M;Ne!==0?A=$x(Ne):(H&=se,H!==0&&(A=$x(H)))}else se=N&~M,se!==0?A=$x(se):H!==0&&(A=$x(H));if(A===0)return 0;if(x!==0&&x!==A&&(x&M)===0&&(M=A&-A,H=x&-x,M>=H||M===16&&(H&4194240)!==0))return x;if((A&4)!==0&&(A|=N&16),x=h.entangledLanes,x!==0)for(h=h.entanglements,x&=A;0<x;)N=31-Ms(x),M=1<<N,A|=h[N],x&=~M;return A}function Qme(h,x){switch(h){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function epe(h,x){for(var N=h.suspendedLanes,A=h.pingedLanes,M=h.expirationTimes,H=h.pendingLanes;0<H;){var se=31-Ms(H),Ne=1<<se,Te=M[se];Te===-1?((Ne&N)===0||(Ne&A)!==0)&&(M[se]=Qme(Ne,x)):Te<=x&&(h.expiredLanes|=Ne),H&=~Ne}}function wC(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function g8(){var h=w1;return w1<<=1,(w1&4194240)===0&&(w1=64),h}function _C(h){for(var x=[],N=0;31>N;N++)x.push(h);return x}function Bx(h,x,N){h.pendingLanes|=x,x!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,x=31-Ms(x),h[x]=N}function tpe(h,x){var N=h.pendingLanes&~x;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=x,h.mutableReadLanes&=x,h.entangledLanes&=x,x=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<N;){var M=31-Ms(N),H=1<<M;x[M]=0,A[M]=-1,h[M]=-1,N&=~H}}function jC(h,x){var N=h.entangledLanes|=x;for(h=h.entanglements;N;){var A=31-Ms(N),M=1<<A;M&x|h[A]&x&&(h[A]|=x),N&=~M}}var Tn=0;function x8(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var v8,NC,y8,b8,w8,SC=!1,N1=[],_d=null,jd=null,Nd=null,Ux=new Map,Vx=new Map,Sd=[],rpe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _8(h,x){switch(h){case"focusin":case"focusout":_d=null;break;case"dragenter":case"dragleave":jd=null;break;case"mouseover":case"mouseout":Nd=null;break;case"pointerover":case"pointerout":Ux.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vx.delete(x.pointerId)}}function zx(h,x,N,A,M,H){return h===null||h.nativeEvent!==H?(h={blockedOn:x,domEventName:N,eventSystemFlags:A,nativeEvent:H,targetContainers:[M]},x!==null&&(x=nv(x),x!==null&&NC(x)),h):(h.eventSystemFlags|=A,x=h.targetContainers,M!==null&&x.indexOf(M)===-1&&x.push(M),h)}function npe(h,x,N,A,M){switch(x){case"focusin":return _d=zx(_d,h,x,N,A,M),!0;case"dragenter":return jd=zx(jd,h,x,N,A,M),!0;case"mouseover":return Nd=zx(Nd,h,x,N,A,M),!0;case"pointerover":var H=M.pointerId;return Ux.set(H,zx(Ux.get(H)||null,h,x,N,A,M)),!0;case"gotpointercapture":return H=M.pointerId,Vx.set(H,zx(Vx.get(H)||null,h,x,N,A,M)),!0}return!1}function j8(h){var x=xh(h.target);if(x!==null){var N=ve(x);if(N!==null){if(x=N.tag,x===13){if(x=$e(N),x!==null){h.blockedOn=x,w8(h.priority,function(){y8(N)});return}}else if(x===3&&N.stateNode.current.memoizedState.isDehydrated){h.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}h.blockedOn=null}function S1(h){if(h.blockedOn!==null)return!1;for(var x=h.targetContainers;0<x.length;){var N=CC(h.domEventName,h.eventSystemFlags,x[0],h.nativeEvent);if(N===null){N=h.nativeEvent;var A=new N.constructor(N.type,N);lt=A,N.target.dispatchEvent(A),lt=null}else return x=nv(N),x!==null&&NC(x),h.blockedOn=N,!1;x.shift()}return!0}function N8(h,x,N){S1(h)&&N.delete(x)}function spe(){SC=!1,_d!==null&&S1(_d)&&(_d=null),jd!==null&&S1(jd)&&(jd=null),Nd!==null&&S1(Nd)&&(Nd=null),Ux.forEach(N8),Vx.forEach(N8)}function qx(h,x){h.blockedOn===x&&(h.blockedOn=null,SC||(SC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,spe)))}function Wx(h){function x(M){return qx(M,h)}if(0<N1.length){qx(N1[0],h);for(var N=1;N<N1.length;N++){var A=N1[N];A.blockedOn===h&&(A.blockedOn=null)}}for(_d!==null&&qx(_d,h),jd!==null&&qx(jd,h),Nd!==null&&qx(Nd,h),Ux.forEach(x),Vx.forEach(x),N=0;N<Sd.length;N++)A=Sd[N],A.blockedOn===h&&(A.blockedOn=null);for(;0<Sd.length&&(N=Sd[0],N.blockedOn===null);)j8(N),N.blockedOn===null&&Sd.shift()}var _p=C.ReactCurrentBatchConfig,k1=!0;function ape(h,x,N,A){var M=Tn,H=_p.transition;_p.transition=null;try{Tn=1,kC(h,x,N,A)}finally{Tn=M,_p.transition=H}}function ipe(h,x,N,A){var M=Tn,H=_p.transition;_p.transition=null;try{Tn=4,kC(h,x,N,A)}finally{Tn=M,_p.transition=H}}function kC(h,x,N,A){if(k1){var M=CC(h,x,N,A);if(M===null)qC(h,x,A,C1,N),_8(h,A);else if(npe(M,h,x,N,A))A.stopPropagation();else if(_8(h,A),x&4&&-1<rpe.indexOf(h)){for(;M!==null;){var H=nv(M);if(H!==null&&v8(H),H=CC(h,x,N,A),H===null&&qC(h,x,A,C1,N),H===M)break;M=H}M!==null&&A.stopPropagation()}else qC(h,x,A,null,N)}}var C1=null;function CC(h,x,N,A){if(C1=null,h=vt(A),h=xh(h),h!==null)if(x=ve(h),x===null)h=null;else if(N=x.tag,N===13){if(h=$e(x),h!==null)return h;h=null}else if(N===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;h=null}else x!==h&&(h=null);return C1=h,null}function S8(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qt()){case Vr:return 1;case Nn:return 4;case ls:case So:return 16;case ha:return 536870912;default:return 16}default:return 16}}var kd=null,EC=null,E1=null;function k8(){if(E1)return E1;var h,x=EC,N=x.length,A,M="value"in kd?kd.value:kd.textContent,H=M.length;for(h=0;h<N&&x[h]===M[h];h++);var se=N-h;for(A=1;A<=se&&x[N-A]===M[H-A];A++);return E1=M.slice(h,1<A?1-A:void 0)}function T1(h){var x=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&x===13&&(h=13)):h=x,h===10&&(h=13),32<=h||h===13?h:0}function A1(){return!0}function C8(){return!1}function ko(h){function x(N,A,M,H,se){this._reactName=N,this._targetInst=M,this.type=A,this.nativeEvent=H,this.target=se,this.currentTarget=null;for(var Ne in h)h.hasOwnProperty(Ne)&&(N=h[Ne],this[Ne]=N?N(H):H[Ne]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?A1:C8,this.isPropagationStopped=C8,this}return F(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=A1)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=A1)},persist:function(){},isPersistent:A1}),x}var jp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TC=ko(jp),Hx=F({},jp,{view:0,detail:0}),ope=ko(Hx),AC,PC,Gx,P1=F({},Hx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DC,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Gx&&(Gx&&h.type==="mousemove"?(AC=h.screenX-Gx.screenX,PC=h.screenY-Gx.screenY):PC=AC=0,Gx=h),AC)},movementY:function(h){return"movementY"in h?h.movementY:PC}}),E8=ko(P1),lpe=F({},P1,{dataTransfer:0}),cpe=ko(lpe),upe=F({},Hx,{relatedTarget:0}),OC=ko(upe),dpe=F({},jp,{animationName:0,elapsedTime:0,pseudoElement:0}),fpe=ko(dpe),hpe=F({},jp,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),mpe=ko(hpe),ppe=F({},jp,{data:0}),T8=ko(ppe),gpe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xpe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vpe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ype(h){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(h):(h=vpe[h])?!!x[h]:!1}function DC(){return ype}var bpe=F({},Hx,{key:function(h){if(h.key){var x=gpe[h.key]||h.key;if(x!=="Unidentified")return x}return h.type==="keypress"?(h=T1(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?xpe[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DC,charCode:function(h){return h.type==="keypress"?T1(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?T1(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),wpe=ko(bpe),_pe=F({},P1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A8=ko(_pe),jpe=F({},Hx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DC}),Npe=ko(jpe),Spe=F({},jp,{propertyName:0,elapsedTime:0,pseudoElement:0}),kpe=ko(Spe),Cpe=F({},P1,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Epe=ko(Cpe),Tpe=[9,13,27,32],RC=l&&"CompositionEvent"in window,Kx=null;l&&"documentMode"in document&&(Kx=document.documentMode);var Ape=l&&"TextEvent"in window&&!Kx,P8=l&&(!RC||Kx&&8<Kx&&11>=Kx),O8=" ",D8=!1;function R8(h,x){switch(h){case"keyup":return Tpe.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I8(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Np=!1;function Ppe(h,x){switch(h){case"compositionend":return I8(x);case"keypress":return x.which!==32?null:(D8=!0,O8);case"textInput":return h=x.data,h===O8&&D8?null:h;default:return null}}function Ope(h,x){if(Np)return h==="compositionend"||!RC&&R8(h,x)?(h=k8(),E1=EC=kd=null,Np=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return P8&&x.locale!=="ko"?null:x.data;default:return null}}var Dpe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M8(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x==="input"?!!Dpe[h.type]:x==="textarea"}function F8(h,x,N,A){jn(A),x=M1(x,"onChange"),0<x.length&&(N=new TC("onChange","change",null,N,A),h.push({event:N,listeners:x}))}var Yx=null,Xx=null;function Rpe(h){t$(h,0)}function O1(h){var x=Tp(h);if(z(x))return h}function Ipe(h,x){if(h==="change")return x}var L8=!1;if(l){var IC;if(l){var MC="oninput"in document;if(!MC){var $8=document.createElement("div");$8.setAttribute("oninput","return;"),MC=typeof $8.oninput=="function"}IC=MC}else IC=!1;L8=IC&&(!document.documentMode||9<document.documentMode)}function B8(){Yx&&(Yx.detachEvent("onpropertychange",U8),Xx=Yx=null)}function U8(h){if(h.propertyName==="value"&&O1(Xx)){var x=[];F8(x,Xx,h,vt(h)),Rt(Rpe,x)}}function Mpe(h,x,N){h==="focusin"?(B8(),Yx=x,Xx=N,Yx.attachEvent("onpropertychange",U8)):h==="focusout"&&B8()}function Fpe(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return O1(Xx)}function Lpe(h,x){if(h==="click")return O1(x)}function $pe(h,x){if(h==="input"||h==="change")return O1(x)}function Bpe(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var Kl=typeof Object.is=="function"?Object.is:Bpe;function Jx(h,x){if(Kl(h,x))return!0;if(typeof h!="object"||h===null||typeof x!="object"||x===null)return!1;var N=Object.keys(h),A=Object.keys(x);if(N.length!==A.length)return!1;for(A=0;A<N.length;A++){var M=N[A];if(!c.call(x,M)||!Kl(h[M],x[M]))return!1}return!0}function V8(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function z8(h,x){var N=V8(h);h=0;for(var A;N;){if(N.nodeType===3){if(A=h+N.textContent.length,h<=x&&A>=x)return{node:N,offset:x-h};h=A}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=V8(N)}}function q8(h,x){return h&&x?h===x?!0:h&&h.nodeType===3?!1:x&&x.nodeType===3?q8(h,x.parentNode):"contains"in h?h.contains(x):h.compareDocumentPosition?!!(h.compareDocumentPosition(x)&16):!1:!1}function W8(){for(var h=window,x=Se();x instanceof h.HTMLIFrameElement;){try{var N=typeof x.contentWindow.location.href=="string"}catch{N=!1}if(N)h=x.contentWindow;else break;x=Se(h.document)}return x}function FC(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x&&(x==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||x==="textarea"||h.contentEditable==="true")}function Upe(h){var x=W8(),N=h.focusedElem,A=h.selectionRange;if(x!==N&&N&&N.ownerDocument&&q8(N.ownerDocument.documentElement,N)){if(A!==null&&FC(N)){if(x=A.start,h=A.end,h===void 0&&(h=x),"selectionStart"in N)N.selectionStart=x,N.selectionEnd=Math.min(h,N.value.length);else if(h=(x=N.ownerDocument||document)&&x.defaultView||window,h.getSelection){h=h.getSelection();var M=N.textContent.length,H=Math.min(A.start,M);A=A.end===void 0?H:Math.min(A.end,M),!h.extend&&H>A&&(M=A,A=H,H=M),M=z8(N,H);var se=z8(N,A);M&&se&&(h.rangeCount!==1||h.anchorNode!==M.node||h.anchorOffset!==M.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(x=x.createRange(),x.setStart(M.node,M.offset),h.removeAllRanges(),H>A?(h.addRange(x),h.extend(se.node,se.offset)):(x.setEnd(se.node,se.offset),h.addRange(x)))}}for(x=[],h=N;h=h.parentNode;)h.nodeType===1&&x.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<x.length;N++)h=x[N],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Vpe=l&&"documentMode"in document&&11>=document.documentMode,Sp=null,LC=null,Zx=null,$C=!1;function H8(h,x,N){var A=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;$C||Sp==null||Sp!==Se(A)||(A=Sp,"selectionStart"in A&&FC(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Zx&&Jx(Zx,A)||(Zx=A,A=M1(LC,"onSelect"),0<A.length&&(x=new TC("onSelect","select",null,x,N),h.push({event:x,listeners:A}),x.target=Sp)))}function D1(h,x){var N={};return N[h.toLowerCase()]=x.toLowerCase(),N["Webkit"+h]="webkit"+x,N["Moz"+h]="moz"+x,N}var kp={animationend:D1("Animation","AnimationEnd"),animationiteration:D1("Animation","AnimationIteration"),animationstart:D1("Animation","AnimationStart"),transitionend:D1("Transition","TransitionEnd")},BC={},G8={};l&&(G8=document.createElement("div").style,"AnimationEvent"in window||(delete kp.animationend.animation,delete kp.animationiteration.animation,delete kp.animationstart.animation),"TransitionEvent"in window||delete kp.transitionend.transition);function R1(h){if(BC[h])return BC[h];if(!kp[h])return h;var x=kp[h],N;for(N in x)if(x.hasOwnProperty(N)&&N in G8)return BC[h]=x[N];return h}var K8=R1("animationend"),Y8=R1("animationiteration"),X8=R1("animationstart"),J8=R1("transitionend"),Z8=new Map,Q8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cd(h,x){Z8.set(h,x),i(x,[h])}for(var UC=0;UC<Q8.length;UC++){var VC=Q8[UC],zpe=VC.toLowerCase(),qpe=VC[0].toUpperCase()+VC.slice(1);Cd(zpe,"on"+qpe)}Cd(K8,"onAnimationEnd"),Cd(Y8,"onAnimationIteration"),Cd(X8,"onAnimationStart"),Cd("dblclick","onDoubleClick"),Cd("focusin","onFocus"),Cd("focusout","onBlur"),Cd(J8,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wpe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qx));function e$(h,x,N){var A=h.type||"unknown-event";h.currentTarget=N,ye(A,x,void 0,h),h.currentTarget=null}function t$(h,x){x=(x&4)!==0;for(var N=0;N<h.length;N++){var A=h[N],M=A.event;A=A.listeners;e:{var H=void 0;if(x)for(var se=A.length-1;0<=se;se--){var Ne=A[se],Te=Ne.instance,Ye=Ne.currentTarget;if(Ne=Ne.listener,Te!==H&&M.isPropagationStopped())break e;e$(M,Ne,Ye),H=Te}else for(se=0;se<A.length;se++){if(Ne=A[se],Te=Ne.instance,Ye=Ne.currentTarget,Ne=Ne.listener,Te!==H&&M.isPropagationStopped())break e;e$(M,Ne,Ye),H=Te}}}if(ne)throw h=xe,ne=!1,xe=null,h}function ts(h,x){var N=x[XC];N===void 0&&(N=x[XC]=new Set);var A=h+"__bubble";N.has(A)||(r$(x,h,2,!1),N.add(A))}function zC(h,x,N){var A=0;x&&(A|=4),r$(N,h,A,x)}var I1="_reactListening"+Math.random().toString(36).slice(2);function ev(h){if(!h[I1]){h[I1]=!0,n.forEach(function(N){N!=="selectionchange"&&(Wpe.has(N)||zC(N,!1,h),zC(N,!0,h))});var x=h.nodeType===9?h:h.ownerDocument;x===null||x[I1]||(x[I1]=!0,zC("selectionchange",!1,x))}}function r$(h,x,N,A){switch(S8(x)){case 1:var M=ape;break;case 4:M=ipe;break;default:M=kC}N=M.bind(null,x,N,h),M=void 0,!bt||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(M=!0),A?M!==void 0?h.addEventListener(x,N,{capture:!0,passive:M}):h.addEventListener(x,N,!0):M!==void 0?h.addEventListener(x,N,{passive:M}):h.addEventListener(x,N,!1)}function qC(h,x,N,A,M){var H=A;if((x&1)===0&&(x&2)===0&&A!==null)e:for(;;){if(A===null)return;var se=A.tag;if(se===3||se===4){var Ne=A.stateNode.containerInfo;if(Ne===M||Ne.nodeType===8&&Ne.parentNode===M)break;if(se===4)for(se=A.return;se!==null;){var Te=se.tag;if((Te===3||Te===4)&&(Te=se.stateNode.containerInfo,Te===M||Te.nodeType===8&&Te.parentNode===M))return;se=se.return}for(;Ne!==null;){if(se=xh(Ne),se===null)return;if(Te=se.tag,Te===5||Te===6){A=H=se;continue e}Ne=Ne.parentNode}}A=A.return}Rt(function(){var Ye=H,pt=vt(N),xt=[];e:{var ht=Z8.get(h);if(ht!==void 0){var Mt=TC,Ht=h;switch(h){case"keypress":if(T1(N)===0)break e;case"keydown":case"keyup":Mt=wpe;break;case"focusin":Ht="focus",Mt=OC;break;case"focusout":Ht="blur",Mt=OC;break;case"beforeblur":case"afterblur":Mt=OC;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=E8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=cpe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Npe;break;case K8:case Y8:case X8:Mt=fpe;break;case J8:Mt=kpe;break;case"scroll":Mt=ope;break;case"wheel":Mt=Epe;break;case"copy":case"cut":case"paste":Mt=mpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=A8}var Kt=(x&4)!==0,Fs=!Kt&&h==="scroll",ze=Kt?ht!==null?ht+"Capture":null:ht;Kt=[];for(var De=Ye,We;De!==null;){We=De;var Nt=We.stateNode;if(We.tag===5&&Nt!==null&&(We=Nt,ze!==null&&(Nt=or(De,ze),Nt!=null&&Kt.push(tv(De,Nt,We)))),Fs)break;De=De.return}0<Kt.length&&(ht=new Mt(ht,Ht,null,N,pt),xt.push({event:ht,listeners:Kt}))}}if((x&7)===0){e:{if(ht=h==="mouseover"||h==="pointerover",Mt=h==="mouseout"||h==="pointerout",ht&&N!==lt&&(Ht=N.relatedTarget||N.fromElement)&&(xh(Ht)||Ht[Su]))break e;if((Mt||ht)&&(ht=pt.window===pt?pt:(ht=pt.ownerDocument)?ht.defaultView||ht.parentWindow:window,Mt?(Ht=N.relatedTarget||N.toElement,Mt=Ye,Ht=Ht?xh(Ht):null,Ht!==null&&(Fs=ve(Ht),Ht!==Fs||Ht.tag!==5&&Ht.tag!==6)&&(Ht=null)):(Mt=null,Ht=Ye),Mt!==Ht)){if(Kt=E8,Nt="onMouseLeave",ze="onMouseEnter",De="mouse",(h==="pointerout"||h==="pointerover")&&(Kt=A8,Nt="onPointerLeave",ze="onPointerEnter",De="pointer"),Fs=Mt==null?ht:Tp(Mt),We=Ht==null?ht:Tp(Ht),ht=new Kt(Nt,De+"leave",Mt,N,pt),ht.target=Fs,ht.relatedTarget=We,Nt=null,xh(pt)===Ye&&(Kt=new Kt(ze,De+"enter",Ht,N,pt),Kt.target=We,Kt.relatedTarget=Fs,Nt=Kt),Fs=Nt,Mt&&Ht)t:{for(Kt=Mt,ze=Ht,De=0,We=Kt;We;We=Cp(We))De++;for(We=0,Nt=ze;Nt;Nt=Cp(Nt))We++;for(;0<De-We;)Kt=Cp(Kt),De--;for(;0<We-De;)ze=Cp(ze),We--;for(;De--;){if(Kt===ze||ze!==null&&Kt===ze.alternate)break t;Kt=Cp(Kt),ze=Cp(ze)}Kt=null}else Kt=null;Mt!==null&&n$(xt,ht,Mt,Kt,!1),Ht!==null&&Fs!==null&&n$(xt,Fs,Ht,Kt,!0)}}e:{if(ht=Ye?Tp(Ye):window,Mt=ht.nodeName&&ht.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&ht.type==="file")var Xt=Ipe;else if(M8(ht))if(L8)Xt=$pe;else{Xt=Fpe;var lr=Mpe}else(Mt=ht.nodeName)&&Mt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Xt=Lpe);if(Xt&&(Xt=Xt(h,Ye))){F8(xt,Xt,N,pt);break e}lr&&lr(h,ht,Ye),h==="focusout"&&(lr=ht._wrapperState)&&lr.controlled&&ht.type==="number"&&He(ht,"number",ht.value)}switch(lr=Ye?Tp(Ye):window,h){case"focusin":(M8(lr)||lr.contentEditable==="true")&&(Sp=lr,LC=Ye,Zx=null);break;case"focusout":Zx=LC=Sp=null;break;case"mousedown":$C=!0;break;case"contextmenu":case"mouseup":case"dragend":$C=!1,H8(xt,N,pt);break;case"selectionchange":if(Vpe)break;case"keydown":case"keyup":H8(xt,N,pt)}var cr;if(RC)e:{switch(h){case"compositionstart":var kr="onCompositionStart";break e;case"compositionend":kr="onCompositionEnd";break e;case"compositionupdate":kr="onCompositionUpdate";break e}kr=void 0}else Np?R8(h,N)&&(kr="onCompositionEnd"):h==="keydown"&&N.keyCode===229&&(kr="onCompositionStart");kr&&(P8&&N.locale!=="ko"&&(Np||kr!=="onCompositionStart"?kr==="onCompositionEnd"&&Np&&(cr=k8()):(kd=pt,EC="value"in kd?kd.value:kd.textContent,Np=!0)),lr=M1(Ye,kr),0<lr.length&&(kr=new T8(kr,h,null,N,pt),xt.push({event:kr,listeners:lr}),cr?kr.data=cr:(cr=I8(N),cr!==null&&(kr.data=cr)))),(cr=Ape?Ppe(h,N):Ope(h,N))&&(Ye=M1(Ye,"onBeforeInput"),0<Ye.length&&(pt=new T8("onBeforeInput","beforeinput",null,N,pt),xt.push({event:pt,listeners:Ye}),pt.data=cr))}t$(xt,x)})}function tv(h,x,N){return{instance:h,listener:x,currentTarget:N}}function M1(h,x){for(var N=x+"Capture",A=[];h!==null;){var M=h,H=M.stateNode;M.tag===5&&H!==null&&(M=H,H=or(h,N),H!=null&&A.unshift(tv(h,H,M)),H=or(h,x),H!=null&&A.push(tv(h,H,M))),h=h.return}return A}function Cp(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function n$(h,x,N,A,M){for(var H=x._reactName,se=[];N!==null&&N!==A;){var Ne=N,Te=Ne.alternate,Ye=Ne.stateNode;if(Te!==null&&Te===A)break;Ne.tag===5&&Ye!==null&&(Ne=Ye,M?(Te=or(N,H),Te!=null&&se.unshift(tv(N,Te,Ne))):M||(Te=or(N,H),Te!=null&&se.push(tv(N,Te,Ne)))),N=N.return}se.length!==0&&h.push({event:x,listeners:se})}var Hpe=/\r\n?/g,Gpe=/\u0000|\uFFFD/g;function s$(h){return(typeof h=="string"?h:""+h).replace(Hpe,`
`).replace(Gpe,"")}function F1(h,x,N){if(x=s$(x),s$(h)!==x&&N)throw Error(r(425))}function L1(){}var WC=null,HC=null;function GC(h,x){return h==="textarea"||h==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var KC=typeof setTimeout=="function"?setTimeout:void 0,Kpe=typeof clearTimeout=="function"?clearTimeout:void 0,a$=typeof Promise=="function"?Promise:void 0,Ype=typeof queueMicrotask=="function"?queueMicrotask:typeof a$<"u"?function(h){return a$.resolve(null).then(h).catch(Xpe)}:KC;function Xpe(h){setTimeout(function(){throw h})}function YC(h,x){var N=x,A=0;do{var M=N.nextSibling;if(h.removeChild(N),M&&M.nodeType===8)if(N=M.data,N==="/$"){if(A===0){h.removeChild(M),Wx(x);return}A--}else N!=="$"&&N!=="$?"&&N!=="$!"||A++;N=M}while(N);Wx(x)}function Ed(h){for(;h!=null;h=h.nextSibling){var x=h.nodeType;if(x===1||x===3)break;if(x===8){if(x=h.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return h}function i$(h){h=h.previousSibling;for(var x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="$"||N==="$!"||N==="$?"){if(x===0)return h;x--}else N==="/$"&&x++}h=h.previousSibling}return null}var Ep=Math.random().toString(36).slice(2),Oc="__reactFiber$"+Ep,rv="__reactProps$"+Ep,Su="__reactContainer$"+Ep,XC="__reactEvents$"+Ep,Jpe="__reactListeners$"+Ep,Zpe="__reactHandles$"+Ep;function xh(h){var x=h[Oc];if(x)return x;for(var N=h.parentNode;N;){if(x=N[Su]||N[Oc]){if(N=x.alternate,x.child!==null||N!==null&&N.child!==null)for(h=i$(h);h!==null;){if(N=h[Oc])return N;h=i$(h)}return x}h=N,N=h.parentNode}return null}function nv(h){return h=h[Oc]||h[Su],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Tp(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function $1(h){return h[rv]||null}var JC=[],Ap=-1;function Td(h){return{current:h}}function rs(h){0>Ap||(h.current=JC[Ap],JC[Ap]=null,Ap--)}function Gn(h,x){Ap++,JC[Ap]=h.current,h.current=x}var Ad={},ui=Td(Ad),eo=Td(!1),vh=Ad;function Pp(h,x){var N=h.type.contextTypes;if(!N)return Ad;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===x)return A.__reactInternalMemoizedMaskedChildContext;var M={},H;for(H in N)M[H]=x[H];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=x,h.__reactInternalMemoizedMaskedChildContext=M),M}function to(h){return h=h.childContextTypes,h!=null}function B1(){rs(eo),rs(ui)}function o$(h,x,N){if(ui.current!==Ad)throw Error(r(168));Gn(ui,x),Gn(eo,N)}function l$(h,x,N){var A=h.stateNode;if(x=x.childContextTypes,typeof A.getChildContext!="function")return N;A=A.getChildContext();for(var M in A)if(!(M in x))throw Error(r(108,de(h)||"Unknown",M));return F({},N,A)}function U1(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ad,vh=ui.current,Gn(ui,h),Gn(eo,eo.current),!0}function c$(h,x,N){var A=h.stateNode;if(!A)throw Error(r(169));N?(h=l$(h,x,vh),A.__reactInternalMemoizedMergedChildContext=h,rs(eo),rs(ui),Gn(ui,h)):rs(eo),Gn(eo,N)}var ku=null,V1=!1,ZC=!1;function u$(h){ku===null?ku=[h]:ku.push(h)}function Qpe(h){V1=!0,u$(h)}function Pd(){if(!ZC&&ku!==null){ZC=!0;var h=0,x=Tn;try{var N=ku;for(Tn=1;h<N.length;h++){var A=N[h];do A=A(!0);while(A!==null)}ku=null,V1=!1}catch(M){throw ku!==null&&(ku=ku.slice(h+1)),it(Vr,Pd),M}finally{Tn=x,ZC=!1}}return null}var Op=[],Dp=0,z1=null,q1=0,ol=[],ll=0,yh=null,Cu=1,Eu="";function bh(h,x){Op[Dp++]=q1,Op[Dp++]=z1,z1=h,q1=x}function d$(h,x,N){ol[ll++]=Cu,ol[ll++]=Eu,ol[ll++]=yh,yh=h;var A=Cu;h=Eu;var M=32-Ms(A)-1;A&=~(1<<M),N+=1;var H=32-Ms(x)+M;if(30<H){var se=M-M%5;H=(A&(1<<se)-1).toString(32),A>>=se,M-=se,Cu=1<<32-Ms(x)+M|N<<M|A,Eu=H+h}else Cu=1<<H|N<<M|A,Eu=h}function QC(h){h.return!==null&&(bh(h,1),d$(h,1,0))}function eE(h){for(;h===z1;)z1=Op[--Dp],Op[Dp]=null,q1=Op[--Dp],Op[Dp]=null;for(;h===yh;)yh=ol[--ll],ol[ll]=null,Eu=ol[--ll],ol[ll]=null,Cu=ol[--ll],ol[ll]=null}var Co=null,Eo=null,cs=!1,Yl=null;function f$(h,x){var N=fl(5,null,null,0);N.elementType="DELETED",N.stateNode=x,N.return=h,x=h.deletions,x===null?(h.deletions=[N],h.flags|=16):x.push(N)}function h$(h,x){switch(h.tag){case 5:var N=h.type;return x=x.nodeType!==1||N.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(h.stateNode=x,Co=h,Eo=Ed(x.firstChild),!0):!1;case 6:return x=h.pendingProps===""||x.nodeType!==3?null:x,x!==null?(h.stateNode=x,Co=h,Eo=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(N=yh!==null?{id:Cu,overflow:Eu}:null,h.memoizedState={dehydrated:x,treeContext:N,retryLane:1073741824},N=fl(18,null,null,0),N.stateNode=x,N.return=h,h.child=N,Co=h,Eo=null,!0):!1;default:return!1}}function tE(h){return(h.mode&1)!==0&&(h.flags&128)===0}function rE(h){if(cs){var x=Eo;if(x){var N=x;if(!h$(h,x)){if(tE(h))throw Error(r(418));x=Ed(N.nextSibling);var A=Co;x&&h$(h,x)?f$(A,N):(h.flags=h.flags&-4097|2,cs=!1,Co=h)}}else{if(tE(h))throw Error(r(418));h.flags=h.flags&-4097|2,cs=!1,Co=h}}}function m$(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Co=h}function W1(h){if(h!==Co)return!1;if(!cs)return m$(h),cs=!0,!1;var x;if((x=h.tag!==3)&&!(x=h.tag!==5)&&(x=h.type,x=x!=="head"&&x!=="body"&&!GC(h.type,h.memoizedProps)),x&&(x=Eo)){if(tE(h))throw p$(),Error(r(418));for(;x;)f$(h,x),x=Ed(x.nextSibling)}if(m$(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="/$"){if(x===0){Eo=Ed(h.nextSibling);break e}x--}else N!=="$"&&N!=="$!"&&N!=="$?"||x++}h=h.nextSibling}Eo=null}}else Eo=Co?Ed(h.stateNode.nextSibling):null;return!0}function p$(){for(var h=Eo;h;)h=Ed(h.nextSibling)}function Rp(){Eo=Co=null,cs=!1}function nE(h){Yl===null?Yl=[h]:Yl.push(h)}var ege=C.ReactCurrentBatchConfig;function sv(h,x,N){if(h=N.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(r(309));var A=N.stateNode}if(!A)throw Error(r(147,h));var M=A,H=""+h;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===H?x.ref:(x=function(se){var Ne=M.refs;se===null?delete Ne[H]:Ne[H]=se},x._stringRef=H,x)}if(typeof h!="string")throw Error(r(284));if(!N._owner)throw Error(r(290,h))}return h}function H1(h,x){throw h=Object.prototype.toString.call(x),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":h))}function g$(h){var x=h._init;return x(h._payload)}function x$(h){function x(ze,De){if(h){var We=ze.deletions;We===null?(ze.deletions=[De],ze.flags|=16):We.push(De)}}function N(ze,De){if(!h)return null;for(;De!==null;)x(ze,De),De=De.sibling;return null}function A(ze,De){for(ze=new Map;De!==null;)De.key!==null?ze.set(De.key,De):ze.set(De.index,De),De=De.sibling;return ze}function M(ze,De){return ze=$d(ze,De),ze.index=0,ze.sibling=null,ze}function H(ze,De,We){return ze.index=We,h?(We=ze.alternate,We!==null?(We=We.index,We<De?(ze.flags|=2,De):We):(ze.flags|=2,De)):(ze.flags|=1048576,De)}function se(ze){return h&&ze.alternate===null&&(ze.flags|=2),ze}function Ne(ze,De,We,Nt){return De===null||De.tag!==6?(De=KE(We,ze.mode,Nt),De.return=ze,De):(De=M(De,We),De.return=ze,De)}function Te(ze,De,We,Nt){var Xt=We.type;return Xt===E?pt(ze,De,We.props.children,Nt,We.key):De!==null&&(De.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===q&&g$(Xt)===De.type)?(Nt=M(De,We.props),Nt.ref=sv(ze,De,We),Nt.return=ze,Nt):(Nt=g_(We.type,We.key,We.props,null,ze.mode,Nt),Nt.ref=sv(ze,De,We),Nt.return=ze,Nt)}function Ye(ze,De,We,Nt){return De===null||De.tag!==4||De.stateNode.containerInfo!==We.containerInfo||De.stateNode.implementation!==We.implementation?(De=YE(We,ze.mode,Nt),De.return=ze,De):(De=M(De,We.children||[]),De.return=ze,De)}function pt(ze,De,We,Nt,Xt){return De===null||De.tag!==7?(De=Eh(We,ze.mode,Nt,Xt),De.return=ze,De):(De=M(De,We),De.return=ze,De)}function xt(ze,De,We){if(typeof De=="string"&&De!==""||typeof De=="number")return De=KE(""+De,ze.mode,We),De.return=ze,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case S:return We=g_(De.type,De.key,De.props,null,ze.mode,We),We.ref=sv(ze,null,De),We.return=ze,We;case k:return De=YE(De,ze.mode,We),De.return=ze,De;case q:var Nt=De._init;return xt(ze,Nt(De._payload),We)}if(le(De)||U(De))return De=Eh(De,ze.mode,We,null),De.return=ze,De;H1(ze,De)}return null}function ht(ze,De,We,Nt){var Xt=De!==null?De.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Xt!==null?null:Ne(ze,De,""+We,Nt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case S:return We.key===Xt?Te(ze,De,We,Nt):null;case k:return We.key===Xt?Ye(ze,De,We,Nt):null;case q:return Xt=We._init,ht(ze,De,Xt(We._payload),Nt)}if(le(We)||U(We))return Xt!==null?null:pt(ze,De,We,Nt,null);H1(ze,We)}return null}function Mt(ze,De,We,Nt,Xt){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return ze=ze.get(We)||null,Ne(De,ze,""+Nt,Xt);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case S:return ze=ze.get(Nt.key===null?We:Nt.key)||null,Te(De,ze,Nt,Xt);case k:return ze=ze.get(Nt.key===null?We:Nt.key)||null,Ye(De,ze,Nt,Xt);case q:var lr=Nt._init;return Mt(ze,De,We,lr(Nt._payload),Xt)}if(le(Nt)||U(Nt))return ze=ze.get(We)||null,pt(De,ze,Nt,Xt,null);H1(De,Nt)}return null}function Ht(ze,De,We,Nt){for(var Xt=null,lr=null,cr=De,kr=De=0,Ia=null;cr!==null&&kr<We.length;kr++){cr.index>kr?(Ia=cr,cr=null):Ia=cr.sibling;var mn=ht(ze,cr,We[kr],Nt);if(mn===null){cr===null&&(cr=Ia);break}h&&cr&&mn.alternate===null&&x(ze,cr),De=H(mn,De,kr),lr===null?Xt=mn:lr.sibling=mn,lr=mn,cr=Ia}if(kr===We.length)return N(ze,cr),cs&&bh(ze,kr),Xt;if(cr===null){for(;kr<We.length;kr++)cr=xt(ze,We[kr],Nt),cr!==null&&(De=H(cr,De,kr),lr===null?Xt=cr:lr.sibling=cr,lr=cr);return cs&&bh(ze,kr),Xt}for(cr=A(ze,cr);kr<We.length;kr++)Ia=Mt(cr,ze,kr,We[kr],Nt),Ia!==null&&(h&&Ia.alternate!==null&&cr.delete(Ia.key===null?kr:Ia.key),De=H(Ia,De,kr),lr===null?Xt=Ia:lr.sibling=Ia,lr=Ia);return h&&cr.forEach(function(Bd){return x(ze,Bd)}),cs&&bh(ze,kr),Xt}function Kt(ze,De,We,Nt){var Xt=U(We);if(typeof Xt!="function")throw Error(r(150));if(We=Xt.call(We),We==null)throw Error(r(151));for(var lr=Xt=null,cr=De,kr=De=0,Ia=null,mn=We.next();cr!==null&&!mn.done;kr++,mn=We.next()){cr.index>kr?(Ia=cr,cr=null):Ia=cr.sibling;var Bd=ht(ze,cr,mn.value,Nt);if(Bd===null){cr===null&&(cr=Ia);break}h&&cr&&Bd.alternate===null&&x(ze,cr),De=H(Bd,De,kr),lr===null?Xt=Bd:lr.sibling=Bd,lr=Bd,cr=Ia}if(mn.done)return N(ze,cr),cs&&bh(ze,kr),Xt;if(cr===null){for(;!mn.done;kr++,mn=We.next())mn=xt(ze,mn.value,Nt),mn!==null&&(De=H(mn,De,kr),lr===null?Xt=mn:lr.sibling=mn,lr=mn);return cs&&bh(ze,kr),Xt}for(cr=A(ze,cr);!mn.done;kr++,mn=We.next())mn=Mt(cr,ze,kr,mn.value,Nt),mn!==null&&(h&&mn.alternate!==null&&cr.delete(mn.key===null?kr:mn.key),De=H(mn,De,kr),lr===null?Xt=mn:lr.sibling=mn,lr=mn);return h&&cr.forEach(function(Dge){return x(ze,Dge)}),cs&&bh(ze,kr),Xt}function Fs(ze,De,We,Nt){if(typeof We=="object"&&We!==null&&We.type===E&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case S:e:{for(var Xt=We.key,lr=De;lr!==null;){if(lr.key===Xt){if(Xt=We.type,Xt===E){if(lr.tag===7){N(ze,lr.sibling),De=M(lr,We.props.children),De.return=ze,ze=De;break e}}else if(lr.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===q&&g$(Xt)===lr.type){N(ze,lr.sibling),De=M(lr,We.props),De.ref=sv(ze,lr,We),De.return=ze,ze=De;break e}N(ze,lr);break}else x(ze,lr);lr=lr.sibling}We.type===E?(De=Eh(We.props.children,ze.mode,Nt,We.key),De.return=ze,ze=De):(Nt=g_(We.type,We.key,We.props,null,ze.mode,Nt),Nt.ref=sv(ze,De,We),Nt.return=ze,ze=Nt)}return se(ze);case k:e:{for(lr=We.key;De!==null;){if(De.key===lr)if(De.tag===4&&De.stateNode.containerInfo===We.containerInfo&&De.stateNode.implementation===We.implementation){N(ze,De.sibling),De=M(De,We.children||[]),De.return=ze,ze=De;break e}else{N(ze,De);break}else x(ze,De);De=De.sibling}De=YE(We,ze.mode,Nt),De.return=ze,ze=De}return se(ze);case q:return lr=We._init,Fs(ze,De,lr(We._payload),Nt)}if(le(We))return Ht(ze,De,We,Nt);if(U(We))return Kt(ze,De,We,Nt);H1(ze,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,De!==null&&De.tag===6?(N(ze,De.sibling),De=M(De,We),De.return=ze,ze=De):(N(ze,De),De=KE(We,ze.mode,Nt),De.return=ze,ze=De),se(ze)):N(ze,De)}return Fs}var Ip=x$(!0),v$=x$(!1),G1=Td(null),K1=null,Mp=null,sE=null;function aE(){sE=Mp=K1=null}function iE(h){var x=G1.current;rs(G1),h._currentValue=x}function oE(h,x,N){for(;h!==null;){var A=h.alternate;if((h.childLanes&x)!==x?(h.childLanes|=x,A!==null&&(A.childLanes|=x)):A!==null&&(A.childLanes&x)!==x&&(A.childLanes|=x),h===N)break;h=h.return}}function Fp(h,x){K1=h,sE=Mp=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&x)!==0&&(ro=!0),h.firstContext=null)}function cl(h){var x=h._currentValue;if(sE!==h)if(h={context:h,memoizedValue:x,next:null},Mp===null){if(K1===null)throw Error(r(308));Mp=h,K1.dependencies={lanes:0,firstContext:h}}else Mp=Mp.next=h;return x}var wh=null;function lE(h){wh===null?wh=[h]:wh.push(h)}function y$(h,x,N,A){var M=x.interleaved;return M===null?(N.next=N,lE(x)):(N.next=M.next,M.next=N),x.interleaved=N,Tu(h,A)}function Tu(h,x){h.lanes|=x;var N=h.alternate;for(N!==null&&(N.lanes|=x),N=h,h=h.return;h!==null;)h.childLanes|=x,N=h.alternate,N!==null&&(N.childLanes|=x),N=h,h=h.return;return N.tag===3?N.stateNode:null}var Od=!1;function cE(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b$(h,x){h=h.updateQueue,x.updateQueue===h&&(x.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Au(h,x){return{eventTime:h,lane:x,tag:0,payload:null,callback:null,next:null}}function Dd(h,x,N){var A=h.updateQueue;if(A===null)return null;if(A=A.shared,(ln&2)!==0){var M=A.pending;return M===null?x.next=x:(x.next=M.next,M.next=x),A.pending=x,Tu(h,N)}return M=A.interleaved,M===null?(x.next=x,lE(A)):(x.next=M.next,M.next=x),A.interleaved=x,Tu(h,N)}function Y1(h,x,N){if(x=x.updateQueue,x!==null&&(x=x.shared,(N&4194240)!==0)){var A=x.lanes;A&=h.pendingLanes,N|=A,x.lanes=N,jC(h,N)}}function w$(h,x){var N=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,N===A)){var M=null,H=null;if(N=N.firstBaseUpdate,N!==null){do{var se={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};H===null?M=H=se:H=H.next=se,N=N.next}while(N!==null);H===null?M=H=x:H=H.next=x}else M=H=x;N={baseState:A.baseState,firstBaseUpdate:M,lastBaseUpdate:H,shared:A.shared,effects:A.effects},h.updateQueue=N;return}h=N.lastBaseUpdate,h===null?N.firstBaseUpdate=x:h.next=x,N.lastBaseUpdate=x}function X1(h,x,N,A){var M=h.updateQueue;Od=!1;var H=M.firstBaseUpdate,se=M.lastBaseUpdate,Ne=M.shared.pending;if(Ne!==null){M.shared.pending=null;var Te=Ne,Ye=Te.next;Te.next=null,se===null?H=Ye:se.next=Ye,se=Te;var pt=h.alternate;pt!==null&&(pt=pt.updateQueue,Ne=pt.lastBaseUpdate,Ne!==se&&(Ne===null?pt.firstBaseUpdate=Ye:Ne.next=Ye,pt.lastBaseUpdate=Te))}if(H!==null){var xt=M.baseState;se=0,pt=Ye=Te=null,Ne=H;do{var ht=Ne.lane,Mt=Ne.eventTime;if((A&ht)===ht){pt!==null&&(pt=pt.next={eventTime:Mt,lane:0,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null});e:{var Ht=h,Kt=Ne;switch(ht=x,Mt=N,Kt.tag){case 1:if(Ht=Kt.payload,typeof Ht=="function"){xt=Ht.call(Mt,xt,ht);break e}xt=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Kt.payload,ht=typeof Ht=="function"?Ht.call(Mt,xt,ht):Ht,ht==null)break e;xt=F({},xt,ht);break e;case 2:Od=!0}}Ne.callback!==null&&Ne.lane!==0&&(h.flags|=64,ht=M.effects,ht===null?M.effects=[Ne]:ht.push(Ne))}else Mt={eventTime:Mt,lane:ht,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},pt===null?(Ye=pt=Mt,Te=xt):pt=pt.next=Mt,se|=ht;if(Ne=Ne.next,Ne===null){if(Ne=M.shared.pending,Ne===null)break;ht=Ne,Ne=ht.next,ht.next=null,M.lastBaseUpdate=ht,M.shared.pending=null}}while(!0);if(pt===null&&(Te=xt),M.baseState=Te,M.firstBaseUpdate=Ye,M.lastBaseUpdate=pt,x=M.shared.interleaved,x!==null){M=x;do se|=M.lane,M=M.next;while(M!==x)}else H===null&&(M.shared.lanes=0);Nh|=se,h.lanes=se,h.memoizedState=xt}}function _$(h,x,N){if(h=x.effects,x.effects=null,h!==null)for(x=0;x<h.length;x++){var A=h[x],M=A.callback;if(M!==null){if(A.callback=null,A=N,typeof M!="function")throw Error(r(191,M));M.call(A)}}}var av={},Dc=Td(av),iv=Td(av),ov=Td(av);function _h(h){if(h===av)throw Error(r(174));return h}function uE(h,x){switch(Gn(ov,x),Gn(iv,h),Gn(Dc,av),h=x.nodeType,h){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:we(null,"");break;default:h=h===8?x.parentNode:x,x=h.namespaceURI||null,h=h.tagName,x=we(x,h)}rs(Dc),Gn(Dc,x)}function Lp(){rs(Dc),rs(iv),rs(ov)}function j$(h){_h(ov.current);var x=_h(Dc.current),N=we(x,h.type);x!==N&&(Gn(iv,h),Gn(Dc,N))}function dE(h){iv.current===h&&(rs(Dc),rs(iv))}var ps=Td(0);function J1(h){for(var x=h;x!==null;){if(x.tag===13){var N=x.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var fE=[];function hE(){for(var h=0;h<fE.length;h++)fE[h]._workInProgressVersionPrimary=null;fE.length=0}var Z1=C.ReactCurrentDispatcher,mE=C.ReactCurrentBatchConfig,jh=0,gs=null,ma=null,Da=null,Q1=!1,lv=!1,cv=0,tge=0;function di(){throw Error(r(321))}function pE(h,x){if(x===null)return!1;for(var N=0;N<x.length&&N<h.length;N++)if(!Kl(h[N],x[N]))return!1;return!0}function gE(h,x,N,A,M,H){if(jh=H,gs=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,Z1.current=h===null||h.memoizedState===null?age:ige,h=N(A,M),lv){H=0;do{if(lv=!1,cv=0,25<=H)throw Error(r(301));H+=1,Da=ma=null,x.updateQueue=null,Z1.current=oge,h=N(A,M)}while(lv)}if(Z1.current=r_,x=ma!==null&&ma.next!==null,jh=0,Da=ma=gs=null,Q1=!1,x)throw Error(r(300));return h}function xE(){var h=cv!==0;return cv=0,h}function Rc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Da===null?gs.memoizedState=Da=h:Da=Da.next=h,Da}function ul(){if(ma===null){var h=gs.alternate;h=h!==null?h.memoizedState:null}else h=ma.next;var x=Da===null?gs.memoizedState:Da.next;if(x!==null)Da=x,ma=h;else{if(h===null)throw Error(r(310));ma=h,h={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},Da===null?gs.memoizedState=Da=h:Da=Da.next=h}return Da}function uv(h,x){return typeof x=="function"?x(h):x}function vE(h){var x=ul(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var A=ma,M=A.baseQueue,H=N.pending;if(H!==null){if(M!==null){var se=M.next;M.next=H.next,H.next=se}A.baseQueue=M=H,N.pending=null}if(M!==null){H=M.next,A=A.baseState;var Ne=se=null,Te=null,Ye=H;do{var pt=Ye.lane;if((jh&pt)===pt)Te!==null&&(Te=Te.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),A=Ye.hasEagerState?Ye.eagerState:h(A,Ye.action);else{var xt={lane:pt,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};Te===null?(Ne=Te=xt,se=A):Te=Te.next=xt,gs.lanes|=pt,Nh|=pt}Ye=Ye.next}while(Ye!==null&&Ye!==H);Te===null?se=A:Te.next=Ne,Kl(A,x.memoizedState)||(ro=!0),x.memoizedState=A,x.baseState=se,x.baseQueue=Te,N.lastRenderedState=A}if(h=N.interleaved,h!==null){M=h;do H=M.lane,gs.lanes|=H,Nh|=H,M=M.next;while(M!==h)}else M===null&&(N.lanes=0);return[x.memoizedState,N.dispatch]}function yE(h){var x=ul(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var A=N.dispatch,M=N.pending,H=x.memoizedState;if(M!==null){N.pending=null;var se=M=M.next;do H=h(H,se.action),se=se.next;while(se!==M);Kl(H,x.memoizedState)||(ro=!0),x.memoizedState=H,x.baseQueue===null&&(x.baseState=H),N.lastRenderedState=H}return[H,A]}function N$(){}function S$(h,x){var N=gs,A=ul(),M=x(),H=!Kl(A.memoizedState,M);if(H&&(A.memoizedState=M,ro=!0),A=A.queue,bE(E$.bind(null,N,A,h),[h]),A.getSnapshot!==x||H||Da!==null&&Da.memoizedState.tag&1){if(N.flags|=2048,dv(9,C$.bind(null,N,A,M,x),void 0,null),Ra===null)throw Error(r(349));(jh&30)!==0||k$(N,x,M)}return M}function k$(h,x,N){h.flags|=16384,h={getSnapshot:x,value:N},x=gs.updateQueue,x===null?(x={lastEffect:null,stores:null},gs.updateQueue=x,x.stores=[h]):(N=x.stores,N===null?x.stores=[h]:N.push(h))}function C$(h,x,N,A){x.value=N,x.getSnapshot=A,T$(x)&&A$(h)}function E$(h,x,N){return N(function(){T$(x)&&A$(h)})}function T$(h){var x=h.getSnapshot;h=h.value;try{var N=x();return!Kl(h,N)}catch{return!0}}function A$(h){var x=Tu(h,1);x!==null&&Ql(x,h,1,-1)}function P$(h){var x=Rc();return typeof h=="function"&&(h=h()),x.memoizedState=x.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:h},x.queue=h,h=h.dispatch=sge.bind(null,gs,h),[x.memoizedState,h]}function dv(h,x,N,A){return h={tag:h,create:x,destroy:N,deps:A,next:null},x=gs.updateQueue,x===null?(x={lastEffect:null,stores:null},gs.updateQueue=x,x.lastEffect=h.next=h):(N=x.lastEffect,N===null?x.lastEffect=h.next=h:(A=N.next,N.next=h,h.next=A,x.lastEffect=h)),h}function O$(){return ul().memoizedState}function e_(h,x,N,A){var M=Rc();gs.flags|=h,M.memoizedState=dv(1|x,N,void 0,A===void 0?null:A)}function t_(h,x,N,A){var M=ul();A=A===void 0?null:A;var H=void 0;if(ma!==null){var se=ma.memoizedState;if(H=se.destroy,A!==null&&pE(A,se.deps)){M.memoizedState=dv(x,N,H,A);return}}gs.flags|=h,M.memoizedState=dv(1|x,N,H,A)}function D$(h,x){return e_(8390656,8,h,x)}function bE(h,x){return t_(2048,8,h,x)}function R$(h,x){return t_(4,2,h,x)}function I$(h,x){return t_(4,4,h,x)}function M$(h,x){if(typeof x=="function")return h=h(),x(h),function(){x(null)};if(x!=null)return h=h(),x.current=h,function(){x.current=null}}function F$(h,x,N){return N=N!=null?N.concat([h]):null,t_(4,4,M$.bind(null,x,h),N)}function wE(){}function L$(h,x){var N=ul();x=x===void 0?null:x;var A=N.memoizedState;return A!==null&&x!==null&&pE(x,A[1])?A[0]:(N.memoizedState=[h,x],h)}function $$(h,x){var N=ul();x=x===void 0?null:x;var A=N.memoizedState;return A!==null&&x!==null&&pE(x,A[1])?A[0]:(h=h(),N.memoizedState=[h,x],h)}function B$(h,x,N){return(jh&21)===0?(h.baseState&&(h.baseState=!1,ro=!0),h.memoizedState=N):(Kl(N,x)||(N=g8(),gs.lanes|=N,Nh|=N,h.baseState=!0),x)}function rge(h,x){var N=Tn;Tn=N!==0&&4>N?N:4,h(!0);var A=mE.transition;mE.transition={};try{h(!1),x()}finally{Tn=N,mE.transition=A}}function U$(){return ul().memoizedState}function nge(h,x,N){var A=Fd(h);if(N={lane:A,action:N,hasEagerState:!1,eagerState:null,next:null},V$(h))z$(x,N);else if(N=y$(h,x,N,A),N!==null){var M=Ii();Ql(N,h,A,M),q$(N,x,A)}}function sge(h,x,N){var A=Fd(h),M={lane:A,action:N,hasEagerState:!1,eagerState:null,next:null};if(V$(h))z$(x,M);else{var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=x.lastRenderedReducer,H!==null))try{var se=x.lastRenderedState,Ne=H(se,N);if(M.hasEagerState=!0,M.eagerState=Ne,Kl(Ne,se)){var Te=x.interleaved;Te===null?(M.next=M,lE(x)):(M.next=Te.next,Te.next=M),x.interleaved=M;return}}catch{}finally{}N=y$(h,x,M,A),N!==null&&(M=Ii(),Ql(N,h,A,M),q$(N,x,A))}}function V$(h){var x=h.alternate;return h===gs||x!==null&&x===gs}function z$(h,x){lv=Q1=!0;var N=h.pending;N===null?x.next=x:(x.next=N.next,N.next=x),h.pending=x}function q$(h,x,N){if((N&4194240)!==0){var A=x.lanes;A&=h.pendingLanes,N|=A,x.lanes=N,jC(h,N)}}var r_={readContext:cl,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},age={readContext:cl,useCallback:function(h,x){return Rc().memoizedState=[h,x===void 0?null:x],h},useContext:cl,useEffect:D$,useImperativeHandle:function(h,x,N){return N=N!=null?N.concat([h]):null,e_(4194308,4,M$.bind(null,x,h),N)},useLayoutEffect:function(h,x){return e_(4194308,4,h,x)},useInsertionEffect:function(h,x){return e_(4,2,h,x)},useMemo:function(h,x){var N=Rc();return x=x===void 0?null:x,h=h(),N.memoizedState=[h,x],h},useReducer:function(h,x,N){var A=Rc();return x=N!==void 0?N(x):x,A.memoizedState=A.baseState=x,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:x},A.queue=h,h=h.dispatch=nge.bind(null,gs,h),[A.memoizedState,h]},useRef:function(h){var x=Rc();return h={current:h},x.memoizedState=h},useState:P$,useDebugValue:wE,useDeferredValue:function(h){return Rc().memoizedState=h},useTransition:function(){var h=P$(!1),x=h[0];return h=rge.bind(null,h[1]),Rc().memoizedState=h,[x,h]},useMutableSource:function(){},useSyncExternalStore:function(h,x,N){var A=gs,M=Rc();if(cs){if(N===void 0)throw Error(r(407));N=N()}else{if(N=x(),Ra===null)throw Error(r(349));(jh&30)!==0||k$(A,x,N)}M.memoizedState=N;var H={value:N,getSnapshot:x};return M.queue=H,D$(E$.bind(null,A,H,h),[h]),A.flags|=2048,dv(9,C$.bind(null,A,H,N,x),void 0,null),N},useId:function(){var h=Rc(),x=Ra.identifierPrefix;if(cs){var N=Eu,A=Cu;N=(A&~(1<<32-Ms(A)-1)).toString(32)+N,x=":"+x+"R"+N,N=cv++,0<N&&(x+="H"+N.toString(32)),x+=":"}else N=tge++,x=":"+x+"r"+N.toString(32)+":";return h.memoizedState=x},unstable_isNewReconciler:!1},ige={readContext:cl,useCallback:L$,useContext:cl,useEffect:bE,useImperativeHandle:F$,useInsertionEffect:R$,useLayoutEffect:I$,useMemo:$$,useReducer:vE,useRef:O$,useState:function(){return vE(uv)},useDebugValue:wE,useDeferredValue:function(h){var x=ul();return B$(x,ma.memoizedState,h)},useTransition:function(){var h=vE(uv)[0],x=ul().memoizedState;return[h,x]},useMutableSource:N$,useSyncExternalStore:S$,useId:U$,unstable_isNewReconciler:!1},oge={readContext:cl,useCallback:L$,useContext:cl,useEffect:bE,useImperativeHandle:F$,useInsertionEffect:R$,useLayoutEffect:I$,useMemo:$$,useReducer:yE,useRef:O$,useState:function(){return yE(uv)},useDebugValue:wE,useDeferredValue:function(h){var x=ul();return ma===null?x.memoizedState=h:B$(x,ma.memoizedState,h)},useTransition:function(){var h=yE(uv)[0],x=ul().memoizedState;return[h,x]},useMutableSource:N$,useSyncExternalStore:S$,useId:U$,unstable_isNewReconciler:!1};function Xl(h,x){if(h&&h.defaultProps){x=F({},x),h=h.defaultProps;for(var N in h)x[N]===void 0&&(x[N]=h[N]);return x}return x}function _E(h,x,N,A){x=h.memoizedState,N=N(A,x),N=N==null?x:F({},x,N),h.memoizedState=N,h.lanes===0&&(h.updateQueue.baseState=N)}var n_={isMounted:function(h){return(h=h._reactInternals)?ve(h)===h:!1},enqueueSetState:function(h,x,N){h=h._reactInternals;var A=Ii(),M=Fd(h),H=Au(A,M);H.payload=x,N!=null&&(H.callback=N),x=Dd(h,H,M),x!==null&&(Ql(x,h,M,A),Y1(x,h,M))},enqueueReplaceState:function(h,x,N){h=h._reactInternals;var A=Ii(),M=Fd(h),H=Au(A,M);H.tag=1,H.payload=x,N!=null&&(H.callback=N),x=Dd(h,H,M),x!==null&&(Ql(x,h,M,A),Y1(x,h,M))},enqueueForceUpdate:function(h,x){h=h._reactInternals;var N=Ii(),A=Fd(h),M=Au(N,A);M.tag=2,x!=null&&(M.callback=x),x=Dd(h,M,A),x!==null&&(Ql(x,h,A,N),Y1(x,h,A))}};function W$(h,x,N,A,M,H,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,H,se):x.prototype&&x.prototype.isPureReactComponent?!Jx(N,A)||!Jx(M,H):!0}function H$(h,x,N){var A=!1,M=Ad,H=x.contextType;return typeof H=="object"&&H!==null?H=cl(H):(M=to(x)?vh:ui.current,A=x.contextTypes,H=(A=A!=null)?Pp(h,M):Ad),x=new x(N,H),h.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=n_,h.stateNode=x,x._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=H),x}function G$(h,x,N,A){h=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(N,A),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(N,A),x.state!==h&&n_.enqueueReplaceState(x,x.state,null)}function jE(h,x,N,A){var M=h.stateNode;M.props=N,M.state=h.memoizedState,M.refs={},cE(h);var H=x.contextType;typeof H=="object"&&H!==null?M.context=cl(H):(H=to(x)?vh:ui.current,M.context=Pp(h,H)),M.state=h.memoizedState,H=x.getDerivedStateFromProps,typeof H=="function"&&(_E(h,x,H,N),M.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(x=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),x!==M.state&&n_.enqueueReplaceState(M,M.state,null),X1(h,N,M,A),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}function $p(h,x){try{var N="",A=x;do N+=Q(A),A=A.return;while(A);var M=N}catch(H){M=`
Error generating stack: `+H.message+`
`+H.stack}return{value:h,source:x,stack:M,digest:null}}function NE(h,x,N){return{value:h,source:null,stack:N??null,digest:x??null}}function SE(h,x){try{console.error(x.value)}catch(N){setTimeout(function(){throw N})}}var lge=typeof WeakMap=="function"?WeakMap:Map;function K$(h,x,N){N=Au(-1,N),N.tag=3,N.payload={element:null};var A=x.value;return N.callback=function(){u_||(u_=!0,BE=A),SE(h,x)},N}function Y$(h,x,N){N=Au(-1,N),N.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var M=x.value;N.payload=function(){return A(M)},N.callback=function(){SE(h,x)}}var H=h.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(N.callback=function(){SE(h,x),typeof A!="function"&&(Id===null?Id=new Set([this]):Id.add(this));var se=x.stack;this.componentDidCatch(x.value,{componentStack:se!==null?se:""})}),N}function X$(h,x,N){var A=h.pingCache;if(A===null){A=h.pingCache=new lge;var M=new Set;A.set(x,M)}else M=A.get(x),M===void 0&&(M=new Set,A.set(x,M));M.has(N)||(M.add(N),h=_ge.bind(null,h,x,N),x.then(h,h))}function J$(h){do{var x;if((x=h.tag===13)&&(x=h.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return h;h=h.return}while(h!==null);return null}function Z$(h,x,N,A,M){return(h.mode&1)===0?(h===x?h.flags|=65536:(h.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(x=Au(-1,1),x.tag=2,Dd(N,x,1))),N.lanes|=1),h):(h.flags|=65536,h.lanes=M,h)}var cge=C.ReactCurrentOwner,ro=!1;function Ri(h,x,N,A){x.child=h===null?v$(x,null,N,A):Ip(x,h.child,N,A)}function Q$(h,x,N,A,M){N=N.render;var H=x.ref;return Fp(x,M),A=gE(h,x,N,A,H,M),N=xE(),h!==null&&!ro?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~M,Pu(h,x,M)):(cs&&N&&QC(x),x.flags|=1,Ri(h,x,A,M),x.child)}function eB(h,x,N,A,M){if(h===null){var H=N.type;return typeof H=="function"&&!GE(H)&&H.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(x.tag=15,x.type=H,tB(h,x,H,A,M)):(h=g_(N.type,null,A,x,x.mode,M),h.ref=x.ref,h.return=x,x.child=h)}if(H=h.child,(h.lanes&M)===0){var se=H.memoizedProps;if(N=N.compare,N=N!==null?N:Jx,N(se,A)&&h.ref===x.ref)return Pu(h,x,M)}return x.flags|=1,h=$d(H,A),h.ref=x.ref,h.return=x,x.child=h}function tB(h,x,N,A,M){if(h!==null){var H=h.memoizedProps;if(Jx(H,A)&&h.ref===x.ref)if(ro=!1,x.pendingProps=A=H,(h.lanes&M)!==0)(h.flags&131072)!==0&&(ro=!0);else return x.lanes=h.lanes,Pu(h,x,M)}return kE(h,x,N,A,M)}function rB(h,x,N){var A=x.pendingProps,M=A.children,H=h!==null?h.memoizedState:null;if(A.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(Up,To),To|=N;else{if((N&1073741824)===0)return h=H!==null?H.baseLanes|N:N,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:h,cachePool:null,transitions:null},x.updateQueue=null,Gn(Up,To),To|=h,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=H!==null?H.baseLanes:N,Gn(Up,To),To|=A}else H!==null?(A=H.baseLanes|N,x.memoizedState=null):A=N,Gn(Up,To),To|=A;return Ri(h,x,M,N),x.child}function nB(h,x){var N=x.ref;(h===null&&N!==null||h!==null&&h.ref!==N)&&(x.flags|=512,x.flags|=2097152)}function kE(h,x,N,A,M){var H=to(N)?vh:ui.current;return H=Pp(x,H),Fp(x,M),N=gE(h,x,N,A,H,M),A=xE(),h!==null&&!ro?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~M,Pu(h,x,M)):(cs&&A&&QC(x),x.flags|=1,Ri(h,x,N,M),x.child)}function sB(h,x,N,A,M){if(to(N)){var H=!0;U1(x)}else H=!1;if(Fp(x,M),x.stateNode===null)a_(h,x),H$(x,N,A),jE(x,N,A,M),A=!0;else if(h===null){var se=x.stateNode,Ne=x.memoizedProps;se.props=Ne;var Te=se.context,Ye=N.contextType;typeof Ye=="object"&&Ye!==null?Ye=cl(Ye):(Ye=to(N)?vh:ui.current,Ye=Pp(x,Ye));var pt=N.getDerivedStateFromProps,xt=typeof pt=="function"||typeof se.getSnapshotBeforeUpdate=="function";xt||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Ne!==A||Te!==Ye)&&G$(x,se,A,Ye),Od=!1;var ht=x.memoizedState;se.state=ht,X1(x,A,se,M),Te=x.memoizedState,Ne!==A||ht!==Te||eo.current||Od?(typeof pt=="function"&&(_E(x,N,pt,A),Te=x.memoizedState),(Ne=Od||W$(x,N,Ne,A,ht,Te,Ye))?(xt||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(x.flags|=4194308)):(typeof se.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=A,x.memoizedState=Te),se.props=A,se.state=Te,se.context=Ye,A=Ne):(typeof se.componentDidMount=="function"&&(x.flags|=4194308),A=!1)}else{se=x.stateNode,b$(h,x),Ne=x.memoizedProps,Ye=x.type===x.elementType?Ne:Xl(x.type,Ne),se.props=Ye,xt=x.pendingProps,ht=se.context,Te=N.contextType,typeof Te=="object"&&Te!==null?Te=cl(Te):(Te=to(N)?vh:ui.current,Te=Pp(x,Te));var Mt=N.getDerivedStateFromProps;(pt=typeof Mt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Ne!==xt||ht!==Te)&&G$(x,se,A,Te),Od=!1,ht=x.memoizedState,se.state=ht,X1(x,A,se,M);var Ht=x.memoizedState;Ne!==xt||ht!==Ht||eo.current||Od?(typeof Mt=="function"&&(_E(x,N,Mt,A),Ht=x.memoizedState),(Ye=Od||W$(x,N,Ye,A,ht,Ht,Te)||!1)?(pt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(A,Ht,Te),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(A,Ht,Te)),typeof se.componentDidUpdate=="function"&&(x.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof se.componentDidUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(x.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(x.flags|=1024),x.memoizedProps=A,x.memoizedState=Ht),se.props=A,se.state=Ht,se.context=Te,A=Ye):(typeof se.componentDidUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(x.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(x.flags|=1024),A=!1)}return CE(h,x,N,A,H,M)}function CE(h,x,N,A,M,H){nB(h,x);var se=(x.flags&128)!==0;if(!A&&!se)return M&&c$(x,N,!1),Pu(h,x,H);A=x.stateNode,cge.current=x;var Ne=se&&typeof N.getDerivedStateFromError!="function"?null:A.render();return x.flags|=1,h!==null&&se?(x.child=Ip(x,h.child,null,H),x.child=Ip(x,null,Ne,H)):Ri(h,x,Ne,H),x.memoizedState=A.state,M&&c$(x,N,!0),x.child}function aB(h){var x=h.stateNode;x.pendingContext?o$(h,x.pendingContext,x.pendingContext!==x.context):x.context&&o$(h,x.context,!1),uE(h,x.containerInfo)}function iB(h,x,N,A,M){return Rp(),nE(M),x.flags|=256,Ri(h,x,N,A),x.child}var EE={dehydrated:null,treeContext:null,retryLane:0};function TE(h){return{baseLanes:h,cachePool:null,transitions:null}}function oB(h,x,N){var A=x.pendingProps,M=ps.current,H=!1,se=(x.flags&128)!==0,Ne;if((Ne=se)||(Ne=h!==null&&h.memoizedState===null?!1:(M&2)!==0),Ne?(H=!0,x.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),Gn(ps,M&1),h===null)return rE(x),h=x.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((x.mode&1)===0?x.lanes=1:h.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(se=A.children,h=A.fallback,H?(A=x.mode,H=x.child,se={mode:"hidden",children:se},(A&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=se):H=x_(se,A,0,null),h=Eh(h,A,N,null),H.return=x,h.return=x,H.sibling=h,x.child=H,x.child.memoizedState=TE(N),x.memoizedState=EE,h):AE(x,se));if(M=h.memoizedState,M!==null&&(Ne=M.dehydrated,Ne!==null))return uge(h,x,se,A,Ne,M,N);if(H){H=A.fallback,se=x.mode,M=h.child,Ne=M.sibling;var Te={mode:"hidden",children:A.children};return(se&1)===0&&x.child!==M?(A=x.child,A.childLanes=0,A.pendingProps=Te,x.deletions=null):(A=$d(M,Te),A.subtreeFlags=M.subtreeFlags&14680064),Ne!==null?H=$d(Ne,H):(H=Eh(H,se,N,null),H.flags|=2),H.return=x,A.return=x,A.sibling=H,x.child=A,A=H,H=x.child,se=h.child.memoizedState,se=se===null?TE(N):{baseLanes:se.baseLanes|N,cachePool:null,transitions:se.transitions},H.memoizedState=se,H.childLanes=h.childLanes&~N,x.memoizedState=EE,A}return H=h.child,h=H.sibling,A=$d(H,{mode:"visible",children:A.children}),(x.mode&1)===0&&(A.lanes=N),A.return=x,A.sibling=null,h!==null&&(N=x.deletions,N===null?(x.deletions=[h],x.flags|=16):N.push(h)),x.child=A,x.memoizedState=null,A}function AE(h,x){return x=x_({mode:"visible",children:x},h.mode,0,null),x.return=h,h.child=x}function s_(h,x,N,A){return A!==null&&nE(A),Ip(x,h.child,null,N),h=AE(x,x.pendingProps.children),h.flags|=2,x.memoizedState=null,h}function uge(h,x,N,A,M,H,se){if(N)return x.flags&256?(x.flags&=-257,A=NE(Error(r(422))),s_(h,x,se,A)):x.memoizedState!==null?(x.child=h.child,x.flags|=128,null):(H=A.fallback,M=x.mode,A=x_({mode:"visible",children:A.children},M,0,null),H=Eh(H,M,se,null),H.flags|=2,A.return=x,H.return=x,A.sibling=H,x.child=A,(x.mode&1)!==0&&Ip(x,h.child,null,se),x.child.memoizedState=TE(se),x.memoizedState=EE,H);if((x.mode&1)===0)return s_(h,x,se,null);if(M.data==="$!"){if(A=M.nextSibling&&M.nextSibling.dataset,A)var Ne=A.dgst;return A=Ne,H=Error(r(419)),A=NE(H,A,void 0),s_(h,x,se,A)}if(Ne=(se&h.childLanes)!==0,ro||Ne){if(A=Ra,A!==null){switch(se&-se){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(A.suspendedLanes|se))!==0?0:M,M!==0&&M!==H.retryLane&&(H.retryLane=M,Tu(h,M),Ql(A,h,M,-1))}return HE(),A=NE(Error(r(421))),s_(h,x,se,A)}return M.data==="$?"?(x.flags|=128,x.child=h.child,x=jge.bind(null,h),M._reactRetry=x,null):(h=H.treeContext,Eo=Ed(M.nextSibling),Co=x,cs=!0,Yl=null,h!==null&&(ol[ll++]=Cu,ol[ll++]=Eu,ol[ll++]=yh,Cu=h.id,Eu=h.overflow,yh=x),x=AE(x,A.children),x.flags|=4096,x)}function lB(h,x,N){h.lanes|=x;var A=h.alternate;A!==null&&(A.lanes|=x),oE(h.return,x,N)}function PE(h,x,N,A,M){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:A,tail:N,tailMode:M}:(H.isBackwards=x,H.rendering=null,H.renderingStartTime=0,H.last=A,H.tail=N,H.tailMode=M)}function cB(h,x,N){var A=x.pendingProps,M=A.revealOrder,H=A.tail;if(Ri(h,x,A.children,N),A=ps.current,(A&2)!==0)A=A&1|2,x.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=x.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&lB(h,N,x);else if(h.tag===19)lB(h,N,x);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===x)break e;for(;h.sibling===null;){if(h.return===null||h.return===x)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Gn(ps,A),(x.mode&1)===0)x.memoizedState=null;else switch(M){case"forwards":for(N=x.child,M=null;N!==null;)h=N.alternate,h!==null&&J1(h)===null&&(M=N),N=N.sibling;N=M,N===null?(M=x.child,x.child=null):(M=N.sibling,N.sibling=null),PE(x,!1,M,N,H);break;case"backwards":for(N=null,M=x.child,x.child=null;M!==null;){if(h=M.alternate,h!==null&&J1(h)===null){x.child=M;break}h=M.sibling,M.sibling=N,N=M,M=h}PE(x,!0,N,null,H);break;case"together":PE(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function a_(h,x){(x.mode&1)===0&&h!==null&&(h.alternate=null,x.alternate=null,x.flags|=2)}function Pu(h,x,N){if(h!==null&&(x.dependencies=h.dependencies),Nh|=x.lanes,(N&x.childLanes)===0)return null;if(h!==null&&x.child!==h.child)throw Error(r(153));if(x.child!==null){for(h=x.child,N=$d(h,h.pendingProps),x.child=N,N.return=x;h.sibling!==null;)h=h.sibling,N=N.sibling=$d(h,h.pendingProps),N.return=x;N.sibling=null}return x.child}function dge(h,x,N){switch(x.tag){case 3:aB(x),Rp();break;case 5:j$(x);break;case 1:to(x.type)&&U1(x);break;case 4:uE(x,x.stateNode.containerInfo);break;case 10:var A=x.type._context,M=x.memoizedProps.value;Gn(G1,A._currentValue),A._currentValue=M;break;case 13:if(A=x.memoizedState,A!==null)return A.dehydrated!==null?(Gn(ps,ps.current&1),x.flags|=128,null):(N&x.child.childLanes)!==0?oB(h,x,N):(Gn(ps,ps.current&1),h=Pu(h,x,N),h!==null?h.sibling:null);Gn(ps,ps.current&1);break;case 19:if(A=(N&x.childLanes)!==0,(h.flags&128)!==0){if(A)return cB(h,x,N);x.flags|=128}if(M=x.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Gn(ps,ps.current),A)break;return null;case 22:case 23:return x.lanes=0,rB(h,x,N)}return Pu(h,x,N)}var uB,OE,dB,fB;uB=function(h,x){for(var N=x.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===x)break;for(;N.sibling===null;){if(N.return===null||N.return===x)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},OE=function(){},dB=function(h,x,N,A){var M=h.memoizedProps;if(M!==A){h=x.stateNode,_h(Dc.current);var H=null;switch(N){case"input":M=te(h,M),A=te(h,A),H=[];break;case"select":M=F({},M,{value:void 0}),A=F({},A,{value:void 0}),H=[];break;case"textarea":M=Oe(h,M),A=Oe(h,A),H=[];break;default:typeof M.onClick!="function"&&typeof A.onClick=="function"&&(h.onclick=L1)}at(N,A);var se;N=null;for(Ye in M)if(!A.hasOwnProperty(Ye)&&M.hasOwnProperty(Ye)&&M[Ye]!=null)if(Ye==="style"){var Ne=M[Ye];for(se in Ne)Ne.hasOwnProperty(se)&&(N||(N={}),N[se]="")}else Ye!=="dangerouslySetInnerHTML"&&Ye!=="children"&&Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&Ye!=="autoFocus"&&(a.hasOwnProperty(Ye)?H||(H=[]):(H=H||[]).push(Ye,null));for(Ye in A){var Te=A[Ye];if(Ne=M?.[Ye],A.hasOwnProperty(Ye)&&Te!==Ne&&(Te!=null||Ne!=null))if(Ye==="style")if(Ne){for(se in Ne)!Ne.hasOwnProperty(se)||Te&&Te.hasOwnProperty(se)||(N||(N={}),N[se]="");for(se in Te)Te.hasOwnProperty(se)&&Ne[se]!==Te[se]&&(N||(N={}),N[se]=Te[se])}else N||(H||(H=[]),H.push(Ye,N)),N=Te;else Ye==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Ne=Ne?Ne.__html:void 0,Te!=null&&Ne!==Te&&(H=H||[]).push(Ye,Te)):Ye==="children"?typeof Te!="string"&&typeof Te!="number"||(H=H||[]).push(Ye,""+Te):Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ye)?(Te!=null&&Ye==="onScroll"&&ts("scroll",h),H||Ne===Te||(H=[])):(H=H||[]).push(Ye,Te))}N&&(H=H||[]).push("style",N);var Ye=H;(x.updateQueue=Ye)&&(x.flags|=4)}},fB=function(h,x,N,A){N!==A&&(x.flags|=4)};function fv(h,x){if(!cs)switch(h.tailMode){case"hidden":x=h.tail;for(var N=null;x!==null;)x.alternate!==null&&(N=x),x=x.sibling;N===null?h.tail=null:N.sibling=null;break;case"collapsed":N=h.tail;for(var A=null;N!==null;)N.alternate!==null&&(A=N),N=N.sibling;A===null?x||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function fi(h){var x=h.alternate!==null&&h.alternate.child===h.child,N=0,A=0;if(x)for(var M=h.child;M!==null;)N|=M.lanes|M.childLanes,A|=M.subtreeFlags&14680064,A|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)N|=M.lanes|M.childLanes,A|=M.subtreeFlags,A|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=A,h.childLanes=N,x}function fge(h,x,N){var A=x.pendingProps;switch(eE(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(x),null;case 1:return to(x.type)&&B1(),fi(x),null;case 3:return A=x.stateNode,Lp(),rs(eo),rs(ui),hE(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(W1(x)?x.flags|=4:h===null||h.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Yl!==null&&(zE(Yl),Yl=null))),OE(h,x),fi(x),null;case 5:dE(x);var M=_h(ov.current);if(N=x.type,h!==null&&x.stateNode!=null)dB(h,x,N,A,M),h.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!A){if(x.stateNode===null)throw Error(r(166));return fi(x),null}if(h=_h(Dc.current),W1(x)){A=x.stateNode,N=x.type;var H=x.memoizedProps;switch(A[Oc]=x,A[rv]=H,h=(x.mode&1)!==0,N){case"dialog":ts("cancel",A),ts("close",A);break;case"iframe":case"object":case"embed":ts("load",A);break;case"video":case"audio":for(M=0;M<Qx.length;M++)ts(Qx[M],A);break;case"source":ts("error",A);break;case"img":case"image":case"link":ts("error",A),ts("load",A);break;case"details":ts("toggle",A);break;case"input":_e(A,H),ts("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!H.multiple},ts("invalid",A);break;case"textarea":Ze(A,H),ts("invalid",A)}at(N,H),M=null;for(var se in H)if(H.hasOwnProperty(se)){var Ne=H[se];se==="children"?typeof Ne=="string"?A.textContent!==Ne&&(H.suppressHydrationWarning!==!0&&F1(A.textContent,Ne,h),M=["children",Ne]):typeof Ne=="number"&&A.textContent!==""+Ne&&(H.suppressHydrationWarning!==!0&&F1(A.textContent,Ne,h),M=["children",""+Ne]):a.hasOwnProperty(se)&&Ne!=null&&se==="onScroll"&&ts("scroll",A)}switch(N){case"input":J(A),Ve(A,H,!0);break;case"textarea":J(A),fe(A);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(A.onclick=L1)}A=M,x.updateQueue=A,A!==null&&(x.flags|=4)}else{se=M.nodeType===9?M:M.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ee(N)),h==="http://www.w3.org/1999/xhtml"?N==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof A.is=="string"?h=se.createElement(N,{is:A.is}):(h=se.createElement(N),N==="select"&&(se=h,A.multiple?se.multiple=!0:A.size&&(se.size=A.size))):h=se.createElementNS(h,N),h[Oc]=x,h[rv]=A,uB(h,x,!1,!1),x.stateNode=h;e:{switch(se=Dt(N,A),N){case"dialog":ts("cancel",h),ts("close",h),M=A;break;case"iframe":case"object":case"embed":ts("load",h),M=A;break;case"video":case"audio":for(M=0;M<Qx.length;M++)ts(Qx[M],h);M=A;break;case"source":ts("error",h),M=A;break;case"img":case"image":case"link":ts("error",h),ts("load",h),M=A;break;case"details":ts("toggle",h),M=A;break;case"input":_e(h,A),M=te(h,A),ts("invalid",h);break;case"option":M=A;break;case"select":h._wrapperState={wasMultiple:!!A.multiple},M=F({},A,{value:void 0}),ts("invalid",h);break;case"textarea":Ze(h,A),M=Oe(h,A),ts("invalid",h);break;default:M=A}at(N,M),Ne=M;for(H in Ne)if(Ne.hasOwnProperty(H)){var Te=Ne[H];H==="style"?je(h,Te):H==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&Me(h,Te)):H==="children"?typeof Te=="string"?(N!=="textarea"||Te!=="")&&Pe(h,Te):typeof Te=="number"&&Pe(h,""+Te):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?Te!=null&&H==="onScroll"&&ts("scroll",h):Te!=null&&j(h,H,Te,se))}switch(N){case"input":J(h),Ve(h,A,!1);break;case"textarea":J(h),fe(h);break;case"option":A.value!=null&&h.setAttribute("value",""+pe(A.value));break;case"select":h.multiple=!!A.multiple,H=A.value,H!=null?be(h,!!A.multiple,H,!1):A.defaultValue!=null&&be(h,!!A.multiple,A.defaultValue,!0);break;default:typeof M.onClick=="function"&&(h.onclick=L1)}switch(N){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return fi(x),null;case 6:if(h&&x.stateNode!=null)fB(h,x,h.memoizedProps,A);else{if(typeof A!="string"&&x.stateNode===null)throw Error(r(166));if(N=_h(ov.current),_h(Dc.current),W1(x)){if(A=x.stateNode,N=x.memoizedProps,A[Oc]=x,(H=A.nodeValue!==N)&&(h=Co,h!==null))switch(h.tag){case 3:F1(A.nodeValue,N,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&F1(A.nodeValue,N,(h.mode&1)!==0)}H&&(x.flags|=4)}else A=(N.nodeType===9?N:N.ownerDocument).createTextNode(A),A[Oc]=x,x.stateNode=A}return fi(x),null;case 13:if(rs(ps),A=x.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(cs&&Eo!==null&&(x.mode&1)!==0&&(x.flags&128)===0)p$(),Rp(),x.flags|=98560,H=!1;else if(H=W1(x),A!==null&&A.dehydrated!==null){if(h===null){if(!H)throw Error(r(318));if(H=x.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(r(317));H[Oc]=x}else Rp(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;fi(x),H=!1}else Yl!==null&&(zE(Yl),Yl=null),H=!0;if(!H)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=N,x):(A=A!==null,A!==(h!==null&&h.memoizedState!==null)&&A&&(x.child.flags|=8192,(x.mode&1)!==0&&(h===null||(ps.current&1)!==0?pa===0&&(pa=3):HE())),x.updateQueue!==null&&(x.flags|=4),fi(x),null);case 4:return Lp(),OE(h,x),h===null&&ev(x.stateNode.containerInfo),fi(x),null;case 10:return iE(x.type._context),fi(x),null;case 17:return to(x.type)&&B1(),fi(x),null;case 19:if(rs(ps),H=x.memoizedState,H===null)return fi(x),null;if(A=(x.flags&128)!==0,se=H.rendering,se===null)if(A)fv(H,!1);else{if(pa!==0||h!==null&&(h.flags&128)!==0)for(h=x.child;h!==null;){if(se=J1(h),se!==null){for(x.flags|=128,fv(H,!1),A=se.updateQueue,A!==null&&(x.updateQueue=A,x.flags|=4),x.subtreeFlags=0,A=N,N=x.child;N!==null;)H=N,h=A,H.flags&=14680066,se=H.alternate,se===null?(H.childLanes=0,H.lanes=h,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=se.childLanes,H.lanes=se.lanes,H.child=se.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=se.memoizedProps,H.memoizedState=se.memoizedState,H.updateQueue=se.updateQueue,H.type=se.type,h=se.dependencies,H.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),N=N.sibling;return Gn(ps,ps.current&1|2),x.child}h=h.sibling}H.tail!==null&&ot()>Vp&&(x.flags|=128,A=!0,fv(H,!1),x.lanes=4194304)}else{if(!A)if(h=J1(se),h!==null){if(x.flags|=128,A=!0,N=h.updateQueue,N!==null&&(x.updateQueue=N,x.flags|=4),fv(H,!0),H.tail===null&&H.tailMode==="hidden"&&!se.alternate&&!cs)return fi(x),null}else 2*ot()-H.renderingStartTime>Vp&&N!==1073741824&&(x.flags|=128,A=!0,fv(H,!1),x.lanes=4194304);H.isBackwards?(se.sibling=x.child,x.child=se):(N=H.last,N!==null?N.sibling=se:x.child=se,H.last=se)}return H.tail!==null?(x=H.tail,H.rendering=x,H.tail=x.sibling,H.renderingStartTime=ot(),x.sibling=null,N=ps.current,Gn(ps,A?N&1|2:N&1),x):(fi(x),null);case 22:case 23:return WE(),A=x.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(x.flags|=8192),A&&(x.mode&1)!==0?(To&1073741824)!==0&&(fi(x),x.subtreeFlags&6&&(x.flags|=8192)):fi(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function hge(h,x){switch(eE(x),x.tag){case 1:return to(x.type)&&B1(),h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 3:return Lp(),rs(eo),rs(ui),hE(),h=x.flags,(h&65536)!==0&&(h&128)===0?(x.flags=h&-65537|128,x):null;case 5:return dE(x),null;case 13:if(rs(ps),h=x.memoizedState,h!==null&&h.dehydrated!==null){if(x.alternate===null)throw Error(r(340));Rp()}return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 19:return rs(ps),null;case 4:return Lp(),null;case 10:return iE(x.type._context),null;case 22:case 23:return WE(),null;case 24:return null;default:return null}}var i_=!1,hi=!1,mge=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Bp(h,x){var N=h.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(A){js(h,x,A)}else N.current=null}function DE(h,x,N){try{N()}catch(A){js(h,x,A)}}var hB=!1;function pge(h,x){if(WC=k1,h=W8(),FC(h)){if("selectionStart"in h)var N={start:h.selectionStart,end:h.selectionEnd};else e:{N=(N=h.ownerDocument)&&N.defaultView||window;var A=N.getSelection&&N.getSelection();if(A&&A.rangeCount!==0){N=A.anchorNode;var M=A.anchorOffset,H=A.focusNode;A=A.focusOffset;try{N.nodeType,H.nodeType}catch{N=null;break e}var se=0,Ne=-1,Te=-1,Ye=0,pt=0,xt=h,ht=null;t:for(;;){for(var Mt;xt!==N||M!==0&&xt.nodeType!==3||(Ne=se+M),xt!==H||A!==0&&xt.nodeType!==3||(Te=se+A),xt.nodeType===3&&(se+=xt.nodeValue.length),(Mt=xt.firstChild)!==null;)ht=xt,xt=Mt;for(;;){if(xt===h)break t;if(ht===N&&++Ye===M&&(Ne=se),ht===H&&++pt===A&&(Te=se),(Mt=xt.nextSibling)!==null)break;xt=ht,ht=xt.parentNode}xt=Mt}N=Ne===-1||Te===-1?null:{start:Ne,end:Te}}else N=null}N=N||{start:0,end:0}}else N=null;for(HC={focusedElem:h,selectionRange:N},k1=!1,Vt=x;Vt!==null;)if(x=Vt,h=x.child,(x.subtreeFlags&1028)!==0&&h!==null)h.return=x,Vt=h;else for(;Vt!==null;){x=Vt;try{var Ht=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(Ht!==null){var Kt=Ht.memoizedProps,Fs=Ht.memoizedState,ze=x.stateNode,De=ze.getSnapshotBeforeUpdate(x.elementType===x.type?Kt:Xl(x.type,Kt),Fs);ze.__reactInternalSnapshotBeforeUpdate=De}break;case 3:var We=x.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Nt){js(x,x.return,Nt)}if(h=x.sibling,h!==null){h.return=x.return,Vt=h;break}Vt=x.return}return Ht=hB,hB=!1,Ht}function hv(h,x,N){var A=x.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var M=A=A.next;do{if((M.tag&h)===h){var H=M.destroy;M.destroy=void 0,H!==void 0&&DE(x,N,H)}M=M.next}while(M!==A)}}function o_(h,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&h)===h){var A=N.create;N.destroy=A()}N=N.next}while(N!==x)}}function RE(h){var x=h.ref;if(x!==null){var N=h.stateNode;switch(h.tag){case 5:h=N;break;default:h=N}typeof x=="function"?x(h):x.current=h}}function mB(h){var x=h.alternate;x!==null&&(h.alternate=null,mB(x)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(x=h.stateNode,x!==null&&(delete x[Oc],delete x[rv],delete x[XC],delete x[Jpe],delete x[Zpe])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function pB(h){return h.tag===5||h.tag===3||h.tag===4}function gB(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||pB(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function IE(h,x,N){var A=h.tag;if(A===5||A===6)h=h.stateNode,x?N.nodeType===8?N.parentNode.insertBefore(h,x):N.insertBefore(h,x):(N.nodeType===8?(x=N.parentNode,x.insertBefore(h,N)):(x=N,x.appendChild(h)),N=N._reactRootContainer,N!=null||x.onclick!==null||(x.onclick=L1));else if(A!==4&&(h=h.child,h!==null))for(IE(h,x,N),h=h.sibling;h!==null;)IE(h,x,N),h=h.sibling}function ME(h,x,N){var A=h.tag;if(A===5||A===6)h=h.stateNode,x?N.insertBefore(h,x):N.appendChild(h);else if(A!==4&&(h=h.child,h!==null))for(ME(h,x,N),h=h.sibling;h!==null;)ME(h,x,N),h=h.sibling}var Ya=null,Jl=!1;function Rd(h,x,N){for(N=N.child;N!==null;)xB(h,x,N),N=N.sibling}function xB(h,x,N){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(ci,N)}catch{}switch(N.tag){case 5:hi||Bp(N,x);case 6:var A=Ya,M=Jl;Ya=null,Rd(h,x,N),Ya=A,Jl=M,Ya!==null&&(Jl?(h=Ya,N=N.stateNode,h.nodeType===8?h.parentNode.removeChild(N):h.removeChild(N)):Ya.removeChild(N.stateNode));break;case 18:Ya!==null&&(Jl?(h=Ya,N=N.stateNode,h.nodeType===8?YC(h.parentNode,N):h.nodeType===1&&YC(h,N),Wx(h)):YC(Ya,N.stateNode));break;case 4:A=Ya,M=Jl,Ya=N.stateNode.containerInfo,Jl=!0,Rd(h,x,N),Ya=A,Jl=M;break;case 0:case 11:case 14:case 15:if(!hi&&(A=N.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){M=A=A.next;do{var H=M,se=H.destroy;H=H.tag,se!==void 0&&((H&2)!==0||(H&4)!==0)&&DE(N,x,se),M=M.next}while(M!==A)}Rd(h,x,N);break;case 1:if(!hi&&(Bp(N,x),A=N.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=N.memoizedProps,A.state=N.memoizedState,A.componentWillUnmount()}catch(Ne){js(N,x,Ne)}Rd(h,x,N);break;case 21:Rd(h,x,N);break;case 22:N.mode&1?(hi=(A=hi)||N.memoizedState!==null,Rd(h,x,N),hi=A):Rd(h,x,N);break;default:Rd(h,x,N)}}function vB(h){var x=h.updateQueue;if(x!==null){h.updateQueue=null;var N=h.stateNode;N===null&&(N=h.stateNode=new mge),x.forEach(function(A){var M=Nge.bind(null,h,A);N.has(A)||(N.add(A),A.then(M,M))})}}function Zl(h,x){var N=x.deletions;if(N!==null)for(var A=0;A<N.length;A++){var M=N[A];try{var H=h,se=x,Ne=se;e:for(;Ne!==null;){switch(Ne.tag){case 5:Ya=Ne.stateNode,Jl=!1;break e;case 3:Ya=Ne.stateNode.containerInfo,Jl=!0;break e;case 4:Ya=Ne.stateNode.containerInfo,Jl=!0;break e}Ne=Ne.return}if(Ya===null)throw Error(r(160));xB(H,se,M),Ya=null,Jl=!1;var Te=M.alternate;Te!==null&&(Te.return=null),M.return=null}catch(Ye){js(M,x,Ye)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)yB(x,h),x=x.sibling}function yB(h,x){var N=h.alternate,A=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Zl(x,h),Ic(h),A&4){try{hv(3,h,h.return),o_(3,h)}catch(Kt){js(h,h.return,Kt)}try{hv(5,h,h.return)}catch(Kt){js(h,h.return,Kt)}}break;case 1:Zl(x,h),Ic(h),A&512&&N!==null&&Bp(N,N.return);break;case 5:if(Zl(x,h),Ic(h),A&512&&N!==null&&Bp(N,N.return),h.flags&32){var M=h.stateNode;try{Pe(M,"")}catch(Kt){js(h,h.return,Kt)}}if(A&4&&(M=h.stateNode,M!=null)){var H=h.memoizedProps,se=N!==null?N.memoizedProps:H,Ne=h.type,Te=h.updateQueue;if(h.updateQueue=null,Te!==null)try{Ne==="input"&&H.type==="radio"&&H.name!=null&&Ae(M,H),Dt(Ne,se);var Ye=Dt(Ne,H);for(se=0;se<Te.length;se+=2){var pt=Te[se],xt=Te[se+1];pt==="style"?je(M,xt):pt==="dangerouslySetInnerHTML"?Me(M,xt):pt==="children"?Pe(M,xt):j(M,pt,xt,Ye)}switch(Ne){case"input":ue(M,H);break;case"textarea":tt(M,H);break;case"select":var ht=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!H.multiple;var Mt=H.value;Mt!=null?be(M,!!H.multiple,Mt,!1):ht!==!!H.multiple&&(H.defaultValue!=null?be(M,!!H.multiple,H.defaultValue,!0):be(M,!!H.multiple,H.multiple?[]:"",!1))}M[rv]=H}catch(Kt){js(h,h.return,Kt)}}break;case 6:if(Zl(x,h),Ic(h),A&4){if(h.stateNode===null)throw Error(r(162));M=h.stateNode,H=h.memoizedProps;try{M.nodeValue=H}catch(Kt){js(h,h.return,Kt)}}break;case 3:if(Zl(x,h),Ic(h),A&4&&N!==null&&N.memoizedState.isDehydrated)try{Wx(x.containerInfo)}catch(Kt){js(h,h.return,Kt)}break;case 4:Zl(x,h),Ic(h);break;case 13:Zl(x,h),Ic(h),M=h.child,M.flags&8192&&(H=M.memoizedState!==null,M.stateNode.isHidden=H,!H||M.alternate!==null&&M.alternate.memoizedState!==null||($E=ot())),A&4&&vB(h);break;case 22:if(pt=N!==null&&N.memoizedState!==null,h.mode&1?(hi=(Ye=hi)||pt,Zl(x,h),hi=Ye):Zl(x,h),Ic(h),A&8192){if(Ye=h.memoizedState!==null,(h.stateNode.isHidden=Ye)&&!pt&&(h.mode&1)!==0)for(Vt=h,pt=h.child;pt!==null;){for(xt=Vt=pt;Vt!==null;){switch(ht=Vt,Mt=ht.child,ht.tag){case 0:case 11:case 14:case 15:hv(4,ht,ht.return);break;case 1:Bp(ht,ht.return);var Ht=ht.stateNode;if(typeof Ht.componentWillUnmount=="function"){A=ht,N=ht.return;try{x=A,Ht.props=x.memoizedProps,Ht.state=x.memoizedState,Ht.componentWillUnmount()}catch(Kt){js(A,N,Kt)}}break;case 5:Bp(ht,ht.return);break;case 22:if(ht.memoizedState!==null){_B(xt);continue}}Mt!==null?(Mt.return=ht,Vt=Mt):_B(xt)}pt=pt.sibling}e:for(pt=null,xt=h;;){if(xt.tag===5){if(pt===null){pt=xt;try{M=xt.stateNode,Ye?(H=M.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(Ne=xt.stateNode,Te=xt.memoizedProps.style,se=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,Ne.style.display=jt("display",se))}catch(Kt){js(h,h.return,Kt)}}}else if(xt.tag===6){if(pt===null)try{xt.stateNode.nodeValue=Ye?"":xt.memoizedProps}catch(Kt){js(h,h.return,Kt)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===h)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===h)break e;for(;xt.sibling===null;){if(xt.return===null||xt.return===h)break e;pt===xt&&(pt=null),xt=xt.return}pt===xt&&(pt=null),xt.sibling.return=xt.return,xt=xt.sibling}}break;case 19:Zl(x,h),Ic(h),A&4&&vB(h);break;case 21:break;default:Zl(x,h),Ic(h)}}function Ic(h){var x=h.flags;if(x&2){try{e:{for(var N=h.return;N!==null;){if(pB(N)){var A=N;break e}N=N.return}throw Error(r(160))}switch(A.tag){case 5:var M=A.stateNode;A.flags&32&&(Pe(M,""),A.flags&=-33);var H=gB(h);ME(h,H,M);break;case 3:case 4:var se=A.stateNode.containerInfo,Ne=gB(h);IE(h,Ne,se);break;default:throw Error(r(161))}}catch(Te){js(h,h.return,Te)}h.flags&=-3}x&4096&&(h.flags&=-4097)}function gge(h,x,N){Vt=h,bB(h)}function bB(h,x,N){for(var A=(h.mode&1)!==0;Vt!==null;){var M=Vt,H=M.child;if(M.tag===22&&A){var se=M.memoizedState!==null||i_;if(!se){var Ne=M.alternate,Te=Ne!==null&&Ne.memoizedState!==null||hi;Ne=i_;var Ye=hi;if(i_=se,(hi=Te)&&!Ye)for(Vt=M;Vt!==null;)se=Vt,Te=se.child,se.tag===22&&se.memoizedState!==null?jB(M):Te!==null?(Te.return=se,Vt=Te):jB(M);for(;H!==null;)Vt=H,bB(H),H=H.sibling;Vt=M,i_=Ne,hi=Ye}wB(h)}else(M.subtreeFlags&8772)!==0&&H!==null?(H.return=M,Vt=H):wB(h)}}function wB(h){for(;Vt!==null;){var x=Vt;if((x.flags&8772)!==0){var N=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:hi||o_(5,x);break;case 1:var A=x.stateNode;if(x.flags&4&&!hi)if(N===null)A.componentDidMount();else{var M=x.elementType===x.type?N.memoizedProps:Xl(x.type,N.memoizedProps);A.componentDidUpdate(M,N.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var H=x.updateQueue;H!==null&&_$(x,H,A);break;case 3:var se=x.updateQueue;if(se!==null){if(N=null,x.child!==null)switch(x.child.tag){case 5:N=x.child.stateNode;break;case 1:N=x.child.stateNode}_$(x,se,N)}break;case 5:var Ne=x.stateNode;if(N===null&&x.flags&4){N=Ne;var Te=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&N.focus();break;case"img":Te.src&&(N.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Ye=x.alternate;if(Ye!==null){var pt=Ye.memoizedState;if(pt!==null){var xt=pt.dehydrated;xt!==null&&Wx(xt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}hi||x.flags&512&&RE(x)}catch(ht){js(x,x.return,ht)}}if(x===h){Vt=null;break}if(N=x.sibling,N!==null){N.return=x.return,Vt=N;break}Vt=x.return}}function _B(h){for(;Vt!==null;){var x=Vt;if(x===h){Vt=null;break}var N=x.sibling;if(N!==null){N.return=x.return,Vt=N;break}Vt=x.return}}function jB(h){for(;Vt!==null;){var x=Vt;try{switch(x.tag){case 0:case 11:case 15:var N=x.return;try{o_(4,x)}catch(Te){js(x,N,Te)}break;case 1:var A=x.stateNode;if(typeof A.componentDidMount=="function"){var M=x.return;try{A.componentDidMount()}catch(Te){js(x,M,Te)}}var H=x.return;try{RE(x)}catch(Te){js(x,H,Te)}break;case 5:var se=x.return;try{RE(x)}catch(Te){js(x,se,Te)}}}catch(Te){js(x,x.return,Te)}if(x===h){Vt=null;break}var Ne=x.sibling;if(Ne!==null){Ne.return=x.return,Vt=Ne;break}Vt=x.return}}var xge=Math.ceil,l_=C.ReactCurrentDispatcher,FE=C.ReactCurrentOwner,dl=C.ReactCurrentBatchConfig,ln=0,Ra=null,Js=null,Xa=0,To=0,Up=Td(0),pa=0,mv=null,Nh=0,c_=0,LE=0,pv=null,no=null,$E=0,Vp=1/0,Ou=null,u_=!1,BE=null,Id=null,d_=!1,Md=null,f_=0,gv=0,UE=null,h_=-1,m_=0;function Ii(){return(ln&6)!==0?ot():h_!==-1?h_:h_=ot()}function Fd(h){return(h.mode&1)===0?1:(ln&2)!==0&&Xa!==0?Xa&-Xa:ege.transition!==null?(m_===0&&(m_=g8()),m_):(h=Tn,h!==0||(h=window.event,h=h===void 0?16:S8(h.type)),h)}function Ql(h,x,N,A){if(50<gv)throw gv=0,UE=null,Error(r(185));Bx(h,N,A),((ln&2)===0||h!==Ra)&&(h===Ra&&((ln&2)===0&&(c_|=N),pa===4&&Ld(h,Xa)),so(h,A),N===1&&ln===0&&(x.mode&1)===0&&(Vp=ot()+500,V1&&Pd()))}function so(h,x){var N=h.callbackNode;epe(h,x);var A=j1(h,h===Ra?Xa:0);if(A===0)N!==null&&gt(N),h.callbackNode=null,h.callbackPriority=0;else if(x=A&-A,h.callbackPriority!==x){if(N!=null&&gt(N),x===1)h.tag===0?Qpe(SB.bind(null,h)):u$(SB.bind(null,h)),Ype(function(){(ln&6)===0&&Pd()}),N=null;else{switch(x8(A)){case 1:N=Vr;break;case 4:N=Nn;break;case 16:N=ls;break;case 536870912:N=ha;break;default:N=ls}N=DB(N,NB.bind(null,h))}h.callbackPriority=x,h.callbackNode=N}}function NB(h,x){if(h_=-1,m_=0,(ln&6)!==0)throw Error(r(327));var N=h.callbackNode;if(zp()&&h.callbackNode!==N)return null;var A=j1(h,h===Ra?Xa:0);if(A===0)return null;if((A&30)!==0||(A&h.expiredLanes)!==0||x)x=p_(h,A);else{x=A;var M=ln;ln|=2;var H=CB();(Ra!==h||Xa!==x)&&(Ou=null,Vp=ot()+500,kh(h,x));do try{bge();break}catch(Ne){kB(h,Ne)}while(!0);aE(),l_.current=H,ln=M,Js!==null?x=0:(Ra=null,Xa=0,x=pa)}if(x!==0){if(x===2&&(M=wC(h),M!==0&&(A=M,x=VE(h,M))),x===1)throw N=mv,kh(h,0),Ld(h,A),so(h,ot()),N;if(x===6)Ld(h,A);else{if(M=h.current.alternate,(A&30)===0&&!vge(M)&&(x=p_(h,A),x===2&&(H=wC(h),H!==0&&(A=H,x=VE(h,H))),x===1))throw N=mv,kh(h,0),Ld(h,A),so(h,ot()),N;switch(h.finishedWork=M,h.finishedLanes=A,x){case 0:case 1:throw Error(r(345));case 2:Ch(h,no,Ou);break;case 3:if(Ld(h,A),(A&130023424)===A&&(x=$E+500-ot(),10<x)){if(j1(h,0)!==0)break;if(M=h.suspendedLanes,(M&A)!==A){Ii(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=KC(Ch.bind(null,h,no,Ou),x);break}Ch(h,no,Ou);break;case 4:if(Ld(h,A),(A&4194240)===A)break;for(x=h.eventTimes,M=-1;0<A;){var se=31-Ms(A);H=1<<se,se=x[se],se>M&&(M=se),A&=~H}if(A=M,A=ot()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*xge(A/1960))-A,10<A){h.timeoutHandle=KC(Ch.bind(null,h,no,Ou),A);break}Ch(h,no,Ou);break;case 5:Ch(h,no,Ou);break;default:throw Error(r(329))}}}return so(h,ot()),h.callbackNode===N?NB.bind(null,h):null}function VE(h,x){var N=pv;return h.current.memoizedState.isDehydrated&&(kh(h,x).flags|=256),h=p_(h,x),h!==2&&(x=no,no=N,x!==null&&zE(x)),h}function zE(h){no===null?no=h:no.push.apply(no,h)}function vge(h){for(var x=h;;){if(x.flags&16384){var N=x.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var A=0;A<N.length;A++){var M=N[A],H=M.getSnapshot;M=M.value;try{if(!Kl(H(),M))return!1}catch{return!1}}}if(N=x.child,x.subtreeFlags&16384&&N!==null)N.return=x,x=N;else{if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Ld(h,x){for(x&=~LE,x&=~c_,h.suspendedLanes|=x,h.pingedLanes&=~x,h=h.expirationTimes;0<x;){var N=31-Ms(x),A=1<<N;h[N]=-1,x&=~A}}function SB(h){if((ln&6)!==0)throw Error(r(327));zp();var x=j1(h,0);if((x&1)===0)return so(h,ot()),null;var N=p_(h,x);if(h.tag!==0&&N===2){var A=wC(h);A!==0&&(x=A,N=VE(h,A))}if(N===1)throw N=mv,kh(h,0),Ld(h,x),so(h,ot()),N;if(N===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=x,Ch(h,no,Ou),so(h,ot()),null}function qE(h,x){var N=ln;ln|=1;try{return h(x)}finally{ln=N,ln===0&&(Vp=ot()+500,V1&&Pd())}}function Sh(h){Md!==null&&Md.tag===0&&(ln&6)===0&&zp();var x=ln;ln|=1;var N=dl.transition,A=Tn;try{if(dl.transition=null,Tn=1,h)return h()}finally{Tn=A,dl.transition=N,ln=x,(ln&6)===0&&Pd()}}function WE(){To=Up.current,rs(Up)}function kh(h,x){h.finishedWork=null,h.finishedLanes=0;var N=h.timeoutHandle;if(N!==-1&&(h.timeoutHandle=-1,Kpe(N)),Js!==null)for(N=Js.return;N!==null;){var A=N;switch(eE(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&B1();break;case 3:Lp(),rs(eo),rs(ui),hE();break;case 5:dE(A);break;case 4:Lp();break;case 13:rs(ps);break;case 19:rs(ps);break;case 10:iE(A.type._context);break;case 22:case 23:WE()}N=N.return}if(Ra=h,Js=h=$d(h.current,null),Xa=To=x,pa=0,mv=null,LE=c_=Nh=0,no=pv=null,wh!==null){for(x=0;x<wh.length;x++)if(N=wh[x],A=N.interleaved,A!==null){N.interleaved=null;var M=A.next,H=N.pending;if(H!==null){var se=H.next;H.next=M,A.next=se}N.pending=A}wh=null}return h}function kB(h,x){do{var N=Js;try{if(aE(),Z1.current=r_,Q1){for(var A=gs.memoizedState;A!==null;){var M=A.queue;M!==null&&(M.pending=null),A=A.next}Q1=!1}if(jh=0,Da=ma=gs=null,lv=!1,cv=0,FE.current=null,N===null||N.return===null){pa=1,mv=x,Js=null;break}e:{var H=h,se=N.return,Ne=N,Te=x;if(x=Xa,Ne.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Ye=Te,pt=Ne,xt=pt.tag;if((pt.mode&1)===0&&(xt===0||xt===11||xt===15)){var ht=pt.alternate;ht?(pt.updateQueue=ht.updateQueue,pt.memoizedState=ht.memoizedState,pt.lanes=ht.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var Mt=J$(se);if(Mt!==null){Mt.flags&=-257,Z$(Mt,se,Ne,H,x),Mt.mode&1&&X$(H,Ye,x),x=Mt,Te=Ye;var Ht=x.updateQueue;if(Ht===null){var Kt=new Set;Kt.add(Te),x.updateQueue=Kt}else Ht.add(Te);break e}else{if((x&1)===0){X$(H,Ye,x),HE();break e}Te=Error(r(426))}}else if(cs&&Ne.mode&1){var Fs=J$(se);if(Fs!==null){(Fs.flags&65536)===0&&(Fs.flags|=256),Z$(Fs,se,Ne,H,x),nE($p(Te,Ne));break e}}H=Te=$p(Te,Ne),pa!==4&&(pa=2),pv===null?pv=[H]:pv.push(H),H=se;do{switch(H.tag){case 3:H.flags|=65536,x&=-x,H.lanes|=x;var ze=K$(H,Te,x);w$(H,ze);break e;case 1:Ne=Te;var De=H.type,We=H.stateNode;if((H.flags&128)===0&&(typeof De.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(Id===null||!Id.has(We)))){H.flags|=65536,x&=-x,H.lanes|=x;var Nt=Y$(H,Ne,x);w$(H,Nt);break e}}H=H.return}while(H!==null)}TB(N)}catch(Xt){x=Xt,Js===N&&N!==null&&(Js=N=N.return);continue}break}while(!0)}function CB(){var h=l_.current;return l_.current=r_,h===null?r_:h}function HE(){(pa===0||pa===3||pa===2)&&(pa=4),Ra===null||(Nh&268435455)===0&&(c_&268435455)===0||Ld(Ra,Xa)}function p_(h,x){var N=ln;ln|=2;var A=CB();(Ra!==h||Xa!==x)&&(Ou=null,kh(h,x));do try{yge();break}catch(M){kB(h,M)}while(!0);if(aE(),ln=N,l_.current=A,Js!==null)throw Error(r(261));return Ra=null,Xa=0,pa}function yge(){for(;Js!==null;)EB(Js)}function bge(){for(;Js!==null&&!Pt();)EB(Js)}function EB(h){var x=OB(h.alternate,h,To);h.memoizedProps=h.pendingProps,x===null?TB(h):Js=x,FE.current=null}function TB(h){var x=h;do{var N=x.alternate;if(h=x.return,(x.flags&32768)===0){if(N=fge(N,x,To),N!==null){Js=N;return}}else{if(N=hge(N,x),N!==null){N.flags&=32767,Js=N;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{pa=6,Js=null;return}}if(x=x.sibling,x!==null){Js=x;return}Js=x=h}while(x!==null);pa===0&&(pa=5)}function Ch(h,x,N){var A=Tn,M=dl.transition;try{dl.transition=null,Tn=1,wge(h,x,N,A)}finally{dl.transition=M,Tn=A}return null}function wge(h,x,N,A){do zp();while(Md!==null);if((ln&6)!==0)throw Error(r(327));N=h.finishedWork;var M=h.finishedLanes;if(N===null)return null;if(h.finishedWork=null,h.finishedLanes=0,N===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var H=N.lanes|N.childLanes;if(tpe(h,H),h===Ra&&(Js=Ra=null,Xa=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||d_||(d_=!0,DB(ls,function(){return zp(),null})),H=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||H){H=dl.transition,dl.transition=null;var se=Tn;Tn=1;var Ne=ln;ln|=4,FE.current=null,pge(h,N),yB(N,h),Upe(HC),k1=!!WC,HC=WC=null,h.current=N,gge(N),yt(),ln=Ne,Tn=se,dl.transition=H}else h.current=N;if(d_&&(d_=!1,Md=h,f_=M),H=h.pendingLanes,H===0&&(Id=null),Qi(N.stateNode),so(h,ot()),x!==null)for(A=h.onRecoverableError,N=0;N<x.length;N++)M=x[N],A(M.value,{componentStack:M.stack,digest:M.digest});if(u_)throw u_=!1,h=BE,BE=null,h;return(f_&1)!==0&&h.tag!==0&&zp(),H=h.pendingLanes,(H&1)!==0?h===UE?gv++:(gv=0,UE=h):gv=0,Pd(),null}function zp(){if(Md!==null){var h=x8(f_),x=dl.transition,N=Tn;try{if(dl.transition=null,Tn=16>h?16:h,Md===null)var A=!1;else{if(h=Md,Md=null,f_=0,(ln&6)!==0)throw Error(r(331));var M=ln;for(ln|=4,Vt=h.current;Vt!==null;){var H=Vt,se=H.child;if((Vt.flags&16)!==0){var Ne=H.deletions;if(Ne!==null){for(var Te=0;Te<Ne.length;Te++){var Ye=Ne[Te];for(Vt=Ye;Vt!==null;){var pt=Vt;switch(pt.tag){case 0:case 11:case 15:hv(8,pt,H)}var xt=pt.child;if(xt!==null)xt.return=pt,Vt=xt;else for(;Vt!==null;){pt=Vt;var ht=pt.sibling,Mt=pt.return;if(mB(pt),pt===Ye){Vt=null;break}if(ht!==null){ht.return=Mt,Vt=ht;break}Vt=Mt}}}var Ht=H.alternate;if(Ht!==null){var Kt=Ht.child;if(Kt!==null){Ht.child=null;do{var Fs=Kt.sibling;Kt.sibling=null,Kt=Fs}while(Kt!==null)}}Vt=H}}if((H.subtreeFlags&2064)!==0&&se!==null)se.return=H,Vt=se;else e:for(;Vt!==null;){if(H=Vt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:hv(9,H,H.return)}var ze=H.sibling;if(ze!==null){ze.return=H.return,Vt=ze;break e}Vt=H.return}}var De=h.current;for(Vt=De;Vt!==null;){se=Vt;var We=se.child;if((se.subtreeFlags&2064)!==0&&We!==null)We.return=se,Vt=We;else e:for(se=De;Vt!==null;){if(Ne=Vt,(Ne.flags&2048)!==0)try{switch(Ne.tag){case 0:case 11:case 15:o_(9,Ne)}}catch(Xt){js(Ne,Ne.return,Xt)}if(Ne===se){Vt=null;break e}var Nt=Ne.sibling;if(Nt!==null){Nt.return=Ne.return,Vt=Nt;break e}Vt=Ne.return}}if(ln=M,Pd(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(ci,h)}catch{}A=!0}return A}finally{Tn=N,dl.transition=x}}return!1}function AB(h,x,N){x=$p(N,x),x=K$(h,x,1),h=Dd(h,x,1),x=Ii(),h!==null&&(Bx(h,1,x),so(h,x))}function js(h,x,N){if(h.tag===3)AB(h,h,N);else for(;x!==null;){if(x.tag===3){AB(x,h,N);break}else if(x.tag===1){var A=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Id===null||!Id.has(A))){h=$p(N,h),h=Y$(x,h,1),x=Dd(x,h,1),h=Ii(),x!==null&&(Bx(x,1,h),so(x,h));break}}x=x.return}}function _ge(h,x,N){var A=h.pingCache;A!==null&&A.delete(x),x=Ii(),h.pingedLanes|=h.suspendedLanes&N,Ra===h&&(Xa&N)===N&&(pa===4||pa===3&&(Xa&130023424)===Xa&&500>ot()-$E?kh(h,0):LE|=N),so(h,x)}function PB(h,x){x===0&&((h.mode&1)===0?x=1:(x=_1,_1<<=1,(_1&130023424)===0&&(_1=4194304)));var N=Ii();h=Tu(h,x),h!==null&&(Bx(h,x,N),so(h,N))}function jge(h){var x=h.memoizedState,N=0;x!==null&&(N=x.retryLane),PB(h,N)}function Nge(h,x){var N=0;switch(h.tag){case 13:var A=h.stateNode,M=h.memoizedState;M!==null&&(N=M.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(x),PB(h,N)}var OB;OB=function(h,x,N){if(h!==null)if(h.memoizedProps!==x.pendingProps||eo.current)ro=!0;else{if((h.lanes&N)===0&&(x.flags&128)===0)return ro=!1,dge(h,x,N);ro=(h.flags&131072)!==0}else ro=!1,cs&&(x.flags&1048576)!==0&&d$(x,q1,x.index);switch(x.lanes=0,x.tag){case 2:var A=x.type;a_(h,x),h=x.pendingProps;var M=Pp(x,ui.current);Fp(x,N),M=gE(null,x,A,h,M,N);var H=xE();return x.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,to(A)?(H=!0,U1(x)):H=!1,x.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,cE(x),M.updater=n_,x.stateNode=M,M._reactInternals=x,jE(x,A,h,N),x=CE(null,x,A,!0,H,N)):(x.tag=0,cs&&H&&QC(x),Ri(null,x,M,N),x=x.child),x;case 16:A=x.elementType;e:{switch(a_(h,x),h=x.pendingProps,M=A._init,A=M(A._payload),x.type=A,M=x.tag=kge(A),h=Xl(A,h),M){case 0:x=kE(null,x,A,h,N);break e;case 1:x=sB(null,x,A,h,N);break e;case 11:x=Q$(null,x,A,h,N);break e;case 14:x=eB(null,x,A,Xl(A.type,h),N);break e}throw Error(r(306,A,""))}return x;case 0:return A=x.type,M=x.pendingProps,M=x.elementType===A?M:Xl(A,M),kE(h,x,A,M,N);case 1:return A=x.type,M=x.pendingProps,M=x.elementType===A?M:Xl(A,M),sB(h,x,A,M,N);case 3:e:{if(aB(x),h===null)throw Error(r(387));A=x.pendingProps,H=x.memoizedState,M=H.element,b$(h,x),X1(x,A,null,N);var se=x.memoizedState;if(A=se.element,H.isDehydrated)if(H={element:A,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},x.updateQueue.baseState=H,x.memoizedState=H,x.flags&256){M=$p(Error(r(423)),x),x=iB(h,x,A,N,M);break e}else if(A!==M){M=$p(Error(r(424)),x),x=iB(h,x,A,N,M);break e}else for(Eo=Ed(x.stateNode.containerInfo.firstChild),Co=x,cs=!0,Yl=null,N=v$(x,null,A,N),x.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Rp(),A===M){x=Pu(h,x,N);break e}Ri(h,x,A,N)}x=x.child}return x;case 5:return j$(x),h===null&&rE(x),A=x.type,M=x.pendingProps,H=h!==null?h.memoizedProps:null,se=M.children,GC(A,M)?se=null:H!==null&&GC(A,H)&&(x.flags|=32),nB(h,x),Ri(h,x,se,N),x.child;case 6:return h===null&&rE(x),null;case 13:return oB(h,x,N);case 4:return uE(x,x.stateNode.containerInfo),A=x.pendingProps,h===null?x.child=Ip(x,null,A,N):Ri(h,x,A,N),x.child;case 11:return A=x.type,M=x.pendingProps,M=x.elementType===A?M:Xl(A,M),Q$(h,x,A,M,N);case 7:return Ri(h,x,x.pendingProps,N),x.child;case 8:return Ri(h,x,x.pendingProps.children,N),x.child;case 12:return Ri(h,x,x.pendingProps.children,N),x.child;case 10:e:{if(A=x.type._context,M=x.pendingProps,H=x.memoizedProps,se=M.value,Gn(G1,A._currentValue),A._currentValue=se,H!==null)if(Kl(H.value,se)){if(H.children===M.children&&!eo.current){x=Pu(h,x,N);break e}}else for(H=x.child,H!==null&&(H.return=x);H!==null;){var Ne=H.dependencies;if(Ne!==null){se=H.child;for(var Te=Ne.firstContext;Te!==null;){if(Te.context===A){if(H.tag===1){Te=Au(-1,N&-N),Te.tag=2;var Ye=H.updateQueue;if(Ye!==null){Ye=Ye.shared;var pt=Ye.pending;pt===null?Te.next=Te:(Te.next=pt.next,pt.next=Te),Ye.pending=Te}}H.lanes|=N,Te=H.alternate,Te!==null&&(Te.lanes|=N),oE(H.return,N,x),Ne.lanes|=N;break}Te=Te.next}}else if(H.tag===10)se=H.type===x.type?null:H.child;else if(H.tag===18){if(se=H.return,se===null)throw Error(r(341));se.lanes|=N,Ne=se.alternate,Ne!==null&&(Ne.lanes|=N),oE(se,N,x),se=H.sibling}else se=H.child;if(se!==null)se.return=H;else for(se=H;se!==null;){if(se===x){se=null;break}if(H=se.sibling,H!==null){H.return=se.return,se=H;break}se=se.return}H=se}Ri(h,x,M.children,N),x=x.child}return x;case 9:return M=x.type,A=x.pendingProps.children,Fp(x,N),M=cl(M),A=A(M),x.flags|=1,Ri(h,x,A,N),x.child;case 14:return A=x.type,M=Xl(A,x.pendingProps),M=Xl(A.type,M),eB(h,x,A,M,N);case 15:return tB(h,x,x.type,x.pendingProps,N);case 17:return A=x.type,M=x.pendingProps,M=x.elementType===A?M:Xl(A,M),a_(h,x),x.tag=1,to(A)?(h=!0,U1(x)):h=!1,Fp(x,N),H$(x,A,M),jE(x,A,M,N),CE(null,x,A,!0,h,N);case 19:return cB(h,x,N);case 22:return rB(h,x,N)}throw Error(r(156,x.tag))};function DB(h,x){return it(h,x)}function Sge(h,x,N,A){this.tag=h,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fl(h,x,N,A){return new Sge(h,x,N,A)}function GE(h){return h=h.prototype,!(!h||!h.isReactComponent)}function kge(h){if(typeof h=="function")return GE(h)?1:0;if(h!=null){if(h=h.$$typeof,h===D)return 11;if(h===W)return 14}return 2}function $d(h,x){var N=h.alternate;return N===null?(N=fl(h.tag,x,h.key,h.mode),N.elementType=h.elementType,N.type=h.type,N.stateNode=h.stateNode,N.alternate=h,h.alternate=N):(N.pendingProps=x,N.type=h.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=h.flags&14680064,N.childLanes=h.childLanes,N.lanes=h.lanes,N.child=h.child,N.memoizedProps=h.memoizedProps,N.memoizedState=h.memoizedState,N.updateQueue=h.updateQueue,x=h.dependencies,N.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},N.sibling=h.sibling,N.index=h.index,N.ref=h.ref,N}function g_(h,x,N,A,M,H){var se=2;if(A=h,typeof h=="function")GE(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case E:return Eh(N.children,M,H,x);case R:se=8,M|=8;break;case P:return h=fl(12,N,x,M|2),h.elementType=P,h.lanes=H,h;case I:return h=fl(13,N,x,M),h.elementType=I,h.lanes=H,h;case L:return h=fl(19,N,x,M),h.elementType=L,h.lanes=H,h;case G:return x_(N,M,H,x);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case T:se=10;break e;case O:se=9;break e;case D:se=11;break e;case W:se=14;break e;case q:se=16,A=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return x=fl(se,N,x,M),x.elementType=h,x.type=A,x.lanes=H,x}function Eh(h,x,N,A){return h=fl(7,h,A,x),h.lanes=N,h}function x_(h,x,N,A){return h=fl(22,h,A,x),h.elementType=G,h.lanes=N,h.stateNode={isHidden:!1},h}function KE(h,x,N){return h=fl(6,h,null,x),h.lanes=N,h}function YE(h,x,N){return x=fl(4,h.children!==null?h.children:[],h.key,x),x.lanes=N,x.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},x}function Cge(h,x,N,A,M){this.tag=x,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_C(0),this.expirationTimes=_C(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_C(0),this.identifierPrefix=A,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function XE(h,x,N,A,M,H,se,Ne,Te){return h=new Cge(h,x,N,Ne,Te),x===1?(x=1,H===!0&&(x|=8)):x=0,H=fl(3,null,null,x),h.current=H,H.stateNode=h,H.memoizedState={element:A,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},cE(H),h}function Ege(h,x,N){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:A==null?null:""+A,children:h,containerInfo:x,implementation:N}}function RB(h){if(!h)return Ad;h=h._reactInternals;e:{if(ve(h)!==h||h.tag!==1)throw Error(r(170));var x=h;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(to(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(h.tag===1){var N=h.type;if(to(N))return l$(h,N,x)}return x}function IB(h,x,N,A,M,H,se,Ne,Te){return h=XE(N,A,!0,h,M,H,se,Ne,Te),h.context=RB(null),N=h.current,A=Ii(),M=Fd(N),H=Au(A,M),H.callback=x??null,Dd(N,H,M),h.current.lanes=M,Bx(h,M,A),so(h,A),h}function v_(h,x,N,A){var M=x.current,H=Ii(),se=Fd(M);return N=RB(N),x.context===null?x.context=N:x.pendingContext=N,x=Au(H,se),x.payload={element:h},A=A===void 0?null:A,A!==null&&(x.callback=A),h=Dd(M,x,se),h!==null&&(Ql(h,M,se,H),Y1(h,M,se)),se}function y_(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function MB(h,x){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var N=h.retryLane;h.retryLane=N!==0&&N<x?N:x}}function JE(h,x){MB(h,x),(h=h.alternate)&&MB(h,x)}function Tge(){return null}var FB=typeof reportError=="function"?reportError:function(h){console.error(h)};function ZE(h){this._internalRoot=h}b_.prototype.render=ZE.prototype.render=function(h){var x=this._internalRoot;if(x===null)throw Error(r(409));v_(h,x,null,null)},b_.prototype.unmount=ZE.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var x=h.containerInfo;Sh(function(){v_(null,h,null,null)}),x[Su]=null}};function b_(h){this._internalRoot=h}b_.prototype.unstable_scheduleHydration=function(h){if(h){var x=b8();h={blockedOn:null,target:h,priority:x};for(var N=0;N<Sd.length&&x!==0&&x<Sd[N].priority;N++);Sd.splice(N,0,h),N===0&&j8(h)}};function QE(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function w_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function LB(){}function Age(h,x,N,A,M){if(M){if(typeof A=="function"){var H=A;A=function(){var Ye=y_(se);H.call(Ye)}}var se=IB(x,A,h,0,null,!1,!1,"",LB);return h._reactRootContainer=se,h[Su]=se.current,ev(h.nodeType===8?h.parentNode:h),Sh(),se}for(;M=h.lastChild;)h.removeChild(M);if(typeof A=="function"){var Ne=A;A=function(){var Ye=y_(Te);Ne.call(Ye)}}var Te=XE(h,0,!1,null,null,!1,!1,"",LB);return h._reactRootContainer=Te,h[Su]=Te.current,ev(h.nodeType===8?h.parentNode:h),Sh(function(){v_(x,Te,N,A)}),Te}function __(h,x,N,A,M){var H=N._reactRootContainer;if(H){var se=H;if(typeof M=="function"){var Ne=M;M=function(){var Te=y_(se);Ne.call(Te)}}v_(x,se,h,M)}else se=Age(N,x,h,M,A);return y_(se)}v8=function(h){switch(h.tag){case 3:var x=h.stateNode;if(x.current.memoizedState.isDehydrated){var N=$x(x.pendingLanes);N!==0&&(jC(x,N|1),so(x,ot()),(ln&6)===0&&(Vp=ot()+500,Pd()))}break;case 13:Sh(function(){var A=Tu(h,1);if(A!==null){var M=Ii();Ql(A,h,1,M)}}),JE(h,1)}},NC=function(h){if(h.tag===13){var x=Tu(h,134217728);if(x!==null){var N=Ii();Ql(x,h,134217728,N)}JE(h,134217728)}},y8=function(h){if(h.tag===13){var x=Fd(h),N=Tu(h,x);if(N!==null){var A=Ii();Ql(N,h,x,A)}JE(h,x)}},b8=function(){return Tn},w8=function(h,x){var N=Tn;try{return Tn=h,x()}finally{Tn=N}},Zt=function(h,x,N){switch(x){case"input":if(ue(h,N),x=N.name,N.type==="radio"&&x!=null){for(N=h;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<N.length;x++){var A=N[x];if(A!==h&&A.form===h.form){var M=$1(A);if(!M)throw Error(r(90));z(A),ue(A,M)}}}break;case"textarea":tt(h,N);break;case"select":x=N.value,x!=null&&be(h,!!N.multiple,x,!1)}},jr=qE,br=Sh;var Pge={usingClientEntryPoint:!1,Events:[nv,Tp,$1,jn,$t,qE]},xv={findFiberByHostInstance:xh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oge={bundleType:xv.bundleType,version:xv.version,rendererPackageName:xv.rendererPackageName,rendererConfig:xv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=qe(h),h===null?null:h.stateNode},findFiberByHostInstance:xv.findFiberByHostInstance||Tge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j_.isDisabled&&j_.supportsFiber)try{ci=j_.inject(Oge),ms=j_}catch{}}return ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pge,ao.createPortal=function(h,x){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QE(x))throw Error(r(200));return Ege(h,x,null,N)},ao.createRoot=function(h,x){if(!QE(h))throw Error(r(299));var N=!1,A="",M=FB;return x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(A=x.identifierPrefix),x.onRecoverableError!==void 0&&(M=x.onRecoverableError)),x=XE(h,1,!1,null,null,N,!1,A,M),h[Su]=x.current,ev(h.nodeType===8?h.parentNode:h),new ZE(x)},ao.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var x=h._reactInternals;if(x===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=qe(x),h=h===null?null:h.stateNode,h},ao.flushSync=function(h){return Sh(h)},ao.hydrate=function(h,x,N){if(!w_(x))throw Error(r(200));return __(null,h,x,!0,N)},ao.hydrateRoot=function(h,x,N){if(!QE(h))throw Error(r(405));var A=N!=null&&N.hydratedSources||null,M=!1,H="",se=FB;if(N!=null&&(N.unstable_strictMode===!0&&(M=!0),N.identifierPrefix!==void 0&&(H=N.identifierPrefix),N.onRecoverableError!==void 0&&(se=N.onRecoverableError)),x=IB(x,null,h,1,N??null,M,!1,H,se),h[Su]=x.current,ev(h),A)for(h=0;h<A.length;h++)N=A[h],M=N._getVersion,M=M(N._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[N,M]:x.mutableSourceEagerHydrationData.push(N,M);return new b_(x)},ao.render=function(h,x,N){if(!w_(x))throw Error(r(200));return __(null,h,x,!1,N)},ao.unmountComponentAtNode=function(h){if(!w_(h))throw Error(r(40));return h._reactRootContainer?(Sh(function(){__(null,null,h,!1,function(){h._reactRootContainer=null,h[Su]=null})}),!0):!1},ao.unstable_batchedUpdates=qE,ao.unstable_renderSubtreeIntoContainer=function(h,x,N,A){if(!w_(N))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return __(h,x,N,!1,A)},ao.version="18.3.1-next-f1338f8080-20240426",ao}var HB;function rZ(){if(HB)return rT.exports;HB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rT.exports=Uge(),rT.exports}var GB;function Vge(){if(GB)return S_;GB=1;var e=rZ();return S_.createRoot=e.createRoot,S_.hydrateRoot=e.hydrateRoot,S_}var zge=Vge(),b=x2();const oe=on(b),jM=Rge({__proto__:null,default:oe},[b]),qge=1,Wge=1e6;let aT=0;function Hge(){return aT=(aT+1)%Number.MAX_SAFE_INTEGER,aT.toString()}const iT=new Map,KB=e=>{if(iT.has(e))return;const t=setTimeout(()=>{iT.delete(e),dy({type:"REMOVE_TOAST",toastId:e})},Wge);iT.set(e,t)},Gge=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qge)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?KB(r):e.toasts.forEach(n=>{KB(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Aj=[];let Pj={toasts:[]};function dy(e){Pj=Gge(Pj,e),Aj.forEach(t=>{t(Pj)})}function Ie({...e}){const t=Hge(),r=a=>dy({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>dy({type:"DISMISS_TOAST",toastId:t});return dy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function En(){const[e,t]=b.useState(Pj);return b.useEffect(()=>(Aj.push(t),()=>{const r=Aj.indexOf(t);r>-1&&Aj.splice(r,1)}),[e]),{...e,toast:Ie,dismiss:r=>dy({type:"DISMISS_TOAST",toastId:r})}}var ix=rZ();const nZ=on(ix);function mt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function YB(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function v2(...e){return t=>{let r=!1;const n=e.map(a=>{const i=YB(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():YB(e[a],null)}}}}function tr(...e){return b.useCallback(v2(...e),e)}function Kge(e,t){const r=b.createContext(t),n=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Is(e,t=[]){let r=[];function n(i,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:m,children:p,...y}=f,g=m?.[e]?.[c]||l,v=b.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,m){const p=m?.[e]?.[c]||l,y=b.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>b.createContext(o));return function(l){const c=l?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Yge(a,...t)]}function Yge(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function kf(e){const t=Xge(e),r=b.forwardRef((n,a)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(Jge);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var sZ=kf("Slot");function Xge(e){const t=b.forwardRef((r,n)=>{const{children:a,...i}=r;if(b.isValidElement(a)){const o=Qge(a),l=Zge(i,a.props);return a.type!==b.Fragment&&(l.ref=n?v2(n,o):o),b.cloneElement(a,l)}return b.Children.count(a)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aZ=Symbol("radix.slottable");function iZ(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=aZ,t}function Jge(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aZ}function Zge(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Qge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ox(e){const t=e+"CollectionProvider",[r,n]=Is(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:_}=g,w=oe.useRef(null),j=oe.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:j,collectionRef:w,children:_})};o.displayName=t;const l=e+"CollectionSlot",c=kf(l),u=oe.forwardRef((g,v)=>{const{scope:_,children:w}=g,j=i(l,_),C=tr(v,j.collectionRef);return s.jsx(c,{ref:C,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=kf(d),p=oe.forwardRef((g,v)=>{const{scope:_,children:w,...j}=g,C=oe.useRef(null),S=tr(v,C),k=i(d,_);return oe.useEffect(()=>(k.itemMap.set(C,{ref:C,...j}),()=>void k.itemMap.delete(C))),s.jsx(m,{[f]:"",ref:S,children:w})});p.displayName=d;function y(g){const v=i(e+"CollectionConsumer",g);return oe.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,E)=>j.indexOf(k.ref.current)-j.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var e0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],At=e0e.reduce((e,t)=>{const r=kf(`Primitive.${t}`),n=b.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function NM(e,t){e&&ix.flushSync(()=>e.dispatchEvent(t))}function Ts(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>t.current?.(...r),[])}function t0e(e,t=globalThis?.document){const r=Ts(e);b.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var r0e="DismissableLayer",VD="dismissableLayer.update",n0e="dismissableLayer.pointerDownOutside",s0e="dismissableLayer.focusOutside",XB,oZ=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rp=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(oZ),[d,f]=b.useState(null),m=d?.ownerDocument??globalThis?.document,[,p]=b.useState({}),y=tr(t,E=>f(E)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(v),w=d?g.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=_,S=i0e(E=>{const R=E.target,P=[...u.branches].some(T=>T.contains(R));!C||P||(a?.(E),o?.(E),E.defaultPrevented||l?.())},m),k=o0e(E=>{const R=E.target;[...u.branches].some(T=>T.contains(R))||(i?.(E),o?.(E),E.defaultPrevented||l?.())},m);return t0e(E=>{w===u.layers.size-1&&(n?.(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XB=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),JB(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=XB)}},[d,m,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),JB())},[d,u]),b.useEffect(()=>{const E=()=>p({});return document.addEventListener(VD,E),()=>document.removeEventListener(VD,E)},[]),s.jsx(At.div,{...c,ref:y,style:{pointerEvents:j?C?"auto":"none":void 0,...e.style},onFocusCapture:mt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:mt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:mt(e.onPointerDownCapture,S.onPointerDownCapture)})});rp.displayName=r0e;var a0e="DismissableLayerBranch",lZ=b.forwardRef((e,t)=>{const r=b.useContext(oZ),n=b.useRef(null),a=tr(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(At.div,{...e,ref:a})});lZ.displayName=a0e;function i0e(e,t=globalThis?.document){const r=Ts(e),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){cZ(n0e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function o0e(e,t=globalThis?.document){const r=Ts(e),n=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!n.current&&cZ(s0e,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JB(){const e=new CustomEvent(VD);document.dispatchEvent(e)}function cZ(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?NM(a,i):a.dispatchEvent(i)}var l0e=rp,c0e=lZ,Ds=globalThis?.document?b.useLayoutEffect:()=>{},u0e="Portal",lx=b.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=b.useState(!1);Ds(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?nZ.createPortal(s.jsx(At.div,{...n,ref:t}),o):null});lx.displayName=u0e;function d0e(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var fa=e=>{const{present:t,children:r}=e,n=f0e(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=tr(n.ref,h0e(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:i}):null};fa.displayName="Presence";function f0e(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=d0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=k_(n.current);i.current=l==="mounted"?u:"none"},[l]),Ds(()=>{const u=n.current,d=a.current;if(d!==e){const m=i.current,p=k_(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ds(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=k_(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(i.current=k_(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function k_(e){return e?.animationName||"none"}function h0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var m0e=jM[" useInsertionEffect ".trim().toString()]||Ds;function Pi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=p0e({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=b.useCallback(d=>{if(l){const f=g0e(d)?d(e):d;f!==e&&o.current?.(f)}else i(d)},[l,e,i,o]);return[c,u]}function p0e({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),a=b.useRef(r),i=b.useRef(t);return m0e(()=>{i.current=t},[t]),b.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function g0e(e){return typeof e=="function"}var uZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),x0e="VisuallyHidden",y2=b.forwardRef((e,t)=>s.jsx(At.span,{...e,ref:t,style:{...uZ,...e.style}}));y2.displayName=x0e;var v0e=y2,SM="ToastProvider",[kM,y0e,b0e]=ox("Toast"),[dZ]=Is("Toast",[b0e]),[w0e,b2]=dZ(SM),fZ=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),m=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${SM}\`. Expected non-empty \`string\`.`),s.jsx(kM.Provider,{scope:t,children:s.jsx(w0e,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};fZ.displayName=SM;var hZ="ToastViewport",_0e=["F8"],zD="toast.viewportPause",qD="toast.viewportResume",mZ=b.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=_0e,label:a="Notifications ({hotkey})",...i}=e,o=b2(hZ,r),l=y0e(r),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),m=tr(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;b.useEffect(()=>{const v=_=>{n.length!==0&&n.every(j=>_[j]||_.code===j)&&f.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),b.useEffect(()=>{const v=c.current,_=f.current;if(y&&v&&_){const w=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(zD);_.dispatchEvent(k),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(qD);_.dispatchEvent(k),o.isClosePausedRef.current=!1}},C=k=>{!v.contains(k.relatedTarget)&&j()},S=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",w),v.addEventListener("focusout",C),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",j)}}},[y,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const w=l().map(j=>{const C=j.ref.current,S=[C,...I0e(C)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return b.useEffect(()=>{const v=f.current;if(v){const _=w=>{const j=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!j){const S=document.activeElement,k=w.shiftKey;if(w.target===v&&k){u.current?.focus();return}const P=g({tabbingDirection:k?"backwards":"forwards"}),T=P.findIndex(O=>O===S);oT(P.slice(T+1))?w.preventDefault():k?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",_),()=>v.removeEventListener("keydown",_)}},[l,g]),s.jsxs(c0e,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(WD,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});oT(v)}}),s.jsx(kM.Slot,{scope:r,children:s.jsx(At.ol,{tabIndex:-1,...i,ref:m})}),y&&s.jsx(WD,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});oT(v)}})]})});mZ.displayName=hZ;var pZ="ToastFocusProxy",WD=b.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=b2(pZ,r);return s.jsx(y2,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});WD.displayName=pZ;var Tw="Toast",j0e="toast.swipeStart",N0e="toast.swipeMove",S0e="toast.swipeCancel",k0e="toast.swipeEnd",gZ=b.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Pi({prop:n,defaultProp:a??!0,onChange:i,caller:Tw});return s.jsx(fa,{present:r||l,children:s.jsx(T0e,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ts(e.onPause),onResume:Ts(e.onResume),onSwipeStart:mt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:mt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:mt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:mt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});gZ.displayName=Tw;var[C0e,E0e]=dZ(Tw,{onClose(){}}),T0e=b.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=e,g=b2(Tw,r),[v,_]=b.useState(null),w=tr(t,L=>_(L)),j=b.useRef(null),C=b.useRef(null),S=a||g.duration,k=b.useRef(0),E=b.useRef(S),R=b.useRef(0),{onToastAdd:P,onToastRemove:T}=g,O=Ts(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),o()}),D=b.useCallback(L=>{!L||L===1/0||(window.clearTimeout(R.current),k.current=new Date().getTime(),R.current=window.setTimeout(O,L))},[O]);b.useEffect(()=>{const L=g.viewport;if(L){const W=()=>{D(E.current),u?.()},q=()=>{const G=new Date().getTime()-k.current;E.current=E.current-G,window.clearTimeout(R.current),c?.()};return L.addEventListener(zD,q),L.addEventListener(qD,W),()=>{L.removeEventListener(zD,q),L.removeEventListener(qD,W)}}},[g.viewport,S,c,u,D]),b.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(S)},[i,S,g.isClosePausedRef,D]),b.useEffect(()=>(P(),()=>T()),[P,T]);const I=b.useMemo(()=>v?jZ(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(A0e,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),s.jsx(C0e,{scope:r,onClose:O,children:ix.createPortal(s.jsx(kM.ItemSlot,{scope:r,children:s.jsx(l0e,{asChild:!0,onEscapeKeyDown:mt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(At.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:mt(e.onKeyDown,L=>{L.key==="Escape"&&(l?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:mt(e.onPointerDown,L=>{L.button===0&&(j.current={x:L.clientX,y:L.clientY})}),onPointerMove:mt(e.onPointerMove,L=>{if(!j.current)return;const W=L.clientX-j.current.x,q=L.clientY-j.current.y,G=!!C.current,K=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=K?U(0,W):0,B=K?0:U(0,q),V=L.pointerType==="touch"?10:2,Z={x:F,y:B},X={originalEvent:L,delta:Z};G?(C.current=Z,C_(N0e,f,X,{discrete:!1})):ZB(Z,g.swipeDirection,V)?(C.current=Z,C_(j0e,d,X,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>V||Math.abs(q)>V)&&(j.current=null)}),onPointerUp:mt(e.onPointerUp,L=>{const W=C.current,q=L.target;if(q.hasPointerCapture(L.pointerId)&&q.releasePointerCapture(L.pointerId),C.current=null,j.current=null,W){const G=L.currentTarget,K={originalEvent:L,delta:W};ZB(W,g.swipeDirection,g.swipeThreshold)?C_(k0e,p,K,{discrete:!0}):C_(S0e,m,K,{discrete:!0}),G.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),A0e=e=>{const{__scopeToast:t,children:r,...n}=e,a=b2(Tw,t),[i,o]=b.useState(!1),[l,c]=b.useState(!1);return D0e(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(lx,{asChild:!0,children:s.jsx(y2,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},P0e="ToastTitle",xZ=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(At.div,{...n,ref:t})});xZ.displayName=P0e;var O0e="ToastDescription",vZ=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(At.div,{...n,ref:t})});vZ.displayName=O0e;var yZ="ToastAction",bZ=b.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(_Z,{altText:r,asChild:!0,children:s.jsx(CM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${yZ}\`. Expected non-empty \`string\`.`),null)});bZ.displayName=yZ;var wZ="ToastClose",CM=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=E0e(wZ,r);return s.jsx(_Z,{asChild:!0,children:s.jsx(At.button,{type:"button",...n,ref:t,onClick:mt(e.onClick,a.onClose)})})});CM.displayName=wZ;var _Z=b.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(At.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function jZ(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),R0e(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...jZ(n))}}),t}function C_(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?NM(a,i):a.dispatchEvent(i)}var ZB=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function D0e(e=()=>{}){const t=Ts(e);Ds(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function R0e(e){return e.nodeType===e.ELEMENT_NODE}function I0e(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oT(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var M0e=fZ,NZ=mZ,SZ=gZ,kZ=xZ,CZ=vZ,EZ=bZ,TZ=CM;function AZ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AZ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ir(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AZ(e))&&(n&&(n+=" "),n+=t);return n}const QB=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,e9=Ir,cx=(e,t)=>r=>{var n;if(t?.variants==null)return e9(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const m=QB(d)||QB(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,f,m]:u},[]);return e9(e,o,c,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PZ=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...L0e,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:PZ("lucide",a),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(e,t)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement($0e,{ref:i,iconNode:t,className:PZ(`lucide-${F0e(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=dt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=dt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=dt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=dt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=dt("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=dt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=dt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0e=dt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=dt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0e=dt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0e=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0e=dt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=dt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=dt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0e=dt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=dt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0e=dt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=dt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=dt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=dt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=dt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=dt("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=dt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=dt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=dt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=dt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=dt("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=dt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=dt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=dt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=dt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=dt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=dt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=dt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=dt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=dt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=dt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=dt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=dt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=dt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=dt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=dt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=dt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=dt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=dt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=dt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=dt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=dt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=dt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=dt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=dt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=dt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=dt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=dt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=dt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),DM="-",exe=e=>{const t=rxe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(DM);return l[0]===""&&l.length!==1&&l.shift(),qZ(l,t)||txe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},qZ=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?qZ(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(DM);return t.validators.find(({validator:o})=>o(i))?.classGroupId},d9=/^\[(.+)\]$/,txe=e=>{if(d9.test(e)){const t=d9.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rxe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return sxe(Object.entries(e.classGroups),r).forEach(([i,o])=>{ZD(o,n,i,t)}),n},ZD=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:f9(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(nxe(a)){ZD(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{ZD(o,f9(t,i),r,n)})})},f9=(e,t)=>{let r=e;return t.split(DM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nxe=e=>e.isThemeGetter,sxe=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,axe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},WZ="!",ixe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let _=l[v];if(u===0){if(_===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(_==="/"){f=v;continue}}_==="["?u++:_==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(WZ),y=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},oxe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},lxe=e=>({cache:axe(e.cacheSize),parseClassName:ixe(e),...exe(e)}),cxe=/\s+/,uxe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(cxe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let y=!!p,g=n(y?m.substring(0,p):m);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=oxe(d).join(":"),_=f?v+WZ:v,w=_+g;if(i.includes(w))continue;i.push(w);const j=a(g,y);for(let C=0;C<j.length;++C){const S=j[C];i.push(_+S)}l=u+(l.length>0?" "+l:l)}return l};function dxe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=HZ(t))&&(n&&(n+=" "),n+=r);return n}const HZ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=HZ(e[n]))&&(r&&(r+=" "),r+=t);return r};function fxe(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=lxe(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=uxe(c,r);return a(c,d),d}return function(){return i(dxe.apply(null,arguments))}}const ns=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},GZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,hxe=/^\d+\/\d+$/,mxe=new Set(["px","full","screen"]),pxe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gxe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xxe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vxe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yxe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Du=e=>zg(e)||mxe.has(e)||hxe.test(e),Ud=e=>dx(e,"length",Cxe),zg=e=>!!e&&!Number.isNaN(Number(e)),cT=e=>dx(e,"number",zg),yv=e=>!!e&&Number.isInteger(Number(e)),bxe=e=>e.endsWith("%")&&zg(e.slice(0,-1)),Lr=e=>GZ.test(e),Vd=e=>pxe.test(e),wxe=new Set(["length","size","percentage"]),_xe=e=>dx(e,wxe,KZ),jxe=e=>dx(e,"position",KZ),Nxe=new Set(["image","url"]),Sxe=e=>dx(e,Nxe,Txe),kxe=e=>dx(e,"",Exe),bv=()=>!0,dx=(e,t,r)=>{const n=GZ.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Cxe=e=>gxe.test(e)&&!xxe.test(e),KZ=()=>!1,Exe=e=>vxe.test(e),Txe=e=>yxe.test(e),Axe=()=>{const e=ns("colors"),t=ns("spacing"),r=ns("blur"),n=ns("brightness"),a=ns("borderColor"),i=ns("borderRadius"),o=ns("borderSpacing"),l=ns("borderWidth"),c=ns("contrast"),u=ns("grayscale"),d=ns("hueRotate"),f=ns("invert"),m=ns("gap"),p=ns("gradientColorStops"),y=ns("gradientColorStopPositions"),g=ns("inset"),v=ns("margin"),_=ns("opacity"),w=ns("padding"),j=ns("saturate"),C=ns("scale"),S=ns("sepia"),k=ns("skew"),E=ns("space"),R=ns("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Lr,t],D=()=>[Lr,t],I=()=>["",Du,Ud],L=()=>["auto",zg,Lr],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Lr],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[zg,Lr];return{cacheSize:500,separator:":",theme:{colors:[bv],spacing:[Du,Ud],blur:["none","",Vd,Lr],brightness:B(),borderColor:[e],borderRadius:["none","","full",Vd,Lr],borderSpacing:D(),borderWidth:I(),contrast:B(),grayscale:U(),hueRotate:B(),invert:U(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[bxe,Ud],inset:O(),margin:O(),opacity:B(),padding:D(),saturate:B(),scale:B(),sepia:U(),skew:B(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Lr]}],container:["container"],columns:[{columns:[Vd]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Lr]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yv,Lr]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lr]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",yv,Lr]}],"grid-cols":[{"grid-cols":[bv]}],"col-start-end":[{col:["auto",{span:["full",yv,Lr]},Lr]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[bv]}],"row-start-end":[{row:["auto",{span:[yv,Lr]},Lr]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lr,t]}],"min-w":[{"min-w":[Lr,t,"min","max","fit"]}],"max-w":[{"max-w":[Lr,t,"none","full","min","max","fit","prose",{screen:[Vd]},Vd]}],h:[{h:[Lr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vd,Ud]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cT]}],"font-family":[{font:[bv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lr]}],"line-clamp":[{"line-clamp":["none",zg,cT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Du,Lr]}],"list-image":[{"list-image":["none",Lr]}],"list-style-type":[{list:["none","disc","decimal",Lr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Du,Ud]}],"underline-offset":[{"underline-offset":["auto",Du,Lr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),jxe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_xe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sxe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Du,Lr]}],"outline-w":[{outline:[Du,Ud]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Du,Ud]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vd,kxe]}],"shadow-color":[{shadow:[bv]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vd,Lr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lr]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Lr]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[yv,Lr]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Du,Ud,cT]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Pxe=fxe(Axe);function ft(...e){return Pxe(Ir(e))}const Oxe=M0e,YZ=b.forwardRef(({className:e,...t},r)=>s.jsx(NZ,{ref:r,className:ft("fixed top-4 right-4 z-[100] flex max-h-screen max-w-[420px] flex-col gap-2 p-4",e),...t}));YZ.displayName=NZ.displayName;const Dxe=cx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border-2 p-4 pr-8 shadow-xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border-emerald-400 bg-emerald-50 dark:bg-emerald-950 text-emerald-900 dark:text-emerald-100",destructive:"border-red-500 bg-red-50 dark:bg-red-950 text-red-900 dark:text-red-100"}},defaultVariants:{variant:"default"}}),XZ=b.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(SZ,{ref:n,className:ft(Dxe({variant:t}),e),...r}));XZ.displayName=SZ.displayName;const Rxe=b.forwardRef(({className:e,...t},r)=>s.jsx(EZ,{ref:r,className:ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Rxe.displayName=EZ.displayName;const JZ=b.forwardRef(({className:e,...t},r)=>s.jsx(TZ,{ref:r,className:ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Aa,{className:"h-4 w-4"})}));JZ.displayName=TZ.displayName;const ZZ=b.forwardRef(({className:e,...t},r)=>s.jsx(kZ,{ref:r,className:ft("text-sm font-semibold",e),...t}));ZZ.displayName=kZ.displayName;const QZ=b.forwardRef(({className:e,...t},r)=>s.jsx(CZ,{ref:r,className:ft("text-sm opacity-90",e),...t}));QZ.displayName=CZ.displayName;function Ixe(){const{toasts:e,dismiss:t}=En(),r=b.useRef(null);return b.useEffect(()=>{const n=a=>{e.length!==0&&r.current&&!r.current.contains(a.target)&&e.forEach(i=>{t(i.id)})};if(e.length>0){const a=setTimeout(()=>{document.addEventListener("click",n)},100);return()=>{clearTimeout(a),document.removeEventListener("click",n)}}},[e,t]),s.jsxs(Oxe,{children:[e.map(function({id:n,title:a,description:i,action:o,...l}){return s.jsxs(XZ,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[a&&s.jsx(ZZ,{children:a}),i&&s.jsx(QZ,{children:i})]}),o,s.jsx(JZ,{})]},n)}),s.jsx(YZ,{ref:r})]})}var oN=["light","dark"],RM="(prefers-color-scheme: dark)",Mxe=typeof window>"u",IM=b.createContext(void 0),Fxe={setTheme:e=>{},themes:[]},eQ=()=>{var e;return(e=b.useContext(IM))!=null?e:Fxe},Lxe=e=>b.useContext(IM)?e.children:b.createElement(Bxe,{...e}),$xe=["light","dark"],Bxe=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=$xe,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=b.useState(()=>h9(a,o)),[p,y]=b.useState(()=>h9(a)),g=c?Object.values(c):i,v=b.useCallback(C=>{let S=C;if(!S)return;C==="system"&&r&&(S=m9());let k=c?c[S]:S,E=t?Vxe():null,R=document.documentElement;if(l==="class"?(R.classList.remove(...g),k&&R.classList.add(k)):k?R.setAttribute(l,k):R.removeAttribute(l),n){let P=oN.includes(o)?o:null,T=oN.includes(S)?S:P;R.style.colorScheme=T}E?.()},[]),_=b.useCallback(C=>{let S=typeof C=="function"?C(C):C;m(S);try{localStorage.setItem(a,S)}catch{}},[e]),w=b.useCallback(C=>{let S=m9(C);y(S),f==="system"&&r&&!e&&v("system")},[f,e]);b.useEffect(()=>{let C=window.matchMedia(RM);return C.addListener(w),w(C),()=>C.removeListener(w)},[w]),b.useEffect(()=>{let C=S=>{if(S.key!==a)return;let k=S.newValue||o;_(k)};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[_]),b.useEffect(()=>{v(e??f)},[e,f]);let j=b.useMemo(()=>({theme:f,setTheme:_,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:r?[...i,"system"]:i,systemTheme:r?p:void 0}),[f,_,e,p,r,i]);return b.createElement(IM.Provider,{value:j},b.createElement(Uxe,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},Uxe=b.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?oN.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,v=!0)=>{let _=o?o[y]:y,w=g?y+"|| ''":`'${_}'`,j="";return a&&v&&!g&&oN.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),r==="class"?g||_?j+=`c.add(${w})`:j+="null":_&&(j+=`d[s](n,${w})`),j},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${RM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),h9=(e,t)=>{if(Mxe)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Vxe=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},m9=e=>(e||(e=window.matchMedia(RM)),e.matches?"dark":"light"),zxe=e=>{switch(e){case"success":return Hxe;case"info":return Kxe;case"warning":return Gxe;case"error":return Yxe;default:return null}},qxe=Array(12).fill(0),Wxe=({visible:e,className:t})=>oe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},oe.createElement("div",{className:"sonner-spinner"},qxe.map((r,n)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Hxe=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gxe=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Kxe=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yxe=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xxe=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Jxe=()=>{let[e,t]=oe.useState(document.hidden);return oe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},QD=1,Zxe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:QD++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],oe.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(eve(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||QD++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},lo=new Zxe,Qxe=(e,t)=>{let r=t?.id||QD++;return lo.addToast({title:e,...t,id:r}),r},eve=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tve=Qxe,rve=()=>lo.toasts,nve=()=>lo.getActiveToasts(),ct=Object.assign(tve,{success:lo.success,info:lo.info,warning:lo.warning,error:lo.error,custom:lo.custom,message:lo.message,promise:lo.promise,dismiss:lo.dismiss,loading:lo.loading},{getHistory:rve,getToasts:nve});function sve(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}sve(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function E_(e){return e.label!==void 0}var ave=3,ive="32px",ove="16px",p9=4e3,lve=356,cve=14,uve=20,dve=200;function ec(...e){return e.filter(Boolean).join(" ")}function fve(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var hve=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:m,toast:p,unstyled:y,interacting:g,setHeights:v,visibleToasts:_,heights:w,index:j,toasts:C,expanded:S,removeToast:k,defaultRichColors:E,closeButton:R,style:P,cancelButtonStyle:T,actionButtonStyle:O,className:D="",descriptionClassName:I="",duration:L,position:W,gap:q,loadingIcon:G,expandByDefault:K,classNames:U,icons:F,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:V}=e,[Z,X]=oe.useState(null),[Q,ce]=oe.useState(null),[de,pe]=oe.useState(!1),[re,ie]=oe.useState(!1),[J,z]=oe.useState(!1),[Se,te]=oe.useState(!1),[_e,Ae]=oe.useState(!1),[ue,Ve]=oe.useState(0),[He,le]=oe.useState(0),be=oe.useRef(p.duration||L||p9),Oe=oe.useRef(null),Ze=oe.useRef(null),tt=j===0,fe=j+1<=_,ee=p.type,we=p.dismissible!==!1,he=p.className||"",Me=p.descriptionClassName||"",Pe=oe.useMemo(()=>w.findIndex($t=>$t.toastId===p.id)||0,[w,p.id]),Re=oe.useMemo(()=>{var $t;return($t=p.closeButton)!=null?$t:R},[p.closeButton,R]),et=oe.useMemo(()=>p.duration||L||p9,[p.duration,L]),jt=oe.useRef(0),je=oe.useRef(0),nt=oe.useRef(0),at=oe.useRef(null),[Dt,lt]=W.split("-"),vt=oe.useMemo(()=>w.reduce(($t,jr,br)=>br>=Pe?$t:$t+jr.height,0),[w,Pe]),Zt=Jxe(),Gt=p.invert||m,pr=ee==="loading";je.current=oe.useMemo(()=>Pe*q+vt,[Pe,vt]),oe.useEffect(()=>{be.current=et},[et]),oe.useEffect(()=>{pe(!0)},[]),oe.useEffect(()=>{let $t=Ze.current;if($t){let jr=$t.getBoundingClientRect().height;return le(jr),v(br=>[{toastId:p.id,height:jr,position:p.position},...br]),()=>v(br=>br.filter(It=>It.toastId!==p.id))}},[v,p.id]),oe.useLayoutEffect(()=>{if(!de)return;let $t=Ze.current,jr=$t.style.height;$t.style.height="auto";let br=$t.getBoundingClientRect().height;$t.style.height=jr,le(br),v(It=>It.find(Rt=>Rt.toastId===p.id)?It.map(Rt=>Rt.toastId===p.id?{...Rt,height:br}:Rt):[{toastId:p.id,height:br,position:p.position},...It])},[de,p.title,p.description,v,p.id]);let Qt=oe.useCallback(()=>{ie(!0),Ve(je.current),v($t=>$t.filter(jr=>jr.toastId!==p.id)),setTimeout(()=>{k(p)},dve)},[p,k,v,je]);oe.useEffect(()=>{if(p.promise&&ee==="loading"||p.duration===1/0||p.type==="loading")return;let $t;return S||g||V&&Zt?(()=>{if(nt.current<jt.current){let jr=new Date().getTime()-jt.current;be.current=be.current-jr}nt.current=new Date().getTime()})():be.current!==1/0&&(jt.current=new Date().getTime(),$t=setTimeout(()=>{var jr;(jr=p.onAutoClose)==null||jr.call(p,p),Qt()},be.current)),()=>clearTimeout($t)},[S,g,p,ee,V,Zt,Qt]),oe.useEffect(()=>{p.delete&&Qt()},[Qt,p.delete]);function jn(){var $t,jr,br;return F!=null&&F.loading?oe.createElement("div",{className:ec(U?.loader,($t=p?.classNames)==null?void 0:$t.loader,"sonner-loader"),"data-visible":ee==="loading"},F.loading):G?oe.createElement("div",{className:ec(U?.loader,(jr=p?.classNames)==null?void 0:jr.loader,"sonner-loader"),"data-visible":ee==="loading"},G):oe.createElement(Wxe,{className:ec(U?.loader,(br=p?.classNames)==null?void 0:br.loader),visible:ee==="loading"})}return oe.createElement("li",{tabIndex:0,ref:Ze,className:ec(D,he,U?.toast,(t=p?.classNames)==null?void 0:t.toast,U?.default,U?.[ee],(r=p?.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":de,"data-promise":!!p.promise,"data-swiped":_e,"data-removed":re,"data-visible":fe,"data-y-position":Dt,"data-x-position":lt,"data-index":j,"data-front":tt,"data-swiping":J,"data-dismissible":we,"data-type":ee,"data-invert":Gt,"data-swipe-out":Se,"data-swipe-direction":Q,"data-expanded":!!(S||K&&de),style:{"--index":j,"--toasts-before":j,"--z-index":C.length-j,"--offset":`${re?ue:je.current}px`,"--initial-height":K?"auto":`${He}px`,...P,...p.style},onDragEnd:()=>{z(!1),X(null),at.current=null},onPointerDown:$t=>{pr||!we||(Oe.current=new Date,Ve(je.current),$t.target.setPointerCapture($t.pointerId),$t.target.tagName!=="BUTTON"&&(z(!0),at.current={x:$t.clientX,y:$t.clientY}))},onPointerUp:()=>{var $t,jr,br,It;if(Se||!we)return;at.current=null;let Rt=Number((($t=Ze.current)==null?void 0:$t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),or=Number(((jr=Ze.current)==null?void 0:jr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((br=Oe.current)==null?void 0:br.getTime()),Bt=Z==="x"?Rt:or,Lt=Math.abs(Bt)/bt;if(Math.abs(Bt)>=uve||Lt>.11){Ve(je.current),(It=p.onDismiss)==null||It.call(p,p),ce(Z==="x"?Rt>0?"right":"left":or>0?"down":"up"),Qt(),te(!0),Ae(!1);return}z(!1),X(null)},onPointerMove:$t=>{var jr,br,It,Rt;if(!at.current||!we||((jr=window.getSelection())==null?void 0:jr.toString().length)>0)return;let or=$t.clientY-at.current.y,bt=$t.clientX-at.current.x,Bt=(br=e.swipeDirections)!=null?br:fve(W);!Z&&(Math.abs(bt)>1||Math.abs(or)>1)&&X(Math.abs(bt)>Math.abs(or)?"x":"y");let Lt={x:0,y:0};Z==="y"?(Bt.includes("top")||Bt.includes("bottom"))&&(Bt.includes("top")&&or<0||Bt.includes("bottom")&&or>0)&&(Lt.y=or):Z==="x"&&(Bt.includes("left")||Bt.includes("right"))&&(Bt.includes("left")&&bt<0||Bt.includes("right")&&bt>0)&&(Lt.x=bt),(Math.abs(Lt.x)>0||Math.abs(Lt.y)>0)&&Ae(!0),(It=Ze.current)==null||It.style.setProperty("--swipe-amount-x",`${Lt.x}px`),(Rt=Ze.current)==null||Rt.style.setProperty("--swipe-amount-y",`${Lt.y}px`)}},Re&&!p.jsx?oe.createElement("button",{"aria-label":B,"data-disabled":pr,"data-close-button":!0,onClick:pr||!we?()=>{}:()=>{var $t;Qt(),($t=p.onDismiss)==null||$t.call(p,p)},className:ec(U?.closeButton,(a=p?.classNames)==null?void 0:a.closeButton)},(i=F?.close)!=null?i:Xxe):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:oe.createElement(oe.Fragment,null,ee||p.icon||p.promise?oe.createElement("div",{"data-icon":"",className:ec(U?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||jn():null,p.type!=="loading"?p.icon||F?.[ee]||zxe(ee):null):null,oe.createElement("div",{"data-content":"",className:ec(U?.content,(l=p?.classNames)==null?void 0:l.content)},oe.createElement("div",{"data-title":"",className:ec(U?.title,(c=p?.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?oe.createElement("div",{"data-description":"",className:ec(I,Me,U?.description,(u=p?.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&E_(p.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:$t=>{var jr,br;E_(p.cancel)&&we&&((br=(jr=p.cancel).onClick)==null||br.call(jr,$t),Qt())},className:ec(U?.cancelButton,(d=p?.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&E_(p.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:$t=>{var jr,br;E_(p.action)&&((br=(jr=p.action).onClick)==null||br.call(jr,$t),!$t.defaultPrevented&&Qt())},className:ec(U?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function g9(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mve(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?ove:ive;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var pve=b.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:y=ave,toastOptions:g,dir:v=g9(),gap:_=cve,loadingIcon:w,icons:j,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:S}=e,[k,E]=oe.useState([]),R=oe.useMemo(()=>Array.from(new Set([n].concat(k.filter(V=>V.position).map(V=>V.position)))),[k,n]),[P,T]=oe.useState([]),[O,D]=oe.useState(!1),[I,L]=oe.useState(!1),[W,q]=oe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=oe.useRef(null),K=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=oe.useRef(null),F=oe.useRef(!1),B=oe.useCallback(V=>{E(Z=>{var X;return(X=Z.find(Q=>Q.id===V.id))!=null&&X.delete||lo.dismiss(V.id),Z.filter(({id:Q})=>Q!==V.id)})},[]);return oe.useEffect(()=>lo.subscribe(V=>{if(V.dismiss){E(Z=>Z.map(X=>X.id===V.id?{...X,delete:!0}:X));return}setTimeout(()=>{nZ.flushSync(()=>{E(Z=>{let X=Z.findIndex(Q=>Q.id===V.id);return X!==-1?[...Z.slice(0,X),{...Z[X],...V},...Z.slice(X+1)]:[V,...Z]})})})}),[]),oe.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Z})=>{q(Z?"dark":"light")})}catch{V.addListener(({matches:X})=>{try{q(X?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),oe.useEffect(()=>{k.length<=1&&D(!1)},[k]),oe.useEffect(()=>{let V=Z=>{var X,Q;a.every(ce=>Z[ce]||Z.code===ce)&&(D(!0),(X=G.current)==null||X.focus()),Z.code==="Escape"&&(document.activeElement===G.current||(Q=G.current)!=null&&Q.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[a]),oe.useEffect(()=>{if(G.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,F.current=!1)}},[G.current]),oe.createElement("section",{ref:t,"aria-label":`${C} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((V,Z)=>{var X;let[Q,ce]=V.split("-");return k.length?oe.createElement("ol",{key:V,dir:v==="auto"?g9():v,tabIndex:-1,ref:G,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Q,"data-lifted":O&&k.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((X=P[0])==null?void 0:X.height)||0}px`,"--width":`${lve}px`,"--gap":`${_}px`,...p,...mve(c,u)},onBlur:de=>{F.current&&!de.currentTarget.contains(de.relatedTarget)&&(F.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||F.current||(F.current=!0,U.current=de.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{I||D(!1)},onDragEnd:()=>D(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},k.filter(de=>!de.position&&Z===0||de.position===V).map((de,pe)=>{var re,ie;return oe.createElement(hve,{key:de.id,icons:j,index:pe,toast:de,defaultRichColors:f,duration:(re=g?.duration)!=null?re:m,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(ie=g?.closeButton)!=null?ie:o,interacting:I,position:V,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:B,toasts:k.filter(J=>J.position==de.position),heights:P.filter(J=>J.position==de.position),setHeights:T,expandByDefault:i,gap:_,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const gve=({...e})=>{const{theme:t="system"}=eQ();return s.jsx(pve,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var xve=jM[" useId ".trim().toString()]||(()=>{}),vve=0;function xo(e){const[t,r]=b.useState(xve());return Ds(()=>{r(n=>n??String(vve++))},[e]),t?`radix-${t}`:""}const yve=["top","right","bottom","left"],Pf=Math.min,Lo=Math.max,lN=Math.round,T_=Math.floor,Zc=e=>({x:e,y:e}),bve={left:"right",right:"left",bottom:"top",top:"bottom"},wve={start:"end",end:"start"};function eR(e,t,r){return Lo(e,Pf(t,r))}function nd(e,t){return typeof e=="function"?e(t):e}function sd(e){return e.split("-")[0]}function fx(e){return e.split("-")[1]}function MM(e){return e==="x"?"y":"x"}function FM(e){return e==="y"?"height":"width"}const _ve=new Set(["top","bottom"]);function Wc(e){return _ve.has(sd(e))?"y":"x"}function LM(e){return MM(Wc(e))}function jve(e,t,r){r===void 0&&(r=!1);const n=fx(e),a=LM(e),i=FM(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=cN(o)),[o,cN(o)]}function Nve(e){const t=cN(e);return[tR(e),t,tR(t)]}function tR(e){return e.replace(/start|end/g,t=>wve[t])}const x9=["left","right"],v9=["right","left"],Sve=["top","bottom"],kve=["bottom","top"];function Cve(e,t,r){switch(e){case"top":case"bottom":return r?t?v9:x9:t?x9:v9;case"left":case"right":return t?Sve:kve;default:return[]}}function Eve(e,t,r,n){const a=fx(e);let i=Cve(sd(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(tR)))),i}function cN(e){return e.replace(/left|right|bottom|top/g,t=>bve[t])}function Tve(e){return{top:0,right:0,bottom:0,left:0,...e}}function tQ(e){return typeof e!="number"?Tve(e):{top:e,right:e,bottom:e,left:e}}function uN(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function y9(e,t,r){let{reference:n,floating:a}=e;const i=Wc(t),o=LM(t),l=FM(o),c=sd(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(fx(t)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const Ave=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=y9(u,n,c),m=n,p={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:_}=l[g],{x:w,y:j,data:C,reset:S}=await _({x:d,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,f=j??f,p={...p,[v]:{...p[v],...C}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=y9(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:p}};async function Qy(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=nd(t,e),y=tQ(p),v=l[m?f==="floating"?"reference":"floating":f],_=uN(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=uN(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:j,strategy:c}):w);return{top:(_.top-S.top+y.top)/C.y,bottom:(S.bottom-_.bottom+y.bottom)/C.y,left:(_.left-S.left+y.left)/C.x,right:(S.right-_.right+y.right)/C.x}}const Pve=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=nd(e,t)||{};if(u==null)return{};const f=tQ(d),m={x:r,y:n},p=LM(a),y=FM(p),g=await o.getDimensions(u),v=p==="y",_=v?"top":"left",w=v?"bottom":"right",j=v?"clientHeight":"clientWidth",C=i.reference[y]+i.reference[p]-m[p]-i.floating[y],S=m[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=k?k[j]:0;(!E||!await(o.isElement==null?void 0:o.isElement(k)))&&(E=l.floating[j]||i.floating[y]);const R=C/2-S/2,P=E/2-g[y]/2-1,T=Pf(f[_],P),O=Pf(f[w],P),D=T,I=E-g[y]-O,L=E/2-g[y]/2+R,W=eR(D,L,I),q=!c.arrow&&fx(a)!=null&&L!==W&&i.reference[y]/2-(L<D?T:O)-g[y]/2<0,G=q?L<D?L-D:L-I:0;return{[p]:m[p]+G,data:{[p]:W,centerOffset:L-W-G,...q&&{alignmentOffset:G}},reset:q}}}),Ove=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=nd(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=sd(a),w=Wc(l),j=sd(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(j||!g?[cN(l)]:Nve(l)),k=y!=="none";!m&&k&&S.push(...Eve(l,g,y,C));const E=[l,...S],R=await Qy(t,v),P=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(R[_]),f){const L=jve(a,o,C);P.push(R[L[0]],R[L[1]])}if(T=[...T,{placement:a,overflows:P}],!P.every(L=>L<=0)){var O,D;const L=(((O=i.flip)==null?void 0:O.index)||0)+1,W=E[L];if(W&&(!(f==="alignment"?w!==Wc(W):!1)||T.every(K=>K.overflows[0]>0&&Wc(K.placement)===w)))return{data:{index:L,overflows:T},reset:{placement:W}};let q=(D=T.filter(G=>G.overflows[0]<=0).sort((G,K)=>G.overflows[1]-K.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(p){case"bestFit":{var I;const G=(I=T.filter(K=>{if(k){const U=Wc(K.placement);return U===w||U==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(U=>U>0).reduce((U,F)=>U+F,0)]).sort((K,U)=>K[1]-U[1])[0])==null?void 0:I[0];G&&(q=G);break}case"initialPlacement":q=l;break}if(a!==q)return{reset:{placement:q}}}return{}}}};function b9(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function w9(e){return yve.some(t=>e[t]>=0)}const Dve=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=nd(e,t);switch(n){case"referenceHidden":{const i=await Qy(t,{...a,elementContext:"reference"}),o=b9(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:w9(o)}}}case"escaped":{const i=await Qy(t,{...a,altBoundary:!0}),o=b9(i,r.floating);return{data:{escapedOffsets:o,escaped:w9(o)}}}default:return{}}}}},rQ=new Set(["left","top"]);async function Rve(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=sd(r),l=fx(r),c=Wc(r)==="y",u=rQ.has(o)?-1:1,d=i&&c?-1:1,f=nd(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const Ive=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Rve(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Mve=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:_,y:w}=v;return{x:_,y:w}}},...c}=nd(e,t),u={x:r,y:n},d=await Qy(t,c),f=Wc(sd(a)),m=MM(f);let p=u[m],y=u[f];if(i){const v=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=p+d[v],j=p-d[_];p=eR(w,p,j)}if(o){const v=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=y+d[v],j=y-d[_];y=eR(w,y,j)}const g=l.fn({...t,[m]:p,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},Fve=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=nd(e,t),d={x:r,y:n},f=Wc(a),m=MM(f);let p=d[m],y=d[f];const g=nd(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=m==="y"?"height":"width",C=i.reference[m]-i.floating[j]+v.mainAxis,S=i.reference[m]+i.reference[j]-v.mainAxis;p<C?p=C:p>S&&(p=S)}if(u){var _,w;const j=m==="y"?"width":"height",C=rQ.has(sd(a)),S=i.reference[f]-i.floating[j]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:v.crossAxis),k=i.reference[f]+i.reference[j]+(C?0:((w=o.offset)==null?void 0:w[f])||0)-(C?v.crossAxis:0);y<S?y=S:y>k&&(y=k)}return{[m]:p,[f]:y}}}},Lve=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=nd(e,t),d=await Qy(t,u),f=sd(a),m=fx(a),p=Wc(a)==="y",{width:y,height:g}=i.floating;let v,_;f==="top"||f==="bottom"?(v=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,v=m==="end"?"top":"bottom");const w=g-d.top-d.bottom,j=y-d.left-d.right,C=Pf(g-d[v],w),S=Pf(y-d[_],j),k=!t.middlewareData.shift;let E=C,R=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=w),k&&!m){const T=Lo(d.left,0),O=Lo(d.right,0),D=Lo(d.top,0),I=Lo(d.bottom,0);p?R=y-2*(T!==0||O!==0?T+O:Lo(d.left,d.right)):E=g-2*(D!==0||I!==0?D+I:Lo(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:E});const P=await o.getDimensions(l.floating);return y!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function j2(){return typeof window<"u"}function hx(e){return nQ(e)?(e.nodeName||"").toLowerCase():"#document"}function Xo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pu(e){var t;return(t=(nQ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nQ(e){return j2()?e instanceof Node||e instanceof Xo(e).Node:!1}function Nc(e){return j2()?e instanceof Element||e instanceof Xo(e).Element:!1}function lu(e){return j2()?e instanceof HTMLElement||e instanceof Xo(e).HTMLElement:!1}function _9(e){return!j2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xo(e).ShadowRoot}const $ve=new Set(["inline","contents"]);function Aw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Sc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!$ve.has(a)}const Bve=new Set(["table","td","th"]);function Uve(e){return Bve.has(hx(e))}const Vve=[":popover-open",":modal"];function N2(e){return Vve.some(t=>{try{return e.matches(t)}catch{return!1}})}const zve=["transform","translate","scale","rotate","perspective"],qve=["transform","translate","scale","rotate","perspective","filter"],Wve=["paint","layout","strict","content"];function $M(e){const t=BM(),r=Nc(e)?Sc(e):e;return zve.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||qve.some(n=>(r.willChange||"").includes(n))||Wve.some(n=>(r.contain||"").includes(n))}function Hve(e){let t=Of(e);for(;lu(t)&&!f0(t);){if($M(t))return t;if(N2(t))return null;t=Of(t)}return null}function BM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gve=new Set(["html","body","#document"]);function f0(e){return Gve.has(hx(e))}function Sc(e){return Xo(e).getComputedStyle(e)}function S2(e){return Nc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Of(e){if(hx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_9(e)&&e.host||pu(e);return _9(t)?t.host:t}function sQ(e){const t=Of(e);return f0(t)?e.ownerDocument?e.ownerDocument.body:e.body:lu(t)&&Aw(t)?t:sQ(t)}function eb(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=sQ(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Xo(a);if(i){const l=rR(o);return t.concat(o,o.visualViewport||[],Aw(a)?a:[],l&&r?eb(l):[])}return t.concat(a,eb(a,[],r))}function rR(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aQ(e){const t=Sc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=lu(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=lN(r)!==i||lN(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function UM(e){return Nc(e)?e:e.contextElement}function qg(e){const t=UM(e);if(!lu(t))return Zc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=aQ(t);let o=(i?lN(r.width):r.width)/n,l=(i?lN(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Kve=Zc(0);function iQ(e){const t=Xo(e);return!BM()||!t.visualViewport?Kve:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yve(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xo(e)?!1:t}function Cm(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=UM(e);let o=Zc(1);t&&(n?Nc(n)&&(o=qg(n)):o=qg(e));const l=Yve(i,r,n)?iQ(i):Zc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const m=Xo(i),p=n&&Nc(n)?Xo(n):n;let y=m,g=rR(y);for(;g&&n&&p!==y;){const v=qg(g),_=g.getBoundingClientRect(),w=Sc(g),j=_.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,C=_.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=j,u+=C,y=Xo(g),g=rR(y)}}return uN({width:d,height:f,x:c,y:u})}function VM(e,t){const r=S2(e).scrollLeft;return t?t.left+r:Cm(pu(e)).left+r}function oQ(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:VM(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Xve(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=pu(n),l=t?N2(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Zc(1);const d=Zc(0),f=lu(n);if((f||!f&&!i)&&((hx(n)!=="body"||Aw(o))&&(c=S2(n)),lu(n))){const p=Cm(n);u=qg(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=o&&!f&&!i?oQ(o,c,!0):Zc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Jve(e){return Array.from(e.getClientRects())}function Zve(e){const t=pu(e),r=S2(e),n=e.ownerDocument.body,a=Lo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Lo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+VM(e);const l=-r.scrollTop;return Sc(n).direction==="rtl"&&(o+=Lo(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Qve(e,t){const r=Xo(e),n=pu(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=BM();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const eye=new Set(["absolute","fixed"]);function tye(e,t){const r=Cm(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=lu(e)?qg(e):Zc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function j9(e,t,r){let n;if(t==="viewport")n=Qve(e,r);else if(t==="document")n=Zve(pu(e));else if(Nc(t))n=tye(t,r);else{const a=iQ(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return uN(n)}function lQ(e,t){const r=Of(e);return r===t||!Nc(r)||f0(r)?!1:Sc(r).position==="fixed"||lQ(r,t)}function rye(e,t){const r=t.get(e);if(r)return r;let n=eb(e,[],!1).filter(l=>Nc(l)&&hx(l)!=="body"),a=null;const i=Sc(e).position==="fixed";let o=i?Of(e):e;for(;Nc(o)&&!f0(o);){const l=Sc(o),c=$M(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&eye.has(a.position)||Aw(o)&&!c&&lQ(e,o))?n=n.filter(d=>d!==o):a=l,o=Of(o)}return t.set(e,n),n}function nye(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?N2(t)?[]:rye(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=j9(t,d,a);return u.top=Lo(f.top,u.top),u.right=Pf(f.right,u.right),u.bottom=Pf(f.bottom,u.bottom),u.left=Lo(f.left,u.left),u},j9(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sye(e){const{width:t,height:r}=aQ(e);return{width:t,height:r}}function aye(e,t,r){const n=lu(t),a=pu(t),i=r==="fixed",o=Cm(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Zc(0);function u(){c.x=VM(a)}if(n||!n&&!i)if((hx(t)!=="body"||Aw(a))&&(l=S2(t)),n){const p=Cm(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?oQ(a,l):Zc(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function uT(e){return Sc(e).position==="static"}function N9(e,t){if(!lu(e)||Sc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return pu(e)===r&&(r=r.ownerDocument.body),r}function cQ(e,t){const r=Xo(e);if(N2(e))return r;if(!lu(e)){let a=Of(e);for(;a&&!f0(a);){if(Nc(a)&&!uT(a))return a;a=Of(a)}return r}let n=N9(e,t);for(;n&&Uve(n)&&uT(n);)n=N9(n,t);return n&&f0(n)&&uT(n)&&!$M(n)?r:n||Hve(e)||r}const iye=async function(e){const t=this.getOffsetParent||cQ,r=this.getDimensions,n=await r(e.floating);return{reference:aye(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function oye(e){return Sc(e).direction==="rtl"}const lye={convertOffsetParentRelativeRectToViewportRelativeRect:Xve,getDocumentElement:pu,getClippingRect:nye,getOffsetParent:cQ,getElementRects:iye,getClientRects:Jve,getDimensions:sye,getScale:qg,isElement:Nc,isRTL:oye};function uQ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cye(e,t){let r=null,n;const a=pu(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const y=T_(f),g=T_(a.clientWidth-(d+m)),v=T_(a.clientHeight-(f+p)),_=T_(d),j={rootMargin:-y+"px "+-g+"px "+-v+"px "+-_+"px",threshold:Lo(0,Pf(1,c))||1};let C=!0;function S(k){const E=k[0].intersectionRatio;if(E!==c){if(!C)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!uQ(u,e.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,j)}r.observe(e)}return o(!0),i}function uye(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=UM(e),d=a||i?[...u?eb(u):[],...eb(t)]:[];d.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const f=u&&l?cye(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?Cm(e):null;c&&v();function v(){const _=Cm(e);g&&!uQ(g,_)&&r(),g=_,y=requestAnimationFrame(v)}return r(),()=>{var _;d.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f?.(),(_=p)==null||_.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const dye=Ive,fye=Mve,hye=Ove,mye=Lve,pye=Dve,S9=Pve,gye=Fve,xye=(e,t,r)=>{const n=new Map,a={platform:lye,...r},i={...a.platform,_c:n};return Ave(e,t,{...a,platform:i})};var vye=typeof document<"u",yye=function(){},Rj=vye?b.useLayoutEffect:yye;function dN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!dN(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!dN(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function dQ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function k9(e,t){const r=dQ(e);return Math.round(t*r)/r}function dT(e){const t=b.useRef(e);return Rj(()=>{t.current=e}),t}function bye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=b.useState(n);dN(m,n)||p(n);const[y,g]=b.useState(null),[v,_]=b.useState(null),w=b.useCallback(K=>{K!==k.current&&(k.current=K,g(K))},[]),j=b.useCallback(K=>{K!==E.current&&(E.current=K,_(K))},[]),C=i||y,S=o||v,k=b.useRef(null),E=b.useRef(null),R=b.useRef(d),P=c!=null,T=dT(c),O=dT(a),D=dT(u),I=b.useCallback(()=>{if(!k.current||!E.current)return;const K={placement:t,strategy:r,middleware:m};O.current&&(K.platform=O.current),xye(k.current,E.current,K).then(U=>{const F={...U,isPositioned:D.current!==!1};L.current&&!dN(R.current,F)&&(R.current=F,ix.flushSync(()=>{f(F)}))})},[m,t,r,O,D]);Rj(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[u]);const L=b.useRef(!1);Rj(()=>(L.current=!0,()=>{L.current=!1}),[]),Rj(()=>{if(C&&(k.current=C),S&&(E.current=S),C&&S){if(T.current)return T.current(C,S,I);I()}},[C,S,I,T,P]);const W=b.useMemo(()=>({reference:k,floating:E,setReference:w,setFloating:j}),[w,j]),q=b.useMemo(()=>({reference:C,floating:S}),[C,S]),G=b.useMemo(()=>{const K={position:r,left:0,top:0};if(!q.floating)return K;const U=k9(q.floating,d.x),F=k9(q.floating,d.y);return l?{...K,transform:"translate("+U+"px, "+F+"px)",...dQ(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:F}},[r,l,q.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:I,refs:W,elements:q,floatingStyles:G}),[d,I,W,q,G])}const wye=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?S9({element:n.current,padding:a}).fn(r):{}:n?S9({element:n,padding:a}).fn(r):{}}}},_ye=(e,t)=>({...dye(e),options:[e,t]}),jye=(e,t)=>({...fye(e),options:[e,t]}),Nye=(e,t)=>({...gye(e),options:[e,t]}),Sye=(e,t)=>({...hye(e),options:[e,t]}),kye=(e,t)=>({...mye(e),options:[e,t]}),Cye=(e,t)=>({...pye(e),options:[e,t]}),Eye=(e,t)=>({...wye(e),options:[e,t]});var Tye="Arrow",fQ=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(At.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});fQ.displayName=Tye;var Aye=fQ;function Pw(e){const[t,r]=b.useState(void 0);return Ds(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var zM="Popper",[hQ,eh]=Is(zM),[Pye,mQ]=hQ(zM),pQ=e=>{const{__scopePopper:t,children:r}=e,[n,a]=b.useState(null);return s.jsx(Pye,{scope:t,anchor:n,onAnchorChange:a,children:r})};pQ.displayName=zM;var gQ="PopperAnchor",xQ=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=mQ(gQ,r),o=b.useRef(null),l=tr(t,o);return b.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(At.div,{...a,ref:l})});xQ.displayName=gQ;var qM="PopperContent",[Oye,Dye]=hQ(qM),vQ=b.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,v=mQ(qM,r),[_,w]=b.useState(null),j=tr(t,de=>w(de)),[C,S]=b.useState(null),k=Pw(C),E=k?.width??0,R=k?.height??0,P=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],D=O.length>0,I={padding:T,boundary:O.filter(Iye),altBoundary:D},{refs:L,floatingStyles:W,placement:q,isPositioned:G,middlewareData:K}=bye({strategy:"fixed",placement:P,whileElementsMounted:(...de)=>uye(...de,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[_ye({mainAxis:a+R,alignmentAxis:o}),c&&jye({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Nye():void 0,...I}),c&&Sye({...I}),kye({...I,apply:({elements:de,rects:pe,availableWidth:re,availableHeight:ie})=>{const{width:J,height:z}=pe.reference,Se=de.floating.style;Se.setProperty("--radix-popper-available-width",`${re}px`),Se.setProperty("--radix-popper-available-height",`${ie}px`),Se.setProperty("--radix-popper-anchor-width",`${J}px`),Se.setProperty("--radix-popper-anchor-height",`${z}px`)}}),C&&Eye({element:C,padding:l}),Mye({arrowWidth:E,arrowHeight:R}),m&&Cye({strategy:"referenceHidden",...I})]}),[U,F]=wQ(q),B=Ts(y);Ds(()=>{G&&B?.()},[G,B]);const V=K.arrow?.x,Z=K.arrow?.y,X=K.arrow?.centerOffset!==0,[Q,ce]=b.useState();return Ds(()=>{_&&ce(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Oye,{scope:r,placedSide:U,onArrowChange:S,arrowX:V,arrowY:Z,shouldHideArrow:X,children:s.jsx(At.div,{"data-side":U,"data-align":F,...g,ref:j,style:{...g.style,animation:G?void 0:"none"}})})})});vQ.displayName=qM;var yQ="PopperArrow",Rye={top:"bottom",right:"left",bottom:"top",left:"right"},bQ=b.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Dye(yQ,n),o=Rye[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Aye,{...a,ref:r,style:{...a.style,display:"block"}})})});bQ.displayName=yQ;function Iye(e){return e!==null}var Mye=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=wQ(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(a.arrow?.x??0)+l/2,p=(a.arrow?.y??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${m}px`,g=`${-c}px`):u==="top"?(y=o?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:y,y:g}}}});function wQ(e){const[t,r="center"]=e.split("-");return[t,r]}var k2=pQ,Ow=xQ,C2=vQ,E2=bQ,[T2]=Is("Tooltip",[eh]),A2=eh(),_Q="TooltipProvider",Fye=700,nR="tooltip.open",[Lye,WM]=T2(_Q),jQ=e=>{const{__scopeTooltip:t,delayDuration:r=Fye,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Lye,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};jQ.displayName=_Q;var tb="Tooltip",[$ye,P2]=T2(tb),NQ=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=WM(tb,e.__scopeTooltip),u=A2(t),[d,f]=b.useState(null),m=xo(),p=b.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,v=b.useRef(!1),[_,w]=Pi({prop:n,defaultProp:a??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(nR))):c.onClose(),i?.(E)},caller:tb}),j=b.useMemo(()=>_?v.current?"delayed-open":"instant-open":"closed",[_]),C=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,w(!0)},[w]),S=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),k=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,w(!0),p.current=0},g)},[g,w]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(k2,{...u,children:s.jsx($ye,{scope:t,contentId:m,open:_,stateAttribute:j,trigger:d,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?k():C()},[c.isOpenDelayedRef,k,C]),onTriggerLeave:b.useCallback(()=>{y?S():(window.clearTimeout(p.current),p.current=0)},[S,y]),onOpen:C,onClose:S,disableHoverableContent:y,children:r})})};NQ.displayName=tb;var sR="TooltipTrigger",SQ=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=P2(sR,r),i=WM(sR,r),o=A2(r),l=b.useRef(null),c=tr(t,l,a.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Ow,{asChild:!0,...o,children:s.jsx(At.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:mt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:mt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:mt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:mt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:mt(e.onBlur,a.onClose),onClick:mt(e.onClick,a.onClose)})})});SQ.displayName=sR;var Bye="TooltipPortal",[$lt,Uye]=T2(Bye,{forceMount:void 0}),h0="TooltipContent",kQ=b.forwardRef((e,t)=>{const r=Uye(h0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=P2(h0,e.__scopeTooltip);return s.jsx(fa,{present:n||o.open,children:o.disableHoverableContent?s.jsx(CQ,{side:a,...i,ref:t}):s.jsx(Vye,{side:a,...i,ref:t})})}),Vye=b.forwardRef((e,t)=>{const r=P2(h0,e.__scopeTooltip),n=WM(h0,e.__scopeTooltip),a=b.useRef(null),i=tr(t,a),[o,l]=b.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,m=b.useCallback(()=>{l(null),f(!1)},[f]),p=b.useCallback((y,g)=>{const v=y.currentTarget,_={x:y.clientX,y:y.clientY},w=Gye(_,v.getBoundingClientRect()),j=Kye(_,w),C=Yye(g.getBoundingClientRect()),S=Jye([...j,...C]);l(S),f(!0)},[f]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(c&&d){const y=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),b.useEffect(()=>{if(o){const y=g=>{const v=g.target,_={x:g.clientX,y:g.clientY},w=c?.contains(v)||d?.contains(v),j=!Xye(_,o);w?m():j&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,m]),s.jsx(CQ,{...e,ref:i})}),[zye,qye]=T2(tb,{isInside:!1}),Wye=iZ("TooltipContent"),CQ=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=P2(h0,r),u=A2(r),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(nR,d),()=>document.removeEventListener(nR,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(rp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(C2,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Wye,{children:n}),s.jsx(zye,{scope:r,isInside:!0,children:s.jsx(v0e,{id:c.contentId,role:"tooltip",children:a||n})})]})})});kQ.displayName=h0;var EQ="TooltipArrow",Hye=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=A2(r);return qye(EQ,r).isInside?null:s.jsx(E2,{...a,...n,ref:t})});Hye.displayName=EQ;function Gye(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Kye(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Yye(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Xye(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function Jye(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Zye(t)}function Zye(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Qye=jQ,ebe=NQ,tbe=SQ,TQ=kQ;const Jh=Qye,Sg=ebe,kg=tbe,Zh=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(TQ,{ref:n,sideOffset:t,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Zh.displayName=TQ.displayName;var Dw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Em=typeof window>"u"||"Deno"in globalThis;function fo(){}function rbe(e,t){return typeof e=="function"?e(t):e}function aR(e){return typeof e=="number"&&e>=0&&e!==1/0}function AQ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mf(e,t){return typeof e=="function"?e(t):e}function kl(e,t){return typeof e=="function"?e(t):e}function C9(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==HM(o,t.options))return!1}else if(!nb(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function E9(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(rb(t.options.mutationKey)!==rb(i))return!1}else if(!nb(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function HM(e,t){return(t?.queryKeyHashFn||rb)(e)}function rb(e){return JSON.stringify(e,(t,r)=>oR(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function nb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>nb(e[r],t[r])):!1}function PQ(e,t){if(e===t)return e;const r=T9(e)&&T9(t);if(r||oR(e)&&oR(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=PQ(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function iR(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function T9(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function oR(e){if(!A9(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!A9(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function A9(e){return Object.prototype.toString.call(e)==="[object Object]"}function nbe(e){return new Promise(t=>{setTimeout(t,e)})}function lR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?PQ(e,t):t}function sbe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function abe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var GM=Symbol();function OQ(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===GM?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ibe(e,t){return typeof e=="function"?e(...t):!!e}var obe=class extends Dw{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Em&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},KM=new obe,lbe=class extends Dw{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Em&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},fN=new lbe;function cR(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function cbe(e){return Math.min(1e3*2**e,3e4)}function DQ(e){return(e??"online")==="online"?fN.isOnline():!0}var RQ=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function fT(e){return e instanceof RQ}function IQ(e){let t=!1,r=0,n=!1,a;const i=cR(),o=g=>{n||(m(new RQ(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>KM.isFocused()&&(e.networkMode==="always"||fN.isOnline())&&e.canRun(),d=()=>DQ(e.networkMode)&&e.canRun(),f=g=>{n||(n=!0,e.onSuccess?.(g),a?.(),i.resolve(g))},m=g=>{n||(n=!0,e.onError?.(g),a?.(),i.reject(g))},p=()=>new Promise(g=>{a=v=>{(n||u())&&g(v)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(f).catch(_=>{if(n)return;const w=e.retry??(Em?0:3),j=e.retryDelay??cbe,C=typeof j=="function"?j(r,_):j,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,_);if(t||!S){m(_);return}r++,e.onFail?.(r,_),nbe(C).then(()=>u()?void 0:p()).then(()=>{t?m(_):y()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var ube=e=>setTimeout(e,0);function dbe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=ube;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var ti=dbe(),MQ=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aR(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Em?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},fbe=class extends MQ{#t;#e;#r;#n;#s;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=hbe(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=lR(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(fo).catch(fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>kl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===GM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>mf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!AQ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const c=OQ(this.options,t),d=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{fT(c)&&c.silent||this.#a({type:"error",error:c}),fT(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=IQ({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...FQ(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return fT(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ti.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function FQ(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DQ(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hbe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mbe=class extends Dw{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??HM(n,t);let i=this.get(a);return i||(i=new fbe({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ti.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>C9(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>C9(e,r)):t}notify(e){ti.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ti.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ti.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pbe=class extends MQ{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||gbe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=IQ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ti.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function gbe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xbe=class extends Dw{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new pbe({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=A_(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=A_(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=A_(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=A_(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ti.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>E9(t,r))}findAll(e={}){return this.getAll().filter(t=>E9(e,t))}notify(e){ti.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ti.batch(()=>Promise.all(e.map(t=>t.continue().catch(fo))))}};function A_(e){return e.options.scope?.id}function P9(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=OQ(t.options,t.fetchOptions),p=async(y,g,v)=>{if(d)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const w=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return f(k),k})(),j=await m(w),{maxPages:C}=t.options,S=v?abe:sbe;return{pages:S(y.pages,j,C),pageParams:S(y.pageParams,g,C)}};if(a&&i.length){const y=a==="backward",g=y?vbe:O9,v={pages:i,pageParams:o},_=g(n,v);l=await p(v,_,y)}else{const y=e??i.length;do{const g=c===0?o[0]??n.initialPageParam:O9(n,l);if(c>0&&g==null)break;l=await p(l,g),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function O9(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function vbe(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var ybe=class{#t;#e;#r;#n;#s;#o;#i;#a;constructor(e={}){this.#t=e.queryCache||new mbe,this.#e=e.mutationCache||new xbe,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=KM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=fN.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,o=rbe(t,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ti.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;ti.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return ti.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ti.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(fo).catch(fo)}invalidateQueries(e,t={}){return ti.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ti.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(fo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(fo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(mf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fo).catch(fo)}fetchInfiniteQuery(e){return e.behavior=P9(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fo).catch(fo)}ensureInfiniteQueryData(e){return e.behavior=P9(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fN.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(rb(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{nb(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#s.set(rb(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{nb(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=HM(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===GM&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},bbe=class extends Dw{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=cR(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#o;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),D9(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return uR(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return uR(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kl(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!iR(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&R9(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||kl(this.options.enabled,this.#e)!==kl(t.enabled,this.#e)||mf(this.options.staleTime,this.#e)!==mf(t.staleTime,this.#e))&&this.#g();const a=this.#x();n&&(this.#e!==r||kl(this.options.enabled,this.#e)!==kl(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return _be(this,r)&&(this.#n=r,this.#o=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(fo)),t}#g(){this.#b();const e=mf(this.options.staleTime,this.#e);if(Em||this.#n.isStale||!aR(e))return;const r=AQ(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Em||kl(this.options.enabled,this.#e)===!1||!aR(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||KM.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#n,i=this.#s,o=this.#o,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},f=!1,m;if(t._optimisticResults){const R=this.hasListeners(),P=!R&&D9(e,t),T=R&&R9(e,r,t,n);(P||T)&&(d={...d,...FQ(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:g}=d;m=d.data;let v=!1;if(t.placeholderData!==void 0&&m===void 0&&g==="pending"){let R;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(R=a.data,v=!0):R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,R!==void 0&&(g="success",m=lR(a?.data,R,t),f=!0)}if(t.select&&m!==void 0&&!v)if(a&&m===i?.data&&t.select===this.#p)m=this.#f;else try{this.#p=t.select,m=t.select(m),m=lR(a?.data,m,t),this.#f=m,this.#a=null}catch(R){this.#a=R}this.#a&&(p=this.#a,m=this.#f,y=Date.now(),g="error");const _=d.fetchStatus==="fetching",w=g==="pending",j=g==="error",C=w&&_,S=m!==void 0,E={status:g,fetchStatus:d.fetchStatus,isPending:w,isSuccess:g==="success",isError:j,isInitialLoading:C,isLoading:C,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:j&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&S,isStale:YM(e,t),refetch:this.refetch,promise:this.#i,isEnabled:kl(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=O=>{E.status==="error"?O.reject(E.error):E.data!==void 0&&O.resolve(E.data)},P=()=>{const O=this.#i=E.promise=cR();R(O)},T=this.#i;switch(T.status){case"pending":e.queryHash===r.queryHash&&R(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&P();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&P();break}}return E}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#e),iR(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){ti.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function wbe(e,t){return kl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function D9(e,t){return wbe(e,t)||e.state.data!==void 0&&uR(e,t,t.refetchOnMount)}function uR(e,t,r){if(kl(t.enabled,e)!==!1&&mf(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&YM(e,t)}return!1}function R9(e,t,r,n){return(e!==t||kl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&YM(e,r)}function YM(e,t){return kl(t.enabled,e)!==!1&&e.isStaleByTime(mf(t.staleTime,e))}function _be(e,t){return!iR(e.getCurrentResult(),t)}var LQ=b.createContext(void 0),jbe=e=>{const t=b.useContext(LQ);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Nbe=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(LQ.Provider,{value:e,children:t})),$Q=b.createContext(!1),Sbe=()=>b.useContext($Q);$Q.Provider;function kbe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Cbe=b.createContext(kbe()),Ebe=()=>b.useContext(Cbe),Tbe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Abe=e=>{b.useEffect(()=>{e.clearReset()},[e])},Pbe=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||ibe(r,[e.error,n])),Obe=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Dbe=(e,t)=>e.isLoading&&e.isFetching&&!t,Rbe=(e,t)=>e?.suspense&&t.isPending,I9=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ibe(e,t,r){const n=Sbe(),a=Ebe(),i=jbe(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Obe(o),Tbe(o,a),Abe(a);const l=!i.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(f=>{const m=d?c.subscribe(ti.batchCalls(f)):fo;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o)},[o,c]),Rbe(o,u))throw I9(o,c,a);if(Pbe({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Em&&Dbe(u,n)&&(l?I9(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(fo).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Mbe(e,t){return Ibe(e,bbe)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(this,arguments)}var rf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rf||(rf={}));const M9="popstate";function Fbe(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return dR("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hN(a)}return $be(t,r,null,e)}function Gs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BQ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lbe(){return Math.random().toString(36).substr(2,8)}function F9(e,t){return{usr:e.state,key:e.key,idx:t}}function dR(e,t,r,n){return r===void 0&&(r=null),sb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mx(t):t,{state:r,key:t&&t.key||n||Lbe()})}function hN(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mx(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $be(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=rf.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(sb({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=rf.Pop;let v=d(),_=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:_})}function m(v,_){l=rf.Push;let w=dR(g.location,v,_);u=d()+1;let j=F9(w,u),C=g.createHref(w);try{o.pushState(j,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(C)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,_){l=rf.Replace;let w=dR(g.location,v,_);u=d();let j=F9(w,u),C=g.createHref(w);o.replaceState(j,"",C),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let _=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:hN(v);return w=w.replace(/ $/,"%20"),Gs(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(M9,f),c=v,()=>{a.removeEventListener(M9,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let _=y(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(v){return o.go(v)}};return g}var L9;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(L9||(L9={}));function Bbe(e,t,r){return r===void 0&&(r="/"),Ube(e,t,r)}function Ube(e,t,r,n){let a=typeof t=="string"?mx(t):t,i=XM(a.pathname||"/",r);if(i==null)return null;let o=UQ(e);Vbe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ewe(i);l=Jbe(o[c],u)}return l}function UQ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Gs(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=pf([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Gs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UQ(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ybe(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of VQ(i.path))a(i,o,c)}),t}function VQ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=VQ(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vbe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Xbe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zbe=/^:[\w-]+$/,qbe=3,Wbe=2,Hbe=1,Gbe=10,Kbe=-2,$9=e=>e==="*";function Ybe(e,t){let r=e.split("/"),n=r.length;return r.some($9)&&(n+=Kbe),t&&(n+=Wbe),r.filter(a=>!$9(a)).reduce((a,i)=>a+(zbe.test(i)?qbe:i===""?Hbe:Gbe),n)}function Xbe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Jbe(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Zbe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:pf([i,f.pathname]),pathnameBase:swe(pf([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=pf([i,f.pathnameBase]))}return o}function Zbe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Qbe(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Qbe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),BQ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function ewe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return BQ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function XM(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function twe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?mx(e):e;return{pathname:r?r.startsWith("/")?r:rwe(r,t):t,search:awe(n),hash:iwe(a)}}function rwe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function hT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nwe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function JM(e,t){let r=nwe(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ZM(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=mx(e):(a=sb({},e),Gs(!a.pathname||!a.pathname.includes("?"),hT("?","pathname","search",a)),Gs(!a.pathname||!a.pathname.includes("#"),hT("#","pathname","hash",a)),Gs(!a.search||!a.search.includes("#"),hT("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=twe(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pf=e=>e.join("/").replace(/\/\/+/g,"/"),swe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),awe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iwe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function owe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zQ=["post","put","patch","delete"];new Set(zQ);const lwe=["get",...zQ];new Set(lwe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(this,arguments)}const QM=b.createContext(null),cwe=b.createContext(null),th=b.createContext(null),O2=b.createContext(null),gu=b.createContext({outlet:null,matches:[],isDataRoute:!1}),qQ=b.createContext(null);function uwe(e,t){let{relative:r}=t===void 0?{}:t;px()||Gs(!1);let{basename:n,navigator:a}=b.useContext(th),{hash:i,pathname:o,search:l}=HQ(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:pf([n,o])),a.createHref({pathname:c,search:l,hash:i})}function px(){return b.useContext(O2)!=null}function xu(){return px()||Gs(!1),b.useContext(O2).location}function WQ(e){b.useContext(th).static||b.useLayoutEffect(e)}function vr(){let{isDataRoute:e}=b.useContext(gu);return e?Swe():dwe()}function dwe(){px()||Gs(!1);let e=b.useContext(QM),{basename:t,future:r,navigator:n}=b.useContext(th),{matches:a}=b.useContext(gu),{pathname:i}=xu(),o=JSON.stringify(JM(a,r.v7_relativeSplatPath)),l=b.useRef(!1);return WQ(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=ZM(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pf([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const fwe=b.createContext(null);function hwe(e){let t=b.useContext(gu).outlet;return t&&b.createElement(fwe.Provider,{value:e},t)}function hd(){let{matches:e}=b.useContext(gu),t=e[e.length-1];return t?t.params:{}}function HQ(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(th),{matches:a}=b.useContext(gu),{pathname:i}=xu(),o=JSON.stringify(JM(a,n.v7_relativeSplatPath));return b.useMemo(()=>ZM(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function mwe(e,t){return pwe(e,t)}function pwe(e,t,r,n){px()||Gs(!1);let{navigator:a}=b.useContext(th),{matches:i}=b.useContext(gu),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=xu(),d;if(t){var f;let v=typeof t=="string"?mx(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Gs(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Bbe(e,{pathname:p}),g=bwe(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:pf([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:pf([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?b.createElement(O2.Provider,{value:{location:ab({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rf.Pop}},g):g}function gwe(){let e=Nwe(),t=owe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const xwe=b.createElement(gwe,null);class vwe extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(gu.Provider,{value:this.props.routeContext},b.createElement(qQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ywe(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(QM);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(gu.Provider,{value:t},n)}function bwe(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||Gs(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,y=!1,g=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||xwe,c&&(u<0&&m===0?(kwe("route-fallback"),y=!0,v=null):u===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,m+1)),w=()=>{let j;return p?j=g:y?j=v:f.route.Component?j=b.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,b.createElement(ywe,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(vwe,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var GQ=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(GQ||{}),KQ=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(KQ||{});function wwe(e){let t=b.useContext(QM);return t||Gs(!1),t}function _we(e){let t=b.useContext(cwe);return t||Gs(!1),t}function jwe(e){let t=b.useContext(gu);return t||Gs(!1),t}function YQ(e){let t=jwe(),r=t.matches[t.matches.length-1];return r.route.id||Gs(!1),r.route.id}function Nwe(){var e;let t=b.useContext(qQ),r=_we(),n=YQ();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Swe(){let{router:e}=wwe(GQ.UseNavigateStable),t=YQ(KQ.UseNavigateStable),r=b.useRef(!1);return WQ(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ab({fromRouteId:t},i)))},[e,t])}const B9={};function kwe(e,t,r){B9[e]||(B9[e]=!0)}function Cwe(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Ewe(e){let{to:t,replace:r,state:n,relative:a}=e;px()||Gs(!1);let{future:i,static:o}=b.useContext(th),{matches:l}=b.useContext(gu),{pathname:c}=xu(),u=vr(),d=ZM(t,JM(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Twe(e){return hwe(e.context)}function wt(e){Gs(!1)}function Awe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=rf.Pop,navigator:i,static:o=!1,future:l}=e;px()&&Gs(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:ab({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=mx(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,g=b.useMemo(()=>{let v=XM(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:y},navigationType:a}},[c,d,f,m,p,y,a]);return g==null?null:b.createElement(th.Provider,{value:u},b.createElement(O2.Provider,{children:r,value:g}))}function Pwe(e){let{children:t,location:r}=e;return mwe(fR(t),r)}new Promise(()=>{});function fR(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let i=[...t,a];if(n.type===b.Fragment){r.push.apply(r,fR(n.props.children,i));return}n.type!==wt&&Gs(!1),!n.props.index||!n.props.children||Gs(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=fR(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hR(){return hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hR.apply(this,arguments)}function Owe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Dwe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rwe(e,t){return e.button===0&&(!t||t==="_self")&&!Dwe(e)}function mR(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Iwe(e,t){let r=mR(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Mwe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fwe="6";try{window.__reactRouterVersion=Fwe}catch{}const Lwe="startTransition",U9=jM[Lwe];function $we(e){let{basename:t,children:r,future:n,window:a}=e,i=b.useRef();i.current==null&&(i.current=Fbe({window:a,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&U9?U9(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>Cwe(n),[n]),b.createElement(Awe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Bwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uwe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Owe(t,Mwe),{basename:p}=b.useContext(th),y,g=!1;if(typeof u=="string"&&Uwe.test(u)&&(y=u,Bwe))try{let j=new URL(window.location.href),C=u.startsWith("//")?new URL(j.protocol+u):new URL(u),S=XM(C.pathname,p);C.origin===j.origin&&S!=null?u=S+C.search+C.hash:g=!0}catch{}let v=uwe(u,{relative:a}),_=Vwe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function w(j){n&&n(j),j.defaultPrevented||_(j)}return b.createElement("a",hR({},m,{href:y||v,onClick:g||i?n:w,ref:r,target:c}))});var V9;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(V9||(V9={}));var z9;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z9||(z9={}));function Vwe(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=vr(),u=xu(),d=HQ(e,{relative:o});return b.useCallback(f=>{if(Rwe(f,r)){f.preventDefault();let m=n!==void 0?n:hN(u)===hN(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function Rw(e){let t=b.useRef(mR(e)),r=b.useRef(!1),n=xu(),a=b.useMemo(()=>Iwe(n.search,r.current?null:t.current),[n.search]),i=vr(),o=b.useCallback((l,c)=>{const u=mR(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const e5="shopping_cart",D2=()=>{const e=localStorage.getItem(e5);return e?JSON.parse(e):[]},t5=e=>{localStorage.setItem(e5,JSON.stringify(e))},zwe=e=>{const t=D2(),r=t.findIndex(n=>n.productId===e.productId&&n.variant===e.variant);return r>-1?t[r].quantity+=e.quantity:t.push(e),t5(t),t},qwe=(e,t,r)=>{const n=D2(),a=n.findIndex(i=>i.productId===e&&i.variant===t);return a>-1&&(r<=0?n.splice(a,1):n[a].quantity=r),t5(n),n},Wwe=(e,t)=>{const r=D2().filter(n=>!(n.productId===e&&n.variant===t));return t5(r),r},Hwe=()=>{localStorage.removeItem(e5)},Gwe=e=>e.reduce((t,r)=>t+r.price*r.quantity,0),Kwe=e=>e.reduce((t,r)=>t+r.quantity,0),Ywe=({animationState:e,onComplete:t})=>{const[r,n]=b.useState(!1),{imageSrc:a,startRect:i,endRect:o}=e;b.useEffect(()=>{const u=setTimeout(()=>{n(!0)},10),d=setTimeout(()=>{t()},1500);return()=>{clearTimeout(u),clearTimeout(d)}},[t]);const l={position:"fixed",top:i.top,left:i.left,width:i.width,height:i.height,zIndex:9999,pointerEvents:"none",transition:"all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)",borderRadius:"8px",objectFit:"cover"},c={...l,top:o.top+o.height/2,left:o.left+o.width/2,width:0,height:0,transform:"rotate(360deg) scale(0.1)",opacity:.5};return s.jsx("img",{src:a,alt:"Flying product",style:r?c:l})},XQ=b.createContext(void 0),Xwe=({children:e})=>{const[t,r]=b.useState([]),[n,a]=b.useState(null);b.useEffect(()=>{r(D2())},[]);const i=p=>{const y=zwe(p);r(y)},o=(p,y)=>{const g=y.getBoundingClientRect(),v=document.querySelector("[data-cart-icon]");if(!v){console.warn("Cart icon not found for animation");return}const _=v.getBoundingClientRect();a({imageSrc:p,startRect:g,endRect:_})},l=()=>{a(null)},c=(p,y,g)=>{const v=qwe(p,y,g);r(v)},u=(p,y)=>{const g=Wwe(p,y);r(g)},d=()=>{Hwe(),r([])},f=Kwe(t),m=Gwe(t);return s.jsxs(XQ.Provider,{value:{cart:t,cartCount:f,cartTotal:m,addToCart:i,updateQuantity:c,removeItem:u,clearCart:d,triggerFlyAnimation:o},children:[e,n&&s.jsx(Ywe,{animationState:n,onComplete:l})]})},R2=()=>{const e=b.useContext(XQ);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};var mT,q9;function Jwe(){if(q9)return mT;q9=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(i[c],o[c]))return!1;return!0}var d;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=i.entries();!(c=d.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(e&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!a(i[u[c]],o[u[c]]))return!1;return!0}return i!==i&&o!==o}return mT=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},mT}var Zwe=Jwe();const Qwe=on(Zwe);var pT,W9;function e1e(){if(W9)return pT;W9=1;var e=function(t,r,n,a,i,o,l,c){if(!t){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,i,o,l,c],f=0;u=new Error(r.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return pT=e,pT}var t1e=e1e();const H9=on(t1e);var gT,G9;function r1e(){return G9||(G9=1,gT=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],m=r[d];if(i=n?n.call(a,f,m,d):void 0,i===!1||i===void 0&&f!==m)return!1}return!0}),gT}var n1e=r1e();const s1e=on(n1e);var JQ=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(JQ||{}),xT={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},K9=Object.values(JQ),r5={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},a1e=Object.entries(r5).reduce((e,[t,r])=>(e[r]=t,e),{}),mc="data-rh",Wg={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Hg=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},i1e=e=>{let t=Hg(e,"title");const r=Hg(e,Wg.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Hg(e,Wg.DEFAULT_TITLE);return t||n||void 0},o1e=e=>Hg(e,Wg.ON_CHANGE_CLIENT_STATE)||(()=>{}),vT=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),l1e=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),c1e=e=>console&&typeof console.warn=="function"&&console.warn(e),wv=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&c1e(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const p=d[m],y=p.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},u1e=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},d1e=e=>({baseTag:l1e(["href"],e),bodyAttributes:vT("bodyAttributes",e),defer:Hg(e,Wg.DEFER),encode:Hg(e,Wg.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:vT("htmlAttributes",e),linkTags:wv("link",["rel","href"],e),metaTags:wv("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:wv("noscript",["innerHTML"],e),onChangeClientState:o1e(e),scriptTags:wv("script",["src","innerHTML"],e),styleTags:wv("style",["cssText"],e),title:i1e(e),titleAttributes:vT("titleAttributes",e),prioritizeSeoTags:u1e(e,Wg.PRIORITIZE_SEO_TAGS)}),ZQ=e=>Array.isArray(e)?e.join(""):e,f1e=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},yT=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(f1e(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Y9=(e,t)=>({...e,[t]:void 0}),h1e=["noscript","script","style"],pR=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),QQ=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),m1e=(e,t,r,n)=>{const a=QQ(r),i=ZQ(t);return a?`<${e} ${mc}="true" ${a}>${pR(i,n)}</${e}>`:`<${e} ${mc}="true">${pR(i,n)}</${e}>`},p1e=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof i[d]>"u"?d:`${d}="${pR(i[d],r)}"`;return u?`${u} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=h1e.indexOf(e)===-1;return`${n}<${e} ${mc}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),eee=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=r5[n];return r[a||n]=e[n],r},t),g1e=(e,t,r)=>{const n={key:t,[mc]:!0},a=eee(r,n);return[oe.createElement("title",a,t)]},Ij=(e,t)=>t.map((r,n)=>{const a={key:n,[mc]:!0};return Object.keys(r).forEach(i=>{const l=r5[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),oe.createElement(e,a)}),jl=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>g1e(e,t.title,t.titleAttributes),toString:()=>m1e(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>eee(t),toString:()=>QQ(t)};default:return{toComponent:()=>Ij(e,t),toString:()=>p1e(e,t,r)}}},x1e=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=yT(e,xT.meta),i=yT(t,xT.link),o=yT(r,xT.script);return{priorityMethods:{toComponent:()=>[...Ij("meta",a.priority),...Ij("link",i.priority),...Ij("script",o.priority)],toString:()=>`${jl("meta",a.priority,n)} ${jl("link",i.priority,n)} ${jl("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},v1e=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:m}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:m}=x1e(e)),{priority:p,base:jl("base",t,n),bodyAttributes:jl("bodyAttributes",r,n),htmlAttributes:jl("htmlAttributes",a,n),link:jl("link",d,n),meta:jl("meta",f,n),noscript:jl("noscript",i,n),script:jl("script",m,n),style:jl("style",o,n),title:jl("title",{title:l,titleAttributes:c},n)}},gR=v1e,P_=[],tee=!!(typeof window<"u"&&window.document&&window.document.createElement),xR=class{instances=[];canUseDOM=tee;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?P_:this.instances,add:e=>{(this.canUseDOM?P_:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?P_:this.instances).indexOf(e);(this.canUseDOM?P_:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=gR({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},y1e={},ree=oe.createContext(y1e),nee=class see extends b.Component{static canUseDOM=tee;helmetData;constructor(t){super(t),this.helmetData=new xR(this.props.context||{},see.canUseDOM)}render(){return oe.createElement(ree.Provider,{value:this.helmetData.value},this.props.children)}},qp=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${mc}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(mc,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):i.push(c)}),a.forEach(l=>l.parentNode?.removeChild(l)),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},vR=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(mc),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(mc):r.getAttribute(mc)!==o.join(",")&&r.setAttribute(mc,o.join(","))},b1e=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=ZQ(e)),vR("title",t)},X9=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:m}=e;vR("body",n),vR("html",a),b1e(f,m);const p={baseTag:qp("base",r),linkTags:qp("link",i),metaTags:qp("meta",o),noscriptTags:qp("noscript",l),scriptTags:qp("script",u),styleTags:qp("style",d)},y={},g={};Object.keys(p).forEach(v=>{const{newTags:_,oldTags:w}=p[v];_.length&&(y[v]=_),w.length&&(g[v]=p[v].oldTags)}),t&&t(),c(e,y,g)},_v=null,w1e=e=>{_v&&cancelAnimationFrame(_v),e.defer?_v=requestAnimationFrame(()=>{X9(e,()=>{_v=null})}):(X9(e),_v=null)},_1e=w1e,J9=class extends b.Component{rendered=!1;shouldComponentUpdate(e){return!s1e(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=d1e(e.get().map(a=>{const i={...a.props};return delete i.context,i}));nee.canUseDOM?_1e(n):gR&&(r=gR(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},n5=class extends b.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!Qwe(Y9(this.props,"helmetData"),Y9(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return H9(K9.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${K9.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),H9(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return oe.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,u)=>(c[a1e[u]||u]=i[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof xR)){const a=n;n=new xR(a.context,!0),delete r.helmetData}return n?oe.createElement(J9,{...r,context:n.value}):oe.createElement(ree.Consumer,null,a=>oe.createElement(J9,{...r,context:a}))}};function j1e(){const{pathname:e}=xu();return b.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const Mj="digitaldukandar.in",Z9=window.location.protocol;function I2(){const e=window.location.hostname;if(e.endsWith(".lovable.app")||e.endsWith(".lovableproject.com"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(".localhost")){const t=e.replace(".localhost","");return["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}if(e==="localhost"||e.startsWith("127.0.0.1"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(`.${Mj}`)){const t=e.replace(`.${Mj}`,"");return t===""||t==="www"?{type:"main",isStoreSpecific:!1}:["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}return e===Mj?{type:"main",isStoreSpecific:!1}:{type:"custom",customDomain:e,isStoreSpecific:!0}}function aee(){const e=I2();return e.isStoreSpecific&&(e.subdomain||e.customDomain)||null}function N1e(e,t){return t?`${Z9}//${t}`:`${Z9}//${e}.${Mj}`}function cu(){return I2().isStoreSpecific}const M2=cx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?sZ:"button";return s.jsx(o,{className:ft(M2({variant:t,size:r,className:e})),ref:i,...a})});ae.displayName="Button";const Ce=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ce.displayName="Card";const Xe=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("flex flex-col space-y-1.5 p-6",e),...t}));Xe.displayName="CardHeader";const Je=b.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ft("text-2xl font-semibold leading-none tracking-tight",e),...t}));Je.displayName="CardTitle";const Pr=b.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));Pr.displayName="CardDescription";const Ee=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("p-6 pt-0",e),...t}));Ee.displayName="CardContent";const iee=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("flex items-center p-6 pt-0",e),...t}));iee.displayName="CardFooter";function Mu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Jo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},m0={duration:.5,overwrite:!1,delay:0},s5,ii,us,Pl=1e8,Vn=1/Pl,yR=Math.PI*2,S1e=yR/4,k1e=0,lee=Math.sqrt,C1e=Math.cos,E1e=Math.sin,Ha=function(t){return typeof t=="string"},As=function(t){return typeof t=="function"},ad=function(t){return typeof t=="number"},a5=function(t){return typeof t>"u"},uu=function(t){return typeof t=="object"},vo=function(t){return t!==!1},i5=function(){return typeof window<"u"},O_=function(t){return As(t)||Ha(t)},cee=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ei=Array.isArray,T1e=/random\([^)]+\)/g,A1e=/,\s*/g,Q9=/(?:-?\.?\d|\.)+/gi,uee=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Cg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,bT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,dee=/[+-]=-?[.\d]+/,P1e=/[^,'"\[\]\s]+/gi,O1e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,vs,Uc,bR,o5,rl={},mN={},fee,hee=function(t){return(mN=p0(t,rl))&&jo},l5=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},ib=function(t,r){return!r&&console.warn(t)},mee=function(t,r){return t&&(rl[t]=r)&&mN&&(mN[t]=r)||rl},ob=function(){return 0},D1e={suppressEvents:!0,isStart:!0,kill:!1},Fj={suppressEvents:!0,kill:!1},R1e={suppressEvents:!0},c5={},gf=[],wR={},pee,Mo={},wT={},eU=30,Lj=[],u5="",d5=function(t){var r=t[0],n,a;if(uu(r)||As(r)||(t=[t]),!(n=(r._gsap||{}).harness)){for(a=Lj.length;a--&&!Lj[a].targetTest(r););n=Lj[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new $ee(t[a],n)))||t.splice(a,1);return t},dm=function(t){return t._gsap||d5(Ol(t))[0]._gsap},gee=function(t,r,n){return(n=t[r])&&As(n)?t[r]():a5(n)&&t.getAttribute&&t.getAttribute(r)||n},yo=function(t,r){return(t=t.split(",")).forEach(r)||t},Bs=function(t){return Math.round(t*1e5)/1e5||0},xs=function(t){return Math.round(t*1e7)/1e7||0},Gg=function(t,r){var n=r.charAt(0),a=parseFloat(r.substr(2));return t=parseFloat(t),n==="+"?t+a:n==="-"?t-a:n==="*"?t*a:t/a},I1e=function(t,r){for(var n=r.length,a=0;t.indexOf(r[a])<0&&++a<n;);return a<n},pN=function(){var t=gf.length,r=gf.slice(0),n,a;for(wR={},gf.length=0,n=0;n<t;n++)a=r[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},f5=function(t){return!!(t._initted||t._startAt||t.add)},xee=function(t,r,n,a){gf.length&&!ii&&pN(),t.render(r,n,!!(ii&&r<0&&f5(t))),gf.length&&!ii&&pN()},vee=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(P1e).length<2?r:Ha(t)?t.trim():t},yee=function(t){return t},nl=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},M1e=function(t){return function(r,n){for(var a in n)a in r||a==="duration"&&t||a==="ease"||(r[a]=n[a])}},p0=function(t,r){for(var n in r)t[n]=r[n];return t},tU=function e(t,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=uu(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},gN=function(t,r){var n={},a;for(a in t)a in r||(n[a]=t[a]);return n},hy=function(t){var r=t.parent||vs,n=t.keyframes?M1e(Ei(t.keyframes)):nl;if(vo(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},F1e=function(t,r){for(var n=t.length,a=n===r.length;a&&n--&&t[n]===r[n];);return n<0},bee=function(t,r,n,a,i){var o=t[a],l;if(i)for(l=r[i];o&&o[i]>l;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=t[n],t[n]=r),r._next?r._next._prev=r:t[a]=r,r._prev=o,r.parent=r._dp=t,r},F2=function(t,r,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var i=r._prev,o=r._next;i?i._next=o:t[n]===r&&(t[n]=o),o?o._prev=i:t[a]===r&&(t[a]=i),r._next=r._prev=r.parent=null},Df=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},fm=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},L1e=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},_R=function(t,r,n,a){return t._startAt&&(ii?t._startAt.revert(Fj):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,a))},$1e=function e(t){return!t||t._ts&&e(t.parent)},rU=function(t){return t._repeat?g0(t._tTime,t=t.duration()+t._rDelay)*t:0},g0=function(t,r){var n=Math.floor(t=xs(t/r));return t&&n===t?n-1:n},xN=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},L2=function(t){return t._end=xs(t._start+(t._tDur/Math.abs(t._ts||t._rts||Vn)||0))},$2=function(t,r){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=xs(n._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),L2(t),n._dirty||fm(n,t)),t},wee=function(t,r){var n;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(n=xN(t.rawTime(),r),(!r._dur||Iw(0,r.totalDuration(),n)-r._tTime>Vn)&&r.render(n,!0)),fm(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Vn}},zc=function(t,r,n,a){return r.parent&&Df(r),r._start=xs((ad(n)?n:n||t!==vs?wl(t,n,r):t._time)+r._delay),r._end=xs(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),bee(t,r,"_first","_last",t._sort?"_start":0),jR(r)||(t._recent=r),a||wee(t,r),t._ts<0&&$2(t,t._tTime),t},_ee=function(t,r){return(rl.ScrollTrigger||l5("scrollTrigger",r))&&rl.ScrollTrigger.create(r,t)},jee=function(t,r,n,a,i){if(m5(t,r,i),!t._initted)return 1;if(!n&&t._pt&&!ii&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&pee!==zo.frame)return gf.push(t),t._lazy=[i,a],1},B1e=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},jR=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},U1e=function(t,r,n,a){var i=t.ratio,o=r<0||!r&&(!t._start&&B1e(t)&&!(!t._initted&&jR(t))||(t._ts<0||t._dp._ts<0)&&!jR(t))?0:1,l=t._rDelay,c=0,u,d,f;if(l&&t._repeat&&(c=Iw(0,t._tDur,r),d=g0(c,l),t._yoyo&&d&1&&(o=1-o),d!==g0(t._tTime,l)&&(i=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==i||ii||a||t._zTime===Vn||!r&&t._zTime){if(!t._initted&&jee(t,r,a,n,c))return;for(f=t._zTime,t._zTime=r||(n?Vn:0),n||(n=r&&!f),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=c,u=t._pt;u;)u.r(o,u.d),u=u._next;r<0&&_R(t,r,n,!0),t._onUpdate&&!n&&Ko(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&Ko(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===o&&(o&&Df(t,1),!n&&!ii&&(Ko(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},V1e=function(t,r,n){var a;if(n>r)for(a=t._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=t._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},x0=function(t,r,n,a){var i=t._repeat,o=xs(r)||0,l=t._tTime/t._tDur;return l&&!a&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:xs(o*(i+1)+t._rDelay*i):o,l>0&&!a&&$2(t,t._tTime=t._tDur*l),t.parent&&L2(t),n||fm(t.parent,t),t},nU=function(t){return t instanceof qi?fm(t):x0(t,t._dur)},z1e={_start:0,endTime:ob,totalDuration:ob},wl=function e(t,r,n){var a=t.labels,i=t._recent||z1e,o=t.duration()>=Pl?i.endTime(!1):t._dur,l,c,u;return Ha(r)&&(isNaN(r)||r in a)?(c=r.charAt(0),u=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(l<0?i:n).totalDuration()/100:1)):l<0?(r in a||(a[r]=o),a[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),u&&n&&(c=c/100*(Ei(n)?n[0]:n).totalDuration()),l>1?e(t,r.substr(0,l-1),n)+c:o+c)):r==null?o:+r},my=function(t,r,n){var a=ad(r[1]),i=(a?2:1)+(t<2?0:1),o=r[i],l,c;if(a&&(o.duration=r[1]),o.parent=n,t){for(l=o,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=vo(c.vars.inherit)&&c.parent;o.immediateRender=vo(l.immediateRender),t<2?o.runBackwards=1:o.startAt=r[i-1]}return new la(r[0],o,r[i+1])},rh=function(t,r){return t||t===0?r(t):r},Iw=function(t,r,n){return n<t?t:n>r?r:n},_i=function(t,r){return!Ha(t)||!(r=O1e.exec(t))?"":r[1]},q1e=function(t,r,n){return rh(n,function(a){return Iw(t,r,a)})},NR=[].slice,Nee=function(t,r){return t&&uu(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&uu(t[0]))&&!t.nodeType&&t!==Uc},W1e=function(t,r,n){return n===void 0&&(n=[]),t.forEach(function(a){var i;return Ha(a)&&!r||Nee(a,1)?(i=n).push.apply(i,Ol(a)):n.push(a)})||n},Ol=function(t,r,n){return us&&!r&&us.selector?us.selector(t):Ha(t)&&!n&&(bR||!v0())?NR.call((r||o5).querySelectorAll(t),0):Ei(t)?W1e(t,n):Nee(t)?NR.call(t,0):t?[t]:[]},SR=function(t){return t=Ol(t)[0]||ib("Invalid scope")||{},function(r){var n=t.current||t.nativeElement||t;return Ol(r,n.querySelectorAll?n:n===t?ib("Invalid scope")||o5.createElement("div"):t)}},See=function(t){return t.sort(function(){return .5-Math.random()})},kee=function(t){if(As(t))return t;var r=uu(t)?t:{each:t},n=hm(r.ease),a=r.from||0,i=parseFloat(r.base)||0,o={},l=a>0&&a<1,c=isNaN(a)||l,u=r.axis,d=a,f=a;return Ha(a)?d=f={center:.5,edges:.5,end:1}[a]||0:!l&&c&&(d=a[0],f=a[1]),function(m,p,y){var g=(y||r).length,v=o[g],_,w,j,C,S,k,E,R,P;if(!v){if(P=r.grid==="auto"?0:(r.grid||[1,Pl])[1],!P){for(E=-Pl;E<(E=y[P++].getBoundingClientRect().left)&&P<g;);P<g&&P--}for(v=o[g]=[],_=c?Math.min(P,g)*d-.5:a%P,w=P===Pl?0:c?g*f/P-.5:a/P|0,E=0,R=Pl,k=0;k<g;k++)j=k%P-_,C=w-(k/P|0),v[k]=S=u?Math.abs(u==="y"?C:j):lee(j*j+C*C),S>E&&(E=S),S<R&&(R=S);a==="random"&&See(v),v.max=E-R,v.min=R,v.v=g=(parseFloat(r.amount)||parseFloat(r.each)*(P>g?g-1:u?u==="y"?g/P:P:Math.max(P,g/P))||0)*(a==="edges"?-1:1),v.b=g<0?i-g:i,v.u=_i(r.amount||r.each)||0,n=n&&g<0?Mee(n):n}return g=(v[m]-v.min)/v.max||0,xs(v.b+(n?n(g):g)*v.v)+v.u}},kR=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var a=xs(Math.round(parseFloat(n)/t)*t*r);return(a-a%1)/r+(ad(n)?0:_i(n))}},Cee=function(t,r){var n=Ei(t),a,i;return!n&&uu(t)&&(a=n=t.radius||Pl,t.values?(t=Ol(t.values),(i=!ad(t[0]))&&(a*=a)):t=kR(t.increment)),rh(r,n?As(t)?function(o){return i=t(o),Math.abs(i-o)<=a?i:o}:function(o){for(var l=parseFloat(i?o.x:o),c=parseFloat(i?o.y:0),u=Pl,d=0,f=t.length,m,p;f--;)i?(m=t[f].x-l,p=t[f].y-c,m=m*m+p*p):m=Math.abs(t[f]-l),m<u&&(u=m,d=f);return d=!a||u<=a?t[d]:o,i||d===o||ad(o)?d:d+_i(o)}:kR(t))},Eee=function(t,r,n,a){return rh(Ei(t)?!r:n===!0?!!(n=0):!a,function(){return Ei(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(r-t+n*.99))/n)*n*a)/a})},H1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduce(function(i,o){return o(i)},a)}},G1e=function(t,r){return function(n){return t(parseFloat(n))+(r||_i(n))}},K1e=function(t,r,n){return Aee(t,r,0,1,n)},Tee=function(t,r,n){return rh(n,function(a){return t[~~r(a)]})},Y1e=function e(t,r,n){var a=r-t;return Ei(t)?Tee(t,e(0,t.length),r):rh(n,function(i){return(a+(i-t)%a)%a+t})},X1e=function e(t,r,n){var a=r-t,i=a*2;return Ei(t)?Tee(t,e(0,t.length-1),r):rh(n,function(o){return o=(i+(o-t)%i)%i||0,t+(o>a?i-o:o)})},lb=function(t){return t.replace(T1e,function(r){var n=r.indexOf("[")+1,a=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(A1e);return Eee(n?a:+a[0],n?0:+a[1],+a[2]||1e-5)})},Aee=function(t,r,n,a,i){var o=r-t,l=a-n;return rh(i,function(c){return n+((c-t)/o*l||0)})},J1e=function e(t,r,n,a){var i=isNaN(t+r)?0:function(p){return(1-p)*t+p*r};if(!i){var o=Ha(t),l={},c,u,d,f,m;if(n===!0&&(a=1)&&(n=null),o)t={p:t},r={p:r};else if(Ei(t)&&!Ei(r)){for(d=[],f=t.length,m=f-2,u=1;u<f;u++)d.push(e(t[u-1],t[u]));f--,i=function(y){y*=f;var g=Math.min(m,~~y);return d[g](y-g)},n=r}else a||(t=p0(Ei(t)?[]:{},t));if(!d){for(c in r)h5.call(l,t,c,"get",r[c]);i=function(y){return x5(y,l)||(o?t.p:t)}}}return rh(n,i)},sU=function(t,r,n){var a=t.labels,i=Pl,o,l,c;for(o in a)l=a[o]-r,l<0==!!n&&l&&i>(l=Math.abs(l))&&(c=o,i=l);return c},Ko=function(t,r,n){var a=t.vars,i=a[r],o=us,l=t._ctx,c,u,d;if(i)return c=a[r+"Params"],u=a.callbackScope||t,n&&gf.length&&pN(),l&&(us=l),d=c?i.apply(u,c):i.call(u),us=o,d},Wv=function(t){return Df(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ii),t.progress()<1&&Ko(t,"onInterrupt"),t},Eg,Pee=[],Oee=function(t){if(t)if(t=!t.name&&t.default||t,i5()||t.headless){var r=t.name,n=As(t),a=r&&!n&&t.init?function(){this._props=[]}:t,i={init:ob,render:x5,add:h5,kill:h_e,modifier:f_e,rawVars:0},o={targetTest:0,get:0,getSetter:g5,aliases:{},register:0};if(v0(),t!==a){if(Mo[r])return;nl(a,nl(gN(t,i),o)),p0(a.prototype,p0(i,gN(t,o))),Mo[a.prop=r]=a,t.targetTest&&(Lj.push(a),c5[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}mee(r,a),t.register&&t.register(jo,a,bo)}else Pee.push(t)},Bn=255,Hv={aqua:[0,Bn,Bn],lime:[0,Bn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Bn],navy:[0,0,128],white:[Bn,Bn,Bn],olive:[128,128,0],yellow:[Bn,Bn,0],orange:[Bn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Bn,0,0],pink:[Bn,192,203],cyan:[0,Bn,Bn],transparent:[Bn,Bn,Bn,0]},_T=function(t,r,n){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(n-r)*t*6:t<.5?n:t*3<2?r+(n-r)*(2/3-t)*6:r)*Bn+.5|0},Dee=function(t,r,n){var a=t?ad(t)?[t>>16,t>>8&Bn,t&Bn]:0:Hv.black,i,o,l,c,u,d,f,m,p,y;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Hv[t])a=Hv[t];else if(t.charAt(0)==="#"){if(t.length<6&&(i=t.charAt(1),o=t.charAt(2),l=t.charAt(3),t="#"+i+i+o+o+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&Bn,a&Bn,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&Bn,t&Bn]}else if(t.substr(0,3)==="hsl"){if(a=y=t.match(Q9),!r)c=+a[0]%360/360,u=+a[1]/100,d=+a[2]/100,o=d<=.5?d*(u+1):d+u-d*u,i=d*2-o,a.length>3&&(a[3]*=1),a[0]=_T(c+1/3,i,o),a[1]=_T(c,i,o),a[2]=_T(c-1/3,i,o);else if(~t.indexOf("="))return a=t.match(uee),n&&a.length<4&&(a[3]=1),a}else a=t.match(Q9)||Hv.transparent;a=a.map(Number)}return r&&!y&&(i=a[0]/Bn,o=a[1]/Bn,l=a[2]/Bn,f=Math.max(i,o,l),m=Math.min(i,o,l),d=(f+m)/2,f===m?c=u=0:(p=f-m,u=d>.5?p/(2-f-m):p/(f+m),c=f===i?(o-l)/p+(o<l?6:0):f===o?(l-i)/p+2:(i-o)/p+4,c*=60),a[0]=~~(c+.5),a[1]=~~(u*100+.5),a[2]=~~(d*100+.5)),n&&a.length<4&&(a[3]=1),a},Ree=function(t){var r=[],n=[],a=-1;return t.split(xf).forEach(function(i){var o=i.match(Cg)||[];r.push.apply(r,o),n.push(a+=o.length+1)}),r.c=n,r},aU=function(t,r,n){var a="",i=(t+a).match(xf),o=r?"hsla(":"rgba(",l=0,c,u,d,f;if(!i)return t;if(i=i.map(function(m){return(m=Dee(m,r,1))&&o+(r?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),n&&(d=Ree(t),c=n.c,c.join(a)!==d.c.join(a)))for(u=t.replace(xf,"1").split(Cg),f=u.length-1;l<f;l++)a+=u[l]+(~c.indexOf(l)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:n).shift());if(!u)for(u=t.split(xf),f=u.length-1;l<f;l++)a+=u[l]+i[l];return a+u[f]},xf=(function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Hv)e+="|"+t+"\\b";return new RegExp(e+")","gi")})(),Z1e=/hsl[a]?\(/,Iee=function(t){var r=t.join(" "),n;if(xf.lastIndex=0,xf.test(r))return n=Z1e.test(r),t[1]=aU(t[1],n),t[0]=aU(t[0],n,Ree(t[1])),!0},cb,zo=(function(){var e=Date.now,t=500,r=33,n=e(),a=n,i=1e3/240,o=i,l=[],c,u,d,f,m,p,y=function g(v){var _=e()-a,w=v===!0,j,C,S,k;if((_>t||_<0)&&(n+=_-r),a+=_,S=a-n,j=S-o,(j>0||w)&&(k=++f.frame,m=S-f.time*1e3,f.time=S=S/1e3,o+=j+(j>=i?4:i-j),C=1),w||(c=u(g)),C)for(p=0;p<l.length;p++)l[p](S,m,k,v)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(v){return m/(1e3/(v||60))},wake:function(){fee&&(!bR&&i5()&&(Uc=bR=window,o5=Uc.document||{},rl.gsap=jo,(Uc.gsapVersions||(Uc.gsapVersions=[])).push(jo.version),hee(mN||Uc.GreenSockGlobals||!Uc.gsap&&Uc||{}),Pee.forEach(Oee)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(v){return setTimeout(v,o-f.time*1e3+1|0)},cb=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),cb=0,u=ob},lagSmoothing:function(v,_){t=v||1/0,r=Math.min(_||33,t)},fps:function(v){i=1e3/(v||240),o=f.time*1e3+i},add:function(v,_,w){var j=_?function(C,S,k,E){v(C,S,k,E),f.remove(j)}:v;return f.remove(v),l[w?"unshift":"push"](j),v0(),j},remove:function(v,_){~(_=l.indexOf(v))&&l.splice(_,1)&&p>=_&&p--},_listeners:l},f})(),v0=function(){return!cb&&zo.wake()},tn={},Q1e=/^[\d.\-M][\d.\-,\s]/,e_e=/["']/g,t_e=function(t){for(var r={},n=t.substr(1,t.length-3).split(":"),a=n[0],i=1,o=n.length,l,c,u;i<o;i++)c=n[i],l=i!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),r[a]=isNaN(u)?u.replace(e_e,"").trim():+u,a=c.substr(l+1).trim();return r},r_e=function(t){var r=t.indexOf("(")+1,n=t.indexOf(")"),a=t.indexOf("(",r);return t.substring(r,~a&&a<n?t.indexOf(")",n+1):n)},n_e=function(t){var r=(t+"").split("("),n=tn[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[t_e(r[1])]:r_e(t).split(",").map(vee)):tn._CE&&Q1e.test(t)?tn._CE("",t):n},Mee=function(t){return function(r){return 1-t(1-r)}},Fee=function e(t,r){for(var n=t._first,a;n;)n instanceof qi?e(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?e(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},hm=function(t,r){return t&&(As(t)?t:tn[t]||n_e(t))||r},sp=function(t,r,n,a){n===void 0&&(n=function(c){return 1-r(1-c)}),a===void 0&&(a=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var i={easeIn:r,easeOut:n,easeInOut:a},o;return yo(t,function(l){tn[l]=rl[l]=i,tn[o=l.toLowerCase()]=n;for(var c in i)tn[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=tn[l+"."+c]=i[c]}),i},Lee=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},jT=function e(t,r,n){var a=r>=1?r:1,i=(n||(t?.3:.45))/(r<1?r:1),o=i/yR*(Math.asin(1/a)||0),l=function(d){return d===1?1:a*Math.pow(2,-10*d)*E1e((d-o)*i)+1},c=t==="out"?l:t==="in"?function(u){return 1-l(1-u)}:Lee(l);return i=yR/i,c.config=function(u,d){return e(t,u,d)},c},NT=function e(t,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},a=t==="out"?n:t==="in"?function(i){return 1-n(1-i)}:Lee(n);return a.config=function(i){return e(t,i)},a};yo("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;sp(e+",Power"+(r-1),t?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});tn.Linear.easeNone=tn.none=tn.Linear.easeIn;sp("Elastic",jT("in"),jT("out"),jT());(function(e,t){var r=1/t,n=2*r,a=2.5*r,i=function(l){return l<r?e*l*l:l<n?e*Math.pow(l-1.5/t,2)+.75:l<a?e*(l-=2.25/t)*l+.9375:e*Math.pow(l-2.625/t,2)+.984375};sp("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);sp("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)});sp("Circ",function(e){return-(lee(1-e*e)-1)});sp("Sine",function(e){return e===1?1:-C1e(e*S1e)+1});sp("Back",NT("in"),NT("out"),NT());tn.SteppedEase=tn.steps=rl.SteppedEase={config:function(t,r){t===void 0&&(t=1);var n=1/t,a=t+(r?0:1),i=r?1:0,o=1-Vn;return function(l){return((a*Iw(0,o,l)|0)+i)*n}}};m0.ease=tn["quad.out"];yo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return u5+=e+","+e+"Params,"});var $ee=function(t,r){this.id=k1e++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:gee,this.set=r?r.getSetter:g5},ub=(function(){function e(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,x0(this,+r.duration,1,1),this.data=r.data,us&&(this._ctx=us,us.data.push(this)),cb||zo.wake()}var t=e.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,x0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,a){if(v0(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for($2(this,n),!i._dp||i.parent||wee(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&zc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Vn||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),xee(this,n,a)),this},t.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+rU(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},t.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+rU(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,a):this._repeat?g0(this._tTime,i)+1:1},t.timeScale=function(n,a){if(!arguments.length)return this._rts===-Vn?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?xN(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Vn?0:this._rts,this.totalTime(Iw(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),L2(this),L1e(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(v0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Vn&&(this._tTime-=Vn)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=xs(n);var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&zc(a,this,this._start-this._delay),this}return this._start},t.endTime=function(n){return this._start+(vo(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?xN(a.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=R1e);var a=ii;return ii=n,f5(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ii=a,this},t.globalTime=function(n){for(var a=this,i=arguments.length?n:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,nU(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,nU(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,a){return this.totalTime(wl(this,n),vo(a))},t.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,vo(a)),this._dur||(this._zTime=-Vn),this},t.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},t.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Vn:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Vn,this},t.isActive=function(){var n=this.parent||this._dp,a=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=a&&i<this.endTime(!0)-Vn)},t.eventCallback=function(n,a,i){var o=this.vars;return arguments.length>1?(a?(o[n]=a,i&&(o[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=a)):delete o[n],this):o[n]},t.then=function(n){var a=this,i=a._prom;return new Promise(function(o){var l=As(n)?n:yee,c=function(){var d=a.then;a.then=null,i&&i(),As(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=d),o(l),a.then=d};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?c():a._prom=c})},t.kill=function(){Wv(this)},e})();nl(ub.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Vn,_prom:0,_ps:!1,_rts:1});var qi=(function(e){oee(t,e);function t(n,a){var i;return n===void 0&&(n={}),i=e.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=vo(n.sortChildren),vs&&zc(n.parent||vs,Mu(i),a),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&_ee(Mu(i),n.scrollTrigger),i}var r=t.prototype;return r.to=function(a,i,o){return my(0,arguments,this),this},r.from=function(a,i,o){return my(1,arguments,this),this},r.fromTo=function(a,i,o,l){return my(2,arguments,this),this},r.set=function(a,i,o){return i.duration=0,i.parent=this,hy(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new la(a,i,wl(this,o),1),this},r.call=function(a,i,o){return zc(this,la.delayedCall(0,a,i),o)},r.staggerTo=function(a,i,o,l,c,u,d){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new la(a,o,wl(this,c)),this},r.staggerFrom=function(a,i,o,l,c,u,d){return o.runBackwards=1,hy(o).immediateRender=vo(o.immediateRender),this.staggerTo(a,i,o,l,c,u,d)},r.staggerFromTo=function(a,i,o,l,c,u,d,f){return l.startAt=o,hy(l).immediateRender=vo(l.immediateRender),this.staggerTo(a,i,l,c,u,d,f)},r.render=function(a,i,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=a<=0?0:xs(a),f=this._zTime<0!=a<0&&(this._initted||!u),m,p,y,g,v,_,w,j,C,S,k,E;if(this!==vs&&d>c&&a>=0&&(d=c),d!==this._tTime||o||f){if(l!==this._time&&u&&(d+=this._time-l,a+=this._time-l),m=d,C=this._start,j=this._ts,_=!j,f&&(u||(l=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(k=this._yoyo,v=u+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(v*100+a,i,o);if(m=xs(d%v),d===c?(g=this._repeat,m=u):(S=xs(d/v),g=~~S,g&&g===S&&(m=u,g--),m>u&&(m=u)),S=g0(this._tTime,v),!l&&this._tTime&&S!==g&&this._tTime-S*v-this._dur<=0&&(S=g),k&&g&1&&(m=u-m,E=1),g!==S&&!this._lock){var R=k&&S&1,P=R===(k&&g&1);if(g<S&&(R=!R),l=R?0:d%u?u:d,this._lock=1,this.render(l||(E?0:xs(g*v)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&Ko(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1,S=g),l&&l!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,P&&(this._lock=2,l=R?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;Fee(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=V1e(this,xs(l),xs(m)),w&&(d-=m-(m=w._start))),this._tTime=d,this._time=m,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&d&&u&&!i&&!S&&(Ko(this,"onStart"),this._tTime!==d))return this;if(m>=l&&a>=0)for(p=this._first;p;){if(y=p._next,(p._act||m>=p._start)&&p._ts&&w!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(m-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(m-p._start)*p._ts,i,o),m!==this._time||!this._ts&&!_){w=0,y&&(d+=this._zTime=-Vn);break}}p=y}else{p=this._last;for(var T=a<0?a:m;p;){if(y=p._prev,(p._act||T<=p._end)&&p._ts&&w!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(T-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(T-p._start)*p._ts,i,o||ii&&f5(p)),m!==this._time||!this._ts&&!_){w=0,y&&(d+=this._zTime=T?-Vn:Vn);break}}p=y}}if(w&&!i&&(this.pause(),w.render(m>=l?0:-Vn)._zTime=m>=l?1:-1,this._ts))return this._start=C,L2(this),this.render(a,i,o);this._onUpdate&&!i&&Ko(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(C===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((a||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Df(this,1),!i&&!(a<0&&!l)&&(d||l||!c)&&(Ko(this,d===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,i){var o=this;if(ad(i)||(i=wl(this,i,a)),!(a instanceof ub)){if(Ei(a))return a.forEach(function(l){return o.add(l,i)}),this;if(Ha(a))return this.addLabel(a,i);if(As(a))a=la.delayedCall(0,a);else return this}return this!==a?zc(this,a,i):this},r.getChildren=function(a,i,o,l){a===void 0&&(a=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-Pl);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof la?i&&c.push(u):(o&&c.push(u),a&&c.push.apply(c,u.getChildren(!0,i,o)))),u=u._next;return c},r.getById=function(a){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===a)return i[o]},r.remove=function(a){return Ha(a)?this.removeLabel(a):As(a)?this.killTweensOf(a):(a.parent===this&&F2(this,a),a===this._recent&&(this._recent=this._last),fm(this))},r.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=xs(zo.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),e.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},r.addLabel=function(a,i){return this.labels[a]=wl(this,i),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,i,o){var l=la.delayedCall(0,i||ob,o);return l.data="isPause",this._hasPause=1,zc(this,l,wl(this,a))},r.removePause=function(a){var i=this._first;for(a=wl(this,a);i;)i._start===a&&i.data==="isPause"&&Df(i),i=i._next},r.killTweensOf=function(a,i,o){for(var l=this.getTweensOf(a,o),c=l.length;c--;)nf!==l[c]&&l[c].kill(a,i);return this},r.getTweensOf=function(a,i){for(var o=[],l=Ol(a),c=this._first,u=ad(i),d;c;)c instanceof la?I1e(c._targets,l)&&(u?(!nf||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&o.push(c):(d=c.getTweensOf(l,i)).length&&o.push.apply(o,d),c=c._next;return o},r.tweenTo=function(a,i){i=i||{};var o=this,l=wl(o,a),c=i,u=c.startAt,d=c.onStart,f=c.onStartParams,m=c.immediateRender,p,y=la.to(o,nl({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||Vn,onStart:function(){if(o.pause(),!p){var v=i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());y._dur!==v&&x0(y,v,0,1).render(y._time,!0,!0),p=1}d&&d.apply(y,f||[])}},i));return m?y.render(0):y},r.tweenFromTo=function(a,i,o){return this.tweenTo(i,nl({startAt:{time:wl(this,a)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),sU(this,wl(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),sU(this,wl(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Vn)},r.shiftChildren=function(a,i,o){o===void 0&&(o=0);var l=this._first,c=this.labels,u;for(a=xs(a);l;)l._start>=o&&(l._start+=a,l._end+=a),l=l._next;if(i)for(u in c)c[u]>=o&&(c[u]+=a);return fm(this)},r.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return e.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),fm(this)},r.totalDuration=function(a){var i=0,o=this,l=o._last,c=Pl,u,d,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-a:a));if(o._dirty){for(f=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,zc(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(i-=d,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=xs(d/o._ts),o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>i&&l._ts&&(i=l._end),l=u;x0(o,o===vs&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(a){if(vs._ts&&(xee(vs,xN(a,vs)),pee=zo.frame),zo.frame>=eU){eU+=Jo.autoSleep||120;var i=vs._first;if((!i||!i._ts)&&Jo.autoSleep&&zo._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||zo.sleep()}}},t})(ub);nl(qi.prototype,{_lock:0,_hasPause:0,_forcing:0});var s_e=function(t,r,n,a,i,o,l){var c=new bo(this._pt,t,r,0,1,Wee,null,i),u=0,d=0,f,m,p,y,g,v,_,w;for(c.b=n,c.e=a,n+="",a+="",(_=~a.indexOf("random("))&&(a=lb(a)),o&&(w=[n,a],o(w,t,r),n=w[0],a=w[1]),m=n.match(bT)||[];f=bT.exec(a);)y=f[0],g=a.substring(u,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),y!==m[d++]&&(v=parseFloat(m[d-1])||0,c._pt={_next:c._pt,p:g||d===1?g:",",s:v,c:y.charAt(1)==="="?Gg(v,y)-v:parseFloat(y)-v,m:p&&p<4?Math.round:0},u=bT.lastIndex);return c.c=u<a.length?a.substring(u,a.length):"",c.fp=l,(dee.test(a)||_)&&(c.e=0),this._pt=c,c},h5=function(t,r,n,a,i,o,l,c,u,d){As(a)&&(a=a(i||0,t,o));var f=t[r],m=n!=="get"?n:As(f)?u?t[r.indexOf("set")||!As(t["get"+r.substr(3)])?r:"get"+r.substr(3)](u):t[r]():f,p=As(f)?u?c_e:zee:p5,y;if(Ha(a)&&(~a.indexOf("random(")&&(a=lb(a)),a.charAt(1)==="="&&(y=Gg(m,a)+(_i(m)||0),(y||y===0)&&(a=y))),!d||m!==a||CR)return!isNaN(m*a)&&a!==""?(y=new bo(this._pt,t,r,+m||0,a-(m||0),typeof f=="boolean"?d_e:qee,0,p),u&&(y.fp=u),l&&y.modifier(l,this,t),this._pt=y):(!f&&!(r in t)&&l5(r,a),s_e.call(this,t,r,m,a,p,c||Jo.stringFilter,u))},a_e=function(t,r,n,a,i){if(As(t)&&(t=py(t,i,r,n,a)),!uu(t)||t.style&&t.nodeType||Ei(t)||cee(t))return Ha(t)?py(t,i,r,n,a):t;var o={},l;for(l in t)o[l]=py(t[l],i,r,n,a);return o},Bee=function(t,r,n,a,i,o){var l,c,u,d;if(Mo[t]&&(l=new Mo[t]).init(i,l.rawVars?r[t]:a_e(r[t],a,i,o,n),n,a,o)!==!1&&(n._pt=c=new bo(n._pt,i,t,0,1,l.render,l,0,l.priority),n!==Eg))for(u=n._ptLookup[n._targets.indexOf(i)],d=l._props.length;d--;)u[l._props[d]]=c;return l},nf,CR,m5=function e(t,r,n){var a=t.vars,i=a.ease,o=a.startAt,l=a.immediateRender,c=a.lazy,u=a.onUpdate,d=a.runBackwards,f=a.yoyoEase,m=a.keyframes,p=a.autoRevert,y=t._dur,g=t._startAt,v=t._targets,_=t.parent,w=_&&_.data==="nested"?_.vars.targets:v,j=t._overwrite==="auto"&&!s5,C=t.timeline,S,k,E,R,P,T,O,D,I,L,W,q,G;if(C&&(!m||!i)&&(i="none"),t._ease=hm(i,m0.ease),t._yEase=f?Mee(hm(f===!0?i:f,m0.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!C&&!!a.runBackwards,!C||m&&!a.stagger){if(D=v[0]?dm(v[0]).harness:0,q=D&&a[D.prop],S=gN(a,c5),g&&(g._zTime<0&&g.progress(1),r<0&&d&&l&&!p?g.render(-1,!0):g.revert(d&&y?Fj:D1e),g._lazy=0),o){if(Df(t._startAt=la.set(v,nl({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!g&&vo(c),startAt:null,delay:0,onUpdate:u&&function(){return Ko(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(ii||!l&&!p)&&t._startAt.revert(Fj),l&&y&&r<=0&&n<=0){r&&(t._zTime=r);return}}else if(d&&y&&!g){if(r&&(l=!1),E=nl({overwrite:!1,data:"isFromStart",lazy:l&&!g&&vo(c),immediateRender:l,stagger:0,parent:_},S),q&&(E[D.prop]=q),Df(t._startAt=la.set(v,E)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(ii?t._startAt.revert(Fj):t._startAt.render(-1,!0)),t._zTime=r,!l)e(t._startAt,Vn,Vn);else if(!r)return}for(t._pt=t._ptCache=0,c=y&&vo(c)||c&&!y,k=0;k<v.length;k++){if(P=v[k],O=P._gsap||d5(v)[k]._gsap,t._ptLookup[k]=L={},wR[O.id]&&gf.length&&pN(),W=w===v?k:w.indexOf(P),D&&(I=new D).init(P,q||S,t,W,w)!==!1&&(t._pt=R=new bo(t._pt,P,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(K){L[K]=R}),I.priority&&(T=1)),!D||q)for(E in S)Mo[E]&&(I=Bee(E,S,t,W,P,w))?I.priority&&(T=1):L[E]=R=h5.call(t,P,E,"get",S[E],W,w,0,a.stringFilter);t._op&&t._op[k]&&t.kill(P,t._op[k]),j&&t._pt&&(nf=t,vs.killTweensOf(P,L,t.globalTime(r)),G=!t.parent,nf=0),t._pt&&c&&(wR[O.id]=1)}T&&Hee(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!G,m&&r<=0&&C.render(Pl,!0,!0)},i_e=function(t,r,n,a,i,o,l,c){var u=(t._pt&&t._ptCache||(t._ptCache={}))[r],d,f,m,p;if(!u)for(u=t._ptCache[r]=[],m=t._ptLookup,p=t._targets.length;p--;){if(d=m[p][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return CR=1,t.vars[r]="+=0",m5(t,l),CR=0,c?ib(r+" not eligible for reset"):1;u.push(d)}for(p=u.length;p--;)f=u[p],d=f._pt||f,d.s=(a||a===0)&&!i?a:d.s+(a||0)+o*d.c,d.c=n-d.s,f.e&&(f.e=Bs(n)+_i(f.e)),f.b&&(f.b=d.s+_i(f.b))},o_e=function(t,r){var n=t[0]?dm(t[0]).harness:0,a=n&&n.aliases,i,o,l,c;if(!a)return r;i=p0({},r);for(o in a)if(o in i)for(c=a[o].split(","),l=c.length;l--;)i[c[l]]=i[o];return i},l_e=function(t,r,n,a){var i=r.ease||a||"power1.inOut",o,l;if(Ei(r))l=n[t]||(n[t]=[]),r.forEach(function(c,u){return l.push({t:u/(r.length-1)*100,v:c,e:i})});else for(o in r)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(t),v:r[o],e:i})},py=function(t,r,n,a,i){return As(t)?t.call(r,n,a,i):Ha(t)&&~t.indexOf("random(")?lb(t):t},Uee=u5+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Vee={};yo(Uee+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return Vee[e]=1});var la=(function(e){oee(t,e);function t(n,a,i,o){var l;typeof a=="number"&&(i.duration=a,a=i,i=null),l=e.call(this,o?a:hy(a))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,m=c.stagger,p=c.overwrite,y=c.keyframes,g=c.defaults,v=c.scrollTrigger,_=c.yoyoEase,w=a.parent||vs,j=(Ei(n)||cee(n)?ad(n[0]):"length"in a)?[n]:Ol(n),C,S,k,E,R,P,T,O;if(l._targets=j.length?d5(j):ib("GSAP target "+n+" not found. https://gsap.com",!Jo.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=p,y||m||O_(u)||O_(d)){if(a=l.vars,C=l.timeline=new qi({data:"nested",defaults:g||{},targets:w&&w.data==="nested"?w.vars.targets:j}),C.kill(),C.parent=C._dp=Mu(l),C._start=0,m||O_(u)||O_(d)){if(E=j.length,T=m&&kee(m),uu(m))for(R in m)~Uee.indexOf(R)&&(O||(O={}),O[R]=m[R]);for(S=0;S<E;S++)k=gN(a,Vee),k.stagger=0,_&&(k.yoyoEase=_),O&&p0(k,O),P=j[S],k.duration=+py(u,Mu(l),S,P,j),k.delay=(+py(d,Mu(l),S,P,j)||0)-l._delay,!m&&E===1&&k.delay&&(l._delay=d=k.delay,l._start+=d,k.delay=0),C.to(P,k,T?T(S,P,j):0),C._ease=tn.none;C.duration()?u=d=0:l.timeline=0}else if(y){hy(nl(C.vars.defaults,{ease:"none"})),C._ease=hm(y.ease||a.ease||"none");var D=0,I,L,W;if(Ei(y))y.forEach(function(q){return C.to(j,q,">")}),C.duration();else{k={};for(R in y)R==="ease"||R==="easeEach"||l_e(R,y[R],k,y.easeEach);for(R in k)for(I=k[R].sort(function(q,G){return q.t-G.t}),D=0,S=0;S<I.length;S++)L=I[S],W={ease:L.e,duration:(L.t-(S?I[S-1].t:0))/100*u},W[R]=L.v,C.to(j,W,D),D+=W.duration;C.duration()<u&&C.to({},{duration:u-C.duration()})}}u||l.duration(u=C.duration())}else l.timeline=0;return p===!0&&!s5&&(nf=Mu(l),vs.killTweensOf(j),nf=0),zc(w,Mu(l),i),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(f||!u&&!y&&l._start===xs(w._time)&&vo(f)&&$1e(Mu(l))&&w.data!=="nested")&&(l._tTime=-Vn,l.render(Math.max(0,-d)||0)),v&&_ee(Mu(l),v),l}var r=t.prototype;return r.render=function(a,i,o){var l=this._time,c=this._tDur,u=this._dur,d=a<0,f=a>c-Vn&&!d?c:a<Vn?0:a,m,p,y,g,v,_,w,j,C;if(!u)U1e(this,a,i,o);else if(f!==this._tTime||!a||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=f,j=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+a,i,o);if(m=xs(f%g),f===c?(y=this._repeat,m=u):(v=xs(f/g),y=~~v,y&&y===v?(m=u,y--):m>u&&(m=u)),_=this._yoyo&&y&1,_&&(C=this._yEase,m=u-m),v=g0(this._tTime,g),m===l&&!o&&this._initted&&y===v)return this._tTime=f,this;y!==v&&(j&&this._yEase&&Fee(j,_),this.vars.repeatRefresh&&!_&&!this._lock&&m!==g&&this._initted&&(this._lock=o=1,this.render(xs(g*y),!0).invalidate()._lock=0))}if(!this._initted){if(jee(this,d?a:m,o,i,f))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&y!==v))return this;if(u!==this._dur)return this.render(a,i,o)}if(this._tTime=f,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(C||this._ease)(m/u),this._from&&(this.ratio=w=1-w),!l&&f&&!i&&!v&&(Ko(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(w,p.d),p=p._next;j&&j.render(a<0?a:j._dur*j._ease(m/this._dur),i,o)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(d&&_R(this,a,i,o),Ko(this,"onUpdate")),this._repeat&&y!==v&&this.vars.onRepeat&&!i&&this.parent&&Ko(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&_R(this,a,!0,!0),(a||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Df(this,1),!i&&!(d&&!l)&&(f||l||_)&&(Ko(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),e.prototype.invalidate.call(this,a)},r.resetTo=function(a,i,o,l,c){cb||zo.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||m5(this,u),d=this._ease(u/this._dur),i_e(this,a,i,o,l,d,u,c)?this.resetTo(a,i,o,l,1):($2(this,0),this.parent||bee(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Wv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ii),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,nf&&nf.vars.overwrite!==!0)._first||Wv(this),this.parent&&o!==this.timeline.totalDuration()&&x0(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=a?Ol(a):l,u=this._ptLookup,d=this._pt,f,m,p,y,g,v,_;if((!i||i==="all")&&F1e(l,c))return i==="all"&&(this._pt=0),Wv(this);for(f=this._op=this._op||[],i!=="all"&&(Ha(i)&&(g={},yo(i,function(w){return g[w]=1}),i=g),i=o_e(l,i)),_=l.length;_--;)if(~c.indexOf(l[_])){m=u[_],i==="all"?(f[_]=i,y=m,p={}):(p=f[_]=f[_]||{},y=i);for(g in y)v=m&&m[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&F2(this,v,"_pt"),delete m[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&d&&Wv(this),this},t.to=function(a,i){return new t(a,i,arguments[2])},t.from=function(a,i){return my(1,arguments)},t.delayedCall=function(a,i,o,l){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},t.fromTo=function(a,i,o){return my(2,arguments)},t.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(a,i)},t.killTweensOf=function(a,i,o){return vs.killTweensOf(a,i,o)},t})(ub);nl(la.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});yo("staggerTo,staggerFrom,staggerFromTo",function(e){la[e]=function(){var t=new qi,r=NR.call(arguments,0);return r.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,r)}});var p5=function(t,r,n){return t[r]=n},zee=function(t,r,n){return t[r](n)},c_e=function(t,r,n,a){return t[r](a.fp,n)},u_e=function(t,r,n){return t.setAttribute(r,n)},g5=function(t,r){return As(t[r])?zee:a5(t[r])&&t.setAttribute?u_e:p5},qee=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},d_e=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},Wee=function(t,r){var n=r._pt,a="";if(!t&&r.b)a=r.b;else if(t===1&&r.e)a=r.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+a,n=n._next;a+=r.c}r.set(r.t,r.p,a,r)},x5=function(t,r){for(var n=r._pt;n;)n.r(t,n.d),n=n._next},f_e=function(t,r,n,a){for(var i=this._pt,o;i;)o=i._next,i.p===a&&i.modifier(t,r,n),i=o},h_e=function(t){for(var r=this._pt,n,a;r;)a=r._next,r.p===t&&!r.op||r.op===t?F2(this,r,"_pt"):r.dep||(n=1),r=a;return!n},m_e=function(t,r,n,a){a.mSet(t,r,a.m.call(a.tween,n,a.mt),a)},Hee=function(t){for(var r=t._pt,n,a,i,o;r;){for(n=r._next,a=i;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:o)?r._prev._next=r:i=r,(r._next=a)?a._prev=r:o=r,r=n}t._pt=i},bo=(function(){function e(r,n,a,i,o,l,c,u,d){this.t=n,this.s=i,this.c=o,this.p=a,this.r=l||qee,this.d=c||this,this.set=u||p5,this.pr=d||0,this._next=r,r&&(r._prev=this)}var t=e.prototype;return t.modifier=function(n,a,i){this.mSet=this.mSet||this.set,this.set=m_e,this.m=n,this.mt=i,this.tween=a},e})();yo(u5+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return c5[e]=1});rl.TweenMax=rl.TweenLite=la;rl.TimelineLite=rl.TimelineMax=qi;vs=new qi({sortChildren:!1,defaults:m0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Jo.stringFilter=Iee;var mm=[],$j={},p_e=[],iU=0,g_e=0,ST=function(t){return($j[t]||p_e).map(function(r){return r()})},ER=function(){var t=Date.now(),r=[];t-iU>2&&(ST("matchMediaInit"),mm.forEach(function(n){var a=n.queries,i=n.conditions,o,l,c,u;for(l in a)o=Uc.matchMedia(a[l]).matches,o&&(c=1),o!==i[l]&&(i[l]=o,u=1);u&&(n.revert(),c&&r.push(n))}),ST("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),iU=t,ST("matchMedia"))},Gee=(function(){function e(r,n){this.selector=n&&SR(n),this.data=[],this._r=[],this.isReverted=!1,this.id=g_e++,r&&this.add(r)}var t=e.prototype;return t.add=function(n,a,i){As(n)&&(i=a,a=n,n=As);var o=this,l=function(){var u=us,d=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=SR(i)),us=o,f=a.apply(o,arguments),As(f)&&o._r.push(f),us=u,o.selector=d,o.isReverted=!1,f};return o.last=l,n===As?l(o,function(c){return o.add(null,c)}):n?o[n]=l:l},t.ignore=function(n){var a=us;us=null,n(this),us=a},t.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof e?n.push.apply(n,a.getTweens()):a instanceof la&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,a){var i=this;if(n?(function(){for(var l=i.getTweens(),c=i.data.length,u;c--;)u=i.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),c=i.data.length;c--;)u=i.data[c],u instanceof qi?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof la)&&u.revert&&u.revert(n);i._r.forEach(function(d){return d(n,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var o=mm.length;o--;)mm[o].id===this.id&&mm.splice(o,1)},t.revert=function(n){this.kill(n||{})},e})(),x_e=(function(){function e(r){this.contexts=[],this.scope=r,us&&us.data.push(this)}var t=e.prototype;return t.add=function(n,a,i){uu(n)||(n={matches:n});var o=new Gee(0,i||this.scope),l=o.conditions={},c,u,d;us&&!o.selector&&(o.selector=us.selector),this.contexts.push(o),a=o.add("onMatch",a),o.queries=n;for(u in n)u==="all"?d=1:(c=Uc.matchMedia(n[u]),c&&(mm.indexOf(o)<0&&mm.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(ER):c.addEventListener("change",ER)));return d&&a(o,function(f){return o.add(null,f)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},e})(),vN={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(a){return Oee(a)})},timeline:function(t){return new qi(t)},getTweensOf:function(t,r){return vs.getTweensOf(t,r)},getProperty:function(t,r,n,a){Ha(t)&&(t=Ol(t)[0]);var i=dm(t||{}).get,o=n?yee:vee;return n==="native"&&(n=""),t&&(r?o((Mo[r]&&Mo[r].get||i)(t,r,n,a)):function(l,c,u){return o((Mo[l]&&Mo[l].get||i)(t,l,c,u))})},quickSetter:function(t,r,n){if(t=Ol(t),t.length>1){var a=t.map(function(d){return jo.quickSetter(d,r,n)}),i=a.length;return function(d){for(var f=i;f--;)a[f](d)}}t=t[0]||{};var o=Mo[r],l=dm(t),c=l.harness&&(l.harness.aliases||{})[r]||r,u=o?function(d){var f=new o;Eg._pt=0,f.init(t,n?d+n:d,Eg,0,[t]),f.render(1,f),Eg._pt&&x5(1,Eg)}:l.set(t,c);return o?u:function(d){return u(t,c,n?d+n:d,l,1)}},quickTo:function(t,r,n){var a,i=jo.to(t,nl((a={},a[r]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),o=function(c,u,d){return i.resetTo(r,c,u,d)};return o.tween=i,o},isTweening:function(t){return vs.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=hm(t.ease,m0.ease)),tU(m0,t||{})},config:function(t){return tU(Jo,t||{})},registerEffect:function(t){var r=t.name,n=t.effect,a=t.plugins,i=t.defaults,o=t.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!Mo[l]&&!rl[l]&&ib(r+" effect requires "+l+" plugin.")}),wT[r]=function(l,c,u){return n(Ol(l),nl(c||{},i),u)},o&&(qi.prototype[r]=function(l,c,u){return this.add(wT[r](l,uu(c)?c:(u=c)&&{},this),u)})},registerEase:function(t,r){tn[t]=hm(r)},parseEase:function(t,r){return arguments.length?hm(t,r):tn},getById:function(t){return vs.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var n=new qi(t),a,i;for(n.smoothChildTiming=vo(t.smoothChildTiming),vs.remove(n),n._dp=0,n._time=n._tTime=vs._time,a=vs._first;a;)i=a._next,(r||!(!a._dur&&a instanceof la&&a.vars.onComplete===a._targets[0]))&&zc(n,a,a._start-a._delay),a=i;return zc(vs,n,0),n},context:function(t,r){return t?new Gee(t,r):us},matchMedia:function(t){return new x_e(t)},matchMediaRefresh:function(){return mm.forEach(function(t){var r=t.conditions,n,a;for(a in r)r[a]&&(r[a]=!1,n=1);n&&t.revert()})||ER()},addEventListener:function(t,r){var n=$j[t]||($j[t]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(t,r){var n=$j[t],a=n&&n.indexOf(r);a>=0&&n.splice(a,1)},utils:{wrap:Y1e,wrapYoyo:X1e,distribute:kee,random:Eee,snap:Cee,normalize:K1e,getUnit:_i,clamp:q1e,splitColor:Dee,toArray:Ol,selector:SR,mapRange:Aee,pipe:H1e,unitize:G1e,interpolate:J1e,shuffle:See},install:hee,effects:wT,ticker:zo,updateRoot:qi.updateRoot,plugins:Mo,globalTimeline:vs,core:{PropTween:bo,globals:mee,Tween:la,Timeline:qi,Animation:ub,getCache:dm,_removeLinkedListItem:F2,reverting:function(){return ii},context:function(t){return t&&us&&(us.data.push(t),t._ctx=us),us},suppressOverwrites:function(t){return s5=t}}};yo("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return vN[e]=la[e]});zo.add(qi.updateRoot);Eg=vN.to({},{duration:0});var v_e=function(t,r){for(var n=t._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},y_e=function(t,r){var n=t._targets,a,i,o;for(a in r)for(i=n.length;i--;)o=t._ptLookup[i][a],o&&(o=o.d)&&(o._pt&&(o=v_e(o,a)),o&&o.modifier&&o.modifier(r[a],t,n[i],a))},kT=function(t,r){return{name:t,headless:1,rawVars:1,init:function(a,i,o){o._onInit=function(l){var c,u;if(Ha(i)&&(c={},yo(i,function(d){return c[d]=1}),i=c),r){c={};for(u in i)c[u]=r(i[u]);i=c}y_e(l,i)}}}},jo=vN.registerPlugin({name:"attr",init:function(t,r,n,a,i){var o,l,c;this.tween=n;for(o in r)c=t.getAttribute(o)||"",l=this.add(t,"setAttribute",(c||0)+"",r[o],a,i,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(t,r){for(var n=r._pt;n;)ii?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,r){for(var n=r.length;n--;)this.add(t,n,t[n]||0,r[n],0,0,0,0,0,1)}},kT("roundProps",kR),kT("modifiers"),kT("snap",Cee))||vN;la.version=qi.version=jo.version="3.14.2";fee=1;i5()&&v0();tn.Power0;tn.Power1;tn.Power2;tn.Power3;tn.Power4;tn.Linear;tn.Quad;tn.Cubic;tn.Quart;tn.Quint;tn.Strong;tn.Elastic;tn.Back;tn.SteppedEase;tn.Bounce;tn.Sine;tn.Expo;tn.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var oU,sf,Kg,v5,Qh,lU,y5,b_e=function(){return typeof window<"u"},id={},Lh=180/Math.PI,Yg=Math.PI/180,Wp=Math.atan2,cU=1e8,b5=/([A-Z])/g,w_e=/(left|right|width|margin|padding|x)/i,__e=/[\s,\(]\S/,Hc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},TR=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},j_e=function(t,r){return r.set(r.t,r.p,t===1?r.e:Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},N_e=function(t,r){return r.set(r.t,r.p,t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},S_e=function(t,r){return r.set(r.t,r.p,t===1?r.e:t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},k_e=function(t,r){var n=r.s+r.c*t;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},Kee=function(t,r){return r.set(r.t,r.p,t?r.e:r.b,r)},Yee=function(t,r){return r.set(r.t,r.p,t!==1?r.b:r.e,r)},C_e=function(t,r,n){return t.style[r]=n},E_e=function(t,r,n){return t.style.setProperty(r,n)},T_e=function(t,r,n){return t._gsap[r]=n},A_e=function(t,r,n){return t._gsap.scaleX=t._gsap.scaleY=n},P_e=function(t,r,n,a,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},O_e=function(t,r,n,a,i){var o=t._gsap;o[r]=n,o.renderTransform(i,o)},ys="transform",wo=ys+"Origin",D_e=function e(t,r){var n=this,a=this.target,i=a.style,o=a._gsap;if(t in id&&i){if(this.tfm=this.tfm||{},t!=="transform")t=Hc[t]||t,~t.indexOf(",")?t.split(",").forEach(function(l){return n.tfm[l]=$u(a,l)}):this.tfm[t]=o.x?o[t]:$u(a,t),t===wo&&(this.tfm.zOrigin=o.zOrigin);else return Hc.transform.split(",").forEach(function(l){return e.call(n,l,r)});if(this.props.indexOf(ys)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(wo,r,"")),t=ys}(i||r)&&this.props.push(t,r,i[t])},Xee=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},R_e=function(){var t=this.props,r=this.target,n=r.style,a=r._gsap,i,o;for(i=0;i<t.length;i+=3)t[i+1]?t[i+1]===2?r[t[i]](t[i+2]):r[t[i]]=t[i+2]:t[i+2]?n[t[i]]=t[i+2]:n.removeProperty(t[i].substr(0,2)==="--"?t[i]:t[i].replace(b5,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)a[o]=this.tfm[o];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),i=y5(),(!i||!i.isStart)&&!n[ys]&&(Xee(n),a.zOrigin&&n[wo]&&(n[wo]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},Jee=function(t,r){var n={target:t,props:[],revert:R_e,save:D_e};return t._gsap||jo.core.getCache(t),r&&t.style&&t.nodeType&&r.split(",").forEach(function(a){return n.save(a)}),n},Zee,AR=function(t,r){var n=sf.createElementNS?sf.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):sf.createElement(t);return n&&n.style?n:sf.createElement(t)},Yo=function e(t,r,n){var a=getComputedStyle(t);return a[r]||a.getPropertyValue(r.replace(b5,"-$1").toLowerCase())||a.getPropertyValue(r)||!n&&e(t,y0(r)||r,1)||""},uU="O,Moz,ms,Ms,Webkit".split(","),y0=function(t,r,n){var a=r||Qh,i=a.style,o=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(uU[o]+t in i););return o<0?null:(o===3?"ms":o>=0?uU[o]:"")+t},PR=function(){b_e()&&window.document&&(oU=window,sf=oU.document,Kg=sf.documentElement,Qh=AR("div")||{style:{}},AR("div"),ys=y0(ys),wo=ys+"Origin",Qh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Zee=!!y0("perspective"),y5=jo.core.reverting,v5=1)},dU=function(t){var r=t.ownerSVGElement,n=AR("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),i;a.style.display="block",n.appendChild(a),Kg.appendChild(n);try{i=a.getBBox()}catch{}return n.removeChild(a),Kg.removeChild(n),i},fU=function(t,r){for(var n=r.length;n--;)if(t.hasAttribute(r[n]))return t.getAttribute(r[n])},Qee=function(t){var r,n;try{r=t.getBBox()}catch{r=dU(t),n=1}return r&&(r.width||r.height)||n||(r=dU(t)),r&&!r.width&&!r.x&&!r.y?{x:+fU(t,["x","cx","x1"])||0,y:+fU(t,["y","cy","y1"])||0,width:0,height:0}:r},ete=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Qee(t))},Rf=function(t,r){if(r){var n=t.style,a;r in id&&r!==wo&&(r=ys),n.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(a==="--"?r:r.replace(b5,"-$1").toLowerCase())):n.removeAttribute(r)}},af=function(t,r,n,a,i,o){var l=new bo(t._pt,r,n,0,1,o?Yee:Kee);return t._pt=l,l.b=a,l.e=i,t._props.push(n),l},hU={deg:1,rad:1,turn:1},I_e={grid:1,flex:1},If=function e(t,r,n,a){var i=parseFloat(n)||0,o=(n+"").trim().substr((i+"").length)||"px",l=Qh.style,c=w_e.test(r),u=t.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,m=a==="px",p=a==="%",y,g,v,_;if(a===o||!i||hU[a]||hU[o])return i;if(o!=="px"&&!m&&(i=e(t,r,n,"px")),_=t.getCTM&&ete(t),(p||o==="%")&&(id[r]||~r.indexOf("adius")))return y=_?t.getBBox()[c?"width":"height"]:t[d],Bs(p?i/y*f:i/100*y);if(l[c?"width":"height"]=f+(m?o:a),g=a!=="rem"&&~r.indexOf("adius")||a==="em"&&t.appendChild&&!u?t:t.parentNode,_&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===sf||!g.appendChild)&&(g=sf.body),v=g._gsap,v&&p&&v.width&&c&&v.time===zo.time&&!v.uncache)return Bs(i/v.width*f);if(p&&(r==="height"||r==="width")){var w=t.style[r];t.style[r]=f+a,y=t[d],w?t.style[r]=w:Rf(t,r)}else(p||o==="%")&&!I_e[Yo(g,"display")]&&(l.position=Yo(t,"position")),g===t&&(l.position="static"),g.appendChild(Qh),y=Qh[d],g.removeChild(Qh),l.position="absolute";return c&&p&&(v=dm(g),v.time=zo.time,v.width=g[d]),Bs(m?y*i/f:y&&i?f/y*i:0)},$u=function(t,r,n,a){var i;return v5||PR(),r in Hc&&r!=="transform"&&(r=Hc[r],~r.indexOf(",")&&(r=r.split(",")[0])),id[r]&&r!=="transform"?(i=fb(t,a),i=r!=="transformOrigin"?i[r]:i.svg?i.origin:bN(Yo(t,wo))+" "+i.zOrigin+"px"):(i=t.style[r],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=yN[r]&&yN[r](t,r,n)||Yo(t,r)||gee(t,r)||(r==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?If(t,r,i,n)+n:i},M_e=function(t,r,n,a){if(!n||n==="none"){var i=y0(r,t,1),o=i&&Yo(t,i,1);o&&o!==n?(r=i,n=o):r==="borderColor"&&(n=Yo(t,"borderTopColor"))}var l=new bo(this._pt,t.style,r,0,1,Wee),c=0,u=0,d,f,m,p,y,g,v,_,w,j,C,S;if(l.b=n,l.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=Yo(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(g=t.style[r],t.style[r]=a,a=Yo(t,r)||a,g?t.style[r]=g:Rf(t,r)),d=[n,a],Iee(d),n=d[0],a=d[1],m=n.match(Cg)||[],S=a.match(Cg)||[],S.length){for(;f=Cg.exec(a);)v=f[0],w=a.substring(c,f.index),y?y=(y+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(y=1),v!==(g=m[u++]||"")&&(p=parseFloat(g)||0,C=g.substr((p+"").length),v.charAt(1)==="="&&(v=Gg(p,v)+C),_=parseFloat(v),j=v.substr((_+"").length),c=Cg.lastIndex-j.length,j||(j=j||Jo.units[r]||C,c===a.length&&(a+=j,l.e+=j)),C!==j&&(p=If(t,r,g,j)||0),l._pt={_next:l._pt,p:w||u===1?w:",",s:p,c:_-p,m:y&&y<4||r==="zIndex"?Math.round:0});l.c=c<a.length?a.substring(c,a.length):""}else l.r=r==="display"&&a==="none"?Yee:Kee;return dee.test(a)&&(l.e=0),this._pt=l,l},mU={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},F_e=function(t){var r=t.split(" "),n=r[0],a=r[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(t=n,n=a,a=t),r[0]=mU[n]||n,r[1]=mU[a]||a,r.join(" ")},L_e=function(t,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,a=n.style,i=r.u,o=n._gsap,l,c,u;if(i==="all"||i===!0)a.cssText="",c=1;else for(i=i.split(","),u=i.length;--u>-1;)l=i[u],id[l]&&(c=1,l=l==="transformOrigin"?wo:ys),Rf(n,l);c&&(Rf(n,ys),o&&(o.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",fb(n,1),o.uncache=1,Xee(a)))}},yN={clearProps:function(t,r,n,a,i){if(i.data!=="isFromStart"){var o=t._pt=new bo(t._pt,r,n,0,0,L_e);return o.u=a,o.pr=-10,o.tween=i,t._props.push(n),1}}},db=[1,0,0,1,0,0],tte={},rte=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},pU=function(t){var r=Yo(t,ys);return rte(r)?db:r.substr(7).match(uee).map(Bs)},w5=function(t,r){var n=t._gsap||dm(t),a=t.style,i=pU(t),o,l,c,u;return n.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?db:i):(i===db&&!t.offsetParent&&t!==Kg&&!n.svg&&(c=a.display,a.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,l=t.nextElementSibling,Kg.appendChild(t)),i=pU(t),c?a.display=c:Rf(t,"display"),u&&(l?o.insertBefore(t,l):o?o.appendChild(t):Kg.removeChild(t))),r&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},OR=function(t,r,n,a,i,o){var l=t._gsap,c=i||w5(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,m=l.yOffset||0,p=c[0],y=c[1],g=c[2],v=c[3],_=c[4],w=c[5],j=r.split(" "),C=parseFloat(j[0])||0,S=parseFloat(j[1])||0,k,E,R,P;n?c!==db&&(E=p*v-y*g)&&(R=C*(v/E)+S*(-g/E)+(g*w-v*_)/E,P=C*(-y/E)+S*(p/E)-(p*w-y*_)/E,C=R,S=P):(k=Qee(t),C=k.x+(~j[0].indexOf("%")?C/100*k.width:C),S=k.y+(~(j[1]||j[0]).indexOf("%")?S/100*k.height:S)),a||a!==!1&&l.smooth?(_=C-u,w=S-d,l.xOffset=f+(_*p+w*g)-_,l.yOffset=m+(_*y+w*v)-w):l.xOffset=l.yOffset=0,l.xOrigin=C,l.yOrigin=S,l.smooth=!!a,l.origin=r,l.originIsAbsolute=!!n,t.style[wo]="0px 0px",o&&(af(o,l,"xOrigin",u,C),af(o,l,"yOrigin",d,S),af(o,l,"xOffset",f,l.xOffset),af(o,l,"yOffset",m,l.yOffset)),t.setAttribute("data-svg-origin",C+" "+S)},fb=function(t,r){var n=t._gsap||new $ee(t);if("x"in n&&!r&&!n.uncache)return n;var a=t.style,i=n.scaleX<0,o="px",l="deg",c=getComputedStyle(t),u=Yo(t,wo)||"0",d,f,m,p,y,g,v,_,w,j,C,S,k,E,R,P,T,O,D,I,L,W,q,G,K,U,F,B,V,Z,X,Q;return d=f=m=g=v=_=w=j=C=0,p=y=1,n.svg=!!(t.getCTM&&ete(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[ys]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ys]!=="none"?c[ys]:"")),a.scale=a.rotate=a.translate="none"),E=w5(t,n.svg),n.svg&&(n.uncache?(K=t.getBBox(),u=n.xOrigin-K.x+"px "+(n.yOrigin-K.y)+"px",G=""):G=!r&&t.getAttribute("data-svg-origin"),OR(t,G||u,!!G||n.originIsAbsolute,n.smooth!==!1,E)),S=n.xOrigin||0,k=n.yOrigin||0,E!==db&&(O=E[0],D=E[1],I=E[2],L=E[3],d=W=E[4],f=q=E[5],E.length===6?(p=Math.sqrt(O*O+D*D),y=Math.sqrt(L*L+I*I),g=O||D?Wp(D,O)*Lh:0,w=I||L?Wp(I,L)*Lh+g:0,w&&(y*=Math.abs(Math.cos(w*Yg))),n.svg&&(d-=S-(S*O+k*I),f-=k-(S*D+k*L))):(Q=E[6],Z=E[7],F=E[8],B=E[9],V=E[10],X=E[11],d=E[12],f=E[13],m=E[14],R=Wp(Q,V),v=R*Lh,R&&(P=Math.cos(-R),T=Math.sin(-R),G=W*P+F*T,K=q*P+B*T,U=Q*P+V*T,F=W*-T+F*P,B=q*-T+B*P,V=Q*-T+V*P,X=Z*-T+X*P,W=G,q=K,Q=U),R=Wp(-I,V),_=R*Lh,R&&(P=Math.cos(-R),T=Math.sin(-R),G=O*P-F*T,K=D*P-B*T,U=I*P-V*T,X=L*T+X*P,O=G,D=K,I=U),R=Wp(D,O),g=R*Lh,R&&(P=Math.cos(R),T=Math.sin(R),G=O*P+D*T,K=W*P+q*T,D=D*P-O*T,q=q*P-W*T,O=G,W=K),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,_=180-_),p=Bs(Math.sqrt(O*O+D*D+I*I)),y=Bs(Math.sqrt(q*q+Q*Q)),R=Wp(W,q),w=Math.abs(R)>2e-4?R*Lh:0,C=X?1/(X<0?-X:X):0),n.svg&&(G=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!rte(Yo(t,ys)),G&&t.setAttribute("transform",G))),Math.abs(w)>90&&Math.abs(w)<270&&(i?(p*=-1,w+=g<=0?180:-180,g+=g<=0?180:-180):(y*=-1,w+=w<=0?180:-180)),r=r||n.uncache,n.x=d-((n.xPercent=d&&(!r&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-f)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+o,n.z=m+o,n.scaleX=Bs(p),n.scaleY=Bs(y),n.rotation=Bs(g)+l,n.rotationX=Bs(v)+l,n.rotationY=Bs(_)+l,n.skewX=w+l,n.skewY=j+l,n.transformPerspective=C+o,(n.zOrigin=parseFloat(u.split(" ")[2])||!r&&n.zOrigin||0)&&(a[wo]=bN(u)),n.xOffset=n.yOffset=0,n.force3D=Jo.force3D,n.renderTransform=n.svg?B_e:Zee?nte:$_e,n.uncache=0,n},bN=function(t){return(t=t.split(" "))[0]+" "+t[1]},CT=function(t,r,n){var a=_i(r);return Bs(parseFloat(r)+parseFloat(If(t,"x",n+"px",a)))+a},$_e=function(t,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,nte(t,r)},Th="0deg",jv="0px",Ah=") ",nte=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.z,u=n.rotation,d=n.rotationY,f=n.rotationX,m=n.skewX,p=n.skewY,y=n.scaleX,g=n.scaleY,v=n.transformPerspective,_=n.force3D,w=n.target,j=n.zOrigin,C="",S=_==="auto"&&t&&t!==1||_===!0;if(j&&(f!==Th||d!==Th)){var k=parseFloat(d)*Yg,E=Math.sin(k),R=Math.cos(k),P;k=parseFloat(f)*Yg,P=Math.cos(k),o=CT(w,o,E*P*-j),l=CT(w,l,-Math.sin(k)*-j),c=CT(w,c,R*P*-j+j)}v!==jv&&(C+="perspective("+v+Ah),(a||i)&&(C+="translate("+a+"%, "+i+"%) "),(S||o!==jv||l!==jv||c!==jv)&&(C+=c!==jv||S?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+Ah),u!==Th&&(C+="rotate("+u+Ah),d!==Th&&(C+="rotateY("+d+Ah),f!==Th&&(C+="rotateX("+f+Ah),(m!==Th||p!==Th)&&(C+="skew("+m+", "+p+Ah),(y!==1||g!==1)&&(C+="scale("+y+", "+g+Ah),w.style[ys]=C||"translate(0, 0)"},B_e=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.rotation,u=n.skewX,d=n.skewY,f=n.scaleX,m=n.scaleY,p=n.target,y=n.xOrigin,g=n.yOrigin,v=n.xOffset,_=n.yOffset,w=n.forceCSS,j=parseFloat(o),C=parseFloat(l),S,k,E,R,P;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=Yg,u*=Yg,S=Math.cos(c)*f,k=Math.sin(c)*f,E=Math.sin(c-u)*-m,R=Math.cos(c-u)*m,u&&(d*=Yg,P=Math.tan(u-d),P=Math.sqrt(1+P*P),E*=P,R*=P,d&&(P=Math.tan(d),P=Math.sqrt(1+P*P),S*=P,k*=P)),S=Bs(S),k=Bs(k),E=Bs(E),R=Bs(R)):(S=f,R=m,k=E=0),(j&&!~(o+"").indexOf("px")||C&&!~(l+"").indexOf("px"))&&(j=If(p,"x",o,"px"),C=If(p,"y",l,"px")),(y||g||v||_)&&(j=Bs(j+y-(y*S+g*E)+v),C=Bs(C+g-(y*k+g*R)+_)),(a||i)&&(P=p.getBBox(),j=Bs(j+a/100*P.width),C=Bs(C+i/100*P.height)),P="matrix("+S+","+k+","+E+","+R+","+j+","+C+")",p.setAttribute("transform",P),w&&(p.style[ys]=P)},U_e=function(t,r,n,a,i){var o=360,l=Ha(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Lh:1),u=c-a,d=a+u+"deg",f,m;return l&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*cU)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*cU)%o-~~(u/o)*o)),t._pt=m=new bo(t._pt,r,n,a,u,j_e),m.e=d,m.u="deg",t._props.push(n),m},gU=function(t,r){for(var n in r)t[n]=r[n];return t},V_e=function(t,r,n){var a=gU({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,c,u,d,f,m,p,y;a.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[ys]=r,l=fb(n,1),Rf(n,ys),n.setAttribute("transform",u)):(u=getComputedStyle(n)[ys],o[ys]=r,l=fb(n,1),o[ys]=u);for(c in id)u=a[c],d=l[c],u!==d&&i.indexOf(c)<0&&(p=_i(u),y=_i(d),f=p!==y?If(n,c,u,y):parseFloat(u),m=parseFloat(d),t._pt=new bo(t._pt,l,c,f,m-f,TR),t._pt.u=y||0,t._props.push(c));gU(l,a)};yo("padding,margin,Width,Radius",function(e,t){var r="Top",n="Right",a="Bottom",i="Left",o=(t<3?[r,n,a,i]:[r+i,r+n,a+n,a+i]).map(function(l){return t<2?e+l:"border"+l+e});yN[t>1?"border"+e:e]=function(l,c,u,d,f){var m,p;if(arguments.length<4)return m=o.map(function(y){return $u(l,y,u)}),p=m.join(" "),p.split(m[0]).length===5?m[0]:p;m=(d+"").split(" "),p={},o.forEach(function(y,g){return p[y]=m[g]=m[g]||m[(g-1)/2|0]}),l.init(c,p,f)}});var ste={name:"css",register:PR,targetTest:function(t){return t.style&&t.nodeType},init:function(t,r,n,a,i){var o=this._props,l=t.style,c=n.vars.startAt,u,d,f,m,p,y,g,v,_,w,j,C,S,k,E,R,P;v5||PR(),this.styles=this.styles||Jee(t),R=this.styles.props,this.tween=n;for(g in r)if(g!=="autoRound"&&(d=r[g],!(Mo[g]&&Bee(g,r,n,a,t,i)))){if(p=typeof d,y=yN[g],p==="function"&&(d=d.call(n,a,t,i),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=lb(d)),y)y(this,t,g,d,n)&&(E=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(g)+"").trim(),d+="",xf.lastIndex=0,xf.test(u)||(v=_i(u),_=_i(d),_?v!==_&&(u=If(t,g,u,_)+_):v&&(d+=v)),this.add(l,"setProperty",u,d,a,i,0,0,g),o.push(g),R.push(g,0,l[g]);else if(p!=="undefined"){if(c&&g in c?(u=typeof c[g]=="function"?c[g].call(n,a,t,i):c[g],Ha(u)&&~u.indexOf("random(")&&(u=lb(u)),_i(u+"")||u==="auto"||(u+=Jo.units[g]||_i($u(t,g))||""),(u+"").charAt(1)==="="&&(u=$u(t,g))):u=$u(t,g),m=parseFloat(u),w=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),w&&(d=d.substr(2)),f=parseFloat(d),g in Hc&&(g==="autoAlpha"&&(m===1&&$u(t,"visibility")==="hidden"&&f&&(m=0),R.push("visibility",0,l.visibility),af(this,l,"visibility",m?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=Hc[g],~g.indexOf(",")&&(g=g.split(",")[0]))),j=g in id,j){if(this.styles.save(g),P=d,p==="string"&&d.substring(0,6)==="var(--"){if(d=Yo(t,d.substring(4,d.indexOf(")"))),d.substring(0,5)==="calc("){var T=t.style.perspective;t.style.perspective=d,d=Yo(t,"perspective"),T?t.style.perspective=T:Rf(t,"perspective")}f=parseFloat(d)}if(C||(S=t._gsap,S.renderTransform&&!r.parseTransform||fb(t,r.parseTransform),k=r.smoothOrigin!==!1&&S.smooth,C=this._pt=new bo(this._pt,l,ys,0,1,S.renderTransform,S,0,-1),C.dep=1),g==="scale")this._pt=new bo(this._pt,S,"scaleY",S.scaleY,(w?Gg(S.scaleY,w+f):f)-S.scaleY||0,TR),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){R.push(wo,0,l[wo]),d=F_e(d),S.svg?OR(t,d,0,k,0,this):(_=parseFloat(d.split(" ")[2])||0,_!==S.zOrigin&&af(this,S,"zOrigin",S.zOrigin,_),af(this,l,g,bN(u),bN(d)));continue}else if(g==="svgOrigin"){OR(t,d,1,k,0,this);continue}else if(g in tte){U_e(this,S,g,m,w?Gg(m,w+d):d);continue}else if(g==="smoothOrigin"){af(this,S,"smooth",S.smooth,d);continue}else if(g==="force3D"){S[g]=d;continue}else if(g==="transform"){V_e(this,d,t);continue}}else g in l||(g=y0(g)||g);if(j||(f||f===0)&&(m||m===0)&&!__e.test(d)&&g in l)v=(u+"").substr((m+"").length),f||(f=0),_=_i(d)||(g in Jo.units?Jo.units[g]:v),v!==_&&(m=If(t,g,u,_)),this._pt=new bo(this._pt,j?S:l,g,m,(w?Gg(m,w+f):f)-m,!j&&(_==="px"||g==="zIndex")&&r.autoRound!==!1?k_e:TR),this._pt.u=_||0,j&&P!==d?(this._pt.b=u,this._pt.e=P,this._pt.r=S_e):v!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=N_e);else if(g in l)M_e.call(this,t,g,u,w?w+d:d);else if(g in t)this.add(t,g,u||t[g],w?w+d:d,a,i);else if(g!=="parseTransform"){l5(g,d);continue}j||(g in l?R.push(g,0,l[g]):typeof t[g]=="function"?R.push(g,2,t[g]()):R.push(g,1,u||t[g])),o.push(g)}}E&&Hee(this)},render:function(t,r){if(r.tween._time||!y5())for(var n=r._pt;n;)n.r(t,n.d),n=n._next;else r.styles.revert()},get:$u,aliases:Hc,getSetter:function(t,r,n){var a=Hc[r];return a&&a.indexOf(",")<0&&(r=a),r in id&&r!==wo&&(t._gsap.x||$u(t,"x"))?n&&lU===n?r==="scale"?A_e:T_e:(lU=n||{})&&(r==="scale"?P_e:O_e):t.style&&!a5(t.style[r])?C_e:~r.indexOf("-")?E_e:g5(t,r)},core:{_removeProperty:Rf,_getMatrix:w5}};jo.utils.checkPrefix=y0;jo.core.getStyleSaver=Jee;(function(e,t,r,n){var a=yo(e+","+t+","+r,function(i){id[i]=1});yo(t,function(i){Jo.units[i]="deg",tte[i]=1}),Hc[a[13]]=e+","+t,yo(n,function(i){var o=i.split(":");Hc[o[1]]=a[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");yo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Jo.units[e]="px"});jo.registerPlugin(ste);var zn=jo.registerPlugin(ste)||jo;zn.core.Tween;function z_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q_e(e,t,r){return t&&z_e(e.prototype,t),e}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ai,Bj,qo,of,lf,Xg,ate,$h,gy,ite,zu,nc,ote,lte=function(){return ai||typeof window<"u"&&(ai=window.gsap)&&ai.registerPlugin&&ai},cte=1,Tg=[],Wr=[],Qc=[],xy=Date.now,DR=function(t,r){return r},W_e=function(){var t=gy.core,r=t.bridge||{},n=t._scrollers,a=t._proxies;n.push.apply(n,Wr),a.push.apply(a,Qc),Wr=n,Qc=a,DR=function(o,l){return r[o](l)}},vf=function(t,r){return~Qc.indexOf(t)&&Qc[Qc.indexOf(t)+1][r]},vy=function(t){return!!~ite.indexOf(t)},Fi=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:a!==!1,capture:!!i})},Mi=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},D_="scrollLeft",R_="scrollTop",RR=function(){return zu&&zu.isPressed||Wr.cache++},wN=function(t,r){var n=function a(i){if(i||i===0){cte&&(qo.history.scrollRestoration="manual");var o=zu&&zu.isPressed;i=a.v=Math.round(i)||(zu&&zu.iOS?1:0),t(i),a.cacheID=Wr.cache,o&&DR("ss",i)}else(r||Wr.cache!==a.cacheID||DR("ref"))&&(a.cacheID=Wr.cache,a.v=t());return a.v+a.offset};return n.offset=0,t&&n},Wi={s:D_,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:wN(function(e){return arguments.length?qo.scrollTo(e,_a.sc()):qo.pageXOffset||of[D_]||lf[D_]||Xg[D_]||0})},_a={s:R_,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Wi,sc:wN(function(e){return arguments.length?qo.scrollTo(Wi.sc(),e):qo.pageYOffset||of[R_]||lf[R_]||Xg[R_]||0})},co=function(t,r){return(r&&r._ctx&&r._ctx.selector||ai.utils.toArray)(t)[0]||(typeof t=="string"&&ai.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},H_e=function(t,r){for(var n=r.length;n--;)if(r[n]===t||r[n].contains(t))return!0;return!1},Mf=function(t,r){var n=r.s,a=r.sc;vy(t)&&(t=of.scrollingElement||lf);var i=Wr.indexOf(t),o=a===_a.sc?1:2;!~i&&(i=Wr.push(t)-1),Wr[i+o]||Fi(t,"scroll",RR);var l=Wr[i+o],c=l||(Wr[i+o]=wN(vf(t,n),!0)||(vy(t)?a:wN(function(u){return arguments.length?t[n]=u:t[n]})));return c.target=t,l||(c.smooth=ai.getProperty(t,"scrollBehavior")==="smooth"),c},IR=function(t,r,n){var a=t,i=t,o=xy(),l=o,c=r||50,u=Math.max(500,c*3),d=function(y,g){var v=xy();g||v-o>c?(i=a,a=y,l=o,o=v):n?a+=y:a=i+(y-i)/(v-l)*(o-l)},f=function(){i=a=n?0:a,l=o=0},m=function(y){var g=l,v=i,_=xy();return(y||y===0)&&y!==a&&d(y),o===l||_-l>u?0:(a+(n?v:-v))/((n?_:o)-g)*1e3};return{update:d,reset:f,getVelocity:m}},Nv=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},xU=function(t){var r=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(n)?r:n},ute=function(){gy=ai.core.globals().ScrollTrigger,gy&&gy.core&&W_e()},dte=function(t){return ai=t||lte(),!Bj&&ai&&typeof document<"u"&&document.body&&(qo=window,of=document,lf=of.documentElement,Xg=of.body,ite=[qo,of,lf,Xg],ai.utils.clamp,ote=ai.core.context||function(){},$h="onpointerenter"in Xg?"pointer":"mouse",ate=zs.isTouch=qo.matchMedia&&qo.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in qo||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,nc=zs.eventTypes=("ontouchstart"in lf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in lf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return cte=0},500),ute(),Bj=1),Bj};Wi.op=_a;Wr.cache=0;var zs=(function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(n){Bj||dte(ai)||console.warn("Please gsap.registerPlugin(Observer)"),gy||ute();var a=n.tolerance,i=n.dragMinimum,o=n.type,l=n.target,c=n.lineHeight,u=n.debounce,d=n.preventDefault,f=n.onStop,m=n.onStopDelay,p=n.ignore,y=n.wheelSpeed,g=n.event,v=n.onDragStart,_=n.onDragEnd,w=n.onDrag,j=n.onPress,C=n.onRelease,S=n.onRight,k=n.onLeft,E=n.onUp,R=n.onDown,P=n.onChangeX,T=n.onChangeY,O=n.onChange,D=n.onToggleX,I=n.onToggleY,L=n.onHover,W=n.onHoverEnd,q=n.onMove,G=n.ignoreCheck,K=n.isNormalizer,U=n.onGestureStart,F=n.onGestureEnd,B=n.onWheel,V=n.onEnable,Z=n.onDisable,X=n.onClick,Q=n.scrollSpeed,ce=n.capture,de=n.allowClicks,pe=n.lockAxis,re=n.onLockAxis;this.target=l=co(l)||lf,this.vars=n,p&&(p=ai.utils.toArray(p)),a=a||1e-9,i=i||0,y=y||1,Q=Q||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(qo.getComputedStyle(Xg).lineHeight)||22);var ie,J,z,Se,te,_e,Ae,ue=this,Ve=0,He=0,le=n.passive||!d&&n.passive!==!1,be=Mf(l,Wi),Oe=Mf(l,_a),Ze=be(),tt=Oe(),fe=~o.indexOf("touch")&&!~o.indexOf("pointer")&&nc[0]==="pointerdown",ee=vy(l),we=l.ownerDocument||of,he=[0,0,0],Me=[0,0,0],Pe=0,Re=function(){return Pe=xy()},et=function(Rt,or){return(ue.event=Rt)&&p&&H_e(Rt.target,p)||or&&fe&&Rt.pointerType!=="touch"||G&&G(Rt,or)},jt=function(){ue._vx.reset(),ue._vy.reset(),J.pause(),f&&f(ue)},je=function(){var Rt=ue.deltaX=xU(he),or=ue.deltaY=xU(Me),bt=Math.abs(Rt)>=a,Bt=Math.abs(or)>=a;O&&(bt||Bt)&&O(ue,Rt,or,he,Me),bt&&(S&&ue.deltaX>0&&S(ue),k&&ue.deltaX<0&&k(ue),P&&P(ue),D&&ue.deltaX<0!=Ve<0&&D(ue),Ve=ue.deltaX,he[0]=he[1]=he[2]=0),Bt&&(R&&ue.deltaY>0&&R(ue),E&&ue.deltaY<0&&E(ue),T&&T(ue),I&&ue.deltaY<0!=He<0&&I(ue),He=ue.deltaY,Me[0]=Me[1]=Me[2]=0),(Se||z)&&(q&&q(ue),z&&(v&&z===1&&v(ue),w&&w(ue),z=0),Se=!1),_e&&!(_e=!1)&&re&&re(ue),te&&(B(ue),te=!1),ie=0},nt=function(Rt,or,bt){he[bt]+=Rt,Me[bt]+=or,ue._vx.update(Rt),ue._vy.update(or),u?ie||(ie=requestAnimationFrame(je)):je()},at=function(Rt,or){pe&&!Ae&&(ue.axis=Ae=Math.abs(Rt)>Math.abs(or)?"x":"y",_e=!0),Ae!=="y"&&(he[2]+=Rt,ue._vx.update(Rt,!0)),Ae!=="x"&&(Me[2]+=or,ue._vy.update(or,!0)),u?ie||(ie=requestAnimationFrame(je)):je()},Dt=function(Rt){if(!et(Rt,1)){Rt=Nv(Rt,d);var or=Rt.clientX,bt=Rt.clientY,Bt=or-ue.x,Lt=bt-ue.y,sr=ue.isDragging;ue.x=or,ue.y=bt,(sr||(Bt||Lt)&&(Math.abs(ue.startX-or)>=i||Math.abs(ue.startY-bt)>=i))&&(z||(z=sr?2:1),sr||(ue.isDragging=!0),at(Bt,Lt))}},lt=ue.onPress=function(It){et(It,1)||It&&It.button||(ue.axis=Ae=null,J.pause(),ue.isPressed=!0,It=Nv(It),Ve=He=0,ue.startX=ue.x=It.clientX,ue.startY=ue.y=It.clientY,ue._vx.reset(),ue._vy.reset(),Fi(K?l:we,nc[1],Dt,le,!0),ue.deltaX=ue.deltaY=0,j&&j(ue))},vt=ue.onRelease=function(It){if(!et(It,1)){Mi(K?l:we,nc[1],Dt,!0);var Rt=!isNaN(ue.y-ue.startY),or=ue.isDragging,bt=or&&(Math.abs(ue.x-ue.startX)>3||Math.abs(ue.y-ue.startY)>3),Bt=Nv(It);!bt&&Rt&&(ue._vx.reset(),ue._vy.reset(),d&&de&&ai.delayedCall(.08,function(){if(xy()-Pe>300&&!It.defaultPrevented){if(It.target.click)It.target.click();else if(we.createEvent){var Lt=we.createEvent("MouseEvents");Lt.initMouseEvent("click",!0,!0,qo,1,Bt.screenX,Bt.screenY,Bt.clientX,Bt.clientY,!1,!1,!1,!1,0,null),It.target.dispatchEvent(Lt)}}})),ue.isDragging=ue.isGesturing=ue.isPressed=!1,f&&or&&!K&&J.restart(!0),z&&je(),_&&or&&_(ue),C&&C(ue,bt)}},Zt=function(Rt){return Rt.touches&&Rt.touches.length>1&&(ue.isGesturing=!0)&&U(Rt,ue.isDragging)},Gt=function(){return(ue.isGesturing=!1)||F(ue)},pr=function(Rt){if(!et(Rt)){var or=be(),bt=Oe();nt((or-Ze)*Q,(bt-tt)*Q,1),Ze=or,tt=bt,f&&J.restart(!0)}},Qt=function(Rt){if(!et(Rt)){Rt=Nv(Rt,d),B&&(te=!0);var or=(Rt.deltaMode===1?c:Rt.deltaMode===2?qo.innerHeight:1)*y;nt(Rt.deltaX*or,Rt.deltaY*or,0),f&&!K&&J.restart(!0)}},jn=function(Rt){if(!et(Rt)){var or=Rt.clientX,bt=Rt.clientY,Bt=or-ue.x,Lt=bt-ue.y;ue.x=or,ue.y=bt,Se=!0,f&&J.restart(!0),(Bt||Lt)&&at(Bt,Lt)}},$t=function(Rt){ue.event=Rt,L(ue)},jr=function(Rt){ue.event=Rt,W(ue)},br=function(Rt){return et(Rt)||Nv(Rt,d)&&X(ue)};J=ue._dc=ai.delayedCall(m||.25,jt).pause(),ue.deltaX=ue.deltaY=0,ue._vx=IR(0,50,!0),ue._vy=IR(0,50,!0),ue.scrollX=be,ue.scrollY=Oe,ue.isDragging=ue.isGesturing=ue.isPressed=!1,ote(this),ue.enable=function(It){return ue.isEnabled||(Fi(ee?we:l,"scroll",RR),o.indexOf("scroll")>=0&&Fi(ee?we:l,"scroll",pr,le,ce),o.indexOf("wheel")>=0&&Fi(l,"wheel",Qt,le,ce),(o.indexOf("touch")>=0&&ate||o.indexOf("pointer")>=0)&&(Fi(l,nc[0],lt,le,ce),Fi(we,nc[2],vt),Fi(we,nc[3],vt),de&&Fi(l,"click",Re,!0,!0),X&&Fi(l,"click",br),U&&Fi(we,"gesturestart",Zt),F&&Fi(we,"gestureend",Gt),L&&Fi(l,$h+"enter",$t),W&&Fi(l,$h+"leave",jr),q&&Fi(l,$h+"move",jn)),ue.isEnabled=!0,ue.isDragging=ue.isGesturing=ue.isPressed=Se=z=!1,ue._vx.reset(),ue._vy.reset(),Ze=be(),tt=Oe(),It&&It.type&&lt(It),V&&V(ue)),ue},ue.disable=function(){ue.isEnabled&&(Tg.filter(function(It){return It!==ue&&vy(It.target)}).length||Mi(ee?we:l,"scroll",RR),ue.isPressed&&(ue._vx.reset(),ue._vy.reset(),Mi(K?l:we,nc[1],Dt,!0)),Mi(ee?we:l,"scroll",pr,ce),Mi(l,"wheel",Qt,ce),Mi(l,nc[0],lt,ce),Mi(we,nc[2],vt),Mi(we,nc[3],vt),Mi(l,"click",Re,!0),Mi(l,"click",br),Mi(we,"gesturestart",Zt),Mi(we,"gestureend",Gt),Mi(l,$h+"enter",$t),Mi(l,$h+"leave",jr),Mi(l,$h+"move",jn),ue.isEnabled=ue.isPressed=ue.isDragging=!1,Z&&Z(ue))},ue.kill=ue.revert=function(){ue.disable();var It=Tg.indexOf(ue);It>=0&&Tg.splice(It,1),zu===ue&&(zu=0)},Tg.push(ue),K&&vy(l)&&(zu=ue),ue.enable(g)},q_e(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();zs.version="3.14.2";zs.create=function(e){return new zs(e)};zs.register=dte;zs.getAll=function(){return Tg.slice()};zs.getById=function(e){return Tg.filter(function(t){return t.vars.id===e})[0]};lte()&&ai.registerPlugin(zs);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Wt,xg,qr,Yn,$o,Cn,_5,_N,hb,yy,Gv,I_,pi,B2,MR,$i,vU,yU,vg,fte,ET,hte,Li,FR,mte,pte,Gd,LR,j5,Jg,N5,by,$R,TT,M_=1,xi=Date.now,AT=xi(),Ll=0,Kv=0,bU=function(t,r,n){var a=Ro(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return n["_"+r+"Clamp"]=a,a?t.substr(6,t.length-7):t},wU=function(t,r){return r&&(!Ro(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},G_e=function e(){return Kv&&requestAnimationFrame(e)},_U=function(){return B2=1},jU=function(){return B2=0},Vc=function(t){return t},Yv=function(t){return Math.round(t*1e5)/1e5||0},gte=function(){return typeof window<"u"},xte=function(){return Wt||gte()&&(Wt=window.gsap)&&Wt.registerPlugin&&Wt},Tm=function(t){return!!~_5.indexOf(t)},vte=function(t){return(t==="Height"?N5:qr["inner"+t])||$o["client"+t]||Cn["client"+t]},yte=function(t){return vf(t,"getBoundingClientRect")||(Tm(t)?function(){return Wj.width=qr.innerWidth,Wj.height=N5,Wj}:function(){return Bu(t)})},K_e=function(t,r,n){var a=n.d,i=n.d2,o=n.a;return(o=vf(t,"getBoundingClientRect"))?function(){return o()[a]}:function(){return(r?vte(i):t["client"+i])||0}},Y_e=function(t,r){return!r||~Qc.indexOf(t)?yte(t):function(){return Wj}},Gc=function(t,r){var n=r.s,a=r.d2,i=r.d,o=r.a;return Math.max(0,(n="scroll"+a)&&(o=vf(t,n))?o()-yte(t)()[i]:Tm(t)?($o[n]||Cn[n])-vte(a):t[n]-t["offset"+a])},F_=function(t,r){for(var n=0;n<vg.length;n+=3)(!r||~r.indexOf(vg[n+1]))&&t(vg[n],vg[n+1],vg[n+2])},Ro=function(t){return typeof t=="string"},ji=function(t){return typeof t=="function"},Xv=function(t){return typeof t=="number"},Bh=function(t){return typeof t=="object"},Sv=function(t,r,n){return t&&t.progress(r?0:1)&&n&&t.pause()},PT=function(t,r){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return r(t)}):r(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Hp=Math.abs,bte="left",wte="top",S5="right",k5="bottom",pm="width",gm="height",wy="Right",_y="Left",jy="Top",Ny="Bottom",sa="padding",Cl="margin",b0="Width",C5="Height",ba="px",El=function(t){return qr.getComputedStyle(t)},X_e=function(t){var r=El(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},NU=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},Bu=function(t,r){var n=r&&El(t)[MR]!=="matrix(1, 0, 0, 1, 0, 0)"&&Wt.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=t.getBoundingClientRect();return n&&n.progress(0).kill(),a},jN=function(t,r){var n=r.d2;return t["offset"+n]||t["client"+n]||0},_te=function(t){var r=[],n=t.labels,a=t.duration(),i;for(i in n)r.push(n[i]/a);return r},J_e=function(t){return function(r){return Wt.utils.snap(_te(t),r)}},E5=function(t){var r=Wt.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(a,i){return a-i});return n?function(a,i,o){o===void 0&&(o=.001);var l;if(!i)return r(a);if(i>0){for(a-=o,l=0;l<n.length;l++)if(n[l]>=a)return n[l];return n[l-1]}else for(l=n.length,a+=o;l--;)if(n[l]<=a)return n[l];return n[0]}:function(a,i,o){o===void 0&&(o=.001);var l=r(a);return!i||Math.abs(l-a)<o||l-a<0==i<0?l:r(i<0?a-t:a+t)}},Z_e=function(t){return function(r,n){return E5(_te(t))(r,n.direction)}},L_=function(t,r,n,a){return n.split(",").forEach(function(i){return t(r,i,a)})},La=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:!a,capture:!!i})},Fa=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},$_=function(t,r,n){n=n&&n.wheelHandler,n&&(t(r,"wheel",n),t(r,"touchmove",n))},SU={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},B_={toggleActions:"play",anticipatePin:0},NN={top:0,left:0,center:.5,bottom:1,right:1},Uj=function(t,r){if(Ro(t)){var n=t.indexOf("="),a=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(a*=r/100),t=t.substr(0,n-1)),t=a+(t in NN?NN[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},U_=function(t,r,n,a,i,o,l,c){var u=i.startColor,d=i.endColor,f=i.fontSize,m=i.indent,p=i.fontWeight,y=Yn.createElement("div"),g=Tm(n)||vf(n,"pinType")==="fixed",v=t.indexOf("scroller")!==-1,_=g?Cn:n,w=t.indexOf("start")!==-1,j=w?u:d,C="border-color:"+j+";font-size:"+f+";color:"+j+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return C+="position:"+((v||c)&&g?"fixed;":"absolute;"),(v||c||!g)&&(C+=(a===_a?S5:k5)+":"+(o+parseFloat(m))+"px;"),l&&(C+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),y._isStart=w,y.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),y.style.cssText=C,y.innerText=r||r===0?t+"-"+r:t,_.children[0]?_.insertBefore(y,_.children[0]):_.appendChild(y),y._offset=y["offset"+a.op.d2],Vj(y,0,a,w),y},Vj=function(t,r,n,a){var i={display:"block"},o=n[a?"os2":"p2"],l=n[a?"p2":"os2"];t._isFlipped=a,i[n.a+"Percent"]=a?-100:0,i[n.a]=a?"1px":0,i["border"+o+b0]=1,i["border"+l+b0]=0,i[n.p]=r+"px",Wt.set(t,i)},Br=[],BR={},mb,kU=function(){return xi()-Ll>34&&(mb||(mb=requestAnimationFrame(Ju)))},Gp=function(){(!Li||!Li.isPressed||Li.startX>Cn.clientWidth)&&(Wr.cache++,Li?mb||(mb=requestAnimationFrame(Ju)):Ju(),Ll||Pm("scrollStart"),Ll=xi())},OT=function(){pte=qr.innerWidth,mte=qr.innerHeight},Jv=function(t){Wr.cache++,(t===!0||!pi&&!hte&&!Yn.fullscreenElement&&!Yn.webkitFullscreenElement&&(!FR||pte!==qr.innerWidth||Math.abs(qr.innerHeight-mte)>qr.innerHeight*.25))&&_N.restart(!0)},Am={},Q_e=[],jte=function e(){return Fa(Mr,"scrollEnd",e)||em(!0)},Pm=function(t){return Am[t]&&Am[t].map(function(r){return r()})||Q_e},Do=[],Nte=function(t){for(var r=0;r<Do.length;r+=5)(!t||Do[r+4]&&Do[r+4].query===t)&&(Do[r].style.cssText=Do[r+1],Do[r].getBBox&&Do[r].setAttribute("transform",Do[r+2]||""),Do[r+3].uncache=1)},Ste=function(){return Wr.forEach(function(t){return ji(t)&&++t.cacheID&&(t.rec=t())})},T5=function(t,r){var n;for($i=0;$i<Br.length;$i++)n=Br[$i],n&&(!r||n._ctx===r)&&(t?n.kill(1):n.revert(!0,!0));by=!0,r&&Nte(r),r||Pm("revert")},kte=function(t,r){Wr.cache++,(r||!Bi)&&Wr.forEach(function(n){return ji(n)&&n.cacheID++&&(n.rec=0)}),Ro(t)&&(qr.history.scrollRestoration=j5=t)},Bi,xm=0,CU,eje=function(){if(CU!==xm){var t=CU=xm;requestAnimationFrame(function(){return t===xm&&em(!0)})}},Cte=function(){Cn.appendChild(Jg),N5=!Li&&Jg.offsetHeight||qr.innerHeight,Cn.removeChild(Jg)},EU=function(t){return hb(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},em=function(t,r){if($o=Yn.documentElement,Cn=Yn.body,_5=[qr,Yn,$o,Cn],Ll&&!t&&!by){La(Mr,"scrollEnd",jte);return}Cte(),Bi=Mr.isRefreshing=!0,by||Ste();var n=Pm("refreshInit");fte&&Mr.sort(),r||T5(),Wr.forEach(function(a){ji(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),Br.slice(0).forEach(function(a){return a.refresh()}),by=!1,Br.forEach(function(a){if(a._subPinOffset&&a.pin){var i=a.vars.horizontal?"offsetWidth":"offsetHeight",o=a.pin[i];a.revert(!0,1),a.adjustPinSpacing(a.pin[i]-o),a.refresh()}}),$R=1,EU(!0),Br.forEach(function(a){var i=Gc(a.scroller,a._dir),o=a.vars.end==="max"||a._endClamp&&a.end>i,l=a._startClamp&&a.start>=i;(o||l)&&a.setPositions(l?i-1:a.start,o?Math.max(l?i:a.start+1,i):a.end,!0)}),EU(!1),$R=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),Wr.forEach(function(a){ji(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),kte(j5,1),_N.pause(),xm++,Bi=2,Ju(2),Br.forEach(function(a){return ji(a.vars.onRefresh)&&a.vars.onRefresh(a)}),Bi=Mr.isRefreshing=!1,Pm("refresh")},UR=0,zj=1,Sy,Ju=function(t){if(t===2||!Bi&&!by){Mr.isUpdating=!0,Sy&&Sy.update(0);var r=Br.length,n=xi(),a=n-AT>=50,i=r&&Br[0].scroll();if(zj=UR>i?-1:1,Bi||(UR=i),a&&(Ll&&!B2&&n-Ll>200&&(Ll=0,Pm("scrollEnd")),Gv=AT,AT=n),zj<0){for($i=r;$i-- >0;)Br[$i]&&Br[$i].update(0,a);zj=1}else for($i=0;$i<r;$i++)Br[$i]&&Br[$i].update(0,a);Mr.isUpdating=!1}mb=0},VR=[bte,wte,k5,S5,Cl+Ny,Cl+wy,Cl+jy,Cl+_y,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],qj=VR.concat([pm,gm,"boxSizing","max"+b0,"max"+C5,"position",Cl,sa,sa+jy,sa+wy,sa+Ny,sa+_y]),tje=function(t,r,n){Zg(n);var a=t._gsap;if(a.spacerIsNative)Zg(a.spacerState);else if(t._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(t,r),i.removeChild(r))}t._gsap.swappedIn=!1},DT=function(t,r,n,a){if(!t._gsap.swappedIn){for(var i=VR.length,o=r.style,l=t.style,c;i--;)c=VR[i],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),l[k5]=l[S5]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[pm]=jN(t,Wi)+ba,o[gm]=jN(t,_a)+ba,o[sa]=l[Cl]=l[wte]=l[bte]="0",Zg(a),l[pm]=l["max"+b0]=n[pm],l[gm]=l["max"+C5]=n[gm],l[sa]=n[sa],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},rje=/([A-Z])/g,Zg=function(t){if(t){var r=t.t.style,n=t.length,a=0,i,o;for((t.t._gsap||Wt.core.getCache(t.t)).uncache=1;a<n;a+=2)o=t[a+1],i=t[a],o?r[i]=o:r[i]&&r.removeProperty(i.replace(rje,"-$1").toLowerCase())}},V_=function(t){for(var r=qj.length,n=t.style,a=[],i=0;i<r;i++)a.push(qj[i],n[qj[i]]);return a.t=t,a},nje=function(t,r,n){for(var a=[],i=t.length,o=n?8:0,l;o<i;o+=2)l=t[o],a.push(l,l in r?r[l]:t[o+1]);return a.t=t.t,a},Wj={left:0,top:0},TU=function(t,r,n,a,i,o,l,c,u,d,f,m,p,y){ji(t)&&(t=t(c)),Ro(t)&&t.substr(0,3)==="max"&&(t=m+(t.charAt(4)==="="?Uj("0"+t.substr(3),n):0));var g=p?p.time():0,v,_,w;if(p&&p.seek(0),isNaN(t)||(t=+t),Xv(t))p&&(t=Wt.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,m,t)),l&&Vj(l,n,a,!0);else{ji(r)&&(r=r(c));var j=(t||"0").split(" "),C,S,k,E;w=co(r,c)||Cn,C=Bu(w)||{},(!C||!C.left&&!C.top)&&El(w).display==="none"&&(E=w.style.display,w.style.display="block",C=Bu(w),E?w.style.display=E:w.style.removeProperty("display")),S=Uj(j[0],C[a.d]),k=Uj(j[1]||"0",n),t=C[a.p]-u[a.p]-d+S+i-k,l&&Vj(l,k,a,n-k<20||l._isStart&&k>20),n-=n-k}if(y&&(c[y]=t||-.001,t<0&&(t=0)),o){var R=t+n,P=o._isStart;v="scroll"+a.d2,Vj(o,R,a,P&&R>20||!P&&(f?Math.max(Cn[v],$o[v]):o.parentNode[v])<=R+1),f&&(u=Bu(l),f&&(o.style[a.op.p]=u[a.op.p]-a.op.m-o._offset+ba))}return p&&w&&(v=Bu(w),p.seek(m),_=Bu(w),p._caScrollDist=v[a.p]-_[a.p],t=t/p._caScrollDist*m),p&&p.seek(g),p?t:Math.round(t)},sje=/(webkit|moz|length|cssText|inset)/i,AU=function(t,r,n,a){if(t.parentNode!==r){var i=t.style,o,l;if(r===Cn){t._stOrig=i.cssText,l=El(t);for(o in l)!+o&&!sje.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=n,i.left=a}else i.cssText=t._stOrig;Wt.core.getCache(t).uncache=1,r.appendChild(t)}},Ete=function(t,r,n){var a=r,i=a;return function(o){var l=Math.round(t());return l!==a&&l!==i&&Math.abs(l-a)>3&&Math.abs(l-i)>3&&(o=l,n&&n()),i=a,a=Math.round(o),a}},z_=function(t,r,n){var a={};a[r.p]="+="+n,Wt.set(t,a)},PU=function(t,r){var n=Mf(t,r),a="_scroll"+r.p2,i=function o(l,c,u,d,f){var m=o.tween,p=c.onComplete,y={};u=u||n();var g=Ete(n,u,function(){m.kill(),o.tween=0});return f=d&&f||0,d=d||l-u,m&&m.kill(),c[a]=l,c.inherit=!1,c.modifiers=y,y[a]=function(){return g(u+d*m.ratio+f*m.ratio*m.ratio)},c.onUpdate=function(){Wr.cache++,o.tween&&Ju()},c.onComplete=function(){o.tween=0,p&&p.call(m)},m=o.tween=Wt.to(t,c),m};return t[a]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},La(t,"wheel",n.wheelHandler),Mr.isTouch&&La(t,"touchmove",n.wheelHandler),i},Mr=(function(){function e(r,n){xg||e.register(Wt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),LR(this),this.init(r,n)}var t=e.prototype;return t.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Kv){this.update=this.refresh=this.kill=Vc;return}n=NU(Ro(n)||Xv(n)||n.nodeType?{trigger:n}:n,B_);var i=n,o=i.onUpdate,l=i.toggleClass,c=i.id,u=i.onToggle,d=i.onRefresh,f=i.scrub,m=i.trigger,p=i.pin,y=i.pinSpacing,g=i.invalidateOnRefresh,v=i.anticipatePin,_=i.onScrubComplete,w=i.onSnapComplete,j=i.once,C=i.snap,S=i.pinReparent,k=i.pinSpacer,E=i.containerAnimation,R=i.fastScrollEnd,P=i.preventOverlaps,T=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Wi:_a,O=!f&&f!==0,D=co(n.scroller||qr),I=Wt.core.getCache(D),L=Tm(D),W=("pinType"in n?n.pinType:vf(D,"pinType")||L&&"fixed")==="fixed",q=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],G=O&&n.toggleActions.split(" "),K="markers"in n?n.markers:B_.markers,U=L?0:parseFloat(El(D)["border"+T.p2+b0])||0,F=this,B=n.onRefreshInit&&function(){return n.onRefreshInit(F)},V=K_e(D,L,T),Z=Y_e(D,L),X=0,Q=0,ce=0,de=Mf(D,T),pe,re,ie,J,z,Se,te,_e,Ae,ue,Ve,He,le,be,Oe,Ze,tt,fe,ee,we,he,Me,Pe,Re,et,jt,je,nt,at,Dt,lt,vt,Zt,Gt,pr,Qt,jn,$t,jr;if(F._startClamp=F._endClamp=!1,F._dir=T,v*=45,F.scroller=D,F.scroll=E?E.time.bind(E):de,J=de(),F.vars=n,a=a||n.animation,"refreshPriority"in n&&(fte=1,n.refreshPriority===-9999&&(Sy=F)),I.tweenScroll=I.tweenScroll||{top:PU(D,_a),left:PU(D,Wi)},F.tweenTo=pe=I.tweenScroll[T.p],F.scrubDuration=function(bt){Zt=Xv(bt)&&bt,Zt?vt?vt.duration(bt):vt=Wt.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Zt,paused:!0,onComplete:function(){return _&&_(F)}}):(vt&&vt.progress(1).kill(),vt=0)},a&&(a.vars.lazy=!1,a._initted&&!F.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),F.animation=a.pause(),a.scrollTrigger=F,F.scrubDuration(f),Dt=0,c||(c=a.vars.id)),C&&((!Bh(C)||C.push)&&(C={snapTo:C}),"scrollBehavior"in Cn.style&&Wt.set(L?[Cn,$o]:D,{scrollBehavior:"auto"}),Wr.forEach(function(bt){return ji(bt)&&bt.target===(L?Yn.scrollingElement||$o:D)&&(bt.smooth=!1)}),ie=ji(C.snapTo)?C.snapTo:C.snapTo==="labels"?J_e(a):C.snapTo==="labelsDirectional"?Z_e(a):C.directional!==!1?function(bt,Bt){return E5(C.snapTo)(bt,xi()-Q<500?0:Bt.direction)}:Wt.utils.snap(C.snapTo),Gt=C.duration||{min:.1,max:2},Gt=Bh(Gt)?yy(Gt.min,Gt.max):yy(Gt,Gt),pr=Wt.delayedCall(C.delay||Zt/2||.1,function(){var bt=de(),Bt=xi()-Q<500,Lt=pe.tween;if((Bt||Math.abs(F.getVelocity())<10)&&!Lt&&!B2&&X!==bt){var sr=(bt-Se)/be,$n=a&&!O?a.totalProgress():sr,ne=Bt?0:($n-lt)/(xi()-Gv)*1e3||0,xe=Wt.utils.clamp(-sr,1-sr,Hp(ne/2)*ne/.185),me=sr+(C.inertia===!1?0:xe),ge,ye,ve=C,$e=ve.onStart,Ge=ve.onInterrupt,Le=ve.onComplete;if(ge=ie(me,F),Xv(ge)||(ge=me),ye=Math.max(0,Math.round(Se+ge*be)),bt<=te&&bt>=Se&&ye!==bt){if(Lt&&!Lt._initted&&Lt.data<=Hp(ye-bt))return;C.inertia===!1&&(xe=ge-sr),pe(ye,{duration:Gt(Hp(Math.max(Hp(me-$n),Hp(ge-$n))*.185/ne/.05||0)),ease:C.ease||"power3",data:Hp(ye-bt),onInterrupt:function(){return pr.restart(!0)&&Ge&&Ge(F)},onComplete:function(){F.update(),X=de(),a&&!O&&(vt?vt.resetTo("totalProgress",ge,a._tTime/a._tDur):a.progress(ge)),Dt=lt=a&&!O?a.totalProgress():F.progress,w&&w(F),Le&&Le(F)}},bt,xe*be,ye-bt-xe*be),$e&&$e(F,pe.tween)}}else F.isActive&&X!==bt&&pr.restart(!0)}).pause()),c&&(BR[c]=F),m=F.trigger=co(m||p!==!0&&p),jr=m&&m._gsap&&m._gsap.stRevert,jr&&(jr=jr(F)),p=p===!0?m:co(p),Ro(l)&&(l={targets:m,className:l}),p&&(y===!1||y===Cl||(y=!y&&p.parentNode&&p.parentNode.style&&El(p.parentNode).display==="flex"?!1:sa),F.pin=p,re=Wt.core.getCache(p),re.spacer?Oe=re.pinState:(k&&(k=co(k),k&&!k.nodeType&&(k=k.current||k.nativeElement),re.spacerIsNative=!!k,k&&(re.spacerState=V_(k))),re.spacer=fe=k||Yn.createElement("div"),fe.classList.add("pin-spacer"),c&&fe.classList.add("pin-spacer-"+c),re.pinState=Oe=V_(p)),n.force3D!==!1&&Wt.set(p,{force3D:!0}),F.spacer=fe=re.spacer,at=El(p),Re=at[y+T.os2],we=Wt.getProperty(p),he=Wt.quickSetter(p,T.a,ba),DT(p,fe,at),tt=V_(p)),K){He=Bh(K)?NU(K,SU):SU,ue=U_("scroller-start",c,D,T,He,0),Ve=U_("scroller-end",c,D,T,He,0,ue),ee=ue["offset"+T.op.d2];var br=co(vf(D,"content")||D);_e=this.markerStart=U_("start",c,br,T,He,ee,0,E),Ae=this.markerEnd=U_("end",c,br,T,He,ee,0,E),E&&($t=Wt.quickSetter([_e,Ae],T.a,ba)),!W&&!(Qc.length&&vf(D,"fixedMarkers")===!0)&&(X_e(L?Cn:D),Wt.set([ue,Ve],{force3D:!0}),jt=Wt.quickSetter(ue,T.a,ba),nt=Wt.quickSetter(Ve,T.a,ba))}if(E){var It=E.vars.onUpdate,Rt=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){F.update(0,0,1),It&&It.apply(E,Rt||[])})}if(F.previous=function(){return Br[Br.indexOf(F)-1]},F.next=function(){return Br[Br.indexOf(F)+1]},F.revert=function(bt,Bt){if(!Bt)return F.kill(!0);var Lt=bt!==!1||!F.enabled,sr=pi;Lt!==F.isReverted&&(Lt&&(Qt=Math.max(de(),F.scroll.rec||0),ce=F.progress,jn=a&&a.progress()),_e&&[_e,Ae,ue,Ve].forEach(function($n){return $n.style.display=Lt?"none":"block"}),Lt&&(pi=F,F.update(Lt)),p&&(!S||!F.isActive)&&(Lt?tje(p,fe,Oe):DT(p,fe,El(p),et)),Lt||F.update(Lt),pi=sr,F.isReverted=Lt)},F.refresh=function(bt,Bt,Lt,sr){if(!((pi||!F.enabled)&&!Bt)){if(p&&bt&&Ll){La(e,"scrollEnd",jte);return}!Bi&&B&&B(F),pi=F,pe.tween&&!Lt&&(pe.tween.kill(),pe.tween=0),vt&&vt.pause(),g&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren?a.getChildren(!0,!0,!1).forEach(function(Qi){return Qi.vars.immediateRender&&Qi.render(0,!0,!0)}):a.vars.immediateRender&&a.render(0,!0,!0)),F.isReverted||F.revert(!0,!0),F._subPinOffset=!1;var $n=V(),ne=Z(),xe=E?E.duration():Gc(D,T),me=be<=.01||!be,ge=0,ye=sr||0,ve=Bh(Lt)?Lt.end:n.end,$e=n.endTrigger||m,Ge=Bh(Lt)?Lt.start:n.start||(n.start===0||!m?0:p?"0 0":"0 100%"),Le=F.pinnedContainer=n.pinnedContainer&&co(n.pinnedContainer,F),qe=m&&Math.max(0,Br.indexOf(F))||0,Be=qe,it,gt,Pt,yt,ot,qt,Vr,Nn,ls,So,ha,ci,ms;for(K&&Bh(Lt)&&(ci=Wt.getProperty(ue,T.p),ms=Wt.getProperty(Ve,T.p));Be-- >0;)qt=Br[Be],qt.end||qt.refresh(0,1)||(pi=F),Vr=qt.pin,Vr&&(Vr===m||Vr===p||Vr===Le)&&!qt.isReverted&&(So||(So=[]),So.unshift(qt),qt.revert(!0,!0)),qt!==Br[Be]&&(qe--,Be--);for(ji(Ge)&&(Ge=Ge(F)),Ge=bU(Ge,"start",F),Se=TU(Ge,m,$n,T,de(),_e,ue,F,ne,U,W,xe,E,F._startClamp&&"_startClamp")||(p?-.001:0),ji(ve)&&(ve=ve(F)),Ro(ve)&&!ve.indexOf("+=")&&(~ve.indexOf(" ")?ve=(Ro(Ge)?Ge.split(" ")[0]:"")+ve:(ge=Uj(ve.substr(2),$n),ve=Ro(Ge)?Ge:(E?Wt.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,Se):Se)+ge,$e=m)),ve=bU(ve,"end",F),te=Math.max(Se,TU(ve||($e?"100% 0":xe),$e,$n,T,de()+ge,Ae,Ve,F,ne,U,W,xe,E,F._endClamp&&"_endClamp"))||-.001,ge=0,Be=qe;Be--;)qt=Br[Be]||{},Vr=qt.pin,Vr&&qt.start-qt._pinPush<=Se&&!E&&qt.end>0&&(it=qt.end-(F._startClamp?Math.max(0,qt.start):qt.start),(Vr===m&&qt.start-qt._pinPush<Se||Vr===Le)&&isNaN(Ge)&&(ge+=it*(1-qt.progress)),Vr===p&&(ye+=it));if(Se+=ge,te+=ge,F._startClamp&&(F._startClamp+=ge),F._endClamp&&!Bi&&(F._endClamp=te||-.001,te=Math.min(te,Gc(D,T))),be=te-Se||(Se-=.01)&&.001,me&&(ce=Wt.utils.clamp(0,1,Wt.utils.normalize(Se,te,Qt))),F._pinPush=ye,_e&&ge&&(it={},it[T.a]="+="+ge,Le&&(it[T.p]="-="+de()),Wt.set([_e,Ae],it)),p&&!($R&&F.end>=Gc(D,T)))it=El(p),yt=T===_a,Pt=de(),Me=parseFloat(we(T.a))+ye,!xe&&te>1&&(ha=(L?Yn.scrollingElement||$o:D).style,ha={style:ha,value:ha["overflow"+T.a.toUpperCase()]},L&&El(Cn)["overflow"+T.a.toUpperCase()]!=="scroll"&&(ha.style["overflow"+T.a.toUpperCase()]="scroll")),DT(p,fe,it),tt=V_(p),gt=Bu(p,!0),Nn=W&&Mf(D,yt?Wi:_a)(),y?(et=[y+T.os2,be+ye+ba],et.t=fe,Be=y===sa?jN(p,T)+be+ye:0,Be&&(et.push(T.d,Be+ba),fe.style.flexBasis!=="auto"&&(fe.style.flexBasis=Be+ba)),Zg(et),Le&&Br.forEach(function(Qi){Qi.pin===Le&&Qi.vars.pinSpacing!==!1&&(Qi._subPinOffset=!0)}),W&&de(Qt)):(Be=jN(p,T),Be&&fe.style.flexBasis!=="auto"&&(fe.style.flexBasis=Be+ba)),W&&(ot={top:gt.top+(yt?Pt-Se:Nn)+ba,left:gt.left+(yt?Nn:Pt-Se)+ba,boxSizing:"border-box",position:"fixed"},ot[pm]=ot["max"+b0]=Math.ceil(gt.width)+ba,ot[gm]=ot["max"+C5]=Math.ceil(gt.height)+ba,ot[Cl]=ot[Cl+jy]=ot[Cl+wy]=ot[Cl+Ny]=ot[Cl+_y]="0",ot[sa]=it[sa],ot[sa+jy]=it[sa+jy],ot[sa+wy]=it[sa+wy],ot[sa+Ny]=it[sa+Ny],ot[sa+_y]=it[sa+_y],Ze=nje(Oe,ot,S),Bi&&de(0)),a?(ls=a._initted,ET(1),a.render(a.duration(),!0,!0),Pe=we(T.a)-Me+be+ye,je=Math.abs(be-Pe)>1,W&&je&&Ze.splice(Ze.length-2,2),a.render(0,!0,!0),ls||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),ET(0)):Pe=be,ha&&(ha.value?ha.style["overflow"+T.a.toUpperCase()]=ha.value:ha.style.removeProperty("overflow-"+T.a));else if(m&&de()&&!E)for(gt=m.parentNode;gt&&gt!==Cn;)gt._pinOffset&&(Se-=gt._pinOffset,te-=gt._pinOffset),gt=gt.parentNode;So&&So.forEach(function(Qi){return Qi.revert(!1,!0)}),F.start=Se,F.end=te,J=z=Bi?Qt:de(),!E&&!Bi&&(J<Qt&&de(Qt),F.scroll.rec=0),F.revert(!1,!0),Q=xi(),pr&&(X=-1,pr.restart(!0)),pi=0,a&&O&&(a._initted||jn)&&a.progress()!==jn&&a.progress(jn||0,!0).render(a.time(),!0,!0),(me||ce!==F.progress||E||g||a&&!a._initted)&&(a&&!O&&(a._initted||ce||a.vars.immediateRender!==!1)&&a.totalProgress(E&&Se<-.001&&!ce?Wt.utils.normalize(Se,te,0):ce,!0),F.progress=me||(J-Se)/be===ce?0:ce),p&&y&&(fe._pinOffset=Math.round(F.progress*Pe)),vt&&vt.invalidate(),isNaN(ci)||(ci-=Wt.getProperty(ue,T.p),ms-=Wt.getProperty(Ve,T.p),z_(ue,T,ci),z_(_e,T,ci-(sr||0)),z_(Ve,T,ms),z_(Ae,T,ms-(sr||0))),me&&!Bi&&F.update(),d&&!Bi&&!le&&(le=!0,d(F),le=!1)}},F.getVelocity=function(){return(de()-z)/(xi()-Gv)*1e3||0},F.endAnimation=function(){Sv(F.callbackAnimation),a&&(vt?vt.progress(1):a.paused()?O||Sv(a,F.direction<0,1):Sv(a,a.reversed()))},F.labelToScroll=function(bt){return a&&a.labels&&(Se||F.refresh()||Se)+a.labels[bt]/a.duration()*be||0},F.getTrailing=function(bt){var Bt=Br.indexOf(F),Lt=F.direction>0?Br.slice(0,Bt).reverse():Br.slice(Bt+1);return(Ro(bt)?Lt.filter(function(sr){return sr.vars.preventOverlaps===bt}):Lt).filter(function(sr){return F.direction>0?sr.end<=Se:sr.start>=te})},F.update=function(bt,Bt,Lt){if(!(E&&!Lt&&!bt)){var sr=Bi===!0?Qt:F.scroll(),$n=bt?0:(sr-Se)/be,ne=$n<0?0:$n>1?1:$n||0,xe=F.progress,me,ge,ye,ve,$e,Ge,Le,qe;if(Bt&&(z=J,J=E?de():sr,C&&(lt=Dt,Dt=a&&!O?a.totalProgress():ne)),v&&p&&!pi&&!M_&&Ll&&(!ne&&Se<sr+(sr-z)/(xi()-Gv)*v?ne=1e-4:ne===1&&te>sr+(sr-z)/(xi()-Gv)*v&&(ne=.9999)),ne!==xe&&F.enabled){if(me=F.isActive=!!ne&&ne<1,ge=!!xe&&xe<1,Ge=me!==ge,$e=Ge||!!ne!=!!xe,F.direction=ne>xe?1:-1,F.progress=ne,$e&&!pi&&(ye=ne&&!xe?0:ne===1?1:xe===1?2:3,O&&(ve=!Ge&&G[ye+1]!=="none"&&G[ye+1]||G[ye],qe=a&&(ve==="complete"||ve==="reset"||ve in a))),P&&(Ge||qe)&&(qe||f||!a)&&(ji(P)?P(F):F.getTrailing(P).forEach(function(Pt){return Pt.endAnimation()})),O||(vt&&!pi&&!M_?(vt._dp._time-vt._start!==vt._time&&vt.render(vt._dp._time-vt._start),vt.resetTo?vt.resetTo("totalProgress",ne,a._tTime/a._tDur):(vt.vars.totalProgress=ne,vt.invalidate().restart())):a&&a.totalProgress(ne,!!(pi&&(Q||bt)))),p){if(bt&&y&&(fe.style[y+T.os2]=Re),!W)he(Yv(Me+Pe*ne));else if($e){if(Le=!bt&&ne>xe&&te+1>sr&&sr+1>=Gc(D,T),S)if(!bt&&(me||Le)){var Be=Bu(p,!0),it=sr-Se;AU(p,Cn,Be.top+(T===_a?it:0)+ba,Be.left+(T===_a?0:it)+ba)}else AU(p,fe);Zg(me||Le?Ze:tt),je&&ne<1&&me||he(Me+(ne===1&&!Le?Pe:0))}}C&&!pe.tween&&!pi&&!M_&&pr.restart(!0),l&&(Ge||j&&ne&&(ne<1||!TT))&&hb(l.targets).forEach(function(Pt){return Pt.classList[me||j?"add":"remove"](l.className)}),o&&!O&&!bt&&o(F),$e&&!pi?(O&&(qe&&(ve==="complete"?a.pause().totalProgress(1):ve==="reset"?a.restart(!0).pause():ve==="restart"?a.restart(!0):a[ve]()),o&&o(F)),(Ge||!TT)&&(u&&Ge&&PT(F,u),q[ye]&&PT(F,q[ye]),j&&(ne===1?F.kill(!1,1):q[ye]=0),Ge||(ye=ne===1?1:3,q[ye]&&PT(F,q[ye]))),R&&!me&&Math.abs(F.getVelocity())>(Xv(R)?R:2500)&&(Sv(F.callbackAnimation),vt?vt.progress(1):Sv(a,ve==="reverse"?1:!ne,1))):O&&o&&!pi&&o(F)}if(nt){var gt=E?sr/E.duration()*(E._caScrollDist||0):sr;jt(gt+(ue._isFlipped?1:0)),nt(gt)}$t&&$t(-sr/E.duration()*(E._caScrollDist||0))}},F.enable=function(bt,Bt){F.enabled||(F.enabled=!0,La(D,"resize",Jv),L||La(D,"scroll",Gp),B&&La(e,"refreshInit",B),bt!==!1&&(F.progress=ce=0,J=z=X=de()),Bt!==!1&&F.refresh())},F.getTween=function(bt){return bt&&pe?pe.tween:vt},F.setPositions=function(bt,Bt,Lt,sr){if(E){var $n=E.scrollTrigger,ne=E.duration(),xe=$n.end-$n.start;bt=$n.start+xe*bt/ne,Bt=$n.start+xe*Bt/ne}F.refresh(!1,!1,{start:wU(bt,Lt&&!!F._startClamp),end:wU(Bt,Lt&&!!F._endClamp)},sr),F.update()},F.adjustPinSpacing=function(bt){if(et&&bt){var Bt=et.indexOf(T.d)+1;et[Bt]=parseFloat(et[Bt])+bt+ba,et[1]=parseFloat(et[1])+bt+ba,Zg(et)}},F.disable=function(bt,Bt){if(bt!==!1&&F.revert(!0,!0),F.enabled&&(F.enabled=F.isActive=!1,Bt||vt&&vt.pause(),Qt=0,re&&(re.uncache=1),B&&Fa(e,"refreshInit",B),pr&&(pr.pause(),pe.tween&&pe.tween.kill()&&(pe.tween=0)),!L)){for(var Lt=Br.length;Lt--;)if(Br[Lt].scroller===D&&Br[Lt]!==F)return;Fa(D,"resize",Jv),L||Fa(D,"scroll",Gp)}},F.kill=function(bt,Bt){F.disable(bt,Bt),vt&&!Bt&&vt.kill(),c&&delete BR[c];var Lt=Br.indexOf(F);Lt>=0&&Br.splice(Lt,1),Lt===$i&&zj>0&&$i--,Lt=0,Br.forEach(function(sr){return sr.scroller===F.scroller&&(Lt=1)}),Lt||Bi||(F.scroll.rec=0),a&&(a.scrollTrigger=null,bt&&a.revert({kill:!1}),Bt||a.kill()),_e&&[_e,Ae,ue,Ve].forEach(function(sr){return sr.parentNode&&sr.parentNode.removeChild(sr)}),Sy===F&&(Sy=0),p&&(re&&(re.uncache=1),Lt=0,Br.forEach(function(sr){return sr.pin===p&&Lt++}),Lt||(re.spacer=0)),n.onKill&&n.onKill(F)},Br.push(F),F.enable(!1,!1),jr&&jr(F),a&&a.add&&!be){var or=F.update;F.update=function(){F.update=or,Wr.cache++,Se||te||F.refresh()},Wt.delayedCall(.01,F.update),be=.01,Se=te=0}else F.refresh();p&&eje()},e.register=function(n){return xg||(Wt=n||xte(),gte()&&window.document&&e.enable(),xg=Kv),xg},e.defaults=function(n){if(n)for(var a in n)B_[a]=n[a];return B_},e.disable=function(n,a){Kv=0,Br.forEach(function(o){return o[a?"kill":"disable"](n)}),Fa(qr,"wheel",Gp),Fa(Yn,"scroll",Gp),clearInterval(I_),Fa(Yn,"touchcancel",Vc),Fa(Cn,"touchstart",Vc),L_(Fa,Yn,"pointerdown,touchstart,mousedown",_U),L_(Fa,Yn,"pointerup,touchend,mouseup",jU),_N.kill(),F_(Fa);for(var i=0;i<Wr.length;i+=3)$_(Fa,Wr[i],Wr[i+1]),$_(Fa,Wr[i],Wr[i+2])},e.enable=function(){if(qr=window,Yn=document,$o=Yn.documentElement,Cn=Yn.body,Wt&&(hb=Wt.utils.toArray,yy=Wt.utils.clamp,LR=Wt.core.context||Vc,ET=Wt.core.suppressOverwrites||Vc,j5=qr.history.scrollRestoration||"auto",UR=qr.pageYOffset||0,Wt.core.globals("ScrollTrigger",e),Cn)){Kv=1,Jg=document.createElement("div"),Jg.style.height="100vh",Jg.style.position="absolute",Cte(),G_e(),zs.register(Wt),e.isTouch=zs.isTouch,Gd=zs.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),FR=zs.isTouch===1,La(qr,"wheel",Gp),_5=[qr,Yn,$o,Cn],Wt.matchMedia?(e.matchMedia=function(u){var d=Wt.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Wt.addEventListener("matchMediaInit",function(){Ste(),T5()}),Wt.addEventListener("matchMediaRevert",function(){return Nte()}),Wt.addEventListener("matchMedia",function(){em(0,1),Pm("matchMedia")}),Wt.matchMedia().add("(orientation: portrait)",function(){return OT(),OT})):console.warn("Requires GSAP 3.11.0 or later"),OT(),La(Yn,"scroll",Gp);var n=Cn.hasAttribute("style"),a=Cn.style,i=a.borderTopStyle,o=Wt.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",l=Bu(Cn),_a.m=Math.round(l.top+_a.sc())||0,Wi.m=Math.round(l.left+Wi.sc())||0,i?a.borderTopStyle=i:a.removeProperty("border-top-style"),n||(Cn.setAttribute("style",""),Cn.removeAttribute("style")),I_=setInterval(kU,250),Wt.delayedCall(.5,function(){return M_=0}),La(Yn,"touchcancel",Vc),La(Cn,"touchstart",Vc),L_(La,Yn,"pointerdown,touchstart,mousedown",_U),L_(La,Yn,"pointerup,touchend,mouseup",jU),MR=Wt.utils.checkPrefix("transform"),qj.push(MR),xg=xi(),_N=Wt.delayedCall(.2,em).pause(),vg=[Yn,"visibilitychange",function(){var u=qr.innerWidth,d=qr.innerHeight;Yn.hidden?(vU=u,yU=d):(vU!==u||yU!==d)&&Jv()},Yn,"DOMContentLoaded",em,qr,"load",em,qr,"resize",Jv],F_(La),Br.forEach(function(u){return u.enable(0,1)}),c=0;c<Wr.length;c+=3)$_(Fa,Wr[c],Wr[c+1]),$_(Fa,Wr[c],Wr[c+2])}},e.config=function(n){"limitCallbacks"in n&&(TT=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(I_)||(I_=a)&&setInterval(kU,a),"ignoreMobileResize"in n&&(FR=e.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(F_(Fa)||F_(La,n.autoRefreshEvents||"none"),hte=(n.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(n,a){var i=co(n),o=Wr.indexOf(i),l=Tm(i);~o&&Wr.splice(o,l?6:2),a&&(l?Qc.unshift(qr,a,Cn,a,$o,a):Qc.unshift(i,a))},e.clearMatchMedia=function(n){Br.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},e.isInViewport=function(n,a,i){var o=(Ro(n)?co(n):n).getBoundingClientRect(),l=o[i?pm:gm]*a||0;return i?o.right-l>0&&o.left+l<qr.innerWidth:o.bottom-l>0&&o.top+l<qr.innerHeight},e.positionInViewport=function(n,a,i){Ro(n)&&(n=co(n));var o=n.getBoundingClientRect(),l=o[i?pm:gm],c=a==null?l/2:a in NN?NN[a]*l:~a.indexOf("%")?parseFloat(a)*l/100:parseFloat(a)||0;return i?(o.left+c)/qr.innerWidth:(o.top+c)/qr.innerHeight},e.killAll=function(n){if(Br.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var a=Am.killAll||[];Am={},a.forEach(function(i){return i()})}},e})();Mr.version="3.14.2";Mr.saveStyles=function(e){return e?hb(e).forEach(function(t){if(t&&t.style){var r=Do.indexOf(t);r>=0&&Do.splice(r,5),Do.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Wt.core.getCache(t),LR())}}):Do};Mr.revert=function(e,t){return T5(!e,t)};Mr.create=function(e,t){return new Mr(e,t)};Mr.refresh=function(e){return e?Jv(!0):(xg||Mr.register())&&em(!0)};Mr.update=function(e){return++Wr.cache&&Ju(e===!0?2:0)};Mr.clearScrollMemory=kte;Mr.maxScroll=function(e,t){return Gc(e,t?Wi:_a)};Mr.getScrollFunc=function(e,t){return Mf(co(e),t?Wi:_a)};Mr.getById=function(e){return BR[e]};Mr.getAll=function(){return Br.filter(function(e){return e.vars.id!=="ScrollSmoother"})};Mr.isScrolling=function(){return!!Ll};Mr.snapDirectional=E5;Mr.addEventListener=function(e,t){var r=Am[e]||(Am[e]=[]);~r.indexOf(t)||r.push(t)};Mr.removeEventListener=function(e,t){var r=Am[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)};Mr.batch=function(e,t){var r=[],n={},a=t.interval||.016,i=t.batchMax||1e9,o=function(u,d){var f=[],m=[],p=Wt.delayedCall(a,function(){d(f,m),f=[],m=[]}).pause();return function(y){f.length||p.restart(!0),f.push(y.trigger),m.push(y),i<=f.length&&p.progress(1)}},l;for(l in t)n[l]=l.substr(0,2)==="on"&&ji(t[l])&&l!=="onRefreshInit"?o(l,t[l]):t[l];return ji(i)&&(i=i(),La(Mr,"refresh",function(){return i=t.batchMax()})),hb(e).forEach(function(c){var u={};for(l in n)u[l]=n[l];u.trigger=c,r.push(Mr.create(u))}),r};var OU=function(t,r,n,a){return r>a?t(a):r<0&&t(0),n>a?(a-r)/(n-r):n<0?r/(r-n):1},RT=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+(zs.isTouch?" pinch-zoom":""):"none",t===$o&&e(Cn,r)},q_={auto:1,scroll:1},aje=function(t){var r=t.event,n=t.target,a=t.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,o=i._gsap||Wt.core.getCache(i),l=xi(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==Cn&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(q_[(c=El(i)).overflowY]||q_[c.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==n&&!Tm(i)&&(q_[(c=El(i)).overflowY]||q_[c.overflowX]),o._isScrollT=l}(o._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Tte=function(t,r,n,a){return zs.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&aje,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&La(Yn,zs.eventTypes[0],RU,!1,!0)},onDisable:function(){return Fa(Yn,zs.eventTypes[0],RU,!0)}})},ije=/(input|label|select|textarea)/i,DU,RU=function(t){var r=ije.test(t.target.tagName);(r||DU)&&(t._gsapAllow=!0,DU=r)},oje=function(t){Bh(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,n=r.normalizeScrollX,a=r.momentum,i=r.allowNestedScroll,o=r.onRelease,l,c,u=co(t.target)||$o,d=Wt.core.globals().ScrollSmoother,f=d&&d.get(),m=Gd&&(t.content&&co(t.content)||f&&t.content!==!1&&!f.smooth()&&f.content()),p=Mf(u,_a),y=Mf(u,Wi),g=1,v=(zs.isTouch&&qr.visualViewport?qr.visualViewport.scale*qr.visualViewport.width:qr.outerWidth)/qr.innerWidth,_=0,w=ji(a)?function(){return a(l)}:function(){return a||2.8},j,C,S=Tte(u,t.type,!0,i),k=function(){return C=!1},E=Vc,R=Vc,P=function(){c=Gc(u,_a),R=yy(Gd?1:0,c),n&&(E=yy(0,Gc(u,Wi))),j=xm},T=function(){m._gsap.y=Yv(parseFloat(m._gsap.y)+p.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},O=function(){if(C){requestAnimationFrame(k);var K=Yv(l.deltaY/2),U=R(p.v-K);if(m&&U!==p.v+p.offset){p.offset=U-p.v;var F=Yv((parseFloat(m&&m._gsap.y)||0)-p.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+F+", 0, 1)",m._gsap.y=F+"px",p.cacheID=Wr.cache,Ju()}return!0}p.offset&&T(),C=!0},D,I,L,W,q=function(){P(),D.isActive()&&D.vars.scrollY>c&&(p()>c?D.progress(1)&&p(c):D.resetTo("scrollY",c))};return m&&Wt.set(m,{y:"+=0"}),t.ignoreCheck=function(G){return Gd&&G.type==="touchmove"&&O()||g>1.05&&G.type!=="touchstart"||l.isGesturing||G.touches&&G.touches.length>1},t.onPress=function(){C=!1;var G=g;g=Yv((qr.visualViewport&&qr.visualViewport.scale||1)/v),D.pause(),G!==g&&RT(u,g>1.01?!0:n?!1:"x"),I=y(),L=p(),P(),j=xm},t.onRelease=t.onGestureStart=function(G,K){if(p.offset&&T(),!K)W.restart(!0);else{Wr.cache++;var U=w(),F,B;n&&(F=y(),B=F+U*.05*-G.velocityX/.227,U*=OU(y,F,B,Gc(u,Wi)),D.vars.scrollX=E(B)),F=p(),B=F+U*.05*-G.velocityY/.227,U*=OU(p,F,B,Gc(u,_a)),D.vars.scrollY=R(B),D.invalidate().duration(U).play(.01),(Gd&&D.vars.scrollY>=c||F>=c-1)&&Wt.to({},{onUpdate:q,duration:U})}o&&o(G)},t.onWheel=function(){D._ts&&D.pause(),xi()-_>1e3&&(j=0,_=xi())},t.onChange=function(G,K,U,F,B){if(xm!==j&&P(),K&&n&&y(E(F[2]===K?I+(G.startX-G.x):y()+K-F[1])),U){p.offset&&T();var V=B[2]===U,Z=V?L+G.startY-G.y:p()+U-B[1],X=R(Z);V&&Z!==X&&(L+=X-Z),p(X)}(U||K)&&Ju()},t.onEnable=function(){RT(u,n?!1:"x"),Mr.addEventListener("refresh",q),La(qr,"resize",q),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=y.smooth=!1),S.enable()},t.onDisable=function(){RT(u,!0),Fa(qr,"resize",q),Mr.removeEventListener("refresh",q),S.kill()},t.lockAxis=t.lockAxis!==!1,l=new zs(t),l.iOS=Gd,Gd&&!p()&&p(1),Gd&&Wt.ticker.add(Vc),W=l._dc,D=Wt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ete(p,p(),function(){return D.pause()})},onUpdate:Ju,onComplete:W.vars.onComplete}),l};Mr.sort=function(e){if(ji(e))return Br.sort(e);var t=qr.pageYOffset||0;return Mr.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+qr.innerHeight}),Br.sort(e||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Mr.observe=function(e){return new zs(e)};Mr.normalizeScroll=function(e){if(typeof e>"u")return Li;if(e===!0&&Li)return Li.enable();if(e===!1){Li&&Li.kill(),Li=e;return}var t=e instanceof zs?e:oje(e);return Li&&Li.target===t.target&&Li.kill(),Tm(t.target)&&(Li=t),t};Mr.core={_getVelocityProp:IR,_inputObserver:Tte,_scrollers:Wr,_proxies:Qc,bridge:{ss:function(){Ll||Pm("scrollStart"),Ll=xi()},ref:function(){return pi}}};xte()&&Wt.registerPlugin(Mr);zn.registerPlugin(Mr);const lje=()=>{const e=b.useRef(null),t=b.useRef(null),r=b.useRef(null);return b.useEffect(()=>{const n=i=>{i.preventDefault();const l=i.currentTarget.getAttribute("href");if(l&&l.startsWith("#")){const c=document.querySelector(l);if(c){const u=c.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:u,behavior:"smooth"})}}},a=document.querySelectorAll('a[href^="#"]');if(a.forEach(i=>{i.addEventListener("click",n)}),e.current){const i=e.current.querySelector(".hero-badge"),o=e.current.querySelector(".hero-heading"),l=e.current.querySelector(".hero-subheading"),c=e.current.querySelector(".hero-cta"),u=e.current.querySelector(".hero-trust");e.current.querySelectorAll(".hero-decorative").forEach((m,p)=>{zn.to(m,{yPercent:p%2===0?30:-30,scrollTrigger:{trigger:e.current,start:"top top",end:"bottom top",scrub:1}})}),zn.timeline({defaults:{ease:"power3.out"}}).fromTo(i,{opacity:0,y:-20},{opacity:1,y:0,duration:.8}).fromTo(o,{opacity:0,y:30,scale:.95},{opacity:1,y:0,scale:1,duration:1,stagger:.1},"-=0.4").fromTo(l,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.6").fromTo(c,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.4").fromTo(u,{opacity:0},{opacity:1,duration:.8},"-=0.4")}if(t.current&&t.current.querySelectorAll(".feature-card").forEach((o,l)=>{zn.fromTo(o,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:.3,ease:"power3.out",scrollTrigger:{trigger:o,start:"top bottom",end:"bottom 20%",toggleActions:"play none none reverse"},delay:0}),o.addEventListener("mouseenter",()=>{zn.to(o,{y:-10,duration:.3,ease:"power2.out"})}),o.addEventListener("mouseleave",()=>{zn.to(o,{y:0,duration:.3,ease:"power2.out"})})}),r.current){const i=r.current.querySelectorAll(".step-card");zn.fromTo(i,{opacity:0,x:-50,scale:.95},{opacity:1,x:0,scale:1,duration:.8,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:r.current,start:"top 70%",end:"bottom 20%",toggleActions:"play none none reverse"}})}return()=>{a.forEach(i=>{i.removeEventListener("click",n)}),Mr.getAll().forEach(i=>i.kill())}},[]),{heroRef:e,featuresRef:t,stepsRef:r}},cje=()=>{const e=b.useRef(null);return b.useEffect(()=>{if(!e.current)return;e.current.querySelectorAll(".particle").forEach((r,n)=>{zn.set(r,{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:Math.random()*.5+.5,opacity:Math.random()*.3+.1}),zn.to(r,{y:`+=${Math.random()*200-100}`,x:`+=${Math.random()*200-100}`,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut",delay:Math.random()*2}),zn.to(r,{rotation:Math.random()*360,duration:Math.random()*20+10,repeat:-1,ease:"none"}),zn.to(r,{scale:`+=${Math.random()*.3}`,duration:Math.random()*3+2,repeat:-1,yoyo:!0,ease:"sine.inOut"})})},[]),s.jsx("div",{ref:e,className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:30}).map((t,r)=>s.jsx("div",{className:"particle absolute w-2 h-2 rounded-full",style:{background:`radial-gradient(circle, ${r%3===0?"rgba(59, 130, 246, 0.4)":r%3===1?"rgba(139, 92, 246, 0.4)":"rgba(236, 72, 153, 0.4)"}, transparent)`,filter:"blur(1px)"}},r))})},IU=({text:e,className:t="",delay:r=0,as:n="span",gradient:a=!1})=>{const i=b.useRef(null);return b.useEffect(()=>{if(!i.current)return;const o=e.split(" ");i.current.innerHTML=o.map(c=>`<span class="word inline-block mr-2">${c.split("").map(d=>`<span class="char inline-block ${a?"gradient-char":""}">${d===" "?"&nbsp;":d}</span>`).join("")}</span>`).join(" ");const l=i.current.querySelectorAll(".char");zn.fromTo(l,{opacity:0,y:50,rotationX:-90},{opacity:1,y:0,rotationX:0,duration:.8,stagger:.02,ease:"back.out(1.7)",delay:r}),a&&zn.to(l,{backgroundPosition:"200% center",duration:3,repeat:-1,ease:"none",stagger:{each:.1,repeat:-1}})},[e,r,a]),s.jsx(n,{ref:i,className:t})},IT=({color:e,size:t="md",position:r})=>{const n=b.useRef(null),a={blue:"from-blue-500/20 to-blue-600/10",purple:"from-purple-500/20 to-purple-600/10",pink:"from-pink-500/20 to-pink-600/10",green:"from-green-500/20 to-green-600/10"},i={sm:"w-64 h-64",md:"w-96 h-96",lg:"w-[600px] h-[600px]"};return b.useEffect(()=>{n.current&&(zn.to(n.current,{scale:1.2,duration:8,repeat:-1,yoyo:!0,ease:"sine.inOut"}),zn.to(n.current,{rotation:360,duration:20,repeat:-1,ease:"none"}),zn.to(n.current,{x:"+=50",y:"+=30",duration:10,repeat:-1,yoyo:!0,ease:"sine.inOut"}))},[]),s.jsx("div",{ref:n,className:`absolute ${i[t]} bg-gradient-to-br ${a[e]} rounded-full blur-3xl opacity-30`,style:r})};var uje=b.createContext(void 0);function nh(e){const t=b.useContext(uje);return e||t||"ltr"}var MT=0;function U2(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MU()),document.body.insertAdjacentElement("beforeend",e[1]??MU()),MT++,()=>{MT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),MT--}},[])}function MU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var FT="focusScope.autoFocusOnMount",LT="focusScope.autoFocusOnUnmount",FU={bubbles:!1,cancelable:!0},dje="FocusScope",Mw=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),u=Ts(a),d=Ts(i),f=b.useRef(null),m=tr(t,g=>c(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let g=function(j){if(p.paused||!l)return;const C=j.target;l.contains(C)?f.current=C:Kd(f.current,{select:!0})},v=function(j){if(p.paused||!l)return;const C=j.relatedTarget;C!==null&&(l.contains(C)||Kd(f.current,{select:!0}))},_=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Kd(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(_);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,p.paused]),b.useEffect(()=>{if(l){$U.add(p);const g=document.activeElement;if(!l.contains(g)){const _=new CustomEvent(FT,FU);l.addEventListener(FT,u),l.dispatchEvent(_),_.defaultPrevented||(fje(xje(Ate(l)),{select:!0}),document.activeElement===g&&Kd(l))}return()=>{l.removeEventListener(FT,u),setTimeout(()=>{const _=new CustomEvent(LT,FU);l.addEventListener(LT,d),l.dispatchEvent(_),_.defaultPrevented||Kd(g??document.body,{select:!0}),l.removeEventListener(LT,d),$U.remove(p)},0)}}},[l,u,d,p]);const y=b.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(v&&_){const w=g.currentTarget,[j,C]=hje(w);j&&C?!g.shiftKey&&_===C?(g.preventDefault(),r&&Kd(j,{select:!0})):g.shiftKey&&_===j&&(g.preventDefault(),r&&Kd(C,{select:!0})):_===w&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(At.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});Mw.displayName=dje;function fje(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Kd(n,{select:t}),document.activeElement!==r)return}function hje(e){const t=Ate(e),r=LU(t,e),n=LU(t.reverse(),e);return[r,n]}function Ate(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function LU(e,t){for(const r of e)if(!mje(r,{upTo:t}))return r}function mje(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pje(e){return e instanceof HTMLInputElement&&"select"in e}function Kd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pje(e)&&t&&e.select()}}var $U=gje();function gje(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=BU(e,t),e.unshift(t)},remove(t){e=BU(e,t),e[0]?.resume()}}}function BU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xje(e){return e.filter(t=>t.tagName!=="A")}var $T="rovingFocusGroup.onEntryFocus",vje={bubbles:!1,cancelable:!0},Fw="RovingFocusGroup",[zR,Pte,yje]=ox(Fw),[bje,gx]=Is(Fw,[yje]),[wje,_je]=bje(Fw),Ote=b.forwardRef((e,t)=>s.jsx(zR.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(zR.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(jje,{...e,ref:t})})}));Ote.displayName=Fw;var jje=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=b.useRef(null),p=tr(t,m),y=nh(i),[g,v]=Pi({prop:o,defaultProp:l??null,onChange:c,caller:Fw}),[_,w]=b.useState(!1),j=Ts(u),C=Pte(r),S=b.useRef(!1),[k,E]=b.useState(0);return b.useEffect(()=>{const R=m.current;if(R)return R.addEventListener($T,j),()=>R.removeEventListener($T,j)},[j]),s.jsx(wje,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:b.useCallback(R=>v(R),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:b.useCallback(()=>E(R=>R-1),[]),children:s.jsx(At.div,{tabIndex:_||k===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:mt(e.onMouseDown,()=>{S.current=!0}),onFocus:mt(e.onFocus,R=>{const P=!S.current;if(R.target===R.currentTarget&&P&&!_){const T=new CustomEvent($T,vje);if(R.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=C().filter(q=>q.focusable),D=O.find(q=>q.active),I=O.find(q=>q.id===g),W=[D,I,...O].filter(Boolean).map(q=>q.ref.current);Ite(W,d)}}S.current=!1}),onBlur:mt(e.onBlur,()=>w(!1))})})}),Dte="RovingFocusGroupItem",Rte=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=xo(),u=i||c,d=_je(Dte,r),f=d.currentTabStopId===u,m=Pte(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=d;return b.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(zR.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(At.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:mt(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:mt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:mt(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const _=kje(v,d.orientation,d.dir);if(_!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=m().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")j.reverse();else if(_==="prev"||_==="next"){_==="prev"&&j.reverse();const C=j.indexOf(v.currentTarget);j=d.loop?Cje(j,C+1):j.slice(C+1)}setTimeout(()=>Ite(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});Rte.displayName=Dte;var Nje={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sje(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kje(e,t,r){const n=Sje(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Nje[n]}function Ite(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Cje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var A5=Ote,P5=Rte,Eje=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kp=new WeakMap,W_=new WeakMap,H_={},BT=0,Mte=function(e){return e&&(e.host||Mte(e.parentNode))},Tje=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Mte(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Aje=function(e,t,r,n){var a=Tje(t,Array.isArray(e)?e:[e]);H_[r]||(H_[r]=new WeakMap);var i=H_[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),y=p!==null&&p!=="false",g=(Kp.get(m)||0)+1,v=(i.get(m)||0)+1;Kp.set(m,g),i.set(m,v),o.push(m),g===1&&y&&W_.set(m,!0),v===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(t),l.clear(),BT++,function(){o.forEach(function(f){var m=Kp.get(f)-1,p=i.get(f)-1;Kp.set(f,m),i.set(f,p),m||(W_.has(f)||f.removeAttribute(n),W_.delete(f)),p||f.removeAttribute(r)}),BT--,BT||(Kp=new WeakMap,Kp=new WeakMap,W_=new WeakMap,H_={})}},V2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Eje(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Aje(n,a,r,"aria-hidden")):function(){return null}},qc=function(){return qc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qc.apply(this,arguments)};function Fte(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Pje(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Hj="right-scroll-bar-position",Gj="width-before-scroll-bar",Oje="with-scroll-bars-hidden",Dje="--removed-body-scroll-bar-size";function UT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rje(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Ije=typeof window<"u"?b.useLayoutEffect:b.useEffect,UU=new WeakMap;function Mje(e,t){var r=Rje(null,function(n){return e.forEach(function(a){return UT(a,n)})});return Ije(function(){var n=UU.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||UT(l,null)}),i.forEach(function(l){a.has(l)||UT(l,o)})}UU.set(r,e)},[e]),r}function Fje(e){return e}function Lje(e,t){t===void 0&&(t=Fje);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function $je(e){e===void 0&&(e={});var t=Lje(null);return t.options=qc({async:!0,ssr:!1},e),t}var Lte=function(e){var t=e.sideCar,r=Fte(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,qc({},r))};Lte.isSideCarExport=!0;function Bje(e,t){return e.useMedium(t),Lte}var $te=$je(),VT=function(){},z2=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:VT,onWheelCapture:VT,onTouchMoveCapture:VT}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,y=e.noIsolation,g=e.inert,v=e.allowPinchZoom,_=e.as,w=_===void 0?"div":_,j=e.gapMode,C=Fte(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,k=Mje([r,t]),E=qc(qc({},C),a);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:$te,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:j}),o?b.cloneElement(b.Children.only(l),qc(qc({},E),{ref:k})):b.createElement(w,qc({},E,{className:c,ref:k}),l))});z2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z2.classNames={fullWidth:Gj,zeroRight:Hj};var Uje=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Vje(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Uje();return t&&e.setAttribute("nonce",t),e}function zje(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qje(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Wje=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Vje())&&(zje(t,r),qje(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hje=function(){var e=Wje();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Bte=function(){var e=Hje(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Gje={left:0,top:0,right:0,gap:0},zT=function(e){return parseInt(e||"",10)||0},Kje=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[zT(r),zT(n),zT(a)]},Yje=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Gje;var t=Kje(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Xje=Bte(),Qg="data-scroll-locked",Jje=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Oje,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Qg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hj,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gj,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hj," .").concat(Hj,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gj," .").concat(Gj,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qg,`] {
    `).concat(Dje,": ").concat(l,`px;
  }
`)},VU=function(){var e=parseInt(document.body.getAttribute(Qg)||"0",10);return isFinite(e)?e:0},Zje=function(){b.useEffect(function(){return document.body.setAttribute(Qg,(VU()+1).toString()),function(){var e=VU()-1;e<=0?document.body.removeAttribute(Qg):document.body.setAttribute(Qg,e.toString())}},[])},Qje=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Zje();var i=b.useMemo(function(){return Yje(a)},[a]);return b.createElement(Xje,{styles:Jje(i,!t,a,r?"":"!important")})},qR=!1;if(typeof window<"u")try{var G_=Object.defineProperty({},"passive",{get:function(){return qR=!0,!0}});window.addEventListener("test",G_,G_),window.removeEventListener("test",G_,G_)}catch{qR=!1}var Yp=qR?{passive:!1}:!1,eNe=function(e){return e.tagName==="TEXTAREA"},Ute=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!eNe(e)&&r[t]==="visible")},tNe=function(e){return Ute(e,"overflowY")},rNe=function(e){return Ute(e,"overflowX")},zU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Vte(e,n);if(a){var i=zte(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nNe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},sNe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Vte=function(e,t){return e==="v"?tNe(t):rNe(t)},zte=function(e,t){return e==="v"?nNe(t):sNe(t)},aNe=function(e,t){return e==="h"&&t==="rtl"?-1:1},iNe=function(e,t,r,n,a){var i=aNe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var p=zte(e,l),y=p[0],g=p[1],v=p[2],_=g-v-i*y;(y||_)&&Vte(e,l)&&(f+=_,m+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},K_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qU=function(e){return[e.deltaX,e.deltaY]},WU=function(e){return e&&"current"in e?e.current:e},oNe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lNe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cNe=0,Xp=[];function uNe(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),a=b.useState(cNe++)[0],i=b.useState(Bte)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Pje([e.lockRef.current],(e.shards||[]).map(WU),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=K_(g),w=r.current,j="deltaX"in g?g.deltaX:w[0]-_[0],C="deltaY"in g?g.deltaY:w[1]-_[1],S,k=g.target,E=Math.abs(j)>Math.abs(C)?"h":"v";if("touches"in g&&E==="h"&&k.type==="range")return!1;var R=zU(E,k);if(!R)return!0;if(R?S=E:(S=E==="v"?"h":"v",R=zU(E,k)),!R)return!1;if(!n.current&&"changedTouches"in g&&(j||C)&&(n.current=S),!S)return!0;var P=n.current||S;return iNe(P,v,g,P==="h"?j:C)},[]),c=b.useCallback(function(g){var v=g;if(!(!Xp.length||Xp[Xp.length-1]!==i)){var _="deltaY"in v?qU(v):K_(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&oNe(S.delta,_)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var j=(o.current.shards||[]).map(WU).filter(Boolean).filter(function(S){return S.contains(v.target)}),C=j.length>0?l(v,j[0]):!o.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,_,w){var j={name:g,delta:v,target:_,should:w,shadowParent:dNe(_)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(C){return C!==j})},1)},[]),d=b.useCallback(function(g){r.current=K_(g),n.current=void 0},[]),f=b.useCallback(function(g){u(g.type,qU(g),g.target,l(g,e.lockRef.current))},[]),m=b.useCallback(function(g){u(g.type,K_(g),g.target,l(g,e.lockRef.current))},[]);b.useEffect(function(){return Xp.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Yp),document.addEventListener("touchmove",c,Yp),document.addEventListener("touchstart",d,Yp),function(){Xp=Xp.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Yp),document.removeEventListener("touchmove",c,Yp),document.removeEventListener("touchstart",d,Yp)}},[]);var p=e.removeScrollBar,y=e.inert;return b.createElement(b.Fragment,null,y?b.createElement(i,{styles:lNe(a)}):null,p?b.createElement(Qje,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dNe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fNe=Bje($te,uNe);var Lw=b.forwardRef(function(e,t){return b.createElement(z2,qc({},e,{ref:t,sideCar:fNe}))});Lw.classNames=z2.classNames;var WR=["Enter"," "],hNe=["ArrowDown","PageUp","Home"],qte=["ArrowUp","PageDown","End"],mNe=[...hNe,...qte],pNe={ltr:[...WR,"ArrowRight"],rtl:[...WR,"ArrowLeft"]},gNe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$w="Menu",[pb,xNe,vNe]=ox($w),[ap,Wte]=Is($w,[vNe,eh,gx]),q2=eh(),Hte=gx(),[yNe,ip]=ap($w),[bNe,Bw]=ap($w),Gte=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=q2(t),[c,u]=b.useState(null),d=b.useRef(!1),f=Ts(i),m=nh(a);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(k2,{...l,children:s.jsx(yNe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(bNe,{scope:t,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};Gte.displayName=$w;var wNe="MenuAnchor",O5=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=q2(r);return s.jsx(Ow,{...a,...n,ref:t})});O5.displayName=wNe;var D5="MenuPortal",[_Ne,Kte]=ap(D5,{forceMount:void 0}),Yte=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=ip(D5,t);return s.jsx(_Ne,{scope:t,forceMount:r,children:s.jsx(fa,{present:r||i.open,children:s.jsx(lx,{asChild:!0,container:a,children:n})})})};Yte.displayName=D5;var $l="MenuContent",[jNe,R5]=ap($l),Xte=b.forwardRef((e,t)=>{const r=Kte($l,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=ip($l,e.__scopeMenu),o=Bw($l,e.__scopeMenu);return s.jsx(pb.Provider,{scope:e.__scopeMenu,children:s.jsx(fa,{present:n||i.open,children:s.jsx(pb.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(NNe,{...a,ref:t}):s.jsx(SNe,{...a,ref:t})})})})}),NNe=b.forwardRef((e,t)=>{const r=ip($l,e.__scopeMenu),n=b.useRef(null),a=tr(t,n);return b.useEffect(()=>{const i=n.current;if(i)return V2(i)},[]),s.jsx(I5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:mt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),SNe=b.forwardRef((e,t)=>{const r=ip($l,e.__scopeMenu);return s.jsx(I5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),kNe=kf("MenuContent.ScrollLock"),I5=b.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=e,v=ip($l,r),_=Bw($l,r),w=q2(r),j=Hte(r),C=xNe(r),[S,k]=b.useState(null),E=b.useRef(null),R=tr(t,E,v.onContentChange),P=b.useRef(0),T=b.useRef(""),O=b.useRef(0),D=b.useRef(null),I=b.useRef("right"),L=b.useRef(0),W=y?Lw:b.Fragment,q=y?{as:kNe,allowPinchZoom:!0}:void 0,G=U=>{const F=T.current+U,B=C().filter(de=>!de.disabled),V=document.activeElement,Z=B.find(de=>de.ref.current===V)?.textValue,X=B.map(de=>de.textValue),Q=LNe(X,F,Z),ce=B.find(de=>de.textValue===Q)?.ref.current;(function de(pe){T.current=pe,window.clearTimeout(P.current),pe!==""&&(P.current=window.setTimeout(()=>de(""),1e3))})(F),ce&&setTimeout(()=>ce.focus())};b.useEffect(()=>()=>window.clearTimeout(P.current),[]),U2();const K=b.useCallback(U=>I.current===D.current?.side&&BNe(U,D.current?.area),[]);return s.jsx(jNe,{scope:r,searchRef:T,onItemEnter:b.useCallback(U=>{K(U)&&U.preventDefault()},[K]),onItemLeave:b.useCallback(U=>{K(U)||(E.current?.focus(),k(null))},[K]),onTriggerLeave:b.useCallback(U=>{K(U)&&U.preventDefault()},[K]),pointerGraceTimerRef:O,onPointerGraceIntentChange:b.useCallback(U=>{D.current=U},[]),children:s.jsx(W,{...q,children:s.jsx(Mw,{asChild:!0,trapped:a,onMountAutoFocus:mt(i,U=>{U.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(rp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(A5,{asChild:!0,...j,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:mt(c,U=>{_.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(C2,{role:"menu","aria-orientation":"vertical","data-state":fre(v.open),"data-radix-menu-content":"",dir:_.dir,...w,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:mt(g.onKeyDown,U=>{const B=U.target.closest("[data-radix-menu-content]")===U.currentTarget,V=U.ctrlKey||U.altKey||U.metaKey,Z=U.key.length===1;B&&(U.key==="Tab"&&U.preventDefault(),!V&&Z&&G(U.key));const X=E.current;if(U.target!==X||!mNe.includes(U.key))return;U.preventDefault();const ce=C().filter(de=>!de.disabled).map(de=>de.ref.current);qte.includes(U.key)&&ce.reverse(),MNe(ce)}),onBlur:mt(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(P.current),T.current="")}),onPointerMove:mt(e.onPointerMove,gb(U=>{const F=U.target,B=L.current!==U.clientX;if(U.currentTarget.contains(F)&&B){const V=U.clientX>L.current?"right":"left";I.current=V,L.current=U.clientX}}))})})})})})})});Xte.displayName=$l;var CNe="MenuGroup",M5=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(At.div,{role:"group",...n,ref:t})});M5.displayName=CNe;var ENe="MenuLabel",Jte=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(At.div,{...n,ref:t})});Jte.displayName=ENe;var SN="MenuItem",HU="menu.itemSelect",W2=b.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=b.useRef(null),o=Bw(SN,e.__scopeMenu),l=R5(SN,e.__scopeMenu),c=tr(t,i),u=b.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(HU,{bubbles:!0,cancelable:!0});f.addEventListener(HU,p=>n?.(p),{once:!0}),NM(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Zte,{...a,ref:c,disabled:r,onClick:mt(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:mt(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:mt(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||WR.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});W2.displayName=SN;var Zte=b.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=R5(SN,r),l=Hte(r),c=b.useRef(null),u=tr(t,c),[d,f]=b.useState(!1),[m,p]=b.useState("");return b.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx(pb.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(P5,{asChild:!0,...l,focusable:!n,children:s.jsx(At.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:mt(e.onPointerMove,gb(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:mt(e.onPointerLeave,gb(y=>o.onItemLeave(y))),onFocus:mt(e.onFocus,()=>f(!0)),onBlur:mt(e.onBlur,()=>f(!1))})})})}),TNe="MenuCheckboxItem",Qte=b.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(sre,{scope:e.__scopeMenu,checked:r,children:s.jsx(W2,{role:"menuitemcheckbox","aria-checked":kN(r)?"mixed":r,...a,ref:t,"data-state":L5(r),onSelect:mt(a.onSelect,()=>n?.(kN(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Qte.displayName=TNe;var ere="MenuRadioGroup",[ANe,PNe]=ap(ere,{value:void 0,onValueChange:()=>{}}),tre=b.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ts(n);return s.jsx(ANe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(M5,{...a,ref:t})})});tre.displayName=ere;var rre="MenuRadioItem",nre=b.forwardRef((e,t)=>{const{value:r,...n}=e,a=PNe(rre,e.__scopeMenu),i=r===a.value;return s.jsx(sre,{scope:e.__scopeMenu,checked:i,children:s.jsx(W2,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":L5(i),onSelect:mt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});nre.displayName=rre;var F5="MenuItemIndicator",[sre,ONe]=ap(F5,{checked:!1}),are=b.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=ONe(F5,r);return s.jsx(fa,{present:n||kN(i.checked)||i.checked===!0,children:s.jsx(At.span,{...a,ref:t,"data-state":L5(i.checked)})})});are.displayName=F5;var DNe="MenuSeparator",ire=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(At.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ire.displayName=DNe;var RNe="MenuArrow",ore=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=q2(r);return s.jsx(E2,{...a,...n,ref:t})});ore.displayName=RNe;var INe="MenuSub",[Blt,lre]=ap(INe),Zv="MenuSubTrigger",cre=b.forwardRef((e,t)=>{const r=ip(Zv,e.__scopeMenu),n=Bw(Zv,e.__scopeMenu),a=lre(Zv,e.__scopeMenu),i=R5(Zv,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(O5,{asChild:!0,...u,children:s.jsx(Zte,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":fre(r.open),...e,ref:v2(t,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:mt(e.onPointerMove,gb(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:mt(e.onPointerLeave,gb(f=>{d();const m=r.content?.getBoundingClientRect();if(m){const p=r.content?.dataset.side,y=p==="right",g=y?-5:5,v=m[y?"left":"right"],_=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:v,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:mt(e.onKeyDown,f=>{const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||pNe[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});cre.displayName=Zv;var ure="MenuSubContent",dre=b.forwardRef((e,t)=>{const r=Kte($l,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=ip($l,e.__scopeMenu),o=Bw($l,e.__scopeMenu),l=lre(ure,e.__scopeMenu),c=b.useRef(null),u=tr(t,c);return s.jsx(pb.Provider,{scope:e.__scopeMenu,children:s.jsx(fa,{present:n||i.open,children:s.jsx(pb.Slot,{scope:e.__scopeMenu,children:s.jsx(I5,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:mt(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:mt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:mt(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=gNe[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});dre.displayName=ure;function fre(e){return e?"open":"closed"}function kN(e){return e==="indeterminate"}function L5(e){return kN(e)?"indeterminate":e?"checked":"unchecked"}function MNe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function FNe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function LNe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=FNe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function $Ne(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function BNe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $Ne(r,t)}function gb(e){return t=>t.pointerType==="mouse"?e(t):void 0}var UNe=Gte,VNe=O5,zNe=Yte,qNe=Xte,WNe=M5,HNe=Jte,GNe=W2,KNe=Qte,YNe=tre,XNe=nre,JNe=are,ZNe=ire,QNe=ore,eSe=cre,tSe=dre,H2="DropdownMenu",[rSe]=Is(H2,[Wte]),Zi=Wte(),[nSe,hre]=rSe(H2),mre=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Zi(t),u=b.useRef(null),[d,f]=Pi({prop:a,defaultProp:i??!1,onChange:o,caller:H2});return s.jsx(nSe,{scope:t,triggerId:xo(),triggerRef:u,contentId:xo(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(UNe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};mre.displayName=H2;var pre="DropdownMenuTrigger",gre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=hre(pre,r),o=Zi(r);return s.jsx(VNe,{asChild:!0,...o,children:s.jsx(At.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:v2(t,i.triggerRef),onPointerDown:mt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:mt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});gre.displayName=pre;var sSe="DropdownMenuPortal",xre=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Zi(t);return s.jsx(zNe,{...n,...r})};xre.displayName=sSe;var vre="DropdownMenuContent",yre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hre(vre,r),i=Zi(r),o=b.useRef(!1);return s.jsx(qNe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:mt(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:mt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yre.displayName=vre;var aSe="DropdownMenuGroup",iSe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(WNe,{...a,...n,ref:t})});iSe.displayName=aSe;var oSe="DropdownMenuLabel",bre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(HNe,{...a,...n,ref:t})});bre.displayName=oSe;var lSe="DropdownMenuItem",wre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(GNe,{...a,...n,ref:t})});wre.displayName=lSe;var cSe="DropdownMenuCheckboxItem",_re=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(KNe,{...a,...n,ref:t})});_re.displayName=cSe;var uSe="DropdownMenuRadioGroup",dSe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(YNe,{...a,...n,ref:t})});dSe.displayName=uSe;var fSe="DropdownMenuRadioItem",jre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(XNe,{...a,...n,ref:t})});jre.displayName=fSe;var hSe="DropdownMenuItemIndicator",Nre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(JNe,{...a,...n,ref:t})});Nre.displayName=hSe;var mSe="DropdownMenuSeparator",Sre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(ZNe,{...a,...n,ref:t})});Sre.displayName=mSe;var pSe="DropdownMenuArrow",gSe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(QNe,{...a,...n,ref:t})});gSe.displayName=pSe;var xSe="DropdownMenuSubTrigger",kre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(eSe,{...a,...n,ref:t})});kre.displayName=xSe;var vSe="DropdownMenuSubContent",Cre=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zi(r);return s.jsx(tSe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cre.displayName=vSe;var ySe=mre,bSe=gre,wSe=xre,Ere=yre,Tre=bre,Are=wre,Pre=_re,Ore=jre,Dre=Nre,Rre=Sre,Ire=kre,Mre=Cre;const vu=ySe,yu=bSe,_Se=b.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(Ire,{ref:a,className:ft("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Cf,{className:"ml-auto h-4 w-4"})]}));_Se.displayName=Ire.displayName;const jSe=b.forwardRef(({className:e,...t},r)=>s.jsx(Mre,{ref:r,className:ft("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));jSe.displayName=Mre.displayName;const Ec=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(wSe,{children:s.jsx(Ere,{ref:n,sideOffset:t,className:ft("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ec.displayName=Ere.displayName;const _n=b.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Are,{ref:n,className:ft("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));_n.displayName=Are.displayName;const NSe=b.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(Pre,{ref:a,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dre,{children:s.jsx(rn,{className:"h-4 w-4"})})}),t]}));NSe.displayName=Pre.displayName;const SSe=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ore,{ref:n,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dre,{children:s.jsx(RZ,{className:"h-2 w-2 fill-current"})})}),t]}));SSe.displayName=Ore.displayName;const kSe=b.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Tre,{ref:n,className:ft("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));kSe.displayName=Tre.displayName;const op=b.forwardRef(({className:e,...t},r)=>s.jsx(Rre,{ref:r,className:ft("-mx-1 my-1 h-px bg-muted",e),...t}));op.displayName=Rre.displayName;function li(){const{setTheme:e}=eQ();return s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"icon",className:"transition-all duration-300 hover:scale-110 hover:rotate-12",children:[s.jsx(c9,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(a9,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(Ec,{align:"end",children:[s.jsxs(_n,{onClick:()=>e("light"),children:[s.jsx(c9,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"})]}),s.jsxs(_n,{onClick:()=>e("dark"),children:[s.jsx(a9,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"})]}),s.jsxs(_n,{onClick:()=>e("system"),children:[s.jsx("span",{className:"mr-2 h-4 w-4",children:""}),s.jsx("span",{children:"System"})]})]})]})}const Om=({size:e=40,showBackground:t=!0,className:r=""})=>s.jsx("div",{className:`${t?"bg-blue-600 rounded-lg p-2":""} inline-flex items-center justify-center ${r}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.50",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:[s.jsx("path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5"}),s.jsx("path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244"}),s.jsx("path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05"})]})});var G2="Dialog",[Fre,Lre]=Is(G2),[CSe,Tc]=Fre(G2),$re=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u,d]=Pi({prop:n,defaultProp:a??!1,onChange:i,caller:G2});return s.jsx(CSe,{scope:t,triggerRef:l,contentRef:c,contentId:xo(),titleId:xo(),descriptionId:xo(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};$re.displayName=G2;var Bre="DialogTrigger",Ure=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Tc(Bre,r),i=tr(t,a.triggerRef);return s.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":U5(a.open),...n,ref:i,onClick:mt(e.onClick,a.onOpenToggle)})});Ure.displayName=Bre;var $5="DialogPortal",[ESe,Vre]=Fre($5,{forceMount:void 0}),zre=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Tc($5,t);return s.jsx(ESe,{scope:t,forceMount:r,children:b.Children.map(n,o=>s.jsx(fa,{present:r||i.open,children:s.jsx(lx,{asChild:!0,container:a,children:o})}))})};zre.displayName=$5;var CN="DialogOverlay",qre=b.forwardRef((e,t)=>{const r=Vre(CN,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Tc(CN,e.__scopeDialog);return i.modal?s.jsx(fa,{present:n||i.open,children:s.jsx(ASe,{...a,ref:t})}):null});qre.displayName=CN;var TSe=kf("DialogOverlay.RemoveScroll"),ASe=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Tc(CN,r);return s.jsx(Lw,{as:TSe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(At.div,{"data-state":U5(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Dm="DialogContent",Wre=b.forwardRef((e,t)=>{const r=Vre(Dm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Tc(Dm,e.__scopeDialog);return s.jsx(fa,{present:n||i.open,children:i.modal?s.jsx(PSe,{...a,ref:t}):s.jsx(OSe,{...a,ref:t})})});Wre.displayName=Dm;var PSe=b.forwardRef((e,t)=>{const r=Tc(Dm,e.__scopeDialog),n=b.useRef(null),a=tr(t,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return V2(i)},[]),s.jsx(Hre,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:mt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:mt(e.onFocusOutside,i=>i.preventDefault())})}),OSe=b.forwardRef((e,t)=>{const r=Tc(Dm,e.__scopeDialog),n=b.useRef(!1),a=b.useRef(!1);return s.jsx(Hre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Hre=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Tc(Dm,r),c=b.useRef(null),u=tr(t,c);return U2(),s.jsxs(s.Fragment,{children:[s.jsx(Mw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(rp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":U5(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(RSe,{titleId:l.titleId}),s.jsx(MSe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),B5="DialogTitle",Gre=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Tc(B5,r);return s.jsx(At.h2,{id:a.titleId,...n,ref:t})});Gre.displayName=B5;var Kre="DialogDescription",Yre=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Tc(Kre,r);return s.jsx(At.p,{id:a.descriptionId,...n,ref:t})});Yre.displayName=Kre;var Xre="DialogClose",Jre=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Tc(Xre,r);return s.jsx(At.button,{type:"button",...n,ref:t,onClick:mt(e.onClick,()=>a.onOpenChange(!1))})});Jre.displayName=Xre;function U5(e){return e?"open":"closed"}var Zre="DialogTitleWarning",[DSe,Qre]=Kge(Zre,{contentName:Dm,titleName:B5,docsSlug:"dialog"}),RSe=({titleId:e})=>{const t=Qre(Zre),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ISe="DialogDescriptionWarning",MSe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qre(ISe).contentName}}.`;return b.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},V5=$re,ene=Ure,z5=zre,Uw=qre,Vw=Wre,zw=Gre,qw=Yre,K2=Jre;const FSe=V5,LSe=ene,$Se=z5,tne=b.forwardRef(({className:e,...t},r)=>s.jsx(Uw,{className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tne.displayName=Uw.displayName;const BSe=cx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),rne=b.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs($Se,{children:[s.jsx(tne,{}),s.jsxs(Vw,{ref:a,className:ft(BSe({side:e}),t),...n,children:[r,s.jsxs(K2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Aa,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rne.displayName=Vw.displayName;const nne=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",e),...t});nne.displayName="SheetHeader";const sne=b.forwardRef(({className:e,...t},r)=>s.jsx(zw,{ref:r,className:ft("text-lg font-semibold text-foreground",e),...t}));sne.displayName=zw.displayName;const USe=b.forwardRef(({className:e,...t},r)=>s.jsx(qw,{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));USe.displayName=qw.displayName;const VSe=()=>{const[e,t]=b.useState(!1),{heroRef:r,featuresRef:n,stepsRef:a}=lje(),i=[{icon:FZ,title:"Free Subdomain",description:"Get your own professional subdomain instantly. Launch your store without any domain costs.",gradient:"from-blue-500 to-cyan-500",size:"normal"},{icon:qv,title:"Banner & Carousel",description:"Showcase offers with stunning banners and auto-rotating carousels that grab attention.",gradient:"from-purple-500 to-pink-500",size:"normal"},{icon:PM,title:"Product Videos",description:"Engage customers with high-quality product videos that boost conversions.",gradient:"from-rose-500 to-orange-500",size:"normal"},{icon:cm,title:"WhatsApp Orders",description:"Receive orders directly on WhatsApp. Chat with customers in real-time instantly.",gradient:"from-green-500 to-emerald-500",size:"normal"},{icon:Un,title:"Online Payments",description:"Accept direct payments online with secure, trusted payment gateways.",gradient:"from-indigo-500 to-blue-500",size:"normal"},{icon:tl,title:"SEO & Indexing",description:"Get found on Google with built-in SEO optimization and automatic indexing.",gradient:"from-yellow-500 to-orange-500",size:"normal"},{icon:w2,title:"Instagram Auto-Reply",description:"Never miss a customer inquiry with intelligent Instagram auto-reply features.",gradient:"from-pink-500 to-rose-500",size:"normal"},{icon:Xi,title:"Google Reviews",description:"Display authentic Google Reviews on your site to build trust and credibility.",gradient:"from-amber-500 to-yellow-500",size:"normal"},{icon:ki,title:"Advanced CRM",description:"Manage customer relationships with powerful CRM tools for growth.",gradient:"from-teal-500 to-cyan-500",size:"normal"},{icon:V0e,title:"Stock Management",description:"Track inventory in real-time. Never oversell with smart stock alerts.",gradient:"from-violet-500 to-purple-500",size:"normal"},{icon:Ml,title:"Instagram Videos",description:"Embed Instagram videos directly on your website for better engagement.",gradient:"from-fuchsia-500 to-pink-500",size:"normal"},{icon:q0e,title:"Business Analytics",description:"Advanced insights into sales, customers, and trends. Make data-driven decisions.",gradient:"from-emerald-500 to-teal-500",size:"normal"},{icon:G0e,title:"Order Management",description:"Streamline order processing from checkout to delivery with ease.",gradient:"from-sky-500 to-blue-500",size:"normal"}],o=[{number:"01",title:"Sign Up",description:"Create your account in seconds with Google"},{number:"02",title:"Add Products",description:"Build your product catalog easily"},{number:"03",title:"Customize",description:"Brand your store with colors and logo"},{number:"04",title:"Go Live",description:"Share your store link and start selling"}],l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"DigitalDukandar",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR",description:"Free 14-day trial, no credit card required"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"10000",bestRating:"5",worstRating:"1"},description:"Create your online store in minutes. Launch a professional e-commerce website with custom subdomain, WhatsApp integration, and powerful analytics. No coding required.",url:"https://digitaldukandar.in",image:"https://digitaldukandar.in/logo.png",provider:{"@type":"Organization",name:"DigitalDukandar",url:"https://digitaldukandar.in"}};return s.jsxs("div",{className:"min-h-screen bg-background font-inter",children:[s.jsxs(n5,{children:[s.jsx("title",{children:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"title",content:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"description",content:"Launch your professional online store in 5 minutes. Get free subdomain, WhatsApp integration, inventory management & analytics. No coding needed. Trusted by 10,000+ Indian entrepreneurs. Start free trial!"}),s.jsx("meta",{name:"keywords",content:"online store builder India, create online store, e-commerce platform India, free online store, sell online India, WhatsApp store, digital store maker, small business e-commerce, Indian online shopping platform, store builder no coding"}),s.jsx("link",{rel:"canonical",href:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{property:"og:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{property:"og:site_name",content:"DigitalDukandar"}),s.jsx("meta",{property:"og:locale",content:"en_IN"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{name:"twitter:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{name:"twitter:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),s.jsx("meta",{name:"googlebot",content:"index, follow"}),s.jsx("meta",{name:"language",content:"English"}),s.jsx("meta",{name:"geo.region",content:"IN"}),s.jsx("meta",{name:"geo.placename",content:"India"}),s.jsx("link",{rel:"sitemap",type:"application/xml",href:"/sitemap.xml"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(l)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8 h-16 sm:h-20 flex items-center justify-between gap-2",children:[s.jsxs(Tt,{to:"/",className:"flex items-center gap-3 sm:gap-4 group flex-shrink-0","aria-label":"DigitalDukandar Home",children:[s.jsx(Om,{size:40,className:"transition-transform group-hover:scale-105"}),s.jsx("span",{className:"font-playfair font-bold text-2xl sm:text-3xl md:text-4xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#features",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),s.jsx(Tt,{to:"/pricing",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(Tt,{to:"/demo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Demo Store"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[s.jsx(li,{}),s.jsxs(FSe,{open:e,onOpenChange:t,children:[s.jsx(LSe,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"icon",className:"md:hidden h-11 w-11 min-h-[44px]","aria-label":"Open menu","aria-expanded":e,children:s.jsx(TM,{className:"h-5 w-5"})})}),s.jsxs(rne,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsx(nne,{children:s.jsxs(sne,{className:"flex items-center gap-2",children:[s.jsx(zv,{className:"w-5 h-5 text-primary"}),"Menu"]})}),s.jsxs("nav",{className:"flex flex-col gap-4 mt-8","aria-label":"Mobile navigation",children:[s.jsx("a",{href:"#features",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"How It Works"}),s.jsx(Tt,{to:"/pricing",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"For Helpers"}),s.jsx(Tt,{to:"/demo",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Demo Store"}),s.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[s.jsx(Tt,{to:"/auth",className:"w-full",children:s.jsx(ae,{variant:"outline",size:"lg",className:"w-full h-12 min-h-[48px]",children:"Login"})}),s.jsx(Tt,{to:"/auth",className:"w-full",children:s.jsxs(ae,{size:"lg",className:"w-full h-12 min-h-[48px]",children:["Get Started Free",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]})]})]})]}),s.jsx(Tt,{to:"/auth",className:"hidden md:inline-block",children:s.jsx(ae,{variant:"ghost",size:"sm",className:"font-medium h-11 px-4 text-sm min-h-[44px]",children:"Login"})}),s.jsx(Tt,{to:"/auth",className:"hidden md:inline-block",children:s.jsxs(ae,{size:"sm",className:"shadow-lg hover:shadow-xl transition-all font-medium h-11 px-4 text-sm min-h-[44px]",children:["Get Started Free",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsxs("section",{ref:r,className:"relative overflow-hidden bg-gradient-to-b from-background via-primary/[0.02] to-background",children:[s.jsx(cje,{}),s.jsx(IT,{color:"blue",size:"lg",position:{top:"-20%",right:"-10%"}}),s.jsx(IT,{color:"purple",size:"md",position:{bottom:"-15%",left:"-5%"}}),s.jsx(IT,{color:"pink",size:"md",position:{top:"30%",left:"50%"}}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"hero-decorative absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"hero-decorative absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8 py-24 lg:py-36",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsxs("div",{className:"hero-badge inline-flex items-center gap-2 bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 text-primary px-5 py-2.5 rounded-full text-sm font-semibold mb-8 shadow-lg backdrop-blur-sm",children:[s.jsx(Xi,{className:"w-4 h-4 fill-primary"}),"Trusted by 10,000+ Entrepreneurs Worldwide",s.jsx(UZ,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"hero-heading mb-6",children:[s.jsx(IU,{text:"Free Online Store India",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-foreground leading-[1.1]",delay:.3}),s.jsx(IU,{text:"Launch in 5 Minutes",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold leading-[1.1] mt-2 bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent bg-[length:200%_100%] animate-gradient",delay:.6,gradient:!0})]}),s.jsx("p",{className:"hero-subheading text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed font-light",children:"Create your professional online store builder for small business India. Sell online with WhatsApp integration, custom domain, and powerful inventory management. No coding required - start your free e-commerce platform today!"}),s.jsxs("div",{className:"hero-cta flex flex-col sm:flex-row gap-5 justify-center items-center mb-12",children:[s.jsx(Tt,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl hover:shadow-primary/25 transition-all group font-semibold",children:[s.jsx(zv,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Start Building Free"]})}),s.jsx(Tt,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(km,{className:"w-5 h-5 mr-2"}),"Explore Demo Store",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"hero-trust flex flex-wrap justify-center items-center gap-8 text-sm font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(rn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"No credit card required"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(rn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Setup in 5 minutes"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(rn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Cancel anytime"})]})]}),s.jsxs("div",{className:"mt-16 flex justify-center items-center gap-3 text-sm text-muted-foreground animate-in fade-in duration-700 delay-700",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(c=>s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-background flex items-center justify-center",children:s.jsx(X0e,{className:"w-4 h-4 text-primary"})},c))}),s.jsx("span",{className:"font-medium",children:"Join thousands of successful store owners"})]})]})})]}),s.jsx("section",{ref:n,id:"features",className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Premium Features"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Unique & Powerful Features"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Powerful features designed to help you launch, manage, and grow your online business with elegance and ease."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:i.map((c,u)=>s.jsxs(Ce,{className:"feature-card relative p-6 lg:p-8 hover:shadow-2xl transition-all duration-700 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden hover:-translate-y-2 hover:scale-[1.02]",style:{animationDelay:`${u*50}ms`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-5 transition-all duration-700`}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-15 blur-xl transition-all duration-700`}),s.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 bg-gradient-to-br ${c.gradient} opacity-5 rounded-bl-[100px] group-hover:opacity-10 transition-opacity duration-500`}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsx("div",{className:"mb-4 lg:mb-6",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} rounded-2xl blur-sm opacity-20 group-hover:blur-md group-hover:opacity-30 transition-all duration-500`}),s.jsx("div",{className:`relative w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br ${c.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-2xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500`,children:s.jsx(c.icon,{className:"w-7 h-7 lg:w-8 lg:h-8 text-white"})})]})}),s.jsx("h3",{className:"font-bold mb-2 lg:mb-3 text-foreground transition-all duration-300 text-lg lg:text-xl",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed flex-grow text-sm lg:text-base",children:c.description}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0",children:[s.jsx("span",{className:`bg-gradient-to-br ${c.gradient} bg-clip-text text-transparent`,children:"Learn more"}),s.jsx(ua,{className:`w-4 h-4 bg-gradient-to-br ${c.gradient} text-transparent group-hover:translate-x-1 transition-transform duration-300`,style:{background:"linear-gradient(to bottom right, currentColor, currentColor)",WebkitBackgroundClip:"text"}})]})]})]},u))})]})}),s.jsx("section",{ref:a,id:"how-it-works",className:"relative bg-gradient-to-b from-muted/30 via-muted/20 to-background py-24 lg:py-32",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Simple Process"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"How It Works"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Launch your luxury online store in four elegant steps"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-6",children:o.map((c,u)=>s.jsxs("div",{className:"step-card relative",children:[s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-3xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-primary via-primary to-primary/80 border-2 border-primary/30 rounded-3xl flex items-center justify-center shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300",children:s.jsx("span",{className:"font-playfair font-bold text-3xl text-primary-foreground",children:c.number})})]}),s.jsx("h3",{className:"font-playfair font-bold text-2xl mb-3 text-foreground",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description})]}),u<o.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-10 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-primary/40 via-primary/20 to-transparent"})]},u))})]})})}),s.jsxs("section",{id:"helper-program",className:"relative bg-gradient-to-b from-background via-green-500/5 to-background py-24 lg:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-green-500/10 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Helper Program"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Earn While Helping Others Succeed"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Join our helper program and earn generous commissions by helping store owners build their online businesses"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[s.jsxs(Ce,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-emerald-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(ri,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Earn Commission"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Get 10% direct commission + 5% network commission on every successful store signup"})]})]}),s.jsxs(Ce,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(ki,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Build Your Network"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Recruit other helpers and earn from their referrals too. Create passive income streams"})]})]}),s.jsxs(Ce,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(_2,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Flexible Work"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Work on your own schedule. Help businesses online from anywhere in the world"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center",children:[s.jsx(Tt,{to:"/become-helper",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 transition-all group font-semibold",children:[s.jsx(VZ,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Apply to Become a Helper"]})}),s.jsx(Tt,{to:"/application-status",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(Qf,{className:"w-5 h-5 mr-2"}),"Check Application Status"]})})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already a helper? ",s.jsx(Tt,{to:"/helper/login",className:"text-primary font-semibold hover:underline",children:"Login here"})]})})]})})]}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32 bg-muted/20",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Why DigitalDukandar is the Best Free Online Store Builder in India"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Trusted by over 10,000+ small businesses across India to sell online and grow their digital presence"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Built for Indian Entrepreneurs"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"e-commerce platform India"})," is designed specifically for local businesses. Accept payments in INR, integrate WhatsApp for customer communication, and reach customers across India with our ",s.jsx("strong",{children:"online store builder"})," made for the Indian market."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Completely Free to Start"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Start your ",s.jsx("strong",{children:"free online store"})," with our 14-day trial - no credit card required. Our ",s.jsx("strong",{children:"affordable pricing plans"})," start from just 299/month, making it the most cost-effective way to ",s.jsx("strong",{children:"sell online India"})," for small businesses."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" WhatsApp Store Integration"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Convert your business into a ",s.jsx("strong",{children:"WhatsApp store"})," instantly. Accept orders directly through WhatsApp - India's most popular messaging app. Perfect for ",s.jsx("strong",{children:"small business e-commerce"})," owners who want to meet customers where they are."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" No Coding Required"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"digital store maker"})," requires zero technical knowledge. Create a professional ",s.jsx("strong",{children:"online shopping website"})," in minutes with our easy drag-and-drop interface. Perfect for ",s.jsx("strong",{children:"store builder no coding"})," solutions in India."]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-10 rounded-2xl border border-primary/20 text-center",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold mb-4 text-foreground",children:"Start Your Free Online Store in India Today"}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:["Join 10,000+ successful Indian entrepreneurs using DigitalDukandar as their ",s.jsx("strong",{children:"e-commerce platform India"}),". Create your ",s.jsx("strong",{children:"online store builder for small business India"})," in just 5 minutes."]}),s.jsx(Tt,{to:"/auth",children:s.jsxs(ae,{size:"lg",className:"h-14 px-10 text-base font-semibold shadow-xl",children:[s.jsx(zv,{className:"w-5 h-5 mr-2"}),"Create Free Online Store Now",s.jsx(ua,{className:"w-5 h-5 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(Ce,{className:"relative overflow-hidden border-0 shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary/90"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),s.jsxs("div",{className:"relative p-10 lg:p-20 text-center text-primary-foreground",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Fl,{className:"w-16 h-16 mx-auto text-primary-foreground/90"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Ready to Launch Your Store?"}),s.jsx("p",{className:"text-xl md:text-2xl mb-10 opacity-95 max-w-3xl mx-auto leading-relaxed font-light",children:"Join thousands of successful entrepreneurs. Create your professional online store today and start selling in minutes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center mb-8",children:[s.jsx(Tt,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"secondary",className:"w-full sm:w-auto h-14 shadow-2xl hover:shadow-primary-foreground/20 text-base px-10 font-semibold",children:[s.jsx(zv,{className:"w-5 h-5 mr-2"}),"Start Building Free",s.jsx(ua,{className:"w-5 h-5 ml-2"})]})}),s.jsx(Tt,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 bg-white/10 hover:bg-white/20 border-2 border-white/30 text-white text-base px-10 font-semibold backdrop-blur-sm",children:[s.jsx(km,{className:"w-5 h-5 mr-2"}),"View Demo Store"]})})]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm font-medium opacity-90",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{children:"No credit card required"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{children:"Free 14-day trial"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel anytime"})]})]})]})]})})}),s.jsx("footer",{className:"border-t border-border/50 bg-gradient-to-b from-background to-muted/20",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Om,{size:32}),s.jsx("span",{className:"font-playfair font-bold text-xl sm:text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm font-medium text-muted-foreground",children:[s.jsx(Tt,{to:"/home",className:"hover:text-foreground transition-colors",children:"Demo Store"}),s.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"}),s.jsx(Tt,{to:"/pricing",className:"hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#how-it-works",className:"hover:text-foreground transition-colors",children:"How It Works"}),s.jsx("a",{href:"#helper-program",className:"hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(Tt,{to:"/become-helper",className:"hover:text-foreground transition-colors",children:"Apply as Helper"}),s.jsx(Tt,{to:"/application-status",className:"hover:text-foreground transition-colors",children:"Check Status"}),s.jsx(Tt,{to:"/privacy-policy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),s.jsx(Tt,{to:"/terms-of-service",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"/sitemap.xml",className:"hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Sitemap"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 StoreBuilder. All rights reserved."})]})})})]})},GU=()=>{const e=xu();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},zSe="modulepreload",qSe=function(e){return"/"+e},KU={},lp=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(r.map(d=>{if(d=qSe(d),d in KU)return;KU[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":zSe,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},WSe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>lp(async()=>{const{default:n}=await Promise.resolve().then(()=>xx);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class q5 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class YU extends q5{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class XU extends q5{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class JU extends q5{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var HR;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(HR||(HR={}));var HSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class GSe{constructor(t,{headers:r={},customFetch:n,region:a=HR.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=WSe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return HSe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(_=>{throw _.name==="AbortError"?_:new YU(_)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new XU(p);if(!p.ok)throw new JU(p);let g=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new YU(i)}:{data:null,error:i,response:i instanceof JU||i instanceof XU?i.context:void 0}}})}}var Ma={},Jp={},Zp={},Qp={},eg={},tg={},KSe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},w0=KSe();const YSe=w0.fetch,ane=w0.fetch.bind(w0),ine=w0.Headers,XSe=w0.Request,JSe=w0.Response,xx=Object.freeze(Object.defineProperty({__proto__:null,Headers:ine,Request:XSe,Response:JSe,default:ane,fetch:YSe},Symbol.toStringTag,{value:"Module"})),ZSe=Ige(xx);var Y_={},ZU;function one(){if(ZU)return Y_;ZU=1,Object.defineProperty(Y_,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Y_.default=e,Y_}var QU;function lne(){if(QU)return tg;QU=1;var e=tg&&tg.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(tg,"__esModule",{value:!0});const t=e(ZSe),r=e(one());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,p;let y=null,g=null,v=null,_=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=k:g=JSON.parse(k))}const C=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(y={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,_=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const C=await u.text();try{y=JSON.parse(C),Array.isArray(y)&&u.status===404&&(g=[],y=null,_=200,w="OK")}catch{u.status===404&&C===""?(_=204,w="No Content"):y={message:C}}if(y&&this.isMaybeSingle&&(!((p=y?.details)===null||p===void 0)&&p.includes("0 rows"))&&(y=null,_=200,w="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:g,count:v,status:_,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return tg.default=n,tg}var e7;function cne(){if(e7)return eg;e7=1;var e=eg&&eg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eg,"__esModule",{value:!0});const t=e(lne());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return eg.default=r,eg}var t7;function W5(){if(t7)return Qp;t7=1;var e=Qp&&Qp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qp,"__esModule",{value:!0});const t=e(cne());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Qp.default=r,Qp}var r7;function une(){if(r7)return Zp;r7=1;var e=Zp&&Zp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zp,"__esModule",{value:!0});const t=e(W5());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Zp.default=r,Zp}var n7;function QSe(){if(n7)return Jp;n7=1;var e=Jp&&Jp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Jp,"__esModule",{value:!0});const t=e(une()),r=e(W5());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(f="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Jp.default=n,Jp}var s7;function e2e(){if(s7)return Ma;s7=1;var e=Ma&&Ma.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.PostgrestError=Ma.PostgrestBuilder=Ma.PostgrestTransformBuilder=Ma.PostgrestFilterBuilder=Ma.PostgrestQueryBuilder=Ma.PostgrestClient=void 0;const t=e(QSe());Ma.PostgrestClient=t.default;const r=e(une());Ma.PostgrestQueryBuilder=r.default;const n=e(W5());Ma.PostgrestFilterBuilder=n.default;const a=e(cne());Ma.PostgrestTransformBuilder=a.default;const i=e(lne());Ma.PostgrestBuilder=i.default;const o=e(one());return Ma.PostgrestError=o.default,Ma.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ma}var t2e=e2e();const r2e=on(t2e),{PostgrestClient:n2e,PostgrestQueryBuilder:Ult,PostgrestFilterBuilder:Vlt,PostgrestTransformBuilder:zlt,PostgrestBuilder:qlt,PostgrestError:Wlt}=r2e;class s2e{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const a2e="2.75.0",i2e=`realtime-js/${a2e}`,o2e="1.0.0",GR=1e4,l2e=1e3,c2e=100;var ky;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ky||(ky={}));var va;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(va||(va={}));var oc;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oc||(oc={}));var KR;(function(e){e.websocket="websocket"})(KR||(KR={}));var Hh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hh||(Hh={}));class u2e{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class dne{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Kn||(Kn={}));const a7=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=d2e(o,e,t,a),i),{}):{}},d2e=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?fne(i,o):YR(o)},fne=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return p2e(t,r)}switch(e){case Kn.bool:return f2e(t);case Kn.float4:case Kn.float8:case Kn.int2:case Kn.int4:case Kn.int8:case Kn.numeric:case Kn.oid:return h2e(t);case Kn.json:case Kn.jsonb:return m2e(t);case Kn.timestamp:return g2e(t);case Kn.abstime:case Kn.date:case Kn.daterange:case Kn.int4range:case Kn.int8range:case Kn.money:case Kn.reltime:case Kn.text:case Kn.time:case Kn.timestamptz:case Kn.timetz:case Kn.tsrange:case Kn.tstzrange:return YR(t);default:return YR(t)}},YR=e=>e,f2e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},h2e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},m2e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},p2e=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>fne(t,l))}return e},g2e=e=>typeof e=="string"?e.replace(" ","T"):e,hne=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class qT{constructor(t,r,n={},a=GR){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var i7;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(i7||(i7={}));class Cy{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cy.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Cy.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Cy.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var o7;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(o7||(o7={}));var Ey;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ey||(Ey={}));var Fu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fu||(Fu={}));class H5{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=va.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qT(this,oc.join,this.params,this.timeout),this.rejoinTimer=new dne(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=va.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=va.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oc.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Cy(this),this.broadcastEndpointURL=hne(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==va.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Ey.PRESENCE]&&this.bindings[Ey.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(Fu.CHANNEL_ERROR,p)),this._onClose(()=>t?.(Fu.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t?.(Fu.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,_=[];for(let w=0;w<v;w++){const j=g[w],{filter:{event:C,schema:S,table:k,filter:E}}=j,R=p&&p[w];if(R&&R.event===C&&R.schema===S&&R.table===k&&R.filter===E)_.push(Object.assign(Object.assign({},j),{id:R.id}));else{this.unsubscribe(),this.state=va.errored,t?.(Fu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Fu.SUBSCRIBED);return}}).receive("error",p=>{this.state=va.errored,t?.(Fu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(Fu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===va.joined&&t===Ey.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=va.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oc.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new qT(this,oc.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=va.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new qT(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>c2e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oc;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,g,v,_,w,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return C&&((g=r.ids)===null||g===void 0?void 0:g.includes(C))&&(S==="*"||S?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const C=(w=(_=p?.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return C==="*"||C===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:g,table:v,commit_timestamp:_,type:w,errors:j}=y;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:_,eventType:w,new:{},old:{},errors:j}),this._getPayloadRecords(y))}p.callback(m,n)})}_isClosed(){return this.state===va.closed}_isJoined(){return this.state===va.joined}_isJoining(){return this.state===va.joining}_isLeaving(){return this.state===va.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&H5.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oc.close,{},t)}_onError(t){this._on(oc.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=va.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=a7(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=a7(t.columns,t.old_record)),r}}const WT=()=>{},X_={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x2e=[1e3,2e3,5e3,1e4],v2e=1e4,y2e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b2e{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=GR,this.transport=null,this.heartbeatIntervalMs=X_.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=WT,this.ref=0,this.reconnectTimer=null,this.logger=WT,this.conn=null,this.sendBuffer=[],this.serializer=new u2e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>lp(async()=>{const{default:l}=await Promise.resolve().then(()=>xx);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${KR.websocket}`,this.httpEndpoint=hne(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s2e.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o2e}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ky.connecting:return Hh.Connecting;case ky.open:return Hh.Open;case ky.closing:return Hh.Closing;default:return Hh.Closed}}isConnected(){return this.connectionState()===Hh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new H5(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(l2e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},X_.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(oc.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([y2e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:i2e};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(oc.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dne(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},X_.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:GR,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:X_.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:WT,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(f=>x2e[f-1]||v2e),this.encode=(u=t?.encode)!==null&&u!==void 0?u:((f,m)=>m(JSON.stringify(f))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class G5 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function aa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w2e extends G5{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class XR extends G5{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var _2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mne=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>lp(async()=>{const{default:n}=await Promise.resolve().then(()=>xx);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},j2e=()=>_2e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lp(()=>Promise.resolve().then(()=>xx),void 0)).Response:Response}),JR=e=>{if(Array.isArray(e))return e.map(r=>JR(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=JR(n)}),t},N2e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var cp=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const HT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),S2e=(e,t,r)=>cp(void 0,void 0,void 0,function*(){const n=yield j2e();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new w2e(HT(a),i,o))}).catch(a=>{t(new XR(HT(a),a))}):t(new XR(HT(e),e))}),k2e=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(N2e(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Ww(e,t,r,n,a,i){return cp(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,k2e(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>S2e(c,l,n))})})}function EN(e,t,r,n){return cp(this,void 0,void 0,function*(){return Ww(e,"GET",t,r,n)})}function Bc(e,t,r,n,a){return cp(this,void 0,void 0,function*(){return Ww(e,"POST",t,n,a,r)})}function ZR(e,t,r,n,a){return cp(this,void 0,void 0,function*(){return Ww(e,"PUT",t,n,a,r)})}function C2e(e,t,r,n){return cp(this,void 0,void 0,function*(){return Ww(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function pne(e,t,r,n,a){return cp(this,void 0,void 0,function*(){return Ww(e,"DELETE",t,n,a,r)})}var E2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class T2e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return E2e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(aa(t))return{data:null,error:t};throw t}})}}var A2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class P2e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new T2e(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return A2e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(aa(t))return{data:null,error:t};throw t}})}}var io=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const O2e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},l7={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D2e{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=mne(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return io(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},l7),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ZR:Bc)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(aa(i))return{data:null,error:i};throw i}})}upload(t,r,n){return io(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return io(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:l7.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ZR(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(aa(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return io(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Bc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new G5("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(aa(n))return{data:null,error:n};throw n}})}update(t,r,n){return io(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return io(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(aa(a))return{data:null,error:a};throw a}})}copy(t,r,n){return io(this,void 0,void 0,function*(){try{return{data:{path:(yield Bc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(aa(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return io(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Bc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(aa(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return io(this,void 0,void 0,function*(){try{const a=yield Bc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(aa(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>EN(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new P2e(c,this.shouldThrowOnError)}info(t){return io(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield EN(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:JR(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(aa(n))return{data:null,error:n};throw n}})}exists(t){return io(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield C2e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(aa(n)&&n instanceof XR){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return io(this,void 0,void 0,function*(){try{return{data:yield pne(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}list(t,r,n){return io(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},O2e),r),{prefix:t||""});return{data:yield Bc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(aa(a))return{data:null,error:a};throw a}})}listV2(t,r){return io(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Bc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(aa(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const R2e="2.75.0",I2e={"X-Client-Info":`storage-js/${R2e}`};var rg=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class M2e{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I2e),r),this.fetch=mne(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return rg(this,void 0,void 0,function*(){try{return{data:yield EN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(aa(t))return{data:null,error:t};throw t}})}getBucket(t){return rg(this,void 0,void 0,function*(){try{return{data:yield EN(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}createBucket(t){return rg(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Bc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(aa(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return rg(this,void 0,void 0,function*(){try{return{data:yield ZR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(aa(n))return{data:null,error:n};throw n}})}emptyBucket(t){return rg(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rg(this,void 0,void 0,function*(){try{return{data:yield pne(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}}class F2e extends M2e{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new D2e(this.url,this.headers,t,this.fetch)}}const L2e="2.75.0";let Qv="";typeof Deno<"u"?Qv="deno":typeof document<"u"?Qv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qv="react-native":Qv="node";const $2e={"X-Client-Info":`supabase-js-${Qv}/${L2e}`},B2e={headers:$2e},U2e={schema:"public"},V2e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z2e={};var q2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const W2e=e=>{let t;return e?t=e:typeof fetch>"u"?t=ane:t=fetch,(...r)=>t(...r)},H2e=()=>typeof Headers>"u"?ine:Headers,G2e=(e,t,r)=>{const n=W2e(r),a=H2e();return(i,o)=>q2e(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var K2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Y2e(e){return e.endsWith("/")?e:e+"/"}function X2e(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>K2e(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function J2e(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Y2e(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gne="2.75.0",yg=30*1e3,QR=3,GT=QR*yg,Z2e="http://localhost:9999",Q2e="supabase.auth.token",eke={"X-Client-Info":`gotrue-js/${gne}`},e3="X-Supabase-Api-Version",xne={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tke=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rke=600*1e3;class xb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ur(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nke extends xb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ske(e){return ur(e)&&e.name==="AuthApiError"}class Gh extends xb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class sh extends xb{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Yd extends sh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ake(e){return ur(e)&&e.name==="AuthSessionMissingError"}class ng extends sh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class J_ extends sh{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Z_ extends sh{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ike(e){return ur(e)&&e.name==="AuthImplicitGrantRedirectError"}class c7 extends sh{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t3 extends sh{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function KT(e){return ur(e)&&e.name==="AuthRetryableFetchError"}class u7 extends sh{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class r3 extends sh{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const TN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d7=` 	
\r=`.split(""),oke=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<d7.length;t+=1)e[d7[t].charCodeAt(0)]=-2;for(let t=0;t<TN.length;t+=1)e[TN[t].charCodeAt(0)]=t;return e})();function f7(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(TN[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(TN[n]),t.queuedBits-=6}}function vne(e,t,r){const n=oke[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function h7(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{uke(o,n,r)};for(let o=0;o<e.length;o+=1)vne(e.charCodeAt(o),a,i);return t.join("")}function lke(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cke(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}lke(n,t)}}function uke(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function e0(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)vne(e.charCodeAt(a),r,n);return new Uint8Array(t)}function dke(e){const t=[];return cke(e,r=>t.push(r)),new Uint8Array(t)}function tm(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>f7(a,r,n)),f7(null,r,n),t.join("")}function fke(e){return Math.round(Date.now()/1e3)+e}function hke(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Po=()=>typeof window<"u"&&typeof document<"u",Ph={tested:!1,writable:!1},yne=()=>{if(!Po())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ph.tested)return Ph.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ph.tested=!0,Ph.writable=!0}catch{Ph.tested=!0,Ph.writable=!1}return Ph.writable};function mke(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const bne=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>lp(async()=>{const{default:n}=await Promise.resolve().then(()=>xx);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},pke=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bg=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Oh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zd=async(e,t)=>{await e.removeItem(t)};class Y2{constructor(){this.promise=new Y2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Y2.promiseConstructor=Promise;function YT(e){const t=e.split(".");if(t.length!==3)throw new r3("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tke.test(t[n]))throw new r3("JWT not in base64url format");return{header:JSON.parse(h7(t[0])),payload:JSON.parse(h7(t[1])),signature:e0(t[2]),raw:{header:t[0],payload:t[1]}}}async function gke(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xke(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function vke(e){return("0"+e.toString(16)).substr(-2)}function yke(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,vke).join("")}async function bke(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function wke(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await bke(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sg(e,t,r=!1){const n=yke();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await bg(e,`${t}-code-verifier`,a);const i=await wke(n);return[i,n===i?"plain":"s256"]}const _ke=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jke(e){const t=e.headers.get(e3);if(!t||!t.match(_ke))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Nke(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ske(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kke=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ag(e){if(!kke.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function XT(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m7(e){return JSON.parse(JSON.stringify(e))}var Cke=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Uh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eke=[502,503,504];async function p7(e){var t;if(!pke(e))throw new t3(Uh(e),0);if(Eke.includes(e.status))throw new t3(Uh(e),e.status);let r;try{r=await e.json()}catch(i){throw new Gh(Uh(i),i)}let n;const a=jke(e);if(a&&a.getTime()>=xne["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new u7(Uh(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yd}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new u7(Uh(r),e.status,r.weak_password.reasons);throw new nke(Uh(r),e.status||500,n)}const Tke=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Tr(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[e3]||(i[e3]=xne["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Ake(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Ake(e,t,r,n,a,i){const o=Tke(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new t3(Uh(c),0)}if(l.ok||await p7(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await p7(c)}}function sc(e){var t;let r=null;Dke(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=fke(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function g7(e){const t=sc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Pke(e){return{data:e,error:null}}function Oke(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Cke(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function x7(e){return e}function Dke(e){return e.access_token&&e.refresh_token&&e.expires_in}const JT=["global","local","others"];var Rke=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Ike{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bne(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=JT[0]){if(JT.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${JT.join(", ")}`);try{return await Tr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ur(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Tr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qd})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Rke(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Tr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Oke,redirectTo:r?.redirectTo})}catch(r){if(ur(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Tr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qd})}catch(r){if(ur(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Tr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:x7});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ur(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ag(t);try{return await Tr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qd})}catch(r){if(ur(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ag(t);try{return await Tr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Qd})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ag(t);try{return await Tr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qd})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ag(t.userId);try{const{data:r,error:n}=await Tr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ag(t.userId),ag(t.id);try{return{data:await Tr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Tr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:x7});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ur(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Tr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Tr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Tr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Tr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}}function v7(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ig={debug:!!(globalThis&&yne()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wne extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Mke extends wne{}async function Fke(e,t,r){ig.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ig.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ig.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ig.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ig.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Mke(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ig.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Lke(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _ne(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $ke(e){return parseInt(e,16)}function Bke(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Uke(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=_ne(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${g}`;let _=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(_+=`
Expiration Time: ${a.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),c&&(_+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const j of u){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);w+=`
- ${j}`}_+=w}return`${v}
${_}`}class na extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class AN extends na{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Vke({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new na({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new na({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new na({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new na({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new na({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new na({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new na({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new na({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Nne(o)){if(i.rp.id!==o)return new na({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new na({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new na({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new na({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new na({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zke({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new na({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new na({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Nne(n)){if(r.rpId!==n)return new na({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new na({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new na({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new na({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var jne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class qke{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Wke=new qke;function Hke(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=jne(e,["challenge","user","excludeCredentials"]),i=e0(t).buffer,o=Object.assign(Object.assign({},r),{id:e0(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:e0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Gke(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=jne(e,["challenge","allowCredentials"]),a=e0(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:e0(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Kke(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:tm(new Uint8Array(e.response.attestationObject)),clientDataJSON:tm(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Yke(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:tm(new Uint8Array(a.authenticatorData)),clientDataJSON:tm(new Uint8Array(a.clientDataJSON)),signature:tm(new Uint8Array(a.signature)),userHandle:a.userHandle?tm(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nne(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function y7(){var e,t;return!!(Po()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Xke(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new AN("Browser returned unexpected credential type",t)}:{data:null,error:new AN("Empty credential response",t)}}catch(t){return{data:null,error:Vke({error:t,options:e})}}}async function Jke(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new AN("Browser returned unexpected credential type",t)}:{data:null,error:new AN("Empty credential response",t)}}catch(t){return{data:null,error:zke({error:t,options:e})}}}const Zke={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Qke={userVerification:"preferred",hints:["security-key"]};function PN(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=PN(l,o):n[i]=PN(o)}else n[i]=o}return n}function eCe(e,t){return PN(Zke,e,t||{})}function tCe(e,t){return PN(Qke,e,t||{})}class rCe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??Wke.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=eCe(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:f}=await Xke({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=tCe(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:f}=await Jke(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ur(o)?{data:null,error:o}:{data:null,error:new Gh("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new xb("rpId is required for WebAuthn authentication")};try{if(!y7())return{data:null,error:new Gh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ur(o)?{data:null,error:o}:{data:null,error:new Gh("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new xb("rpId is required for WebAuthn registration")};try{if(!y7())return{data:null,error:new Gh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ur(o)?{data:null,error:o}:{data:null,error:new Gh("Unexpected error in register",o)}}}}Lke();const nCe={url:Z2e,storageKey:Q2e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eke,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function b7(e,t,r){return await r()}const og={};class vb{get jwks(){var t,r;return(r=(t=og[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){og[this.storageKey]=Object.assign(Object.assign({},og[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=og[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){og[this.storageKey]=Object.assign(Object.assign({},og[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vb.nextInstanceID,vb.nextInstanceID+=1,this.instanceID>0&&Po()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},nCe),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ike({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=bne(a.fetch),this.lock=a.lock||b7,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Po()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Fke:this.lock=b7,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rCe(this)},this.persistSession?(a.storage?this.storage=a.storage:yne()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v7(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=v7(this.memoryStorage)),Po()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gne}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=mke(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Po()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ike(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ur(r)?{error:r}:{error:new Gh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:sc}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ur(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await sg(this.storage,this.storageKey)),i=await Tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},xform:sc})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await Tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(a=m?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:sc})}else throw new J_("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ur(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:g7})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:g7})}else throw new J_("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ng}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:g,wallet:v,statement:_,options:w}=t;let j;if(Po())if(typeof v=="object")j=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")j=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const C=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),S=await j.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=_ne(S[0]);let E=(n=w?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const P=await j.request({method:"eth_chainId"});E=$ke(P)}const R={domain:C.host,address:k,statement:_,uri:C.href,version:"1",chainId:E,nonce:(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Uke(R),y=await j.request({method:"personal_sign",params:[Bke(p),k]})}try{const{data:g,error:v}=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sc});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ng}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(ur(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,m,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:_,statement:w,options:j}=t;let C;if(Po())if(typeof _=="object")C=_;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))C=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const S=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const k=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((f=(d=j?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...j.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:v,error:_}=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:tm(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sc});if(_)throw _;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ng}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:_})}catch(v){if(ur(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Oh(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sc});if(await zd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ng}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ur(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:sc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ng}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sg(this.storage,this.storageKey));const{error:f}=await Tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new J_("You must provide either an email or phone number.")}catch(l){if(ur(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Tr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:sc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ur(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sg(this.storage,this.storageKey)),await Tr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pke})}catch(i){if(ur(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yd;const{error:a}=await Tr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ur(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Tr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Tr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new J_("You must provide either an email or phone number and a type")}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Oh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<GT:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Oh(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=XT()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qd}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yd}:await Tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Qd})})}catch(r){if(ur(r))return ake(r)&&(await this._removeSession(),await zd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Yd;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await sg(this.storage,this.storageKey));const{data:u,error:d}=await Tr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qd});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yd;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=YT(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ur(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Yd;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Po())throw new Z_("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Z_(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new c7("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Z_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new c7("No code detected.");const{data:w,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Z_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=yg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(n){if(ur(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Oh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ske(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await zd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=hke(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await sg(this.storage,this.storageKey,!0));try{return await Tr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ur(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Tr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Po()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(ur(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:sc}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ng}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(a){if(ur(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Tr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xke(async a=>(a>0&&await gke(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Tr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sc})),(a,i)=>{const o=200*Math.pow(2,a);return i&&KT(i)&&Date.now()+o-n<yg})}catch(n){if(this._debug(r,"error",n),ur(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Po()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Oh(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Oh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await bg(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:XT()}else if(a&&!a.user&&!a.user){const o=await Oh(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await zd(this.storage,this.storageKey+"-user"),await bg(this.storage,this.storageKey,a)):a.user=XT()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<GT;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${GT}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),KT(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Y2;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Yd;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ur(i)){const o={data:null,error:i};return KT(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bg(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=m7(a);await bg(this.storage,this.storageKey,i)}else{const a=m7(r);await bg(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await zd(this.storage,this.storageKey),await zd(this.storage,this.storageKey+"-code-verifier"),await zd(this.storage,this.storageKey+"-user"),this.userStorage&&await zd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Po()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yg);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/yg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${yg}ms, refresh threshold is ${QR} ticks`),a<=QR&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wne)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Po()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await sg(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Tr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Tr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Kke(t.webauthn.credential_response):Yke(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Tr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ur(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Tr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Hke(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Gke(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ur(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=YT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+rke>a)return n;const{data:i,error:o}=await Tr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=YT(n);r?.allowExpired||Nke(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=Ske(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,dke(`${l}.${c}`)))throw new r3("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ur(n))return{data:null,error:n};throw n}}}vb.nextInstanceID=0;const sCe=vb;class aCe extends sCe{constructor(t){super(t)}}var iCe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class oCe{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=J2e(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:U2e,realtime:z2e,auth:Object.assign(Object.assign({},V2e),{storageKey:c}),global:B2e},d=X2e(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=G2e(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new n2e(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new F2e(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new GSe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return iCe(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aCe({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new b2e(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lCe=(e,t,r)=>new oCe(e,t,r);function cCe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cCe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uCe="https://vexeuxsvckpfvuxqchqu.supabase.co",dCe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c",Y=lCe(uCe,dCe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});Y.auth.onAuthStateChange((e,t)=>{e==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):(e==="SIGNED_OUT"||!t&&e==="INITIAL_SESSION")&&localStorage.removeItem("supabase.auth.token")});Y.auth.getSession().catch(e=>{e?.message?.includes("Refresh Token")&&(console.warn("Clearing invalid refresh token"),Y.auth.signOut({scope:"local"}))});const K5=async()=>{const{data:{session:e}}=await Y.auth.getSession();if(!e?.user)return null;const{data:t}=await Y.from("stores").select("id").eq("user_id",e.user.id).maybeSingle();return t?.id||null},fCe=()=>{console.log("Products are now stored in Supabase database")},n3=async()=>{const e=await K5();if(!e)return[];const{data:t,error:r}=await Y.from("products").select("*").eq("store_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching products:",r),[]):t||[]},yb=async e=>{if(!e){const n=await K5();if(!n)return[];e=n}const{data:t,error:r}=await Y.from("products").select("*").eq("store_id",e).eq("status","published").order("created_at",{ascending:!1});return r?(console.error("Error fetching published products:",r),[]):t||[]},Kj=async e=>{const{data:t,error:r}=await Y.from("products").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching product:",r),null):t},hCe=async(e,t)=>{let r=Y.from("products").select("*").eq("slug",e);t&&(r=r.eq("store_id",t));const{data:n,error:a}=await r.maybeSingle();return a?(console.error("Error fetching product by slug:",a),null):n},mCe=async e=>{const t=await K5();if(!t)throw console.error("[PRODUCT] No store ID found for current user"),new Error("No store found for current user");console.log("[PRODUCT] Creating product for store:",t,"Name:",e.name,"Status:",e.status||"published");const{data:r,error:n}=await Y.from("products").insert([{store_id:t,name:e.name,slug:e.slug,description:e.description,category:e.category,base_price:e.basePrice||e.base_price,price_range:e.priceRange||e.price_range,stock:e.stock||0,sku:e.sku,status:e.status||"published",images:e.images||[],video_url:e.videoUrl||e.video_url,variants:e.variants||[]}]).select().single();if(n)throw console.error("[PRODUCT] Error adding product:",n),n;return console.log("[PRODUCT]  Product created successfully:",r.id,"Name:",r.name,"Status:",r.status),r},pCe=async(e,t)=>{const r={};t.name!==void 0&&(r.name=t.name),t.description!==void 0&&(r.description=t.description),t.category!==void 0&&(r.category=t.category),(t.basePrice!==void 0||t.base_price!==void 0)&&(r.base_price=t.basePrice||t.base_price),(t.priceRange!==void 0||t.price_range!==void 0)&&(r.price_range=t.priceRange||t.price_range),t.stock!==void 0&&(r.stock=t.stock),t.sku!==void 0&&(r.sku=t.sku),t.status!==void 0&&(r.status=t.status),t.images!==void 0&&(r.images=t.images),(t.videoUrl!==void 0||t.video_url!==void 0)&&(r.video_url=t.videoUrl||t.video_url),t.variants!==void 0&&(r.variants=t.variants);const{data:n,error:a}=await Y.from("products").update(r).eq("id",e).select().single();if(a)throw console.error("Error updating product:",a),a;return n},gCe=async e=>{if(!(!e||!e.includes("digitaldukandar.in/uploads/")))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e})}),await Y.from("media_library").delete().eq("file_url",e)}catch(t){console.error("Failed to delete image:",e,t)}},xCe=async e=>{const{data:t}=await Y.from("products").select("images").eq("id",e).single();t?.images&&Array.isArray(t.images)&&await Promise.all(t.images.map(n=>gCe(n)));const{error:r}=await Y.from("products").delete().eq("id",e);if(r)throw console.error("Error deleting product:",r),r},w7=()=>{const e=vr(),[t,r]=b.useState({totalProducts:0,activeProducts:0,totalOrders:0,totalCustomers:0}),[n,a]=b.useState("Your Store"),[i,o]=b.useState(""),[l,c]=b.useState(null),[u,d]=b.useState(null),[f,m]=b.useState(null),[p,y]=b.useState(null),[g,v]=b.useState([]);b.useEffect(()=>{fCe(),(async()=>{const{data:{user:C}}=await Y.auth.getUser();if(!C)return;const{data:S}=await Y.from("stores").select("id, name, slug, subdomain, custom_domain").eq("user_id",C.id).maybeSingle();if(!S)return;const k=N1e(S.subdomain||S.slug,S.custom_domain);o(k);const[E,R,P,T]=await Promise.all([n3(),Y.from("subscriptions").select(`
            trial_ends_at,
            current_period_end,
            created_at,
            status,
            subscription_plans (trial_days)
          `).eq("user_id",C.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Y.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",S.id),Y.from("orders").select("customer_email, customer_phone").eq("store_id",S.id),Y.from("stores").update({last_admin_visit:new Date().toISOString()}).eq("id",S.id)]);S.name&&a(S.name);const O=R.data,D=O&&O.length>0?O[0]:null;if(D){let G=null;if(D.status==="trial"?D.trial_ends_at?G=new Date(D.trial_ends_at):D.subscription_plans?.trial_days&&(G=new Date(D.created_at),G.setDate(G.getDate()+D.subscription_plans.trial_days)):D.status==="active"&&D.current_period_end&&(G=new Date(D.current_period_end)),G){const K=new Date,U=G.getTime()-K.getTime(),F=Math.ceil(U/(1e3*60*60*24));F>0&&(c(F),d(G),m(D.status))}}const I=E.filter(G=>G.status==="published").length,L=P.count||0;let W=0;T.data&&(W=new Set(T.data.map(K=>K.customer_email||K.customer_phone)).size),r({totalProducts:E.length,activeProducts:I,totalOrders:L,totalCustomers:W});const q=[{id:"1",action:"Product published",product:E[0]?.name||"Sample Product",time:"2 hours ago"},{id:"2",action:"New order received",product:E[1]?.name||"Sample Product",time:"5 hours ago"},{id:"3",action:"Product updated",product:E[2]?.name||"Sample Product",time:"1 day ago"}];v(q)})()},[]),b.useEffect(()=>{if(!u)return;const j=()=>{const S=new Date,k=u.getTime()-S.getTime();if(k<=0){y({days:0,hours:0,minutes:0,seconds:0});return}const E=Math.floor(k/(1e3*60*60*24)),R=Math.floor(k%(1e3*60*60*24)/(1e3*60*60)),P=Math.floor(k%(1e3*60*60)/(1e3*60)),T=Math.floor(k%(1e3*60)/1e3);y({days:E,hours:R,minutes:P,seconds:T})};j();const C=setInterval(j,1e3);return()=>clearInterval(C)},[u]);const _=[{title:"Add New Product",description:"Create a new product listing",icon:oi,action:()=>e("/admin/products/add"),primary:!0},{title:"View All Products",description:"Manage your product catalog",icon:Es,action:()=>e("/admin/products"),primary:!1}],w=[{title:"Total Products",value:t.totalProducts,icon:Wn,color:"text-primary",bgColor:"bg-primary/10"},{title:"Active Products",value:t.activeProducts,icon:Fl,color:"text-success",bgColor:"bg-success/10"},{title:"Total Orders",value:t.totalOrders,icon:Af,color:"text-warning",bgColor:"bg-warning/10"},{title:"Customers",value:t.totalCustomers,icon:ki,color:"text-primary",bgColor:"bg-primary/10"}];return s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Welcome back! "}),s.jsxs("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:["Here's what's happening with ",s.jsx("span",{className:"font-medium text-primary",children:n})," today."]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map((j,C)=>s.jsx(Ce,{className:"admin-stat-card group",children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:j.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:j.value})]}),s.jsx("div",{className:`p-2 lg:p-3 rounded-xl ${j.bgColor} group-hover:scale-110 transition-transform duration-200 flex-shrink-0 ml-2`,children:s.jsx(j.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${j.color}`})})]})})},C))}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[s.jsx(Af,{className:"w-5 h-5"}),"Your Store URL"]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm font-mono text-foreground break-all",children:i||"Loading..."})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{i&&(navigator.clipboard.writeText(i),Ie({title:"Link copied!",description:"Store URL copied to clipboard"}))},children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),s.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{if(i){const j=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(i)}`;window.open(j,"_blank")}},children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),"Generate QR"]})]})]})]}),s.jsxs(Ce,{className:"admin-card",children:[s.jsxs(Xe,{children:[s.jsx(Je,{className:"text-xl font-semibold",children:"Quick Actions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get started with these common tasks"})]}),s.jsx(Ee,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:_.map((j,C)=>s.jsx(Ce,{className:"admin-card cursor-pointer hover:shadow-lg transition-all duration-200 border-2 hover:border-primary/20",onClick:j.action,children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-start gap-3 lg:gap-4",children:[s.jsx("div",{className:`p-2 lg:p-3 rounded-lg flex-shrink-0 ${j.primary?"bg-primary/10":"bg-muted"}`,children:s.jsx(j.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${j.primary?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1 text-sm lg:text-base",children:j.title}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground mb-3",children:j.description}),s.jsx(ae,{variant:j.primary?"default":"outline",size:"sm",className:`w-full sm:w-auto ${j.primary?"admin-button-primary":"admin-button-secondary"}`,onClick:S=>{S.stopPropagation(),j.action()},children:"Get Started"})]})]})})},C))})]}),s.jsxs(Ce,{className:"border-l-4 border-l-primary",children:[s.jsxs(Xe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Je,{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Xi,{className:"w-5 h-5 text-primary"}),"Getting Started"]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"2/4 complete"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"50%"}})})]}),s.jsxs(Ee,{className:"space-y-3",children:[[{done:!0,text:"Create account"},{done:!0,text:"Set up store"},{done:!1,text:"Add first product"},{done:!1,text:"Customize store appearance"}].map((j,C)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted transition-colors",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${j.done?"bg-success text-success-foreground":"bg-muted border-2 border-border"}`,children:j.done&&s.jsx("span",{className:"text-xs",children:""})}),s.jsx("span",{className:`text-sm ${j.done?"text-muted-foreground line-through":"text-foreground"}`,children:j.text})]},C)),s.jsx(ae,{className:"w-full mt-4",size:"sm",children:"Complete Setup"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs(Ce,{className:"lg:col-span-2",children:[s.jsxs(Xe,{children:[s.jsx(Je,{className:"text-xl font-semibold",children:"Recent Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest updates from your store"})]}),s.jsx(Ee,{className:"space-y-3",children:g.length>0?g.map(j=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 flex-shrink-0",children:s.jsx(ds,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:j.action}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.product}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j.time})]})]},j.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Wn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recent activity to display"}),s.jsx("p",{className:"text-xs",children:"Start by adding your first product!"})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-lg font-semibold",children:"Tips & Resources"})}),s.jsx(Ee,{className:"space-y-3",children:[{icon:"",text:"Video Tutorials",color:"text-red-500"},{icon:"",text:"Help Documentation",color:"text-blue-500"},{icon:"",text:"Contact Support",color:"text-green-500"},{icon:"",text:"Best Practices Guide",color:"text-purple-500"}].map((j,C)=>s.jsxs(ae,{variant:"ghost",className:"w-full justify-start hover:bg-muted",size:"sm",children:[s.jsx("span",{className:"text-lg mr-3",children:j.icon}),s.jsx("span",{className:"text-sm",children:j.text})]},C))})]})]})]})},Fe=b.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ft("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Fe.displayName="Input";var vCe="Label",Sne=b.forwardRef((e,t)=>s.jsx(At.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Sne.displayName=vCe;var kne=Sne;const yCe=cx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=b.forwardRef(({className:e,...t},r)=>s.jsx(kne,{ref:r,className:ft(yCe(),e),...t}));ke.displayName=kne.displayName;const Ks=b.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ft("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ks.displayName="Textarea";const bCe=cx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yr=b.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ft(bCe({variant:t}),e),...r}));Yr.displayName="Alert";const Y5=b.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ft("mb-1 font-medium leading-none tracking-tight",e),...t}));Y5.displayName="AlertTitle";const Xr=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("text-sm [&_p]:leading-relaxed",e),...t}));Xr.displayName="AlertDescription";function Hw(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var X2="Switch",[wCe]=Is(X2),[_Ce,jCe]=wCe(X2),Cne=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,p]=b.useState(null),y=tr(t,j=>p(j)),g=b.useRef(!1),v=m?d||!!m.closest("form"):!0,[_,w]=Pi({prop:a,defaultProp:i??!1,onChange:u,caller:X2});return s.jsxs(_Ce,{scope:r,checked:_,disabled:l,children:[s.jsx(At.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Pne(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:mt(e.onClick,j=>{w(C=>!C),v&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),v&&s.jsx(Ane,{control:m,bubbles:!g.current,name:n,value:c,checked:_,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Cne.displayName=X2;var Ene="SwitchThumb",Tne=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=jCe(Ene,r);return s.jsx(At.span,{"data-state":Pne(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Tne.displayName=Ene;var NCe="SwitchBubbleInput",Ane=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=b.useRef(null),l=tr(o,i),c=Hw(r),u=Pw(t);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ane.displayName=NCe;function Pne(e){return e?"checked":"unchecked"}var One=Cne,SCe=Tne;const Gr=b.forwardRef(({className:e,...t},r)=>s.jsx(One,{className:ft("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-border transition-colors data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=unchecked]:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(SCe,{className:ft("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gr.displayName=One.displayName;var J2="Collapsible",[kCe,Dne]=Is(J2),[CCe,X5]=kCe(J2),Rne=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=Pi({prop:n,defaultProp:a??!1,onChange:o,caller:J2});return s.jsx(CCe,{scope:r,disabled:i,contentId:xo(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:s.jsx(At.div,{"data-state":eF(c),"data-disabled":i?"":void 0,...l,ref:t})})});Rne.displayName=J2;var Ine="CollapsibleTrigger",J5=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=X5(Ine,r);return s.jsx(At.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":eF(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:mt(e.onClick,a.onOpenToggle)})});J5.displayName=Ine;var Z5="CollapsibleContent",Q5=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=X5(Z5,e.__scopeCollapsible);return s.jsx(fa,{present:r||a.open,children:({present:i})=>s.jsx(ECe,{...n,ref:t,present:i})})});Q5.displayName=Z5;var ECe=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=X5(Z5,r),[l,c]=b.useState(n),u=b.useRef(null),d=tr(t,u),f=b.useRef(0),m=f.current,p=b.useRef(0),y=p.current,g=o.open||l,v=b.useRef(g),_=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Ds(()=>{const w=u.current;if(w){_.current=_.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const j=w.getBoundingClientRect();f.current=j.height,p.current=j.width,v.current||(w.style.transitionDuration=_.current.transitionDuration,w.style.animationName=_.current.animationName),c(n)}},[o.open,n]),s.jsx(At.div,{"data-state":eF(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&a})});function eF(e){return e?"open":"closed"}var Mne=Rne,TCe=J5,ACe=Q5;const Yj=Mne,Xj=J5,Jj=Q5,cn=V5,PCe=z5,Fne=b.forwardRef(({className:e,...t},r)=>s.jsx(Uw,{ref:r,className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fne.displayName=Uw.displayName;const sn=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(PCe,{children:[s.jsx(Fne,{}),s.jsxs(Vw,{ref:n,className:ft("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(K2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Aa,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sn.displayName=Vw.displayName;const un=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});un.displayName="DialogHeader";const Sa=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sa.displayName="DialogFooter";const dn=b.forwardRef(({className:e,...t},r)=>s.jsx(zw,{ref:r,className:ft("text-lg font-semibold leading-none tracking-tight",e),...t}));dn.displayName=zw.displayName;const Zn=b.forwardRef(({className:e,...t},r)=>s.jsx(qw,{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));Zn.displayName=qw.displayName;function Z2(){const[e,t]=b.useState({maxProducts:null,currentProducts:0,whatsappOrdersLimit:null,whatsappOrdersUsed:0,websiteOrdersLimit:null,websiteOrdersUsed:0,enableAnalytics:!1,enableLocationSharing:!1,enableCustomDomain:!1,enableAiVoice:!1,isLoading:!0,hasActiveSubscription:!1});b.useEffect(()=>{r();const c=Y.channel("subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{console.log("Subscription changed, reloading limits..."),r()}).subscribe(),u=Y.channel("plans-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscription_plans"},()=>{console.log("Subscription plan changed, reloading limits..."),r()}).subscribe();return()=>{c.unsubscribe(),u.unsubscribe()}},[]);const r=async()=>{try{const{data:{user:c}}=await Y.auth.getUser();if(!c){t(y=>({...y,isLoading:!1}));return}const{data:u}=await Y.from("subscriptions").select(`
          *,
          subscription_plans(
            max_products,
            whatsapp_orders_limit,
            website_orders_limit,
            enable_analytics,
            enable_location_sharing,
            enable_custom_domain,
            enable_ai_voice
          )
        `).eq("user_id",c.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),d=u&&u.length>0?u[0]:null;if(!d||!d.subscription_plans){t(y=>({...y,isLoading:!1,hasActiveSubscription:!1}));return}const{data:f}=await Y.from("stores").select("id").eq("user_id",c.id).single();let m=0;if(f){const{count:y}=await Y.from("products").select("*",{count:"exact",head:!0}).eq("store_id",f.id).eq("status","published");m=y||0}const p=d.subscription_plans;t({maxProducts:p.max_products,currentProducts:m,whatsappOrdersLimit:p.whatsapp_orders_limit,whatsappOrdersUsed:d.whatsapp_orders_used||0,websiteOrdersLimit:p.website_orders_limit,websiteOrdersUsed:d.website_orders_used||0,enableAnalytics:p.enable_analytics||!1,enableLocationSharing:p.enable_location_sharing||!1,enableCustomDomain:p.enable_custom_domain||!1,enableAiVoice:p.enable_ai_voice||!1,isLoading:!1,hasActiveSubscription:["active","trial"].includes(d.status)})}catch(c){console.error("Error loading subscription limits:",c),t(u=>({...u,isLoading:!1}))}};return{...e,canPublishProduct:()=>e.hasActiveSubscription?e.maxProducts===null?!0:e.currentProducts<e.maxProducts:!1,canPlaceWhatsAppOrder:()=>!e.hasActiveSubscription||e.whatsappOrdersLimit===null?!1:e.whatsappOrdersLimit===0?!0:e.whatsappOrdersUsed<e.whatsappOrdersLimit,canPlaceWebsiteOrder:()=>!e.hasActiveSubscription||e.websiteOrdersLimit===null?!1:e.websiteOrdersLimit===0?!0:e.websiteOrdersUsed<e.websiteOrdersLimit,getProductLimitMessage:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to publish products.";if(e.maxProducts===null)return null;const c=e.maxProducts-e.currentProducts;return c<=0?`Product limit reached (${e.currentProducts}/${e.maxProducts}). Upgrade your plan to publish more products.`:c<=3?`Warning: Only ${c} product slots remaining (${e.currentProducts}/${e.maxProducts}).`:null},getOrderLimitWarning:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to place orders.";const c=e.whatsappOrdersLimit,u=e.whatsappOrdersUsed,d=e.websiteOrdersLimit,f=e.websiteOrdersUsed;if(c===null&&d===null)return"Ordering features are not available in your current plan.";if(c!==null&&c>0){const m=c-u;if(m<=0)return`WhatsApp order limit reached (${u}/${c}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} WhatsApp order slots remaining (${u}/${c}).`}if(d!==null&&d>0){const m=d-f;if(m<=0)return`Website order limit reached (${f}/${d}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} website order slots remaining (${f}/${d}).`}return null},refresh:r}}const OCe=async e=>{try{const{data:t,error:r}=await Y.from("stores").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Store not found");const n=t,{data:a}=await Y.from("profiles").select("phone, email").eq("user_id",t.user_id).maybeSingle(),i=a,{data:o,error:l}=await Y.from("products").select("id, name, category, price_range, description, status").eq("store_id",e).eq("status","published").order("category",{ascending:!0}).order("name",{ascending:!0});if(l)throw l;const c=o||[],u=c.map(g=>g.id);let d=[];if(u.length>0){const{data:g,error:v}=await Y.from("product_variants").select("id, product_id, size, color, price, stock_quantity").in("product_id",u).order("price",{ascending:!0});!v&&g&&(d=g)}let f="";if(f+="=".repeat(80)+`
`,f+=`${n.name.toUpperCase()}
`,f+=`STORE INFORMATION FOR AI VOICE AGENT
`,f+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,f+="=".repeat(80)+`

`,f+="-".repeat(80)+`
`,f+=`STORE INFORMATION
`,f+="-".repeat(80)+`

`,f+=`Store Name: ${n.name}
`,n.description&&(f+=`
Description:
${n.description}
`),n.address&&(f+=`
Address:
${n.address}
`),n.whatsapp_number&&(f+=`
WhatsApp: ${n.whatsapp_number}
`),i?.phone&&(f+=`Phone: ${i.phone}
`),i?.email&&(f+=`Email: ${i.email}
`),n.social_links&&(f+=`
Social Media:
`,n.social_links.facebook&&(f+=`  Facebook: ${n.social_links.facebook}
`),n.social_links.instagram&&(f+=`  Instagram: ${n.social_links.instagram}
`),n.social_links.twitter&&(f+=`  Twitter: ${n.social_links.twitter}
`)),f+=`
`,f+="-".repeat(80)+`
`,f+=`STORE POLICIES
`,f+="-".repeat(80)+`

`,n.policies?.deliveryAreas&&(f+=`Delivery Areas:
${n.policies.deliveryAreas}

`),n.policies?.returnPolicy&&(f+=`Return Policy:
${n.policies.returnPolicy}

`),n.policies?.shippingPolicy&&(f+=`Shipping Policy:
${n.policies.shippingPolicy}

`),n.policies?.termsConditions&&(f+=`Terms & Conditions:
${n.policies.termsConditions}

`),f+="-".repeat(80)+`
`,f+=`PRODUCT CATALOG (${c.length} Products)
`,f+="-".repeat(80)+`

`,c.length>0){const g=c.reduce((v,_)=>{const w=_.category||"Uncategorized";return v[w]||(v[w]=[]),v[w].push(_),v},{});Object.entries(g).forEach(([v,_],w)=>{w>0&&(f+=`
`),f+=`
${"=".repeat(80)}
`,f+=`CATEGORY: ${v.toUpperCase()}
`,f+=`${"=".repeat(80)}

`,_.forEach((j,C)=>{f+=`${C+1}. ${j.name}
`,j.price_range&&(f+=`   Price: ${j.price_range}
`),j.description&&(f+=`   Description: ${j.description}
`);const S=d.filter(k=>k.product_id===j.id);S.length>0&&(f+=`   Available Variants:
`,S.forEach((k,E)=>{let R=`     ${E+1}) `;const P=[];k.size&&P.push(`Size: ${k.size}`),k.color&&P.push(`Color: ${k.color}`),P.push(`Price: Rs ${k.price}`),P.push(`Stock: ${k.stock_quantity}`),R+=P.join(", "),f+=R+`
`})),f+=`
`})})}else f+=`No products available.

`;f+=`
`+"=".repeat(80)+`
`,f+=`END OF STORE INFORMATION
`,f+="=".repeat(80)+`
`;const m=new Blob([f],{type:"text/plain;charset=utf-8"}),p=URL.createObjectURL(m),y=document.createElement("a");return y.href=p,y.download=`${n.slug}-store-info-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(p),{success:!0,filename:y.download}}catch(t){throw console.error("Error generating TXT:",t),t}};function DCe({open:e,onClose:t,userEmail:r,storeName:n}){const[a,i]=b.useState(""),[o,l]=b.useState(!1);vr();const c=async()=>{if(a!=="DELETE"){Ie({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:{user:u}}=await Y.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:f}=await Y.functions.invoke("delete-user-account",{body:{userId:u.id}});if(f)throw f;if(!d.success)throw new Error(d.error||"Failed to delete account");Ie({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted"}),await Y.auth.signOut(),setTimeout(()=>{window.location.href="/"},2e3)}catch(u){Ie({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"}),l(!1)}};return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"max-w-lg",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Vs,{className:"w-5 h-5"}),"Delete My Account Permanently"]}),s.jsx(Zn,{children:"This action is permanent and cannot be undone. All your data will be permanently deleted."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(Vs,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:" Warning: This Cannot Be Undone!"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["This action is ",s.jsx("strong",{children:"permanent and irreversible"}),". All your data will be completely deleted from our servers."]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"The following will be permanently deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 pl-4",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your account"})," - You will not be able to log in anymore"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your store"})," - ",n||"Your store"," will be permanently removed"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All products"})," - Every product you've created"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All orders"})," - Complete order history"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Subscription data"})," - Billing history and subscription info"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Analytics data"})," - All performance metrics"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Uploaded files"})," - Images, documents, and assets"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Account: ",s.jsx("span",{className:"font-bold text-foreground",children:r})]}),n&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store: ",s.jsx("span",{className:"font-semibold",children:n})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs(ke,{htmlFor:"confirmation",className:"text-base",children:["Type ",s.jsx("span",{className:"font-bold text-destructive text-lg",children:"DELETE"})," to confirm permanent deletion"]}),s.jsx(Fe,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here",className:"text-center font-semibold text-lg",autoComplete:"off"})]})]}),s.jsxs(Sa,{className:"gap-2",children:[s.jsx(ae,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,className:"flex-1",children:o?"Deleting Forever...":"Delete My Account Forever"})]})]})})}const yf=e=>{if(!e)return null;if(e.includes("drive.google.com/thumbnail?")||e.includes("drive.google.com/uc?"))return e;const t=e.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);return t?`https://drive.google.com/thumbnail?id=${t[1]||t[2]}&sz=w1000`:e};async function tF(e,t=5){const r={maxSizeMB:t,maxWidthOrHeight:2048,initialQuality:.9,minQuality:.6,step:.05},n=e.size/1024/1024;if(n<=t)return console.log(`Image already under ${t}MB:`,n.toFixed(2)+"MB"),e;console.log(`Compressing image from ${n.toFixed(2)}MB to max ${t}MB`);try{const a=await RCe(e),i=await ICe(a),{width:o,height:l}=MCe(i.width,i.height,r.maxWidthOrHeight),c=await FCe(i,o,l,e.name,e.type,r),u=c.size/1024/1024;return console.log(`Compression complete: ${n.toFixed(2)}MB  ${u.toFixed(2)}MB`),c}catch(a){return console.error("Image compression failed:",a),e}}function RCe(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=a=>t(a.target?.result),n.onerror=r,n.readAsDataURL(e)})}function ICe(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=r,n.src=e})}function MCe(e,t,r){if(e<=r&&t<=r)return{width:e,height:t};const n=e/t;return e>t?{width:r,height:Math.round(r/n)}:{width:Math.round(r*n),height:r}}async function FCe(e,t,r,n,a,i){const o=document.createElement("canvas");o.width=t,o.height=r;const l=o.getContext("2d");if(!l)throw new Error("Failed to get canvas context");l.drawImage(e,0,0,t,r);let c=a;["image/jpeg","image/png","image/webp"].includes(a)||(c="image/jpeg");let u=i.initialQuality;const d=i.maxSizeMB*1024*1024;let f=null;for(;u>=i.minQuality;){if(f=await new Promise(p=>{o.toBlob(y=>p(y),c,u)}),!f)throw new Error("Failed to create blob from canvas");if(f.size<=d){console.log(`Compression successful at quality ${u.toFixed(2)}`);break}u-=i.step}if(!f)throw new Error("Failed to compress image");return new File([f],n,{type:c,lastModified:Date.now()})}const _7=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[m,p]=b.useState(!1),[y,g]=b.useState(""),[v,_]=b.useState(!1),[w,j]=b.useState(!1),[C,S]=b.useState(!1),[k,E]=b.useState([]),[R,P]=b.useState("vps"),[T,O]=b.useState({razorpay_key_secret:!1,phonepe_salt_key:!1,cashfree_secret_key:!1,payu_merchant_salt:!1,paytm_merchant_key:!1,stripe_secret_key:!1}),[D,I]=b.useState(null),[L,W]=b.useState("idle"),[q,G]=b.useState(null),[K,U]=b.useState(!0),F=Z2(),[B,V]=b.useState({storeName:"",logoUrl:"",heroBannerUrls:[],phone:"",email:"",address:"",whatsappNumber:"",currency:"INR",currencySymbol:"",customDomain:"",aiVoiceEmbedCode:"",forceLocationSharing:!1,deliveryAreas:"",returnPolicy:"",shippingPolicy:"",termsConditions:"",privacyPolicy:"",razorpay_enabled:!1,razorpay_key_id:"",razorpay_key_secret:"",phonepe_enabled:!1,phonepe_merchant_id:"",phonepe_salt_key:"",phonepe_salt_index:"",cashfree_enabled:!1,cashfree_app_id:"",cashfree_secret_key:"",payu_enabled:!1,payu_merchant_key:"",payu_merchant_salt:"",paytm_enabled:!1,paytm_merchant_id:"",paytm_merchant_key:"",stripe_enabled:!1,stripe_publishable_key:"",stripe_secret_key:"",payment_mode:"online_and_cod"}),[Z,X]=b.useState(""),[Q,ce]=b.useState(0),[de,pe]=b.useState(100),[re,ie]=b.useState([]),[J,z]=b.useState("all"),[Se,te]=b.useState(!1),[_e,Ae]=b.useState([]),[ue,Ve]=b.useState([]),He=b.useCallback(async()=>{try{const{data:{user:je}}=await Y.auth.getUser();if(!je)return;g(je.email||"");const{data:{session:nt}}=await Y.auth.getSession(),at=nt?.provider_token,Dt=nt?.provider_refresh_token,{data:lt,error:vt}=await Y.from("stores").select("*").eq("user_id",je.id).single();if(vt&&console.error("Error loading store:",vt),lt?.id&&i(lt.id),lt?.slug&&l(lt.slug),ce(lt?.storage_used_mb||0),pe(lt?.storage_limit_mb||100),lt&&at){const pr={google_access_token:at};if(Dt){const Qt=new Date(Date.now()+36e5).toISOString();pr.google_refresh_token=Dt,pr.google_token_expiry=Qt}await Y.from("stores").update(pr).eq("id",lt.id)}await be();const{data:Zt}=await Y.from("profiles").select("phone, email").eq("user_id",je.id).single(),Gt=lt?.payment_gateway_credentials||{};V({storeName:lt?.name||"",logoUrl:lt?.logo_url||"",heroBannerUrls:lt?.hero_banner_urls||[],phone:Zt?.phone||"",email:Zt?.email||"",address:lt?.address||"",whatsappNumber:lt?.whatsapp_number||"",currency:"INR",currencySymbol:"",customDomain:lt?.custom_domain||"",aiVoiceEmbedCode:lt?.ai_voice_embed_code||"",forceLocationSharing:lt?.force_location_sharing||!1,deliveryAreas:lt?.policies?.deliveryAreas||"",returnPolicy:lt?.policies?.returnPolicy||"",shippingPolicy:lt?.policies?.shippingPolicy||"",termsConditions:lt?.policies?.termsConditions||"",privacyPolicy:lt?.policies?.privacyPolicy||"",razorpay_enabled:Gt?.razorpay?.enabled||!1,razorpay_key_id:Gt?.razorpay?.key_id||"",razorpay_key_secret:Gt?.razorpay?.key_secret||"",phonepe_enabled:Gt?.phonepe?.enabled||!1,phonepe_merchant_id:Gt?.phonepe?.merchant_id||"",phonepe_salt_key:Gt?.phonepe?.salt_key||"",phonepe_salt_index:Gt?.phonepe?.salt_index||"",cashfree_enabled:Gt?.cashfree?.enabled||!1,cashfree_app_id:Gt?.cashfree?.app_id||"",cashfree_secret_key:Gt?.cashfree?.secret_key||"",payu_enabled:Gt?.payu?.enabled||!1,payu_merchant_key:Gt?.payu?.merchant_key||"",payu_merchant_salt:Gt?.payu?.merchant_salt||"",paytm_enabled:Gt?.paytm?.enabled||!1,paytm_merchant_id:Gt?.paytm?.merchant_id||"",paytm_merchant_key:Gt?.paytm?.merchant_key||"",stripe_enabled:Gt?.stripe?.enabled||!1,stripe_publishable_key:Gt?.stripe?.publishable_key||"",stripe_secret_key:Gt?.stripe?.secret_key||"",payment_mode:lt?.payment_mode||"online_and_cod"})}catch(je){console.error("Error loading settings:",je)}finally{U(!1)}},[]);b.useEffect(()=>{He(),le()},[He]);const le=async()=>{try{te(!0);const{data:{user:je}}=await Y.auth.getUser();if(!je)return;const{data:nt}=await Y.from("stores").select("id").eq("user_id",je.id).single();if(!nt)return;const{data:at,error:Dt}=await Y.from("media_library").select("*").eq("store_id",nt.id).order("uploaded_at",{ascending:!1});if(Dt)throw Dt;ie(at||[])}catch(je){console.error("Error loading media library:",je)}finally{te(!1)}},be=async()=>{try{const{data:{session:je}}=await Y.auth.getSession();if(!je)return;const{data:nt,error:at}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${je.access_token}`}});if(at){console.error("Drive verification error:",at),_(!1);return}if(nt?.connected){_(!0);const{data:{session:Dt}}=await Y.auth.getSession();Dt?.provider_token&&Ie({title:"Google Drive Connected",description:"You can now upload images to Google Drive."})}else _(!1),console.log("Drive not connected:",nt?.reason)}catch(je){console.error("Error verifying Drive connection:",je),_(!1)}},Oe=(je,nt)=>{V(at=>({...at,[je]:nt}))},Ze=je=>{navigator.clipboard.writeText(je),Ie({title:"URL Copied",description:"Image URL copied to clipboard"})},tt=async je=>{try{const at=await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:je})})).json();console.log("VPS delete response:",at);const{error:Dt}=await Y.from("media_library").delete().eq("file_url",je);Dt&&console.error("Failed to delete from database:",Dt);const{data:{user:lt}}=await Y.auth.getUser();if(lt){const{data:vt}=await Y.from("stores").select("id, storage_used_mb").eq("user_id",lt.id).single();if(vt){const Zt=re.find(Gt=>Gt.file_url===je);if(Zt?.file_size_mb){const Gt=Math.max(0,(vt.storage_used_mb||0)-Zt.file_size_mb);await Y.from("stores").update({storage_used_mb:Gt}).eq("id",vt.id)}}}Ie({title:"Image Deleted",description:"Image removed from media library"}),le()}catch(nt){Ie({title:"Delete Failed",description:nt.message||"Failed to delete image",variant:"destructive"})}};b.useEffect(()=>{if(K)return;const je=setTimeout(()=>{fe()},2e3);return()=>clearTimeout(je)},[B,K]);const fe=async()=>{try{W("saving");const{data:{user:je}}=await Y.auth.getUser();if(!je)return;const nt={name:B.storeName,logo_url:B.logoUrl||null,hero_banner_urls:B.heroBannerUrls.length>0?B.heroBannerUrls:null,whatsapp_number:B.whatsappNumber,address:B.address||null,policies:{deliveryAreas:B.deliveryAreas||null,returnPolicy:B.returnPolicy||null,shippingPolicy:B.shippingPolicy||null,termsConditions:B.termsConditions||null,privacyPolicy:B.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:B.razorpay_enabled,key_id:B.razorpay_key_id||null,key_secret:B.razorpay_key_secret||null},phonepe:{enabled:B.phonepe_enabled,merchant_id:B.phonepe_merchant_id||null,salt_key:B.phonepe_salt_key||null,salt_index:B.phonepe_salt_index||null},cashfree:{enabled:B.cashfree_enabled,app_id:B.cashfree_app_id||null,secret_key:B.cashfree_secret_key||null},payu:{enabled:B.payu_enabled,merchant_key:B.payu_merchant_key||null,merchant_salt:B.payu_merchant_salt||null},paytm:{enabled:B.paytm_enabled,merchant_id:B.paytm_merchant_id||null,merchant_key:B.paytm_merchant_key||null},stripe:{enabled:B.stripe_enabled,publishable_key:B.stripe_publishable_key||null,secret_key:B.stripe_secret_key||null}},payment_mode:B.payment_mode};F.enableCustomDomain&&(nt.custom_domain=B.customDomain.trim().toLowerCase()||null),F.enableAiVoice&&(nt.ai_voice_embed_code=B.aiVoiceEmbedCode.trim()||null),F.enableLocationSharing&&(nt.force_location_sharing=B.forceLocationSharing);const{error:at}=await Y.from("stores").update(nt).eq("user_id",je.id);if(at)throw at;(B.phone||B.email)&&await Y.from("profiles").update({phone:B.phone||null,email:B.email||null}).eq("user_id",je.id),W("saved"),G(new Date),setTimeout(()=>{W("idle")},3e3)}catch(je){console.error("Auto-save error:",je),W("error"),setTimeout(()=>{W("idle")},3e3)}},ee=()=>{if(!Z.trim()){Ie({variant:"destructive",title:"Invalid URL",description:"Please enter a valid image URL"});return}let je=Z.trim();if(je.includes("drive.google.com")){const nt=yf(je);nt&&(je=nt,Ie({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}V(nt=>({...nt,heroBannerUrls:[...nt.heroBannerUrls,je]})),X("")},we=async je=>{const nt=B.heroBannerUrls[je];if(nt.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:nt})}),await Y.from("media_library").delete().eq("file_url",nt),console.log("Banner image deleted from VPS and media library:",nt)}catch(Dt){console.error("Failed to delete banner:",Dt)}const at=B.heroBannerUrls.filter((Dt,lt)=>lt!==je);V(Dt=>({...Dt,heroBannerUrls:at}));try{const{data:{user:Dt}}=await Y.auth.getUser();Dt&&await Y.from("stores").update({hero_banner_urls:at.length>0?at:null}).eq("user_id",Dt.id)}catch(Dt){console.error("Failed to save banner changes:",Dt)}setTimeout(()=>{le()},500)},he=async je=>{const nt=Array.from(je.target.files||[]);if(nt.length===0)return;const at=nt.filter(Dt=>Dt.type.startsWith("image/")?!0:(Ie({title:"Invalid file type",description:`${Dt.name} is not a valid image file`,variant:"destructive"}),!1));if(at.length!==0){if(R==="drive"&&!v){Ie({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below to upload images directly.",variant:"destructive",duration:5e3});return}try{if(R==="vps"){const lt=[];for(const Zt of at)try{const Gt=(Zt.size/1024/1024).toFixed(2),pr=await tF(Zt,5),Qt=(pr.size/1024/1024).toFixed(2);console.log(`Banner compressed: ${Gt}MB  ${Qt}MB`),lt.push(pr)}catch(Gt){console.error("Compression failed:",Gt),Ie({title:"Compression failed",description:`Failed to compress ${Zt.name}, using original`,variant:"destructive"}),lt.push(Zt)}Ae(Zt=>[...Zt,...lt]);const vt=lt.map(Zt=>URL.createObjectURL(Zt));Ve(Zt=>[...Zt,...vt]),V(Zt=>({...Zt,heroBannerUrls:[...Zt.heroBannerUrls,...vt]})),Ie({title:"Banners ready",description:`${lt.length} banner(s) will be uploaded when you save settings`});return}S(!0),E(at.map(lt=>({name:lt.name,progress:0})));const{data:{session:Dt}}=await Y.auth.getSession();if(!Dt)throw new Error("Not authenticated");for(let lt=0;lt<at.length;lt++){const vt=at[lt];E(pr=>pr.map((Qt,jn)=>jn===lt?{...Qt,progress:10}:Qt));const Zt=new FormData;Zt.append("file",vt),Zt.append("type","banners");const Gt=setInterval(()=>{E(pr=>pr.map((Qt,jn)=>jn===lt&&Qt.progress<90?{...Qt,progress:Qt.progress+10}:Qt))},200);try{const pr=await Y.functions.invoke("upload-to-drive",{body:Zt,headers:{Authorization:`Bearer ${Dt.access_token}`}});if(clearInterval(Gt),pr.error)throw E(Qt=>Qt.filter((jn,$t)=>$t!==lt)),new Error(pr.error.message||"Failed to upload image");pr.data?.imageUrl&&(E(Qt=>Qt.map((jn,$t)=>$t===lt?{...jn,progress:100}:jn)),await new Promise(Qt=>setTimeout(Qt,300)),E(Qt=>Qt.filter((jn,$t)=>$t!==lt)),V(Qt=>({...Qt,heroBannerUrls:[...Qt.heroBannerUrls,pr.data.imageUrl]})),Ie({title:"Banner Uploaded",description:`${vt.name} uploaded successfully`}))}catch(pr){throw clearInterval(Gt),pr}}le(),He()}catch(Dt){let lt=Dt.message||"";if(Dt.context?.body)try{const vt=JSON.parse(Dt.context.body);lt=vt.error||vt.message||lt}catch{}lt.toLowerCase().includes("storage limit")?Ie({title:"Storage Limit Reached",description:lt,variant:"destructive",duration:6e3}):lt.toLowerCase().includes("drive")&&lt.toLowerCase().includes("not connected")?Ie({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below first.",variant:"destructive",duration:6e3}):lt.toLowerCase().includes("token")||lt.toLowerCase().includes("expired")?Ie({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect below.",variant:"destructive",duration:6e3}):Ie({title:"Upload Failed",description:lt||"Failed to upload to Google Drive. Try using the URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),E([]),je.target.value=""}}},Me=async()=>{if(!a){Ie({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}n(!0);try{await OCe(a),Ie({title:"File Generated Successfully",description:"Your store information TXT file has been downloaded."})}catch(je){console.error("Error generating file:",je),Ie({variant:"destructive",title:"File Generation Failed",description:"There was an error generating your file. Please try again."})}finally{n(!1)}},Pe=async()=>{try{j(!0);const{error:je}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin/settings`,scopes:"https://www.googleapis.com/auth/drive.file",queryParams:{access_type:"offline",prompt:"consent"}}});je&&(console.error("Google Drive connection error:",je),Ie({variant:"destructive",title:"Connection Failed",description:je.message}))}catch(je){console.error("Error connecting Google Drive:",je),Ie({variant:"destructive",title:"Connection Failed",description:"Failed to initiate Google Drive connection"})}finally{j(!1)}},Re=async je=>{je.preventDefault(),t(!0);try{if(!B.storeName.trim()){Ie({variant:"destructive",title:"Validation Error",description:"Store name is required"}),t(!1);return}if(B.customDomain.trim()){if(!F.enableCustomDomain){Ie({variant:"destructive",title:"Feature Not Available",description:"Custom domain is only available for Pro, Premium, and Enterprise plans. Please upgrade your subscription."}),t(!1);return}const vt=/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?(\.[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?)*\.[a-zA-Z]{2,}$/,Zt=B.customDomain.trim().toLowerCase();if(Zt.includes("http://")||Zt.includes("https://")){Ie({variant:"destructive",title:"Invalid Domain Format",description:"Please enter domain without http:// or https:// (e.g., shop.yourdomain.com)"}),t(!1);return}if(!vt.test(Zt)){Ie({variant:"destructive",title:"Invalid Domain Format",description:"Please enter a valid domain name (e.g., shop.yourdomain.com)"}),t(!1);return}}const nt=B.whatsappNumber.replace(/[^0-9]/g,"");if(nt==="9876543210"||nt==="919876543210"){Ie({variant:"destructive",title:"Invalid WhatsApp Number",description:"The default number 9876543210 is not allowed. Please enter your actual WhatsApp business number."}),t(!1);return}if(B.whatsappNumber.trim()&&nt.length<10){Ie({variant:"destructive",title:"Invalid WhatsApp Number",description:"Please enter a valid WhatsApp number with at least 10 digits."}),t(!1);return}const{data:{user:at}}=await Y.auth.getUser();if(!at)throw new Error("User not authenticated");if(_e.length>0&&R==="vps")try{const{data:vt,error:Zt}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",at.id).single();if(Zt)throw Zt;if(!vt)throw new Error("Store not found");const Gt=vt.storage_used_mb||0,pr=vt.storage_limit_mb||100,Qt=_e.reduce((br,It)=>br+It.size/1024/1024,0);if(Gt+Qt>pr){Ie({variant:"destructive",title:"Storage Limit Exceeded",description:`Cannot upload banners. You need ${Qt.toFixed(2)}MB but only have ${(pr-Gt).toFixed(2)}MB available. Delete some images from Media Library to free up space.`}),t(!1);return}const jn=[];let $t=0;for(let br=0;br<_e.length;br++){const It=_e[br],Rt=new FormData;Rt.append("file",It),Rt.append("type","banners"),o&&Rt.append("store_slug",o);const or=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Rt});if(!or.ok){const xe=await or.text();throw new Error(`Upload failed: ${xe}`)}const bt=await or.json();if(!bt.success)throw new Error(bt.error||"Upload failed");const Bt=bt.imageUrl,Lt=It.size/1024/1024,{error:sr}=await Y.from("media_library").insert({store_id:vt.id,file_url:Bt,file_name:It.name,file_size_mb:Lt,file_type:"banners"});sr&&console.error("Error tracking banner in media library:",sr);const $n=Gt+$t+Lt,{error:ne}=await Y.from("stores").update({storage_used_mb:$n}).eq("id",vt.id);ne&&console.error("Error updating storage usage:",ne),jn.push(Bt),$t+=Lt}const jr=B.heroBannerUrls.map(br=>{const It=ue.indexOf(br);return It!==-1&&It<jn.length?jn[It]:br});B.heroBannerUrls=jr,ue.forEach(br=>{br.startsWith("blob:")&&URL.revokeObjectURL(br)}),Ae([]),Ve([]),Ie({title:"Banners Uploaded",description:`Successfully uploaded ${jn.length} banner(s) (${$t.toFixed(2)}MB)`})}catch(vt){console.error("Error uploading pending banners:",vt),Ie({variant:"destructive",title:"Upload Failed",description:vt instanceof Error?vt.message:"Failed to upload banner images"}),t(!1);return}const Dt={name:B.storeName,logo_url:B.logoUrl||null,hero_banner_urls:B.heroBannerUrls.length>0?B.heroBannerUrls:null,whatsapp_number:B.whatsappNumber,address:B.address||null,policies:{deliveryAreas:B.deliveryAreas||null,returnPolicy:B.returnPolicy||null,shippingPolicy:B.shippingPolicy||null,termsConditions:B.termsConditions||null,privacyPolicy:B.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:B.razorpay_enabled,key_id:B.razorpay_key_id||null,key_secret:B.razorpay_key_secret||null},phonepe:{enabled:B.phonepe_enabled,merchant_id:B.phonepe_merchant_id||null,salt_key:B.phonepe_salt_key||null,salt_index:B.phonepe_salt_index||null},cashfree:{enabled:B.cashfree_enabled,app_id:B.cashfree_app_id||null,secret_key:B.cashfree_secret_key||null},payu:{enabled:B.payu_enabled,merchant_key:B.payu_merchant_key||null,merchant_salt:B.payu_merchant_salt||null},paytm:{enabled:B.paytm_enabled,merchant_id:B.paytm_merchant_id||null,merchant_key:B.paytm_merchant_key||null},stripe:{enabled:B.stripe_enabled,publishable_key:B.stripe_publishable_key||null,secret_key:B.stripe_secret_key||null}},payment_mode:B.payment_mode};F.enableCustomDomain&&(Dt.custom_domain=B.customDomain.trim().toLowerCase()||null),F.enableAiVoice&&(Dt.ai_voice_embed_code=B.aiVoiceEmbedCode.trim()||null),F.enableLocationSharing&&(Dt.force_location_sharing=B.forceLocationSharing);const{error:lt}=await Y.from("stores").update(Dt).eq("user_id",at.id).select();if(lt)throw lt;if(B.phone||B.email){const{error:vt}=await Y.from("profiles").update({phone:B.phone||null,email:B.email||null}).eq("user_id",at.id);vt&&console.error("Error updating profile:",vt)}W("saved"),G(new Date),Ie({title:"Settings Saved",description:"Your store settings have been updated successfully"})}catch{Ie({variant:"destructive",title:"Save Failed",description:"There was an error saving your settings"})}finally{t(!1)}},et=[{title:"Store Information",icon:um,fields:[{key:"storeName",label:"Store Name",placeholder:"My Awesome Store",required:!0},{key:"logoUrl",label:"Logo URL (Google Drive Link)",placeholder:"https://drive.google.com/..."}]},{title:"Contact Information",icon:gc,fields:[{key:"phone",label:"Phone Number",placeholder:"+1 (555) 123-4567"},{key:"email",label:"Email Address",placeholder:"contact@yourstore.com"},{key:"whatsappNumber",label:"WhatsApp Business Number",placeholder:"919876543210 (with country code, no spaces)"},{key:"address",label:"Store Address",placeholder:"123 Main St, City, State 12345",multiline:!0}]},{title:"Currency Settings",icon:um,fields:[{key:"currencySymbol",label:"Currency Symbol",placeholder:", $, , , etc."},{key:"currency",label:"Currency Code",placeholder:"INR, USD, EUR, GBP, etc."}]}],jt=[{key:"deliveryAreas",label:"Delivery Areas",placeholder:"List areas where you deliver..."},{key:"returnPolicy",label:"Return Policy",placeholder:"Describe your return policy..."},{key:"shippingPolicy",label:"Shipping Policy",placeholder:"Describe your shipping terms..."},{key:"termsConditions",label:"Terms & Conditions",placeholder:"Your terms and conditions..."},{key:"privacyPolicy",label:"Privacy Policy",placeholder:"Describe how you collect, use, and protect customer data..."}];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Store Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure your store information and policies"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[L==="saving"&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Ut,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}),L==="saved"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsxs("span",{children:["Saved",q&&` at ${q.toLocaleTimeString()}`]})]}),L==="error"&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[s.jsx(Vs,{className:"w-4 h-4"}),s.jsx("span",{children:"Save failed"})]})]})]}),s.jsxs("form",{onSubmit:Re,className:"space-y-8",children:[et.map((je,nt)=>s.jsxs(Ce,{className:"admin-card",children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(je.icon,{className:"w-5 h-5 text-primary"})}),je.title]})}),s.jsx(Ee,{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:je.fields.map((at,Dt)=>s.jsxs("div",{className:at.multiline?"md:col-span-2":"",children:[s.jsxs(ke,{htmlFor:at.key,className:"flex items-center gap-2",children:[at.label,at.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),at.multiline?s.jsx(Ks,{id:at.key,placeholder:at.placeholder,value:String(B[at.key]||""),onChange:lt=>Oe(at.key,lt.target.value),className:"admin-input min-h-[100px] mt-2",required:at.required}):s.jsx(Fe,{id:at.key,type:"text",placeholder:at.placeholder,value:String(B[at.key]||""),onChange:lt=>Oe(at.key,lt.target.value),className:"admin-input mt-2",required:at.required})]},Dt))})})]},nt)),s.jsx(Ce,{className:"admin-card",children:s.jsxs(Yj,{children:[s.jsxs(Xe,{children:[s.jsx(Xj,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Un,{className:"w-5 h-5 text-primary"})}),"Payment Gateway Configuration"]}),s.jsx(Xu,{className:"h-5 w-5 transition-transform duration-200 data-[state=open]:rotate-180"})]})}),s.jsx("p",{className:"text-muted-foreground mt-2 text-left",children:"Configure payment gateways for your store - click any card to set up"})]}),s.jsx(Jj,{children:s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs(Yr,{children:[s.jsx(Un,{className:"h-4 w-4"}),s.jsx(Xr,{children:"Click on any payment gateway card below to configure credentials. Payments go directly to your account."})]}),(B.razorpay_enabled||B.phonepe_enabled||B.cashfree_enabled||B.payu_enabled||B.paytm_enabled||B.stripe_enabled)&&s.jsx("div",{className:"p-6 rounded-xl border-2 border-primary/20 bg-primary/5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-1",children:"Payment Methods at Checkout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which payment options customers will see during checkout"})]}),s.jsxs("div",{className:"inline-flex rounded-lg border-2 border-primary/20 p-1 bg-background",children:[s.jsx("button",{type:"button",onClick:()=>V(je=>({...je,payment_mode:"online_only"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${B.payment_mode==="online_only"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online Payment Only"}),s.jsx("button",{type:"button",onClick:()=>V(je=>({...je,payment_mode:"online_and_cod"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${B.payment_mode==="online_and_cod"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online + COD"})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"mt-0.5",children:B.payment_mode==="online_only"?s.jsx(Vs,{className:"w-4 h-4 text-blue-600"}):s.jsx(an,{className:"w-4 h-4 text-green-600"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:B.payment_mode==="online_only"?s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online Payment Only:"})," Customers can only pay using configured payment gateways. Cash on Delivery will not be available."]}):s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online + COD:"})," Customers can choose to pay online or via Cash on Delivery. This gives maximum flexibility to your customers."]})})]})]})}),!(B.razorpay_enabled||B.phonepe_enabled||B.cashfree_enabled||B.payu_enabled||B.paytm_enabled||B.stripe_enabled)&&s.jsxs(Yr,{className:"bg-amber-500/10 border-amber-500/20",children:[s.jsx(Vs,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Xr,{className:"text-amber-900 dark:text-amber-100",children:[s.jsx("strong",{children:"Cash on Delivery Only:"})," Configure at least one payment gateway below to enable online payments."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{onClick:()=>I("razorpay"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-blue-500/50 hover:-translate-y-1",style:{borderColor:B.razorpay_enabled?"#3b82f6":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:B.razorpay_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors",children:s.jsx(Un,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Razorpay"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Popular in India"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(Na,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("phonepe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-purple-500/50 hover:-translate-y-1",style:{borderColor:B.phonepe_enabled?"#a855f7":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:B.phonepe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 group-hover:bg-purple-500/20 transition-colors",children:s.jsx(Un,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PhonePe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"UPI & Digital"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600 dark:text-purple-400 font-medium",children:[s.jsx(Na,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("cashfree"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-green-500/50 hover:-translate-y-1",style:{borderColor:B.cashfree_enabled?"#22c55e":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:B.cashfree_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-500/10 group-hover:bg-green-500/20 transition-colors",children:s.jsx(Un,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Cashfree"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Payments & Payouts"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 font-medium",children:[s.jsx(Na,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("payu"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-orange-500/50 hover:-translate-y-1",style:{borderColor:B.payu_enabled?"#f97316":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:B.payu_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-orange-500/10 group-hover:bg-orange-500/20 transition-colors",children:s.jsx(Un,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PayU"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Leading Solution"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600 dark:text-orange-400 font-medium",children:[s.jsx(Na,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("paytm"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-sky-500/50 hover:-translate-y-1",style:{borderColor:B.paytm_enabled?"#0ea5e9":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:B.paytm_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-sky-500/10 group-hover:bg-sky-500/20 transition-colors",children:s.jsx(Un,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Paytm"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Wallet & Gateway"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-sky-600 dark:text-sky-400 font-medium",children:[s.jsx(Na,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("stripe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-indigo-500/50 hover:-translate-y-1",style:{borderColor:B.stripe_enabled?"#6366f1":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:B.stripe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-indigo-500/10 group-hover:bg-indigo-500/20 transition-colors",children:s.jsx(Un,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Stripe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Global Platform"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:[s.jsx(Na,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]})]}),s.jsxs(Yr,{className:"bg-amber-500/5 border-amber-500/20",children:[s.jsx(Vs,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Xr,{className:"text-amber-600 dark:text-amber-400",children:[s.jsx("strong",{children:"Important:"})," Keep your API credentials secure. Payments go directly to your accounts. We recommend using test/sandbox credentials first before going live."]})]})]})})]})}),s.jsxs(Ce,{className:"admin-card",children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(km,{className:"w-5 h-5 text-primary"})}),"Custom Domain"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your own domain to your store"})]}),s.jsx(Ee,{className:"space-y-4",children:F.enableCustomDomain?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"customDomain",children:"Custom Domain"}),s.jsx(Fe,{id:"customDomain",type:"text",placeholder:"yourdomain.com or www.yourdomain.com or shop.yourdomain.com",value:B.customDomain,onChange:je=>Oe("customDomain",je.target.value),className:"admin-input mt-2",disabled:!F.enableCustomDomain}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Enter your domain: ",s.jsx("strong",{children:"yourdomain.com"})," (root), ",s.jsx("strong",{children:"www.yourdomain.com"}),", or ",s.jsx("strong",{children:"shop.yourdomain.com"})]})]}),B.customDomain&&(()=>{const nt=B.customDomain.trim().split("."),at=nt.length===2,Dt=at?"@":nt[0];return s.jsxs(Yr,{children:[s.jsx(km,{className:"h-4 w-4"}),s.jsx(Xr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"DNS Configuration Required:"}),s.jsx("p",{className:"text-sm",children:at?"For root domain, add an A record pointing to your server IP:":"For subdomain, add a CNAME record in your domain's DNS settings:"}),s.jsx("div",{className:"bg-muted p-2 rounded mt-2 font-mono text-xs",children:at?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: A"}),s.jsx("div",{children:"Name: @ (or leave blank)"}),s.jsx("div",{children:"Value: Your Server IP"}),s.jsx("div",{className:"mt-2 text-muted-foreground",children:"Alternative: Use CNAME for www, then redirect @ to www"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: CNAME"}),s.jsxs("div",{children:["Name: ",Dt]}),s.jsx("div",{children:"Value: yesgive.shop"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"DNS changes may take up to 48 hours to propagate."})]})})]})})()]}):s.jsxs(Yr,{children:[s.jsx(Ng,{className:"h-4 w-4"}),s.jsxs(Xr,{children:["Custom domain is only available for Pro, Premium, and Enterprise plans.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(Ce,{className:"admin-card",children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Tf,{className:"w-5 h-5 text-primary"})}),"Location Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Control how location sharing works for your customers"})]}),s.jsx(Ee,{className:"space-y-4",children:F.enableLocationSharing?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{htmlFor:"forceLocationSharing",className:"text-base font-medium cursor-pointer",children:"Force Location Sharing"}),B.forceLocationSharing&&s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:"Mandatory"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:B.forceLocationSharing?"Customers must share their location to place orders (mandatory)":"Location sharing is optional for customers (recommended)"})]}),s.jsx(Gr,{id:"forceLocationSharing",checked:B.forceLocationSharing,onCheckedChange:je=>V(nt=>({...nt,forceLocationSharing:je})),className:`ml-4 ${B.forceLocationSharing?"data-[state=checked]:bg-green-500":""}`})]}),s.jsxs(Yr,{children:[s.jsx(Vs,{className:"h-4 w-4"}),s.jsxs(Xr,{children:[s.jsx("strong",{children:"Important:"})," Forcing location sharing may reduce conversions. We recommend keeping it optional unless you have specific delivery area requirements."]})]})]}):s.jsxs(Yr,{children:[s.jsx(Ng,{className:"h-4 w-4"}),s.jsxs(Xr,{children:["Location sharing is not available in your current plan.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(Ce,{className:"admin-card",children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(qv,{className:"w-5 h-5 text-primary"})}),"Hero Banner Carousel (Multiple Images)"]}),s.jsx("p",{className:"text-muted-foreground",children:"Add multiple banner images for auto-sliding carousel (Recommended size: 1920x450px)"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"vps",checked:R==="vps",onChange:je=>P(je.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Fast & Reliable)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"drive",checked:R==="drive",onChange:je=>P(je.target.value),className:"w-4 h-4 text-primary",disabled:!v}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!v&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R==="vps"?"Banners will be compressed to max 5MB and stored on your server":"Banners will be uploaded to your connected Google Drive"})]}),R==="vps"&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{className:"text-sm font-medium",children:"VPS Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[Q.toFixed(2)," MB / ",de," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${Q>=de?"bg-destructive":Q>=de*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(Q/de*100,100)}%`}})}),Q>=de&&s.jsxs("p",{className:"text-sm text-destructive font-medium flex items-center gap-1",children:[s.jsx(Si,{className:"w-4 h-4"}),"Storage limit reached. Delete images to free space."]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Limit: 20 images  5 MB = 100 MB total"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-medium",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${C?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"bannerUpload",accept:"image/*",multiple:!0,onChange:he,className:"hidden",disabled:C}),s.jsx("label",{htmlFor:"bannerUpload",className:`block p-6 text-center ${C?"cursor-not-allowed":"cursor-pointer"}`,children:C&&k.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",k.length," image",k.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:k.map((je,nt)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[je.progress<100?s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:je.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:je.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[je.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${je.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${je.progress}%`}})})]},`uploading-${nt}`))})]}):s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(tf,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Click to upload banner images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"Images will be uploaded to your Google Drive":"Connect Google Drive below to enable uploads"})]})]})})]}),!v&&!C&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Connect your Google Drive account in the section below to upload images directly."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-medium",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{id:"newBannerUrl",type:"text",placeholder:"https://drive.google.com/file/d/...",value:Z,onChange:je=>X(je.target.value),onKeyPress:je=>je.key==="Enter"&&(je.preventDefault(),ee()),className:"admin-input flex-1"}),s.jsx(ae,{type:"button",onClick:ee,className:"admin-button-primary",children:s.jsx(oi,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Paste a Google Drive share link. Make sure the file is set to "Anyone with the link can view".'})]}),B.heroBannerUrls.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ke,{className:"text-base font-medium",children:["Current Banner Images (",B.heroBannerUrls.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:B.heroBannerUrls.map((je,nt)=>s.jsx("div",{className:"relative group rounded-lg overflow-hidden border bg-muted",children:s.jsxs("div",{className:"aspect-[16/9] relative",children:[s.jsx("img",{src:je,alt:`Banner ${nt+1}`,className:"w-full h-full object-cover",onError:at=>{at.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="%23f0f0f0" width="100" height="100"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23999" font-size="12">Image Error</text></svg>'}}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:nt+1}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",onClick:()=>we(nt),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Aa,{className:"w-4 h-4"})})]})},nt))})]}),B.heroBannerUrls.length===0&&k.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(qv,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No banner images added yet."}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images or paste URLs above to create a carousel."})]})]})]}),s.jsxs(Ce,{className:"admin-card",children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(qv,{className:"w-5 h-5 text-primary"})}),"Media Library"]}),s.jsx("p",{className:"text-muted-foreground",children:"All VPS uploaded images"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{className:"text-sm font-medium",children:"Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[re.length," images  ",Q.toFixed(2)," MB / ",de," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${Q>=de?"bg-destructive":Q>=de*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(Q/de*100,100)}%`}})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:J==="all"?"default":"outline",size:"sm",onClick:()=>z("all"),children:["All (",re.length,")"]}),s.jsxs(ae,{variant:J==="products"?"default":"outline",size:"sm",onClick:()=>z("products"),children:["Products (",re.filter(je=>je.file_type==="products").length,")"]}),s.jsxs(ae,{variant:J==="categories"?"default":"outline",size:"sm",onClick:()=>z("categories"),children:["Categories (",re.filter(je=>je.file_type==="categories").length,")"]}),s.jsxs(ae,{variant:J==="banners"?"default":"outline",size:"sm",onClick:()=>z("banners"),children:["Banners (",re.filter(je=>je.file_type==="banners").length,")"]})]}),Se?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:re.filter(je=>J==="all"||je.file_type===J).map(je=>s.jsxs("div",{className:"group relative border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx("img",{src:je.file_url,alt:je.file_name,className:"w-full h-full object-cover",onError:nt=>{nt.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400"}})}),s.jsxs("div",{className:"p-2 bg-background border-t",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:je.file_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[je.file_size_mb.toFixed(2)," MB"]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:je.file_type})]}),s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[s.jsx(ae,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>Ze(je.file_url),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),s.jsx(ae,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>tt(je.file_url),children:s.jsx(Rn,{className:"w-4 h-4"})})]})]},je.id))}),re.filter(je=>J==="all"||je.file_type===J).length===0&&!Se&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(qv,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No images in media library"}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images to see them here"})]})]})]}),s.jsxs(Ce,{className:`admin-card ${v?"":"border-red-500 border-2"}`,children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Vu,{className:"w-5 h-5 text-primary"})}),"Google Drive Connection"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your Google Drive to upload product images directly"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{className:"text-base font-medium",children:"Status"}),v?s.jsxs("span",{className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2 py-1 rounded-full font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full font-medium",children:"Not Connected"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"You can upload images to Google Drive from product pages":"Connect your Google Drive account to enable image uploads"})]}),s.jsx(ae,{type:"button",onClick:Pe,disabled:w,className:v?"admin-button":"admin-button-primary",children:w?s.jsxs(s.Fragment,{children:[s.jsx(tf,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):v?s.jsxs(s.Fragment,{children:[s.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]}),!v&&s.jsxs(Yr,{style:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(Vs,{className:"h-4 w-4"}),s.jsxs(Xr,{children:[s.jsx("strong",{children:"Note:"}),` You'll be redirected to Google to grant Drive permissions. Make sure to allow "See and download files from your Google Drive" permission.`]})]}),v&&s.jsxs(Yr,{className:"border-green-500/20 bg-green-500/5",children:[s.jsx(Vu,{className:"h-4 w-4 text-green-600"}),s.jsx(Xr,{className:"text-green-600 dark:text-green-400",children:"Your Google Drive is connected. You can now upload images directly when adding or editing products."})]})]})]}),s.jsx(Ce,{className:"admin-card border-2 border-primary/20",children:s.jsxs(Yj,{open:d,onOpenChange:f,children:[s.jsx(Xj,{asChild:!0,children:s.jsxs(Xe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(cm,{className:"w-5 h-5 text-primary"})}),"AI Assistant",!F.enableAiVoice&&s.jsx(Ng,{className:"w-4 h-4 text-muted-foreground ml-2"}),s.jsx(Xu,{className:`ml-auto h-5 w-5 transition-transform duration-200 ${d?"transform rotate-180":""}`})]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure AI voice assistant and training data for your store"})]})}),s.jsx(Jj,{children:s.jsxs(Ee,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(cm,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"AI Voice Assistant"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F.enableAiVoice?"Add ElevenLabs conversational AI to your store":"Upgrade to premium to enable"})]})]}),F.enableAiVoice?s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{htmlFor:"aiVoiceEmbedCode",className:"text-base",children:"ElevenLabs Embed Code"}),s.jsx(Ks,{id:"aiVoiceEmbedCode",placeholder:'<elevenlabs-convai agent-id="your_agent_id"></elevenlabs-convai><script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"><\/script>',value:B.aiVoiceEmbedCode,onChange:je=>Oe("aiVoiceEmbedCode",je.target.value),className:"admin-input min-h-[100px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste your ElevenLabs embed code to enable AI voice on your store"})]}):s.jsxs(Yr,{children:[s.jsx(Ng,{className:"h-4 w-4"}),s.jsx(Xr,{children:"Premium feature - Upgrade your subscription to enable voice interactions"})]})]}),s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(Jc,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Training Data Export"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download store data to train your AI agent"})]})]}),s.jsx("div",{className:"bg-background/50 p-4 rounded-lg border space-y-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Jc,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Export includes store info, policies, products, and variants - ready for AI training"})]})}),s.jsx(ae,{type:"button",onClick:Me,disabled:r||!a,className:"w-full admin-button-primary",size:"lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(tf,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating File..."]}):s.jsxs(s.Fragment,{children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"Download Training Data (TXT)"]})})]})]})})]})}),s.jsx(Yj,{open:c,onOpenChange:u,children:s.jsxs(Ce,{className:"admin-card",children:[s.jsxs(Xe,{children:[s.jsx(Xj,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(cm,{className:"w-5 h-5 text-primary"})}),"Store Policies"]}),s.jsx(Xu,{className:`w-5 h-5 text-muted-foreground transition-transform duration-200 ${c?"transform rotate-180":""}`})]})}),s.jsx("p",{className:"text-muted-foreground text-left mt-2",children:"Define your store policies and terms"})]}),s.jsx(Jj,{children:s.jsx(Ee,{className:"space-y-6",children:jt.map((je,nt)=>s.jsxs("div",{children:[s.jsx(ke,{htmlFor:je.key,children:je.label}),s.jsx(Ks,{id:je.key,placeholder:je.placeholder,value:String(B[je.key]||""),onChange:at=>Oe(je.key,at.target.value),className:"admin-input min-h-[120px] mt-2"})]},nt))})})]})}),s.jsx(Ce,{className:"admin-card bg-muted/50",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(tf,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Image Upload Tips"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Upload images to Google Drive and use the sharing link"}),s.jsx("li",{children:' Make sure images are set to "Anyone with the link can view"'}),s.jsx("li",{children:" Recommended logo size: 200x80px (PNG/JPG)"}),s.jsx("li",{children:" Recommended hero banner: 1920x450px (JPG/PNG)"})]})]})]})})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{type:"submit",className:"admin-button-primary min-w-[150px]",disabled:e,children:e?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]}),s.jsx(cn,{open:D==="razorpay",onOpenChange:je=>!je&&I(null),children:s.jsxs(sn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(Un,{className:"w-5 h-5 text-blue-600"})}),"Configure Razorpay"]}),s.jsx(Zn,{children:"Enter your Razorpay API credentials to enable payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Razorpay"}),s.jsx(Gr,{checked:B.razorpay_enabled,onCheckedChange:je=>V(nt=>({...nt,razorpay_enabled:je}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"razorpay_key_id",children:"Key ID"}),s.jsx(Fe,{id:"razorpay_key_id",type:"text",placeholder:"Enter your Razorpay Key ID",value:B.razorpay_key_id,onChange:je=>Oe("razorpay_key_id",je.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Razorpay Dashboard  Settings  API Keys"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"razorpay_key_secret",children:"Key Secret"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Fe,{id:"razorpay_key_secret",type:T.razorpay_key_secret?"text":"password",placeholder:"",value:B.razorpay_key_secret,onChange:je=>Oe("razorpay_key_secret",je.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(je=>({...je,razorpay_key_secret:!je.razorpay_key_secret})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:T.razorpay_key_secret?s.jsx(Fh,{className:"w-4 h-4"}):s.jsx(Es,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-blue-500/5 border-blue-500/20",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://razorpay.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://razorpay.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com/docs"})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{I(null),Ie({title:"Razorpay Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(cn,{open:D==="phonepe",onOpenChange:je=>!je&&I(null),children:s.jsxs(sn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:s.jsx(Un,{className:"w-5 h-5 text-purple-600"})}),"Configure PhonePe"]}),s.jsx(Zn,{children:"Enter your PhonePe credentials to enable UPI payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable PhonePe"}),s.jsx(Gr,{checked:B.phonepe_enabled,onCheckedChange:je=>V(nt=>({...nt,phonepe_enabled:je}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"phonepe_merchant_id",children:"Merchant ID"}),s.jsx(Fe,{id:"phonepe_merchant_id",type:"text",placeholder:"M123456789012345",value:B.phonepe_merchant_id,onChange:je=>Oe("phonepe_merchant_id",je.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PhonePe Business Dashboard"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"phonepe_salt_key",children:"Salt Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Fe,{id:"phonepe_salt_key",type:T.phonepe_salt_key?"text":"password",placeholder:"",value:B.phonepe_salt_key,onChange:je=>Oe("phonepe_salt_key",je.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(je=>({...je,phonepe_salt_key:!je.phonepe_salt_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:T.phonepe_salt_key?s.jsx(Fh,{className:"w-4 h-4"}):s.jsx(Es,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"phonepe_salt_index",children:"Salt Index"}),s.jsx(Fe,{id:"phonepe_salt_index",type:"text",placeholder:"1",value:B.phonepe_salt_index,onChange:je=>Oe("phonepe_salt_index",je.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usually 1 or 2, check your PhonePe dashboard"})]}),s.jsxs(Yr,{className:"bg-purple-500/5 border-purple-500/20",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.phonepe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"business.phonepe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.phonepe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"developer.phonepe.com/docs"})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{I(null),Ie({title:"PhonePe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(cn,{open:D==="cashfree",onOpenChange:je=>!je&&I(null),children:s.jsxs(sn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(Un,{className:"w-5 h-5 text-green-600"})}),"Configure Cashfree"]}),s.jsx(Zn,{children:"Enter your Cashfree credentials for payments & payouts"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Cashfree"}),s.jsx(Gr,{checked:B.cashfree_enabled,onCheckedChange:je=>V(nt=>({...nt,cashfree_enabled:je}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"cashfree_app_id",children:"App ID"}),s.jsx(Fe,{id:"cashfree_app_id",type:"text",placeholder:"12345abcdef67890ghij",value:B.cashfree_app_id,onChange:je=>Oe("cashfree_app_id",je.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Cashfree Dashboard  Credentials"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"cashfree_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Fe,{id:"cashfree_secret_key",type:T.cashfree_secret_key?"text":"password",placeholder:"",value:B.cashfree_secret_key,onChange:je=>Oe("cashfree_secret_key",je.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(je=>({...je,cashfree_secret_key:!je.cashfree_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:T.cashfree_secret_key?s.jsx(Fh,{className:"w-4 h-4"}):s.jsx(Es,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-green-500/5 border-green-500/20",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"cashfree.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://docs.cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"docs.cashfree.com"})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{I(null),Ie({title:"Cashfree Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(cn,{open:D==="payu",onOpenChange:je=>!je&&I(null),children:s.jsxs(sn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:s.jsx(Un,{className:"w-5 h-5 text-orange-600"})}),"Configure PayU"]}),s.jsx(Zn,{children:"Enter your PayU merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable PayU"}),s.jsx(Gr,{checked:B.payu_enabled,onCheckedChange:je=>V(nt=>({...nt,payu_enabled:je}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"payu_merchant_key",children:"Merchant Key"}),s.jsx(Fe,{id:"payu_merchant_key",type:"text",placeholder:"gtKFFx",value:B.payu_merchant_key,onChange:je=>Oe("payu_merchant_key",je.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PayU Dashboard  Settings  API Credentials"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"payu_merchant_salt",children:"Merchant Salt"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Fe,{id:"payu_merchant_salt",type:T.payu_merchant_salt?"text":"password",placeholder:"",value:B.payu_merchant_salt,onChange:je=>Oe("payu_merchant_salt",je.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(je=>({...je,payu_merchant_salt:!je.payu_merchant_salt})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:T.payu_merchant_salt?s.jsx(Fh,{className:"w-4 h-4"}):s.jsx(Es,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-orange-500/5 border-orange-500/20",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"payu.in"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://devguide.payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"devguide.payu.in"})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{I(null),Ie({title:"PayU Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(cn,{open:D==="paytm",onOpenChange:je=>!je&&I(null),children:s.jsxs(sn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:s.jsx(Un,{className:"w-5 h-5 text-sky-600"})}),"Configure Paytm"]}),s.jsx(Zn,{children:"Enter your Paytm merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Paytm"}),s.jsx(Gr,{checked:B.paytm_enabled,onCheckedChange:je=>V(nt=>({...nt,paytm_enabled:je}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"paytm_merchant_id",children:"Merchant ID"}),s.jsx(Fe,{id:"paytm_merchant_id",type:"text",placeholder:"YOUR_MID_HERE",value:B.paytm_merchant_id,onChange:je=>Oe("paytm_merchant_id",je.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Paytm Dashboard  Developer Settings"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"paytm_merchant_key",children:"Merchant Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Fe,{id:"paytm_merchant_key",type:T.paytm_merchant_key?"text":"password",placeholder:"",value:B.paytm_merchant_key,onChange:je=>Oe("paytm_merchant_key",je.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(je=>({...je,paytm_merchant_key:!je.paytm_merchant_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:T.paytm_merchant_key?s.jsx(Fh,{className:"w-4 h-4"}):s.jsx(Es,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-sky-500/5 border-sky-500/20",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.paytm.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"business.paytm.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.paytm.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"developer.paytm.com/docs"})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{I(null),Ie({title:"Paytm Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(cn,{open:D==="stripe",onOpenChange:je=>!je&&I(null),children:s.jsxs(sn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:s.jsx(Un,{className:"w-5 h-5 text-indigo-600"})}),"Configure Stripe"]}),s.jsx(Zn,{children:"Enter your Stripe API keys for global payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Stripe"}),s.jsx(Gr,{checked:B.stripe_enabled,onCheckedChange:je=>V(nt=>({...nt,stripe_enabled:je}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"stripe_publishable_key",children:"Publishable Key"}),s.jsx(Fe,{id:"stripe_publishable_key",type:"text",placeholder:"Enter your Stripe publishable key",value:B.stripe_publishable_key,onChange:je=>Oe("stripe_publishable_key",je.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Stripe Dashboard  Developers  API Keys (starts with pk_)"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"stripe_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Fe,{id:"stripe_secret_key",type:T.stripe_secret_key?"text":"password",placeholder:"Enter your Stripe secret key",value:B.stripe_secret_key,onChange:je=>Oe("stripe_secret_key",je.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(je=>({...je,stripe_secret_key:!je.stripe_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:T.stripe_secret_key?s.jsx(Fh,{className:"w-4 h-4"}):s.jsx(Es,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly. (starts with sk_)"})]}),s.jsxs(Yr,{className:"bg-indigo-500/5 border-indigo-500/20",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://stripe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com/docs"})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{I(null),Ie({title:"Stripe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsxs(Ce,{className:"admin-card border-2 border-destructive/50 bg-destructive/5",children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-3 text-destructive",children:[s.jsx("div",{className:"p-2 rounded-lg bg-destructive/20",children:s.jsx(Vs,{className:"w-5 h-5 text-destructive"})}),"Danger Zone"]}),s.jsx("p",{className:"text-muted-foreground",children:"Irreversible and destructive actions"})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-background rounded-lg border border-destructive/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Delete My Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account, store, and all associated data"})]}),s.jsxs(ae,{type:"button",variant:"destructive",onClick:()=>p(!0),className:"sm:ml-auto whitespace-nowrap",children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})]}),s.jsx(DCe,{open:m,onClose:()=>p(!1),userEmail:y,storeName:B.storeName})]})},LCe=5,$Ce=48;function BCe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(0),o=()=>{const f=new Date;return f.setHours(f.getHours()-$Ce),f.toISOString()},l=f=>{const p=Math.floor((new Date().getTime()-f.getTime())/1e3);if(p<60)return"Just now";if(p<3600){const g=Math.floor(p/60);return`${g} ${g===1?"minute":"minutes"} ago`}if(p<86400){const g=Math.floor(p/3600);return`${g} ${g===1?"hour":"hours"} ago`}const y=Math.floor(p/86400);return`${y} ${y===1?"day":"days"} ago`},c=async()=>{try{const{data:{session:f}}=await Y.auth.getSession();if(!f){t([]),n(!1);return}const{data:m}=await Y.from("stores").select("id").eq("user_id",f.user.id).maybeSingle();if(!m){t([]),n(!1);return}const p=o(),y=[],{data:g}=await Y.from("orders").select("id, order_number, customer_name, created_at, status").eq("store_id",m.id).gte("created_at",p).order("created_at",{ascending:!1}).limit(10);g&&g.forEach(_=>{const w=new Date(_.created_at);y.push({id:`order-${_.id}`,title:"New Order Received",description:`Order #${_.order_number} from ${_.customer_name}`,time:l(w),unread:!0,type:"order",createdAt:w})});const{data:v}=await Y.from("products").select("id, name, stock, updated_at").eq("store_id",m.id).eq("status","published").lte("stock",LCe).gt("stock",0).order("stock",{ascending:!0}).limit(5);v&&v.forEach(_=>{const w=new Date(_.updated_at||new Date);y.push({id:`stock-${_.id}`,title:"Product Stock Low",description:`${_.name} is running low (${_.stock} left)`,time:l(w),unread:!0,type:"stock",createdAt:w})}),y.sort((_,w)=>w.createdAt.getTime()-_.createdAt.getTime()),t(y),i(y.filter(_=>_.unread).length),n(!1)}catch(f){console.error("[useNotifications] Error fetching notifications:",f),n(!1)}};return b.useEffect(()=>{c();const f=Y.channel("notifications-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},()=>{c()}).subscribe(),m=Y.channel("notifications-products").on("postgres_changes",{event:"UPDATE",schema:"public",table:"products"},()=>{c()}).subscribe();return()=>{Y.removeChannel(f),Y.removeChannel(m)}},[]),{notifications:e,unreadCount:a,isLoading:r,markAsRead:f=>{t(m=>m.map(p=>p.id===f?{...p,unread:!1}:p)),i(m=>Math.max(0,m-1))},markAllAsRead:()=>{t(f=>f.map(m=>({...m,unread:!1}))),i(0)},refresh:c}}const pn=({children:e})=>{const t=vr(),r=xu(),[n,a]=b.useState(!1),[i,o]=b.useState("Your Store"),[l,c]=b.useState(""),[u,d]=b.useState(""),[f,m]=b.useState(!1),p=b.useRef(null),[y,g]=b.useState([]),[v,_]=b.useState(null),[w,j]=b.useState(!0),[C,S]=b.useState(null),[k,E]=b.useState(!0),[R,P]=b.useState([]),{notifications:T,unreadCount:O}=BCe();b.useEffect(()=>{(async()=>{try{const{data:{session:G}}=await Y.auth.getSession();if(!G){t("/auth",{replace:!0});return}G.user.email&&c(G.user.email);let{data:K}=await Y.from("profiles").select("full_name, email").eq("user_id",G.user.id).maybeSingle();if(!K){const{data:F}=await Y.from("profiles").insert({user_id:G.user.id,email:G.user.email||"",full_name:G.user.user_metadata?.full_name||G.user.user_metadata?.name||""}).select("full_name, email").single();K=F}K?.full_name&&d(K.full_name);const{data:U}=await Y.from("stores").select("*").eq("user_id",G.user.id).maybeSingle();if(U){U.name&&o(U.name),U.enabled_features&&P(U.enabled_features);const{data:F}=await Y.from("subscriptions").select(`
              *,
              subscription_plans (
                whatsapp_orders_limit,
                website_orders_limit
              )
            `).eq("user_id",G.user.id).single();if(F){const B=new Date,V=F.current_period_end?new Date(F.current_period_end):null;if(V&&V<B&&S({expired:!0,expiresAt:V.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),F?.subscription_plans){const Z=F.subscription_plans.whatsapp_orders_limit,X=F.subscription_plans.website_orders_limit,Q=F.whatsapp_orders_used||0,ce=F.website_orders_used||0,de=Z&&Z>0&&Q>=Z,pe=X&&X>0&&ce>=X;(de||pe)&&_({whatsapp:de,website:pe,whatsappUsed:Q,whatsappLimit:Z||0,websiteUsed:ce,websiteLimit:X||0})}}}}catch(G){console.error("[AdminLayout] Error loading user data:",G)}})();const{data:{subscription:q}}=Y.auth.onAuthStateChange(G=>{G==="SIGNED_OUT"&&t("/auth")});return()=>q.unsubscribe()},[t]),b.useEffect(()=>{const W=q=>{p.current&&!p.current.contains(q.target)&&m(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]);const D=async()=>{console.log("[AdminLayout] Logging out..."),await Y.auth.signOut(),console.log("[AdminLayout] User signed out"),Ie({title:"Logged Out",description:"You have been successfully logged out"}),t("/")},I=W=>{g(q=>q.includes(W)?q.filter(G=>G!==W):[...q,W])},L=[{name:"Dashboard",href:"/admin/dashboard",icon:n9,current:r.pathname==="/admin/dashboard"},{name:"Categories",href:"/admin/categories",icon:Wn,current:r.pathname==="/admin/categories"},{name:"Products",href:"/admin/products",icon:Wn,current:r.pathname.startsWith("/admin/products")},{name:"Orders",href:"/admin/orders",icon:Af,current:r.pathname==="/admin/orders"},{name:"Analytics",href:"/admin/analytics",icon:n9,current:r.pathname==="/admin/analytics"},{name:"Growth",icon:Z0e,isDropdown:!0,current:r.pathname.startsWith("/admin/growth"),subItems:[{name:"Discount & Coupon",href:"/admin/growth/discount-and-coupon",icon:fy,current:r.pathname==="/admin/growth/discount-and-coupon"},{name:"SEO",href:"/admin/growth/seo",icon:tl,current:r.pathname==="/admin/growth/seo"},{name:"Social Media",href:"/admin/growth/social-media",icon:Vg,current:r.pathname==="/admin/growth/social-media"},{name:"Instagram",href:"/admin/growth/instagram",icon:Ml,current:r.pathname==="/admin/growth/instagram"}]},{name:"Subscription",href:"/admin/subscription",icon:Un,current:r.pathname==="/admin/subscription"},...R.includes("shipping")?[{name:"Shipping",href:"/admin/shipping",icon:xc,current:r.pathname==="/admin/shipping"}]:[],...R.includes("google-reviews")?[{name:"Google Reviews",href:"/admin/google-reviews",icon:Xi,current:r.pathname==="/admin/google-reviews"}]:[],{name:"Marketplace",href:"/admin/marketplace",icon:um,current:r.pathname==="/admin/marketplace"},{name:"Settings",href:"/admin/settings",icon:Na,current:r.pathname==="/admin/settings"}];return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col
          transform transition-transform duration-300 ease-out shadow-xl lg:shadow-none
          ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Om,{size:24}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-semibold text-foreground text-sm truncate",children:i}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Admin Panel"})]})]}),s.jsx("button",{onClick:()=>a(!1),className:"lg:hidden p-1.5 hover:bg-muted rounded-md transition-colors touch-target",children:s.jsx(Aa,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto scrollbar-hide",children:L.map(W=>s.jsx("div",{children:W.isDropdown?s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>I(W.name),className:`w-full flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                      ${W.current?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:W.name})]}),s.jsx(Xu,{className:`w-4 h-4 transition-transform duration-200 ${y.includes(W.name)?"rotate-180":""}`})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-200 ${y.includes(W.name)?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"pl-4 mt-1 space-y-1",children:W.subItems?.map(q=>s.jsxs(Tt,{to:q.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 touch-target
                            ${q.current?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                          `,children:[s.jsx(q.icon,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:q.name})]},q.name))})})]}):s.jsxs(Tt,{to:W.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                    ${W.current?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-muted"}
                  `,children:[s.jsx(W.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:W.name})]})},W.name))}),s.jsx("div",{className:"p-3 border-t border-border",children:s.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-destructive hover:bg-destructive/10 transition-all duration-200 touch-target",children:[s.jsx(np,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-14 lg:h-16",children:[s.jsx("button",{onClick:()=>a(!n),className:"lg:hidden p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Toggle menu",children:s.jsx(TM,{className:"w-6 h-6 text-foreground"})}),s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(Om,{size:20}),s.jsx("span",{className:"font-semibold text-foreground text-sm truncate max-w-[120px]",children:i})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 ml-auto",children:[s.jsx(li,{}),s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("button",{onClick:()=>m(!f),className:"relative p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Notifications",children:[s.jsx(t9,{className:"w-5 h-5 text-foreground"}),O>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary rounded-full ring-2 ring-card"})]}),f&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[calc(100vw-2rem)] bg-card border border-border rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground text-sm",children:"Notifications"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["You have ",O," unread notification",O!==1?"s":""]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-hide",children:T.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(t9,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications yet"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You'll see new orders and stock alerts here"})]}):T.map(W=>s.jsxs("div",{className:`p-4 hover:bg-muted transition-colors cursor-pointer border-b border-border last:border-0 ${W.unread?"bg-primary/5":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground flex-1",children:W.title}),W.unread&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-1 ml-2 flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W.description}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:W.time})]},W.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-2 lg:pl-3 border-l border-border",children:[s.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-primary rounded-full flex items-center justify-center",children:s.jsx(d0,{className:"w-4 h-4 lg:w-5 lg:h-5 text-primary-foreground"})}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[180px]",children:u||l||"Admin User"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[180px]",children:u&&l?l:"Store Manager"})]})]})]})]})}),C&&k&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Yr,{className:"border-destructive bg-destructive/10",children:[s.jsx(Vs,{className:"h-5 w-5 text-destructive"}),s.jsxs(Xr,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Subscription Expired"}),s.jsxs("p",{className:"text-sm text-foreground",children:["Your subscription expired on ",C.expiresAt,". You cannot accept new orders until you renew your subscription."," ",s.jsx(ae,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Renew your subscription"})," ","to continue accepting orders."]})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>E(!1),children:s.jsx(Qn,{className:"h-4 w-4"})})]})]})})}),v&&w&&!C&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Yr,{className:"border-destructive bg-destructive/10",children:[s.jsx(Vs,{className:"h-5 w-5 text-destructive"}),s.jsxs(Xr,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Order Limit Reached"}),s.jsxs("p",{className:"text-sm text-foreground",children:[v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp (",v.whatsappUsed,"/",v.whatsappLimit,") and Website (",v.websiteUsed,"/",v.websiteLimit,") order limits. "]}),v.whatsapp&&!v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp order limit (",v.whatsappUsed,"/",v.whatsappLimit,"). "]}),!v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your Website order limit (",v.websiteUsed,"/",v.websiteLimit,"). "]}),s.jsx(ae,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Upgrade your plan"})," ","to continue receiving orders."]})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>j(!1),children:s.jsx(Qn,{className:"h-4 w-4"})})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto smooth-scroll",children:s.jsx("div",{className:"p-4 lg:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})})]})]})})},UCe=cx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _t({className:e,variant:t,...r}){return s.jsx("div",{className:ft(UCe({variant:t}),e),...r})}function bb(e,[t,r]){return Math.min(r,Math.max(t,e))}var VCe=[" ","Enter","ArrowUp","ArrowDown"],zCe=[" ","Enter"],Rm="Select",[Q2,ek,qCe]=ox(Rm),[vx]=Is(Rm,[qCe,eh]),tk=eh(),[WCe,ah]=vx(Rm),[HCe,GCe]=vx(Rm),Lne=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:y}=e,g=tk(t),[v,_]=b.useState(null),[w,j]=b.useState(null),[C,S]=b.useState(!1),k=nh(u),[E,R]=Pi({prop:n,defaultProp:a??!1,onChange:i,caller:Rm}),[P,T]=Pi({prop:o,defaultProp:l,onChange:c,caller:Rm}),O=b.useRef(null),D=v?y||!!v.closest("form"):!0,[I,L]=b.useState(new Set),W=Array.from(I).map(q=>q.props.value).join(";");return s.jsx(k2,{...g,children:s.jsxs(WCe,{required:p,scope:t,trigger:v,onTriggerChange:_,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:xo(),value:P,onValueChange:T,open:E,onOpenChange:R,dir:k,triggerPointerDownPosRef:O,disabled:m,children:[s.jsx(Q2.Provider,{scope:t,children:s.jsx(HCe,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(q=>{L(G=>new Set(G).add(q))},[]),onNativeOptionRemove:b.useCallback(q=>{L(G=>{const K=new Set(G);return K.delete(q),K})},[]),children:r})}),D?s.jsxs(lse,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:q=>T(q.target.value),disabled:m,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},W):null]})})};Lne.displayName=Rm;var $ne="SelectTrigger",Bne=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=tk(r),o=ah($ne,r),l=o.disabled||n,c=tr(t,o.onTriggerChange),u=ek(r),d=b.useRef("touch"),[f,m,p]=use(g=>{const v=u().filter(j=>!j.disabled),_=v.find(j=>j.value===o.value),w=dse(v,g,_);w!==void 0&&o.onValueChange(w.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Ow,{asChild:!0,...i,children:s.jsx(At.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cse(o.value)?"":void 0,...a,ref:c,onClick:mt(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:mt(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:mt(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&VCe.includes(g.key)&&(y(),g.preventDefault())})})})});Bne.displayName=$ne;var Une="SelectValue",Vne=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ah(Une,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=tr(t,c.onValueNodeChange);return Ds(()=>{u(d)},[u,d]),s.jsx(At.span,{...l,ref:f,style:{pointerEvents:"none"},children:cse(c.value)?s.jsx(s.Fragment,{children:o}):i})});Vne.displayName=Une;var KCe="SelectIcon",zne=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(At.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});zne.displayName=KCe;var YCe="SelectPortal",qne=e=>s.jsx(lx,{asChild:!0,...e});qne.displayName=YCe;var Im="SelectContent",Wne=b.forwardRef((e,t)=>{const r=ah(Im,e.__scopeSelect),[n,a]=b.useState();if(Ds(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ix.createPortal(s.jsx(Hne,{scope:e.__scopeSelect,children:s.jsx(Q2.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Gne,{...e,ref:t})});Wne.displayName=Im;var ac=10,[Hne,ih]=vx(Im),XCe="SelectContentImpl",JCe=kf("SelectContent.RemoveScroll"),Gne=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,..._}=e,w=ah(Im,r),[j,C]=b.useState(null),[S,k]=b.useState(null),E=tr(t,de=>C(de)),[R,P]=b.useState(null),[T,O]=b.useState(null),D=ek(r),[I,L]=b.useState(!1),W=b.useRef(!1);b.useEffect(()=>{if(j)return V2(j)},[j]),U2();const q=b.useCallback(de=>{const[pe,...re]=D().map(z=>z.ref.current),[ie]=re.slice(-1),J=document.activeElement;for(const z of de)if(z===J||(z?.scrollIntoView({block:"nearest"}),z===pe&&S&&(S.scrollTop=0),z===ie&&S&&(S.scrollTop=S.scrollHeight),z?.focus(),document.activeElement!==J))return},[D,S]),G=b.useCallback(()=>q([R,j]),[q,R,j]);b.useEffect(()=>{I&&G()},[I,G]);const{onOpenChange:K,triggerPointerDownPosRef:U}=w;b.useEffect(()=>{if(j){let de={x:0,y:0};const pe=ie=>{de={x:Math.abs(Math.round(ie.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(ie.pageY)-(U.current?.y??0))}},re=ie=>{de.x<=10&&de.y<=10?ie.preventDefault():j.contains(ie.target)||K(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",re,{capture:!0})}}},[j,K,U]),b.useEffect(()=>{const de=()=>K(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[K]);const[F,B]=use(de=>{const pe=D().filter(J=>!J.disabled),re=pe.find(J=>J.ref.current===document.activeElement),ie=dse(pe,de,re);ie&&setTimeout(()=>ie.ref.current.focus())}),V=b.useCallback((de,pe,re)=>{const ie=!W.current&&!re;(w.value!==void 0&&w.value===pe||ie)&&(P(de),ie&&(W.current=!0))},[w.value]),Z=b.useCallback(()=>j?.focus(),[j]),X=b.useCallback((de,pe,re)=>{const ie=!W.current&&!re;(w.value!==void 0&&w.value===pe||ie)&&O(de)},[w.value]),Q=n==="popper"?s3:Kne,ce=Q===s3?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(Hne,{scope:r,content:j,viewport:S,onViewportChange:k,itemRefCallback:V,selectedItem:R,onItemLeave:Z,itemTextRefCallback:X,focusSelectedItem:G,selectedItemText:T,position:n,isPositioned:I,searchRef:F,children:s.jsx(Lw,{as:JCe,allowPinchZoom:!0,children:s.jsx(Mw,{asChild:!0,trapped:w.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:mt(a,de=>{w.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:s.jsx(rp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:de=>de.preventDefault(),..._,...ce,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:mt(_.onKeyDown,de=>{const pe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!pe&&de.key.length===1&&B(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let ie=D().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(de.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const J=de.target,z=ie.indexOf(J);ie=ie.slice(z+1)}setTimeout(()=>q(ie)),de.preventDefault()}})})})})})})});Gne.displayName=XCe;var ZCe="SelectItemAlignedPosition",Kne=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ah(Im,r),o=ih(Im,r),[l,c]=b.useState(null),[u,d]=b.useState(null),f=tr(t,E=>d(E)),m=ek(r),p=b.useRef(!1),y=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:_,focusSelectedItem:w}=o,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&_){const E=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),T=_.getBoundingClientRect();if(i.dir!=="rtl"){const J=T.left-R.left,z=P.left-J,Se=E.left-z,te=E.width+Se,_e=Math.max(te,R.width),Ae=window.innerWidth-ac,ue=bb(z,[ac,Math.max(ac,Ae-_e)]);l.style.minWidth=te+"px",l.style.left=ue+"px"}else{const J=R.right-T.right,z=window.innerWidth-P.right-J,Se=window.innerWidth-E.right-z,te=E.width+Se,_e=Math.max(te,R.width),Ae=window.innerWidth-ac,ue=bb(z,[ac,Math.max(ac,Ae-_e)]);l.style.minWidth=te+"px",l.style.right=ue+"px"}const O=m(),D=window.innerHeight-ac*2,I=g.scrollHeight,L=window.getComputedStyle(u),W=parseInt(L.borderTopWidth,10),q=parseInt(L.paddingTop,10),G=parseInt(L.borderBottomWidth,10),K=parseInt(L.paddingBottom,10),U=W+q+I+K+G,F=Math.min(v.offsetHeight*5,U),B=window.getComputedStyle(g),V=parseInt(B.paddingTop,10),Z=parseInt(B.paddingBottom,10),X=E.top+E.height/2-ac,Q=D-X,ce=v.offsetHeight/2,de=v.offsetTop+ce,pe=W+q+de,re=U-pe;if(pe<=X){const J=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const z=u.clientHeight-g.offsetTop-g.offsetHeight,Se=Math.max(Q,ce+(J?Z:0)+z+G),te=pe+Se;l.style.height=te+"px"}else{const J=O.length>0&&v===O[0].ref.current;l.style.top="0px";const Se=Math.max(X,W+g.offsetTop+(J?V:0)+ce)+re;l.style.height=Se+"px",g.scrollTop=pe-X+g.offsetTop}l.style.margin=`${ac}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,v,_,i.dir,n]);Ds(()=>j(),[j]);const[C,S]=b.useState();Ds(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=b.useCallback(E=>{E&&y.current===!0&&(j(),w?.(),y.current=!1)},[j,w]);return s.jsx(eEe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(At.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Kne.displayName=ZCe;var QCe="SelectPopperPosition",s3=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ac,...i}=e,o=tk(r);return s.jsx(C2,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});s3.displayName=QCe;var[eEe,rF]=vx(Im,{}),a3="SelectViewport",Yne=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ih(a3,r),o=rF(a3,r),l=tr(t,i.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Q2.Slot,{scope:r,children:s.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:mt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-ac*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),_=Math.max(g,v);if(_<y){const w=_+p,j=Math.min(y,w),C=w-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Yne.displayName=a3;var Xne="SelectGroup",[tEe,rEe]=vx(Xne),nEe=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=xo();return s.jsx(tEe,{scope:r,id:a,children:s.jsx(At.div,{role:"group","aria-labelledby":a,...n,ref:t})})});nEe.displayName=Xne;var Jne="SelectLabel",Zne=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=rEe(Jne,r);return s.jsx(At.div,{id:a.id,...n,ref:t})});Zne.displayName=Jne;var ON="SelectItem",[sEe,Qne]=vx(ON),ese=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ah(ON,r),c=ih(ON,r),u=l.value===n,[d,f]=b.useState(i??""),[m,p]=b.useState(!1),y=tr(t,w=>c.itemRefCallback?.(w,n,a)),g=xo(),v=b.useRef("touch"),_=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(sEe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:b.useCallback(w=>{f(j=>j||(w?.textContent??"").trim())},[]),children:s.jsx(Q2.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(At.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:mt(o.onFocus,()=>p(!0)),onBlur:mt(o.onBlur,()=>p(!1)),onClick:mt(o.onClick,()=>{v.current!=="mouse"&&_()}),onPointerUp:mt(o.onPointerUp,()=>{v.current==="mouse"&&_()}),onPointerDown:mt(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:mt(o.onPointerMove,w=>{v.current=w.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mt(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:mt(o.onKeyDown,w=>{c.searchRef?.current!==""&&w.key===" "||(zCe.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});ese.displayName=ON;var ey="SelectItemText",tse=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ah(ey,r),l=ih(ey,r),c=Qne(ey,r),u=GCe(ey,r),[d,f]=b.useState(null),m=tr(t,_=>f(_),c.onItemTextChange,_=>l.itemTextRefCallback?.(_,c.value,c.disabled)),p=d?.textContent,y=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Ds(()=>(g(y),()=>v(y)),[g,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(At.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ix.createPortal(i.children,o.valueNode):null]})});tse.displayName=ey;var rse="SelectItemIndicator",nse=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Qne(rse,r).isSelected?s.jsx(At.span,{"aria-hidden":!0,...n,ref:t}):null});nse.displayName=rse;var i3="SelectScrollUpButton",sse=b.forwardRef((e,t)=>{const r=ih(i3,e.__scopeSelect),n=rF(i3,e.__scopeSelect),[a,i]=b.useState(!1),o=tr(t,n.onScrollButtonChange);return Ds(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(ise,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});sse.displayName=i3;var o3="SelectScrollDownButton",ase=b.forwardRef((e,t)=>{const r=ih(o3,e.__scopeSelect),n=rF(o3,e.__scopeSelect),[a,i]=b.useState(!1),o=tr(t,n.onScrollButtonChange);return Ds(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(ise,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ase.displayName=o3;var ise=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ih("SelectScrollButton",r),o=b.useRef(null),l=ek(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Ds(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(At.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:mt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:mt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:mt(a.onPointerLeave,()=>{c()})})}),aEe="SelectSeparator",ose=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(At.div,{"aria-hidden":!0,...n,ref:t})});ose.displayName=aEe;var l3="SelectArrow",iEe=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=tk(r),i=ah(l3,r),o=ih(l3,r);return i.open&&o.position==="popper"?s.jsx(E2,{...a,...n,ref:t}):null});iEe.displayName=l3;var oEe="SelectBubbleInput",lse=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=b.useRef(null),i=tr(n,a),o=Hw(t);return b.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(At.select,{...r,style:{...uZ,...r.style},ref:i,defaultValue:t})});lse.displayName=oEe;function cse(e){return e===""||e===void 0}function use(e){const t=Ts(e),r=b.useRef(""),n=b.useRef(0),a=b.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function dse(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=lEe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function lEe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cEe=Lne,fse=Bne,uEe=Vne,dEe=zne,fEe=qne,hse=Wne,hEe=Yne,mse=Zne,pse=ese,mEe=tse,pEe=nse,gse=sse,xse=ase,vse=ose;const ar=cEe,ir=uEe,rr=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fse,{ref:n,className:ft("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(dEe,{asChild:!0,children:s.jsx(Xu,{className:"h-4 w-4 opacity-50"})})]}));rr.displayName=fse.displayName;const yse=b.forwardRef(({className:e,...t},r)=>s.jsx(gse,{ref:r,className:ft("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(DZ,{className:"h-4 w-4"})}));yse.displayName=gse.displayName;const bse=b.forwardRef(({className:e,...t},r)=>s.jsx(xse,{ref:r,className:ft("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Xu,{className:"h-4 w-4"})}));bse.displayName=xse.displayName;const nr=b.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(fEe,{children:s.jsxs(hse,{ref:a,className:ft("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(yse,{}),s.jsx(hEe,{className:ft("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(bse,{})]})}));nr.displayName=hse.displayName;const gEe=b.forwardRef(({className:e,...t},r)=>s.jsx(mse,{ref:r,className:ft("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));gEe.displayName=mse.displayName;const Ue=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pse,{ref:n,className:ft("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pEe,{children:s.jsx(rn,{className:"h-4 w-4"})})}),s.jsx(mEe,{children:t})]}));Ue.displayName=pse.displayName;const xEe=b.forwardRef(({className:e,...t},r)=>s.jsx(vse,{ref:r,className:ft("-mx-1 my-1 h-px bg-muted",e),...t}));xEe.displayName=vse.displayName;const rk=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:ft("mx-auto flex w-full justify-center",e),...t});rk.displayName="Pagination";const nk=b.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:ft("flex flex-row items-center gap-1",e),...t}));nk.displayName="PaginationContent";const eu=b.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:ft("",e),...t}));eu.displayName="PaginationItem";const yx=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:ft(M2({variant:t?"outline":"ghost",size:r}),e),...n});yx.displayName="PaginationLink";const sk=({className:e,...t})=>s.jsxs(yx,{"aria-label":"Go to previous page",size:"default",className:ft("gap-1 pl-2.5",e),...t,children:[s.jsx(W0e,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});sk.displayName="PaginationPrevious";const ak=({className:e,...t})=>s.jsxs(yx,{"aria-label":"Go to next page",size:"default",className:ft("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(Cf,{className:"h-4 w-4"})]});ak.displayName="PaginationNext";const qs=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ft("w-full caption-bottom text-sm",e),...t})}));qs.displayName="Table";const Ws=b.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ft("[&_tr]:border-b",e),...t}));Ws.displayName="TableHeader";const Hs=b.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ft("[&_tr:last-child]:border-0",e),...t}));Hs.displayName="TableBody";const vEe=b.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ft("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));vEe.displayName="TableFooter";const Er=b.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ft("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Er.displayName="TableRow";const Qe=b.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ft("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Qe.displayName="TableHead";const Ke=b.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ft("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableCell";const yEe=b.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ft("mt-4 text-sm text-muted-foreground",e),...t}));yEe.displayName="TableCaption";const bEe=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),wEe=async e=>{try{console.log("[SLUG MIGRATION] Starting migration for store:",e);const{data:t,error:r}=await Y.from("products").select("id, name, slug").eq("store_id",e).or("slug.is.null,slug.eq.");if(r){console.error("[SLUG MIGRATION] Error fetching products:",r);return}if(!t||t.length===0){console.log("[SLUG MIGRATION] No products need slug migration");return}console.log(`[SLUG MIGRATION] Found ${t.length} products without slugs`);for(const n of t){const a=bEe(n.name),{error:i}=await Y.from("products").update({slug:a}).eq("id",n.id);i?console.error(`[SLUG MIGRATION] Error updating product ${n.id}:`,i):console.log(`[SLUG MIGRATION]  Updated product "${n.name}" with slug: ${a}`)}console.log("[SLUG MIGRATION]  Migration completed")}catch(t){console.error("[SLUG MIGRATION] Error during migration:",t)}},j7=()=>{const e=vr(),t=Z2(),[r,n]=b.useState([]),[a,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState([]),[d,f]=b.useState("all"),[m,p]=b.useState("all"),[y,g]=b.useState(1),v=10,_=async()=>{const{data:{session:P}}=await Y.auth.getSession();if(P?.user){const{data:O}=await Y.from("stores").select("id, slug").eq("user_id",P.user.id).maybeSingle();O?.id&&(l(O.slug),await wEe(O.id))}const T=(await n3()).map(O=>({...O,variantCount:O.variants?.length||0}));n(T),u(T)};b.useEffect(()=>{_();const P=O=>{O.key==="products"&&_()},T=()=>{_()};return window.addEventListener("storage",P),window.addEventListener("focus",T),()=>{window.removeEventListener("storage",P),window.removeEventListener("focus",T)}},[]),b.useEffect(()=>{let P=r.filter(T=>{const O=T.name.toLowerCase().includes(a.toLowerCase())||(T.sku||"").toLowerCase().includes(a.toLowerCase())||T.category.toLowerCase().includes(a.toLowerCase()),D=d==="all"||T.category===d,I=m==="all"||T.status===m;return O&&D&&I});u(P),g(1)},[r,a,d,m]);const w=P=>{switch(P){case"published":return"bg-success/10 text-success";case"draft":return"bg-warning/10 text-warning";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},j=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(P),C=async P=>{await xCe(P);const T=(await n3()).map(O=>({...O,variantCount:O.variants?.length||0}));n(T),Ie({title:"Product deleted",description:"Product removed from catalog"})},S=()=>[...new Set(r.map(T=>T.category))].sort(),k=Math.ceil(c.length/v),E=c.slice((y-1)*v,y*v),R=()=>{const P=[];let O=Math.max(1,y-Math.floor(2.5)),D=Math.min(k,O+5-1);D-O+1<5&&(O=Math.max(1,D-5+1));for(let I=O;I<=D;I++)P.push(I);return P};return s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Products"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Manage your product catalog"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs(ae,{onClick:()=>e("/admin/products/add"),className:"touch-target flex-1 sm:flex-initial",children:[s.jsx(oi,{className:"w-4 h-4 mr-2"}),"Add Product"]})})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Products Used"}),s.jsxs("span",{className:"font-semibold text-foreground",children:[r.length," / ",t.maxProducts||""]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-success h-2 rounded-full transition-all",style:{width:`${Math.min(r.length/(t.maxProducts||r.length||1)*100,100)}%`}})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Total Products"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.length})]}),s.jsx(Wn,{className:"w-6 h-6 lg:w-8 lg:h-8 text-primary flex-shrink-0 ml-2"})]})})}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Published"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(P=>P.status==="published").length})]}),s.jsx(Es,{className:"w-6 h-6 lg:w-8 lg:h-8 text-success flex-shrink-0 ml-2"})]})})}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Drafts"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(P=>P.status==="draft").length})]}),s.jsx(ou,{className:"w-6 h-6 lg:w-8 lg:h-8 text-warning flex-shrink-0 ml-2"})]})})})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Fe,{placeholder:"Search products by name, SKU, or category...",value:a,onChange:P=>i(P.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(ar,{value:d,onValueChange:f,children:[s.jsxs(rr,{className:"w-full sm:w-[180px]",children:[s.jsx(GD,{className:"w-4 h-4 mr-2"}),s.jsx(ir,{placeholder:"Category"})]}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Categories"}),S().map(P=>s.jsx(Ue,{value:P,children:P},P))]})]}),s.jsxs(ar,{value:m,onValueChange:p,children:[s.jsx(rr,{className:"w-full sm:w-[150px]",children:s.jsx(ir,{placeholder:"Status"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Status"}),s.jsx(Ue,{value:"published",children:"Published"}),s.jsx(Ue,{value:"draft",children:"Draft"}),s.jsx(Ue,{value:"inactive",children:"Inactive"})]})]})]})]})})}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Je,{children:["Product List (",c.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",y," of ",k]})]})}),s.jsxs(Ee,{children:[c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Start by adding your first product to your catalog":"Try adjusting your search criteria"}),r.length===0&&s.jsxs(ae,{onClick:()=>e("/admin/products/add"),children:[s.jsx(oi,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6 lg:mx-0 lg:px-0",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{className:"hover:bg-transparent",children:[s.jsx(Qe,{className:"min-w-[200px]",children:"Product"}),s.jsx(Qe,{className:"hidden sm:table-cell",children:"Category"}),s.jsx(Qe,{className:"hidden md:table-cell",children:"Variants"}),s.jsx(Qe,{children:"Price"}),s.jsx(Qe,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:E.map(P=>s.jsxs(Er,{className:"hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>e(`/admin/products/edit/${P.id}`),children:[s.jsx(Ke,{className:"min-w-[200px]",children:s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Wn,{className:"w-4 h-4 lg:w-5 lg:h-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-foreground text-sm lg:text-base truncate",children:P.name}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground font-mono truncate",children:P.sku})]})]})}),s.jsx(Ke,{className:"hidden sm:table-cell",children:s.jsx(_t,{variant:"outline",className:"text-xs",children:P.category})}),s.jsx(Ke,{className:"hidden md:table-cell",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx(J0e,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:P.variantCount||0})]})}),s.jsx(Ke,{className:"font-semibold text-sm whitespace-nowrap",children:P.priceRange||(P.basePrice?j(P.basePrice):"")}),s.jsx(Ke,{className:"hidden lg:table-cell",children:s.jsx(_t,{className:w(P.status),variant:"outline",children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})}),s.jsx(Ke,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[s.jsx(ae,{variant:"ghost",size:"sm",title:"View Details",onClick:T=>{T.stopPropagation();const O=o?`/${o}/products/${P.slug||P.id}`:`/products/${P.slug||P.id}`;window.open(O,"_blank")},className:"h-8 w-8 p-0",children:s.jsx(Es,{className:"w-4 h-4"})}),s.jsx(ae,{variant:"ghost",size:"sm",title:"Edit Product",onClick:T=>{T.stopPropagation(),e(`/admin/products/edit/${P.id}`)},className:"h-8 w-8 p-0",children:s.jsx(ou,{className:"w-4 h-4"})}),s.jsx(ae,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8 p-0",onClick:T=>{T.stopPropagation(),C(P.id)},title:"Delete Product",children:s.jsx(Rn,{className:"w-4 h-4"})})]})})]},P.id))})]})}),c.length>v&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(rk,{children:s.jsxs(nk,{children:[s.jsx(eu,{children:s.jsx(sk,{onClick:()=>g(P=>Math.max(1,P-1)),className:y===1?"pointer-events-none opacity-50":"cursor-pointer"})}),R().map(P=>s.jsx(eu,{children:s.jsx(yx,{onClick:()=>g(P),isActive:y===P,className:"cursor-pointer",children:P})},P)),s.jsx(eu,{children:s.jsx(ak,{onClick:()=>g(P=>Math.min(k,P+1)),className:y===k?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})]})};var Gw=e=>e.type==="checkbox",rm=e=>e instanceof Date,Ui=e=>e==null;const wse=e=>typeof e=="object";var Ys=e=>!Ui(e)&&!Array.isArray(e)&&wse(e)&&!rm(e),_se=e=>Ys(e)&&e.target?Gw(e.target)?e.target.checked:e.target.value:e,_Ee=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jse=(e,t)=>e.has(_Ee(t)),jEe=e=>{const t=e.constructor&&e.constructor.prototype;return Ys(t)&&t.hasOwnProperty("isPrototypeOf")},nF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ya(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(nF&&(e instanceof Blob||n))&&(r||Ys(e)))if(t=r?[]:{},!r&&!jEe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ya(e[a]));else return e;return t}var ik=e=>/^\w*$/.test(e),Us=e=>e===void 0,sF=e=>Array.isArray(e)?e.filter(Boolean):[],aF=e=>sF(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(e,t,r)=>{if(!t||!Ys(e))return r;const n=(ik(t)?[t]:aF(t)).reduce((a,i)=>Ui(a)?a:a[i],e);return Us(n)||n===e?Us(e[t])?r:e[t]:n},Fo=e=>typeof e=="boolean",An=(e,t,r)=>{let n=-1;const a=ik(t)?[t]:aF(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Ys(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const DN={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},uc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ru={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iF=oe.createContext(null);iF.displayName="HookFormContext";const ok=()=>oe.useContext(iF),NEe=e=>{const{children:t,...r}=e;return oe.createElement(iF.Provider,{value:r},t)};var Nse=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==uc.all&&(t._proxyFormState[o]=!n||uc.all),r&&(r[o]=!0),e[o]}});return a};const oF=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function SEe(e){const t=ok(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=oe.useState(r._formState),c=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return oF(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),oe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),oe.useMemo(()=>Nse(o,r,c.current,!1),[o,r])}var Kc=e=>typeof e=="string",Sse=(e,t,r,n,a)=>Kc(e)?(n&&t.watch.add(e),Ot(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ot(r,i))):(n&&(t.watchAll=!0),r),c3=e=>Ui(e)||!wse(e);function Uu(e,t,r=new WeakSet){if(c3(e)||c3(t))return e===t;if(rm(e)&&rm(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(rm(o)&&rm(l)||Ys(o)&&Ys(l)||Array.isArray(o)&&Array.isArray(l)?!Uu(o,l,r):o!==l)return!1}}return!0}function kEe(e){const t=ok(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=oe.useRef(a),u=oe.useRef(l),d=oe.useRef(void 0);u.current=l;const f=oe.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=oe.useState(u.current?u.current(f):f);return oF(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=Sse(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Uu(v,d.current)||(p(v),d.current=v)}else p(g)}}}),[r,i,n,o]),oe.useEffect(()=>r._removeUnmounted()),m}function CEe(e){const t=ok(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=jse(a._names.array,r),c=oe.useMemo(()=>Ot(a._formValues,r,Ot(a._defaultValues,r,o)),[a,r,o]),u=kEe({control:a,name:r,defaultValue:c,exact:!0}),d=SEe({control:a,name:r,exact:!0}),f=oe.useRef(e),m=oe.useRef(a.register(r,{...e.rules,value:u,...Fo(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ot(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ot(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ot(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ot(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ot(d.errors,r)}}),[d,r]),y=oe.useCallback(w=>m.current.onChange({target:{value:_se(w),name:r},type:DN.CHANGE}),[r]),g=oe.useCallback(()=>m.current.onBlur({target:{value:Ot(a._formValues,r),name:r},type:DN.BLUR}),[r,a._formValues]),v=oe.useCallback(w=>{const j=Ot(a._fields,r);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:C=>w.setCustomValidity(C),reportValidity:()=>w.reportValidity()})},[a._fields,r]),_=oe.useMemo(()=>({name:r,value:u,...Fo(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:g,ref:v}),[r,n,d.disabled,y,g,v,u]);return oe.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Fo(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(C,S)=>{const k=Ot(a._fields,C);k&&k._f&&(k._f.mount=S)};if(j(r,!0),w){const C=ya(Ot(a._options.defaultValues,r));An(a._defaultValues,r,C),Us(Ot(a._formValues,r))&&An(a._formValues,r,C)}return!l&&a.register(r),()=>{(l?w&&!a._state.action:w)?a.unregister(r):j(r,!1)}},[r,a,l,i]),oe.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),oe.useMemo(()=>({field:_,formState:d,fieldState:p}),[_,d,p])}const EEe=e=>e.render(CEe(e));var kse=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Ty=e=>Array.isArray(e)?e:[e],N7=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},oo=e=>Ys(e)&&!Object.keys(e).length,lF=e=>e.type==="file",dc=e=>typeof e=="function",RN=e=>{if(!nF)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Cse=e=>e.type==="select-multiple",cF=e=>e.type==="radio",TEe=e=>cF(e)||Gw(e),ZT=e=>RN(e)&&e.isConnected;function AEe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Us(e)?n++:e[t[n++]];return e}function PEe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Us(e[t]))return!1;return!0}function Qs(e,t){const r=Array.isArray(t)?t:ik(t)?[t]:aF(t),n=r.length===1?e:AEe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ys(n)&&oo(n)||Array.isArray(n)&&PEe(n))&&Qs(e,r.slice(0,-1)),e}var Ese=e=>{for(const t in e)if(dc(e[t]))return!0;return!1};function IN(e,t={}){const r=Array.isArray(e);if(Ys(e)||r)for(const n in e)Array.isArray(e[n])||Ys(e[n])&&!Ese(e[n])?(t[n]=Array.isArray(e[n])?[]:{},IN(e[n],t[n])):Ui(e[n])||(t[n]=!0);return t}function Tse(e,t,r){const n=Array.isArray(e);if(Ys(e)||n)for(const a in e)Array.isArray(e[a])||Ys(e[a])&&!Ese(e[a])?Us(t)||c3(r[a])?r[a]=Array.isArray(e[a])?IN(e[a],[]):{...IN(e[a])}:Tse(e[a],Ui(t)?{}:t[a],r[a]):r[a]=!Uu(e[a],t[a]);return r}var kv=(e,t)=>Tse(e,t,IN(t));const S7={value:!1,isValid:!1},k7={value:!0,isValid:!0};var Ase=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Us(e[0].attributes.value)?Us(e[0].value)||e[0].value===""?k7:{value:e[0].value,isValid:!0}:k7:S7}return S7},Pse=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Us(e)?e:t?e===""?NaN:e&&+e:r&&Kc(e)?new Date(e):n?n(e):e;const C7={isValid:!1,value:null};var Ose=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,C7):C7;function E7(e){const t=e.ref;return lF(t)?t.files:cF(t)?Ose(e.refs).value:Cse(t)?[...t.selectedOptions].map(({value:r})=>r):Gw(t)?Ase(e.refs).value:Pse(Us(t.value)?e.ref.value:t.value,e)}var OEe=(e,t,r,n)=>{const a={};for(const i of e){const o=Ot(t,i);o&&An(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},MN=e=>e instanceof RegExp,Cv=e=>Us(e)?e:MN(e)?e.source:Ys(e)?MN(e.value)?e.value.source:e.value:e,T7=e=>({isOnSubmit:!e||e===uc.onSubmit,isOnBlur:e===uc.onBlur,isOnChange:e===uc.onChange,isOnAll:e===uc.all,isOnTouch:e===uc.onTouched});const A7="AsyncFunction";var DEe=e=>!!e&&!!e.validate&&!!(dc(e.validate)&&e.validate.constructor.name===A7||Ys(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===A7)),REe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),P7=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ay=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ot(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ay(l,t))break}else if(Ys(l)&&Ay(l,t))break}}};function O7(e,t,r){const n=Ot(e,r);if(n||ik(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ot(t,i),l=Ot(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var IEe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return oo(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||uc.all))},MEe=(e,t,r)=>!e||!t||e===t||Ty(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),FEe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,LEe=(e,t)=>!sF(Ot(e,t)).length&&Qs(e,t),$Ee=(e,t,r)=>{const n=Ty(Ot(e,r));return An(n,"root",t[r]),An(e,r,n),e},Zj=e=>Kc(e);function D7(e,t,r="validate"){if(Zj(e)||Array.isArray(e)&&e.every(Zj)||Fo(e)&&!e)return{type:r,message:Zj(e)?e:"",ref:t}}var lg=e=>Ys(e)&&!MN(e)?e:{value:e,message:""},R7=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:y,name:g,valueAsNumber:v,mount:_}=e._f,w=Ot(r,g);if(!_||t.has(g))return{};const j=l?l[0]:o,C=D=>{a&&j.reportValidity&&(j.setCustomValidity(Fo(D)?"":D||""),j.reportValidity())},S={},k=cF(o),E=Gw(o),R=k||E,P=(v||lF(o))&&Us(o.value)&&Us(w)||RN(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,T=kse.bind(null,g,n,S),O=(D,I,L,W=Ru.maxLength,q=Ru.minLength)=>{const G=D?I:L;S[g]={type:D?W:q,message:G,ref:o,...T(D?W:q,G)}};if(i?!Array.isArray(w)||!w.length:c&&(!R&&(P||Ui(w))||Fo(w)&&!w||E&&!Ase(l).isValid||k&&!Ose(l).isValid)){const{value:D,message:I}=Zj(c)?{value:!!c,message:c}:lg(c);if(D&&(S[g]={type:Ru.required,message:I,ref:j,...T(Ru.required,I)},!n))return C(I),S}if(!P&&(!Ui(f)||!Ui(m))){let D,I;const L=lg(m),W=lg(f);if(!Ui(w)&&!isNaN(w)){const q=o.valueAsNumber||w&&+w;Ui(L.value)||(D=q>L.value),Ui(W.value)||(I=q<W.value)}else{const q=o.valueAsDate||new Date(w),G=F=>new Date(new Date().toDateString()+" "+F),K=o.type=="time",U=o.type=="week";Kc(L.value)&&w&&(D=K?G(w)>G(L.value):U?w>L.value:q>new Date(L.value)),Kc(W.value)&&w&&(I=K?G(w)<G(W.value):U?w<W.value:q<new Date(W.value))}if((D||I)&&(O(!!D,L.message,W.message,Ru.max,Ru.min),!n))return C(S[g].message),S}if((u||d)&&!P&&(Kc(w)||i&&Array.isArray(w))){const D=lg(u),I=lg(d),L=!Ui(D.value)&&w.length>+D.value,W=!Ui(I.value)&&w.length<+I.value;if((L||W)&&(O(L,D.message,I.message),!n))return C(S[g].message),S}if(p&&!P&&Kc(w)){const{value:D,message:I}=lg(p);if(MN(D)&&!w.match(D)&&(S[g]={type:Ru.pattern,message:I,ref:o,...T(Ru.pattern,I)},!n))return C(I),S}if(y){if(dc(y)){const D=await y(w,r),I=D7(D,j);if(I&&(S[g]={...I,...T(Ru.validate,I.message)},!n))return C(I.message),S}else if(Ys(y)){let D={};for(const I in y){if(!oo(D)&&!n)break;const L=D7(await y[I](w,r),j,I);L&&(D={...L,...T(I,L.message)},C(L.message),n&&(S[g]=D))}if(!oo(D)&&(S[g]={ref:j,...D},!n))return S}}return C(!0),S};const BEe={mode:uc.onSubmit,reValidateMode:uc.onChange,shouldFocusError:!0};function UEe(e={}){let t={...BEe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:dc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ys(t.defaultValues)||Ys(t.values)?ya(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ya(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:N7(),state:N7()},p=t.criteriaMode===uc.all,y=le=>be=>{clearTimeout(u),u=setTimeout(le,be)},g=async le=>{if(!t.disabled&&(d.isValid||f.isValid||le)){const be=t.resolver?oo((await E()).errors):await P(n,!0);be!==r.isValid&&m.state.next({isValid:be})}},v=(le,be)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((le||Array.from(l.mount)).forEach(Oe=>{Oe&&(be?An(r.validatingFields,Oe,be):Qs(r.validatingFields,Oe))}),m.state.next({validatingFields:r.validatingFields,isValidating:!oo(r.validatingFields)}))},_=(le,be=[],Oe,Ze,tt=!0,fe=!0)=>{if(Ze&&Oe&&!t.disabled){if(o.action=!0,fe&&Array.isArray(Ot(n,le))){const ee=Oe(Ot(n,le),Ze.argA,Ze.argB);tt&&An(n,le,ee)}if(fe&&Array.isArray(Ot(r.errors,le))){const ee=Oe(Ot(r.errors,le),Ze.argA,Ze.argB);tt&&An(r.errors,le,ee),LEe(r.errors,le)}if((d.touchedFields||f.touchedFields)&&fe&&Array.isArray(Ot(r.touchedFields,le))){const ee=Oe(Ot(r.touchedFields,le),Ze.argA,Ze.argB);tt&&An(r.touchedFields,le,ee)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=kv(a,i)),m.state.next({name:le,isDirty:O(le,be),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else An(i,le,be)},w=(le,be)=>{An(r.errors,le,be),m.state.next({errors:r.errors})},j=le=>{r.errors=le,m.state.next({errors:r.errors,isValid:!1})},C=(le,be,Oe,Ze)=>{const tt=Ot(n,le);if(tt){const fe=Ot(i,le,Us(Oe)?Ot(a,le):Oe);Us(fe)||Ze&&Ze.defaultChecked||be?An(i,le,be?fe:E7(tt._f)):L(le,fe),o.mount&&g()}},S=(le,be,Oe,Ze,tt)=>{let fe=!1,ee=!1;const we={name:le};if(!t.disabled){if(!Oe||Ze){(d.isDirty||f.isDirty)&&(ee=r.isDirty,r.isDirty=we.isDirty=O(),fe=ee!==we.isDirty);const he=Uu(Ot(a,le),be);ee=!!Ot(r.dirtyFields,le),he?Qs(r.dirtyFields,le):An(r.dirtyFields,le,!0),we.dirtyFields=r.dirtyFields,fe=fe||(d.dirtyFields||f.dirtyFields)&&ee!==!he}if(Oe){const he=Ot(r.touchedFields,le);he||(An(r.touchedFields,le,Oe),we.touchedFields=r.touchedFields,fe=fe||(d.touchedFields||f.touchedFields)&&he!==Oe)}fe&&tt&&m.state.next(we)}return fe?we:{}},k=(le,be,Oe,Ze)=>{const tt=Ot(r.errors,le),fe=(d.isValid||f.isValid)&&Fo(be)&&r.isValid!==be;if(t.delayError&&Oe?(c=y(()=>w(le,Oe)),c(t.delayError)):(clearTimeout(u),c=null,Oe?An(r.errors,le,Oe):Qs(r.errors,le)),(Oe?!Uu(tt,Oe):tt)||!oo(Ze)||fe){const ee={...Ze,...fe&&Fo(be)?{isValid:be}:{},errors:r.errors,name:le};r={...r,...ee},m.state.next(ee)}},E=async le=>{v(le,!0);const be=await t.resolver(i,t.context,OEe(le||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(le),be},R=async le=>{const{errors:be}=await E(le);if(le)for(const Oe of le){const Ze=Ot(be,Oe);Ze?An(r.errors,Oe,Ze):Qs(r.errors,Oe)}else r.errors=be;return be},P=async(le,be,Oe={valid:!0})=>{for(const Ze in le){const tt=le[Ze];if(tt){const{_f:fe,...ee}=tt;if(fe){const we=l.array.has(fe.name),he=tt._f&&DEe(tt._f);he&&d.validatingFields&&v([Ze],!0);const Me=await R7(tt,l.disabled,i,p,t.shouldUseNativeValidation&&!be,we);if(he&&d.validatingFields&&v([Ze]),Me[fe.name]&&(Oe.valid=!1,be))break;!be&&(Ot(Me,fe.name)?we?$Ee(r.errors,Me,fe.name):An(r.errors,fe.name,Me[fe.name]):Qs(r.errors,fe.name))}!oo(ee)&&await P(ee,be,Oe)}}return Oe.valid},T=()=>{for(const le of l.unMount){const be=Ot(n,le);be&&(be._f.refs?be._f.refs.every(Oe=>!ZT(Oe)):!ZT(be._f.ref))&&de(le)}l.unMount=new Set},O=(le,be)=>!t.disabled&&(le&&be&&An(i,le,be),!Uu(F(),a)),D=(le,be,Oe)=>Sse(le,l,{...o.mount?i:Us(be)?a:Kc(le)?{[le]:be}:be},Oe,be),I=le=>sF(Ot(o.mount?i:a,le,t.shouldUnregister?Ot(a,le,[]):[])),L=(le,be,Oe={})=>{const Ze=Ot(n,le);let tt=be;if(Ze){const fe=Ze._f;fe&&(!fe.disabled&&An(i,le,Pse(be,fe)),tt=RN(fe.ref)&&Ui(be)?"":be,Cse(fe.ref)?[...fe.ref.options].forEach(ee=>ee.selected=tt.includes(ee.value)):fe.refs?Gw(fe.ref)?fe.refs.forEach(ee=>{(!ee.defaultChecked||!ee.disabled)&&(Array.isArray(tt)?ee.checked=!!tt.find(we=>we===ee.value):ee.checked=tt===ee.value||!!tt)}):fe.refs.forEach(ee=>ee.checked=ee.value===tt):lF(fe.ref)?fe.ref.value="":(fe.ref.value=tt,fe.ref.type||m.state.next({name:le,values:ya(i)})))}(Oe.shouldDirty||Oe.shouldTouch)&&S(le,tt,Oe.shouldTouch,Oe.shouldDirty,!0),Oe.shouldValidate&&U(le)},W=(le,be,Oe)=>{for(const Ze in be){if(!be.hasOwnProperty(Ze))return;const tt=be[Ze],fe=le+"."+Ze,ee=Ot(n,fe);(l.array.has(le)||Ys(tt)||ee&&!ee._f)&&!rm(tt)?W(fe,tt,Oe):L(fe,tt,Oe)}},q=(le,be,Oe={})=>{const Ze=Ot(n,le),tt=l.array.has(le),fe=ya(be);An(i,le,fe),tt?(m.array.next({name:le,values:ya(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Oe.shouldDirty&&m.state.next({name:le,dirtyFields:kv(a,i),isDirty:O(le,fe)})):Ze&&!Ze._f&&!Ui(fe)?W(le,fe,Oe):L(le,fe,Oe),P7(le,l)&&m.state.next({...r,name:le}),m.state.next({name:o.mount?le:void 0,values:ya(i)})},G=async le=>{o.mount=!0;const be=le.target;let Oe=be.name,Ze=!0;const tt=Ot(n,Oe),fe=he=>{Ze=Number.isNaN(he)||rm(he)&&isNaN(he.getTime())||Uu(he,Ot(i,Oe,he))},ee=T7(t.mode),we=T7(t.reValidateMode);if(tt){let he,Me;const Pe=be.type?E7(tt._f):_se(le),Re=le.type===DN.BLUR||le.type===DN.FOCUS_OUT,et=!REe(tt._f)&&!t.resolver&&!Ot(r.errors,Oe)&&!tt._f.deps||FEe(Re,Ot(r.touchedFields,Oe),r.isSubmitted,we,ee),jt=P7(Oe,l,Re);An(i,Oe,Pe),Re?(tt._f.onBlur&&tt._f.onBlur(le),c&&c(0)):tt._f.onChange&&tt._f.onChange(le);const je=S(Oe,Pe,Re),nt=!oo(je)||jt;if(!Re&&m.state.next({name:Oe,type:le.type,values:ya(i)}),et)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Re&&g():Re||g()),nt&&m.state.next({name:Oe,...jt?{}:je});if(!Re&&jt&&m.state.next({...r}),t.resolver){const{errors:at}=await E([Oe]);if(fe(Pe),Ze){const Dt=O7(r.errors,n,Oe),lt=O7(at,n,Dt.name||Oe);he=lt.error,Oe=lt.name,Me=oo(at)}}else v([Oe],!0),he=(await R7(tt,l.disabled,i,p,t.shouldUseNativeValidation))[Oe],v([Oe]),fe(Pe),Ze&&(he?Me=!1:(d.isValid||f.isValid)&&(Me=await P(n,!0)));Ze&&(tt._f.deps&&U(tt._f.deps),k(Oe,Me,he,je))}},K=(le,be)=>{if(Ot(r.errors,be)&&le.focus)return le.focus(),1},U=async(le,be={})=>{let Oe,Ze;const tt=Ty(le);if(t.resolver){const fe=await R(Us(le)?le:tt);Oe=oo(fe),Ze=le?!tt.some(ee=>Ot(fe,ee)):Oe}else le?(Ze=(await Promise.all(tt.map(async fe=>{const ee=Ot(n,fe);return await P(ee&&ee._f?{[fe]:ee}:ee)}))).every(Boolean),!(!Ze&&!r.isValid)&&g()):Ze=Oe=await P(n);return m.state.next({...!Kc(le)||(d.isValid||f.isValid)&&Oe!==r.isValid?{}:{name:le},...t.resolver||!le?{isValid:Oe}:{},errors:r.errors}),be.shouldFocus&&!Ze&&Ay(n,K,le?tt:l.mount),Ze},F=le=>{const be={...o.mount?i:a};return Us(le)?be:Kc(le)?Ot(be,le):le.map(Oe=>Ot(be,Oe))},B=(le,be)=>({invalid:!!Ot((be||r).errors,le),isDirty:!!Ot((be||r).dirtyFields,le),error:Ot((be||r).errors,le),isValidating:!!Ot(r.validatingFields,le),isTouched:!!Ot((be||r).touchedFields,le)}),V=le=>{le&&Ty(le).forEach(be=>Qs(r.errors,be)),m.state.next({errors:le?r.errors:{}})},Z=(le,be,Oe)=>{const Ze=(Ot(n,le,{_f:{}})._f||{}).ref,tt=Ot(r.errors,le)||{},{ref:fe,message:ee,type:we,...he}=tt;An(r.errors,le,{...he,...be,ref:Ze}),m.state.next({name:le,errors:r.errors,isValid:!1}),Oe&&Oe.shouldFocus&&Ze&&Ze.focus&&Ze.focus()},X=(le,be)=>dc(le)?m.state.subscribe({next:Oe=>"values"in Oe&&le(D(void 0,be),Oe)}):D(le,be,!0),Q=le=>m.state.subscribe({next:be=>{MEe(le.name,be.name,le.exact)&&IEe(be,le.formState||d,ue,le.reRenderRoot)&&le.callback({values:{...i},...r,...be,defaultValues:a})}}).unsubscribe,ce=le=>(o.mount=!0,f={...f,...le.formState},Q({...le,formState:f})),de=(le,be={})=>{for(const Oe of le?Ty(le):l.mount)l.mount.delete(Oe),l.array.delete(Oe),be.keepValue||(Qs(n,Oe),Qs(i,Oe)),!be.keepError&&Qs(r.errors,Oe),!be.keepDirty&&Qs(r.dirtyFields,Oe),!be.keepTouched&&Qs(r.touchedFields,Oe),!be.keepIsValidating&&Qs(r.validatingFields,Oe),!t.shouldUnregister&&!be.keepDefaultValue&&Qs(a,Oe);m.state.next({values:ya(i)}),m.state.next({...r,...be.keepDirty?{isDirty:O()}:{}}),!be.keepIsValid&&g()},pe=({disabled:le,name:be})=>{(Fo(le)&&o.mount||le||l.disabled.has(be))&&(le?l.disabled.add(be):l.disabled.delete(be))},re=(le,be={})=>{let Oe=Ot(n,le);const Ze=Fo(be.disabled)||Fo(t.disabled);return An(n,le,{...Oe||{},_f:{...Oe&&Oe._f?Oe._f:{ref:{name:le}},name:le,mount:!0,...be}}),l.mount.add(le),Oe?pe({disabled:Fo(be.disabled)?be.disabled:t.disabled,name:le}):C(le,!0,be.value),{...Ze?{disabled:be.disabled||t.disabled}:{},...t.progressive?{required:!!be.required,min:Cv(be.min),max:Cv(be.max),minLength:Cv(be.minLength),maxLength:Cv(be.maxLength),pattern:Cv(be.pattern)}:{},name:le,onChange:G,onBlur:G,ref:tt=>{if(tt){re(le,be),Oe=Ot(n,le);const fe=Us(tt.value)&&tt.querySelectorAll&&tt.querySelectorAll("input,select,textarea")[0]||tt,ee=TEe(fe),we=Oe._f.refs||[];if(ee?we.find(he=>he===fe):fe===Oe._f.ref)return;An(n,le,{_f:{...Oe._f,...ee?{refs:[...we.filter(ZT),fe,...Array.isArray(Ot(a,le))?[{}]:[]],ref:{type:fe.type,name:le}}:{ref:fe}}}),C(le,!1,void 0,fe)}else Oe=Ot(n,le,{}),Oe._f&&(Oe._f.mount=!1),(t.shouldUnregister||be.shouldUnregister)&&!(jse(l.array,le)&&o.action)&&l.unMount.add(le)}}},ie=()=>t.shouldFocusError&&Ay(n,K,l.mount),J=le=>{Fo(le)&&(m.state.next({disabled:le}),Ay(n,(be,Oe)=>{const Ze=Ot(n,Oe);Ze&&(be.disabled=Ze._f.disabled||le,Array.isArray(Ze._f.refs)&&Ze._f.refs.forEach(tt=>{tt.disabled=Ze._f.disabled||le}))},0,!1))},z=(le,be)=>async Oe=>{let Ze;Oe&&(Oe.preventDefault&&Oe.preventDefault(),Oe.persist&&Oe.persist());let tt=ya(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:fe,values:ee}=await E();r.errors=fe,tt=ya(ee)}else await P(n);if(l.disabled.size)for(const fe of l.disabled)Qs(tt,fe);if(Qs(r.errors,"root"),oo(r.errors)){m.state.next({errors:{}});try{await le(tt,Oe)}catch(fe){Ze=fe}}else be&&await be({...r.errors},Oe),ie(),setTimeout(ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oo(r.errors)&&!Ze,submitCount:r.submitCount+1,errors:r.errors}),Ze)throw Ze},Se=(le,be={})=>{Ot(n,le)&&(Us(be.defaultValue)?q(le,ya(Ot(a,le))):(q(le,be.defaultValue),An(a,le,ya(be.defaultValue))),be.keepTouched||Qs(r.touchedFields,le),be.keepDirty||(Qs(r.dirtyFields,le),r.isDirty=be.defaultValue?O(le,ya(Ot(a,le))):O()),be.keepError||(Qs(r.errors,le),d.isValid&&g()),m.state.next({...r}))},te=(le,be={})=>{const Oe=le?ya(le):a,Ze=ya(Oe),tt=oo(le),fe=tt?a:Ze;if(be.keepDefaultValues||(a=Oe),!be.keepValues){if(be.keepDirtyValues){const ee=new Set([...l.mount,...Object.keys(kv(a,i))]);for(const we of Array.from(ee))Ot(r.dirtyFields,we)?An(fe,we,Ot(i,we)):q(we,Ot(fe,we))}else{if(nF&&Us(le))for(const ee of l.mount){const we=Ot(n,ee);if(we&&we._f){const he=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(RN(he)){const Me=he.closest("form");if(Me){Me.reset();break}}}}if(be.keepFieldsRef)for(const ee of l.mount)q(ee,Ot(fe,ee));else n={}}i=t.shouldUnregister?be.keepDefaultValues?ya(a):{}:ya(fe),m.array.next({values:{...fe}}),m.state.next({values:{...fe}})}l={mount:be.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!be.keepIsValid||!!be.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:be.keepSubmitCount?r.submitCount:0,isDirty:tt?!1:be.keepDirty?r.isDirty:!!(be.keepDefaultValues&&!Uu(le,a)),isSubmitted:be.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:tt?{}:be.keepDirtyValues?be.keepDefaultValues&&i?kv(a,i):r.dirtyFields:be.keepDefaultValues&&le?kv(a,le):be.keepDirty?r.dirtyFields:{},touchedFields:be.keepTouched?r.touchedFields:{},errors:be.keepErrors?r.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},_e=(le,be)=>te(dc(le)?le(i):le,be),Ae=(le,be={})=>{const Oe=Ot(n,le),Ze=Oe&&Oe._f;if(Ze){const tt=Ze.refs?Ze.refs[0]:Ze.ref;tt.focus&&(tt.focus(),be.shouldSelect&&dc(tt.select)&&tt.select())}},ue=le=>{r={...r,...le}},He={control:{register:re,unregister:de,getFieldState:B,handleSubmit:z,setError:Z,_subscribe:Q,_runSchema:E,_focusError:ie,_getWatch:D,_getDirty:O,_setValid:g,_setFieldArray:_,_setDisabledField:pe,_setErrors:j,_getFieldArray:I,_reset:te,_resetDefaultValues:()=>dc(t.defaultValues)&&t.defaultValues().then(le=>{_e(le,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:J,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(le){o=le},get _defaultValues(){return a},get _names(){return l},set _names(le){l=le},get _formState(){return r},get _options(){return t},set _options(le){t={...t,...le}}},subscribe:ce,trigger:U,register:re,handleSubmit:z,watch:X,setValue:q,getValues:F,reset:_e,resetField:Se,clearErrors:V,unregister:de,setError:Z,setFocus:Ae,getFieldState:B};return{...He,formControl:He}}function bx(e={}){const t=oe.useRef(void 0),r=oe.useRef(void 0),[n,a]=oe.useState({isDirty:!1,isValidating:!1,isLoading:dc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:dc(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!dc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=UEe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,oF(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),oe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),oe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),oe.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),oe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),oe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),oe.useEffect(()=>{e.values&&!Uu(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),oe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Nse(n,i),t.current}const I7=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ot(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Dse=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?I7(n.ref,r,e):n.refs&&n.refs.forEach(a=>I7(a,r,e))}},VEe=(e,t)=>{t.shouldUseNativeValidation&&Dse(e,t);const r={};for(const n in e){const a=Ot(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(zEe(t.names||Object.keys(e),n)){const o=Object.assign({},Ot(r,n));An(o,"root",i),An(r,n,o)}else An(r,n,i)}return r},zEe=(e,t)=>e.some(r=>r.startsWith(t+"."));var qEe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=kse(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},wx=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Dse({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:VEe(qEe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},vn;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(vn||(vn={}));var M7;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(M7||(M7={}));const Yt=vn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jd=e=>{switch(typeof e){case"undefined":return Yt.undefined;case"string":return Yt.string;case"number":return Number.isNaN(e)?Yt.nan:Yt.number;case"boolean":return Yt.boolean;case"function":return Yt.function;case"bigint":return Yt.bigint;case"symbol":return Yt.symbol;case"object":return Array.isArray(e)?Yt.array:e===null?Yt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Yt.promise:typeof Map<"u"&&e instanceof Map?Yt.map:typeof Set<"u"&&e instanceof Set?Yt.set:typeof Date<"u"&&e instanceof Date?Yt.date:Yt.object;default:return Yt.unknown}},St=vn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class od extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof od))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}od.create=e=>new od(e);const u3=(e,t)=>{let r;switch(e.code){case St.invalid_type:e.received===Yt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case St.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,vn.jsonStringifyReplacer)}`;break;case St.unrecognized_keys:r=`Unrecognized key(s) in object: ${vn.joinValues(e.keys,", ")}`;break;case St.invalid_union:r="Invalid input";break;case St.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${vn.joinValues(e.options)}`;break;case St.invalid_enum_value:r=`Invalid enum value. Expected ${vn.joinValues(e.options)}, received '${e.received}'`;break;case St.invalid_arguments:r="Invalid function arguments";break;case St.invalid_return_type:r="Invalid function return type";break;case St.invalid_date:r="Invalid date";break;case St.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:vn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case St.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case St.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case St.custom:r="Invalid input";break;case St.invalid_intersection_types:r="Intersection results could not be merged";break;case St.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case St.not_finite:r="Number must be finite";break;default:r=t.defaultError,vn.assertNever(e)}return{message:r}};let WEe=u3;function HEe(){return WEe}const GEe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ft(e,t){const r=HEe(),n=GEe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===u3?void 0:u3].filter(a=>!!a)});e.common.issues.push(n)}class sl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ar;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return sl.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ar;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ar=Object.freeze({status:"aborted"}),ty=e=>({status:"dirty",value:e}),ql=e=>({status:"valid",value:e}),F7=e=>e.status==="aborted",L7=e=>e.status==="dirty",_0=e=>e.status==="valid",FN=e=>typeof Promise<"u"&&e instanceof Promise;var Jt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Jt||(Jt={}));class Ff{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $7=(e,t)=>{if(_0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new od(e.common.issues);return this._error=r,this._error}}};function Kr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class hn{get description(){return this._def.description}_getType(t){return Jd(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Jd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new sl,ctx:{common:t.parent.common,data:t.data,parsedType:Jd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(FN(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jd(t)},a=this._parseSync({data:t,path:n.path,parent:n});return $7(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jd(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return _0(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>_0(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jd(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(FN(a)?a:Promise.resolve(a));return $7(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:St.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new S0({schema:this,typeName:Or.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return bf.create(this,this._def)}nullable(){return k0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tu.create(this)}promise(){return UN.create(this,this._def)}or(t){return $N.create([this,t],this._def)}and(t){return BN.create(this,t,this._def)}transform(t){return new S0({...Kr(this._def),schema:this,typeName:Or.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new h3({...Kr(this._def),innerType:this,defaultValue:r,typeName:Or.ZodDefault})}brand(){return new gTe({typeName:Or.ZodBranded,type:this,...Kr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new m3({...Kr(this._def),innerType:this,catchValue:r,typeName:Or.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return uF.create(this,t)}readonly(){return p3.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const KEe=/^c[^\s-]{8,}$/i,YEe=/^[0-9a-z]+$/,XEe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JEe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ZEe=/^[a-z0-9_-]{21}$/i,QEe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eTe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tTe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rTe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let QT;const nTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oTe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lTe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Rse="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cTe=new RegExp(`^${Rse}$`);function Ise(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function uTe(e){return new RegExp(`^${Ise(e)}$`)}function dTe(e){let t=`${Rse}T${Ise(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function fTe(e,t){return!!((t==="v4"||!t)&&nTe.test(e)||(t==="v6"||!t)&&aTe.test(e))}function hTe(e,t){if(!QEe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function mTe(e,t){return!!((t==="v4"||!t)&&sTe.test(e)||(t==="v6"||!t)&&iTe.test(e))}class qu extends hn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Yt.string){const i=this._getOrReturnCtx(t);return Ft(i,{code:St.invalid_type,expected:Yt.string,received:i.parsedType}),Ar}const n=new sl;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ft(a,{code:St.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ft(a,{code:St.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")tTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"email",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")QT||(QT=new RegExp(rTe,"u")),QT.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"emoji",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")JEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"uuid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")ZEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"nanoid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")KEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"cuid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")YEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"cuid2",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")XEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"ulid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ft(a,{validation:"url",code:St.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"regex",code:St.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?dTe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?cTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?uTe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?eTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"duration",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?fTe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"ip",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?hTe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"jwt",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?mTe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"cidr",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?oTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"base64",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?lTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ft(a,{validation:"base64url",code:St.invalid_string,message:i.message}),n.dirty()):vn.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:St.invalid_string,...Jt.errToObj(n)})}_addCheck(t){return new qu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Jt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Jt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Jt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Jt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Jt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Jt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Jt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Jt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Jt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Jt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Jt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Jt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Jt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Jt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Jt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Jt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Jt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Jt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Jt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Jt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Jt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Jt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Jt.errToObj(r)})}nonempty(t){return this.min(1,Jt.errToObj(t))}trim(){return new qu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qu.create=e=>new qu({checks:[],typeName:Or.ZodString,coerce:e?.coerce??!1,...Kr(e)});function pTe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Mm extends hn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Yt.number){const i=this._getOrReturnCtx(t);return Ft(i,{code:St.invalid_type,expected:Yt.number,received:i.parsedType}),Ar}let n;const a=new sl;for(const i of this._def.checks)i.kind==="int"?vn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?pTe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.not_finite,message:i.message}),a.dirty()):vn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Jt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Jt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Jt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Jt.toString(r))}setLimit(t,r,n,a){return new Mm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Jt.toString(a)}]})}_addCheck(t){return new Mm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Jt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Jt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Jt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Jt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Jt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Jt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Mm.create=e=>new Mm({checks:[],typeName:Or.ZodNumber,coerce:e?.coerce||!1,...Kr(e)});class Fm extends hn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Yt.bigint)return this._getInvalidInput(t);let n;const a=new sl;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ft(n,{code:St.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):vn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ft(r,{code:St.invalid_type,expected:Yt.bigint,received:r.parsedType}),Ar}gte(t,r){return this.setLimit("min",t,!0,Jt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Jt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Jt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Jt.toString(r))}setLimit(t,r,n,a){return new Fm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Jt.toString(a)}]})}_addCheck(t){return new Fm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Jt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Jt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fm.create=e=>new Fm({checks:[],typeName:Or.ZodBigInt,coerce:e?.coerce??!1,...Kr(e)});class LN extends hn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Yt.boolean){const n=this._getOrReturnCtx(t);return Ft(n,{code:St.invalid_type,expected:Yt.boolean,received:n.parsedType}),Ar}return ql(t.data)}}LN.create=e=>new LN({typeName:Or.ZodBoolean,coerce:e?.coerce||!1,...Kr(e)});class j0 extends hn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Yt.date){const i=this._getOrReturnCtx(t);return Ft(i,{code:St.invalid_type,expected:Yt.date,received:i.parsedType}),Ar}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ft(i,{code:St.invalid_date}),Ar}const n=new sl;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ft(a,{code:St.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):vn.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new j0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Jt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Jt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}j0.create=e=>new j0({checks:[],coerce:e?.coerce||!1,typeName:Or.ZodDate,...Kr(e)});class B7 extends hn{_parse(t){if(this._getType(t)!==Yt.symbol){const n=this._getOrReturnCtx(t);return Ft(n,{code:St.invalid_type,expected:Yt.symbol,received:n.parsedType}),Ar}return ql(t.data)}}B7.create=e=>new B7({typeName:Or.ZodSymbol,...Kr(e)});class U7 extends hn{_parse(t){if(this._getType(t)!==Yt.undefined){const n=this._getOrReturnCtx(t);return Ft(n,{code:St.invalid_type,expected:Yt.undefined,received:n.parsedType}),Ar}return ql(t.data)}}U7.create=e=>new U7({typeName:Or.ZodUndefined,...Kr(e)});class V7 extends hn{_parse(t){if(this._getType(t)!==Yt.null){const n=this._getOrReturnCtx(t);return Ft(n,{code:St.invalid_type,expected:Yt.null,received:n.parsedType}),Ar}return ql(t.data)}}V7.create=e=>new V7({typeName:Or.ZodNull,...Kr(e)});class z7 extends hn{constructor(){super(...arguments),this._any=!0}_parse(t){return ql(t.data)}}z7.create=e=>new z7({typeName:Or.ZodAny,...Kr(e)});class q7 extends hn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ql(t.data)}}q7.create=e=>new q7({typeName:Or.ZodUnknown,...Kr(e)});class Lf extends hn{_parse(t){const r=this._getOrReturnCtx(t);return Ft(r,{code:St.invalid_type,expected:Yt.never,received:r.parsedType}),Ar}}Lf.create=e=>new Lf({typeName:Or.ZodNever,...Kr(e)});class W7 extends hn{_parse(t){if(this._getType(t)!==Yt.undefined){const n=this._getOrReturnCtx(t);return Ft(n,{code:St.invalid_type,expected:Yt.void,received:n.parsedType}),Ar}return ql(t.data)}}W7.create=e=>new W7({typeName:Or.ZodVoid,...Kr(e)});class tu extends hn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Yt.array)return Ft(r,{code:St.invalid_type,expected:Yt.array,received:r.parsedType}),Ar;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ft(r,{code:o?St.too_big:St.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ft(r,{code:St.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ft(r,{code:St.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ff(r,o,r.path,l)))).then(o=>sl.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Ff(r,o,r.path,l)));return sl.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new tu({...this._def,minLength:{value:t,message:Jt.toString(r)}})}max(t,r){return new tu({...this._def,maxLength:{value:t,message:Jt.toString(r)}})}length(t,r){return new tu({...this._def,exactLength:{value:t,message:Jt.toString(r)}})}nonempty(t){return this.min(1,t)}}tu.create=(e,t)=>new tu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Or.ZodArray,...Kr(t)});function wg(e){if(e instanceof ia){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=bf.create(wg(n))}return new ia({...e._def,shape:()=>t})}else return e instanceof tu?new tu({...e._def,type:wg(e.element)}):e instanceof bf?bf.create(wg(e.unwrap())):e instanceof k0?k0.create(wg(e.unwrap())):e instanceof Lm?Lm.create(e.items.map(t=>wg(t))):e}class ia extends hn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=vn.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Yt.object){const u=this._getOrReturnCtx(t);return Ft(u,{code:St.invalid_type,expected:Yt.object,received:u.parsedType}),Ar}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Lf&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ff(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Lf){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ft(a,{code:St.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ff(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>sl.mergeObjectSync(n,u)):sl.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Jt.errToObj,new ia({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Jt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new ia({...this._def,unknownKeys:"strip"})}passthrough(){return new ia({...this._def,unknownKeys:"passthrough"})}extend(t){return new ia({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ia({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Or.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ia({...this._def,catchall:t})}pick(t){const r={};for(const n of vn.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ia({...this._def,shape:()=>r})}omit(t){const r={};for(const n of vn.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ia({...this._def,shape:()=>r})}deepPartial(){return wg(this)}partial(t){const r={};for(const n of vn.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new ia({...this._def,shape:()=>r})}required(t){const r={};for(const n of vn.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof bf;)i=i._def.innerType;r[n]=i}return new ia({...this._def,shape:()=>r})}keyof(){return Mse(vn.objectKeys(this.shape))}}ia.create=(e,t)=>new ia({shape:()=>e,unknownKeys:"strip",catchall:Lf.create(),typeName:Or.ZodObject,...Kr(t)});ia.strictCreate=(e,t)=>new ia({shape:()=>e,unknownKeys:"strict",catchall:Lf.create(),typeName:Or.ZodObject,...Kr(t)});ia.lazycreate=(e,t)=>new ia({shape:e,unknownKeys:"strip",catchall:Lf.create(),typeName:Or.ZodObject,...Kr(t)});class $N extends hn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new od(l.ctx.common.issues));return Ft(r,{code:St.invalid_union,unionErrors:o}),Ar}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new od(c));return Ft(r,{code:St.invalid_union,unionErrors:l}),Ar}}get options(){return this._def.options}}$N.create=(e,t)=>new $N({options:e,typeName:Or.ZodUnion,...Kr(t)});function d3(e,t){const r=Jd(e),n=Jd(t);if(e===t)return{valid:!0,data:e};if(r===Yt.object&&n===Yt.object){const a=vn.objectKeys(t),i=vn.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=d3(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Yt.array&&n===Yt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=d3(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Yt.date&&n===Yt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class BN extends hn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(F7(i)||F7(o))return Ar;const l=d3(i.value,o.value);return l.valid?((L7(i)||L7(o))&&r.dirty(),{status:r.value,value:l.data}):(Ft(n,{code:St.invalid_intersection_types}),Ar)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}BN.create=(e,t,r)=>new BN({left:e,right:t,typeName:Or.ZodIntersection,...Kr(r)});class Lm extends hn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Yt.array)return Ft(n,{code:St.invalid_type,expected:Yt.array,received:n.parsedType}),Ar;if(n.data.length<this._def.items.length)return Ft(n,{code:St.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ar;!this._def.rest&&n.data.length>this._def.items.length&&(Ft(n,{code:St.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ff(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>sl.mergeArray(r,o)):sl.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Lm({...this._def,rest:t})}}Lm.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Lm({items:e,typeName:Or.ZodTuple,rest:null,...Kr(t)})};class H7 extends hn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Yt.map)return Ft(n,{code:St.invalid_type,expected:Yt.map,received:n.parsedType}),Ar;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ff(n,l,n.path,[u,"key"])),value:i._parse(new Ff(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ar;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ar;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}H7.create=(e,t,r)=>new H7({valueType:t,keyType:e,typeName:Or.ZodMap,...Kr(r)});class wb extends hn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Yt.set)return Ft(n,{code:St.invalid_type,expected:Yt.set,received:n.parsedType}),Ar;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ft(n,{code:St.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ft(n,{code:St.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ar;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Ff(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new wb({...this._def,minSize:{value:t,message:Jt.toString(r)}})}max(t,r){return new wb({...this._def,maxSize:{value:t,message:Jt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}wb.create=(e,t)=>new wb({valueType:e,minSize:null,maxSize:null,typeName:Or.ZodSet,...Kr(t)});class G7 extends hn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}G7.create=(e,t)=>new G7({getter:e,typeName:Or.ZodLazy,...Kr(t)});class f3 extends hn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ft(r,{received:r.data,code:St.invalid_literal,expected:this._def.value}),Ar}return{status:"valid",value:t.data}}get value(){return this._def.value}}f3.create=(e,t)=>new f3({value:e,typeName:Or.ZodLiteral,...Kr(t)});function Mse(e,t){return new N0({values:e,typeName:Or.ZodEnum,...Kr(t)})}class N0 extends hn{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ft(r,{expected:vn.joinValues(n),received:r.parsedType,code:St.invalid_type}),Ar}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ft(r,{received:r.data,code:St.invalid_enum_value,options:n}),Ar}return ql(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return N0.create(t,{...this._def,...r})}exclude(t,r=this._def){return N0.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}N0.create=Mse;class K7 extends hn{_parse(t){const r=vn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Yt.string&&n.parsedType!==Yt.number){const a=vn.objectValues(r);return Ft(n,{expected:vn.joinValues(a),received:n.parsedType,code:St.invalid_type}),Ar}if(this._cache||(this._cache=new Set(vn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=vn.objectValues(r);return Ft(n,{received:n.data,code:St.invalid_enum_value,options:a}),Ar}return ql(t.data)}get enum(){return this._def.values}}K7.create=(e,t)=>new K7({values:e,typeName:Or.ZodNativeEnum,...Kr(t)});class UN extends hn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Yt.promise&&r.common.async===!1)return Ft(r,{code:St.invalid_type,expected:Yt.promise,received:r.parsedType}),Ar;const n=r.parsedType===Yt.promise?r.data:Promise.resolve(r.data);return ql(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}UN.create=(e,t)=>new UN({type:e,typeName:Or.ZodPromise,...Kr(t)});class S0 extends hn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Or.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ft(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ar;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ar:c.status==="dirty"||r.value==="dirty"?ty(c.value):c});{if(r.value==="aborted")return Ar;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ar:l.status==="dirty"||r.value==="dirty"?ty(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ar:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ar:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_0(o))return Ar;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>_0(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ar);vn.assertNever(a)}}S0.create=(e,t,r)=>new S0({schema:e,typeName:Or.ZodEffects,effect:t,...Kr(r)});S0.createWithPreprocess=(e,t,r)=>new S0({schema:t,effect:{type:"preprocess",transform:e},typeName:Or.ZodEffects,...Kr(r)});class bf extends hn{_parse(t){return this._getType(t)===Yt.undefined?ql(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bf.create=(e,t)=>new bf({innerType:e,typeName:Or.ZodOptional,...Kr(t)});class k0 extends hn{_parse(t){return this._getType(t)===Yt.null?ql(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}k0.create=(e,t)=>new k0({innerType:e,typeName:Or.ZodNullable,...Kr(t)});class h3 extends hn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Yt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}h3.create=(e,t)=>new h3({innerType:e,typeName:Or.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Kr(t)});class m3 extends hn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return FN(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new od(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new od(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}m3.create=(e,t)=>new m3({innerType:e,typeName:Or.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Kr(t)});class Y7 extends hn{_parse(t){if(this._getType(t)!==Yt.nan){const n=this._getOrReturnCtx(t);return Ft(n,{code:St.invalid_type,expected:Yt.nan,received:n.parsedType}),Ar}return{status:"valid",value:t.data}}}Y7.create=e=>new Y7({typeName:Or.ZodNaN,...Kr(e)});class gTe extends hn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class uF extends hn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ar:i.status==="dirty"?(r.dirty(),ty(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ar:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new uF({in:t,out:r,typeName:Or.ZodPipeline})}}class p3 extends hn{_parse(t){const r=this._def.innerType._parse(t),n=a=>(_0(a)&&(a.value=Object.freeze(a.value)),a);return FN(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}p3.create=(e,t)=>new p3({innerType:e,typeName:Or.ZodReadonly,...Kr(t)});var Or;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Or||(Or={}));const Jr=qu.create;Mm.create;Fm.create;const Fc=LN.create;j0.create;Lf.create;const Fse=tu.create,oh=ia.create;$N.create;BN.create;Lm.create;const xTe=f3.create,Kw=N0.create;UN.create;bf.create;k0.create;const qd={string:(e=>qu.create({...e,coerce:!0})),number:(e=>Mm.create({...e,coerce:!0})),boolean:(e=>LN.create({...e,coerce:!0})),bigint:(e=>Fm.create({...e,coerce:!0})),date:(e=>j0.create({...e,coerce:!0}))},_x=NEe,Lse=b.createContext({}),gr=({...e})=>s.jsx(Lse.Provider,{value:{name:e.name},children:s.jsx(EEe,{...e})}),lk=()=>{const e=b.useContext(Lse),t=b.useContext($se),{getFieldState:r,formState:n}=ok(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},$se=b.createContext({}),dr=b.forwardRef(({className:e,...t},r)=>{const n=b.useId();return s.jsx($se.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ft("space-y-2",e),...t})})});dr.displayName="FormItem";const xr=b.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=lk();return s.jsx(ke,{ref:r,className:ft(n&&"text-destructive",e),htmlFor:a,...t})});xr.displayName="FormLabel";const fr=b.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=lk();return s.jsx(sZ,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});fr.displayName="FormControl";const wa=b.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=lk();return s.jsx("p",{ref:r,id:n,className:ft("text-sm text-muted-foreground",e),...t})});wa.displayName="FormDescription";const Rr=b.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=lk(),o=a?String(a?.message):t;return o?s.jsx("p",{ref:n,id:i,className:ft("text-sm font-medium text-destructive",e),...r,children:o}):null});Rr.displayName="FormMessage";const vTe=()=>{const e=Date.now(),t=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${t}`};var Bse="AlertDialog",[yTe]=Is(Bse,[Lre]),md=Lre(),Use=e=>{const{__scopeAlertDialog:t,...r}=e,n=md(t);return s.jsx(V5,{...n,...r,modal:!0})};Use.displayName=Bse;var bTe="AlertDialogTrigger",wTe=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=md(r);return s.jsx(ene,{...a,...n,ref:t})});wTe.displayName=bTe;var _Te="AlertDialogPortal",Vse=e=>{const{__scopeAlertDialog:t,...r}=e,n=md(t);return s.jsx(z5,{...n,...r})};Vse.displayName=_Te;var jTe="AlertDialogOverlay",zse=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=md(r);return s.jsx(Uw,{...a,...n,ref:t})});zse.displayName=jTe;var t0="AlertDialogContent",[NTe,STe]=yTe(t0),kTe=iZ("AlertDialogContent"),qse=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=md(r),o=b.useRef(null),l=tr(t,o),c=b.useRef(null);return s.jsx(DSe,{contentName:t0,titleName:Wse,docsSlug:"alert-dialog",children:s.jsx(NTe,{scope:r,cancelRef:c,children:s.jsxs(Vw,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:mt(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(kTe,{children:n}),s.jsx(ETe,{contentRef:o})]})})})});qse.displayName=t0;var Wse="AlertDialogTitle",Hse=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=md(r);return s.jsx(zw,{...a,...n,ref:t})});Hse.displayName=Wse;var Gse="AlertDialogDescription",Kse=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=md(r);return s.jsx(qw,{...a,...n,ref:t})});Kse.displayName=Gse;var CTe="AlertDialogAction",Yse=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=md(r);return s.jsx(K2,{...a,...n,ref:t})});Yse.displayName=CTe;var Xse="AlertDialogCancel",Jse=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=STe(Xse,r),i=md(r),o=tr(t,a);return s.jsx(K2,{...i,...n,ref:o})});Jse.displayName=Xse;var ETe=({contentRef:e})=>{const t=`\`${t0}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${t0}\` by passing a \`${Gse}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${t0}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},TTe=Use,ATe=Vse,Zse=zse,Qse=qse,eae=Yse,tae=Jse,rae=Hse,nae=Kse;const $m=TTe,PTe=ATe,sae=b.forwardRef(({className:e,...t},r)=>s.jsx(Zse,{className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));sae.displayName=Zse.displayName;const $f=b.forwardRef(({className:e,...t},r)=>s.jsxs(PTe,{children:[s.jsx(sae,{}),s.jsx(Qse,{ref:r,className:ft("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));$f.displayName=Qse.displayName;const Bf=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",e),...t});Bf.displayName="AlertDialogHeader";const Bm=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bm.displayName="AlertDialogFooter";const Uf=b.forwardRef(({className:e,...t},r)=>s.jsx(rae,{ref:r,className:ft("text-lg font-semibold",e),...t}));Uf.displayName=rae.displayName;const Vf=b.forwardRef(({className:e,...t},r)=>s.jsx(nae,{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));Vf.displayName=nae.displayName;const zf=b.forwardRef(({className:e,...t},r)=>s.jsx(eae,{ref:r,className:ft(M2(),e),...t}));zf.displayName=eae.displayName;const qf=b.forwardRef(({className:e,...t},r)=>s.jsx(tae,{ref:r,className:ft(M2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));qf.displayName=tae.displayName;function aae({value:e,onChange:t,storeId:r}){const[n,a]=b.useState([]),[i,o]=b.useState(!1),[l,c]=b.useState(""),[u,d]=b.useState(!1),[f,m]=b.useState(null),[p,y]=b.useState(!1);b.useEffect(()=>{g()},[r]);const g=async()=>{if(r)try{const{data:j,error:C}=await Y.from("categories").select("id, name").eq("store_id",r).order("name");if(C)throw C;a(j||[])}catch(j){Ie({title:"Error loading categories",description:j.message,variant:"destructive"})}},v=async()=>{if(!l.trim()){Ie({title:"Invalid category",description:"Please enter a category name",variant:"destructive"});return}if(n.some(j=>j.name.toLowerCase()===l.trim().toLowerCase())){Ie({title:"Category exists",description:"This category already exists",variant:"destructive"});return}try{const{data:j,error:C}=await Y.from("categories").insert({name:l.trim(),store_id:r}).select().single();if(C)throw C;a(S=>[...S,j].sort((k,E)=>k.name.localeCompare(E.name))),t(j.name),c(""),o(!1),Ie({title:"Category added",description:`${j.name} has been added`})}catch(j){Ie({title:"Error adding category",description:j.message,variant:"destructive"})}},_=(j,C)=>{j.stopPropagation(),m(C),d(!0)},w=async()=>{if(f){y(!0);try{const{error:j}=await Y.from("categories").delete().eq("id",f.id);if(j)throw j;a(C=>C.filter(S=>S.id!==f.id)),e===f.name&&t(""),Ie({title:"Category deleted",description:`${f.name} has been removed`})}catch(j){Ie({title:"Error deleting category",description:j.message,variant:"destructive"})}finally{y(!1),d(!1),m(null)}}};return s.jsxs(s.Fragment,{children:[i?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{placeholder:"Enter custom category",value:l,onChange:j=>c(j.target.value),onKeyPress:j=>{j.key==="Enter"&&(j.preventDefault(),v())}}),s.jsx(ae,{type:"button",size:"sm",onClick:v,children:"Add"}),s.jsx(ae,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(!1),c("")},children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ar,{value:e,onValueChange:t,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Select category"})}),s.jsx(nr,{className:"z-50 bg-popover",children:n.map(j=>s.jsx(Ue,{value:j.name,className:"flex items-center justify-between pr-2",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:j.name}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 hover:bg-destructive/10 hover:text-destructive",onClick:C=>_(C,j),children:s.jsx(Rn,{className:"h-3 w-3"})})]})},j.id))})]}),s.jsx(ae,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>o(!0),children:"+ Add custom category"})]}),s.jsx($m,{open:u,onOpenChange:d,children:s.jsxs($f,{children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:"Delete Category"}),s.jsxs(Vf,{children:['Are you sure you want to delete "',f?.name,'"? This action cannot be undone.']})]}),s.jsxs(Bm,{children:[s.jsx(qf,{disabled:p,children:"Cancel"}),s.jsx(zf,{onClick:w,disabled:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p?"Deleting...":"Delete"})]})]})})]})}const VN=["https://images.unsplash.com/photo-1763359161311-1a62681fb3c0?w=800&q=80","https://images.unsplash.com/photo-1763359161278-0cabc4924746?w=800&q=80","https://images.unsplash.com/photo-1763359161530-6631e16431fd?w=800&q=80","https://images.unsplash.com/photo-1763359161346-dbb620ef8fe9?w=800&q=80","https://images.unsplash.com/photo-1763359161317-5e4e5ea3075f?w=800&q=80","https://images.unsplash.com/photo-1763359161302-ccacb7b785da?w=800&q=80","https://images.unsplash.com/photo-1763358991454-2d0059bf6796?w=800&q=80","https://images.unsplash.com/photo-1763358958563-b9efe06f989f?w=800&q=80","https://images.unsplash.com/photo-1763358927011-ab7d82821124?w=800&q=80","https://images.unsplash.com/photo-1763358896930-3982ec4e3293?w=800&q=80"],OTe=()=>{const e=Math.floor(Math.random()*VN.length);return VN[e]},DTe=(e=1)=>{const t=[...VN];for(let n=t.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[t[n],t[a]]=[t[a],t[n]]}const r=Math.min(e,VN.length);return t.slice(0,r)},RTe=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),ITe=oh({id:Jr(),name:Jr().trim().min(1,"Variant name is required"),price:Jr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:Jr().trim().optional()}),MTe=oh({name:Jr().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:Jr().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:Jr().min(1,"Category is required"),status:Kw(["published","draft","inactive"]),variants:Fse(ITe).optional()}),X7=()=>{const e=vr(),[t]=b.useState(vTe()),[r,n]=b.useState(!1),[a,i]=b.useState([]),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState([]),[m,p]=b.useState({name:"",price:"",sku:""}),[y,g]=b.useState(null),[v,_]=b.useState(null),[w,j]=b.useState(!1),[C,S]=b.useState(!1),[k,E]=b.useState(!1),[R,P]=b.useState([]),[T,O]=b.useState("vps"),[D,I]=b.useState([]),[L,W]=b.useState([]),[q,G]=b.useState(null),[K,U]=b.useState({name:"",price:"",sku:""}),F=Z2(),B=bx({resolver:wx(MTe),defaultValues:{name:"",description:"",category:"",status:"published",variants:[]}});b.useEffect(()=>{V()},[]);const V=async()=>{try{const{data:{user:te}}=await Y.auth.getUser();if(!te)return;const{data:{session:_e}}=await Y.auth.getSession(),Ae=_e?.provider_token,ue=_e?.provider_refresh_token,{data:Ve,error:He}=await Y.from("stores").select("id, slug, google_access_token, google_refresh_token").eq("user_id",te.id).single();if(He)throw He;if(Ve){if(g(Ve.id),_(Ve.slug),Ae&&!Ve.google_access_token){const le={google_access_token:Ae};if(ue){const be=new Date(Date.now()+36e5).toISOString();le.google_refresh_token=ue,le.google_token_expiry=be}await Y.from("stores").update(le).eq("id",Ve.id)}await Z()}}catch(te){Ie({title:"Error loading store",description:te.message,variant:"destructive"})}},Z=async()=>{try{const{data:{session:te}}=await Y.auth.getSession();if(!te)return;const{data:_e,error:Ae}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${te.access_token}`}});if(Ae){console.error("Drive verification error:",Ae),S(!1);return}if(_e?.connected){S(!0);const{data:{session:ue}}=await Y.auth.getSession();ue?.provider_token&&Ie({title:"Google Drive Connected",description:"You can now upload images from your device."})}else S(!1),console.log("Drive not connected:",_e?.reason)}catch(te){console.error("Error verifying Drive connection:",te),S(!1)}},X=async te=>{const _e=Array.from(te.target.files||[]);if(_e.length===0)return;const Ae=_e.filter(ue=>ue.type.startsWith("image/")?!0:(Ie({title:"Invalid file type",description:`${ue.name} is not a valid image file`,variant:"destructive"}),!1));if(Ae.length!==0)try{const ue=[];for(const He of Ae)if(T==="vps")try{const le=(He.size/1024/1024).toFixed(2),be=await tF(He,5),Oe=(be.size/1024/1024).toFixed(2);console.log(`Image compressed: ${le}MB  ${Oe}MB`),ue.push(be)}catch(le){console.error("Compression failed:",le),Ie({title:"Compression failed",description:`Failed to compress ${He.name}, using original`,variant:"destructive"}),ue.push(He)}else ue.push(He);I(He=>[...He,...ue]);const Ve=ue.map(He=>URL.createObjectURL(He));W(He=>[...He,...Ve]),Ie({title:"Images ready",description:`${ue.length} image(s) will be uploaded when you save the product`})}catch(ue){console.error("Error processing images:",ue),Ie({title:"Error",description:"Failed to process images",variant:"destructive"})}finally{te.target.value=""}},Q=()=>{if(!o.trim()){Ie({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let te=o.trim();if(te.includes("drive.google.com")){const _e=te.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);_e&&(te=`https://drive.google.com/thumbnail?id=${_e[1]||_e[2]}&sz=w1000`,Ie({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(_e=>[..._e,te]),l("")},ce=async te=>{const _e=a.length;if(te<_e){const Ae=a[te];if(Ae.includes("digitaldukandar.in/uploads/"))try{(await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:Ae})})).json()).success&&console.log("Image deleted from VPS:",Ae)}catch(ue){console.error("Failed to delete image from VPS:",ue)}i(ue=>ue.filter((Ve,He)=>He!==te))}else{const Ae=te-_e;URL.revokeObjectURL(L[Ae]),I(ue=>ue.filter((Ve,He)=>He!==Ae)),W(ue=>ue.filter((Ve,He)=>He!==Ae))}},de=()=>{if(!m.name.trim()||!m.price.trim()){Ie({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const te={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(_e=>[..._e,te]),p({name:"",price:"",sku:""})},pe=te=>{f(_e=>_e.filter(Ae=>Ae.id!==te))},re=te=>{G(te.id),U({name:te.name,price:te.price,sku:te.sku||""})},ie=()=>{if(!q||!K.name.trim()||!K.price.trim()){Ie({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(te=>te.map(_e=>_e.id===q?{..._e,name:K.name.trim(),price:K.price,sku:K.sku.trim()||void 0}:_e)),G(null),U({name:"",price:"",sku:""})},J=()=>{G(null),U({name:"",price:"",sku:""})},z=()=>{if(d.length===0)return null;const te=d.map(ue=>parseFloat(ue.price)),_e=Math.min(...te),Ae=Math.max(...te);return _e===Ae?`${_e.toFixed(2)}`:`${_e.toFixed(2)} - ${Ae.toFixed(2)}`},Se=async te=>{if(te.status==="published"&&!F.canPublishProduct()){Ie({title:"Product Limit Reached",description:F.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{let _e=[...a];if(D.length>0){P(D.map(fe=>({name:fe.name,progress:0})));const{data:{session:Ve}}=await Y.auth.getSession();if(!Ve)throw new Error("Not authenticated");const{data:{user:He}}=await Y.auth.getUser();if(!He)throw new Error("User not found");const{data:le,error:be}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",He.id).single();if(be||!le)throw new Error("Store not found");const Oe=D.reduce((fe,ee)=>fe+ee.size/1024/1024,0);let Ze=le.storage_used_mb||0;const tt=le.storage_limit_mb||100;if(Ze+Oe>tt)throw new Error(`Storage limit reached. You have ${(tt-Ze).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);for(let fe=0;fe<D.length;fe++){const ee=D[fe],we=ee.size/1024/1024;P(Pe=>Pe.map((Re,et)=>et===fe?{...Re,progress:10}:Re));const he=new FormData;he.append("file",ee),he.append("type","products"),v&&he.append("store_slug",v);const Me=setInterval(()=>{P(Pe=>Pe.map((Re,et)=>et===fe&&Re.progress<90?{...Re,progress:Re.progress+10}:Re))},200);try{let Pe,Re="",et="";if(T==="vps"){const jt=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:he}),je=await jt.json();if(!jt.ok||!je.success)throw new Error(je.error||"Failed to upload image");Pe={data:je,error:null},et=je.imageUrl,Re=je.fileId||ee.name;const{error:nt}=await Y.from("media_library").insert({store_id:le.id,file_url:et,file_name:Re,file_size_mb:we,file_type:"products"});nt&&console.error("Failed to add to media library:",nt),Ze+=we;const{error:at}=await Y.from("stores").update({storage_used_mb:Ze}).eq("id",le.id);at&&console.error("Failed to update storage usage:",at)}else Pe=await Y.functions.invoke("upload-to-drive",{body:he,headers:{Authorization:`Bearer ${Ve.access_token}`}});if(clearInterval(Me),Pe.error)throw new Error(Pe.error.message||"Failed to upload image");Pe.data?.imageUrl&&(P(jt=>jt.map((je,nt)=>nt===fe?{...je,progress:100}:je)),_e.push(Pe.data.imageUrl))}catch(Pe){throw clearInterval(Me),Pe}}P([])}const Ae=_e.length>0?_e:DTe(3),ue={id:t,name:te.name,slug:RTe(te.name),description:te.description,category:te.category,status:te.status,images:Ae,videoUrl:c.trim()||void 0,variants:d.map(Ve=>({name:Ve.name,price:parseFloat(Ve.price),sku:Ve.sku})),priceRange:z()||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};mCe(ue),L.forEach(Ve=>URL.revokeObjectURL(Ve)),Ie({title:"Product created successfully",description:`${te.name} has been added to your catalog`}),e("/admin/products")}catch(_e){console.error("Error saving product:",_e),Ie({title:"Error creating product",description:_e.message||"Please try again later",variant:"destructive"})}finally{n(!1),P([])}};return s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Add New Product"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Create a new product listing for your store"})]}),F.getProductLimitMessage()&&s.jsxs(Yr,{variant:F.canPublishProduct()?"default":"destructive",children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsx(Xr,{children:F.getProductLimitMessage()})]}),s.jsx(_x,{...B,children:s.jsx("form",{onSubmit:B.handleSubmit(Se),className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Product Information"})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xr,{className:"text-muted-foreground",children:"Product ID (Auto-generated)"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md font-mono text-sm text-foreground",children:t})]}),s.jsx(gr,{control:B.control,name:"name",render:({field:te})=>s.jsxs(dr,{children:[s.jsx(fr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Fe,{...te,id:"product-name",className:"peer h-14 pt-4 px-3",placeholder:" "}),s.jsx("label",{htmlFor:"product-name",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Product Name"})]})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:B.control,name:"description",render:({field:te})=>s.jsxs(dr,{children:[s.jsx(fr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ks,{...te,id:"product-description",placeholder:" ",className:"peer min-h-[120px] pt-6 px-3"}),s.jsx("label",{htmlFor:"product-description",className:"absolute left-3 top-4 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Description"})]})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:B.control,name:"category",render:({field:te})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Category"}),s.jsx(fr,{children:s.jsx(aae,{value:te.value,onChange:te.onChange,storeId:y})}),s.jsx(Rr,{})]})})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(Fe,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:te=>p(_e=>({..._e,name:te.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(Fe,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:te=>p(_e=>({..._e,price:te.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(Fe,{placeholder:"0 = Unlimited",value:m.sku,onChange:te=>p(_e=>({..._e,sku:te.target.value}))})]})]}),s.jsxs(ae,{type:"button",onClick:de,size:"sm",children:[s.jsx(oi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:z()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Variant Name"}),s.jsx(Qe,{children:"Price"}),s.jsx(Qe,{children:"Stock"}),s.jsx(Qe,{className:"w-[50px]"})]})}),s.jsx(Hs,{children:d.map(te=>s.jsx(Er,{children:q===te.id?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{children:s.jsx(Fe,{value:K.name,onChange:_e=>U(Ae=>({...Ae,name:_e.target.value})),className:"h-8"})}),s.jsx(Ke,{children:s.jsx(Fe,{type:"number",step:"0.01",value:K.price,onChange:_e=>U(Ae=>({...Ae,price:_e.target.value})),className:"h-8 no-spinner"})}),s.jsx(Ke,{children:s.jsx(Fe,{placeholder:"0 = Unlimited",value:K.sku,onChange:_e=>U(Ae=>({...Ae,sku:_e.target.value})),className:"h-8"})}),s.jsx(Ke,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:ie,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:J,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{className:"font-medium",children:te.name}),s.jsxs(Ke,{children:["$",parseFloat(te.price).toFixed(2)]}),s.jsx(Ke,{className:"text-muted-foreground",children:te.sku==="0"||te.sku===""?"Unlimited":te.sku||""}),s.jsx(Ke,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>re(te),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>pe(te.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Rn,{className:"w-4 h-4"})})]})})]})},te.id))})]})})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive or upload from your device"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs(Yr,{style:C?{}:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsx(Xr,{className:"flex items-center justify-between gap-4",children:C?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-bold text-red-600 dark:text-red-500",children:"Connect Google Drive to upload images from your device"}),s.jsx(ae,{type:"button",size:"sm",variant:"outline",onClick:async()=>{E(!0);try{const{error:te}=await Y.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(te)throw te}catch(te){Ie({title:"Connection Failed",description:te.message,variant:"destructive"}),E(!1)}},disabled:k,children:k?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Fe,{id:"google-drive-url",placeholder:" ",value:o,onChange:te=>l(te.target.value),onKeyPress:te=>{te.key==="Enter"&&(te.preventDefault(),Q())},className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"google-drive-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Google Drive Image URL"})]}),s.jsx(ae,{type:"button",onClick:Q,size:"sm",className:"h-14",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"vps",checked:T==="vps",onChange:te=>O(te.target.value),className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"VPS Server"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"drive",checked:T==="drive",onChange:te=>O(te.target.value),className:"w-4 h-4 text-primary",disabled:!C}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Safe & Reliable)"})," ",!C&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:T==="vps"?"Images will be compressed to max 5MB and stored on your server":"Images will be uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${w?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:X,className:"hidden",id:"image-upload",disabled:w}),s.jsx("label",{htmlFor:"image-upload",className:`block p-6 text-center ${w?"cursor-not-allowed":"cursor-pointer"}`,children:w&&R.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",R.length," image",R.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:R.map((te,_e)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[te.progress<100?s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:te.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:te.progress<100?`Uploading to ${T==="vps"?"VPS Server":"Google Drive"}...`:"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[te.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${te.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${te.progress}%`}})})]},`uploading-${_e}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(tf,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:T==="vps"?"PNG, JPG images. Auto-compressed to max 5MB and stored on VPS.":"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),(a.length>0||L.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.map((te,_e)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:te,alt:`Product Image ${_e+1}`,className:"w-full h-full object-cover",onError:Ae=>{Ae.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>ce(_e),children:s.jsx(Aa,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Image ",_e+1]})]},`url-${_e}`)),L.map((te,_e)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-primary/50",children:s.jsx("img",{src:te,alt:`Pending Image ${_e+1}`,className:"w-full h-full object-cover"})}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>ce(a.length+_e),children:s.jsx(Aa,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Pending ",_e+1," (will upload on save)"]})]},`preview-${_e}`))]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fe,{id:"youtube-video-url",placeholder:" ",value:c,onChange:te=>u(te.target.value),className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"youtube-video-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"YouTube Video URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const _e=(Ae=>{const ue=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Ve=Ae.match(ue);return Ve&&Ve[2].length===11?Ve[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),_e?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${_e}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Product Status"})}),s.jsx(Ee,{children:s.jsx(gr,{control:B.control,name:"status",render:({field:te})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Status"}),s.jsxs(ar,{onValueChange:te.onChange,defaultValue:te.value,children:[s.jsx(fr,{children:s.jsx(rr,{children:s.jsx(ir,{})})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"draft",children:"Draft"}),s.jsx(Ue,{value:"published",children:"Published"}),s.jsx(Ue,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Rr,{})]})})})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ae,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),r?"Creating...":"Create Product"]}),s.jsx(ae,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})},FTe=oh({id:Jr(),name:Jr().trim().min(1,"Variant name is required"),price:Jr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:Jr().trim().optional()}),LTe=oh({name:Jr().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:Jr().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:Jr().min(1,"Category is required"),status:Kw(["published","draft","inactive"]),variants:Fse(FTe).optional()}),J7=()=>{const e=vr(),{id:t}=hd(),[r,n]=b.useState(!1),[a,i]=b.useState([]),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState([]),[m,p]=b.useState({name:"",price:"",sku:""}),[y,g]=b.useState(!0),[v,_]=b.useState(null),[w,j]=b.useState(""),[C,S]=b.useState(!1),[k,E]=b.useState(!1),[R,P]=b.useState(!1),[T,O]=b.useState([]),[D,I]=b.useState(null),[L,W]=b.useState({name:"",price:"",sku:""}),q=Z2(),G=bx({resolver:wx(LTe),defaultValues:{name:"",description:"",category:"",status:"draft",variants:[]}});b.useEffect(()=>{K()},[t,e,G]);const K=async()=>{if(!t){Ie({title:"Error",description:"Product ID is missing",variant:"destructive"}),e("/admin/products");return}const ie=await Kj(t);if(!ie){Ie({title:"Product not found",description:"The product you're trying to edit doesn't exist",variant:"destructive"}),e("/admin/products");return}try{const{data:{user:J}}=await Y.auth.getUser();if(!J)return;const{data:{session:z}}=await Y.auth.getSession(),Se=z?.provider_token,te=z?.provider_refresh_token,{data:_e,error:Ae}=await Y.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",J.id).single();if(Ae)throw Ae;if(_e){if(_(_e.id),Se&&!_e.google_access_token){const ue={google_access_token:Se};if(te){const Ve=new Date(Date.now()+36e5).toISOString();ue.google_refresh_token=te,ue.google_token_expiry=Ve}await Y.from("stores").update(ue).eq("id",_e.id)}await U()}}catch(J){Ie({title:"Error loading store",description:J.message,variant:"destructive"})}G.reset({name:ie.name,description:ie.description,category:ie.category,status:ie.status}),j(ie.status),i(ie.images||[]),u(ie.videoUrl||ie.video_url||""),ie.variants&&f(ie.variants.map((J,z)=>({id:`${z}`,name:J.name,price:J.price.toString(),sku:J.sku}))),g(!1)},U=async()=>{try{const{data:{session:ie}}=await Y.auth.getSession();if(!ie)return;const{data:J,error:z}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${ie.access_token}`}});if(z){console.error("Drive verification error:",z),E(!1);return}if(J?.connected){E(!0);const{data:{session:Se}}=await Y.auth.getSession();Se?.provider_token&&Ie({title:"Google Drive Connected",description:"You can now upload images from your device."})}else E(!1),console.log("Drive not connected:",J?.reason)}catch(ie){console.error("Error verifying Drive connection:",ie),E(!1)}},F=()=>{if(!o.trim()){Ie({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let ie=o.trim();if(ie.includes("drive.google.com")){const J=ie.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);J&&(ie=`https://drive.google.com/thumbnail?id=${J[1]||J[2]}&sz=w1000`,Ie({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(J=>[...J,ie]),l("")},B=async ie=>{const J=Array.from(ie.target.files||[]);if(J.length===0)return;const z=J.filter(Se=>Se.type.startsWith("image/")?!0:(Ie({title:"Invalid file type",description:`${Se.name} is not a valid image file`,variant:"destructive"}),!1));if(z.length!==0){S(!0),O(z.map(Se=>({name:Se.name,progress:0})));try{const{data:{session:Se}}=await Y.auth.getSession();if(!Se)throw new Error("Not authenticated");for(let te=0;te<z.length;te++){const _e=z[te];O(Ve=>Ve.map((He,le)=>le===te?{...He,progress:10}:He));const Ae=new FormData;Ae.append("file",_e);const ue=setInterval(()=>{O(Ve=>Ve.map((He,le)=>le===te&&He.progress<90?{...He,progress:He.progress+10}:He))},200);try{const Ve=await Y.functions.invoke("upload-to-drive",{body:Ae,headers:{Authorization:`Bearer ${Se.access_token}`}});if(clearInterval(ue),Ve.error)throw O(He=>He.filter((le,be)=>be!==te)),new Error(Ve.error.message||"Failed to upload image");Ve.data?.imageUrl&&(O(He=>He.map((le,be)=>be===te?{...le,progress:100}:le)),await new Promise(He=>setTimeout(He,300)),O(He=>He.filter((le,be)=>be!==te)),i(He=>[...He,Ve.data.imageUrl]),Ie({title:"Image uploaded",description:`${_e.name} uploaded successfully`}))}catch(Ve){throw clearInterval(ue),Ve}}}catch(Se){console.error("Upload error:",Se),console.error("Error details:",JSON.stringify(Se,null,2));let te=Se.message||"";if(Se.context?.body)try{const _e=JSON.parse(Se.context.body);te=_e.error||_e.message||te}catch(_e){console.error("Could not parse error body:",_e)}console.log("Extracted error message:",te),te.toLowerCase().includes("drive")&&te.toLowerCase().includes("not connected")?Ie({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first, or use the Google Drive URL option instead.",variant:"destructive",duration:6e3}):te.includes("Unauthorized")||te.includes("authenticated")?Ie({title:"Authentication Required",description:"Please sign in again to upload images.",variant:"destructive"}):te.toLowerCase().includes("token")||te.toLowerCase().includes("expired")?Ie({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Ie({title:"Upload Failed",description:te||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),O([]),ie.target.value=""}}},V=ie=>{i(J=>J.filter((z,Se)=>Se!==ie))},Z=()=>{if(!m.name.trim()||!m.price.trim()){Ie({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const ie={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(J=>[...J,ie]),p({name:"",price:"",sku:""})},X=ie=>{f(J=>J.filter(z=>z.id!==ie))},Q=ie=>{I(ie.id),W({name:ie.name,price:ie.price,sku:ie.sku||""})},ce=()=>{if(!D||!L.name.trim()||!L.price.trim()){Ie({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(ie=>ie.map(J=>J.id===D?{...J,name:L.name.trim(),price:L.price,sku:L.sku.trim()||void 0}:J)),I(null),W({name:"",price:"",sku:""})},de=()=>{I(null),W({name:"",price:"",sku:""})},pe=()=>{if(d.length===0)return null;const ie=d.map(Se=>parseFloat(Se.price)),J=Math.min(...ie),z=Math.max(...ie);return J===z?`${J.toFixed(2)}`:`${J.toFixed(2)} - ${z.toFixed(2)}`},re=async ie=>{if(!t)return;const J=w!=="published",z=ie.status==="published";if(J&&z&&!q.canPublishProduct()){Ie({title:"Product Limit Reached",description:q.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{await new Promise(te=>setTimeout(te,1e3));const Se={id:t,name:ie.name,description:ie.description,category:ie.category,status:ie.status,images:a.length>0?a:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"],videoUrl:c.trim()||void 0,variants:d.map(te=>({name:te.name,price:parseFloat(te.price),sku:te.sku})),priceRange:pe()||void 0,createdAt:(await Kj(t))?.createdAt||(await Kj(t))?.created_at||new Date().toISOString(),updatedAt:new Date().toISOString()};await pCe(t,Se),Ie({title:"Product updated successfully",description:`${ie.name} has been updated`}),e("/admin/products")}catch{Ie({title:"Error updating product",description:"Please try again later",variant:"destructive"})}finally{n(!1)}};return y?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading product..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Product"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update product information"})]}),q.getProductLimitMessage()&&s.jsxs(Yr,{variant:q.canPublishProduct()?"default":"destructive",children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsx(Xr,{children:q.getProductLimitMessage()})]}),s.jsx(_x,{...G,children:s.jsx("form",{onSubmit:G.handleSubmit(re),className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Product Information"})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx(gr,{control:G.control,name:"name",render:({field:ie})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Product Name"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"Enter product name",...ie})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:G.control,name:"description",render:({field:ie})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Description"}),s.jsx(fr,{children:s.jsx(Ks,{placeholder:"Describe your product...",className:"min-h-[120px]",...ie})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:G.control,name:"category",render:({field:ie})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Category"}),s.jsx(fr,{children:s.jsx(aae,{value:ie.value,onChange:ie.onChange,storeId:v})}),s.jsx(Rr,{})]})})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(Fe,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:ie=>p(J=>({...J,name:ie.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(Fe,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:ie=>p(J=>({...J,price:ie.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(Fe,{placeholder:"0 = Unlimited",value:m.sku,onChange:ie=>p(J=>({...J,sku:ie.target.value}))})]})]}),s.jsxs(ae,{type:"button",onClick:Z,size:"sm",children:[s.jsx(oi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:pe()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Variant Name"}),s.jsx(Qe,{children:"Price"}),s.jsx(Qe,{children:"Stock"}),s.jsx(Qe,{className:"w-[50px]"})]})}),s.jsx(Hs,{children:d.map(ie=>s.jsx(Er,{children:D===ie.id?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{children:s.jsx(Fe,{value:L.name,onChange:J=>W(z=>({...z,name:J.target.value})),className:"h-8"})}),s.jsx(Ke,{children:s.jsx(Fe,{type:"number",step:"0.01",value:L.price,onChange:J=>W(z=>({...z,price:J.target.value})),className:"h-8 no-spinner"})}),s.jsx(Ke,{children:s.jsx(Fe,{placeholder:"0 = Unlimited",value:L.sku,onChange:J=>W(z=>({...z,sku:J.target.value})),className:"h-8"})}),s.jsx(Ke,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:ce,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:de,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{className:"font-medium",children:ie.name}),s.jsxs(Ke,{children:["$",parseFloat(ie.price).toFixed(2)]}),s.jsx(Ke,{className:"text-muted-foreground",children:ie.sku==="0"||ie.sku===""?"Unlimited":ie.sku||""}),s.jsx(Ke,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(ie),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>X(ie.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Rn,{className:"w-4 h-4"})})]})})]})},ie.id))})]})})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs(Yr,{style:k?{}:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsx(Xr,{className:"flex items-center justify-between gap-4",children:k?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-bold text-red-600 dark:text-red-500",children:"Connect Google Drive to upload images from your device"}),s.jsx(ae,{type:"button",size:"sm",variant:"outline",onClick:async()=>{P(!0);try{const{error:ie}=await Y.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(ie)throw ie}catch(ie){Ie({title:"Connection Failed",description:ie.message,variant:"destructive"}),P(!1)}},disabled:R,children:R?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Google Drive Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{placeholder:"Paste Google Drive shareable link",value:o,onChange:ie=>l(ie.target.value),onKeyPress:ie=>{ie.key==="Enter"&&(ie.preventDefault(),F())}}),s.jsx(ae,{type:"button",onClick:F,size:"sm",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${C?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:B,className:"hidden",id:"image-upload-edit",disabled:C}),s.jsx("label",{htmlFor:"image-upload-edit",className:`block p-6 text-center ${C?"cursor-not-allowed":"cursor-pointer"}`,children:C&&T.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",T.length," image",T.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:T.map((ie,J)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[ie.progress<100?s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:ie.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ie.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[ie.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${ie.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${ie.progress}%`}})})]},`uploading-${J}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(tf,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((ie,J)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:ie,alt:`Preview ${J+1}`,className:"w-full h-full object-cover",onError:z=>{z.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>V(J),children:s.jsx(Aa,{className:"w-3 h-3"})})]},J))})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"YouTube Video URL"}),s.jsx(Fe,{placeholder:"https://www.youtube.com/watch?v=...",value:c,onChange:ie=>u(ie.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const J=(z=>{const Se=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,te=z.match(Se);return te&&te[2].length===11?te[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),J?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${J}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Product Status"})}),s.jsx(Ee,{children:s.jsx(gr,{control:G.control,name:"status",render:({field:ie})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Status"}),s.jsxs(ar,{onValueChange:ie.onChange,value:ie.value,children:[s.jsx(fr,{children:s.jsx(rr,{children:s.jsx(ir,{})})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"draft",children:"Draft"}),s.jsx(Ue,{value:"published",children:"Published"}),s.jsx(Ue,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Rr,{})]})})})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ae,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Product"]}),s.jsx(ae,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _b={};_b.version="0.18.5";var Zo=1200,Um=1252,$Te=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dF={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ck=function(e){$Te.indexOf(e)!=-1&&(Um=dF[0]=e)};function BTe(){ck(1252)}var Dl=function(e){Zo=e,ck(e)};function uk(){Dl(1200),BTe()}function zN(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function UTe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function iae(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Ag=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?UTe(e.slice(2)):t==254&&r==255?iae(e.slice(2)):t==65279?e.slice(1):e},ry=function(t){return String.fromCharCode(t)},g3=function(t){return String.fromCharCode(t)},nn;function VTe(e){nn=e,Dl=function(t){Zo=t,ck(t)},Ag=function(t){return t.charCodeAt(0)===255&&t.charCodeAt(1)===254?nn.utils.decode(1200,zN(t.slice(2))):t},ry=function(r){return Zo===1200?String.fromCharCode(r):nn.utils.decode(Zo,[r&255,r>>8])[0]},g3=function(r){return nn.utils.decode(Um,[r])[0]},Iae()}var cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jb(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=cf.charAt(i)+cf.charAt(o)+cf.charAt(l)+cf.charAt(c);return t}function al(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=cf.indexOf(e.charAt(u++)),o=cf.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=cf.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=cf.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Ur=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),pd=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Wf(e){return Ur?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Z7(e){return Ur?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Wo=function(t){return Ur?pd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Yw(e){if(typeof ArrayBuffer>"u")return Wo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function lh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zTe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function fF(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return fF(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var za=Ur?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:pd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function qTe(e){for(var t=[],r=0,n=e.length+250,a=Wf(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Wf(65535),n=65530)}return t.push(a.slice(0,r)),za(t)}var Ti=/\u0000/g,ny=/[\u0001-\u0006]/g;function r0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function pc(e,t){var r=""+e;return r.length>=t?r:Ss("0",t-r.length)+r}function hF(e,t){var r=""+e;return r.length>=t?r:Ss(" ",t-r.length)+r}function qN(e,t){var r=""+e;return r.length>=t?r:r+Ss(" ",t-r.length)}function WTe(e,t){var r=""+Math.round(e);return r.length>=t?r:Ss("0",t-r.length)+r}function HTe(e,t){var r=""+e;return r.length>=t?r:Ss("0",t-r.length)+r}var Q7=Math.pow(2,32);function cg(e,t){if(e>Q7||e<-Q7)return WTe(e,t);var r=Math.round(e);return HTe(r,t)}function WN(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var eV=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],eA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function GTe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var hr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},tV={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},KTe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function HN(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function uf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=eAe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var oae=new Date(1899,11,31,0,0,0),YTe=oae.getTime(),XTe=new Date(1900,2,1,0,0,0);function lae(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=XTe&&(r+=1440*60*1e3),(r-(YTe+(e.getTimezoneOffset()-oae.getTimezoneOffset())*6e4))/(1440*60*1e3)}function mF(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function JTe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ZTe(e){var t=e<0?12:11,r=mF(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function QTe(e){var t=mF(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Nb(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ZTe(e):t===10?r=e.toFixed(10).substr(0,12):r=QTe(e),mF(JTe(r.toUpperCase()))}function Vm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Nb(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return il(14,lae(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function eAe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function tAe(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return eA[r.m-1][1];case 5:return eA[r.m-1][0];default:return eA[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return eV[r.q][0];default:return eV[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?pc(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=pc(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?pc(c,u):"";return d}function df(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var cae=/%/g;function rAe(e,t,r){var n=t.replace(cae,""),a=t.length-n.length;return Zu(e,n,r*Math.pow(10,2*a))+Ss("%",a)}function nAe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function uae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+uae(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var dae=/# (\?+)( ?)\/( ?)(\d+)/;function sAe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Ss(" ",e[1].length+1+e[4].length):hF(o,e[1].length)+e[2]+"/"+e[3]+pc(l,e[4].length))}function aAe(e,t,r){return r+(t===0?"":""+t)+Ss(" ",e[1].length+2+e[4].length)}var fae=/^#*0*\.([0#]+)/,hae=/\).*[0#]/,mae=/\(###\) ###\\?-####/;function Vi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function rV(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function nV(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function iAe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function oAe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function vl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(hae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vl("n",n,r):"("+vl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return nAe(e,t,r);if(t.indexOf("%")!==-1)return rAe(e,t,r);if(t.indexOf("E")!==-1)return uae(t,r);if(t.charCodeAt(0)===36)return"$"+vl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+cg(c,t.length);if(t.match(/^[#?]+$/))return a=cg(r,0),a==="0"&&(a=""),a.length>t.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(dae))return sAe(i,c,u);if(t.match(/^#+0+$/))return u+cg(c,t.length-t.indexOf("0"));if(i=t.match(fae))return a=rV(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Vi(i[1])).replace(/\.$/,"."+Vi(i[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+Ss("0",Vi(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+rV(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+df(cg(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vl(e,t,-r):df(""+(Math.floor(r)+iAe(r,i[1].length)))+"."+pc(nV(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return vl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=r0(vl(e,t.replace(/[\\-]/g,""),r)),o=0,r0(r0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(mae))return a=vl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=HN(c,Math.pow(10,o)-1,!1),a=""+u,d=Zu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=qN(l[2],o),d.length<i[4].length&&(d=Vi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=HN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?hF(l[1],o)+i[2]+"/"+i[3]+qN(l[2],o):Ss(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=cg(r,0),t.length<=a.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Vi(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=nV(r,i[1].length),r<0?"-"+vl(e,t,-r):df(oAe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?pc(0,3-y.length):"")+y})+"."+pc(o,i[1].length);switch(t){case"###,##0.00":return vl(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=df(cg(c,0));return p!=="0"?u+p:"";case"###,###.00":return vl(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return vl(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lAe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function cAe(e,t,r){var n=t.replace(cae,""),a=t.length-n.length;return Zu(e,n,r*Math.pow(10,2*a))+Ss("%",a)}function pae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+pae(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Lc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(hae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Lc("n",n,r):"("+Lc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lAe(e,t,r);if(t.indexOf("%")!==-1)return cAe(e,t,r);if(t.indexOf("E")!==-1)return pae(t,r);if(t.charCodeAt(0)===36)return"$"+Lc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+pc(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(dae))return aAe(i,c,u);if(t.match(/^#+0+$/))return u+pc(c,t.length-t.indexOf("0"));if(i=t.match(fae))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Vi(i[1])).replace(/\.$/,"."+Vi(i[1])),a=a.replace(/\.(\d*)$/,function(y,g){return"."+g+Ss("0",Vi(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+df(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Lc(e,t,-r):df(""+r)+"."+Ss("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Lc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=r0(Lc(e,t.replace(/[\\-]/g,""),r)),o=0,r0(r0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(mae))return a=Lc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=HN(c,Math.pow(10,o)-1,!1),a=""+u,d=Zu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=qN(l[2],o),d.length<i[4].length&&(d=Vi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=HN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?hF(l[1],o)+i[2]+"/"+i[3]+qN(l[2],o):Ss(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Vi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Vi(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Lc(e,t,-r):df(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?pc(0,3-y.length):"")+y})+"."+pc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=df(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Lc(e,t.slice(0,t.lastIndexOf(".")),r)+Vi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Zu(e,t,r){return(r|0)===r?Lc(e,t,r):vl(e,t,r)}function uAe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var gae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function up(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":WN(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(gae))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function dAe(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!WN(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";a[a.length]={t:y,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=uf(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=uf(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=uf(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(gae)){if(u==null&&(u=uf(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",up(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,_=0,w;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",v<1&&(v=1);break;case"s":(w=a[o].v.match(/\.0+$/))&&(_=Math.max(_,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var j="",C;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=tAe(a[o].t.charCodeAt(0),a[o].v,u,_),a[o].t="t";break;case"n":case"?":for(C=o+1;a[C]!=null&&((l=a[C].t)==="?"||l==="D"||(l===" "||l==="t")&&a[C+1]!=null&&(a[C+1].t==="?"||a[C+1].t==="t"&&a[C+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[C].v==="/"||a[C].v===" "&&a[C+1]!=null&&a[C+1].t=="?"));)a[o].v+=a[C].v,a[C]={v:"",t:";"},++C;j+=a[o].v,o=C-1;break;case"G":a[o].t="t",a[o].v=Vm(t,r);break}var S="",k,E;if(j.length>0){j.charCodeAt(0)==40?(k=t<0&&j.charCodeAt(0)===45?-t:t,E=Zu("n",j,k)):(k=t<0&&n>1?-t:t,E=Zu("n",j,k),k<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),C=E.length-1;var R=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){R=o;break}var P=a.length;if(R===a.length&&E.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(C>=a[o].v.length-1?(C-=a[o].v.length,a[o].v=E.substr(C+1,a[o].v.length)):C<0?a[o].v="":(a[o].v=E.substr(0,C+1),C=-1),a[o].t="t",P=o);C>=0&&P<a.length&&(a[P].v=E.substr(0,C+1)+a[P].v)}else if(R!==a.length&&E.indexOf("E")===-1){for(C=E.indexOf(".")-1,o=R;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)C>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=E.charAt(C--)+S);a[o].v=S,a[o].t="t",P=o}for(C>=0&&P<a.length&&(a[P].v=E.substr(0,C+1)+a[P].v),C=E.indexOf(".")+1,o=R;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==R)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)C<E.length&&(S+=E.charAt(C++));a[o].v=S,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(k=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Zu(a[o].t,a[o].v,k),a[o].t="t");var T="";for(o=0;o!==a.length;++o)a[o]!=null&&(T+=a[o].v);return T}var sV=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function aV(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function fAe(e,t){var r=uAe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(sV),l=r[1].match(sV);return aV(t,o)?[n,r[0]]:aV(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function il(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:hr)[e],n==null&&(n=r.table&&r.table[tV[e]]||hr[tV[e]]),n==null&&(n=KTe[e]||"General");break}if(WN(n,0))return Vm(t,r);t instanceof Date&&(t=lae(t,r.date1904));var a=fAe(n,t);if(WN(a[1]))return Vm(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return dAe(a[1],t,r,a[0])}function ru(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(hr[r]==null){t<0&&(t=r);continue}if(hr[r]==e){t=r;break}}t<0&&(t=391)}return hr[t]=e,t}function Xw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ru(e[t],t)}function jx(){hr=GTe()}var xae={format:il,load:ru,_table:hr,load_table:Xw,parse_date_code:uf,is_date:up,get_table:function(){return xae._table=hr}},hAe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},vae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mAe(e){var t=typeof e=="number"?hr[e]:e;return t=t.replace(vae,"(\\d+)"),new RegExp("^"+t+"$")}function pAe(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(vae)||[]).forEach(function(f,m){var p=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var gAe=(function(){var e={};e.version="1.2.0";function t(){for(var E=0,R=new Array(256),P=0;P!=256;++P)E=P,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,R[P]=E;return typeof Int32Array<"u"?new Int32Array(R):R}var r=t();function n(E){var R=0,P=0,T=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)O[T]=E[T];for(T=0;T!=256;++T)for(P=E[T],R=256+T;R<4096;R+=256)P=O[R]=P>>>8^E[P&255];var D=[];for(T=1;T!=16;++T)D[T-1]=typeof Int32Array<"u"?O.subarray(T*256,T*256+256):O.slice(T*256,T*256+256);return D}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],p=a[8],y=a[9],g=a[10],v=a[11],_=a[12],w=a[13],j=a[14];function C(E,R){for(var P=R^-1,T=0,O=E.length;T<O;)P=P>>>8^r[(P^E.charCodeAt(T++))&255];return~P}function S(E,R){for(var P=R^-1,T=E.length-15,O=0;O<T;)P=j[E[O++]^P&255]^w[E[O++]^P>>8&255]^_[E[O++]^P>>16&255]^v[E[O++]^P>>>24]^g[E[O++]]^y[E[O++]]^p[E[O++]]^m[E[O++]]^f[E[O++]]^d[E[O++]]^u[E[O++]]^c[E[O++]]^l[E[O++]]^o[E[O++]]^i[E[O++]]^r[E[O++]];for(T+=15;O<T;)P=P>>>8^r[(P^E[O++])&255];return~P}function k(E,R){for(var P=R^-1,T=0,O=E.length,D=0,I=0;T<O;)D=E.charCodeAt(T++),D<128?P=P>>>8^r[(P^D)&255]:D<2048?(P=P>>>8^r[(P^(192|D>>6&31))&255],P=P>>>8^r[(P^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,I=E.charCodeAt(T++)&1023,P=P>>>8^r[(P^(240|D>>8&7))&255],P=P>>>8^r[(P^(128|D>>2&63))&255],P=P>>>8^r[(P^(128|I>>6&15|(D&3)<<4))&255],P=P>>>8^r[(P^(128|I&63))&255]):(P=P>>>8^r[(P^(224|D>>12&15))&255],P=P>>>8^r[(P^(128|D>>6&63))&255],P=P>>>8^r[(P^(128|D&63))&255]);return~P}return e.table=r,e.bstr=C,e.buf=S,e.str=k,e})(),er=(function(){var t={};t.version="1.2.1";function r(ne,xe){for(var me=ne.split("/"),ge=xe.split("/"),ye=0,ve=0,$e=Math.min(me.length,ge.length);ye<$e;++ye){if(ve=me[ye].length-ge[ye].length)return ve;if(me[ye]!=ge[ye])return me[ye]<ge[ye]?-1:1}return me.length-ge.length}function n(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:n(ne.slice(0,-1));var xe=ne.lastIndexOf("/");return xe===-1?ne:ne.slice(0,xe+1)}function a(ne){if(ne.charAt(ne.length-1)=="/")return a(ne.slice(0,-1));var xe=ne.lastIndexOf("/");return xe===-1?ne:ne.slice(xe+1)}function i(ne,xe){typeof xe=="string"&&(xe=new Date(xe));var me=xe.getHours();me=me<<6|xe.getMinutes(),me=me<<5|xe.getSeconds()>>>1,ne.write_shift(2,me);var ge=xe.getFullYear()-1980;ge=ge<<4|xe.getMonth()+1,ge=ge<<5|xe.getDate(),ne.write_shift(2,ge)}function o(ne){var xe=ne.read_shift(2)&65535,me=ne.read_shift(2)&65535,ge=new Date,ye=me&31;me>>>=5;var ve=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(ve-1),ge.setDate(ye);var $e=xe&31;xe>>>=5;var Ge=xe&63;return xe>>>=6,ge.setHours(xe),ge.setMinutes(Ge),ge.setSeconds($e<<1),ge}function l(ne){ei(ne,0);for(var xe={},me=0;ne.l<=ne.length-4;){var ge=ne.read_shift(2),ye=ne.read_shift(2),ve=ne.l+ye,$e={};switch(ge){case 21589:me=ne.read_shift(1),me&1&&($e.mtime=ne.read_shift(4)),ye>5&&(me&2&&($e.atime=ne.read_shift(4)),me&4&&($e.ctime=ne.read_shift(4))),$e.mtime&&($e.mt=new Date($e.mtime*1e3));break}ne.l=ve,xe[ge]=$e}return xe}var c;function u(){return c||(c={})}function d(ne,xe){if(ne[0]==80&&ne[1]==75)return Zt(ne,xe);if((ne[0]|32)==109&&(ne[1]|32)==105)return Rt(ne,xe);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var me=3,ge=512,ye=0,ve=0,$e=0,Ge=0,Le=0,qe=[],Be=ne.slice(0,512);ei(Be,0);var it=f(Be);switch(me=it[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(it[1]==0)return Zt(ne,xe);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(Be=ne.slice(0,ge),ei(Be,28));var gt=ne.slice(0,ge);m(Be,me);var Pt=Be.read_shift(4,"i");if(me===3&&Pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Pt);Be.l+=4,$e=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),Ge=Be.read_shift(4,"i"),ye=Be.read_shift(4,"i"),Le=Be.read_shift(4,"i"),ve=Be.read_shift(4,"i");for(var yt=-1,ot=0;ot<109&&(yt=Be.read_shift(4,"i"),!(yt<0));++ot)qe[ot]=yt;var qt=p(ne,ge);v(Le,ve,qt,ge,qe);var Vr=w(qt,$e,qe,ge);Vr[$e].name="!Directory",ye>0&&Ge!==I&&(Vr[Ge].name="!MiniFAT"),Vr[qe[0]].name="!FAT",Vr.fat_addrs=qe,Vr.ssz=ge;var Nn={},ls=[],So=[],ha=[];j($e,Vr,qt,ls,ye,Nn,So,Ge),y(So,ha,ls),ls.shift();var ci={FileIndex:So,FullPaths:ha};return xe&&xe.raw&&(ci.raw={header:gt,sectors:qt}),ci}function f(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(L,"Header Signature: "),ne.l+=16;var xe=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),xe]}function m(ne,xe){var me=9;switch(ne.l+=2,me=ne.read_shift(2)){case 9:if(xe!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(xe!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function p(ne,xe){for(var me=Math.ceil(ne.length/xe)-1,ge=[],ye=1;ye<me;++ye)ge[ye-1]=ne.slice(ye*xe,(ye+1)*xe);return ge[me-1]=ne.slice(me*xe),ge}function y(ne,xe,me){for(var ge=0,ye=0,ve=0,$e=0,Ge=0,Le=me.length,qe=[],Be=[];ge<Le;++ge)qe[ge]=Be[ge]=ge,xe[ge]=me[ge];for(;Ge<Be.length;++Ge)ge=Be[Ge],ye=ne[ge].L,ve=ne[ge].R,$e=ne[ge].C,qe[ge]===ge&&(ye!==-1&&qe[ye]!==ye&&(qe[ge]=qe[ye]),ve!==-1&&qe[ve]!==ve&&(qe[ge]=qe[ve])),$e!==-1&&(qe[$e]=ge),ye!==-1&&ge!=qe[ge]&&(qe[ye]=qe[ge],Be.lastIndexOf(ye)<Ge&&Be.push(ye)),ve!==-1&&ge!=qe[ge]&&(qe[ve]=qe[ge],Be.lastIndexOf(ve)<Ge&&Be.push(ve));for(ge=1;ge<Le;++ge)qe[ge]===ge&&(ve!==-1&&qe[ve]!==ve?qe[ge]=qe[ve]:ye!==-1&&qe[ye]!==ye&&(qe[ge]=qe[ye]));for(ge=1;ge<Le;++ge)if(ne[ge].type!==0){if(Ge=ge,Ge!=qe[Ge])do Ge=qe[Ge],xe[ge]=xe[Ge]+"/"+xe[ge];while(Ge!==0&&qe[Ge]!==-1&&Ge!=qe[Ge]);qe[ge]=-1}for(xe[0]+="/",ge=1;ge<Le;++ge)ne[ge].type!==2&&(xe[ge]+="/")}function g(ne,xe,me){for(var ge=ne.start,ye=ne.size,ve=[],$e=ge;me&&ye>0&&$e>=0;)ve.push(xe.slice($e*D,$e*D+D)),ye-=D,$e=Kh(me,$e*4);return ve.length===0?rt(0):za(ve).slice(0,ne.size)}function v(ne,xe,me,ge,ye){var ve=I;if(ne===I){if(xe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var $e=me[ne],Ge=(ge>>>2)-1;if(!$e)return;for(var Le=0;Le<Ge&&(ve=Kh($e,Le*4))!==I;++Le)ye.push(ve);v(Kh($e,ge-4),xe-1,me,ge,ye)}}function _(ne,xe,me,ge,ye){var ve=[],$e=[];ye||(ye=[]);var Ge=ge-1,Le=0,qe=0;for(Le=xe;Le>=0;){ye[Le]=!0,ve[ve.length]=Le,$e.push(ne[Le]);var Be=me[Math.floor(Le*4/ge)];if(qe=Le*4&Ge,ge<4+qe)throw new Error("FAT boundary crossed: "+Le+" 4 "+ge);if(!ne[Be])break;Le=Kh(ne[Be],qe)}return{nodes:ve,data:xV([$e])}}function w(ne,xe,me,ge){var ye=ne.length,ve=[],$e=[],Ge=[],Le=[],qe=ge-1,Be=0,it=0,gt=0,Pt=0;for(Be=0;Be<ye;++Be)if(Ge=[],gt=Be+xe,gt>=ye&&(gt-=ye),!$e[gt]){Le=[];var yt=[];for(it=gt;it>=0;){yt[it]=!0,$e[it]=!0,Ge[Ge.length]=it,Le.push(ne[it]);var ot=me[Math.floor(it*4/ge)];if(Pt=it*4&qe,ge<4+Pt)throw new Error("FAT boundary crossed: "+it+" 4 "+ge);if(!ne[ot]||(it=Kh(ne[ot],Pt),yt[it]))break}ve[gt]={nodes:Ge,data:xV([Le])}}return ve}function j(ne,xe,me,ge,ye,ve,$e,Ge){for(var Le=0,qe=ge.length?2:0,Be=xe[ne].data,it=0,gt=0,Pt;it<Be.length;it+=128){var yt=Be.slice(it,it+128);ei(yt,64),gt=yt.read_shift(2),Pt=mk(yt,0,gt-qe),ge.push(Pt);var ot={name:Pt,type:yt.read_shift(1),color:yt.read_shift(1),L:yt.read_shift(4,"i"),R:yt.read_shift(4,"i"),C:yt.read_shift(4,"i"),clsid:yt.read_shift(16),state:yt.read_shift(4,"i"),start:0,size:0},qt=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);qt!==0&&(ot.ct=C(yt,yt.l-8));var Vr=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Vr!==0&&(ot.mt=C(yt,yt.l-8)),ot.start=yt.read_shift(4,"i"),ot.size=yt.read_shift(4,"i"),ot.size<0&&ot.start<0&&(ot.size=ot.type=0,ot.start=I,ot.name=""),ot.type===5?(Le=ot.start,ye>0&&Le!==I&&(xe[Le].name="!StreamData")):ot.size>=4096?(ot.storage="fat",xe[ot.start]===void 0&&(xe[ot.start]=_(me,ot.start,xe.fat_addrs,xe.ssz)),xe[ot.start].name=ot.name,ot.content=xe[ot.start].data.slice(0,ot.size)):(ot.storage="minifat",ot.size<0?ot.size=0:Le!==I&&ot.start!==I&&xe[Le]&&(ot.content=g(ot,xe[Le].data,(xe[Ge]||{}).data))),ot.content&&ei(ot.content,0),ve[Pt]=ot,$e.push(ot)}}function C(ne,xe){return new Date((Ua(ne,xe+4)/1e7*Math.pow(2,32)+Ua(ne,xe)/1e7-11644473600)*1e3)}function S(ne,xe){return u(),d(c.readFileSync(ne),xe)}function k(ne,xe){var me=xe&&xe.type;switch(me||Ur&&Buffer.isBuffer(ne)&&(me="buffer"),me||"base64"){case"file":return S(ne,xe);case"base64":return d(Wo(al(ne)),xe);case"binary":return d(Wo(ne),xe)}return d(ne,xe)}function E(ne,xe){var me=xe||{},ge=me.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=ge+"/",ne.FileIndex[0]={name:ge,type:5}),me.CLSID&&(ne.FileIndex[0].clsid=me.CLSID),R(ne)}function R(ne){var xe="Sh33tJ5";if(!er.find(ne,"/"+xe)){var me=rt(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ne.FileIndex.push({name:xe,type:2,content:me,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+xe),P(ne)}}function P(ne,xe){E(ne);for(var me=!1,ge=!1,ye=ne.FullPaths.length-1;ye>=0;--ye){var ve=ne.FileIndex[ye];switch(ve.type){case 0:ge?me=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(ve.R*ve.L*ve.C)&&(me=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!xe)){var $e=new Date(1987,1,19),Ge=0,Le=Object.create?Object.create(null):{},qe=[];for(ye=0;ye<ne.FullPaths.length;++ye)Le[ne.FullPaths[ye]]=!0,ne.FileIndex[ye].type!==0&&qe.push([ne.FullPaths[ye],ne.FileIndex[ye]]);for(ye=0;ye<qe.length;++ye){var Be=n(qe[ye][0]);ge=Le[Be],ge||(qe.push([Be,{name:a(Be).replace("/",""),type:1,clsid:q,ct:$e,mt:$e,content:null}]),Le[Be]=!0)}for(qe.sort(function(Pt,yt){return r(Pt[0],yt[0])}),ne.FullPaths=[],ne.FileIndex=[],ye=0;ye<qe.length;++ye)ne.FullPaths[ye]=qe[ye][0],ne.FileIndex[ye]=qe[ye][1];for(ye=0;ye<qe.length;++ye){var it=ne.FileIndex[ye],gt=ne.FullPaths[ye];if(it.name=a(gt).replace("/",""),it.L=it.R=it.C=-(it.color=1),it.size=it.content?it.content.length:0,it.start=0,it.clsid=it.clsid||q,ye===0)it.C=qe.length>1?1:-1,it.size=0,it.type=5;else if(gt.slice(-1)=="/"){for(Ge=ye+1;Ge<qe.length&&n(ne.FullPaths[Ge])!=gt;++Ge);for(it.C=Ge>=qe.length?-1:Ge,Ge=ye+1;Ge<qe.length&&n(ne.FullPaths[Ge])!=n(gt);++Ge);it.R=Ge>=qe.length?-1:Ge,it.type=1}else n(ne.FullPaths[ye+1]||"")==n(gt)&&(it.R=ye+1),it.type=2}}}function T(ne,xe){var me=xe||{};if(me.fileType=="mad")return or(ne,me);switch(P(ne),me.fileType){case"zip":return pr(ne,me)}var ge=(function(Pt){for(var yt=0,ot=0,qt=0;qt<Pt.FileIndex.length;++qt){var Vr=Pt.FileIndex[qt];if(Vr.content){var Nn=Vr.content.length;Nn>0&&(Nn<4096?yt+=Nn+63>>6:ot+=Nn+511>>9)}}for(var ls=Pt.FullPaths.length+3>>2,So=yt+7>>3,ha=yt+127>>7,ci=So+ot+ls+ha,ms=ci+127>>7,Qi=ms<=109?0:Math.ceil((ms-109)/127);ci+ms+Qi+127>>7>ms;)Qi=++ms<=109?0:Math.ceil((ms-109)/127);var Ms=[1,Qi,ms,ha,ls,ot,yt,0];return Pt.FileIndex[0].size=yt<<6,Ms[7]=(Pt.FileIndex[0].start=Ms[0]+Ms[1]+Ms[2]+Ms[3]+Ms[4]+Ms[5])+(Ms[6]+7>>3),Ms})(ne),ye=rt(ge[7]<<9),ve=0,$e=0;{for(ve=0;ve<8;++ve)ye.write_shift(1,W[ve]);for(ve=0;ve<8;++ve)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),ve=0;ve<3;++ve)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,ge[2]),ye.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:I),ye.write_shift(4,ge[3]),ye.write_shift(-4,ge[1]?ge[0]-1:I),ye.write_shift(4,ge[1]),ve=0;ve<109;++ve)ye.write_shift(-4,ve<ge[2]?ge[1]+ve:-1)}if(ge[1])for($e=0;$e<ge[1];++$e){for(;ve<236+$e*127;++ve)ye.write_shift(-4,ve<ge[2]?ge[1]+ve:-1);ye.write_shift(-4,$e===ge[1]-1?I:$e+1)}var Ge=function(Pt){for($e+=Pt;ve<$e-1;++ve)ye.write_shift(-4,ve+1);Pt&&(++ve,ye.write_shift(-4,I))};for($e=ve=0,$e+=ge[1];ve<$e;++ve)ye.write_shift(-4,G.DIFSECT);for($e+=ge[2];ve<$e;++ve)ye.write_shift(-4,G.FATSECT);Ge(ge[3]),Ge(ge[4]);for(var Le=0,qe=0,Be=ne.FileIndex[0];Le<ne.FileIndex.length;++Le)Be=ne.FileIndex[Le],Be.content&&(qe=Be.content.length,!(qe<4096)&&(Be.start=$e,Ge(qe+511>>9)));for(Ge(ge[6]+7>>3);ye.l&511;)ye.write_shift(-4,G.ENDOFCHAIN);for($e=ve=0,Le=0;Le<ne.FileIndex.length;++Le)Be=ne.FileIndex[Le],Be.content&&(qe=Be.content.length,!(!qe||qe>=4096)&&(Be.start=$e,Ge(qe+63>>6)));for(;ye.l&511;)ye.write_shift(-4,G.ENDOFCHAIN);for(ve=0;ve<ge[4]<<2;++ve){var it=ne.FullPaths[ve];if(!it||it.length===0){for(Le=0;Le<17;++Le)ye.write_shift(4,0);for(Le=0;Le<3;++Le)ye.write_shift(4,-1);for(Le=0;Le<12;++Le)ye.write_shift(4,0);continue}Be=ne.FileIndex[ve],ve===0&&(Be.start=Be.size?Be.start-1:I);var gt=ve===0&&me.root||Be.name;if(qe=2*(gt.length+1),ye.write_shift(64,gt,"utf16le"),ye.write_shift(2,qe),ye.write_shift(1,Be.type),ye.write_shift(1,Be.color),ye.write_shift(-4,Be.L),ye.write_shift(-4,Be.R),ye.write_shift(-4,Be.C),Be.clsid)ye.write_shift(16,Be.clsid,"hex");else for(Le=0;Le<4;++Le)ye.write_shift(4,0);ye.write_shift(4,Be.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,Be.start),ye.write_shift(4,Be.size),ye.write_shift(4,0)}for(ve=1;ve<ne.FileIndex.length;++ve)if(Be=ne.FileIndex[ve],Be.size>=4096)if(ye.l=Be.start+1<<9,Ur&&Buffer.isBuffer(Be.content))Be.content.copy(ye,ye.l,0,Be.size),ye.l+=Be.size+511&-512;else{for(Le=0;Le<Be.size;++Le)ye.write_shift(1,Be.content[Le]);for(;Le&511;++Le)ye.write_shift(1,0)}for(ve=1;ve<ne.FileIndex.length;++ve)if(Be=ne.FileIndex[ve],Be.size>0&&Be.size<4096)if(Ur&&Buffer.isBuffer(Be.content))Be.content.copy(ye,ye.l,0,Be.size),ye.l+=Be.size+63&-64;else{for(Le=0;Le<Be.size;++Le)ye.write_shift(1,Be.content[Le]);for(;Le&63;++Le)ye.write_shift(1,0)}if(Ur)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function O(ne,xe){var me=ne.FullPaths.map(function(Le){return Le.toUpperCase()}),ge=me.map(function(Le){var qe=Le.split("/");return qe[qe.length-(Le.slice(-1)=="/"?2:1)]}),ye=!1;xe.charCodeAt(0)===47?(ye=!0,xe=me[0].slice(0,-1)+xe):ye=xe.indexOf("/")!==-1;var ve=xe.toUpperCase(),$e=ye===!0?me.indexOf(ve):ge.indexOf(ve);if($e!==-1)return ne.FileIndex[$e];var Ge=!ve.match(ny);for(ve=ve.replace(Ti,""),Ge&&(ve=ve.replace(ny,"!")),$e=0;$e<me.length;++$e)if((Ge?me[$e].replace(ny,"!"):me[$e]).replace(Ti,"")==ve||(Ge?ge[$e].replace(ny,"!"):ge[$e]).replace(Ti,"")==ve)return ne.FileIndex[$e];return null}var D=64,I=-2,L="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(ne,xe,me){u();var ge=T(ne,me);c.writeFileSync(xe,ge)}function U(ne){for(var xe=new Array(ne.length),me=0;me<ne.length;++me)xe[me]=String.fromCharCode(ne[me]);return xe.join("")}function F(ne,xe){var me=T(ne,xe);switch(xe&&xe.type||"buffer"){case"file":return u(),c.writeFileSync(xe.filename,me),me;case"binary":return typeof me=="string"?me:U(me);case"base64":return jb(typeof me=="string"?me:U(me));case"buffer":if(Ur)return Buffer.isBuffer(me)?me:pd(me);case"array":return typeof me=="string"?Wo(me):me}return me}var B;function V(ne){try{var xe=ne.InflateRaw,me=new xe;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)B=ne;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function Z(ne,xe){if(!B)return lt(ne,xe);var me=B.InflateRaw,ge=new me,ye=ge._processChunk(ne.slice(ne.l),ge._finishFlushFlag);return ne.l+=ge.bytesRead,ye}function X(ne){return B?B.deflateRawSync(ne):Pe(ne)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(ne){var xe=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(xe>>16|xe>>8|xe)&255}for(var re=typeof Uint8Array<"u",ie=re?new Uint8Array(256):[],J=0;J<256;++J)ie[J]=pe(J);function z(ne,xe){var me=ie[ne&255];return xe<=8?me>>>8-xe:(me=me<<8|ie[ne>>8&255],xe<=16?me>>>16-xe:(me=me<<8|ie[ne>>16&255],me>>>24-xe))}function Se(ne,xe){var me=xe&7,ge=xe>>>3;return(ne[ge]|(me<=6?0:ne[ge+1]<<8))>>>me&3}function te(ne,xe){var me=xe&7,ge=xe>>>3;return(ne[ge]|(me<=5?0:ne[ge+1]<<8))>>>me&7}function _e(ne,xe){var me=xe&7,ge=xe>>>3;return(ne[ge]|(me<=4?0:ne[ge+1]<<8))>>>me&15}function Ae(ne,xe){var me=xe&7,ge=xe>>>3;return(ne[ge]|(me<=3?0:ne[ge+1]<<8))>>>me&31}function ue(ne,xe){var me=xe&7,ge=xe>>>3;return(ne[ge]|(me<=1?0:ne[ge+1]<<8))>>>me&127}function Ve(ne,xe,me){var ge=xe&7,ye=xe>>>3,ve=(1<<me)-1,$e=ne[ye]>>>ge;return me<8-ge||($e|=ne[ye+1]<<8-ge,me<16-ge)||($e|=ne[ye+2]<<16-ge,me<24-ge)||($e|=ne[ye+3]<<24-ge),$e&ve}function He(ne,xe,me){var ge=xe&7,ye=xe>>>3;return ge<=5?ne[ye]|=(me&7)<<ge:(ne[ye]|=me<<ge&255,ne[ye+1]=(me&7)>>8-ge),xe+3}function le(ne,xe,me){var ge=xe&7,ye=xe>>>3;return me=(me&1)<<ge,ne[ye]|=me,xe+1}function be(ne,xe,me){var ge=xe&7,ye=xe>>>3;return me<<=ge,ne[ye]|=me&255,me>>>=8,ne[ye+1]=me,xe+8}function Oe(ne,xe,me){var ge=xe&7,ye=xe>>>3;return me<<=ge,ne[ye]|=me&255,me>>>=8,ne[ye+1]=me&255,ne[ye+2]=me>>>8,xe+16}function Ze(ne,xe){var me=ne.length,ge=2*me>xe?2*me:xe+5,ye=0;if(me>=xe)return ne;if(Ur){var ve=Z7(ge);if(ne.copy)ne.copy(ve);else for(;ye<ne.length;++ye)ve[ye]=ne[ye];return ve}else if(re){var $e=new Uint8Array(ge);if($e.set)$e.set(ne);else for(;ye<me;++ye)$e[ye]=ne[ye];return $e}return ne.length=ge,ne}function tt(ne){for(var xe=new Array(ne),me=0;me<ne;++me)xe[me]=0;return xe}function fe(ne,xe,me){var ge=1,ye=0,ve=0,$e=0,Ge=0,Le=ne.length,qe=re?new Uint16Array(32):tt(32);for(ve=0;ve<32;++ve)qe[ve]=0;for(ve=Le;ve<me;++ve)ne[ve]=0;Le=ne.length;var Be=re?new Uint16Array(Le):tt(Le);for(ve=0;ve<Le;++ve)qe[ye=ne[ve]]++,ge<ye&&(ge=ye),Be[ve]=0;for(qe[0]=0,ve=1;ve<=ge;++ve)qe[ve+16]=Ge=Ge+qe[ve-1]<<1;for(ve=0;ve<Le;++ve)Ge=ne[ve],Ge!=0&&(Be[ve]=qe[Ge+16]++);var it=0;for(ve=0;ve<Le;++ve)if(it=ne[ve],it!=0)for(Ge=z(Be[ve],ge)>>ge-it,$e=(1<<ge+4-it)-1;$e>=0;--$e)xe[Ge|$e<<it]=it&15|ve<<4;return ge}var ee=re?new Uint16Array(512):tt(512),we=re?new Uint16Array(32):tt(32);if(!re){for(var he=0;he<512;++he)ee[he]=0;for(he=0;he<32;++he)we[he]=0}(function(){for(var ne=[],xe=0;xe<32;xe++)ne.push(5);fe(ne,we,32);var me=[];for(xe=0;xe<=143;xe++)me.push(8);for(;xe<=255;xe++)me.push(9);for(;xe<=279;xe++)me.push(7);for(;xe<=287;xe++)me.push(8);fe(me,ee,288)})();var Me=(function(){for(var xe=re?new Uint8Array(32768):[],me=0,ge=0;me<de.length-1;++me)for(;ge<de[me+1];++ge)xe[ge]=me;for(;ge<32768;++ge)xe[ge]=29;var ye=re?new Uint8Array(259):[];for(me=0,ge=0;me<ce.length-1;++me)for(;ge<ce[me+1];++ge)ye[ge]=me;function ve(Ge,Le){for(var qe=0;qe<Ge.length;){var Be=Math.min(65535,Ge.length-qe),it=qe+Be==Ge.length;for(Le.write_shift(1,+it),Le.write_shift(2,Be),Le.write_shift(2,~Be&65535);Be-- >0;)Le[Le.l++]=Ge[qe++]}return Le.l}function $e(Ge,Le){for(var qe=0,Be=0,it=re?new Uint16Array(32768):[];Be<Ge.length;){var gt=Math.min(65535,Ge.length-Be);if(gt<10){for(qe=He(Le,qe,+(Be+gt==Ge.length)),qe&7&&(qe+=8-(qe&7)),Le.l=qe/8|0,Le.write_shift(2,gt),Le.write_shift(2,~gt&65535);gt-- >0;)Le[Le.l++]=Ge[Be++];qe=Le.l*8;continue}qe=He(Le,qe,+(Be+gt==Ge.length)+2);for(var Pt=0;gt-- >0;){var yt=Ge[Be];Pt=(Pt<<5^yt)&32767;var ot=-1,qt=0;if((ot=it[Pt])&&(ot|=Be&-32768,ot>Be&&(ot-=32768),ot<Be))for(;Ge[ot+qt]==Ge[Be+qt]&&qt<250;)++qt;if(qt>2){yt=ye[qt],yt<=22?qe=be(Le,qe,ie[yt+1]>>1)-1:(be(Le,qe,3),qe+=5,be(Le,qe,ie[yt-23]>>5),qe+=3);var Vr=yt<8?0:yt-4>>2;Vr>0&&(Oe(Le,qe,qt-ce[yt]),qe+=Vr),yt=xe[Be-ot],qe=be(Le,qe,ie[yt]>>3),qe-=3;var Nn=yt<4?0:yt-2>>1;Nn>0&&(Oe(Le,qe,Be-ot-de[yt]),qe+=Nn);for(var ls=0;ls<qt;++ls)it[Pt]=Be&32767,Pt=(Pt<<5^Ge[Be])&32767,++Be;gt-=qt-1}else yt<=143?yt=yt+48:qe=le(Le,qe,1),qe=be(Le,qe,ie[yt]),it[Pt]=Be&32767,++Be}qe=be(Le,qe,0)-1}return Le.l=(qe+7)/8|0,Le.l}return function(Le,qe){return Le.length<8?ve(Le,qe):$e(Le,qe)}})();function Pe(ne){var xe=rt(50+Math.floor(ne.length*1.1)),me=Me(ne,xe);return xe.slice(0,me)}var Re=re?new Uint16Array(32768):tt(32768),et=re?new Uint16Array(32768):tt(32768),jt=re?new Uint16Array(128):tt(128),je=1,nt=1;function at(ne,xe){var me=Ae(ne,xe)+257;xe+=5;var ge=Ae(ne,xe)+1;xe+=5;var ye=_e(ne,xe)+4;xe+=4;for(var ve=0,$e=re?new Uint8Array(19):tt(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,qe=re?new Uint8Array(8):tt(8),Be=re?new Uint8Array(8):tt(8),it=$e.length,gt=0;gt<ye;++gt)$e[Q[gt]]=ve=te(ne,xe),Le<ve&&(Le=ve),qe[ve]++,xe+=3;var Pt=0;for(qe[0]=0,gt=1;gt<=Le;++gt)Be[gt]=Pt=Pt+qe[gt-1]<<1;for(gt=0;gt<it;++gt)(Pt=$e[gt])!=0&&(Ge[gt]=Be[Pt]++);var yt=0;for(gt=0;gt<it;++gt)if(yt=$e[gt],yt!=0){Pt=ie[Ge[gt]]>>8-yt;for(var ot=(1<<7-yt)-1;ot>=0;--ot)jt[Pt|ot<<yt]=yt&7|gt<<3}var qt=[];for(Le=1;qt.length<me+ge;)switch(Pt=jt[ue(ne,xe)],xe+=Pt&7,Pt>>>=3){case 16:for(ve=3+Se(ne,xe),xe+=2,Pt=qt[qt.length-1];ve-- >0;)qt.push(Pt);break;case 17:for(ve=3+te(ne,xe),xe+=3;ve-- >0;)qt.push(0);break;case 18:for(ve=11+ue(ne,xe),xe+=7;ve-- >0;)qt.push(0);break;default:qt.push(Pt),Le<Pt&&(Le=Pt);break}var Vr=qt.slice(0,me),Nn=qt.slice(me);for(gt=me;gt<286;++gt)Vr[gt]=0;for(gt=ge;gt<30;++gt)Nn[gt]=0;return je=fe(Vr,Re,286),nt=fe(Nn,et,30),xe}function Dt(ne,xe){if(ne[0]==3&&!(ne[1]&3))return[Wf(xe),2];for(var me=0,ge=0,ye=Z7(xe||1<<18),ve=0,$e=ye.length>>>0,Ge=0,Le=0;(ge&1)==0;){if(ge=te(ne,me),me+=3,ge>>>1)ge>>1==1?(Ge=9,Le=5):(me=at(ne,me),Ge=je,Le=nt);else{me&7&&(me+=8-(me&7));var qe=ne[me>>>3]|ne[(me>>>3)+1]<<8;if(me+=32,qe>0)for(!xe&&$e<ve+qe&&(ye=Ze(ye,ve+qe),$e=ye.length);qe-- >0;)ye[ve++]=ne[me>>>3],me+=8;continue}for(;;){!xe&&$e<ve+32767&&(ye=Ze(ye,ve+32767),$e=ye.length);var Be=Ve(ne,me,Ge),it=ge>>>1==1?ee[Be]:Re[Be];if(me+=it&15,it>>>=4,(it>>>8&255)===0)ye[ve++]=it;else{if(it==256)break;it-=257;var gt=it<8?0:it-4>>2;gt>5&&(gt=0);var Pt=ve+ce[it];gt>0&&(Pt+=Ve(ne,me,gt),me+=gt),Be=Ve(ne,me,Le),it=ge>>>1==1?we[Be]:et[Be],me+=it&15,it>>>=4;var yt=it<4?0:it-2>>1,ot=de[it];for(yt>0&&(ot+=Ve(ne,me,yt),me+=yt),!xe&&$e<Pt&&(ye=Ze(ye,Pt+100),$e=ye.length);ve<Pt;)ye[ve]=ye[ve-ot],++ve}}}return xe?[ye,me+7>>>3]:[ye.slice(0,ve),me+7>>>3]}function lt(ne,xe){var me=ne.slice(ne.l||0),ge=Dt(me,xe);return ne.l+=ge[1],ge[0]}function vt(ne,xe){if(ne)typeof console<"u"&&console.error(xe);else throw new Error(xe)}function Zt(ne,xe){var me=ne;ei(me,0);var ge=[],ye=[],ve={FileIndex:ge,FullPaths:ye};E(ve,{root:xe.root});for(var $e=me.length-4;(me[$e]!=80||me[$e+1]!=75||me[$e+2]!=5||me[$e+3]!=6)&&$e>=0;)--$e;me.l=$e+4,me.l+=4;var Ge=me.read_shift(2);me.l+=6;var Le=me.read_shift(4);for(me.l=Le,$e=0;$e<Ge;++$e){me.l+=20;var qe=me.read_shift(4),Be=me.read_shift(4),it=me.read_shift(2),gt=me.read_shift(2),Pt=me.read_shift(2);me.l+=8;var yt=me.read_shift(4),ot=l(me.slice(me.l+it,me.l+it+gt));me.l+=it+gt+Pt;var qt=me.l;me.l=yt+4,Gt(me,qe,Be,ve,ot),me.l=qt}return ve}function Gt(ne,xe,me,ge,ye){ne.l+=2;var ve=ne.read_shift(2),$e=ne.read_shift(2),Ge=o(ne);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var Le=ne.read_shift(4),qe=ne.read_shift(4),Be=ne.read_shift(4),it=ne.read_shift(2),gt=ne.read_shift(2),Pt="",yt=0;yt<it;++yt)Pt+=String.fromCharCode(ne[ne.l++]);if(gt){var ot=l(ne.slice(ne.l,ne.l+gt));(ot[21589]||{}).mt&&(Ge=ot[21589].mt),((ye||{})[21589]||{}).mt&&(Ge=ye[21589].mt)}ne.l+=gt;var qt=ne.slice(ne.l,ne.l+qe);switch($e){case 8:qt=Z(ne,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+$e)}var Vr=!1;ve&8&&(Le=ne.read_shift(4),Le==134695760&&(Le=ne.read_shift(4),Vr=!0),qe=ne.read_shift(4),Be=ne.read_shift(4)),qe!=xe&&vt(Vr,"Bad compressed size: "+xe+" != "+qe),Be!=me&&vt(Vr,"Bad uncompressed size: "+me+" != "+Be),Bt(ge,Pt,qt,{unsafe:!0,mt:Ge})}function pr(ne,xe){var me=xe||{},ge=[],ye=[],ve=rt(1),$e=me.compression?8:0,Ge=0,Le=0,qe=0,Be=0,it=0,gt=ne.FullPaths[0],Pt=gt,yt=ne.FileIndex[0],ot=[],qt=0;for(Le=1;Le<ne.FullPaths.length;++Le)if(Pt=ne.FullPaths[Le].slice(gt.length),yt=ne.FileIndex[Le],!(!yt.size||!yt.content||Pt=="Sh33tJ5")){var Vr=Be,Nn=rt(Pt.length);for(qe=0;qe<Pt.length;++qe)Nn.write_shift(1,Pt.charCodeAt(qe)&127);Nn=Nn.slice(0,Nn.l),ot[it]=gAe.buf(yt.content,0);var ls=yt.content;$e==8&&(ls=X(ls)),ve=rt(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,Ge),ve.write_shift(2,$e),yt.mt?i(ve,yt.mt):ve.write_shift(4,0),ve.write_shift(-4,ot[it]),ve.write_shift(4,ls.length),ve.write_shift(4,yt.content.length),ve.write_shift(2,Nn.length),ve.write_shift(2,0),Be+=ve.length,ge.push(ve),Be+=Nn.length,ge.push(Nn),Be+=ls.length,ge.push(ls),ve=rt(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,Ge),ve.write_shift(2,$e),ve.write_shift(4,0),ve.write_shift(-4,ot[it]),ve.write_shift(4,ls.length),ve.write_shift(4,yt.content.length),ve.write_shift(2,Nn.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,Vr),qt+=ve.l,ye.push(ve),qt+=Nn.length,ye.push(Nn),++it}return ve=rt(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,it),ve.write_shift(2,it),ve.write_shift(4,qt),ve.write_shift(4,Be),ve.write_shift(2,0),za([za(ge),za(ye),ve])}var Qt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function jn(ne,xe){if(ne.ctype)return ne.ctype;var me=ne.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Qt[ge[1]]||xe&&(ge=(me=xe).match(/[\.\\]([^\.\\])+$/),ge&&Qt[ge[1]])?Qt[ge[1]]:"application/octet-stream"}function $t(ne){for(var xe=jb(ne),me=[],ge=0;ge<xe.length;ge+=76)me.push(xe.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function jr(ne){var xe=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var Be=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});xe=xe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),xe.charAt(0)==`
`&&(xe="=0D"+xe.slice(1)),xe=xe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=xe.split(`\r
`),ye=0;ye<ge.length;++ye){var ve=ge[ye];if(ve.length==0){me.push("");continue}for(var $e=0;$e<ve.length;){var Ge=76,Le=ve.slice($e,$e+Ge);Le.charAt(Ge-1)=="="?Ge--:Le.charAt(Ge-2)=="="?Ge-=2:Le.charAt(Ge-3)=="="&&(Ge-=3),Le=ve.slice($e,$e+Ge),$e+=Ge,$e<ve.length&&(Le+="="),me.push(Le)}}return me.join(`\r
`)}function br(ne){for(var xe=[],me=0;me<ne.length;++me){for(var ge=ne[me];me<=ne.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ne[++me];xe.push(ge)}for(var ye=0;ye<xe.length;++ye)xe[ye]=xe[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return Wo(xe.join(`\r
`))}function It(ne,xe,me){for(var ge="",ye="",ve="",$e,Ge=0;Ge<10;++Ge){var Le=xe[Ge];if(!Le||Le.match(/^\s*$/))break;var qe=Le.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":ge=qe[2].trim();break;case"content-type":ve=qe[2].trim();break;case"content-transfer-encoding":ye=qe[2].trim();break}}switch(++Ge,ye.toLowerCase()){case"base64":$e=Wo(al(xe.slice(Ge).join("")));break;case"quoted-printable":$e=br(xe.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var Be=Bt(ne,ge.slice(me.length),$e,{unsafe:!0});ve&&(Be.ctype=ve)}function Rt(ne,xe){if(U(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=xe&&xe.root||"",ge=(Ur&&Buffer.isBuffer(ne)?ne.toString("binary"):U(ne)).split(`\r
`),ye=0,ve="";for(ye=0;ye<ge.length;++ye)if(ve=ge[ye],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),me||(me=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),ve.slice(0,me.length)!=me););var $e=(ge[1]||"").match(/boundary="(.*?)"/);if(!$e)throw new Error("MAD cannot find boundary");var Ge="--"+($e[1]||""),Le=[],qe=[],Be={FileIndex:Le,FullPaths:qe};E(Be);var it,gt=0;for(ye=0;ye<ge.length;++ye){var Pt=ge[ye];Pt!==Ge&&Pt!==Ge+"--"||(gt++&&It(Be,ge.slice(it,ye),me),it=ye)}return Be}function or(ne,xe){var me=xe||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],ve=ne.FullPaths[0],$e=ve,Ge=ne.FileIndex[0],Le=1;Le<ne.FullPaths.length;++Le)if($e=ne.FullPaths[Le].slice(ve.length),Ge=ne.FileIndex[Le],!(!Ge.size||!Ge.content||$e=="Sh33tJ5")){$e=$e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qt){return"_x"+qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qt){return"_u"+qt.charCodeAt(0).toString(16)+"_"});for(var qe=Ge.content,Be=Ur&&Buffer.isBuffer(qe)?qe.toString("binary"):U(qe),it=0,gt=Math.min(1024,Be.length),Pt=0,yt=0;yt<=gt;++yt)(Pt=Be.charCodeAt(yt))>=32&&Pt<128&&++it;var ot=it>=gt*4/5;ye.push(ge),ye.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+$e),ye.push("Content-Transfer-Encoding: "+(ot?"quoted-printable":"base64")),ye.push("Content-Type: "+jn(Ge,$e)),ye.push(""),ye.push(ot?jr(Be):$t(Be))}return ye.push(ge+`--\r
`),ye.join(`\r
`)}function bt(ne){var xe={};return E(xe,ne),xe}function Bt(ne,xe,me,ge){var ye=ge&&ge.unsafe;ye||E(ne);var ve=!ye&&er.find(ne,xe);if(!ve){var $e=ne.FullPaths[0];xe.slice(0,$e.length)==$e?$e=xe:($e.slice(-1)!="/"&&($e+="/"),$e=($e+xe).replace("//","/")),ve={name:a(xe),type:2},ne.FileIndex.push(ve),ne.FullPaths.push($e),ye||er.utils.cfb_gc(ne)}return ve.content=me,ve.size=me?me.length:0,ge&&(ge.CLSID&&(ve.clsid=ge.CLSID),ge.mt&&(ve.mt=ge.mt),ge.ct&&(ve.ct=ge.ct)),ve}function Lt(ne,xe){E(ne);var me=er.find(ne,xe);if(me){for(var ge=0;ge<ne.FileIndex.length;++ge)if(ne.FileIndex[ge]==me)return ne.FileIndex.splice(ge,1),ne.FullPaths.splice(ge,1),!0}return!1}function sr(ne,xe,me){E(ne);var ge=er.find(ne,xe);if(ge){for(var ye=0;ye<ne.FileIndex.length;++ye)if(ne.FileIndex[ye]==ge)return ne.FileIndex[ye].name=a(me),ne.FullPaths[ye]=me,!0}return!1}function $n(ne){P(ne,!0)}return t.find=O,t.read=k,t.parse=d,t.write=F,t.writeFile=K,t.utils={cfb_new:bt,cfb_add:Bt,cfb_del:Lt,cfb_mov:sr,cfb_gc:$n,ReadShift:Py,CheckField:Mae,prep_blob:ei,bconcat:za,use_zlib:V,_deflateRaw:Pe,_inflateRaw:lt,consts:G},t})();let ff;function xAe(e){ff=e}function vAe(e){return typeof e=="string"?Yw(e):Array.isArray(e)?zTe(e):e}function Jw(e,t,r){if(typeof ff<"u"&&ff.writeFileSync)return r?ff.writeFileSync(e,t,r):ff.writeFileSync(e,t);if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Yw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Yc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([vAe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=lh(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function yAe(e){if(typeof ff<"u")return ff.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Rs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function iV(e,t){for(var r=[],n=Rs(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function dk(e){for(var t=[],r=Rs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function fk(e){for(var t=[],r=Rs(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function bAe(e){for(var t=[],r=Rs(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var GN=new Date(1899,11,30,0,0,0);function Pa(e,t){var r=e.getTime(),n=GN.getTime()+(e.getTimezoneOffset()-GN.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var yae=new Date,wAe=GN.getTime()+(yae.getTimezoneOffset()-GN.getTimezoneOffset())*6e4,oV=yae.getTimezoneOffset();function hk(e){var t=new Date;return t.setTime(e*24*60*60*1e3+wAe),t.getTimezoneOffset()!==oV&&t.setTime(t.getTime()+(t.getTimezoneOffset()-oV)*6e4),t}function _Ae(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var lV=new Date("2017-02-19T19:06:09.000Z"),bae=isNaN(lV.getFullYear())?new Date("2/19/17"):lV,jAe=bae.getFullYear()==2017;function os(e,t){var r=new Date(e);if(jAe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(bae.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function zm(e,t){if(Ur&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Yc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Yc(iae(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Yc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Yc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Hn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Hn(e[r]));return t}function Ss(e,t){for(var r="";r.length<t;)r+=e;return r}function vc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var NAe=["january","february","march","april","may","june","july","august","september","october","november","december"];function C0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&NAe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var SAe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function wae(e){return e?e.content&&e.type?zm(e.content,!0):e.data?Ag(e.data):e.asNodeBuffer&&Ur?Ag(e.asNodeBuffer().toString("binary")):e.asBinary?Ag(e.asBinary()):e._data&&e._data.getContent?Ag(zm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function _ae(e){if(!e)return null;if(e.data)return zN(e.data);if(e.asNodeBuffer&&Ur)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?zN(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function kAe(e){return e&&e.name.slice(-4)===".bin"?_ae(e):wae(e)}function Nl(e,t){for(var r=e.FullPaths||Rs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function pF(e,t){var r=Nl(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ea(e,t,r){if(!r)return kAe(pF(e,t));if(!t)return null;try{return ea(e,t)}catch{return null}}function Ho(e,t,r){if(!r)return wae(pF(e,t));if(!t)return null;try{return Ho(e,t)}catch{return null}}function CAe(e,t,r){return _ae(pF(e,t))}function cV(e){for(var t=e.FullPaths||Rs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function $r(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ur?n=pd(r):n=qTe(r),er.utils.cfb_add(e,t,n)}er.utils.cfb_add(e,t,r)}else e.file(t,r)}function gF(){return er.utils.cfb_new()}function jae(e,t){switch(t.type){case"base64":return er.read(e,{type:"base64"});case"binary":return er.read(e,{type:"binary"});case"buffer":case"array":return er.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function sy(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Xs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,EAe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,uV=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,TAe=/<[^>]*>/g,Di=Xs.match(uV)?uV:TAe,AAe=/<\w*:/,PAe=/<(\/?)\w+:/;function Sr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(EAe),l=0,c="",u=0,d="",f="",m=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(m=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+m,f.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function bu(e){return e.replace(PAe,"<$1")}var Nae={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xF=dk(Nae),fn=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return Nae[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),vF=/[&<>'"]/g,OAe=/[\u0000-\u0008\u000b-\u001f]/g;function In(e){var t=e+"";return t.replace(vF,function(r){return xF[r]}).replace(OAe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function dV(e){return In(e).replace(/ /g,"_x0020_")}var Sae=/[\u0000-\u001f]/g;function yF(e){var t=e+"";return t.replace(vF,function(r){return xF[r]}).replace(/\n/g,"<br/>").replace(Sae,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function DAe(e){var t=e+"";return t.replace(vF,function(r){return xF[r]}).replace(Sae,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var fV=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function RAe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function as(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function tA(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function hV(e){var t=Wf(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function mV(e){return pd(e,"binary").toString("utf8")}var Q_="foo bar baz",Ln=Ur&&(mV(Q_)==tA(Q_)&&mV||hV(Q_)==tA(Q_)&&hV)||tA,Yc=Ur?function(e){return pd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Sb=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),kae=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),IAe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),MAe=/<\/?(?:vt:)?variant>/g,FAe=/<(?:vt:)([^>]*)>([\s\S]*)</;function pV(e,t){var r=Sr(e),n=e.match(IAe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(MAe,"").match(FAe);o&&a.push({v:Ln(o[2]),t:o[1]})}),a}var Cae=/(^\s|\s$|\n)/;function ni(e,t){return"<"+e+(t.match(Cae)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function kb(e){return Rs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ct(e,t,r){return"<"+e+(r!=null?kb(r):"")+(t!=null?(t.match(Cae)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function x3(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function LAe(e,t){switch(typeof e){case"string":var r=Ct("vt:lpwstr",In(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ct((e|0)==e?"vt:i4":"vt:r8",In(String(e)));case"boolean":return Ct("vt:bool",e?"true":"false")}if(e instanceof Date)return Ct("vt:filetime",x3(e));throw new Error("Unable to serialize "+e)}function bF(e){if(Ur&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ln(lh(fF(e)));throw new Error("Bad input format: expected Buffer or string")}var Cb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ca={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},dp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Bo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $Ae(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function BAe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var gV=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},xV=Ur?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:pd(t)})):gV(e)}:gV,vV=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Wu(e,a)));return n.join("").replace(Ti,"")},mk=Ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ti,""):vV(e,t,r)}:vV,yV=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Eae=Ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):yV(e,t,r)}:yV,bV=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(_g(e,a)));return n.join("")},Nx=Ur?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):bV(t,r,n)}:bV,Tae=function(e,t){var r=Ua(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},wF=Tae,Aae=function(e,t){var r=Ua(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},_F=Aae,Pae=function(e,t){var r=2*Ua(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},jF=Pae,Oae=function(t,r){var n=Ua(t,r);return n>0?mk(t,r+4,r+4+n):""},NF=Oae,Dae=function(e,t){var r=Ua(e,t);return r>0?Nx(e,t+4,t+4+r):""},SF=Dae,Rae=function(e,t){return $Ae(e,t)},KN=Rae,kF=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ur&&(wF=function(t,r){if(!Buffer.isBuffer(t))return Tae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_F=function(t,r){if(!Buffer.isBuffer(t))return Aae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},jF=function(t,r){if(!Buffer.isBuffer(t))return Pae(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},NF=function(t,r){if(!Buffer.isBuffer(t))return Oae(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},SF=function(t,r){if(!Buffer.isBuffer(t))return Dae(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},KN=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Rae(t,r)},kF=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function Iae(){mk=function(e,t,r){return nn.utils.decode(1200,e.slice(t,r)).replace(Ti,"")},Nx=function(e,t,r){return nn.utils.decode(65001,e.slice(t,r))},wF=function(e,t){var r=Ua(e,t);return r>0?nn.utils.decode(Um,e.slice(t+4,t+4+r-1)):""},_F=function(e,t){var r=Ua(e,t);return r>0?nn.utils.decode(Zo,e.slice(t+4,t+4+r-1)):""},jF=function(e,t){var r=2*Ua(e,t);return r>0?nn.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},NF=function(e,t){var r=Ua(e,t);return r>0?nn.utils.decode(1200,e.slice(t+4,t+4+r)):""},SF=function(e,t){var r=Ua(e,t);return r>0?nn.utils.decode(65001,e.slice(t+4,t+4+r)):""}}typeof nn<"u"&&Iae();var _g=function(e,t){return e[t]},Wu=function(e,t){return e[t+1]*256+e[t]},UAe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ua=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Kh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},VAe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Py(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Wu(this,u)),u+=2;e*=2;break;case"utf8":r=Nx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=mk(this,this.l,this.l+e);break;case"wstr":if(typeof nn<"u")r=nn.utils.decode(Zo,this.slice(this.l,this.l+2*e));else return Py.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=wF(this,this.l),e=4+Ua(this,this.l);break;case"lpstr-cp":r=_F(this,this.l),e=4+Ua(this,this.l);break;case"lpwstr":r=jF(this,this.l),e=4+2*Ua(this,this.l);break;case"lpp4":e=4+Ua(this,this.l),r=NF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ua(this,this.l),r=SF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=_g(this,this.l+e++))!==0;)i.push(ry(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Wu(this,this.l+e))!==0;)i.push(ry(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=_g(this,u),this.l=u+1,l=Py.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(ry(Wu(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":if(typeof nn<"u"){r=nn.utils.decode(Zo,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=_g(this,u),this.l=u+1,l=Py.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(ry(_g(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=_g(this,this.l),this.l++,n;case 2:return n=(t==="i"?UAe:Wu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Kh:VAe)(this,this.l),this.l+=4,n):(a=Ua(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=KN(this,this.l):a=KN([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Eae(this,this.l,e);break}}return this.l+=e,r}var zAe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},qAe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},WAe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function HAe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)WAe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){if(typeof nn<"u"&&Um==874)for(a=0;a!=t.length;++a){var i=nn.utils.encode(Um,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,zAe(this,t,this.l);break;case 8:if(n=8,r==="f"){BAe(this,t,this.l);break}case 16:break;case-4:n=4,qAe(this,t,this.l);break}return this.l+=n,this}function Mae(e,t){var r=Eae(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ei(e,t){e.l=t,e.read_shift=Py,e.chk=Mae,e.write_shift=HAe}function Oi(e,t){e.l+=t}function rt(e){var t=Wf(e);return ei(t,0),t}function gd(e,t,r){if(e){var n,a,i;ei(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=Db[l]||Db[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function _o(){var e=[],t=Ur?256:2048,r=function(u){var d=rt(u);return ei(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),za(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function ut(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Db[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&kF(r)&&e.push(r)}}function Oy(e,t,r){var n=Hn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function wV(e,t,r){var n=Hn(e);return n.s=Oy(n.s,t.s,r),n.e=Oy(n.e,t.s,r),n}function Dy(e,t){if(e.cRel&&e.c<0)for(e=Hn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Hn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=wr(e);return!e.cRel&&e.cRel!=null&&(r=YAe(r)),!e.rRel&&e.rRel!=null&&(r=GAe(r)),r}function rA(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+is(e.s.c)+":"+(e.e.cRel?"":"$")+is(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ps(e.s.r)+":"+(e.e.rRel?"":"$")+Ps(e.e.r):Dy(e.s,t.biff)+":"+Dy(e.e,t.biff)}function CF(e){return parseInt(KAe(e),10)-1}function Ps(e){return""+(e+1)}function GAe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function KAe(e){return e.replace(/\$(\d+)$/,"$1")}function EF(e){for(var t=XAe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function is(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function YAe(e){return e.replace(/^([A-Z])/,"$$$1")}function XAe(e){return e.replace(/^\$([A-Z])/,"$1")}function JAe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _s(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function wr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ji(e){var t=e.indexOf(":");return t==-1?{s:_s(e),e:_s(e)}:{s:_s(e.slice(0,t)),e:_s(e.slice(t+1))}}function Fr(e,t){return typeof t>"u"||typeof t=="number"?Fr(e.s,e.e):(typeof e!="string"&&(e=wr(e)),typeof t!="string"&&(t=wr(t)),e==t?e:e+":"+t)}function Zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function _V(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=il(e.z,r?Pa(t):t)}catch{}try{return e.w=il((e.XF||{}).numFmtId||(r?14:0),r?Pa(t):t)}catch{return""+t}}function du(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?xd[e.v]||e.v:t==null?_V(e,e.v):_V(e,t))}function ch(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Fae(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?_s(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Zr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var p={v:t[f][m]},y=o+f,g=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))p=t[f][m];else if(Array.isArray(p.v)&&(p.f=t[f][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||hr[14],n.cellDates?(p.t="d",p.w=il(p.z,Pa(p.v))):(p.t="n",p.v=Pa(p.v),p.w=il(p.z,p.v))):p.t="s";if(a)i[y]||(i[y]=[]),i[y][g]&&i[y][g].z&&(p.z=i[y][g].z),i[y][g]=p;else{var v=wr({c:g,r:y});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return u.s.c<1e7&&(i["!ref"]=Fr(u)),i}function Sx(e,t){return Fae(null,e,t)}function ZAe(e){return e.read_shift(4,"i")}function yc(e,t){return t||(t=rt(4)),t.write_shift(4,e),t}function Ai(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function qa(e,t){var r=!1;return t==null&&(r=!0,t=rt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function QAe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ePe(e,t){return t||(t=rt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function TF(e,t){var r=e.l,n=e.read_shift(1),a=Ai(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(QAe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function tPe(e,t){var r=!1;return t==null&&(r=!0,t=rt(15+4*e.t.length)),t.write_shift(1,0),qa(e.t,t),r?t.slice(0,t.l):t}var rPe=TF;function nPe(e,t){var r=!1;return t==null&&(r=!0,t=rt(23+4*e.t.length)),t.write_shift(1,1),qa(e.t,t),t.write_shift(4,1),ePe({},t),r?t.slice(0,t.l):t}function Wl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function fp(e,t){return t==null&&(t=rt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function hp(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function mp(e,t){return t==null&&(t=rt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var sPe=Ai,Lae=qa;function AF(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function YN(e,t){var r=!1;return t==null&&(r=!0,t=rt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var aPe=Ai,v3=AF,PF=YN;function OF(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?KN([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Kh(t,0)>>2;return r?a/100:a}function $ae(e,t){t==null&&(t=rt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Bae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function iPe(e,t){return t||(t=rt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var pp=Bae,kx=iPe;function Ni(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function qm(e,t){return(t||rt(8)).write_shift(8,e,"f")}function oPe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=vm[a];u&&(t.rgb=Tb(u));break;case 2:t.rgb=Tb([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function XN(e,t){if(t||(t=rt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function lPe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function cPe(e,t){t||(t=rt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Uae(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function uPe(e){return Uae(e,1)}function dPe(e){return Uae(e,2)}var DF=2,uo=3,ej=11,jV=12,JN=19,tj=64,fPe=65,hPe=71,mPe=4108,pPe=4126,$a=80,Vae=81,gPe=[$a,Vae],y3={1:{n:"CodePage",t:DF},2:{n:"Category",t:$a},3:{n:"PresentationFormat",t:$a},4:{n:"ByteCount",t:uo},5:{n:"LineCount",t:uo},6:{n:"ParagraphCount",t:uo},7:{n:"SlideCount",t:uo},8:{n:"NoteCount",t:uo},9:{n:"HiddenCount",t:uo},10:{n:"MultimediaClipCount",t:uo},11:{n:"ScaleCrop",t:ej},12:{n:"HeadingPairs",t:mPe},13:{n:"TitlesOfParts",t:pPe},14:{n:"Manager",t:$a},15:{n:"Company",t:$a},16:{n:"LinksUpToDate",t:ej},17:{n:"CharacterCount",t:uo},19:{n:"SharedDoc",t:ej},22:{n:"HyperlinksChanged",t:ej},23:{n:"AppVersion",t:uo,p:"version"},24:{n:"DigSig",t:fPe},26:{n:"ContentType",t:$a},27:{n:"ContentStatus",t:$a},28:{n:"Language",t:$a},29:{n:"Version",t:$a},255:{},2147483648:{n:"Locale",t:JN},2147483651:{n:"Behavior",t:JN},1919054434:{}},b3={1:{n:"CodePage",t:DF},2:{n:"Title",t:$a},3:{n:"Subject",t:$a},4:{n:"Author",t:$a},5:{n:"Keywords",t:$a},6:{n:"Comments",t:$a},7:{n:"Template",t:$a},8:{n:"LastAuthor",t:$a},9:{n:"RevNumber",t:$a},10:{n:"EditTime",t:tj},11:{n:"LastPrinted",t:tj},12:{n:"CreatedDate",t:tj},13:{n:"ModifiedDate",t:tj},14:{n:"PageCount",t:uo},15:{n:"WordCount",t:uo},16:{n:"CharCount",t:uo},17:{n:"Thumbnail",t:hPe},18:{n:"Application",t:$a},19:{n:"DocSecurity",t:uo},255:{},2147483648:{n:"Locale",t:JN},2147483651:{n:"Behavior",t:JN},1919054434:{}},NV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},xPe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function vPe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var yPe=vPe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),vm=Hn(yPe),xd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},zae={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},w3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},rj={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function RF(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function bPe(e){var t=RF();if(!e||!e.match)return t;var r={};if((e.match(Di)||[]).forEach(function(n){var a=Sr(n);switch(a[0].replace(AAe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[w3[a.ContentType]]!==void 0&&t[w3[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Ca.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function qae(e,t){var r=bAe(w3),n=[],a;n[n.length]=Xs,n[n.length]=Ct("Types",null,{xmlns:Ca.CT,"xmlns:xsd":Ca.xsd,"xmlns:xsi":Ca.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ct("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Ct("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:rj[c][t.bookType]||rj[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ct("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:rj[c][t.bookType]||rj[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ct("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Hr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Eb(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ry(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Di)||[]).forEach(function(a){var i=Sr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:sy(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function n0(e){var t=[Xs,Ct("Relationships",null,{xmlns:Ca.RELS})];return Rs(e["!id"]).forEach(function(r){t[t.length]=Ct("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Dn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Hr.HLINK,Hr.XPATH,Hr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var wPe="application/vnd.oasis.opendocument.spreadsheet";function _Pe(e,t){for(var r=bF(e),n,a;n=Cb.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Sr(n[0],!1),a.path=="/"&&a.type!==wPe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function jPe(e){var t=[Xs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function SV(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function NPe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function SPe(e){var t=[Xs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(SV(e[r][0],e[r][1])),t.push(NPe("",e[r][0]));return t.push(SV("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Wae(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_b.version+"</meta:generator></office:meta></office:document-meta>"}var Bl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],kPe=(function(){for(var e=new Array(Bl.length),t=0;t<Bl.length;++t){var r=Bl[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function Hae(e){var t={};e=Ln(e);for(var r=0;r<Bl.length;++r){var n=Bl[r],a=e.match(kPe[r]);a!=null&&a.length>0&&(t[n[1]]=fn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=os(t[n[1]]))}return t}function nA(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=In(t),n[n.length]=r?Ct(e,t,r):ni(e,t))}function Gae(e,t){var r=t||{},n=[Xs,Ct("cp:coreProperties",null,{"xmlns:cp":Ca.CORE_PROPS,"xmlns:dc":Ca.dc,"xmlns:dcterms":Ca.dcterms,"xmlns:dcmitype":Ca.dcmitype,"xmlns:xsi":Ca.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&nA("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:x3(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&nA("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:x3(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Bl.length;++i){var o=Bl[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&nA(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ym=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Kae=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Yae(e,t,r,n){var a=[];if(typeof e=="string")a=pV(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?pV(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function CPe(e,t,r){var n={};return t||(t={}),e=Ln(e),ym.forEach(function(a){var i=(e.match(Sb(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=fn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Yae(n.HeadingPairs,n.TitlesOfParts,t,r),t}function Xae(e){var t=[],r=Ct;return e||(e={}),e.Application="SheetJS",t[t.length]=Xs,t[t.length]=Ct("Properties",null,{xmlns:Ca.EXT_PROPS,"xmlns:vt":Ca.vt}),ym.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=In(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+In(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var EPe=/<[^>]+>[^<]*/g;function TPe(e,t){var r={},n="",a=e.match(EPe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Sr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=fn(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=fn(d);break;case"bool":r[n]=as(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=os(d);break;case"cy":case"error":r[n]=fn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function Jae(e){var t=[Xs,Ct("Properties",null,{xmlns:Ca.CUST_PROPS,"xmlns:vt":Ca.vt})];if(!e)return t.join("");var r=1;return Rs(e).forEach(function(a){++r,t[t.length]=Ct("property",LAe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:In(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},sA;function APe(e,t,r){sA||(sA=dk(_3)),t=sA[t]||t,e[t]=r}function PPe(e,t){var r=[];return Rs(_3).map(function(n){for(var a=0;a<Bl.length;++a)if(Bl[a][1]==n)return Bl[a];for(a=0;a<ym.length;++a)if(ym[a][1]==n)return ym[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ni(_3[n[1]]||n[1],a))}}),Ct("DocumentProperties",r.join(""),{xmlns:Bo.o})}function OPe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Rs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Bl.length;++o)if(i==Bl[o][1])return;for(o=0;o<ym.length;++o)if(i==ym[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Ct(dV(i),l,{"dt:dt":c}))}}),t&&Rs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Ct(dV(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Bo.o+'">'+a.join("")+"</"+n+">"}function IF(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function DPe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=rt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function Zae(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Qae(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function eie(e,t,r){return t===31?Qae(e):Zae(e,t,r)}function j3(e,t,r){return eie(e,t,r===!1?0:4)}function RPe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return eie(e,t,0)}function IPe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ti,""),e.l-a&2&&(e.l+=2)}return r}function MPe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ti,"");return r}function FPe(e){var t=e.l,r=ZN(e,Vae);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ZN(e,uo);return[r,n]}function LPe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(FPe(e));return r}function kV(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ti,"").replace(ny,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function tie(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function $Pe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ZN(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==jV&&n!==t&&gPe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===jV?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Zae(e,n,4).replace(Ti,"");case 31:return Qae(e);case 64:return IF(e);case 65:return tie(e);case 71:return $Pe(e);case 80:return j3(e,n,!i.raw).replace(Ti,"");case 81:return RPe(e,n).replace(Ti,"");case 4108:return LPe(e);case 4126:case 4127:return n==4127?IPe(e):MPe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function CV(e,t){var r=rt(4),n=rt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=rt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=DPe(t);break;case 31:case 80:for(n=rt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return za([r,n])}function EV(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(w,j){return w[1]-j[1]});var m={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[i[o][0]];if(m[y.n]=ZN(e,y.t,{raw:!0}),y.p==="version"&&(m[y.n]=String(m[y.n]>>16)+"."+("0000"+String(m[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(m[y.n]){case 0:m[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Dl(l=m[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[y.n])}}else if(i[o][0]===1){if(l=m.CodePage=ZN(e,DF),Dl(l),c!==-1){var g=e.l;e.l=i[c][1],u=kV(e,l),e.l=g}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=kV(e,l)}else{var v=u[i[o][0]],_;switch(e[e.l]){case 65:e.l+=4,_=tie(e);break;case 30:e.l+=4,_=j3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=j3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=Ls(e,4);break;case 64:e.l+=4,_=os(IF(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[v]=_}}return e.l=r+n,m}var rie=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function BPe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function TV(e,t,r){var n=rt(8),a=[],i=[],o=8,l=0,c=rt(8),u=rt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=rt(8),u.write_shift(4,0),a.unshift(u);var d=[rt(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=rt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=za(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(rie.indexOf(e[l][0])>-1||Kae.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=CV(y.t,m)}else{var v=BPe(m);v==-1&&(v=31,m=String(m)),c=CV(v,m)}i.push(c),u=rt(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var _=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,_),_+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),za([n].concat(a).concat(i))}function AV(e,t,r){var n=e.content;if(!n)return{};ei(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==er.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=EV(n,t),m={SystemIdentifier:u};for(var p in f)m[p]=f[p];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=EV(n,null)}catch{}for(p in y)m[p]=y[p];return m.FMTID=[i,o],m}function PV(e,t,r,n,a,i){var o=rt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,er.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=TV(e,r,n);if(l.push(c),a){var u=TV(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return za(l)}function Wd(e,t){return e.read_shift(t),null}function UPe(e,t){t||(t=rt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function VPe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ls(e,t){return e.read_shift(t)===1}function zi(e,t){return t||(t=rt(2)),t.write_shift(2,+!!e),t}function ta(e){return e.read_shift(2,"u")}function Sl(e,t){return t||(t=rt(2)),t.write_shift(2,e),t}function nie(e,t){return VPe(e,t,ta)}function zPe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function sie(e,t,r){return r||(r=rt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Zw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=Zo;if(r&&r.biff>=8&&(Zo=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return Zo=i,l}function qPe(e){var t=Zo;Zo=1200;var r=e.read_shift(2),n=e.read_shift(1),a=n&4,i=n&8,o=1+(n&1),l=0,c,u={};i&&(l=e.read_shift(2)),a&&(c=e.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return i&&(e.l+=4*l),a&&(e.l+=c),u.t=f,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),Zo=t,u}function WPe(e){var t=e.t||"",r=rt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=rt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return za(a)}function Wm(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Qw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Wm(e,n,r)}function gp(e,t,r){if(r.biff>5)return Qw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function aie(e,t,r){return r||(r=rt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function HPe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function GPe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ti,"");return n&&(e.l+=24),a}function KPe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(Ti,"");return r+o}function YPe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return GPe(e);case"0303000000000000c000000000000046":return KPe(e);default:throw new Error("Unsupported Moniker "+r)}}function nj(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ti,""):"";return r}function OV(e,t){t||(t=rt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function XPe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=nj(e,r-e.l)),a&128&&(o=nj(e,r-e.l)),(a&257)===257&&(l=nj(e,r-e.l)),(a&257)===1&&(c=YPe(e,r-e.l)),a&8&&(u=nj(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=IF(e)),e.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function JPe(e){var t=rt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),OV(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&OV(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function iie(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function oie(e,t){var r=iie(e);return r[3]=0,r}function wu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Hm(e,t,r,n){return n||(n=rt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ZPe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function QPe(e,t,r){return t===0?"":gp(e,t,r)}function e4e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function lie(e){var t=e.read_shift(2),r=OF(e);return[t,r]}function t4e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Zw(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function pk(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function cie(e,t){return t||(t=rt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function uie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var r4e=uie;function die(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function n4e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function s4e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function mi(e){e.l+=2,e.l+=e.read_shift(2)}var a4e={0:mi,4:mi,5:mi,6:mi,7:s4e,8:mi,9:mi,10:mi,11:mi,12:mi,13:n4e,14:mi,15:mi,16:mi,17:mi,18:mi,19:mi,20:mi,21:die};function i4e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(a4e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function sj(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function MF(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=rt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function o4e(e,t){return t===0||e.read_shift(2),1200}function l4e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=gp(e,0,r);return e.read_shift(t+n-e.l),a}function c4e(e,t){var r=!t||t.biff==8,n=rt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function u4e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function d4e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Zw(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function f4e(e,t){var r=!t||t.biff>=8?2:1,n=rt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function h4e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(qPe(e));return i.Count=n,i.Unique=a,i}function m4e(e,t){var r=rt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=WPe(e[a]);var i=za([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function p4e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function g4e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function x4e(e){var t=ZPe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function v4e(e){return e.read_shift(2),e.read_shift(4)}function DV(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function y4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function b4e(){var e=rt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function w4e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function _4e(e){var t=rt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function j4e(){}function N4e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Zw(e,0,r),n}function S4e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=rt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function k4e(e){var t=wu(e);return t.isst=e.read_shift(4),t}function C4e(e,t,r,n){var a=rt(10);return Hm(e,t,n,a),a.write_shift(4,r),a}function E4e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=wu(e);r.biff==2&&e.l++;var i=Qw(e,n-e.l,r);return a.val=i,a}function T4e(e,t,r,n,a){var i=!a||a.biff==8,o=rt(8+ +i+(1+i)*r.length);return Hm(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function A4e(e,t,r){var n=e.read_shift(2),a=gp(e,0,r);return[n,a]}function P4e(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var O4e=gp;function RV(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function D4e(e,t){var r=t.biff==8||!t.biff?4:2,n=rt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function R4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=lie(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function I4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(lie(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function M4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function F4e(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=xPe[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function L4e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=F4e(e,t,n.fStyle,r),n}function IV(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function $4e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function B4e(e){var t=rt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function MV(e,t,r){var n=wu(e);(r.biff==2||t==9)&&++e.l;var a=zPe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function U4e(e,t,r,n,a,i){var o=rt(8);return Hm(e,t,n,o),sie(r,i,o),o}function V4e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=wu(e),a=Ni(e);return n.val=a,n}function z4e(e,t,r,n){var a=rt(14);return Hm(e,t,n,a),qm(r,a),a}var FV=QPe;function q4e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Wm(e,i),l=[];n>e.l;)l.push(Qw(e));return[i,a,o,l]}function LV(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=t4e(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var W4e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function $V(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Wm(e,o,r);a&32&&(u=W4e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:iIe(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function fie(e,t,r){if(r.biff<8)return H4e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(e4e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function H4e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Zw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function G4e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Wm(e,n,r),o=Wm(e,a,r);return[i,o]}function K4e(e,t,r){var n=uie(e);e.l++;var a=e.read_shift(1);return t-=8,[oIe(e,t,r),a,n]}function BV(e,t,r){var n=r4e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,sIe(e,t,r)]}function Y4e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function X4e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=gp(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function J4e(e,t,r){return X4e(e,t,r)}function Z4e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(pk(e));return r}function Q4e(e){var t=rt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)cie(e[r],t);return t}function eOe(e,t,r){if(r&&r.biff<8)return rOe(e,t,r);var n=die(e),a=i4e(e,t-22,n[1]);return{cmo:n,ft:a}}var tOe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function rOe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((tOe[n]||Oi)(e,t,r)),{cmo:[a,n,i],ft:o}}function nOe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=HPe(e,6,r);var l=e.read_shift(2);e.read_shift(2),ta(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Wm(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function sOe(e,t){var r=pk(e);e.l+=16;var n=XPe(e,t-24);return[r,n]}function aOe(e){var t=rt(24),r=_s(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return za([t,JPe(e[1])])}function iOe(e,t){e.read_shift(2);var r=pk(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ti,""),[r,n]}function oOe(e){var t=e[1].Tooltip,r=rt(10+2*(t.length+1));r.write_shift(2,2048);var n=_s(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function lOe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=NV[r]||r,r=e.read_shift(2),t[1]=NV[r]||r,t}function cOe(e){return e||(e=rt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function uOe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oie(e));return r}function dOe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oie(e));return r}function fOe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function hie(e,t,r){if(!r.cellStyles)return Oi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function hOe(e,t){var r=rt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function mOe(e,t){var r={};return t<32||(e.l+=16,r.header=Ni(e),r.footer=Ni(e),e.l+=2),r}function pOe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function gOe(e){for(var t=rt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var xOe=wu,vOe=nie,yOe=Qw;function bOe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function wOe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=wu(e);++e.l;var a=gp(e,t-7,r);return n.t="str",n.val=a,n}function _Oe(e){var t=wu(e);++e.l;var r=Ni(e);return t.t="n",t.val=r,t}function jOe(e,t,r){var n=rt(15);return n1(n,e,t),n.write_shift(8,r,"f"),n}function NOe(e){var t=wu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function SOe(e,t,r){var n=rt(9);return n1(n,e,t),n.write_shift(2,r),n}function kOe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function COe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function EOe(e,t,r){var n=e.l+t,a=wu(e),i=e.read_shift(2),o=Wm(e,i,r);return e.l=n,a.t="str",a.val=o,a}var TOe=[2,3,48,49,131,139,140,245],N3=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=dk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Wf(1);switch(c.type){case"base64":d=Wo(al(l));break;case"binary":d=Wo(l);break;case"buffer":case"array":d=l;break}ei(d,0);var f=d.read_shift(1),m=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var _=d.read_shift(2),w=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var j=[],C={},S=Math.min(d.length,f==2?521:v-10-(p?264:0)),k=y?32:11;d.l<S&&d[d.l]!=13;)switch(C={},C.name=nn.utils.decode(w,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,C.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(C.offset=d.read_shift(4)),C.len=d.read_shift(1),f==2&&(C.offset=d.read_shift(2)),C.dec=d.read_shift(1),C.name.length&&j.push(C),f!=2&&(d.l+=y?13:14),C.type){case"B":(!p||C.len!=8)&&c.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var E=0,R=0;for(u[0]=[],R=0;R!=j.length;++R)u[0][R]=j[R].name;for(;g-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++E]=[],R=0,R=0;R!=j.length;++R){var P=d.slice(d.l,d.l+j[R].len);d.l+=j[R].len,ei(P,0);var T=nn.utils.decode(w,P);switch(j[R].type){case"C":T.trim().length&&(u[E][R]=T.replace(/\s+$/,""));break;case"D":T.length===8?u[E][R]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):u[E][R]=T;break;case"F":u[E][R]=parseFloat(T.trim());break;case"+":case"I":u[E][R]=y?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":u[E][R]=!0;break;case"N":case"F":u[E][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[E][R]="##MEMO##"+(y?parseInt(T.trim(),10):P.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(u[E][R]=+T||0);break;case"@":u[E][R]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[E][R]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[E][R]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][R]=-P.read_shift(-8,"f");break;case"B":if(p&&j[R].len==8){u[E][R]=P.read_shift(8,"f");break}case"G":case"P":P.l+=j[R].len;break;case"0":if(j[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[R].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=j,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Sx(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return ch(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Dl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=_o(),f=rS(l,{header:1,raw:!0,cellDates:!0}),m=f[0],p=f.slice(1),y=l["!cols"]||[],g=0,v=0,_=0,w=1;for(g=0;g<m.length;++g){if(((y[g]||{}).DBF||{}).name){m[g]=y[g].DBF.name,++_;continue}if(m[g]!=null){if(++_,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(v=0;v<1024;++v)if(m.indexOf(m[g]+"_"+v)==-1){m[g]+="_"+v;break}}}}var j=Zr(l["!ref"]),C=[],S=[],k=[];for(g=0;g<=j.e.c-j.s.c;++g){var E="",R="",P=0,T=[];for(v=0;v<p.length;++v)p[v][g]!=null&&T.push(p[v][g]);if(T.length==0||m[g]==null){C[g]="?";continue}for(v=0;v<T.length;++v){switch(typeof T[v]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=T[v]instanceof Date?"D":"C";break;default:R="C"}P=Math.max(P,String(T[v]).length),E=E&&E!=R?"C":R}P>250&&(P=250),R=((y[g]||{}).DBF||{}).type,R=="C"&&y[g].DBF.len>P&&(P=y[g].DBF.len),E=="B"&&R=="N"&&(E="N",k[g]=y[g].DBF.dec,P=y[g].DBF.len),S[g]=E=="C"||R=="N"?P:i[E]||0,w+=S[g],C[g]=E}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*_),O.write_shift(2,w),g=0;g<4;++g)O.write_shift(4,0);for(O.write_shift(4,0|(+t[Um]||3)<<8),g=0,v=0;g<m.length;++g)if(m[g]!=null){var D=d.next(32),I=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,I,"sbcs"),D.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),D.write_shift(4,v),D.write_shift(1,S[g]||i[C[g]]||0),D.write_shift(1,k[g]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),v+=S[g]||i[C[g]]||0}var L=d.next(264);for(L.write_shift(4,13),g=0;g<65;++g)L.write_shift(4,0);for(g=0;g<p.length;++g){var W=d.next(w);for(W.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(C[v]){case"L":W.write_shift(1,p[g][v]==null?63:p[g][v]?84:70);break;case"B":W.write_shift(8,p[g][v]||0,"f");break;case"N":var q="0";for(typeof p[g][v]=="number"&&(q=p[g][v].toFixed(k[v]||0)),_=0;_<S[v]-q.length;++_)W.write_shift(1,32);W.write_shift(1,q,"sbcs");break;case"D":p[g][v]?(W.write_shift(4,("0000"+p[g][v].getFullYear()).slice(-4),"sbcs"),W.write_shift(2,("00"+(p[g][v].getMonth()+1)).slice(-2),"sbcs"),W.write_shift(2,("00"+p[g][v].getDate()).slice(-2),"sbcs")):W.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[g][v]!=null?p[g][v]:"").slice(0,S[v]);for(W.write_shift(1,G,"sbcs"),_=0;_<S[v]-G.length;++_)W.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),mie=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Rs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var y=e[p];return typeof y=="number"?g3(y):y},n=function(m,p,y){var g=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?m:g3(g)};e["|"]=254;function a(m,p){switch(p.type){case"base64":return i(al(m),p);case"binary":return i(m,p);case"buffer":return i(Ur&&Buffer.isBuffer(m)?m.toString("binary"):lh(m),p);case"array":return i(zm(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var y=m.split(/[\n\r]+/),g=-1,v=-1,_=0,w=0,j=[],C=[],S=null,k={},E=[],R=[],P=[],T=0,O;for(+p.codepage>=0&&Dl(+p.codepage);_!==y.length;++_){T=0;var D=y[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=D.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),L=I[0],W;if(D.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&C.push(D.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,G=!1,K=!1,U=!1,F=-1,B=-1;for(w=1;w<I.length;++w)switch(I[w].charAt(0)){case"A":break;case"X":v=parseInt(I[w].slice(1))-1,G=!0;break;case"Y":for(g=parseInt(I[w].slice(1))-1,G||(v=0),O=j.length;O<=g;++O)j[O]=[];break;case"K":W=I[w].slice(1),W.charAt(0)==='"'?W=W.slice(1,W.length-1):W==="TRUE"?W=!0:W==="FALSE"?W=!1:isNaN(vc(W))?isNaN(C0(W).getDate())||(W=os(W)):(W=vc(W),S!==null&&up(S)&&(W=hk(W))),typeof nn<"u"&&typeof W=="string"&&(p||{}).type!="string"&&(p||{}).codepage&&(W=nn.utils.decode(p.codepage,W)),q=!0;break;case"E":U=!0;var V=s0(I[w].slice(1),{r:g,c:v});j[g][v]=[j[g][v],V];break;case"S":K=!0,j[g][v]=[j[g][v],"S5S"];break;case"G":break;case"R":F=parseInt(I[w].slice(1))-1;break;case"C":B=parseInt(I[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}if(q&&(j[g][v]&&j[g][v].length==2?j[g][v][0]=W:j[g][v]=W,S=null),K){if(U)throw new Error("SYLK shared formula cannot have own formula");var Z=F>-1&&j[F][B];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");j[g][v][1]=Oie(Z[1],{r:g-F,c:v-B})}break;case"F":var X=0;for(w=1;w<I.length;++w)switch(I[w].charAt(0)){case"X":v=parseInt(I[w].slice(1))-1,++X;break;case"Y":for(g=parseInt(I[w].slice(1))-1,O=j.length;O<=g;++O)j[O]=[];break;case"M":T=parseInt(I[w].slice(1))/20;break;case"F":break;case"G":break;case"P":S=C[parseInt(I[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=I[w].slice(1).split(" "),O=parseInt(P[0],10);O<=parseInt(P[1],10);++O)T=parseInt(P[2],10),R[O-1]=T===0?{hidden:!0}:{wch:T},Hf(R[O-1]);break;case"C":v=parseInt(I[w].slice(1))-1,R[v]||(R[v]={});break;case"R":g=parseInt(I[w].slice(1))-1,E[g]||(E[g]={}),T>0?(E[g].hpt=T,E[g].hpx=T0(T)):T===0&&(E[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}X<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}}return E.length>0&&(k["!rows"]=E),R.length>0&&(k["!cols"]=R),p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),[j,k]}function o(m,p){var y=a(m,p),g=y[0],v=y[1],_=Sx(g,p);return Rs(v).forEach(function(w){_[w]=v[w]}),_}function l(m,p){return ch(o(m,p),p)}function c(m,p,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+VF(m.f,{r:y,c:g}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,p){p.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Ab(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Pb(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,p){p.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*Ob(y.hpx)+";"),v.length>2&&m.push(v+"R"+(g+1))})}function f(m,p){var y=["ID;PWXL;N;E"],g=[],v=Zr(m["!ref"]),_,w=Array.isArray(m),j=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var C=v.s.r;C<=v.e.r;++C)for(var S=v.s.c;S<=v.e.c;++S){var k=wr({r:C,c:S});_=w?(m[C]||[])[S]:m[k],!(!_||_.v==null&&(!_.f||_.F))&&g.push(c(_,m,C,S))}return y.join(j)+j+g.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:f}})(),pie=(function(){function e(i,o){switch(o.type){case"base64":return t(al(i),o);case"binary":return t(i,o);case"buffer":return t(Ur&&Buffer.isBuffer(i)?i.toString("binary"):lh(i),o);case"array":return t(zm(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],y=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(vc(y))?isNaN(C0(y).getDate())?f[c][u]=y:f[c][u]=os(y):f[c][u]=vc(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Sx(e(i,o),o)}function n(i,o){return ch(r(i,o),o)}var a=(function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Zr(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var g=wr({r:p,c:y});if(f=m?(c[p]||[])[y]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=il(f.z||hr[14],Pa(os(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var _=`\r
`,w=u.join(_);return w}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),gie=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var p=f.split(`
`),y=-1,g=-1,v=0,_=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var j=_s(w[1]);if(_.length<=j.r)for(y=_.length;y<=j.r;++y)_[y]||(_[y]=[]);switch(y=j.r,g=j.c,w[2]){case"t":_[y][g]=e(w[3]);break;case"v":_[y][g]=+w[3];break;case"vtf":var C=w[w.length-1];case"vtc":switch(w[3]){case"nl":_[y][g]=!!+w[4];break;default:_[y][g]=+w[4];break}w[2]=="vtf"&&(_[y][g]=[_[y][g],C])}}}return m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),_}function n(f,m){return Sx(r(f,m),m)}function a(f,m){return ch(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],p=[],y,g="",v=Ji(f["!ref"]),_=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var j=v.s.c;j<=v.e.c;++j)if(g=wr({r:w,c:j}),y=_?(f[w]||[])[j]:f[g],!(!y||y.v==null||y.t==="z")){switch(p=["cell",g,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var C=Pa(os(y.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=y.w||il(y.z||hr[14],C);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),E0=(function(){function e(d,f,m,p,y){y.raw?f[m][p]=d:d===""||(d==="TRUE"?f[m][p]=!0:d==="FALSE"?f[m][p]=!1:isNaN(vc(d))?isNaN(C0(d).getDate())?f[m][p]=d:f[m][p]=os(d):f[m][p]=vc(d))}function t(d,f){var m=f||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,_=0,w=0;w<=g;++w)_=y[w].indexOf(" "),_==-1?_=y[w].length:_++,v=Math.max(v,_);for(w=0;w<=g;++w){p[w]=[];var j=0;for(e(y[w].slice(0,v).trim(),p,w,j,m),j=1;j<=(y[w].length-v)/10+1;++j)e(y[w].slice(v+(j-1)*10,v+j*10).trim(),p,w,j,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?m=!m:!m&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[y.pop()[1]]||44}function i(d,f){var m=f||{},p="",y=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):m&&m.FS?p=m.FS:p=a(d.slice(0,1024));var v=0,_=0,w=0,j=0,C=0,S=p.charCodeAt(0),k=!1,E=0,R=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=m.dateNF!=null?mAe(m.dateNF):null;function T(){var O=d.slice(j,C),D={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)D.t="z";else if(m.raw)D.t="s",D.v=O;else if(O.trim().length===0)D.t="s",D.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(D.t="s",D.v=O.slice(2,-1).replace(/""/g,'"')):qRe(O)?(D.t="n",D.f=O.slice(1)):(D.t="s",D.v=O);else if(O=="TRUE")D.t="b",D.v=!0;else if(O=="FALSE")D.t="b",D.v=!1;else if(!isNaN(w=vc(O)))D.t="n",m.cellText!==!1&&(D.w=O),D.v=w;else if(!isNaN(C0(O).getDate())||P&&O.match(P)){D.z=m.dateNF||hr[14];var I=0;P&&O.match(P)&&(O=pAe(O,m.dateNF,O.match(P)||[]),I=1),m.cellDates?(D.t="d",D.v=os(O,I)):(D.t="n",D.v=Pa(os(O,I))),m.cellText!==!1&&(D.w=il(D.z,D.v instanceof Date?Pa(D.v):D.v)),m.cellNF||delete D.z}else D.t="s",D.v=O;if(D.t=="z"||(m.dense?(y[v]||(y[v]=[]),y[v][_]=D):y[wr({c:_,r:v})]=D),j=C+1,R=d.charCodeAt(j),g.e.c<_&&(g.e.c=_),g.e.r<v&&(g.e.r=v),E==S)++_;else if(_=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;C<d.length;++C)switch(E=d.charCodeAt(C)){case 34:R===34&&(k=!k);break;case S:case 10:case 13:if(!k&&T())break e;break}return C-j>0&&T(),y["!ref"]=Fr(g),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Sx(t(d,f),f)}function l(d,f){var m="",p=f.type=="string"?[0,0,0,0]:JF(d,f);switch(f.type){case"base64":m=al(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof nn<"u"?m=nn.utils.decode(f.codepage,d):m=Ur&&Buffer.isBuffer(d)?d.toString("binary"):lh(d);break;case"array":m=zm(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=Ln(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Ln(m):f.type=="binary"&&typeof nn<"u"&&f.codepage&&(m=nn.utils.decode(f.codepage,nn.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?gie.to_sheet(f.type=="string"?m:Ln(m),f):o(m,f)}function c(d,f){return ch(l(d,f),f)}function u(d){for(var f=[],m=Zr(d["!ref"]),p,y=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var v=[],_=m.s.c;_<=m.e.c;++_){var w=wr({r:g,c:_});if(p=y?(d[g]||[])[_]:d[w],!p||p.v==null){v.push("          ");continue}for(var j=(p.w||(du(p),p.w)||"").slice(0,10);j.length<10;)j+=" ";v.push(j+(_===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function AOe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=mie.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return E0.to_workbook(e,t)}}var bm=(function(){function e(V,Z,X){if(V){ei(V,V.l||0);for(var Q=X.Enum||F;V.l<V.length;){var ce=V.read_shift(2),de=Q[ce]||Q[65535],pe=V.read_shift(2),re=V.l+pe,ie=de.f&&de.f(V,pe,X);if(V.l=re,Z(ie,de,ce))return}}}function t(V,Z){switch(Z.type){case"base64":return r(Wo(al(V)),Z);case"binary":return r(Wo(V),Z);case"buffer":case"array":return r(V,Z)}throw"Unsupported type "+Z.type}function r(V,Z){if(!V)return V;var X=Z||{},Q=X.dense?[]:{},ce="Sheet1",de="",pe=0,re={},ie=[],J=[],z={s:{r:0,c:0},e:{r:0,c:0}},Se=X.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)X.Enum=F,e(V,function(ue,Ve,He){switch(He){case 0:X.vers=ue,ue>=4096&&(X.qpro=!0);break;case 6:z=ue;break;case 204:ue&&(de=ue);break;case 222:de=ue;break;case 15:case 51:X.qpro||(ue[1].v=ue[1].v.slice(1));case 13:case 14:case 16:He==14&&(ue[2]&112)==112&&(ue[2]&15)>1&&(ue[2]&15)<15&&(ue[1].z=X.dateNF||hr[14],X.cellDates&&(ue[1].t="d",ue[1].v=hk(ue[1].v))),X.qpro&&ue[3]>pe&&(Q["!ref"]=Fr(z),re[ce]=Q,ie.push(ce),Q=X.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},pe=ue[3],ce=de||"Sheet"+(pe+1),de="");var le=X.dense?(Q[ue[0].r]||[])[ue[0].c]:Q[wr(ue[0])];if(le){le.t=ue[1].t,le.v=ue[1].v,ue[1].z!=null&&(le.z=ue[1].z),ue[1].f!=null&&(le.f=ue[1].f);break}X.dense?(Q[ue[0].r]||(Q[ue[0].r]=[]),Q[ue[0].r][ue[0].c]=ue[1]):Q[wr(ue[0])]=ue[1];break}},X);else if(V[2]==26||V[2]==14)X.Enum=B,V[2]==14&&(X.qpro=!0,V.l=0),e(V,function(ue,Ve,He){switch(He){case 204:ce=ue;break;case 22:ue[1].v=ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ue[3]>pe&&(Q["!ref"]=Fr(z),re[ce]=Q,ie.push(ce),Q=X.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},pe=ue[3],ce="Sheet"+(pe+1)),Se>0&&ue[0].r>=Se)break;X.dense?(Q[ue[0].r]||(Q[ue[0].r]=[]),Q[ue[0].r][ue[0].c]=ue[1]):Q[wr(ue[0])]=ue[1],z.e.c<ue[0].c&&(z.e.c=ue[0].c),z.e.r<ue[0].r&&(z.e.r=ue[0].r);break;case 27:ue[14e3]&&(J[ue[14e3][0]]=ue[14e3][1]);break;case 1537:J[ue[0]]=ue[1],ue[0]==pe&&(ce=ue[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(Q["!ref"]=Fr(z),re[de||ce]=Q,ie.push(de||ce),!J.length)return{SheetNames:ie,Sheets:re};for(var te={},_e=[],Ae=0;Ae<J.length;++Ae)re[ie[Ae]]?(_e.push(J[Ae]||ie[Ae]),te[J[Ae]]=re[J[Ae]]||re[ie[Ae]]):(_e.push(J[Ae]),te[J[Ae]]={"!ref":"A1"});return{SheetNames:_e,Sheets:te}}function n(V,Z){var X=Z||{};if(+X.codepage>=0&&Dl(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=_o(),ce=Zr(V["!ref"]),de=Array.isArray(V),pe=[];Et(Q,0,i(1030)),Et(Q,6,c(ce));for(var re=Math.min(ce.e.r,8191),ie=ce.s.r;ie<=re;++ie)for(var J=Ps(ie),z=ce.s.c;z<=ce.e.c;++z){ie===ce.s.r&&(pe[z]=is(z));var Se=pe[z]+J,te=de?(V[ie]||[])[z]:V[Se];if(!(!te||te.t=="z"))if(te.t=="n")(te.v|0)==te.v&&te.v>=-32768&&te.v<=32767?Et(Q,13,p(ie,z,te.v)):Et(Q,14,g(ie,z,te.v));else{var _e=du(te);Et(Q,15,f(ie,z,_e.slice(0,239)))}}return Et(Q,1),Q.end()}function a(V,Z){var X=Z||{};if(+X.codepage>=0&&Dl(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=_o();Et(Q,0,o(V));for(var ce=0,de=0;ce<V.SheetNames.length;++ce)(V.Sheets[V.SheetNames[ce]]||{})["!ref"]&&Et(Q,27,U(V.SheetNames[ce],de++));var pe=0;for(ce=0;ce<V.SheetNames.length;++ce){var re=V.Sheets[V.SheetNames[ce]];if(!(!re||!re["!ref"])){for(var ie=Zr(re["!ref"]),J=Array.isArray(re),z=[],Se=Math.min(ie.e.r,8191),te=ie.s.r;te<=Se;++te)for(var _e=Ps(te),Ae=ie.s.c;Ae<=ie.e.c;++Ae){te===ie.s.r&&(z[Ae]=is(Ae));var ue=z[Ae]+_e,Ve=J?(re[te]||[])[Ae]:re[ue];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")Et(Q,23,T(te,Ae,pe,Ve.v));else{var He=du(Ve);Et(Q,22,E(te,Ae,pe,He.slice(0,239)))}}++pe}}return Et(Q,1),Q.end()}function i(V){var Z=rt(2);return Z.write_shift(2,V),Z}function o(V){var Z=rt(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var X=0,Q=0,ce=0,de=0;de<V.SheetNames.length;++de){var pe=V.SheetNames[de],re=V.Sheets[pe];if(!(!re||!re["!ref"])){++ce;var ie=Ji(re["!ref"]);X<ie.e.r&&(X=ie.e.r),Q<ie.e.c&&(Q=ie.e.c)}}return X>8191&&(X=8191),Z.write_shift(2,X),Z.write_shift(1,ce),Z.write_shift(1,Q),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function l(V,Z,X){var Q={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&X.qpro?(Q.s.c=V.read_shift(1),V.l++,Q.s.r=V.read_shift(2),Q.e.c=V.read_shift(1),V.l++,Q.e.r=V.read_shift(2),Q):(Q.s.c=V.read_shift(2),Q.s.r=V.read_shift(2),Z==12&&X.qpro&&(V.l+=2),Q.e.c=V.read_shift(2),Q.e.r=V.read_shift(2),Z==12&&X.qpro&&(V.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(V){var Z=rt(8);return Z.write_shift(2,V.s.c),Z.write_shift(2,V.s.r),Z.write_shift(2,V.e.c),Z.write_shift(2,V.e.r),Z}function u(V,Z,X){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Q[0].c=V.read_shift(1),Q[3]=V.read_shift(1),Q[0].r=V.read_shift(2),V.l+=2):(Q[2]=V.read_shift(1),Q[0].c=V.read_shift(2),Q[0].r=V.read_shift(2)),Q}function d(V,Z,X){var Q=V.l+Z,ce=u(V,Z,X);if(ce[1].t="s",X.vers==20768){V.l++;var de=V.read_shift(1);return ce[1].v=V.read_shift(de,"utf8"),ce}return X.qpro&&V.l++,ce[1].v=V.read_shift(Q-V.l,"cstr"),ce}function f(V,Z,X){var Q=rt(7+X.length);Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,V),Q.write_shift(1,39);for(var ce=0;ce<Q.length;++ce){var de=X.charCodeAt(ce);Q.write_shift(1,de>=128?95:de)}return Q.write_shift(1,0),Q}function m(V,Z,X){var Q=u(V,Z,X);return Q[1].v=V.read_shift(2,"i"),Q}function p(V,Z,X){var Q=rt(7);return Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,V),Q.write_shift(2,X,"i"),Q}function y(V,Z,X){var Q=u(V,Z,X);return Q[1].v=V.read_shift(8,"f"),Q}function g(V,Z,X){var Q=rt(13);return Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,V),Q.write_shift(8,X,"f"),Q}function v(V,Z,X){var Q=V.l+Z,ce=u(V,Z,X);if(ce[1].v=V.read_shift(8,"f"),X.qpro)V.l=Q;else{var de=V.read_shift(2);C(V.slice(V.l,V.l+de),ce),V.l+=de}return ce}function _(V,Z,X){var Q=Z&32768;return Z&=-32769,Z=(Q?V:0)+(Z>=8192?Z-16384:Z),(Q?"":"$")+(X?is(Z):Ps(Z))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(V,Z){ei(V,0);for(var X=[],Q=0,ce="",de="",pe="",re="";V.l<V.length;){var ie=V[V.l++];switch(ie){case 0:X.push(V.read_shift(8,"f"));break;case 1:de=_(Z[0].c,V.read_shift(2),!0),ce=_(Z[0].r,V.read_shift(2),!1),X.push(de+ce);break;case 2:{var J=_(Z[0].c,V.read_shift(2),!0),z=_(Z[0].r,V.read_shift(2),!1);de=_(Z[0].c,V.read_shift(2),!0),ce=_(Z[0].r,V.read_shift(2),!1),X.push(J+z+":"+de+ce)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(V.read_shift(2));break;case 6:{for(var Se="";ie=V[V.l++];)Se+=String.fromCharCode(ie);X.push('"'+Se.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:re=X.pop(),pe=X.pop(),X.push(["AND","OR"][ie-20]+"("+pe+","+re+")");break;default:if(ie<32&&j[ie])re=X.pop(),pe=X.pop(),X.push(pe+j[ie]+re);else if(w[ie]){if(Q=w[ie][1],Q==69&&(Q=V[V.l++]),Q>X.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+X.join("|")+"|");return}var te=X.slice(-Q);X.length-=Q,X.push(w[ie][0]+"("+te.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}X.length==1?Z[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function S(V){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=V.read_shift(2),Z[3]=V[V.l++],Z[0].c=V[V.l++],Z}function k(V,Z){var X=S(V);return X[1].t="s",X[1].v=V.read_shift(Z-4,"cstr"),X}function E(V,Z,X,Q){var ce=rt(6+Q.length);ce.write_shift(2,V),ce.write_shift(1,X),ce.write_shift(1,Z),ce.write_shift(1,39);for(var de=0;de<Q.length;++de){var pe=Q.charCodeAt(de);ce.write_shift(1,pe>=128?95:pe)}return ce.write_shift(1,0),ce}function R(V,Z){var X=S(V);X[1].v=V.read_shift(2);var Q=X[1].v>>1;if(X[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return X[1].v=Q,X}function P(V,Z){var X=S(V),Q=V.read_shift(4),ce=V.read_shift(4),de=V.read_shift(2);if(de==65535)return Q===0&&ce===3221225472?(X[1].t="e",X[1].v=15):Q===0&&ce===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var pe=de&32768;return de=(de&32767)-16446,X[1].v=(1-pe*2)*(ce*Math.pow(2,de+32)+Q*Math.pow(2,de)),X}function T(V,Z,X,Q){var ce=rt(14);if(ce.write_shift(2,V),ce.write_shift(1,X),ce.write_shift(1,Z),Q==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var de=0,pe=0,re=0,ie=0;return Q<0&&(de=1,Q=-Q),pe=Math.log2(Q)|0,Q/=Math.pow(2,pe-31),ie=Q>>>0,(ie&2147483648)==0&&(Q/=2,++pe,ie=Q>>>0),Q-=ie,ie|=2147483648,ie>>>=0,Q*=Math.pow(2,32),re=Q>>>0,ce.write_shift(4,re),ce.write_shift(4,ie),pe+=16383+(de?32768:0),ce.write_shift(2,pe),ce}function O(V,Z){var X=P(V);return V.l+=Z-14,X}function D(V,Z){var X=S(V),Q=V.read_shift(4);return X[1].v=Q>>6,X}function I(V,Z){var X=S(V),Q=V.read_shift(8,"f");return X[1].v=Q,X}function L(V,Z){var X=I(V);return V.l+=Z-10,X}function W(V,Z){return V[V.l+Z-1]==0?V.read_shift(Z,"cstr"):""}function q(V,Z){var X=V[V.l++];X>Z-1&&(X=Z-1);for(var Q="";Q.length<X;)Q+=String.fromCharCode(V[V.l++]);return Q}function G(V,Z,X){if(!(!X.qpro||Z<21)){var Q=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var ce=V.read_shift(Z-21,"cstr");return[Q,ce]}}function K(V,Z){for(var X={},Q=V.l+Z;V.l<Q;){var ce=V.read_shift(2);if(ce==14e3){for(X[ce]=[0,""],X[ce][0]=V.read_shift(2);V[V.l];)X[ce][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return X}function U(V,Z){var X=rt(5+V.length);X.write_shift(2,14e3),X.write_shift(2,Z);for(var Q=0;Q<V.length;++Q){var ce=V.charCodeAt(Q);X[X.l++]=ce>127?95:ce}return X[X.l++]=0,X}var F={0:{n:"BOF",f:ta},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:W},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:W},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function POe(e){var t={},r=e.match(Di),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Sr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=dF[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var OOe=(function(){var e=Sb("t"),t=Sb("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:fn(o[1])},c=i.match(t);return c&&(l.s=POe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),DOe=(function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),ROe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,IOe=/<(?:\w+:)?r>/,MOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function FF(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=fn(Ln(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ln(e),r&&(n.h=yF(n.t))):e.match(IOe)&&(n.r=Ln(e),n.t=fn(Ln((e.replace(MOe,"").match(ROe)||[]).join("").replace(Di,""))),r&&(n.h=DOe(OOe(n.r)))),n):{t:""}}var FOe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,LOe=/<(?:\w+:)?(?:si|sstItem)>/g,$Oe=/<\/(?:\w+:)?(?:si|sstItem)>/;function BOe(e,t){var r=[],n="";if(!e)return r;var a=e.match(FOe);if(a){n=a[2].replace(LOe,"").split($Oe);for(var i=0;i!=n.length;++i){var o=FF(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=Sr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var UOe=/^\s|\s$|[\t\n\r]/;function xie(e,t){if(!t.bookSST)return"";var r=[Xs];r[r.length]=Ct("sst",null,{xmlns:dp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(UOe)&&(i+=' xml:space="preserve"'),i+=">"+In(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function VOe(e){return[e.read_shift(4),e.read_shift(4)]}function zOe(e,t){var r=[],n=!1;return gd(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function qOe(e,t){return t||(t=rt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var WOe=tPe;function HOe(e){var t=_o();ut(t,159,qOe(e));for(var r=0;r<e.length;++r)ut(t,19,WOe(e[r]));return ut(t,160),t.end()}function vie(e){if(typeof nn<"u")return nn.utils.encode(Um,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Qu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function GOe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Qu(e,4),t.U=Qu(e,4),t.W=Qu(e,4),t}function KOe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function YOe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(KOe(e));return t}function XOe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function JOe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Qu(e,4),t.U=Qu(e,4),t.W=Qu(e,4),t}function ZOe(e){var t=JOe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function yie(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function bie(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function QOe(e){var t=Qu(e);switch(t.Minor){case 2:return[t.Minor,eDe(e)];case 3:return[t.Minor,tDe()];case 4:return[t.Minor,rDe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function eDe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=yie(e,r),a=bie(e,e.length-e.l);return{t:"Std",h:n,v:a}}function tDe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function rDe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Di,function(i){var o=Sr(i);switch(bu(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function nDe(e,t){var r={},n=r.EncryptionVersionInfo=Qu(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=yie(e,a),t-=a,r.EncryptionVerifier=bie(e,t),r}function sDe(e){var t={},r=t.EncryptionVersionInfo=Qu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function LF(e){var t=0,r,n=vie(e),a=n.length+1,i,o,l,c,u;for(r=Wf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var wie=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=vie(o),c=i(l),u=l.length,d=Wf(16),f=0;f!=16;++f)d[f]=0;var m,p,y;for((u&1)===1&&(m=c>>8,d[u]=a(e[0],m),--u,m=c&255,p=l[l.length-1],d[u]=a(p,m));u>0;)--u,m=c>>8,d[u]=a(l[u],m),--u,m=c&255,d[u]=a(l[u],m);for(u=15,y=15-l.length;y>0;)m=c>>8,d[u]=a(e[y],m),--u,--y,m=c&255,d[u]=a(l[u],m),--u,--y;return d}})(),aDe=function(e,t,r,n,a){a||(a=t),n||(n=wie(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},iDe=function(e){var t=0,r=wie(e);return function(n){var a=aDe("",n,t,r);return t=a[1],a[0]}};function oDe(e,t,r,n){var a={key:ta(e),verificationBytes:ta(e)};return r.password&&(a.verifier=LF(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=iDe(r.password)),a}function lDe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=sDe(e):n.Data=nDe(e,t),n}function cDe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?lDe(e,t-2,n):oDe(e,r.biff>=8?t:t-2,r,n),n}var _ie=(function(){function e(a,i){switch(i.type){case"base64":return t(al(a),i);case"binary":return t(a,i);case"buffer":return t(Ur&&Buffer.isBuffer(a)?a.toString("binary"):lh(a),i);case"array":return t(zm(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,p=0,y,g=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var v=d.slice(p,m.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var _={v,t:"s"};Array.isArray(l)?l[f][g]=_:l[wr({r:f,c:g})]=_}break}p=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Fr(u),l}function r(a,i){return ch(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Zr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=wr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(du(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function uDe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Tb(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function dDe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function fDe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function QN(e,t){if(t===0)return e;var r=dDe(uDe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Tb(fDe(r))}var jie=6,hDe=15,mDe=1,bi=jie;function Ab(e){return Math.floor((e+Math.round(128/bi)/256)*bi)}function Pb(e){return Math.floor((e-5)/bi*100+.5)/100}function eS(e){return Math.round((e*bi+5)/bi*256)/256}function aA(e){return eS(Pb(Ab(e)))}function $F(e){var t=Math.abs(e-aA(e)),r=bi;if(t>.005)for(bi=mDe;bi<hDe;++bi)Math.abs(e-aA(e))<=t&&(t=Math.abs(e-aA(e)),r=bi);bi=r}function Hf(e){e.width?(e.wpx=Ab(e.width),e.wch=Pb(e.wpx),e.MDW=bi):e.wpx?(e.wch=Pb(e.wpx),e.width=eS(e.wch),e.MDW=bi):typeof e.wch=="number"&&(e.width=eS(e.wch),e.wpx=Ab(e.width),e.MDW=bi),e.customWidth&&delete e.customWidth}var pDe=96,Nie=pDe;function Ob(e){return e*96/Nie}function T0(e){return e*Nie/96}var gDe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function xDe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Di)||[]).forEach(function(o){var l=Sr(o);switch(bu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=as(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=as(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function vDe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Di)||[]).forEach(function(o){var l=Sr(o);switch(bu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function yDe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Di)||[]).forEach(function(o){var l=Sr(o);switch(bu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Ln(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?as(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?as(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?as(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?as(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?as(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?as(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?as(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=dF[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=as(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=vm[a.color.index];a.color.index==81&&(c=vm[1]),c||(c=vm[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=QN(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function bDe(e,t,r){t.NumberFmt=[];for(var n=Rs(hr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=hr[n[a]];var i=e[0].match(Di);if(i)for(a=0;a<i.length;++a){var o=Sr(i[a]);switch(bu(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=fn(Ln(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}ru(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function wDe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ct("numFmt",null,{numFmtId:n,formatCode:In(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ct("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var aj=["numFmtId","fillId","fontId","borderId","xfId"],ij=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function _De(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Di)||[]).forEach(function(i){var o=Sr(i),l=0;switch(bu(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<aj.length;++l)n[aj[l]]&&(n[aj[l]]=parseInt(n[aj[l]],10));for(l=0;l<ij.length;++l)n[ij[l]]&&(n[ij[l]]=as(n[ij[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=as(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function jDe(e){var t=[];return t[t.length]=Ct("cellXfs",null),e.forEach(function(r){t[t.length]=Ct("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ct("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var NDe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&bDe(f,d,u),(f=l.match(a))&&yDe(f,d,c,u),(f=l.match(n))&&vDe(f,d,c,u),(f=l.match(i))&&xDe(f,d,c,u),(f=l.match(r))&&_De(f,d,u),d}})();function Sie(e,t){var r=[Xs,Ct("styleSheet",null,{xmlns:dp[0],"xmlns:vt":Ca.vt})],n;return e.SSF&&(n=wDe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=jDe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function SDe(e,t){var r=e.read_shift(2),n=Ai(e);return[r,n]}function kDe(e,t,r){r||(r=rt(6+4*t.length)),r.write_shift(2,e),qa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function CDe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=lPe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=oPe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ai(e),n}function EDe(e,t){t||(t=rt(153)),t.write_shift(2,e.sz*20),cPe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),XN(e.color,t);var n=0;return n=2,t.write_shift(1,n),qa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var TDe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],iA,ADe=Oi;function UV(e,t){t||(t=rt(84)),iA||(iA=dk(TDe));var r=iA[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(XN({auto:1},t),XN({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function PDe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function kie(e,t,r){r||(r=rt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ev(e,t){return t||(t=rt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var ODe=Oi;function DDe(e,t){return t||(t=rt(51)),t.write_shift(1,0),Ev(null,t),Ev(null,t),Ev(null,t),Ev(null,t),Ev(null,t),t.length>t.l?t.slice(0,t.l):t}function RDe(e,t){return t||(t=rt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),YN(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function IDe(e,t,r){var n=rt(2052);return n.write_shift(4,e),YN(t,n),YN(r,n),n.length>n.l?n.slice(0,n.l):n}function MDe(e,t,r){var n={};n.NumberFmt=[];for(var a in hr)n.NumberFmt[a]=hr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return gd(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],ru(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=QN(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function FDe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ut(e,615,yc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ut(e,44,kDe(a,t[a]))}),ut(e,616))}}function LDe(e){var t=1;ut(e,611,yc(t)),ut(e,43,EDe({sz:12,color:{theme:1},name:"Calibri",family:2})),ut(e,612)}function $De(e){var t=2;ut(e,603,yc(t)),ut(e,45,UV({patternType:"none"})),ut(e,45,UV({patternType:"gray125"})),ut(e,604)}function BDe(e){var t=1;ut(e,613,yc(t)),ut(e,46,DDe()),ut(e,614)}function UDe(e){var t=1;ut(e,626,yc(t)),ut(e,47,kie({numFmtId:0},65535)),ut(e,627)}function VDe(e,t){ut(e,617,yc(t.length)),t.forEach(function(r){ut(e,47,kie(r,0))}),ut(e,618)}function zDe(e){var t=1;ut(e,619,yc(t)),ut(e,48,RDe({xfId:0,name:"Normal"})),ut(e,620)}function qDe(e){var t=0;ut(e,505,yc(t)),ut(e,506)}function WDe(e){var t=0;ut(e,508,IDe(t,"TableStyleMedium9","PivotStyleMedium4")),ut(e,509)}function HDe(e,t){var r=_o();return ut(r,278),FDe(r,e.SSF),LDe(r),$De(r),BDe(r),UDe(r),VDe(r,t.cellXfs),zDe(r),qDe(r),WDe(r),ut(r,279),r.end()}var GDe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function KDe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Di)||[]).forEach(function(a){var i=Sr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[GDe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function YDe(){}function XDe(){}var JDe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ZDe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,QDe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function eRe(e,t,r){t.themeElements={};var n;[["clrScheme",JDe,KDe],["fontScheme",ZDe,YDe],["fmtScheme",QDe,XDe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var tRe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Cie(e,t){(!e||e.length===0)&&(e=BF());var r,n={};if(!(r=e.match(tRe)))throw new Error("themeElements not found in theme");return eRe(r[0],n,t),n.raw=e,n}function BF(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Xs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function rRe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=jae(i,{type:"array"})}catch{return}var l=Ho(o,"theme/theme/theme1.xml",!0);if(l)return Cie(l,r)}}function nRe(e){return e.read_shift(4)}function sRe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=aRe(e,4);break;case 2:t.xclrValue=iie(e);break;case 3:t.xclrValue=nRe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function aRe(e,t){return Oi(e,t)}function iRe(e,t){return Oi(e,t)}function oRe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=sRe(e);break;case 6:n[1]=iRe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function lRe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(oRe(e,r-e.l));return{ixfe:n,ext:i}}function cRe(e,t){t.forEach(function(r){r[0]})}function uRe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ai(e)}}function dRe(e){var t=rt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),qa(e.name,t),t.slice(0,t.l)}function fRe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function hRe(e){var t=rt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function mRe(e,t){var r=rt(8+2*t.length);return r.write_shift(4,e),qa(t,r),r.slice(0,r.l)}function pRe(e){return e.l+=4,e.read_shift(4)!=0}function gRe(e,t){var r=rt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function xRe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return gd(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function vRe(){var e=_o();return ut(e,332),ut(e,334,yc(1)),ut(e,335,dRe({name:"XLDAPR",version:12e4,flags:3496657072})),ut(e,336),ut(e,339,mRe(1,"XLDAPR")),ut(e,52),ut(e,35,yc(514)),ut(e,4096,yc(0)),ut(e,4097,Sl(1)),ut(e,36),ut(e,53),ut(e,340),ut(e,337,gRe(1)),ut(e,51,hRe([[1,0]])),ut(e,338),ut(e,333),e.end()}function yRe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Di,function(l){var c=Sr(l);switch(bu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function Eie(){var e=[Xs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function bRe(e){var t=[];if(!e)return t;var r=1;return(e.match(Di)||[]).forEach(function(n){var a=Sr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function wRe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=wr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function _Re(e,t,r){var n=[];return gd(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function jRe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;gd(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function NRe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Pg=1024;function Tie(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ct("xml",null,{"xmlns:v":Bo.v,"xmlns:o":Bo.o,"xmlns:x":Bo.x,"xmlns:mv":Bo.mv}).replace(/\/>/,">"),Ct("o:shapelayout",Ct("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ct("v:shapetype",[Ct("v:stroke",null,{joinstyle:"miter"}),Ct("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Pg<e*1e3;)Pg+=1e3;return t.forEach(function(i){var o=_s(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ct("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ct("v:fill",c,l),d={on:"t",obscured:"t"};++Pg,a=a.concat(["<v:shape"+kb({id:"_x0000_s"+Pg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ct("v:shadow",null,d),Ct("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ni("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ni("x:AutoFill","False"),ni("x:Row",String(o.r)),ni("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function VV(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=_s(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Zr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Fr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function SRe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Sr(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=_s(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&FF(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function Aie(e){var t=[Xs,Ct("comments",null,{xmlns:dp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=In(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(In(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ni("t",In(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ni("t",In(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function kRe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Di,function(l,c){var u=Sr(l);switch(bu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function CRe(e,t,r){var n=[Xs,Ct("ThreadedComments",null,{xmlns:Ca.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Ct("threadedComment",ni("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function ERe(e,t){var r=[],n=!1;return e.replace(Di,function(i){var o=Sr(i);switch(bu(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function TRe(e){var t=[Xs,Ct("personList",null,{xmlns:Ca.TCMNT,"xmlns:x":dp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ct("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ARe(e){var t={};t.iauthor=e.read_shift(4);var r=pp(e);return t.rfx=r.s,t.ref=wr(r.s),e.l+=16,t}function PRe(e,t){return t==null&&(t=rt(36)),t.write_shift(4,e[1].iauthor),kx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var ORe=Ai;function DRe(e){return qa(e.slice(0,54))}function RRe(e,t){var r=[],n=[],a={},i=!1;return gd(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function IRe(e){var t=_o(),r=[];return ut(t,628),ut(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ut(t,632,DRe(a.a)))})}),ut(t,631),ut(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:_s(n[0]),e:_s(n[0])};ut(t,635,PRe([i,a])),a.t&&a.t.length>0&&ut(t,637,nPe(a)),ut(t,636),delete a.iauthor})}),ut(t,634),ut(t,629),t.end()}var MRe="application/vnd.ms-office.vbaProject";function FRe(e){var t=er.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");er.utils.cfb_add(t,a,e.FileIndex[n].content)}}),er.write(t)}function LRe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&er.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Pie=["xlsb","xlsm","xlam","biff8","xla"];function $Re(){return{"!type":"dialog"}}function BRe(){return{"!type":"dialog"}}function URe(){return{"!type":"macro"}}function VRe(){return{"!type":"macro"}}var s0=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+is(d)+(c?"":"$")+Ps(u)}return function(a,i){return t=i,a.replace(e,r)}})(),UF=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VF=(function(){return function(t,r){return t.replace(UF,function(n,a,i,o,l,c){var u=EF(o)-(i?0:r.c),d=CF(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}})();function Oie(e,t){return e.replace(UF,function(r,n,a,i,o,l){return n+(a=="$"?a+i:is(EF(i)+t.c))+(o=="$"?o+l:Ps(CF(l)+t.r))})}function zRe(e,t,r){var n=Ji(t),a=n.s,i=_s(r),o={r:i.r-a.r,c:i.c-a.c};return Oie(e,o)}function qRe(e){return e.length!=1}function zV(e){return e.replace(/_xlfn\./g,"")}function Zs(e){e.l+=1}function Gf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Die(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Rie(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Gf(e),l=Gf(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Rie(e){var t=Gf(e),r=Gf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function WRe(e,t,r){if(r.biff<8)return Rie(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Gf(e),o=Gf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Iie(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return HRe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Gf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function HRe(e){var t=Gf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function GRe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function KRe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return YRe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function YRe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function XRe(e,t,r){var n=(e[e.l++]&96)>>5,a=Die(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function JRe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Die(e,i,r);return[n,a,o]}function ZRe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function QRe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function e3e(e,t,r){var n=(e[e.l++]&96)>>5,a=WRe(e,t-1,r);return[n,a]}function t3e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function qV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function r3e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function n3e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function s3e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function a3e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function i3e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Mie(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function o3e(e){return e.read_shift(2),Mie(e)}function l3e(e){return e.read_shift(2),Mie(e)}function c3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Iie(e,0,r);return[n,a]}function u3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=KRe(e,0,r);return[n,a]}function d3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Iie(e,0,r);return[n,a,i]}function f3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[pIe[a],$ie[a],n]}function h3e(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:m3e(e);return[a,(i[0]===0?$ie:mIe)[i[1]]]}function m3e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function p3e(e,t,r){e.l+=r&&r.biff==2?3:4}function g3e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function x3e(e){return e.l++,xd[e.read_shift(1)]}function v3e(e){return e.l++,e.read_shift(2)}function y3e(e){return e.l++,e.read_shift(1)!==0}function b3e(e){return e.l++,Ni(e)}function w3e(e,t,r){return e.l++,Zw(e,t-1,r)}function _3e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ls(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=xd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ni(e);break;case 2:r[1]=gp(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function j3e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?pp:pk)(e));return a}function N3e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=_3e(e,r.biff);return o}function S3e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function k3e(e,t,r){if(r.biff==5)return C3e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function C3e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function E3e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function T3e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function A3e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function P3e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var O3e=Oi,D3e=Oi,R3e=Oi;function e1(e,t,r){return e.l+=2,[GRe(e)]}function zF(e){return e.l+=6,[]}var I3e=e1,M3e=zF,F3e=zF,L3e=e1;function Fie(e){return e.l+=2,[ta(e),e.read_shift(2)&1]}var $3e=e1,B3e=Fie,U3e=zF,V3e=e1,z3e=e1,q3e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function W3e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=q3e[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function H3e(e){return e.l+=2,[e.read_shift(4)]}function G3e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function K3e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Y3e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function X3e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function J3e(e){return e.l+=4,[0,0]}var WV={1:{n:"PtgExp",f:g3e},2:{n:"PtgTbl",f:R3e},3:{n:"PtgAdd",f:Zs},4:{n:"PtgSub",f:Zs},5:{n:"PtgMul",f:Zs},6:{n:"PtgDiv",f:Zs},7:{n:"PtgPower",f:Zs},8:{n:"PtgConcat",f:Zs},9:{n:"PtgLt",f:Zs},10:{n:"PtgLe",f:Zs},11:{n:"PtgEq",f:Zs},12:{n:"PtgGe",f:Zs},13:{n:"PtgGt",f:Zs},14:{n:"PtgNe",f:Zs},15:{n:"PtgIsect",f:Zs},16:{n:"PtgUnion",f:Zs},17:{n:"PtgRange",f:Zs},18:{n:"PtgUplus",f:Zs},19:{n:"PtgUminus",f:Zs},20:{n:"PtgPercent",f:Zs},21:{n:"PtgParen",f:Zs},22:{n:"PtgMissArg",f:Zs},23:{n:"PtgStr",f:w3e},26:{n:"PtgSheet",f:G3e},27:{n:"PtgEndSheet",f:K3e},28:{n:"PtgErr",f:x3e},29:{n:"PtgBool",f:y3e},30:{n:"PtgInt",f:v3e},31:{n:"PtgNum",f:b3e},32:{n:"PtgArray",f:t3e},33:{n:"PtgFunc",f:f3e},34:{n:"PtgFuncVar",f:h3e},35:{n:"PtgName",f:S3e},36:{n:"PtgRef",f:c3e},37:{n:"PtgArea",f:XRe},38:{n:"PtgMemArea",f:E3e},39:{n:"PtgMemErr",f:O3e},40:{n:"PtgMemNoMem",f:D3e},41:{n:"PtgMemFunc",f:T3e},42:{n:"PtgRefErr",f:A3e},43:{n:"PtgAreaErr",f:ZRe},44:{n:"PtgRefN",f:u3e},45:{n:"PtgAreaN",f:e3e},46:{n:"PtgMemAreaN",f:Y3e},47:{n:"PtgMemNoMemN",f:X3e},57:{n:"PtgNameX",f:k3e},58:{n:"PtgRef3d",f:d3e},59:{n:"PtgArea3d",f:JRe},60:{n:"PtgRefErr3d",f:P3e},61:{n:"PtgAreaErr3d",f:QRe},255:{}},Z3e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Q3e={1:{n:"PtgElfLel",f:Fie},2:{n:"PtgElfRw",f:V3e},3:{n:"PtgElfCol",f:I3e},6:{n:"PtgElfRwV",f:z3e},7:{n:"PtgElfColV",f:L3e},10:{n:"PtgElfRadical",f:$3e},11:{n:"PtgElfRadicalS",f:U3e},13:{n:"PtgElfColS",f:M3e},15:{n:"PtgElfColSV",f:F3e},16:{n:"PtgElfRadicalLel",f:B3e},25:{n:"PtgList",f:W3e},29:{n:"PtgSxName",f:H3e},255:{}},eIe={0:{n:"PtgAttrNoop",f:J3e},1:{n:"PtgAttrSemi",f:i3e},2:{n:"PtgAttrIf",f:s3e},4:{n:"PtgAttrChoose",f:r3e},8:{n:"PtgAttrGoto",f:n3e},16:{n:"PtgAttrSum",f:p3e},32:{n:"PtgAttrBaxcel",f:qV},33:{n:"PtgAttrBaxcel",f:qV},64:{n:"PtgAttrSpace",f:o3e},65:{n:"PtgAttrSpaceSemi",f:l3e},128:{n:"PtgAttrIfError",f:a3e},255:{}};function t1(e,t,r,n){if(n.biff<8)return Oi(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=N3e(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=j3e(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Oi(e,t)),i}function r1(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=WV[i]||WV[Z3e[i]],(i===24||i===25)&&(a=(i===24?Q3e:eIe)[e[e.l+1]]),!a||!a.f?Oi(e,t):o.push([a.n,a.f(e,t,r)]);return o}function tIe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var rIe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function nIe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Lie(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function HV(e,t,r){var n=Lie(e,t,r);return n=="#REF"?n:nIe(n,r)}function yi(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,p,y="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",_=0,w=e[0].length;_<w;++_){var j=e[0][_];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=Ss(" ",e[0][g][1][1]);break;case 1:v=Ss("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+rIe[j[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Oy(j[1][1],o,a),l.push(Dy(d,i));break;case"PtgRefN":d=r?Oy(j[1][1],r,a):j[1][1],l.push(Dy(d,i));break;case"PtgRef3d":f=j[1][1],d=Oy(j[1][2],o,a),y=HV(n,f,a),l.push(y+"!"+Dy(d,i));break;case"PtgFunc":case"PtgFuncVar":var C=j[1][0],S=j[1][1];C||(C=0),C&=127;var k=C==0?[]:l.slice(-C);l.length-=C,S==="User"&&(S=k.shift()),l.push(S+"("+k.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":p=wV(j[1][1],r?{s:r}:o,a),l.push(rA(p,a));break;case"PtgArea":p=wV(j[1][1],o,a),l.push(rA(p,a));break;case"PtgArea3d":f=j[1][1],p=j[1][2],y=HV(n,f,a),l.push(y+"!"+rA(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=j[1][2];var E=(n.names||[])[m-1]||(n[0]||[])[m],R=E?E.Name:"SH33TJSNAME"+String(m);R&&R.slice(0,6)=="_xlfn."&&!a.xlfn&&(R=R.slice(6)),l.push(R);break;case"PtgNameX":var P=j[1][1];m=j[1][2];var T;if(a.biff<=5)P<0&&(P=-P),n[P]&&(T=n[P][m]);else{var O="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][m]&&n[P][m].itab>0&&(O=n.SheetNames[n[P][m].itab-1]+"!"):O=n.SheetNames[m-1]+"!"),n[P]&&n[P][m])O+=n[P][m].Name;else if(n[0]&&n[0][m])O+=n[0][m].Name;else{var D=(Lie(n,P,a)||"").split(";;");D[m-1]?O=D[m-1]:O+="SH33TJSERRX"}l.push(O);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var I="(",L=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:I=Ss(" ",e[0][g][1][1])+I;break;case 3:I=Ss("\r",e[0][g][1][1])+I;break;case 4:L=Ss(" ",e[0][g][1][1])+L;break;case 5:L=Ss("\r",e[0][g][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(I+l.pop()+L);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:j[1][1],r:j[1][0]};var W={c:r.c,r:r.r};if(n.sharedf[wr(d)]){var q=n.sharedf[wr(d)];l.push(yi(q,o,W,n,a))}else{var G=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(yi(u[1],o,W,n,a)),G=!0;break}G||l.push(j[1])}break;case"PtgArray":l.push("{"+tIe(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&K.indexOf(e[0][_][0])==-1){j=e[0][g];var U=!0;switch(j[1][0]){case 4:U=!1;case 0:v=Ss(" ",j[1][1]);break;case 5:U=!1;case 1:v=Ss("\r",j[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((U?v:"")+l.pop()+(U?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function sIe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Oi(e,t-2)];var l=r1(e,o,r);return t!==o+a&&(i=t1(e,t-o-a,l,r)),e.l=n,[l,i]}function aIe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Oi(e,t-2)];var l=r1(e,o,r);return t!==o+a&&(i=t1(e,t-o-a,l,r)),e.l=n,[l,i]}function iIe(e,t,r,n){var a=e.l+t,i=r1(e,n,r),o;return a!==e.l&&(o=t1(e,a-e.l,i,r)),[i,o]}function oIe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=r1(e,i,r);return i==65535?[[],Oi(e,t-2)]:(t!==i+2&&(a=t1(e,n-i-2,o,r)),[o,a])}function lIe(e){var t;if(Wu(e,e.l+6)!==65535)return[Ni(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function cIe(e){if(e==null){var t=rt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return qm(e);return qm(0)}function oA(e,t,r){var n=e.l+t,a=wu(e);r.biff==2&&++e.l;var i=lIe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=aIe(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function uIe(e,t,r,n,a){var i=Hm(t,r,a),o=cIe(e.v),l=rt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=rt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=za([i,o,l,u]);return f}function gk(e,t,r){var n=e.read_shift(4),a=r1(e,n,r),i=e.read_shift(4),o=i>0?t1(e,i,a,r):null;return[a,o]}var dIe=gk,xk=gk,fIe=gk,hIe=gk,mIe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$ie={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},pIe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function GV(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function gIe(e){var t="of:="+e.replace(UF,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function lA(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function xIe(e){return e.replace(/\./,"!")}var Iy={},a0={},My=typeof Map<"u";function qF(e,t,r){var n=0,a=e.length;if(r){if(My?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=My?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(My?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function vk(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(bi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Pb(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=eS(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function wm(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function uh(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){ru(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Bie(e,t,r,n,a,i){try{n.cellNF&&(e.z=hr[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=os(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(hr[t]==null&&ru(hAe[t]||"General",t),e.t==="e")e.w=e.w||xd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nb(e.v);else if(e.t==="d"){var o=Pa(e.v);(o|0)===o?e.w=o.toString(10):e.w=Nb(o)}else{if(e.v===void 0)return"";e.w=Vm(e.v,a0)}else e.t==="d"?e.w=il(t,Pa(e.v),a0):e.w=il(t,e.v,a0)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=QN(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=QN(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function vIe(e,t,r){if(e&&e["!ref"]){var n=Zr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function yIe(e,t){var r=Zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Fr(r))}var bIe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,wIe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,_Ie=/<(?:\w:)?hyperlink [^>]*>/mg,jIe=/"(\w*:\w*)"/,NIe=/<(?:\w:)?col\b[^>]*[\/]?>/g,SIe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,kIe=/<(?:\w:)?pageMargins[^>]*\/>/g,Uie=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,CIe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,EIe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function TIe(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(wIe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var m=u.match(Uie);m?WF(m[0],l,a,r):(m=u.match(CIe))&&PIe(m[0],m[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(jIe);y&&yIe(l,y[1])}var g=u.match(EIe);g&&g[1]&&qIe(g[1],a);var v=[];if(t.cellStyles){var _=u.match(NIe);_&&$Ie(v,_)}f&&GIe(f[1],l,t,c,i,o);var w=d.match(SIe);w&&(l["!autofilter"]=UIe(w[0]));var j=[],C=d.match(bIe);if(C)for(p=0;p!=C.length;++p)j[p]=Zr(C[p].slice(C[p].indexOf('"')+1));var S=d.match(_Ie);S&&MIe(l,S,n);var k=d.match(kIe);if(k&&(l["!margins"]=FIe(Sr(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Fr(c)),t.sheetRows>0&&l["!ref"]){var E=Zr(l["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>c.e.r&&(E.e.r=c.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>c.e.c&&(E.e.c=c.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Fr(E))}return v.length>0&&(l["!cols"]=v),j.length>0&&(l["!merges"]=j),l}function AIe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Fr(e[r])+'"/>';return t+"</mergeCells>"}function WF(e,t,r,n){var a=Sr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=fn(Ln(a.codeName)))}function PIe(e,t,r,n,a){WF(e.slice(0,e.indexOf(">")),r,n,a)}function OIe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Yc(In(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Ct("outlinePr",null,u)}!i&&!l||(a[a.length]=Ct("sheetPr",l,o))}var DIe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],RIe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function IIe(e){var t={sheet:1};return DIe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),RIe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=LF(e.password).toString(16).toUpperCase()),Ct("sheetProtection",null,t)}function MIe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Sr(Ln(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+fn(i.location))):(i.Target="#"+fn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Zr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=wr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function FIe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function LIe(e){return wm(e),Ct("pageMargins",null,e)}function $Ie(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Sr(t[n],!0);a.hidden&&(a.hidden=as(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,$F(a.width)),Hf(a);i<=o;)e[i++]=Hn(a)}}function BIe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ct("col",null,vk(a,n)));return r[r.length]="</cols>",r.join("")}function UIe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function VIe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Fr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ji(a);o.s.r==o.e.r&&(o.e.r=Ji(t["!ref"]).e.r,a=Fr(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ct("autoFilter",null,{ref:a})}var zIe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function qIe(e,t){t.Views||(t.Views=[{}]),(e.match(zIe)||[]).forEach(function(r,n){var a=Sr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),as(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function WIe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ct("sheetViews",Ct("sheetView",null,a),{})}function HIe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=xd[e.v];break;case"d":n&&n.cellDates?a=os(e.v,-1).toISOString():(e=Hn(e),e.t="n",a=""+(e.v=Pa(os(e.v)))),typeof e.z>"u"&&(e.z=hr[14]);break;default:a=e.v;break}var l=ni("v",In(a)),c={r:t},u=uh(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=ni("v",""+qF(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Ct("f",In(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ct("c",l,c)}var GIe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Sb("v"),o=Sb("f");return function(c,u,d,f,m,p){for(var y=0,g="",v=[],_=[],w=0,j=0,C=0,S="",k,E,R=0,P=0,T,O,D=0,I=0,L=Array.isArray(p.CellXf),W,q=[],G=[],K=Array.isArray(u),U=[],F={},B=!1,V=!!d.sheetStubs,Z=c.split(t),X=0,Q=Z.length;X!=Q;++X){g=Z[X].trim();var ce=g.length;if(ce!==0){var de=0;e:for(y=0;y<ce;++y)switch(g[y]){case">":if(g[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(E=Sr(g.slice(de,y),!0),R=E.r!=null?parseInt(E.r,10):R+1,P=-1,d.sheetRows&&d.sheetRows<R)continue;F={},B=!1,E.ht&&(B=!0,F.hpt=parseFloat(E.ht),F.hpx=T0(F.hpt)),E.hidden=="1"&&(B=!0,F.hidden=!0),E.outlineLevel!=null&&(B=!0,F.level=+E.outlineLevel),B&&(U[R-1]=F)}break;case"<":de=y;break}if(de>=y)break;if(E=Sr(g.slice(de,y),!0),R=E.r!=null?parseInt(E.r,10):R+1,P=-1,!(d.sheetRows&&d.sheetRows<R)){f.s.r>R-1&&(f.s.r=R-1),f.e.r<R-1&&(f.e.r=R-1),d&&d.cellStyles&&(F={},B=!1,E.ht&&(B=!0,F.hpt=parseFloat(E.ht),F.hpx=T0(F.hpt)),E.hidden=="1"&&(B=!0,F.hidden=!0),E.outlineLevel!=null&&(B=!0,F.level=+E.outlineLevel),B&&(U[R-1]=F)),v=g.slice(y).split(e);for(var pe=0;pe!=v.length&&v[pe].trim().charAt(0)=="<";++pe);for(v=v.slice(pe),y=0;y!=v.length;++y)if(g=v[y].trim(),g.length!==0){if(_=g.match(r),w=y,j=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(w=0,S=_[1],j=0;j!=S.length&&!((C=S.charCodeAt(j)-64)<1||C>26);++j)w=26*w+C;--w,P=w}else++P;for(j=0;j!=g.length&&g.charCodeAt(j)!==62;++j);if(++j,E=Sr(g.slice(0,j),!0),E.r||(E.r=wr({r:R-1,c:P})),S=g.slice(j),k={t:""},(_=S.match(i))!=null&&_[1]!==""&&(k.v=fn(_[1])),d.cellFormula){if((_=S.match(o))!=null&&_[1]!==""){if(k.f=fn(Ln(_[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=zV(k.f)),_[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&q.push([Zr(k.F),k.F]);else if(_[0].indexOf('t="shared"')>-1){O=Sr(_[0]);var re=fn(Ln(_[1]));d.xlfn||(re=zV(re)),G[parseInt(O.si,10)]=[O,re,E.r]}}else(_=S.match(/<f[^>]*\/>/))&&(O=Sr(_[0]),G[O.si]&&(k.f=zRe(G[O.si][1],G[O.si][2],E.r)));var ie=_s(E.r);for(j=0;j<q.length;++j)ie.r>=q[j][0].s.r&&ie.r<=q[j][0].e.r&&ie.c>=q[j][0].s.c&&ie.c<=q[j][0].e.c&&(k.F=q[j][1])}if(E.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(V)k.t="z";else continue;else k.t=E.t||"n";switch(f.s.c>P&&(f.s.c=P),f.e.c<P&&(f.e.c=P),k.t){case"n":if(k.v==""||k.v==null){if(!V)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!V)continue;k.t="z"}else T=Iy[parseInt(k.v,10)],k.v=T.t,k.r=T.r,d.cellHTML&&(k.h=T.h);break;case"str":k.t="s",k.v=k.v!=null?Ln(k.v):"",d.cellHTML&&(k.h=yF(k.v));break;case"inlineStr":_=S.match(n),k.t="s",_!=null&&(T=FF(_[1]))?(k.v=T.t,d.cellHTML&&(k.h=T.h)):k.v="";break;case"b":k.v=as(k.v);break;case"d":d.cellDates?k.v=os(k.v,1):(k.v=Pa(os(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=zae[k.v];break}if(D=I=0,W=null,L&&E.s!==void 0&&(W=p.CellXf[E.s],W!=null&&(W.numFmtId!=null&&(D=W.numFmtId),d.cellStyles&&W.fillId!=null&&(I=W.fillId))),Bie(k,D,I,d,m,p),d.cellDates&&L&&k.t=="n"&&up(hr[D])&&(k.t="d",k.v=hk(k.v)),E.cm&&d.xlmeta){var J=(d.xlmeta.Cell||[])[+E.cm-1];J&&J.type=="XLDAPR"&&(k.D=!0)}if(K){var z=_s(E.r);u[z.r]||(u[z.r]=[]),u[z.r][z.c]=k}else u[E.r]=k}}}}U.length>0&&(u["!rows"]=U)}})();function KIe(e,t,r,n){var a=[],i=[],o=Zr(e["!ref"]),l="",c,u="",d=[],f=0,m=0,p=e["!rows"],y=Array.isArray(e),g={r:u},v,_=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=is(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Ps(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var w=y?(e[f]||[])[m]:e[c];w!==void 0&&(l=HIe(w,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(v=p[f],v.hidden&&(g.hidden=1),_=-1,v.hpx?_=Ob(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(g.ht=_,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=Ct("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},v=p[f],v.hidden&&(g.hidden=1),_=-1,v.hpx?_=Ob(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(g.ht=_,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=Ct("row","",g));return a.join("")}function Vie(e,t,r,n){var a=[Xs,Ct("worksheet",null,{xmlns:dp[0],"xmlns:r":Ca.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Zr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Fr(d)}n||(n={}),c["!comments"]=[];var f=[];OIe(c,r,e,t,a),a[a.length]=Ct("dimension",null,{ref:u}),a[a.length]=WIe(c,t,e,r),t.sheetFormat&&(a[a.length]=Ct("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=BIe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=KIe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=IIe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=VIe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=AIe(c["!merges"]));var m=-1,p,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=Dn(n,-1,In(g[1].Target).replace(/#.*$/,""),Hr.HLINK),p["r:id"]="rId"+y),(m=g[1].Target.indexOf("#"))>-1&&(p.location=In(g[1].Target.slice(m+1))),g[1].Tooltip&&(p.tooltip=In(g[1].Tooltip)),a[a.length]=Ct("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=LIe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ni("ignoredErrors",Ct("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=Dn(n,-1,"../drawings/drawing"+(e+1)+".xml",Hr.DRAW),a[a.length]=Ct("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=Dn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Hr.VML),a[a.length]=Ct("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function YIe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function XIe(e,t,r){var n=rt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Ob(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[wr(u)];y&&(f<0&&(f=p),m=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function JIe(e,t,r,n){var a=XIe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ut(e,0,a)}var ZIe=pp,QIe=kx;function eMe(){}function tMe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=sPe(e),r}function rMe(e,t,r){r==null&&(r=rt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return XN({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Lae(e,r),r.slice(0,r.l)}function nMe(e){var t=Wl(e);return[t]}function sMe(e,t,r){return r==null&&(r=rt(8)),fp(t,r)}function aMe(e){var t=hp(e);return[t]}function iMe(e,t,r){return r==null&&(r=rt(4)),mp(t,r)}function oMe(e){var t=Wl(e),r=e.read_shift(1);return[t,r,"b"]}function lMe(e,t,r){return r==null&&(r=rt(9)),fp(t,r),r.write_shift(1,e.v?1:0),r}function cMe(e){var t=hp(e),r=e.read_shift(1);return[t,r,"b"]}function uMe(e,t,r){return r==null&&(r=rt(5)),mp(t,r),r.write_shift(1,e.v?1:0),r}function dMe(e){var t=Wl(e),r=e.read_shift(1);return[t,r,"e"]}function fMe(e,t,r){return r==null&&(r=rt(9)),fp(t,r),r.write_shift(1,e.v),r}function hMe(e){var t=hp(e),r=e.read_shift(1);return[t,r,"e"]}function mMe(e,t,r){return r==null&&(r=rt(8)),mp(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function pMe(e){var t=Wl(e),r=e.read_shift(4);return[t,r,"s"]}function gMe(e,t,r){return r==null&&(r=rt(12)),fp(t,r),r.write_shift(4,t.v),r}function xMe(e){var t=hp(e),r=e.read_shift(4);return[t,r,"s"]}function vMe(e,t,r){return r==null&&(r=rt(8)),mp(t,r),r.write_shift(4,t.v),r}function yMe(e){var t=Wl(e),r=Ni(e);return[t,r,"n"]}function bMe(e,t,r){return r==null&&(r=rt(16)),fp(t,r),qm(e.v,r),r}function zie(e){var t=hp(e),r=Ni(e);return[t,r,"n"]}function wMe(e,t,r){return r==null&&(r=rt(12)),mp(t,r),qm(e.v,r),r}function _Me(e){var t=Wl(e),r=OF(e);return[t,r,"n"]}function jMe(e,t,r){return r==null&&(r=rt(12)),fp(t,r),$ae(e.v,r),r}function NMe(e){var t=hp(e),r=OF(e);return[t,r,"n"]}function SMe(e,t,r){return r==null&&(r=rt(8)),mp(t,r),$ae(e.v,r),r}function kMe(e){var t=Wl(e),r=TF(e);return[t,r,"is"]}function CMe(e){var t=Wl(e),r=Ai(e);return[t,r,"str"]}function EMe(e,t,r){return r==null&&(r=rt(12+4*e.v.length)),fp(t,r),qa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function TMe(e){var t=hp(e),r=Ai(e);return[t,r,"str"]}function AMe(e,t,r){return r==null&&(r=rt(8+4*e.v.length)),mp(t,r),qa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function PMe(e,t,r){var n=e.l+t,a=Wl(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=xk(e,n-e.l,r);o[3]=yi(l,null,a,r.supbooks,r)}else e.l=n;return o}function OMe(e,t,r){var n=e.l+t,a=Wl(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=xk(e,n-e.l,r);o[3]=yi(l,null,a,r.supbooks,r)}else e.l=n;return o}function DMe(e,t,r){var n=e.l+t,a=Wl(e);a.r=r["!row"];var i=Ni(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=xk(e,n-e.l,r);o[3]=yi(l,null,a,r.supbooks,r)}else e.l=n;return o}function RMe(e,t,r){var n=e.l+t,a=Wl(e);a.r=r["!row"];var i=Ai(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=xk(e,n-e.l,r);o[3]=yi(l,null,a,r.supbooks,r)}else e.l=n;return o}var IMe=pp,MMe=kx;function FMe(e,t){return t==null&&(t=rt(4)),t.write_shift(4,e),t}function LMe(e,t){var r=e.l+t,n=pp(e),a=AF(e),i=Ai(e),o=Ai(e),l=Ai(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function $Me(e,t){var r=rt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));kx({s:_s(e[0]),e:_s(e[0])},r),PF("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return qa(a||"",r),qa(e[1].Tooltip||"",r),qa("",r),r.slice(0,r.l)}function BMe(){}function UMe(e,t,r){var n=e.l+t,a=Bae(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=dIe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function VMe(e,t,r){var n=e.l+t,a=pp(e),i=[a];if(r.cellFormula){var o=hIe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function zMe(e,t,r){r==null&&(r=rt(18));var n=vk(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var qie=["left","right","top","bottom","header","footer"];function qMe(e){var t={};return qie.forEach(function(r){t[r]=Ni(e)}),t}function WMe(e,t){return t==null&&(t=rt(48)),wm(e),qie.forEach(function(r){qm(e[r],t)}),t}function HMe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function GMe(e,t,r){r==null&&(r=rt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function KMe(e){var t=rt(24);return t.write_shift(4,4),t.write_shift(4,1),kx(e,t),t}function YMe(e,t){return t==null&&(t=rt(66)),t.write_shift(2,e.password?LF(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function XMe(){}function JMe(){}function ZMe(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,p,y,g,v,_,w,j,C,S,k=[];l.biff=12,l["!row"]=0;var E=0,R=!1,P=[],T={},O=l.supbooks||a.supbooks||[[]];if(O.sharedf=T,O.arrayf=P,O.SheetNames=a.SheetNames||a.Sheets.map(function(K){return K.name}),!l.supbooks&&(l.supbooks=O,a.Names))for(var D=0;D<a.Names.length;++D)O[0][D+1]=a.Names[D];var I=[],L=[],W=!1;Db[16]={n:"BrtShortReal",f:zie};var q;if(gd(e,function(U,F,B){if(!m)switch(B){case 148:u=U;break;case 0:p=U,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),C=Ps(v=p.r),l["!row"]=p.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=T0(U.hpt)),L[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:U[2]},U[2]){case"n":y.v=U[1];break;case"s":j=Iy[U[1]],y.v=j.t,y.r=j.r;break;case"b":y.v=!!U[1];break;case"e":y.v=U[1],l.cellText!==!1&&(y.w=xd[y.v]);break;case"str":y.t="s",y.v=U[1];break;case"is":y.t="s",y.v=U[1].t;break}if((g=o.CellXf[U[0].iStyleRef])&&Bie(y,g.numFmtId,null,l,i,o),_=U[0].c==-1?_+1:U[0].c,l.dense?(c[v]||(c[v]=[]),c[v][_]=y):c[is(_)+C]=y,l.cellFormula){for(R=!1,E=0;E<P.length;++E){var V=P[E];p.r>=V[0].s.r&&p.r<=V[0].e.r&&_>=V[0].s.c&&_<=V[0].e.c&&(y.F=Fr(V[0]),R=!0)}!R&&U.length>3&&(y.f=U[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>_&&(d.s.c=_),d.e.r<p.r&&(d.e.r=p.r),d.e.c<_&&(d.e.c=_),l.cellDates&&g&&y.t=="n"&&up(hr[g.numFmtId])){var Z=uf(y.v);Z&&(y.t="d",y.v=new Date(Z.y,Z.m-1,Z.d,Z.H,Z.M,Z.S,Z.u))}q&&(q.type=="XLDAPR"&&(y.D=!0),q=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;y={t:"z",v:void 0},_=U[0].c==-1?_+1:U[0].c,l.dense?(c[v]||(c[v]=[]),c[v][_]=y):c[is(_)+C]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>_&&(d.s.c=_),d.e.r<p.r&&(d.e.r=p.r),d.e.c<_&&(d.e.c=_),q&&(q.type=="XLDAPR"&&(y.D=!0),q=void 0);break;case 176:k.push(U);break;case 49:q=((l.xlmeta||{}).Cell||[])[U-1];break;case 494:var X=n["!id"][U.relId];for(X?(U.Target=X.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=X):U.relId==""&&(U.Target="#"+U.loc),v=U.rfx.s.r;v<=U.rfx.e.r;++v)for(_=U.rfx.s.c;_<=U.rfx.e.c;++_)l.dense?(c[v]||(c[v]=[]),c[v][_]||(c[v][_]={t:"z",v:void 0}),c[v][_].l=U):(w=wr({c:_,r:v}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=U);break;case 426:if(!l.cellFormula)break;P.push(U),S=l.dense?c[v][_]:c[is(_)+C],S.f=yi(U[1],d,{r:p.r,c:_},O,l),S.F=Fr(U[0]);break;case 427:if(!l.cellFormula)break;T[wr(U[0].s)]=U[1],S=l.dense?c[v][_]:c[is(_)+C],S.f=yi(U[1],d,{r:p.r,c:_},O,l);break;case 60:if(!l.cellStyles)break;for(;U.e>=U.s;)I[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},W||(W=!0,$F(U.w/256)),Hf(I[U.e+1]);break;case 161:c["!autofilter"]={ref:Fr(U)};break;case 476:c["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(c["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!F.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Fr(u||d)),l.sheetRows&&c["!ref"]){var G=Zr(c["!ref"]);l.sheetRows<=+G.e.r&&(G.e.r=l.sheetRows-1,G.e.r>d.e.r&&(G.e.r=d.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>d.e.c&&(G.e.c=d.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Fr(G))}return k.length>0&&(c["!merges"]=k),I.length>0&&(c["!cols"]=I),L.length>0&&(c["!rows"]=L),c}function QMe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Hn(t),t.z=t.z||hr[14],t.v=Pa(os(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=uh(a.cellXfs,t,a),t.l&&i["!links"].push([wr(c),t.l]),t.c&&i["!comments"].push([wr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=qF(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?ut(e,18,vMe(t,c)):ut(e,7,gMe(t,c))):(c.t="str",o?ut(e,17,AMe(t,c)):ut(e,6,EMe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?ut(e,13,SMe(t,c)):ut(e,2,jMe(t,c)):o?ut(e,16,wMe(t,c)):ut(e,5,bMe(t,c)),!0;case"b":return c.t="b",o?ut(e,15,uMe(t,c)):ut(e,4,lMe(t,c)),!0;case"e":return c.t="e",o?ut(e,14,mMe(t,c)):ut(e,3,fMe(t,c)),!0}return o?ut(e,12,iMe(t,c)):ut(e,1,sMe(t,c)),!0}function e5e(e,t,r,n){var a=Zr(t["!ref"]||"A1"),i,o="",l=[];ut(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Ps(d),JIe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=is(m)),i=l[m]+o;var p=c?(t[d]||[])[m]:t[i];if(!p){f=!1;continue}f=QMe(e,p,d,m,n,t,f)}}ut(e,146)}function t5e(e,t){!t||!t["!merges"]||(ut(e,177,FMe(t["!merges"].length)),t["!merges"].forEach(function(r){ut(e,176,MMe(r))}),ut(e,178))}function r5e(e,t){!t||!t["!cols"]||(ut(e,390),t["!cols"].forEach(function(r,n){r&&ut(e,60,zMe(n,r))}),ut(e,391))}function n5e(e,t){!t||!t["!ref"]||(ut(e,648),ut(e,649,KMe(Zr(t["!ref"]))),ut(e,650))}function s5e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Dn(r,-1,n[1].Target.replace(/#.*$/,""),Hr.HLINK);ut(e,494,$Me(n,a))}}),delete t["!links"]}function a5e(e,t,r,n){if(t["!comments"].length>0){var a=Dn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Hr.VML);ut(e,551,PF("rId"+a)),t["!legacy"]=a}}function i5e(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Fr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ji(i);l.s.r==l.e.r&&(l.e.r=Ji(t["!ref"]).e.r,i=Fr(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ut(e,161,kx(Zr(i))),ut(e,162)}}function o5e(e,t,r){ut(e,133),ut(e,137,GMe(t,r)),ut(e,138),ut(e,134)}function l5e(e,t){t["!protect"]&&ut(e,535,YMe(t["!protect"]))}function c5e(e,t,r,n){var a=_o(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Zr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ut(a,129),(r.vbaraw||o["!outline"])&&ut(a,147,rMe(l,o["!outline"])),ut(a,148,QIe(c)),o5e(a,o,r.Workbook),r5e(a,o),e5e(a,o,e,t),l5e(a,o),i5e(a,o,r,e),t5e(a,o),s5e(a,o,n),o["!margins"]&&ut(a,476,WMe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&n5e(a,o),a5e(a,o,e,n),ut(a,130),a.end()}function u5e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=fn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function d5e(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=u5e(f);d.s.r=d.s.c=0,d.e.c=l,u=is(l),m[0].forEach(function(p,y){o[u+Ps(y)]={t:"n",v:p,z:m[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Fr(d)),o}function f5e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(Uie);return l&&WF(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function h5e(e,t){e.l+=10;var r=Ai(e);return{name:r}}function m5e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return gd(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var HF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],p5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],g5e=[],x5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function KV(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=as(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function YV(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=as(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Wie(e){YV(e.WBProps,HF),YV(e.CalcPr,x5e),KV(e.WBView,p5e),KV(e.Sheets,g5e),a0.date1904=as(e.WBProps.date1904)}function v5e(e){return!e.Workbook||!e.Workbook.WBProps?"false":as(e.Workbook.WBProps.date1904)?"true":"false"}var y5e="][*?/\\".split("");function Hie(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return y5e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function b5e(e,t,r){e.forEach(function(n,a){Hie(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Gie(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];b5e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)vIe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var w5e=/<\w+:workbook/;function _5e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Di,function(c,u){var d=Sr(c);switch(bu(d[0])){case"<?xml":break;case"<workbook":c.match(w5e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":HF.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=as(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Ln(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=fn(Ln(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Ln(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),as(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=fn(Ln(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),dp.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Wie(r),r}function Kie(e){var t=[Xs];t[t.length]=Ct("workbook",null,{xmlns:dp[0],"xmlns:r":Ca.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(HF.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ct("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:In(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ct("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Ct("definedName",In(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function j5e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=v3(e),r.name=Ai(e),r}function N5e(e,t){return t||(t=rt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),PF(e.strRelID,t),qa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function S5e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ai(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function k5e(e,t){t||(t=rt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Lae(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function C5e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function E5e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=aPe(e),o=fIe(e,0,r),l=AF(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function T5e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Db[16]={n:"BrtFRTArchID$",f:C5e},gd(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=yi(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Wie(r),r.Names=i,r.supbooks=o,r}function A5e(e,t){ut(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ut(e,156,N5e(a))}ut(e,144)}function P5e(e,t){t||(t=rt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return qa("SheetJS",t),qa(_b.version,t),qa(_b.version,t),qa("7262",t),t.length>t.l?t.slice(0,t.l):t}function O5e(e,t){t||(t=rt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function D5e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ut(e,135),ut(e,158,O5e(a)),ut(e,136))}}function R5e(e,t){var r=_o();return ut(r,131),ut(r,128,P5e()),ut(r,153,k5e(e.Workbook&&e.Workbook.WBProps||null)),D5e(r,e),A5e(r,e),ut(r,132),r.end()}function I5e(e,t,r){return t.slice(-4)===".bin"?T5e(e,r):_5e(e,r)}function M5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?ZMe(e,n,r,a,i,o,l):TIe(e,n,r,a,i,o,l)}function F5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?m5e(e,n,r,a,i):f5e(e,n,r,a,i)}function L5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?URe():VRe()}function $5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?$Re():BRe()}function B5e(e,t,r,n){return t.slice(-4)===".bin"?MDe(e,r,n):NDe(e,r,n)}function U5e(e,t,r){return Cie(e,r)}function V5e(e,t,r){return t.slice(-4)===".bin"?zOe(e,r):BOe(e,r)}function z5e(e,t,r){return t.slice(-4)===".bin"?RRe(e,r):SRe(e,r)}function q5e(e,t,r){return t.slice(-4)===".bin"?_Re(e):bRe(e)}function W5e(e,t,r,n){return r.slice(-4)===".bin"?jRe(e,t,r,n):void 0}function H5e(e,t,r){return t.slice(-4)===".bin"?xRe(e,t,r):yRe(e,t,r)}function G5e(e,t,r){return(t.slice(-4)===".bin"?R5e:Kie)(e)}function K5e(e,t,r,n,a){return(t.slice(-4)===".bin"?c5e:Vie)(e,r,n,a)}function Y5e(e,t,r){return(t.slice(-4)===".bin"?HDe:Sie)(e,r)}function X5e(e,t,r){return(t.slice(-4)===".bin"?HOe:xie)(e,r)}function J5e(e,t,r){return(t.slice(-4)===".bin"?IRe:Aie)(e)}function Z5e(e){return(e.slice(-4)===".bin"?vRe:Eie)()}var Yie=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Xie=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function tc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Yie),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(Xie),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function Q5e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Yie),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(Xie),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Fy;function eFe(e,t){var r=Fy[e]||fn(e);return r==="General"?Vm(t):il(r,t)}function tFe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=as(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=os(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[fn(t)]=a}function rFe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||xd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nb(e.v):e.w=Vm(e.v):e.w=eFe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Fy[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&up(n)){var a=uf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function nFe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=gDe[n.Pattern]||n.Pattern)}e[t.ID]=t}function sFe(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,m={};u=u||{};var p=[],y=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=as(e);break;case"String":n.t="s",n.r=fV(fn(e)),n.v=e.indexOf("<")>-1?fn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(os(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=fn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=zae[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=fV(t||e));break}if(rFe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=fn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=s0(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=s0("RC:RC",a):n.ArrayRange&&(n.F=s0(n.ArrayRange,a),c.push([Zr(n.F),n.F]))}else for(y=0;y<c.length;++y)a.r>=c[y][0].s.r&&a.r<=c[y][0].e.r&&a.c>=c[y][0].s.c&&a.c<=c[y][0].e.c&&(n.F=c[y][1]);u.cellStyles&&(p.forEach(function(v){!m.patternType&&v.patternType&&(m.patternType=v.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function aFe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function cA(e,t){var r=t||{};jx();var n=Ag(bF(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof nn<"u"?n=nn.utils.decode(65001,zN(n)):n=Ln(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Hn(r);return o.type="string",E0.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ve){a.indexOf("<"+Ve)>=0&&(i=!0)}),i)return UFe(n,r);Fy={"General Number":"General","General Date":hr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":hr[15],"Short Date":hr[14],"Long Time":hr[19],"Medium Time":hr[18],"Short Time":hr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:hr[2],Standard:hr[4],Percent:hr[10],Scientific:hr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],m=r.dense?[]:{},p="",y={},g={},v=tc('<Data ss:Type="String">'),_=0,w=0,j=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},E="",R=0,P=[],T={},O={},D=0,I=[],L=[],W={},q=[],G,K=!1,U=[],F=[],B={},V=0,Z=0,X={Sheets:[],WBProps:{date1904:!1}},Q={};Cb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";l=Cb.exec(n);)switch(l[3]=(ce=l[3]).toLowerCase()){case"data":if(ce=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?sFe(n.slice(_,l.index),E,v,c[c.length-1][0]=="comment"?W:y,{c:w,r:j},S,q[w],g,U,r):(E="",v=tc(l[0]),_=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(L.length>0&&(y.c=L),(!r.sheetRows||r.sheetRows>j)&&y.v!==void 0&&(r.dense?(m[j]||(m[j]=[]),m[j][w]=y):m[is(w)+Ps(j)]=y),y.HRef&&(y.l={Target:fn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(V=w+(parseInt(y.MergeAcross,10)|0),Z=j+(parseInt(y.MergeDown,10)|0),P.push({s:{c:w,r:j},e:{c:V,r:Z}})),!r.sheetStubs)y.MergeAcross?w=V+1:++w;else if(y.MergeAcross||y.MergeDown){for(var de=w;de<=V;++de)for(var pe=j;pe<=Z;++pe)(de>w||pe>j)&&(r.dense?(m[pe]||(m[pe]=[]),m[pe][de]={t:"z"}):m[is(de)+Ps(pe)]={t:"z"});w=V+1}else++w;else y=Q5e(l[0]),y.Index&&(w=+y.Index-1),w<C.s.c&&(C.s.c=w),w>C.e.c&&(C.e.c=w),l[0].slice(-2)==="/>"&&++w,L=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(j<C.s.r&&(C.s.r=j),j>C.e.r&&(C.e.r=j),l[0].slice(-2)==="/>"&&(g=tc(l[0]),g.Index&&(j=+g.Index-1)),w=0,++j):(g=tc(l[0]),g.Index&&(j=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=Ob(B.hpx),F[j]=B),g.Hidden=="1"&&(B.hidden=!0,F[j]=B));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(m["!ref"]=Fr(C),r.sheetRows&&r.sheetRows<=C.e.r&&(m["!fullref"]=m["!ref"],C.e.r=r.sheetRows-1,m["!ref"]=Fr(C))),P.length&&(m["!merges"]=P),q.length>0&&(m["!cols"]=q),F.length>0&&(m["!rows"]=F),d[p]=m}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=w=0,c.push([l[3],!1]),u=tc(l[0]),p=fn(u.Name),m=r.dense?[]:{},P=[],U=[],F=[],Q={name:p,Hidden:0},X.Sheets.push(Q);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),q=[],K=!1}break;case"style":l[1]==="/"?nFe(S,k,r):k=tc(l[0]);break;case"numberformat":k.nf=fn(tc(l[0]).Format||"General"),Fy[k.nf]&&(k.nf=Fy[k.nf]);for(var re=0;re!=392&&hr[re]!=k.nf;++re);if(re==392){for(re=57;re!=392;++re)if(hr[re]==null){ru(k.nf,re);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(G=tc(l[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!K&&G.wpx>10){K=!0,bi=jie;for(var ie=0;ie<q.length;++ie)q[ie]&&Hf(q[ie])}K&&Hf(G),q[G.Index-1||q.length]=G;for(var J=0;J<+G.Span;++J)q[q.length]=Hn(G);break;case"namedrange":if(l[1]==="/")break;X.Names||(X.Names=[]);var z=Sr(l[0]),Se={Name:z.Name,Ref:s0(z.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Se.Sheet=X.Sheets.length-1),X.Names.push(Se);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?E+=n.slice(R,l.index):R=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=tc(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?APe(T,ce,n.slice(D,l.index)):D=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));aFe(W),L.push(W)}else c.push([l[3],!1]),u=tc(l[0]),W={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var te=tc(l[0]);m["!autofilter"]={ref:s0(te.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return ez(n,r);var _e=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(l[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(D,l.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else D=l.index+l[0].length;break;case"header":m["!margins"]||wm(m["!margins"]={},"xlml"),isNaN(+Sr(l[0]).Margin)||(m["!margins"].header=+Sr(l[0]).Margin);break;case"footer":m["!margins"]||wm(m["!margins"]={},"xlml"),isNaN(+Sr(l[0]).Margin)||(m["!margins"].footer=+Sr(l[0]).Margin);break;case"pagemargins":var Ae=Sr(l[0]);m["!margins"]||wm(m["!margins"]={},"xlml"),isNaN(+Ae.Top)||(m["!margins"].top=+Ae.Top),isNaN(+Ae.Left)||(m["!margins"].left=+Ae.Left),isNaN(+Ae.Right)||(m["!margins"].right=+Ae.Right),isNaN(+Ae.Bottom)||(m["!margins"].bottom=+Ae.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?tFe(O,ce,I,n.slice(D,l.index)):(I=l,D=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ue={};return!r.bookSheets&&!r.bookProps&&(ue.Sheets=d),ue.SheetNames=f,ue.Workbook=X,ue.SSF=Hn(hr),ue.Props=T,ue.Custprops=O,ue}function S3(e,t){switch(YF(t=t||{}),t.type||"base64"){case"base64":return cA(al(e),t);case"binary":case"buffer":case"file":return cA(e,t);case"array":return cA(lh(e),t)}}function iFe(e,t){var r=[];return e.Props&&r.push(PPe(e.Props,t)),e.Custprops&&r.push(OPe(e.Props,e.Custprops)),r.join("")}function oFe(){return""}function lFe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Ct("NumberFormat",null,{"ss:Format":In(hr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Ct("Style",i.join(""),o))}),Ct("Styles",r.join(""))}function Jie(e){return Ct("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+VF(e.Ref,{r:0,c:0})})}function cFe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Jie(a)))}return Ct("Names",r.join(""))}function uFe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Jie(l)))}return i.join("")}function dFe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ct("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ct("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ct("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ct("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ni("ProtectContents","True")),e["!protect"].objects&&a.push(ni("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ni("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ni("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ni("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Ct("WorksheetOptions",a.join(""),{xmlns:Bo.x})}function fFe(e){return e.map(function(t){var r=RAe(t.t||""),n=Ct("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ct("Comment",n,{"ss:Author":t.a})}).join("")}function hFe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+In(VF(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=_s(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=In(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=In(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=xd[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||hr[14]);break;case"s":f="String",m=DAe(e.v||"");break}var p=uh(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(g+=fFe(e.c)),Ct("Cell",g,l)}function mFe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=T0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function pFe(e,t,r,n){if(!e["!ref"])return"";var a=Zr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,_){Hf(v);var w=!!v.width,j=vk(_,v),C={"ss:Index":_+1};w&&(C["ss:Width"]=Ab(j.width)),v.hidden&&(C["ss:Hidden"]="1"),l.push(Ct("Column",null,C))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[mFe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:f},y=wr(p),g=c?(e[u]||[])[f]:e[y];d.push(hFe(g,y,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function gFe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?uFe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?pFe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(dFe(i,t,e,r)),n.join("")}function xFe(e,t){t||(t={}),e.SSF||(e.SSF=Hn(hr)),e.SSF&&(jx(),Xw(e.SSF),t.revssf=fk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],uh(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(iFe(e,t)),r.push(oFe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ct("Worksheet",gFe(n,t,e),{"ss:Name":In(e.SheetNames[n])}));return r[2]=lFe(e,t),r[3]=cFe(e),Xs+Ct("Workbook",r.join(""),{xmlns:Bo.ss,"xmlns:o":Bo.o,"xmlns:x":Bo.x,"xmlns:ss":Bo.ss,"xmlns:dt":Bo.dt,"xmlns:html":Bo.html})}function vFe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=uPe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=dPe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var yFe=[60,1084,2066,2165,2175];function bFe(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Wu(r,r.l),u=k3[c],d=0;u!=null&&yFe.indexOf(c)>-1;)i=Wu(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=k3[c=Wu(r,r.l)];var f=za(o);ei(f,0);var m=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(m),m+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Mc(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=hr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||xd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nb(e.v):e.w=Vm(e.v):e.w=il(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&up(hr[n]||String(n))){var a=uf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function oj(e,t,r){return{v:e,ixfe:t,t:r}}function wFe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,m="",p,y,g,v,_={},w=[],j,C,S=[],k=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},P=function(Pe){return Pe<8?vm[Pe]:Pe<64&&k[Pe-8]||vm[Pe]},T=function(Pe,Re,et){var jt=Re.XF.data;if(!(!jt||!jt.patternType||!et||!et.cellStyles)){Re.s={},Re.s.patternType=jt.patternType;var je;(je=Tb(P(jt.icvFore)))&&(Re.s.fgColor={rgb:je}),(je=Tb(P(jt.icvBack)))&&(Re.s.bgColor={rgb:je})}},O=function(Pe,Re,et){if(!(B>1)&&!(et.sheetRows&&Pe.r>=et.sheetRows)){if(et.cellStyles&&Re.XF&&Re.XF.data&&T(Pe,Re,et),delete Re.ixfe,delete Re.XF,f=Pe,m=wr(Pe),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Pe.r<o.s.r&&(o.s.r=Pe.r),Pe.c<o.s.c&&(o.s.c=Pe.c),Pe.r+1>o.e.r&&(o.e.r=Pe.r+1),Pe.c+1>o.e.c&&(o.e.c=Pe.c+1),et.cellFormula&&Re.f){for(var jt=0;jt<w.length;++jt)if(!(w[jt][0].s.c>Pe.c||w[jt][0].s.r>Pe.r)&&!(w[jt][0].e.c<Pe.c||w[jt][0].e.r<Pe.r)){Re.F=Fr(w[jt][0]),(w[jt][0].s.c!=Pe.c||w[jt][0].s.r!=Pe.r)&&delete Re.f,Re.f&&(Re.f=""+yi(w[jt][1],o,Pe,U,D));break}}et.dense?(a[Pe.r]||(a[Pe.r]=[]),a[Pe.r][Pe.c]=Re):a[m]=Re}},D={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(D.password=t.password);var I,L=[],W=[],q=[],G=[],K=!1,U=[];U.SheetNames=D.snames,U.sharedf=D.sharedf,U.arrayf=D.arrayf,U.names=[],U.XTI=[];var F=0,B=0,V=0,Z=[],X=[],Q;D.codepage=1200,Dl(1200);for(var ce=!1;e.l<e.length-1;){var de=e.l,pe=e.read_shift(2);if(pe===0&&F===10)break;var re=e.l===e.length?0:e.read_shift(2),ie=k3[pe];if(ie&&ie.f){if(t.bookSheets&&F===133&&pe!==133)break;if(F=pe,ie.r===2||ie.r==12){var J=e.read_shift(2);if(re-=2,!D.enc&&J!==pe&&((J&255)<<8|J>>8)!==pe)throw new Error("rt mismatch: "+J+"!="+pe);ie.r==12&&(e.l+=10,re-=10)}var z={};if(pe===10?z=ie.f(e,re,D):z=bFe(pe,ie,e,re,D),B==0&&[9,521,1033,2057].indexOf(F)===-1)continue;switch(pe){case 34:r.opts.Date1904=E.WBProps.date1904=z;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(D.enc||(e.l=0),D.enc=z,!t.password)throw new Error("File is password-protected");if(z.valid==null)throw new Error("Encryption scheme unsupported");if(!z.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=z;break;case 66:var Se=Number(z);switch(Se){case 21010:Se=1200;break;case 32768:Se=1e4;break;case 32769:Se=1252;break}Dl(D.codepage=Se),ce=!0;break;case 317:D.rrtabid=z;break;case 25:D.winlocked=z;break;case 439:r.opts.RefreshAll=z;break;case 12:r.opts.CalcCount=z;break;case 16:r.opts.CalcDelta=z;break;case 17:r.opts.CalcIter=z;break;case 13:r.opts.CalcMode=z;break;case 14:r.opts.CalcPrecision=z;break;case 95:r.opts.CalcSaveRecalc=z;break;case 15:D.CalcRefMode=z;break;case 2211:r.opts.FullCalc=z;break;case 129:z.fDialog&&(a["!type"]="dialog"),z.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),z.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(z);break;case 430:U.push([z]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(z);break;case 24:case 536:Q={Name:z.Name,Ref:yi(z.rgce,o,null,U,D)},z.itab>0&&(Q.Sheet=z.itab-1),U.names.push(Q),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(z),z.Name=="_xlnm._FilterDatabase"&&z.itab>0&&z.rgce&&z.rgce[0]&&z.rgce[0][0]&&z.rgce[0][0][0]=="PtgArea3d"&&(X[z.itab-1]={ref:Fr(z.rgce[0][0][1][2])});break;case 22:D.ExternCount=z;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(z),U.XTI=U.XTI.concat(z);break;case 2196:if(D.biff<8)break;Q!=null&&(Q.Comment=z[1]);break;case 18:a["!protect"]=z;break;case 19:z!==0&&D.WTF&&console.error("Password verifier: "+z);break;case 133:i[z.pos]=z,D.snames.push(z.name);break;case 10:{if(--B)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Fr(o),t.sheetRows&&t.sheetRows<=o.e.r){var te=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Fr(o),o.e.r=te}o.e.r++,o.e.c++}L.length>0&&(a["!merges"]=L),W.length>0&&(a["!objects"]=W),q.length>0&&(a["!cols"]=q),G.length>0&&(a["!rows"]=G),E.Sheets.push(R)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[z.BIFFVer]||8),D.biffguess=z.BIFFVer==0,z.BIFFVer==0&&z.dt==4096&&(D.biff=5,ce=!0,Dl(D.codepage=28591)),D.biff==8&&z.BIFFVer==0&&z.dt==16&&(D.biff=2),B++)break;if(a=t.dense?[]:{},D.biff<8&&!ce&&(ce=!0,Dl(D.codepage=t.codepage||1252)),D.biff<5||z.BIFFVer==0&&z.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-re,name:u};i[_e.pos]=_e,D.snames.push(u)}else u=(i[de]||{name:""}).name;z.dt==32&&(a["!type"]="chart"),z.dt==64&&(a["!type"]="macro"),L=[],W=[],D.arrayf=w=[],q=[],G=[],K=!1,R={Hidden:(i[de]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[z.r]||[])[z.c]:a[wr({c:z.c,r:z.r})])&&++z.c,j={ixfe:z.ixfe,XF:S[z.ixfe]||{},v:z.val,t:"n"},V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:z.c,r:z.r},j,t);break;case 5:case 517:j={ixfe:z.ixfe,XF:S[z.ixfe],v:z.val,t:z.t},V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:z.c,r:z.r},j,t);break;case 638:j={ixfe:z.ixfe,XF:S[z.ixfe],v:z.rknum,t:"n"},V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:z.c,r:z.r},j,t);break;case 189:for(var Ae=z.c;Ae<=z.C;++Ae){var ue=z.rkrec[Ae-z.c][0];j={ixfe:ue,XF:S[ue],v:z.rkrec[Ae-z.c][1],t:"n"},V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:Ae,r:z.r},j,t)}break;case 6:case 518:case 1030:{if(z.val=="String"){l=z;break}if(j=oj(z.val,z.cell.ixfe,z.tt),j.XF=S[j.ixfe],t.cellFormula){var Ve=z.formula;if(Ve&&Ve[0]&&Ve[0][0]&&Ve[0][0][0]=="PtgExp"){var He=Ve[0][0][1][0],le=Ve[0][0][1][1],be=wr({r:He,c:le});_[be]?j.f=""+yi(z.formula,o,z.cell,U,D):j.F=((t.dense?(a[He]||[])[le]:a[be])||{}).F}else j.f=""+yi(z.formula,o,z.cell,U,D)}V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O(z.cell,j,t),l=z}break;case 7:case 519:if(l)l.val=z,j=oj(z,l.cell.ixfe,"s"),j.XF=S[j.ixfe],t.cellFormula&&(j.f=""+yi(l.formula,o,l.cell,U,D)),V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O(l.cell,j,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(z);var Oe=wr(z[0].s);if(p=t.dense?(a[z[0].s.r]||[])[z[0].s.c]:a[Oe],t.cellFormula&&p){if(!l||!Oe||!p)break;p.f=""+yi(z[1],o,z[0],U,D),p.F=Fr(z[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;_[wr(l.cell)]=z[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[wr(l.cell)],(p||{}).f=""+yi(z[0],o,f,U,D)}}break;case 253:j=oj(c[z.isst].t,z.ixfe,"s"),c[z.isst].h&&(j.h=c[z.isst].h),j.XF=S[j.ixfe],V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:z.c,r:z.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:z.ixfe,XF:S[z.ixfe],t:"z"},V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:z.c,r:z.r},j,t));break;case 190:if(t.sheetStubs)for(var Ze=z.c;Ze<=z.C;++Ze){var tt=z.ixfe[Ze-z.c];j={ixfe:tt,XF:S[tt],t:"z"},V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:Ze,r:z.r},j,t)}break;case 214:case 516:case 4:j=oj(z.val,z.ixfe,"s"),j.XF=S[j.ixfe],V>0&&(j.z=Z[j.ixfe>>8&63]),Mc(j,t,r.opts.Date1904),O({c:z.c,r:z.r},j,t);break;case 0:case 512:B===1&&(o=z);break;case 252:c=z;break;case 1054:if(D.biff==4){Z[V++]=z[1];for(var fe=0;fe<V+163&&hr[fe]!=z[1];++fe);fe>=163&&ru(z[1],V+163)}else ru(z[1],z[0]);break;case 30:{Z[V++]=z;for(var ee=0;ee<V+163&&hr[ee]!=z;++ee);ee>=163&&ru(z,V+163)}break;case 229:L=L.concat(z);break;case 93:W[z.cmo[0]]=D.lastobj=z;break;case 438:D.lastobj.TxO=z;break;case 127:D.lastobj.ImData=z;break;case 440:for(v=z[0].s.r;v<=z[0].e.r;++v)for(g=z[0].s.c;g<=z[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[wr({c:g,r:v})],p&&(p.l=z[1]);break;case 2048:for(v=z[0].s.r;v<=z[0].e.r;++v)for(g=z[0].s.c;g<=z[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[wr({c:g,r:v})],p&&p.l&&(p.l.Tooltip=z[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;p=t.dense?(a[z[0].r]||[])[z[0].c]:a[wr(z[0])];var we=W[z[2]];p||(t.dense?(a[z[0].r]||(a[z[0].r]=[]),p=a[z[0].r][z[0].c]={t:"z"}):p=a[wr(z[0])]={t:"z"},o.e.r=Math.max(o.e.r,z[0].r),o.s.r=Math.min(o.s.r,z[0].r),o.e.c=Math.max(o.e.c,z[0].c),o.s.c=Math.min(o.s.c,z[0].c)),p.c||(p.c=[]),y={a:z[1],t:we.TxO.t},p.c.push(y)}break;case 2173:cRe(S[z.ixfe],z.ext);break;case 125:{if(!D.cellStyles)break;for(;z.e>=z.s;)q[z.e--]={width:z.w/256,level:z.level||0,hidden:!!(z.flags&1)},K||(K=!0,$F(z.w/256)),Hf(q[z.e+1])}break;case 520:{var he={};z.level!=null&&(G[z.r]=he,he.level=z.level),z.hidden&&(G[z.r]=he,he.hidden=!0),z.hpt&&(G[z.r]=he,he.hpt=z.hpt,he.hpx=T0(z.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||wm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=z;break;case 161:a["!margins"]||wm(a["!margins"]={}),a["!margins"].header=z.header,a["!margins"].footer=z.footer;break;case 574:z.RTL&&(E.Views[0].RTL=!0);break;case 146:k=z;break;case 2198:I=z;break;case 140:C=z;break;case 442:u?R.CodeName=z||R.name:E.WBProps.CodeName=z||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),e.l+=re}return r.SheetNames=Rs(i).sort(function(Me,Pe){return Number(Me)-Number(Pe)}).map(function(Me){return i[Me].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&X.forEach(function(Me,Pe){r.Sheets[r.SheetNames[Pe]]["!autofilter"]=Me}),r.Strings=c,r.SSF=Hn(hr),D.enc&&(r.Encryption=D.enc),I&&(r.Themes=I),r.Metadata={},C!==void 0&&(r.Metadata.Country=C),U.names.length>0&&(E.Names=U.names),r.Workbook=E,r}var Ly={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _Fe(e,t,r){var n=er.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=AV(n,y3,Ly.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=er.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=AV(o,b3,Ly.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Yae(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function jFe(e,t){var r=[],n=[],a=[],i=0,o,l=iV(y3,"n"),c=iV(b3,"n");if(e.Props)for(o=Rs(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Rs(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)rie.indexOf(a[i][0])>-1||Kae.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&er.utils.cfb_add(t,"/SummaryInformation",PV(n,Ly.SI,c,b3)),(r.length||u.length)&&er.utils.cfb_add(t,"/DocumentSummaryInformation",PV(r,Ly.DSI,l,y3,u.length?u:null,Ly.UDI))}function GF(e,t){t||(t={}),YF(t),uk(),t.codepage&&ck(t.codepage);var r,n;if(e.FullPaths){if(er.find(e,"/encryption"))throw new Error("File is password-protected");r=er.find(e,"!CompObj"),n=er.find(e,"/Workbook")||er.find(e,"/Book")}else{switch(t.type){case"base64":e=Wo(al(e));break;case"binary":e=Wo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ei(e,0),n={content:e}}var a,i;if(r&&vFe(r),t.bookProps&&!t.bookSheets)a={};else{var o=Ur?"buffer":"array";if(n&&n.content)a=wFe(n.content,t);else if((i=er.find(e,"PerfectOffice_MAIN"))&&i.content)a=bm.to_workbook(i.content,(t.type=o,t));else if((i=er.find(e,"NativeContent_MAIN"))&&i.content)a=bm.to_workbook(i.content,(t.type=o,t));else throw(i=er.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&er.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=FRe(e))}var l={};return e.FullPaths&&_Fe(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function NFe(e,t){var r=t||{},n=er.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return er.utils.cfb_add(n,a,Zie(e,r)),r.biff==8&&(e.Props||e.Custprops)&&jFe(e,n),r.biff==8&&e.vbaraw&&LRe(n,er.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Db={0:{f:YIe},1:{f:nMe},2:{f:_Me},3:{f:dMe},4:{f:oMe},5:{f:yMe},6:{f:CMe},7:{f:pMe},8:{f:RMe},9:{f:DMe},10:{f:PMe},11:{f:OMe},12:{f:aMe},13:{f:NMe},14:{f:hMe},15:{f:cMe},16:{f:zie},17:{f:TMe},18:{f:xMe},19:{f:TF},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:E5e},40:{},42:{},43:{f:CDe},44:{f:SDe},45:{f:ADe},46:{f:ODe},47:{f:PDe},48:{},49:{f:ZAe},50:{},51:{f:fRe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:hie},62:{f:kMe},63:{f:wRe},64:{f:XMe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:HMe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tMe},148:{f:ZIe,p:16},151:{f:BMe},152:{},153:{f:S5e},154:{},155:{},156:{f:j5e},157:{},158:{},159:{T:1,f:VOe},160:{T:-1},161:{T:1,f:pp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:IMe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:uRe},336:{T:-1},337:{f:pRe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:v3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fie},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:UMe},427:{f:VMe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:qMe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:eMe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:LMe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:v3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ORe},633:{T:1},634:{T:-1},635:{T:1,f:ARe},636:{T:-1},637:{f:rPe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:h5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:JMe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},k3={6:{f:oA},10:{f:Wd},12:{f:ta},13:{f:ta},14:{f:Ls},15:{f:Ls},16:{f:Ni},17:{f:Ls},18:{f:Ls},19:{f:ta},20:{f:FV},21:{f:FV},23:{f:fie},24:{f:$V},25:{f:Ls},26:{},27:{},28:{f:J4e},29:{},34:{f:Ls},35:{f:LV},38:{f:Ni},39:{f:Ni},40:{f:Ni},41:{f:Ni},42:{f:Ls},43:{f:Ls},47:{f:cDe},49:{f:N4e},51:{f:ta},60:{},61:{f:y4e},64:{f:Ls},65:{f:j4e},66:{f:ta},77:{},80:{},81:{},82:{},85:{f:ta},89:{},90:{},91:{},92:{f:l4e},93:{f:eOe},94:{},95:{f:Ls},96:{},97:{},99:{f:Ls},125:{f:hie},128:{f:$4e},129:{f:u4e},130:{f:ta},131:{f:Ls},132:{f:Ls},133:{f:d4e},134:{},140:{f:lOe},141:{f:ta},144:{},146:{f:dOe},151:{},152:{},153:{},154:{},155:{},156:{f:ta},157:{},158:{},160:{f:vOe},161:{f:mOe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:I4e},190:{f:M4e},193:{f:Wd},197:{},198:{},199:{},200:{},201:{},202:{f:Ls},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ta},220:{},221:{f:Ls},222:{},224:{f:L4e},225:{f:o4e},226:{f:Wd},227:{},229:{f:Z4e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:h4e},253:{f:k4e},255:{f:p4e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:nie},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ls},353:{f:Wd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:q4e},431:{f:Ls},432:{},433:{},434:{},437:{},438:{f:nOe},439:{f:Ls},440:{f:sOe},441:{},442:{f:Qw},443:{},444:{f:ta},445:{},446:{},448:{f:Wd},449:{f:v4e,r:2},450:{f:Wd},512:{f:RV},513:{f:xOe},515:{f:V4e},516:{f:E4e},517:{f:MV},519:{f:yOe},520:{f:g4e},523:{},545:{f:BV},549:{f:DV},566:{},574:{f:w4e},638:{f:R4e},659:{},1048:{},1054:{f:A4e},1084:{},1212:{f:K4e},2048:{f:iOe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:sj},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:fOe,r:12},2173:{f:lRe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ls,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:G4e,r:12},2197:{},2198:{f:rRe,r:12},2199:{},2200:{},2201:{},2202:{f:Y4e,r:12},2203:{f:Wd},2204:{},2205:{},2206:{},2207:{},2211:{f:x4e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ta},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:pOe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:uOe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:RV},1:{},2:{f:NOe},3:{f:_Oe},4:{f:wOe},5:{f:MV},7:{f:kOe},8:{},9:{f:sj},11:{},22:{f:ta},30:{f:O4e},31:{},32:{},33:{f:BV},36:{},37:{f:DV},50:{f:COe},62:{},52:{},67:{},68:{f:ta},69:{},86:{},126:{},127:{f:bOe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:EOe},223:{},234:{},354:{},421:{},518:{f:oA},521:{f:sj},536:{f:$V},547:{f:LV},561:{},579:{},1030:{f:oA},1033:{f:sj},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Et(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&kF(r)&&e.push(r)}}function SFe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Et(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function n1(e,t,r){return e||(e=rt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function kFe(e,t,r,n){var a=rt(9);return n1(a,e,t),sie(r,n||"b",a),a}function CFe(e,t,r){var n=rt(8+2*r.length);return n1(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function EFe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Pa(os(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Et(e,2,SOe(r,n,a)):Et(e,3,jOe(r,n,a));return;case"b":case"e":Et(e,5,kFe(r,n,t.v,t.t));return;case"s":case"str":Et(e,4,CFe(r,n,(t.v||"").slice(0,255)));return}Et(e,1,n1(null,r,n))}function TFe(e,t,r,n){var a=Array.isArray(t),i=Zr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Fr(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Ps(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=is(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&EFe(e,f,u,d)}}}function AFe(e,t){for(var r=t||{},n=_o(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Et(n,r.biff==4?1033:r.biff==3?521:9,MF(e,16,r)),TFe(n,e.Sheets[e.SheetNames[a]],a,r),Et(n,10),n.end()}function PFe(e,t,r){Et(e,49,S4e({sz:12,name:"Arial"},r))}function OFe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Et(e,1054,P4e(a,t[a],r))})}function DFe(e,t){var r=rt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Et(e,2151,r),r=rt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),cie(Zr(t["!ref"]||"A1"),r),r.write_shift(4,4),Et(e,2152,r)}function RFe(e,t){for(var r=0;r<16;++r)Et(e,224,IV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Et(e,224,IV(n,0,t))})}function IFe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Et(e,440,aOe(n)),n[1].Tooltip&&Et(e,2048,oOe(n))}delete t["!links"]}function MFe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Et(e,125,hOe(vk(a,n),a))})}}function FFe(e,t,r,n,a){var i=16+uh(a.cellXfs,t,a);if(t.v==null&&!t.bf){Et(e,513,Hm(r,n,i));return}if(t.bf)Et(e,6,uIe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Pa(os(t.v)):t.v;Et(e,515,z4e(r,n,o,i));break;case"b":case"e":Et(e,517,U4e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=qF(a.Strings,t.v,a.revStrings);Et(e,253,C4e(r,n,l,i))}else Et(e,516,T4e(r,n,(t.v||"").slice(0,255),i,a));break;default:Et(e,513,Hm(r,n,i))}}function LFe(e,t,r){var n=_o(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",m=[],p=Zr(i["!ref"]||"A1"),y=u?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}Et(n,2057,MF(r,16,t)),Et(n,13,Sl(1)),Et(n,12,Sl(100)),Et(n,15,zi(!0)),Et(n,17,zi(!1)),Et(n,16,qm(.001)),Et(n,95,zi(!0)),Et(n,42,zi(!1)),Et(n,43,zi(!1)),Et(n,130,Sl(1)),Et(n,128,B4e()),Et(n,131,zi(!1)),Et(n,132,zi(!1)),u&&MFe(n,i["!cols"]),Et(n,512,D4e(p,t)),u&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Ps(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(m[v]=is(v)),d=m[v]+f;var _=c?(i[g]||[])[v]:i[d];_&&(FFe(n,_,g,v,t),u&&_.l&&i["!links"].push([d,_.l]))}}var w=l.CodeName||l.name||a;return u&&Et(n,574,_4e((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Et(n,229,Q4e(i["!merges"])),u&&IFe(n,i),Et(n,442,aie(w)),u&&DFe(n,i),Et(n,10),n.end()}function $Fe(e,t,r){var n=_o(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Et(n,2057,MF(e,5,r)),r.bookType=="xla"&&Et(n,135),Et(n,225,l?Sl(1200):null),Et(n,193,UPe(2)),c&&Et(n,191),c&&Et(n,192),Et(n,226),Et(n,92,c4e("SheetJS",r)),Et(n,66,Sl(l?1200:1252)),l&&Et(n,353,Sl(0)),l&&Et(n,448),Et(n,317,gOe(e.SheetNames.length)),l&&e.vbaraw&&Et(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Et(n,442,aie(u))}Et(n,156,Sl(17)),Et(n,25,zi(!1)),Et(n,18,zi(!1)),Et(n,19,Sl(0)),l&&Et(n,431,zi(!1)),l&&Et(n,444,Sl(0)),Et(n,61,b4e()),Et(n,64,zi(!1)),Et(n,141,Sl(0)),Et(n,34,zi(v5e(e)=="true")),Et(n,14,zi(!0)),l&&Et(n,439,zi(!1)),Et(n,218,Sl(0)),PFe(n,e,r),OFe(n,e.SSF,r),RFe(n,r),l&&Et(n,352,zi(!1));var d=n.end(),f=_o();l&&Et(f,140,cOe()),l&&r.Strings&&SFe(f,252,m4e(r.Strings)),Et(f,10);var m=f.end(),p=_o(),y=0,g=0;for(g=0;g<e.SheetNames.length;++g)y+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var v=d.length+y+m.length;for(g=0;g<e.SheetNames.length;++g){var _=i[g]||{};Et(p,133,f4e({pos:v,hs:_.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var w=p.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var j=[];return d.length&&j.push(d),w.length&&j.push(w),m.length&&j.push(m),za(j)}function BFe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Hn(hr)),e&&e.SSF&&(jx(),Xw(e.SSF),r.revssf=fk(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,XF(r),r.cellXfs=[],uh(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=LFe(a,r,e);return n.unshift($Fe(e,n,r)),za(n)}function Zie(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ji(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return BFe(e,t);case 4:case 3:case 2:return AFe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function XV(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=SAe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var _=g.split(/<\/t[dh]>/i);for(l=0;l<_.length;++l){var w=_[l].trim();if(w.match(/<t[dh]/i)){for(var j=w,C=0;j.charAt(0)=="<"&&(C=j.indexOf(">"))>-1;)j=j.slice(C+1);for(var S=0;S<y.length;++S){var k=y[S];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,S=-1)}var E=Sr(w.slice(0,w.indexOf(">")));m=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||m>1)&&y.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var R=E.t||E["data-t"]||"";if(!j.length){d+=m;continue}if(j=kae(j),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!j.length){d+=m;continue}var P={t:"s",v:j};r.raw||!j.trim().length||R=="s"||(j==="TRUE"?P={t:"b",v:!0}:j==="FALSE"?P={t:"b",v:!1}:isNaN(vc(j))?isNaN(C0(j).getDate())||(P={t:"d",v:os(j)},r.cellDates||(P={t:"n",v:Pa(P.v)}),P.z=r.dateNF||hr[14]):P={t:"n",v:vc(j)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=P):n[wr({r:u,c:d})]=P,d+=m}}}}return n["!ref"]=Fr(p),y.length&&(n["!merges"]=y),n}function Qie(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=wr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||yF(f.w||(du(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(Ct("td",m,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var eoe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',toe="</body></html>";function UFe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return ch(XV(r[0],t),t);var n=t6();return r.forEach(function(a,i){r6(n,XV(a,t),"Sheet"+(i+1))}),n}function roe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function noe(e,t){var r=t||{},n=r.header!=null?r.header:eoe,a=r.footer!=null?r.footer:toe,i=[n],o=Ji(e["!ref"]);r.dense=Array.isArray(e),i.push(roe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Qie(e,o,l,r));return i.push("</table>"+a),i.join("")}function soe(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?_s(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Ji(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,p=e["!rows"]||(e["!rows"]=[]),y=0,g=0,v=0,_=0,w=0,j=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&g<c;++y){var C=l[y];if(JV(C)){if(n.display)continue;p[g]={hidden:!0}}var S=C.children;for(v=_=0;v<S.length;++v){var k=S[v];if(!(n.display&&JV(k))){var E=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):kae(k.innerHTML),R=k.getAttribute("data-z")||k.getAttribute("z");for(m=0;m<f.length;++m){var P=f[m];P.s.c==_+i&&P.s.r<g+a&&g+a<=P.e.r&&(_=P.e.c+1-i,m=-1)}j=+k.getAttribute("colspan")||1,((w=+k.getAttribute("rowspan")||1)>1||j>1)&&f.push({s:{r:g+a,c:_+i},e:{r:g+a+(w||1)-1,c:_+i+(j||1)-1}});var T={t:"s",v:E},O=k.getAttribute("data-t")||k.getAttribute("t")||"";E!=null&&(E.length==0?T.t=O||"z":n.raw||E.trim().length==0||O=="s"||(E==="TRUE"?T={t:"b",v:!0}:E==="FALSE"?T={t:"b",v:!1}:isNaN(vc(E))?isNaN(C0(E).getDate())||(T={t:"d",v:os(E)},n.cellDates||(T={t:"n",v:Pa(T.v)}),T.z=n.dateNF||hr[14]):T={t:"n",v:vc(E)})),T.z===void 0&&R!=null&&(T.z=R);var D="",I=k.getElementsByTagName("A");if(I&&I.length)for(var L=0;L<I.length&&!(I[L].hasAttribute("href")&&(D=I[L].getAttribute("href"),D.charAt(0)!="#"));++L);D&&D.charAt(0)!="#"&&(T.l={Target:D}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][_+i]=T):e[wr({c:_+i,r:g+a})]=T,u.e.c<_+i&&(u.e.c=_+i),_+=j}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Fr(u),g>=c&&(e["!fullref"]=Fr((u.e.r=l.length-y+g-1+a,u))),e}function aoe(e,t){var r=t||{},n=r.dense?[]:{};return soe(n,e,t)}function VFe(e,t){return ch(aoe(e,t),t)}function JV(e){var t="",r=zFe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function zFe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function qFe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=fn(t.replace(/<[^>]*>/g,""));return[r]}var ZV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function ioe(e,t){var r=t||{},n=bF(e),a=[],i,o,l={name:""},c="",u=0,d,f,m={},p=[],y=r.dense?[]:{},g,v,_={value:""},w="",j=0,C=[],S=-1,k=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,P={},T=[],O={},D=0,I=0,L=[],W=1,q=1,G=[],K={Names:[]},U={},F=["",""],B=[],V={},Z="",X=0,Q=!1,ce=!1,de=0;for(Cb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Cb.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?y["!ref"]=Fr(E):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(y["!fullref"]=y["!ref"],E.e.r=r.sheetRows-1,y["!ref"]=Fr(E)),T.length&&(y["!merges"]=T),L.length&&(y["!rows"]=L),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=y,ce=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Sr(g[0],!1),S=k=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,y=r.dense?[]:{},T=[],L=[],ce=!0);break;case"table-row-group":g[1]==="/"?--R:++R;break;case"table-row":case"":if(g[1]==="/"){S+=W,W=1;break}if(f=Sr(g[0],!1),f.?S=f.-1:S==-1&&(S=0),W=+f["number-rows-repeated"]||1,W<10)for(de=0;de<W;++de)R>0&&(L[S+de]={level:R});k=-1;break;case"covered-table-cell":g[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(y[S]||(y[S]=[]),y[S][k]={t:"z"}):y[wr({r:S,c:k})]={t:"z"}),w="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++k,_=Sr(g[0],!1),q=parseInt(_["number-columns-repeated"]||"1",10),v={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(v.f=GV(fn(_.formula))),(_.||_["value-type"])=="string"&&(v.t="s",v.v=fn(_["string-value"]||""),r.dense?(y[S]||(y[S]=[]),y[S][k]=v):y[wr({r:S,c:k})]=v),k+=q-1;else if(g[1]!=="/"){++k,w="",j=0,C=[],q=1;var pe=W?S+W-1:S;if(k>E.e.c&&(E.e.c=k),k<E.s.c&&(E.s.c=k),S<E.s.r&&(E.s.r=S),pe>E.e.r&&(E.e.r=pe),_=Sr(g[0],!1),B=[],V={},v={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=fn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(D=parseInt(_["number-matrix-rows-spanned"],10)||0,I=parseInt(_["number-matrix-columns-spanned"],10)||0,O={s:{r:S,c:k},e:{r:S+D-1,c:k+I-1}},v.F=Fr(O),G.push([O,v.F])),_.formula)v.f=GV(_.formula);else for(de=0;de<G.length;++de)S>=G[de][0].s.r&&S<=G[de][0].e.r&&k>=G[de][0].s.c&&k<=G[de][0].e.c&&(v.F=G[de][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(D=parseInt(_["number-rows-spanned"],10)||0,I=parseInt(_["number-columns-spanned"],10)||0,O={s:{r:S,c:k},e:{r:S+D-1,c:k+I-1}},T.push(O)),_["number-columns-repeated"]&&(q=parseInt(_["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=as(_["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(_.value);break;case"percentage":v.t="n",v.v=parseFloat(_.value);break;case"currency":v.t="n",v.v=parseFloat(_.value);break;case"date":v.t="d",v.v=os(_["date-value"]),r.cellDates||(v.t="n",v.v=Pa(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=_Ae(_["time-value"])/86400,r.cellDates&&(v.t="d",v.v=hk(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(_.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",_["string-value"]!=null&&(w=fn(_["string-value"]),C=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Q=!1,v.t==="s"&&(v.v=w||"",C.length&&(v.R=C),Q=j==0),U.Target&&(v.l=U),B.length>0&&(v.c=B,B=[]),w&&r.cellText!==!1&&(v.w=w),Q&&(v.t="z",delete v.v),(!Q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var re=0;re<W;++re){if(q=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(y[S+re]||(y[S+re]=[]),y[S+re][k]=re==0?v:Hn(v);--q>0;)y[S+re][k+q]=Hn(v);else for(y[wr({r:S+re,c:k})]=v;--q>0;)y[wr({r:S+re,c:k+q})]=Hn(v);E.e.c<=k&&(E.e.c=k)}q=parseInt(_["number-columns-repeated"]||"1",10),k+=q-1,q=0,v={},w="",C=[]}U={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;V.t=w,C.length&&(V.R=C),V.a=Z,B.push(V)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);Z="",X=0,w="",j=0,C=[];break;case"creator":g[1]==="/"?Z=n.slice(X,g.index):X=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);w="",j=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(P[l.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=Sr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Sr(g[0],!1),c+=ZV[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Sr(g[0],!1),c+=ZV[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=Sr(g[0],!1),F=lA(o["cell-range-address"]);var ie={Name:o.name,Ref:F[0]+"!"+F[1]};ce&&(ie.Sheet=p.length),K.Names.push(ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var J=qFe(n.slice(j,g.index));w=(w.length>0?w+`
`:"")+J[0]}else Sr(g[0],!1),j=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{F=lA(Sr(g[0])["target-range-address"]),m[F[0]]["!autofilter"]={ref:F[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(U=Sr(g[0],!1),!U.href)break;U.Target=fn(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(F=lA(U.Target.slice(1)),U.Target="#"+F[0]+"!"+F[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var z={Sheets:m,SheetNames:p,Workbook:K};return r.bookSheets&&delete z.Sheets,z}function QV(e,t){t=t||{},Nl(e,"META-INF/manifest.xml")&&_Pe(ea(e,"META-INF/manifest.xml"),t);var r=Ho(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=ioe(Ln(r),t);return Nl(e,"meta.xml")&&(n.Props=Hae(ea(e,"meta.xml"))),n}function ez(e,t){return ioe(e,t)}var WFe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+kb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Xs+t}})(),tz=(function(){var e=function(i){return In(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+In(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Ji(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var _=!1,w={},j="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(_=!0),w["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,w["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(_){c.push(r);continue}var C=wr({r:u,c:d}),S=y?(i[u]||[])[d]:i[C];if(S&&S.f&&(w["table:formula"]=In(gIe(S.f)),S.F&&S.F.slice(0,C.length)==C)){var k=Ji(S.F);w["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,w["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":j=S.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=S.v?"true":"false";break;case"n":j=S.w||String(S.v||0),w["office:value-type"]="float",w["office:value"]=S.v||0;break;case"s":case"str":j=S.v==null?"":S.v,w["office:value-type"]="string";break;case"d":j=S.w||os(S.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=os(S.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var E=e(j);if(S.l&&S.l.Target){var R=S.l.Target;R=R.charAt(0)=="#"?"#"+xIe(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),E=Ct("text:a",E,{"xlink:href":R.replace(/&/g,"&amp;")})}c.push("          "+Ct("table:table-cell",Ct("text:p",E,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Hf(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Xs],u=kb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=kb({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(Wae().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function ooe(e,t){if(t.bookType=="fods")return tz(e,t);var r=gF(),n="",a=[],i=[];return n="mimetype",$r(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$r(r,n,tz(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",$r(r,n,WFe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",$r(r,n,Xs+Wae()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",$r(r,n,SPe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$r(r,n,jPe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function C3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ln(lh(e))}function HFe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Wo(Yc(e))}function GFe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Kf(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function rz(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function KFe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function YFe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Rb(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Pn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Os(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function xn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Rb(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Rb(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Ja(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Pn(n*8+a.type)),a.type==2&&t.push(Pn(a.data.length)),t.push(a.data))})}),Kf(t)}function KF(e,t){return e?.map(function(r){return t(r.data)})||[]}function yl(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Rb(e,n),i=xn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Os(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=xn(l.data),u=Os(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Os(i[3][0].data)>>>0>0),r.push(o)}return r}function ug(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Pn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Pn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Pn(o.data.length)}],n[2].push({data:Ja(o.meta),type:2})});var i=Ja(n);t.push(Pn(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Kf(t)}function XFe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Rb(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Kf(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Kf(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function bl(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(XFe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Kf(t)}function dg(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Pn(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Kf(t)}function JFe(e,t,r,n){var a=Gm(e),i=a.getUint32(4,!0),o=(n>1?12:8)+rz(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=rz(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function ZFe(e,t,r){var n=Gm(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=KFe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function uA(e,t){var r=new Uint8Array(32),n=Gm(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,YFe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function dA(e,t){var r=new Uint8Array(32),n=Gm(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function QFe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return JFe(e,t,r,e[0]);case 5:return ZFe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function vi(e){var t=xn(e);return Rb(t[1][0].data)}function nz(e,t){var r=xn(t.data),n=Os(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=xn(o.data),c=Os(l[1][0].data)>>>0;switch(n){case 1:i[c]=C3(l[3][0].data);break;case 8:{var u=e[vi(l[9][0].data)][0],d=xn(u.data),f=e[vi(d[1][0].data)][0],m=Os(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=xn(f.data);i[c]=p[3].map(function(y){return C3(y.data)}).join("")}break}}),i}function e6e(e,t){var r,n,a,i,o,l,c,u,d,f,m,p,y,g,v=xn(e),_=Os(v[1][0].data)>>>0,w=Os(v[2][0].data)>>>0,j=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Os(v[8][0].data)>0||!1,C,S;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)C=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)C=(p=(m=v[4])==null?void 0:m[0])==null?void 0:p.data,S=(g=(y=v[3])==null?void 0:y[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=j?4:1,E=Gm(C),R=[],P=0;P<C.length/2;++P){var T=E.getUint16(P*2,!0);T<65535&&R.push([P,T])}if(R.length!=w)throw"Expected ".concat(w," cells, found ").concat(R.length);var O=[];for(P=0;P<R.length-1;++P)O[R[P][0]]=S.subarray(R[P][1]*k,R[P+1][1]*k);return R.length>=1&&(O[R[R.length-1][0]]=S.subarray(R[R.length-1][1]*k)),{R:_,cells:O}}function t6e(e,t){var r,n=xn(t.data),a=(r=n?.[7])!=null&&r[0]?Os(n[7][0].data)>>>0>0?1:0:-1,i=KF(n[5],function(o){return e6e(o,a)});return{nrows:Os(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function r6e(e,t,r){var n,a=xn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Os(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Os(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Fr(i);var o=xn(a[4][0].data),l=nz(e,e[vi(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?nz(e,e[vi(o[17][0].data)][0]):[],u=xn(o[3][0].data),d=0;u[1].forEach(function(f){var m=xn(f.data),p=e[vi(m[2][0].data)][0],y=Os(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var g=t6e(e,p);g.data.forEach(function(v,_){v.forEach(function(w,j){var C=wr({r:d+_,c:j}),S=QFe(w,l,c);S&&(r[C]=S)})}),d+=g.nrows})}function n6e(e,t){var r=xn(t.data),n={"!ref":"A1"},a=e[vi(r[2][0].data)],i=Os(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return r6e(e,a[0],n),n}function s6e(e,t){var r,n=xn(t.data),a={name:(r=n[1])!=null&&r[0]?C3(n[1][0].data):"",sheets:[]},i=KF(n[2],vi);return i.forEach(function(o){e[o].forEach(function(l){var c=Os(l.meta[1][0].data);c==6e3&&a.sheets.push(n6e(e,l))})}),a}function a6e(e,t){var r=t6(),n=xn(t.data),a=KF(n[1],vi);if(a.forEach(function(i){e[i].forEach(function(o){var l=Os(o.meta[1][0].data);if(l==2){var c=s6e(e,o);c.sheets.forEach(function(u,d){r6(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function fA(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=bl(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=yl(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Os(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Os(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return a6e(i,l)}function i6e(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Os(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Gm(e[7][0].data),d=0,f=[],m=Gm(e[4][0].data),p=0,y=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,p,!0);var v,_;switch(typeof t[g]){case"string":v=uA({t:"s",v:t[g]},r),_=dA({t:"s",v:t[g]},r);break;case"number":v=uA({t:"n",v:t[g]},r),_=dA({t:"n",v:t[g]},r);break;case"boolean":v=uA({t:"b",v:t[g]},r),_=dA({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(v),d+=v.length,y.push(_),p+=_.length,++c}for(e[2][0].data=Pn(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=Kf(f),e[3][0].data=Kf(y),c}function o6e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ji(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Fr(n)));var i=rS(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(Z){return Z.forEach(function(X){typeof X=="string"&&o.push(X)})});var l={},c=[],u=er.read(t.numbers,{type:"base64"});u.FileIndex.map(function(Z,X){return[Z,u.FullPaths[X]]}).forEach(function(Z){var X=Z[0],Q=Z[1];if(X.type==2&&X.name.match(/\.iwa/)){var ce=X.content,de=bl(ce),pe=yl(de);pe.forEach(function(re){c.push(re.id),l[re.id]={deps:[],location:Q,type:Os(re.messages[0].meta[1][0].data)}})}}),c.sort(function(Z,X){return Z-X});var d=c.filter(function(Z){return Z>1}).map(function(Z){return[Z,Pn(Z)]});u.FileIndex.map(function(Z,X){return[Z,u.FullPaths[X]]}).forEach(function(Z){var X=Z[0];if(Z[1],!!X.name.match(/\.iwa/)){var Q=yl(bl(X.content));Q.forEach(function(ce){ce.messages.forEach(function(de){d.forEach(function(pe){ce.messages.some(function(re){return Os(re.meta[1][0].data)!=11006&&GFe(re.data,pe[1])})&&l[pe[0]].deps.push(ce.id)})})})}});for(var f=er.find(u,l[1].location),m=yl(bl(f.content)),p,y=0;y<m.length;++y){var g=m[y];g.id==1&&(p=g)}var v=vi(xn(p.messages[0].data)[1][0].data);for(f=er.find(u,l[v].location),m=yl(bl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=vi(xn(p.messages[0].data)[2][0].data),f=er.find(u,l[v].location),m=yl(bl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=vi(xn(p.messages[0].data)[2][0].data),f=er.find(u,l[v].location),m=yl(bl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);var _=xn(p.messages[0].data);{_[6][0].data=Pn(n.e.r+1),_[7][0].data=Pn(n.e.c+1);var w=vi(_[46][0].data),j=er.find(u,l[w].location),C=yl(bl(j.content));{for(var S=0;S<C.length&&C[S].id!=w;++S);if(C[S].id!=w)throw"Bad ColumnRowUIDMapArchive";var k=xn(C[S].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var E=0;E<=n.e.c;++E){var R=[];R[1]=R[2]=[{type:0,data:Pn(E+420690)}],k[1].push({type:2,data:Ja(R)}),k[2].push({type:0,data:Pn(E)}),k[3].push({type:0,data:Pn(E)})}k[4]=[],k[5]=[],k[6]=[];for(var P=0;P<=n.e.r;++P)R=[],R[1]=R[2]=[{type:0,data:Pn(P+726270)}],k[4].push({type:2,data:Ja(R)}),k[5].push({type:0,data:Pn(P)}),k[6].push({type:0,data:Pn(P)});C[S].messages[0].data=Ja(k)}j.content=dg(ug(C)),j.size=j.content.length,delete _[46];var T=xn(_[4][0].data);{T[7][0].data=Pn(n.e.r+1);var O=xn(T[1][0].data),D=vi(O[2][0].data);j=er.find(u,l[D].location),C=yl(bl(j.content));{if(C[0].id!=D)throw"Bad HeaderStorageBucket";var I=xn(C[0].messages[0].data);for(P=0;P<i.length;++P){var L=xn(I[2][0].data);L[1][0].data=Pn(P),L[4][0].data=Pn(i[P].length),I[2][P]={type:I[2][0].type,data:Ja(L)}}C[0].messages[0].data=Ja(I)}j.content=dg(ug(C)),j.size=j.content.length;var W=vi(T[2][0].data);j=er.find(u,l[W].location),C=yl(bl(j.content));{if(C[0].id!=W)throw"Bad HeaderStorageBucket";for(I=xn(C[0].messages[0].data),E=0;E<=n.e.c;++E)L=xn(I[2][0].data),L[1][0].data=Pn(E),L[4][0].data=Pn(n.e.r+1),I[2][E]={type:I[2][0].type,data:Ja(L)};C[0].messages[0].data=Ja(I)}j.content=dg(ug(C)),j.size=j.content.length;var q=vi(T[4][0].data);(function(){for(var Z=er.find(u,l[q].location),X=yl(bl(Z.content)),Q,ce=0;ce<X.length;++ce){var de=X[ce];de.id==q&&(Q=de)}var pe=xn(Q.messages[0].data);{pe[3]=[];var re=[];o.forEach(function(z,Se){re[1]=[{type:0,data:Pn(Se)}],re[2]=[{type:0,data:Pn(1)}],re[3]=[{type:2,data:HFe(z)}],pe[3].push({type:2,data:Ja(re)})})}Q.messages[0].data=Ja(pe);var ie=ug(X),J=dg(ie);Z.content=J,Z.size=Z.content.length})();var G=xn(T[3][0].data);{var K=G[1][0];delete G[2];var U=xn(K.data);{var F=vi(U[2][0].data);(function(){for(var Z=er.find(u,l[F].location),X=yl(bl(Z.content)),Q,ce=0;ce<X.length;++ce){var de=X[ce];de.id==F&&(Q=de)}var pe=xn(Q.messages[0].data);{delete pe[6],delete G[7];var re=new Uint8Array(pe[5][0].data);pe[5]=[];for(var ie=0,J=0;J<=n.e.r;++J){var z=xn(re);ie+=i6e(z,i[J],o),z[1][0].data=Pn(J),pe[5].push({data:Ja(z),type:2})}pe[1]=[{type:0,data:Pn(n.e.c+1)}],pe[2]=[{type:0,data:Pn(n.e.r+1)}],pe[3]=[{type:0,data:Pn(ie)}],pe[4]=[{type:0,data:Pn(n.e.r+1)}]}Q.messages[0].data=Ja(pe);var Se=ug(X),te=dg(Se);Z.content=te,Z.size=Z.content.length})()}K.data=Ja(U)}T[3][0].data=Ja(G)}_[4][0].data=Ja(T)}p.messages[0].data=Ja(_);var B=ug(m),V=dg(B);return f.content=V,f.size=f.content.length,u}function loe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function YF(e){loe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function XF(e){loe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function l6e(e){return Hr.WS.indexOf(e)>-1?"sheet":e==Hr.CS?"chart":e==Hr.DS?"dialog":e==Hr.MS?"macro":e&&e.length?e:"sheet"}function c6e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,l6e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function u6e(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=Ry(Ho(e,r,!0),t);var m=ea(e,t),p;switch(l){case"sheet":p=M5e(m,t,a,c,i[n],u,d,f);break;case"chart":if(p=F5e(m,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var y=sy(p["!drawel"].Target,t),g=Eb(y),v=NRe(Ho(e,y,!0),Ry(Ho(e,g,!0),y)),_=sy(v,y),w=Eb(_);p=d5e(Ho(e,_,!0),_,c,Ry(Ho(e,w,!0),_),u,p);break;case"macro":p=L5e(m,t,a,c,i[n],u,d,f);break;case"dialog":p=$5e(m,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var j=[];i&&i[n]&&Rs(i[n]).forEach(function(C){var S="";if(i[n][C].Type==Hr.CMNT){S=sy(i[n][C].Target,t);var k=z5e(ea(e,S,!0),S,c);if(!k||!k.length)return;VV(p,k,!1)}i[n][C].Type==Hr.TCMNT&&(S=sy(i[n][C].Target,t),j=j.concat(kRe(ea(e,S,!0),c)))}),j&&j.length&&VV(p,j,!0,c.people||[])}catch(C){if(c.WTF)throw C}}function hl(e){return e.charAt(0)=="/"?e.slice(1):e}function coe(e,t){if(jx(),t=t||{},YF(t),Nl(e,"META-INF/manifest.xml")||Nl(e,"objectdata.xml"))return QV(e,t);if(Nl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof fA<"u"){if(e.FileIndex)return fA(e);var r=er.utils.cfb_new();return cV(e).forEach(function(L){$r(r,L,CAe(e,L))}),fA(r)}throw new Error("Unsupported NUMBERS file")}if(!Nl(e,"[Content_Types].xml"))throw Nl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Nl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=cV(e),a=bPe(Ho(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",ea(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!ea(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Iy=[],a.sst)try{Iy=V5e(ea(e,hl(a.sst)),a.sst,t)}catch(L){if(t.WTF)throw L}t.cellStyles&&a.themes.length&&(c=U5e(Ho(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=B5e(ea(e,hl(a.style)),a.style,c,t))}a.links.map(function(L){try{var W=Ry(Ho(e,Eb(hl(L))),L);return W5e(ea(e,hl(L)),W,L,t)}catch{}});var d=I5e(ea(e,hl(a.workbooks[0])),a.workbooks[0],t),f={},m="";a.coreprops.length&&(m=ea(e,hl(a.coreprops[0]),!0),m&&(f=Hae(m)),a.extprops.length!==0&&(m=ea(e,hl(a.extprops[0]),!0),m&&CPe(m,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=Ho(e,hl(a.custprops[0]),!0),m&&(p=TPe(m,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(W){return W.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var g={};t.bookDeps&&a.calcchain&&(g=q5e(ea(e,hl(a.calcchain)),a.calcchain));var v=0,_={},w,j;{var C=d.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var S=0;S!=C.length;++S)f.SheetNames[S]=C[S].name}var k=i?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),R=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Nl(e,R)||(R="xl/_rels/workbook."+k+".rels");var P=Ry(Ho(e,R,!0),R.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=H5e(ea(e,hl(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=ERe(ea(e,hl(a.people[0])),t)),P&&(P=c6e(P,d.Sheets));var T=ea(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var O="sheet";if(P&&P[v]?(w="xl/"+P[v][1].replace(/[\/]?xl\//,""),Nl(e,w)||(w=P[v][1]),Nl(e,w)||(w=R.replace(/_rels\/.*$/,"")+P[v][1]),O=P[v][2]):(w="xl/worksheets/sheet"+(v+1-T)+"."+k,w=w.replace(/sheet0\./,"sheet.")),j=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var D=!1,I=0;I!=t.sheets.length;++I)typeof t.sheets[I]=="number"&&t.sheets[I]==v&&(D=1),typeof t.sheets[I]=="string"&&t.sheets[I].toLowerCase()==f.SheetNames[v].toLowerCase()&&(D=1);if(!D)continue e}}u6e(e,w,j,f.SheetNames[v],v,_,o,O,t,d,c,u)}return y={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:Iy,Styles:u,Themes:c,SSF:Hn(hr)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(L,W){L=L.replace(/^Root Entry[\/]/,""),y.keys.push(L),y.files[L]=e.FileIndex[W]}))),t&&t.bookVBA&&(a.vba.length>0?y.vbaraw=ea(e,hl(a.vba[0]),!0):a.defaults&&a.defaults.bin===MRe&&(y.vbaraw=ea(e,"xl/vbaProject.bin",!0))),y}function d6e(e,t){var r=t||{},n="Workbook",a=er.find(e,n);try{if(n="/!DataSpaces/Version",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(GOe(a.content),n="/!DataSpaces/DataSpaceMap",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=YOe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=XOe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);ZOe(a.content)}catch{}if(n="/EncryptionInfo",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=QOe(a.content);if(n="/EncryptedPackage",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function f6e(e,t){return t.bookType=="ods"?ooe(e,t):t.bookType=="numbers"?o6e(e,t):t.bookType=="xlsb"?h6e(e,t):uoe(e,t)}function h6e(e,t){Pg=1024,e&&!e.SSF&&(e.SSF=Hn(hr)),e&&e.SSF&&(jx(),Xw(e.SSF),t.revssf=fk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,My?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Pie.indexOf(t.bookType)>-1,a=RF();XF(t=t||{});var i=gF(),o="",l=0;if(t.cellXfs=[],uh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$r(i,o,Gae(e.Props,t)),a.coreprops.push(o),Dn(t.rels,2,o,Hr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,$r(i,o,Xae(e.Props)),a.extprops.push(o),Dn(t.rels,3,o,Hr.EXT_PROPS),e.Custprops!==e.Props&&Rs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$r(i,o,Jae(e.Custprops)),a.custprops.push(o),Dn(t.rels,4,o,Hr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,$r(i,o,K5e(l-1,o,t,e,d)),a.sheets.push(o),Dn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Hr.WS[0])}if(f){var p=f["!comments"],y=!1,g="";p&&p.length>0&&(g="xl/comments"+l+"."+r,$r(i,g,J5e(p,g)),a.comments.push(g),Dn(d,-1,"../comments"+l+"."+r,Hr.CMNT),y=!0),f["!legacy"]&&y&&$r(i,"xl/drawings/vmlDrawing"+l+".vml",Tie(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&$r(i,Eb(o),n0(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,$r(i,o,X5e(t.Strings,o,t)),a.strs.push(o),Dn(t.wbrels,-1,"sharedStrings."+r,Hr.SST)),o="xl/workbook."+r,$r(i,o,G5e(e,o)),a.workbooks.push(o),Dn(t.rels,1,o,Hr.WB),o="xl/theme/theme1.xml",$r(i,o,BF(e.Themes,t)),a.themes.push(o),Dn(t.wbrels,-1,"theme/theme1.xml",Hr.THEME),o="xl/styles."+r,$r(i,o,Y5e(e,o,t)),a.styles.push(o),Dn(t.wbrels,-1,"styles."+r,Hr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",$r(i,o,e.vbaraw),a.vba.push(o),Dn(t.wbrels,-1,"vbaProject.bin",Hr.VBA)),o="xl/metadata."+r,$r(i,o,Z5e(o)),a.metadata.push(o),Dn(t.wbrels,-1,"metadata."+r,Hr.XLMETA),$r(i,"[Content_Types].xml",qae(a,t)),$r(i,"_rels/.rels",n0(t.rels)),$r(i,"xl/_rels/workbook."+r+".rels",n0(t.wbrels)),delete t.revssf,delete t.ssf,i}function uoe(e,t){Pg=1024,e&&!e.SSF&&(e.SSF=Hn(hr)),e&&e.SSF&&(jx(),Xw(e.SSF),t.revssf=fk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,My?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Pie.indexOf(t.bookType)>-1,a=RF();XF(t=t||{});var i=gF(),o="",l=0;if(t.cellXfs=[],uh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$r(i,o,Gae(e.Props,t)),a.coreprops.push(o),Dn(t.rels,2,o,Hr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,$r(i,o,Xae(e.Props)),a.extprops.push(o),Dn(t.rels,3,o,Hr.EXT_PROPS),e.Custprops!==e.Props&&Rs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$r(i,o,Jae(e.Custprops)),a.custprops.push(o),Dn(t.rels,4,o,Hr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,$r(i,o,Vie(l-1,t,e,f)),a.sheets.push(o),Dn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Hr.WS[0])}if(m){var y=m["!comments"],g=!1,v="";if(y&&y.length>0){var _=!1;y.forEach(function(w){w[1].forEach(function(j){j.T==!0&&(_=!0)})}),_&&(v="xl/threadedComments/threadedComment"+l+"."+r,$r(i,v,CRe(y,d,t)),a.threadedcomments.push(v),Dn(f,-1,"../threadedComments/threadedComment"+l+"."+r,Hr.TCMNT)),v="xl/comments"+l+"."+r,$r(i,v,Aie(y)),a.comments.push(v),Dn(f,-1,"../comments"+l+"."+r,Hr.CMNT),g=!0}m["!legacy"]&&g&&$r(i,"xl/drawings/vmlDrawing"+l+".vml",Tie(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&$r(i,Eb(o),n0(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,$r(i,o,xie(t.Strings,t)),a.strs.push(o),Dn(t.wbrels,-1,"sharedStrings."+r,Hr.SST)),o="xl/workbook."+r,$r(i,o,Kie(e)),a.workbooks.push(o),Dn(t.rels,1,o,Hr.WB),o="xl/theme/theme1.xml",$r(i,o,BF(e.Themes,t)),a.themes.push(o),Dn(t.wbrels,-1,"theme/theme1.xml",Hr.THEME),o="xl/styles."+r,$r(i,o,Sie(e,t)),a.styles.push(o),Dn(t.wbrels,-1,"styles."+r,Hr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",$r(i,o,e.vbaraw),a.vba.push(o),Dn(t.wbrels,-1,"vbaProject.bin",Hr.VBA)),o="xl/metadata."+r,$r(i,o,Eie()),a.metadata.push(o),Dn(t.wbrels,-1,"metadata."+r,Hr.XLMETA),d.length>1&&(o="xl/persons/person.xml",$r(i,o,TRe(d)),a.people.push(o),Dn(t.wbrels,-1,"persons/person.xml",Hr.PEOPLE)),$r(i,"[Content_Types].xml",qae(a,t)),$r(i,"_rels/.rels",n0(t.rels)),$r(i,"xl/_rels/workbook."+r+".rels",n0(t.wbrels)),delete t.revssf,delete t.ssf,i}function JF(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=al(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function m6e(e,t){return er.find(e,"EncryptedPackage")?d6e(e,t):GF(e,t)}function p6e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ur&&Buffer.isBuffer(e)?"buffer":"base64"),r=jae(n,a),coe(r,a)}function doe(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return S3(e.slice(r),t);default:break e}return E0.to_workbook(e,t)}function g6e(e,t){var r="",n=JF(e,t);switch(t.type){case"base64":r=al(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=zm(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Ln(r)),t.type="binary",doe(r,t)}function x6e(e,t){var r=e;return t.type=="base64"&&(r=al(r)),r=nn.utils.decode(1200,r.slice(2),"str"),t.type="binary",doe(r,t)}function v6e(e){return e.match(/[^\x00-\x7F]/)?Yc(e):e}function hA(e,t,r,n){return n?(r.type="string",E0.to_workbook(e,r)):E0.to_workbook(t,r)}function tS(e,t){uk();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return tS(new Uint8Array(e),(r=Hn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),a0={},r.dateNF&&(a0.dateNF=r.dateNF),r.type||(r.type=Ur&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ur?"buffer":"binary",n=yAe(e),typeof Uint8Array<"u"&&!Ur&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=v6e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Hn(r),r.type="array",tS(fF(n),r)}switch((a=JF(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return m6e(er.read(n,r),r);break;case 9:if(a[1]<=8)return GF(n,r);break;case 60:return S3(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return AOe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return pie.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?p6e(n,r):hA(e,n,r,i);case 239:return a[3]===60?S3(n,r):hA(e,n,r,i);case 255:if(a[1]===254)return x6e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return bm.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return bm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return N3.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return _ie.to_workbook(n,r);break;case 10:case 13:case 32:return g6e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return TOe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?N3.to_workbook(n,r):hA(e,n,r,i)}function sz(e,t){var r=t||{};return r.type="file",tS(e,r)}function foe(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Jw(t.file,er.write(e,{type:Ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return er.write(e,t)}function y6e(e,t){var r=Hn(t||{}),n=f6e(e,r);return hoe(n,r)}function b6e(e,t){var r=Hn(t||{}),n=uoe(e,r);return hoe(n,r)}function hoe(e,t){var r={},n=Ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?er.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Yw(a))}return t.password&&typeof encrypt_agile<"u"?foe(encrypt_agile(a,t.password),t):t.type==="file"?Jw(t.file,a):t.type=="string"?Ln(a):a}function w6e(e,t){var r=t||{},n=NFe(e,r);return foe(n,r)}function $c(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return jb(Yc(n));case"binary":return Yc(n);case"string":return e;case"file":return Jw(t.file,n,"utf8");case"buffer":return Ur?pd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):$c(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _6e(e,t){switch(t.type){case"base64":return jb(e);case"binary":return e;case"string":return e;case"file":return Jw(t.file,e,"binary");case"buffer":return Ur?pd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function lj(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?jb(r):t.type=="string"?Ln(r):r;case"file":return Jw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function ZF(e,t){uk(),Gie(e);var r=Hn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=ZF(e,r);return r.type="array",Yw(n)}return b6e(e,r)}function yk(e,t){uk(),Gie(e);var r=Hn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=yk(e,r);return r.type="array",Yw(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return $c(xFe(e,r),r);case"slk":case"sylk":return $c(mie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return $c(noe(e.Sheets[e.SheetNames[a]],r),r);case"txt":return _6e(goe(e.Sheets[e.SheetNames[a]],r),r);case"csv":return $c(e6(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return $c(pie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return lj(N3.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return $c(E0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return $c(_ie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return $c(gie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return $c(ooe(e,r),r);case"wk1":return lj(bm.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return lj(bm.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),lj(Zie(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),w6e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return y6e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function QF(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Km(e,t,r){var n=r||{};return n.type="file",n.file=t,QF(n),yk(e,n)}function j6e(e,t,r){var n=r||{};return n.type="file",n.file=t,QF(n),ZF(e,n)}function N6e(e,t,r,n){var a=r||{};a.type="file",a.file=e,QF(a),a.type="buffer";var i=n;return i instanceof Function||(i=r),ff.writeFile(e,yk(t,a),i)}function moe(e,t,r,n,a,i,o,l){var c=Ps(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[r][p]:e[n[p]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[p]!=null&&(m[i[p]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(g==null)if(y.t=="e"&&g===null)m[i[p]]=null;else if(u!==void 0)m[i[p]]=u;else if(d&&g===null)m[i[p]]=null;else continue;else m[i[p]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?g:du(y,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function rS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Zr(d);break;case"number":c=Zr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Ps(c.s.r),m=[],p=[],y=0,g=0,v=Array.isArray(e),_=c.s.r,w=0,j={};v&&!e[_]&&(e[_]=[]);var C=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(C[w]||{}).hidden)switch(m[w]=is(w),r=v?e[_][w]:e[m[w]+f],n){case 1:i[w]=w-c.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=du(r,null,u),g=j[o]||0,!g)j[o]=1;else{do l=o+"_"+g++;while(j[l]);j[o]=g,j[l]=1}i[w]=l}for(_=c.s.r+a;_<=c.e.r;++_)if(!(S[_]||{}).hidden){var k=moe(e,c,_,m,n,i,v,u);(k.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=k.row)}return p.length=y,p}var az=/"/g;function poe(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Ps(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=l.dense?(e[r]||[])[m]:e[n[m]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:du(p,null,l));for(var y=0,g=0;y!==d.length;++y)if((g=d.charCodeAt(y))===a||g===i||g===34||l.forceQuotes){d='"'+d.replace(az,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(az,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function e6(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Zr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=is(y));for(var g=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=poe(e,a,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function goe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=e6(e,t);if(typeof nn>"u"||t.type=="string")return r;var n=nn.utils.encode(1200,r,"str");return""+n}function S6e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Zr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=is(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Ps(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function xoe(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?_s(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Zr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var m=n.header||[],p=0;t.forEach(function(g,v){Rs(g).forEach(function(_){(p=m.indexOf(_))==-1&&(m[p=m.length]=_);var w=g[_],j="z",C="",S=wr({c:l+p,r:o+v+a});u=Ib(i,S),w&&typeof w=="object"&&!(w instanceof Date)?i[S]=w:(typeof w=="number"?j="n":typeof w=="boolean"?j="b":typeof w=="string"?j="s":w instanceof Date?(j="d",n.cellDates||(j="n",w=Pa(w)),C=n.dateNF||hr[14]):w===null&&n.nullError&&(j="e",w=0),u?(u.t=j,u.v=w,delete u.w,delete u.R,C&&(u.z=C)):i[S]=u={t:j,v:w},C&&(u.z=C))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=Ps(o);if(a)for(p=0;p<m.length;++p)i[is(p+l)+y]={t:"s",v:m[p]};return i["!ref"]=Fr(d),i}function k6e(e,t){return xoe(null,e,t)}function Ib(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=_s(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ib(e,wr(t)):Ib(e,wr({r:t,c:r||0}))}function C6e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function t6(){return{SheetNames:[],Sheets:{}}}function r6(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Hie(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function E6e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=C6e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function T6e(e,t){return e.z=t,e}function voe(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function A6e(e,t,r){return voe(e,"#"+t,r)}function P6e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function O6e(e,t,r,n){for(var a=typeof t!="string"?t:Zr(t),i=typeof t=="string"?t:Fr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Ib(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var ca={encode_col:is,encode_row:Ps,encode_cell:wr,encode_range:Fr,decode_col:EF,decode_row:CF,split_cell:JAe,decode_cell:_s,decode_range:Ji,format_cell:du,sheet_add_aoa:Fae,sheet_add_json:xoe,sheet_add_dom:soe,aoa_to_sheet:Sx,json_to_sheet:k6e,table_to_sheet:aoe,table_to_book:VFe,sheet_to_csv:e6,sheet_to_txt:goe,sheet_to_json:rS,sheet_to_html:noe,sheet_to_formulae:S6e,sheet_to_row_object_array:rS,sheet_get_cell:Ib,book_new:t6,book_append_sheet:r6,book_set_sheet_visibility:E6e,cell_set_number_format:T6e,cell_set_hyperlink:voe,cell_set_internal_link:A6e,cell_add_comment:P6e,sheet_set_array_formula:O6e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},bk;function D6e(e){bk=e}function R6e(e,t){var r=bk(),n=t??{};if(e==null||e["!ref"]==null)return r.push(null),r;var a=Zr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=is(y));var g=a.s.r,v=!1,_=0;return r._read=function(){if(!v)return v=!0,r.push("\uFEFF");for(;g<=a.e.r;)if(++g,!(p[g-1]||{}).hidden&&(d=poe(e,a,g-1,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),d||n.blankrows!==!1)))return r.push((_++?l:"")+d);return r.push(null)},r}function I6e(e,t){var r=bk(),n=t||{},a=n.header!=null?n.header:eoe,i=n.footer!=null?n.footer:toe;r.push(a);var o=Ji(e["!ref"]);n.dense=Array.isArray(e),r.push(roe(e,o,n));var l=o.s.r,c=!1;return r._read=function(){if(l>o.e.r)return c||(c=!0,r.push("</table>"+i)),r.push(null);for(;l<=o.e.r;){r.push(Qie(e,o,l,n)),++l;break}},r}function M6e(e,t){var r=bk({objectMode:!0});if(e==null||e["!ref"]==null)return r.push(null),r;var n={t:"n",v:0},a=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)&&(a=3),typeof f){case"string":u=Zr(f);break;case"number":u=Zr(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(i=0);var m=Ps(u.s.r),p=[],y=0,g=Array.isArray(e),v=u.s.r,_=0,w={};g&&!e[v]&&(e[v]=[]);var j=d.skipHidden&&e["!cols"]||[],C=d.skipHidden&&e["!rows"]||[];for(_=u.s.c;_<=u.e.c;++_)if(!(j[_]||{}).hidden)switch(p[_]=is(_),n=g?e[v][_]:e[p[_]+m],a){case 1:o[_]=_-u.s.c;break;case 2:o[_]=p[_];break;case 3:o[_]=d.header[_-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=du(n,null,d),y=w[l]||0,!y)w[l]=1;else{do c=l+"_"+y++;while(w[c]);w[l]=y,w[c]=1}o[_]=c}return v=u.s.r+i,r._read=function(){for(;v<=u.e.r;)if(!(C[v-1]||{}).hidden){var S=moe(e,u,v,p,a,o,g,d);if(++v,S.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows)){r.push(S.row);return}}return r.push(null)},r}var F6e={to_json:M6e,to_html:I6e,to_csv:R6e,set_readable:D6e};const L6e=_b.version,yoe=Object.freeze(Object.defineProperty({__proto__:null,CFB:er,SSF:xae,parse_xlscfb:GF,parse_zip:coe,read:tS,readFile:sz,readFileSync:sz,set_cptable:VTe,set_fs:xAe,stream:F6e,utils:ca,version:L6e,write:yk,writeFile:Km,writeFileAsync:N6e,writeFileSync:Km,writeFileXLSX:j6e,writeXLSX:ZF},Symbol.toStringTag,{value:"Module"}));var $6e="Separator",iz="horizontal",B6e=["horizontal","vertical"],boe=b.forwardRef((e,t)=>{const{decorative:r,orientation:n=iz,...a}=e,i=U6e(n)?n:iz,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(At.div,{"data-orientation":i,...l,...a,ref:t})});boe.displayName=$6e;function U6e(e){return B6e.includes(e)}var woe=boe;const Yh=b.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(woe,{ref:a,decorative:r,orientation:t,className:ft("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Yh.displayName=woe.displayName;function V6e({order:e,open:t,onClose:r}){if(!e)return null;const n=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(o),a=o=>new Date(o).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}),i=o=>new Date(o).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return s.jsx(cn,{open:t,onOpenChange:r,children:s.jsxs(sn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(un,{children:s.jsxs(dn,{children:["Order Details - ",e.order_number]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(d0,{className:"h-4 w-4"}),"Customer Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(d0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:e.customer_name})]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(gc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_phone})]}),e.customer_email&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(_c,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_email})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Tf,{className:"h-4 w-4"}),"Delivery Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",e.delivery_address]}),e.delivery_landmark&&s.jsxs("p",{children:[s.jsx("strong",{children:"Landmark:"})," ",e.delivery_landmark]}),e.delivery_pincode&&s.jsxs("p",{children:[s.jsx("strong",{children:"PIN Code:"})," ",e.delivery_pincode]}),e.delivery_time&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Time:"})," ",e.delivery_time]}),e.delivery_latitude&&e.delivery_longitude&&s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",s.jsx("a",{href:`https://www.google.com/maps?q=${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View on Map"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Wn,{className:"h-4 w-4"}),"Order Items"]}),s.jsx("div",{className:"space-y-3",children:Array.isArray(e.items)&&e.items.map((o,l)=>s.jsxs("div",{className:"flex gap-3 p-3 bg-muted rounded-lg",children:[o.productImage&&s.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:o.productName}),o.variant&&s.jsx("p",{className:"text-sm text-muted-foreground",children:o.variant}),s.jsxs("p",{className:"text-sm",children:[n(o.price),"  ",o.quantity," = ",n(o.price*o.quantity)]})]})]},l))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:n(e.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Charge:"}),s.jsx("span",{children:e.delivery_charge>0?n(e.delivery_charge):"FREE"})]}),s.jsx(Yh,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"text-primary",children:n(e.total)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Payment Method:"}),s.jsx(_t,{variant:"outline",children:e.payment_method.toUpperCase()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Status:"}),s.jsx(_t,{children:e.status})]})]})]}),e.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"bg-muted p-3 rounded-lg",children:e.notes})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4"}),"Order Timeline"]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Placed on ",a(e.created_at)," at ",i(e.created_at)]})]})})]})]})]})})}function z6e({order:e,open:t,onClose:r,onSave:n}){const[a,i]=b.useState({}),[o,l]=b.useState(!1);if(b.useEffect(()=>{e&&i({customer_name:e.customer_name,customer_phone:e.customer_phone,customer_email:e.customer_email,delivery_address:e.delivery_address,delivery_landmark:e.delivery_landmark,delivery_pincode:e.delivery_pincode,delivery_time:e.delivery_time,status:e.status,payment_method:e.payment_method,notes:e.notes})},[e]),!e)return null;const c=async()=>{l(!0);try{await n(e.id,a),r()}finally{l(!1)}};return s.jsx(cn,{open:t,onOpenChange:r,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(un,{children:s.jsxs(dn,{children:["Edit Order - ",e.order_number]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"customer_name",children:"Customer Name"}),s.jsx(Fe,{id:"customer_name",value:a.customer_name||"",onChange:u=>i({...a,customer_name:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"customer_phone",children:"Phone"}),s.jsx(Fe,{id:"customer_phone",value:a.customer_phone||"",onChange:u=>i({...a,customer_phone:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"customer_email",children:"Email (Optional)"}),s.jsx(Fe,{id:"customer_email",type:"email",value:a.customer_email||"",onChange:u=>i({...a,customer_email:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_address",children:"Delivery Address"}),s.jsx(Ks,{id:"delivery_address",value:a.delivery_address||"",onChange:u=>i({...a,delivery_address:u.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_landmark",children:"Landmark (Optional)"}),s.jsx(Fe,{id:"delivery_landmark",value:a.delivery_landmark||"",onChange:u=>i({...a,delivery_landmark:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_pincode",children:"PIN Code"}),s.jsx(Fe,{id:"delivery_pincode",value:a.delivery_pincode||"",onChange:u=>i({...a,delivery_pincode:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_time",children:"Delivery Time"}),s.jsx(Fe,{id:"delivery_time",value:a.delivery_time||"",onChange:u=>i({...a,delivery_time:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"status",children:"Order Status"}),s.jsxs(ar,{value:a.status,onValueChange:u=>i({...a,status:u}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"new",children:"New"}),s.jsx(Ue,{value:"processing",children:"Processing"}),s.jsx(Ue,{value:"delivered",children:"Delivered"}),s.jsx(Ue,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"payment_method",children:"Payment Method"}),s.jsxs(ar,{value:a.payment_method,onValueChange:u=>i({...a,payment_method:u}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"cod",children:"Cash on Delivery"}),s.jsx(Ue,{value:"online",children:"Online Payment"}),s.jsx(Ue,{value:"card",children:"Card"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(Ks,{id:"notes",value:a.notes||"",onChange:u=>i({...a,notes:u.target.value}),rows:3,placeholder:"Add any additional notes..."})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(ae,{onClick:c,disabled:o,children:o?"Saving...":"Save Changes"})]})]})})}const n6=async e=>{const{data:t,error:r}=await Y.functions.invoke("shiprocket",{body:e});if(r)throw new Error(r.message);return t},oz=async(e,t)=>{try{const r=await n6({action:"login",email:e,password:t});return r.token?{success:!0,token:r.token}:{success:!1,error:r.message||"Authentication failed"}}catch(r){return{success:!1,error:r.message||"Network error"}}},Qj=async e=>{try{const t=await n6({action:"get_pickup_locations",token:e});return t.data?.shipping_address?{success:!0,locations:t.data.shipping_address}:{success:!1,error:t.message||"Failed to get pickup locations"}}catch(t){return{success:!1,error:t.message||"Network error"}}},q6e=async(e,t)=>{try{const r=await n6({action:"create_order",token:e,data:t});return r.order_id?{success:!0,data:r}:{success:!1,error:r.message||"Failed to create order"}}catch(r){return{success:!1,error:r.message||"Network error"}}},W6e=(e,t,r)=>{const n=(e.customer_name||"Customer").split(" "),a=n[0]||"Customer",i=n.slice(1).join(" ")||"",o=e.delivery_address||"",l=e.delivery_pincode||"";return{order_id:e.order_number||e.id,order_date:new Date(e.created_at).toISOString().split("T")[0],pickup_location:t,billing_customer_name:a,billing_last_name:i,billing_address:o,billing_city:e.delivery_city||"City",billing_pincode:l,billing_state:e.delivery_state||"State",billing_country:"India",billing_email:e.customer_email||"",billing_phone:e.customer_phone||"",shipping_is_billing:!0,order_items:(e.items||[]).map(c=>({name:c.name||c.product_name||"Product",sku:c.sku||c.id||`SKU-${Date.now()}`,units:c.quantity||1,selling_price:c.price||0,discount:0,tax:0})),payment_method:e.payment_method==="cod"?"COD":"Prepaid",sub_total:e.total||e.subtotal||0,length:r.length,breadth:r.breadth,height:r.height,weight:r.weight}},lz=()=>{const e=vr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(""),[l,c]=b.useState("all"),[u,d]=b.useState("all"),[f,m]=b.useState(new Date),[p,y]=b.useState(null),[g,v]=b.useState(!1),[_,w]=b.useState(!1),[j,C]=b.useState(0),[S,k]=b.useState(null),[E,R]=b.useState(""),[P,T]=b.useState(!1),[O,D]=b.useState(null),[I,L]=b.useState(""),[W,q]=b.useState({length:10,breadth:10,height:10,weight:.5}),[G,K]=b.useState(null),[U,F]=b.useState(!1),[B,V]=b.useState(null),[Z,X]=b.useState(!1);b.useEffect(()=>{Q()},[]);const Q=async()=>{const{data:{session:fe}}=await Y.auth.getSession();if(!fe){e("/admin/login");return}await ce()},ce=async()=>{try{a(!0);const{data:{user:fe}}=await Y.auth.getUser();if(!fe)return;const{data:ee}=await Y.from("stores").select("id, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",fe.id).single();if(!ee)return;if(X(ee.shipping_popup_enabled||!1),ee.shiprocket_token){T(!0),D(ee.shiprocket_token);const je=await Qj(ee.shiprocket_token);je.success&&je.locations&&je.locations.length>0&&L(je.locations[0].pickup_location),ee.package_length&&q(nt=>({...nt,length:ee.package_length})),ee.package_breadth&&q(nt=>({...nt,breadth:ee.package_breadth})),ee.package_height&&q(nt=>({...nt,height:ee.package_height})),ee.package_weight&&q(nt=>({...nt,weight:ee.package_weight}))}const{data:we}=await Y.from("subscriptions").select(`
          subscription_plans (
            name,
            orders_view_limit
          )
        `).eq("user_id",fe.id).maybeSingle();let he=null;if(we?.subscription_plans?.orders_view_limit){const je=we.subscription_plans.orders_view_limit;he=je===999999?null:je}R(we?.subscription_plans?.name||""),k(he);const{count:Me}=await Y.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",ee.id);C(Me||0);let Pe=Y.from("orders").select("*").eq("store_id",ee.id).order("created_at",{ascending:!0});he!==null&&(Pe=Pe.limit(he));const{data:Re,error:et}=await Pe;if(et)throw et;const jt=(Re||[]).reverse();r(jt),m(new Date)}catch(fe){Ie({title:"Error",description:fe.message,variant:"destructive"})}finally{a(!1)}},de=()=>{let fe=t;if(i&&(fe=fe.filter(ee=>ee.customer_name.toLowerCase().includes(i.toLowerCase())||ee.customer_phone.includes(i)||ee.order_number.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(fe=fe.filter(ee=>ee.status===l)),u!=="all"){const ee=new Date,we=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate());fe=fe.filter(he=>{const Me=new Date(he.created_at),Pe=new Date(Me.getFullYear(),Me.getMonth(),Me.getDate());switch(u){case"today":return Pe.getTime()===we.getTime();case"yesterday":const Re=new Date(we);return Re.setDate(Re.getDate()-1),Pe.getTime()===Re.getTime();case"last7days":const et=new Date(we);return et.setDate(et.getDate()-7),Pe>=et;case"last30days":const jt=new Date(we);return jt.setDate(jt.getDate()-30),Pe>=jt;default:return!0}})}return fe},pe=fe=>{const ee={new:{label:"New",variant:"default",icon:ds},processing:{label:"Processing",variant:"secondary",icon:Wn},delivered:{label:"Delivered",variant:"default",icon:an},cancelled:{label:"Cancelled",variant:"destructive",icon:Qn}},we=ee[fe]||ee.new,he=we.icon;return s.jsxs(_t,{variant:we.variant,className:"flex items-center gap-1",children:[s.jsx(he,{className:"h-3 w-3"}),we.label]})},re=fe=>new Date(fe).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),ie=fe=>new Date(fe).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),J=fe=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(fe),z=(fe,ee)=>{const we=t.filter(Re=>{const et=new Date(Re.created_at),jt=et.toLocaleDateString("en-US",{month:"long"}),je=et.getFullYear().toString();return jt===fe&&je===ee});if(we.length===0){Ie({title:"No Orders",description:`No orders found for ${fe} ${ee}`,variant:"destructive"});return}const he=we.map(Re=>({"Order Number":Re.order_number,Date:re(Re.created_at),Time:ie(Re.created_at),"Customer Name":Re.customer_name,Phone:Re.customer_phone,Email:Re.customer_email||"N/A",Address:Re.delivery_address,"Items Count":Array.isArray(Re.items)?Re.items.length:0,Items:Array.isArray(Re.items)?Re.items.map(et=>`${et.name} (${et.quantity}x)`).join(", "):"N/A",Amount:Re.total,"Payment Method":Re.payment_method,Status:Re.status})),Me=ca.json_to_sheet(he),Pe=ca.book_new();ca.book_append_sheet(Pe,Me,`${fe}_${ee}`),Km(Pe,`Orders_${fe}_${ee}.xlsx`),Ie({title:"Export Successful",description:`Downloaded ${we.length} orders for ${fe} ${ee}`})},Se=()=>{const fe=new Date;return{month:fe.toLocaleDateString("en-US",{month:"long"}),year:fe.getFullYear().toString()}},te=()=>{const fe=new Date;return fe.setMonth(fe.getMonth()-1),{month:fe.toLocaleDateString("en-US",{month:"long"}),year:fe.getFullYear().toString()}},_e=fe=>{y(fe),v(!0)},Ae=fe=>{y(fe),w(!0)},ue=async(fe,ee)=>{try{const{error:we}=await Y.from("orders").update(ee).eq("id",fe);if(we)throw we;Ie({title:"Success",description:"Order updated successfully"}),ce()}catch(we){Ie({title:"Error",description:we.message,variant:"destructive"})}},Ve=fe=>{Z?(V(fe),F(!0)):be(fe)},He=async()=>{if(!(!B||!O)){F(!1),K(B.id);try{const fe=W6e(B,I,W),ee=await q6e(O,fe);ee.success&&ee.data?(await Y.from("orders").update({shiprocket_order_id:ee.data.order_id?.toString(),shiprocket_shipment_id:ee.data.shipment_id?.toString(),status:"processing"}).eq("id",B.id),Ie({title:"Order Created in Shiprocket",description:"Opening Shiprocket dashboard..."}),window.open(`https://app.shiprocket.in/seller/orders/details/${ee.data.order_id}`,"_blank"),ce()):Ie({title:"Shiprocket Error",description:ee.error||"Failed to create order in Shiprocket",variant:"destructive"})}catch(fe){Ie({title:"Error",description:fe.message||"Failed to ship order",variant:"destructive"})}finally{K(null),V(null)}}},le=async()=>{B&&(F(!1),await be(B),V(null))},be=async fe=>{await ue(fe.id,{status:"delivered"})},Oe=async fe=>{await ue(fe.id,{status:"cancelled"})},Ze=de(),tt=t.filter(fe=>{const ee=new Date;return new Date(fe.created_at).toDateString()===ee.toDateString()});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Orders Management",S!==null&&j>0&&s.jsxs("span",{className:"text-muted-foreground text-xl ml-2",children:["(Showing ",Math.min(t.length,S)," of ",j,")"]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage customer orders (Auto-cleanup: Orders older than 2 months)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{onClick:()=>{const fe=te();z(fe.month,fe.year)},variant:"outline",size:"sm",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export Previous Month"]}),s.jsxs(ae,{onClick:()=>{const fe=Se();z(fe.month,fe.year)},variant:"outline",size:"sm",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export Current Month"]}),s.jsxs(ae,{onClick:ce,variant:"outline",size:"sm",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Wn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(ds,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:tt.length})]})]})}),s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(an,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Sync"}),s.jsx("p",{className:"text-sm font-medium",children:f.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),S!==null&&j>S&&s.jsxs(Yr,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[s.jsx(Vs,{className:"h-4 w-4 text-amber-600"}),s.jsx(Xr,{className:"ml-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:[E," Plan Limit"]}),s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-1",children:["You can only view ",S," orders. ",j-S," more ",j-S===1?"order is":"orders are"," hidden."]})]}),s.jsxs(ae,{onClick:()=>e("/admin/subscription"),size:"sm",className:"ml-4 flex-shrink-0",children:[s.jsx(H0e,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})]})})]}),s.jsxs(Ce,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx(Fe,{placeholder:"Search by name, phone, or order number...",value:i,onChange:fe=>o(fe.target.value),className:"flex-1"}),s.jsxs(ar,{value:u,onValueChange:d,children:[s.jsx(rr,{className:"w-full md:w-[180px]",children:s.jsx(ir,{placeholder:"Filter by date"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Time"}),s.jsx(Ue,{value:"today",children:"Today"}),s.jsx(Ue,{value:"yesterday",children:"Yesterday"}),s.jsx(Ue,{value:"last7days",children:"Last 7 Days"}),s.jsx(Ue,{value:"last30days",children:"Last 30 Days"})]})]}),s.jsxs(ar,{value:l,onValueChange:c,children:[s.jsx(rr,{className:"w-full md:w-[180px]",children:s.jsx(ir,{placeholder:"Filter by status"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Status"}),s.jsx(Ue,{value:"new",children:"New"}),s.jsx(Ue,{value:"processing",children:"Processing"}),s.jsx(Ue,{value:"delivered",children:"Delivered"}),s.jsx(Ue,{value:"cancelled",children:"Cancelled"})]})]})]}),n?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):Ze.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orders found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Order #"}),s.jsx(Qe,{children:"Date & Time"}),s.jsx(Qe,{children:"Customer"}),s.jsx(Qe,{children:"Phone"}),s.jsx(Qe,{children:"Items"}),s.jsx(Qe,{children:"Amount"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:Ze.map(fe=>s.jsxs(Er,{children:[s.jsx(Ke,{className:"font-medium",children:fe.order_number}),s.jsx(Ke,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:re(fe.created_at)}),s.jsx("div",{className:"text-muted-foreground",children:ie(fe.created_at)})]})}),s.jsx(Ke,{children:fe.customer_name}),s.jsx(Ke,{children:fe.customer_phone}),s.jsx(Ke,{children:s.jsxs("div",{className:"text-sm",children:[Array.isArray(fe.items)?fe.items.length:0," item",Array.isArray(fe.items)&&fe.items.length!==1?"s":""]})}),s.jsx(Ke,{className:"font-medium",children:J(fe.total)}),s.jsx(Ke,{children:pe(fe.status)}),s.jsx(Ke,{children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>_e(fe),title:"View Details",children:s.jsx(Es,{className:"h-4 w-4"})}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Ae(fe),title:"Edit Order",children:s.jsx(ou,{className:"h-4 w-4"})}),fe.status!=="delivered"&&fe.status!=="cancelled"&&s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Ve(fe),title:Z?"Ship Order":"Mark as Delivered",className:"text-blue-600 hover:text-blue-700",disabled:G===fe.id,children:G===fe.id?s.jsx(Ut,{className:"h-4 w-4 animate-spin"}):s.jsx(xc,{className:"h-4 w-4"})}),fe.status!=="cancelled"&&s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Oe(fe),title:"Cancel Order",className:"text-destructive hover:text-destructive",children:s.jsx(Dj,{className:"h-4 w-4"})})]})})]},fe.id))})]})}),Ze.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:["Showing ",Ze.length," order",Ze.length!==1?"s":""]})]}),s.jsx(V6e,{order:p,open:g,onClose:()=>v(!1)}),s.jsx(z6e,{order:p,open:_,onClose:()=>w(!1),onSave:ue}),s.jsx(cn,{open:U,onOpenChange:F,children:s.jsxs(sn,{className:"sm:max-w-md",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-2",children:[s.jsx(xc,{className:"h-5 w-5"}),"Ship Order"]}),s.jsx(Zn,{children:B&&s.jsxs("span",{children:["Order #",B.order_number,"  ",B.customer_name]})})]}),s.jsxs("div",{className:"grid gap-3 py-4",children:[P&&s.jsxs(ae,{onClick:He,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:s.jsx(xc,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Ship via Shiprocket"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Create shipment with courier partner"})]})]}),s.jsxs(ae,{onClick:le,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900",children:s.jsx(an,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Manual Delivery"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as delivered (self-delivery)"})]})]})]})]})})]})};var mA,cz;function No(){if(cz)return mA;cz=1;var e=Array.isArray;return mA=e,mA}var pA,uz;function _oe(){if(uz)return pA;uz=1;var e=typeof N_=="object"&&N_&&N_.Object===Object&&N_;return pA=e,pA}var gA,dz;function _u(){if(dz)return gA;dz=1;var e=_oe(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return gA=r,gA}var xA,fz;function s1(){if(fz)return xA;fz=1;var e=_u(),t=e.Symbol;return xA=t,xA}var vA,hz;function H6e(){if(hz)return vA;hz=1;var e=s1(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return vA=i,vA}var yA,mz;function G6e(){if(mz)return yA;mz=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return yA=r,yA}var bA,pz;function vd(){if(pz)return bA;pz=1;var e=s1(),t=H6e(),r=G6e(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return bA=o,bA}var wA,gz;function yd(){if(gz)return wA;gz=1;function e(t){return t!=null&&typeof t=="object"}return wA=e,wA}var _A,xz;function Cx(){if(xz)return _A;xz=1;var e=vd(),t=yd(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return _A=n,_A}var jA,vz;function s6(){if(vz)return jA;vz=1;var e=No(),t=Cx(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return jA=a,jA}var NA,yz;function dh(){if(yz)return NA;yz=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return NA=e,NA}var SA,bz;function a6(){if(bz)return SA;bz=1;var e=vd(),t=dh(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==a||c==r||c==i}return SA=o,SA}var kA,wz;function K6e(){if(wz)return kA;wz=1;var e=_u(),t=e["__core-js_shared__"];return kA=t,kA}var CA,_z;function Y6e(){if(_z)return CA;_z=1;var e=K6e(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return CA=r,CA}var EA,jz;function joe(){if(jz)return EA;jz=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return EA=r,EA}var TA,Nz;function X6e(){if(Nz)return TA;Nz=1;var e=a6(),t=Y6e(),r=dh(),n=joe(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!r(m)||t(m))return!1;var p=e(m)?d:i;return p.test(n(m))}return TA=f,TA}var AA,Sz;function J6e(){if(Sz)return AA;Sz=1;function e(t,r){return t?.[r]}return AA=e,AA}var PA,kz;function xp(){if(kz)return PA;kz=1;var e=X6e(),t=J6e();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return PA=r,PA}var OA,Cz;function wk(){if(Cz)return OA;Cz=1;var e=xp(),t=e(Object,"create");return OA=t,OA}var DA,Ez;function Z6e(){if(Ez)return DA;Ez=1;var e=wk();function t(){this.__data__=e?e(null):{},this.size=0}return DA=t,DA}var RA,Tz;function Q6e(){if(Tz)return RA;Tz=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return RA=e,RA}var IA,Az;function eLe(){if(Az)return IA;Az=1;var e=wk(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return IA=a,IA}var MA,Pz;function tLe(){if(Pz)return MA;Pz=1;var e=wk(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return MA=n,MA}var FA,Oz;function rLe(){if(Oz)return FA;Oz=1;var e=wk(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return FA=r,FA}var LA,Dz;function nLe(){if(Dz)return LA;Dz=1;var e=Z6e(),t=Q6e(),r=eLe(),n=tLe(),a=rLe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,LA=i,LA}var $A,Rz;function sLe(){if(Rz)return $A;Rz=1;function e(){this.__data__=[],this.size=0}return $A=e,$A}var BA,Iz;function i6(){if(Iz)return BA;Iz=1;function e(t,r){return t===r||t!==t&&r!==r}return BA=e,BA}var UA,Mz;function _k(){if(Mz)return UA;Mz=1;var e=i6();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return UA=t,UA}var VA,Fz;function aLe(){if(Fz)return VA;Fz=1;var e=_k(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return VA=n,VA}var zA,Lz;function iLe(){if(Lz)return zA;Lz=1;var e=_k();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return zA=t,zA}var qA,$z;function oLe(){if($z)return qA;$z=1;var e=_k();function t(r){return e(this.__data__,r)>-1}return qA=t,qA}var WA,Bz;function lLe(){if(Bz)return WA;Bz=1;var e=_k();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return WA=t,WA}var HA,Uz;function jk(){if(Uz)return HA;Uz=1;var e=sLe(),t=aLe(),r=iLe(),n=oLe(),a=lLe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,HA=i,HA}var GA,Vz;function o6(){if(Vz)return GA;Vz=1;var e=xp(),t=_u(),r=e(t,"Map");return GA=r,GA}var KA,zz;function cLe(){if(zz)return KA;zz=1;var e=nLe(),t=jk(),r=o6();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return KA=n,KA}var YA,qz;function uLe(){if(qz)return YA;qz=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return YA=e,YA}var XA,Wz;function Nk(){if(Wz)return XA;Wz=1;var e=uLe();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return XA=t,XA}var JA,Hz;function dLe(){if(Hz)return JA;Hz=1;var e=Nk();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return JA=t,JA}var ZA,Gz;function fLe(){if(Gz)return ZA;Gz=1;var e=Nk();function t(r){return e(this,r).get(r)}return ZA=t,ZA}var QA,Kz;function hLe(){if(Kz)return QA;Kz=1;var e=Nk();function t(r){return e(this,r).has(r)}return QA=t,QA}var eP,Yz;function mLe(){if(Yz)return eP;Yz=1;var e=Nk();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return eP=t,eP}var tP,Xz;function l6(){if(Xz)return tP;Xz=1;var e=cLe(),t=dLe(),r=fLe(),n=hLe(),a=mLe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,tP=i,tP}var rP,Jz;function Noe(){if(Jz)return rP;Jz=1;var e=l6(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,rP=r,rP}var nP,Zz;function pLe(){if(Zz)return nP;Zz=1;var e=Noe(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return nP=r,nP}var sP,Qz;function gLe(){if(Qz)return sP;Qz=1;var e=pLe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return sP=n,sP}var aP,eq;function c6(){if(eq)return aP;eq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return aP=e,aP}var iP,tq;function xLe(){if(tq)return iP;tq=1;var e=s1(),t=c6(),r=No(),n=Cx(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return iP=o,iP}var oP,rq;function Soe(){if(rq)return oP;rq=1;var e=xLe();function t(r){return r==null?"":e(r)}return oP=t,oP}var lP,nq;function koe(){if(nq)return lP;nq=1;var e=No(),t=s6(),r=gLe(),n=Soe();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return lP=a,lP}var cP,sq;function Sk(){if(sq)return cP;sq=1;var e=Cx();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return cP=t,cP}var uP,aq;function u6(){if(aq)return uP;aq=1;var e=koe(),t=Sk();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return uP=r,uP}var dP,iq;function Coe(){if(iq)return dP;iq=1;var e=u6();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return dP=t,dP}var vLe=Coe();const Qo=on(vLe);var fP,oq;function yLe(){if(oq)return fP;oq=1;function e(t){return t==null}return fP=e,fP}var bLe=yLe();const Dr=on(bLe);var hP,lq;function wLe(){if(lq)return hP;lq=1;var e=vd(),t=No(),r=yd(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return hP=a,hP}var _Le=wLe();const Ym=on(_Le);var jLe=a6();const Cr=on(jLe);var NLe=dh();const Ex=on(NLe);var mP={exports:{}},Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cq;function SLe(){if(cq)return Sn;cq=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var _=v.$$typeof;switch(_){case e:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case f:case i:return v;default:return _}}case t:return _}}}return Sn.ContextConsumer=o,Sn.ContextProvider=i,Sn.Element=e,Sn.ForwardRef=c,Sn.Fragment=r,Sn.Lazy=m,Sn.Memo=f,Sn.Portal=t,Sn.Profiler=a,Sn.StrictMode=n,Sn.Suspense=u,Sn.SuspenseList=d,Sn.isAsyncMode=function(){return!1},Sn.isConcurrentMode=function(){return!1},Sn.isContextConsumer=function(v){return g(v)===o},Sn.isContextProvider=function(v){return g(v)===i},Sn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Sn.isForwardRef=function(v){return g(v)===c},Sn.isFragment=function(v){return g(v)===r},Sn.isLazy=function(v){return g(v)===m},Sn.isMemo=function(v){return g(v)===f},Sn.isPortal=function(v){return g(v)===t},Sn.isProfiler=function(v){return g(v)===a},Sn.isStrictMode=function(v){return g(v)===n},Sn.isSuspense=function(v){return g(v)===u},Sn.isSuspenseList=function(v){return g(v)===d},Sn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},Sn.typeOf=g,Sn}var uq;function kLe(){return uq||(uq=1,mP.exports=SLe()),mP.exports}var CLe=kLe(),pP,dq;function Eoe(){if(dq)return pP;dq=1;var e=vd(),t=yd(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return pP=n,pP}var gP,fq;function ELe(){if(fq)return gP;fq=1;var e=Eoe();function t(r){return e(r)&&r!=+r}return gP=t,gP}var TLe=ELe();const a1=on(TLe);var ALe=Eoe();const PLe=on(ALe);var Hi=function(t){return t===0?0:t>0?1:-1},nm=function(t){return Ym(t)&&t.indexOf("%")===t.length-1},kt=function(t){return PLe(t)&&!a1(t)},OLe=function(t){return Dr(t)},Ta=function(t){return kt(t)||Ym(t)},DLe=0,Tx=function(t){var r=++DLe;return"".concat(t||"").concat(r)},Gi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(t)&&!Ym(t))return n;var i;if(nm(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return a1(i)&&(i=n),a&&i>r&&(i=r),i},ef=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},RLe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Uo=function(t,r){return kt(t)&&kt(r)?function(n){return t+n*(r-t)}:function(){return r}};function nS(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Qo(n,t))===r})}var ILe=function(t,r){return kt(t)&&kt(r)?t-r:Ym(t)&&Ym(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function i0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function E3(e){"@babel/helpers - typeof";return E3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E3(e)}var MLe=["viewBox","children"],FLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hq=["points","pathLength"],xP={svg:MLe,polygon:hq,polyline:hq},d6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sS=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!Ex(n))return null;var a={};return Object.keys(n).forEach(function(i){d6.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},LLe=function(t,r,n){return function(a){return t(r,n,a),null}},Xm=function(t,r,n){if(!Ex(t)||E3(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];d6.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=LLe(o,r,n))}),a},$Le=["children"],BLe=["children"];function mq(e,t){if(e==null)return{};var r=ULe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ULe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T3(e){"@babel/helpers - typeof";return T3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T3(e)}var pq={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ed=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},gq=null,vP=null,f6=function e(t){if(t===gq&&Array.isArray(vP))return vP;var r=[];return b.Children.forEach(t,function(n){Dr(n)||(CLe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),vP=r,gq=t,r};function el(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ed(a)}):n=[ed(t)],f6(e).forEach(function(a){var i=Qo(a,"type.displayName")||Qo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Io(e,t){var r=el(e,t);return r&&r[0]}var xq=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!kt(n)||n<=0||!kt(a)||a<=0)},VLe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zLe=function(t){return t&&t.type&&Ym(t.type)&&VLe.indexOf(t.type)>=0},qLe=function(t){return t&&T3(t)==="object"&&"clipDot"in t},WLe=function(t,r,n,a){var i,o=(i=xP?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Cr(t)&&(a&&o.includes(r)||FLe.includes(r))||n&&d6.includes(r)},mr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!Ex(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;WLe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},A3=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return vq(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!vq(i,o))return!1}return!0},vq=function(t,r){if(Dr(t)&&Dr(r))return!0;if(!Dr(t)&&!Dr(r)){var n=t.props||{},a=n.children,i=mq(n,$Le),o=r.props||{},l=o.children,c=mq(o,BLe);return a&&l?i0(i,c)&&A3(a,l):!a&&!l?i0(i,c):!1}return!1},yq=function(t,r){var n=[],a={};return f6(t).forEach(function(i,o){if(zLe(i))n.push(i);else if(i){var l=ed(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},HLe=function(t){var r=t&&t.type;return r&&pq[r]?pq[r]:null},GLe=function(t,r){return f6(r).indexOf(t)},KLe=["children","width","height","viewBox","className","style","title","desc"];function P3(){return P3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P3.apply(this,arguments)}function YLe(e,t){if(e==null)return{};var r=XLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O3(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=YLe(e,KLe),d=a||{width:r,height:n,x:0,y:0},f=Ir("recharts-surface",i);return oe.createElement("svg",P3({},mr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),oe.createElement("title",null,l),oe.createElement("desc",null,c),t)}var JLe=["children","className"];function D3(){return D3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D3.apply(this,arguments)}function ZLe(e,t){if(e==null)return{};var r=QLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yn=oe.forwardRef(function(e,t){var r=e.children,n=e.className,a=ZLe(e,JLe),i=Ir("recharts-layer",n);return oe.createElement("g",D3({className:i},mr(a,!0),{ref:t}),r)}),bc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},yP,bq;function e8e(){if(bq)return yP;bq=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return yP=e,yP}var bP,wq;function t8e(){if(wq)return bP;wq=1;var e=e8e();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return bP=t,bP}var wP,_q;function Toe(){if(_q)return wP;_q=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return wP=c,wP}var _P,jq;function r8e(){if(jq)return _P;jq=1;function e(t){return t.split("")}return _P=e,_P}var jP,Nq;function n8e(){if(Nq)return jP;Nq=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",g="["+i+"]?",v="(?:"+p+"(?:"+[d,f,m].join("|")+")"+g+y+")*",_=g+y+v,w="(?:"+[d+l+"?",l,f,m,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+w+_,"g");function C(S){return S.match(j)||[]}return jP=C,jP}var NP,Sq;function s8e(){if(Sq)return NP;Sq=1;var e=r8e(),t=Toe(),r=n8e();function n(a){return t(a)?r(a):e(a)}return NP=n,NP}var SP,kq;function a8e(){if(kq)return SP;kq=1;var e=t8e(),t=Toe(),r=s8e(),n=Soe();function a(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return SP=a,SP}var kP,Cq;function i8e(){if(Cq)return kP;Cq=1;var e=a8e(),t=e("toUpperCase");return kP=t,kP}var o8e=i8e();const kk=on(o8e);function Jn(e){return function(){return e}}const Aoe=Math.cos,aS=Math.sin,Ac=Math.sqrt,iS=Math.PI,Ck=2*iS,R3=Math.PI,I3=2*R3,Vh=1e-6,l8e=I3-Vh;function Poe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function c8e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Poe;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class u8e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Poe:c8e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Vh)if(!(Math.abs(f*c-u*d)>Vh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,g=c*c+u*u,v=p*p+y*y,_=Math.sqrt(g),w=Math.sqrt(m),j=i*Math.tan((R3-Math.acos((g+m-v)/(2*_*w)))/2),C=j/w,S=j/_;Math.abs(C-1)>Vh&&this._append`L${t+C*d},${r+C*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Vh||Math.abs(this._y1-d)>Vh)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%I3+I3),m>l8e?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Vh&&this._append`A${n},${n},0,${+(m>=R3)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function h6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new u8e(t)}function m6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ooe(e){this._context=e}Ooe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ek(e){return new Ooe(e)}function Doe(e){return e[0]}function Roe(e){return e[1]}function Ioe(e,t){var r=Jn(!0),n=null,a=Ek,i=null,o=h6(l);e=typeof e=="function"?e:e===void 0?Doe:Jn(e),t=typeof t=="function"?t:t===void 0?Roe:Jn(t);function l(c){var u,d=(c=m6(c)).length,f,m=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Jn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Jn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Jn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function cj(e,t,r){var n=null,a=Jn(!0),i=null,o=Ek,l=null,c=h6(u);e=typeof e=="function"?e:e===void 0?Doe:Jn(+e),t=typeof t=="function"?t:Jn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Roe:Jn(+r);function u(f){var m,p,y,g=(f=m6(f)).length,v,_=!1,w,j=new Array(g),C=new Array(g);for(i==null&&(l=o(w=c())),m=0;m<=g;++m){if(!(m<g&&a(v=f[m],m,f))===_)if(_=!_)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(j[y],C[y]);l.lineEnd(),l.areaEnd()}_&&(j[m]=+e(v,m,f),C[m]=+t(v,m,f),l.point(n?+n(v,m,f):j[m],r?+r(v,m,f):C[m]))}if(w)return l=null,w+""||null}function d(){return Ioe().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Jn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Jn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Jn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Jn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Jn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Jn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Jn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Moe{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function d8e(e){return new Moe(e,!0)}function f8e(e){return new Moe(e,!1)}const p6={draw(e,t){const r=Ac(t/iS);e.moveTo(r,0),e.arc(0,0,r,0,Ck)}},h8e={draw(e,t){const r=Ac(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Foe=Ac(1/3),m8e=Foe*2,p8e={draw(e,t){const r=Ac(t/m8e),n=r*Foe;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},g8e={draw(e,t){const r=Ac(t),n=-r/2;e.rect(n,n,r,r)}},x8e=.8908130915292852,Loe=aS(iS/10)/aS(7*iS/10),v8e=aS(Ck/10)*Loe,y8e=-Aoe(Ck/10)*Loe,b8e={draw(e,t){const r=Ac(t*x8e),n=v8e*r,a=y8e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Ck*i/5,l=Aoe(o),c=aS(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},CP=Ac(3),w8e={draw(e,t){const r=-Ac(t/(CP*3));e.moveTo(0,r*2),e.lineTo(-CP*r,-r),e.lineTo(CP*r,-r),e.closePath()}},ml=-.5,pl=Ac(3)/2,M3=1/Ac(12),_8e=(M3/2+1)*3,j8e={draw(e,t){const r=Ac(t/_8e),n=r/2,a=r*M3,i=n,o=r*M3+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ml*n-pl*a,pl*n+ml*a),e.lineTo(ml*i-pl*o,pl*i+ml*o),e.lineTo(ml*l-pl*c,pl*l+ml*c),e.lineTo(ml*n+pl*a,ml*a-pl*n),e.lineTo(ml*i+pl*o,ml*o-pl*i),e.lineTo(ml*l+pl*c,ml*c-pl*l),e.closePath()}};function N8e(e,t){let r=null,n=h6(a);e=typeof e=="function"?e:Jn(e||p6),t=typeof t=="function"?t:Jn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Jn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Jn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function oS(){}function lS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $oe(e){this._context=e}$oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S8e(e){return new $oe(e)}function Boe(e){this._context=e}Boe.prototype={areaStart:oS,areaEnd:oS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k8e(e){return new Boe(e)}function Uoe(e){this._context=e}Uoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C8e(e){return new Uoe(e)}function Voe(e){this._context=e}Voe.prototype={areaStart:oS,areaEnd:oS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function E8e(e){return new Voe(e)}function Eq(e){return e<0?-1:1}function Tq(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Eq(i)+Eq(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Aq(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function EP(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function cS(e){this._context=e}cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EP(this,this._t0,Aq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,EP(this,Aq(this,r=Tq(this,e,t)),r);break;default:EP(this,this._t0,r=Tq(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zoe(e){this._context=new qoe(e)}(zoe.prototype=Object.create(cS.prototype)).point=function(e,t){cS.prototype.point.call(this,t,e)};function qoe(e){this._context=e}qoe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function T8e(e){return new cS(e)}function A8e(e){return new zoe(e)}function Woe(e){this._context=e}Woe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Pq(e),a=Pq(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pq(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function P8e(e){return new Woe(e)}function Tk(e,t){this._context=e,this._t=t}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function O8e(e){return new Tk(e,.5)}function D8e(e){return new Tk(e,0)}function R8e(e){return new Tk(e,1)}function A0(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function F3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function I8e(e,t){return e[t]}function M8e(e){const t=[];return t.key=e,t}function F8e(){var e=Jn([]),t=F3,r=A0,n=I8e;function a(i){var o=Array.from(e.apply(this,arguments),M8e),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=m6(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Jn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Jn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?F3:typeof i=="function"?i:Jn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??A0,a):r},a}function L8e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}A0(e,t)}}function $8e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}A0(e,t)}}function B8e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,_=g[n-1][1]||0;p+=v-_}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,A0(e,t)}}function Mb(e){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mb(e)}var U8e=["type","size","sizeType"];function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L3.apply(this,arguments)}function Oq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oq(Object(r),!0).forEach(function(n){V8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8e(e,t,r){return t=z8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8e(e){var t=q8e(e,"string");return Mb(t)=="symbol"?t:t+""}function q8e(e,t){if(Mb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W8e(e,t){if(e==null)return{};var r=H8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hoe={symbolCircle:p6,symbolCross:h8e,symbolDiamond:p8e,symbolSquare:g8e,symbolStar:b8e,symbolTriangle:w8e,symbolWye:j8e},G8e=Math.PI/180,K8e=function(t){var r="symbol".concat(kk(t));return Hoe[r]||p6},Y8e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*G8e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},X8e=function(t,r){Hoe["symbol".concat(kk(t))]=r},g6=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=W8e(t,U8e),u=Dq(Dq({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=K8e(n),_=N8e().type(v).size(Y8e(i,l,n));return _()},f=u.className,m=u.cx,p=u.cy,y=mr(u,!0);return m===+m&&p===+p&&i===+i?oe.createElement("path",L3({},y,{className:Ir("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};g6.registerSymbol=X8e;function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$3.apply(this,arguments)}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rq(Object(r),!0).forEach(function(n){Fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Koe(n.key),n)}}function e$e(e,t,r){return t&&Q8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t$e(e,t,r){return t=uS(t),r$e(e,Goe()?Reflect.construct(t,r||[],uS(e).constructor):t.apply(e,r))}function r$e(e,t){if(t&&(P0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(e)}function n$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Goe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Goe=function(){return!!e})()}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uS(e)}function s$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B3(e,t)}function B3(e,t){return B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B3(e,t)}function Fb(e,t,r){return t=Koe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Koe(e){var t=a$e(e,"string");return P0(t)=="symbol"?t:t+""}function a$e(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(P0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gl=32,x6=(function(e){function t(){return Z8e(this,t),t$e(this,t,arguments)}return s$e(t,e),e$e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=gl/2,o=gl/6,l=gl/3,c=n.inactive?a:n.color;if(n.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:gl,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(gl,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return oe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gl/8,"h").concat(gl,"v").concat(gl*3/4,"h").concat(-gl,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(n.legendIcon)){var u=J8e({},n);return delete u.legendIcon,oe.cloneElement(n.legendIcon,u)}return oe.createElement(g6,{fill:c,cx:i,cy:i,size:gl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:gl,height:gl},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var g=p.formatter||c,v=Ir(Fb(Fb({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Cr(p.value)?null:p.value;bc(!Cr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return oe.createElement("li",$3({className:v,style:f,key:"legend-item-".concat(y)},Xm(n.props,p,y)),oe.createElement(O3,{width:o,height:o,viewBox:d,style:m},n.renderIcon(p)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(_,p,y):_))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(b.PureComponent);Fb(x6,"displayName","Legend");Fb(x6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var TP,Iq;function i$e(){if(Iq)return TP;Iq=1;var e=jk();function t(){this.__data__=new e,this.size=0}return TP=t,TP}var AP,Mq;function o$e(){if(Mq)return AP;Mq=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return AP=e,AP}var PP,Fq;function l$e(){if(Fq)return PP;Fq=1;function e(t){return this.__data__.get(t)}return PP=e,PP}var OP,Lq;function c$e(){if(Lq)return OP;Lq=1;function e(t){return this.__data__.has(t)}return OP=e,OP}var DP,$q;function u$e(){if($q)return DP;$q=1;var e=jk(),t=o6(),r=l6(),n=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return DP=a,DP}var RP,Bq;function Yoe(){if(Bq)return RP;Bq=1;var e=jk(),t=i$e(),r=o$e(),n=l$e(),a=c$e(),i=u$e();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,RP=o,RP}var IP,Uq;function d$e(){if(Uq)return IP;Uq=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return IP=t,IP}var MP,Vq;function f$e(){if(Vq)return MP;Vq=1;function e(t){return this.__data__.has(t)}return MP=e,MP}var FP,zq;function Xoe(){if(zq)return FP;zq=1;var e=l6(),t=d$e(),r=f$e();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,FP=n,FP}var LP,qq;function Joe(){if(qq)return LP;qq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return LP=e,LP}var $P,Wq;function Zoe(){if(Wq)return $P;Wq=1;function e(t,r){return t.has(r)}return $P=e,$P}var BP,Hq;function Qoe(){if(Hq)return BP;Hq=1;var e=Xoe(),t=Joe(),r=Zoe(),n=1,a=2;function i(o,l,c,u,d,f){var m=c&n,p=o.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var g=f.get(o),v=f.get(l);if(g&&v)return g==l&&v==o;var _=-1,w=!0,j=c&a?new e:void 0;for(f.set(o,l),f.set(l,o);++_<p;){var C=o[_],S=l[_];if(u)var k=m?u(S,C,_,l,o,f):u(C,S,_,o,l,f);if(k!==void 0){if(k)continue;w=!1;break}if(j){if(!t(l,function(E,R){if(!r(j,R)&&(C===E||d(C,E,c,u,f)))return j.push(R)})){w=!1;break}}else if(!(C===S||d(C,S,c,u,f))){w=!1;break}}return f.delete(o),f.delete(l),w}return BP=i,BP}var UP,Gq;function h$e(){if(Gq)return UP;Gq=1;var e=_u(),t=e.Uint8Array;return UP=t,UP}var VP,Kq;function m$e(){if(Kq)return VP;Kq=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return VP=e,VP}var zP,Yq;function v6(){if(Yq)return zP;Yq=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return zP=e,zP}var qP,Xq;function p$e(){if(Xq)return qP;Xq=1;var e=s1(),t=h$e(),r=i6(),n=Qoe(),a=m$e(),i=v6(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",j=e?e.prototype:void 0,C=j?j.valueOf:void 0;function S(k,E,R,P,T,O,D){switch(R){case w:if(k.byteLength!=E.byteLength||k.byteOffset!=E.byteOffset)return!1;k=k.buffer,E=E.buffer;case _:return!(k.byteLength!=E.byteLength||!O(new t(k),new t(E)));case c:case u:case m:return r(+k,+E);case d:return k.name==E.name&&k.message==E.message;case p:case g:return k==E+"";case f:var I=a;case y:var L=P&o;if(I||(I=i),k.size!=E.size&&!L)return!1;var W=D.get(k);if(W)return W==E;P|=l,D.set(k,E);var q=n(I(k),I(E),P,T,O,D);return D.delete(k),q;case v:if(C)return C.call(k)==C.call(E)}return!1}return qP=S,qP}var WP,Jq;function ele(){if(Jq)return WP;Jq=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return WP=e,WP}var HP,Zq;function g$e(){if(Zq)return HP;Zq=1;var e=ele(),t=No();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return HP=r,HP}var GP,Qq;function x$e(){if(Qq)return GP;Qq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return GP=e,GP}var KP,eW;function v$e(){if(eW)return KP;eW=1;function e(){return[]}return KP=e,KP}var YP,tW;function y$e(){if(tW)return YP;tW=1;var e=x$e(),t=v$e(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return YP=i,YP}var XP,rW;function b$e(){if(rW)return XP;rW=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return XP=e,XP}var JP,nW;function w$e(){if(nW)return JP;nW=1;var e=vd(),t=yd(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return JP=n,JP}var ZP,sW;function y6(){if(sW)return ZP;sW=1;var e=w$e(),t=yd(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return ZP=i,ZP}var ay={exports:{}},QP,aW;function _$e(){if(aW)return QP;aW=1;function e(){return!1}return QP=e,QP}ay.exports;var iW;function tle(){return iW||(iW=1,(function(e,t){var r=_u(),n=_$e(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ay,ay.exports)),ay.exports}var e4,oW;function b6(){if(oW)return e4;oW=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return e4=r,e4}var t4,lW;function w6(){if(lW)return t4;lW=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return t4=t,t4}var r4,cW;function j$e(){if(cW)return r4;cW=1;var e=vd(),t=w6(),r=yd(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",E="[object Uint8Array]",R="[object Uint8ClampedArray]",P="[object Uint16Array]",T="[object Uint32Array]",O={};O[w]=O[j]=O[C]=O[S]=O[k]=O[E]=O[R]=O[P]=O[T]=!0,O[n]=O[a]=O[v]=O[i]=O[_]=O[o]=O[l]=O[c]=O[u]=O[d]=O[f]=O[m]=O[p]=O[y]=O[g]=!1;function D(I){return r(I)&&t(I.length)&&!!O[e(I)]}return r4=D,r4}var n4,uW;function rle(){if(uW)return n4;uW=1;function e(t){return function(r){return t(r)}}return n4=e,n4}var iy={exports:{}};iy.exports;var dW;function N$e(){return dW||(dW=1,(function(e,t){var r=_oe(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(iy,iy.exports)),iy.exports}var s4,fW;function nle(){if(fW)return s4;fW=1;var e=j$e(),t=rle(),r=N$e(),n=r&&r.isTypedArray,a=n?t(n):e;return s4=a,s4}var a4,hW;function S$e(){if(hW)return a4;hW=1;var e=b$e(),t=y6(),r=No(),n=tle(),a=b6(),i=nle(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),m=!f&&t(u),p=!f&&!m&&n(u),y=!f&&!m&&!p&&i(u),g=f||m||p||y,v=g?e(u.length,String):[],_=v.length;for(var w in u)(d||l.call(u,w))&&!(g&&(w=="length"||p&&(w=="offset"||w=="parent")||y&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,_)))&&v.push(w);return v}return a4=c,a4}var i4,mW;function k$e(){if(mW)return i4;mW=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return i4=t,i4}var o4,pW;function sle(){if(pW)return o4;pW=1;function e(t,r){return function(n){return t(r(n))}}return o4=e,o4}var l4,gW;function C$e(){if(gW)return l4;gW=1;var e=sle(),t=e(Object.keys,Object);return l4=t,l4}var c4,xW;function E$e(){if(xW)return c4;xW=1;var e=k$e(),t=C$e(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return c4=a,c4}var u4,vW;function i1(){if(vW)return u4;vW=1;var e=a6(),t=w6();function r(n){return n!=null&&t(n.length)&&!e(n)}return u4=r,u4}var d4,yW;function Ak(){if(yW)return d4;yW=1;var e=S$e(),t=E$e(),r=i1();function n(a){return r(a)?e(a):t(a)}return d4=n,d4}var f4,bW;function T$e(){if(bW)return f4;bW=1;var e=g$e(),t=y$e(),r=Ak();function n(a){return e(a,r,t)}return f4=n,f4}var h4,wW;function A$e(){if(wW)return h4;wW=1;var e=T$e(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,u,d){var f=l&t,m=e(i),p=m.length,y=e(o),g=y.length;if(p!=g&&!f)return!1;for(var v=p;v--;){var _=m[v];if(!(f?_ in o:n.call(o,_)))return!1}var w=d.get(i),j=d.get(o);if(w&&j)return w==o&&j==i;var C=!0;d.set(i,o),d.set(o,i);for(var S=f;++v<p;){_=m[v];var k=i[_],E=o[_];if(c)var R=f?c(E,k,_,o,i,d):c(k,E,_,i,o,d);if(!(R===void 0?k===E||u(k,E,l,c,d):R)){C=!1;break}S||(S=_=="constructor")}if(C&&!S){var P=i.constructor,T=o.constructor;P!=T&&"constructor"in i&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof T=="function"&&T instanceof T)&&(C=!1)}return d.delete(i),d.delete(o),C}return h4=a,h4}var m4,_W;function P$e(){if(_W)return m4;_W=1;var e=xp(),t=_u(),r=e(t,"DataView");return m4=r,m4}var p4,jW;function O$e(){if(jW)return p4;jW=1;var e=xp(),t=_u(),r=e(t,"Promise");return p4=r,p4}var g4,NW;function ale(){if(NW)return g4;NW=1;var e=xp(),t=_u(),r=e(t,"Set");return g4=r,g4}var x4,SW;function D$e(){if(SW)return x4;SW=1;var e=xp(),t=_u(),r=e(t,"WeakMap");return x4=r,x4}var v4,kW;function R$e(){if(kW)return v4;kW=1;var e=P$e(),t=o6(),r=O$e(),n=ale(),a=D$e(),i=vd(),o=joe(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",p=o(e),y=o(t),g=o(r),v=o(n),_=o(a),w=i;return(e&&w(new e(new ArrayBuffer(1)))!=m||t&&w(new t)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=d||a&&w(new a)!=f)&&(w=function(j){var C=i(j),S=C==c?j.constructor:void 0,k=S?o(S):"";if(k)switch(k){case p:return m;case y:return l;case g:return u;case v:return d;case _:return f}return C}),v4=w,v4}var y4,CW;function I$e(){if(CW)return y4;CW=1;var e=Yoe(),t=Qoe(),r=p$e(),n=A$e(),a=R$e(),i=No(),o=tle(),l=nle(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(g,v,_,w,j,C){var S=i(g),k=i(v),E=S?d:a(g),R=k?d:a(v);E=E==u?f:E,R=R==u?f:R;var P=E==f,T=R==f,O=E==R;if(O&&o(g)){if(!o(v))return!1;S=!0,P=!1}if(O&&!P)return C||(C=new e),S||l(g)?t(g,v,_,w,j,C):r(g,v,E,_,w,j,C);if(!(_&c)){var D=P&&p.call(g,"__wrapped__"),I=T&&p.call(v,"__wrapped__");if(D||I){var L=D?g.value():g,W=I?v.value():v;return C||(C=new e),j(L,W,_,w,C)}}return O?(C||(C=new e),n(g,v,_,w,j,C)):!1}return y4=y,y4}var b4,EW;function _6(){if(EW)return b4;EW=1;var e=I$e(),t=yd();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,l)}return b4=r,b4}var w4,TW;function M$e(){if(TW)return w4;TW=1;var e=Yoe(),t=_6(),r=1,n=2;function a(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var m=l[u];if(f&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=l[u];var p=m[0],y=i[p],g=m[1];if(f&&m[2]){if(y===void 0&&!(p in i))return!1}else{var v=new e;if(c)var _=c(y,g,p,i,o,v);if(!(_===void 0?t(g,y,r|n,c,v):_))return!1}}return!0}return w4=a,w4}var _4,AW;function ile(){if(AW)return _4;AW=1;var e=dh();function t(r){return r===r&&!e(r)}return _4=t,_4}var j4,PW;function F$e(){if(PW)return j4;PW=1;var e=ile(),t=Ak();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,e(l)]}return a}return j4=r,j4}var N4,OW;function ole(){if(OW)return N4;OW=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return N4=e,N4}var S4,DW;function L$e(){if(DW)return S4;DW=1;var e=M$e(),t=F$e(),r=ole();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return S4=n,S4}var k4,RW;function $$e(){if(RW)return k4;RW=1;function e(t,r){return t!=null&&r in Object(t)}return k4=e,k4}var C4,IW;function B$e(){if(IW)return C4;IW=1;var e=koe(),t=y6(),r=No(),n=b6(),a=w6(),i=Sk();function o(l,c,u){c=e(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var p=i(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&a(f)&&n(p,f)&&(r(l)||t(l)))}return C4=o,C4}var E4,MW;function U$e(){if(MW)return E4;MW=1;var e=$$e(),t=B$e();function r(n,a){return n!=null&&t(n,a,e)}return E4=r,E4}var T4,FW;function V$e(){if(FW)return T4;FW=1;var e=_6(),t=Coe(),r=U$e(),n=s6(),a=ile(),i=ole(),o=Sk(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(m){var p=t(m,d);return p===void 0&&p===f?r(m,d):e(f,p,l|c)}}return T4=u,T4}var A4,LW;function Ax(){if(LW)return A4;LW=1;function e(t){return t}return A4=e,A4}var P4,$W;function z$e(){if($W)return P4;$W=1;function e(t){return function(r){return r?.[t]}}return P4=e,P4}var O4,BW;function q$e(){if(BW)return O4;BW=1;var e=u6();function t(r){return function(n){return e(n,r)}}return O4=t,O4}var D4,UW;function W$e(){if(UW)return D4;UW=1;var e=z$e(),t=q$e(),r=s6(),n=Sk();function a(i){return r(i)?e(n(i)):t(i)}return D4=a,D4}var R4,VW;function ju(){if(VW)return R4;VW=1;var e=L$e(),t=V$e(),r=Ax(),n=No(),a=W$e();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return R4=i,R4}var I4,zW;function lle(){if(zW)return I4;zW=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return I4=e,I4}var M4,qW;function H$e(){if(qW)return M4;qW=1;function e(t){return t!==t}return M4=e,M4}var F4,WW;function G$e(){if(WW)return F4;WW=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return F4=e,F4}var L4,HW;function K$e(){if(HW)return L4;HW=1;var e=lle(),t=H$e(),r=G$e();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return L4=n,L4}var $4,GW;function Y$e(){if(GW)return $4;GW=1;var e=K$e();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return $4=t,$4}var B4,KW;function X$e(){if(KW)return B4;KW=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return B4=e,B4}var U4,YW;function J$e(){if(YW)return U4;YW=1;function e(){}return U4=e,U4}var V4,XW;function Z$e(){if(XW)return V4;XW=1;var e=ale(),t=J$e(),r=v6(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return V4=a,V4}var z4,JW;function Q$e(){if(JW)return z4;JW=1;var e=Xoe(),t=Y$e(),r=X$e(),n=Zoe(),a=Z$e(),i=v6(),o=200;function l(c,u,d){var f=-1,m=t,p=c.length,y=!0,g=[],v=g;if(d)y=!1,m=r;else if(p>=o){var _=u?null:a(c);if(_)return i(_);y=!1,m=n,v=new e}else v=u?[]:g;e:for(;++f<p;){var w=c[f],j=u?u(w):w;if(w=d||w!==0?w:0,y&&j===j){for(var C=v.length;C--;)if(v[C]===j)continue e;u&&v.push(j),g.push(w)}else m(v,j,d)||(v!==g&&v.push(j),g.push(w))}return g}return z4=l,z4}var q4,ZW;function eBe(){if(ZW)return q4;ZW=1;var e=ju(),t=Q$e();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return q4=r,q4}var tBe=eBe();const QW=on(tBe);function cle(e,t,r){return t===!0?QW(e,r):Cr(t)?QW(e,t):e}function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}var rBe=["ref"];function eH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eH(Object(r),!0).forEach(function(n){Pk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dle(n.key),n)}}function sBe(e,t,r){return t&&tH(e.prototype,t),r&&tH(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aBe(e,t,r){return t=dS(t),iBe(e,ule()?Reflect.construct(t,r||[],dS(e).constructor):t.apply(e,r))}function iBe(e,t){if(t&&(O0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oBe(e)}function oBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ule(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ule=function(){return!!e})()}function dS(e){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dS(e)}function lBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U3(e,t)}function U3(e,t){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U3(e,t)}function Pk(e,t,r){return t=dle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dle(e){var t=cBe(e,"string");return O0(t)=="symbol"?t:t+""}function cBe(e,t){if(O0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uBe(e,t){if(e==null)return{};var r=dBe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fBe(e){return e.value}function hBe(e,t){if(oe.isValidElement(e))return oe.cloneElement(e,t);if(typeof e=="function")return oe.createElement(e,t);t.ref;var r=uBe(t,rBe);return oe.createElement(x6,r)}var rH=1,wf=(function(e){function t(){var r;nBe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=aBe(this,t,[].concat(a)),Pk(r,"lastBoundingBox",{width:-1,height:-1}),r}return lBe(t,e),sBe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>rH||Math.abs(a.height-this.lastBoundingBox.height)>rH)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Iu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Iu(Iu({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Iu(Iu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return oe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},hBe(i,Iu(Iu({},this.props),{},{payload:cle(d,u,fBe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Iu(Iu({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&kt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(b.PureComponent);Pk(wf,"displayName","Legend");Pk(wf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var W4,nH;function mBe(){if(nH)return W4;nH=1;var e=s1(),t=y6(),r=No(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return W4=a,W4}var H4,sH;function fle(){if(sH)return H4;sH=1;var e=ele(),t=mBe();function r(n,a,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return H4=r,H4}var G4,aH;function pBe(){if(aH)return G4;aH=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return G4=e,G4}var K4,iH;function gBe(){if(iH)return K4;iH=1;var e=pBe(),t=e();return K4=t,K4}var Y4,oH;function hle(){if(oH)return Y4;oH=1;var e=gBe(),t=Ak();function r(n,a){return n&&e(n,a,t)}return Y4=r,Y4}var X4,lH;function xBe(){if(lH)return X4;lH=1;var e=i1();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return X4=t,X4}var J4,cH;function j6(){if(cH)return J4;cH=1;var e=hle(),t=xBe(),r=t(e);return J4=r,J4}var Z4,uH;function mle(){if(uH)return Z4;uH=1;var e=j6(),t=i1();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=a(l,c,u)}),o}return Z4=r,Z4}var Q4,dH;function vBe(){if(dH)return Q4;dH=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Q4=e,Q4}var eO,fH;function yBe(){if(fH)return eO;fH=1;var e=Cx();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return eO=t,eO}var tO,hH;function bBe(){if(hH)return tO;hH=1;var e=yBe();function t(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return tO=t,tO}var rO,mH;function wBe(){if(mH)return rO;mH=1;var e=c6(),t=u6(),r=ju(),n=mle(),a=vBe(),i=rle(),o=bBe(),l=Ax(),c=No();function u(d,f,m){f.length?f=e(f,function(g){return c(g)?function(v){return t(v,g.length===1?g[0]:g)}:g}):f=[l];var p=-1;f=e(f,i(r));var y=n(d,function(g,v,_){var w=e(f,function(j){return j(g)});return{criteria:w,index:++p,value:g}});return a(y,function(g,v){return o(g,v,m)})}return rO=u,rO}var nO,pH;function _Be(){if(pH)return nO;pH=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return nO=e,nO}var sO,gH;function jBe(){if(gH)return sO;gH=1;var e=_Be(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=i(u),e(n,this,d)}}return sO=r,sO}var aO,xH;function NBe(){if(xH)return aO;xH=1;function e(t){return function(){return t}}return aO=e,aO}var iO,vH;function ple(){if(vH)return iO;vH=1;var e=xp(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return iO=t,iO}var oO,yH;function SBe(){if(yH)return oO;yH=1;var e=NBe(),t=ple(),r=Ax(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return oO=n,oO}var lO,bH;function kBe(){if(bH)return lO;bH=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return lO=n,lO}var cO,wH;function CBe(){if(wH)return cO;wH=1;var e=SBe(),t=kBe(),r=t(e);return cO=r,cO}var uO,_H;function EBe(){if(_H)return uO;_H=1;var e=Ax(),t=jBe(),r=CBe();function n(a,i){return r(t(a,i,e),a+"")}return uO=n,uO}var dO,jH;function Ok(){if(jH)return dO;jH=1;var e=i6(),t=i1(),r=b6(),n=dh();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return dO=a,dO}var fO,NH;function TBe(){if(NH)return fO;NH=1;var e=fle(),t=wBe(),r=EBe(),n=Ok(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return fO=a,fO}var ABe=TBe();const N6=on(ABe);function Lb(e){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lb(e)}function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}function PBe(e,t){return IBe(e)||RBe(e,t)||DBe(e,t)||OBe()}function OBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DBe(e,t){if(e){if(typeof e=="string")return SH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SH(e,t)}}function SH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function IBe(e){if(Array.isArray(e))return e}function kH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kH(Object(r),!0).forEach(function(n){MBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MBe(e,t,r){return t=FBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FBe(e){var t=LBe(e,"string");return Lb(t)=="symbol"?t:t+""}function LBe(e,t){if(Lb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Be(e){return Array.isArray(e)&&Ta(e[0])&&Ta(e[1])?e.join(" ~ "):e}var BBe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,g=t.label,v=t.labelFormatter,_=t.accessibilityLayer,w=_===void 0?!1:_,j=function(){if(d&&d.length){var D={padding:0,margin:0},I=(m?N6(d,m):d).map(function(L,W){if(L.type==="none")return null;var q=hO({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),G=L.formatter||f||$Be,K=L.value,U=L.name,F=K,B=U;if(G&&F!=null&&B!=null){var V=G(K,U,L,W,d);if(Array.isArray(V)){var Z=PBe(V,2);F=Z[0],B=Z[1]}else F=V}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:q},Ta(B)?oe.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ta(B)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},F),oe.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:D},I)}return null},C=hO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=hO({margin:0},u),k=!Dr(g),E=k?g:"",R=Ir("recharts-default-tooltip",p),P=Ir("recharts-tooltip-label",y);k&&v&&d!==void 0&&d!==null&&(E=v(g,d));var T=w?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",V3({className:R,style:C},T),oe.createElement("p",{className:P,style:S},oe.isValidElement(E)?E:"".concat(E)),j())};function $b(e){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(e)}function uj(e,t,r){return t=UBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UBe(e){var t=VBe(e,"string");return $b(t)=="symbol"?t:t+""}function VBe(e,t){if($b(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tv="recharts-tooltip-wrapper",zBe={visibility:"hidden"};function qBe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ir(Tv,uj(uj(uj(uj({},"".concat(Tv,"-right"),kt(r)&&t&&kt(t.x)&&r>=t.x),"".concat(Tv,"-left"),kt(r)&&t&&kt(t.x)&&r<t.x),"".concat(Tv,"-bottom"),kt(n)&&t&&kt(t.y)&&n>=t.y),"".concat(Tv,"-top"),kt(n)&&t&&kt(t.y)&&n<t.y))}function CH(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&kt(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(f,c[n])}function WBe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function HBe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=CH({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=CH({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=WBe({translateX:d,translateY:f,useTranslate3d:l})):u=zBe,{cssProperties:u,cssClasses:qBe({translateX:d,translateY:f,coordinate:r})}}function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function EH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EH(Object(r),!0).forEach(function(n){q3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xle(n.key),n)}}function YBe(e,t,r){return t&&KBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XBe(e,t,r){return t=fS(t),JBe(e,gle()?Reflect.construct(t,r||[],fS(e).constructor):t.apply(e,r))}function JBe(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZBe(e)}function ZBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gle=function(){return!!e})()}function fS(e){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fS(e)}function QBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z3(e,t)}function z3(e,t){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z3(e,t)}function q3(e,t,r){return t=xle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xle(e){var t=e9e(e,"string");return D0(t)=="symbol"?t:t+""}function e9e(e,t){if(D0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AH=1,t9e=(function(e){function t(){var r;GBe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=XBe(this,t,[].concat(a)),q3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),q3(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return QBe(t,e),YBe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>AH||Math.abs(n.height-this.state.lastBoundingBox.height)>AH)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,y=a.position,g=a.reverseDirection,v=a.useTranslate3d,_=a.viewBox,w=a.wrapperStyle,j=HBe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),C=j.cssClasses,S=j.cssProperties,k=TH(TH({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return oe.createElement("div",{tabIndex:-1,className:C,style:k,ref:function(R){n.wrapperNode=R}},u)}}])})(b.PureComponent),r9e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vp={isSsr:r9e()};function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function PH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PH(Object(r),!0).forEach(function(n){S6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yle(n.key),n)}}function a9e(e,t,r){return t&&s9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i9e(e,t,r){return t=hS(t),o9e(e,vle()?Reflect.construct(t,r||[],hS(e).constructor):t.apply(e,r))}function o9e(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l9e(e)}function l9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vle=function(){return!!e})()}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hS(e)}function c9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W3(e,t)}function W3(e,t){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W3(e,t)}function S6(e,t,r){return t=yle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yle(e){var t=u9e(e,"string");return R0(t)=="symbol"?t:t+""}function u9e(e,t){if(R0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function d9e(e){return e.dataKey}function f9e(e,t){return oe.isValidElement(e)?oe.cloneElement(e,t):typeof e=="function"?oe.createElement(e,t):oe.createElement(BBe,t)}var ho=(function(e){function t(){return n9e(this,t),i9e(this,t,arguments)}return c9e(t,e),a9e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,y=a.payload,g=a.payloadUniqBy,v=a.position,_=a.reverseDirection,w=a.useTranslate3d,j=a.viewBox,C=a.wrapperStyle,S=y??[];f&&S.length&&(S=cle(y.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,d9e));var k=S.length>0;return oe.createElement(t9e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:k,offset:p,position:v,reverseDirection:_,useTranslate3d:w,viewBox:j,wrapperStyle:C},f9e(u,OH(OH({},this.props),{},{payload:S})))}}])})(b.PureComponent);S6(ho,"displayName","Tooltip");S6(ho,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mO,DH;function h9e(){if(DH)return mO;DH=1;var e=_u(),t=function(){return e.Date.now()};return mO=t,mO}var pO,RH;function m9e(){if(RH)return pO;RH=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return pO=t,pO}var gO,IH;function p9e(){if(IH)return gO;IH=1;var e=m9e(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return gO=r,gO}var xO,MH;function ble(){if(MH)return xO;MH=1;var e=p9e(),t=dh(),r=Cx(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return xO=c,xO}var vO,FH;function g9e(){if(FH)return vO;FH=1;var e=dh(),t=h9e(),r=ble(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,f,m,p,y,g,v=0,_=!1,w=!1,j=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(_=!!u.leading,w="maxWait"in u,m=w?a(r(u.maxWait)||0,c):m,j="trailing"in u?!!u.trailing:j);function C(I){var L=d,W=f;return d=f=void 0,v=I,p=l.apply(W,L),p}function S(I){return v=I,y=setTimeout(R,c),_?C(I):p}function k(I){var L=I-g,W=I-v,q=c-L;return w?i(q,m-W):q}function E(I){var L=I-g,W=I-v;return g===void 0||L>=c||L<0||w&&W>=m}function R(){var I=t();if(E(I))return P(I);y=setTimeout(R,k(I))}function P(I){return y=void 0,j&&d?C(I):(d=f=void 0,p)}function T(){y!==void 0&&clearTimeout(y),v=0,d=g=f=y=void 0}function O(){return y===void 0?p:P(t())}function D(){var I=t(),L=E(I);if(d=arguments,f=this,g=I,L){if(y===void 0)return S(g);if(w)return clearTimeout(y),y=setTimeout(R,c),C(g)}return y===void 0&&(y=setTimeout(R,c)),p}return D.cancel=T,D.flush=O,D}return vO=o,vO}var yO,LH;function x9e(){if(LH)return yO;LH=1;var e=g9e(),t=dh(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return yO=n,yO}var v9e=x9e();const wle=on(v9e);function Bb(e){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(e)}function $H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$H(Object(r),!0).forEach(function(n){y9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$H(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y9e(e,t,r){return t=b9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9e(e){var t=w9e(e,"string");return Bb(t)=="symbol"?t:t+""}function w9e(e,t){if(Bb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _9e(e,t){return k9e(e)||S9e(e,t)||N9e(e,t)||j9e()}function j9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9e(e,t){if(e){if(typeof e=="string")return BH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BH(e,t)}}function BH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function k9e(e){if(Array.isArray(e))return e}var $y=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,p=e.children,y=e.debounce,g=y===void 0?0:y,v=e.id,_=e.className,w=e.onResize,j=e.style,C=j===void 0?{}:j,S=b.useRef(null),k=b.useRef();k.current=w,b.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=b.useState({containerWidth:a.width,containerHeight:a.height}),R=_9e(E,2),P=R[0],T=R[1],O=b.useCallback(function(I,L){T(function(W){var q=Math.round(I),G=Math.round(L);return W.containerWidth===q&&W.containerHeight===G?W:{containerWidth:q,containerHeight:G}})},[]);b.useEffect(function(){var I=function(U){var F,B=U[0].contentRect,V=B.width,Z=B.height;O(V,Z),(F=k.current)===null||F===void 0||F.call(k,V,Z)};g>0&&(I=wle(I,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(I),W=S.current.getBoundingClientRect(),q=W.width,G=W.height;return O(q,G),L.observe(S.current),function(){L.disconnect()}},[O,g]);var D=b.useMemo(function(){var I=P.containerWidth,L=P.containerHeight;if(I<0||L<0)return null;bc(nm(o)||nm(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),bc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=nm(o)?I:o,q=nm(c)?L:c;r&&r>0&&(W?q=W/r:q&&(W=q*r),m&&q>m&&(q=m)),bc(W>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,q,o,c,d,f,r);var G=!Array.isArray(p)&&ed(p.type).endsWith("Chart");return oe.Children.map(p,function(K){return oe.isValidElement(K)?b.cloneElement(K,dj({width:W,height:q},G?{style:dj({height:"100%",width:"100%",maxHeight:q,maxWidth:W},K.props.style)}:{})):K})},[r,p,c,m,f,d,P,o]);return oe.createElement("div",{id:v?"".concat(v):void 0,className:Ir("recharts-responsive-container",_),style:dj(dj({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},D)}),Dk=function(t){return null};Dk.displayName="Cell";function Ub(e){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(e)}function UH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UH(Object(r),!0).forEach(function(n){C9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9e(e,t,r){return t=E9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9e(e){var t=T9e(e,"string");return Ub(t)=="symbol"?t:t+""}function T9e(e,t){if(Ub(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ub(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fg={widthCache:{},cacheCount:0},A9e=2e3,P9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VH="recharts_measurement_span";function O9e(e){var t=H3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var By=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vp.isSsr)return{width:0,height:0};var n=O9e(r),a=JSON.stringify({text:t,copyStyle:n});if(fg.widthCache[a])return fg.widthCache[a];try{var i=document.getElementById(VH);i||(i=document.createElement("span"),i.setAttribute("id",VH),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=H3(H3({},P9e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return fg.widthCache[a]=c,++fg.cacheCount>A9e&&(fg.cacheCount=0,fg.widthCache={}),c}catch{return{width:0,height:0}}},D9e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function mS(e,t){return F9e(e)||M9e(e,t)||I9e(e,t)||R9e()}function R9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9e(e,t){if(e){if(typeof e=="string")return zH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zH(e,t)}}function zH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function F9e(e){if(Array.isArray(e))return e}function L9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B9e(n.key),n)}}function $9e(e,t,r){return t&&qH(e.prototype,t),r&&qH(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B9e(e){var t=U9e(e,"string");return Vb(t)=="symbol"?t:t+""}function U9e(e,t){if(Vb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,V9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,z9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_le={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},q9e=Object.keys(_le),Og="NaN";function W9e(e,t){return e*_le[t]}var fj=(function(){function e(t,r){L9e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!V9e.test(r)&&(this.num=NaN,this.unit=""),q9e.includes(r)&&(this.num=W9e(t,r),this.unit="px")}return $9e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=z9e.exec(r))!==null&&n!==void 0?n:[],i=mS(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function jle(e){if(e.includes(Og))return Og;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=WH.exec(t))!==null&&r!==void 0?r:[],a=mS(n,4),i=a[1],o=a[2],l=a[3],c=fj.parse(i??""),u=fj.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Og;t=t.replace(WH,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=HH.exec(t))!==null&&f!==void 0?f:[],p=mS(m,4),y=p[1],g=p[2],v=p[3],_=fj.parse(y??""),w=fj.parse(v??""),j=g==="+"?_.add(w):_.subtract(w);if(j.isNaN())return Og;t=t.replace(HH,j.toString())}return t}var GH=/\(([^()]*)\)/;function H9e(e){for(var t=e;t.includes("(");){var r=GH.exec(t),n=mS(r,2),a=n[1];t=t.replace(GH,jle(a))}return t}function G9e(e){var t=e.replace(/\s+/g,"");return t=H9e(t),t=jle(t),t}function K9e(e){try{return G9e(e)}catch{return Og}}function bO(e){var t=K9e(e.slice(5,-1));return t===Og?"":t}var Y9e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],X9e=["dx","dy","angle","className","breakAll"];function G3(){return G3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G3.apply(this,arguments)}function KH(e,t){if(e==null)return{};var r=J9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YH(e,t){return tUe(e)||eUe(e,t)||Q9e(e,t)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9e(e,t){if(e){if(typeof e=="string")return XH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XH(e,t)}}function XH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tUe(e){if(Array.isArray(e))return e}var Nle=/[ \f\n\r\t\v\u2028\u2029]+/,Sle=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Dr(r)||(n?i=r.toString().split(""):i=r.toString().split(Nle));var o=i.map(function(c){return{word:c,width:By(c,a).width}}),l=n?0:By("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rUe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=kt(o),f=l,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(q,G){var K=G.word,U=G.width,F=q[q.length-1];if(F&&(a==null||i||F.width+U+n<Number(a)))F.words.push(K),F.width+=U+n;else{var B={words:[K],width:U};q.push(B)}return q},[])},p=m(r),y=function(W){return W.reduce(function(q,G){return q.width>G.width?q:G})};if(!d)return p;for(var g="",v=function(W){var q=f.slice(0,W),G=Sle({breakAll:u,style:c,children:q+g}).wordsWithComputedWidth,K=m(G),U=K.length>o||y(K).width>Number(a);return[U,K]},_=0,w=f.length-1,j=0,C;_<=w&&j<=f.length-1;){var S=Math.floor((_+w)/2),k=S-1,E=v(k),R=YH(E,2),P=R[0],T=R[1],O=v(S),D=YH(O,1),I=D[0];if(!P&&!I&&(_=S+1),P&&I&&(w=S-1),!P&&I){C=T;break}j++}return C||p},JH=function(t){var r=Dr(t)?[]:t.toString().split(Nle);return[{words:r}]},nUe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!vp.isSsr){var c,u,d=Sle({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return JH(a);return rUe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return JH(a)},ZH="#808080",Jm=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,p=m===void 0?"start":m,y=t.verticalAnchor,g=y===void 0?"end":y,v=t.fill,_=v===void 0?ZH:v,w=KH(t,Y9e),j=b.useMemo(function(){return nUe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,S=w.dy,k=w.angle,E=w.className,R=w.breakAll,P=KH(w,X9e);if(!Ta(n)||!Ta(i))return null;var T=n+(kt(C)?C:0),O=i+(kt(S)?S:0),D;switch(g){case"start":D=bO("calc(".concat(u,")"));break;case"middle":D=bO("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=bO("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(f){var L=j[0].width,W=w.width;I.push("scale(".concat((kt(W)?W/L:1)/L,")"))}return k&&I.push("rotate(".concat(k,", ").concat(T,", ").concat(O,")")),I.length&&(P.transform=I.join(" ")),oe.createElement("text",G3({},mr(P,!0),{x:T,y:O,className:Ir("recharts-text",E),textAnchor:p,fill:_.includes("url")?ZH:_}),j.map(function(q,G){var K=q.words.join(R?"":" ");return oe.createElement("tspan",{x:T,dy:G===0?D:l,key:"".concat(K,"-").concat(G)},K)}))};function _f(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sUe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k6(e){let t,r,n;e.length!==2?(t=_f,r=(l,c)=>_f(e(l),c),n=(l,c)=>e(l)-c):(t=e===_f||e===sUe?e:aUe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function aUe(){return 0}function kle(e){return e===null?NaN:+e}function*iUe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oUe=k6(_f),o1=oUe.right;k6(kle).center;class QH extends Map{constructor(t,r=uUe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(eG(this,t))}has(t){return super.has(eG(this,t))}set(t,r){return super.set(lUe(this,t),r)}delete(t){return super.delete(cUe(this,t))}}function eG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lUe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cUe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uUe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dUe(e=_f){if(e===_f)return Cle;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Cle(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fUe=Math.sqrt(50),hUe=Math.sqrt(10),mUe=Math.sqrt(2);function pS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=fUe?10:i>=hUe?5:i>=mUe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?pS(e,t,r*2):[l,c,u]}function K3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?pS(t,e,r):pS(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Y3(e,t,r){return t=+t,e=+e,r=+r,pS(e,t,r)[2]}function X3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Y3(t,e,r):Y3(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tG(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rG(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Ele(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Cle:dUe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+m)),y=Math.min(n,Math.floor(t+(c-u)*f/c+m));Ele(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(Av(e,r,t),a(e[n],i)>0&&Av(e,r,n);o<l;){for(Av(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Av(e,r,l):(++l,Av(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Av(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pUe(e,t,r){if(e=Float64Array.from(iUe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rG(e);if(t>=1)return tG(e);var n,a=(n-1)*t,i=Math.floor(a),o=tG(Ele(e,i).subarray(0,i+1)),l=rG(e.subarray(i+1));return o+(l-o)*(a-i)}}function gUe(e,t,r=kle){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function xUe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Hl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const J3=Symbol("implicit");function C6(){var e=new QH,t=[],r=[],n=J3;function a(i){let o=e.get(i);if(o===void 0){if(n!==J3)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new QH;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return C6(t,r).unknown(n)},Hl.apply(a,arguments),a}function zb(){var e=C6().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,p=a<n,y=p?a:n,g=p?n:a;i=(g-y)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(m-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=xUe(m).map(function(_){return y+i*_});return r(p?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return zb(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hl.apply(f(),arguments)}function Tle(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Tle(t())},e}function Uy(){return Tle(zb.apply(null,arguments).paddingInner(1))}function E6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ale(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function l1(){}var qb=.7,gS=1/qb,o0="\\s*([+-]?\\d+)\\s*",Wb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vUe=/^#([0-9a-f]{3,8})$/,yUe=new RegExp(`^rgb\\(${o0},${o0},${o0}\\)$`),bUe=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),wUe=new RegExp(`^rgba\\(${o0},${o0},${o0},${Wb}\\)$`),_Ue=new RegExp(`^rgba\\(${nu},${nu},${nu},${Wb}\\)$`),jUe=new RegExp(`^hsl\\(${Wb},${nu},${nu}\\)$`),NUe=new RegExp(`^hsla\\(${Wb},${nu},${nu},${Wb}\\)$`),nG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E6(l1,Hb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sG,formatHex:sG,formatHex8:SUe,formatHsl:kUe,formatRgb:aG,toString:aG});function sG(){return this.rgb().formatHex()}function SUe(){return this.rgb().formatHex8()}function kUe(){return Ple(this).formatHsl()}function aG(){return this.rgb().formatRgb()}function Hb(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vUe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?iG(t):r===3?new mo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yUe.exec(e))?new mo(t[1],t[2],t[3],1):(t=bUe.exec(e))?new mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wUe.exec(e))?hj(t[1],t[2],t[3],t[4]):(t=_Ue.exec(e))?hj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jUe.exec(e))?cG(t[1],t[2]/100,t[3]/100,1):(t=NUe.exec(e))?cG(t[1],t[2]/100,t[3]/100,t[4]):nG.hasOwnProperty(e)?iG(nG[e]):e==="transparent"?new mo(NaN,NaN,NaN,0):null}function iG(e){return new mo(e>>16&255,e>>8&255,e&255,1)}function hj(e,t,r,n){return n<=0&&(e=t=r=NaN),new mo(e,t,r,n)}function CUe(e){return e instanceof l1||(e=Hb(e)),e?(e=e.rgb(),new mo(e.r,e.g,e.b,e.opacity)):new mo}function Z3(e,t,r,n){return arguments.length===1?CUe(e):new mo(e,t,r,n??1)}function mo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}E6(mo,Z3,Ale(l1,{brighter(e){return e=e==null?gS:Math.pow(gS,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qb:Math.pow(qb,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mo(_m(this.r),_m(this.g),_m(this.b),xS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oG,formatHex:oG,formatHex8:EUe,formatRgb:lG,toString:lG}));function oG(){return`#${sm(this.r)}${sm(this.g)}${sm(this.b)}`}function EUe(){return`#${sm(this.r)}${sm(this.g)}${sm(this.b)}${sm((isNaN(this.opacity)?1:this.opacity)*255)}`}function lG(){const e=xS(this.opacity);return`${e===1?"rgb(":"rgba("}${_m(this.r)}, ${_m(this.g)}, ${_m(this.b)}${e===1?")":`, ${e})`}`}function xS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _m(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sm(e){return e=_m(e),(e<16?"0":"")+e.toString(16)}function cG(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fc(e,t,r,n)}function Ple(e){if(e instanceof fc)return new fc(e.h,e.s,e.l,e.opacity);if(e instanceof l1||(e=Hb(e)),!e)return new fc;if(e instanceof fc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new fc(o,l,c,e.opacity)}function TUe(e,t,r,n){return arguments.length===1?Ple(e):new fc(e,t,r,n??1)}function fc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}E6(fc,TUe,Ale(l1,{brighter(e){return e=e==null?gS:Math.pow(gS,e),new fc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qb:Math.pow(qb,e),new fc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new mo(wO(e>=240?e-240:e+120,a,n),wO(e,a,n),wO(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new fc(uG(this.h),mj(this.s),mj(this.l),xS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xS(this.opacity);return`${e===1?"hsl(":"hsla("}${uG(this.h)}, ${mj(this.s)*100}%, ${mj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uG(e){return e=(e||0)%360,e<0?e+360:e}function mj(e){return Math.max(0,Math.min(1,e||0))}function wO(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const T6=e=>()=>e;function AUe(e,t){return function(r){return e+r*t}}function PUe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function OUe(e){return(e=+e)==1?Ole:function(t,r){return r-t?PUe(t,r,e):T6(isNaN(t)?r:t)}}function Ole(e,t){var r=t-e;return r?AUe(e,r):T6(isNaN(e)?t:e)}const dG=(function e(t){var r=OUe(t);function n(a,i){var o=r((a=Z3(a)).r,(i=Z3(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Ole(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function DUe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function RUe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IUe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Px(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function MUe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FUe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Px(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Q3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_O=new RegExp(Q3.source,"g");function LUe(e){return function(){return e}}function $Ue(e){return function(t){return e(t)+""}}function BUe(e,t){var r=Q3.lastIndex=_O.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Q3.exec(e))&&(a=_O.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:vS(n,a)})),r=_O.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?$Ue(c[0].x):LUe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Px(e,t){var r=typeof t,n;return t==null||r==="boolean"?T6(t):(r==="number"?vS:r==="string"?(n=Hb(t))?(t=n,dG):BUe:t instanceof Hb?dG:t instanceof Date?MUe:RUe(t)?DUe:Array.isArray(t)?IUe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FUe:vS)(e,t)}function A6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function UUe(e,t){t===void 0&&(t=e,e=Px);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function VUe(e){return function(){return e}}function yS(e){return+e}var fG=[0,1];function Ki(e){return e}function eI(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VUe(isNaN(t)?NaN:.5)}function zUe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function qUe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=eI(a,n),i=r(o,i)):(n=eI(n,a),i=r(i,o)),function(l){return i(n(l))}}function WUe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=eI(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=o1(e,l,1,n)-1;return i[c](a[c](l))}}function c1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rk(){var e=fG,t=fG,r=Px,n,a,i,o=Ki,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ki&&(o=zUe(e[0],e[m-1])),l=m>2?WUe:qUe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),vS)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,yS),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=A6,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ki,d()):o!==Ki},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,p){return n=m,a=p,d()}}function P6(){return Rk()(Ki,Ki)}function HUe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function I0(e){return e=bS(Math.abs(e)),e?e[1]:NaN}function GUe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function KUe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YUe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gb(e){if(!(t=YUe.exec(e)))throw new Error("invalid format: "+e);var t;return new O6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gb.prototype=O6.prototype;function O6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}O6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XUe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Dle;function JUe(e,t){var r=bS(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Dle=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+bS(e,Math.max(0,t+i-1))[0]}function hG(e,t){var r=bS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mG={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HUe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hG(e*100,t),r:hG,s:JUe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pG(e){return e}var gG=Array.prototype.map,xG=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZUe(e){var t=e.grouping===void 0||e.thousands===void 0?pG:GUe(gG.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pG:KUe(gG.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Gb(f);var m=f.fill,p=f.align,y=f.sign,g=f.symbol,v=f.zero,_=f.width,w=f.comma,j=f.precision,C=f.trim,S=f.type;S==="n"?(w=!0,S="g"):mG[S]||(j===void 0&&(j=12),C=!0,S="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var k=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?n:/[%p]/.test(S)?o:"",R=mG[S],P=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(O){var D=k,I=E,L,W,q;if(S==="c")I=R(O)+I,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?c:R(Math.abs(O),j),C&&(O=XUe(O)),G&&+O==0&&y!=="+"&&(G=!1),D=(G?y==="("?y:l:y==="-"||y==="("?"":y)+D,I=(S==="s"?xG[8+Dle/3]:"")+I+(G&&y==="("?")":""),P){for(L=-1,W=O.length;++L<W;)if(q=O.charCodeAt(L),48>q||q>57){I=(q===46?a+O.slice(L+1):O.slice(L))+I,O=O.slice(0,L);break}}}w&&!v&&(O=t(O,1/0));var K=D.length+O.length+I.length,U=K<_?new Array(_-K+1).join(m):"";switch(w&&v&&(O=t(U+O,U.length?_-I.length:1/0),U=""),p){case"<":O=D+O+I+U;break;case"=":O=D+U+O+I;break;case"^":O=U.slice(0,K=U.length>>1)+D+O+I+U.slice(K);break;default:O=U+D+O+I;break}return i(O)}return T.toString=function(){return f+""},T}function d(f,m){var p=u((f=Gb(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(I0(m)/3)))*3,g=Math.pow(10,-y),v=xG[8+y/3];return function(_){return p(g*_)+v}}return{format:u,formatPrefix:d}}var pj,D6,Rle;QUe({thousands:",",grouping:[3],currency:["$",""]});function QUe(e){return pj=ZUe(e),D6=pj.format,Rle=pj.formatPrefix,pj}function e7e(e){return Math.max(0,-I0(Math.abs(e)))}function t7e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(I0(t)/3)))*3-I0(Math.abs(e)))}function r7e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,I0(t)-I0(e))+1}function Ile(e,t,r,n){var a=X3(e,t,r),i;switch(n=Gb(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=t7e(a,o))&&(n.precision=i),Rle(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=r7e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=e7e(a))&&(n.precision=i-(n.type==="%")*2);break}}return D6(n)}function fh(e){var t=e.domain;return e.ticks=function(r){var n=t();return K3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Ile(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Y3(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wS(){var e=P6();return e.copy=function(){return c1(e,wS())},Hl.apply(e,arguments),fh(e)}function Mle(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,yS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Mle(e).unknown(t)},e=arguments.length?Array.from(e,yS):[0,1],fh(r)}function Fle(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function vG(e){return Math.log(e)}function yG(e){return Math.exp(e)}function n7e(e){return-Math.log(-e)}function s7e(e){return-Math.exp(-e)}function a7e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function i7e(e){return e===10?a7e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function o7e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bG(e){return(t,r)=>-e(-t,r)}function R6(e){const t=e(vG,yG),r=t.domain;let n=10,a,i;function o(){return a=o7e(n),i=i7e(n),r()[0]<0?(a=bG(a),i=bG(i),e(n7e,s7e)):e(vG,yG),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),y,g;const v=l==null?10:+l;let _=[];if(!(n%1)&&p-m<v){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<n;++y)if(g=m<0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;_.push(g)}}else for(;m<=p;++m)for(y=n-1;y>=1;--y)if(g=m>0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;_.push(g)}_.length*2<v&&(_=K3(u,d,v))}else _=K3(m,p,Math.min(p-m,v)).map(i);return f?_.reverse():_},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Gb(c)).precision==null&&(c.trim=!0),c=D6(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Fle(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Lle(){const e=R6(Rk()).domain([1,10]);return e.copy=()=>c1(e,Lle()).base(e.base()),Hl.apply(e,arguments),e}function wG(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _G(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function I6(e){var t=1,r=e(wG(t),_G(t));return r.constant=function(n){return arguments.length?e(wG(t=+n),_G(t)):t},fh(r)}function $le(){var e=I6(Rk());return e.copy=function(){return c1(e,$le()).constant(e.constant())},Hl.apply(e,arguments)}function jG(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l7e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function c7e(e){return e<0?-e*e:e*e}function M6(e){var t=e(Ki,Ki),r=1;function n(){return r===1?e(Ki,Ki):r===.5?e(l7e,c7e):e(jG(r),jG(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},fh(t)}function F6(){var e=M6(Rk());return e.copy=function(){return c1(e,F6()).exponent(e.exponent())},Hl.apply(e,arguments),e}function u7e(){return F6.apply(null,arguments).exponent(.5)}function NG(e){return Math.sign(e)*e*e}function d7e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ble(){var e=P6(),t=[0,1],r=!1,n;function a(i){var o=d7e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(NG(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,yS)).map(NG)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ble(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hl.apply(a,arguments),fh(a)}function Ule(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=gUe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[o1(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(_f),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Ule().domain(e).range(t).unknown(n)},Hl.apply(i,arguments)}function Vle(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[o1(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Vle().domain([e,t]).range(a).unknown(i)},Hl.apply(fh(o),arguments)}function zle(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[o1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return zle().domain(e).range(t).unknown(r)},Hl.apply(a,arguments)}const jO=new Date,NO=new Date;function Oa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Oa(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(jO.setTime(+i),NO.setTime(+o),e(jO),e(NO),Math.floor(r(jO,NO))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const _S=Oa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_S.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Oa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_S);_S.range;const Hu=1e3,Rl=Hu*60,Gu=Rl*60,ld=Gu*24,L6=ld*7,SG=ld*30,SO=ld*365,am=Oa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hu)},(e,t)=>(t-e)/Hu,e=>e.getUTCSeconds());am.range;const $6=Oa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hu)},(e,t)=>{e.setTime(+e+t*Rl)},(e,t)=>(t-e)/Rl,e=>e.getMinutes());$6.range;const B6=Oa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rl)},(e,t)=>(t-e)/Rl,e=>e.getUTCMinutes());B6.range;const U6=Oa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hu-e.getMinutes()*Rl)},(e,t)=>{e.setTime(+e+t*Gu)},(e,t)=>(t-e)/Gu,e=>e.getHours());U6.range;const V6=Oa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gu)},(e,t)=>(t-e)/Gu,e=>e.getUTCHours());V6.range;const u1=Oa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rl)/ld,e=>e.getDate()-1);u1.range;const Ik=Oa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ld,e=>e.getUTCDate()-1);Ik.range;const qle=Oa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ld,e=>Math.floor(e/ld));qle.range;function yp(e){return Oa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rl)/L6)}const Mk=yp(0),jS=yp(1),f7e=yp(2),h7e=yp(3),M0=yp(4),m7e=yp(5),p7e=yp(6);Mk.range;jS.range;f7e.range;h7e.range;M0.range;m7e.range;p7e.range;function bp(e){return Oa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/L6)}const Fk=bp(0),NS=bp(1),g7e=bp(2),x7e=bp(3),F0=bp(4),v7e=bp(5),y7e=bp(6);Fk.range;NS.range;g7e.range;x7e.range;F0.range;v7e.range;y7e.range;const z6=Oa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());z6.range;const q6=Oa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());q6.range;const cd=Oa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});cd.range;const ud=Oa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ud.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ud.range;function Wle(e,t,r,n,a,i){const o=[[am,1,Hu],[am,5,5*Hu],[am,15,15*Hu],[am,30,30*Hu],[i,1,Rl],[i,5,5*Rl],[i,15,15*Rl],[i,30,30*Rl],[a,1,Gu],[a,3,3*Gu],[a,6,6*Gu],[a,12,12*Gu],[n,1,ld],[n,2,2*ld],[r,1,L6],[t,1,SG],[t,3,3*SG],[e,1,SO]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,p=k6(([,,v])=>v).right(o,m);if(p===o.length)return e.every(X3(u/SO,d/SO,f));if(p===0)return _S.every(Math.max(X3(u,d,f),1));const[y,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return y.every(g)}return[l,c]}const[b7e,w7e]=Wle(ud,q6,Fk,qle,V6,B6),[_7e,j7e]=Wle(cd,z6,Mk,u1,U6,$6);function kO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function N7e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ov(a),d=Dv(a),f=Ov(i),m=Dv(i),p=Ov(o),y=Dv(o),g=Ov(l),v=Dv(l),_=Ov(c),w=Dv(c),j={a:G,A:K,b:U,B:F,c:null,d:PG,e:PG,f:G7e,g:nVe,G:aVe,H:q7e,I:W7e,j:H7e,L:Hle,m:K7e,M:Y7e,p:B,q:V,Q:RG,s:IG,S:X7e,u:J7e,U:Z7e,V:Q7e,w:eVe,W:tVe,x:null,X:null,y:rVe,Y:sVe,Z:iVe,"%":DG},C={a:Z,A:X,b:Q,B:ce,c:null,d:OG,e:OG,f:uVe,g:bVe,G:_Ve,H:oVe,I:lVe,j:cVe,L:Kle,m:dVe,M:fVe,p:de,q:pe,Q:RG,s:IG,S:hVe,u:mVe,U:pVe,V:gVe,w:xVe,W:vVe,x:null,X:null,y:yVe,Y:wVe,Z:jVe,"%":DG},S={a:T,A:O,b:D,B:I,c:L,d:TG,e:TG,f:B7e,g:EG,G:CG,H:AG,I:AG,j:M7e,L:$7e,m:I7e,M:F7e,p:P,q:R7e,Q:V7e,s:z7e,S:L7e,u:T7e,U:A7e,V:P7e,w:E7e,W:O7e,x:W,X:q,y:EG,Y:CG,Z:D7e,"%":U7e};j.x=k(r,j),j.X=k(n,j),j.c=k(t,j),C.x=k(r,C),C.X=k(n,C),C.c=k(t,C);function k(re,ie){return function(J){var z=[],Se=-1,te=0,_e=re.length,Ae,ue,Ve;for(J instanceof Date||(J=new Date(+J));++Se<_e;)re.charCodeAt(Se)===37&&(z.push(re.slice(te,Se)),(ue=kG[Ae=re.charAt(++Se)])!=null?Ae=re.charAt(++Se):ue=Ae==="e"?" ":"0",(Ve=ie[Ae])&&(Ae=Ve(J,ue)),z.push(Ae),te=Se+1);return z.push(re.slice(te,Se)),z.join("")}}function E(re,ie){return function(J){var z=Pv(1900,void 0,1),Se=R(z,re,J+="",0),te,_e;if(Se!=J.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ie&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(te=CO(Pv(z.y,0,1)),_e=te.getUTCDay(),te=_e>4||_e===0?NS.ceil(te):NS(te),te=Ik.offset(te,(z.V-1)*7),z.y=te.getUTCFullYear(),z.m=te.getUTCMonth(),z.d=te.getUTCDate()+(z.w+6)%7):(te=kO(Pv(z.y,0,1)),_e=te.getDay(),te=_e>4||_e===0?jS.ceil(te):jS(te),te=u1.offset(te,(z.V-1)*7),z.y=te.getFullYear(),z.m=te.getMonth(),z.d=te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),_e="Z"in z?CO(Pv(z.y,0,1)).getUTCDay():kO(Pv(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(_e+5)%7:z.w+z.U*7-(_e+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,CO(z)):kO(z)}}function R(re,ie,J,z){for(var Se=0,te=ie.length,_e=J.length,Ae,ue;Se<te;){if(z>=_e)return-1;if(Ae=ie.charCodeAt(Se++),Ae===37){if(Ae=ie.charAt(Se++),ue=S[Ae in kG?ie.charAt(Se++):Ae],!ue||(z=ue(re,J,z))<0)return-1}else if(Ae!=J.charCodeAt(z++))return-1}return z}function P(re,ie,J){var z=u.exec(ie.slice(J));return z?(re.p=d.get(z[0].toLowerCase()),J+z[0].length):-1}function T(re,ie,J){var z=p.exec(ie.slice(J));return z?(re.w=y.get(z[0].toLowerCase()),J+z[0].length):-1}function O(re,ie,J){var z=f.exec(ie.slice(J));return z?(re.w=m.get(z[0].toLowerCase()),J+z[0].length):-1}function D(re,ie,J){var z=_.exec(ie.slice(J));return z?(re.m=w.get(z[0].toLowerCase()),J+z[0].length):-1}function I(re,ie,J){var z=g.exec(ie.slice(J));return z?(re.m=v.get(z[0].toLowerCase()),J+z[0].length):-1}function L(re,ie,J){return R(re,t,ie,J)}function W(re,ie,J){return R(re,r,ie,J)}function q(re,ie,J){return R(re,n,ie,J)}function G(re){return o[re.getDay()]}function K(re){return i[re.getDay()]}function U(re){return c[re.getMonth()]}function F(re){return l[re.getMonth()]}function B(re){return a[+(re.getHours()>=12)]}function V(re){return 1+~~(re.getMonth()/3)}function Z(re){return o[re.getUTCDay()]}function X(re){return i[re.getUTCDay()]}function Q(re){return c[re.getUTCMonth()]}function ce(re){return l[re.getUTCMonth()]}function de(re){return a[+(re.getUTCHours()>=12)]}function pe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ie=k(re+="",j);return ie.toString=function(){return re},ie},parse:function(re){var ie=E(re+="",!1);return ie.toString=function(){return re},ie},utcFormat:function(re){var ie=k(re+="",C);return ie.toString=function(){return re},ie},utcParse:function(re){var ie=E(re+="",!0);return ie.toString=function(){return re},ie}}}var kG={"-":"",_:" ",0:"0"},Ka=/^\s*\d+/,S7e=/^%/,k7e=/[\\^$*+?|[\]().{}]/g;function wn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function C7e(e){return e.replace(k7e,"\\$&")}function Ov(e){return new RegExp("^(?:"+e.map(C7e).join("|")+")","i")}function Dv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function E7e(e,t,r){var n=Ka.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function T7e(e,t,r){var n=Ka.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function A7e(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function P7e(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function O7e(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CG(e,t,r){var n=Ka.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function EG(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function D7e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function R7e(e,t,r){var n=Ka.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function I7e(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function TG(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function M7e(e,t,r){var n=Ka.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function AG(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function F7e(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function L7e(e,t,r){var n=Ka.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $7e(e,t,r){var n=Ka.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function B7e(e,t,r){var n=Ka.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function U7e(e,t,r){var n=S7e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function V7e(e,t,r){var n=Ka.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function z7e(e,t,r){var n=Ka.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PG(e,t){return wn(e.getDate(),t,2)}function q7e(e,t){return wn(e.getHours(),t,2)}function W7e(e,t){return wn(e.getHours()%12||12,t,2)}function H7e(e,t){return wn(1+u1.count(cd(e),e),t,3)}function Hle(e,t){return wn(e.getMilliseconds(),t,3)}function G7e(e,t){return Hle(e,t)+"000"}function K7e(e,t){return wn(e.getMonth()+1,t,2)}function Y7e(e,t){return wn(e.getMinutes(),t,2)}function X7e(e,t){return wn(e.getSeconds(),t,2)}function J7e(e){var t=e.getDay();return t===0?7:t}function Z7e(e,t){return wn(Mk.count(cd(e)-1,e),t,2)}function Gle(e){var t=e.getDay();return t>=4||t===0?M0(e):M0.ceil(e)}function Q7e(e,t){return e=Gle(e),wn(M0.count(cd(e),e)+(cd(e).getDay()===4),t,2)}function eVe(e){return e.getDay()}function tVe(e,t){return wn(jS.count(cd(e)-1,e),t,2)}function rVe(e,t){return wn(e.getFullYear()%100,t,2)}function nVe(e,t){return e=Gle(e),wn(e.getFullYear()%100,t,2)}function sVe(e,t){return wn(e.getFullYear()%1e4,t,4)}function aVe(e,t){var r=e.getDay();return e=r>=4||r===0?M0(e):M0.ceil(e),wn(e.getFullYear()%1e4,t,4)}function iVe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function OG(e,t){return wn(e.getUTCDate(),t,2)}function oVe(e,t){return wn(e.getUTCHours(),t,2)}function lVe(e,t){return wn(e.getUTCHours()%12||12,t,2)}function cVe(e,t){return wn(1+Ik.count(ud(e),e),t,3)}function Kle(e,t){return wn(e.getUTCMilliseconds(),t,3)}function uVe(e,t){return Kle(e,t)+"000"}function dVe(e,t){return wn(e.getUTCMonth()+1,t,2)}function fVe(e,t){return wn(e.getUTCMinutes(),t,2)}function hVe(e,t){return wn(e.getUTCSeconds(),t,2)}function mVe(e){var t=e.getUTCDay();return t===0?7:t}function pVe(e,t){return wn(Fk.count(ud(e)-1,e),t,2)}function Yle(e){var t=e.getUTCDay();return t>=4||t===0?F0(e):F0.ceil(e)}function gVe(e,t){return e=Yle(e),wn(F0.count(ud(e),e)+(ud(e).getUTCDay()===4),t,2)}function xVe(e){return e.getUTCDay()}function vVe(e,t){return wn(NS.count(ud(e)-1,e),t,2)}function yVe(e,t){return wn(e.getUTCFullYear()%100,t,2)}function bVe(e,t){return e=Yle(e),wn(e.getUTCFullYear()%100,t,2)}function wVe(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function _Ve(e,t){var r=e.getUTCDay();return e=r>=4||r===0?F0(e):F0.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function jVe(){return"+0000"}function DG(){return"%"}function RG(e){return+e}function IG(e){return Math.floor(+e/1e3)}var hg,Xle,Jle;NVe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NVe(e){return hg=N7e(e),Xle=hg.format,hg.parse,Jle=hg.utcFormat,hg.utcParse,hg}function SVe(e){return new Date(e)}function kVe(e){return e instanceof Date?+e:+new Date(+e)}function W6(e,t,r,n,a,i,o,l,c,u){var d=P6(),f=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),w=u("%b %d"),j=u("%B"),C=u("%Y");function S(k){return(c(k)<k?p:l(k)<k?y:o(k)<k?g:i(k)<k?v:n(k)<k?a(k)<k?_:w:r(k)<k?j:C)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?m(Array.from(k,kVe)):m().map(SVe)},d.ticks=function(k){var E=m();return e(E[0],E[E.length-1],k??10)},d.tickFormat=function(k,E){return E==null?S:u(E)},d.nice=function(k){var E=m();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?m(Fle(E,k)):d},d.copy=function(){return c1(d,W6(e,t,r,n,a,i,o,l,c,u))},d}function CVe(){return Hl.apply(W6(_7e,j7e,cd,z6,Mk,u1,U6,$6,am,Xle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EVe(){return Hl.apply(W6(b7e,w7e,ud,q6,Fk,Ik,V6,B6,am,Jle).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lk(){var e=0,t=1,r,n,a,i,o=Ki,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var p,y;return arguments.length?([p,y]=m,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Px),u.rangeRound=d(A6),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function hh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Zle(){var e=fh(Lk()(Ki));return e.copy=function(){return hh(e,Zle())},bd.apply(e,arguments)}function Qle(){var e=R6(Lk()).domain([1,10]);return e.copy=function(){return hh(e,Qle()).base(e.base())},bd.apply(e,arguments)}function ece(){var e=I6(Lk());return e.copy=function(){return hh(e,ece()).constant(e.constant())},bd.apply(e,arguments)}function H6(){var e=M6(Lk());return e.copy=function(){return hh(e,H6()).exponent(e.exponent())},bd.apply(e,arguments)}function TVe(){return H6.apply(null,arguments).exponent(.5)}function tce(){var e=[],t=Ki;function r(n){if(n!=null&&!isNaN(n=+n))return t((o1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(_f),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>pUe(e,i/n))},r.copy=function(){return tce(t).domain(e)},bd.apply(r,arguments)}function $k(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Ki,d,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(v){var _,w,j;return arguments.length?([_,w,j]=v,u=UUe(g,[_,w,j]),p):[u(0),u(.5),u(1)]}}return p.range=y(Px),p.rangeRound=y(A6),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function rce(){var e=fh($k()(Ki));return e.copy=function(){return hh(e,rce())},bd.apply(e,arguments)}function nce(){var e=R6($k()).domain([.1,1,10]);return e.copy=function(){return hh(e,nce()).base(e.base())},bd.apply(e,arguments)}function sce(){var e=I6($k());return e.copy=function(){return hh(e,sce()).constant(e.constant())},bd.apply(e,arguments)}function G6(){var e=M6($k());return e.copy=function(){return hh(e,G6()).exponent(e.exponent())},bd.apply(e,arguments)}function AVe(){return G6.apply(null,arguments).exponent(.5)}const MG=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zb,scaleDiverging:rce,scaleDivergingLog:nce,scaleDivergingPow:G6,scaleDivergingSqrt:AVe,scaleDivergingSymlog:sce,scaleIdentity:Mle,scaleImplicit:J3,scaleLinear:wS,scaleLog:Lle,scaleOrdinal:C6,scalePoint:Uy,scalePow:F6,scaleQuantile:Ule,scaleQuantize:Vle,scaleRadial:Ble,scaleSequential:Zle,scaleSequentialLog:Qle,scaleSequentialPow:H6,scaleSequentialQuantile:tce,scaleSequentialSqrt:TVe,scaleSequentialSymlog:ece,scaleSqrt:u7e,scaleSymlog:$le,scaleThreshold:zle,scaleTime:CVe,scaleUtc:EVe,tickFormat:Ile},Symbol.toStringTag,{value:"Module"}));var EO,FG;function Bk(){if(FG)return EO;FG=1;var e=Cx();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=l}return d}return EO=t,EO}var TO,LG;function ace(){if(LG)return TO;LG=1;function e(t,r){return t>r}return TO=e,TO}var AO,$G;function PVe(){if($G)return AO;$G=1;var e=Bk(),t=ace(),r=Ax();function n(a){return a&&a.length?e(a,r,t):void 0}return AO=n,AO}var OVe=PVe();const Uk=on(OVe);var PO,BG;function ice(){if(BG)return PO;BG=1;function e(t,r){return t<r}return PO=e,PO}var OO,UG;function DVe(){if(UG)return OO;UG=1;var e=Bk(),t=ice(),r=Ax();function n(a){return a&&a.length?e(a,r,t):void 0}return OO=n,OO}var RVe=DVe();const Vk=on(RVe);var DO,VG;function IVe(){if(VG)return DO;VG=1;var e=c6(),t=ju(),r=mle(),n=No();function a(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return DO=a,DO}var RO,zG;function MVe(){if(zG)return RO;zG=1;var e=fle(),t=IVe();function r(n,a){return e(t(n,a),1)}return RO=r,RO}var FVe=MVe();const LVe=on(FVe);var IO,qG;function $Ve(){if(qG)return IO;qG=1;var e=_6();function t(r,n){return e(r,n)}return IO=t,IO}var BVe=$Ve();const d1=on(BVe);var Ox=1e9,UVe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Y6,fs=!0,zl="[DecimalError] ",jm=zl+"Invalid argument: ",K6=zl+"Exponent out of range: ",Dx=Math.floor,zh=Math.pow,VVe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Go,Ba=1e7,ss=7,oce=9007199254740991,SS=Dx(oce/ss),zt={};zt.absoluteValue=zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};zt.comparedTo=zt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ss;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};zt.dividedBy=zt.div=function(e){return td(this,new this.constructor(e))};zt.dividedToIntegerBy=zt.idiv=function(e){var t=this,r=t.constructor;return qn(td(t,new r(e),0,1),r.precision)};zt.equals=zt.eq=function(e){return!this.cmp(e)};zt.exponent=function(){return da(this)};zt.greaterThan=zt.gt=function(e){return this.cmp(e)>0};zt.greaterThanOrEqualTo=zt.gte=function(e){return this.cmp(e)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(e){return this.cmp(e)<0};zt.lessThanOrEqualTo=zt.lte=function(e){return this.cmp(e)<1};zt.logarithm=zt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Go))throw Error(zl+"NaN");if(r.s<1)throw Error(zl+(r.s?"NaN":"-Infinity"));return r.eq(Go)?new n(0):(fs=!1,t=td(Kb(r,i),Kb(e,i),i),fs=!0,qn(t,a))};zt.minus=zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uce(t,e):lce(t,(e.s=-e.s,e))};zt.modulo=zt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(zl+"NaN");return r.s?(fs=!1,t=td(r,e,0,1).times(e),fs=!0,r.minus(t)):qn(new n(r),a)};zt.naturalExponential=zt.exp=function(){return cce(this)};zt.naturalLogarithm=zt.ln=function(){return Kb(this)};zt.negated=zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};zt.plus=zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lce(t,e):uce(t,(e.s=-e.s,e))};zt.precision=zt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jm+e);if(t=da(a)+1,n=a.d.length-1,r=n*ss+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};zt.squareRoot=zt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zl+"NaN")}for(e=da(l),fs=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Xc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(td(l,i,o+2)).times(.5),Xc(i.d).slice(0,o)===(t=Xc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(qn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return fs=!0,qn(n,r)};zt.times=zt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(i=m,m=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*m[a-n-1]+t,i[a--]=l%Ba|0,t=l/Ba|0;i[a]=(i[a]+t)%Ba|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,fs?qn(e,f.precision):e};zt.toDecimalPlaces=zt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fu(e,0,Ox),t===void 0?t=n.rounding:fu(t,0,8),qn(r,e+da(r)+1,t))};zt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zm(n,!0):(fu(e,0,Ox),t===void 0?t=a.rounding:fu(t,0,8),n=qn(new a(n),e+1,t),r=Zm(n,!0,e+1)),r};zt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Zm(a):(fu(e,0,Ox),t===void 0?t=i.rounding:fu(t,0,8),n=qn(new i(a),e+da(a)+1,t),r=Zm(n.abs(),!1,e+da(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};zt.toInteger=zt.toint=function(){var e=this,t=e.constructor;return qn(new t(e),da(e)+1,t.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Go);if(l=new c(l),!l.s){if(e.s<1)throw Error(zl+"Infinity");return l}if(l.eq(Go))return l;if(n=c.precision,e.eq(Go))return qn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=oce){for(a=new c(Go),t=Math.ceil(n/ss+4),fs=!1;r%2&&(a=a.times(l),HG(a.d,t)),r=Dx(r/2),r!==0;)l=l.times(l),HG(l.d,t);return fs=!0,e.s<0?new c(Go).div(a):qn(a,n)}}else if(i<0)throw Error(zl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,fs=!1,a=e.times(Kb(l,n+u)),fs=!0,a=cce(a),a.s=i,a};zt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=da(a),n=Zm(a,r<=i.toExpNeg||r>=i.toExpPos)):(fu(e,1,Ox),t===void 0?t=i.rounding:fu(t,0,8),a=qn(new i(a),e,t),r=da(a),n=Zm(a,e<=r||r<=i.toExpNeg,e)),n};zt.toSignificantDigits=zt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fu(e,1,Ox),t===void 0?t=n.rounding:fu(t,0,8)),qn(new n(r),e,t)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=da(e),r=e.constructor;return Zm(e,t<=r.toExpNeg||t>=r.toExpPos)};function lce(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),fs?qn(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/ss),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ba|0,c[i]%=Ba;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,fs?qn(t,f):t}function fu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jm+e)}function Xc(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ss-n.length,r&&(i+=Zd(r)),i+=n;o=e[t],n=o+"",r=ss-n.length,r&&(i+=Zd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var td=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Ba|0,o=i/Ba|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Ba+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,p,y,g,v,_,w,j,C,S,k,E,R,P=n.constructor,T=n.s==a.s?1:-1,O=n.d,D=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(zl+"Division by zero");for(c=n.e-a.e,E=D.length,S=O.length,p=new P(T),y=p.d=[],u=0;D[u]==(O[u]||0);)++u;if(D[u]>(O[u]||0)&&--c,i==null?w=i=P.precision:o?w=i+(da(n)-da(a))+1:w=i,w<0)return new P(0);if(w=w/ss+2|0,u=0,E==1)for(d=0,D=D[0],w++;(u<S||d)&&w--;u++)j=d*Ba+(O[u]||0),y[u]=j/D|0,d=j%D|0;else{for(d=Ba/(D[0]+1)|0,d>1&&(D=e(D,d),O=e(O,d),E=D.length,S=O.length),C=E,g=O.slice(0,E),v=g.length;v<E;)g[v++]=0;R=D.slice(),R.unshift(0),k=D[0],D[1]>=Ba/2&&++k;do d=0,l=t(D,g,E,v),l<0?(_=g[0],E!=v&&(_=_*Ba+(g[1]||0)),d=_/k|0,d>1?(d>=Ba&&(d=Ba-1),f=e(D,d),m=f.length,v=g.length,l=t(f,g,m,v),l==1&&(d--,r(f,E<m?R:D,m))):(d==0&&(l=d=1),f=D.slice()),m=f.length,m<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(D,g,E,v),l<1&&(d++,r(g,E<v?R:D,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=O[C]||0:(g=[O[C]],v=1);while((C++<S||g[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=c,qn(p,o?i+da(p)+1:i)}})();function cce(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(da(e)>16)throw Error(K6+da(e));if(!e.s)return new d(Go);for(fs=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(zh(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Go),d.precision=l;;){if(a=qn(a.times(e),l),r=r.times(++c),o=i.plus(td(a,r,l)),Xc(o.d).slice(0,l)===Xc(i.d).slice(0,l)){for(;u--;)i=qn(i.times(i),l);return d.precision=f,t==null?(fs=!0,qn(i,f)):i}i=o}}function da(e){for(var t=e.e*ss,r=e.d[0];r>=10;r/=10)t++;return t}function MO(e,t,r){if(t>e.LN10.sd())throw fs=!0,r&&(e.precision=r),Error(zl+"LN10 precision limit exceeded");return qn(new e(e.LN10),t)}function Zd(e){for(var t="";e--;)t+="0";return t}function Kb(e,t){var r,n,a,i,o,l,c,u,d,f=1,m=10,p=e,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(zl+(p.s?"NaN":"-Infinity"));if(p.eq(Go))return new g(0);if(t==null?(fs=!1,u=v):u=t,p.eq(10))return t==null&&(fs=!0),MO(g,u);if(u+=m,g.precision=u,r=Xc(y),n=r.charAt(0),i=da(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Xc(p.d),n=r.charAt(0),f++;i=da(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=MO(g,u+2,v).times(i+""),p=Kb(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=v,t==null?(fs=!0,qn(p,v)):p;for(l=o=p=td(p.minus(Go),p.plus(Go),u),d=qn(p.times(p),u),a=3;;){if(o=qn(o.times(d),u),c=l.plus(td(o,new g(a),u)),Xc(c.d).slice(0,u)===Xc(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(MO(g,u+2,v).times(i+""))),l=td(l,new g(f),u),g.precision=v,t==null?(fs=!0,qn(l,v)):l;l=c,a+=2}}function WG(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dx(r/ss),e.d=[],n=(r+1)%ss,r<0&&(n+=ss),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ss;n<a;)e.d.push(+t.slice(n,n+=ss));t=t.slice(n),n=ss-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),fs&&(e.e>SS||e.e<-SS))throw Error(K6+r)}else e.s=0,e.e=0,e.d=[0];return e}function qn(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ss,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/ss),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=ss,a=n-ss+o}if(r!==void 0&&(i=zh(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/zh(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=da(e),f.length=1,t=t-i-1,f[0]=zh(10,(ss-t%ss)%ss),e.e=Dx(-t/ss)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=zh(10,ss-n),f[d]=a>0?(u/zh(10,o-a)%zh(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ba&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ba)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(fs&&(e.e>SS||e.e<-SS))throw Error(K6+da(e));return e}function uce(e,t){var r,n,a,i,o,l,c,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),fs?qn(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/ss),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ba-1;--c[i],c[a]+=Ba}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,fs?qn(t,p):t):new m(0)}function Zm(e,t,r){var n,a=da(e),i=Xc(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Zd(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Zd(-a-1)+i,r&&(n=r-o)>0&&(i+=Zd(n))):a>=o?(i+=Zd(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Zd(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Zd(n))),e.s<0?"-"+i:i}function HG(e,t){if(e.length>t)return e.length=t,!0}function dce(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return WG(o,i.toString())}else if(typeof i!="string")throw Error(jm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,VVe.test(i))WG(o,i);else throw Error(jm+i)}if(a.prototype=zt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=dce,a.config=a.set=zVe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function zVe(e){if(!e||typeof e!="object")throw Error(zl+"Object expected");var t,r,n,a=["precision",1,Ox,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dx(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(jm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jm+r+": "+n);return this}var Y6=dce(UVe);Go=new Y6(1);const Fn=Y6;function qVe(e){return KVe(e)||GVe(e)||HVe(e)||WVe()}function WVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HVe(e,t){if(e){if(typeof e=="string")return tI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tI(e,t)}}function GVe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function KVe(e){if(Array.isArray(e))return tI(e)}function tI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YVe=function(t){return t},fce={},hce=function(t){return t===fce},GG=function(t){return function r(){return arguments.length===0||arguments.length===1&&hce(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},XVe=function e(t,r){return t===1?r:GG(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==fce}).length;return o>=t?r.apply(void 0,a):e(t-o,GG(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return hce(f)?c.shift():f});return r.apply(void 0,qVe(d).concat(c))}))})},zk=function(t){return XVe(t.length,t)},rI=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},JVe=zk(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ZVe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YVe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},nI=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mce=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function QVe(e){var t;return e===0?t=1:t=Math.floor(new Fn(e).abs().log(10).toNumber())+1,t}function eze(e,t,r){for(var n=new Fn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var tze=zk(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),rze=zk(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),nze=zk(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const qk={rangeStep:eze,getDigitCount:QVe,interpolateNumber:tze,uninterpolateNumber:rze,uninterpolateTruncation:nze};function sI(e){return ize(e)||aze(e)||pce(e)||sze()}function sze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aze(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ize(e){if(Array.isArray(e))return aI(e)}function Yb(e,t){return cze(e)||lze(e,t)||pce(e,t)||oze()}function oze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pce(e,t){if(e){if(typeof e=="string")return aI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aI(e,t)}}function aI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lze(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function cze(e){if(Array.isArray(e))return e}function gce(e){var t=Yb(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function xce(e,t,r){if(e.lte(0))return new Fn(0);var n=qk.getDigitCount(e.toNumber()),a=new Fn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Fn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Fn(Math.ceil(c))}function uze(e,t,r){var n=1,a=new Fn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Fn(10).pow(qk.getDigitCount(e)-1),a=new Fn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Fn(Math.floor(e)))}else e===0?a=new Fn(Math.floor((t-1)/2)):r||(a=new Fn(Math.floor(e)));var o=Math.floor((t-1)/2),l=ZVe(JVe(function(c){return a.add(new Fn(c-o).mul(n)).toNumber()}),rI);return l(0,t)}function vce(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var i=xce(new Fn(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Fn(0):(o=new Fn(e).add(t).div(2),o=o.sub(new Fn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Fn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?vce(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Fn(l).mul(i)),tickMax:o.add(new Fn(c).mul(i))})}function dze(e){var t=Yb(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=gce([r,n]),c=Yb(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(sI(rI(0,a-1).map(function(){return 1/0}))):[].concat(sI(rI(0,a-1).map(function(){return-1/0})),[d]);return r>n?nI(f):f}if(u===d)return uze(u,a,i);var m=vce(u,d,o,i),p=m.step,y=m.tickMin,g=m.tickMax,v=qk.rangeStep(y,g.add(new Fn(.1).mul(p)),p);return r>n?nI(v):v}function fze(e,t){var r=Yb(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=gce([n,a]),l=Yb(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=xce(new Fn(u).sub(c).div(d-1),i,0),m=[].concat(sI(qk.rangeStep(new Fn(c),new Fn(u).sub(new Fn(.99).mul(f)),f)),[u]);return n>a?nI(m):m}var hze=mce(dze),mze=mce(fze),pze="Invariant failed";function Qm(e,t){throw new Error(pze)}var gze=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function xze(e,t){return wze(e)||bze(e,t)||yze(e,t)||vze()}function vze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yze(e,t){if(e){if(typeof e=="string")return KG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KG(e,t)}}function KG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wze(e){if(Array.isArray(e))return e}function _ze(e,t){if(e==null)return{};var r=jze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wce(n.key),n)}}function kze(e,t,r){return t&&Sze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cze(e,t,r){return t=CS(t),Eze(e,yce()?Reflect.construct(t,r||[],CS(e).constructor):t.apply(e,r))}function Eze(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tze(e)}function Tze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yce=function(){return!!e})()}function CS(e){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},CS(e)}function Aze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iI(e,t)}function iI(e,t){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iI(e,t)}function bce(e,t,r){return t=wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wce(e){var t=Pze(e,"string");return L0(t)=="symbol"?t:t+""}function Pze(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var f1=(function(e){function t(){return Nze(this,t),Cze(this,t,arguments)}return Aze(t,e),kze(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=_ze(n,gze),p=mr(m,!1);this.props.direction==="x"&&d.type!=="number"&&Qm();var y=c.map(function(g){var v=u(g,l),_=v.x,w=v.y,j=v.value,C=v.errorVal;if(!C)return null;var S=[],k,E;if(Array.isArray(C)){var R=xze(C,2);k=R[0],E=R[1]}else k=E=C;if(i==="vertical"){var P=d.scale,T=w+a,O=T+o,D=T-o,I=P(j-k),L=P(j+E);S.push({x1:L,y1:O,x2:L,y2:D}),S.push({x1:I,y1:T,x2:L,y2:T}),S.push({x1:I,y1:O,x2:I,y2:D})}else if(i==="horizontal"){var W=f.scale,q=_+a,G=q-o,K=q+o,U=W(j-k),F=W(j+E);S.push({x1:G,y1:F,x2:K,y2:F}),S.push({x1:q,y1:U,x2:q,y2:F}),S.push({x1:G,y1:U,x2:K,y2:U})}return oe.createElement(yn,kS({className:"recharts-errorBar",key:"bar-".concat(S.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},p),S.map(function(B){return oe.createElement("line",kS({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return oe.createElement(yn,{className:"recharts-errorBars"},y)}}])})(oe.Component);bce(f1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bce(f1,"displayName","ErrorBar");function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function YG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YG(Object(r),!0).forEach(function(n){Oze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oze(e,t,r){return t=Dze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dze(e){var t=Rze(e,"string");return Xb(t)=="symbol"?t:t+""}function Rze(e,t){if(Xb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ce=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Io(r,wf);if(!o)return null;var l=wf.defaultProps,c=l!==void 0?Dh(Dh({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?Dh(Dh({},m),f.props):{},y=p.dataKey,g=p.name,v=p.legendType,_=p.hide;return{inactive:_,dataKey:y,type:c.iconType||v||"square",color:X6(f),value:g||y,payload:p}}),Dh(Dh(Dh({},c),wf.getWithHeight(o,a)),{},{payload:u,item:o})};function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}function XG(e){return Lze(e)||Fze(e)||Mze(e)||Ize()}function Ize(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mze(e,t){if(e){if(typeof e=="string")return oI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(e,t)}}function Fze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lze(e){if(Array.isArray(e))return oI(e)}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JG(Object(r),!0).forEach(function(n){l0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l0(e,t,r){return t=$ze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ze(e){var t=Bze(e,"string");return Jb(t)=="symbol"?t:t+""}function Bze(e,t){if(Jb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(e,t,r){return Dr(e)||Dr(t)?r:Ta(t)?Qo(e,t,r):Cr(t)?t(e):r}function Vy(e,t,r,n){var a=LVe(e,function(l){return Ea(l,t)});if(r==="number"){var i=a.filter(function(l){return kt(l)||parseFloat(l)});return i.length?[Vk(i),Uk(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Dr(l)}):a;return o.map(function(l){return Ta(l)||l instanceof Date?l:""})}var Uze=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Hi(f-d)!==Hi(m-f)){var y=[];if(Hi(m-f)===Hi(c[1]-c[0])){p=m;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=m+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>_[0]&&t<=_[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var w=Math.min(d,m),j=Math.max(d,m);if(t>(w+f)/2&&t<=(j+f)/2){o=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&t>(n[C].coordinate+n[C-1].coordinate)/2&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&t>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},X6=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ks(ks({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Vze=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var y=d[f[m]],g=y.items,v=y.cateAxisId,_=g.filter(function(E){return ed(E.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,j=w!==void 0?ks(ks({},w),_[0].props):_[0].props,C=j.barSize,S=j[v];o[S]||(o[S]=[]);var k=Dr(C)?r:C;o[S].push({item:_[0],stackList:_.slice(1),barSize:Dr(k)?void 0:Gi(k,n,0)})}}return o},zze=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Gi(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=a/c,y=o.reduce(function(C,S){return C+S.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(m=!0,p*=.9,y=c*p);var g=(a-y)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(C,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:m?p:S.barSize}},E=[].concat(XG(C),[k]);return v=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){E.push({item:R,position:v})}),E},f)}else{var _=Gi(n,a,0,!0);a-2*_-(c-1)*u<=0&&(u=0);var w=(a-2*_-(c-1)*u)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;d=o.reduce(function(C,S,k){var E=[].concat(XG(C),[{item:S.item,position:{offset:_+(w+u)*k+(w-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){E.push({item:R,position:E[E.length-1].position})}),E},f)}return d},qze=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=_ce({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&kt(t[p]))return ks(ks({},t),{},l0({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&kt(t[y]))return ks(ks({},t),{},l0({},y,t[y]+(m||0)))}return t},Wze=function(t,r,n){return Dr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},jce=function(t,r,n,a,i){var o=r.props.children,l=el(o,f1).filter(function(u){return Wze(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ea(d,n);if(Dr(f))return u;var m=Array.isArray(f)?[Vk(f),Uk(f)]:[f,f],p=c.reduce(function(y,g){var v=Ea(d,g,0),_=m[0]-Math.abs(Array.isArray(v)?v[0]:v),w=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Hze=function(t,r,n,a,i){var o=r.map(function(l){return jce(t,l,n,i,a)}).filter(function(l){return!Dr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Nce=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&jce(t,c,u,a)||Vy(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Sce=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kce=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ku=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?Hi(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!a1(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},FO=new WeakMap,gj=function(t,r){if(typeof r!="function")return t;FO.has(t)||FO.set(t,new WeakMap);var n=FO.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Cce=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zb(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:wS(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Uy(),realScaleType:"point"}:i==="category"?{scale:zb(),realScaleType:"band"}:{scale:wS(),realScaleType:"linear"};if(Ym(a)){var c="scale".concat(kk(a));return{scale:(MG[c]||Uy)(),realScaleType:MG[c]?c:"point"}}return Cr(a)?{scale:a}:{scale:Uy(),realScaleType:"point"}},ZG=1e-4,Ece=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-ZG,o=Math.max(a[0],a[1])+ZG,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Gze=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Kze=function(t,r){if(!r||r.length!==2||!kt(r[0])||!kt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!kt(t[0])||t[0]<n)&&(i[0]=n),(!kt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Yze=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=a1(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Xze=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=a1(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Jze={sign:Yze,expand:L8e,none:A0,silhouette:$8e,wiggle:B8e,positive:Xze},Zze=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Jze[n],o=F8e().keys(a).value(function(l,c){return+Ea(l,c,0)}).order(F3).offset(i);return o(t)},Qze=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?ks(ks({},m.type.defaultProps),m.props):m.props,g=y.stackId,v=y.hide;if(v)return f;var _=y[n],w=f[_]||{hasStack:!1,stackGroups:{}};if(Ta(g)){var j=w.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),w.hasStack=!0,w.stackGroups[g]=j}else w.stackGroups[Tx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return ks(ks({},f),{},l0({},_,w))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var _=p.stackGroups[v];return ks(ks({},g),{},l0({},v,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:Zze(t,_.items,i)}))},y)}return ks(ks({},f),{},l0({},m,p))},d)},Tce=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=hze(u,i,l);return t.domain([Vk(d),Uk(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),m=mze(f,i,l);return{niceTicks:m}}return null};function QG(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dr(a[t.dataKey])){var l=nS(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ea(a,Dr(o)?t.dataKey:o);return Dr(c)?null:t.scale(c)}var eK=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ea(o,r.dataKey,r.domain[l]);return Dr(c)?null:r.scale(c)-i/2+a},eqe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},tqe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ks(ks({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ta(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},rqe=function(t){return t.reduce(function(r,n){return[Vk(n.concat([r[0]]).filter(kt)),Uk(n.concat([r[1]]).filter(kt))]},[1/0,-1/0])},Ace=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=rqe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},tK=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rK=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lI=function(t,r,n){if(Cr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(kt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(tK.test(t[0])){var i=+tK.exec(t[0])[1];a[0]=r[0]-i}else Cr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(kt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(rK.test(t[1])){var o=+rK.exec(t[1])[1];a[1]=r[1]+o}else Cr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},ES=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=N6(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},nK=function(t,r,n){return!t||!t.length||d1(t,Qo(n,"type.defaultProps.domain"))?r:t},Pce=function(t,r){var n=t.type.defaultProps?ks(ks({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return ks(ks({},mr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:X6(t),value:Ea(r,a),type:c,payload:r,chartType:u,hide:d})};function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function sK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sK(Object(r),!0).forEach(function(n){Oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t,r){return t=nqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nqe(e){var t=sqe(e,"string");return Zb(t)=="symbol"?t:t+""}function sqe(e,t){if(Zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aqe(e,t){return cqe(e)||lqe(e,t)||oqe(e,t)||iqe()}function iqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oqe(e,t){if(e){if(typeof e=="string")return aK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aK(e,t)}}function aK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cqe(e){if(Array.isArray(e))return e}var TS=Math.PI/180,uqe=function(t){return t*180/Math.PI},es=function(t,r,n,a){return{x:t+Math.cos(-TS*a)*n,y:r+Math.sin(-TS*a)*n}},Dce=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},dqe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Gi(t.cx,o,o/2),f=Gi(t.cy,l,l/2),m=Dce(o,l,n),p=Gi(t.innerRadius,m,0),y=Gi(t.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(v,_){var w=r[_],j=w.domain,C=w.reversed,S;if(Dr(w.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,y]),C&&(S=[S[1],S[0]]);else{S=w.range;var k=S,E=aqe(k,2);c=E[0],u=E[1]}var R=Cce(w,i),P=R.realScaleType,T=R.scale;T.domain(j).range(S),Ece(T);var O=Tce(T,Lu(Lu({},w),{},{realScaleType:P})),D=Lu(Lu(Lu({},w),O),{},{range:S,radius:y,realScaleType:P,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Lu(Lu({},v),{},Oce({},_,D))},{})},fqe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},hqe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=fqe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:uqe(u),angleInRadian:u}},mqe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},pqe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},iK=function(t,r){var n=t.x,a=t.y,i=hqe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=mqe(r),f=d.startAngle,m=d.endAngle,p=l,y;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=f}return y?Lu(Lu({},r),{},{radius:o,angle:pqe(p,r)}):null},Rce=function(t){return!b.isValidElement(t)&&!Cr(t)&&typeof t!="boolean"?t.className:""};function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}var gqe=["offset"];function xqe(e){return wqe(e)||bqe(e)||yqe(e)||vqe()}function vqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yqe(e,t){if(e){if(typeof e=="string")return cI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cI(e,t)}}function bqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wqe(e){if(Array.isArray(e))return cI(e)}function cI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _qe(e,t){if(e==null)return{};var r=jqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oK(Object(r),!0).forEach(function(n){Nqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nqe(e,t,r){return t=Sqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sqe(e){var t=kqe(e,"string");return Qb(t)=="symbol"?t:t+""}function kqe(e,t){if(Qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}var Cqe=function(t){var r=t.value,n=t.formatter,a=Dr(t.children)?r:t.children;return Cr(n)?n(a):a},Eqe=function(t,r){var n=Hi(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Tqe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+m)/2,_=Eqe(p,y),w=_>=0?1:-1,j,C;a==="insideStart"?(j=p+w*o,C=g):a==="insideEnd"?(j=y-w*o,C=!g):a==="end"&&(j=y+w*o,C=g),C=_<=0?C:!C;var S=es(u,d,v,j),k=es(u,d,v,j+(C?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),R=Dr(t.id)?Tx("recharts-radial-line-"):t.id;return oe.createElement("text",ew({},n,{dominantBaseline:"central",className:Ir("recharts-radial-bar-label",l)}),oe.createElement("defs",null,oe.createElement("path",{id:R,d:E})),oe.createElement("textPath",{xlinkHref:"#".concat(R)},r))},Aqe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var p=es(o,l,u+n,m),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,_=es(o,l,v,m),w=_.x,j=_.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Pqe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*a,_=g>0?"end":"start",w=g>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return xa(xa({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return xa(xa({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return xa(xa({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return xa(xa({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return i==="insideLeft"?xa({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},E):i==="insideRight"?xa({x:l+u-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):i==="insideTop"?xa({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},E):i==="insideBottom"?xa({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?xa({x:l+v,y:c+m,textAnchor:w,verticalAnchor:y},E):i==="insideTopRight"?xa({x:l+u-v,y:c+m,textAnchor:_,verticalAnchor:y},E):i==="insideBottomLeft"?xa({x:l+v,y:c+d-m,textAnchor:w,verticalAnchor:p},E):i==="insideBottomRight"?xa({x:l+u-v,y:c+d-m,textAnchor:_,verticalAnchor:p},E):Ex(i)&&(kt(i.x)||nm(i.x))&&(kt(i.y)||nm(i.y))?xa({x:l+Gi(i.x,u),y:c+Gi(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):xa({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Oqe=function(t){return"cx"in t&&kt(t.cx)};function Va(e){var t=e.offset,r=t===void 0?5:t,n=_qe(e,gqe),a=xa({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||Dr(l)&&Dr(c)&&!b.isValidElement(u)&&!Cr(u))return null;if(b.isValidElement(u))return b.cloneElement(u,a);var p;if(Cr(u)){if(p=b.createElement(u,a),b.isValidElement(p))return p}else p=Cqe(a);var y=Oqe(i),g=mr(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Tqe(a,p,g);var v=y?Aqe(a):Pqe(a);return oe.createElement(Jm,ew({className:Ir("recharts-label",f)},g,v,{breakAll:m}),p)}Va.displayName="Label";var Ice=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,p=t.top,y=t.left,g=t.width,v=t.height,_=t.clockWise,w=t.labelViewBox;if(w)return w;if(kt(g)&&kt(v)){if(kt(f)&&kt(m))return{x:f,y:m,width:g,height:v};if(kt(p)&&kt(y))return{x:p,y,width:g,height:v}}return kt(f)&&kt(m)?{x:f,y:m,width:0,height:0}:kt(r)&&kt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:_}:t.viewBox?t.viewBox:{}},Dqe=function(t,r){return t?t===!0?oe.createElement(Va,{key:"label-implicit",viewBox:r}):Ta(t)?oe.createElement(Va,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===Va?b.cloneElement(t,{key:"label-implicit",viewBox:r}):oe.createElement(Va,{key:"label-implicit",content:t,viewBox:r}):Cr(t)?oe.createElement(Va,{key:"label-implicit",content:t,viewBox:r}):Ex(t)?oe.createElement(Va,ew({viewBox:r},t,{key:"label-implicit"})):null:null},Rqe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Ice(t),o=el(a,Va).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Dqe(t.label,r||i);return[l].concat(xqe(o))};Va.parseViewBox=Ice;Va.renderCallByParent=Rqe;var LO,lK;function Iqe(){if(lK)return LO;lK=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return LO=e,LO}var Mqe=Iqe();const Fqe=on(Mqe);function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}var Lqe=["valueAccessor"],$qe=["data","dataKey","clockWise","id","textBreakAll"];function Bqe(e){return qqe(e)||zqe(e)||Vqe(e)||Uqe()}function Uqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vqe(e,t){if(e){if(typeof e=="string")return uI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uI(e,t)}}function zqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qqe(e){if(Array.isArray(e))return uI(e)}function uI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AS.apply(this,arguments)}function cK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cK(Object(r),!0).forEach(function(n){Wqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wqe(e,t,r){return t=Hqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hqe(e){var t=Gqe(e,"string");return tw(t)=="symbol"?t:t+""}function Gqe(e,t){if(tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dK(e,t){if(e==null)return{};var r=Kqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Yqe=function(t){return Array.isArray(t.value)?Fqe(t.value):t.value};function rd(e){var t=e.valueAccessor,r=t===void 0?Yqe:t,n=dK(e,Lqe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=dK(n,$qe);return!a||!a.length?null:oe.createElement(yn,{className:"recharts-label-list"},a.map(function(d,f){var m=Dr(i)?r(d,f):Ea(d&&d.payload,i),p=Dr(l)?{}:{id:"".concat(l,"-").concat(f)};return oe.createElement(Va,AS({},mr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Va.parseViewBox(Dr(o)?d:uK(uK({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}rd.displayName="LabelList";function Xqe(e,t){return e?e===!0?oe.createElement(rd,{key:"labelList-implicit",data:t}):oe.isValidElement(e)||Cr(e)?oe.createElement(rd,{key:"labelList-implicit",data:t,content:e}):Ex(e)?oe.createElement(rd,AS({data:t},e,{key:"labelList-implicit"})):null:null}function Jqe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=el(n,rd).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Xqe(e.label,t);return[i].concat(Bqe(a))}rd.renderCallByParent=Jqe;function rw(e){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rw(e)}function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dI.apply(this,arguments)}function fK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fK(Object(r),!0).forEach(function(n){Zqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zqe(e,t,r){return t=Qqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qqe(e){var t=eWe(e,"string");return rw(t)=="symbol"?t:t+""}function eWe(e,t){if(rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tWe=function(t,r){var n=Hi(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},xj=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/TS,m=u?i:i+o*f,p=es(r,n,d,m),y=es(r,n,a,m),g=u?i-o*f:i,v=es(r,n,d*Math.cos(f*TS),g);return{center:p,circleTangency:y,lineTangency:v,theta:f}},Mce=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=tWe(o,l),u=o+c,d=es(r,n,i,o),f=es(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=es(r,n,a,o),y=es(r,n,a,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},rWe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Hi(d-u),m=xj({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,g=m.theta,v=xj({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),_=v.circleTangency,w=v.lineTangency,j=v.theta,C=c?Math.abs(u-d):Math.abs(u-d)-g-j;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Mce({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var k=xj({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=k.circleTangency,R=k.lineTangency,P=k.theta,T=xj({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=T.circleTangency,D=T.lineTangency,I=T.theta,L=c?Math.abs(u-d):Math.abs(u-d)-P-I;if(L<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},nWe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fce=function(t){var r=hK(hK({},nWe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var p=Ir("recharts-sector",m),y=o-i,g=Gi(l,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=rWe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Mce({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),oe.createElement("path",dI({},mr(r,!0),{className:p,d:v,role:"img"}))};function nw(e){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nw(e)}function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fI.apply(this,arguments)}function mK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mK(Object(r),!0).forEach(function(n){sWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sWe(e,t,r){return t=aWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aWe(e){var t=iWe(e,"string");return nw(t)=="symbol"?t:t+""}function iWe(e,t){if(nw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gK={curveBasisClosed:k8e,curveBasisOpen:C8e,curveBasis:S8e,curveBumpX:d8e,curveBumpY:f8e,curveLinearClosed:E8e,curveLinear:Ek,curveMonotoneX:T8e,curveMonotoneY:A8e,curveNatural:P8e,curveStep:O8e,curveStepAfter:R8e,curveStepBefore:D8e},vj=function(t){return t.x===+t.x&&t.y===+t.y},Rv=function(t){return t.x},Iv=function(t){return t.y},oWe=function(t,r){if(Cr(t))return t;var n="curve".concat(kk(t));return(n==="curveMonotone"||n==="curveBump")&&r?gK["".concat(n).concat(r==="vertical"?"Y":"X")]:gK[n]||Ek},lWe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=oWe(n,l),f=u?i.filter(function(g){return vj(g)}):i,m;if(Array.isArray(o)){var p=u?o.filter(function(g){return vj(g)}):o,y=f.map(function(g,v){return pK(pK({},g),{},{base:p[v]})});return l==="vertical"?m=cj().y(Iv).x1(Rv).x0(function(g){return g.base.x}):m=cj().x(Rv).y1(Iv).y0(function(g){return g.base.y}),m.defined(vj).curve(d),m(y)}return l==="vertical"&&kt(o)?m=cj().y(Iv).x1(Rv).x0(o):kt(o)?m=cj().x(Rv).y1(Iv).y0(o):m=Ioe().x(Rv).y(Iv),m.defined(vj).curve(d),m(f)},PS=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?lWe(t):a;return b.createElement("path",fI({},mr(t,!1),sS(t),{className:Ir("recharts-curve",r),d:o,ref:i}))},$O={exports:{}},BO,xK;function cWe(){if(xK)return BO;xK=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BO=e,BO}var UO,vK;function uWe(){if(vK)return UO;vK=1;var e=cWe();function t(){}function r(){}return r.resetWarningCache=t,UO=function(){function n(o,l,c,u,d,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},UO}var yK;function dWe(){return yK||(yK=1,$O.exports=uWe()()),$O.exports}var fWe=dWe();const kn=on(fWe);var hWe=Object.getOwnPropertyNames,mWe=Object.getOwnPropertySymbols,pWe=Object.prototype.hasOwnProperty;function bK(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function yj(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function wK(e){return hWe(e).concat(mWe(e))}var gWe=Object.hasOwn||(function(e,t){return pWe.call(e,t)});function wp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var xWe="__v",vWe="__o",yWe="_owner",_K=Object.getOwnPropertyDescriptor,jK=Object.keys;function bWe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function wWe(e,t){return wp(e.getTime(),t.getTime())}function _We(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jWe(e,t){return e===t}function NK(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=o.value,p=l.value;if(r.equals(m[0],p[0],c,f,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var NWe=wp;function SWe(e,t,r){var n=jK(e),a=n.length;if(jK(t).length!==a)return!1;for(;a-- >0;)if(!Lce(e,t,r,n[a]))return!1;return!0}function Mv(e,t,r){var n=wK(e),a=n.length;if(wK(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!Lce(e,t,r,i)||(o=_K(e,i),l=_K(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function kWe(e,t){return wp(e.valueOf(),t.valueOf())}function CWe(e,t){return e.source===t.source&&e.flags===t.flags}function SK(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function EWe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function TWe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Lce(e,t,r,n){return(n===yWe||n===vWe||n===xWe)&&(e.$$typeof||t.$$typeof)?!0:gWe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var AWe="[object Arguments]",PWe="[object Boolean]",OWe="[object Date]",DWe="[object Error]",RWe="[object Map]",IWe="[object Number]",MWe="[object Object]",FWe="[object RegExp]",LWe="[object Set]",$We="[object String]",BWe="[object URL]",UWe=Array.isArray,kK=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,CK=Object.assign,VWe=Object.prototype.toString.call.bind(Object.prototype.toString);function zWe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var _=typeof y;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?o(y,g,v):_==="function"?a(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(y,g,v);if(UWe(y))return t(y,g,v);if(kK!=null&&kK(y))return f(y,g,v);if(w===Date)return r(y,g,v);if(w===RegExp)return u(y,g,v);if(w===Map)return i(y,g,v);if(w===Set)return d(y,g,v);var j=VWe(y);return j===OWe?r(y,g,v):j===FWe?u(y,g,v):j===RWe?i(y,g,v):j===LWe?d(y,g,v):j===MWe?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,v):j===BWe?m(y,g,v):j===DWe?n(y,g,v):j===AWe?l(y,g,v):j===PWe||j===IWe||j===$We?c(y,g,v):!1}}function qWe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Mv:bWe,areDatesEqual:wWe,areErrorsEqual:_We,areFunctionsEqual:jWe,areMapsEqual:n?bK(NK,Mv):NK,areNumbersEqual:NWe,areObjectsEqual:n?Mv:SWe,arePrimitiveWrappersEqual:kWe,areRegExpsEqual:CWe,areSetsEqual:n?bK(SK,Mv):SK,areTypedArraysEqual:n?Mv:EWe,areUrlsEqual:TWe};if(r&&(a=CK({},a,r(a))),t){var i=yj(a.areArraysEqual),o=yj(a.areMapsEqual),l=yj(a.areObjectsEqual),c=yj(a.areSetsEqual);a=CK({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function WWe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function HWe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var GWe=mh();mh({strict:!0});mh({circular:!0});mh({circular:!0,strict:!0});mh({createInternalComparator:function(){return wp}});mh({strict:!0,createInternalComparator:function(){return wp}});mh({circular:!0,createInternalComparator:function(){return wp}});mh({circular:!0,createInternalComparator:function(){return wp},strict:!0});function mh(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=qWe(e),c=zWe(l),u=n?n(c):WWe(c);return HWe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function KWe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function EK(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):KWe(a)};requestAnimationFrame(n)}function hI(e){"@babel/helpers - typeof";return hI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hI(e)}function YWe(e){return QWe(e)||ZWe(e)||JWe(e)||XWe()}function XWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JWe(e,t){if(e){if(typeof e=="string")return TK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TK(e,t)}}function TK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QWe(e){if(Array.isArray(e))return e}function eHe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=YWe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){EK(a.bind(null,u),c);return}a(c),EK(a.bind(null,u));return}hI(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function sw(e){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sw(e)}function AK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AK(Object(r),!0).forEach(function(n){$ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ce(e,t,r){return t=tHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tHe(e){var t=rHe(e,"string");return sw(t)==="symbol"?t:String(t)}function rHe(e,t){if(sw(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nHe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},sHe=function(t){return t},aHe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zy=function(t,r){return Object.keys(r).reduce(function(n,a){return PK(PK({},n),{},$ce({},a,t(a,r[a])))},{})},OK=function(t,r,n){return t.map(function(a){return"".concat(aHe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function iHe(e,t){return cHe(e)||lHe(e,t)||Bce(e,t)||oHe()}function oHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cHe(e){if(Array.isArray(e))return e}function uHe(e){return hHe(e)||fHe(e)||Bce(e)||dHe()}function dHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(e,t){if(e){if(typeof e=="string")return mI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mI(e,t)}}function fHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hHe(e){if(Array.isArray(e))return mI(e)}function mI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var OS=1e-4,Uce=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Vce=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},DK=function(t,r){return function(n){var a=Uce(t,r);return Vce(a,n)}},mHe=function(t,r){return function(n){var a=Uce(t,r),i=[].concat(uHe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Vce(i,n)}},RK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=iHe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=DK(a,o),m=DK(i,l),p=mHe(a,o),y=function(_){return _>1?1:_<0?0:_},g=function(_){for(var w=_>1?1:_,j=w,C=0;C<8;++C){var S=f(j)-w,k=p(j);if(Math.abs(S-w)<OS||k<OS)return m(j);j=y(j-S/k)}return m(j)};return g.isStepper=!1,g},pHe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var p=-(d-f)*n,y=m*i,g=m+(p-y)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<OS&&Math.abs(g)<OS?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},gHe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RK(a);case"spring":return pHe();default:if(a.split("(")[0]==="cubic-bezier")return RK(a)}return typeof a=="function"?a:null};function aw(e){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aw(e)}function IK(e){return yHe(e)||vHe(e)||zce(e)||xHe()}function xHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yHe(e){if(Array.isArray(e))return gI(e)}function MK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MK(Object(r),!0).forEach(function(n){pI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pI(e,t,r){return t=bHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bHe(e){var t=wHe(e,"string");return aw(t)==="symbol"?t:String(t)}function wHe(e,t){if(aw(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(aw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _He(e,t){return SHe(e)||NHe(e,t)||zce(e,t)||jHe()}function jHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(e,t){if(e){if(typeof e=="string")return gI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gI(e,t)}}function gI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SHe(e){if(Array.isArray(e))return e}var DS=function(t,r,n){return t+(r-t)*n},xI=function(t){var r=t.from,n=t.to;return r!==n},kHe=function e(t,r,n){var a=zy(function(i,o){if(xI(o)){var l=t(o.from,o.to,o.velocity),c=_He(l,2),u=c[0],d=c[1];return Za(Za({},o),{},{from:u,velocity:d})}return o},r);return n<1?zy(function(i,o){return xI(o)?Za(Za({},o),{},{velocity:DS(o.velocity,a[i].velocity,n),from:DS(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const CHe=(function(e,t,r,n,a){var i=nHe(e,t),o=i.reduce(function(v,_){return Za(Za({},v),{},pI({},_,[e[_],t[_]]))},{}),l=i.reduce(function(v,_){return Za(Za({},v),{},pI({},_,{from:e[_],velocity:0,to:t[_]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return zy(function(_,w){return w.from},l)},p=function(){return!Object.values(l).filter(xI).length},y=function(_){u||(u=_);var w=_-u,j=w/r.dt;l=kHe(r,l,j),a(Za(Za(Za({},e),t),m())),u=_,p()||(c=requestAnimationFrame(f))},g=function(_){d||(d=_);var w=(_-d)/n,j=zy(function(S,k){return DS.apply(void 0,IK(k).concat([r(w)]))},o);if(a(Za(Za(Za({},e),t),j)),w<1)c=requestAnimationFrame(f);else{var C=zy(function(S,k){return DS.apply(void 0,IK(k).concat([r(1)]))},o);a(Za(Za(Za({},e),t),C))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}var EHe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function THe(e,t){if(e==null)return{};var r=AHe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AHe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function VO(e){return RHe(e)||DHe(e)||OHe(e)||PHe()}function PHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OHe(e,t){if(e){if(typeof e=="string")return vI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vI(e,t)}}function DHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RHe(e){if(Array.isArray(e))return vI(e)}function vI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FK(Object(r),!0).forEach(function(n){oy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oy(e,t,r){return t=qce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qce(n.key),n)}}function FHe(e,t,r){return t&&MHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qce(e){var t=LHe(e,"string");return $0(t)==="symbol"?t:String(t)}function LHe(e,t){if($0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $He(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yI(e,t)}function yI(e,t){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yI(e,t)}function BHe(e){var t=UHe();return function(){var n=RS(e),a;if(t){var i=RS(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return bI(this,a)}}function bI(e,t){if(t&&($0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wI(e)}function wI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RS(e)}var hu=(function(e){$He(r,e);var t=BHe(r);function r(n,a){var i;IHe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(wI(i)),i.changeStyle=i.changeStyle.bind(wI(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),bI(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},bI(i);i.state={style:c?oy({},c,u):u}}else i.state={style:{}};return i}return FHe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var p={style:c?oy({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(GWe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:a.to;if(this.state&&m){var v={style:c?oy({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(v)}this.runAnimation(rc(rc({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=CHe(o,l,gHe(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(g,v,_){if(_===0)return g;var w=v.duration,j=v.easing,C=j===void 0?"ease":j,S=v.style,k=v.properties,E=v.onAnimationEnd,R=_>0?o[_-1]:v,P=k||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(VO(g),[i.runJSAnimation.bind(i,{from:R.style,to:S,duration:w,easing:C}),w]);var T=OK(P,w,C),O=rc(rc(rc({},R.style),S),{},{transition:T});return[].concat(VO(g),[O,w,E]).filter(sHe)};return this.manager.start([c].concat(VO(o.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=eHe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?oy({},l,c):c,v=OK(Object.keys(g),o,u);y.start([d,i,rc(rc({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=THe(a,EHe),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,_=y.className,w=b.cloneElement(p,rc(rc({},c),{},{style:rc(rc({},v),d),className:_}));return w};return u===1?f(b.Children.only(i)):oe.createElement("div",null,b.Children.map(i,function(m){return f(m)}))}}]),r})(b.PureComponent);hu.displayName="Animate";hu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hu.propTypes={from:kn.oneOfType([kn.object,kn.string]),to:kn.oneOfType([kn.object,kn.string]),attributeName:kn.string,duration:kn.number,begin:kn.number,easing:kn.oneOfType([kn.string,kn.func]),steps:kn.arrayOf(kn.shape({duration:kn.number.isRequired,style:kn.object.isRequired,easing:kn.oneOfType([kn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kn.func]),properties:kn.arrayOf("string"),onAnimationEnd:kn.func})),children:kn.oneOfType([kn.node,kn.func]),isActive:kn.bool,canBegin:kn.bool,onAnimationEnd:kn.func,shouldReAnimate:kn.bool,onAnimationStart:kn.func,onAnimationReStart:kn.func};function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IS.apply(this,arguments)}function VHe(e,t){return HHe(e)||WHe(e,t)||qHe(e,t)||zHe()}function zHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qHe(e,t){if(e){if(typeof e=="string")return LK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LK(e,t)}}function LK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function HHe(e){if(Array.isArray(e))return e}function $K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$K(Object(r),!0).forEach(function(n){GHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GHe(e,t,r){return t=KHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KHe(e){var t=YHe(e,"string");return iw(t)=="symbol"?t:t+""}function YHe(e,t){if(iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UK=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},XHe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},JHe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J6=function(t){var r=BK(BK({},JHe),t),n=b.useRef(),a=b.useState(-1),i=VHe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,_=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Ir("recharts-rectangle",p);return w?oe.createElement(hu,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:w},function(C){var S=C.width,k=C.height,E=C.x,R=C.y;return oe.createElement(hu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:_,easing:y},oe.createElement("path",IS({},mr(r,!0),{className:j,d:UK(E,R,S,k,m),ref:n})))}):oe.createElement("path",IS({},mr(r,!0),{className:j,d:UK(c,u,d,f,m)}))},ZHe=["points","className","baseLinePoints","connectNulls"];function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}function QHe(e,t){if(e==null)return{};var r=eGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VK(e){return sGe(e)||nGe(e)||rGe(e)||tGe()}function tGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rGe(e,t){if(e){if(typeof e=="string")return _I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(e,t)}}function nGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sGe(e){if(Array.isArray(e))return _I(e)}function _I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zK=function(t){return t&&t.x===+t.x&&t.y===+t.y},aGe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){zK(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),zK(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qy=function(t,r){var n=aGe(t);r&&(n=[n.reduce(function(i,o){return[].concat(VK(i),VK(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},iGe=function(t,r,n){var a=qy(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(qy(r.reverse(),n).slice(1))},oGe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=QHe(t,ZHe);if(!r||!r.length)return null;var l=Ir("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=iGe(r,a,i);return oe.createElement("g",{className:l},oe.createElement("path",Dg({},mr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?oe.createElement("path",Dg({},mr(o,!0),{fill:"none",d:qy(r,i)})):null,c?oe.createElement("path",Dg({},mr(o,!0),{fill:"none",d:qy(a,i)})):null)}var d=qy(r,i);return oe.createElement("path",Dg({},mr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function jI(){return jI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jI.apply(this,arguments)}var Wk=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ir("recharts-dot",i);return r===+r&&n===+n&&a===+a?b.createElement("circle",jI({},mr(t,!1),sS(t),{className:o,cx:r,cy:n,r:a})):null};function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}var lGe=["x","y","top","left","width","height","className"];function NI(){return NI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NI.apply(this,arguments)}function qK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qK(Object(r),!0).forEach(function(n){uGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uGe(e,t,r){return t=dGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dGe(e){var t=fGe(e,"string");return ow(t)=="symbol"?t:t+""}function fGe(e,t){if(ow(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hGe(e,t){if(e==null)return{};var r=mGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pGe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},gGe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,p=m===void 0?0:m,y=t.className,g=hGe(t,lGe),v=cGe({x:n,y:i,top:l,left:u,width:f,height:p},g);return!kt(n)||!kt(i)||!kt(f)||!kt(p)||!kt(l)||!kt(u)?null:oe.createElement("path",NI({},mr(v,!0),{className:Ir("recharts-cross",y),d:pGe(n,i,f,p,l,u)}))},zO,WK;function xGe(){if(WK)return zO;WK=1;var e=Bk(),t=ace(),r=ju();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return zO=n,zO}var vGe=xGe();const yGe=on(vGe);var qO,HK;function bGe(){if(HK)return qO;HK=1;var e=Bk(),t=ju(),r=ice();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return qO=n,qO}var wGe=bGe();const _Ge=on(wGe);var jGe=["cx","cy","angle","ticks","axisLine"],NGe=["ticks","tick","angle","tickFormatter","stroke"];function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function GK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GK(Object(r),!0).forEach(function(n){Hk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t){if(e==null)return{};var r=SGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hce(n.key),n)}}function CGe(e,t,r){return t&&YK(e.prototype,t),r&&YK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EGe(e,t,r){return t=MS(t),TGe(e,Wce()?Reflect.construct(t,r||[],MS(e).constructor):t.apply(e,r))}function TGe(e,t){if(t&&(B0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AGe(e)}function AGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wce=function(){return!!e})()}function MS(e){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(e)}function PGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SI(e,t)}function SI(e,t){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SI(e,t)}function Hk(e,t,r){return t=Hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hce(e){var t=OGe(e,"string");return B0(t)=="symbol"?t:t+""}function OGe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gk=(function(e){function t(){return kGe(this,t),EGe(this,t,arguments)}return PGe(t,e),CGe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return es(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=yGe(l,function(d){return d.coordinate||0}),u=_Ge(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=KK(n,jGe),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=es(a,i,d[0],o),m=es(a,i,d[1],o),p=Rh(Rh(Rh({},mr(u,!1)),{},{fill:"none"},mr(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return oe.createElement("line",Wy({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=KK(a,NGe),f=this.getTickTextAnchor(),m=mr(d,!1),p=mr(o,!1),y=i.map(function(g,v){var _=n.getTickValueCoord(g),w=Rh(Rh(Rh(Rh({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:v},_),{},{payload:g});return oe.createElement(yn,Wy({className:Ir("recharts-polar-radius-axis-tick",Rce(o)),key:"tick-".concat(g.coordinate)},Xm(n.props,g,v)),t.renderTickItem(o,w,c?c(g.value,v):g.value))});return oe.createElement(yn,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:oe.createElement(yn,{className:Ir("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Va.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return oe.isValidElement(n)?o=oe.cloneElement(n,a):Cr(n)?o=n(a):o=oe.createElement(Jm,Wy({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(b.PureComponent);Hk(Gk,"displayName","PolarRadiusAxis");Hk(Gk,"axisType","radiusAxis");Hk(Gk,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function XK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XK(Object(r),!0).forEach(function(n){Kk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kce(n.key),n)}}function RGe(e,t,r){return t&&JK(e.prototype,t),r&&JK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IGe(e,t,r){return t=FS(t),MGe(e,Gce()?Reflect.construct(t,r||[],FS(e).constructor):t.apply(e,r))}function MGe(e,t){if(t&&(U0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FGe(e)}function FGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gce=function(){return!!e})()}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FS(e)}function LGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kI(e,t)}function kI(e,t){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kI(e,t)}function Kk(e,t,r){return t=Kce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kce(e){var t=$Ge(e,"string");return U0(t)=="symbol"?t:t+""}function $Ge(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BGe=Math.PI/180,ZK=1e-5,Yk=(function(e){function t(){return DGe(this,t),IGe(this,t,arguments)}return LGe(t,e),RGe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=es(i,o,l,n.coordinate),m=es(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*BGe),o;return i>ZK?o=a==="outer"?"start":"end":i<-ZK?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ih(Ih({},mr(this.props,!1)),{},{fill:"none"},mr(l,!1));if(c==="circle")return oe.createElement(Wk,Xh({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return es(a,i,o,m.coordinate)});return oe.createElement(oGe,Xh({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=mr(this.props,!1),f=mr(o,!1),m=Ih(Ih({},d),{},{fill:"none"},mr(l,!1)),p=i.map(function(y,g){var v=n.getTickLineCoord(y),_=n.getTickTextAnchor(y),w=Ih(Ih(Ih({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:v.x2,y:v.y2});return oe.createElement(yn,Xh({className:Ir("recharts-polar-angle-axis-tick",Rce(o)),key:"tick-".concat(y.coordinate)},Xm(n.props,y,g)),l&&oe.createElement("line",Xh({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,w,c?c(y.value,g):y.value))});return oe.createElement(yn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:oe.createElement(yn,{className:Ir("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return oe.isValidElement(n)?o=oe.cloneElement(n,a):Cr(n)?o=n(a):o=oe.createElement(Jm,Xh({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(b.PureComponent);Kk(Yk,"displayName","PolarAngleAxis");Kk(Yk,"axisType","angleAxis");Kk(Yk,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var WO,QK;function UGe(){if(QK)return WO;QK=1;var e=sle(),t=e(Object.getPrototypeOf,Object);return WO=t,WO}var HO,eY;function VGe(){if(eY)return HO;eY=1;var e=vd(),t=UGe(),r=yd(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return HO=u,HO}var zGe=VGe();const qGe=on(zGe);var GO,tY;function WGe(){if(tY)return GO;tY=1;var e=vd(),t=yd(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return GO=n,GO}var HGe=WGe();const GGe=on(HGe);function lw(e){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lw(e)}function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LS.apply(this,arguments)}function KGe(e,t){return ZGe(e)||JGe(e,t)||XGe(e,t)||YGe()}function YGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XGe(e,t){if(e){if(typeof e=="string")return rY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rY(e,t)}}function rY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ZGe(e){if(Array.isArray(e))return e}function nY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nY(Object(r),!0).forEach(function(n){QGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QGe(e,t,r){return t=eKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eKe(e){var t=tKe(e,"string");return lw(t)=="symbol"?t:t+""}function tKe(e,t){if(lw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aY=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},rKe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nKe=function(t){var r=sY(sY({},rKe),t),n=b.useRef(),a=b.useState(-1),i=KGe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var w=Ir("recharts-trapezoid",p);return _?oe.createElement(hu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:y,isActive:_},function(j){var C=j.upperWidth,S=j.lowerWidth,k=j.height,E=j.x,R=j.y;return oe.createElement(hu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},oe.createElement("path",LS({},mr(r,!0),{className:w,d:aY(E,R,C,S,k),ref:n})))}):oe.createElement("g",null,oe.createElement("path",LS({},mr(r,!0),{className:w,d:aY(c,u,d,f,m)})))},sKe=["option","shapeType","propTransformer","activeClassName","isActive"];function cw(e){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(e)}function aKe(e,t){if(e==null)return{};var r=iKe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iY(Object(r),!0).forEach(function(n){oKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oKe(e,t,r){return t=lKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lKe(e){var t=cKe(e,"string");return cw(t)=="symbol"?t:t+""}function cKe(e,t){if(cw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uKe(e,t){return $S($S({},t),e)}function dKe(e,t){return e==="symbols"}function oY(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return oe.createElement(J6,r);case"trapezoid":return oe.createElement(nKe,r);case"sector":return oe.createElement(Fce,r);case"symbols":if(dKe(t))return oe.createElement(g6,r);break;default:return null}}function fKe(e){return b.isValidElement(e)?e.props:e}function Yce(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?uKe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=aKe(e,sKe),u;if(b.isValidElement(t))u=b.cloneElement(t,$S($S({},c),fKe(t)));else if(Cr(t))u=t(c);else if(qGe(t)&&!GGe(t)){var d=a(t,c);u=oe.createElement(oY,{shapeType:r,elementProps:d})}else{var f=c;u=oe.createElement(oY,{shapeType:r,elementProps:f})}return l?oe.createElement(yn,{className:o},u):u}function Xk(e,t){return t!=null&&"trapezoids"in e.props}function Jk(e,t){return t!=null&&"sectors"in e.props}function uw(e,t){return t!=null&&"points"in e.props}function hKe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function mKe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function pKe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function gKe(e,t){var r;return Xk(e,t)?r=hKe:Jk(e,t)?r=mKe:uw(e,t)&&(r=pKe),r}function xKe(e,t){var r;return Xk(e,t)?r="trapezoids":Jk(e,t)?r="sectors":uw(e,t)&&(r="points"),r}function vKe(e,t){if(Xk(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jk(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return uw(e,t)?t.payload:{}}function yKe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=xKe(r,t),i=vKe(r,t),o=n.filter(function(c,u){var d=d1(i,c),f=r.props[a].filter(function(y){var g=gKe(r,t);return g(y,t)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var eN;function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function lY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lY(Object(r),!0).forEach(function(n){Al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jce(n.key),n)}}function wKe(e,t,r){return t&&cY(e.prototype,t),r&&cY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ke(e,t,r){return t=BS(t),jKe(e,Xce()?Reflect.construct(t,r||[],BS(e).constructor):t.apply(e,r))}function jKe(e,t){if(t&&(V0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NKe(e)}function NKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xce=function(){return!!e})()}function BS(e){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},BS(e)}function SKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CI(e,t)}function CI(e,t){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CI(e,t)}function Al(e,t,r){return t=Jce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e){var t=kKe(e,"string");return V0(t)=="symbol"?t:t+""}function kKe(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wd=(function(e){function t(r){var n;return bKe(this,t),n=_Ke(this,t,[r]),Al(n,"pieRef",null),Al(n,"sectorRefs",[]),Al(n,"id",Tx("recharts-pie-")),Al(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Cr(a)&&a()}),Al(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Cr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return SKe(t,e),wKe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=mr(this.props,!1),f=mr(o,!1),m=mr(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(g,v){var _=(g.startAngle+g.endAngle)/2,w=es(g.cx,g.cy,g.outerRadius+p,_),j=Xn(Xn(Xn(Xn({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(w.x,g.cx)},w),C=Xn(Xn(Xn(Xn({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:v,points:[es(g.cx,g.cy,g.outerRadius,_),w]}),S=c;return Dr(c)&&Dr(u)?S="value":Dr(c)&&(S=u),oe.createElement(yn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,j,Ea(g,S)))});return oe.createElement(yn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,p=f?o:m,y=Xn(Xn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return oe.createElement(yn,Rg({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Xm(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),oe.createElement(Yce,Rg({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,p=f.prevIsAnimationActive;return oe.createElement(hu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],_=i&&i[0],w=_.startAngle;return i.forEach(function(j,C){var S=m&&m[C],k=C>0?Qo(j,"paddingAngle",0):0;if(S){var E=Uo(S.endAngle-S.startAngle,j.endAngle-j.startAngle),R=Xn(Xn({},j),{},{startAngle:w+k,endAngle:w+E(g)+k});v.push(R),w=R.endAngle}else{var P=j.endAngle,T=j.startAngle,O=Uo(0,P-T),D=O(g),I=Xn(Xn({},j),{},{startAngle:w+k,endAngle:w+D+k});v.push(I),w=I.endAngle}}),oe.createElement(yn,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!d1(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!kt(u)||!kt(d)||!kt(f)||!kt(m))return null;var g=Ir("recharts-pie",l);return oe.createElement(yn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(_){n.pieRef=_}},this.renderSectors(),c&&this.renderLabels(o),Va.renderCallByParent(this.props,null,!1),(!p||y)&&rd.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(oe.isValidElement(n))return oe.cloneElement(n,a);if(Cr(n))return n(a);var o=Ir("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return oe.createElement(PS,Rg({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(oe.isValidElement(n))return oe.cloneElement(n,a);var o=i;if(Cr(n)&&(o=n(a),oe.isValidElement(o)))return o;var l=Ir("recharts-pie-label-text",typeof n!="boolean"&&!Cr(n)?n.className:"");return oe.createElement(Jm,Rg({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(b.PureComponent);eN=wd;Al(wd,"displayName","Pie");Al(wd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Al(wd,"parseDeltaAngle",function(e,t){var r=Hi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Al(wd,"getRealPieData",function(e){var t=e.data,r=e.children,n=mr(e,!1),a=el(r,Dk);return t&&t.length?t.map(function(i,o){return Xn(Xn(Xn({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Xn(Xn({},n),i.props)}):[]});Al(wd,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Dce(a,i),l=n+Gi(e.cx,a,a/2),c=r+Gi(e.cy,i,i/2),u=Gi(e.innerRadius,o,0),d=Gi(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Al(wd,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Xn(Xn({},t.type.defaultProps),t.props):t.props,a=eN.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),y=eN.parseCoordinateOfPie(n,r),g=eN.parseDeltaAngle(o,l),v=Math.abs(g),_=u;Dr(u)&&Dr(f)?(bc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Dr(u)&&(bc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var w=a.filter(function(R){return Ea(R,_,0)!==0}).length,j=(v>=360?w:w-1)*c,C=v-w*p-j,S=a.reduce(function(R,P){var T=Ea(P,_,0);return R+(kt(T)?T:0)},0),k;if(S>0){var E;k=a.map(function(R,P){var T=Ea(R,_,0),O=Ea(R,d,P),D=(kt(T)?T:0)/S,I;P?I=E.endAngle+Hi(g)*c*(T!==0?1:0):I=o;var L=I+Hi(g)*((T!==0?p:0)+D*C),W=(I+L)/2,q=(y.innerRadius+y.outerRadius)/2,G=[{name:O,value:T,payload:R,dataKey:_,type:m}],K=es(y.cx,y.cy,q,W);return E=Xn(Xn(Xn({percent:D,cornerRadius:i,name:O,tooltipPayload:G,midAngle:W,middleRadius:q,tooltipPosition:K},R),y),{},{value:Ea(R,_),startAngle:I,endAngle:L,payload:R,paddingAngle:Hi(g)*c}),E})}return Xn(Xn({},y),{},{sectors:k,data:a})});var KO,uY;function CKe(){if(uY)return KO;uY=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var l=-1,c=t(e((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return KO=r,KO}var YO,dY;function Zce(){if(dY)return YO;dY=1;var e=ble(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return YO=n,YO}var XO,fY;function EKe(){if(fY)return XO;fY=1;var e=CKe(),t=Ok(),r=Zce();function n(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,a)}}return XO=n,XO}var JO,hY;function TKe(){if(hY)return JO;hY=1;var e=EKe(),t=e();return JO=t,JO}var AKe=TKe();const US=on(AKe);function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}function mY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mY(Object(r),!0).forEach(function(n){Qce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qce(e,t,r){return t=PKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PKe(e){var t=OKe(e,"string");return dw(t)=="symbol"?t:t+""}function OKe(e,t){if(dw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DKe=["Webkit","Moz","O","ms"],RKe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=DKe.reduce(function(i,o){return pY(pY({},i),{},Qce({},o+n,r))},{});return a[t]=r,a};function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(this,arguments)}function gY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gY(Object(r),!0).forEach(function(n){Oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tue(n.key),n)}}function MKe(e,t,r){return t&&xY(e.prototype,t),r&&xY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FKe(e,t,r){return t=zS(t),LKe(e,eue()?Reflect.construct(t,r||[],zS(e).constructor):t.apply(e,r))}function LKe(e,t){if(t&&(z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ke(e)}function $Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eue=function(){return!!e})()}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zS(e)}function BKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EI(e,t)}function EI(e,t){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EI(e,t)}function Oo(e,t,r){return t=tue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tue(e){var t=UKe(e,"string");return z0(t)=="symbol"?t:t+""}function UKe(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VKe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Uy().domain(US(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},vY=function(t){return t.changedTouches&&!!t.changedTouches.length},q0=(function(e){function t(r){var n;return IKe(this,t),n=FKe(this,t,[r]),Oo(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Oo(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Oo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Oo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Oo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Oo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Oo(n,"handleSlideDragStart",function(a){var i=vY(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BKe(t,e),MKe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ea(i[n],l,n);return Cr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==m||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=vY(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,_={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+m-p-u):w<0&&(w=Math.max(w,f-u)),_[o]=u+w;var j=this.getIndex(_),C=j.startIndex,S=j.endIndex,k=function(){var R=v.length-1;return o==="startX"&&(l>c?C%g===0:S%g===0)||l<c&&S===R||o==="endX"&&(l>c?S%g===0:C%g===0)||l>c&&S===R};this.setState(Oo(Oo({},o,u+w),"brushMoveStartX",n.pageX),function(){y&&k()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Oo({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return oe.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?oe.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,_=Math.max(n,this.props.x),w=ZO(ZO({},mr(this.props,!1)),{},{x:_,y:u,width:d,height:f}),j=p||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return oe.createElement(yn,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return oe.createElement(yn,{className:"recharts-brush-texts"},oe.createElement(Jm,VS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:o+l/2},y),this.getTextOfTick(a)),oe.createElement(Jm,VS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,y=m.endX,g=m.isTextActive,v=m.isSlideMoving,_=m.isTravellerMoving,w=m.isTravellerFocused;if(!a||!a.length||!kt(l)||!kt(c)||!kt(u)||!kt(d)||u<=0||d<=0)return null;var j=Ir("recharts-brush",i),C=oe.Children.count(o)===1,S=RKe("userSelect","none");return oe.createElement(yn,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||_||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),oe.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return oe.isValidElement(n)?i=oe.cloneElement(n,a):Cr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return ZO({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?VKe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(b.PureComponent);Oo(q0,"displayName","Brush");Oo(q0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QO,yY;function zKe(){if(yY)return QO;yY=1;var e=j6();function t(r,n){var a;return e(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return QO=t,QO}var eD,bY;function qKe(){if(bY)return eD;bY=1;var e=Joe(),t=ju(),r=zKe(),n=No(),a=Ok();function i(o,l,c){var u=n(o)?e:r;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return eD=i,eD}var WKe=qKe();const HKe=on(WKe);var su=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},tD,wY;function GKe(){if(wY)return tD;wY=1;var e=ple();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return tD=t,tD}var rD,_Y;function KKe(){if(_Y)return rD;_Y=1;var e=GKe(),t=hle(),r=ju();function n(a,i){var o={};return i=r(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return rD=n,rD}var YKe=KKe();const XKe=on(YKe);var nD,jY;function JKe(){if(jY)return nD;jY=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return nD=e,nD}var sD,NY;function ZKe(){if(NY)return sD;NY=1;var e=j6();function t(r,n){var a=!0;return e(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return sD=t,sD}var aD,SY;function QKe(){if(SY)return aD;SY=1;var e=JKe(),t=ZKe(),r=ju(),n=No(),a=Ok();function i(o,l,c){var u=n(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return aD=i,aD}var eYe=QKe();const rue=on(eYe);var tYe=["x","y"];function fw(e){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fw(e)}function TI(){return TI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TI.apply(this,arguments)}function kY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kY(Object(r),!0).forEach(function(n){rYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rYe(e,t,r){return t=nYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nYe(e){var t=sYe(e,"string");return fw(t)=="symbol"?t:t+""}function sYe(e,t){if(fw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aYe(e,t){if(e==null)return{};var r=iYe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iYe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oYe(e,t){var r=e.x,n=e.y,a=aYe(e,tYe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Fv(Fv(Fv(Fv(Fv({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function CY(e){return oe.createElement(Yce,TI({shapeType:"rectangle",propTransformer:oYe,activeClassName:"recharts-active-bar"},e))}var lYe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=kt(n)||OLe(n);return i?t(n,a):(i||Qm(),r)}},cYe=["value","background"],nue;function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function uYe(e,t){if(e==null)return{};var r=dYe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dYe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qS.apply(this,arguments)}function EY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EY(Object(r),!0).forEach(function(n){hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aue(n.key),n)}}function hYe(e,t,r){return t&&TY(e.prototype,t),r&&TY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mYe(e,t,r){return t=WS(t),pYe(e,sue()?Reflect.construct(t,r||[],WS(e).constructor):t.apply(e,r))}function pYe(e,t){if(t&&(W0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gYe(e)}function gYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sue=function(){return!!e})()}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},WS(e)}function xYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AI(e,t)}function AI(e,t){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AI(e,t)}function hf(e,t,r){return t=aue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=vYe(e,"string");return W0(t)=="symbol"?t:t+""}function vYe(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vo=(function(e){function t(){var r;fYe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mYe(this,t,[].concat(a)),hf(r,"state",{isAnimationFinished:!1}),hf(r,"id",Tx("recharts-bar-")),hf(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),hf(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xYe(t,e),hYe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=mr(this.props,!1);return n&&n.map(function(f,m){var p=m===c,y=p?u:o,g=ra(ra(ra({},d),f),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return oe.createElement(yn,qS({className:"recharts-bar-rectangle"},Xm(a.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),oe.createElement(CY,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return oe.createElement(hu,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=i.map(function(v,_){var w=m&&m[_];if(w){var j=Uo(w.x,v.x),C=Uo(w.y,v.y),S=Uo(w.width,v.width),k=Uo(w.height,v.height);return ra(ra({},v),{},{x:j(y),y:C(y),width:S(y),height:k(y)})}if(o==="horizontal"){var E=Uo(0,v.height),R=E(y);return ra(ra({},v),{},{y:v.y+v.height-R,height:R})}var P=Uo(0,v.width),T=P(y);return ra(ra({},v),{},{width:T})});return oe.createElement(yn,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!d1(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=mr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=uYe(u,cYe);if(!f)return null;var p=ra(ra(ra(ra(ra({},m),{},{fill:"#eee"},f),c),Xm(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return oe.createElement(CY,qS({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=el(d,f1);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,_){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Ea(v,_)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return oe.createElement(yn,y,f.map(function(g){return oe.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,p=n.isAnimationActive,y=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,_=Ir("recharts-bar",o),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,C=w||j,S=Dr(g)?this.id:g;return oe.createElement(yn,{className:_},w||j?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(S)},oe.createElement("rect",{x:w?u:u-f/2,y:j?d:d-m/2,width:w?f:f*2,height:j?m:m*2}))):null,oe.createElement(yn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!p||v)&&rd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(b.PureComponent);nue=Vo;hf(Vo,"displayName","Bar");hf(Vo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hf(Vo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,p=Gze(n,r);if(!p)return null;var y=t.layout,g=r.type.defaultProps,v=g!==void 0?ra(ra({},g),r.props):r.props,_=v.dataKey,w=v.children,j=v.minPointSize,C=y==="horizontal"?o:i,S=u?C.scale.domain():null,k=eqe({numericAxis:C}),E=el(w,Dk),R=f.map(function(P,T){var O,D,I,L,W,q;u?O=Kze(u[d+T],S):(O=Ea(P,_),Array.isArray(O)||(O=[k,O]));var G=lYe(j,nue.defaultProps.minPointSize)(O[1],T);if(y==="horizontal"){var K,U=[o.scale(O[0]),o.scale(O[1])],F=U[0],B=U[1];D=eK({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:T}),I=(K=B??F)!==null&&K!==void 0?K:void 0,L=p.size;var V=F-B;if(W=Number.isNaN(V)?0:V,q={x:D,y:o.y,width:L,height:o.height},Math.abs(G)>0&&Math.abs(W)<Math.abs(G)){var Z=Hi(W||G)*(Math.abs(G)-Math.abs(W));I-=Z,W+=Z}}else{var X=[i.scale(O[0]),i.scale(O[1])],Q=X[0],ce=X[1];if(D=Q,I=eK({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:T}),L=ce-Q,W=p.size,q={x:i.x,y:I,width:i.width,height:W},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var de=Hi(L||G)*(Math.abs(G)-Math.abs(L));L+=de}}return ra(ra(ra({},P),{},{x:D,y:I,width:L,height:W,value:u?O:O[1],payload:P,background:q},E&&E[T]&&E[T].props),{},{tooltipPayload:[Pce(r,P)],tooltipPosition:{x:D+L/2,y:I+W/2}})});return ra({data:R,layout:y},m)});function hw(e){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hw(e)}function yYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iue(n.key),n)}}function bYe(e,t,r){return t&&AY(e.prototype,t),r&&AY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PY(Object(r),!0).forEach(function(n){Zk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zk(e,t,r){return t=iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=wYe(e,"string");return hw(t)=="symbol"?t:t+""}function wYe(e,t){if(hw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oue=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Io(u,Vo);return d.reduce(function(p,y){var g=r[y],v=g.orientation,_=g.domain,w=g.padding,j=w===void 0?{}:w,C=g.mirror,S=g.reversed,k="".concat(v).concat(C?"Mirror":""),E,R,P,T,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var D=_[1]-_[0],I=1/0,L=g.categoricalDomain.sort(ILe);if(L.forEach(function(X,Q){Q>0&&(I=Math.min((X||0)-(L[Q-1]||0),I))}),Number.isFinite(I)){var W=I/D,q=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=W*q/2),g.padding==="no-gap"){var G=Gi(t.barCategoryGap,W*q),K=W*q/2;E=K-G-(K-G)/q*G}}}a==="xAxis"?R=[n.left+(j.left||0)+(E||0),n.left+n.width-(j.right||0)-(E||0)]:a==="yAxis"?R=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(E||0),n.top+n.height-(j.bottom||0)-(E||0)]:R=g.range,S&&(R=[R[1],R[0]]);var U=Cce(g,i,m),F=U.scale,B=U.realScaleType;F.domain(_).range(R),Ece(F);var V=Tce(F,lc(lc({},g),{},{realScaleType:B}));a==="xAxis"?(O=v==="top"&&!C||v==="bottom"&&C,P=n.left,T=f[k]-O*g.height):a==="yAxis"&&(O=v==="left"&&!C||v==="right"&&C,P=f[k]-O*g.width,T=n.top);var Z=lc(lc(lc({},g),V),{},{realScaleType:B,x:P,y:T,scale:F,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return Z.bandSize=ES(Z,V),!g.hide&&a==="xAxis"?f[k]+=(O?-1:1)*Z.height:g.hide||(f[k]+=(O?-1:1)*Z.width),lc(lc({},p),{},Zk({},y,Z))},{})},lue=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},_Ye=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return lue({x:r,y:n},{x:a,y:i})},cue=(function(){function e(t){yYe(this,e),this.scale=t}return bYe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Zk(cue,"EPS",1e-4);var Z6=function(t){var r=Object.keys(t).reduce(function(n,a){return lc(lc({},n),{},Zk({},a,cue.create(t[a])))},{});return lc(lc({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return XKe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return rue(a,function(i,o){return r[o].isInRange(i)})}})};function jYe(e){return(e%180+180)%180}var NYe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=jYe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},iD,OY;function SYe(){if(OY)return iD;OY=1;var e=ju(),t=i1(),r=Ak();function n(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=a(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return iD=n,iD}var oD,DY;function kYe(){if(DY)return oD;DY=1;var e=Zce();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return oD=t,oD}var lD,RY;function CYe(){if(RY)return lD;RY=1;var e=lle(),t=ju(),r=kYe(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return lD=a,lD}var cD,IY;function EYe(){if(IY)return cD;IY=1;var e=SYe(),t=CYe(),r=e(t);return cD=r,cD}var TYe=EYe();const AYe=on(TYe);var PYe=Noe();const OYe=on(PYe);var DYe=OYe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Q6=b.createContext(void 0),eL=b.createContext(void 0),uue=b.createContext(void 0),due=b.createContext({}),fue=b.createContext(void 0),hue=b.createContext(0),mue=b.createContext(0),MY=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=DYe(i);return oe.createElement(Q6.Provider,{value:n},oe.createElement(eL.Provider,{value:a},oe.createElement(due.Provider,{value:i},oe.createElement(uue.Provider,{value:d},oe.createElement(fue.Provider,{value:o},oe.createElement(hue.Provider,{value:u},oe.createElement(mue.Provider,{value:c},l)))))))},RYe=function(){return b.useContext(fue)},pue=function(t){var r=b.useContext(Q6);r==null&&Qm();var n=r[t];return n==null&&Qm(),n},IYe=function(){var t=b.useContext(Q6);return ef(t)},MYe=function(){var t=b.useContext(eL),r=AYe(t,function(n){return rue(n.domain,Number.isFinite)});return r||ef(t)},gue=function(t){var r=b.useContext(eL);r==null&&Qm();var n=r[t];return n==null&&Qm(),n},FYe=function(){var t=b.useContext(uue);return t},LYe=function(){return b.useContext(due)},tL=function(){return b.useContext(mue)},rL=function(){return b.useContext(hue)};function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function $Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vue(n.key),n)}}function UYe(e,t,r){return t&&BYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VYe(e,t,r){return t=HS(t),zYe(e,xue()?Reflect.construct(t,r||[],HS(e).constructor):t.apply(e,r))}function zYe(e,t){if(t&&(H0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qYe(e)}function qYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xue=function(){return!!e})()}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HS(e)}function WYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PI(e,t)}function PI(e,t){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PI(e,t)}function FY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FY(Object(r),!0).forEach(function(n){nL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nL(e,t,r){return t=vue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=HYe(e,"string");return H0(t)=="symbol"?t:t+""}function HYe(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GYe(e,t){return JYe(e)||XYe(e,t)||YYe(e,t)||KYe()}function KYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YYe(e,t){if(e){if(typeof e=="string")return $Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $Y(e,t)}}function $Y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JYe(e){if(Array.isArray(e))return e}function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OI.apply(this,arguments)}var ZYe=function(t,r){var n;return oe.isValidElement(t)?n=oe.cloneElement(t,r):Cr(t)?n=t(r):n=oe.createElement("line",OI({},r,{className:"recharts-reference-line-line"})),n},QYe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,p=i.height;if(n){var y=u.y,g=t.y.apply(y,{position:o});if(su(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var _=u.x,w=t.x.apply(_,{position:o});if(su(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:f+p},{x:w,y:f}];return l==="top"?j.reverse():j}if(a){var C=u.segment,S=C.map(function(k){return t.apply(k,{position:o})});return su(u,"discard")&&HKe(S,function(k){return!t.isInRange(k)})?null:S}return null};function eXe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=RYe(),d=pue(a),f=gue(i),m=FYe();if(!u||!m)return null;bc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Z6({x:d.scale,y:f.scale}),y=Ta(t),g=Ta(r),v=n&&n.length===2,_=QYe(p,y,g,v,m,e.position,d.orientation,f.orientation,e);if(!_)return null;var w=GYe(_,2),j=w[0],C=j.x,S=j.y,k=w[1],E=k.x,R=k.y,P=su(e,"hidden")?"url(#".concat(u,")"):void 0,T=LY(LY({clipPath:P},mr(e,!0)),{},{x1:C,y1:S,x2:E,y2:R});return oe.createElement(yn,{className:Ir("recharts-reference-line",l)},ZYe(o,T),Va.renderCallByParent(e,_Ye({x1:C,y1:S,x2:E,y2:R})))}var sL=(function(e){function t(){return $Ye(this,t),VYe(this,t,arguments)}return WYe(t,e),UYe(t,[{key:"render",value:function(){return oe.createElement(eXe,this.props)}}])})(oe.Component);nL(sL,"displayName","ReferenceLine");nL(sL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function DI(){return DI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DI.apply(this,arguments)}function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function BY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BY(Object(r),!0).forEach(function(n){Qk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bue(n.key),n)}}function nXe(e,t,r){return t&&rXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sXe(e,t,r){return t=GS(t),aXe(e,yue()?Reflect.construct(t,r||[],GS(e).constructor):t.apply(e,r))}function aXe(e,t){if(t&&(G0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iXe(e)}function iXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yue=function(){return!!e})()}function GS(e){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GS(e)}function oXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RI(e,t)}function RI(e,t){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RI(e,t)}function Qk(e,t,r){return t=bue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bue(e){var t=lXe(e,"string");return G0(t)=="symbol"?t:t+""}function lXe(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cXe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Z6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return su(t,"discard")&&!o.isInRange(l)?null:l},eC=(function(e){function t(){return tXe(this,t),sXe(this,t,arguments)}return oXe(t,e),nXe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ta(a),d=Ta(i);if(bc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=cXe(this.props);if(!f)return null;var m=f.x,p=f.y,y=this.props,g=y.shape,v=y.className,_=su(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=UY(UY({clipPath:_},mr(this.props,!0)),{},{cx:m,cy:p});return oe.createElement(yn,{className:Ir("recharts-reference-dot",v)},t.renderDot(g,w),Va.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])})(oe.Component);Qk(eC,"displayName","ReferenceDot");Qk(eC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qk(eC,"renderDot",function(e,t){var r;return oe.isValidElement(e)?r=oe.cloneElement(e,t):Cr(e)?r=e(t):r=oe.createElement(Wk,DI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function II(){return II=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},II.apply(this,arguments)}function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function VY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VY(Object(r),!0).forEach(function(n){tC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_ue(n.key),n)}}function fXe(e,t,r){return t&&dXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hXe(e,t,r){return t=KS(t),mXe(e,wue()?Reflect.construct(t,r||[],KS(e).constructor):t.apply(e,r))}function mXe(e,t){if(t&&(K0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pXe(e)}function pXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wue=function(){return!!e})()}function KS(e){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KS(e)}function gXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MI(e,t)}function MI(e,t){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MI(e,t)}function tC(e,t,r){return t=_ue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ue(e){var t=xXe(e,"string");return K0(t)=="symbol"?t:t+""}function xXe(e,t){if(K0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vXe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=Z6({x:d.scale,y:f.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return su(i,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:lue(p,y)},rC=(function(e){function t(){return uXe(this,t),hXe(this,t,arguments)}return gXe(t,e),fXe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;bc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ta(a),m=Ta(i),p=Ta(o),y=Ta(l),g=this.props.shape;if(!f&&!m&&!p&&!y&&!g)return null;var v=vXe(f,m,p,y,this.props);if(!v&&!g)return null;var _=su(this.props,"hidden")?"url(#".concat(d,")"):void 0;return oe.createElement(yn,{className:Ir("recharts-reference-area",c)},t.renderRect(g,zY(zY({clipPath:_},mr(this.props,!0)),v)),Va.renderCallByParent(this.props,v))}}])})(oe.Component);tC(rC,"displayName","ReferenceArea");tC(rC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tC(rC,"renderRect",function(e,t){var r;return oe.isValidElement(e)?r=oe.cloneElement(e,t):Cr(e)?r=e(t):r=oe.createElement(J6,II({},t,{className:"recharts-reference-area-rect"})),r});function jue(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function yXe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return NYe(n,r)}function bXe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function YS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function wXe(e,t){return jue(e,t+1)}function _Xe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n?.[c];if(y===void 0)return{v:jue(n,u)};var g=c,v,_=function(){return v===void 0&&(v=r(y,g)),v},w=y.coordinate,j=c===0||YS(e,w,_,d,l);j||(c=0,d=o,u+=1),j&&(d=w+e*(_()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}function qY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qY(Object(r),!0).forEach(function(n){jXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jXe(e,t,r){return t=NXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NXe(e){var t=SXe(e,"string");return mw(t)=="symbol"?t:t+""}function SXe(e,t){if(mw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kXe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var p=i[m],y,g=function(){return y===void 0&&(y=r(p,m)),y};if(m===o-1){var v=e*(p.coordinate+e*g()/2-c);i[m]=p=gi(gi({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[m]=p=gi(gi({},p),{},{tickCoord:p.coordinate});var _=YS(e,p.tickCoord,g,l,c);_&&(c=p.tickCoord-e*(g()/2+a),i[m]=gi(gi({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function CXe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=gi(gi({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=YS(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=gi(gi({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(w){var j=o[w],C,S=function(){return C===void 0&&(C=r(j,w)),C};if(w===0){var k=e*(j.coordinate-e*S()/2-c);o[w]=j=gi(gi({},j),{},{tickCoord:k<0?j.coordinate-k*e:j.coordinate})}else o[w]=j=gi(gi({},j),{},{tickCoord:j.coordinate});var E=YS(e,j.tickCoord,S,c,u);E&&(c=j.tickCoord+e*(S()/2+a),o[w]=gi(gi({},j),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function aL(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(kt(c)||vp.isSsr)return wXe(a,typeof c=="number"&&kt(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?By(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(j,C){var S=Cr(u)?u(j.value,C):j.value;return p==="width"?yXe(By(S,{fontSize:t,letterSpacing:r}),y,f):By(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Hi(a[1].coordinate-a[0].coordinate):1,_=bXe(i,v,p);return c==="equidistantPreserveStart"?_Xe(v,_,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=CXe(v,_,g,a,o,c==="preserveStartEnd"):m=kXe(v,_,g,a,o),m.filter(function(w){return w.isShow}))}var EXe=["viewBox"],TXe=["viewBox"],AXe=["ticks"];function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function WY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WY(Object(r),!0).forEach(function(n){iL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uD(e,t){if(e==null)return{};var r=PXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sue(n.key),n)}}function DXe(e,t,r){return t&&HY(e.prototype,t),r&&HY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RXe(e,t,r){return t=XS(t),IXe(e,Nue()?Reflect.construct(t,r||[],XS(e).constructor):t.apply(e,r))}function IXe(e,t){if(t&&(Y0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MXe(e)}function MXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nue=function(){return!!e})()}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XS(e)}function FXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FI(e,t)}function FI(e,t){return FI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FI(e,t)}function iL(e,t,r){return t=Sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sue(e){var t=LXe(e,"string");return Y0(t)=="symbol"?t:t+""}function LXe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rx=(function(e){function t(r){var n;return OXe(this,t),n=RXe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return FXe(t,e),DXe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=uD(n,EXe),l=this.props,c=l.viewBox,u=uD(l,TXe);return!i0(i,c)||!i0(o,u)||!i0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,p,y,g,v,_,w,j=f?-1:1,C=n.tickSize||d,S=kt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,g=v-j*C,w=g-j*m,_=S;break;case"left":g=v=n.coordinate,y=i+ +!f*l,p=y-j*C,_=p-j*m,w=S;break;case"right":g=v=n.coordinate,y=i+ +f*l,p=y+j*C,_=p+j*m,w=S;break;default:p=y=n.coordinate,v=o+ +f*c,g=v+j*C,w=g+j*m,_=S;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ga(ga(ga({},mr(this.props,!1)),mr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=ga(ga({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ga(ga({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return oe.createElement("line",Ig({},f,{className:Ir("recharts-cartesian-axis-line",Qo(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,p=aL(ga(ga({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=mr(this.props,!1),_=mr(d,!1),w=ga(ga({},v),{},{fill:"none"},mr(c,!1)),j=p.map(function(C,S){var k=o.getTickLineCoord(C),E=k.line,R=k.tick,P=ga(ga(ga(ga({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},_),R),{},{index:S,payload:C,visibleTicksCount:p.length,tickFormatter:f});return oe.createElement(yn,Ig({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Xm(o.props,C,S)),c&&oe.createElement("line",Ig({},w,E,{className:Ir("recharts-cartesian-axis-tick-line",Qo(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Cr(f)?f(C.value,S):C.value).concat(m||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,p=uD(f,AXe),y=m;return Cr(c)&&(y=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:oe.createElement(yn,{className:Ir("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Va.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Ir(a.className,"recharts-cartesian-axis-tick-value");return oe.isValidElement(n)?o=oe.cloneElement(n,ga(ga({},a),{},{className:l})):Cr(n)?o=n(ga(ga({},a),{},{className:l})):o=oe.createElement(Jm,Ig({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(b.Component);iL(Rx,"displayName","CartesianAxis");iL(Rx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Xe=["x1","y1","x2","y2","key"],BXe=["offset"];function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function GY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GY(Object(r),!0).forEach(function(n){UXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UXe(e,t,r){return t=VXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VXe(e){var t=zXe(e,"string");return ep(t)=="symbol"?t:t+""}function zXe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function KY(e,t){if(e==null)return{};var r=qXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var WXe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return oe.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kue(e,t){var r;if(oe.isValidElement(e))r=oe.cloneElement(e,t);else if(Cr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=KY(t,$Xe),u=mr(c,!1);u.offset;var d=KY(u,BXe);r=oe.createElement("line",im({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function HXe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=wi(wi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return kue(a,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function GXe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=wi(wi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return kue(a,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function KXe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,p){return m-p});a!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?a+o-m:d[p+1]-m;if(g<=0)return null;var v=p%t.length;return oe.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function YXe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?i+l-m:d[p+1]-m;if(g<=0)return null;var v=p%n.length;return oe.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var XXe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return kce(aL(wi(wi(wi({},Rx.defaultProps),n),{},{ticks:Ku(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},JXe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return kce(aL(wi(wi(wi({},Rx.defaultProps),n),{},{ticks:Ku(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},mg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pw(e){var t,r,n,a,i,o,l=tL(),c=rL(),u=LYe(),d=wi(wi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:mg.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:mg.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:mg.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:mg.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:mg.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:mg.verticalFill,x:kt(e.x)?e.x:u.left,y:kt(e.y)?e.y:u.top,width:kt(e.width)?e.width:u.width,height:kt(e.height)?e.height:u.height}),f=d.x,m=d.y,p=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,_=d.verticalValues,w=IYe(),j=MYe();if(!kt(p)||p<=0||!kt(y)||y<=0||!kt(f)||f!==+f||!kt(m)||m!==+m)return null;var C=d.verticalCoordinatesGenerator||XXe,S=d.horizontalCoordinatesGenerator||JXe,k=d.horizontalPoints,E=d.verticalPoints;if((!k||!k.length)&&Cr(S)){var R=v&&v.length,P=S({yAxis:j?wi(wi({},j),{},{ticks:R?v:j.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);bc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ep(P),"]")),Array.isArray(P)&&(k=P)}if((!E||!E.length)&&Cr(C)){var T=_&&_.length,O=C({xAxis:w?wi(wi({},w),{},{ticks:T?_:w.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);bc(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ep(O),"]")),Array.isArray(O)&&(E=O)}return oe.createElement("g",{className:"recharts-cartesian-grid"},oe.createElement(WXe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),oe.createElement(HXe,im({},d,{offset:u,horizontalPoints:k,xAxis:w,yAxis:j})),oe.createElement(GXe,im({},d,{offset:u,verticalPoints:E,xAxis:w,yAxis:j})),oe.createElement(KXe,im({},d,{horizontalPoints:k})),oe.createElement(YXe,im({},d,{verticalPoints:E})))}pw.displayName="CartesianGrid";var ZXe=["type","layout","connectNulls","ref"],QXe=["key"];function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function YY(e,t){if(e==null)return{};var r=eJe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function XY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XY(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pg(e){return sJe(e)||nJe(e)||rJe(e)||tJe()}function tJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJe(e,t){if(e){if(typeof e=="string")return LI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(e,t)}}function nJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sJe(e){if(Array.isArray(e))return LI(e)}function LI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eue(n.key),n)}}function iJe(e,t,r){return t&&JY(e.prototype,t),r&&JY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oJe(e,t,r){return t=JS(t),lJe(e,Cue()?Reflect.construct(t,r||[],JS(e).constructor):t.apply(e,r))}function lJe(e,t){if(t&&(X0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cJe(e)}function cJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cue=function(){return!!e})()}function JS(e){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},JS(e)}function uJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$I(e,t)}function $I(e,t){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$I(e,t)}function cc(e,t,r){return t=Eue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eue(e){var t=dJe(e,"string");return X0(t)=="symbol"?t:t+""}function dJe(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h1=(function(e){function t(){var r;aJe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oJe(this,t,[].concat(a)),cc(r,"state",{isAnimationFinished:!0,totalLength:0}),cc(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),cc(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(_,w){return _+w});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,p=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){p=[].concat(pg(c.slice(0,y)),[f-g]);break}var v=p.length%2===0?[0,m]:[m];return[].concat(pg(t.repeat(c,d)),pg(p),v).map(function(_){return"".concat(_,"px")}).join(", ")}),cc(r,"id",Tx("recharts-line-")),cc(r,"pathRef",function(o){r.mainCurve=o}),cc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return uJe(t,e),iJe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=el(d,f1);if(!f)return null;var m=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Ea(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return oe.createElement(yn,p,f.map(function(y){return oe.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=mr(this.props,!1),m=mr(c,!0),p=u.map(function(g,v){var _=Ao(Ao(Ao({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,_)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return oe.createElement(yn,Hy({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=YY(l,ZXe),m=Ao(Ao(Ao({},mr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return oe.createElement(PS,Hy({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,p=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,_=this.state,w=_.prevPoints,j=_.totalLength;return oe.createElement(hu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(w){var k=w.length/l.length,E=l.map(function(D,I){var L=Math.floor(I*k);if(w[L]){var W=w[L],q=Uo(W.x,D.x),G=Uo(W.y,D.y);return Ao(Ao({},D),{},{x:q(S),y:G(S)})}if(y){var K=Uo(g*2,D.x),U=Uo(v/2,D.y);return Ao(Ao({},D),{},{x:K(S),y:U(S)})}return Ao(Ao({},D),{},{x:D.x,y:D.y})});return i.renderCurveStatically(E,n,a)}var R=Uo(0,j),P=R(S),T;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});T=i.getStrokeDasharray(P,j,O)}else T=i.generateSimpleStrokeDasharray(j,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!d1(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,m=a.left,p=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var _=this.state.isAnimationFinished,w=l.length===1,j=Ir("recharts-line",c),C=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=C||S,E=Dr(v)?this.id:v,R=(n=mr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=R.r,T=P===void 0?3:P,O=R.strokeWidth,D=O===void 0?2:O,I=qLe(o)?o:{},L=I.clipDot,W=L===void 0?!0:L,q=T*2+D;return oe.createElement(yn,{className:j},C||S?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(E)},oe.createElement("rect",{x:C?m:m-p/2,y:S?f:f-y/2,width:C?p:p*2,height:S?y:y*2})),!W&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(E)},oe.createElement("rect",{x:m-q/2,y:f-q/2,width:p+q,height:y+q}))):null,!w&&this.renderCurve(k,E),this.renderErrorBar(k,E),(w||o)&&this.renderDots(k,W,E),(!g||_)&&rd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(pg(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(pg(o),pg(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(oe.isValidElement(n))i=oe.cloneElement(n,a);else if(Cr(n))i=n(a);else{var o=a.key,l=YY(a,QXe),c=Ir("recharts-line-dot",typeof n!="boolean"?n.className:"");i=oe.createElement(Wk,Hy({key:o},l,{className:c}))}return i}}])})(b.PureComponent);cc(h1,"displayName","Line");cc(h1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cc(h1,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,p){var y=Ea(m,o);return d==="horizontal"?{x:QG({axis:r,ticks:a,bandSize:l,entry:m,index:p}),y:Dr(y)?null:n.scale(y),value:y,payload:m}:{x:Dr(y)?null:r.scale(y),y:QG({axis:n,ticks:i,bandSize:l,entry:m,index:p}),value:y,payload:m}});return Ao({points:f,layout:d},u)});function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function fJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pue(n.key),n)}}function mJe(e,t,r){return t&&hJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pJe(e,t,r){return t=ZS(t),gJe(e,Tue()?Reflect.construct(t,r||[],ZS(e).constructor):t.apply(e,r))}function gJe(e,t){if(t&&(J0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJe(e)}function xJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tue=function(){return!!e})()}function ZS(e){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ZS(e)}function vJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BI(e,t)}function BI(e,t){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BI(e,t)}function Aue(e,t,r){return t=Pue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pue(e){var t=yJe(e,"string");return J0(t)=="symbol"?t:t+""}function yJe(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function UI(){return UI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UI.apply(this,arguments)}function bJe(e){var t=e.xAxisId,r=tL(),n=rL(),a=pue(t);return a==null?null:b.createElement(Rx,UI({},a,{className:Ir("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ku(o,!0)}}))}var Yf=(function(e){function t(){return fJe(this,t),pJe(this,t,arguments)}return vJe(t,e),mJe(t,[{key:"render",value:function(){return b.createElement(bJe,this.props)}}])})(b.Component);Aue(Yf,"displayName","XAxis");Aue(Yf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function wJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rue(n.key),n)}}function jJe(e,t,r){return t&&_Je(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJe(e,t,r){return t=QS(t),SJe(e,Oue()?Reflect.construct(t,r||[],QS(e).constructor):t.apply(e,r))}function SJe(e,t){if(t&&(Z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kJe(e)}function kJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oue=function(){return!!e})()}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},QS(e)}function CJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VI(e,t)}function VI(e,t){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VI(e,t)}function Due(e,t,r){return t=Rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rue(e){var t=EJe(e,"string");return Z0(t)=="symbol"?t:t+""}function EJe(e,t){if(Z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zI(){return zI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zI.apply(this,arguments)}var TJe=function(t){var r=t.yAxisId,n=tL(),a=rL(),i=gue(r);return i==null?null:b.createElement(Rx,zI({},i,{className:Ir("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ku(l,!0)}}))},Xf=(function(e){function t(){return wJe(this,t),NJe(this,t,arguments)}return CJe(t,e),jJe(t,[{key:"render",value:function(){return b.createElement(TJe,this.props)}}])})(b.Component);Due(Xf,"displayName","YAxis");Due(Xf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ZY(e){return DJe(e)||OJe(e)||PJe(e)||AJe()}function AJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJe(e,t){if(e){if(typeof e=="string")return qI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qI(e,t)}}function OJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DJe(e){if(Array.isArray(e))return qI(e)}function qI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var WI=function(t,r,n,a,i){var o=el(t,sL),l=el(t,eC),c=[].concat(ZY(o),ZY(l)),u=el(t,rC),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,v){if(v.props[d]===n&&su(v.props,"extendDomain")&&kt(v.props[f])){var _=v.props[f];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},m)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(g,v){if(v.props[d]===n&&su(v.props,"extendDomain")&&kt(v.props[p])&&kt(v.props[y])){var _=v.props[p],w=v.props[y];return[Math.min(g[0],_,w),Math.max(g[1],_,w)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,v){return kt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},m)),m},dD={exports:{}},QY;function RJe(){return QY||(QY=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,y){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],_=arguments.length,w,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,y),!0}for(j=1,w=new Array(_-1);j<_;j++)w[j-1]=arguments[j];v.fn.apply(v.context,w)}else{var C=v.length,S;for(j=0;j<C;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),_){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,f);break;case 4:v[j].fn.call(v[j].context,d,f,m);break;default:if(!w)for(S=1,w=new Array(_-1);S<_;S++)w[S-1]=arguments[S];v[j].fn.apply(v[j].context,w)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var g=0,v=[],_=y.length;g<_;g++)(y[g].fn!==d||m&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(dD)),dD.exports}var IJe=RJe();const MJe=on(IJe);var fD=new MJe,hD="recharts.syncMouseEvents";function gw(e){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}function FJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iue(n.key),n)}}function $Je(e,t,r){return t&&LJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mD(e,t,r){return t=Iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iue(e){var t=BJe(e,"string");return gw(t)=="symbol"?t:t+""}function BJe(e,t){if(gw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UJe=(function(){function e(){FJe(this,e),mD(this,"activeIndex",0),mD(this,"coordinateList",[]),mD(this,"layout","horizontal")}return $Je(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function VJe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&kt(n)&&kt(a))return!0}return!1}function zJe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Mue(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=es(t,r,n,a),l=es(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function qJe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=es(l,c,u,f),p=es(l,c,d,f);n=m.x,a=m.y,i=p.x,o=p.y}else return Mue(t);return[{x:n,y:a},{x:i,y:o}]}function xw(e){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xw(e)}function eX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(r),!0).forEach(function(n){WJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJe(e,t,r){return t=HJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJe(e){var t=GJe(e,"string");return xw(t)=="symbol"?t:t+""}function GJe(e,t){if(xw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KJe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var y,g=PS;if(m==="ScatterChart")y=o,g=gGe;else if(m==="BarChart")y=zJe(f,o,c,d),g=J6;else if(f==="radial"){var v=Mue(o),_=v.cx,w=v.cy,j=v.radius,C=v.startAngle,S=v.endAngle;y={cx:_,cy:w,startAngle:C,endAngle:S,innerRadius:j,outerRadius:j},g=Fce}else y={points:qJe(f,o,c)},g=PS;var k=bj(bj(bj(bj({stroke:"#ccc",pointerEvents:"none"},c),y),mr(p,!1)),{},{payload:l,payloadIndex:u,className:Ir("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,k):b.createElement(g,k)}var YJe=["item"],XJe=["children","className","width","height","style","compact","title","desc"];function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function tX(e,t){return QJe(e)||ZJe(e,t)||Lue(e,t)||JJe()}function JJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function QJe(e){if(Array.isArray(e))return e}function rX(e,t){if(e==null)return{};var r=eZe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$ue(n.key),n)}}function nZe(e,t,r){return t&&rZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sZe(e,t,r){return t=e2(t),aZe(e,Fue()?Reflect.construct(t,r||[],e2(e).constructor):t.apply(e,r))}function aZe(e,t){if(t&&(Q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iZe(e)}function iZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fue=function(){return!!e})()}function e2(e){return e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e2(e)}function oZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HI(e,t)}function HI(e,t){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HI(e,t)}function ex(e){return uZe(e)||cZe(e)||Lue(e)||lZe()}function lZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lue(e,t){if(e){if(typeof e=="string")return GI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(e,t)}}function cZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uZe(e){if(Array.isArray(e))return GI(e)}function GI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(r),!0).forEach(function(n){yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yr(e,t,r){return t=$ue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ue(e){var t=dZe(e,"string");return Q0(t)=="symbol"?t:t+""}function dZe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fZe={xAxis:["bottom","top"],yAxis:["left","right"]},hZe={width:"100%",height:"100%"},Bue={x:0,y:0};function wj(e){return e}var mZe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},pZe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return st(st(st({},a),es(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return st(st(st({},a),es(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Bue},nC=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ex(l),ex(u)):l},[]);return o.length>0?o:t&&t.length&&kt(a)&&kt(i)?t.slice(a,i+1):[]};function Uue(e){return e==="number"?[0,"auto"]:void 0}var KI=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=nC(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;m=nS(p,o.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(ex(c),[Pce(u,m)]):c},[])},sX=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=mZe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Uze(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=KI(t,r,d,f),p=pZe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},gZe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,p=Sce(d,i);return n.reduce(function(y,g){var v,_=g.type.defaultProps!==void 0?st(st({},g.type.defaultProps),g.props):g.props,w=_.type,j=_.dataKey,C=_.allowDataOverflow,S=_.allowDuplicatedCategory,k=_.scale,E=_.ticks,R=_.includeHidden,P=_[o];if(y[P])return y;var T=nC(t.data,{graphicalItems:a.filter(function(V){var Z,X=o in V.props?V.props[o]:(Z=V.type.defaultProps)===null||Z===void 0?void 0:Z[o];return X===P}),dataStartIndex:c,dataEndIndex:u}),O=T.length,D,I,L;VJe(_.domain,C,w)&&(D=lI(_.domain,null,C),p&&(w==="number"||k!=="auto")&&(L=Vy(T,j,"category")));var W=Uue(w);if(!D||D.length===0){var q,G=(q=_.domain)!==null&&q!==void 0?q:W;if(j){if(D=Vy(T,j,w),w==="category"&&p){var K=RLe(D);S&&K?(I=D,D=US(0,O)):S||(D=nK(G,D,g).reduce(function(V,Z){return V.indexOf(Z)>=0?V:[].concat(ex(V),[Z])},[]))}else if(w==="category")S?D=D.filter(function(V){return V!==""&&!Dr(V)}):D=nK(G,D,g).reduce(function(V,Z){return V.indexOf(Z)>=0||Z===""||Dr(Z)?V:[].concat(ex(V),[Z])},[]);else if(w==="number"){var U=Hze(T,a.filter(function(V){var Z,X,Q=o in V.props?V.props[o]:(Z=V.type.defaultProps)===null||Z===void 0?void 0:Z[o],ce="hide"in V.props?V.props.hide:(X=V.type.defaultProps)===null||X===void 0?void 0:X.hide;return Q===P&&(R||!ce)}),j,i,d);U&&(D=U)}p&&(w==="number"||k!=="auto")&&(L=Vy(T,j,"category"))}else p?D=US(0,O):l&&l[P]&&l[P].hasStack&&w==="number"?D=m==="expand"?[0,1]:Ace(l[P].stackGroups,c,u):D=Nce(T,a.filter(function(V){var Z=o in V.props?V.props[o]:V.type.defaultProps[o],X="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return Z===P&&(R||!X)}),w,d,!0);if(w==="number")D=WI(f,D,P,i,E),G&&(D=lI(G,D,C));else if(w==="category"&&G){var F=G,B=D.every(function(V){return F.indexOf(V)>=0});B&&(D=F)}}return st(st({},y),{},yr({},P,st(st({},_),{},{axisType:i,domain:D,categoricalDomain:L,duplicateDomain:I,originalDomain:(v=_.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:d})))},{})},xZe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=nC(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=Sce(d,i),g=-1;return n.reduce(function(v,_){var w=_.type.defaultProps!==void 0?st(st({},_.type.defaultProps),_.props):_.props,j=w[o],C=Uue("number");if(!v[j]){g++;var S;return y?S=US(0,p):l&&l[j]&&l[j].hasStack?(S=Ace(l[j].stackGroups,c,u),S=WI(f,S,j,i)):(S=lI(C,Nce(m,n.filter(function(k){var E,R,P=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],T="hide"in k.props?k.props.hide:(R=k.type.defaultProps)===null||R===void 0?void 0:R.hide;return P===j&&!T}),"number",d),a.defaultProps.allowDataOverflow),S=WI(f,S,j,i)),st(st({},v),{},yr({},j,st(st({axisType:i},a.defaultProps),{},{hide:!0,orientation:Qo(fZe,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},vZe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),m=el(d,i),p={};return m&&m.length?p=gZe(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=xZe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},yZe=function(t){var r=ef(t),n=Ku(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:N6(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ES(r,n)}},aX=function(t){var r=t.children,n=t.defaultShowTooltip,a=Io(r,q0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},bZe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ed(r&&r.type);return n&&n.indexOf("Bar")>=0})},iX=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wZe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=Io(f,q0),y=Io(f,wf),g=Object.keys(c).reduce(function(S,k){var E=c[k],R=E.orientation;return!E.mirror&&!E.hide?st(st({},S),{},yr({},R,S[R]+E.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,k){var E=o[k],R=E.orientation;return!E.mirror&&!E.hide?st(st({},S),{},yr({},R,Qo(S,"".concat(R))+E.height)):S},{top:m.top||0,bottom:m.bottom||0}),_=st(st({},v),g),w=_.bottom;p&&(_.bottom+=p.props.height||q0.defaultProps.height),y&&r&&(_=qze(_,a,n,r));var j=u-_.left-_.right,C=d-_.top-_.bottom;return st(st({brushBottom:w},_),{},{width:Math.max(j,0),height:Math.max(C,0)})},_Ze=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},oL=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(_,w){var j=w.graphicalItems,C=w.stackGroups,S=w.offset,k=w.updateId,E=w.dataStartIndex,R=w.dataEndIndex,P=_.barSize,T=_.layout,O=_.barGap,D=_.barCategoryGap,I=_.maxBarSize,L=iX(T),W=L.numericAxisName,q=L.cateAxisName,G=bZe(j),K=[];return j.forEach(function(U,F){var B=nC(_.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:R}),V=U.type.defaultProps!==void 0?st(st({},U.type.defaultProps),U.props):U.props,Z=V.dataKey,X=V.maxBarSize,Q=V["".concat(W,"Id")],ce=V["".concat(q,"Id")],de={},pe=c.reduce(function(be,Oe){var Ze=w["".concat(Oe.axisType,"Map")],tt=V["".concat(Oe.axisType,"Id")];Ze&&Ze[tt]||Oe.axisType==="zAxis"||Qm();var fe=Ze[tt];return st(st({},be),{},yr(yr({},Oe.axisType,fe),"".concat(Oe.axisType,"Ticks"),Ku(fe)))},de),re=pe[q],ie=pe["".concat(q,"Ticks")],J=C&&C[Q]&&C[Q].hasStack&&tqe(U,C[Q].stackGroups),z=ed(U.type).indexOf("Bar")>=0,Se=ES(re,ie),te=[],_e=G&&Vze({barSize:P,stackGroups:C,totalSize:_Ze(pe,q)});if(z){var Ae,ue,Ve=Dr(X)?I:X,He=(Ae=(ue=ES(re,ie,!0))!==null&&ue!==void 0?ue:Ve)!==null&&Ae!==void 0?Ae:0;te=zze({barGap:O,barCategoryGap:D,bandSize:He!==Se?He:Se,sizeList:_e[ce],maxBarSize:Ve}),He!==Se&&(te=te.map(function(be){return st(st({},be),{},{position:st(st({},be.position),{},{offset:be.position.offset-He/2})})}))}var le=U&&U.type&&U.type.getComposedData;le&&K.push({props:st(st({},le(st(st({},pe),{},{displayedData:B,props:_,dataKey:Z,item:U,bandSize:Se,barPosition:te,offset:S,stackedData:J,layout:T,dataStartIndex:E,dataEndIndex:R}))),{},yr(yr(yr({key:U.key||"item-".concat(F)},W,pe[W]),q,pe[q]),"animationId",k)),childIndex:GLe(U,_.children),item:U})}),K},p=function(_,w){var j=_.props,C=_.dataStartIndex,S=_.dataEndIndex,k=_.updateId;if(!xq({props:j}))return null;var E=j.children,R=j.layout,P=j.stackOffset,T=j.data,O=j.reverseStackOrder,D=iX(R),I=D.numericAxisName,L=D.cateAxisName,W=el(E,n),q=Qze(T,W,"".concat(I,"Id"),"".concat(L,"Id"),P,O),G=c.reduce(function(V,Z){var X="".concat(Z.axisType,"Map");return st(st({},V),{},yr({},X,vZe(j,st(st({},Z),{},{graphicalItems:W,stackGroups:Z.axisType===I&&q,dataStartIndex:C,dataEndIndex:S}))))},{}),K=wZe(st(st({},G),{},{props:j,graphicalItems:W}),w?.legendBBox);Object.keys(G).forEach(function(V){G[V]=d(j,G[V],K,V.replace("Map",""),r)});var U=G["".concat(L,"Map")],F=yZe(U),B=m(j,st(st({},G),{},{dataStartIndex:C,dataEndIndex:S,updateId:k,graphicalItems:W,stackGroups:q,offset:K}));return st(st({formattedGraphicalItems:B,graphicalItems:W,offset:K,stackGroups:q},F),G)},y=(function(v){function _(w){var j,C,S;return tZe(this,_),S=sZe(this,_,[w]),yr(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yr(S,"accessibilityManager",new UJe),yr(S,"handleLegendBBoxUpdate",function(k){if(k){var E=S.state,R=E.dataStartIndex,P=E.dataEndIndex,T=E.updateId;S.setState(st({legendBBox:k},p({props:S.props,dataStartIndex:R,dataEndIndex:P,updateId:T},st(st({},S.state),{},{legendBBox:k}))))}}),yr(S,"handleReceiveSyncEvent",function(k,E,R){if(S.props.syncId===k){if(R===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),yr(S,"handleBrushChange",function(k){var E=k.startIndex,R=k.endIndex;if(E!==S.state.dataStartIndex||R!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return st({dataStartIndex:E,dataEndIndex:R},p({props:S.props,dataStartIndex:E,dataEndIndex:R,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:R})}}),yr(S,"handleMouseEnter",function(k){var E=S.getMouseInfo(k);if(E){var R=st(st({},E),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var P=S.props.onMouseEnter;Cr(P)&&P(R,k)}}),yr(S,"triggeredAfterMouseMove",function(k){var E=S.getMouseInfo(k),R=E?st(st({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(R),S.triggerSyncEvent(R);var P=S.props.onMouseMove;Cr(P)&&P(R,k)}),yr(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),yr(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),yr(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),yr(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var R=S.props.onMouseLeave;Cr(R)&&R(E,k)}),yr(S,"handleOuterEvent",function(k){var E=HLe(k),R=Qo(S.props,"".concat(E));if(E&&Cr(R)){var P,T;/.*touch.*/i.test(E)?T=S.getMouseInfo(k.changedTouches[0]):T=S.getMouseInfo(k),R((P=T)!==null&&P!==void 0?P:{},k)}}),yr(S,"handleClick",function(k){var E=S.getMouseInfo(k);if(E){var R=st(st({},E),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var P=S.props.onClick;Cr(P)&&P(R,k)}}),yr(S,"handleMouseDown",function(k){var E=S.props.onMouseDown;if(Cr(E)){var R=S.getMouseInfo(k);E(R,k)}}),yr(S,"handleMouseUp",function(k){var E=S.props.onMouseUp;if(Cr(E)){var R=S.getMouseInfo(k);E(R,k)}}),yr(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),yr(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),yr(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),yr(S,"handleDoubleClick",function(k){var E=S.props.onDoubleClick;if(Cr(E)){var R=S.getMouseInfo(k);E(R,k)}}),yr(S,"handleContextMenu",function(k){var E=S.props.onContextMenu;if(Cr(E)){var R=S.getMouseInfo(k);E(R,k)}}),yr(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&fD.emit(hD,S.props.syncId,k,S.eventEmitterSymbol)}),yr(S,"applySyncEvent",function(k){var E=S.props,R=E.layout,P=E.syncMethod,T=S.state.updateId,O=k.dataStartIndex,D=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(st({dataStartIndex:O,dataEndIndex:D},p({props:S.props,dataStartIndex:O,dataEndIndex:D,updateId:T},S.state)));else if(k.activeTooltipIndex!==void 0){var I=k.chartX,L=k.chartY,W=k.activeTooltipIndex,q=S.state,G=q.offset,K=q.tooltipTicks;if(!G)return;if(typeof P=="function")W=P(K,k);else if(P==="value"){W=-1;for(var U=0;U<K.length;U++)if(K[U].value===k.activeLabel){W=U;break}}var F=st(st({},G),{},{x:G.left,y:G.top}),B=Math.min(I,F.x+F.width),V=Math.min(L,F.y+F.height),Z=K[W]&&K[W].value,X=KI(S.state,S.props.data,W),Q=K[W]?{x:R==="horizontal"?K[W].coordinate:B,y:R==="horizontal"?V:K[W].coordinate}:Bue;S.setState(st(st({},k),{},{activeLabel:Z,activeCoordinate:Q,activePayload:X,activeTooltipIndex:W}))}else S.setState(k)}),yr(S,"renderCursor",function(k){var E,R=S.state,P=R.isTooltipActive,T=R.activeCoordinate,O=R.activePayload,D=R.offset,I=R.activeTooltipIndex,L=R.tooltipAxisBandSize,W=S.getTooltipEventType(),q=(E=k.props.active)!==null&&E!==void 0?E:P,G=S.props.layout,K=k.key||"_recharts-cursor";return oe.createElement(KJe,{key:K,activeCoordinate:T,activePayload:O,activeTooltipIndex:I,chartName:r,element:k,isActive:q,layout:G,offset:D,tooltipAxisBandSize:L,tooltipEventType:W})}),yr(S,"renderPolarAxis",function(k,E,R){var P=Qo(k,"type.axisType"),T=Qo(S.state,"".concat(P,"Map")),O=k.type.defaultProps,D=O!==void 0?st(st({},O),k.props):k.props,I=T&&T[D["".concat(P,"Id")]];return b.cloneElement(k,st(st({},I),{},{className:Ir(P,I.className),key:k.key||"".concat(E,"-").concat(R),ticks:Ku(I,!0)}))}),yr(S,"renderPolarGrid",function(k){var E=k.props,R=E.radialLines,P=E.polarAngles,T=E.polarRadius,O=S.state,D=O.radiusAxisMap,I=O.angleAxisMap,L=ef(D),W=ef(I),q=W.cx,G=W.cy,K=W.innerRadius,U=W.outerRadius;return b.cloneElement(k,{polarAngles:Array.isArray(P)?P:Ku(W,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(T)?T:Ku(L,!0).map(function(F){return F.coordinate}),cx:q,cy:G,innerRadius:K,outerRadius:U,key:k.key||"polar-grid",radialLines:R})}),yr(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,E=S.props,R=E.children,P=E.width,T=E.height,O=S.props.margin||{},D=P-(O.left||0)-(O.right||0),I=_ce({children:R,formattedGraphicalItems:k,legendWidth:D,legendContent:u});if(!I)return null;var L=I.item,W=rX(I,YJe);return b.cloneElement(L,st(st({},W),{},{chartWidth:P,chartHeight:T,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),yr(S,"renderTooltip",function(){var k,E=S.props,R=E.children,P=E.accessibilityLayer,T=Io(R,ho);if(!T)return null;var O=S.state,D=O.isTooltipActive,I=O.activeCoordinate,L=O.activePayload,W=O.activeLabel,q=O.offset,G=(k=T.props.active)!==null&&k!==void 0?k:D;return b.cloneElement(T,{viewBox:st(st({},q),{},{x:q.left,y:q.top}),active:G,label:W,payload:G?L:[],coordinate:I,accessibilityLayer:P})}),yr(S,"renderBrush",function(k){var E=S.props,R=E.margin,P=E.data,T=S.state,O=T.offset,D=T.dataStartIndex,I=T.dataEndIndex,L=T.updateId;return b.cloneElement(k,{key:k.key||"_recharts-brush",onChange:gj(S.handleBrushChange,k.props.onChange),data:P,x:kt(k.props.x)?k.props.x:O.left,y:kt(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(R.bottom||0),width:kt(k.props.width)?k.props.width:O.width,startIndex:D,endIndex:I,updateId:"brush-".concat(L)})}),yr(S,"renderReferenceElement",function(k,E,R){if(!k)return null;var P=S,T=P.clipPathId,O=S.state,D=O.xAxisMap,I=O.yAxisMap,L=O.offset,W=k.type.defaultProps||{},q=k.props,G=q.xAxisId,K=G===void 0?W.xAxisId:G,U=q.yAxisId,F=U===void 0?W.yAxisId:U;return b.cloneElement(k,{key:k.key||"".concat(E,"-").concat(R),xAxis:D[K],yAxis:I[F],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:T})}),yr(S,"renderActivePoints",function(k){var E=k.item,R=k.activePoint,P=k.basePoint,T=k.childIndex,O=k.isRange,D=[],I=E.props.key,L=E.item.type.defaultProps!==void 0?st(st({},E.item.type.defaultProps),E.item.props):E.item.props,W=L.activeDot,q=L.dataKey,G=st(st({index:T,dataKey:q,cx:R.x,cy:R.y,r:4,fill:X6(E.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},mr(W,!1)),sS(W));return D.push(_.renderActiveDot(W,G,"".concat(I,"-activePoint-").concat(T))),P?D.push(_.renderActiveDot(W,st(st({},G),{},{cx:P.x,cy:P.y}),"".concat(I,"-basePoint-").concat(T))):O&&D.push(null),D}),yr(S,"renderGraphicChild",function(k,E,R){var P=S.filterFormatItem(k,E,R);if(!P)return null;var T=S.getTooltipEventType(),O=S.state,D=O.isTooltipActive,I=O.tooltipAxis,L=O.activeTooltipIndex,W=O.activeLabel,q=S.props.children,G=Io(q,ho),K=P.props,U=K.points,F=K.isRange,B=K.baseLine,V=P.item.type.defaultProps!==void 0?st(st({},P.item.type.defaultProps),P.item.props):P.item.props,Z=V.activeDot,X=V.hide,Q=V.activeBar,ce=V.activeShape,de=!!(!X&&D&&G&&(Z||Q||ce)),pe={};T!=="axis"&&G&&G.props.trigger==="click"?pe={onClick:gj(S.handleItemMouseEnter,k.props.onClick)}:T!=="axis"&&(pe={onMouseLeave:gj(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:gj(S.handleItemMouseEnter,k.props.onMouseEnter)});var re=b.cloneElement(k,st(st({},P.props),pe));function ie(Oe){return typeof I.dataKey=="function"?I.dataKey(Oe.payload):null}if(de)if(L>=0){var J,z;if(I.dataKey&&!I.allowDuplicatedCategory){var Se=typeof I.dataKey=="function"?ie:"payload.".concat(I.dataKey.toString());J=nS(U,Se,W),z=F&&B&&nS(B,Se,W)}else J=U?.[L],z=F&&B&&B[L];if(ce||Q){var te=k.props.activeIndex!==void 0?k.props.activeIndex:L;return[b.cloneElement(k,st(st(st({},P.props),pe),{},{activeIndex:te})),null,null]}if(!Dr(J))return[re].concat(ex(S.renderActivePoints({item:P,activePoint:J,basePoint:z,childIndex:L,isRange:F})))}else{var _e,Ae=(_e=S.getItemByXY(S.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:re},ue=Ae.graphicalItem,Ve=ue.item,He=Ve===void 0?k:Ve,le=ue.childIndex,be=st(st(st({},P.props),pe),{},{activeIndex:le});return[b.cloneElement(He,be),null,null]}return F?[re,null,null]:[re,null]}),yr(S,"renderCustomized",function(k,E,R){return b.cloneElement(k,st(st({key:"recharts-customized-".concat(R)},S.props),S.state))}),yr(S,"renderMap",{CartesianGrid:{handler:wj,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:wj},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:wj},YAxis:{handler:wj},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((j=w.id)!==null&&j!==void 0?j:Tx("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=wle(S.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return oZe(_,v),nZe(_,[{key:"componentDidMount",value:function(){var j,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,C=j.children,S=j.data,k=j.height,E=j.layout,R=Io(C,ho);if(R){var P=R.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=KI(this.state,S,P,T),D=this.state.tooltipTicks[P].coordinate,I=(this.state.offset.top+k)/2,L=E==="horizontal",W=L?{x:D,y:I}:{y:D,x:I},q=this.state.formattedGraphicalItems.find(function(K){var U=K.item;return U.type.name==="Scatter"});q&&(W=st(st({},W),q.props.points[P].tooltipPosition),O=q.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:T,activePayload:O,activeCoordinate:W};this.setState(G),this.renderCursor(R),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(j){A3([Io(j.children,ho)],[Io(this.props.children,ho)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Io(this.props.children,ho);if(j&&typeof j.props.shared=="boolean"){var C=j.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),k=D9e(S),E={chartX:Math.round(j.pageX-k.left),chartY:Math.round(j.pageY-k.top)},R=S.width/C.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,R);if(!P)return null;var T=this.state,O=T.xAxisMap,D=T.yAxisMap,I=this.getTooltipEventType(),L=sX(this.state,this.props.data,this.props.layout,P);if(I!=="axis"&&O&&D){var W=ef(O).scale,q=ef(D).scale,G=W&&W.invert?W.invert(E.chartX):null,K=q&&q.invert?q.invert(E.chartY):null;return st(st({},E),{},{xValue:G,yValue:K},L)}return L?st(st({},E),L):null}},{key:"inRange",value:function(j,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=j/S,R=C/S;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,T=E>=P.left&&E<=P.left+P.width&&R>=P.top&&R<=P.top+P.height;return T?{x:E,y:R}:null}var O=this.state,D=O.angleAxisMap,I=O.radiusAxisMap;if(D&&I){var L=ef(D);return iK({x:E,y:R},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,C=this.getTooltipEventType(),S=Io(j,ho),k={};S&&C==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=sS(this.props,this.handleOuterEvent);return st(st({},E),k)}},{key:"addListener",value:function(){fD.on(hD,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fD.removeListener(hD,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,C,S){for(var k=this.state.formattedGraphicalItems,E=0,R=k.length;E<R;E++){var P=k[E];if(P.item===j||P.props.key===j.key||C===ed(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,C=this.state.offset,S=C.left,k=C.top,E=C.height,R=C.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:j},oe.createElement("rect",{x:S,y:k,height:E,width:R})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(C,S){var k=tX(S,2),E=k[0],R=k[1];return st(st({},C),{},yr({},E,R.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(C,S){var k=tX(S,2),E=k[0],R=k[1];return st(st({},C),{},yr({},E,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(j){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(j){var C=this.state,S=C.formattedGraphicalItems,k=C.activeItem;if(S&&S.length)for(var E=0,R=S.length;E<R;E++){var P=S[E],T=P.props,O=P.item,D=O.type.defaultProps!==void 0?st(st({},O.type.defaultProps),O.props):O.props,I=ed(O.type);if(I==="Bar"){var L=(T.data||[]).find(function(K){return XHe(j,K)});if(L)return{graphicalItem:P,payload:L}}else if(I==="RadialBar"){var W=(T.data||[]).find(function(K){return iK(j,K)});if(W)return{graphicalItem:P,payload:W}}else if(Xk(P,k)||Jk(P,k)||uw(P,k)){var q=yKe({graphicalItem:P,activeTooltipItem:k,itemData:D.data}),G=D.activeIndex===void 0?q:D.activeIndex;return{graphicalItem:st(st({},P),{},{childIndex:G}),payload:uw(P,k)?D.data[q]:P.props.data[q]}}}return null}},{key:"render",value:function(){var j=this;if(!xq(this))return null;var C=this.props,S=C.children,k=C.className,E=C.width,R=C.height,P=C.style,T=C.compact,O=C.title,D=C.desc,I=rX(C,XJe),L=mr(I,!1);if(T)return oe.createElement(MY,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(O3,Mg({},L,{width:E,height:R,title:O,desc:D}),this.renderClipPath(),yq(S,this.renderMap)));if(this.props.accessibilityLayer){var W,q;L.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,L.role=(q=this.props.role)!==null&&q!==void 0?q:"application",L.onKeyDown=function(K){j.accessibilityManager.keyboardEvent(K)},L.onFocus=function(){j.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return oe.createElement(MY,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",Mg({className:Ir("recharts-wrapper",k),style:st({position:"relative",cursor:"default",width:E,height:R},P)},G,{ref:function(U){j.container=U}}),oe.createElement(O3,Mg({},L,{width:E,height:R,title:O,desc:D,style:hZe}),this.renderClipPath(),yq(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);yr(y,"displayName",r),yr(y,"defaultProps",st({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),yr(y,"getDerivedStateFromProps",function(v,_){var w=v.dataKey,j=v.data,C=v.children,S=v.width,k=v.height,E=v.layout,R=v.stackOffset,P=v.margin,T=_.dataStartIndex,O=_.dataEndIndex;if(_.updateId===void 0){var D=aX(v);return st(st(st({},D),{},{updateId:0},p(st(st({props:v},D),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:k,prevLayout:E,prevStackOffset:R,prevMargin:P,prevChildren:C})}if(w!==_.prevDataKey||j!==_.prevData||S!==_.prevWidth||k!==_.prevHeight||E!==_.prevLayout||R!==_.prevStackOffset||!i0(P,_.prevMargin)){var I=aX(v),L={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},W=st(st({},sX(_,j,E)),{},{updateId:_.updateId+1}),q=st(st(st({},I),L),W);return st(st(st({},q),p(st({props:v},q),_)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:k,prevLayout:E,prevStackOffset:R,prevMargin:P,prevChildren:C})}if(!A3(C,_.prevChildren)){var G,K,U,F,B=Io(C,q0),V=B&&(G=(K=B.props)===null||K===void 0?void 0:K.startIndex)!==null&&G!==void 0?G:T,Z=B&&(U=(F=B.props)===null||F===void 0?void 0:F.endIndex)!==null&&U!==void 0?U:O,X=V!==T||Z!==O,Q=!Dr(j),ce=Q&&!X?_.updateId:_.updateId+1;return st(st({updateId:ce},p(st(st({props:v},_),{},{updateId:ce,dataStartIndex:V,dataEndIndex:Z}),_)),{},{prevChildren:C,dataStartIndex:V,dataEndIndex:Z})}return null}),yr(y,"renderActiveDot",function(v,_,w){var j;return b.isValidElement(v)?j=b.cloneElement(v,_):Cr(v)?j=v(_):j=oe.createElement(Wk,_),oe.createElement(yn,{className:"recharts-active-dot",key:w},j)});var g=b.forwardRef(function(_,w){return oe.createElement(y,Mg({},_,{ref:w}))});return g.displayName=y.displayName,g},jZe=oL({chartName:"LineChart",GraphicalChild:h1,axisComponents:[{axisType:"xAxis",AxisComp:Yf},{axisType:"yAxis",AxisComp:Xf}],formatAxisMap:oue}),YI=oL({chartName:"BarChart",GraphicalChild:Vo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yf},{axisType:"yAxis",AxisComp:Xf}],formatAxisMap:oue}),NZe=oL({chartName:"PieChart",GraphicalChild:wd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yk},{axisType:"radiusAxis",AxisComp:Gk}],formatAxisMap:dqe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function bn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function kc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function SZe(e,t){const r=bn(e);return isNaN(t)?kc(e,NaN):(r.setDate(r.getDate()+t),r)}function kZe(e,t){const r=bn(e);if(isNaN(t))return kc(e,NaN);if(!t)return r;const n=r.getDate(),a=kc(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Vue=6048e5,CZe=864e5,zue=6e4,que=36e5,_j=43200,oX=1440;let EZe={};function m1(){return EZe}function vw(e,t){const r=m1(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=bn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function t2(e){return vw(e,{weekStartsOn:1})}function Wue(e){const t=bn(e),r=t.getFullYear(),n=kc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=t2(n),i=kc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=t2(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function lX(e){const t=bn(e);return t.setHours(0,0,0,0),t}function r2(e){const t=bn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Hue(e,t){const r=lX(e),n=lX(t),a=+r-r2(r),i=+n-r2(n);return Math.round((a-i)/CZe)}function TZe(e){const t=Wue(e),r=kc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),t2(r)}function tN(e,t){const r=bn(e),n=bn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function AZe(e){return kc(e,Date.now())}function PZe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function OZe(e){if(!PZe(e)&&typeof e!="number")return!1;const t=bn(e);return!isNaN(Number(t))}function DZe(e,t){const r=bn(e),n=bn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function n2(e,t){const r=bn(e),n=bn(t),a=cX(r,n),i=Math.abs(Hue(r,n));r.setDate(r.getDate()-a*i);const o=+(cX(r,n)===-a),l=a*(i-o);return l===0?0:l}function cX(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function RZe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function IZe(e,t){return+bn(e)-+bn(t)}function MZe(e){const t=bn(e);return t.setHours(23,59,59,999),t}function Gue(e){const t=bn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function FZe(e){const t=bn(e);return+MZe(t)==+Gue(t)}function LZe(e,t){const r=bn(e),n=bn(t),a=tN(r,n),i=Math.abs(DZe(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=tN(r,n)===-a;FZe(bn(e))&&i===1&&tN(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function $Ze(e,t,r){const n=IZe(e,t)/1e3;return RZe(r?.roundingMethod)(n)}function uX(e){const t=bn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function BZe(e){const t=bn(e),r=kc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const UZe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VZe=(e,t,r)=>{let n;const a=UZe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function pD(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zZe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qZe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WZe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HZe={date:pD({formats:zZe,defaultWidth:"full"}),time:pD({formats:qZe,defaultWidth:"full"}),dateTime:pD({formats:WZe,defaultWidth:"full"})},GZe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KZe=(e,t,r,n)=>GZe[e];function Lv(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const YZe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XZe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JZe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZZe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QZe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eQe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tQe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rQe={ordinalNumber:tQe,era:Lv({values:YZe,defaultWidth:"wide"}),quarter:Lv({values:XZe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lv({values:JZe,defaultWidth:"wide"}),day:Lv({values:ZZe,defaultWidth:"wide"}),dayPeriod:Lv({values:QZe,defaultWidth:"wide",formattingValues:eQe,defaultFormattingWidth:"wide"})};function $v(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?sQe(l,f=>f.test(o)):nQe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function nQe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function sQe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function aQe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const iQe=/^(\d+)(th|st|nd|rd)?/i,oQe=/\d+/i,lQe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cQe={any:[/^b/i,/^(a|c)/i]},uQe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dQe={any:[/1/i,/2/i,/3/i,/4/i]},fQe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hQe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mQe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pQe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gQe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xQe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vQe={ordinalNumber:aQe({matchPattern:iQe,parsePattern:oQe,valueCallback:e=>parseInt(e,10)}),era:$v({matchPatterns:lQe,defaultMatchWidth:"wide",parsePatterns:cQe,defaultParseWidth:"any"}),quarter:$v({matchPatterns:uQe,defaultMatchWidth:"wide",parsePatterns:dQe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$v({matchPatterns:fQe,defaultMatchWidth:"wide",parsePatterns:hQe,defaultParseWidth:"any"}),day:$v({matchPatterns:mQe,defaultMatchWidth:"wide",parsePatterns:pQe,defaultParseWidth:"any"}),dayPeriod:$v({matchPatterns:gQe,defaultMatchWidth:"any",parsePatterns:xQe,defaultParseWidth:"any"})},Kue={code:"en-US",formatDistance:VZe,formatLong:HZe,formatRelative:KZe,localize:rQe,match:vQe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yQe(e){const t=bn(e);return Hue(t,BZe(t))+1}function bQe(e){const t=bn(e),r=+t2(t)-+TZe(t);return Math.round(r/Vue)+1}function Yue(e,t){const r=bn(e),n=r.getFullYear(),a=m1(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=kc(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=vw(o,t),c=kc(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=vw(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function wQe(e,t){const r=m1(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Yue(e,t),i=kc(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),vw(i,t)}function _Qe(e,t){const r=bn(e),n=+vw(r,t)-+wQe(r,t);return Math.round(n/Vue)+1}function On(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Hd={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return On(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):On(r+1,2)},d(e,t){return On(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return On(e.getHours()%12||12,t.length)},H(e,t){return On(e.getHours(),t.length)},m(e,t){return On(e.getMinutes(),t.length)},s(e,t){return On(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return On(a,t.length)}},gg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dX={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Hd.y(e,t)},Y:function(e,t,r,n){const a=Yue(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return On(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):On(i,t.length)},R:function(e,t){const r=Wue(e);return On(r,t.length)},u:function(e,t){const r=e.getFullYear();return On(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return On(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return On(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Hd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return On(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_Qe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):On(a,t.length)},I:function(e,t,r){const n=bQe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):On(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Hd.d(e,t)},D:function(e,t,r){const n=yQe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):On(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return On(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return On(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return On(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=gg.noon:n===0?a=gg.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=gg.evening:n>=12?a=gg.afternoon:n>=4?a=gg.morning:a=gg.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Hd.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):On(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):On(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Hd.s(e,t)},S:function(e,t){return Hd.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return hX(n);case"XXXX":case"XX":return qh(n);case"XXXXX":case"XXX":default:return qh(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return hX(n);case"xxxx":case"xx":return qh(n);case"xxxxx":case"xxx":default:return qh(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fX(n,":");case"OOOO":default:return"GMT"+qh(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fX(n,":");case"zzzz":default:return"GMT"+qh(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return On(n,t.length)},T:function(e,t,r){const n=e.getTime();return On(n,t.length)}};function fX(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+On(i,2)}function hX(e,t){return e%60===0?(e>0?"-":"+")+On(Math.abs(e)/60,2):qh(e,t)}function qh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=On(Math.trunc(n/60),2),i=On(n%60,2);return r+a+t+i}const mX=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Xue=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jQe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return mX(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",mX(n,t)).replace("{{time}}",Xue(a,t))},NQe={p:Xue,P:jQe},SQe=/^D+$/,kQe=/^Y+$/,CQe=["D","DD","YY","YYYY"];function EQe(e){return SQe.test(e)}function TQe(e){return kQe.test(e)}function AQe(e,t,r){const n=PQe(e,t,r);if(console.warn(n),CQe.includes(e))throw new RangeError(n)}function PQe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OQe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DQe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RQe=/^'([^]*?)'?$/,IQe=/''/g,MQe=/[a-zA-Z]/;function _r(e,t,r){const n=m1(),a=n.locale??Kue,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=bn(e);if(!OZe(l))throw new RangeError("Invalid time value");let c=t.match(DQe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=NQe[f];return m(d,a.formatLong)}return d}).join("").match(OQe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:FQe(d)};if(dX[f])return{isToken:!0,value:d};if(f.match(MQe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(TQe(f)||EQe(f))&&AQe(f,t,String(e));const m=dX[f[0]];return m(l,f,a.localize,u)}).join("")}function FQe(e){const t=e.match(RQe);return t?t[1].replace(IQe,"'"):e}function LQe(e,t,r){const n=m1(),a=r?.locale??n.locale??Kue,i=2520,o=tN(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=bn(t),u=bn(e)):(c=bn(e),u=bn(t));const d=$Ze(u,c),f=(r2(u)-r2(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<oX){const y=Math.round(m/60);return a.formatDistance("aboutXHours",y,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<_j){const y=Math.round(m/oX);return a.formatDistance("xDays",y,l)}else if(m<_j*2)return p=Math.round(m/_j),a.formatDistance("aboutXMonths",p,l)}if(p=LZe(u,c),p<12){const y=Math.round(m/_j);return a.formatDistance("xMonths",y,l)}else{const y=p%12,g=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",g,l):y<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function c0(e,t){return LQe(e,AZe(e),t)}function $Qe(e,t){const n=zQe(e);let a;if(n.date){const c=qQe(n.date,2);a=WQe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=HQe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=GQe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const jj={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BQe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UQe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,VQe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zQe(e){const t={},r=e.split(jj.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],jj.timeZoneDelimiter.test(t.date)&&(t.date=e.split(jj.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=jj.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function qQe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function WQe(e,t){if(t===null)return new Date(NaN);const r=e.match(BQe);if(!r)return new Date(NaN);const n=!!r[4],a=Bv(r[1]),i=Bv(r[2])-1,o=Bv(r[3]),l=Bv(r[4]),c=Bv(r[5])-1;if(n)return ZQe(t,l,c)?KQe(t,l,c):new Date(NaN);{const u=new Date(0);return!XQe(t,i,o)||!JQe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Bv(e){return e?parseInt(e):1}function HQe(e){const t=e.match(UQe);if(!t)return NaN;const r=gD(t[1]),n=gD(t[2]),a=gD(t[3]);return QQe(r,n,a)?r*que+n*zue+a*1e3:NaN}function gD(e){return e&&parseFloat(e.replace(",","."))||0}function GQe(e){if(e==="Z")return 0;const t=e.match(VQe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return eet(n,a)?r*(n*que+a*zue):NaN}function KQe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const YQe=[31,null,31,30,31,30,31,31,30,31,30,31];function Jue(e){return e%400===0||e%4===0&&e%100!==0}function XQe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(YQe[t]||(Jue(e)?29:28))}function JQe(e,t){return t>=1&&t<=(Jue(e)?366:365)}function ZQe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function QQe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function eet(e,t){return t>=0&&t<=59}function tet(e,t){return kZe(e,-t)}const lL=b.createContext({});function cL(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const uL=typeof window<"u",Zue=uL?b.useLayoutEffect:b.useEffect,sC=b.createContext(null);function dL(e,t){e.indexOf(t)===-1&&e.push(t)}function fL(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const dd=(e,t,r)=>r>t?t:r<e?e:r;let hL=()=>{};const fd={},Que=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ede(e){return typeof e=="object"&&e!==null}const tde=e=>/^0[^.\s]+$/u.test(e);function mL(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ul=e=>e,ret=(e,t)=>r=>t(e(r)),p1=(...e)=>e.reduce(ret),yw=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class pL{constructor(){this.subscriptions=[]}add(t){return dL(this.subscriptions,t),()=>fL(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const au=e=>e*1e3,Il=e=>e/1e3;function rde(e,t){return t?e*(1e3/t):0}const nde=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,net=1e-7,set=12;function aet(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=nde(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>net&&++l<set);return o}function g1(e,t,r,n){if(e===t&&r===n)return Ul;const a=i=>aet(i,0,1,e,r);return i=>i===0||i===1?i:nde(a(i),t,n)}const sde=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ade=e=>t=>1-e(1-t),ide=g1(.33,1.53,.69,.99),gL=ade(ide),ode=sde(gL),lde=e=>(e*=2)<1?.5*gL(e):.5*(2-Math.pow(2,-10*(e-1))),xL=e=>1-Math.sin(Math.acos(e)),cde=ade(xL),ude=sde(xL),iet=g1(.42,0,1,1),oet=g1(0,0,.58,1),dde=g1(.42,0,.58,1),cet=e=>Array.isArray(e)&&typeof e[0]!="number",fde=e=>Array.isArray(e)&&typeof e[0]=="number",uet={linear:Ul,easeIn:iet,easeInOut:dde,easeOut:oet,circIn:xL,circInOut:ude,circOut:cde,backIn:gL,backInOut:ode,backOut:ide,anticipate:lde},det=e=>typeof e=="string",pX=e=>{if(fde(e)){hL(e.length===4);const[t,r,n,a]=e;return g1(t,r,n,a)}else if(det(e))return uet[e];return e},Nj=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fet(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const y=m&&a?r:n;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const het=40;function hde(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Nj.reduce((j,C)=>(j[C]=fet(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:p,postRender:y}=o,g=()=>{const j=fd.useManualTiming?a.timestamp:performance.now();r=!1,fd.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(j-a.timestamp,het),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),m.process(a),p.process(a),y.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:Nj.reduce((j,C)=>{const S=o[C];return j[C]=(k,E=!1,R=!1)=>(r||v(),S.schedule(k,E,R)),j},{}),cancel:j=>{for(let C=0;C<Nj.length;C++)o[Nj[C]].cancel(j)},state:a,steps:o}}const{schedule:hs,cancel:Jf,state:Qa,steps:xD}=hde(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ul,!0);let rN;function met(){rN=void 0}const po={now:()=>(rN===void 0&&po.set(Qa.isProcessing||fd.useManualTiming?Qa.timestamp:performance.now()),rN),set:e=>{rN=e,queueMicrotask(met)}},mde=e=>t=>typeof t=="string"&&t.startsWith(e),vL=mde("--"),pet=mde("var(--"),yL=e=>pet(e)?get.test(e.split("/*")[0].trim()):!1,get=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ix={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bw={...Ix,transform:e=>dd(0,1,e)},Sj={...Ix,default:1},Gy=e=>Math.round(e*1e5)/1e5,bL=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xet(e){return e==null}const vet=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wL=(e,t)=>r=>!!(typeof r=="string"&&vet.test(r)&&r.startsWith(e)||t&&!xet(r)&&Object.prototype.hasOwnProperty.call(r,t)),pde=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(bL);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},yet=e=>dd(0,255,e),vD={...Ix,transform:e=>Math.round(yet(e))},om={test:wL("rgb","red"),parse:pde("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+vD.transform(e)+", "+vD.transform(t)+", "+vD.transform(r)+", "+Gy(bw.transform(n))+")"};function bet(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const XI={test:wL("#"),parse:bet,transform:om.transform},x1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xd=x1("deg"),iu=x1("%"),Nr=x1("px"),wet=x1("vh"),_et=x1("vw"),gX={...iu,parse:e=>iu.parse(e)/100,transform:e=>iu.transform(e*100)},Fg={test:wL("hsl","hue"),parse:pde("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+iu.transform(Gy(t))+", "+iu.transform(Gy(r))+", "+Gy(bw.transform(n))+")"},oa={test:e=>om.test(e)||XI.test(e)||Fg.test(e),parse:e=>om.test(e)?om.parse(e):Fg.test(e)?Fg.parse(e):XI.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?om.transform(e):Fg.transform(e),getAnimatableNone:e=>{const t=oa.parse(e);return t.alpha=0,oa.transform(t)}},jet=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Net(e){return isNaN(e)&&typeof e=="string"&&(e.match(bL)?.length||0)+(e.match(jet)?.length||0)>0}const gde="number",xde="color",ket="var",Cet="var(",xX="${}",Eet=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ww(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Eet,c=>(oa.test(c)?(n.color.push(i),a.push(xde),r.push(oa.parse(c))):c.startsWith(Cet)?(n.var.push(i),a.push(ket),r.push(c)):(n.number.push(i),a.push(gde),r.push(parseFloat(c))),++i,xX)).split(xX);return{values:r,split:l,indexes:n,types:a}}function vde(e){return ww(e).values}function yde(e){const{split:t,types:r}=ww(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===gde?i+=Gy(a[o]):l===xde?i+=oa.transform(a[o]):i+=a[o]}return i}}const Tet=e=>typeof e=="number"?0:oa.test(e)?oa.getAnimatableNone(e):e;function Aet(e){const t=vde(e);return yde(e)(t.map(Tet))}const Zf={test:Net,parse:vde,createTransformer:yde,getAnimatableNone:Aet};function yD(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Pet({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=yD(c,l,e+1/3),i=yD(c,l,e),o=yD(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function s2(e,t){return r=>r>0?t:e}const bs=(e,t,r)=>e+(t-e)*r,bD=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Oet=[XI,om,Fg],Det=e=>Oet.find(t=>t.test(e));function vX(e){const t=Det(e);if(!t)return!1;let r=t.parse(e);return t===Fg&&(r=Pet(r)),r}const yX=(e,t)=>{const r=vX(e),n=vX(t);if(!r||!n)return s2(e,t);const a={...r};return i=>(a.red=bD(r.red,n.red,i),a.green=bD(r.green,n.green,i),a.blue=bD(r.blue,n.blue,i),a.alpha=bs(r.alpha,n.alpha,i),om.transform(a))},JI=new Set(["none","hidden"]);function Ret(e,t){return JI.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Iet(e,t){return r=>bs(e,t,r)}function _L(e){return typeof e=="number"?Iet:typeof e=="string"?yL(e)?s2:oa.test(e)?yX:Let:Array.isArray(e)?bde:typeof e=="object"?oa.test(e)?yX:Met:s2}function bde(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>_L(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Met(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=_L(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Fet(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const Let=(e,t)=>{const r=Zf.createTransformer(t),n=ww(e),a=ww(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?JI.has(e)&&!a.values.length||JI.has(t)&&!n.values.length?Ret(e,t):p1(bde(Fet(n,a),a.values),r):s2(e,t)};function wde(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?bs(e,t,r):_L(e)(e,t)}const $et=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>hs.update(t,r),stop:()=>Jf(t),now:()=>Qa.isProcessing?Qa.timestamp:po.now()}},_de=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},a2=2e4;function jL(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<a2;)t+=r,n=e.next(t);return t>=a2?1/0:t}function Bet(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(jL(n),a2);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Il(a)}}const Uet=5;function jde(e,t,r){const n=Math.max(t-Uet,0);return rde(r-e(n),t-n)}const Ns={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wD=.001;function Vet({duration:e=Ns.duration,bounce:t=Ns.bounce,velocity:r=Ns.velocity,mass:n=Ns.mass}){let a,i,o=1-t;o=dd(Ns.minDamping,Ns.maxDamping,o),e=dd(Ns.minDuration,Ns.maxDuration,Il(e)),o<1?(a=u=>{const d=u*o,f=d*e,m=d-r,p=ZI(u,o),y=Math.exp(-f);return wD-m/p*y},i=u=>{const f=u*o*e,m=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),g=ZI(Math.pow(u,2),o);return(-a(u)+wD>0?-1:1)*((m-p)*y)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-wD+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=qet(a,i,l);if(e=au(e),isNaN(c))return{stiffness:Ns.stiffness,damping:Ns.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const zet=12;function qet(e,t,r){let n=r;for(let a=1;a<zet;a++)n=n-e(n)/t(n);return n}function ZI(e,t){return e*Math.sqrt(1-t*t)}const Wet=["duration","bounce"],Het=["stiffness","damping","mass"];function bX(e,t){return t.some(r=>e[r]!==void 0)}function Get(e){let t={velocity:Ns.velocity,stiffness:Ns.stiffness,damping:Ns.damping,mass:Ns.mass,isResolvedFromDuration:!1,...e};if(!bX(e,Het)&&bX(e,Wet))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*dd(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ns.mass,stiffness:a,damping:i}}else{const r=Vet(e);t={...t,...r,mass:Ns.mass},t.isResolvedFromDuration=!0}return t}function i2(e=Ns.visualDuration,t=Ns.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:p}=Get({...r,velocity:-Il(r.velocity||0)}),y=m||0,g=u/(2*Math.sqrt(c*d)),v=o-i,_=Il(Math.sqrt(c/d)),w=Math.abs(v)<5;n||(n=w?Ns.restSpeed.granular:Ns.restSpeed.default),a||(a=w?Ns.restDelta.granular:Ns.restDelta.default);let j;if(g<1){const S=ZI(_,g);j=k=>{const E=Math.exp(-g*_*k);return o-E*((y+g*_*v)/S*Math.sin(S*k)+v*Math.cos(S*k))}}else if(g===1)j=S=>o-Math.exp(-_*S)*(v+(y+_*v)*S);else{const S=_*Math.sqrt(g*g-1);j=k=>{const E=Math.exp(-g*_*k),R=Math.min(S*k,300);return o-E*((y+g*_*v)*Math.sinh(R)+S*v*Math.cosh(R))/S}}const C={calculatedDuration:p&&f||null,next:S=>{const k=j(S);if(p)l.done=S>=f;else{let E=S===0?y:0;g<1&&(E=S===0?au(y):jde(j,S,k));const R=Math.abs(E)<=n,P=Math.abs(o-k)<=a;l.done=R&&P}return l.value=l.done?o:k,l},toString:()=>{const S=Math.min(jL(C),a2),k=_de(E=>C.next(S*E).value,S,30);return S+"ms "+k},toTransition:()=>{}};return C}i2.applyToOptions=e=>{const t=Bet(e,100,i2);return e.ease=t.ease,e.duration=au(t.duration),e.type="keyframes",e};function QI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},p=R=>l!==void 0&&R<l||c!==void 0&&R>c,y=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let g=r*t;const v=f+g,_=o===void 0?v:o(v);_!==v&&(g=_-f);const w=R=>-g*Math.exp(-R/n),j=R=>_+w(R),C=R=>{const P=w(R),T=j(R);m.done=Math.abs(P)<=u,m.value=m.done?_:T};let S,k;const E=R=>{p(m.value)&&(S=R,k=i2({keyframes:[m.value,y(m.value)],velocity:jde(j,R,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:R=>{let P=!1;return!k&&S===void 0&&(P=!0,C(R),E(R)),S!==void 0&&R>=S?k.next(R-S):(!P&&C(R),m)}}}function Ket(e,t,r){const n=[],a=r||fd.mix||wde,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ul:t;l=p1(c,l)}n.push(l)}return n}function Yet(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(hL(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ket(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=yw(e[f],e[f+1],d);return l[f](m)};return r?d=>u(dd(e[0],e[i-1],d)):u}function Xet(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=yw(0,t,n);e.push(bs(r,1,a))}}function Jet(e){const t=[0];return Xet(t,e.length-1),t}function Zet(e,t){return e.map(r=>r*t)}function Qet(e,t){return e.map(()=>t||dde).splice(0,e.length-1)}function Ky({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=cet(n)?n.map(pX):pX(n),i={done:!1,value:t[0]},o=Zet(r&&r.length===t.length?r:Jet(t),e),l=Yet(o,t,{ease:Array.isArray(a)?a:Qet(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const ett=e=>e!==null;function NL(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(ett),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const ttt={decay:QI,inertia:QI,tween:Ky,keyframes:Ky,spring:i2};function Nde(e){typeof e.type=="string"&&(e.type=ttt[e.type])}class SL{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const rtt=e=>e/100;class kL extends SL{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==po.now()&&this.tick(po.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Nde(t);const{type:r=Ky,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Ky;c!==Ky&&typeof l[0]!="number"&&(this.mixKeyframes=p1(rtt,wde(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=jL(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:p,type:y,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?_<0:_>a;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,C=n;if(f){const R=Math.min(this.currentTime,a)/l;let P=Math.floor(R),T=R%1;!T&&R>=1&&(T=1),T===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(m==="reverse"?(T=1-T,p&&(T-=p/l)):m==="mirror"&&(C=o)),j=dd(0,1,T)*l}const S=w?{done:!1,value:d[0]}:C.next(j);i&&(S.value=i(S.value));let{done:k}=S;!w&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&y!==QI&&(S.value=NL(d,this.options,v,this.speed)),g&&g(S.value),E&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Il(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Il(t)}get time(){return Il(this.currentTime)}set time(t){t=au(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(po.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Il(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$et,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(po.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ntt(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const lm=e=>e*180/Math.PI,eM=e=>{const t=lm(Math.atan2(e[1],e[0]));return tM(t)},stt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eM,rotateZ:eM,skewX:e=>lm(Math.atan(e[1])),skewY:e=>lm(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},tM=e=>(e=e%360,e<0&&(e+=360),e),wX=eM,_X=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jX=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),att={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_X,scaleY:jX,scale:e=>(_X(e)+jX(e))/2,rotateX:e=>tM(lm(Math.atan2(e[6],e[5]))),rotateY:e=>tM(lm(Math.atan2(-e[2],e[0]))),rotateZ:wX,rotate:wX,skewX:e=>lm(Math.atan(e[4])),skewY:e=>lm(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function rM(e){return e.includes("scale")?1:0}function nM(e,t){if(!e||e==="none")return rM(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=att,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=stt,a=l}if(!a)return rM(t);const i=n[t],o=a[1].split(",").map(ott);return typeof i=="function"?i(o):o[i]}const itt=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return nM(r,t)};function ott(e){return parseFloat(e.trim())}const Mx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fx=new Set(Mx),NX=e=>e===Ix||e===Nr,ltt=new Set(["x","y","z"]),ctt=Mx.filter(e=>!ltt.has(e));function utt(e){const t=[];return ctt.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Nm={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>nM(t,"x"),y:(e,{transform:t})=>nM(t,"y")};Nm.translateX=Nm.x;Nm.translateY=Nm.y;const Sm=new Set;let sM=!1,aM=!1,iM=!1;function Sde(){if(aM){const e=Array.from(Sm).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=utt(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}aM=!1,sM=!1,Sm.forEach(e=>e.complete(iM)),Sm.clear()}function kde(){Sm.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aM=!0)})}function dtt(){iM=!0,kde(),Sde(),iM=!1}class CL{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Sm.add(this),sM||(sM=!0,hs.read(kde),hs.resolveKeyframes(Sde))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}ntt(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sm.delete(this)}cancel(){this.state==="scheduled"&&(Sm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ftt=e=>e.startsWith("--");function htt(e,t,r){ftt(t)?e.style.setProperty(t,r):e.style[t]=r}const mtt=mL(()=>window.ScrollTimeline!==void 0),ptt={};function gtt(e,t){const r=mL(e);return()=>ptt[t]??r()}const Cde=gtt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ly=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,SX={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ly([0,.65,.55,1]),circOut:ly([.55,0,1,.45]),backIn:ly([.31,.01,.66,-.59]),backOut:ly([.33,1.53,.69,.99])};function Ede(e,t){if(e)return typeof e=="function"?Cde()?_de(e,t):"ease-out":fde(e)?ly(e):Array.isArray(e)?e.map(r=>Ede(r,t)||SX.easeOut):SX[e]}function xtt(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Ede(l,a);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function Tde(e){return typeof e=="function"&&"applyToOptions"in e}function vtt({type:e,...t}){return Tde(e)&&Cde()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ytt extends SL{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,hL(typeof t.type!="string");const u=vtt(t);this.animation=xtt(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=NL(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):htt(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Il(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Il(t)}get time(){return Il(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=au(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&mtt()?(this.animation.timeline=t,Ul):r(this)}}const Ade={anticipate:lde,backInOut:ode,circInOut:ude};function btt(e){return e in Ade}function wtt(e){typeof e.ease=="string"&&btt(e.ease)&&(e.ease=Ade[e.ease])}const kX=10;class _tt extends ytt{constructor(t){wtt(t),Nde(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new kL({...o,autoplay:!1}),c=au(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-kX).value,l.sample(c).value,kX),l.stop()}}const CX=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zf.test(e)||e==="0")&&!e.startsWith("url("));function jtt(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Ntt(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=CX(a,t),l=CX(i,t);return!o||!l?!1:jtt(e)||(r==="spring"||Tde(r))&&n}function oM(e){e.duration=0,e.type="keyframes"}const Stt=new Set(["opacity","clipPath","filter","transform"]),ktt=mL(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ctt(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return ktt()&&r&&Stt.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Ett=40;class Ttt extends SL{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=po.now();const m={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},p=d?.KeyframeResolver||CL;this.keyframeResolver=new p(l,(y,g,v)=>this.onKeyframesResolved(y,g,m,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=po.now(),Ntt(t,i,o,l)||((fd.instantAnimations||!c)&&d?.(NL(t,n,r)),t[0]=t[t.length-1],oM(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Ett?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&Ctt(m)?new _tt({...m,element:m.motionValue.owner.current}):new kL(m);p.finished.then(()=>this.notifyFinished()).catch(Ul),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dtt()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Att=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ptt(e){const t=Att.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Pde(e,t,r=1){const[n,a]=Ptt(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Que(o)?parseFloat(o):o}return yL(a)?Pde(a,t,r+1):a}function EL(e,t){return e?.[t]??e?.default??e}const Ode=new Set(["width","height","top","left","right","bottom",...Mx]),Ott={test:e=>e==="auto",parse:e=>e},Dde=e=>t=>t.test(e),Rde=[Ix,Nr,iu,Xd,_et,wet,Ott],EX=e=>Rde.find(Dde(e));function Dtt(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tde(e):!0}const Rtt=new Set(["brightness","contrast","saturate","opacity"]);function Itt(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(bL)||[];if(!n)return e;const a=r.replace(n,"");let i=Rtt.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Mtt=/\b([a-z-]*)\(.*?\)/gu,lM={...Zf,getAnimatableNone:e=>{const t=e.match(Mtt);return t?t.map(Itt).join(" "):e}},TX={...Ix,transform:Math.round},Ftt={rotate:Xd,rotateX:Xd,rotateY:Xd,rotateZ:Xd,scale:Sj,scaleX:Sj,scaleY:Sj,scaleZ:Sj,skew:Xd,skewX:Xd,skewY:Xd,distance:Nr,translateX:Nr,translateY:Nr,translateZ:Nr,x:Nr,y:Nr,z:Nr,perspective:Nr,transformPerspective:Nr,opacity:bw,originX:gX,originY:gX,originZ:Nr},TL={borderWidth:Nr,borderTopWidth:Nr,borderRightWidth:Nr,borderBottomWidth:Nr,borderLeftWidth:Nr,borderRadius:Nr,radius:Nr,borderTopLeftRadius:Nr,borderTopRightRadius:Nr,borderBottomRightRadius:Nr,borderBottomLeftRadius:Nr,width:Nr,maxWidth:Nr,height:Nr,maxHeight:Nr,top:Nr,right:Nr,bottom:Nr,left:Nr,padding:Nr,paddingTop:Nr,paddingRight:Nr,paddingBottom:Nr,paddingLeft:Nr,margin:Nr,marginTop:Nr,marginRight:Nr,marginBottom:Nr,marginLeft:Nr,backgroundPositionX:Nr,backgroundPositionY:Nr,...Ftt,zIndex:TX,fillOpacity:bw,strokeOpacity:bw,numOctaves:TX},Ltt={...TL,color:oa,backgroundColor:oa,outlineColor:oa,fill:oa,stroke:oa,borderColor:oa,borderTopColor:oa,borderRightColor:oa,borderBottomColor:oa,borderLeftColor:oa,filter:lM,WebkitFilter:lM},Ide=e=>Ltt[e];function Mde(e,t){let r=Ide(e);return r!==lM&&(r=Zf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const $tt=new Set(["auto","none","0"]);function Btt(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!$tt.has(i)&&ww(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Mde(r,a)}class Utt extends CL{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),yL(u))){const d=Pde(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ode.has(n)||t.length!==2)return;const[a,i]=t,o=EX(a),l=EX(i);if(o!==l)if(NX(o)&&NX(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Nm[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Dtt(t[a]))&&n.push(a);n.length&&Btt(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nm[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Nm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Vtt(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Fde=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Lde(e){return ede(e)&&"offsetHeight"in e}const AX=30,ztt=e=>!isNaN(parseFloat(e));class qtt{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=po.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=po.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ztt(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new pL);const n=this.events[t].add(r);return t==="change"?()=>{n(),hs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=po.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AX)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,AX);return rde(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tx(e,t){return new qtt(e,t)}const{schedule:AL}=hde(queueMicrotask,!1),ic={x:!1,y:!1};function $de(){return ic.x||ic.y}function Wtt(e){return e==="x"||e==="y"?ic[e]?null:(ic[e]=!0,()=>{ic[e]=!1}):ic.x||ic.y?null:(ic.x=ic.y=!0,()=>{ic.x=ic.y=!1})}function Bde(e,t){const r=Vtt(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function PX(e){return!(e.pointerType==="touch"||$de())}function Htt(e,t,r={}){const[n,a,i]=Bde(e,r),o=l=>{if(!PX(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{PX(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Ude=(e,t)=>t?e===t?!0:Ude(e,t.parentElement):!1,PL=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Gtt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ktt(e){return Gtt.has(e.tagName)||e.tabIndex!==-1}const nN=new WeakSet;function OX(e){return t=>{t.key==="Enter"&&e(t)}}function _D(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ytt=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=OX(()=>{if(nN.has(r))return;_D(r,"down");const a=OX(()=>{_D(r,"up")}),i=()=>_D(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function DX(e){return PL(e)&&!$de()}function Xtt(e,t,r={}){const[n,a,i]=Bde(e,r),o=l=>{const c=l.currentTarget;if(!DX(l))return;nN.add(c);const u=t(c,l),d=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),nN.has(c)&&nN.delete(c),DX(p)&&typeof u=="function"&&u(p,{success:y})},f=p=>{d(p,c===window||c===document||r.useGlobalTarget||Ude(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),Lde(l)&&(l.addEventListener("focus",u=>Ytt(u,a)),!Ktt(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Vde(e){return ede(e)&&"ownerSVGElement"in e}function Jtt(e){return Vde(e)&&e.tagName==="svg"}const Ci=e=>!!(e&&e.getVelocity),Ztt=[...Rde,oa,Zf],Qtt=e=>Ztt.find(Dde(e)),OL=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function RX(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ert(...e){return t=>{let r=!1;const n=e.map(a=>{const i=RX(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():RX(e[a],null)}}}}function trt(...e){return b.useCallback(ert(...e),e)}class rrt extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Lde(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nrt({children:e,isPresent:t,anchorX:r,root:n}){const a=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(OL),c=trt(i,e?.ref);return b.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:p}=o.current;if(t||!i.current||!u||!d)return;const y=r==="left"?`left: ${m}`:`right: ${p}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const v=n??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),s.jsx(rrt,{isPresent:t,childRef:i,sizeRef:o,children:b.cloneElement(e,{ref:c})})}const srt=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=cL(art),d=b.useId();let f=!0,m=b.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return i&&f&&(m={...m}),b.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[r]),b.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(nrt,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(sC.Provider,{value:m,children:e})};function art(){return new Map}function zde(e=!0){const t=b.useContext(sC);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=b.useId();b.useEffect(()=>{if(e)return a(i)},[e]);const o=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const kj=e=>e.key||"";function IX(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const MX=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=zde(o),f=b.useMemo(()=>IX(e),[e]),m=o&&!u?[]:f.map(kj),p=b.useRef(!0),y=b.useRef(f),g=cL(()=>new Map),[v,_]=b.useState(f),[w,j]=b.useState(f);Zue(()=>{p.current=!1,y.current=f;for(let k=0;k<w.length;k++){const E=kj(w[k]);m.includes(E)?g.delete(E):g.get(E)!==!0&&g.set(E,!1)}},[w,m.length,m.join("-")]);const C=[];if(f!==v){let k=[...f];for(let E=0;E<w.length;E++){const R=w[E],P=kj(R);m.includes(P)||(k.splice(E,0,R),C.push(R))}return i==="wait"&&C.length&&(k=C),j(IX(k)),_(f),null}const{forceRender:S}=b.useContext(lL);return s.jsx(s.Fragment,{children:w.map(k=>{const E=kj(k),R=o&&!u?!1:f===w||m.includes(E),P=()=>{if(g.has(E))g.set(E,!0);else return;let T=!0;g.forEach(O=>{O||(T=!1)}),T&&(S?.(),j(y.current),o&&d?.(),n&&n())};return s.jsx(srt,{isPresent:R,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:R?void 0:P,anchorX:l,children:k},E)})})},qde=b.createContext({strict:!1}),FX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rx={};for(const e in FX)rx[e]={isEnabled:t=>FX[e].some(r=>!!t[r])};function irt(e){for(const t in e)rx[t]={...rx[t],...e[t]}}const ort=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ort.has(e)}let Wde=e=>!o2(e);function lrt(e){typeof e=="function"&&(Wde=t=>t.startsWith("on")?!o2(t):e(t))}try{lrt(require("@emotion/is-prop-valid").default)}catch{}function crt(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Wde(a)||r===!0&&o2(a)||!t&&!o2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const aC=b.createContext({});function iC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _w(e){return typeof e=="string"||Array.isArray(e)}const DL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RL=["initial",...DL];function oC(e){return iC(e.animate)||RL.some(t=>_w(e[t]))}function Hde(e){return!!(oC(e)||e.variants)}function urt(e,t){if(oC(e)){const{initial:r,animate:n}=e;return{initial:r===!1||_w(r)?r:void 0,animate:_w(n)?n:void 0}}return e.inherit!==!1?t:{}}function drt(e){const{initial:t,animate:r}=urt(e,b.useContext(aC));return b.useMemo(()=>({initial:t,animate:r}),[LX(t),LX(r)])}function LX(e){return Array.isArray(e)?e.join(" "):e}const jw={};function frt(e){for(const t in e)jw[t]=e[t],vL(t)&&(jw[t].isCSSVariable=!0)}function Gde(e,{layout:t,layoutId:r}){return Fx.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!jw[e]||e==="opacity")}const hrt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mrt=Mx.length;function prt(e,t,r){let n="",a=!0;for(let i=0;i<mrt;i++){const o=Mx[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Fde(l,TL[o]);if(!c){a=!1;const d=hrt[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function IL(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Fx.has(c)){o=!0;continue}else if(vL(c)){a[c]=u;continue}else{const d=Fde(u,TL[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=prt(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const ML=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kde(e,t,r){for(const n in t)!Ci(t[n])&&!Gde(n,r)&&(e[n]=t[n])}function grt({transformTemplate:e},t){return b.useMemo(()=>{const r=ML();return IL(r,t,e),Object.assign({},r.vars,r.style)},[t])}function xrt(e,t){const r=e.style||{},n={};return Kde(n,r,e),Object.assign(n,grt(e,t)),n}function vrt(e,t){const r={},n=xrt(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const yrt={offset:"stroke-dashoffset",array:"stroke-dasharray"},brt={offset:"strokeDashoffset",array:"strokeDasharray"};function wrt(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?yrt:brt;e[i.offset]=Nr.transform(-n);const o=Nr.transform(t),l=Nr.transform(r);e[i.array]=`${o} ${l}`}function Yde(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(IL(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&wrt(f,a,i,o,!1)}const Xde=()=>({...ML(),attrs:{}}),Jde=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _rt(e,t,r,n){const a=b.useMemo(()=>{const i=Xde();return Yde(i,t,Jde(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Kde(i,e.style,e),a.style={...i,...a.style}}return a}const jrt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FL(e){return typeof e!="string"||e.includes("-")?!1:!!(jrt.indexOf(e)>-1||/[A-Z]/u.test(e))}function Nrt(e,t,r,{latestValues:n},a,i=!1){const l=(FL(e)?_rt:vrt)(t,n,a,e),c=crt(t,typeof e=="string",i),u=e!==b.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=b.useMemo(()=>Ci(d)?d.get():d,[d]);return b.createElement(e,{...u,children:f})}function $X(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function LL(e,t,r,n){if(typeof t=="function"){const[a,i]=$X(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=$X(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function sN(e){return Ci(e)?e.get():e}function Srt({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:krt(r,n,a,e),renderState:t()}}function krt(e,t,r,n){const a={},i=n(e,{});for(const m in i)a[m]=sN(i[m]);let{initial:o,animate:l}=e;const c=oC(e),u=Hde(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!iC(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const y=LL(e,m[p]);if(y){const{transitionEnd:g,transition:v,..._}=y;for(const w in _){let j=_[w];if(Array.isArray(j)){const C=d?j.length-1:0;j=j[C]}j!==null&&(a[w]=j)}for(const w in g)a[w]=g[w]}}}return a}const Zde=e=>(t,r)=>{const n=b.useContext(aC),a=b.useContext(sC),i=()=>Srt(e,t,n,a);return r?i():cL(i)};function $L(e,t,r){const{style:n}=e,a={};for(const i in n)(Ci(n[i])||t.style&&Ci(t.style[i])||Gde(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const Crt=Zde({scrapeMotionValuesFromProps:$L,createRenderState:ML});function Qde(e,t,r){const n=$L(e,t,r);for(const a in e)if(Ci(e[a])||Ci(t[a])){const i=Mx.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Ert=Zde({scrapeMotionValuesFromProps:Qde,createRenderState:Xde}),Trt=Symbol.for("motionComponentSymbol");function Lg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Art(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Lg(r)&&(r.current=n))},[t])}const BL=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Prt="framerAppearId",efe="data-"+BL(Prt),tfe=b.createContext({});function Ort(e,t,r,n,a){const{visualElement:i}=b.useContext(aC),o=b.useContext(qde),l=b.useContext(sC),c=b.useContext(OL).reducedMotion,u=b.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=b.useContext(tfe);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&Drt(u.current,r,a,f);const m=b.useRef(!1);b.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const p=r[efe],y=b.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Zue(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),y.current=!1),d.enteringChildren=void 0)}),d}function Drt(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:rfe(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Lg(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function rfe(e){if(e)return e.options.allowProjection!==!1?e.projection:rfe(e.parent)}function jD(e,{forwardMotionProps:t=!1}={},r,n){r&&irt(r);const a=FL(e)?Ert:Crt;function i(l,c){let u;const d={...b.useContext(OL),...l,layoutId:Rrt(l)},{isStatic:f}=d,m=drt(l),p=a(l,f);if(!f&&uL){Irt();const y=Mrt(d);u=y.MeasureLayout,m.visualElement=Ort(e,p,d,n,y.ProjectionNode)}return s.jsxs(aC.Provider,{value:m,children:[u&&m.visualElement?s.jsx(u,{visualElement:m.visualElement,...d}):null,Nrt(e,l,Art(p,m.visualElement,c),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=b.forwardRef(i);return o[Trt]=e,o}function Rrt({layoutId:e}){const t=b.useContext(lL).id;return t&&e!==void 0?t+"-"+e:e}function Irt(e,t){b.useContext(qde).strict}function Mrt(e){const{drag:t,layout:r}=rx;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Frt(e,t){if(typeof Proxy>"u")return jD;const r=new Map,n=(i,o)=>jD(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,jD(o,void 0,e,t)),r.get(o))})}function nfe({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Lrt({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $rt(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ND(e){return e===void 0||e===1}function cM({scale:e,scaleX:t,scaleY:r}){return!ND(e)||!ND(t)||!ND(r)}function Wh(e){return cM(e)||sfe(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sfe(e){return BX(e.x)||BX(e.y)}function BX(e){return e&&e!=="0%"}function l2(e,t,r){const n=e-r,a=t*n;return r+a}function UX(e,t,r,n,a){return a!==void 0&&(e=l2(e,a,n)),l2(e,r,n)+t}function uM(e,t=0,r=1,n,a){e.min=UX(e.min,t,r,n,a),e.max=UX(e.max,t,r,n,a)}function afe(e,{x:t,y:r}){uM(e.x,t.translate,t.scale,t.originPoint),uM(e.y,r.translate,r.scale,r.originPoint)}const VX=.999999999999,zX=1.0000000000001;function Brt(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Bg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,afe(e,o)),n&&Wh(i.latestValues)&&Bg(e,i.latestValues))}t.x<zX&&t.x>VX&&(t.x=1),t.y<zX&&t.y>VX&&(t.y=1)}function $g(e,t){e.min=e.min+t,e.max=e.max+t}function qX(e,t,r,n,a=.5){const i=bs(e.min,e.max,a);uM(e,t,r,i,n)}function Bg(e,t){qX(e.x,t.x,t.scaleX,t.scale,t.originX),qX(e.y,t.y,t.scaleY,t.scale,t.originY)}function ife(e,t){return nfe($rt(e.getBoundingClientRect(),t))}function Urt(e,t,r){const n=ife(e,r),{scroll:a}=t;return a&&($g(n.x,a.offset.x),$g(n.y,a.offset.y)),n}const WX=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ug=()=>({x:WX(),y:WX()}),HX=()=>({min:0,max:0}),$s=()=>({x:HX(),y:HX()}),dM={current:null},ofe={current:!1};function Vrt(){if(ofe.current=!0,!!uL)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dM.current=e.matches;e.addEventListener("change",t),t()}else dM.current=!1}const zrt=new WeakMap;function qrt(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ci(a))e.addValue(n,a);else if(Ci(i))e.addValue(n,tx(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,tx(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const GX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wrt{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=CL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=po.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,hs.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=oC(r),this.isVariantNode=Hde(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&Ci(p)&&p.set(c[m])}}mount(t){this.current=t,zrt.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),ofe.current||Vrt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dM.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jf(this.notifyUpdate),Jf(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Fx.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&hs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rx){const r=rx[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$s()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<GX.length;n++){const a=GX[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=qrt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=tx(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Que(n)||tde(n))?n=parseFloat(n):!Qtt(n)&&Zf.test(r)&&(n=Mde(t,r)),this.setBaseTarget(t,Ci(n)?n.get():n)),Ci(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=LL(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ci(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new pL),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){AL.render(this.render)}}class lfe extends Wrt{constructor(){super(...arguments),this.KeyframeResolver=Utt}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ci(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cfe(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function Hrt(e){return window.getComputedStyle(e)}class Grt extends lfe{constructor(){super(...arguments),this.type="html",this.renderInstance=cfe}readValueFromInstance(t,r){if(Fx.has(r))return this.projection?.isProjecting?rM(r):itt(t,r);{const n=Hrt(t),a=(vL(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return ife(t,r)}build(t,r,n){IL(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return $L(t,r,n)}}const ufe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Krt(e,t,r,n){cfe(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(ufe.has(a)?a:BL(a),t.attrs[a])}class Yrt extends lfe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$s}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Fx.has(r)){const n=Ide(r);return n&&n.default||0}return r=ufe.has(r)?r:BL(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Qde(t,r,n)}build(t,r,n){Yde(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Krt(t,r,n,a)}mount(t){this.isSVGTag=Jde(t.tagName),super.mount(t)}}const Xrt=(e,t)=>FL(e)?new Yrt(t):new Grt(t,{allowProjection:e!==b.Fragment});function u0(e,t,r){const n=e.getProps();return LL(n,t,r!==void 0?r:n.custom,e)}const fM=e=>Array.isArray(e);function Jrt(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,tx(r))}function Zrt(e){return fM(e)?e[e.length-1]||0:e}function Qrt(e,t){const r=u0(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Zrt(i[o]);Jrt(e,o,l)}}function ent(e){return!!(Ci(e)&&e.add)}function hM(e,t){const r=e.getValue("willChange");if(ent(r))return r.add(t);if(!r&&fd.WillChange){const n=new fd.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function dfe(e){return e.props[efe]}const tnt=e=>e!==null;function rnt(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(tnt),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const nnt={type:"spring",stiffness:500,damping:25,restSpeed:10},snt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ant={type:"keyframes",duration:.8},int={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ont=(e,{keyframes:t})=>t.length>2?ant:Fx.has(e)?e.startsWith("scale")?snt(t[1]):nnt:int;function lnt({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const UL=(e,t,r,n={},a,i)=>o=>{const l=EL(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-au(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};lnt(l)||Object.assign(d,ont(e,d)),d.duration&&(d.duration=au(d.duration)),d.repeatDelay&&(d.repeatDelay=au(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(oM(d),d.delay===0&&(f=!0)),(fd.instantAnimations||fd.skipAnimations)&&(f=!0,oM(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=rnt(d.keyframes,l);if(m!==void 0){hs.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new kL(d):new Ttt(d)};function cnt({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function ffe(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&cnt(u,d))continue;const p={delay:r,...EL(i||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===y&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const _=dfe(e);if(_){const w=window.MotionHandoffAnimation(_,d,hs);w!==null&&(p.startTime=w,g=!0)}}hM(e,d),f.start(UL(d,f,m,e.shouldReduceMotion&&Ode.has(d)?{type:!1}:p,e,g));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{hs.update(()=>{o&&Qrt(e,o)})}),c}function hfe(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function mM(e,t,r={}){const n=u0(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(ffe(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return unt(e,t,c,u,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function unt(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(mM(c,t,{...o,delay:r+(typeof n=="function"?0:n)+hfe(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function dnt(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>mM(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=mM(e,t,r);else{const a=typeof t=="function"?u0(e,t,r.custom):t;n=Promise.all(ffe(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function mfe(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const fnt=RL.length;function pfe(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pfe(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<fnt;r++){const n=RL[r],a=e.props[n];(_w(a)||a===!1)&&(t[n]=a)}return t}const hnt=[...DL].reverse(),mnt=DL.length;function pnt(e){return t=>Promise.all(t.map(({animation:r,options:n})=>dnt(e,r,n)))}function gnt(e){let t=pnt(e),r=KX(),n=!0;const a=c=>(u,d)=>{const f=u0(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=pfe(e.parent)||{},f=[],m=new Set;let p={},y=1/0;for(let v=0;v<mnt;v++){const _=hnt[v],w=r[_],j=u[_]!==void 0?u[_]:d[_],C=_w(j),S=_===c?w.isActive:null;S===!1&&(y=v);let k=j===d[_]&&j!==u[_]&&C;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...p},!w.isActive&&S===null||!j&&!w.prevProp||iC(j)||typeof j=="boolean")continue;const E=xnt(w.prevProp,j);let R=E||_===c&&w.isActive&&!k&&C||v>y&&C,P=!1;const T=Array.isArray(j)?j:[j];let O=T.reduce(a(_),{});S===!1&&(O={});const{prevResolvedValues:D={}}=w,I={...D,...O},L=G=>{R=!0,m.has(G)&&(P=!0,m.delete(G)),w.needsAnimating[G]=!0;const K=e.getValue(G);K&&(K.liveStyle=!1)};for(const G in I){const K=O[G],U=D[G];if(p.hasOwnProperty(G))continue;let F=!1;fM(K)&&fM(U)?F=!mfe(K,U):F=K!==U,F?K!=null?L(G):m.add(G):K!==void 0&&m.has(G)?L(G):w.protectedKeys[G]=!0}w.prevProp=j,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),n&&e.blockInitialAnimation&&(R=!1);const W=k&&E;R&&(!W||P)&&f.push(...T.map(G=>{const K={type:_};if(typeof G=="string"&&n&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,F=u0(U,G);if(U.enteringChildren&&F){const{delayChildren:B}=F.transition||{};K.delay=hfe(U.enteringChildren,e,B)}}return{animation:G,options:K}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const _=u0(e,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(v.transition=_.transition)}m.forEach(_=>{const w=e.getBaseTarget(_),j=e.getValue(_);j&&(j.liveStyle=!0),v[_]=w??null}),f.push({animation:v})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=KX()}}}function xnt(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mfe(t,e):!1}function Mh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KX(){return{animate:Mh(!0),whileInView:Mh(),whileHover:Mh(),whileTap:Mh(),whileDrag:Mh(),whileFocus:Mh(),exit:Mh()}}class ph{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vnt extends ph{constructor(t){super(t),t.animationState||(t.animationState=gnt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();iC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ynt=0;class bnt extends ph{constructor(){super(...arguments),this.id=ynt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wnt={animation:{Feature:vnt},exit:{Feature:bnt}};function Nw(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function v1(e){return{point:{x:e.pageX,y:e.pageY}}}const _nt=e=>t=>PL(t)&&e(t,v1(t));function Yy(e,t,r,n){return Nw(e,t,_nt(r),n)}const gfe=1e-4,jnt=1-gfe,Nnt=1+gfe,xfe=.01,Snt=0-xfe,knt=0+xfe;function Yi(e){return e.max-e.min}function Cnt(e,t,r){return Math.abs(e-t)<=r}function YX(e,t,r,n=.5){e.origin=n,e.originPoint=bs(t.min,t.max,e.origin),e.scale=Yi(r)/Yi(t),e.translate=bs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=jnt&&e.scale<=Nnt||isNaN(e.scale))&&(e.scale=1),(e.translate>=Snt&&e.translate<=knt||isNaN(e.translate))&&(e.translate=0)}function Xy(e,t,r,n){YX(e.x,t.x,r.x,n?n.originX:void 0),YX(e.y,t.y,r.y,n?n.originY:void 0)}function XX(e,t,r){e.min=r.min+t.min,e.max=e.min+Yi(t)}function Ent(e,t,r){XX(e.x,t.x,r.x),XX(e.y,t.y,r.y)}function JX(e,t,r){e.min=t.min-r.min,e.max=e.min+Yi(t)}function Jy(e,t,r){JX(e.x,t.x,r.x),JX(e.y,t.y,r.y)}function _l(e){return[e("x"),e("y")]}const vfe=({current:e})=>e?e.ownerDocument.defaultView:null,ZX=(e,t)=>Math.abs(e-t);function Tnt(e,t){const r=ZX(e.x,t.x),n=ZX(e.y,t.y);return Math.sqrt(r**2+n**2)}class yfe{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=kD(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=Tnt(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:g}=m,{timestamp:v}=Qa;this.history.push({...g,timestamp:v});const{onStart:_,onMove:w}=this.handlers;p||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=SD(p,this.transformPagePoint),hs.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=kD(m.type==="pointercancel"?this.lastMoveEventInfo:SD(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,_),g&&g(m,_)},!PL(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=v1(t),c=SD(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Qa;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,kD(c,this.history)),this.removeListeners=p1(Yy(this.contextWindow,"pointermove",this.handlePointerMove),Yy(this.contextWindow,"pointerup",this.handlePointerUp),Yy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Jf(this.updatePoint)}}function SD(e,t){return t?{point:t(e.point)}:e}function QX(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kD({point:e},t){return{point:e,delta:QX(e,bfe(t)),offset:QX(e,Ant(t)),velocity:Pnt(t,.1)}}function Ant(e){return e[0]}function bfe(e){return e[e.length-1]}function Pnt(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=bfe(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>au(t)));)r--;if(!n)return{x:0,y:0};const i=Il(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ont(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?bs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?bs(r,e,n.max):Math.min(e,r)),e}function eJ(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Dnt(e,{top:t,left:r,bottom:n,right:a}){return{x:eJ(e.x,r,a),y:eJ(e.y,t,n)}}function tJ(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Rnt(e,t){return{x:tJ(e.x,t.x),y:tJ(e.y,t.y)}}function Int(e,t){let r=.5;const n=Yi(e),a=Yi(t);return a>n?r=yw(t.min,t.max-n,e.min):n>a&&(r=yw(e.min,e.max-a,t.min)),dd(0,1,r)}function Mnt(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const pM=.35;function Fnt(e=pM){return e===!1?e=0:e===!0&&(e=pM),{x:rJ(e,"left","right"),y:rJ(e,"top","bottom")}}function rJ(e,t,r){return{min:nJ(e,t),max:nJ(e,r)}}function nJ(e,t){return typeof e=="number"?e:e[t]||0}const Lnt=new WeakMap;class $nt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$s(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(v1(f).point)},o=(f,m)=>{const{drag:p,dragPropagation:y,onDragStart:g}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wtt(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_l(_=>{let w=this.getAxisMotionValue(_).get()||0;if(iu.test(w)){const{projection:j}=this.visualElement;if(j&&j.layout){const C=j.layout.layoutBox[_];C&&(w=Yi(C)*(parseFloat(w)/100))}}this.originPoint[_]=w}),g&&hs.postRender(()=>g(f,m)),hM(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=m;if(y&&this.currentDirection===null){this.currentDirection=Bnt(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),v&&v(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>_l(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new yfe(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:vfe(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&hs.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Cj(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Ont(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Lg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Dnt(n.layoutBox,t):this.constraints=!1,this.elastic=Fnt(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&_l(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Mnt(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Lg(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Urt(n,a.root,this.visualElement.getTransformPagePoint());let o=Rnt(a.layout.layoutBox,i);if(r){const l=r(Lrt(o));this.hasMutatedConstraints=!!l,l&&(o=nfe(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=_l(d=>{if(!Cj(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return hM(this.visualElement,t),n.start(UL(t,n,0,r,this.visualElement,!1))}stopAnimation(){_l(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_l(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){_l(r=>{const{drag:n}=this.getProps();if(!Cj(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-bs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Lg(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_l(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Int({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_l(o=>{if(!Cj(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(bs(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Lnt.set(this.visualElement,this);const t=this.visualElement.current,r=Yy(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Lg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),hs.read(n);const o=Nw(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(_l(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=pM,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Cj(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Bnt(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Unt extends ph{constructor(t){super(t),this.removeGroupControls=Ul,this.removeListeners=Ul,this.controls=new $nt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ul}unmount(){this.removeGroupControls(),this.removeListeners()}}const sJ=e=>(t,r)=>{e&&hs.postRender(()=>e(t,r))};class Vnt extends ph{constructor(){super(...arguments),this.removePointerDownListener=Ul}onPointerDown(t){this.session=new yfe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vfe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:sJ(t),onStart:sJ(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&hs.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Yy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const aN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aJ(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Nr.test(e))e=parseFloat(e);else return e;const r=aJ(e,t.target.x),n=aJ(e,t.target.y);return`${r}% ${n}%`}},znt={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Zf.parse(e);if(a.length>5)return n;const i=Zf.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=bs(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let CD=!1;class qnt extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;frt(Wnt),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),CD&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),aN.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,CD=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||hs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),AL.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;CD=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wfe(e){const[t,r]=zde(),n=b.useContext(lL);return s.jsx(qnt,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(tfe),isPresent:t,safeToRemove:r})}const Wnt={borderRadius:{...Uv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uv,borderTopRightRadius:Uv,borderBottomLeftRadius:Uv,borderBottomRightRadius:Uv,boxShadow:znt};function Hnt(e,t,r){const n=Ci(e)?e:tx(e);return n.start(UL("",n,t,r)),n.animation}const Gnt=(e,t)=>e.depth-t.depth;class Knt{constructor(){this.children=[],this.isDirty=!1}add(t){dL(this.children,t),this.isDirty=!0}remove(t){fL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Gnt),this.isDirty=!1,this.children.forEach(t)}}function Ynt(e,t){const r=po.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Jf(n),e(i-t))};return hs.setup(n,!0),()=>Jf(n)}const _fe=["TopLeft","TopRight","BottomLeft","BottomRight"],Xnt=_fe.length,iJ=e=>typeof e=="string"?parseFloat(e):e,oJ=e=>typeof e=="number"||Nr.test(e);function Jnt(e,t,r,n,a,i){a?(e.opacity=bs(0,r.opacity??1,Znt(n)),e.opacityExit=bs(t.opacity??1,0,Qnt(n))):i&&(e.opacity=bs(t.opacity??1,r.opacity??1,n));for(let o=0;o<Xnt;o++){const l=`border${_fe[o]}Radius`;let c=lJ(t,l),u=lJ(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||oJ(c)===oJ(u)?(e[l]=Math.max(bs(iJ(c),iJ(u),n),0),(iu.test(u)||iu.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=bs(t.rotate||0,r.rotate||0,n))}function lJ(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Znt=jfe(0,.5,cde),Qnt=jfe(.5,.95,Ul);function jfe(e,t,r){return n=>n<e?0:n>t?1:r(yw(e,t,n))}function cJ(e,t){e.min=t.min,e.max=t.max}function xl(e,t){cJ(e.x,t.x),cJ(e.y,t.y)}function uJ(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dJ(e,t,r,n,a){return e-=t,e=l2(e,1/r,n),a!==void 0&&(e=l2(e,1/a,n)),e}function est(e,t=0,r=1,n=.5,a,i=e,o=e){if(iu.test(t)&&(t=parseFloat(t),t=bs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=bs(i.min,i.max,n);e===i&&(l-=t),e.min=dJ(e.min,t,r,l,a),e.max=dJ(e.max,t,r,l,a)}function fJ(e,t,[r,n,a],i,o){est(e,t[r],t[n],t[a],t.scale,i,o)}const tst=["x","scaleX","originX"],rst=["y","scaleY","originY"];function hJ(e,t,r,n){fJ(e.x,t,tst,r?r.x:void 0,n?n.x:void 0),fJ(e.y,t,rst,r?r.y:void 0,n?n.y:void 0)}function mJ(e){return e.translate===0&&e.scale===1}function Nfe(e){return mJ(e.x)&&mJ(e.y)}function pJ(e,t){return e.min===t.min&&e.max===t.max}function nst(e,t){return pJ(e.x,t.x)&&pJ(e.y,t.y)}function gJ(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Sfe(e,t){return gJ(e.x,t.x)&&gJ(e.y,t.y)}function xJ(e){return Yi(e.x)/Yi(e.y)}function vJ(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sst{constructor(){this.members=[]}add(t){dL(this.members,t),t.scheduleRender()}remove(t){if(fL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ast(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:p,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const ED=["","X","Y","Z"],ist=1e3;let ost=0;function TD(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function kfe(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=dfe(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",hs,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&kfe(n)}function Cfe({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=ost++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ust),this.nodes.forEach(mst),this.nodes.forEach(pst),this.nodes.forEach(dst)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Knt)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pL),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Vde(o)&&!Jtt(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;hs.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=Ynt(m,250),aN.hasAnimatedSinceResize&&(aN.hasAnimatedSinceResize=!1,this.nodes.forEach(wJ)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||bst,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),_=!this.targetLayout||!Sfe(this.targetLayout,p),w=!f&&m;if(this.options.layoutRoot||this.resumeFrom||w||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...EL(y,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,w)}else f||wJ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gst),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kfe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yJ);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bJ);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hst),this.nodes.forEach(lst),this.nodes.forEach(cst)):this.nodes.forEach(bJ),this.clearAllSnapshots();const l=po.now();Qa.delta=dd(0,1e3/60,l-Qa.timestamp),Qa.timestamp=l,Qa.isProcessing=!0,xD.update.process(Qa),xD.preRender.process(Qa),xD.render.process(Qa),Qa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fst),this.sharedNodes.forEach(xst)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yi(this.snapshot.measuredBox.x)&&!Yi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$s(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Nfe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Wh(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),wst(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $s();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_st))){const{scroll:u}=this.root;u&&($g(l.x,u.offset.x),$g(l.y,u.offset.y))}return l}removeElementScroll(o){const l=$s();if(xl(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&xl(l,o),$g(l.x,d.offset.x),$g(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=$s();xl(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Wh(d.latestValues)&&Bg(c,d.latestValues)}return Wh(this.latestValues)&&Bg(c,this.latestValues),c}removeTransform(o){const l=$s();xl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Wh(u.latestValues))continue;cM(u.latestValues)&&u.updateSnapshot();const d=$s(),f=u.measurePageBox();xl(d,f),hJ(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Wh(this.latestValues)&&hJ(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Qa.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$s(),this.relativeTargetOrigin=$s(),Jy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$s(),this.targetWithTransforms=$s()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ent(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xl(this.target,this.layout.layoutBox),afe(this.target,this.targetDelta)):xl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$s(),this.relativeTargetOrigin=$s(),Jy(this.relativeTargetOrigin,this.target,m.target),xl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cM(this.parent.latestValues)||sfe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Qa.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;xl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Brt(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$s());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uJ(this.prevProjectionDelta.x,this.projectionDelta.x),uJ(this.prevProjectionDelta.y,this.projectionDelta.y)),Xy(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!vJ(this.projectionDelta.x,this.prevProjectionDelta.x)||!vJ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ug(),this.projectionDelta=Ug(),this.projectionDeltaWithTransform=Ug()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ug();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=$s(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=p!==y,v=this.getStack(),_=!v||v.members.length<=1,w=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some(yst));this.animationProgress=0;let j;this.mixTargetDelta=C=>{const S=C/1e3;_J(f.x,o.x,S),_J(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jy(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vst(this.relativeTarget,this.relativeTargetOrigin,m,S),j&&nst(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=$s()),xl(j,this.relativeTarget)),g&&(this.animationValues=d,Jnt(d,u,this.latestValues,S,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hs.update(()=>{aN.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tx(0)),this.currentAnimation=Hnt(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ist),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Efe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||$s();const f=Yi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Yi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}xl(l,c),Bg(l,d),Xy(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sst),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&TD("z",o,u,this.animationValues);for(let d=0;d<ED.length;d++)TD(`rotate${ED[d]}`,o,u,this.animationValues),TD(`skew${ED[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=sN(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=sN(l?.pointerEvents)||""),this.hasProjected&&!Wh(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=ast(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in jw){if(d[y]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:_}=jw[y],w=f==="none"?d[y]:g(d[y],u);if(v){const j=v.length;for(let C=0;C<j;C++)o[v[C]]=w}else _?this.options.visualElement.renderState.vars[y]=w:o[y]=w}this.options.layoutId&&(o.pointerEvents=u===this?sN(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(yJ),this.root.sharedNodes.clear()}}}function lst(e){e.updateLayout()}function cst(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?_l(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Yi(f);f.min=r[d].min,f.max=f.min+m}):Efe(a,t.layoutBox,r)&&_l(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Yi(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=Ug();Xy(o,r,t.layoutBox);const l=Ug();i?Xy(l,e.applyTransform(n,!0),t.measuredBox):Xy(l,r,t.layoutBox);const c=!Nfe(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const p=$s();Jy(p,t.layoutBox,f.layoutBox);const y=$s();Jy(y,r,m.layoutBox),Sfe(p,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ust(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dst(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fst(e){e.clearSnapshot()}function yJ(e){e.clearMeasurements()}function bJ(e){e.isLayoutDirty=!1}function hst(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wJ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mst(e){e.resolveTargetDelta()}function pst(e){e.calcProjection()}function gst(e){e.resetSkewAndRotation()}function xst(e){e.removeLeadSnapshot()}function _J(e,t,r){e.translate=bs(t.translate,0,r),e.scale=bs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function jJ(e,t,r,n){e.min=bs(t.min,r.min,n),e.max=bs(t.max,r.max,n)}function vst(e,t,r,n){jJ(e.x,t.x,r.x,n),jJ(e.y,t.y,r.y,n)}function yst(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bst={duration:.45,ease:[.4,0,.1,1]},NJ=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),SJ=NJ("applewebkit/")&&!NJ("chrome/")?Math.round:Ul;function kJ(e){e.min=SJ(e.min),e.max=SJ(e.max)}function wst(e){kJ(e.x),kJ(e.y)}function Efe(e,t,r){return e==="position"||e==="preserve-aspect"&&!Cnt(xJ(t),xJ(r),.2)}function _st(e){return e!==e.root&&e.scroll?.wasRoot}const jst=Cfe({attachResizeListener:(e,t)=>Nw(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AD={current:void 0},Tfe=Cfe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!AD.current){const e=new jst({});e.mount(window),e.setOptions({layoutScroll:!0}),AD.current=e}return AD.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Nst={pan:{Feature:Vnt},drag:{Feature:Unt,ProjectionNode:Tfe,MeasureLayout:wfe}};function CJ(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&hs.postRender(()=>i(t,v1(t)))}class Sst extends ph{mount(){const{current:t}=this.node;t&&(this.unmount=Htt(t,(r,n)=>(CJ(this.node,n,"Start"),a=>CJ(this.node,a,"End"))))}unmount(){}}class kst extends ph{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=p1(Nw(this.node.current,"focus",()=>this.onFocus()),Nw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EJ(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&hs.postRender(()=>i(t,v1(t)))}class Cst extends ph{mount(){const{current:t}=this.node;t&&(this.unmount=Xtt(t,(r,n)=>(EJ(this.node,n,"Start"),(a,{success:i})=>EJ(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gM=new WeakMap,PD=new WeakMap,Est=e=>{const t=gM.get(e.target);t&&t(e)},Tst=e=>{e.forEach(Est)};function Ast({root:e,...t}){const r=e||document;PD.has(r)||PD.set(r,{});const n=PD.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Tst,{root:e,...t})),n[a]}function Pst(e,t,r){const n=Ast(t);return gM.set(e,r),n.observe(e),()=>{gM.delete(e),n.unobserve(e)}}const Ost={some:0,all:1};class Dst extends ph{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Ost[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return Pst(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Rst(t,r))&&this.startObserver()}unmount(){}}function Rst({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Ist={inView:{Feature:Dst},tap:{Feature:Cst},focus:{Feature:kst},hover:{Feature:Sst}},Mst={layout:{ProjectionNode:Tfe,MeasureLayout:wfe}},Fst={...wnt,...Ist,...Nst,...Mst},Mn=Frt(Fst,Xrt),TJ=()=>{const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState(!1),[i,o]=b.useState(null),[l,c]=b.useState("30"),[u,d]=b.useState(!1),[f,m]=b.useState("revenue");b.useEffect(()=>{p()},[l]);const p=async()=>{try{const{data:{session:k}}=await Y.auth.getSession();if(!k){e("/admin/login");return}const{data:E,error:R}=await Y.from("subscriptions").select("plan_id, status, subscription_plans(enable_analytics)").eq("user_id",k.user.id).maybeSingle();if(!E||R){a(!1),r(!1);return}const P=E?.subscription_plans?.enable_analytics||!1,T=["active","trial"].includes(E?.status);if(!P||!T){a(!1),r(!1);return}a(!0),await y()}catch(k){Ie({title:"Error",description:k.message,variant:"destructive"}),r(!1)}},y=async()=>{try{r(!0);const{data:{user:k}}=await Y.auth.getUser();if(!k)return;const{data:E,error:R}=await Y.from("stores").select("id").eq("user_id",k.id).single();if(!E)return;const P=new Date;P.setDate(P.getDate()-parseInt(l));const T=new Date;T.setDate(T.getDate()-parseInt(l)*2);const{data:O,error:D}=await Y.from("orders").select("*").eq("store_id",E.id).gte("created_at",P.toISOString());if(D)throw D;const{data:I}=await Y.from("orders").select("*").eq("store_id",E.id).gte("created_at",T.toISOString()).lt("created_at",P.toISOString()),L=O?.reduce((Q,ce)=>Q+ce.total,0)||0,W=O?.length||0,q=W>0?L/W:0,G=I?.reduce((Q,ce)=>Q+ce.total,0)||0,K=I?.length||0,U=K>0?G/K:0,F=new Map;O?.forEach(Q=>{const ce=_r($Qe(Q.created_at),"MMM dd"),de=F.get(ce)||{revenue:0,orders:0};de.revenue+=Q.total,de.orders+=1,F.set(ce,de)});const B=Array.from(F.entries()).map(([Q,ce])=>({date:Q,revenue:ce.revenue})).sort((Q,ce)=>new Date(Q.date).getTime()-new Date(ce.date).getTime()),V=Array.from(F.entries()).map(([Q,ce])=>({date:Q,orders:ce.orders})).sort((Q,ce)=>new Date(Q.date).getTime()-new Date(ce.date).getTime()),Z=new Map;O?.forEach(Q=>{Array.isArray(Q.items)&&Q.items.forEach(ce=>{const de=Z.get(ce.productId)||{name:ce.productName,quantity:0,revenue:0};de.quantity+=ce.quantity,de.revenue+=ce.price*ce.quantity,Z.set(ce.productId,de)})});const X=Array.from(Z.values()).sort((Q,ce)=>ce.revenue-Q.revenue).slice(0,10);o({totalRevenue:L,ordersCount:W,averageOrderValue:q,topProducts:X,revenueByDay:B,ordersByDay:V,previousRevenue:G,previousOrdersCount:K,previousAverageOrderValue:U})}catch(k){Ie({title:"Error",description:k.message,variant:"destructive"})}finally{r(!1)}},g=async()=>{d(!0),await y(),d(!1)},v=(k,E)=>E===0?{percent:0,isPositive:k>0}:{percent:(k-E)/E*100,isPositive:k>=E},_=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(k);if(t)return s.jsxs(Mn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Mn.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block",children:s.jsx(Wa,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading analytics..."})]});if(!n)return s.jsxs(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center py-12",children:[s.jsx(Wn,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Not Available"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need a subscription plan with analytics enabled to access this feature."})]});const w=v(i?.totalRevenue||0,i?.previousRevenue||0),j=v(i?.ordersCount||0,i?.previousOrdersCount||0),C=v(i?.averageOrderValue||0,i?.previousAverageOrderValue||0),S=[...i?.topProducts||[]].sort((k,E)=>f==="revenue"?E.revenue-k.revenue:E.quantity-k.quantity);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Mn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-between border-b pb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor your store performance and sales trends"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Mn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[s.jsx(Mn.div,{animate:u?{rotate:360}:{rotate:0},transition:{duration:u?1:.3,repeat:u?1/0:0},children:s.jsx(Wa,{className:"h-4 w-4"})}),"Refresh"]}),s.jsxs(ar,{value:l,onValueChange:c,children:[s.jsxs(rr,{className:"w-[180px]",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),s.jsx(ir,{})]}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"7",children:"Last 7 Days"}),s.jsx(Ue,{value:"30",children:"Last 30 Days"}),s.jsx(Ue,{value:"90",children:"Last 90 Days"}),s.jsx(Ue,{value:"365",children:"Last Year"})]})]})]})]}),s.jsxs(Mn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Mn.div,{whileHover:{y:-4},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl",children:s.jsx(ri,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs(Mn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${w.isPositive?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[w.isPositive?s.jsx(Oj,{className:"h-4 w-4"}):s.jsx(lT,{className:"h-4 w-4"}),Math.abs(w.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:_(i?.totalRevenue||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})}),s.jsx(Mn.div,{whileHover:{y:-4,boxShadow:"0 20px 25px rgba(0,0,0,0.1)"},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl",children:s.jsx(Af,{className:"h-6 w-6 text-blue-600"})}),s.jsxs(Mn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${j.isPositive?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[j.isPositive?s.jsx(Oj,{className:"h-4 w-4"}):s.jsx(lT,{className:"h-4 w-4"}),Math.abs(j.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:i?.ordersCount||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})}),s.jsx(Mn.div,{whileHover:{y:-4,boxShadow:"0 20px 25px rgba(0,0,0,0.1)"},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-50 to-violet-100 dark:from-violet-900/20 dark:to-violet-800/20 rounded-xl",children:s.jsx(Fl,{className:"h-6 w-6 text-violet-600"})}),s.jsxs(Mn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${C.isPositive?"bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[C.isPositive?s.jsx(Oj,{className:"h-4 w-4"}):s.jsx(lT,{className:"h-4 w-4"}),Math.abs(C.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avg Order Value"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:_(i?.averageOrderValue||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})})]}),s.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:s.jsxs(Ce,{className:"border-slate-200 dark:border-slate-800",children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-xl",children:"Revenue Trend"})}),s.jsx(Ee,{children:i?.revenueByDay&&i.revenueByDay.length>0?s.jsx($y,{width:"100%",height:300,children:s.jsxs(jZe,{data:i.revenueByDay,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),s.jsx(pw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Yf,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Xf,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(ho,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#f1f5f9"},formatter:k=>_(k)}),s.jsx(h1,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,dot:!1,fill:"url(#colorRevenue)",isAnimationActive:!0})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No data available for this period"})})]})}),s.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},children:s.jsxs(Ce,{className:"border-slate-200 dark:border-slate-800",children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-xl",children:"Order Volume"})}),s.jsx(Ee,{children:i?.ordersByDay&&i.ordersByDay.length>0?s.jsx($y,{width:"100%",height:300,children:s.jsxs(YI,{data:i.ordersByDay,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),s.jsx(pw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Yf,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Xf,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(ho,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#f1f5f9"}}),s.jsx(Vo,{dataKey:"orders",fill:"url(#colorOrders)",radius:[8,8,0,0],isAnimationActive:!0})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No data available for this period"})})]})}),s.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:s.jsxs(Ce,{className:"border-slate-200 dark:border-slate-800",children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[s.jsx(Je,{className:"text-xl",children:"Top Products"}),s.jsxs(Mn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(f==="revenue"?"quantity":"revenue"),className:"inline-flex items-center gap-2 px-3 py-1 text-sm rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[s.jsx(B0e,{className:"h-4 w-4"}),"Sort by ",f==="revenue"?"Quantity":"Revenue"]})]}),s.jsx(Ee,{children:S&&S.length>0?s.jsx("div",{className:"space-y-2",children:S.map((k,E)=>s.jsxs(Mn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+E*.05},whileHover:{x:4,backgroundColor:"var(--slate-50)"},className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-800 transition-all",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:k.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.quantity," units sold"]})]}),s.jsxs(Mn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6+E*.05},className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-emerald-600",children:_(k.revenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(k.revenue/(i?.totalRevenue||1)*100).toFixed(1),"%"]})]})]},E))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales data available for this period"})})]})})]})};function Lst(){const[e,t]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState(!0),[c,u]=b.useState(!1),[d,f]=b.useState(null),[m,p]=b.useState(null),[y,g]=b.useState(!1),[v,_]=b.useState(null),[w,j]=b.useState(null),[C,S]=b.useState(!1),[k,E]=b.useState([]),[R,P]=b.useState(!1),[T,O]=b.useState(new Set),[D,I]=b.useState("vps"),[L,W]=b.useState(""),[q,G]=b.useState(null),[K,U]=b.useState(""),[F,B]=b.useState(null),[V,Z]=b.useState("");b.useEffect(()=>{X()},[]);const X=async()=>{try{l(!0);const{data:{user:J}}=await Y.auth.getUser();if(!J)return;const{data:z}=await Y.from("stores").select("id, slug, google_access_token").eq("user_id",J.id).single();if(!z)return;_(z.id),j(z.slug),P(!!z.google_access_token);const{data:Se,error:te}=await Y.from("categories").select("*").eq("store_id",z.id).order("name");if(te)throw te;t(Se||[])}catch(J){Ie({title:"Error",description:J.message,variant:"destructive"})}finally{l(!1)}},Q=async()=>{if(!r.trim()){W("Category name is required"),document.getElementById("categoryName")?.focus();return}if(W(""),!v){Ie({title:"Error",description:"Store not found",variant:"destructive"});return}try{u(!0);let J=a.trim();if(q&&D==="vps"){const{data:{session:Se}}=await Y.auth.getSession();if(!Se)throw new Error("Not authenticated");const{data:{user:te}}=await Y.auth.getUser();if(!te)throw new Error("User not found");const{data:_e,error:Ae}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",te.id).single();if(Ae||!_e)throw new Error("Store not found");const ue=q.size/1024/1024,Ve=_e.storage_used_mb||0,He=_e.storage_limit_mb||100;if(Ve+ue>He)throw new Error(`Storage limit reached. You have ${(He-Ve).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);E([{name:q.name,progress:10}]);const le=new FormData;le.append("file",q),le.append("type","categories"),w&&le.append("store_slug",w);const be=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:le}),Oe=await be.json();if(!be.ok||!Oe.success)throw new Error(Oe.error||"Failed to upload image");J=Oe.imageUrl;const Ze=Oe.fileId||q.name,{error:tt}=await Y.from("media_library").insert({store_id:_e.id,file_url:J,file_name:Ze,file_size_mb:ue,file_type:"categories"});tt&&console.error("Failed to add to media library:",tt);const{error:fe}=await Y.from("stores").update({storage_used_mb:Ve+ue}).eq("id",_e.id);fe&&console.error("Failed to update storage usage:",fe),E([])}J||(J=OTe());const{error:z}=await Y.from("categories").insert([{name:r.trim(),store_id:v,image_url:J}]);if(z)throw z;K&&URL.revokeObjectURL(K),G(null),U(""),Ie({title:"Success",description:"Category added successfully"}),n(""),i(""),W(""),X()}catch(J){Ie({title:"Error",description:J.message,variant:"destructive"})}finally{u(!1),E([])}},ce=async()=>{if(d)try{if(d.image_url&&d.image_url.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:d.image_url})}),await Y.from("media_library").delete().eq("file_url",d.image_url),console.log("Category image deleted from VPS and media library:",d.image_url)}catch(z){console.error("Failed to delete image:",z)}const{error:J}=await Y.from("categories").delete().eq("id",d.id);if(J)throw J;Ie({title:"Success",description:"Category deleted successfully"}),X()}catch(J){Ie({title:"Error",description:J.message,variant:"destructive"})}finally{f(null)}},de=J=>{p({...J,newName:J.name,newImageUrl:J.image_url||""})},pe=async()=>{if(m){if(!m.newName.trim()){Ie({title:"Error",description:"Category name cannot be empty",variant:"destructive"});return}try{g(!0);let J=m.newImageUrl.trim();if(F&&D==="vps"){const{data:{session:te}}=await Y.auth.getSession();if(!te)throw new Error("Not authenticated");const{data:{user:_e}}=await Y.auth.getUser();if(!_e)throw new Error("User not found");const{data:Ae,error:ue}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",_e.id).single();if(ue||!Ae)throw new Error("Store not found");const Ve=F.size/1024/1024,He=Ae.storage_used_mb||0,le=Ae.storage_limit_mb||100;if(He+Ve>le)throw new Error(`Storage limit reached. You have ${(le-He).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);E([{name:F.name,progress:10}]);const be=new FormData;be.append("file",F),be.append("type","categories"),w&&be.append("store_slug",w);const Oe=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:be}),Ze=await Oe.json();if(!Oe.ok||!Ze.success)throw new Error(Ze.error||"Failed to upload image");J=Ze.imageUrl;const tt=Ze.fileId||F.name,{error:fe}=await Y.from("media_library").insert({store_id:Ae.id,file_url:J,file_name:tt,file_size_mb:Ve,file_type:"categories"});fe&&console.error("Failed to add to media library:",fe);const{error:ee}=await Y.from("stores").update({storage_used_mb:He+Ve}).eq("id",Ae.id);ee&&console.error("Failed to update storage usage:",ee),E([])}const z=m.image_url;if(z&&z!==J&&z.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:z})}),await Y.from("media_library").delete().eq("file_url",z),console.log("Old category image deleted from VPS and media library:",z)}catch(te){console.error("Failed to delete old image:",te)}const{error:Se}=await Y.from("categories").update({name:m.newName.trim(),image_url:J||null}).eq("id",m.id);if(Se)throw Se;V&&URL.revokeObjectURL(V),B(null),Z(""),Ie({title:"Success",description:"Category updated successfully"}),p(null),X()}catch(J){Ie({title:"Error",description:J.message,variant:"destructive"})}finally{g(!1),E([])}}},re=(J,z)=>{if(!J.trim()){Ie({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let Se=J.trim();if(Se.includes("drive.google.com")){const te=Se.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);te&&(Se=`https://drive.google.com/thumbnail?id=${te[1]||te[2]}&sz=w1000`,Ie({title:" Google Drive Link Converted",description:"URL converted to direct image format. Preview shown below."}))}z&&m?p(te=>te?{...te,newImageUrl:Se}:null):(i(Se),setTimeout(()=>{const te=document.querySelector("[data-image-preview]");te&&te.scrollIntoView({behavior:"smooth",block:"nearest"})},100))},ie=async(J,z=!1)=>{let Se=J.target.files?.[0];if(Se){if(!Se.type.startsWith("image/")){Ie({title:"Invalid file type",description:`${Se.name} is not a valid image file`,variant:"destructive"});return}try{if(D==="vps"){try{const Ve=(Se.size/1024/1024).toFixed(2),He=await tF(Se,5),le=(He.size/1024/1024).toFixed(2);console.log(`Image compressed: ${Ve}MB  ${le}MB`),Se=He}catch(Ve){console.error("Compression failed:",Ve),Ie({title:"Compression failed",description:`Failed to compress ${Se.name}, using original`,variant:"destructive"})}const ue=URL.createObjectURL(Se);z?(V&&URL.revokeObjectURL(V),B(Se),Z(ue),m&&p(Ve=>Ve?{...Ve,newImageUrl:ue}:null)):(K&&URL.revokeObjectURL(K),G(Se),U(ue),i(ue)),Ie({title:"Image ready",description:`${Se.name} will be uploaded when you save the category`});return}S(!0),E([{name:Se.name,progress:0}]);const{data:{session:te}}=await Y.auth.getSession();if(!te)throw new Error("Not authenticated");E([{name:Se.name,progress:10}]);const _e=new FormData;_e.append("file",Se),_e.append("type","categories");const Ae=setInterval(()=>{E(ue=>ue.map(Ve=>Ve.progress<90?{...Ve,progress:Ve.progress+10}:Ve))},200);try{const ue=await Y.functions.invoke("upload-to-drive",{body:_e,headers:{Authorization:`Bearer ${te.access_token}`}});if(clearInterval(Ae),ue.error)throw new Error(ue.error.message||"Failed to upload image");ue.data?.imageUrl&&(E([{name:Se.name,progress:100}]),await new Promise(Ve=>setTimeout(Ve,500)),z&&m?p(Ve=>Ve?{...Ve,newImageUrl:ue.data.imageUrl}:null):(i(ue.data.imageUrl),setTimeout(()=>{const Ve=document.querySelector("[data-image-preview]");Ve&&Ve.scrollIntoView({behavior:"smooth",block:"nearest"})},100)),Ie({title:" Image uploaded successfully!",description:`${Se.name} is ready to use. Preview shown below.`}))}catch(ue){throw clearInterval(Ae),ue}}catch(te){console.error("Upload error:",te);let _e=te.message||"";if(te.context?.body)try{const Ae=JSON.parse(te.context.body);_e=Ae.error||Ae.message||_e}catch(Ae){console.error("Could not parse error body:",Ae)}_e.toLowerCase().includes("storage limit")?Ie({title:"Storage Limit Reached",description:_e,variant:"destructive",duration:6e3}):_e.toLowerCase().includes("drive")&&_e.toLowerCase().includes("not connected")?Ie({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first.",variant:"destructive",duration:6e3}):_e.toLowerCase().includes("token")||_e.toLowerCase().includes("expired")?Ie({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Ie({title:"Upload Failed",description:_e||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),E([]),J.target.value=""}}};return s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Category Management"})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(ke,{htmlFor:"categoryName",className:"text-base font-medium",children:["Category Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Fe,{id:"categoryName",placeholder:"Enter category name...",value:r,onChange:J=>{n(J.target.value),L&&W("")},onKeyPress:J=>J.key==="Enter"&&!J.shiftKey&&Q(),className:`mt-2 ${L?"border-destructive focus-visible:ring-destructive":""}`,"aria-invalid":!!L,"aria-describedby":L?"name-error":void 0}),L&&s.jsxs("p",{id:"name-error",className:"text-sm text-destructive mt-1.5 flex items-center gap-1",children:[s.jsx(Si,{className:"w-4 h-4"}),L]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{className:"text-base font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"vps",checked:D==="vps",onChange:J=>I(J.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"drive",checked:D==="drive",onChange:J=>I(J.target.value),className:"w-4 h-4 text-primary",disabled:!R}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!R&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:D==="vps"?"Images compressed to max 5MB and stored on server":"Images uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${C?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"categoryImageUpload",accept:"image/*",onChange:J=>ie(J,!1),className:"hidden",disabled:C||!R}),s.jsx("label",{htmlFor:"categoryImageUpload",className:`block p-6 text-center ${C||!R?"cursor-not-allowed":"cursor-pointer"}`,children:C&&k.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin"}),s.jsx("span",{className:"font-medium text-foreground",children:"Uploading..."})]}),k.map((J,z)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[J.progress<100?s.jsx(Ut,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:J.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:J.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[J.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${J.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${J.progress}%`}})})]},z))]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(tf,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:R?"Click to upload image":"Google Drive Not Connected"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R?"PNG, JPG images. Will be uploaded to your Google Drive.":"Connect Google Drive in Store Settings to enable uploads"})]})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{placeholder:"https://drive.google.com/file/d/... (optional)",value:a,onChange:J=>i(J.target.value),onKeyPress:J=>{J.key==="Enter"&&(J.preventDefault(),re(a,!1))},className:"flex-1"}),s.jsx(ae,{type:"button",variant:"secondary",onClick:()=>re(a,!1),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted to a direct image URL."})]}),a&&s.jsxs("div",{"data-image-preview":!0,className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(""),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(Aa,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:yf(a)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:J=>{J.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:a})]})]})]})]}),s.jsxs(ae,{onClick:Q,disabled:c,className:"w-full",children:[c?s.jsx(Ut,{className:"h-4 w-4 animate-spin"}):s.jsx(oi,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Add Category"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(ke,{className:"text-base font-medium",children:["Your Categories (",e.length,")"]})}),o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ut,{className:"w-8 h-8 mx-auto mb-3 text-primary animate-spin"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading categories..."})]}):e.length===0?s.jsx("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(Wn,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"No categories yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first category using the form above"})]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(J=>s.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-lg hover:border-primary/50 transition-all duration-300",children:[s.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[s.jsx("img",{src:yf(J.image_url||"")||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",alt:J.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:z=>{z.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}}),s.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[s.jsxs(ae,{size:"sm",variant:"secondary",onClick:()=>de(J),className:"shadow-lg",title:"Edit category",children:[s.jsx(i9,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>f(J),className:"shadow-lg",title:"Delete category",children:[s.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate group-hover:text-primary transition-colors",children:J.name}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Category"})]}),s.jsxs("div",{className:"sm:hidden border-t p-2 flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>de(J),className:"flex-1",children:[s.jsx(i9,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>f(J),className:"flex-1 text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(Rn,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},J.id))})]}),s.jsx($m,{open:!!d,onOpenChange:()=>f(null),children:s.jsxs($f,{children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:"Delete Category"}),s.jsxs(Vf,{children:['Are you sure you want to delete the category "',d?.name,'"? This action cannot be undone.']})]}),s.jsxs(Bm,{children:[s.jsx(qf,{children:"Cancel"}),s.jsx(zf,{onClick:ce,className:"bg-destructive",children:"Delete"})]})]})}),s.jsx($m,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs($f,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:"Edit Category"}),s.jsx(Vf,{children:"Update the category name and image."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Name"}),s.jsx(Fe,{placeholder:"Enter category name...",value:m?.newName||"",onChange:J=>p(z=>z?{...z,newName:J.target.value}:null)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"text-xs font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"vps",checked:D==="vps",onChange:J=>I(J.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-xs",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"drive",checked:D==="drive",onChange:J=>I(J.target.value),className:"w-4 h-4 text-primary",disabled:!R}),s.jsxs("span",{className:"text-xs",children:["Google Drive ",!R&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-xs font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${C?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"editCategoryImageUpload",accept:"image/*",onChange:J=>ie(J,!0),className:"hidden",disabled:C||!R}),s.jsx("label",{htmlFor:"editCategoryImageUpload",className:`block p-4 text-center ${C||!R?"cursor-not-allowed":"cursor-pointer"}`,children:C&&k.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ut,{className:"w-4 h-4 text-primary animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Uploading..."})]}),k.map((J,z)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-2 border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[J.progress<100?s.jsx(Ut,{className:"w-4 h-4 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-foreground truncate",children:J.name})}),s.jsxs("span",{className:"text-xs font-medium text-primary",children:[J.progress,"%"]})]}),s.jsx("div",{className:"mt-1.5 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${J.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${J.progress}%`}})})]},z))]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(tf,{className:"w-6 h-6 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-xs font-medium",children:R?"Click to upload":"Google Drive Not Connected"})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"text-xs font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{placeholder:"https://drive.google.com/file/d/...",value:m?.newImageUrl||"",onChange:J=>p(z=>z?{...z,newImageUrl:J.target.value}:null),onKeyPress:J=>{J.key==="Enter"&&(J.preventDefault(),re(m?.newImageUrl||"",!0))},className:"flex-1"}),s.jsx(ae,{type:"button",variant:"secondary",onClick:()=>re(m?.newImageUrl||"",!0),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted."})]}),m?.newImageUrl&&s.jsxs("div",{className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(J=>J?{...J,newImageUrl:""}:null),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(Aa,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:yf(m.newImageUrl)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:J=>{J.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:m.newImageUrl})]})]})]})]})]}),s.jsxs(Bm,{children:[s.jsx(qf,{children:"Cancel"}),s.jsxs(zf,{onClick:pe,disabled:y,children:[y?s.jsx(Ut,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update"]})]})]})})]})]})}const AJ=()=>{const e=vr();b.useEffect(()=>{t()},[]);const t=async()=>{const{data:{session:r}}=await Y.auth.getSession();r||e("/admin/login")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your product categories"})]}),s.jsx(Lst,{})]})},PJ=()=>{const e=vr(),[t,r]=b.useState(null),[n,a]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(0),[u,d]=b.useState(!1),[f,m]=b.useState(null),[p,y]=b.useState(null);b.useEffect(()=>{g()},[]),b.useEffect(()=>{if(!p)return;const P=()=>{const O=new Date,D=p.getTime()-O.getTime();if(D<=0){m({days:0,hours:0,minutes:0,seconds:0});return}const I=Math.floor(D/(1e3*60*60*24)),L=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),W=Math.floor(D%(1e3*60*60)/(1e3*60)),q=Math.floor(D%(1e3*60)/1e3);m({days:I,hours:L,minutes:W,seconds:q})};P();const T=setInterval(P,1e3);return()=>clearInterval(T)},[p]);const g=async()=>{try{const{data:{user:P}}=await Y.auth.getUser();if(!P){e("/auth");return}const{data:T}=await Y.from("stores").select("id").eq("user_id",P.id).single();if(T){const{count:G}=await Y.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",T.id);c(G||0)}const{data:O,error:D}=await Y.from("subscriptions").select(`
          *,
          subscription_plans (*)
        `).eq("user_id",P.id).order("updated_at",{ascending:!1});let I=null;if(O&&O.length>0){const G=new Date,K=O.filter(F=>!(F.status==="cancelled"||F.status==="expired"||F.current_period_end&&new Date(F.current_period_end)<G)),U=K.filter(F=>F.status==="active");U.length>0?I=U[0]:I=K[0]}if(D&&D.code!=="PGRST116")throw D;if(I){const G={...I,subscription_plans:{...I.subscription_plans,features:Array.isArray(I.subscription_plans.features)?I.subscription_plans.features:[]}};r(G),I.current_period_end?y(new Date(I.current_period_end)):I.trial_ends_at&&y(new Date(I.trial_ends_at))}const{data:L,error:W}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(W)throw W;const q=(L||[]).map(G=>({...G,features:Array.isArray(G.features)?G.features:[]}));a(q)}catch(P){console.error("Error fetching subscription data:",P),ct.error("Failed to load subscription data")}finally{o(!1)}},v=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P),_=P=>P?new Date(P).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",w=()=>{if(!t)return 0;const P=t.subscription_plans?.whatsapp_orders_limit;if(P===null||P===0)return 0;const T=t.whatsapp_orders_used||0,O=T/P*100;return console.log("WhatsApp Usage:",{used:T,limit:P,percentage:O}),Math.min(O,100)},j=()=>{if(!t)return 0;const P=t.subscription_plans?.website_orders_limit;if(P===null||P===0)return 0;const T=t.website_orders_used||0,O=T/P*100;return console.log("Website Usage:",{used:T,limit:P,percentage:O}),Math.min(O,100)},C=P=>P>=96?"bg-red-600":P>=81?"bg-orange-500":P>=51?"bg-yellow-500":"bg-green-500",S=P=>P>=100?{level:"error",message:"Limit reached - Upgrade now!"}:P>=90?{level:"warning",message:"Almost at limit"}:P>=80?{level:"caution",message:"Running low on orders"}:null,k=async()=>{d(!0);try{await g(),ct.success("Refreshed! Order usage updated successfully.")}catch(P){console.error("Error refreshing:",P),ct.error("Failed to refresh data. Please try again.")}finally{d(!1)}},E=()=>{e("/pricing")},R=()=>t?.current_period_end?new Date(t.current_period_end)<new Date:!1;return i?s.jsx("div",{className:"pt-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading subscription details..."})}):s.jsxs("div",{className:"space-y-8 p-6 md:p-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Subscription"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription plan"})]}),t&&f&&p&&!R()&&s.jsx(Ce,{className:`border-l-4 ${t.status==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:s.jsx(Ee,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ds,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${t.status==="trial"?"text-warning":"text-primary"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:t.status==="trial"?"Trial Status":"Subscription Status"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.status==="trial"?"Your free trial ends in ":"Your subscription renews in ",s.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[f.days,"d ",f.hours,"h ",f.minutes,"m ",f.seconds,"s"]})]})]})]})})}),t&&R()&&s.jsxs(Yr,{variant:"destructive",className:"border-destructive/50 bg-destructive/10",children:[s.jsx(Vs,{className:"h-5 w-5"}),s.jsxs(Xr,{className:"ml-2",children:[s.jsx("span",{className:"font-semibold",children:"Your subscription has expired!"})," ","Your store cannot accept new orders. Please upgrade your plan to continue using our services."]})]}),t&&s.jsxs(Ce,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:t.subscription_plans.name}),s.jsx(_t,{variant:R()?"destructive":t.status==="active"?"default":"secondary",children:R()?"Expired":t.status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(t.billing_cycle==="yearly"&&t.subscription_plans.yearly_price?t.subscription_plans.yearly_price:t.subscription_plans.monthly_price)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.billing_cycle==="yearly"?"year":"month"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Billing:"})," ",t.billing_cycle==="yearly"?"Yearly":"Monthly"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Expires:"})," ",_(t.current_period_end)]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Order Usage"}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:k,disabled:u,children:[s.jsx(Wa,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.subscription_plans.whatsapp_orders_limit!==null&&(()=>{const P=w(),T=S(P);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"WhatsApp Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.whatsapp_orders_limit===0?`${t.whatsapp_orders_used||0} / Unlimited`:`${t.whatsapp_orders_used||0} / ${t.subscription_plans.whatsapp_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${C(P)}`,style:{width:`${P}%`}})})}),T&&s.jsxs(Yr,{variant:T.level==="error"?"destructive":"default",className:`mt-2 ${T.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":T.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(Vs,{className:"h-4 w-4"}),s.jsx(Xr,{className:"ml-2 text-sm font-medium",children:T.message})]})]})})(),t.subscription_plans.website_orders_limit!==null&&(()=>{const P=j(),T=S(P);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Website Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.website_orders_limit===0?`${t.website_orders_used||0} / Unlimited`:`${t.website_orders_used||0} / ${t.subscription_plans.website_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${C(P)}`,style:{width:`${P}%`}})})}),T&&s.jsxs(Yr,{variant:T.level==="error"?"destructive":"default",className:`mt-2 ${T.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":T.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(Vs,{className:"h-4 w-4"}),s.jsx(Xr,{className:"ml-2 text-sm font-medium",children:T.message})]})]})})()]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.next_billing_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Vl,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Next billing: ",_(t.next_billing_at)]})]})}),t.trial_ends_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Wn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Trial ends: ",_(t.trial_ends_at)]})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Plan Features"}),s.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.subscription_plans.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:t.subscription_plans.max_products===0?"Unlimited Products":`Max ${t.subscription_plans.max_products} Product${t.subscription_plans.max_products===1?"":"s"}`})]}),t.subscription_plans.features.filter(P=>{if(!P||typeof P!="string"||P.trim()==="")return!1;const T=P.toLowerCase();return!T.includes("analytics")&&!T.includes("email")&&!T.includes("notification")&&!T.includes("location")&&!T.includes("tracking")&&!T.includes("product")&&!T.includes("support")&&!T.includes("whatsapp order")&&!T.includes("website order")}).map((P,T)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P})]},T)),t.subscription_plans.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),t.subscription_plans.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),t.subscription_plans.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Available Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(P=>{const T=t?.plan_id===P.id;return s.jsxs(Ce,{className:`p-6 flex flex-col ${T?"border-primary":"border-border"}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-1",children:P.name}),P.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(P.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"/month"})]}),s.jsxs("ul",{className:"space-y-2 mb-6 flex-1",children:[P.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P.max_products===0?"Unlimited Products":`Max ${P.max_products} Product${P.max_products===1?"":"s"}`})]}),P.features.filter(O=>{if(!O||typeof O!="string"||O.trim()==="")return!1;const D=O.toLowerCase();return!D.includes("analytics")&&!D.includes("email")&&!D.includes("notification")&&!D.includes("location")&&!D.includes("tracking")&&!D.includes("product")&&!D.includes("support")&&!D.includes("whatsapp order")&&!D.includes("website order")}).map((O,D)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O})]},D)),P.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),P.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),P.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]}),P.whatsapp_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P.whatsapp_orders_limit===0?"Unlimited WhatsApp orders/month":`${P.whatsapp_orders_limit} WhatsApp order${P.whatsapp_orders_limit===1?"":"s"}/month`})]}),P.website_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P.website_orders_limit===0?"Unlimited Website orders/month":`${P.website_orders_limit} Website order${P.website_orders_limit===1?"":"s"}/month`})]})]}),s.jsx(ae,{className:"w-full",variant:T?"outline":"default",disabled:T,onClick:E,children:T?"Current Plan":s.jsxs(s.Fragment,{children:["Upgrade Now ",s.jsx(Oj,{className:"w-4 h-4 ml-2"})]})})]},P.id)})})]})]})},OJ=()=>{const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(null),[f,m]=b.useState(!1),[p,y]=b.useState(!1),[g,v]=b.useState(null),[_,w]=b.useState(null),[j,C]=b.useState({alternate_names:"",seo_description:"",business_phone:"",business_email:"",street_address:"",city:"",state:"",postal_code:"",country:"IN",opening_hours:"",price_range:""});b.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:{session:T}}=await Y.auth.getSession();if(!T){e("/auth");return}const{data:O,error:D}=await Y.from("stores").select("*").eq("user_id",T.user.id).single();if(D||!O){Ie({variant:"destructive",title:"Error",description:"Could not load store data"});return}const{data:I}=await Y.from("profiles").select("phone, email").eq("user_id",T.user.id).single();d(O.id),o(O.name||""),c(O.slug||""),C({alternate_names:O.alternate_names||"",price_range:O.price_range||"",opening_hours:O.opening_hours||"",city:O.city||"",state:O.state||"",postal_code:O.postal_code||"",country:O.country||"IN",seo_description:O.seo_description||O.description||"",business_phone:O.business_phone||I?.phone||O.whatsapp_number||"",business_email:O.business_email||I?.email||"",street_address:O.street_address||O.address||""})}catch(T){console.error("Error loading store data:",T)}finally{r(!1)}},k=async()=>{if(u){a(!0);try{const{error:T}=await Y.from("stores").update({alternate_names:j.alternate_names,seo_description:j.seo_description,business_phone:j.business_phone,business_email:j.business_email,street_address:j.street_address,city:j.city,state:j.state,postal_code:j.postal_code,country:j.country,opening_hours:j.opening_hours,price_range:j.price_range}).eq("id",u);if(T)throw T;Ie({title:"SEO Settings Saved",description:"Your SEO settings have been updated successfully. Changes may take a few days to reflect in search results."})}catch(T){Ie({variant:"destructive",title:"Error",description:T.message||"Failed to save SEO settings"})}finally{a(!1)}}},E=()=>{if(!i)return;const T=i,O=[],D=T.replace(/([a-z])([A-Z])/g,"$1 $2");D!==T&&O.push(D);const I=T.replace(/\s+/g,"");I!==T&&O.push(I);const L=T.replace(/a/gi,"aa").replace(/e/gi,"ee");L!==T&&!O.includes(L)&&O.push(D.replace(/a/gi,"aa"));const W=[...new Set(O)].filter(q=>q!==T);C(q=>({...q,alternate_names:W.join(", ")})),Ie({title:"Variations Generated",description:`Generated ${W.length} name variations`})},R=async()=>{if(!u){Ie({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{m(!0),v(null),Ie({title:"Submitting Sitemap",description:"Submitting your sitemap to Google Search Console..."});const{data:{session:T}}=await Y.auth.getSession();if(!T)throw new Error("Not authenticated. Please login again.");const D=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T.access_token}`},body:JSON.stringify({storeId:u})})).json();if(D.success)v(D.results?.[0]||{success:!0}),Ie({title:"Sitemap Submitted!",description:"Your sitemap has been submitted to Google. It may take a few days to appear in search results."});else throw new Error(D.error||"Failed to submit sitemap")}catch(T){console.error("Error submitting sitemap:",T),v({success:!1,error:T.message}),Ie({variant:"destructive",title:"Submission Failed",description:T.message||"Failed to submit sitemap to Google"})}finally{m(!1)}},P=async()=>{if(!u){Ie({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{y(!0),w(null),Ie({title:"Requesting Indexing",description:"Requesting immediate indexing from Google. This is faster than sitemap submission."});const{data:{session:T}}=await Y.auth.getSession();if(!T)throw new Error("Not authenticated. Please login again.");const D=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T.access_token}`},body:JSON.stringify({storeId:u})})).json();if(D.success)w(D.results?.[0]||{success:!0}),Ie({title:"Indexing Requested!",description:"Successfully requested indexing. Your store should appear in Google within hours."});else throw new Error(D.error||"Failed to request indexing")}catch(T){console.error("Error requesting indexing:",T),w({success:!1,error:T.message}),Ie({variant:"destructive",title:"Indexing Failed",description:T.message||"Failed to request indexing from Google"})}finally{y(!1)}};return t?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx(Jh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(tl,{className:"w-6 h-6"}),"SEO Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Optimize your store for search engines like Google"})]}),s.jsx(ae,{onClick:k,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(Ce,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Ee,{className:"flex items-start gap-3 pt-4",children:[s.jsx(hc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"How SEO helps your store"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:['These settings help Google understand your business better. When someone searches for "',i,'" or similar terms, Google will show rich information about your store including address, phone, and hours.']})]})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(km,{className:"w-5 h-5"}),"Basic Information"]}),s.jsx(Pr,{children:"Help customers find your store with different search terms"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"storeName",children:"Store Name"}),s.jsx(Fe,{id:"storeName",value:i,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Change this in Settings  Store Details"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ke,{htmlFor:"alternateNames",className:"flex items-center gap-2",children:["Also Known As",s.jsxs(Sg,{children:[s.jsx(kg,{children:s.jsx(hc,{className:"w-3.5 h-3.5 text-muted-foreground"})}),s.jsx(Zh,{className:"max-w-xs",children:s.jsx("p",{children:"Add variations of your store name that customers might search for. Separate with commas."})})]})]}),s.jsxs(ae,{type:"button",variant:"ghost",size:"sm",onClick:E,className:"h-7 text-xs",children:[s.jsx(UZ,{className:"w-3 h-3 mr-1"}),"Auto Generate"]})]}),s.jsx(Fe,{id:"alternateNames",placeholder:"Sasu Masale, Sasu Masaale, SasuMasaale",value:j.alternate_names,onChange:T=>C(O=>({...O,alternate_names:T.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Example: If store is "SasuMasale", add "Sasu Masale, Sasu Masaale"'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"seoDescription",children:["SEO Description",s.jsx(_t,{variant:"secondary",className:"ml-2 text-xs",children:"Important"})]}),s.jsx(Ks,{id:"seoDescription",placeholder:"Fresh Indian spices store offering premium quality masale. Buy garam masala, turmeric, and more...",value:j.seo_description,onChange:T=>C(O=>({...O,seo_description:T.target.value})),rows:3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.seo_description.length,"/160 characters (recommended)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"priceRange",children:"Price Range"}),s.jsxs("select",{id:"priceRange",value:j.price_range,onChange:T=>C(O=>({...O,price_range:T.target.value})),className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",children:[s.jsx("option",{value:"",children:" - Budget Friendly"}),s.jsx("option",{value:"",children:" - Moderate"}),s.jsx("option",{value:"",children:" - Premium"}),s.jsx("option",{value:"",children:" - Luxury"})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(gc,{className:"w-5 h-5"}),"Contact Information"]}),s.jsx(Pr,{children:"Help customers reach you directly from Google search"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"businessPhone",className:"flex items-center gap-2",children:[s.jsx(gc,{className:"w-4 h-4"}),"Business Phone"]}),s.jsx(Fe,{id:"businessPhone",placeholder:"+91-9876543210",value:j.business_phone,onChange:T=>C(O=>({...O,business_phone:T.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"businessEmail",className:"flex items-center gap-2",children:[s.jsx(_c,{className:"w-4 h-4"}),"Business Email"]}),s.jsx(Fe,{id:"businessEmail",type:"email",placeholder:"contact@yourstore.com",value:j.business_email,onChange:T=>C(O=>({...O,business_email:T.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"openingHours",className:"flex items-center gap-2",children:[s.jsx(ds,{className:"w-4 h-4"}),"Opening Hours"]}),s.jsx(Fe,{id:"openingHours",placeholder:"Mon-Sat: 9AM-9PM, Sun: 10AM-6PM",value:j.opening_hours,onChange:T=>C(O=>({...O,opening_hours:T.target.value}))})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"w-5 h-5"}),"Business Address"]}),s.jsx(Pr,{children:"Appears on Google Maps and local search results"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"streetAddress",children:"Street Address"}),s.jsx(Fe,{id:"streetAddress",placeholder:"123 Spice Market, Main Road",value:j.street_address,onChange:T=>C(O=>({...O,street_address:T.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"city",children:"City"}),s.jsx(Fe,{id:"city",placeholder:"Mumbai",value:j.city,onChange:T=>C(O=>({...O,city:T.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"state",children:"State"}),s.jsx(Fe,{id:"state",placeholder:"Maharashtra",value:j.state,onChange:T=>C(O=>({...O,state:T.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"postalCode",children:"Postal Code"}),s.jsx(Fe,{id:"postalCode",placeholder:"400001",value:j.postal_code,onChange:T=>C(O=>({...O,postal_code:T.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"country",children:"Country"}),s.jsx(Fe,{id:"country",placeholder:"IN",value:j.country,onChange:T=>C(O=>({...O,country:T.target.value}))})]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"w-5 h-5"}),"Google Search Preview"]}),s.jsx(Pr,{children:"How your store might appear in Google search results"})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"bg-white dark:bg-zinc-900 border rounded-lg p-4 max-w-xl",children:[s.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:[l,".digitaldukandar.in"]}),s.jsxs("div",{className:"text-lg text-blue-600 dark:text-blue-400 font-medium hover:underline cursor-pointer",children:[i,j.alternate_names?` (${j.alternate_names.split(",")[0]?.trim()})`:""," - Online Store"]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:j.seo_description||`Shop at ${i}. Quality products at great prices.`}),(j.business_phone||j.city)&&s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[j.business_phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(gc,{className:"w-3 h-3"}),j.business_phone]}),j.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tf,{className:"w-3 h-3"}),j.city,", ",j.state]})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Wa,{className:"w-5 h-5"}),"Google Indexing"]}),s.jsx(Pr,{children:"Submit your store to Google for faster indexing"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(hc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Two ways to get indexed:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-blue-800 dark:text-blue-200",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Submit Sitemap:"})," Traditional method, takes 3-7 days"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Request Indexing:"})," Faster method using Google Indexing API, appears within hours"]})]})]})]})]})}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:"Submit Sitemap"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Submit your sitemap to Google Search Console (slower but comprehensive)"})]}),s.jsx(ae,{onClick:R,disabled:f,variant:"outline",className:"w-full",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Submit Sitemap"]})}),g&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${g.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[g.success?s.jsx(Cs,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Qn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:g.success?s.jsx("p",{className:"font-medium",children:"Submitted successfully!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Submission failed"}),g.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:g.error})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:["Request Indexing",s.jsx(_t,{variant:"secondary",className:"text-xs",children:"Faster"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Request immediate indexing via Google Indexing API (appears within hours)"})]}),s.jsx(ae,{onClick:P,disabled:p,className:"w-full",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Requesting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(OM,{className:"w-4 h-4 mr-2"}),"Request Indexing"]})}),_&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${_.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[_.success?s.jsx(Cs,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Qn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:_.success?s.jsx("p",{className:"font-medium",children:"Indexing requested!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Request failed"}),_.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:_.error})]})})]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-2",children:"Note:"}),s.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Sitemap is automatically submitted when you create/update your store"}),s.jsx("li",{children:'Use "Request Indexing" when you make important changes and need Google to re-crawl quickly'}),s.jsx("li",{children:"You can use both methods - they complement each other"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{onClick:k,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),"Save SEO Settings"]})})})]})})},DJ=()=>{const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState(null),[u,d]=b.useState({facebook_url:"",instagram_url:"",twitter_url:"",youtube_url:"",linkedin_url:""});b.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{session:_}}=await Y.auth.getSession();if(!_){e("/auth");return}const{data:w,error:j}=await Y.from("stores").select("*").eq("user_id",_.user.id).single();if(j||!w){Ie({variant:"destructive",title:"Error",description:"Could not load store data"});return}c(w.id),o(w.name||"");const C=w.social_links;d({facebook_url:w.facebook_url||C?.facebook||"",instagram_url:w.instagram_url||C?.instagram||"",twitter_url:w.twitter_url||C?.twitter||"",youtube_url:w.youtube_url||"",linkedin_url:w.linkedin_url||""})}catch(_){console.error("Error loading store data:",_)}finally{r(!1)}},m=async()=>{if(l){a(!0);try{const{error:_}=await Y.from("stores").update({facebook_url:u.facebook_url||null,instagram_url:u.instagram_url||null,twitter_url:u.twitter_url||null,youtube_url:u.youtube_url||null,linkedin_url:u.linkedin_url||null}).eq("id",l);if(_)throw _;Ie({title:"Social Media Settings Saved",description:"Your social media links have been updated successfully."})}catch(_){Ie({variant:"destructive",title:"Error",description:_.message||"Failed to save social media settings"})}finally{a(!1)}}},p=_=>{if(!_)return!0;try{return new URL(_),!0}catch{return!1}},y=_=>_?p(_)?"valid":"invalid":null;if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-primary"})});const g=[{key:"facebook_url",name:"Facebook",icon:EM,placeholder:"https://facebook.com/yourstore",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30"},{key:"instagram_url",name:"Instagram",icon:Ml,placeholder:"https://instagram.com/yourstore",color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30"},{key:"twitter_url",name:"Twitter / X",icon:AM,placeholder:"https://twitter.com/yourstore",color:"text-sky-500",bgColor:"bg-sky-100 dark:bg-sky-900/30"},{key:"youtube_url",name:"YouTube",icon:zZ,placeholder:"https://youtube.com/@yourstore",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900/30"},{key:"linkedin_url",name:"LinkedIn",icon:LZ,placeholder:"https://linkedin.com/company/yourstore",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"}],v=Object.values(u).filter(_=>_&&p(_)).length;return s.jsx(Jh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Vg,{className:"w-6 h-6"}),"Social Media"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your social profiles to increase visibility"})]}),s.jsx(ae,{onClick:m,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(Ce,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Ee,{className:"flex items-center justify-between pt-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(hc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Why Social Media Matters"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Social links appear in Google search results and help customers find and trust your store. Connected profiles also improve your SEO ranking."})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:v}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connected"})]})]})}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Vg,{className:"w-5 h-5"}),"Social Media Profiles"]}),s.jsx(Pr,{children:"Add your social media profile URLs. These will appear on your store and in search results."})]}),s.jsx(Ee,{className:"space-y-6",children:g.map(_=>{const w=u[_.key],j=y(w);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:_.key,className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 rounded-md ${_.bgColor}`,children:s.jsx(_.icon,{className:`w-4 h-4 ${_.color}`})}),_.name,j==="valid"&&s.jsxs(_t,{variant:"secondary",className:"ml-2 text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx(an,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{id:_.key,placeholder:_.placeholder,value:w,onChange:C=>d(S=>({...S,[_.key]:C.target.value})),className:j==="invalid"?"border-red-500":""}),w&&p(w)&&s.jsxs(Sg,{children:[s.jsx(kg,{asChild:!0,children:s.jsx(ae,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(w,"_blank"),children:s.jsx(ja,{className:"w-4 h-4"})})}),s.jsx(Zh,{children:"Open in new tab"})]})]}),j==="invalid"&&s.jsx("p",{className:"text-xs text-red-500",children:"Please enter a valid URL"})]},_.key)})})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Vg,{className:"w-5 h-5"}),"Preview"]}),s.jsx(Pr,{children:"How your social links will appear on your store footer"})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Follow ",i," on social media:"]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:g.map(_=>{const w=u[_.key],j=w&&p(w);return s.jsx("div",{className:`p-3 rounded-lg transition-all ${j?`${_.bgColor} cursor-pointer hover:scale-105`:"bg-muted/50 opacity-50"}`,children:s.jsx(_.icon,{className:`w-5 h-5 ${j?_.color:"text-muted-foreground"}`})},_.key)})}),v===0&&s.jsx("p",{className:"text-sm text-muted-foreground mt-4 italic",children:"No social profiles connected yet. Add URLs above to display them here."})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{onClick:m,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),"Save Social Media Settings"]})})})]})})},RJ=()=>{const e=vr(),[t]=Rw(),[r,n]=b.useState(!0),[a,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(null),[m,p]=b.useState(null),[y,g]=b.useState({enabled:!1,default_message:"Thanks for your message! We'll get back to you soon.",rules:[]}),[v,_]=b.useState({enabled:!1,default_reply:"Thanks for your comment!"}),[w,j]=b.useState({enabled:!1,display_mode:"auto",max_reels:6,manual_reels:[],show_on_homepage:!0,section_title:"Follow Us on Instagram"}),[C,S]=b.useState(""),[k,E]=b.useState(!1),[R,P]=b.useState(""),[T,O]=b.useState("");b.useEffect(()=>{const X=t.get("status"),Q=t.get("message");X==="success"?(ct.success(Q||"Instagram connected successfully!"),e("/admin/growth/instagram",{replace:!0})):X==="error"&&(ct.error(Q||"Failed to connect Instagram"),e("/admin/growth/instagram",{replace:!0})),D()},[t]);const D=async()=>{try{n(!0);const{data:{user:X}}=await Y.auth.getUser();if(!X){e("/auth");return}const{data:Q,error:ce}=await Y.from("stores").select("id, instagram_connected, instagram_username, instagram_token_expiry, auto_reply_settings, comment_auto_reply_settings, instagram_reels_settings").eq("user_id",X.id).single();if(ce){console.error("Error loading store:",ce),ct.error("Failed to load settings");return}l(Q.id),u(Q.instagram_connected||!1),f(Q.instagram_username),p(Q.instagram_token_expiry),Q.auto_reply_settings&&g(Q.auto_reply_settings),Q.comment_auto_reply_settings&&_(Q.comment_auto_reply_settings),Q.instagram_reels_settings&&j(Q.instagram_reels_settings)}catch(X){console.error("Error:",X),ct.error("Failed to load settings")}finally{n(!1)}},I=()=>{if(!o){ct.error("Store not found");return}const X=`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=connect&store_id=${o}`;window.location.href=X},L=async()=>{if(o)try{(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=disconnect&store_id=${o}`)).ok?(u(!1),f(null),p(null),ct.success("Instagram disconnected")):ct.error("Failed to disconnect")}catch(X){console.error("Error disconnecting:",X),ct.error("Failed to disconnect Instagram")}},W=async()=>{if(o)try{i(!0);const{error:X}=await Y.from("stores").update({auto_reply_settings:JSON.parse(JSON.stringify(y)),comment_auto_reply_settings:JSON.parse(JSON.stringify(v)),instagram_reels_settings:JSON.parse(JSON.stringify(w))}).eq("id",o);if(X)throw X;ct.success("Settings saved successfully!")}catch(X){console.error("Error saving:",X),ct.error("Failed to save settings")}finally{i(!1)}},q=()=>{if(!C.trim()){ct.error("Please enter a reel URL");return}if(!C.includes("instagram.com/reel/")&&!C.includes("instagram.com/p/")){ct.error("Invalid URL. Please use format: https://www.instagram.com/reel/xxx");return}if(w.manual_reels.some(Q=>Q.url===C.trim())){ct.error("This reel is already added");return}const X={url:C.trim(),added_at:new Date().toISOString()};j(Q=>({...Q,manual_reels:[...Q.manual_reels,X]})),S(""),ct.success("Reel added")},G=X=>{j(Q=>({...Q,manual_reels:Q.manual_reels.filter(ce=>ce.url!==X)}))},K=async()=>{if(o)try{E(!0);const Q=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?action=refresh&store_id=${o}`,{method:"POST"})).json();Q.success?ct.success(`Refreshed ${Q.count} reels from Instagram`):ct.error(Q.error||"Failed to refresh reels")}catch(X){console.error("Error refreshing reels:",X),ct.error("Failed to refresh reels")}finally{E(!1)}},U=X=>{const Q=X.match(/\/(reel|p)\/([A-Za-z0-9_-]+)/);return Q?Q[2]:X},F=()=>{if(!R.trim()||!T.trim()){ct.error("Please enter keywords and reply message");return}const X=R.split(",").map(ce=>ce.trim()).filter(ce=>ce),Q={id:Date.now().toString(),keywords:X,reply:T.trim()};g(ce=>({...ce,rules:[...ce.rules,Q]})),P(""),O(""),ct.success("Rule added")},B=X=>{g(Q=>({...Q,rules:Q.rules.filter(ce=>ce.id!==X)}))},V=()=>m?(new Date(m).getTime()-Date.now())/(1e3*60*60*24)<7:!1,Z=async()=>{if(o)try{const Q=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=refresh&store_id=${o}`)).json();Q.success?(p(Q.expires_at),ct.success("Token refreshed successfully!")):ct.error(Q.error||"Failed to refresh token")}catch(X){console.error("Error refreshing token:",X),ct.error("Failed to refresh token")}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Instagram Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your Instagram Business account and configure auto-replies"})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Ml,{className:"w-5 h-5"}),"Instagram Connection"]}),s.jsx(Pr,{children:"Connect your Instagram Business account to enable auto-replies"})]}),s.jsx(Ee,{children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx(rn,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Connected"}),d&&s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["@",d]})]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:L,children:"Disconnect"})]}),m&&s.jsxs("div",{className:`p-3 rounded-lg ${V()?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200":"bg-muted"}`,children:[s.jsxs("p",{className:"text-sm",children:["Token expires: ",new Date(m).toLocaleDateString(),V()&&s.jsx("span",{className:"text-yellow-600 ml-2",children:"(Expiring soon!)"})]}),s.jsx(ae,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:Z,children:"Refresh Token"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[s.jsx(Aa,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Not Connected"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your Instagram to enable features"})]})]}),s.jsxs(ae,{onClick:I,className:"w-full sm:w-auto",children:[s.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Connect Instagram"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll need an Instagram Business or Creator account connected to a Facebook Page."})]})})]}),c&&s.jsxs(s.Fragment,{children:[s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(cm,{className:"w-5 h-5"}),"DM Auto-Reply"]}),s.jsx(Pr,{children:"Automatically reply to direct messages"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Enable Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to incoming DMs"})]}),s.jsx(Gr,{checked:y.enabled,onCheckedChange:X=>g(Q=>({...Q,enabled:X}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Default Reply Message"}),s.jsx(Ks,{value:y.default_message,onChange:X=>g(Q=>({...Q,default_message:X.target.value})),placeholder:"Thanks for your message! We'll get back to you soon.",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This message is sent when no keyword rules match"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{children:"Keyword Rules"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set specific replies for messages containing certain keywords"}),y.rules.length>0&&s.jsx("div",{className:"space-y-2",children:y.rules.map(X=>s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Keywords: ",X.keywords.join(", ")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:X.reply})]}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>B(X.id),children:s.jsx(Rn,{className:"w-4 h-4 text-destructive"})})]},X.id))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(Fe,{value:R,onChange:X=>P(X.target.value),placeholder:"Keywords (comma separated): price, cost, how much"}),s.jsx(Ks,{value:T,onChange:X=>O(X.target.value),placeholder:"Reply message for these keywords...",rows:2}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:F,children:[s.jsx(oi,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(U0e,{className:"w-5 h-5"}),"Comment Auto-Reply"]}),s.jsx(Pr,{children:"Automatically reply to comments on your posts"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Enable Comment Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to new comments"})]}),s.jsx(Gr,{checked:v.enabled,onCheckedChange:X=>_(Q=>({...Q,enabled:X}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Default Comment Reply"}),s.jsx(Ks,{value:v.default_reply,onChange:X=>_(Q=>({...Q,default_reply:X.target.value})),placeholder:"Thanks for your comment!",rows:2})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(IZ,{className:"w-5 h-5"}),"Instagram Reels on Store"]}),s.jsx(Pr,{children:"Display your Instagram Reels on your store's homepage"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Show Reels on Store"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Instagram Reels to customers"})]}),s.jsx(Gr,{checked:w.enabled,onCheckedChange:X=>j(Q=>({...Q,enabled:X}))})]}),w.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Section Title"}),s.jsx(Fe,{value:w.section_title,onChange:X=>j(Q=>({...Q,section_title:X.target.value})),placeholder:"Follow Us on Instagram"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Display Mode"}),s.jsxs(ar,{value:w.display_mode,onValueChange:X=>j(Q=>({...Q,display_mode:X})),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"auto",children:"Auto-fetch from Instagram"}),s.jsx(Ue,{value:"manual",children:"Manual URLs only"}),s.jsx(Ue,{value:"both",children:"Both (Auto + Manual)"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.display_mode==="auto"&&"Automatically fetch your latest reels from Instagram",w.display_mode==="manual"&&"Only show reels you manually add",w.display_mode==="both"&&"Combine auto-fetched reels with manual ones"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Maximum Reels to Show"}),s.jsxs(ar,{value:w.max_reels.toString(),onValueChange:X=>j(Q=>({...Q,max_reels:parseInt(X)})),children:[s.jsx(rr,{className:"w-24",children:s.jsx(ir,{})}),s.jsx(nr,{children:[3,4,6,8,9,12].map(X=>s.jsx(Ue,{value:X.toString(),children:X},X))})]})]}),(w.display_mode==="auto"||w.display_mode==="both")&&s.jsx("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-Fetch Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetch your latest reels from Instagram"})]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:K,disabled:k,children:k?s.jsx(Ut,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),(w.display_mode==="manual"||w.display_mode==="both")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{children:"Manual Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add specific reels you want to display on your store"}),w.manual_reels.length>0&&s.jsx("div",{className:"space-y-2",children:w.manual_reels.map(X=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[s.jsx(Ml,{className:"w-4 h-4 text-pink-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:U(X.url)}),s.jsxs("a",{href:X.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-primary flex items-center gap-1",children:["View ",s.jsx(ja,{className:"w-3 h-3"})]})]}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>G(X.url),children:s.jsx(Rn,{className:"w-4 h-4 text-destructive"})})]},X.url))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(Fe,{value:C,onChange:X=>S(X.target.value),placeholder:"https://www.instagram.com/reel/ABC123..."}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:q,children:[s.jsx(oi,{className:"w-4 h-4 mr-2"}),"Add Reel"]})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{onClick:W,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Settings"})})]})]})},iN=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array(8).fill(0).map(()=>e[Math.floor(Math.random()*e.length)]).join("")},$st=async e=>{try{const{data:t}=await Y.from("coupons").select("id",{count:"exact"}).eq("store_id",e),{data:r}=await Y.from("coupons").select("id",{count:"exact"}).eq("store_id",e).eq("status","active"),{data:n}=await Y.from("coupon_usage").select("discount_applied").in("coupon_id",(await Y.from("coupons").select("id").eq("store_id",e)).data?.map(i=>i.id)||[]),a=n?.reduce((i,o)=>i+(o.discount_applied||0),0)||0;return{totalCoupons:t?.length||0,activeCoupons:r?.length||0,totalUsage:n?.length||0,totalDiscountGiven:a}}catch(t){return console.error("Error getting coupon stats:",t),{totalCoupons:0,activeCoupons:0,totalUsage:0,totalDiscountGiven:0}}};var lC="Checkbox",[Bst]=Is(lC),[Ust,VL]=Bst(lC);function Vst(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,p]=Pi({prop:r,defaultProp:a??!1,onChange:c,caller:lC}),[y,g]=b.useState(null),[v,_]=b.useState(null),w=b.useRef(!1),j=y?!!o||!!y.closest("form"):!0,C={checked:m,disabled:i,setChecked:p,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:jf(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:_};return s.jsx(Ust,{scope:t,...C,children:zst(f)?f(C):n})}var Afe="CheckboxTrigger",Pfe=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:y}=VL(Afe,e),g=tr(a,d),v=b.useRef(c);return b.useEffect(()=>{const _=i?.form;if(_){const w=()=>f(v.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[i,f]),s.jsx(At.button,{type:"button",role:"checkbox","aria-checked":jf(c)?"mixed":c,"aria-required":u,"data-state":Mfe(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:mt(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:mt(r,_=>{f(w=>jf(w)?!0:!w),y&&p&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})})});Pfe.displayName=Afe;var zL=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(Vst,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(Pfe,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(Ife,{__scopeCheckbox:r})]})})});zL.displayName=lC;var Ofe="CheckboxIndicator",Dfe=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=VL(Ofe,r);return s.jsx(fa,{present:n||jf(i.checked)||i.checked===!0,children:s.jsx(At.span,{"data-state":Mfe(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Dfe.displayName=Ofe;var Rfe="CheckboxBubbleInput",Ife=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=VL(Rfe,e),y=tr(r,p),g=Hw(i),v=Pw(n);b.useEffect(()=>{const w=m;if(!w)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,k=!a.current;if(g!==i&&S){const E=new Event("click",{bubbles:k});w.indeterminate=jf(i),S.call(w,jf(i)?!1:i),w.dispatchEvent(E)}},[m,g,i,a]);const _=b.useRef(jf(i)?!1:i);return s.jsx(At.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ife.displayName=Rfe;function zst(e){return typeof e=="function"}function jf(e){return e==="indeterminate"}function Mfe(e){return jf(e)?"indeterminate":e?"checked":"unchecked"}const ka=b.forwardRef(({className:e,...t},r)=>s.jsx(zL,{ref:r,className:ft("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Dfe,{className:ft("flex items-center justify-center text-current"),children:s.jsx(rn,{className:"h-4 w-4"})})}));ka.displayName=zL.displayName;var cC="Tabs",[qst]=Is(cC,[gx]),Ffe=gx(),[Wst,qL]=qst(cC),Lfe=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=nh(l),[f,m]=Pi({prop:n,onChange:a,defaultProp:i??"",caller:cC});return s.jsx(Wst,{scope:r,baseId:xo(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(At.div,{dir:d,"data-orientation":o,...u,ref:t})})});Lfe.displayName=cC;var $fe="TabsList",Bfe=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=qL($fe,r),o=Ffe(r);return s.jsx(A5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(At.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Bfe.displayName=$fe;var Ufe="TabsTrigger",Vfe=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=qL(Ufe,r),l=Ffe(r),c=Wfe(o.baseId,n),u=Hfe(o.baseId,n),d=n===o.value;return s.jsx(P5,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(At.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:mt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:mt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:mt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Vfe.displayName=Ufe;var zfe="TabsContent",qfe=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=qL(zfe,r),c=Wfe(l.baseId,n),u=Hfe(l.baseId,n),d=n===l.value,f=b.useRef(d);return b.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(fa,{present:a||d,children:({present:m})=>s.jsx(At.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});qfe.displayName=zfe;function Wfe(e,t){return`${e}-trigger-${t}`}function Hfe(e,t){return`${e}-content-${t}`}var Hst=Lfe,Gfe=Bfe,Kfe=Vfe,Yfe=qfe;const mu=Hst,Cc=b.forwardRef(({className:e,...t},r)=>s.jsx(Gfe,{ref:r,className:ft("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Cc.displayName=Gfe.displayName;const Qr=b.forwardRef(({className:e,...t},r)=>s.jsx(Kfe,{ref:r,className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Qr.displayName=Kfe.displayName;const en=b.forwardRef(({className:e,...t},r)=>s.jsx(Yfe,{ref:r,className:ft("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));en.displayName=Yfe.displayName;function Gst({open:e,onClose:t,onSave:r,storeId:n,couponToEdit:a}){const[i,o]=b.useState(!1),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState([]),[p,y]=b.useState([]),[g,v]=b.useState({code:iN(),description:"",discount_type:"percentage",discount_value:0,max_discount:void 0,min_order_value:void 0,start_date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],usage_limit_total:void 0,usage_limit_per_customer:void 0,applicable_to:"all",customer_type:"all",is_first_order:!1,order_type:"all",status:"active"});b.useEffect(()=>{e&&(_(),w(),a?(v({...a,start_date:a.start_date.split("T")[0],expiry_date:a.expiry_date.split("T")[0]}),j(),C()):(v({code:iN(),description:"",discount_type:"percentage",discount_value:0,max_discount:void 0,min_order_value:void 0,start_date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],usage_limit_total:void 0,usage_limit_per_customer:void 0,applicable_to:"all",customer_type:"all",is_first_order:!1,order_type:"all",status:"active"}),m([]),y([])))},[e,a]);const _=async()=>{const{data:k}=await Y.from("products").select("id, name").eq("store_id",n).order("name");k&&c(k)},w=async()=>{const{data:k}=await Y.from("categories").select("id, name").eq("store_id",n).order("name");k&&d(k)},j=async()=>{if(!a)return;const{data:k}=await Y.from("coupon_products").select("product_id").eq("coupon_id",a.id).eq("is_excluded",!1);k&&m(k.map(E=>E.product_id))},C=async()=>{if(!a)return;const{data:k}=await Y.from("coupon_categories").select("category_id").eq("coupon_id",a.id);k&&y(k.map(E=>E.category_id))},S=async()=>{if(!g.code||g.code.trim()===""){Ie({variant:"destructive",title:"Error",description:"Coupon code is required"});return}if(!g.discount_value||g.discount_value<=0){Ie({variant:"destructive",title:"Error",description:"Discount value must be greater than 0"});return}if(g.discount_type==="percentage"&&g.discount_value>100){Ie({variant:"destructive",title:"Error",description:"Percentage discount cannot exceed 100%"});return}if(new Date(g.start_date)>new Date(g.expiry_date)){Ie({variant:"destructive",title:"Error",description:"Expiry date must be after start date"});return}if(g.applicable_to==="products"&&f.length===0){Ie({variant:"destructive",title:"Error",description:"Please select at least one product"});return}if(g.applicable_to==="categories"&&p.length===0){Ie({variant:"destructive",title:"Error",description:"Please select at least one category"});return}o(!0);try{await r({...g,store_id:n,selectedProducts:f,selectedCategories:p}),t()}finally{o(!1)}};return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(un,{children:s.jsx(dn,{children:a?"Edit Coupon":"Create New Coupon"})}),s.jsxs(mu,{defaultValue:"basic",className:"w-full",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-4",children:[s.jsx(Qr,{value:"basic",children:"Basic"}),s.jsx(Qr,{value:"validity",children:"Validity"}),s.jsx(Qr,{value:"targeting",children:"Targeting"}),s.jsx(Qr,{value:"conditions",children:"Conditions"})]}),s.jsxs(en,{value:"basic",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"code",children:"Coupon Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{id:"code",value:g.code||"",onChange:k=>v({...g,code:k.target.value.toUpperCase()}),placeholder:"SUMMER20"}),s.jsx(ae,{variant:"outline",size:"icon",onClick:()=>v({...g,code:iN()}),children:s.jsx(Wa,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-generated or enter custom code (alphanumeric only)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Ks,{id:"description",placeholder:"Summer sale coupon - 20% off",value:g.description||"",onChange:k=>v({...g,description:k.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"discountType",children:"Discount Type"}),s.jsxs(ar,{value:g.discount_type,onValueChange:k=>v({...g,discount_type:k}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"flat",children:"Flat ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"discountValue",children:["Discount Value ",g.discount_type==="percentage"?"(%)":"()"]}),s.jsx(Fe,{id:"discountValue",type:"number",min:"0",step:"0.01",value:g.discount_value||"",onChange:k=>v({...g,discount_value:parseFloat(k.target.value)||0})})]})]}),g.discount_type==="percentage"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"maxDiscount",children:"Maximum Discount Cap (Optional, )"}),s.jsx(Fe,{id:"maxDiscount",type:"number",min:"0",step:"0.01",placeholder:"500",value:g.max_discount||"",onChange:k=>v({...g,max_discount:k.target.value?parseFloat(k.target.value):void 0})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum discount amount for percentage-based coupons"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"minOrderValue",children:"Minimum Order Value (Optional, )"}),s.jsx(Fe,{id:"minOrderValue",type:"number",min:"0",step:"0.01",placeholder:"1000",value:g.min_order_value||"",onChange:k=>v({...g,min_order_value:k.target.value?parseFloat(k.target.value):void 0})})]})]}),s.jsxs(en,{value:"validity",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"startDate",children:"Start Date"}),s.jsx(Fe,{id:"startDate",type:"date",value:g.start_date||"",onChange:k=>v({...g,start_date:k.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(Fe,{id:"expiryDate",type:"date",value:g.expiry_date||"",onChange:k=>v({...g,expiry_date:k.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"usageLimitTotal",children:"Total Usage Limit (Optional)"}),s.jsx(Fe,{id:"usageLimitTotal",type:"number",min:"1",placeholder:"100",value:g.usage_limit_total||"",onChange:k=>v({...g,usage_limit_total:k.target.value?parseInt(k.target.value):void 0})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum times this coupon can be used in total"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"usageLimitPerCustomer",children:"Usage Limit Per Customer (Optional)"}),s.jsx(Fe,{id:"usageLimitPerCustomer",type:"number",min:"1",placeholder:"1",value:g.usage_limit_per_customer||"",onChange:k=>v({...g,usage_limit_per_customer:k.target.value?parseInt(k.target.value):void 0})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum times a single customer can use this coupon"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"status",children:"Status"}),s.jsxs(ar,{value:g.status,onValueChange:k=>v({...g,status:k}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"active",children:"Active"}),s.jsx(Ue,{value:"disabled",children:"Disabled"}),s.jsx(Ue,{value:"expired",children:"Expired"})]})]})]})]}),s.jsxs(en,{value:"targeting",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"applicableTo",children:"Applicable To"}),s.jsxs(ar,{value:g.applicable_to,onValueChange:k=>v({...g,applicable_to:k}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Products"}),s.jsx(Ue,{value:"products",children:"Specific Products"}),s.jsx(Ue,{value:"categories",children:"Specific Categories"})]})]})]}),g.applicable_to==="products"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Select Products"}),s.jsx("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:l.map(k=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{id:`product-${k.id}`,checked:f.includes(k.id),onCheckedChange:E=>{m(E?[...f,k.id]:f.filter(R=>R!==k.id))}}),s.jsx(ke,{htmlFor:`product-${k.id}`,className:"cursor-pointer",children:k.name})]},k.id))})]}),g.applicable_to==="categories"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Select Categories"}),s.jsx("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:u.map(k=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{id:`category-${k.id}`,checked:p.includes(k.id),onCheckedChange:E=>{y(E?[...p,k.id]:p.filter(R=>R!==k.id))}}),s.jsx(ke,{htmlFor:`category-${k.id}`,className:"cursor-pointer",children:k.name})]},k.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"customerType",children:"Customer Type"}),s.jsxs(ar,{value:g.customer_type,onValueChange:k=>v({...g,customer_type:k}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Customers"}),s.jsx(Ue,{value:"new",children:"New Customers Only"}),s.jsx(Ue,{value:"returning",children:"Returning Customers Only"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{id:"isFirstOrder",checked:g.is_first_order,onCheckedChange:k=>v({...g,is_first_order:k})}),s.jsx(ke,{htmlFor:"isFirstOrder",className:"cursor-pointer",children:"First Order Only"})]})]}),s.jsxs(en,{value:"conditions",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"orderType",children:"Order Type"}),s.jsxs(ar,{value:g.order_type,onValueChange:k=>v({...g,order_type:k}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Orders"}),s.jsx(Ue,{value:"online",children:"Online Payment Only"}),s.jsx(Ue,{value:"cod",children:"Cash on Delivery Only"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"font-medium text-sm",children:"Coupon Summary"}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsxs("li",{children:[" ",g.discount_type==="percentage"?"%":"",g.discount_value," discount",g.discount_type==="percentage"&&g.max_discount&&` (max ${g.max_discount})`]}),g.min_order_value&&s.jsxs("li",{children:[" Minimum order: ",g.min_order_value]}),s.jsxs("li",{children:[" Valid from ",g.start_date," to ",g.expiry_date]}),s.jsxs("li",{children:[" Applicable to: ",g.applicable_to]})]})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:t,disabled:i,children:"Cancel"}),s.jsx(ae,{onClick:S,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):a?"Update Coupon":"Create Coupon"})]})]})})}const IJ=()=>{const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState(""),[p,y]=b.useState("all"),[g,v]=b.useState(1),[_,w]=b.useState({totalCoupons:0,activeCoupons:0,totalUsage:0,totalDiscountGiven:0}),[j,C]=b.useState(!1),[S,k]=b.useState(null),E=10;b.useEffect(()=>{R()},[]),b.useEffect(()=>{i&&(P(),T())},[i]),b.useEffect(()=>{O()},[l,f,p]);const R=async()=>{try{const{data:{session:F}}=await Y.auth.getSession();if(!F){e("/auth");return}const{data:B}=await Y.from("stores").select("id").eq("user_id",F.user.id).maybeSingle();B&&o(B.id)}catch(F){console.error("Error loading store data:",F)}finally{r(!1)}},P=async()=>{try{const{data:F,error:B}=await Y.from("coupons").select("*").eq("store_id",i).order("created_at",{ascending:!1});if(B)throw B;c(F||[])}catch(F){Ie({variant:"destructive",title:"Error",description:F.message||"Failed to load coupons"})}},T=async()=>{try{const F=await $st(i);w(F)}catch(F){console.error("Error loading stats:",F)}},O=()=>{let F=l.filter(B=>{const V=B.code.toLowerCase().includes(f.toLowerCase())||(B.description||"").toLowerCase().includes(f.toLowerCase()),Z=p==="all"||B.status===p;return V&&Z});d(F),v(1)},D=async F=>{a(!0);try{const{selectedProducts:B,selectedCategories:V,...Z}=F;if(S){const{error:X}=await Y.from("coupons").update(Z).eq("id",S.id);if(X)throw X;await Y.from("coupon_products").delete().eq("coupon_id",S.id),await Y.from("coupon_categories").delete().eq("coupon_id",S.id),B?.length>0&&await Y.from("coupon_products").insert(B.map(Q=>({coupon_id:S.id,product_id:Q,is_excluded:!1}))),V?.length>0&&await Y.from("coupon_categories").insert(V.map(Q=>({coupon_id:S.id,category_id:Q}))),Ie({title:"Coupon Updated",description:"Coupon has been updated successfully"})}else{const{data:X,error:Q}=await Y.from("coupons").insert(Z).select().single();if(Q)throw Q;B?.length>0&&await Y.from("coupon_products").insert(B.map(ce=>({coupon_id:X.id,product_id:ce,is_excluded:!1}))),V?.length>0&&await Y.from("coupon_categories").insert(V.map(ce=>({coupon_id:X.id,category_id:ce}))),Ie({title:"Coupon Created",description:`Coupon "${X.code}" has been created successfully`})}k(null),await P(),await T()}catch(B){Ie({variant:"destructive",title:"Error",description:B.message||"Failed to save coupon"})}finally{a(!1)}},I=async F=>{if(confirm("Are you sure you want to delete this coupon?"))try{const{error:B}=await Y.from("coupons").delete().eq("id",F);if(B)throw B;Ie({title:"Coupon Deleted",description:"Coupon has been deleted successfully"}),await P(),await T()}catch(B){Ie({variant:"destructive",title:"Error",description:B.message||"Failed to delete coupon"})}},L=async F=>{try{const B=iN(),{error:V}=await Y.from("coupons").insert({...F,id:void 0,code:B,created_at:void 0,updated_at:void 0});if(V)throw V;Ie({title:"Coupon Duplicated",description:`New coupon created with code "${B}"`}),await P()}catch(B){Ie({variant:"destructive",title:"Error",description:B.message||"Failed to duplicate coupon"})}},W=async F=>{try{const B=F.status==="active"?"disabled":"active",{error:V}=await Y.from("coupons").update({status:B}).eq("id",F.id);if(V)throw V;Ie({title:"Coupon Updated",description:`Coupon has been ${B}`}),await P()}catch(B){Ie({variant:"destructive",title:"Error",description:B.message||"Failed to update coupon"})}},q=F=>{switch(F){case"active":return"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-400";case"disabled":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400";case"expired":return"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}},G=F=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(F);if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-primary"})});const K=u.slice((g-1)*E,g*E),U=Math.ceil(u.length/E);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(fy,{className:"w-6 h-6"}),"Discounts & Coupons"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Create and manage discount coupons for your store"})]}),s.jsxs(ae,{onClick:()=>{k(null),C(!0)},children:[s.jsx(oi,{className:"w-4 h-4 mr-2"}),"Create Coupon"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsxs(Je,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(fy,{className:"w-4 h-4"}),"Total Coupons"]})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:_.totalCoupons})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsxs(Je,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(OZ,{className:"w-4 h-4"}),"Active Coupons"]})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:_.activeCoupons})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsxs(Je,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(ux,{className:"w-4 h-4"}),"Total Usage"]})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:_.totalUsage})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsxs(Je,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(Q0e,{className:"w-4 h-4"}),"Total Discount Given"]})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:G(_.totalDiscountGiven)})})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Filter & Search"})}),s.jsx(Ee,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(tl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Fe,{placeholder:"Search by code or description...",value:f,onChange:F=>m(F.target.value),className:"pl-8"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(ar,{value:p,onValueChange:y,children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Status"}),s.jsx(Ue,{value:"active",children:"Active"}),s.jsx(Ue,{value:"disabled",children:"Disabled"}),s.jsx(Ue,{value:"expired",children:"Expired"})]})]})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Coupons"})}),s.jsx(Ee,{children:u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fy,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No coupons found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Code"}),s.jsx(Qe,{children:"Discount"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Valid Until"}),s.jsx(Qe,{children:"Usage"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:K.map(F=>s.jsxs(Er,{children:[s.jsx(Ke,{className:"font-medium",children:F.code}),s.jsxs(Ke,{children:[F.discount_type==="percentage"?`${F.discount_value}%`:`${F.discount_value}`,F.max_discount&&F.discount_type==="percentage"&&s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(max ",F.max_discount,")"]})]}),s.jsx(Ke,{children:s.jsx(_t,{className:q(F.status),children:F.status})}),s.jsx(Ke,{className:"text-sm",children:new Date(F.expiry_date).toLocaleDateString()}),s.jsx(Ke,{className:"text-sm",children:F.usage_limit_total?`0/${F.usage_limit_total}`:"Unlimited"}),s.jsx(Ke,{className:"text-right",children:s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"icon",children:s.jsx(Y0e,{className:"w-4 h-4"})})}),s.jsxs(Ec,{align:"end",children:[s.jsxs(_n,{onClick:()=>{k(F),C(!0)},children:[s.jsx(ou,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs(_n,{onClick:()=>L(F),children:[s.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),s.jsxs(_n,{onClick:()=>W(F),children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),F.status==="active"?"Disable":"Enable"]}),s.jsxs(_n,{onClick:()=>I(F.id),className:"text-destructive",children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},F.id))})]})}),U>1&&s.jsx("div",{className:"mt-6",children:s.jsx(rk,{children:s.jsxs(nk,{children:[g>1&&s.jsx(eu,{children:s.jsx(sk,{onClick:()=>v(g-1)})}),Array.from({length:U},(F,B)=>B+1).map(F=>s.jsx(eu,{children:s.jsx(yx,{onClick:()=>v(F),isActive:g===F,children:F})},F)),g<U&&s.jsx(eu,{children:s.jsx(ak,{onClick:()=>v(g+1)})})]})})})]})})]})]}),s.jsx(Gst,{open:j,onClose:()=>{C(!1),k(null)},onSave:D,storeId:i,couponToEdit:S})]})},Xfe=()=>new Promise(e=>{if(window.Razorpay){e(!0);return}const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!1,t.onload=()=>e(!0),t.onerror=()=>e(!1),document.head.appendChild(t)}),Kst=async(e,t,r)=>{try{const{data:n,error:a}=await Y.functions.invoke("create-razorpay-order",{body:{amount:Math.round(e*100),currency:t,storeId:r}});if(a)throw a;return!n.orderId||!n.orderId.startsWith("order_")?(console.error("Invalid Razorpay order ID:",n.orderId),{orderId:"",error:"Invalid order ID format"}):(console.log(" Razorpay order created:",n.orderId),{orderId:n.orderId})}catch(n){return console.error("Error creating Razorpay order:",n),{orderId:"",error:n.message||"Failed to create order"}}},Yst=async(e,t,r)=>{try{if(!await Xfe())return{success:!1,error:"Failed to load Razorpay SDK"};if(!e.orderId||!e.orderId.startsWith("order_"))return console.error("CRITICAL ERROR: Invalid Razorpay Order ID format:",e.orderId),{success:!1,error:"Invalid Order ID. Please try again."};console.log(" Opening Razorpay with order_id:",e.orderId);const a={key:t.key_id,amount:Math.round(e.amount*100),currency:e.currency,name:"Your Store Name",description:`Order #${e.orderNumber}`,order_id:String(e.orderId),prefill:{name:e.customerName,email:e.customerEmail||"",contact:e.customerPhone},theme:{color:"#3b82f6"},handler:function(o){console.log(" Razorpay handler response:",o),console.log("razorpay_payment_id:",o.razorpay_payment_id),console.log("razorpay_order_id:",o.razorpay_order_id),console.log("razorpay_signature:",o.razorpay_signature),r.onSuccess(o)},modal:{ondismiss:function(){r.onDismiss&&r.onDismiss()}}},i=new window.Razorpay(a);return i.on("payment.failed",function(o){r.onFailure({code:o.error.code,description:o.error.description,reason:o.error.reason})}),i.open(),{success:!0}}catch(n){return console.error("Razorpay checkout error:",n),{success:!1,error:n.message||"Payment failed"}}},Xst=async(e,t,r,n)=>{try{const{data:a,error:i}=await Y.functions.invoke("verify-razorpay-payment",{body:{razorpay_order_id:e,razorpay_payment_id:t,razorpay_signature:r,storeId:n}});if(i)throw i;return{verified:a.verified}}catch(a){return console.error("Error verifying Razorpay payment:",a),{verified:!1,error:a.message}}},Jfe=e=>{if(e.is_free)return[];const t=[],r=e.pricing_model||"onetime";return(r==="onetime"||r==="mixed")&&t.push({type:"onetime",price:e.price_onetime||e.price,quota:e.quota_onetime||15,label:"One-time Purchase",description:`${e.quota_onetime||15} API calls per month, lifetime access`}),(r==="monthly"||r==="mixed")&&t.push({type:"monthly",price:e.price_monthly||0,quota:e.quota_monthly||30,label:"Monthly Subscription",description:`${e.quota_monthly||30} API calls per month, auto-renew`}),(r==="yearly"||r==="mixed")&&t.push({type:"yearly",price:e.price_yearly||0,quota:e.quota_yearly||50,label:"Yearly Subscription",description:`${e.quota_yearly||50} API calls per month, billed annually`}),t},Zfe=async(e,t)=>{try{const{data:r,error:n}=await Y.from("marketplace_purchases").select("*").eq("store_id",e).eq("feature_slug",t).eq("status","active").maybeSingle();if(n)throw n;return{purchased:!!r,purchase:r}}catch(r){return console.error("Error checking existing purchase:",r),{purchased:!1}}},Jst=async(e,t,r,n,a)=>{try{const o=Jfe(e).find(f=>f.type===t);if(!o)return{success:!1,error:"Invalid pricing option"};const{purchased:l}=await Zfe(r,e.slug);if(l)return{success:!1,error:"Feature already purchased"};if(!await Xfe())return{success:!1,error:"Failed to load payment gateway"};console.log(" Calling marketplace-payment edge function with:",{action:"create_order",feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n});const{data:u,error:d}=await Y.functions.invoke("marketplace-payment",{body:{action:"create_order",feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n}});return console.log(" Edge function response:",{orderData:u,orderError:d}),d||!u?.success?(console.error(" Edge function error:",d),console.error(" Order data:",u),{success:!1,error:u?.error||d?.message||"Failed to create payment order"}):new Promise(f=>{const m={key:u.key_id,amount:u.amount,currency:u.currency,name:"Marketplace",description:`${e.name} - ${o.label}`,order_id:u.order_id,prefill:{name:a.name,email:a.email,contact:a.phone},theme:{color:"#3B82F6"},handler:async function(y){try{const{data:g,error:v}=await Y.functions.invoke("marketplace-payment",{body:{action:"verify_payment",razorpay_order_id:y.razorpay_order_id,razorpay_payment_id:y.razorpay_payment_id,razorpay_signature:y.razorpay_signature,feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n}});if(v||!g?.success){f({success:!1,error:g?.error||v?.message||"Payment verification failed"});return}f({success:!0,purchase:g.purchase})}catch(g){f({success:!1,error:g.message||"Payment processing failed"})}},modal:{ondismiss:function(){f({success:!1,error:"Payment cancelled by user"})}}},p=new window.Razorpay(m);p.on("payment.failed",function(y){f({success:!1,error:y.error.description||"Payment failed"})}),p.open()})}catch(i){return console.error("Purchase error:",i),{success:!1,error:i.message||"Failed to process purchase"}}},Zst=async(e,t,r)=>{try{const n=[...r,t],{error:a}=await Y.from("stores").update({enabled_features:n}).eq("id",e);if(a)throw a;return{success:!0}}catch(n){return console.error("Error enabling free feature:",n),{success:!1,error:n.message||"Failed to enable feature"}}},Qst=({open:e,onOpenChange:t,feature:r,storeId:n,userId:a,customerDetails:i,onSuccess:o})=>{const{toast:l}=En(),[c,u]=b.useState(null),[d,f]=b.useState(!1),m=Jfe(r),p=async()=>{if(!c){l({title:"Select a plan",description:"Please select a pricing option to continue",variant:"destructive"});return}f(!0);try{const v=await Jst(r,c,n,a,i);v.success?(l({title:"Purchase Successful!",description:`${r.name} has been added to your account`}),o(),t(!1)):l({title:"Purchase Failed",description:v.error||"Unable to complete purchase",variant:"destructive"})}catch(v){l({title:"Error",description:v.message||"An unexpected error occurred",variant:"destructive"})}finally{f(!1)}},y=v=>{switch(v){case"onetime":return s.jsx(OM,{className:"h-5 w-5"});case"monthly":return s.jsx(Vl,{className:"h-5 w-5"});case"yearly":return s.jsx(Un,{className:"h-5 w-5"})}},g=v=>v==="yearly"?s.jsx(_t,{variant:"secondary",className:"ml-2 bg-green-100 text-green-700",children:"Best Value"}):v==="onetime"?s.jsx(_t,{variant:"secondary",className:"ml-2",children:"Lifetime"}):null;return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"sm:max-w-[600px]",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"text-2xl",children:["Purchase ",r.name]}),s.jsx(Zn,{className:"text-base",children:r.description})]}),s.jsx("div",{className:"space-y-4 py-4",children:m.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No pricing options available"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3",children:m.map(v=>s.jsx(Ce,{className:`cursor-pointer transition-all ${c===v.type?"border-primary border-2 shadow-md":"border hover:border-primary/50"}`,onClick:()=>u(v.type),children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:`p-2 rounded-lg ${c===v.type?"bg-primary text-primary-foreground":"bg-muted"}`,children:y(v.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-base",children:v.label}),g(v.type)]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsxs("span",{className:"text-2xl font-bold",children:["",v.price]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:v.type==="onetime"?"one-time":v.type==="monthly"?"/month":"/year"})]})]})]}),s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${c===v.type?"border-primary bg-primary":"border-muted-foreground"}`,children:c===v.type&&s.jsx(rn,{className:"h-3 w-3 text-primary-foreground"})})]})})},v.type))}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"What's included:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("span",{children:["Full access to ",r.name]})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Priority support"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Regular updates and improvements"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Secure payment via Razorpay"})]})]})]})]})}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[s.jsx(ae,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancel"}),s.jsx(ae,{onClick:p,disabled:!c||d,className:"min-w-[120px]",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]})]})})},eat=e=>({Truck:xc,BarChart3:ux,MessageSquare:w2,Mail:_c,Target:_2,Package:Wn})[e]||Wn,Ej=e=>({shipping:"/admin/shipping",analytics:"/admin/analytics","live-chat":"/admin/live-chat","email-marketing":"/admin/email-marketing",ads:"/admin/ads"})[e]||`/admin/${e}`,MJ=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState(null),[a,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null),[d,f]=b.useState(null),[m,p]=b.useState([]),[y,g]=b.useState(""),[v,_]=b.useState("all"),[w,j]=b.useState(!1),[C,S]=b.useState(null),[k,E]=b.useState(null),[R,P]=b.useState({name:"",email:"",phone:""});b.useEffect(()=>{T(),O()},[]);const T=async()=>{try{const{data:{session:K}}=await Y.auth.getSession();if(!K)return;E(K.user.id);const{data:U,error:F}=await Y.from("stores").select("id, enabled_features").eq("user_id",K.user.id).single();if(F)throw F;U&&(n({id:U.id,enabled_features:U.enabled_features||[]}),p(U.enabled_features||[]));const{data:B}=await Y.from("profiles").select("full_name, email, phone").eq("user_id",K.user.id).maybeSingle();P(B?{name:B.full_name||K.user.email||"",email:B.email||K.user.email||"",phone:B.phone||""}:{name:K.user.email||"",email:K.user.email||"",phone:""})}catch(K){console.error("Failed to fetch store data:",K)}},O=async()=>{try{const{data:K,error:U}=await Y.from("marketplace_features").select("*").eq("is_active",!0).order("menu_order");if(U)throw U;i(K||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{l(!1)}},D=K=>m.includes(K),I=b.useMemo(()=>a.filter(K=>{const U=y===""||K.name.toLowerCase().includes(y.toLowerCase())||K.description?.toLowerCase().includes(y.toLowerCase());let F=!0;switch(v){case"free":F=K.is_free;break;case"paid":F=!K.is_free;break;case"added":F=m.includes(K.slug);break;default:F=!0}return U&&F}),[a,y,v,m]),L=[{value:"all",label:"All"},{value:"free",label:"Free"},{value:"paid",label:"Paid"},{value:"added",label:"Added"}],W=async K=>{if(m.includes(K.slug)){e(Ej(K.slug));return}if(!r){t({title:"Error",description:"Store data not found",variant:"destructive"});return}u(K.slug);try{if(K.is_free){const F=await Zst(r.id,K.slug,m);if(F.success){const B=[...m,K.slug];p(B),n({...r,enabled_features:B}),t({title:"Feature Added",description:`${K.name} has been added to your store`}),e(Ej(K.slug))}else throw new Error(F.error)}else{const{purchased:F}=await Zfe(r.id,K.slug);if(F){const B=[...m,K.slug],{error:V}=await Y.from("stores").update({enabled_features:B}).eq("id",r.id);if(V)throw V;p(B),n({...r,enabled_features:B}),t({title:"Feature Enabled",description:`${K.name} has been enabled`}),e(Ej(K.slug))}else S(K),j(!0)}}catch(F){console.error("Failed to add feature:",F),t({title:"Error",description:F.message||"Failed to add feature. Please try again.",variant:"destructive"})}finally{u(null)}},q=async(K,U)=>{if(U.stopPropagation(),!r){t({title:"Error",description:"Store data not found",variant:"destructive"});return}f(K.slug);try{const F=m.filter(V=>V!==K.slug),{error:B}=await Y.from("stores").update({enabled_features:F}).eq("id",r.id);if(B)throw B;p(F),n({...r,enabled_features:F}),t({title:"Feature Removed",description:`${K.name} has been removed from your store`})}catch(F){console.error("Failed to remove feature:",F),t({title:"Error",description:"Failed to remove feature. Please try again.",variant:"destructive"})}finally{f(null)}},G=async()=>{if(!(!C||!r))try{const K=[...m,C.slug],{error:U}=await Y.from("stores").update({enabled_features:K}).eq("id",r.id);if(U)throw U;p(K),n({...r,enabled_features:K}),e(Ej(C.slug))}catch(K){console.error("Failed to enable feature after payment:",K),t({title:"Warning",description:"Payment successful but failed to enable feature. Please contact support.",variant:"destructive"})}};return o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Marketplace"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover and add features to enhance your store"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(tl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Fe,{placeholder:"Search features...",value:y,onChange:K=>g(K.target.value),className:"pl-9"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:L.map(K=>s.jsx(ae,{variant:v===K.value?"default":"outline",size:"sm",onClick:()=>_(K.value),children:K.label},K.value))})]}),I.length===0?s.jsx(Ce,{children:s.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Wn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:y||v!=="all"?"No matching features":"No features available"}),s.jsx("p",{className:"text-muted-foreground",children:y||v!=="all"?"Try adjusting your search or filter":"Check back later for new features"}),(y||v!=="all")&&s.jsx(ae,{variant:"outline",className:"mt-4",onClick:()=>{g(""),_("all")},children:"Clear filters"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(K=>{const U=eat(K.icon),F=D(K.slug);return s.jsxs(Ce,{className:`transition-all duration-200 hover:shadow-lg ${F?"border-primary/50":""}`,children:[s.jsx(Xe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:`p-3 rounded-xl ${F?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(U,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[F&&s.jsxs(_t,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),"Added"]}),K.is_free?s.jsx(_t,{variant:"secondary",children:"Free"}):s.jsxs(_t,{children:["",K.price]})]})]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Je,{className:"text-lg mb-1",children:K.name}),s.jsx(Pr,{className:"line-clamp-2",children:K.description})]}),F?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{className:"flex-1",onClick:()=>W(K),variant:"outline",children:["Configure",s.jsx(ua,{className:"h-4 w-4 ml-2"})]}),s.jsx(ae,{variant:"destructive",size:"icon",onClick:B=>q(K,B),disabled:d===K.slug,children:d===K.slug?s.jsx(Ut,{className:"h-4 w-4 animate-spin"}):s.jsx(Rn,{className:"h-4 w-4"})})]}):s.jsx(ae,{onClick:()=>W(K),className:"w-full",disabled:c===K.slug,children:c===K.slug?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(oi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})})]})]},K.id)})}),s.jsx(Ce,{className:"bg-muted/50",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Wn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"How Marketplace Works"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Add Feature" to add it to your store. Free features are added instantly. Paid features require payment before activation.'})]})]})})}),C&&r&&k&&s.jsx(Qst,{open:w,onOpenChange:j,feature:C,storeId:r.id,userId:k,customerDetails:R,onSuccess:G})]})},FJ=()=>{const{toast:e}=En(),[t,r]=b.useState(!0),[n,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,m]=b.useState([]),[p,y]=b.useState(null),[g,v]=b.useState(!1),[_,w]=b.useState(!1),[j,C]=b.useState({email:"",password:""}),[S,k]=b.useState({length:10,breadth:10,height:10,weight:.5});b.useEffect(()=>{E()},[]);const E=async()=>{try{const{data:{session:I}}=await Y.auth.getSession();if(!I)return;const{data:L}=await Y.from("stores").select("id, shiprocket_email, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",I.user.id).single();if(L){if(y(L.id),v(L.shipping_popup_enabled||!1),L.shiprocket_email&&C(W=>({...W,email:L.shiprocket_email})),L.shiprocket_token){c(!0);const W=await Qj(L.shiprocket_token);W.success&&W.locations&&m(W.locations)}L.package_length&&k(W=>({...W,length:L.package_length})),L.package_breadth&&k(W=>({...W,breadth:L.package_breadth})),L.package_height&&k(W=>({...W,height:L.package_height})),L.package_weight&&k(W=>({...W,weight:L.package_weight}))}}catch(I){console.error("Error loading shipping settings:",I)}finally{r(!1)}},R=async()=>{if(!j.email||!j.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}o(!0);try{const I=await oz(j.email,j.password);if(I.success&&I.token){e({title:"Connection Successful",description:"Shiprocket credentials are valid"});const L=await Qj(I.token);L.success&&L.locations&&m(L.locations)}else e({title:"Connection Failed",description:I.error||"Invalid credentials",variant:"destructive"})}catch(I){e({title:"Error",description:I.message||"Failed to test connection",variant:"destructive"})}finally{o(!1)}},P=async()=>{if(!j.email||!j.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}a(!0);try{const I=await oz(j.email,j.password);if(I.success&&I.token){const{error:L}=await Y.from("stores").update({shiprocket_email:j.email,shiprocket_token:I.token}).eq("id",p);if(L)throw L;c(!0);const W=await Qj(I.token);W.success&&W.locations&&m(W.locations),e({title:"Connected",description:"Shiprocket has been connected to your store"})}else e({title:"Connection Failed",description:I.error||"Invalid credentials",variant:"destructive"})}catch(I){e({title:"Error",description:I.message||"Failed to connect to Shiprocket",variant:"destructive"})}finally{a(!1)}},T=async()=>{try{const{error:I}=await Y.from("stores").update({shiprocket_email:null,shiprocket_token:null}).eq("id",p);if(I)throw I;c(!1),C({email:"",password:""}),m([]),e({title:"Disconnected",description:"Shiprocket has been disconnected from your store"})}catch(I){e({title:"Error",description:I.message||"Failed to disconnect",variant:"destructive"})}},O=async I=>{w(!0);try{const{error:L}=await Y.from("stores").update({shipping_popup_enabled:I}).eq("id",p);if(L)throw L;v(I),e({title:I?"Shipping Enabled":"Shipping Disabled",description:I?"Shipping popup will appear in Orders":"Orders will be marked as delivered directly"})}catch(L){e({title:"Error",description:L.message||"Failed to update setting",variant:"destructive"})}finally{w(!1)}},D=async()=>{a(!0);try{const{error:I}=await Y.from("stores").update({package_length:S.length,package_breadth:S.breadth,package_height:S.height,package_weight:S.weight}).eq("id",p);if(I)throw I;e({title:"Saved",description:"Package defaults have been saved"})}catch(I){e({title:"Error",description:I.message||"Failed to save package defaults",variant:"destructive"})}finally{a(!1)}};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(xc,{className:"h-6 w-6"}),"Shipping"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect Shiprocket to manage shipping for your orders"})]}),l&&s.jsxs(_t,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${g?"bg-green-100 dark:bg-green-900":"bg-muted"}`,children:s.jsx(BZ,{className:`h-6 w-6 ${g?"text-green-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Shipping Feature"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g?"Enabled - Shipping popup will appear in Orders":"Disabled - Orders will be marked as delivered directly"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${g?"text-green-600":"text-muted-foreground"}`,children:g?"Enabled":"Disabled"}),s.jsx(Gr,{checked:g,onCheckedChange:O,disabled:_})]})]})})}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[l?s.jsx(an,{className:"h-5 w-5 text-green-600"}):s.jsx(xc,{className:"h-5 w-5"}),l?"Shiprocket Connected":"Connect to Shiprocket"]}),s.jsx(Pr,{children:l?"Your store is connected to Shiprocket. You can now create shipments for your orders.":"Enter your Shiprocket API credentials to connect your account"})]}),s.jsxs(Ee,{className:"space-y-4",children:[!l&&s.jsxs(Yr,{children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsxs(Xr,{children:["Don't have a Shiprocket account?"," ",s.jsx("a",{href:"https://www.shiprocket.in/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Sign up here"}),". Then go to Settings  API  Configure to create API credentials."]})]}),l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ce,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wn,{className:"h-8 w-8 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pickup Locations"})]})})}),s.jsx(Ce,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xc,{className:"h-8 w-8 mx-auto text-blue-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Ready"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Status"})]})})}),s.jsx(Ce,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(an,{className:"h-8 w-8 mx-auto text-green-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Active"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection"})]})})})]}),f.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Pickup Locations"}),s.jsx("div",{className:"space-y-2",children:f.map(I=>s.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium",children:I.pickup_location}),s.jsxs("p",{className:"text-muted-foreground",children:[I.address,", ",I.city,", ",I.state," - ",I.pin_code]})]},I.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>window.open("https://app.shiprocket.in/","_blank"),children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"Open Shiprocket Dashboard"]}),s.jsx(ae,{variant:"destructive",onClick:T,children:"Disconnect"})]})]}):s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"email",children:"Shiprocket API Email"}),s.jsx(Fe,{id:"email",type:"email",placeholder:"your-api-user@email.com",value:j.email,onChange:I=>C({...j,email:I.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the API user email from Settings  API  Configure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"password",children:"Shiprocket API Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fe,{id:"password",type:u?"text":"password",placeholder:"",value:j.password,onChange:I=>C({...j,password:I.target.value})}),s.jsx(ae,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>d(!u),children:u?s.jsx(Fh,{className:"h-4 w-4"}):s.jsx(Es,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check your email for the API password from Shiprocket"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:R,disabled:i,children:[i&&s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),"Test Connection"]}),s.jsxs(ae,{onClick:P,disabled:n,children:[n&&s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),"Connect Shiprocket"]})]})]})]})]}),l&&s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Default Package Dimensions"}),s.jsx(Pr,{children:"Set default package dimensions for your shipments (can be changed per order)"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"length",children:"Length (cm)"}),s.jsx(Fe,{id:"length",type:"number",value:S.length,onChange:I=>k({...S,length:parseFloat(I.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"breadth",children:"Breadth (cm)"}),s.jsx(Fe,{id:"breadth",type:"number",value:S.breadth,onChange:I=>k({...S,breadth:parseFloat(I.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"height",children:"Height (cm)"}),s.jsx(Fe,{id:"height",type:"number",value:S.height,onChange:I=>k({...S,height:parseFloat(I.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"weight",children:"Weight (kg)"}),s.jsx(Fe,{id:"weight",type:"number",step:"0.1",value:S.weight,onChange:I=>k({...S,weight:parseFloat(I.target.value)||0})})]})]}),s.jsxs(ae,{onClick:D,disabled:n,children:[n&&s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Defaults"]})]})]}),s.jsx(Ce,{className:"bg-muted/50",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Na,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you can do with Shipping"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Create shipments directly from your orders"}),s.jsx("li",{children:" Get real-time tracking updates"}),s.jsx("li",{children:" Compare shipping rates from multiple couriers"}),s.jsx("li",{children:" Print shipping labels with one click"}),s.jsx("li",{children:" Automatic order status updates"})]})]})]})})})]})},LJ=()=>{const{toast:e}=En(),[t,r]=b.useState(!0),[n,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[f,m]=b.useState(!1),[p,y]=b.useState(""),[g,v]=b.useState(""),[_,w]=b.useState("carousel"),[j,C]=b.useState(null),[S,k]=b.useState({}),[E,R]=b.useState(null);b.useEffect(()=>{P()},[]);const P=async()=>{try{const{data:{session:U}}=await Y.auth.getSession();if(!U)return;const{data:F}=await Y.from("stores").select("id, google_place_id, google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("user_id",U.user.id).single();if(F){d(F.id),m(F.google_reviews_enabled||!1),y(F.google_place_id||""),v(F.google_maps_url||""),w(F.google_reviews_display_type||"carousel");const{data:B}=await Y.from("marketplace_purchases").select("*").eq("store_id",F.id).eq("feature_slug","google-reviews").eq("status","active").single();if(B){const V=B.quota_limit||15,Z=B.calls_used||0;R({used:Z,limit:V,remaining:V-Z,period:"monthly"}),F.google_place_id&&T(F.id)}else e({title:"Google Reviews Not Purchased",description:"Please purchase Google Reviews from the Marketplace to use this feature.",variant:"destructive"})}}catch(U){console.error("Error loading settings:",U)}finally{r(!1)}},T=async U=>{try{const{data:F,error:B}=await Y.from("google_reviews_cache").select("*").eq("store_id",U).single();F&&!B&&C(F)}catch(F){console.error("Error loading cached reviews:",F)}},O=async U=>{o(!0);try{const{error:F}=await Y.from("stores").update({google_reviews_enabled:U}).eq("id",u);if(F)throw F;m(U),e({title:U?"Google Reviews Enabled":"Google Reviews Disabled",description:U?"Reviews will display on your store":"Reviews are hidden from your store"})}catch(F){e({title:"Error",description:F.message||"Failed to update setting",variant:"destructive"})}finally{o(!1)}},D=async()=>{if(!p.trim()){e({title:"Error",description:"Please enter a Google Place ID",variant:"destructive"});return}a(!0);try{const{error:U}=await Y.from("stores").update({google_place_id:p.trim()}).eq("id",u);if(U)throw U;const{data:F,error:B}=await Y.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:p.trim()}});if(B)throw B;if(F.success)C(F.data),F.quota&&R(F.quota),e({title:"Success",description:`Reviews fetched successfully. ${F.quota?.remaining||0} calls remaining this ${F.quota?.period||"period"}.`});else throw new Error(F.error||"Failed to fetch reviews")}catch(U){e({title:"Error",description:U.message||"Failed to fetch reviews",variant:"destructive"})}finally{a(!1)}},I=async()=>{if(!p){e({title:"Error",description:"Please save a Place ID first",variant:"destructive"});return}a(!0);try{const{data:U,error:F}=await Y.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:p}});if(F)throw F;if(U.success)C(U.data),U.quota&&R(U.quota),e({title:"Success",description:`Reviews refreshed successfully. ${U.quota?.remaining||0} calls remaining this ${U.quota?.period||"period"}.`});else throw new Error(U.error||"Failed to refresh reviews")}catch(U){e({title:"Error",description:U.message||"Failed to refresh reviews",variant:"destructive"})}finally{a(!1)}},L=async U=>{c(!0);try{const{error:F}=await Y.from("stores").update({google_reviews_display_type:U}).eq("id",u);if(F)throw F;w(U),e({title:"Success",description:`Display type changed to ${{carousel:"Carousel (Auto-scroll)",column:"Column (Side-by-side)","google-widget":"Google Widget (All Reviews)"}[U]}`})}catch(F){e({title:"Error",description:F.message||"Failed to save display type",variant:"destructive"})}finally{c(!1)}},W=async()=>{if(console.log("Saving Google Maps URL:",g),console.log("Store ID:",u),!g.trim()){e({title:"Error",description:"Please enter a Google Maps URL",variant:"destructive"});return}if(!u){e({title:"Error",description:"Store ID not found. Please refresh the page.",variant:"destructive"});return}c(!0);try{const{error:U,data:F}=await Y.from("stores").update({google_maps_url:g.trim()}).eq("id",u).select();if(console.log("Update result:",{error:U,data:F}),U)throw U;e({title:"Success ",description:"Google Maps URL saved successfully! Your store will now show reviews."})}catch(U){console.error("Save error:",U),e({title:"Error",description:U.message||"Failed to save URL",variant:"destructive"})}finally{c(!1)}},q=U=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(F=>s.jsx(Xi,{className:`h-4 w-4 ${F<=U?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},F))}),G=U=>{const F=U.trim().split(" ");return F.length===1?F[0].substring(0,2).toUpperCase():(F[0][0]+F[F.length-1][0]).toUpperCase()},K=U=>{const F=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],B=U.split("").reduce((V,Z)=>V+Z.charCodeAt(0),0);return F[B%F.length]};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Xi,{className:"h-6 w-6"}),"Google Reviews"]}),s.jsx("p",{className:"text-muted-foreground",children:"Display Google reviews on your store to build trust"})]}),j&&s.jsxs(_t,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),j.total_reviews," Reviews"]})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${f?"bg-yellow-100 dark:bg-yellow-900":"bg-muted"}`,children:s.jsx(BZ,{className:`h-6 w-6 ${f?"text-yellow-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Google Reviews Display"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Reviews are visible on your store":"Reviews are hidden from your store"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${f?"text-green-600":"text-muted-foreground"}`,children:f?"Enabled":"Disabled"}),s.jsx(Gr,{checked:f,onCheckedChange:O,disabled:i})]})]})})}),f&&s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Display Type"}),s.jsx(Pr,{children:"Choose how reviews are displayed on your store"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{htmlFor:"display-type",children:"Review Display Style"}),s.jsxs(ar,{value:_,onValueChange:U=>L(U),children:[s.jsx(rr,{id:"display-type",disabled:l,children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"carousel",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Carousel (Auto-scroll)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Smooth left-sliding auto-scroll with 5 reviews"})]})}),s.jsx(Ue,{value:"column",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Column (Side-by-side)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Grid layout with 5 reviews max"})]})}),s.jsx(Ue,{value:"google-widget",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Google Widget (All Reviews)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Links to all reviews on Google Maps"})]})})]})]})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:_==="carousel"?" Carousel Mode":_==="column"?" Column Mode":" Google Widget"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_==="carousel"?"Reviews will smoothly auto-scroll left, displaying 5 cards at a time. Mobile visitors can swipe to see more reviews.":_==="column"?"Reviews will be displayed in a responsive grid layout. Desktop shows 3 columns, tablet shows 2 columns, mobile shows 1 column.":"Displays a button linking to your Google Business Profile showing all reviews. Shows complete review count and authentic ratings."})]}),_==="google-widget"&&s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[s.jsxs(Yr,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[s.jsx(Si,{className:"h-4 w-4 text-green-600"}),s.jsxs(Xr,{className:"text-green-800 dark:text-green-200",children:[s.jsx("strong",{children:"Google Widget Mode:"})," No Place ID or API needed! Just paste your Google Maps link below. Your store will display reviews from the cache (if available) or show a link to Google."]})]}),s.jsx(ke,{htmlFor:"google_maps_url",children:"Google Maps URL"}),s.jsx(Fe,{id:"google_maps_url",type:"url",placeholder:"https://maps.app.goo.gl/xxxxx or full Google Maps URL",value:g,onChange:U=>v(U.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the Google Maps link from your business profile (e.g., https://maps.app.goo.gl/1FiEnfPeVMheDDdz5)"}),s.jsxs(ae,{onClick:W,disabled:l,className:"w-full md:w-auto",children:[l&&s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),l?"Saving...":"Save Google Maps URL"]})]})]})]}),E&&s.jsx(Ce,{children:s.jsxs(Ee,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${E.remaining>0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:s.jsx(Wa,{className:`h-6 w-6 ${E.remaining>0?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"API Calls Quota"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.used," of ",E.limit," calls used this ",E.period==="monthly"?"month":"year"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[E.remaining,"/",E.limit]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Remaining"})]})]}),E.remaining===0&&s.jsxs(Yr,{className:"mt-4 border-red-200 bg-red-50 dark:bg-red-900/20",children:[s.jsx(Si,{className:"h-4 w-4 text-red-600"}),s.jsxs(Xr,{className:"text-red-600",children:["You've reached your API call limit. Upgrade your plan or wait for the next ",E.period==="monthly"?"month":"year"," to refresh reviews."]})]})]})}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{children:["Google Place ID ",_==="google-widget"&&s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"(Optional for Widget mode)"})]}),s.jsx(Pr,{children:_==="google-widget"?"Optional: Fetch reviews to display them on your store. Or skip this and just use the Google Maps URL below.":"Enter your Google Place ID to fetch reviews from Google"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs(Yr,{children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsxs(Xr,{children:[s.jsx("strong",{children:"How to find your Place ID:"}),s.jsx("div",{className:"mt-3 space-y-3",children:s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Google Place ID Finder (Easiest Method)"}),s.jsxs("p",{className:"text-xs mb-2",children:[s.jsx("strong",{children:"Official Google Tool:"})," ",s.jsx("a",{href:"https://developers.google.com/maps/documentation/javascript/examples/places-placeid-finder",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"Place ID Finder (CLICK HERE)"})]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"Open the link above"}),s.jsx("li",{children:"Type your business name in the search box"}),s.jsx("li",{children:"Click on your business marker on the map"}),s.jsx("li",{children:'The Place ID appears in the info box (starts with "ChIJ...")'}),s.jsx("li",{children:"Copy it!"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx("strong",{children:"Example:"})," ChIJN1t_tDeuEmsRUsoyG83frY4"]})]})})]})]}),s.jsxs(Yr,{className:"border-amber-200 bg-amber-50 dark:bg-amber-900/20",children:[s.jsx(Si,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Xr,{className:"text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Google API Limitation:"}),' Google Places API returns a maximum of 5 reviews, sorted by relevance (not date). New reviews may take time to appear as Google rotates which reviews it considers "most helpful". This is a Google limitation, not our system.']})]}),s.jsxs("div",{className:"space-y-2 max-w-md",children:[s.jsx(ke,{htmlFor:"place_id",children:"Google Place ID"}),s.jsx(Fe,{id:"place_id",type:"text",placeholder:"ChIJN1t_tDeuEmsRUsoyG83frY4",value:p,onChange:U=>y(U.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: ChIJN1t_tDeuEmsRUsoyG83frY4"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{onClick:D,disabled:n||E?.remaining===0,children:[n&&s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),j?"Update Place ID":"Save & Fetch Reviews"]}),j&&s.jsxs(ae,{variant:"outline",onClick:I,disabled:n||E?.remaining===0,children:[s.jsx(Wa,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh Reviews"]})]}),E?.remaining===0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["API quota exceeded. Cannot fetch reviews until next ",E.period==="monthly"?"month":"year","."]})]})]}),j&&s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsxs(Je,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Reviews Preview"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-normal text-muted-foreground",children:["Last updated: ",new Date(j.last_fetched).toLocaleDateString()]})]}),s.jsxs(Pr,{children:["Showing ",j.reviews?.length||0," of ",j.total_reviews," total reviews"]})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:j.average_rating}),q(j.average_rating)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Based on ",j.total_reviews," Google reviews"]})]}),s.jsx("div",{className:"space-y-3",children:j.reviews?.slice(0,5).map((U,F)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[U.profile_photo_url&&!S[F]?s.jsx("img",{src:U.profile_photo_url,alt:U.author_name,className:"h-10 w-10 rounded-full object-cover border-2 border-white shadow-md",onError:()=>k(B=>({...B,[F]:!0})),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 rounded-full bg-gradient-to-br ${K(U.author_name)} flex items-center justify-center border-2 border-white shadow-md`,children:s.jsx("span",{className:"text-white font-bold text-xs",children:G(U.author_name)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:U.author_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:U.relative_time_description})]}),q(U.rating)]})]}),U.text&&s.jsx("p",{className:"text-sm text-muted-foreground",children:U.text})]},F))}),j.reviews?.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+ ",j.reviews.length-5," more reviews"]})]})]}),s.jsx(Ce,{className:"bg-muted/50",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:s.jsx(Xi,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you get with Google Reviews"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Display authentic Google reviews on your store"}),s.jsx("li",{children:" Build trust and credibility with customers"}),s.jsx("li",{children:" Automatic daily review updates (cached for cost savings)"}),s.jsx("li",{children:" Multiple display widgets (carousel, grid, badge, list)"}),s.jsx("li",{children:" Professional Google-branded design"}),s.jsx("li",{children:" Mobile-responsive layouts"})]})]})]})})})]})};function tat(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var WL="ScrollArea",[Qfe]=Is(WL),[rat,Gl]=Qfe(WL),ehe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=b.useState(null),[u,d]=b.useState(null),[f,m]=b.useState(null),[p,y]=b.useState(null),[g,v]=b.useState(null),[_,w]=b.useState(0),[j,C]=b.useState(0),[S,k]=b.useState(!1),[E,R]=b.useState(!1),P=tr(t,O=>c(O)),T=nh(a);return s.jsx(rat,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:w,onCornerHeightChange:C,children:s.jsx(At.div,{dir:T,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});ehe.displayName=WL;var the="ScrollAreaViewport",rhe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Gl(the,r),l=b.useRef(null),c=tr(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(At.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});rhe.displayName=the;var Nu="ScrollAreaScrollbar",HL=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Gl(Nu,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(nat,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(sat,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(nhe,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(GL,{...n,ref:t}):null});HL.displayName=Nu;var nat=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Gl(Nu,e.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(fa,{present:r||i,children:s.jsx(nhe,{"data-state":i?"visible":"hidden",...n,ref:t})})}),sat=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Gl(Nu,e.__scopeScrollArea),i=e.orientation==="horizontal",o=dC(()=>c("SCROLL_END"),100),[l,c]=tat("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),b.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(fa,{present:r||l!=="hidden",children:s.jsx(GL,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:mt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:mt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),nhe=b.forwardRef((e,t)=>{const r=Gl(Nu,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=b.useState(!1),l=e.orientation==="horizontal",c=dC(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return nx(r.viewport,c),nx(r.content,c),s.jsx(fa,{present:n||i,children:s.jsx(GL,{"data-state":i?"visible":"hidden",...a,ref:t})})}),GL=b.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Gl(Nu,e.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=lhe(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return uat(m,o.current,l,p)}return r==="horizontal"?s.jsx(aat,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=$J(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(iat,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=$J(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),aat=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Gl(Nu,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=tr(t,c,i.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ahe,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":uC(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),uhe(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:u2(o.paddingLeft),paddingEnd:u2(o.paddingRight)}})}})}),iat=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Gl(Nu,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=tr(t,c,i.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ahe,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":uC(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),uhe(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:u2(o.paddingTop),paddingEnd:u2(o.paddingBottom)}})}})}),[oat,she]=Qfe(Nu),ahe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=Gl(Nu,r),[y,g]=b.useState(null),v=tr(t,P=>g(P)),_=b.useRef(null),w=b.useRef(""),j=p.viewport,C=n.content-n.viewport,S=Ts(d),k=Ts(c),E=dC(f,10);function R(P){if(_.current){const T=P.clientX-_.current.left,O=P.clientY-_.current.top;u({x:T,y:O})}}return b.useEffect(()=>{const P=T=>{const O=T.target;y?.contains(O)&&S(T,C)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[j,y,C,S]),b.useEffect(k,[n,k]),nx(y,E),nx(p.content,E),s.jsx(oat,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ts(i),onThumbPointerUp:Ts(o),onThumbPositionChange:k,onThumbPointerDown:Ts(l),children:s.jsx(At.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:mt(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),_.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(P))}),onPointerMove:mt(e.onPointerMove,R),onPointerUp:mt(e.onPointerUp,P=>{const T=P.target;T.hasPointerCapture(P.pointerId)&&T.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),c2="ScrollAreaThumb",ihe=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=she(c2,e.__scopeScrollArea);return s.jsx(fa,{present:r||a.hasThumb,children:s.jsx(lat,{ref:t,...n})})}),lat=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Gl(c2,r),o=she(c2,r),{onThumbPositionChange:l}=o,c=tr(t,f=>o.onThumbChange(f)),u=b.useRef(void 0),d=dC(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const p=dat(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),s.jsx(At.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:mt(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:mt(e.onPointerUp,o.onThumbPointerUp)})});ihe.displayName=c2;var KL="ScrollAreaCorner",ohe=b.forwardRef((e,t)=>{const r=Gl(KL,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(cat,{...e,ref:t}):null});ohe.displayName=KL;var cat=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Gl(KL,r),[i,o]=b.useState(0),[l,c]=b.useState(0),u=!!(i&&l);return nx(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),nx(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(At.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function u2(e){return e?parseInt(e,10):0}function lhe(e,t){const r=e/t;return isNaN(r)?0:r}function uC(e){const t=lhe(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function uat(e,t,r,n="ltr"){const a=uC(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return che([c,u],f)(e)}function $J(e,t,r="ltr"){const n=uC(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=bb(e,c);return che([0,o],[0,l])(u)}function che(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function uhe(e,t){return e>0&&e<t}var dat=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function dC(e,t){const r=Ts(e),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function nx(e,t){const r=Ts(t);Ds(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var dhe=ehe,fat=rhe,hat=ohe;const fhe=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dhe,{ref:n,className:ft("relative overflow-hidden",e),...r,children:[s.jsx(fat,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(hhe,{}),s.jsx(hat,{})]}));fhe.displayName=dhe.displayName;const hhe=b.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(HL,{ref:n,orientation:t,className:ft("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(ihe,{className:"relative flex-1 rounded-full bg-border"})}));hhe.displayName=HL.displayName;var fC="Popover",[mhe]=Is(fC,[eh]),y1=eh(),[mat,gh]=mhe(fC),phe=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=y1(t),c=b.useRef(null),[u,d]=b.useState(!1),[f,m]=Pi({prop:n,defaultProp:a??!1,onChange:i,caller:fC});return s.jsx(k2,{...l,children:s.jsx(mat,{scope:t,contentId:xo(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:r})})};phe.displayName=fC;var ghe="PopoverAnchor",pat=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=gh(ghe,r),i=y1(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return b.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Ow,{...i,...n,ref:t})});pat.displayName=ghe;var xhe="PopoverTrigger",vhe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=gh(xhe,r),i=y1(r),o=tr(t,a.triggerRef),l=s.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jhe(a.open),...n,ref:o,onClick:mt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Ow,{asChild:!0,...i,children:l})});vhe.displayName=xhe;var YL="PopoverPortal",[gat,xat]=mhe(YL,{forceMount:void 0}),yhe=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=gh(YL,t);return s.jsx(gat,{scope:t,forceMount:r,children:s.jsx(fa,{present:r||i.open,children:s.jsx(lx,{asChild:!0,container:a,children:n})})})};yhe.displayName=YL;var sx="PopoverContent",bhe=b.forwardRef((e,t)=>{const r=xat(sx,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=gh(sx,e.__scopePopover);return s.jsx(fa,{present:n||i.open,children:i.modal?s.jsx(yat,{...a,ref:t}):s.jsx(bat,{...a,ref:t})})});bhe.displayName=sx;var vat=kf("PopoverContent.RemoveScroll"),yat=b.forwardRef((e,t)=>{const r=gh(sx,e.__scopePopover),n=b.useRef(null),a=tr(t,n),i=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return V2(o)},[]),s.jsx(Lw,{as:vat,allowPinchZoom:!0,children:s.jsx(whe,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:mt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:mt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),bat=b.forwardRef((e,t)=>{const r=gh(sx,e.__scopePopover),n=b.useRef(!1),a=b.useRef(!1);return s.jsx(whe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),whe=b.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=gh(sx,r),p=y1(r);return U2(),s.jsx(Mw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(rp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(C2,{"data-state":jhe(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_he="PopoverClose",wat=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=gh(_he,r);return s.jsx(At.button,{type:"button",...n,ref:t,onClick:mt(e.onClick,()=>a.onOpenChange(!1))})});wat.displayName=_he;var _at="PopoverArrow",jat=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=y1(r);return s.jsx(E2,{...a,...n,ref:t})});jat.displayName=_at;function jhe(e){return e?"open":"closed"}var Nat=phe,Sat=vhe,kat=yhe,Nhe=bhe;const Cat=Nat,Eat=Sat,She=b.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(kat,{children:s.jsx(Nhe,{ref:a,align:t,sideOffset:r,className:ft("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));She.displayName=Nhe.displayName;const Nf=({src:e,alt:t,className:r,fallback:n="/placeholder.svg",...a})=>{const[i,o]=b.useState(n),[l,c]=b.useState(!0),[u,d]=b.useState(!1),f=b.useRef(null),m=yf(e)||e;return b.useEffect(()=>{if(!f.current)return;const p=new IntersectionObserver(y=>{y.forEach(g=>{g.isIntersecting&&(d(!0),p.disconnect())})},{rootMargin:"50px"});return p.observe(f.current),()=>{p.disconnect()}},[]),b.useEffect(()=>{if(!u)return;const p=new Image;p.src=m,p.onload=()=>{o(m),c(!1)},p.onerror=()=>{o(n),c(!1)}},[m,u,n]),s.jsx("img",{ref:f,src:i,alt:t,className:ft("transition-opacity duration-300",l?"opacity-50":"opacity-100",r),loading:"lazy",...a})},Tat=()=>{const{cart:e,cartCount:t,cartTotal:r,removeItem:n}=R2(),[a,i]=b.useState(void 0);b.useEffect(()=>{e.length>0&&e[0].storeId&&(async()=>{const{data:f}=await Y.from("stores").select("slug").eq("id",e[0].storeId).maybeSingle();f&&i(f.slug)})()},[e]);const o=cu(),l=o?"/products":a?`/${a}/products`:"/products",c=o?"/cart":a?`/${a}/cart`:"/cart",u=o?"/checkout":a?`/${a}/checkout`:"/checkout";return s.jsxs(Cat,{children:[s.jsx(Eat,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"icon",className:"relative","data-cart-icon":!0,children:[s.jsx(Af,{className:"w-4 h-4"}),t>0&&s.jsx(_t,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t})]})}),s.jsxs(She,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Shopping Cart"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," items"]})]}),e.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Af,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your cart is empty"}),s.jsx(Tt,{to:l,children:s.jsx(ae,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(fhe,{className:"h-80",children:s.jsx("div",{className:"p-4 space-y-4",children:e.map(d=>s.jsx(Ce,{className:"overflow-hidden",children:s.jsx(Ee,{className:"p-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Nf,{src:d.productImage,alt:d.productName,className:"w-16 h-16 object-cover rounded flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:d.productName}),d.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d.variant}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("span",{className:"text-sm font-semibold text-primary",children:["",d.price,"  ",d.quantity]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(d.productId,d.variant),children:s.jsx(Aa,{className:"w-4 h-4"})})]})]})]})})},`${d.productId}-${d.variant}`))})}),s.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Tt,{to:c,className:"w-full",children:s.jsx(ae,{variant:"outline",className:"w-full min-h-[44px]",children:"View Cart"})}),s.jsx(Tt,{to:u,className:"w-full",children:s.jsx(ae,{className:"w-full min-h-[44px]",children:"Checkout"})})]})]})]})]})]})},khe=async e=>{const t=await d2(e),r=f2(t);return!(!t||t.trim()===""||r==="919876543210"||r==="9876543210"||r.length<10)},d2=async e=>{try{if(e){const{data:n}=await Y.from("stores").select("whatsapp_number").eq("id",e).single();return n?.whatsapp_number||"919876543210"}const{data:{user:t}}=await Y.auth.getUser();if(!t)return"919876543210";const{data:r}=await Y.from("stores").select("whatsapp_number").eq("user_id",t.id).single();return r?.whatsapp_number||"919876543210"}catch(t){return console.error("Error fetching WhatsApp number:",t),"919876543210"}},f2=e=>e.replace(/[^0-9+]/g,""),Che=e=>{const t=new Date().toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"});let r=` *NEW ORDER REQUEST*
`;if(r+=` ${t}

`,r+=` *CUSTOMER DETAILS*
`,r+=`Name: ${e.customerName}
`,r+=`Phone: ${e.phone}
`,e.email&&(r+=`Email: ${e.email}
`),r+=`
 *DELIVERY ADDRESS*
`,r+=`${e.address}
`,e.landmark&&(r+=`Landmark: ${e.landmark}
`),r+=`PIN Code: ${e.pincode}
`,r+=`Preferred Time: ${e.deliveryTime}
`,e.latitude&&e.longitude){const n=`https://www.google.com/maps?q=${e.latitude},${e.longitude}`;r+=` Location: ${n}
`}return r+=`
`,r+=` *ORDER ITEMS*
`,r+=`
`,e.cart.forEach((n,a)=>{r+=`${a+1}. ${n.productName}
`,n.variant&&(r+=`   Variant: ${n.variant}
`),n.sku&&(r+=`   SKU: ${n.sku}
`),r+=`   Qty: ${n.quantity}  ${n.price.toFixed(2)}
`,r+=`   Subtotal: ${(n.quantity*n.price).toFixed(2)}

`}),r+=`
`,r+=` *PAYMENT SUMMARY*
`,r+=`Subtotal: ${e.subtotal.toFixed(2)}
`,r+=`Delivery: ${e.deliveryCharge.toFixed(2)}
`,r+=`*Total Amount: ${e.total.toFixed(2)}*

`,e.paymentMethod==="online"?(r+=` *PAYMENT COMPLETED*
`,r+=` Payment Method: Online Payment (${e.paymentGateway||"Gateway"})
`,e.orderNumber&&(r+=` Order Number: ${e.orderNumber}
`),e.transactionId&&(r+=` Transaction ID: ${e.transactionId}
`),r+=` Payment Status: PAID

`,r+="Order is confirmed and payment received. Please process this order. Thank you! "):(r+=` Payment Method: Cash on Delivery (COD)

`,r+="Please confirm this order. Thank you! "),r},Aat=()=>` Hi! I have a question about your products/services.

Could you please help me?

Thank you! `,Ehe=async(e,t,r,n=!1)=>{if(!await khe(r))return{success:!1,error:"WhatsApp number is not configured. Please contact the store owner to set up a valid WhatsApp number in admin settings."};const a=await d2(r),i=f2(a);if(i==="919876543210"||i==="9876543210")return{success:!1,error:"Invalid WhatsApp number. The default number 9876543210 is not allowed. Please contact the store owner to set up a valid WhatsApp number."};const o=encodeURIComponent(e),l=`https://wa.me/${i}?text=${o}`;if(n)if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const u=`whatsapp://send?phone=${i}&text=${o}`;window.location.href=u}else window.location.href=l;else{const c=document.createElement("a");c.href=l,c.target="_blank",c.rel="noopener noreferrer",c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}return{success:!0}},go=({storeSlug:e,storeId:t})=>{const[r,n]=b.useState(!1),[a,i]=b.useState(""),o=vr(),{toast:l}=En(),c=cu(),u=c?"/":e?`/${e}`:"/home",d=c?"/products":e?`/${e}/products`:"/products",f=c?"/categories":e?`/${e}/categories`:"/categories",m=y=>{y.preventDefault(),a.trim()&&(o(`${d}?search=${encodeURIComponent(a)}`),i(""))},p=async()=>{const y=Aat(),g=await Ehe(y,void 0,t);g.success||l({title:"WhatsApp Not Configured",description:g.error,variant:"destructive"})};return s.jsxs("header",{className:"sticky top-0 z-50 bg-background border-b border-border shadow-sm",children:[s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs(Tt,{to:u,className:"flex items-center gap-2 group",children:[s.jsx(Om,{size:24,className:"transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"}),s.jsx("span",{className:"text-xl font-bold text-foreground hidden sm:block transition-colors duration-300 group-hover:text-primary",children:"MyStore"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsx(Tt,{to:u,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Home"}),s.jsx(Tt,{to:d,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Products"}),s.jsx(Tt,{to:f,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Categories"}),s.jsx(Tt,{to:`${u}#about`,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"About"})]}),s.jsx("form",{onSubmit:m,className:"hidden lg:flex flex-1 max-w-md",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(Fe,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(ae,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(tl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",size:"icon",onClick:p,className:"hidden sm:flex min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",children:s.jsx(gc,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"})}),s.jsx(li,{}),s.jsx(Tat,{}),s.jsx(ae,{variant:"ghost",size:"icon",className:"md:hidden min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",onClick:()=>n(!r),children:r?s.jsx(Aa,{className:"w-5 h-5 animate-in spin-in-180 duration-300"}):s.jsx(TM,{className:"w-5 h-5 animate-in fade-in duration-300"})})]})]}),s.jsx("form",{onSubmit:m,className:"lg:hidden mt-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fe,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(ae,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(tl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-border bg-background animate-in slide-in-from-top-2 duration-300",children:s.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[s.jsx(Tt,{to:u,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300",onClick:()=>n(!1),children:"Home"}),s.jsx(Tt,{to:d,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-75",onClick:()=>n(!1),children:"Products"}),s.jsx(Tt,{to:f,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-150",onClick:()=>n(!1),children:"Categories"}),s.jsx(Tt,{to:`${u}#about`,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-200",onClick:()=>n(!1),children:"About"}),s.jsxs(ae,{onClick:p,className:"w-full min-h-[48px] animate-in fade-in slide-in-from-bottom-2 duration-300 delay-300 group",children:[s.jsx(gc,{className:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12"}),"Contact on WhatsApp"]})]})})]})},Yu=()=>s.jsx("footer",{className:"bg-muted border-t border-border mt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Om,{size:28}),s.jsx("h3",{className:"font-bold text-foreground",children:"MyStore"})]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Your trusted online store for quality products at great prices. We deliver happiness to your doorstep."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Tf,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"123 Store Street, City, State 12345"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"+91 1234567890"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_c,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"contact@mystore.com"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(EM,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(Ml,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(AM,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-8 pt-8 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," MyStore. All rights reserved."]})})]})});function cy(e){const{productName:t,storeName:r,category:n,variant:a,imageIndex:i}=e,o=[];if(o.push(t),a&&o.push(a),i!==void 0&&i>0){const u=["front view","side view","back view","detail view","alternate view"][i]||"additional view";o.push(u)}n&&o.push(`in ${n}`),r&&o.push(`at ${r}`);let l=o.join(" - ");return l.length>125&&(l=l.substring(0,122)+"..."),l}function Pat(e){const{storeName:t,imageType:r,description:n}=e;switch(r){case"logo":return`${t} logo`;case"banner":return n?`${t} - ${n}`:`${t} banner`;case"hero":return n?`${t} - ${n}`:`${t} hero image`;case"thumbnail":return`${t} thumbnail`;default:return`${t} image`}}function Oat(e,t){return t?`${e} category at ${t}`:`${e} category`}const ax=({id:e,slug:t,name:r,category:n,priceRange:a,price_range:i,images:o,status:l,storeSlug:c})=>{const u=vr(),[d,f]=b.useState(!1),m=o&&o.length>0?o[0]:"/placeholder.svg",p=a||i||"Price on request",y=t||e,v=cu()?`/products/${y}`:c?`/${c}/products/${y}`:`/products/${y}`,_=w=>{w.preventDefault(),!d&&(f(!0),setTimeout(()=>{u(v)},700))};return s.jsx(Mn.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},animate:d?{scale:.95}:{scale:1},onClick:_,className:"cursor-pointer",children:s.jsxs(Ce,{className:"group hover:shadow-lg transition-all duration-300 overflow-hidden",children:[s.jsx(Ee,{className:"p-0",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[s.jsx(Nf,{src:m,alt:cy({productName:r,storeName:c,category:n||void 0}),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l==="draft"&&s.jsx(_t,{className:"absolute top-2 right-2",variant:"secondary",children:"Coming Soon"})]})}),s.jsxs(Ee,{className:"p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:n}),s.jsx("h3",{className:"font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:r}),s.jsx("p",{className:"text-lg font-bold text-primary",children:p})]}),s.jsx(iee,{className:"p-4 pt-0",children:s.jsx(ae,{className:"w-full min-h-[44px]",variant:"outline",children:"View Details"})})]})})},XL=({name:e,image_url:t,productCount:r=0,slug:n})=>{const a=vr(),[i,o]=b.useState(!1),c=cu()?`/products?category=${encodeURIComponent(e)}`:n?`/${n}/products?category=${encodeURIComponent(e)}`:`/products?category=${encodeURIComponent(e)}`,u=["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop"],f=t?yf(t):(()=>{const p=e.split("").reduce((y,g)=>y+g.charCodeAt(0),0);return u[p%u.length]})(),m=()=>{i||(o(!0),setTimeout(()=>{a(c)},700))};return s.jsx("div",{className:"block p-2 cursor-pointer",onClick:m,children:s.jsx(Mn.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},className:"group h-full",animate:i?{scale:.95}:{scale:1},children:s.jsx(Ce,{className:"relative h-full border-2 border-transparent bg-card/50 backdrop-blur-sm hover:bg-card hover:border-primary transition-all duration-500 shadow-md hover:shadow-[0_5px_40px_-20px_rgba(0,0,0,0.4)] rounded-2xl",children:s.jsx(Ee,{className:"p-0 relative",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-xl",children:[s.jsx(Nf,{src:f,alt:Oat(e),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-90 group-hover:brightness-100"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/40 to-transparent opacity-80 group-hover:opacity-70 transition-opacity duration-500"}),s.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 transform translate-y-0 transition-transform duration-500",children:[s.jsx("h3",{className:"font-bold text-base md:text-lg text-foreground drop-shadow-lg transition-colors duration-300",children:e}),r!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 opacity-90 group-hover:text-primary transition-colors duration-300",children:[r," ",r===1?"product":"products"]})]})]})})})})})},hC=({size:e="md",className:t,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return s.jsxs("div",{className:ft("flex flex-col items-center justify-center gap-3",t),children:[s.jsx(Ut,{className:ft("animate-spin text-primary",n[e])}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},Dat=({text:e="Loading..."})=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(hC,{size:"lg",text:e})});function Rat(e){return Object.prototype.toString.call(e)==="[object Object]"}function BJ(e){return Rat(e)||Array.isArray(e)}function Iat(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function JL(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!BJ(l)||!BJ(c)?l===c:JL(l,c)})}function UJ(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Mat(e,t){if(e.length!==t.length)return!1;const r=UJ(e),n=UJ(t);return r.every((a,i)=>{const o=n[i];return JL(a,o)})}function ZL(e){return typeof e=="number"}function xM(e){return typeof e=="string"}function mC(e){return typeof e=="boolean"}function VJ(e){return Object.prototype.toString.call(e)==="[object Object]"}function ws(e){return Math.abs(e)}function QL(e){return Math.sign(e)}function Zy(e,t){return ws(e-t)}function Fat(e,t){if(e===0||t===0||ws(e)<=ws(t))return 0;const r=Zy(ws(e),ws(t));return ws(r/e)}function Lat(e){return Math.round(e*100)/100}function Sw(e){return kw(e).map(Number)}function wc(e){return e[b1(e)]}function b1(e){return Math.max(0,e.length-1)}function e8(e,t){return t===b1(e)}function zJ(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function kw(e){return Object.keys(e)}function The(e,t){return[e,t].reduce((r,n)=>(kw(n).forEach(a=>{const i=r[a],o=n[a],l=VJ(i)&&VJ(o);r[a]=l?The(i,o):o}),r),{})}function vM(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function $at(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return xM(e)?r[e](c):e(t,c,u)}return{measure:o}}function Cw(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function Bat(e,t,r,n){const a=Cw(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(v){if(!c)return;o||(o=v,r(),r());const _=v-o;for(o=v,l+=_;l>=i;)r(),l-=i;const w=l/i;n(w),c&&(c=t.requestAnimationFrame(f))}function m(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:m,stop:p,update:r,render:n}}function Uat(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:g,width:v}=y;return n?g:v}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function tp(e=0,t=0){const r=ws(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function Ahe(e,t,r){const{constrain:n}=tp(0,e),a=e+1;let i=o(t);function o(m){return r?ws((a+m)%a):n(m)}function l(){return i}function c(m){return i=o(m),f}function u(m){return d().set(l()+m)}function d(){return Ahe(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function Vat(e,t,r,n,a,i,o,l,c,u,d,f,m,p,y,g,v,_,w){const{cross:j,direction:C}=e,S=["INPUT","SELECT","TEXTAREA"],k={passive:!1},E=Cw(),R=Cw(),P=tp(50,225).constrain(p.measure(20)),T={mouse:300,touch:400},O={mouse:500,touch:600},D=y?43:25;let I=!1,L=0,W=0,q=!1,G=!1,K=!1,U=!1;function F(z){if(!w)return;function Se(_e){(mC(w)||w(z,_e))&&ce(_e)}const te=t;E.add(te,"dragstart",_e=>_e.preventDefault(),k).add(te,"touchmove",()=>{},k).add(te,"touchend",()=>{}).add(te,"touchstart",Se).add(te,"mousedown",Se).add(te,"touchcancel",pe).add(te,"contextmenu",pe).add(te,"click",re,!0)}function B(){E.clear(),R.clear()}function V(){const z=U?r:t;R.add(z,"touchmove",de,k).add(z,"touchend",pe).add(z,"mousemove",de,k).add(z,"mouseup",pe)}function Z(z){const Se=z.nodeName||"";return S.includes(Se)}function X(){return(y?O:T)[U?"mouse":"touch"]}function Q(z,Se){const te=f.add(QL(z)*-1),_e=d.byDistance(z,!y).distance;return y||ws(z)<P?_e:v&&Se?_e*.5:d.byIndex(te.get(),0).distance}function ce(z){const Se=vM(z,n);U=Se,K=y&&Se&&!z.buttons&&I,I=Zy(a.get(),o.get())>=2,!(Se&&z.button!==0)&&(Z(z.target)||(q=!0,i.pointerDown(z),u.useFriction(0).useDuration(0),a.set(o),V(),L=i.readPoint(z),W=i.readPoint(z,j),m.emit("pointerDown")))}function de(z){if(!vM(z,n)&&z.touches.length>=2)return pe(z);const te=i.readPoint(z),_e=i.readPoint(z,j),Ae=Zy(te,L),ue=Zy(_e,W);if(!G&&!U&&(!z.cancelable||(G=Ae>ue,!G)))return pe(z);const Ve=i.pointerMove(z);Ae>g&&(K=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(C(Ve)),z.preventDefault()}function pe(z){const te=d.byDistance(0,!1).index!==f.get(),_e=i.pointerUp(z)*X(),Ae=Q(C(_e),te),ue=Fat(_e,Ae),Ve=D-10*ue,He=_+ue/50;G=!1,q=!1,R.clear(),u.useDuration(Ve).useFriction(He),c.distance(Ae,!y),U=!1,m.emit("pointerUp")}function re(z){K&&(z.stopPropagation(),z.preventDefault(),K=!1)}function ie(){return q}return{init:F,destroy:B,pointerDown:ie}}function zat(e,t){let n,a;function i(f){return f.timeStamp}function o(f,m){const y=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(vM(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const m=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),m}function u(f){if(!n||!a)return 0;const m=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,g=m/p;return p&&!y&&ws(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function qat(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function Wat(e){function t(n){return e*(n/100)}return{measure:t}}function Hat(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function m(v){return a.measureSize(o.measure(v))}function p(v){if(!i)return;u=m(e),d=n.map(m);function _(w){for(const j of w){if(f)return;const C=j.target===e,S=n.indexOf(j.target),k=C?u:d[S],E=m(C?e:n[S]);if(ws(E-k)>=.5){v.reInit(),t.emit("resize");break}}}c=new ResizeObserver(w=>{(mC(i)||i(v,w))&&_(w)}),r.requestAnimationFrame(()=>{l.forEach(w=>c.observe(w))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function Gat(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function m(){const k=n.get()-e.get(),E=!c;let R=0;return E?(o=0,r.set(n),e.set(n),R=k):(r.set(e),o+=k/c,o*=u,d+=o,e.add(o),R=d-f),l=QL(R),f=d,S}function p(){const k=n.get()-t.get();return ws(k)<.001}function y(){return c}function g(){return l}function v(){return o}function _(){return j(a)}function w(){return C(i)}function j(k){return c=k,S}function C(k){return u=k,S}const S={direction:g,duration:y,velocity:v,seek:m,settled:p,useBaseFriction:w,useBaseDuration:_,useFriction:C,useDuration:j};return S}function Kat(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=tp(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",g=ws(e[y]-t.get()),v=r.get()-t.get(),_=l.constrain(g/o);r.subtract(v*_),!p&&ws(v)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function Yat(e,t,r,n,a){const i=tp(-t+e,0),o=f(),l=d(),c=m();function u(y,g){return Zy(y,g)<=1}function d(){const y=o[0],g=wc(o),v=o.lastIndexOf(y),_=o.indexOf(g)+1;return tp(v,_)}function f(){return r.map((y,g)=>{const{min:v,max:_}=i,w=i.constrain(y),j=!g,C=e8(r,g);return j?_:C||u(v,w)?v:u(_,w)?_:w}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:g}=l;return o.slice(y,g)}return{snapsContained:c,scrollContainLimit:l}}function Xat(e,t,r){const n=t[0],a=r?n-e:wc(t);return{limit:tp(a,n)}}function Jat(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=tp(i,o);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function d(m){if(!u(m))return;const p=e*(m*-1);n.forEach(y=>y.add(p))}return{loop:d}}function Zat(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function Qat(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=m(),d=p();function f(){return l(n).map(g=>wc(g)[o]-g[0][i]).map(ws)}function m(){return n.map(g=>r[i]-g[i]).map(g=>-ws(g))}function p(){return l(u).map(g=>g[0]).map((g,v)=>g+c[v])}return{snaps:u,snapsAligned:d}}function eit(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const m=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?m:m.slice(l,c).map((y,g,v)=>{const _=!g,w=e8(v,g);if(_){const j=wc(v[0])+1;return zJ(j)}if(w){const j=b1(i)-wc(v)[0]+1;return zJ(j,wc(v)[0])}return y})}return{slideRegistry:u}}function tit(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((g,v)=>ws(g)-ws(v))[0]}function u(y){const g=e?o(y):l(y),v=t.map((w,j)=>({diff:d(w-g,0),index:j})).sort((w,j)=>ws(w.diff)-ws(j.diff)),{index:_}=v[0];return{index:_,distance:g}}function d(y,g){const v=[y,y+r,y-r];if(!e)return y;if(!g)return c(v);const _=v.filter(w=>QL(w)===g);return _.length?c(_):wc(v)-r}function f(y,g){const v=t[y]-a.get(),_=d(v,g);return{index:y,distance:_}}function m(y,g){const v=a.get()+y,{index:_,distance:w}=u(v),j=!e&&i(v);if(!g||j)return{index:_,distance:y};const C=t[_]-w,S=y+d(C,0);return{index:_,distance:S}}return{byDistance:m,byIndex:f,shortcut:d}}function rit(e,t,r,n,a,i,o){function l(f){const m=f.distance,p=f.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,m){const p=a.byDistance(f,m);l(p)}function u(f,m){const p=t.clone().set(f),y=a.byIndex(p.get(),m);l(y)}return{distance:c,index:u}}function nit(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const w=r.findIndex(j=>j.includes(g));ZL(w)&&(a.useDuration(0),n.index(w,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((g,v)=>{i.add(g,"focus",_=>{(mC(l)||l(p,_))&&y(v)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function uy(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return ZL(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function Phe(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const p=Lat(e.direction(m));p!==a&&(n.transform=r(p),a=p)}function u(m){i=!m}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function sit(e,t,r,n,a,i,o,l,c){const d=Sw(a),f=Sw(a).reverse(),m=_().concat(w());function p(E,R){return E.reduce((P,T)=>P-a[T],R)}function y(E,R){return E.reduce((P,T)=>p(P,R)>0?P.concat([T]):P,[])}function g(E){return i.map((R,P)=>({start:R-n[P]+.5+E,end:R+t-.5+E}))}function v(E,R,P){const T=g(R);return E.map(O=>{const D=P?0:-r,I=P?r:0,L=P?"end":"start",W=T[O][L];return{index:O,loopPoint:W,slideLocation:uy(-1),translate:Phe(e,c[O]),target:()=>l.get()>W?D:I}})}function _(){const E=o[0],R=y(f,E);return v(R,r,!1)}function w(){const E=t-o[0]-1,R=y(d,E);return v(R,-r,!0)}function j(){return m.every(({index:E})=>{const R=d.filter(P=>P!==E);return p(R,t)<=.1})}function C(){m.forEach(E=>{const{target:R,translate:P,slideLocation:T}=E,O=R();O!==T.get()&&(P.to(O),T.set(O))})}function S(){m.forEach(E=>E.translate.clear())}return{canLoop:j,clear:S,loop:C,loopPoints:m}}function ait(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(mC(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function iit(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(g=>{const v=t.indexOf(g.target);a[v]=g}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return kw(a).reduce((g,v)=>{const _=parseInt(v),{isIntersecting:w}=a[_];return(y&&w||!y&&!w)&&g.push(_),g},[])}function m(y=!0){if(y&&i)return i;if(!y&&o)return o;const g=f(y);return y&&(i=g),y||(o=g),g}return{init:u,destroy:d,get:m}}function oit(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=g(),m=r.map(o),p=v();function y(){if(!u)return 0;const w=r[0];return ws(t[l]-w[l])}function g(){if(!u)return 0;const w=i.getComputedStyle(wc(n));return parseFloat(w.getPropertyValue(`margin-${c}`))}function v(){return r.map((w,j,C)=>{const S=!j,k=e8(C,j);return S?m[j]+d:k?m[j]+f:C[j+1][l]-w[l]}).map(ws)}return{slideSizes:m,slideSizesWithGaps:p,startGap:d,endGap:f}}function lit(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,m=ZL(r);function p(_,w){return Sw(_).filter(j=>j%w===0).map(j=>_.slice(j,j+w))}function y(_){return _.length?Sw(_).reduce((w,j,C)=>{const S=wc(w)||0,k=S===0,E=j===b1(_),R=a[u]-i[S][u],P=a[u]-i[j][d],T=!n&&k?f(o):0,O=!n&&E?f(l):0,D=ws(P-O-(R+T));return C&&D>t+c&&w.push(j),E&&w.push(_.length),w},[]).map((w,j,C)=>{const S=Math.max(C[j-1]||0);return _.slice(S,w)}):[]}function g(_){return m?p(_,r):y(_)}return{groupSlides:g}}function cit(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:m,dragFree:p,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:_,containScroll:w,watchResize:j,watchSlides:C,watchDrag:S,watchFocus:k}=i,E=2,R=qat(),P=R.measure(t),T=r.map(R.measure),O=Uat(c,u),D=O.measureSize(P),I=Wat(D),L=$at(l,D),W=!f&&!!w,q=f||!!w,{slideSizes:G,slideSizesWithGaps:K,startGap:U,endGap:F}=oit(O,P,T,r,q,a),B=lit(O,D,v,f,P,T,U,F,E),{snaps:V,snapsAligned:Z}=Qat(O,L,P,T,B),X=-wc(V)+wc(K),{snapsContained:Q,scrollContainLimit:ce}=Yat(D,X,Z,w,E),de=W?Q:Z,{limit:pe}=Xat(X,de,f),re=Ahe(b1(de),d,f),ie=re.clone(),J=Sw(r),z=({dragHandler:Pe,scrollBody:Re,scrollBounds:et,options:{loop:jt}})=>{jt||et.constrain(Pe.pointerDown()),Re.seek()},Se=({scrollBody:Pe,translate:Re,location:et,offsetLocation:jt,previousLocation:je,scrollLooper:nt,slideLooper:at,dragHandler:Dt,animation:lt,eventHandler:vt,scrollBounds:Zt,options:{loop:Gt}},pr)=>{const Qt=Pe.settled(),jn=!Zt.shouldConstrain(),$t=Gt?Qt:Qt&&jn,jr=$t&&!Dt.pointerDown();jr&&lt.stop();const br=et.get()*pr+je.get()*(1-pr);jt.set(br),Gt&&(nt.loop(Pe.direction()),at.loop()),Re.to(jt.get()),jr&&vt.emit("settle"),$t||vt.emit("scroll")},te=Bat(n,a,()=>z(Me),Pe=>Se(Me,Pe)),_e=.68,Ae=de[re.get()],ue=uy(Ae),Ve=uy(Ae),He=uy(Ae),le=uy(Ae),be=Gat(ue,He,Ve,le,m,_e),Oe=tit(f,de,X,pe,le),Ze=rit(te,re,ie,be,Oe,le,o),tt=Zat(pe),fe=Cw(),ee=iit(t,r,o,g),{slideRegistry:we}=eit(W,w,de,ce,B,J),he=nit(e,r,we,Ze,be,fe,o,k),Me={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:P,slideRects:T,animation:te,axis:O,dragHandler:Vat(O,e,n,a,le,zat(O,a),ue,te,Ze,be,Oe,re,o,I,p,y,_,_e,S),eventStore:fe,percentOfView:I,index:re,indexPrevious:ie,limit:pe,location:ue,offsetLocation:He,previousLocation:Ve,options:i,resizeHandler:Hat(t,o,a,r,O,j,R),scrollBody:be,scrollBounds:Kat(pe,He,le,be,I),scrollLooper:Jat(X,pe,He,[ue,He,Ve,le]),scrollProgress:tt,scrollSnapList:de.map(tt.get),scrollSnaps:de,scrollTarget:Oe,scrollTo:Ze,slideLooper:sit(O,D,X,G,K,V,de,He,r),slideFocus:he,slidesHandler:ait(t,o,C),slidesInView:ee,slideIndexes:J,slideRegistry:we,slidesToScroll:B,target:le,translate:Phe(O,t)};return Me}function uit(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const dit={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function fit(e){function t(i,o){return The(i,o||{})}function r(i){const o=i.breakpoints||{},l=kw(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>kw(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function hit(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function h2(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=fit(a),o=hit(i),l=Cw(),c=uit(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:m,off:p,emit:y}=c,g=O;let v=!1,_,w=u(dit,h2.globalOptions),j=u(w),C=[],S,k,E;function R(){const{container:J,slides:z}=j;k=(xM(J)?e.querySelector(J):J)||e.children[0];const te=xM(z)?k.querySelectorAll(z):z;E=[].slice.call(te||k.children)}function P(J){const z=cit(e,k,E,n,a,J,c);if(J.loop&&!z.slideLooper.canLoop()){const Se=Object.assign({},J,{loop:!1});return P(Se)}return z}function T(J,z){v||(w=u(w,J),j=d(w),C=z||C,R(),_=P(j),f([w,...C.map(({options:Se})=>Se)]).forEach(Se=>l.add(Se,"change",O)),j.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(ie),_.eventHandler.init(ie),_.resizeHandler.init(ie),_.slidesHandler.init(ie),_.options.loop&&_.slideLooper.loop(),k.offsetParent&&E.length&&_.dragHandler.init(ie),S=o.init(ie,C)))}function O(J,z){const Se=B();D(),T(u({startIndex:Se},J),z),c.emit("reInit")}function D(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),l.clear()}function I(){v||(v=!0,l.clear(),D(),c.emit("destroy"),c.clear())}function L(J,z,Se){!j.active||v||(_.scrollBody.useBaseFriction().useDuration(z===!0?0:j.duration),_.scrollTo.index(J,Se||0))}function W(J){const z=_.index.add(1).get();L(z,J,-1)}function q(J){const z=_.index.add(-1).get();L(z,J,1)}function G(){return _.index.add(1).get()!==B()}function K(){return _.index.add(-1).get()!==B()}function U(){return _.scrollSnapList}function F(){return _.scrollProgress.get(_.offsetLocation.get())}function B(){return _.index.get()}function V(){return _.indexPrevious.get()}function Z(){return _.slidesInView.get()}function X(){return _.slidesInView.get(!1)}function Q(){return S}function ce(){return _}function de(){return e}function pe(){return k}function re(){return E}const ie={canScrollNext:G,canScrollPrev:K,containerNode:pe,internalEngine:ce,destroy:I,off:p,on:m,emit:y,plugins:Q,previousScrollSnap:V,reInit:g,rootNode:de,scrollNext:W,scrollPrev:q,scrollProgress:F,scrollSnapList:U,scrollTo:L,selectedScrollSnap:B,slideNodes:re,slidesInView:Z,slidesNotInView:X};return T(t,r),setTimeout(()=>c.emit("init"),0),ie}h2.globalOptions=void 0;function t8(e={},t=[]){const r=b.useRef(e),n=b.useRef(t),[a,i]=b.useState(),[o,l]=b.useState(),c=b.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return b.useEffect(()=>{JL(r.current,e)||(r.current=e,c())},[e,c]),b.useEffect(()=>{Mat(n.current,t)||(n.current=t,c())},[t,c]),b.useEffect(()=>{if(Iat()&&o){h2.globalOptions=t8.globalOptions;const u=h2(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}t8.globalOptions=void 0;const Ohe=b.createContext(null);function pC(){const e=b.useContext(Ohe);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const r8=b.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=t8({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=b.useState(!1),[m,p]=b.useState(!1),y=b.useCallback(w=>{w&&(f(w.canScrollPrev()),p(w.canScrollNext()))},[]),g=b.useCallback(()=>{u?.scrollPrev()},[u]),v=b.useCallback(()=>{u?.scrollNext()},[u]),_=b.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),v())},[g,v]);return b.useEffect(()=>{!u||!r||r(u)},[u,r]),b.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u?.off("select",y)}},[u,y]),s.jsx(Ohe.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:_,className:ft("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});r8.displayName="Carousel";const n8=b.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=pC();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:ft("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});n8.displayName="CarouselContent";const m2=b.forwardRef(({className:e,...t},r)=>{const{orientation:n}=pC();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ft("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});m2.displayName="CarouselItem";const s8=b.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=pC();return s.jsxs(ae,{ref:a,variant:t,size:r,className:ft("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});s8.displayName="CarouselPrevious";const a8=b.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=pC();return s.jsxs(ae,{ref:a,variant:t,size:r,className:ft("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(ua,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});a8.displayName="CarouselNext";const mit={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function pit(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function git(e,t){const r=e.rootNode();return t&&t(r)||r}function i8(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(L,W){r=L;const{mergeOptions:q,optionsAtMedia:G}=W,K=q(mit,i8.globalOptions),U=q(K,e);if(t=G(U),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=pit(r,t.delay);const{eventStore:F,ownerDocument:B}=r.internalEngine(),V=!!r.internalEngine().options.watchDrag,Z=git(r,t.rootNode);F.add(B,"visibilitychange",_),V&&r.on("pointerDown",j),V&&!t.stopOnInteraction&&r.on("pointerUp",C),t.stopOnMouseEnter&&F.add(Z,"mouseenter",S),t.stopOnMouseEnter&&!t.stopOnInteraction&&F.add(Z,"mouseleave",k),t.stopOnFocusIn&&r.on("slideFocusStart",v),t.stopOnFocusIn&&!t.stopOnInteraction&&F.add(r.containerNode(),"focusout",g),t.playOnInit&&g()}function m(){r.off("pointerDown",j).off("pointerUp",C).off("slideFocusStart",v),v(),n=!0,l=!1}function p(){const{ownerWindow:L}=r.internalEngine();L.clearTimeout(o),o=L.setTimeout(O,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:L}=r.internalEngine();L.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function g(){if(!n){if(w()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function v(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function _(){if(w())return u=l,v();u&&g()}function w(){const{ownerDocument:L}=r.internalEngine();return L.visibilityState==="hidden"}function j(){c||v()}function C(){c||g()}function S(){c=!0,v()}function k(){c=!1,g()}function E(L){typeof L<"u"&&(d=L),g()}function R(){l&&v()}function P(){l&&g()}function T(){return l}function O(){const{index:L}=r.internalEngine(),W=L.clone().add(1).get(),q=r.scrollSnapList().length-1,G=t.stopOnLastSnap&&W===q;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),G)return v();g()}function D(){if(!i)return null;const L=a[r.selectedScrollSnap()],W=new Date().getTime()-i;return L-W}return{name:"autoplay",options:e,init:f,destroy:m,play:E,stop:R,reset:P,isPlaying:T,timeUntilNext:D}}i8.globalOptions=void 0;const Dhe=({bannerUrls:e,storeName:t,logoUrl:r,storeDescription:n})=>{const[a,i]=b.useState([]);return b.useEffect(()=>{const o=e.map(l=>yf(l)||l).filter(Boolean);i(o)},[e]),a.length?s.jsx("section",{className:"relative",children:s.jsxs(r8,{className:"w-full",plugins:[i8({delay:4e3,stopOnInteraction:!1})],opts:{loop:!0},children:[s.jsx(n8,{children:a.map((o,l)=>s.jsx(m2,{children:s.jsx("div",{className:"relative h-[300px] md:h-[380px] lg:h-[450px]",children:s.jsx(Nf,{src:o,alt:Pat({storeName:t,imageType:"banner",description:n||void 0}),className:"absolute inset-0 w-full h-full object-fill"})})},l))}),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(s8,{className:"left-4 bg-white/20 border-white/30 text-white hover:bg-white/30"}),s.jsx(a8,{className:"right-4 bg-white/20 border-white/30 text-white hover:bg-white/30"})]})]})}):s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r&&s.jsx("img",{src:yf(r)||r,alt:t,className:"h-24 w-24 mx-auto mb-6 rounded-full object-cover border-4 border-background shadow-lg"}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:t}),n&&s.jsx("p",{className:"text-xl text-muted-foreground",children:n})]})})})},OD=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],xit=()=>{const{data:e,isLoading:t}=Mbe({queryKey:["home-data"],queryFn:async()=>{const{data:l}=await Y.from("stores").select("id, name, description, logo_url, hero_banner_url, hero_banner_urls").eq("slug","demo").eq("is_active",!0).maybeSingle();if(!l)return{allProducts:[],featuredProducts:[],newArrivals:[],categories:OD};const[c,u]=await Promise.all([yb(l.id),Y.from("categories").select("*").eq("store_id",l.id).order("name").then(f=>f.data)]),d=[...c].sort((f,m)=>new Date(m.created_at||"").getTime()-new Date(f.created_at||"").getTime());return{allProducts:c,featuredProducts:c.slice(0,4),newArrivals:d.slice(0,4),categories:u&&u.length>0?u:OD,store:l}},staleTime:3e5,gcTime:6e5}),{allProducts:r=[],featuredProducts:n=[],newArrivals:a=[],categories:i=OD,store:o}=e||{};return t?s.jsx(Dat,{text:"Loading store..."}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{}),s.jsxs("main",{className:"flex-1",children:[o&&s.jsx(Dhe,{bannerUrls:o.hero_banner_urls&&o.hero_banner_urls.length>0?o.hero_banner_urls:o.hero_banner_url?[o.hero_banner_url]:[],storeName:o.name||"MyStore",logoUrl:o.logo_url,storeDescription:o.description}),!o&&s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Welcome to MyStore"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Discover quality products at unbeatable prices. Shop now!"})]})})}),s.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:i.map((l,c)=>{const u=r.filter(d=>d.category===l.name).length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",style:{animationDelay:`${c*100}ms`},children:s.jsx(XL,{name:l.name,image_url:l.image_url,productCount:u})},l.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(Tt,{to:"/products",children:s.jsxs(ae,{variant:"outline",children:["View All",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]}),n.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>s.jsx(ax,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),a.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(l=>s.jsx(ax,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore thousands of products and great deals"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Tt,{to:"/products",children:s.jsxs(ae,{size:"lg",variant:"secondary",children:["Browse Products",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})}),s.jsx(Tt,{to:"/pricing",children:s.jsxs(ae,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["View Pricing Plans",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]})]})})]}),s.jsx(Yu,{})]})},Ew=({storeName:e,storeDescription:t,whatsappNumber:r,phone:n,email:a,address:i,facebookUrl:o,instagramUrl:l,twitterUrl:c,youtubeUrl:u,linkedinUrl:d,socialLinks:f,policies:m})=>{const{slug:p}=hd(),y=p?`/${p}/policies`:"/policies",g=p?`/${p}`:"",v={facebook:o||f?.facebook||null,instagram:l||f?.instagram||null,twitter:c||f?.twitter||null,youtube:u||null,linkedin:d||null},_=Object.values(v).some(w=>w);return s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-foreground mb-4",children:["About ",e]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t||"Your trusted online store for quality products at great prices."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Tt,{to:g||"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Tt,{to:`${g}/products`,className:"text-muted-foreground hover:text-primary transition-colors",children:"All Products"})}),s.jsx("li",{children:s.jsx(Tt,{to:`${g}/categories`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Categories"})}),s.jsx("li",{children:s.jsx(Tt,{to:`${g}/cart`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shopping Cart"})}),s.jsx("li",{children:s.jsx(Tt,{to:"/sitemap.xml",className:"text-muted-foreground hover:text-primary transition-colors",children:"Sitemap"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Tt,{to:`${y}#terms`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx(Tt,{to:`${y}#return-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx(Tt,{to:`${y}#shipping-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(Tt,{to:`${y}#privacy-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[n&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:n})]}),r&&n!==r&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(gc,{className:"w-4 h-4 flex-shrink-0"}),s.jsxs("span",{children:["WhatsApp: ",r]})]}),a&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_c,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:a})]}),i&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Tf,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:i})]})]}),_&&s.jsxs("div",{className:"flex gap-3 mt-4",children:[v.facebook&&s.jsx("a",{href:v.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Facebook",children:s.jsx(EM,{className:"w-4 h-4"})}),v.instagram&&s.jsx("a",{href:v.instagram,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Instagram",children:s.jsx(Ml,{className:"w-4 h-4"})}),v.twitter&&s.jsx("a",{href:v.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Twitter",children:s.jsx(AM,{className:"w-4 h-4"})}),v.youtube&&s.jsx("a",{href:v.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"YouTube",children:s.jsx(zZ,{className:"w-4 h-4"})}),v.linkedin&&s.jsx("a",{href:v.linkedin,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"LinkedIn",children:s.jsx(LZ,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-4 pt-4 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," ",e,". All rights reserved."]})})]})})};var Rhe=["PageUp","PageDown"],Ihe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mhe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Lx="Slider",[yM,vit,yit]=ox(Lx),[Fhe]=Is(Lx,[yit]),[bit,gC]=Fhe(Lx),Lhe=b.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...g}=e,v=b.useRef(new Set),_=b.useRef(0),j=o==="horizontal"?wit:_it,[C=[],S]=Pi({prop:d,defaultProp:u,onChange:O=>{[...v.current][_.current]?.focus(),f(O)}}),k=b.useRef(C);function E(O){const D=Cit(C,O);T(O,D)}function R(O){T(O,_.current)}function P(){const O=k.current[_.current];C[_.current]!==O&&m(C)}function T(O,D,{commit:I}={commit:!1}){const L=Pit(i),W=Oit(Math.round((O-n)/i)*i+n,L),q=bb(W,[n,a]);S((G=[])=>{const K=Sit(G,q,D);if(Ait(K,c*i)){_.current=K.indexOf(q);const U=String(K)!==String(G);return U&&I&&m(K),U?K:G}else return G})}return s.jsx(bit,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:_,thumbs:v.current,values:C,orientation:o,form:y,children:s.jsx(yM.Provider,{scope:e.__scopeSlider,children:s.jsx(yM.Slot,{scope:e.__scopeSlider,children:s.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:mt(g.onPointerDown,()=>{l||(k.current=C)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:E,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(a,C.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:D})=>{if(!l){const W=Rhe.includes(O.key)||O.shiftKey&&Ihe.includes(O.key)?10:1,q=_.current,G=C[q],K=i*W*D;T(G+K,q,{commit:!0})}}})})})})});Lhe.displayName=Lx;var[$he,Bhe]=Fhe(Lx,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wit=b.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,m]=b.useState(null),p=tr(t,j=>m(j)),y=b.useRef(void 0),g=nh(a),v=g==="ltr",_=v&&!i||!v&&i;function w(j){const C=y.current||f.getBoundingClientRect(),S=[0,C.width],E=o8(S,_?[r,n]:[n,r]);return y.current=C,E(j-C.left)}return s.jsx($he,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:s.jsx(Uhe,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const C=w(j.clientX);o?.(C)},onSlideMove:j=>{const C=w(j.clientX);l?.(C)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:j=>{const S=Mhe[_?"from-left":"from-right"].includes(j.key);u?.({event:j,direction:S?-1:1})}})})}),_it=b.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=b.useRef(null),f=tr(t,d),m=b.useRef(void 0),p=!a;function y(g){const v=m.current||d.current.getBoundingClientRect(),_=[0,v.height],j=o8(_,p?[n,r]:[r,n]);return m.current=v,j(g-v.top)}return s.jsx($he,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(Uhe,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);i?.(v)},onSlideMove:g=>{const v=y(g.clientY);o?.(v)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:g=>{const _=Mhe[p?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:_?-1:1})}})})}),Uhe=b.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=gC(Lx,r);return s.jsx(At.span,{...u,ref:t,onKeyDown:mt(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Rhe.concat(Ihe).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:mt(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:mt(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:mt(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),Vhe="SliderTrack",zhe=b.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=gC(Vhe,r);return s.jsx(At.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});zhe.displayName=Vhe;var bM="SliderRange",qhe=b.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=gC(bM,r),i=Bhe(bM,r),o=b.useRef(null),l=tr(t,o),c=a.values.length,u=a.values.map(m=>Ghe(m,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(At.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});qhe.displayName=bM;var wM="SliderThumb",Whe=b.forwardRef((e,t)=>{const r=vit(e.__scopeSlider),[n,a]=b.useState(null),i=tr(t,l=>a(l)),o=b.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(jit,{...e,ref:i,index:o})}),jit=b.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=gC(wM,r),l=Bhe(wM,r),[c,u]=b.useState(null),d=tr(t,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,m=Pw(c),p=o.values[n],y=p===void 0?0:Ghe(p,o.min,o.max),g=kit(n,o.values.length),v=m?.[l.size],_=v?Eit(v,y,l.direction):0;return b.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${_}px)`},children:[s.jsx(yM.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(At.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:mt(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(Hhe,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});Whe.displayName=wM;var Nit="RadioBubbleInput",Hhe=b.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=b.useRef(null),i=tr(a,n),o=Hw(t);return b.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(At.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});Hhe.displayName=Nit;function Sit(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function Ghe(e,t,r){const i=100/(r-t)*(e-t);return bb(i,[0,100])}function kit(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Cit(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function Eit(e,t,r){const n=e/2,i=o8([0,50],[0,n]);return(n-i(t)*r)*r}function Tit(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Ait(e,t){if(t>0){const r=Tit(e);return Math.min(...r)>=t}return!0}function o8(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Pit(e){return(String(e).split(".")[1]||"").length}function Oit(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Khe=Lhe,Dit=zhe,Rit=qhe,Iit=Whe;const Yhe=b.forwardRef(({className:e,...t},r)=>s.jsxs(Khe,{ref:r,className:ft("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(Dit,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(Rit,{className:"absolute h-full bg-primary"})}),s.jsx(Iit,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Yhe.displayName=Khe.displayName;const Xhe=({title:e="Something went wrong",message:t,onRetry:r,className:n})=>s.jsxs(Yr,{variant:"destructive",className:n,children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsx(Y5,{children:e}),s.jsxs(Xr,{className:"flex flex-col gap-3",children:[s.jsx("span",{children:t}),r&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:r,className:"w-fit",children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}),DD=({slug:e}={})=>{const[t,r]=Rw(),{slug:n}=hd(),a=e||n;vr();const[i,o]=b.useState([]),[l,c]=b.useState(!0),[u,d]=b.useState(null),[f,m]=b.useState([]),[p,y]=b.useState([]),[g,v]=b.useState([]),[_,w]=b.useState([0,1e4]),[j,C]=b.useState("newest"),[S,k]=b.useState(!1),[E,R]=b.useState(null),[P,T]=b.useState(null),[O,D]=b.useState(null),I=cu();b.useEffect(()=>{(async()=>{if(a)try{c(!0),d(null);const{data:K}=await Y.from("stores").select("*").eq("slug",a).eq("is_active",!0).maybeSingle();if(K){R(K.id),T(K);const{data:U}=await Y.from("profiles").select("phone, email").eq("user_id",K.user_id).maybeSingle();U&&D(U);const F=await yb(K.id);o(F)}}catch(K){d(K instanceof Error?K.message:"Failed to load products")}finally{c(!1)}})()},[a]);const L=async()=>{if(E)try{const G=await yb(E);o(G)}catch(G){d(G instanceof Error?G.message:"Failed to reload products")}};b.useEffect(()=>{const G=[...new Set(i.map(K=>K.category))].filter(Boolean);y(G)},[i]),b.useEffect(()=>{const G=t.get("category");G&&p.includes(G)&&v([G]);const K=()=>{L()};return window.addEventListener("focus",K),()=>window.removeEventListener("focus",K)},[t,p,L]),b.useEffect(()=>{if(!i||i.length===0){m([]);return}let G=[...i];E&&(G=G.filter(F=>F.store_id===E));const K=t.get("search");K&&(G=G.filter(F=>F.name.toLowerCase().includes(K.toLowerCase())));const U=t.get("category");switch(U?G=G.filter(F=>F.category===U):g.length>0&&(G=G.filter(F=>g.includes(F.category))),(_[0]>0||_[1]<1e4)&&(G=G.filter(F=>{const B=F.basePrice||(F.variants?.length?Math.min(...F.variants.map(Z=>Z.price)):0);return(F.variants?.length?Math.max(...F.variants.map(Z=>Z.price)):F.basePrice||0)>=_[0]&&B<=_[1]})),j){case"price-low":G.sort((F,B)=>{const V=F.basePrice||(F.variants?.length?F.variants[0].price:0),Z=B.basePrice||(B.variants?.length?B.variants[0].price:0);return V-Z});break;case"price-high":G.sort((F,B)=>{const V=F.basePrice||(F.variants?.length?F.variants[0].price:0);return(B.basePrice||(B.variants?.length?B.variants[0].price:0))-V});break;case"name":G.sort((F,B)=>F.name.localeCompare(B.name));break}m(G)},[i,g,_,j,t,E]);const W=G=>{const K=new URLSearchParams(t);K.delete("category"),r(K),v(U=>U.includes(G)?U.filter(F=>F!==G):[...U,G])},q=()=>{const G=new URLSearchParams(t);G.delete("category"),r(G),v([]),w([0,1e4]),C("newest")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:a}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:l?s.jsx("div",{className:"py-20",children:s.jsx(hC,{size:"lg",text:"Loading products..."})}):u?s.jsx("div",{className:"py-20",children:s.jsx(Xhe,{title:"Failed to load products",message:u,onRetry:L})}):s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:`lg:w-64 ${S?"block":"hidden lg:block"}`,children:s.jsx(Ce,{className:"sticky top-24",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[s.jsx(GD,{className:"w-5 h-5"}),"Filters"]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:q,className:"text-xs",children:"Clear All"})]}),p.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx(ke,{className:"text-sm font-semibold mb-3 block",children:"Categories"}),s.jsx("div",{className:"space-y-3",children:p.map(G=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{id:G,checked:g.includes(G),onCheckedChange:()=>W(G)}),s.jsx("label",{htmlFor:G,className:"text-sm text-muted-foreground cursor-pointer",children:G})]},G))})]}),s.jsxs("div",{children:[s.jsx(ke,{className:"text-sm font-semibold mb-3 block",children:"Price Range"}),s.jsxs("div",{className:"px-2",children:[s.jsx(Yhe,{min:0,max:1e4,step:100,value:_,onValueChange:w,className:"mb-4"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["",_[0]]}),s.jsxs("span",{children:["",_[1]]})]})]})]})]})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"All Products"}),s.jsxs("p",{className:"text-muted-foreground",children:["Showing ",f.length," products"]})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsxs(ae,{variant:"outline",onClick:()=>k(!S),className:"lg:hidden flex-1",children:[s.jsx(GD,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsxs(ar,{value:j,onValueChange:C,children:[s.jsx(rr,{className:"w-full sm:w-[180px]",children:s.jsx(ir,{placeholder:"Sort by"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"newest",children:"Newest"}),s.jsx(Ue,{value:"price-low",children:"Price: Low to High"}),s.jsx(Ue,{value:"price-high",children:"Price: High to Low"}),s.jsx(Ue,{value:"name",children:"Name: A-Z"})]})]})]})]}),f.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(G=>s.jsx(ax,{...G,storeSlug:I?void 0:a},G.id))}):s.jsxs(Ce,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found matching your filters"}),s.jsx(ae,{onClick:q,variant:"outline",children:"Clear Filters"})]})]})]})}),P?s.jsx(Ew,{storeName:P.name,storeDescription:P.description,whatsappNumber:P.whatsapp_number,phone:O?.phone,email:O?.email,address:P.address,facebookUrl:P.facebook_url,instagramUrl:P.instagram_url,twitterUrl:P.twitter_url,youtubeUrl:P.youtube_url,linkedinUrl:P.linkedin_url,socialLinks:P.social_links,policies:P.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})};function l8({title:e,description:t,canonical:r,image:n="https://digitaldukandar.in/placeholder.svg",type:a="website",keywords:i=[],author:o,price:l,currency:c="INR",availability:u}){const d=t.slice(0,160),f=e.slice(0,60);return s.jsxs(n5,{children:[s.jsx("title",{children:f}),s.jsx("meta",{name:"title",content:f}),s.jsx("meta",{name:"description",content:d}),i.length>0&&s.jsx("meta",{name:"keywords",content:i.join(", ")}),o&&s.jsx("meta",{name:"author",content:o}),s.jsx("link",{rel:"icon",type:"image/png",href:n}),s.jsx("link",{rel:"apple-touch-icon",href:n}),r&&s.jsx("link",{rel:"canonical",href:r}),s.jsx("meta",{property:"og:type",content:a}),s.jsx("meta",{property:"og:title",content:f}),s.jsx("meta",{property:"og:description",content:d}),s.jsx("meta",{property:"og:image",content:n}),r&&s.jsx("meta",{property:"og:url",content:r}),s.jsx("meta",{property:"og:site_name",content:"YesGive Shop"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:f}),s.jsx("meta",{name:"twitter:description",content:d}),s.jsx("meta",{name:"twitter:image",content:n}),a==="product"&&l&&s.jsxs(s.Fragment,{children:[s.jsx("meta",{property:"product:price:amount",content:l.toString()}),s.jsx("meta",{property:"product:price:currency",content:c}),u&&s.jsx("meta",{property:"product:availability",content:u==="in stock"?"in stock":"out of stock"})]}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{name:"theme-color",content:"#000000"}),s.jsx("link",{rel:"preconnect",href:"https://vexeuxsvckpfvuxqchqu.supabase.co"})]})}function Jhe(e){const{storeSlug:t,subdomain:r,customDomain:n,path:a=""}=e;return n&&n.trim()?`${n.startsWith("http")?n:`https://${n}`}${a}`:r&&r.trim()?`https://${r}.digitaldukandar.in${a}`:`https://digitaldukandar.in/${t}${a}`}function Zhe(e,t,r){return Jhe({storeSlug:e,subdomain:t,customDomain:r,path:""})}function Mit(e,t,r,n){return Jhe({storeSlug:e,subdomain:r,customDomain:n,path:`/products/${t}`})}const Vv=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],RD=({slug:e}={})=>{const{slug:t}=hd(),r=e||t,[n,a]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState("Store");return b.useEffect(()=>{(async()=>{try{o(!0);let m=null;if(r){const{data:p}=await Y.from("stores").select("id, name").eq("slug",r).eq("is_active",!0).maybeSingle();if(p)m=p.id,c(p.id),d(p.name);else{a(Vv),o(!1);return}}else{const{data:{user:p}}=await Y.auth.getUser();if(p){const{data:y}=await Y.from("stores").select("id, name").eq("user_id",p.id).eq("is_active",!0).maybeSingle();y&&(m=y.id,c(y.id),d(y.name))}}if(m)try{const{data:p,error:y}=await Y.from("categories").select("*").eq("store_id",m).order("created_at",{ascending:!0});if(y)throw y;const g=await Promise.all((p||[]).map(async v=>{const{count:_,error:w}=await Y.from("products").select("*",{count:"exact",head:!0}).eq("store_id",m).eq("category",v.name).eq("status","published");return console.log(`Category "${v.name}": ${_} products`,{error:w}),{id:v.id,name:v.name,image_url:v.image_url,store_id:v.store_id,productCount:_||0}}));console.log("Categories with counts:",g),a(g.length>0?g:Vv)}catch(p){console.error("Error fetching categories:",p),a(Vv)}else a(Vv)}catch(m){console.error("Error loading categories:",m),a(Vv)}finally{o(!1)}})()},[r]),i?s.jsxs(s.Fragment,{children:[s.jsx(go,{storeSlug:r,storeId:l}),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(hC,{size:"lg",text:"Loading categories..."})}),s.jsx(Yu,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(l8,{title:`Categories - ${u} | Browse Our Collections`,description:`Explore all product categories at ${u}. Find exactly what you're looking for in our organized collections.`,canonical:Zhe(r||"",null,null),keywords:n.map(f=>f.name).concat([u,"categories","shop by category"]),type:"website"}),s.jsx(go,{storeSlug:r,storeId:l}),s.jsx("main",{className:"flex-1",children:s.jsx("section",{className:"bg-gradient-to-b from-muted/30 to-background py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",children:n.map(f=>s.jsx(XL,{name:f.name,image_url:f.image_url,productCount:f.productCount,slug:r},f.id))})]})})}),s.jsx(Yu,{})]})};var c8="Radio",[Fit,Qhe]=Is(c8),[Lit,$it]=Fit(c8),eme=b.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,m]=b.useState(null),p=tr(t,v=>m(v)),y=b.useRef(!1),g=f?u||!!f.closest("form"):!0;return s.jsxs(Lit,{scope:r,checked:a,disabled:o,children:[s.jsx(At.button,{type:"button",role:"radio","aria-checked":a,"data-state":sme(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:mt(e.onClick,v=>{a||c?.(),g&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),g&&s.jsx(nme,{control:f,bubbles:!y.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});eme.displayName=c8;var tme="RadioIndicator",rme=b.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=$it(tme,r);return s.jsx(fa,{present:n||i.checked,children:s.jsx(At.span,{"data-state":sme(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});rme.displayName=tme;var Bit="RadioBubbleInput",nme=b.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=b.useRef(null),l=tr(o,i),c=Hw(r),u=Pw(t);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx(At.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nme.displayName=Bit;function sme(e){return e?"checked":"unchecked"}var Uit=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xC="RadioGroup",[Vit]=Is(xC,[gx,Qhe]),ame=gx(),ime=Qhe(),[zit,qit]=Vit(xC),ome=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,p=ame(r),y=nh(u),[g,v]=Pi({prop:i,defaultProp:a??null,onChange:f,caller:xC});return s.jsx(zit,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(A5,{asChild:!0,...p,orientation:c,dir:y,loop:d,children:s.jsx(At.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:t})})})});ome.displayName=xC;var lme="RadioGroupItem",cme=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=qit(lme,r),o=i.disabled||n,l=ame(r),c=ime(r),u=b.useRef(null),d=tr(t,u),f=i.value===a.value,m=b.useRef(!1);return b.useEffect(()=>{const p=g=>{Uit.includes(g.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),s.jsx(P5,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(eme,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:mt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:mt(a.onFocus,()=>{m.current&&u.current?.click()})})})});cme.displayName=lme;var Wit="RadioGroupIndicator",ume=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=ime(r);return s.jsx(rme,{...a,...n,ref:t})});ume.displayName=Wit;var dme=ome,fme=cme,Hit=ume;const vC=b.forwardRef(({className:e,...t},r)=>s.jsx(dme,{className:ft("grid gap-2",e),...t,ref:r}));vC.displayName=dme.displayName;const Sf=b.forwardRef(({className:e,...t},r)=>s.jsx(fme,{ref:r,className:ft("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Hit,{className:"flex items-center justify-center",children:s.jsx(RZ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Sf.displayName=fme.displayName;function Git(e){const{product:t,store:r,url:n,availability:a="InStock"}=e,i=t.base_price||t.basePrice,o=t.price_range||t.priceRange,l=t.sku||t.baseSku||t.id,c=t.images&&t.images.length>0?t.images[0]:null;return{"@context":"https://schema.org/","@type":"Product",name:t.name,description:t.description||`${t.name} available at ${r.name}`,sku:l,...c&&{image:t.images.filter(d=>d).map(d=>d.startsWith("http")?d:`${window.location.origin}${d}`)},...t.category&&{category:t.category},offers:{"@type":"Offer",url:n,priceCurrency:"USD",...i&&{price:i.toFixed(2)},...o&&!i&&{price:o},availability:`https://schema.org/${a}`,seller:{"@type":"Organization",name:r.name}}}}function hme(e){const{store:t,url:r,email:n}=e,a=t.seo_description||t.description,i=t.business_phone||t.whatsapp_number,o=t.business_email||n,l={"@context":"https://schema.org","@type":"Store",name:t.name,url:r,...a&&{description:a},...t.logo_url&&{image:t.logo_url.startsWith("http")?t.logo_url:`${window.location.origin}${t.logo_url}`},...i&&{telephone:i},...o&&{email:o}};if(t.alternate_names){const u=t.alternate_names.split(",").map(d=>d.trim()).filter(d=>d.length>0);u.length>0&&(l.alternateName=u)}t.street_address||t.city||t.state?l.address={"@type":"PostalAddress",...t.street_address&&{streetAddress:t.street_address},...t.city&&{addressLocality:t.city},...t.state&&{addressRegion:t.state},...t.postal_code&&{postalCode:t.postal_code},...t.country&&{addressCountry:t.country}}:t.address&&(l.address={"@type":"PostalAddress",streetAddress:t.address}),t.opening_hours&&(l.openingHours=t.opening_hours),t.price_range&&(l.priceRange=t.price_range);const c=[];return t.facebook_url&&c.push(t.facebook_url),t.instagram_url&&c.push(t.instagram_url),t.twitter_url&&c.push(t.twitter_url),t.social_links&&c.length===0&&(t.social_links.facebook&&c.push(t.social_links.facebook),t.social_links.instagram&&c.push(t.social_links.instagram),t.social_links.twitter&&c.push(t.social_links.twitter)),c.length>0&&(l.sameAs=c),l}function mme(e){const{items:t}=e;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((n,a)=>({"@type":"ListItem",position:a+1,name:n.name,...n.url&&{item:n.url}}))}}function Kit(e){b.useEffect(()=>{if(!e)return;const{product:t,store:r,availability:n="InStock",email:a,breadcrumbs:i}=e,o=window.location.href,l=Git({product:t,store:r,url:o,availability:n}),c=hme({store:r,url:`${window.location.origin}/${r.slug}`,email:a}),u=document.createElement("script");u.id="product-schema",u.type="application/ld+json",u.textContent=JSON.stringify(l);const d=document.createElement("script");d.id="organization-schema",d.type="application/ld+json",d.textContent=JSON.stringify(c);const f=document.getElementById("product-schema"),m=document.getElementById("organization-schema");if(f&&f.remove(),m&&m.remove(),document.head.appendChild(u),document.head.appendChild(d),i&&i.length>0){const p=mme({items:i}),y=document.createElement("script");y.id="breadcrumb-schema",y.type="application/ld+json",y.textContent=JSON.stringify(p);const g=document.getElementById("breadcrumb-schema");return g&&g.remove(),document.head.appendChild(y),()=>{const v=document.getElementById("breadcrumb-schema");v&&v.remove()}}return()=>{const p=document.getElementById("product-schema"),y=document.getElementById("organization-schema");p&&p.remove(),y&&y.remove()}},[e])}function Yit(e){b.useEffect(()=>{if(!e)return;const{store:t,email:r,breadcrumbs:n}=e,a=window.location.href,i=hme({store:t,url:a,email:r}),o=document.createElement("script");o.id="organization-schema",o.type="application/ld+json",o.textContent=JSON.stringify(i);const l=document.getElementById("organization-schema");if(l&&l.remove(),document.head.appendChild(o),n&&n.length>0){const c=mme({items:n}),u=document.createElement("script");u.id="breadcrumb-schema",u.type="application/ld+json",u.textContent=JSON.stringify(c);const d=document.getElementById("breadcrumb-schema");return d&&d.remove(),document.head.appendChild(u),()=>{const f=document.getElementById("breadcrumb-schema");f&&f.remove()}}return()=>{const c=document.getElementById("organization-schema");c&&c.remove()}},[e])}const ID=({slug:e}={})=>{const t=hd(),r=e?t.slug:t.productSlug,n=e||t.slug,a=vr(),{toast:i}=En(),{addToCart:o,triggerFlyAnimation:l}=R2(),[c,u]=b.useState(null),d=b.useRef(null),f=b.useRef(null),[m,p]=b.useState(""),[y,g]=b.useState(1),[v,_]=b.useState(0),[w,j]=b.useState(!0),[C,S]=b.useState(n),[k,E]=b.useState(null),[R,P]=b.useState([]),[T,O]=b.useState(null),[D,I]=b.useState(null),[L,W]=b.useState(!1),q=cu();if(b.useEffect(()=>{(async()=>{if(!r){a("/products");return}try{j(!0);let Se=null;if(n){const{data:Ae}=await Y.from("stores").select("id").eq("slug",n).maybeSingle();Ae?.id&&(Se=Ae.id,E(Ae.id))}let te=await hCe(r,Se||void 0);if(!te&&(te=await Kj(r),te&&te.slug)){const ue=cu()?`/products/${te.slug}`:C?`/${C}/products/${te.slug}`:`/products/${te.slug}`;a(ue,{replace:!0});return}if(!te){i({title:"Product not found",description:"This product doesn't exist or has been removed.",variant:"destructive"}),a("/products");return}u(te);const _e=te.store_id;if(_e){const{data:Ae}=await Y.from("stores").select("*").eq("id",_e).single();if(Ae){S(Ae.slug),O(Ae);const{data:be}=await Y.from("profiles").select("phone, email").eq("user_id",Ae.user_id).maybeSingle();be&&I(be)}const Ve=(await yb(_e)).filter(be=>be.id!==te.id),He=Ve.filter(be=>be.category===te.category),le=He.length>0?He:Ve;P(le)}}catch(Se){console.error("Error loading product:",Se),i({title:"Error",description:"Failed to load product details",variant:"destructive"}),a("/products")}finally{j(!1)}})()},[r,a,i,C,q]),b.useEffect(()=>{m&&f.current&&f.current.classList.remove("animate-pulse")},[m]),Kit(c&&T?{product:{id:c.id,name:c.name,description:c.description,images:c.images,base_price:c.base_price||c.basePrice,price_range:c.price_range||c.priceRange,sku:c.sku||c.baseSku,category:c.category,variants:c.variants,status:c.status},store:{id:T.id,name:T.name,slug:T.slug,description:T.description,logo_url:T.logo_url,address:T.address,whatsapp_number:T.whatsapp_number,social_links:T.social_links},availability:c.status==="published"?"InStock":"OutOfStock",email:D?.email,breadcrumbs:[{name:"Home",url:q?window.location.origin:`${window.location.origin}/${C}`},{name:"Products",url:q?`${window.location.origin}/products`:`${window.location.origin}/${C}/products`},{name:c.name,url:window.location.href}]}:null),w)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:C,storeId:c?.store_id||c?.storeId}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(hC,{size:"lg",text:"Loading product..."})}),T?s.jsx(Ew,{storeName:T.name,storeDescription:T.description,whatsappNumber:T.whatsapp_number,phone:D?.phone,email:D?.email,address:T.address,facebookUrl:T.facebook_url,instagramUrl:T.instagram_url,twitterUrl:T.twitter_url,youtubeUrl:T.youtube_url,linkedinUrl:T.linkedin_url,socialLinks:T.social_links,policies:T.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]});if(!c)return null;const G=c.variants?.find(z=>z.name===m),U=c.variants&&c.variants.length>0&&!m,F=G?G.price:c.basePrice||c.base_price||0,B=c.images&&c.images.length>0?c.images:["/placeholder.svg"],V=c.videoUrl||c.video_url,Z=c.baseSku||c.sku,Q=V?(z=>z.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||null)(V):null,ce=Q?`https://img.youtube.com/vi/${Q}/hqdefault.jpg`:null,de=C?`/${C}`:"/home",pe=C?`/${C}/products`:"/products",re=z=>{g(Math.max(0,y+z))},ie=()=>{if(!c)return;if(c.variants&&c.variants.length>0&&!m){i({title:"Please select a variant",description:"Redirecting to variant section...",variant:"destructive"}),setTimeout(()=>{f.current&&(f.current.scrollIntoView({behavior:"smooth",block:"center"}),f.current.classList.add("animate-pulse"))},1e3);return}const z=c.store_id;if(!z){i({title:"Error",description:"Unable to add product to cart. Store information is missing.",variant:"destructive"});return}d.current&&l(B[0],d.current),o({productId:c.id,productName:c.name,productImage:B[0],variant:m||void 0,price:F,quantity:y,sku:G?.sku||Z,storeId:z}),W(!0)},J=()=>{navigator.share?navigator.share({title:c.name,text:`Check out ${c.name} on MyStore`,url:window.location.href}):(i({title:"Link copied",description:"Product link has been copied to clipboard"}),navigator.clipboard.writeText(window.location.href))};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(l8,{title:`${c.name} - ${T?.name||"Store"} | Buy Online`,description:c.description?.slice(0,160)||`Shop ${c.name} from ${T?.name}. ${G?`Price: ${G.price}`:c.base_price?`Starting from ${c.base_price}`:""}`,canonical:Mit(C||"",c.id,T?.subdomain,T?.custom_domain),image:B[0],type:"product",price:G?.price||c.base_price,availability:c.status==="published"?"in stock":"out of stock",keywords:[c.name,c.category,T?.name||"store","buy online"]}),s.jsx(go,{storeSlug:C,storeId:c.store_id||c.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 pb-32 md:pb-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(Tt,{to:de,className:"hover:text-foreground",children:"Home"}),s.jsx(Cf,{className:"w-4 h-4"}),s.jsx(Tt,{to:pe,className:"hover:text-foreground",children:"Products"}),s.jsx(Cf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:c.name})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"lg:hidden mb-4",children:[s.jsxs(r8,{className:"w-full",opts:{loop:!0},children:[s.jsxs(n8,{children:[B.map((z,Se)=>s.jsx(m2,{children:s.jsx(Ce,{className:"overflow-hidden",children:s.jsx(Ee,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx(Nf,{src:z,alt:cy({productName:c.name,category:c.category,imageIndex:Se}),className:"w-full h-full object-contain"})})})})},Se)),V&&s.jsx(m2,{children:s.jsx(Ce,{className:"overflow-hidden",children:s.jsx(Ee,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${V.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||V}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})},"video")]}),(B.length>1||V)&&s.jsxs(s.Fragment,{children:[s.jsx(s8,{className:"left-2"}),s.jsx(a8,{className:"right-2"})]})]}),(B.length>1||V)&&s.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[B.map((z,Se)=>s.jsx("button",{onClick:()=>_(Se),className:`w-2 h-2 rounded-full transition-colors ${v===Se?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":`View image ${Se+1}`},Se)),V&&s.jsx("button",{onClick:()=>_(B.length),className:`w-2 h-2 rounded-full transition-colors ${v===B.length?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":"View video"},"video-dot")]})]}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsx(Ce,{className:"overflow-hidden mb-4",children:s.jsx(Ee,{className:"p-0",children:s.jsx("div",{ref:d,className:"aspect-square bg-muted",children:v<B.length?s.jsx(Nf,{src:B[v],alt:cy({productName:c.name,category:c.category,imageIndex:v}),className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${V?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||V}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})}),(B.length>1||V)&&s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[B.map((z,Se)=>s.jsx("button",{onClick:()=>_(Se),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] ${v===Se?"border-primary":"border-transparent hover:border-border"}`,children:s.jsx(Nf,{src:z,alt:cy({productName:c.name,category:c.category,imageIndex:Se}),className:"w-full h-full object-contain"})},Se)),V&&ce&&s.jsxs("button",{onClick:()=>_(B.length),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] relative ${v===B.length?"border-primary":"border-transparent hover:border-border"}`,children:[s.jsx("img",{src:ce,alt:`${c.name} - Product video`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]},"video-thumb")]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(_t,{variant:"secondary",className:"mb-2",children:c.category}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:c.name}),s.jsx("p",{className:"text-muted-foreground",children:c.description})]}),c.variants&&c.variants.length>0?s.jsx(Ce,{ref:f,className:`mb-6 ${m?"":"ring-2 ring-primary/50 ring-offset-2"}`,children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(ke,{className:"text-base font-semibold",children:["Select Variant ",!m&&s.jsx("span",{className:"text-destructive",children:"*"})]}),!m&&s.jsx(_t,{variant:"destructive",className:"text-xs",children:"Required"})]}),s.jsx(vC,{value:m,onValueChange:p,children:s.jsx("div",{className:"space-y-3",children:c.variants.map(z=>s.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${m===z.name?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent"}`,onClick:()=>p(z.name),children:[s.jsx(Sf,{value:z.name,id:z.name,className:"min-w-[20px] min-h-[20px]"}),s.jsx(ke,{htmlFor:z.name,className:"flex-1 cursor-pointer font-normal",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:z.name}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["",z.price]})]})})]},z.name))})}),m?s.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected: ",m," - ",F]})}):s.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please select a variant to continue"]})})]})}):s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-3xl font-bold text-primary",children:c.price_range||c.priceRange||`${c.basePrice||c.base_price||0}`})}),s.jsxs("div",{className:"mb-6",children:[s.jsx(ke,{className:"text-base font-semibold mb-3 block",children:"Quantity"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>re(-1),disabled:y<=1||U,children:s.jsx($Z,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-16 text-center font-semibold text-lg",children:y}),s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>re(1),disabled:U,children:s.jsx(oi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",s.jsx("span",{className:"text-lg font-bold text-foreground",children:U?"":`${(F*y).toFixed(2)}`})]})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 hidden md:block",children:[s.jsxs(ae,{onClick:ie,className:"w-full min-h-[48px]",size:"lg",disabled:y===0,children:[s.jsx(Af,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),s.jsxs(ae,{onClick:J,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Vg,{className:"w-4 h-4 mr-2"}),"Share Product"]})]}),s.jsx("div",{className:"mb-6 md:hidden",children:s.jsxs(ae,{onClick:J,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Vg,{className:"w-4 h-4 mr-2"}),"Share Product"]})}),s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Product Details"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Category:"}),s.jsx("dd",{className:"font-medium",children:c.category})]}),Z&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"SKU:"}),s.jsx("dd",{className:"font-medium",children:Z})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Availability:"}),s.jsx("dd",{className:"font-medium text-success",children:"In Stock"})]})]})]})})]})]}),R.length>0&&s.jsxs("div",{className:"mt-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"More Products"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map(z=>s.jsx(ax,{id:z.id,slug:z.slug,name:z.name,category:z.category,priceRange:z.price_range,images:z.images,status:z.status,storeSlug:q?void 0:C},z.id))})]})]}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background border-t border-border shadow-lg z-50 safe-area-inset-bottom",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:U?"Select variant":c.variants&&c.variants.length>0&&m?`${m}`:c.name}),s.jsx("p",{className:"text-lg font-bold text-primary",children:U?"":`${(F*y).toFixed(2)}`})]}),s.jsxs(ae,{onClick:ie,size:"lg",className:"min-h-[48px] px-6 font-semibold",disabled:y===0,children:[s.jsx(Af,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})}),L&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-end sm:items-center justify-center p-4",onClick:()=>W(!1),children:s.jsxs("div",{className:"bg-background rounded-t-2xl sm:rounded-2xl w-full max-w-md p-6 space-y-4 animate-in slide-in-from-bottom sm:slide-in-from-bottom-0 duration-300",onClick:z=>z.stopPropagation(),children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:B[0],alt:cy({productName:c.name,category:c.category,imageIndex:0}),className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate",children:c.name}),m&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",m]}),s.jsxs("p",{className:"text-sm font-medium text-primary",children:["",F,"  ",y]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),s.jsx("span",{className:"font-semibold",children:y})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",(F*y).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-green-600 dark:text-green-400",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-950 flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"font-semibold",children:"Added to cart"})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx(ae,{onClick:()=>{W(!1),a(q?"/cart":`/${C}/cart`)},className:"w-full min-h-[48px] font-semibold",children:"View Cart"}),s.jsx(ae,{onClick:()=>W(!1),variant:"outline",className:"w-full min-h-[48px]",children:"Continue Shopping"})]})]})}),T?s.jsx(Ew,{storeName:T.name,storeDescription:T.description,whatsappNumber:T.whatsapp_number,phone:D?.phone,email:D?.email,address:T.address,facebookUrl:T.facebook_url,instagramUrl:T.instagram_url,twitterUrl:T.twitter_url,youtubeUrl:T.youtube_url,linkedinUrl:T.linkedin_url,socialLinks:T.social_links,policies:T.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})},MD=({slug:e}={})=>{const{slug:t}=hd(),r=e||t,{cart:n,cartTotal:a,updateQuantity:i,removeItem:o}=R2(),[l,c]=b.useState(r),u=cu();b.useEffect(()=>{r?c(r):n.length>0&&n[0].storeId&&(async()=>{const{data:y}=await Y.from("stores").select("slug").eq("id",n[0].storeId).maybeSingle();y&&c(y.slug)})()},[r,n]);const d=u?"/":l?`/${l}`:"/home",f=u?"/products":l?`/${l}/products`:"/products",m=u?"/checkout":l?`/${l}/checkout`:"/checkout";return n.length===0?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:l,storeId:n[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(XD,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to your cart to see them here"}),s.jsx(Tt,{to:f,children:s.jsx(ae,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Yu,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:l,storeId:n[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(Tt,{to:d,className:"hover:text-foreground",children:"Home"}),s.jsx(Cf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Shopping Cart"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Shopping Cart"}),s.jsx("div",{className:"space-y-4",children:n.map(p=>s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Nf,{src:p.productImage,alt:p.productName,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:p.productName}),p.variant&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",p.variant]}),p.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",p.sku]})]}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>o(p.productId,p.variant),children:s.jsx(Aa,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg w-fit",children:[s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity-1),disabled:p.quantity<=1,children:s.jsx($Z,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-14 text-center font-semibold text-lg",children:p.quantity}),s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity+1),children:s.jsx(oi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",p.price," each"]}),s.jsxs("p",{className:"text-xl font-bold text-primary",children:["",p.price*p.quantity]})]})]})]})]})})},`${p.productId}-${p.variant}`))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Ce,{className:"sticky top-24",children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsxs("span",{children:["Subtotal (",n.reduce((p,y)=>p+y.quantity,0)," items)"]}),s.jsxs("span",{children:["",a]})]}),s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]}),s.jsxs("div",{className:"border-t border-border pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",a]})]})]}),s.jsx(ae,{asChild:!0,className:"w-full min-h-[48px]",size:"lg",children:s.jsx(Tt,{to:m,children:"Proceed to Checkout"})}),s.jsx(ae,{asChild:!0,variant:"outline",className:"w-full min-h-[44px] mt-3",children:s.jsx(Tt,{to:f,children:"Continue Shopping"})})]})})})]})]}),s.jsx(Yu,{})]})};function Xit({onLocationSelect:e,enabled:t=!0}){const[r,n]=b.useState(!1),a=()=>{if(!t){Ie({title:"Feature Not Available",description:"Location sharing is not enabled in your current subscription plan",variant:"destructive"});return}if(!navigator.geolocation){Ie({title:"Not Supported",description:"Geolocation is not supported by your browser",variant:"destructive"});return}n(!0),navigator.geolocation.getCurrentPosition(i=>{const{latitude:o,longitude:l}=i.coords;e(o,l),Ie({title:"Location Captured",description:"Your location has been added to the order"}),n(!1)},i=>{let o="Failed to get location";i.code===i.PERMISSION_DENIED&&(o="Location permission denied. Please enable location access in your browser settings."),Ie({title:"Location Error",description:o,variant:"destructive"}),n(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return t?s.jsx(ae,{type:"button",variant:"outline",onClick:a,disabled:r,className:"w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Location..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Share My Current Location"]})}):null}const Jit=async(e,t)=>{try{const{data:r,error:n}=await Y.functions.invoke("create-phonepe-payment",{body:{amount:Math.round(e.amount*100),orderId:e.orderNumber,dbOrderId:e.orderId,customerName:e.customerName,customerPhone:e.customerPhone,customerEmail:e.customerEmail,storeId:t}});if(n)throw n;return r.paymentUrl?(window.location.href=r.paymentUrl,{success:!0,gatewayOrderId:r.merchantTransactionId}):{success:!1,error:"No payment URL received"}}catch(r){return console.error("PhonePe payment error:",r),{success:!1,error:r.message||"Failed to initiate PhonePe payment"}}},Zit=(e,t)=>{const r=[];return e.razorpay?.enabled&&e.razorpay.key_id&&r.push({id:"razorpay",name:"Razorpay",icon:"",color:"bg-blue-500",enabled:!0}),e.phonepe?.enabled&&e.phonepe.merchant_id&&r.push({id:"phonepe",name:"PhonePe",icon:"",color:"bg-purple-500",enabled:!0}),e.cashfree?.enabled&&e.cashfree.app_id&&r.push({id:"cashfree",name:"Cashfree",icon:"",color:"bg-green-500",enabled:!0}),e.payu?.enabled&&e.payu.merchant_key&&r.push({id:"payu",name:"PayU",icon:"",color:"bg-orange-500",enabled:!0}),e.paytm?.enabled&&e.paytm.merchant_id&&r.push({id:"paytm",name:"Paytm",icon:"",color:"bg-sky-500",enabled:!0}),e.stripe?.enabled&&e.stripe.publishable_key&&r.push({id:"stripe",name:"Stripe",icon:"",color:"bg-indigo-500",enabled:!0}),(t==="online_and_cod"||r.length===0)&&r.push({id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}),r},Qit=oh({fullName:Jr().trim().min(2,"Name must be at least 2 characters").max(100),phone:Jr().trim().regex(/^[6-9]\d{9}$/,"Enter a valid 10-digit phone number"),email:Jr().trim().email("Invalid email address").optional().or(xTe("")),address:Jr().trim().min(10,"Address must be at least 10 characters").max(200),landmark:Jr().trim().max(100).optional(),pincode:Jr().trim().regex(/^\d{6}$/,"Enter a valid 6-digit PIN code"),deliveryTime:Kw(["morning","evening","anytime"],{required_error:"Please select a delivery time"})}),FD=({slug:e}={})=>{const{slug:t}=hd(),r=e||t,n=vr(),{cart:a,cartTotal:i,clearCart:o}=R2(),{toast:l}=En(),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[m,p]=b.useState(!1),[y,g]=b.useState(null),[v,_]=b.useState(null),[w,j]=b.useState(!1),C=b.useRef(null),[S,k]=b.useState(!0),[E,R]=b.useState(r),[P,T]=b.useState(!1),[O,D]=b.useState(null),[I,L]=b.useState([]),[W,q]=b.useState(""),[G,K]=b.useState("online_and_cod"),[U,F]=b.useState({}),[B,V]=b.useState(!1),[Z,X]=b.useState(""),[Q,ce]=b.useState(null),[de,pe]=b.useState(0),[re,ie]=b.useState(!1),[J,z]=b.useState(""),Se=bx({resolver:wx(Qit),defaultValues:{fullName:"",phone:"",email:"",address:"",landmark:"",pincode:"",deliveryTime:"anytime"}}),te=async()=>{try{if(a.length===0)return;const fe=a[0].storeId,{data:ee}=await Y.from("stores").select("payment_mode, payment_gateway_credentials").eq("id",fe).maybeSingle();if(ee){const we=ee.payment_mode||"online_and_cod",he=ee.payment_gateway_credentials||{};K(we),F(he);const Me=Zit(he,we);L(Me),Me.length>0&&q(Me[0].id)}}catch(fe){console.error("Error loading payment settings:",fe),L([{id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}]),q("cod")}},_e=async fe=>{try{V(!0);const ee=a[0]?.storeId;if(!ee||!U.razorpay?.key_id)throw new Error("Payment configuration error");const{orderId:we,error:he}=await Kst(fe.amount,fe.currency,ee);if(he)throw new Error(he);const Me=await Yst({...fe,orderId:we},{key_id:U.razorpay.key_id},{onSuccess:async Pe=>{console.log("Razorpay Success Response:",Pe);const Re=new URLSearchParams({gateway:"razorpay",orderId:fe.orderId,storeId:ee,paymentId:Pe.razorpay_payment_id,razorpayOrderId:Pe.razorpay_order_id,signature:Pe.razorpay_signature,storeSlug:E||""});o(),V(!1),window.location.href=`/payment-success?${Re.toString()}`},onFailure:Pe=>{l({title:"Payment failed",description:Pe.description||"Please try again.",variant:"destructive"}),V(!1)},onDismiss:()=>{V(!1)}});if(!Me.success&&Me.error)throw new Error(Me.error)}catch(ee){console.error("Razorpay payment error:",ee),l({title:"Payment failed",description:ee.message||"Failed to process payment. Please try again.",variant:"destructive"}),V(!1)}},Ae=async fe=>{try{V(!0);const ee=a[0]?.storeId;if(!ee)throw new Error("Payment configuration error");await Y.from("orders").update({payment_status:"pending",payment_gateway:"phonepe"}).eq("id",fe.orderId);const we=await Jit(fe,ee);if(!we.success)throw new Error(we.error||"Failed to initiate PhonePe payment")}catch(ee){console.error("PhonePe payment error:",ee),l({title:"Payment failed",description:ee.message||"Failed to process payment. Please try again.",variant:"destructive"}),V(!1)}};b.useEffect(()=>{Ve(),ue(),te(),r?R(r):a.length>0&&a[0].storeId&&(async()=>{const{data:ee}=await Y.from("stores").select("slug").eq("id",a[0].storeId).maybeSingle();ee&&R(ee.slug)})()},[r,a]);const ue=async()=>{try{if(k(!0),a.length===0){k(!1);return}const fe=a[0]?.storeId;if(!fe||fe.trim()===""){console.error("Cart storeId is invalid:",fe),_("Unable to process your order. Please clear your cart and add products again from the store."),k(!1);return}const{data:ee}=await Y.from("stores").select("id, user_id, whatsapp_number").eq("id",fe).maybeSingle();if(!ee){_("Store not found."),k(!1);return}const{data:we}=await Y.from("subscriptions").select(`
          status,
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          subscription_plans (
            name,
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",ee.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),he=we&&we.length>0?we[0]:null;if(!he){_("This store has no active subscription. Orders are currently unavailable."),k(!1);return}if(!["active","trial"].includes(he.status)){_("This store's subscription is not active. Orders are currently unavailable."),k(!1);return}const Me=new Date,Pe=he.current_period_end?new Date(he.current_period_end):null;if(Pe&&Pe<Me){_("This store's subscription has expired. Orders are currently unavailable."),k(!1);return}if(he.subscription_plans){const Re=he.subscription_plans.whatsapp_orders_limit,et=he.whatsapp_orders_used||0,jt=he.subscription_plans.website_orders_limit,je=he.website_orders_used||0;if(Re===null&&jt===null){_("Ordering is not available in this store's plan."),k(!1);return}const nt=Re!==null&&(Re===0||et<Re),at=jt!==null&&(jt===0||je<jt);if(!nt&&!at){const Dt=Re!==null?"whatsapp":"website",lt=Dt==="whatsapp"?et:je,vt=Dt==="whatsapp"?Re:jt;D({planName:he.subscription_plans.name||"Current Plan",ordersUsed:lt,ordersLimit:vt||0,storeWhatsApp:ee.whatsapp_number}),T(!0),k(!1);return}}_(null),k(!1)}catch(fe){console.error("Error checking subscription:",fe),_("Unable to verify store subscription. Please try again later."),k(!1)}},Ve=async()=>{try{if(a.length>0&&a[0].storeId){const fe=a[0].storeId,{data:ee}=await Y.from("stores").select("id, user_id, force_location_sharing").eq("id",fe).maybeSingle();if(!ee){f(!0),p(!1),console.log("No store found, enabling location by default");return}const{data:we}=await Y.from("subscriptions").select("plan_id, subscription_plans(enable_location_sharing)").eq("user_id",ee.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Me=(we&&we.length>0?we[0]:null)?.subscription_plans?.enable_location_sharing||!1,Pe=ee.force_location_sharing||!1;f(Me),p(Pe),console.log("Location feature enabled:",Me,"forced:",Pe,"for store:",ee.id)}else f(!1)}catch(fe){console.error("Error checking location feature:",fe),f(!1)}},He=(fe,ee)=>{g({latitude:fe,longitude:ee}),j(!1)},le=async()=>{if(!Z.trim()){z("Please enter a coupon code");return}ie(!0),z("");try{const fe=a[0]?.storeId;if(!fe){z("Store information not available"),ie(!1);return}const ee=Se.getValues("fullName"),we=Se.getValues("phone"),he=Se.getValues("email"),Pe=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c"},body:JSON.stringify({couponCode:Z,storeId:fe,cartTotal:i,customerPhone:we,customerEmail:he||void 0})})).json();if(!Pe.valid){z(Pe.error||"Invalid coupon code"),ce(null),pe(0),ie(!1);return}ce(Pe.coupon),pe(Pe.discount),z(""),l({title:"Coupon Applied",description:`Discount of ${Pe.discount.toFixed(2)} applied successfully!`})}catch(fe){z(fe.message||"Failed to apply coupon"),ce(null),pe(0)}finally{ie(!1)}},be=()=>{X(""),ce(null),pe(0),z("")};if(S)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:E,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx("div",{className:"max-w-md mx-auto text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Checking availability..."})})}),s.jsx(Yu,{})]});if(v)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:E,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(XD,{className:"w-24 h-24 mx-auto mb-6 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Orders Unavailable"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:v}),s.jsx(Tt,{to:E?`/${E}`:"/home",children:s.jsx(ae,{size:"lg",children:"Back to Home"})})]})}),s.jsx(Yu,{})]});if(a.length===0)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:E,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(XD,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to proceed to checkout"}),s.jsx(Tt,{to:E?`/${E}/products`:"/products",children:s.jsx(ae,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Yu,{})]});const Oe=async fe=>{if(u(!0),m&&!y){C.current?.scrollIntoView({behavior:"smooth",block:"center"}),j(!0),u(!1);return}const ee={morning:"Morning (9 AM - 12 PM)",evening:"Evening (4 PM - 7 PM)",anytime:"Anytime"}[fe.deliveryTime];try{const we=a[0]?.storeId;if(!we||we.trim()===""){l({title:"Cart Error",description:"Your cart contains invalid items. Please clear your cart and add products again.",variant:"destructive"}),u(!1);return}const{data:he}=await Y.from("stores").select("id, user_id").eq("id",we).maybeSingle();if(!he)throw new Error("Store not found");const{data:Me}=await Y.from("subscriptions").select(`
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          status,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",he.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Pe=Me&&Me.length>0?Me[0]:null;if(Pe){const at=new Date,Dt=Pe.current_period_end?new Date(Pe.current_period_end):null;if(Dt&&Dt<at)throw new Error("Your subscription has expired. Please upgrade your plan to continue accepting orders.");const lt=W!=="cod";if(Pe?.subscription_plans)if(lt){const vt=Pe.subscription_plans.website_orders_limit,Zt=Pe.website_orders_used||0;if(vt===null)throw new Error("Online ordering is not available in your current plan.");if(vt>0&&Zt>=vt)throw new Error("Website order limit reached for this month. Please contact the store or try COD.")}else{const vt=Pe.subscription_plans.whatsapp_orders_limit,Zt=Pe.whatsapp_orders_used||0;if(vt===null)throw new Error("WhatsApp ordering is not available in your current plan.");if(vt>0&&Zt>=vt)throw new Error("WhatsApp order limit reached for this month. Please try online payment.")}}const Re=`ORD${Date.now().toString().slice(-8)}`,et=i-de,jt={store_id:he.id,order_number:Re,customer_name:fe.fullName,customer_phone:fe.phone,customer_email:fe.email||null,delivery_address:fe.address,delivery_landmark:fe.landmark||null,delivery_pincode:fe.pincode,delivery_time:ee,delivery_latitude:y?.latitude||null,delivery_longitude:y?.longitude||null,items:a,subtotal:i,discount_amount:de,coupon_code:Q?.code||null,delivery_charge:0,total:et,status:"new",payment_method:W,payment_status:"pending",payment_gateway:W==="cod"?"cod":W},{data:je,error:nt}=await Y.from("orders").insert(jt).select("id").single();if(nt)throw nt;if(Q&&de>0)try{await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/record-coupon-usage",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c"},body:JSON.stringify({couponCode:Q.code,storeId:we,orderId:je.id,customerPhone:fe.phone,customerEmail:fe.email||void 0,discountApplied:de})})}catch(at){console.error("Error recording coupon usage:",at)}if(W==="razorpay")await _e({orderId:je.id,orderNumber:Re,customerName:fe.fullName,customerEmail:fe.email,customerPhone:fe.phone,amount:et,currency:"INR"});else if(W==="phonepe")await Ae({orderId:je.id,orderNumber:Re,customerName:fe.fullName,customerEmail:fe.email,customerPhone:fe.phone,amount:et,currency:"INR"});else{const at={customerName:fe.fullName,phone:fe.phone,email:fe.email||void 0,address:fe.address,landmark:fe.landmark||void 0,pincode:fe.pincode,deliveryTime:ee,latitude:y?.latitude,longitude:y?.longitude,cart:a,subtotal:i,discount:de,deliveryCharge:0,total:et},Dt=Che(at),lt=await Ehe(Dt,void 0,we);if(!lt.success){l({title:"WhatsApp Not Configured",description:lt.error,variant:"destructive"}),u(!1);return}l({title:"Order placed successfully!",description:"We'll contact you shortly on WhatsApp to confirm your order."}),o(),setTimeout(()=>{n(E?`/${E}`:"/home")},2e3)}u(!1)}catch(we){console.error("Checkout error:",we),l({title:"Order failed",description:we.message||"Failed to place order. Please try again.",variant:"destructive"}),u(!1)}},Ze=E?`/${E}`:"/home",tt=E?`/${E}/cart`:"/cart";return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:E,storeId:a[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(Tt,{to:Ze,className:"hover:text-foreground",children:"Home"}),s.jsx(Cf,{className:"w-4 h-4"}),s.jsx(Tt,{to:tt,className:"hover:text-foreground",children:"Cart"}),s.jsx(Cf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Checkout"})]}),s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(_x,{...Se,children:s.jsxs("form",{onSubmit:Se.handleSubmit(Oe),className:"space-y-6",children:[s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gr,{control:Se.control,name:"fullName",render:({field:fe})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Full Name *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"Enter your full name",...fe})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:Se.control,name:"phone",render:({field:fe})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Phone Number *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"10-digit mobile number",...fe})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:Se.control,name:"email",render:({field:fe})=>s.jsxs(dr,{className:"md:col-span-2",children:[s.jsx(xr,{children:"Email (Optional)"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"your.email@example.com",...fe})}),s.jsx(Rr,{})]})})]})]})}),s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(gr,{control:Se.control,name:"address",render:({field:fe})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Complete Address *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"House/Flat No., Street, Area",...fe})}),s.jsx(Rr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gr,{control:Se.control,name:"landmark",render:({field:fe})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Landmark (Optional)"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"Nearby location",...fe})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:Se.control,name:"pincode",render:({field:fe})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"PIN Code *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"6-digit PIN code",...fe})}),s.jsx(Rr,{})]})})]}),s.jsx(gr,{control:Se.control,name:"deliveryTime",render:({field:fe})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Preferred Delivery Time *"}),s.jsx(fr,{children:s.jsxs(vC,{onValueChange:fe.onChange,defaultValue:fe.value,className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Sf,{value:"morning",id:"morning"}),s.jsx(ke,{htmlFor:"morning",className:"flex-1 cursor-pointer font-normal",children:"Morning (9 AM - 12 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Sf,{value:"evening",id:"evening"}),s.jsx(ke,{htmlFor:"evening",className:"flex-1 cursor-pointer font-normal",children:"Evening (4 PM - 7 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Sf,{value:"anytime",id:"anytime"}),s.jsx(ke,{htmlFor:"anytime",className:"flex-1 cursor-pointer font-normal",children:"Anytime"})]})]})}),s.jsx(Rr,{})]})}),d&&s.jsxs("div",{ref:C,className:`space-y-3 p-4 rounded-lg border transition-all duration-300 ${m&&!y?"animate-pulse-border":""} ${w?"animate-attention-shake border-destructive bg-destructive/5 shadow-lg shadow-destructive/20":"bg-card/50 backdrop-blur-sm hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{className:"text-base font-medium",children:"Share Your Location"}),m?s.jsx(Mn.span,{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full bg-primary/10 text-primary border border-primary/20",initial:{scale:0,x:-10},animate:{scale:1,x:0},transition:{type:"spring",stiffness:500,damping:15},children:"Required"}):s.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-muted text-muted-foreground",children:"Optional"})]}),m&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"We need your location for accurate delivery"]}),s.jsx(Xit,{onLocationSelect:He,enabled:d}),s.jsx(MX,{mode:"wait",children:y&&s.jsxs(Mn.div,{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-950/30 px-3 py-2 rounded-md",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:500,damping:25},children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Location captured successfully"]})}),s.jsx(MX,{children:w&&!y&&s.jsxs(Mn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 text-sm text-destructive bg-destructive/10 px-3 py-2 rounded-md border border-destructive/20",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Please share your location to continue - it's required for delivery"]})})]})]})]})}),s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),I.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"Loading payment options..."})}):s.jsx("div",{className:"space-y-3",children:I.map(fe=>s.jsxs(Mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.01},whileTap:{scale:.99},className:`relative cursor-pointer rounded-xl border-2 transition-all duration-300 overflow-hidden ${W===fe.id?"border-primary bg-gradient-to-br from-primary/10 via-primary/5 to-transparent shadow-lg shadow-primary/20":"border-border hover:border-primary/40 bg-card hover:shadow-md"}`,onClick:()=>q(fe.id),children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 sm:p-5",children:[s.jsxs("div",{className:`relative w-14 h-14 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md transition-transform duration-300 ${W===fe.id?"scale-105":""} ${fe.color}`,children:[fe.id==="razorpay"&&s.jsx(Un,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),fe.id==="phonepe"&&s.jsx(l9,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),fe.id==="cod"&&s.jsx(u9,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-lg tracking-tight",children:[fe.id==="razorpay"&&"Paynow",fe.id==="phonepe"&&"Paynow",fe.id==="cod"&&"Cash on Delivery"]}),(fe.id==="razorpay"||fe.id==="phonepe")&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure"]})]}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground leading-tight",children:[fe.id==="razorpay"&&"Pay with cards, UPI, net banking & wallets",fe.id==="phonepe"&&"Pay with UPI, cards & bank accounts",fe.id==="cod"&&"Pay cash when your order arrives"]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${W===fe.id?"border-primary bg-primary shadow-md":"border-muted-foreground/30 hover:border-primary/50"}`,children:W===fe.id&&s.jsx(Mn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:20},className:"w-3 h-3 rounded-full bg-white"})})})]}),W===fe.id&&s.jsx(Mn.div,{layoutId:"payment-indicator",className:"absolute inset-0 rounded-xl border-2 border-primary pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:500,damping:30}})]},fe.id))}),W&&s.jsx(Mn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-accent/50 rounded-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 text-primary flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsxs("span",{className:"text-muted-foreground",children:[W==="cod"&&"No advance payment required. Pay cash when your order is delivered.",(W==="razorpay"||W==="phonepe")&&"Your payment is secure and encrypted. Complete payment to confirm your order."]})]})})]})}),s.jsx(ae,{type:"submit",size:"lg",className:"w-full md:w-auto",disabled:c||B,children:B?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):s.jsx(s.Fragment,{children:W==="cod"?s.jsxs(s.Fragment,{children:[s.jsx(cm,{className:"w-5 h-5 mr-2"}),"Place Order via WhatsApp"]}):s.jsxs(s.Fragment,{children:[s.jsx(Un,{className:"w-5 h-5 mr-2"}),"Proceed to Payment"]})})})]})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Ce,{className:"sticky top-24",children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:a.map(fe=>s.jsxs("div",{className:"flex gap-3 pb-3 border-b border-border last:border-0",children:[s.jsx("img",{src:fe.productImage,alt:fe.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:fe.productName}),fe.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:fe.variant}),s.jsxs("p",{className:"text-sm font-semibold text-primary",children:["",fe.price,"  ",fe.quantity]})]})]},`${fe.productId}-${fe.variant}`))}),s.jsxs("div",{className:"mb-4 pb-4 border-b border-border space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fy,{className:"w-4 h-4 text-primary"}),s.jsx(ke,{className:"text-sm font-medium",children:"Apply Coupon"})]}),Q?s.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:Q.code})]}),s.jsx("button",{onClick:be,className:"p-1 hover:bg-green-100 dark:hover:bg-green-900/30 rounded",children:s.jsx(Aa,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Fe,{placeholder:"Enter coupon code",value:Z,onChange:fe=>{X(fe.target.value.toUpperCase()),z("")},disabled:re,className:"text-sm"}),s.jsx(ae,{size:"sm",variant:"outline",onClick:le,disabled:re||!Z.trim(),children:re?s.jsx(Ut,{className:"w-4 h-4 animate-spin"}):"Apply"})]}),J&&s.jsx("p",{className:"text-xs text-destructive",children:J})]}),s.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",a.reduce((fe,ee)=>fe+ee.quantity,0)," items)"]}),s.jsxs("span",{children:["",i.toFixed(2)]})]}),de>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Discount"}),s.jsxs("span",{className:"text-destructive font-medium",children:["-",de.toFixed(2),Q?.discount_type==="percentage"&&s.jsxs("span",{className:"text-xs ml-1",children:["(",Q.discount_value,"%)"]})]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",(i-de).toFixed(2)]})]}),s.jsx("div",{className:"bg-accent p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[W==="razorpay"&&s.jsxs(s.Fragment,{children:[s.jsx(Un,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via Razorpay"})]}),W==="phonepe"&&s.jsxs(s.Fragment,{children:[s.jsx(l9,{className:"w-4 h-4 text-purple-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via PhonePe"})]}),W==="cod"&&s.jsxs(s.Fragment,{children:[s.jsx(u9,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash on Delivery"})]}),!W&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select payment method"})]})})]})})})]})]}),s.jsx(Yu,{}),s.jsx(cn,{open:P,onOpenChange:T,children:s.jsxs(sn,{className:"sm:max-w-md",children:[s.jsxs(un,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Vs,{className:"h-5 w-5"}),s.jsx(dn,{children:"Order Limit Reached"})]}),s.jsxs(Zn,{className:"pt-3 space-y-3",children:[s.jsx("p",{className:"text-base",children:"This store has reached its monthly order limit"}),O&&s.jsxs("div",{className:"bg-accent p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"font-semibold",children:O.planName})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Orders Used:"}),s.jsxs("span",{className:"font-semibold",children:[O.ordersUsed," of ",O.ordersLimit]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The store owner needs to upgrade their plan to accept more orders."})]})]}),s.jsxs(Sa,{className:"flex-col sm:flex-row gap-2",children:[O?.storeWhatsApp&&s.jsxs(ae,{onClick:()=>{window.open(`https://wa.me/${O.storeWhatsApp}`,"_blank")},variant:"default",className:"w-full sm:w-auto",children:[s.jsx(cm,{className:"h-4 w-4 mr-2"}),"Contact Store Owner"]}),s.jsx(ae,{onClick:()=>{T(!1),n(E?`/${E}`:"/")},variant:"outline",className:"w-full sm:w-auto",children:"Back to Store"})]})]})}),s.jsx("style",{children:`
        @keyframes pulse-border {
          0%, 100% { border-color: hsl(var(--border)); }
          50% { border-color: hsl(var(--primary) / 0.5); }
        }

        @keyframes attention-shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
          20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .animate-pulse-border {
          animation: pulse-border 2s ease-in-out infinite;
        }

        .animate-attention-shake {
          animation: attention-shake 0.6s ease-in-out;
        }
      `})]})};function LD(){const[e]=Rw(),t=vr(),[r,n]=b.useState("verifying"),[a,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(""),[m,p]=b.useState(""),[y,g]=b.useState(!1),[v,_]=b.useState(!1),w=b.useRef(!1),j=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),C=async(E,R)=>{if(!w.current){w.current=!0;try{if(!await khe(R)){_(!0);return}const T=await d2(R),O=f2(T),D=encodeURIComponent(E);if(j){const I=/Android/i.test(navigator.userAgent),L=/iPhone|iPad|iPod/i.test(navigator.userAgent);if(I){const W=`intent://send/${O}#Intent;scheme=whatsapp;package=com.whatsapp;action=android.intent.action.SENDTO;S.android.intent.extra.TEXT=${D};end`;try{window.location.href=W}catch{window.location.href=`whatsapp://send?phone=${O}&text=${D}`}}else L?window.location.href=`whatsapp://send?phone=${O}&text=${D}`:window.location.href=`whatsapp://send?phone=${O}&text=${D}`;g(!0),setTimeout(()=>{_(!0)},3e3)}else{const I=`https://wa.me/${O}?text=${D}`;window.open(I,"_blank","noopener,noreferrer"),g(!0),_(!0)}}catch(P){console.error("WhatsApp auto-open error:",P),_(!0)}}};b.useEffect(()=>{(async()=>{const R=e.get("gateway"),P=e.get("orderId"),T=e.get("storeId"),O=e.get("storeSlug");if(f(T||""),p(O||""),!R||!P||!T){n("failed");return}try{let D=!1,I="";if(R==="razorpay"){const G=e.get("razorpayOrderId"),K=e.get("paymentId"),U=e.get("signature");if(!G||!K||!U)throw new Error("Missing Razorpay payment details");D=(await Xst(G,K,U,T)).verified,I=K,D&&await Y.from("orders").update({payment_status:"completed",payment_id:K,payment_gateway:"razorpay",gateway_order_id:G,payment_response:{razorpay_payment_id:K,razorpay_order_id:G,razorpay_signature:U}}).eq("id",P)}if(!D){n("failed");return}const{data:L,error:W}=await Y.from("orders").select("*").eq("id",P).single();if(W||!L)throw new Error("Failed to fetch order details");const q=Che({customerName:L.customer_name,phone:L.customer_phone,email:L.customer_email,address:L.delivery_address,landmark:L.delivery_landmark,pincode:L.delivery_pincode,deliveryTime:L.delivery_time,latitude:L.delivery_latitude,longitude:L.delivery_longitude,cart:L.items,subtotal:L.subtotal,deliveryCharge:L.delivery_charge||0,total:L.total,paymentMethod:"online",paymentGateway:"Razorpay",transactionId:I,orderNumber:L.order_number});u(q),i(L.order_number),l(I),n("success"),setTimeout(()=>{C(q,T)},500)}catch(D){console.error("Payment processing error:",D),n("failed")}})()},[e]);const S=async()=>{if(!c||!d)return;const E=await d2(d),R=f2(E),P=encodeURIComponent(c);j?window.location.href=`whatsapp://send?phone=${R}&text=${P}`:window.open(`https://wa.me/${R}?text=${P}`,"_blank")},k=()=>{t(m?`/${m}`:"/home")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[r==="verifying"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx(Ut,{className:"h-20 w-20 text-blue-600 mx-auto animate-spin mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Payment"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your payment..."})]}),r==="success"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-white mb-4",children:s.jsx(ds,{className:"h-12 w-12 text-amber-600"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Payment Received"}),s.jsx("p",{className:"text-amber-100 text-lg",children:"Confirm on WhatsApp to complete your order"})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx(an,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-green-600 font-medium",children:"Payment"})]}),s.jsx("div",{className:"absolute left-[15%] right-[52%] top-5 h-1 bg-green-500"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center ring-4 ring-amber-200",style:{animation:"pop 2s ease-in-out infinite"},children:s.jsx(Wn,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-amber-600 font-bold",children:"Confirm"})]}),s.jsx("div",{className:"absolute left-[52%] right-[15%] top-5 h-1 bg-gray-200"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(xc,{className:"w-6 h-6 text-gray-400"})}),s.jsx("span",{className:"text-xs mt-2 text-gray-400 font-medium",children:"Shipped"})]})]})}),s.jsxs("div",{className:"p-8 space-y-5",children:[s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Order Number"}),s.jsx("span",{className:"text-gray-900 font-bold",children:a})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Transaction ID"}),s.jsxs("span",{className:"text-gray-900 font-mono text-sm",children:[o.slice(0,20),"..."]})]})]}),!v&&y&&s.jsx("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-2xl p-5 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-800 font-medium",children:[s.jsx(Ut,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Opening WhatsApp..."})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ae,{onClick:S,size:"lg",className:"w-full h-16 text-lg font-bold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl transition-all duration-200 animate-[pop_2s_ease-in-out_infinite]",style:{animation:"pop 2s ease-in-out infinite"},children:[s.jsx("img",{src:"/whatsapp-icon.png",alt:"WhatsApp",className:"w-7 h-7 mr-3"}),"Confirm My Order"]}),s.jsx("p",{className:"text-center text-sm text-gray-500",children:"Click to confirm order & send details via WhatsApp"})]}),s.jsx("style",{children:`
                @keyframes pop {
                  0%, 100% { transform: scale(1); }
                  50% { transform: scale(1.03); }
                }
              `}),s.jsx("div",{className:"text-center pt-2",children:s.jsx("button",{onClick:k,className:"text-sm text-gray-400 hover:text-gray-600 underline",children:"Return to store"})})]})]}),r==="failed"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 mb-6",children:s.jsx(Qn,{className:"h-12 w-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Verification Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue verifying your payment."}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"If the amount was deducted from your account, please contact our support with your transaction details."}),s.jsxs(ae,{onClick:k,size:"lg",variant:"outline",className:"w-full",children:[s.jsx(MZ,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})]})})}const eot=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState("monthly"),[c,u]=b.useState(null),d=vr(),{toast:f}=En();b.useEffect(()=>{p(),m()},[]);const m=()=>{const _=document.createElement("script");_.src="https://checkout.razorpay.com/v1/checkout.js",_.async=!0,document.body.appendChild(_)},p=async()=>{try{n(!0),i(null);const{data:_,error:w}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price",{ascending:!0});if(w)throw w;t(_||[])}catch(_){console.error("Error fetching plans:",_),i("Failed to load pricing plans. Please try again later.")}finally{n(!1)}},y=_=>{const w=[];return _.max_products?w.push(`Up to ${_.max_products.toLocaleString()} products`):w.push("Unlimited products"),_.whatsapp_orders_limit!==null&&(_.whatsapp_orders_limit===0?w.push("Unlimited WhatsApp orders"):w.push(`${_.whatsapp_orders_limit.toLocaleString()} WhatsApp orders/month`)),_.website_orders_limit!==null&&(_.website_orders_limit===0?w.push("Unlimited website orders"):w.push(`${_.website_orders_limit.toLocaleString()} website orders/month`)),_.enable_location_sharing&&w.push("Location sharing for deliveries"),_.enable_analytics&&w.push("Advanced analytics dashboard"),_.enable_order_emails&&w.push("Email notifications"),_.trial_days>0&&w.push(`${_.trial_days}-day free trial`),w},g=async _=>{try{u(_.id);const{data:{user:w}}=await Y.auth.getUser();if(!w){d("/auth");return}const{data:j}=await Y.from("subscriptions").select("*").eq("user_id",w.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),C=j&&j.length>0?j[0]:null;if(C&&C.status==="active"){f({title:"Already subscribed",description:"You already have an active subscription",variant:"destructive"});return}const S=o==="yearly"&&_.yearly_price?_.yearly_price:_.monthly_price,{data:k,error:E}=await Y.functions.invoke("razorpay-payment",{body:{action:"create_order",plan_id:_.id,billing_cycle:o,user_id:w.id}});if(E||!k.success)throw new Error(k?.error||"Failed to create payment order");const{data:R}=await Y.from("profiles").select("full_name, email, phone").eq("user_id",w.id).maybeSingle(),P={key:k.key_id,amount:k.amount,currency:k.currency,name:"StoreBuilder",description:`${_.name} - ${o==="yearly"?"Yearly":"Monthly"} Subscription`,order_id:k.order_id,prefill:{name:R?.full_name||w.email,email:R?.email||w.email,contact:R?.phone||""},theme:{color:"#3B82F6"},handler:async function(O){console.log(" Payment completed, verifying...",{order_id:O.razorpay_order_id,payment_id:O.razorpay_payment_id});try{f({title:"Verifying payment...",description:"Please wait while we confirm your payment"});let D=0,I=null,L=null;for(;D<3;){const W=await Y.functions.invoke("razorpay-payment",{body:{action:"verify_payment",razorpay_order_id:O.razorpay_order_id,razorpay_payment_id:O.razorpay_payment_id,razorpay_signature:O.razorpay_signature,subscription_id:k.subscription_id,user_id:w.id}});if(I=W.data,L=W.error,!L&&I?.success){console.log(" Payment verified successfully");break}D++,console.warn(` Verification attempt ${D} failed, retrying...`),D<3&&await new Promise(q=>setTimeout(q,1e3*D))}if(L||!I?.success)throw console.error(" Payment verification failed after 3 attempts:",{error:L,data:I}),new Error(I?.error||"Payment verification failed");f({title:"Payment successful! ",description:"Your subscription has been activated. Redirecting..."}),setTimeout(()=>{d("/admin/dashboard")},1500)}catch(D){console.error(" Payment verification error:",D),f({title:"Payment verification failed",description:D.message||"Please contact support with your payment details",variant:"destructive"}),setTimeout(()=>{d("/admin/dashboard")},3e3)}finally{u(null)}},modal:{ondismiss:function(){u(null)}}};new window.Razorpay(P).open()}catch(w){console.error("Payment error:",w),f({title:"Payment failed",description:w.message||"Unable to process payment",variant:"destructive"})}finally{u(null)}};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-primary"})});if(a)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(Xhe,{message:a,onRetry:p})});const v={"@context":"https://schema.org","@type":"WebPage",name:"Pricing Plans - DigitalDukandar",description:"Affordable e-commerce platform pricing for Indian businesses. Start with free 14-day trial. Plans starting from 299/month with unlimited products, WhatsApp integration & analytics.",url:"https://digitaldukandar.in/pricing"};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(n5,{children:[s.jsx("title",{children:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"title",content:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month. Unlimited products, WhatsApp orders, custom domain, analytics. No hidden fees. Cancel anytime."}),s.jsx("meta",{name:"keywords",content:"online store pricing India, e-commerce platform cost, affordable store builder, WhatsApp store pricing, small business e-commerce plans, digital store subscription India"}),s.jsx("link",{rel:"canonical",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{property:"og:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{name:"twitter:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-20 flex items-center justify-between",children:[s.jsxs(Tt,{to:"/",className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-2xl blur-sm opacity-70 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"relative w-11 h-11 bg-gradient-to-br from-primary via-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all",children:s.jsx(zv,{className:"w-6 h-6 text-primary-foreground"})})]}),s.jsx("span",{className:"font-playfair font-bold text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"StoreBuilder"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsx(Tt,{to:"/",children:s.jsx(ae,{variant:"ghost",size:"sm",children:"Back to Home"})}),s.jsx(Tt,{to:"/auth",children:s.jsxs(ae,{size:"sm",children:["Get Started",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Transparent Pricing"})}),s.jsx("h1",{className:"font-playfair text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6",children:"Choose Your Perfect Plan"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Simple, transparent pricing for your online store. Start free, upgrade as you grow."})]}),s.jsx("div",{className:"flex justify-center mb-12",children:s.jsxs("div",{className:"inline-flex items-center gap-3 bg-muted p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>l("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="monthly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Monthly"}),s.jsxs("button",{onClick:()=>l("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="yearly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["Yearly",s.jsx(_t,{variant:"secondary",className:"ml-2 bg-primary/10 text-primary",children:"Save 20%"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(_=>{const w=o==="yearly"&&_.yearly_price?_.yearly_price:_.monthly_price,j=y(_);return s.jsxs(Ce,{className:`relative p-8 transition-all duration-300 bg-card ${_.is_popular?"border-2 border-primary shadow-2xl scale-105":"border hover:shadow-lg hover:-translate-y-1"}`,children:[_.is_popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx(_t,{className:"bg-primary text-primary-foreground px-4 py-1.5 text-sm font-semibold shadow-lg",children:_.badge_text||"Most Popular"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold text-foreground mb-4 tracking-tight",children:_.name}),_.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:_.description}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[s.jsxs("span",{className:"text-5xl font-semibold text-foreground tracking-tight",children:["",w.toLocaleString()]}),s.jsxs("span",{className:"text-lg text-muted-foreground font-medium",children:["/",o==="monthly"?"month":"year"]})]}),o==="yearly"&&_.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",Math.round(_.yearly_price/12).toLocaleString(),"/month billed annually"]})]}),s.jsx(ae,{size:"lg",className:`w-full font-semibold mb-8 ${_.is_popular?"shadow-lg":""}`,variant:_.is_popular?"default":"outline",onClick:()=>g(_),disabled:c===_.id,children:c===_.id?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Get Started",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-4",children:"Everything included:"}),j.map((C,S)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(rn,{className:"w-3 h-3 text-green-500"})}),s.jsx("span",{className:"text-sm text-foreground font-medium leading-relaxed",children:C})]},S))]})]},_.id)})}),s.jsx("div",{className:"mt-20 text-center",children:s.jsxs("div",{className:"inline-flex flex-wrap justify-center items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Secure payment processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Instant activation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Cancel anytime"})]})]})})]})}),s.jsx("footer",{className:"border-t border-border/50 bg-muted/20 py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:" 2024 StoreBuilder. All rights reserved."})})})]})};function tot(){const e=vr(),{toast:t}=En(),[r,n]=Rw(),[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1);b.useEffect(()=>{const y=r.get("ref");if(y&&(console.log("[Auth] Referral code captured:",y),sessionStorage.setItem("referral_code",y)),r.get("error")==="account_deleted"&&(u(!0),n({})),r.get("code")!==null){console.log("[Auth] OAuth callback detected - waiting for session to be established"),f(!0);return}Y.auth.getSession().then(async({data:{session:w}})=>{if(console.log("[Auth] Checking existing session:",w?"Found":"None"),w){l(!0),console.log("[Auth] Checking for helper with ID:",w.user.id);const{data:j,error:C}=await Y.from("helpers").select("*").eq("id",w.user.id).maybeSingle();if(console.log("[Auth] Helper query result:",{helperData:j,helperError:C}),j){console.log("[Auth] Helper found - redirecting to helper dashboard"),e("/helper/dashboard"),i(!1);return}const{data:S,error:k}=await Y.from("stores").select("*").eq("user_id",w.user.id).maybeSingle();console.log("[Auth] Store query error:",k),console.log("[Auth] Store found:",S?"Yes":"No",S),S?(console.log("[Auth] Redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),e("/onboarding/store-setup")),i(!1)}});const{data:{subscription:_}}=Y.auth.onAuthStateChange((w,j)=>{console.log("[Auth] Auth state changed:",w,j?"Session exists":"No session"),f(!1),w==="SIGNED_IN"&&j&&(l(!0),setTimeout(async()=>{try{console.log("[Auth] SIGNED_IN - Checking for helper with ID:",j.user.id);const{data:C,error:S}=await Y.from("helpers").select("*").eq("id",j.user.id).maybeSingle();if(console.log("[Auth] SIGNED_IN - Helper query result:",{helperData:C,helperError:S}),C){console.log("[Auth] Helper found - redirecting to helper dashboard"),t({title:"Welcome back!",description:"Redirecting to your helper dashboard."}),e("/helper/dashboard");return}const{data:k,error:E}=await Y.from("stores").select("*").eq("user_id",j.user.id).maybeSingle();console.log("[Auth] After sign in - Query error:",E),console.log("[Auth] After sign in - Store found:",k?"Yes":"No",k);const R=j.provider_token,P=j.provider_refresh_token;if(k&&R){console.log("[Auth] Saving Google Drive tokens to store");const T={google_access_token:R};if(P){const O=new Date(Date.now()+36e5);T.google_refresh_token=P,T.google_token_expiry=O.toISOString()}await Y.from("stores").update(T).eq("id",k.id)}k?(console.log("[Auth] Existing user - redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),t({title:"Welcome!",description:"Let's set up your store."}),e("/onboarding/store-setup"))}catch(C){console.error("[Auth] Error checking store:",C),t({variant:"destructive",title:"Error",description:"Failed to verify account. Please try again."})}},0))});return()=>_.unsubscribe()},[e,t]);const m=async()=>{try{i(!0),console.log("[Auth] Starting Google sign in...");const{error:y}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth`,scopes:"https://www.googleapis.com/auth/drive.file"}});y?(console.error("[Auth] Sign in error:",y),t({variant:"destructive",title:"Error",description:y.message})):console.log("[Auth] OAuth redirect initiated")}catch(y){console.error("[Auth] Unexpected error:",y),t({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{i(!1)}},p=async()=>{try{i(!0);const{error:y}=await Y.auth.signOut();if(y)throw y;t({title:"Signed out",description:"You have been signed out successfully."}),window.location.reload()}catch(y){t({variant:"destructive",title:"Error",description:y.message})}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-4",children:[c&&s.jsx(Yr,{variant:"destructive",className:"border-2 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Si,{className:"h-6 w-6 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Y5,{className:"text-lg font-semibold mb-2",children:"Account Deleted"}),s.jsx(Xr,{className:"text-base",children:"Your account has been deleted by the administrator. All your data has been removed from the system."})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>u(!1),children:s.jsx(Qn,{className:"h-5 w-5"})})]})}),s.jsxs(Ce,{className:"w-full",children:[s.jsxs(Xe,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(Om,{size:48})}),s.jsx(Je,{className:"text-2xl font-bold text-center",children:"Sign In"}),s.jsx(Pr,{className:"text-center",children:"Sign in to access your dashboard"})]}),s.jsx(Ee,{className:"space-y-4",children:d?s.jsxs("div",{className:"text-center space-y-4 py-4",children:[s.jsx(Ut,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing sign in..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2 py-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"You're already signed in"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Redirecting to your dashboard..."})]}),s.jsx(ae,{onClick:p,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing out..."]}):"Sign out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{onClick:m,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}function rot(){const e=vr(),{toast:t}=En(),[r,n]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),m="superadmin.digitaldukandar.in";b.useEffect(()=>{const y=window.location.hostname,g=y.endsWith(".lovable.app")||y.endsWith(".lovable.dev")||y.endsWith(".lovableproject.com");!(y===m)&&!(y==="localhost"||y==="127.0.0.1")&&!g&&f(!0)},[]);const p=async y=>{y.preventDefault(),u(!0);try{const{data:g,error:v}=await Y.auth.signInWithPassword({email:r,password:a});if(v)throw v;if(!g.user)throw new Error("Login failed");const{data:_,error:w}=await Y.from("user_roles").select("role").eq("user_id",g.user.id).eq("role","super_admin");if(w)throw w;if(!_||_.length===0)throw await Y.auth.signOut(),new Error("You do not have super admin access");const{data:j}=await Y.from("profiles").select("full_name").eq("user_id",g.user.id).single();sessionStorage.setItem("superadmin_session",JSON.stringify({id:g.user.id,email:g.user.email,fullName:j?.full_name||"Super Admin",loginAt:new Date().toISOString()})),o&&localStorage.setItem("superadmin_remember","true"),t({title:"Login Successful",description:"Welcome back to Super Admin Panel"}),e("/superadmin/dashboard")}catch(g){console.error("Login error:",g),t({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials or insufficient permissions"})}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:s.jsxs(Ce,{className:"w-full max-w-md",children:[s.jsxs(Xe,{className:"space-y-4 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(Qf,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-3xl font-bold",children:"Super Admin"}),s.jsx(Pr,{className:"mt-2",children:d?"Access Restricted":"Enter your credentials to access the admin panel"})]})]}),s.jsx(Ee,{children:d?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-destructive font-medium",children:"Unauthorized Domain Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This super admin panel can only be accessed from authorized domains."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current domain: ",s.jsx("span",{className:"font-mono",children:window.location.hostname})]})]}):s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"email",children:"Email Address"}),s.jsx(Fe,{id:"email",type:"email",placeholder:"admin@example.com",value:r,onChange:y=>n(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"password",children:"Password"}),s.jsx(Fe,{id:"password",type:"password",placeholder:"",value:a,onChange:y=>i(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{id:"remember",checked:o,onCheckedChange:y=>l(y),disabled:c}),s.jsx(ke,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx(ae,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}function jg({className:e,...t}){return s.jsx("div",{className:ft("animate-pulse rounded-md bg-muted",e),...t})}function not(){const[e,t]=b.useState([]),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:o,error:l}=await Y.from("subscription_plans").select("id, name, enable_location_sharing, enable_analytics, enable_order_emails").order("display_order");if(l)throw l;t(o||[])}catch(o){Ie({title:"Error",description:o.message,variant:"destructive"})}finally{n(!1)}},i=async(o,l,c)=>{try{const{error:u}=await Y.from("subscription_plans").update({[l]:c}).eq("id",o);if(u)throw u;Ie({title:"Success",description:"Feature setting updated"}),a()}catch(u){Ie({title:"Error",description:u.message,variant:"destructive"})}};return r?s.jsx(Ce,{children:s.jsx(Ee,{className:"p-6 text-center",children:s.jsx(Ut,{className:"h-8 w-8 animate-spin mx-auto"})})}):s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Feature Management"})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-6",children:e.map(o=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:o.name}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:`location-${o.id}`,className:"cursor-pointer",children:"Location Sharing"}),s.jsx(Gr,{id:`location-${o.id}`,checked:o.enable_location_sharing,onCheckedChange:l=>i(o.id,"enable_location_sharing",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:`analytics-${o.id}`,className:"cursor-pointer",children:"Analytics"}),s.jsx(Gr,{id:`analytics-${o.id}`,checked:o.enable_analytics,onCheckedChange:l=>i(o.id,"enable_analytics",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Order Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for new orders"})]}),s.jsx(Gr,{checked:o.enable_order_emails,onCheckedChange:l=>i(o.id,"enable_order_emails",l)})]})]})]},o.id))})})]})}function sot(){const e=vr(),{toast:t}=En(),[r,n]=b.useState(""),[a,i]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState(null),[m,p]=b.useState(!0);b.useEffect(()=>{(async()=>{const C=sessionStorage.getItem("superadmin_session");if(C){const R=JSON.parse(C);n(R.fullName),y();return}const{data:{user:S}}=await Y.auth.getUser();if(!S){e("/superadmin/login");return}const{data:k}=await Y.from("user_roles").select("role").eq("user_id",S.id).eq("role","super_admin");if(!k||k.length===0){t({title:"Access Denied",description:"You need super admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:E}=await Y.from("profiles").select("full_name, email").eq("user_id",S.id).single();n(E?.full_name||E?.email||S.email||"Super Admin"),y()})();const j=setInterval(y,6e4);return()=>clearInterval(j)},[e]);const y=async()=>{try{const{data:w}=await Y.from("profiles").select("created_at, user_id"),j=w?.length||0,{data:C}=await Y.from("user_roles").select("user_id").eq("role","super_admin"),S=new Set(C?.map(Re=>Re.user_id)||[]),k=(w||[]).filter(Re=>!S.has(Re.user_id)),E=k.length,R=new Date;R.setHours(0,0,0,0);const P=k.filter(Re=>new Date(Re.created_at)>=R).length,T=new Date;T.setDate(T.getDate()-30);const O=new Date;O.setDate(O.getDate()-7);const{data:D}=await Y.from("stores").select("id, user_id, last_admin_visit, created_at"),{data:I}=await Y.from("orders").select("store_id").gte("created_at",T.toISOString()),L=new Set(I?.map(Re=>Re.store_id)||[]),q=(D||[]).filter(Re=>!S.has(Re.user_id)&&(L.has(Re.id)||Re.last_admin_visit&&new Date(Re.last_admin_visit)>=O)).length,G=(D||[]).filter(Re=>!S.has(Re.user_id)).length,K=G>0?q/G*100:0,U=new Date;U.setDate(1),U.setHours(0,0,0,0);const F=new Date(U);F.setMonth(F.getMonth()-1);const{data:B}=await Y.from("transactions").select("total_amount").eq("status","success").gte("created_at",U.toISOString()),V=B?.reduce((Re,et)=>Re+(et.total_amount||0),0)||0,{data:Z}=await Y.from("transactions").select("total_amount").eq("status","success").gte("created_at",F.toISOString()).lt("created_at",U.toISOString()),X=Z?.reduce((Re,et)=>Re+(et.total_amount||0),0)||0,Q=X>0?(V-X)/X*100:V>0?100:0,ce=new Date;ce.setDate(ce.getDate()-60);const de=k.filter(Re=>new Date(Re.created_at)>=T).length,pe=k.filter(Re=>{const et=new Date(Re.created_at);return et>=ce&&et<T}).length,re=pe>0?(de-pe)/pe*100:de>0?100:0;i({totalUsers:E,todayUsers:P,activeStores:q,activePercentage:K,monthlyRevenue:V,revenueGrowth:Q,newSignups:de,signupGrowth:re});const{data:ie}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price"),{data:J}=await Y.from("subscriptions").select("plan_id, user_id, status").in("status",["trial","active"]),z=(J||[]).filter(Re=>!S.has(Re.user_id)),Se=new Map;z.forEach(Re=>{const et=Se.get(Re.plan_id)||0;Se.set(Re.plan_id,et+1)});const te=["bg-gray-500","bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"],_e=z.length,Ae=(ie||[]).map((Re,et)=>{const jt=Se.get(Re.id)||0;return{plan:Re.name,users:jt,percentage:_e>0?jt/_e*100:0,revenue:jt*(Re.monthly_price||0),color:te[et%te.length]}});Ae.sort((Re,et)=>et.users-Re.users),l(Ae);const ue=[],Ve=k.sort((Re,et)=>new Date(et.created_at).getTime()-new Date(Re.created_at).getTime()).slice(0,5),{data:He}=await Y.from("profiles").select("user_id, email, full_name, created_at").in("user_id",Ve.map(Re=>Re.user_id));He?.forEach(Re=>{ue.push({id:`signup-${Re.user_id}`,type:"signup",description:`New user registered: ${Re.full_name||"Unknown"}`,userEmail:Re.email,timestamp:Re.created_at,icon:"user-plus"})});const{data:le}=await Y.from("subscriptions").select(`
          id,
          user_id,
          status,
          created_at,
          updated_at,
          subscription_plans(name)
        `).order("updated_at",{ascending:!1}).limit(5),be=le?.map(Re=>Re.user_id)||[],{data:Oe}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",be),Ze=new Map(Oe?.map(Re=>[Re.user_id,Re])||[]);le?.forEach(Re=>{if(!S.has(Re.user_id)){const et=Ze.get(Re.user_id);ue.push({id:`sub-${Re.id}`,type:Re.status==="active"?"upgrade":"subscription",description:`Subscription ${Re.status}: ${Re.subscription_plans?.name||"Plan"}`,userEmail:et?.email||null,timestamp:Re.updated_at,icon:"trending-up"})}}),ue.sort((Re,et)=>new Date(et.timestamp).getTime()-new Date(Re.timestamp).getTime()),u(ue.slice(0,10));const tt=performance.now(),{data:fe}=await Y.from("profiles").select("user_id").limit(1),ee=performance.now()-tt,we=ee<100?"healthy":ee<500?"degraded":"down",{data:he}=await Y.from("platform_settings").select("razorpay_key_id").single(),Me=he?.razorpay_key_id?"active":"inactive",{count:Pe}=await Y.from("orders").select("*",{count:"exact",head:!0});f({database:{status:we,responseTime:Math.round(ee)},api:{status:"operational",uptime:99.98},payment:{status:Me,provider:"Razorpay"},storage:{totalUsers:E,totalStores:G,totalOrders:Pe||0}}),p(!1)}catch(w){console.error("Dashboard load error:",w),t({variant:"destructive",title:"Error Loading Data",description:w.message}),p(!1)}},g=()=>{sessionStorage.removeItem("superadmin_session"),localStorage.removeItem("superadmin_remember"),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/superadmin/login")},v=w=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(w),_=w=>{const j=new Date,C=new Date(w),S=j.getTime()-C.getTime(),k=Math.floor(S/6e4),E=Math.floor(S/36e5),R=Math.floor(S/864e5);return k<1?"Just now":k<60?`${k}m ago`:E<24?`${E}h ago`:`${R}d ago`};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qf,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"YourPlatform - Super Admin"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-5 w-5"}),s.jsx("span",{children:r})]})}),s.jsxs(Ec,{align:"end",className:"w-56",children:[s.jsxs(_n,{onClick:()=>window.open("/","_blank"),children:[s.jsx(ja,{className:"mr-2 h-4 w-4"}),"View Platform Site"]}),s.jsxs(_n,{children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(op,{}),s.jsxs(_n,{onClick:g,className:"text-destructive",children:[s.jsx(np,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:"w-64 border-r bg-card min-h-screen p-4",children:s.jsxs("nav",{className:"space-y-2",children:[s.jsxs(ae,{variant:"default",className:"w-full justify-start",children:[s.jsx(MZ,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/users"),children:[s.jsx(ki,{className:"mr-2 h-4 w-4"}),"Users & Stores"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/helpers"),children:[s.jsx(ki,{className:"mr-2 h-4 w-4"}),"Helper Management"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commissions"),children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Commission Management"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commission-settings"),children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Commission Settings"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/reports-analytics"),children:[s.jsx(ux,{className:"mr-2 h-4 w-4"}),"Reports & Analytics"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/subscription-plans"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Subscription Plans"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/transactions"),children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Transactions"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/billing"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Billing & Revenue"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/custom-domains"),children:[s.jsx(km,{className:"mr-2 h-4 w-4"}),"Custom Domains"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/sitemaps"),children:[s.jsx(Jc,{className:"mr-2 h-4 w-4"}),"SEO & Sitemaps"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/marketplace"),children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Marketplace"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/video-generator"),children:[s.jsx(PM,{className:"mr-2 h-4 w-4"}),"Video Generator"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/settings"),children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Platform Settings"]})]})}),s.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m?Array(4).fill(0).map((w,j)=>s.jsx(jg,{className:"h-32"},j)):a&&s.jsxs(s.Fragment,{children:[s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.totalUsers.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Fl,{className:"h-4 w-4 text-green-500"}),"+",a.todayUsers," today"]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Active Stores"})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.activeStores.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(an,{className:"h-4 w-4 text-green-500"}),a.activePercentage.toFixed(1),"% active"]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-3xl font-bold",children:v(a.monthlyRevenue)}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Fl,{className:"h-4 w-4 text-green-500"}),"+",a.revenueGrowth,"% from last month"]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"New Signups (30 days)"})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.newSignups}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Fl,{className:"h-4 w-4 text-green-500"}),"+",a.signupGrowth,"% growth"]})]})]})]})}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Subscriptions by Plan"})}),s.jsx(Ee,{className:"space-y-4",children:m?s.jsx(jg,{className:"h-40"}):o.length>0?s.jsxs(s.Fragment,{children:[o.map(w=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:w.plan}),s.jsxs("span",{className:"text-muted-foreground",children:[w.users," users (",w.percentage.toFixed(1),"%)",w.revenue>0&&` - ${v(w.revenue)}/mo`]})]}),s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${w.color} transition-all`,style:{width:`${Math.max(w.percentage,2)}%`}})})]},w.plan)),s.jsxs("div",{className:"pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Total Subscribers"}),s.jsxs("span",{className:"text-muted-foreground",children:[o.reduce((w,j)=>w+j.users,0)," users"]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("span",{className:"font-medium",children:"Total MRR"}),s.jsx("span",{className:"text-muted-foreground",children:v(o.reduce((w,j)=>w+j.revenue,0))})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subscription plans available"})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Monthly Recurring Revenue"})}),s.jsxs(Ee,{children:[m?s.jsx(jg,{className:"h-64"}):s.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed rounded-lg",children:s.jsx("p",{className:"text-muted-foreground",children:"Revenue chart will be displayed here"})}),a&&s.jsxs("div",{className:"mt-4 flex gap-6 text-sm",children:[s.jsxs("span",{children:["Current MRR: ",s.jsx("strong",{children:v(a.monthlyRevenue)})]}),s.jsxs("span",{children:["ARR: ",s.jsx("strong",{children:v(a.monthlyRevenue*12)})]})]})]})]}),s.jsx(not,{}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Recent Activity"})}),s.jsx(Ee,{children:m?s.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((w,j)=>s.jsx(jg,{className:"h-16"},j))}):c.length>0?s.jsxs("div",{className:"space-y-4",children:[c.map(w=>s.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[s.jsx("div",{className:"p-2 bg-muted rounded-lg",children:s.jsx(OZ,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:w.description}),w.userEmail&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:w.userEmail})]}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:_(w.timestamp)})]},w.id)),s.jsxs(ae,{variant:"ghost",className:"w-full",children:["View All Activity",s.jsx(Cf,{className:"ml-2 h-4 w-4"})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"System Status"})}),s.jsx(Ee,{children:m?s.jsx(jg,{className:"h-32"}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.database.status==="healthy"?"bg-green-500":d.database.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Database"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.database.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.database.responseTime,"ms"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.api.status==="operational"?"bg-green-500":d.api.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"API"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.api.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.api.uptime,"% uptime"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.payment.status==="active"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Payment Gateway"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.payment.status}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.payment.provider})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Storage"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.storage.totalOrders.toLocaleString()," orders"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.storage.totalUsers," users, ",d.storage.totalStores," stores"]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString(),"  Auto-refresh every 60s"]})})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"System health data unavailable"})})]})]})]})]})}var $D={exports:{}},BD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qJ;function aot(){if(qJ)return BD;qJ=1;var e=x2();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var p=m(),y=n({inst:{value:p,getSnapshot:m}}),g=y[0].inst,v=y[1];return i(function(){g.value=p,g.getSnapshot=m,c(g)&&v({inst:g})},[f,p,m]),a(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),o(p),p}function c(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!r(f,p)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return BD.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,BD}var WJ;function iot(){return WJ||(WJ=1,$D.exports=aot()),$D.exports}var oot=iot();function lot(){return oot.useSyncExternalStore(cot,()=>!0,()=>!1)}function cot(){return()=>{}}var u8="Avatar",[uot]=Is(u8),[dot,pme]=uot(u8),gme=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=b.useState("idle");return s.jsx(dot,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(At.span,{...n,ref:t})})});gme.displayName=u8;var xme="AvatarImage",vme=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=pme(xme,r),l=fot(n,i),c=Ts(u=>{a(u),o.onImageLoadingStatusChange(u)});return Ds(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(At.img,{...i,ref:t,src:n}):null});vme.displayName=xme;var yme="AvatarFallback",bme=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=pme(yme,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(At.span,{...a,ref:t}):null});bme.displayName=yme;function HJ(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fot(e,{referrerPolicy:t,crossOrigin:r}){const n=lot(),a=b.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=b.useState(()=>HJ(i,e));return Ds(()=>{l(HJ(i,e))},[i,e]),Ds(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var wme=gme,_me=vme,jme=bme;const Nme=b.forwardRef(({className:e,...t},r)=>s.jsx(wme,{ref:r,className:ft("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Nme.displayName=wme.displayName;const hot=b.forwardRef(({className:e,...t},r)=>s.jsx(_me,{ref:r,className:ft("aspect-square h-full w-full",e),...t}));hot.displayName=_me.displayName;const Sme=b.forwardRef(({className:e,...t},r)=>s.jsx(jme,{ref:r,className:ft("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Sme.displayName=jme.displayName;function mot({subscription:e,open:t,onClose:r,onSuccess:n}){const[a,i]=b.useState(!1),[o,l]=b.useState(!0),c=async()=>{try{if(i(!0),console.log("Subscription object:",e),console.log("Subscription ID:",e?.id),!e?.id)throw new Error("Subscription ID is missing. Please refresh the page and try again.");const f=new Date,m=new Date;e.billing_cycle==="yearly"?m.setFullYear(m.getFullYear()+1):m.setMonth(m.getMonth()+1);const p={status:"active",current_period_start:f.toISOString(),current_period_end:m.toISOString(),next_billing_at:m.toISOString(),updated_at:new Date().toISOString()};o&&(p.whatsapp_orders_used=0,p.website_orders_used=0);const{error:y}=await Y.from("subscriptions").update(p).eq("id",e.id);if(y)throw y;Ie({title:"Success",description:"Subscription renewed successfully"}),n(),r()}catch(f){console.error("Error renewing subscription:",f),Ie({title:"Error",description:f.message||"Failed to renew subscription",variant:"destructive"})}finally{i(!1)}};if(!e)return null;const u=e.status==="expired"||e.status==="pending_payment",d={whatsapp:e.whatsapp_orders_used||0,website:e.website_orders_used||0};return s.jsx(cn,{open:t,onOpenChange:r,children:s.jsxs(sn,{className:"sm:max-w-[500px]",children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Renew Subscription"}),s.jsx(Zn,{children:"Manually renew the subscription for this user"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Yr,{className:u?"border-red-500":"",children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsx(Xr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Plan:"}),s.jsx("span",{children:e.plan?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx("span",{className:"capitalize",children:e.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Current Period End:"}),s.jsx("span",{children:e.current_period_end?new Date(e.current_period_end).toLocaleDateString():"N/A"})]})]})})]}),s.jsx(Yr,{children:s.jsx(Xr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Current Order Usage:"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"WhatsApp Orders:"}),s.jsx("span",{className:"font-mono",children:d.whatsapp})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Website Orders:"}),s.jsx("span",{className:"font-mono",children:d.website})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-md border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"reset-counters",className:"font-medium",children:"Reset Order Counters"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset WhatsApp and Website order counts to 0"})]}),s.jsx(Gr,{id:"reset-counters",checked:o,onCheckedChange:l})]}),s.jsxs(Yr,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),s.jsxs(Xr,{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"After Renewal:"}),s.jsxs("ul",{className:"text-green-800 dark:text-green-200 space-y-1",children:[s.jsx("li",{children:" Status will be set to 'active'"}),s.jsxs("li",{children:[" New period: ",new Date().toLocaleDateString()," -"," ",e.billing_cycle==="yearly"?new Date(Date.now()+365*24*60*60*1e3).toLocaleDateString():new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]}),o&&s.jsx("li",{children:" Order counters will be reset to 0"}),!o&&s.jsx("li",{children:" Order counters will remain unchanged"})]})]})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:r,disabled:a,children:"Cancel"}),s.jsxs(ae,{onClick:c,disabled:a,children:[a&&s.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Renew Subscription"]})]})]})})}function kme({open:e,onOpenChange:t,userId:r,userEmail:n,currentSubscription:a,onSuccess:i}){const[o,l]=b.useState([]),[c,u]=b.useState(""),[d,f]=b.useState("monthly"),[m,p]=b.useState("trial"),[y,g]=b.useState(14),[v,_]=b.useState(!1);b.useEffect(()=>{e&&w()},[e]);const w=async()=>{try{const{data:S,error:k}=await Y.from("subscription_plans").select("id, name, trial_days").eq("is_active",!0).order("display_order");if(k)throw k;l(S||[])}catch(S){Ie({title:"Error",description:S.message,variant:"destructive"})}},j=S=>{u(S);const k=o.find(E=>E.id===S);k&&g(k.trial_days||14)},C=async()=>{if(!c){Ie({title:"Error",description:"Please select a plan",variant:"destructive"});return}try{_(!0);const S=new Date;let k=new Date;m==="trial"?k.setDate(k.getDate()+y):m==="active"?d==="monthly"?k.setMonth(k.getMonth()+1):k.setFullYear(k.getFullYear()+1):k=new Date(S.getTime()-864e5);const E=m==="trial"?new Date(S.getTime()+y*864e5):null,R=m==="active"?new Date(k.getTime()):null,{data:P}=await Y.from("subscriptions").select("id").eq("user_id",r).maybeSingle(),T={plan_id:c,billing_cycle:d,status:m,current_period_start:S.toISOString(),current_period_end:k.toISOString(),trial_ends_at:E?.toISOString()||null,next_billing_at:R?.toISOString()||null,started_at:S.toISOString()};if(P){const{error:O}=await Y.from("subscriptions").update({...T,updated_at:S.toISOString()}).eq("id",P.id);if(O)throw O}else{const{error:O}=await Y.from("subscriptions").insert({user_id:r,...T});if(O)throw O}Ie({title:"Success",description:`Subscription plan assigned to ${n}`}),i(),t(!1)}catch(S){Ie({title:"Error",description:S.message,variant:"destructive"})}finally{_(!1)}};return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"max-w-md",children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Assign Subscription Plan"}),s.jsxs(Zn,{children:["Assign or update subscription plan for ",n,a&&s.jsxs("span",{className:"block mt-2 text-sm",children:["Current: ",a.plan.name," (",a.status,")"]})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Select Plan"}),s.jsxs(ar,{value:c,onValueChange:j,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Choose a plan"})}),s.jsx(nr,{children:o.map(S=>s.jsx(Ue,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Status"}),s.jsxs(ar,{value:m,onValueChange:p,children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"trial",children:"Trial"}),s.jsx(Ue,{value:"active",children:"Active"}),s.jsx(Ue,{value:"expired",children:"Expired"}),s.jsx(Ue,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Billing Cycle"}),s.jsxs(ar,{value:d,onValueChange:f,children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"monthly",children:"Monthly"}),s.jsx(Ue,{value:"yearly",children:"Yearly"})]})]})]}),m==="trial"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Trial Days"}),s.jsx(Fe,{type:"number",value:y,onChange:S=>g(parseInt(S.target.value)),min:0})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ae,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ae,{onClick:C,disabled:v,children:v?"Assigning...":"Assign Plan"})]})]})})}function pot({user:e,open:t,onClose:r,onRefresh:n}){const[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState("");b.useEffect(()=>{if(!e?.subscription)return;const g=()=>{const _=e.subscription.status==="trial"?e.subscription.trial_ends_at:e.subscription.current_period_end;if(!_)return"";const w=new Date().getTime(),C=new Date(_).getTime()-w;if(C<=0)return"Expired";const S=Math.floor(C/(1e3*60*60*24)),k=Math.floor(C%(1e3*60*60*24)/(1e3*60*60)),E=Math.floor(C%(1e3*60*60)/(1e3*60)),R=Math.floor(C%(1e3*60)/1e3);return`${S}d ${k}h ${E}m ${R}s`};f(g());const v=setInterval(()=>{f(g())},1e3);return()=>clearInterval(v)},[e?.subscription]);const m=g=>{navigator.clipboard.writeText(g),Ie({title:"Copied",description:"Copied to clipboard"})},p=async()=>{try{console.log("Attempting to login as user:",e.id,e.email);const{data:g,error:v}=await Y.functions.invoke("login-as-user",{body:{user_id:e.id}});if(console.log("Edge function response:",{data:g,error:v}),v){if(console.error("Edge function error:",v),v.context?.body){const _=await v.context.text();console.error("Response body:",_);try{const w=JSON.parse(_);if(w.error)throw new Error(w.error)}catch(w){console.error("Could not parse response:",w)}}throw v}if(g?.error)throw console.error("Error from edge function:",g.error),new Error(g.error);if(g?.access_token){const{data:_}=await Y.auth.getSession();if(_.session){const w={..._.session,saved_at:Date.now(),user_id:_.session.user.id,reason:"impersonation"};localStorage.setItem("superadmin_session",JSON.stringify(w))}await Y.auth.setSession({access_token:g.access_token,refresh_token:g.refresh_token}),Ie({title:"Success",description:`Logged in as ${e.email}`}),window.location.href="/admin/dashboard"}else throw new Error("No access token received from edge function")}catch(g){console.error("Login as user error:",g),Ie({title:"Error",description:g.message||"Failed to login as user",variant:"destructive"})}},y=async()=>{if(!e.subscription){Ie({title:"Error",description:"No active subscription to cancel",variant:"destructive"});return}if(confirm(`Are you sure you want to cancel the subscription for ${e.email}?

Plan: ${e.subscription.plan.name}
Status: ${e.subscription.status}

This action will cancel their subscription immediately.`))try{u(!0);const{error:v}=await Y.from("subscriptions").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e.subscription.id);if(v)throw v;Ie({title:"Success",description:`Subscription cancelled for ${e.email}`}),n(),setTimeout(()=>{r()},1e3)}catch(v){console.error("Cancel subscription error:",v),Ie({title:"Error",description:v.message||"Failed to cancel subscription",variant:"destructive"})}finally{u(!1)}};return s.jsxs(cn,{open:t,onOpenChange:r,children:[s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","aria-describedby":void 0,children:[s.jsx(un,{children:s.jsxs(dn,{children:["User Details - ",e.email]})}),s.jsxs(mu,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-4",children:[s.jsx(Qr,{value:"overview",children:"Overview"}),s.jsx(Qr,{value:"subscription",children:"Subscription"}),s.jsx(Qr,{value:"store",children:"Store Details"}),s.jsx(Qr,{value:"activity",children:"Activity Log"})]}),s.jsxs(en,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Account Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"User ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-mono text-sm",children:[e.id.slice(0,8),"..."]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>m(e.id),children:s.jsx(Tl,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:e.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:e.full_name||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:e.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Joined"}),s.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),e.store?.whatsapp_number&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.whatsapp_number}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>m(e.store.whatsapp_number),children:s.jsx(Tl,{className:"w-4 h-4"})})]})]})]})]}),e.store&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Store Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Slug"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.slug}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>window.open(`/${e.store.slug}`,"_blank"),children:s.jsx(ja,{className:"w-4 h-4"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ae,{onClick:p,children:[s.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Login as User"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Reset Password"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsxs(ae,{variant:"destructive",children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),s.jsx(en,{value:"subscription",className:"space-y-6",children:e.subscription?s.jsxs(s.Fragment,{children:[d&&d!=="Expired"&&s.jsx("div",{className:`relative overflow-hidden rounded-lg border ${e.subscription.status==="trial"?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30":"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30"} backdrop-blur-sm`,children:s.jsxs("div",{className:"p-4 flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${e.subscription.status==="trial"?"bg-blue-500/20":"bg-green-500/20"}`,children:s.jsx(ds,{className:`w-6 h-6 ${e.subscription.status==="trial"?"text-blue-400":"text-green-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:e.subscription.status==="trial"?"Trial Period":"Active Subscription"}),s.jsx(_t,{variant:"outline",className:`text-xs ${e.subscription.status==="trial"?"border-blue-500/50 text-blue-400":"border-green-500/50 text-green-400"}`,children:e.subscription.status==="trial"?"Trial":"Paid"})]}),s.jsx("p",{className:"text-xl font-semibold mb-1",children:e.subscription.status==="trial"?`Ends in ${d}`:`Renews in ${d}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.subscription.status==="trial"?"Trial will expire on "+new Date(e.subscription.trial_ends_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Next billing on "+new Date(e.subscription.current_period_end).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Current Subscription"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Plan"}),s.jsx(_t,{variant:"outline",children:e.subscription.plan.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(_t,{className:e.subscription.status==="active"?"bg-green-500":e.subscription.status==="trial"?"bg-orange-500":"bg-gray-500",children:e.subscription.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Billing Cycle"}),s.jsx("p",{className:"font-medium capitalize",children:e.subscription.billing_cycle})]}),e.subscription.started_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Started On"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.started_at).toLocaleDateString()})]}),e.subscription.current_period_start&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period Start"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_start).toLocaleDateString()})]}),e.subscription.current_period_end&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period End"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_end).toLocaleDateString()})]}),e.subscription.trial_ends_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Ends"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.trial_ends_at).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{onClick:()=>i(!0),variant:"default",children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Renew Subscription"]}),s.jsx(ae,{variant:"outline",onClick:()=>l(!0),children:"Change Plan"}),s.jsx(ae,{variant:"destructive",onClick:y,disabled:c,children:c?"Cancelling...":"Cancel Subscription"})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No active subscription"})})}),s.jsx(en,{value:"store",className:"space-y-6",children:e.store?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Slug"}),s.jsx("p",{className:"font-medium",children:e.store.slug})]})]}),s.jsx(ae,{children:"Edit Store Settings"})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No store created"})})}),s.jsx(en,{value:"activity",className:"space-y-4",children:s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Activity log will be shown here"})})})]})]}),e.subscription&&s.jsx(mot,{subscription:e.subscription,open:a,onClose:()=>i(!1),onSuccess:n}),s.jsx(kme,{open:o,onOpenChange:l,userId:e.id,userEmail:e.email,currentSubscription:e.subscription,onSuccess:n})]})}function got({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),d=async()=>{try{u(!0),Ie({title:"Feature Not Available",description:"Account suspension requires database migration. Coming soon.",variant:"destructive"}),r()}catch(f){Ie({title:"Error",description:f.message,variant:"destructive"})}finally{u(!1)}};return s.jsx(cn,{open:t,onOpenChange:r,children:s.jsxs(sn,{children:[s.jsx(un,{children:s.jsx(dn,{children:"Suspend Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[s.jsx(Si,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Warning"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Suspending this account will prevent the user from logging in and make their store inaccessible."})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"reason",children:"Reason for Suspension"}),s.jsxs(ar,{value:a,onValueChange:i,children:[s.jsx(rr,{id:"reason",children:s.jsx(ir,{placeholder:"Select a reason"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"violation",children:"Policy Violation"}),s.jsx(Ue,{value:"non-payment",children:"Non-payment"}),s.jsx(Ue,{value:"fraud",children:"Fraudulent Activity"}),s.jsx(Ue,{value:"spam",children:"Spam"}),s.jsx(Ue,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"notes",children:"Internal Notes"}),s.jsx(Ks,{id:"notes",placeholder:"Add any additional notes about this suspension...",value:o,onChange:f=>l(f.target.value),rows:4})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:r,disabled:c,children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:d,disabled:!a||c,children:c?"Suspending...":"Confirm Suspend"})]})]})})}function xot({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=b.useState(""),[o,l]=b.useState(!1);b.useEffect(()=>{t||(i(""),l(!1))},[t]);const c=async()=>{if(a!=="DELETE"){Ie({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{if(l(!0),e.store?.id){const{data:f}=await Y.from("stores").select("id").eq("id",e.store.id).maybeSingle();if(!f){Ie({title:"Already Deleted",description:`${e.email}'s store has already been deleted`,variant:"default"}),l(!1),i(""),r(),setTimeout(()=>{n()},100);return}}const{data:u,error:d}=await Y.functions.invoke("delete-user-account",{body:{userId:e.id}});if(d)throw d;if(!u.success)throw new Error(u.error||"Failed to delete user account");Ie({title:"Account Completely Deleted",description:`${e.email}'s account, all data, and authentication records have been permanently deleted`}),l(!1),i(""),r(),setTimeout(()=>{n()},100)}catch(u){l(!1),Ie({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"})}};return s.jsx(cn,{open:t,onOpenChange:u=>{!u&&!o&&r()},children:s.jsxs(sn,{children:[s.jsx(un,{children:s.jsx(dn,{children:"Delete Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(Vs,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"Permanent Action"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This action cannot be undone. All data will be permanently deleted."})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"What will be deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Authentication credentials (cannot login anymore)"}),s.jsx("li",{children:"User account and profile"}),s.jsx("li",{children:"Store data and settings"}),s.jsx("li",{children:"All products"}),s.jsx("li",{children:"Subscription history"}),s.jsx("li",{children:"All transactions"}),s.jsx("li",{children:"Files and assets"})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"confirmation",children:["Type ",s.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm"]}),s.jsx(Fe,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here"})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:()=>{o||(i(""),r())},disabled:o,children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,children:o?"Deleting...":"Permanently Delete"})]})]})})}function vot(){const e=vr(),[t,r]=b.useState([]),[n,a]=b.useState({totalUsers:0,activeStores:0,trialUsers:0,paidUsers:0,expired:0,cancelled:0,inactiveStores:0,noStore:0}),[i,o]=b.useState(!0),[l,c]=b.useState(""),[u,d]=b.useState("all"),[f,m]=b.useState("all"),[p,y]=b.useState("all"),[g,v]=b.useState("newest"),[_,w]=b.useState([]),[j,C]=b.useState(1),[S,k]=b.useState(50),[E,R]=b.useState(0),[P,T]=b.useState(1),[O,D]=b.useState(null),[I,L]=b.useState(!1),[W,q]=b.useState(!1),[G,K]=b.useState(!1),[U,F]=b.useState(!1),[B,V]=b.useState(!1);b.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){Z(),X();return}const{data:{user:Ae}}=await Y.auth.getUser();if(!Ae){Ie({title:"Access Denied",description:"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}const{data:ue,error:Ve}=await Y.from("user_roles").select("role").eq("user_id",Ae.id).eq("role","super_admin");if(Ve||!ue||ue.length===0){Ie({title:"Access Denied",description:Ve?.message||"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}Z(),X()})()},[e]);const Z=async(te=j)=>{try{o(!0);const{data:{session:_e}}=await Y.auth.getSession();if(!_e?.access_token)throw new Error("Not authenticated");const Ae=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/get-all-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e.access_token}`},body:JSON.stringify({page:te,perPage:S})});if(!Ae.ok){const Ve=await Ae.json();throw new Error(Ve.error||"Failed to fetch users")}const ue=await Ae.json();r(ue.users||[]),R(ue.pagination?.totalCount||0),T(ue.pagination?.totalPages||1),C(ue.pagination?.page||1),ue.pagination?.totalCount!==void 0&&a(Ve=>({...Ve,totalUsers:ue.pagination.totalCount}))}catch(_e){console.error("Error fetching users:",_e),Ie({title:"Error",description:_e.message,variant:"destructive"})}finally{o(!1)}},X=async()=>{try{const{data:te}=await Y.from("profiles").select("user_id"),{data:_e}=await Y.from("user_roles").select("user_id").eq("role","super_admin"),Ae=new Set(_e?.map(Me=>Me.user_id)||[]),ue=(te||[]).filter(Me=>!Ae.has(Me.user_id)).length,{count:Ve}=await Y.from("stores").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:He}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","trial"),{count:le}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active"),{count:be}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","expired"),{count:Oe}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","cancelled"),Ze=new Date;Ze.setDate(Ze.getDate()-60);const{data:tt}=await Y.from("stores").select("id, last_admin_visit");let fe=0;if(tt)for(const Me of tt){const{data:Pe}=await Y.from("orders").select("id").eq("store_id",Me.id).gte("created_at",Ze.toISOString()).limit(1),Re=Pe&&Pe.length>0,et=Me.last_admin_visit&&new Date(Me.last_admin_visit)>=Ze;!Re&&!et&&fe++}const{data:ee}=await Y.from("stores").select("user_id"),we=new Set(ee?.map(Me=>Me.user_id)||[]),he=(te||[]).filter(Me=>!we.has(Me.user_id)&&!Ae.has(Me.user_id)).length;a({totalUsers:ue,activeStores:Ve||0,trialUsers:He||0,paidUsers:le||0,expired:be||0,cancelled:Oe||0,inactiveStores:fe,noStore:he})}catch(te){console.error("Error fetching stats:",te)}},Q=t.filter(te=>{const _e=te.email.toLowerCase().includes(l.toLowerCase())||te.store?.name?.toLowerCase().includes(l.toLowerCase())||te.store?.slug?.toLowerCase().includes(l.toLowerCase()),Ae=u==="all"||te.subscription?.plan?.name?.toLowerCase()===u.toLowerCase(),ue=f==="all"||te.subscription?.status===f;return _e&&Ae&&ue&&(()=>{if(p==="all")return!0;if(p==="no-store")return!te.store;if(p==="inactive"){if(!te.store)return!1;const He=new Date;He.setDate(He.getDate()-60);const le=te.lastOrderDate&&new Date(te.lastOrderDate)>=He,be=te.store.last_admin_visit&&new Date(te.store.last_admin_visit)>=He;return!le&&!be}if(p==="active"){if(!te.store)return!1;const He=new Date;He.setDate(He.getDate()-60);const le=te.lastOrderDate&&new Date(te.lastOrderDate)>=He,be=te.store.last_admin_visit&&new Date(te.store.last_admin_visit)>=He;return le||be}return!0})()}),de=[...Q].sort((te,_e)=>{switch(g){case"newest":return new Date(_e.created_at).getTime()-new Date(te.created_at).getTime();case"oldest":return new Date(te.created_at).getTime()-new Date(_e.created_at).getTime();case"name":return(te.full_name||te.email).localeCompare(_e.full_name||_e.email);default:return 0}}),pe=te=>{te>=1&&te<=P&&te!==j&&Z(te)},re=te=>{w(te?de.map(_e=>_e.id):[])},ie=(te,_e)=>{w(_e?[..._,te]:_.filter(Ae=>Ae!==te))},J=async()=>{try{const te=await lp(()=>Promise.resolve().then(()=>yoe),void 0),_e=await Promise.all(Q.map(async He=>{let le=null;if(He.store?.id){const{data:be}=await Y.from("stores").select("whatsapp_number, description, hero_banner_url, logo_url, custom_domain, social_links").eq("id",He.store.id).single();le=be}return{"User ID":He.id,Email:He.email,"Full Name":He.full_name||"N/A",Phone:He.phone||"N/A","Store Name":He.store?.name||"No Store","Store Slug":He.store?.slug||"N/A","Store WhatsApp":le?.whatsapp_number||"N/A","Store Description":le?.description||"N/A","Custom Domain":le?.custom_domain||"N/A","Store Logo":le?.logo_url||"N/A","Hero Banner":le?.hero_banner_url||"N/A","Social Links":le?.social_links?JSON.stringify(le.social_links):"N/A","Total Orders":He.orderCount,"Total Revenue":`${He.totalRevenue}`,"Last Order Date":He.lastOrderDate?new Date(He.lastOrderDate).toLocaleString():"No orders","Last Admin Visit":He.store?.last_admin_visit?new Date(He.store.last_admin_visit).toLocaleString():"No visits","Subscription Plan":He.subscription?.plan?.name||"Free","Plan Status":He.subscription?.status||"None","Billing Cycle":He.subscription?.billing_cycle||"N/A","Trial Ends":He.subscription?.trial_ends_at?new Date(He.subscription.trial_ends_at).toLocaleDateString():"N/A","Joined Date":new Date(He.created_at).toLocaleString()}})),Ae=te.utils.json_to_sheet(_e),ue=[{wch:36},{wch:30},{wch:20},{wch:15},{wch:25},{wch:20},{wch:15},{wch:40},{wch:25},{wch:50},{wch:50},{wch:30},{wch:12},{wch:15},{wch:20},{wch:20},{wch:15},{wch:12},{wch:12},{wch:15},{wch:20}];Ae["!cols"]=ue;const Ve=te.utils.book_new();te.utils.book_append_sheet(Ve,Ae,"Users"),te.writeFile(Ve,`users_export_${new Date().toISOString().split("T")[0]}.xlsx`),Ie({title:"Success",description:`Exported ${_e.length} users to Excel`})}catch(te){Ie({title:"Export Failed",description:te.message,variant:"destructive"})}},z=async()=>{try{F(!0);const te=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/sync-missing-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(!te.ok)throw new Error("Failed to sync profiles");const _e=await te.json();Ie({title:"Success",description:_e.message+(_e.count>0?` (${_e.count} profiles synced)`:"")}),_e.count>0&&Z()}catch(te){Ie({title:"Error",description:te.message,variant:"destructive"})}finally{F(!1)}},Se=te=>{if(!te)return s.jsx(_t,{variant:"secondary",children:"No Plan"});const{status:_e,trial_ends_at:Ae}=te;if(_e==="active")return s.jsx(_t,{className:"bg-green-500",children:"Active"});if(_e==="trial"){const ue=Ae?Math.ceil((new Date(Ae).getTime()-new Date().getTime())/864e5):0;return s.jsxs(_t,{variant:"outline",className:"border-orange-500 text-orange-500",children:["Trial (",ue,"d left)"]})}else{if(_e==="expired")return s.jsx(_t,{variant:"destructive",children:"Expired"});if(_e==="cancelled")return s.jsx(_t,{variant:"secondary",children:"Cancelled"})}return s.jsx(_t,{variant:"secondary",children:_e})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Users & Stores Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all users and their stores"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(ae,{children:[s.jsx(VZ,{className:"w-4 h-4 mr-2"}),"Manually Add User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.totalUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Stores"}),s.jsx("p",{className:"text-2xl font-bold",children:n.activeStores})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-yellow-500 cursor-pointer",onClick:()=>y("no-store"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No Store"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.noStore}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Not created store"})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.trialUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.paidUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),s.jsx("p",{className:"text-2xl font-bold",children:n.expired})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),s.jsx("p",{className:"text-2xl font-bold",children:n.cancelled})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-orange-500 cursor-pointer",onClick:()=>y("inactive"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Stores"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:n.inactiveStores}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No activity in 60 days"})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(Fe,{placeholder:"Search by email, store name, or slug",value:l,onChange:te=>c(te.target.value),className:"w-full"})}),s.jsxs(ar,{value:u,onValueChange:d,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"All Plans"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Plans"}),s.jsx(Ue,{value:"free",children:"Free"}),s.jsx(Ue,{value:"starter",children:"Starter"}),s.jsx(Ue,{value:"pro",children:"Pro"}),s.jsx(Ue,{value:"enterprise",children:"Enterprise"})]})]}),s.jsxs(ar,{value:f,onValueChange:m,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"All Status"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Status"}),s.jsx(Ue,{value:"active",children:"Active"}),s.jsx(Ue,{value:"trial",children:"Trial"}),s.jsx(Ue,{value:"expired",children:"Expired"}),s.jsx(Ue,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(ar,{value:p,onValueChange:te=>y(te),children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Activity"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Users"}),s.jsx(Ue,{value:"no-store",children:"No Store Created"}),s.jsx(Ue,{value:"active",children:"Active (recent orders)"}),s.jsx(Ue,{value:"inactive",children:"Inactive (60+ days)"})]})]}),s.jsxs(ar,{value:g,onValueChange:v,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Sort by"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"newest",children:"Newest First"}),s.jsx(Ue,{value:"oldest",children:"Oldest First"}),s.jsx(Ue,{value:"name",children:"Name A-Z"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>{Z(),X()},disabled:i,children:[s.jsx(Wa,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh Data"]}),s.jsxs(ae,{variant:"outline",onClick:z,disabled:U,children:[s.jsx(Wa,{className:`w-4 h-4 mr-2 ${U?"animate-spin":""}`}),"Sync Profiles"]}),s.jsxs(ae,{variant:"outline",onClick:J,children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),_.length>0&&s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium",children:[_.length," users selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"Export Selected"]}),s.jsx(ae,{variant:"outline",size:"sm",children:"Change Plan"}),s.jsx(ae,{variant:"outline",size:"sm",children:"Suspend"}),s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>w([]),children:"Deselect All"})]})]}),s.jsxs("div",{className:"bg-card rounded-lg border",children:[s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{className:"w-12",children:s.jsx(ka,{checked:de.length>0&&_.length===de.length,onCheckedChange:re})}),s.jsx(Qe,{children:"User Info"}),s.jsx(Qe,{children:"Store Info"}),s.jsx(Qe,{children:"Revenue"}),s.jsx(Qe,{children:"Plan"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Created Date"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:i?s.jsx(Er,{children:s.jsx(Ke,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):de.length===0?s.jsx(Er,{children:s.jsx(Ke,{colSpan:8,className:"text-center py-8",children:"No users found"})}):de.map(te=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsx(ka,{checked:_.includes(te.id),onCheckedChange:_e=>ie(te.id,_e)})}),s.jsx(Ke,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nme,{children:s.jsx(Sme,{children:te.email[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:te.email}),te.full_name&&s.jsx("p",{className:"text-sm text-muted-foreground",children:te.full_name}),te.phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:te.phone})]})]})}),s.jsx(Ke,{children:te.store?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:te.store.name}),(()=>{const _e=new Date;_e.setDate(_e.getDate()-60);const Ae=te.lastOrderDate&&new Date(te.lastOrderDate)>=_e,ue=te.store.last_admin_visit&&new Date(te.store.last_admin_visit)>=_e;if(!Ae&&!ue){const He=[te.lastOrderDate,te.store.last_admin_visit].filter(Boolean).map(be=>new Date(be)).sort((be,Oe)=>Oe.getTime()-be.getTime())[0],le=He?Math.floor((Date.now()-He.getTime())/(1e3*60*60*24)):null;return s.jsxs(_t,{variant:"outline",className:"border-orange-500 text-orange-500 text-xs",children:["Inactive ",le?`${le}d`:""]})}return null})()]}),s.jsxs("a",{href:`/${te.store.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[te.store.slug,s.jsx(ja,{className:"h-3 w-3"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[te.orderCount," orders",te.lastOrderDate&&s.jsxs(s.Fragment,{children:["  Last: ",c0(new Date(te.lastOrderDate),{addSuffix:!0})]}),!te.lastOrderDate&&s.jsx(s.Fragment,{children:"  No orders yet"})]}),te.store.last_admin_visit&&s.jsxs("p",{children:["Admin visit: ",c0(new Date(te.store.last_admin_visit),{addSuffix:!0})]}),!te.store.last_admin_visit&&s.jsx("p",{children:"No admin visits tracked"})]})]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(_t,{variant:"outline",className:"border-yellow-500 text-yellow-600 bg-yellow-50",children:"No Store Created"})})}),s.jsxs(Ke,{children:[s.jsxs("p",{className:"font-medium",children:["",te.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"total revenue"})]}),s.jsxs(Ke,{children:[s.jsx(_t,{variant:"outline",children:te.subscription?.plan?.name||"Free"}),te.subscription&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:te.subscription.billing_cycle})]}),s.jsx(Ke,{children:Se(te.subscription)}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(te.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c0(new Date(te.created_at),{addSuffix:!0})})]})}),s.jsx(Ke,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{D(te),L(!0)},children:s.jsx(Es,{className:"w-4 h-4"})}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",children:s.jsx(K0e,{className:"w-4 h-4"})})}),s.jsxs(Ec,{align:"end",children:[s.jsxs(_n,{onClick:()=>{D(te),L(!0)},children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs(_n,{onClick:()=>{D(te),V(!0)},children:[s.jsx(ou,{className:"w-4 h-4 mr-2"}),"Assign Plan"]}),te.store&&s.jsxs(_n,{onClick:()=>window.open(`/${te.store.slug}`,"_blank"),children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"Visit Store"]}),s.jsxs(_n,{onClick:async()=>{const _e=prompt("Enter email subject:");if(!_e)return;const Ae=prompt("Enter email message:");if(Ae)try{const{error:ue}=await Y.functions.invoke("send-user-email",{body:{to:te.email,subject:_e,message:Ae}});if(ue)throw ue;Ie({title:"Email sent",description:`Email sent successfully to ${te.email}`})}catch(ue){Ie({title:"Error",description:ue.message,variant:"destructive"})}},children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(_n,{onClick:()=>{D(te),q(!0)},children:"Suspend Account"}),s.jsxs(_n,{onClick:()=>{D(te),K(!0)},className:"text-destructive",children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},te.id))})]}),P>1&&s.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(j-1)*S+1,"-",Math.min(j*S,E)," of"," ",E," users"]}),s.jsx(rk,{children:s.jsxs(nk,{children:[s.jsx(eu,{children:s.jsx(sk,{onClick:()=>pe(j-1),className:j===1?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{const te=[];let Ae=Math.max(1,j-Math.floor(2.5)),ue=Math.min(P,Ae+5-1);ue-Ae+1<5&&(Ae=Math.max(1,ue-5+1));for(let Ve=Ae;Ve<=ue;Ve++)te.push(s.jsx(eu,{children:s.jsx(yx,{onClick:()=>pe(Ve),isActive:j===Ve,className:"cursor-pointer",children:Ve})},Ve));return te})(),s.jsx(eu,{children:s.jsx(ak,{onClick:()=>pe(j+1),className:j===P?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]}),O&&s.jsxs(s.Fragment,{children:[s.jsx(pot,{user:O,open:I,onClose:()=>{L(!1),D(null)},onRefresh:Z}),s.jsx(got,{user:O,open:W,onClose:()=>{q(!1),D(null)},onSuccess:Z}),s.jsx(xot,{user:O,open:G,onClose:()=>{K(!1),D(null)},onSuccess:Z}),s.jsx(kme,{userId:O.id,userEmail:O.email,currentSubscription:O.subscription,open:B,onOpenChange:te=>{V(te),te||D(null)},onSuccess:Z})]})]})}function yot({open:e,onOpenChange:t,helperId:r,helperName:n}){const[a,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState([]),[m,p]=b.useState({total_earned:0,store_referrals:0,product_sales:0,network_bonus:0}),[y,g]=b.useState(null),[v,_]=b.useState(null);b.useEffect(()=>{e&&r&&w()},[e,r]);const w=async()=>{i(!0);try{await Promise.all([j(),C(),S(),k()])}catch(O){console.error("Error loading helper data:",O),ct.error("Failed to load helper details")}finally{i(!1)}},j=async()=>{const{data:O,error:D}=await Y.from("helpers").select("*").eq("id",r).single();if(D)throw D;l(O)},C=async()=>{const{data:O,error:D}=await Y.from("helper_applications").select("*").eq("user_id",r).single();if(D){console.warn("No application found for helper");return}if(u(O),O.recruited_by_helper_id){const{data:I}=await Y.from("helpers").select("full_name").eq("id",O.recruited_by_helper_id).single();I&&g(I.full_name)}if(O.approved_by_admin){const{data:I}=await Y.from("profiles").select("full_name").eq("user_id",O.approved_by_admin).single();I&&_(I.full_name)}},S=async()=>{const{data:O,error:D}=await Y.from("store_referrals").select(`
        store_id,
        store_owner_name,
        created_at,
        stores (
          name,
          slug
        )
      `).eq("helper_id",r);if(D){console.error("Error loading recruited stores:",D);return}const I=(O||[]).map(L=>({store_id:L.store_id,store_name:L.stores?.name||"Unknown Store",store_slug:L.stores?.slug||"",store_owner_name:L.store_owner_name,created_at:L.created_at}));f(I)},k=async()=>{const{data:O,error:D}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status").eq("earning_helper_id",r);if(D){console.error("Error loading commission data:",D);return}let I=0,L=0,W=0,q=0;(O||[]).forEach(G=>{const K=G.amount||0;I+=K,G.commission_type==="store_referral"?L+=K:G.commission_type==="product_sale"?W+=K:G.commission_type==="network_bonus"&&(q+=K)}),p({total_earned:I,store_referrals:L,product_sales:W,network_bonus:q})},E=(O,D)=>{navigator.clipboard.writeText(O),ct.success(`${D} copied to clipboard!`)},R=()=>{const O=`/helper/dashboard?impersonate=${r}`;window.open(O,"_blank")},P=()=>{ct.info("PDF export feature coming soon!")};if(a||!o)return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsx(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper details..."})]})})})});const T=Math.floor((new Date().getTime()-new Date(o.created_at).getTime())/(1e3*60*60*24));return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(un,{children:s.jsxs(dn,{className:"flex items-center gap-2",children:[s.jsx(d0,{className:"h-5 w-5"}),"Helper Details - ",n]})}),s.jsxs(mu,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-4",children:[s.jsx(Qr,{value:"overview",children:"Overview"}),s.jsx(Qr,{value:"performance",children:"Performance"}),s.jsxs(Qr,{value:"stores",children:["Recruited Stores (",d.length,")"]}),s.jsx(Qr,{value:"activity",children:"Activity"})]}),s.jsxs(en,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[s.jsx(d0,{className:"h-4 w-4"}),"Personal Information"]})}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:o.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:o.email}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>E(o.email,"Email"),children:s.jsx(Tl,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:o.phone}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>E(o.phone,"Phone"),children:s.jsx(Tl,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helper ID"}),s.jsx("p",{className:"font-mono text-sm",children:o.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),s.jsx(_t,{variant:o.status==="Active"?"default":"destructive",children:o.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Referral Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono font-medium",children:o.referral_code}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>E(o.referral_code,"Referral Code"),children:s.jsx(Tl,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[s.jsx(Un,{className:"h-4 w-4"}),"Bank Account Details"]})}),s.jsx(Ee,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Name"}),s.jsx("p",{className:"font-medium",children:c.bank_account_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_account_number}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>E(c.bank_account_number,"Account Number"),children:s.jsx(Tl,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"IFSC Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_ifsc_code}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>E(c.bank_ifsc_code,"IFSC Code"),children:s.jsx(Tl,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank Name"}),s.jsx("p",{className:"font-medium",children:c.bank_name})]}),s.jsx("div",{className:"pt-2",children:s.jsx(_t,{variant:"outline",className:"bg-green-50",children:" Verified"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No bank details available"})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[s.jsx(Jc,{className:"h-4 w-4"}),"Application Information"]})}),s.jsx(Ee,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Applied On"}),s.jsx("p",{className:"font-medium text-sm",children:_r(new Date(c.created_at),"PPp")})]}),c.approved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved On"}),s.jsx("p",{className:"font-medium text-sm",children:_r(new Date(c.approved_at),"PPp")})]}),v&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved By"}),s.jsx("p",{className:"font-medium",children:v})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:c.why_helper||"Not provided"})]}),y&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recruited By"}),s.jsx("p",{className:"font-medium",children:y})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No application details available"})})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-sm",children:"Quick Statistics"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",m.total_earned.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total Earned"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stores Recruited"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:T}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days Active"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[o.direct_commission_rate,"% / ",o.network_commission_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct / Network Rate"})]})]})})]})]}),s.jsxs(en,{value:"performance",className:"space-y-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[s.jsx(Fl,{className:"h-4 w-4"}),"Commission Breakdown"]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(um,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Store Referrals"})]}),s.jsxs("span",{className:"font-bold text-blue-600",children:["",m.store_referrals.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Product Sales"})]}),s.jsxs("span",{className:"font-bold text-green-600",children:["",m.product_sales.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm",children:"Network Bonus"})]}),s.jsxs("span",{className:"font-bold text-purple-600",children:["",m.network_bonus.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded-lg border-2 border-primary",children:[s.jsx("span",{className:"font-semibold",children:"Total Earned"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",m.total_earned.toLocaleString()]})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-sm",children:"Status History"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Active"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[_r(new Date(o.created_at),"PPp"),v&&` (Approved by ${v})`]})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Application Received"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(c.created_at),"PPp")})]})]})]})})]})]}),s.jsx(en,{value:"stores",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[s.jsx(um,{className:"h-4 w-4"}),"Recruited Stores (",d.length," Total)"]}),d.length>0&&s.jsxs(_t,{variant:"outline",children:["Avg. Commission: ",d.length>0?Math.round(m.store_referrals/d.length):0]})]})}),s.jsx(Ee,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(um,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No recruited stores yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Helper hasn't referred any stores"})]}):s.jsx("div",{className:"space-y-3",children:d.map((O,D)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-semibold",children:[D+1,". ",O.store_name]}),s.jsx(_t,{variant:"outline",className:"text-xs",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Owner: ",O.store_owner_name," | Joined:"," ",_r(new Date(O.created_at),"PP")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>window.open(`/store/${O.store_id}`,"_blank"),children:[s.jsx(Es,{className:"h-3 w-3 mr-1"}),"View Store"]}),O.store_slug&&s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>window.open(`https://${O.store_slug}.digitaldukandar.in`,"_blank"),children:[s.jsx(ja,{className:"h-3 w-3 mr-1"}),"Visit Website"]})]})]})})},O.store_id))})})]})}),s.jsx(en,{value:"activity",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4"}),"Recent Activity"]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-3",children:[d.slice(0,5).map(O=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsxs("p",{children:["Recruited store ",s.jsxs("span",{className:"font-semibold",children:['"',O.store_name,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(O.created_at),"PPp")})]})]},O.store_id)),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Approved as helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.approved_at?_r(new Date(c.approved_at),"PPp"):"N/A"})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Applied for helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(c.created_at),"PPp")})]})]})]})})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end mt-4 pt-4 border-t",children:[s.jsxs(ae,{variant:"outline",onClick:R,children:[s.jsx(Es,{className:"h-4 w-4 mr-2"}),"View as Helper"]}),s.jsxs(ae,{variant:"outline",onClick:P,children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsx(ae,{variant:"outline",onClick:()=>t(!1),children:"Close"})]})]})})}function bot(){const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState("pending"),[i,o]=b.useState(""),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState(!1),[p,y]=b.useState(!1),[g,v]=b.useState(!1),[_,w]=b.useState(!1),[j,C]=b.useState(!1),[S,k]=b.useState(null),[E,R]=b.useState(null),[P,T]=b.useState(""),[O,D]=b.useState({direct_rate:10,network_rate:5,reason:""});b.useEffect(()=>{I()},[]);const I=async()=>{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await L(),r(!1)},L=async()=>{await Promise.all([W(),q()])},W=async()=>{try{const{data:pe,error:re}=await Y.from("helper_applications").select("*").order("created_at",{ascending:!1});if(re)throw re;c(pe||[])}catch(pe){console.error("Error loading applications:",pe),ct.error("Failed to load applications")}},q=async()=>{try{const{data:pe,error:re}=await Y.from("helpers").select("*").order("created_at",{ascending:!1});if(re)throw re;d(pe||[])}catch(pe){console.error("Error loading helpers:",pe),ct.error("Failed to load helpers")}},K={total:l.filter(pe=>pe.application_status!=="Approved").length+u.length,pending:l.filter(pe=>pe.application_status==="Pending").length,approved:u.filter(pe=>pe.status==="Active").length,rejected:l.filter(pe=>pe.application_status==="Rejected").length,suspended:u.filter(pe=>pe.status==="Suspended").length},U=()=>{let pe=[];switch(n){case"pending":pe=l.filter(re=>re.application_status==="Pending").map(re=>({...re,type:"application"}));break;case"approved":pe=u.map(re=>({...re,type:"helper"}));break;case"rejected":pe=l.filter(re=>re.application_status==="Rejected").map(re=>({...re,type:"application"}));break;case"all":pe=[...l.filter(re=>re.application_status!=="Approved").map(re=>({...re,type:"application"})),...u.map(re=>({...re,type:"helper"}))];break}return i&&(pe=pe.filter(re=>re.full_name?.toLowerCase().includes(i.toLowerCase())||re.email?.toLowerCase().includes(i.toLowerCase())||re.phone?.includes(i))),pe},F=async pe=>{try{const{data:re,error:ie}=await Y.rpc("approve_helper_application",{p_application_id:pe.id});if(ie)throw console.error("Error calling approve RPC:",ie),new Error(ie.message||"Failed to approve helper");const J=re;if(!J?.success)throw console.error("Approve helper failed:",re),new Error(J?.error||"Approval operation failed");ct.success(`Helper approved! Referral code: ${J.referralCode}`),await L()}catch(re){console.error("Error approving application:",re),ct.error(re.message||"Failed to approve application")}},B=async()=>{if(!P.trim()||!S){ct.error("Please provide a rejection reason");return}try{const{error:pe}=await Y.from("helper_applications").update({application_status:"Rejected",rejection_reason:P}).eq("id",S.id);if(pe)throw pe;ct.success("Application rejected"),v(!1),T(""),k(null),await L()}catch(pe){console.error("Error rejecting application:",pe),ct.error("Failed to reject application")}},V=async pe=>{try{const{error:re}=await Y.from("helper_applications").update({application_status:"Pending",rejection_reason:null}).eq("id",pe.id);if(re)throw re;ct.success("Application moved to pending"),await L()}catch(re){console.error("Error reconsidering application:",re),ct.error("Failed to reconsider application")}},Z=async pe=>{try{const re=pe.status==="Active"?"Suspended":"Active",{error:ie}=await Y.from("helpers").update({status:re}).eq("id",pe.id);if(ie)throw ie;ct.success(`Helper ${re.toLowerCase()}`),await L()}catch(re){console.error("Error updating helper status:",re),ct.error("Failed to update helper status")}},X=async()=>{if(!(!S&&!E))try{const pe=S?.user_id||E?.id,re=S?"application":"helper";if(!pe){ct.error("Cannot delete: User ID not found");return}const{data:ie,error:J}=await Y.functions.invoke("delete-helper",{body:{userId:pe,deleteType:re}});if(J){if(J.message?.includes("BLOCKED")||J.message?.includes("store owner")){ct.error(` ${J.message}`,{duration:8e3}),w(!1);return}throw new Error(J.message||"Failed to delete")}if(!ie?.success){if(ie?.error?.includes("BLOCKED")||ie?.error?.includes("store owner")){ct.error(` ${ie.error}`,{duration:8e3}),w(!1);return}throw new Error(ie?.error||"Delete operation failed")}S?await Y.from("helper_applications").delete().eq("id",S.id):E&&await Y.from("helpers").delete().eq("id",E.id),ct.success("Deleted successfully"),w(!1),k(null),R(null),await L()}catch(pe){console.error("Error deleting:",pe),ct.error(pe.message||"Failed to delete")}},Q=async()=>{if(!O.reason||!E){ct.error("Please provide a reason for changing rates");return}try{const{error:pe}=await Y.from("helpers").update({direct_commission_rate:O.direct_rate,network_commission_rate:O.network_rate,updated_at:new Date().toISOString()}).eq("id",E.id);if(pe)throw pe;ct.success("Commission rates updated successfully"),C(!1),await L()}catch(pe){console.error("Error updating rates:",pe),ct.error("Failed to update commission rates")}},ce=pe=>{let re="",ie="";if(pe.type==="application")switch(re=pe.application_status,re){case"Pending":ie="bg-yellow-500";break;case"Rejected":ie="bg-red-500";break;case"Approved":ie="bg-green-500";break;default:ie="bg-gray-500"}else switch(re=pe.status,re){case"Active":ie="bg-green-500";break;case"Suspended":ie="bg-orange-500";break;default:ie="bg-gray-500"}return s.jsx(_t,{className:ie,children:re})};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper management..."})]})});const de=U();return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(ki,{className:"h-8 w-8"}),"Helper Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all helper applications and approved helpers in one place"})]}),s.jsx(ae,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("all"),children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full",children:s.jsx(ki,{className:"h-5 w-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:K.total})]})]})})}),s.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("pending"),children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-full",children:s.jsx(Jc,{className:"h-5 w-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:K.pending})]})]})})}),s.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("approved"),children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:s.jsx(Cs,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:K.approved})]})]})})}),s.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("rejected"),children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500/10 rounded-full",children:s.jsx(Qn,{className:"h-5 w-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:K.rejected})]})]})})}),s.jsx(Ce,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-full",children:s.jsx(Dj,{className:"h-5 w-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspended"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:K.suspended})]})]})})})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Fe,{placeholder:"Search by name, email, or phone...",value:i,onChange:pe=>o(pe.target.value),className:"pl-10"})]})})}),s.jsxs(mu,{value:n,onValueChange:a,className:"space-y-4",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Qr,{value:"pending",className:"gap-2",children:[s.jsx(Jc,{className:"h-4 w-4"}),"Pending ",s.jsx(_t,{variant:"secondary",className:"ml-1",children:K.pending})]}),s.jsxs(Qr,{value:"approved",className:"gap-2",children:[s.jsx(Cs,{className:"h-4 w-4"}),"Approved ",s.jsx(_t,{variant:"secondary",className:"ml-1",children:K.approved+K.suspended})]}),s.jsxs(Qr,{value:"rejected",className:"gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Rejected ",s.jsx(_t,{variant:"secondary",className:"ml-1",children:K.rejected})]}),s.jsxs(Qr,{value:"all",className:"gap-2",children:[s.jsx(ki,{className:"h-4 w-4"}),"All ",s.jsx(_t,{variant:"secondary",className:"ml-1",children:K.total})]})]}),s.jsx(en,{value:"pending",children:s.jsx(Ce,{children:s.jsx(Ee,{className:"p-0",children:de.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Name"}),s.jsx(Qe,{children:"Email"}),s.jsx(Qe,{children:"Phone"}),s.jsx(Qe,{children:"Applied On"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:de.map(pe=>{const re=pe;return s.jsxs(Er,{children:[s.jsx(Ke,{className:"font-medium",children:re.full_name}),s.jsx(Ke,{children:re.email}),s.jsx(Ke,{children:re.phone}),s.jsx(Ke,{children:_r(new Date(re.created_at),"PP")}),s.jsx(Ke,{children:ce(pe)}),s.jsx(Ke,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{k(re),m(!0)},children:[s.jsx(Es,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(ae,{size:"sm",variant:"default",onClick:()=>F(re),children:[s.jsx(Cs,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>{k(re),v(!0)},children:[s.jsx(Qn,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>{k(re),w(!0)},children:[s.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},re.id)})})]})})})})}),s.jsx(en,{value:"approved",children:s.jsx(Ce,{children:s.jsx(Ee,{className:"p-0",children:de.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No approved helpers"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Helper ID"}),s.jsx(Qe,{children:"Name"}),s.jsx(Qe,{children:"Email"}),s.jsx(Qe,{children:"Phone"}),s.jsx(Qe,{children:"Referral Code"}),s.jsx(Qe,{children:"Commission Rates"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:de.map(pe=>{const re=pe;return s.jsxs(Er,{children:[s.jsxs(Ke,{className:"font-mono",children:[re.id.slice(0,8),"..."]}),s.jsx(Ke,{className:"font-medium",children:re.full_name}),s.jsx(Ke,{children:re.email}),s.jsx(Ke,{children:re.phone}),s.jsx(Ke,{className:"font-mono",children:re.referral_code}),s.jsx(Ke,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Direct: ",re.direct_commission_rate,"%"]}),s.jsxs("div",{children:["Network: ",re.network_commission_rate,"%"]})]})}),s.jsx(Ke,{children:ce(pe)}),s.jsx(Ke,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(ae,{size:"sm",variant:re.status==="Active"?"destructive":"default",onClick:()=>Z(re),children:re.status==="Active"?s.jsxs(s.Fragment,{children:[s.jsx(Dj,{className:"h-4 w-4 mr-1"}),"Suspend"]}):s.jsxs(s.Fragment,{children:[s.jsx(JD,{className:"h-4 w-4 mr-1"}),"Activate"]})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{R(re),w(!0)},children:s.jsx(Rn,{className:"h-4 w-4"})})]})})]},re.id)})})]})})})})}),s.jsx(en,{value:"rejected",children:s.jsx(Ce,{children:s.jsx(Ee,{className:"p-0",children:de.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No rejected applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Name"}),s.jsx(Qe,{children:"Email"}),s.jsx(Qe,{children:"Phone"}),s.jsx(Qe,{children:"Rejected On"}),s.jsx(Qe,{children:"Reason"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:de.map(pe=>{const re=pe;return s.jsxs(Er,{children:[s.jsx(Ke,{className:"font-medium",children:re.full_name}),s.jsx(Ke,{children:re.email}),s.jsx(Ke,{children:re.phone}),s.jsx(Ke,{children:_r(new Date(re.created_at),"PP")}),s.jsx(Ke,{className:"max-w-xs truncate",children:re.rejection_reason||"No reason provided"}),s.jsx(Ke,{children:ce(pe)}),s.jsx(Ke,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{k(re),m(!0)},children:[s.jsx(Es,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(ae,{size:"sm",variant:"default",onClick:()=>V(re),children:[s.jsx(Cs,{className:"h-4 w-4 mr-1"}),"Reconsider"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>{k(re),w(!0)},children:[s.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},re.id)})})]})})})})}),s.jsx(en,{value:"all",children:s.jsx(Ce,{children:s.jsx(Ee,{className:"p-0",children:de.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ki,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No helpers or applications found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Type"}),s.jsx(Qe,{children:"Name"}),s.jsx(Qe,{children:"Email"}),s.jsx(Qe,{children:"Phone"}),s.jsx(Qe,{children:"Date"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:de.map(pe=>{const re=pe.type==="helper",ie=re?pe:null,J=re?null:pe;return s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsx(_t,{variant:"outline",children:re?"Helper":"Application"})}),s.jsx(Ke,{className:"font-medium",children:pe.full_name}),s.jsx(Ke,{children:pe.email}),s.jsx(Ke,{children:pe.phone}),s.jsx(Ke,{children:_r(new Date(pe.created_at),"PP")}),s.jsx(Ke,{children:ce(pe)}),s.jsx(Ke,{className:"text-right",children:s.jsx("div",{className:"flex gap-2 justify-end",children:re?s.jsxs(s.Fragment,{children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{R(ie),y(!0)},children:[s.jsx(Es,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{R(ie),D({direct_rate:ie.direct_commission_rate,network_rate:ie.network_commission_rate,reason:""}),C(!0)},children:s.jsx(ou,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:ie.status==="Active"?"destructive":"default",onClick:()=>Z(ie),children:ie.status==="Active"?s.jsx(Dj,{className:"h-4 w-4"}):s.jsx(JD,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{R(ie),w(!0)},children:s.jsx(Rn,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{k(J),m(!0)},children:s.jsx(Es,{className:"h-4 w-4"})}),J.application_status==="Pending"&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{size:"sm",variant:"default",onClick:()=>F(J),children:s.jsx(Cs,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{k(J),v(!0)},children:s.jsx(Qn,{className:"h-4 w-4"})})]}),J.application_status==="Rejected"&&s.jsx(ae,{size:"sm",variant:"default",onClick:()=>V(J),children:s.jsx(Cs,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{k(J),w(!0)},children:s.jsx(Rn,{className:"h-4 w-4"})})]})})})]},re?ie.id:J.id)})})]})})})})})]}),s.jsx(cn,{open:f,onOpenChange:m,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Application Details"}),s.jsxs(Zn,{children:[S?.full_name," - ",S?.email]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Full Name"}),s.jsx("p",{className:"text-sm",children:S.full_name})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Email"}),s.jsx("p",{className:"text-sm",children:S.email})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Phone"}),s.jsx("p",{className:"text-sm",children:S.phone})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Applied On"}),s.jsx("p",{className:"text-sm",children:_r(new Date(S.created_at),"PPP")})]})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:S.why_helper||"Not provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Bank Account Name"}),s.jsx("p",{className:"text-sm",children:S.bank_account_name})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Bank Name"}),s.jsx("p",{className:"text-sm",children:S.bank_name})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Account Number"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_account_number})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"IFSC Code"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_ifsc_code})]})]}),S.rejection_reason&&s.jsxs("div",{children:[s.jsx(ke,{children:"Rejection Reason"}),s.jsx("p",{className:"text-sm mt-1 text-red-500",children:S.rejection_reason})]})]})]})}),s.jsx(cn,{open:g,onOpenChange:v,children:s.jsxs(sn,{children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Reject Application"}),s.jsxs(Zn,{children:["Provide a reason for rejecting ",S?.full_name,"'s application"]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(ke,{children:"Rejection Reason *"}),s.jsx(Ks,{value:P,onChange:pe=>T(pe.target.value),placeholder:"Enter the reason for rejection...",className:"mt-2"})]})}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:B,children:"Reject Application"})]})]})}),s.jsx(cn,{open:j,onOpenChange:C,children:s.jsxs(sn,{children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Edit Commission Rates"}),s.jsxs(Zn,{children:["Update commission rates for ",E?.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Direct Commission Rate (%)"}),s.jsx(Fe,{type:"number",value:O.direct_rate,onChange:pe=>D({...O,direct_rate:parseFloat(pe.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Network Commission Rate (%)"}),s.jsx(Fe,{type:"number",value:O.network_rate,onChange:pe=>D({...O,network_rate:parseFloat(pe.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Reason for Change *"}),s.jsx(Ks,{value:O.reason,onChange:pe=>D({...O,reason:pe.target.value}),placeholder:"Explain why rates are being changed..."})]})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),s.jsx(ae,{onClick:Q,children:"Save Changes"})]})]})}),s.jsx($m,{open:_,onOpenChange:w,children:s.jsxs($f,{children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:" Permanently Delete?"}),s.jsxs(Vf,{children:["This will permanently delete"," ",s.jsx("strong",{children:S?.full_name||E?.full_name})," and ALL related data:",s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[E?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Helper account and profile"}),s.jsx("li",{children:"All store referrals"}),s.jsx("li",{children:"All commission records"}),s.jsx("li",{children:"All network connections"})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Application record"}),s.jsx("li",{children:"Profile information"})]}),s.jsx("li",{children:"User authentication account"})]}),s.jsx("p",{className:"mt-3 font-bold text-destructive",children:"This action cannot be undone!"})]})]}),s.jsxs(Bm,{children:[s.jsx(qf,{children:"Cancel"}),s.jsx(zf,{onClick:X,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Permanently"})]})]})}),E&&s.jsx(yot,{open:p,onOpenChange:y,helperId:E.id,helperName:E.full_name})]})})}function wot(){const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState([]),[p,y]=b.useState(!1),[g,v]=b.useState("direct"),[_,w]=b.useState({payment_date:_r(new Date,"yyyy-MM-dd"),payment_reference:""}),[j,C]=b.useState({direct:{total:0,count:0,oldestDays:0},network:{total:0,count:0,oldestDays:0},paid:{total:0,count:0}});b.useEffect(()=>{S()},[]);const S=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await k(),r(!1)}catch(D){console.error("Error checking super admin access:",D),e("/superadmin/login")}},k=async()=>{try{const{data:D,error:I}=await Y.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("direct_commission_amount",0).order("created_at",{ascending:!0});if(I)throw I;const L=(D||[]).map(ce=>({id:ce.id,helper_name:ce.helper?.full_name||"N/A",helper_id:ce.helper?.id||"N/A",store_owner_name:ce.store_referral?.store_owner_name||"N/A",plan_name:ce.store_referral?.subscription_plan||"N/A",plan_amount:ce.store_referral?.subscription_amount||0,commission_amount:ce.direct_commission_amount,earned_date:ce.created_at,days_pending:n2(new Date,new Date(ce.created_at))}));a(L);const{data:W,error:q}=await Y.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("network_commission_amount",0).order("created_at",{ascending:!0});if(q)throw q;const G=(W||[]).map(ce=>({id:ce.id,helper_name:ce.helper?.full_name||"N/A",helper_id:ce.helper?.id||"N/A",store_owner_name:ce.store_referral?.store_owner_name||"N/A",plan_name:ce.store_referral?.subscription_plan||"N/A",plan_amount:ce.store_referral?.subscription_amount||0,commission_amount:ce.network_commission_amount,earned_date:ce.created_at,days_pending:n2(new Date,new Date(ce.created_at))}));o(G);const{data:K,error:U}=await Y.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Paid").order("payment_date",{ascending:!1}).limit(100);if(U)throw U;const F=(K||[]).map(ce=>({id:ce.id,helper_name:ce.helper?.full_name||"N/A",helper_id:ce.helper?.id||"N/A",store_owner_name:ce.store_referral?.store_owner_name||"N/A",plan_name:ce.store_referral?.subscription_plan||"N/A",plan_amount:ce.store_referral?.subscription_amount||0,commission_amount:(ce.direct_commission_amount||0)+(ce.network_commission_amount||0),earned_date:ce.created_at,days_pending:0,payment_date:ce.payment_date,payment_reference:ce.payment_reference}));c(F);const B=L.reduce((ce,de)=>ce+de.commission_amount,0),V=L.length>0?Math.max(...L.map(ce=>ce.days_pending)):0,Z=G.reduce((ce,de)=>ce+de.commission_amount,0),X=G.length>0?Math.max(...G.map(ce=>ce.days_pending)):0,Q=F.reduce((ce,de)=>ce+de.commission_amount,0);C({direct:{total:B,count:L.length,oldestDays:V},network:{total:Z,count:G.length,oldestDays:X},paid:{total:Q,count:F.length}})}catch(D){console.error("Error loading commissions:",D),ct.error("Failed to load commissions")}},E=(D,I)=>{D==="direct"?d(I?n.map(L=>L.id):[]):m(I?i.map(L=>L.id):[])},R=(D,I,L)=>{D==="direct"?d(L?[...u,I]:u.filter(W=>W!==I)):m(L?[...f,I]:f.filter(W=>W!==I))},P=async()=>{const D=g==="direct"?u:f;if(D.length===0){ct.error("Please select at least one commission");return}if(!_.payment_reference){ct.error("Please enter payment reference");return}try{const{error:I}=await Y.from("network_commissions").update({commission_status:"Paid",payment_date:_.payment_date,payment_reference:_.payment_reference,updated_at:new Date().toISOString()}).in("id",D);if(I)throw I;ct.success(`Successfully marked ${D.length} commission(s) as paid`),y(!1),d([]),m([]),w({payment_date:_r(new Date,"yyyy-MM-dd"),payment_reference:""}),await k()}catch(I){console.error("Error marking commissions as paid:",I),ct.error("Failed to mark commissions as paid")}},T=D=>{try{let I=[],L="";D==="direct"?(I=n,L="Pending Direct Commissions"):D==="network"?(I=i,L="Pending Network Commissions"):(I=l,L="Paid Commissions");const W=I.map(U=>({"Helper Name":U.helper_name,"Helper ID":U.helper_id,"Store Owner":U.store_owner_name,Plan:U.plan_name,"Plan Amount":`${U.plan_amount.toLocaleString()}`,"Commission Amount":`${U.commission_amount.toLocaleString()}`,"Earned Date":_r(new Date(U.earned_date),"PPP"),...D==="paid"?{"Payment Date":U.payment_date?_r(new Date(U.payment_date),"PPP"):"N/A","Payment Reference":U.payment_reference||"N/A"}:{"Days Pending":U.days_pending}})),q=ca.book_new(),G=ca.json_to_sheet(W);ca.book_append_sheet(q,G,L);const K=`${L.toLowerCase().replace(/ /g,"_")}_${_r(new Date,"yyyy-MM-dd")}.xlsx`;Km(q,K),ct.success("Export successful!")}catch(I){console.error("Error exporting:",I),ct.error("Failed to export data")}},O=()=>{try{const D=[{Category:"Pending Direct Commissions",Count:j.direct.count,Amount:`${j.direct.total.toLocaleString()}`},{Category:"Pending Network Commissions",Count:j.network.count,Amount:`${j.network.total.toLocaleString()}`},{Category:"Total Pending",Count:j.direct.count+j.network.count,Amount:`${(j.direct.total+j.network.total).toLocaleString()}`},{Category:"",Count:"",Amount:""},{Category:"Paid Commissions (Last 100)",Count:j.paid.count,Amount:`${j.paid.total.toLocaleString()}`}],I=ca.book_new(),L=ca.json_to_sheet(D);ca.book_append_sheet(I,L,"Payment Report");const W=`payment_report_${_r(new Date,"yyyy-MM-dd")}.xlsx`;Km(I,W),ct.success("Payment report generated!")}catch(D){console.error("Error generating report:",D),ct.error("Failed to generate report")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commissions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(ri,{className:"h-8 w-8"}),"Commission Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage pending and paid commission payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:O,children:[s.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsx(ae,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Direct"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",j.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count," payments"]})]})}),s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Network"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",j.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.network.count," payments"]})]})}),s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pending"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-500",children:["",(j.direct.total+j.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count+j.network.count," payments"]})]})}),s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid (Last 100)"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",j.paid.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.paid.count," payments"]})]})})]}),s.jsxs(mu,{defaultValue:"direct",onValueChange:D=>v(D),children:[s.jsxs(Cc,{className:"grid w-full grid-cols-4",children:[s.jsxs(Qr,{value:"direct",children:["Pending Direct (",j.direct.count,")"]}),s.jsxs(Qr,{value:"network",children:["Pending Network (",j.network.count,")"]}),s.jsxs(Qr,{value:"paid",children:["Paid History (",j.paid.count,")"]}),s.jsx(Qr,{value:"reports",children:"Reports"})]}),s.jsx(en,{value:"direct",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Je,{children:"Pending Direct Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",j.direct.total.toLocaleString()," | Oldest: ",j.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>T("direct"),disabled:n.length===0,children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(ae,{size:"sm",onClick:()=>{v("direct"),y(!0)},disabled:u.length===0,children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",u.length,")"]})]})]})}),s.jsx(Ee,{className:"p-0",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending direct commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{className:"w-12",children:s.jsx(ka,{checked:u.length===n.length,onCheckedChange:D=>E("direct",D)})}),s.jsx(Qe,{children:"Helper"}),s.jsx(Qe,{children:"Store Owner"}),s.jsx(Qe,{children:"Plan"}),s.jsx(Qe,{children:"Plan Amount"}),s.jsx(Qe,{children:"Commission"}),s.jsx(Qe,{children:"Earned Date"}),s.jsx(Qe,{children:"Days Pending"})]})}),s.jsx(Hs,{children:n.map(D=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsx(ka,{checked:u.includes(D.id),onCheckedChange:I=>R("direct",D.id,I)})}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Ke,{children:D.store_owner_name}),s.jsx(Ke,{children:D.plan_name}),s.jsxs(Ke,{children:["",D.plan_amount.toLocaleString()]}),s.jsxs(Ke,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Ke,{children:_r(new Date(D.earned_date),"PP")}),s.jsx(Ke,{children:s.jsxs(_t,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),s.jsx(en,{value:"network",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Je,{children:"Pending Network Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",j.network.total.toLocaleString()," | Oldest: ",j.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>T("network"),disabled:i.length===0,children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(ae,{size:"sm",onClick:()=>{v("network"),y(!0)},disabled:f.length===0,children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",f.length,")"]})]})]})}),s.jsx(Ee,{className:"p-0",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending network commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{className:"w-12",children:s.jsx(ka,{checked:f.length===i.length,onCheckedChange:D=>E("network",D)})}),s.jsx(Qe,{children:"Helper"}),s.jsx(Qe,{children:"Store Owner"}),s.jsx(Qe,{children:"Plan"}),s.jsx(Qe,{children:"Plan Amount"}),s.jsx(Qe,{children:"Commission"}),s.jsx(Qe,{children:"Earned Date"}),s.jsx(Qe,{children:"Days Pending"})]})}),s.jsx(Hs,{children:i.map(D=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsx(ka,{checked:f.includes(D.id),onCheckedChange:I=>R("network",D.id,I)})}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Ke,{children:D.store_owner_name}),s.jsx(Ke,{children:D.plan_name}),s.jsxs(Ke,{children:["",D.plan_amount.toLocaleString()]}),s.jsxs(Ke,{className:"font-bold text-blue-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Ke,{children:_r(new Date(D.earned_date),"PP")}),s.jsx(Ke,{children:s.jsxs(_t,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),s.jsx(en,{value:"paid",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Je,{children:"Paid Commissions (Last 100)"}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>T("paid"),disabled:l.length===0,children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsx(Ee,{className:"p-0",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ds,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No paid commissions yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Helper"}),s.jsx(Qe,{children:"Store Owner"}),s.jsx(Qe,{children:"Plan"}),s.jsx(Qe,{children:"Commission"}),s.jsx(Qe,{children:"Earned Date"}),s.jsx(Qe,{children:"Payment Date"}),s.jsx(Qe,{children:"Reference"})]})}),s.jsx(Hs,{children:l.map(D=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Ke,{children:D.store_owner_name}),s.jsx(Ke,{children:D.plan_name}),s.jsxs(Ke,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Ke,{children:_r(new Date(D.earned_date),"PP")}),s.jsx(Ke,{children:D.payment_date&&_r(new Date(D.payment_date),"PP")}),s.jsx(Ke,{className:"text-sm",children:D.payment_reference})]},D.id))})]})})})]})}),s.jsx(en,{value:"reports",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Pending Commissions Summary"})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",j.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count," payments"]})]}),s.jsx(ds,{className:"h-8 w-8 text-yellow-500"})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Network Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",j.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.network.count," payments"]})]}),s.jsx(ds,{className:"h-8 w-8 text-yellow-500"})]}),s.jsx("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-500",children:["",(j.direct.total+j.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs",children:[j.direct.count+j.network.count," payments"]})]})})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{children:"Payment Analytics"})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Direct)"}),s.jsxs("span",{className:"font-semibold",children:[j.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Network)"}),s.jsxs("span",{className:"font-semibold",children:[j.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Paid (Last 100)"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",j.paid.total.toLocaleString()]})]})]}),s.jsxs(ae,{className:"w-full mt-4",onClick:O,children:[s.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Download Full Report"]})]})]})]})})]})]}),s.jsx(cn,{open:p,onOpenChange:y,children:s.jsxs(sn,{children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Mark Commissions as Paid"}),s.jsxs(Zn,{children:["Mark ",g==="direct"?u.length:f.length," selected commission(s) as paid"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Date"}),s.jsx(Fe,{type:"date",value:_.payment_date,onChange:D=>w({..._,payment_date:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Reference / Transaction ID *"}),s.jsx(Fe,{value:_.payment_reference,onChange:D=>w({..._,payment_reference:D.target.value}),placeholder:"Enter transaction ID or reference number"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3",children:s.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[s.jsx(Cs,{className:"inline w-4 h-4 mr-2"}),'This will update the commission status to "Paid" and record the payment details.']})})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(ae,{onClick:P,children:"Mark as Paid"})]})]})})]})}var Pc="Accordion",_ot=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[d8,jot,Not]=ox(Pc),[yC]=Is(Pc,[Not,Dne]),f8=Dne(),Cme=oe.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(d8.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(Eot,{...i,ref:t}):s.jsx(Cot,{...a,ref:t})})});Cme.displayName=Pc;var[Eme,Sot]=yC(Pc),[Tme,kot]=yC(Pc,{collapsible:!1}),Cot=oe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Pi({prop:r,defaultProp:n??"",onChange:a,caller:Pc});return s.jsx(Eme,{scope:e.__scopeAccordion,value:oe.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:oe.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(Tme,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(Ame,{...o,ref:t})})})}),Eot=oe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Pi({prop:r,defaultProp:n??[],onChange:a,caller:Pc}),c=oe.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=oe.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return s.jsx(Eme,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(Tme,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(Ame,{...i,ref:t})})})}),[Tot,bC]=yC(Pc),Ame=oe.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=oe.useRef(null),c=tr(l,t),u=jot(r),f=nh(a)==="ltr",m=mt(e.onKeyDown,p=>{if(!_ot.includes(p.key))return;const y=p.target,g=u().filter(R=>!R.ref.current?.disabled),v=g.findIndex(R=>R.ref.current===y),_=g.length;if(v===-1)return;p.preventDefault();let w=v;const j=0,C=_-1,S=()=>{w=v+1,w>C&&(w=j)},k=()=>{w=v-1,w<j&&(w=C)};switch(p.key){case"Home":w=j;break;case"End":w=C;break;case"ArrowRight":i==="horizontal"&&(f?S():k());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?k():S());break;case"ArrowUp":i==="vertical"&&k();break}const E=w%_;g[E].ref.current?.focus()});return s.jsx(Tot,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(d8.Slot,{scope:r,children:s.jsx(At.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),p2="AccordionItem",[Aot,h8]=yC(p2),Pme=oe.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=bC(p2,r),o=Sot(p2,r),l=f8(r),c=xo(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(Aot,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Mne,{"data-orientation":i.orientation,"data-state":Fme(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});Pme.displayName=p2;var Ome="AccordionHeader",Dme=oe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=bC(Pc,r),i=h8(Ome,r);return s.jsx(At.h3,{"data-orientation":a.orientation,"data-state":Fme(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Dme.displayName=Ome;var _M="AccordionTrigger",Rme=oe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=bC(Pc,r),i=h8(_M,r),o=kot(_M,r),l=f8(r);return s.jsx(d8.ItemSlot,{scope:r,children:s.jsx(TCe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});Rme.displayName=_M;var Ime="AccordionContent",Mme=oe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=bC(Pc,r),i=h8(Ime,r),o=f8(r);return s.jsx(ACe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Mme.displayName=Ime;function Fme(e){return e?"open":"closed"}var Pot=Cme,Oot=Pme,Dot=Dme,Lme=Rme,$me=Mme;const Rot=Pot,Bme=b.forwardRef(({className:e,...t},r)=>s.jsx(Oot,{ref:r,className:ft("border-b",e),...t}));Bme.displayName="AccordionItem";const Ume=b.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Dot,{className:"flex",children:s.jsxs(Lme,{ref:n,className:ft("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(Xu,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ume.displayName=Lme.displayName;const Vme=b.forwardRef(({className:e,children:t,...r},n)=>s.jsx($me,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:ft("pb-4 pt-0",e),children:t})}));Vme.displayName=$me.displayName;function Iot(){const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState(!1),[i,o]=b.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[l,c]=b.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[u,d]=b.useState("monthly"),[f,m]=b.useState([]),[p,y]=b.useState({}),[g,v]=b.useState(!0),[_,w]=b.useState(!1),[j,C]=b.useState(!0),[S,k]=b.useState(!0),[E,R]=b.useState(500),[P,T]=b.useState("monthly"),[O,D]=b.useState("1st"),[I,L]=b.useState(-1),[W,q]=b.useState("HELP"),[G,K]=b.useState(!0),[U,F]=b.useState([]),[B,V]=b.useState(!1),[Z,X]=b.useState({}),[Q,ce]=b.useState(!1),[de,pe]=b.useState({commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]}),[re,ie]=b.useState(null),J=ee=>{y(we=>({...we,[ee]:{...we[ee],enabled:!we[ee].enabled}}))},z=(ee,we,he,Me)=>{y(Pe=>({...Pe,[ee]:{...Pe[ee],[we]:{...Pe[ee][we],[he]:Me}}}))},Se=(ee,we,he)=>{let Me="";switch(ee){case"networkMonthlyOnetimeValue":case"networkYearlyOnetimeValue":he==="percentage"&&(we<0||we>100)?Me="Percentage must be between 0-100%":he==="fixed"&&we<0&&(Me="Amount cannot be negative");break;case"networkMonthlyRecurringValue":case"networkYearlyRecurringValue":he==="percentage"&&(we<0||we>100)?Me="Percentage must be between 0-100%":he==="fixed"&&we<0&&(Me="Amount cannot be negative");break;case"networkMonthlyRecurringDuration":case"networkYearlyRecurringDuration":(we<1||we>24)&&(Me="Duration must be between 1-24 months");break;case"minPayoutThreshold":we<0&&(Me="Minimum payout cannot be negative");break;case"referralCodePrefix":!we||we.trim()===""?Me="Referral code prefix is required":we.length>6&&(Me="Prefix must be 6 characters or less");break;case"maxHelpersPerRecruiter":we<-1&&(Me="Value must be -1 (unlimited) or greater");break}return X(Pe=>{const Re={...Pe};return Me?Re[ee]=Me:delete Re[ee],Re}),Me===""};b.useEffect(()=>{te()},[]);const te=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await ue(),r(!1)}catch(ee){console.error("Error checking super admin access:",ee),e("/superadmin/login")}},_e=async()=>{try{const{data:ee,error:we}=await Y.from("subscription_plans").select("id, name, slug, monthly_price, yearly_price, is_active").eq("is_active",!0).order("display_order");if(we)throw we;const he=ee||[];m(he);const Me={};he.forEach(Pe=>{Me[Pe.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),y(Me)}catch(ee){console.error("Error fetching subscription plans:",ee),ct.error("Failed to load subscription plans")}},Ae=async()=>{try{const{data:ee,error:we}=await Y.from("commission_audit").select("*").order("created_at",{ascending:!1}).limit(50);if(we){if(we.message.includes("does not exist")){console.info("Audit trail table not yet created"),F([]);return}throw we}F(ee||[])}catch(ee){console.error("Error fetching audit records:",ee),String(ee).includes("does not exist")||ct.error("Failed to load audit trail")}},ue=async()=>{try{await _e();const{data:ee,error:we}=await Y.from("commission_settings").select("*").eq("is_active",!0).single();if(we){console.error("Error loading commission settings:",we),ct.error("Failed to load commission settings");return}if(ee){v(ee.enable_multi_tier),w(ee.auto_approve_applications),C(ee.send_welcome_email),k(ee.send_commission_notifications),R(ee.min_payout_threshold),T(ee.payment_schedule),D(ee.payment_day),L(ee.max_helpers_per_recruiter),q(ee.referral_code_prefix),K(ee.auto_generate_codes);const{data:he,error:Me}=await Y.from("network_commission").select("*").eq("settings_id",ee.id);let Pe={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},Re={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12};!Me&&he&&he.forEach(nt=>{const at={model:nt.commission_model,onetimeType:nt.onetime_type,onetimeValue:nt.onetime_value,recurringType:nt.recurring_type,recurringValue:nt.recurring_value,recurringDuration:nt.recurring_duration};nt.subscription_type==="monthly"?(o(at),Pe=at):nt.subscription_type==="yearly"&&(c(at),Re=at)});const{data:et,error:jt}=await Y.from("plan_commission").select("*").eq("settings_id",ee.id);let je={};if(!jt&&et){const nt={};f.forEach(at=>{nt[at.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),et.forEach(at=>{nt[at.plan_id]||(nt[at.plan_id]={enabled:at.enabled,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}});const Dt={model:at.commission_model,onetimeType:at.onetime_type,onetimeValue:at.onetime_value,recurringType:at.recurring_type,recurringValue:at.recurring_value,recurringDuration:at.recurring_duration};at.subscription_type==="monthly"?(nt[at.plan_id].monthly=Dt,nt[at.plan_id].enabled=at.enabled):at.subscription_type==="yearly"&&(nt[at.plan_id].yearly=Dt)}),je=nt,y(nt)}ct.success("Settings loaded successfully"),ie({networkMonthly:Pe,networkYearly:Re,planCommissions:JSON.parse(JSON.stringify(je)),enableMultiTier:ee.enable_multi_tier,autoApproveApplications:ee.auto_approve_applications,sendWelcomeEmail:ee.send_welcome_email,sendCommissionNotifications:ee.send_commission_notifications,minPayoutThreshold:ee.min_payout_threshold,paymentSchedule:ee.payment_schedule,paymentDay:ee.payment_day,maxHelpersPerRecruiter:ee.max_helpers_per_recruiter,referralCodePrefix:ee.referral_code_prefix,autoGenerateCodes:ee.auto_generate_codes})}}catch(ee){console.error("Error loading settings:",ee),ct.error("Failed to load settings")}},Ve=()=>{const ee=[];return(i.model==="onetime"||i.model==="hybrid")&&(i.onetimeType==="percentage"&&(i.onetimeValue<0||i.onetimeValue>100)&&ee.push("Network Monthly: One-time percentage must be between 0-100%"),i.onetimeType==="fixed"&&i.onetimeValue<0&&ee.push("Network Monthly: One-time fixed amount cannot be negative")),(i.model==="recurring"||i.model==="hybrid")&&(i.recurringType==="percentage"&&(i.recurringValue<0||i.recurringValue>100)&&ee.push("Network Monthly: Recurring percentage must be between 0-100%"),i.recurringType==="fixed"&&i.recurringValue<0&&ee.push("Network Monthly: Recurring fixed amount cannot be negative"),(i.recurringDuration<1||i.recurringDuration>24)&&ee.push("Network Monthly: Duration must be between 1-24 months")),(l.model==="onetime"||l.model==="hybrid")&&(l.onetimeType==="percentage"&&(l.onetimeValue<0||l.onetimeValue>100)&&ee.push("Network Yearly: One-time percentage must be between 0-100%"),l.onetimeType==="fixed"&&l.onetimeValue<0&&ee.push("Network Yearly: One-time fixed amount cannot be negative")),(l.model==="recurring"||l.model==="hybrid")&&(l.recurringType==="percentage"&&(l.recurringValue<0||l.recurringValue>100)&&ee.push("Network Yearly: Recurring percentage must be between 0-100%"),l.recurringType==="fixed"&&l.recurringValue<0&&ee.push("Network Yearly: Recurring fixed amount cannot be negative"),(l.recurringDuration<1||l.recurringDuration>24)&&ee.push("Network Yearly: Duration must be between 1-24 months")),Object.entries(p).forEach(([we,he])=>{if(he.enabled){const Pe=f.find(jt=>jt.id===we)?.name||"Unknown Plan";(he.monthly.model==="onetime"||he.monthly.model==="hybrid")&&(he.monthly.onetimeType==="percentage"&&(he.monthly.onetimeValue<0||he.monthly.onetimeValue>100)&&ee.push(`${Pe} (Monthly): One-time percentage must be between 0-100%`),he.monthly.onetimeType==="fixed"&&he.monthly.onetimeValue<0&&ee.push(`${Pe} (Monthly): One-time fixed amount cannot be negative`)),(he.monthly.model==="recurring"||he.monthly.model==="hybrid")&&(he.monthly.recurringType==="percentage"&&(he.monthly.recurringValue<0||he.monthly.recurringValue>100)&&ee.push(`${Pe} (Monthly): Recurring percentage must be between 0-100%`),he.monthly.recurringType==="fixed"&&he.monthly.recurringValue<0&&ee.push(`${Pe} (Monthly): Recurring fixed amount cannot be negative`),(he.monthly.recurringDuration<1||he.monthly.recurringDuration>24)&&ee.push(`${Pe} (Monthly): Duration must be between 1-24 months`)),(he.yearly.model==="onetime"||he.yearly.model==="hybrid")&&(he.yearly.onetimeType==="percentage"&&(he.yearly.onetimeValue<0||he.yearly.onetimeValue>100)&&ee.push(`${Pe} (Yearly): One-time percentage must be between 0-100%`),he.yearly.onetimeType==="fixed"&&he.yearly.onetimeValue<0&&ee.push(`${Pe} (Yearly): One-time fixed amount cannot be negative`)),(he.yearly.model==="recurring"||he.yearly.model==="hybrid")&&(he.yearly.recurringType==="percentage"&&(he.yearly.recurringValue<0||he.yearly.recurringValue>100)&&ee.push(`${Pe} (Yearly): Recurring percentage must be between 0-100%`),he.yearly.recurringType==="fixed"&&he.yearly.recurringValue<0&&ee.push(`${Pe} (Yearly): Recurring fixed amount cannot be negative`),(he.yearly.recurringDuration<1||he.yearly.recurringDuration>24)&&ee.push(`${Pe} (Yearly): Duration must be between 1-24 months`));const Re=he.monthly.model==="onetime"&&he.monthly.onetimeValue>0||he.monthly.model==="recurring"&&he.monthly.recurringValue>0||he.monthly.model==="hybrid"&&(he.monthly.onetimeValue>0||he.monthly.recurringValue>0),et=he.yearly.model==="onetime"&&he.yearly.onetimeValue>0||he.yearly.model==="recurring"&&he.yearly.recurringValue>0||he.yearly.model==="hybrid"&&(he.yearly.onetimeValue>0||he.yearly.recurringValue>0);!Re&&!et&&ee.push(`${Pe}: Commission is enabled but all values are 0 - helpers will not earn anything`)}}),E<0&&ee.push("Minimum Payout Threshold cannot be negative"),(!W||W.trim()==="")&&ee.push("Referral Code Prefix cannot be empty"),W.length>6&&ee.push("Referral Code Prefix must be 6 characters or less"),I<-1&&ee.push("Max Helpers Per Recruiter must be -1 (unlimited) or a positive number"),{isValid:ee.length===0,errors:ee}},He=(ee,we)=>{const he={...we};return ee==="onetime"?(he.recurring_value=0,he.recurring_duration=12):ee==="recurring"&&(he.onetime_value=0),he},le=()=>{if(!re)return{commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]};const ee={commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]},we=(Me,Pe)=>Me==="percentage"?`${Pe}%`:`${Pe}`,he={onetime:"One-time",recurring:"Recurring",hybrid:"Hybrid"};if(JSON.stringify(i)!==JSON.stringify(re.networkMonthly)&&(i.model!==re.networkMonthly.model&&ee.commissionModel.push(`Monthly: ${he[re.networkMonthly.model]}  ${he[i.model]}`),i.onetimeValue!==re.networkMonthly.onetimeValue&&ee.commissionRates.push(`Monthly One-time: ${we(re.networkMonthly.onetimeType,re.networkMonthly.onetimeValue)}  ${we(i.onetimeType,i.onetimeValue)}`),i.recurringValue!==re.networkMonthly.recurringValue&&ee.commissionRates.push(`Monthly Recurring: ${we(re.networkMonthly.recurringType,re.networkMonthly.recurringValue)}  ${we(i.recurringType,i.recurringValue)}`),i.recurringDuration!==re.networkMonthly.recurringDuration&&ee.commissionRates.push(`Monthly Duration: ${re.networkMonthly.recurringDuration}  ${i.recurringDuration} months`)),JSON.stringify(l)!==JSON.stringify(re.networkYearly)&&(l.model!==re.networkYearly.model&&ee.commissionModel.push(`Yearly: ${he[re.networkYearly.model]}  ${he[l.model]}`),l.onetimeValue!==re.networkYearly.onetimeValue&&ee.commissionRates.push(`Yearly One-time: ${we(re.networkYearly.onetimeType,re.networkYearly.onetimeValue)}  ${we(l.onetimeType,l.onetimeValue)}`),l.recurringValue!==re.networkYearly.recurringValue&&ee.commissionRates.push(`Yearly Recurring: ${we(re.networkYearly.recurringType,re.networkYearly.recurringValue)}  ${we(l.recurringType,l.recurringValue)}`)),Object.keys(p).forEach(Me=>{const Pe=f.find(jt=>jt.id===Me);if(!Pe)return;const Re=p[Me],et=re.planCommissions?.[Me];et&&(Re.enabled!==et.enabled&&ee.featureToggles.push(`${Pe.name}: ${Re.enabled?"Enabled":"Disabled"}`),JSON.stringify(Re.monthly)!==JSON.stringify(et.monthly)&&(Re.monthly.model!==et.monthly.model&&ee.commissionModel.push(`${Pe.name} Monthly: ${he[et.monthly.model]}  ${he[Re.monthly.model]}`),Re.monthly.onetimeValue!==et.monthly.onetimeValue&&ee.commissionRates.push(`${Pe.name} Monthly: ${we(et.monthly.onetimeType,et.monthly.onetimeValue)}  ${we(Re.monthly.onetimeType,Re.monthly.onetimeValue)}`)),JSON.stringify(Re.yearly)!==JSON.stringify(et.yearly)&&(Re.yearly.onetimeValue!==et.yearly.onetimeValue||Re.yearly.recurringValue!==et.yearly.recurringValue)&&ee.commissionRates.push(`${Pe.name} Yearly: Commission updated`))}),g!==re.enableMultiTier&&ee.featureToggles.push(`Multi-Tier Program: ${g?"Enabled":"Disabled"}`),_!==re.autoApproveApplications&&ee.featureToggles.push(`Auto-approve Applications: ${_?"Enabled":"Disabled"}`),j!==re.sendWelcomeEmail&&ee.featureToggles.push(`Welcome Email: ${j?"Enabled":"Disabled"}`),S!==re.sendCommissionNotifications&&ee.featureToggles.push(`Commission Notifications: ${S?"Enabled":"Disabled"}`),E!==re.minPayoutThreshold&&ee.paymentSettings.push(`Minimum Payout: ${re.minPayoutThreshold}  ${E}`),P!==re.paymentSchedule&&ee.paymentSettings.push(`Schedule: ${re.paymentSchedule}  ${P}`),O!==re.paymentDay&&ee.paymentSettings.push(`Payment Day: ${re.paymentDay}  ${O}`),I!==re.maxHelpersPerRecruiter){const Me=re.maxHelpersPerRecruiter===-1?"Unlimited":re.maxHelpersPerRecruiter,Pe=I===-1?"Unlimited":I;ee.recruitmentSettings.push(`Max Helpers: ${Me}  ${Pe}`)}return W!==re.referralCodePrefix&&ee.recruitmentSettings.push(`Code Prefix: ${re.referralCodePrefix}  ${W}`),ee},be=async()=>{if(Object.keys(Z).length>0){ct.error("Please fix all field errors before saving",{description:"Check the red-highlighted fields above",duration:4e3});return}const we=Ve();if(!we.isValid){we.errors.forEach((he,Me)=>{setTimeout(()=>{ct.error(he,{duration:5e3})},Me*100)});return}a(!0);try{const{data:he}=await Y.from("commission_settings").select("id, version").eq("is_active",!0).single(),Me=he?he.version+1:1;he&&await Y.from("commission_settings").update({is_active:!1}).eq("id",he.id);const{data:Pe,error:Re}=await Y.from("commission_settings").insert({version:Me,enable_multi_tier:g,auto_approve_applications:_,send_welcome_email:j,send_commission_notifications:S,min_payout_threshold:E,payment_schedule:P,payment_day:O,max_helpers_per_recruiter:I,referral_code_prefix:W,auto_generate_codes:G,is_active:!0}).select().single();if(Re)throw Re;const et=He(i.model,{onetime_type:i.onetimeType,onetime_value:i.onetimeValue,recurring_type:i.recurringType,recurring_value:i.recurringValue,recurring_duration:i.recurringDuration}),{error:jt}=await Y.from("network_commission").insert({settings_id:Pe.id,subscription_type:"monthly",commission_model:i.model,...et});if(jt)throw jt;const je=He(l.model,{onetime_type:l.onetimeType,onetime_value:l.onetimeValue,recurring_type:l.recurringType,recurring_value:l.recurringValue,recurring_duration:l.recurringDuration}),{error:nt}=await Y.from("network_commission").insert({settings_id:Pe.id,subscription_type:"yearly",commission_model:l.model,...je});if(nt)throw nt;for(const[Dt,lt]of Object.entries(p)){const vt=He(lt.monthly.model,{onetime_type:lt.monthly.onetimeType,onetime_value:lt.monthly.onetimeValue,recurring_type:lt.monthly.recurringType,recurring_value:lt.monthly.recurringValue,recurring_duration:lt.monthly.recurringDuration}),{error:Zt}=await Y.from("plan_commission").insert({settings_id:Pe.id,plan_id:Dt,subscription_type:"monthly",enabled:lt.enabled,commission_model:lt.monthly.model,...vt});if(Zt)throw Zt;const Gt=He(lt.yearly.model,{onetime_type:lt.yearly.onetimeType,onetime_value:lt.yearly.onetimeValue,recurring_type:lt.yearly.recurringType,recurring_value:lt.yearly.recurringValue,recurring_duration:lt.yearly.recurringDuration}),{error:pr}=await Y.from("plan_commission").insert({settings_id:Pe.id,plan_id:Dt,subscription_type:"yearly",enabled:lt.enabled,commission_model:lt.yearly.model,...Gt});if(pr)throw pr}const at=le();pe(at),ce(!0),ct.success(`Settings saved successfully! (Version ${Me})`),a(!1),ie({networkMonthly:{...i},networkYearly:{...l},planCommissions:JSON.parse(JSON.stringify(p)),enableMultiTier:g,autoApproveApplications:_,sendWelcomeEmail:j,sendCommissionNotifications:S,minPayoutThreshold:E,paymentSchedule:P,paymentDay:O,maxHelpersPerRecruiter:I,referralCodePrefix:W,autoGenerateCodes:G})}catch(he){console.error("Error saving settings:",he),ct.error("Failed to save settings"),a(!1)}};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})});const Oe=[{label:"1 month",value:1},{label:"3 months",value:3},{label:"6 months",value:6},{label:"12 months",value:12},{label:"24 months",value:24}],Ze=100,tt=1e3,fe=(ee,we=!1)=>{const he=we?tt:Ze,Me=we?l:i;if(Me.model==="onetime")return ee===1?Me.onetimeType==="percentage"?he*Me.onetimeValue/100:Me.onetimeValue:0;if(Me.model==="recurring")return ee<=Me.recurringDuration?Me.recurringType==="percentage"?he*Me.recurringValue/100:Me.recurringValue:0;{const Pe=ee===1?Me.onetimeType==="percentage"?he*Me.onetimeValue/100:Me.onetimeValue:0,Re=ee>1&&ee<=Me.recurringDuration+1?Me.recurringType==="percentage"?he*Me.recurringValue/100:Me.recurringValue:0;return Pe+Re}};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Na,{className:"h-8 w-8"}),"Commission Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure commission rates, payment settings, and helper program rules"})]}),s.jsx(ae,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Network Commission Settings"}),s.jsx(Pr,{children:"Commission when helper recruits a another helper (multi-tier)"})]}),s.jsx(Ee,{children:s.jsxs(mu,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Qr,{value:"monthly",children:"Monthly Subscription"}),s.jsx(Qr,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(en,{value:"monthly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-onetime",name:"network-monthly-model",checked:i.model==="onetime",onChange:()=>o(ee=>({...ee,model:"onetime"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-monthly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-recurring",name:"network-monthly-model",checked:i.model==="recurring",onChange:()=>o(ee=>({...ee,model:"recurring"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-monthly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-hybrid",name:"network-monthly-model",checked:i.model==="hybrid",onChange:()=>o(ee=>({...ee,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-monthly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(ar,{value:i.onetimeType,onValueChange:ee=>o(we=>({...we,onetimeType:ee})),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:i.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:i.onetimeValue,onChange:ee=>{const we=ee.target.value===""?0:Number(ee.target.value);o(he=>({...he,onetimeValue:we})),Se("networkMonthlyOnetimeValue",we,i.onetimeType)},onBlur:()=>Se("networkMonthlyOnetimeValue",i.onetimeValue,i.onetimeType),min:0,max:i.onetimeType==="percentage"?100:void 0,className:Z.networkMonthlyOnetimeValue?"border-red-500 focus-visible:ring-red-500":""}),Z.networkMonthlyOnetimeValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.networkMonthlyOnetimeValue]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store completes onboarding and first subscription payment"})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(ar,{value:i.recurringType,onValueChange:ee=>o(we=>({...we,recurringType:ee})),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:i.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:i.recurringValue,onChange:ee=>{const we=ee.target.value===""?0:Number(ee.target.value);o(he=>({...he,recurringValue:we})),Se("networkMonthlyRecurringValue",we,i.recurringType)},onBlur:()=>Se("networkMonthlyRecurringValue",i.recurringValue,i.recurringType),min:0,max:i.recurringType==="percentage"?100:void 0,className:Z.networkMonthlyRecurringValue?"border-red-500 focus-visible:ring-red-500":""}),Z.networkMonthlyRecurringValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.networkMonthlyRecurringValue]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Months)"}),s.jsxs(ar,{value:i.recurringDuration.toString(),onValueChange:ee=>o(we=>({...we,recurringDuration:parseInt(ee)})),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsx(nr,{children:Oe.map(ee=>s.jsx(Ue,{value:ee.value.toString(),children:ee.label},ee.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid monthly for the specified duration while store remains active"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(hc,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:["Earnings Preview (Store pays ",Ze,"/month):"]}),s.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 space-y-1",children:[s.jsxs("p",{children:[" Month 1: ",fe(1,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 2: ",fe(2,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 12: ",fe(12,!1).toFixed(2)]}),i.recurringDuration>12&&s.jsxs("p",{children:[" Month ",i.recurringDuration+1,": ",fe(i.recurringDuration+1,!1).toFixed(2)]})]})]})]})})]}),s.jsxs(en,{value:"yearly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-onetime",name:"network-yearly-model",checked:l.model==="onetime",onChange:()=>c(ee=>({...ee,model:"onetime"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-yearly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-recurring",name:"network-yearly-model",checked:l.model==="recurring",onChange:()=>c(ee=>({...ee,model:"recurring"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-yearly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-hybrid",name:"network-yearly-model",checked:l.model==="hybrid",onChange:()=>c(ee=>({...ee,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-yearly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(ar,{value:l.onetimeType,onValueChange:ee=>c(we=>({...we,onetimeType:ee})),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:l.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:l.onetimeValue,onChange:ee=>c(we=>({...we,onetimeValue:ee.target.value===""?0:Number(ee.target.value)})),min:0,max:l.onetimeType==="percentage"?100:void 0})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store purchases yearly subscription (higher to incentivize yearly sales)"})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(ar,{value:l.recurringType,onValueChange:ee=>c(we=>({...we,recurringType:ee})),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:l.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:l.recurringValue,onChange:ee=>c(we=>({...we,recurringValue:ee.target.value===""?0:Number(ee.target.value)})),min:0,max:l.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Years)"}),s.jsxs(ar,{value:l.recurringDuration.toString(),onValueChange:ee=>c(we=>({...we,recurringDuration:parseInt(ee)})),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsx(nr,{children:Oe.map(ee=>s.jsxs(Ue,{value:ee.value.toString(),children:[ee.label," ",ee.value>1?"years":"year"]},ee.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid yearly for the specified duration while store renews subscription"})]}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(hc,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:["Earnings Preview (Store pays ",tt,"/year):"]}),s.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-200 space-y-1",children:[s.jsxs("p",{children:[" Year 1: ",fe(1,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 2: ",fe(2,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 12: ",fe(12,!0).toFixed(2)]}),l.recurringDuration>12&&s.jsxs("p",{children:[" Year ",l.recurringDuration+1,": ",fe(l.recurringDuration+1,!0).toFixed(2)]})]})]})]})})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Plan-Specific Commission"}),s.jsx(Pr,{children:"Customize commission rates for specific subscription plans. When disabled, global settings apply."})]}),s.jsx(Ee,{children:f.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(Na,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No subscription plans found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please create subscription plans first before configuring plan-specific commissions."})]}):s.jsx(Rot,{type:"multiple",className:"w-full",children:f.map(ee=>{const we=p[ee.id];return we?s.jsxs(Bme,{value:ee.id,children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx(Ume,{className:"flex-1 hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`font-semibold ${we.enabled?"":"text-red-600 dark:text-red-400"}`,children:ee.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["",ee.monthly_price,"/month  ",ee.yearly_price,"/year"]})]})}),s.jsxs("div",{className:"flex items-center gap-2 pr-4",children:[s.jsx(Gr,{checked:we.enabled,onCheckedChange:()=>J(ee.id)}),s.jsx("span",{className:`text-sm ${we.enabled?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:we.enabled?"Enabled":"Disabled"})]})]}),s.jsx(Vme,{children:we.enabled?s.jsxs(mu,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Qr,{value:"monthly",children:"Monthly Subscription"}),s.jsx(Qr,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(en,{value:"monthly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(he=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${ee.id}-monthly-${he}`,name:`${ee.id}-monthly-model`,checked:we.monthly.model===he,onChange:()=>z(ee.id,"monthly","model",he),className:"h-4 w-4"}),s.jsxs(ke,{htmlFor:`${ee.id}-monthly-${he}`,className:"font-normal cursor-pointer",children:["Model ",he==="onetime"?"1":he==="recurring"?"2":"3",":",he==="onetime"?" One-time Only":he==="recurring"?" Recurring Only":" Hybrid"]})]},he))})]}),(we.monthly.model==="onetime"||we.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(ar,{value:we.monthly.onetimeType,onValueChange:he=>z(ee.id,"monthly","onetimeType",he),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:we.monthly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:we.monthly.onetimeValue,onChange:he=>z(ee.id,"monthly","onetimeValue",he.target.value===""?0:Number(he.target.value)),min:0,max:we.monthly.onetimeType==="percentage"?100:void 0})]})]})]}),(we.monthly.model==="recurring"||we.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(ar,{value:we.monthly.recurringType,onValueChange:he=>z(ee.id,"monthly","recurringType",he),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:we.monthly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:we.monthly.recurringValue,onChange:he=>z(ee.id,"monthly","recurringValue",he.target.value===""?0:Number(he.target.value)),min:0,max:we.monthly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Months)"}),s.jsxs(ar,{value:we.monthly.recurringDuration.toString(),onValueChange:he=>z(ee.id,"monthly","recurringDuration",parseInt(he)),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsx(nr,{children:Oe.map(he=>s.jsx(Ue,{value:he.value.toString(),children:he.label},he.value))})]})]})]})]})]}),s.jsxs(en,{value:"yearly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(he=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${ee.id}-yearly-${he}`,name:`${ee.id}-yearly-model`,checked:we.yearly.model===he,onChange:()=>z(ee.id,"yearly","model",he),className:"h-4 w-4"}),s.jsxs(ke,{htmlFor:`${ee.id}-yearly-${he}`,className:"font-normal cursor-pointer",children:["Model ",he==="onetime"?"1":he==="recurring"?"2":"3",":",he==="onetime"?" One-time Only":he==="recurring"?" Recurring Only":" Hybrid"]})]},he))})]}),(we.yearly.model==="onetime"||we.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(ar,{value:we.yearly.onetimeType,onValueChange:he=>z(ee.id,"yearly","onetimeType",he),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:we.yearly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:we.yearly.onetimeValue,onChange:he=>z(ee.id,"yearly","onetimeValue",he.target.value===""?0:Number(he.target.value)),min:0,max:we.yearly.onetimeType==="percentage"?100:void 0})]})]})]}),(we.yearly.model==="recurring"||we.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(ar,{value:we.yearly.recurringType,onValueChange:he=>z(ee.id,"yearly","recurringType",he),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ue,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:we.yearly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Fe,{type:"number",value:we.yearly.recurringValue,onChange:he=>z(ee.id,"yearly","recurringValue",he.target.value===""?0:Number(he.target.value)),min:0,max:we.yearly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Years)"}),s.jsxs(ar,{value:we.yearly.recurringDuration.toString(),onValueChange:he=>z(ee.id,"yearly","recurringDuration",parseInt(he)),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsx(nr,{children:Oe.map(he=>s.jsxs(Ue,{value:he.value.toString(),children:[he.label," ",he.value>1?"years":"year"]},he.value))})]})]})]})]})]})]}):s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-900 dark:text-red-100 font-semibold",children:" Commission Disabled"}),s.jsxs("p",{className:"text-red-700 dark:text-red-300 text-sm mt-2",children:["Helpers will receive ",s.jsx("strong",{children:"NO commission"})," for recruiting store owners on this plan. Enable commission above to set rates."]})]})})]},ee.id):null})})})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Feature Controls"}),s.jsx(Pr,{children:"Enable or disable helper program features"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Enable Multi-Tier Helper Program"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow helpers to recruit other helpers and earn network commissions"})]}),s.jsx(Gr,{checked:g,onCheckedChange:v})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Auto-approve Helper Applications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve all helper applications without manual review"})]}),s.jsx(Gr,{checked:_,onCheckedChange:w})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Send Helper Welcome Email"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send welcome email when helper application is approved"})]}),s.jsx(Gr,{checked:j,onCheckedChange:C})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Send Commission Earned Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify helpers when they earn new commissions"})]}),s.jsx(Gr,{checked:S,onCheckedChange:k})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Payment Settings"}),s.jsx(Pr,{children:"Configure payment schedules and thresholds"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Minimum Payout Threshold ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fe,{type:"number",value:E,onChange:ee=>{const we=parseFloat(ee.target.value);R(we),Se("minPayoutThreshold",we)},onBlur:()=>Se("minPayoutThreshold",E),min:0,className:Z.minPayoutThreshold?"border-red-500 focus-visible:ring-red-500":""}),Z.minPayoutThreshold&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.minPayoutThreshold]})]}),!Z.minPayoutThreshold&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helpers must earn at least this amount before payment is processed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Schedule"}),s.jsxs(ar,{value:P,onValueChange:T,children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"weekly",children:"Weekly"}),s.jsx(Ue,{value:"biweekly",children:"Bi-weekly"}),s.jsx(Ue,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Day"}),s.jsxs(ar,{value:O,onValueChange:D,children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsx(nr,{children:P==="weekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ue,{value:"monday",children:"Every Monday"}),s.jsx(Ue,{value:"tuesday",children:"Every Tuesday"}),s.jsx(Ue,{value:"wednesday",children:"Every Wednesday"}),s.jsx(Ue,{value:"thursday",children:"Every Thursday"}),s.jsx(Ue,{value:"friday",children:"Every Friday"})]}):P==="biweekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ue,{value:"1st-15th",children:"1st and 15th of month"}),s.jsx(Ue,{value:"monday",children:"Every other Monday"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ue,{value:"1st",children:"1st of month"}),s.jsx(Ue,{value:"15th",children:"15th of month"}),s.jsx(Ue,{value:"last",children:"Last day of month"})]})})]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Helper Recruitment Settings"}),s.jsx(Pr,{children:"Configure helper recruitment rules and referral codes"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Maximum Helpers Per Recruiter"}),s.jsx(Fe,{type:"number",value:I===-1?"":I,onChange:ee=>L(ee.target.value?parseInt(ee.target.value):-1),placeholder:"Leave empty for unlimited",min:0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty or enter -1 for unlimited recruitment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Referral Code Prefix"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fe,{value:W,onChange:ee=>{const we=ee.target.value.toUpperCase();q(we),Se("referralCodePrefix",we)},onBlur:()=>Se("referralCodePrefix",W),placeholder:"HELP",maxLength:6,className:Z.referralCodePrefix?"border-red-500 focus-visible:ring-red-500":""}),Z.referralCodePrefix&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.referralCodePrefix]})]}),!Z.referralCodePrefix&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix for auto-generated referral codes (e.g., HELP001, HELP002)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Auto-generate Referral Codes"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate unique referral codes for new helpers"})]}),s.jsx(Gr,{checked:G,onCheckedChange:K})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(r9,{className:"h-5 w-5"}),"Audit Trail"]}),s.jsx(Pr,{children:"Track all changes to commission settings"})]}),s.jsxs(ae,{variant:"outline",onClick:()=>{V(!B),B||Ae()},children:[B?"Hide":"Show"," History"]})]})}),B&&s.jsx(Ee,{children:U.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(r9,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No audit records yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Changes to commission settings will appear here"})]}):s.jsx("div",{className:"space-y-3",children:U.map(ee=>{let we="",he="";return ee.table_name==="plan_commission"&&ee.new_value?.plan_id?(we=f.find(Pe=>Pe.id===ee.new_value.plan_id)?.name||"Unknown Plan",he=ee.new_value.subscription_type?` - ${ee.new_value.subscription_type.charAt(0).toUpperCase()+ee.new_value.subscription_type.slice(1)}`:""):ee.table_name==="network_commission"&&ee.new_value?.subscription_type&&(he=` - ${ee.new_value.subscription_type.charAt(0).toUpperCase()+ee.new_value.subscription_type.slice(1)}`),s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ee.action==="created"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":ee.action==="updated"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":ee.action==="deleted"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:ee.action.toUpperCase()}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[ee.table_name.replace(/_/g," ").replace(/\b\w/g,Me=>Me.toUpperCase()),we&&` - "${we}"${he}`,!we&&he]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Vl,{className:"h-3 w-3"}),new Date(ee.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(d0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:ee.changed_by_email||"Unknown User"})]}),ee.field_changed&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Field:"})," ",s.jsx("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded",children:ee.field_changed})]}),(ee.old_value||ee.new_value)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[ee.old_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Previous Values:"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-3 text-xs space-y-1",children:Object.entries(ee.old_value).map(([Me,Pe])=>{if(["id","created_at","settings_id","plan_id"].includes(Me))return null;const Re=Me.split("_").map(jt=>jt.charAt(0).toUpperCase()+jt.slice(1)).join(" ");let et=Pe;if(Me==="commission_model")et=Pe==="onetime"?"One-time":Pe==="recurring"?"Recurring":"Hybrid";else if(Me==="subscription_type")et=Pe.charAt(0).toUpperCase()+Pe.slice(1);else if(Me.includes("_type")&&(Pe==="percentage"||Pe==="fixed"))et=Pe==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Me.includes("_value")&&Me.includes("onetime")){const jt=Me.replace("value","type");et=ee.old_value[jt]==="percentage"?`${Pe}%`:`${Pe}`}else if(Me.includes("_value")&&Me.includes("recurring")){const jt=Me.replace("value","type");et=ee.old_value[jt]==="percentage"?`${Pe}%`:`${Pe}`}else Me.includes("duration")?et=`${Pe} months`:typeof Pe=="boolean"&&(et=Pe?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-red-200 dark:border-red-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Re,":"]}),s.jsx("span",{className:"font-medium",children:String(et)})]},Me)})})]}),ee.new_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"New Values:"}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3 text-xs space-y-1",children:Object.entries(ee.new_value).map(([Me,Pe])=>{if(["id","created_at","settings_id","plan_id"].includes(Me))return null;const Re=Me.split("_").map(jt=>jt.charAt(0).toUpperCase()+jt.slice(1)).join(" ");let et=Pe;if(Me==="commission_model")et=Pe==="onetime"?"One-time":Pe==="recurring"?"Recurring":"Hybrid";else if(Me==="subscription_type")et=Pe.charAt(0).toUpperCase()+Pe.slice(1);else if(Me.includes("_type")&&(Pe==="percentage"||Pe==="fixed"))et=Pe==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Me.includes("_value")&&Me.includes("onetime")){const jt=Me.replace("value","type");et=ee.new_value[jt]==="percentage"?`${Pe}%`:`${Pe}`}else if(Me.includes("_value")&&Me.includes("recurring")){const jt=Me.replace("value","type");et=ee.new_value[jt]==="percentage"?`${Pe}%`:`${Pe}`}else Me.includes("duration")?et=`${Pe} months`:typeof Pe=="boolean"&&(et=Pe?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-green-200 dark:border-green-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Re,":"]}),s.jsx("span",{className:"font-medium",children:String(et)})]},Me)})})]})]}),ee.change_reason&&s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reason:"})," ",s.jsx("span",{className:"italic",children:ee.change_reason})]})]},ee.id)})})})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Object.keys(Z).length>0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[s.jsx("span",{children:""})," Fix ",Object.keys(Z).length," error",Object.keys(Z).length>1?"s":""," before saving"]}),s.jsxs(ae,{size:"lg",onClick:be,disabled:n||Object.keys(Z).length>0,className:Object.keys(Z).length>0?"opacity-50 cursor-not-allowed":"",children:[s.jsx(jc,{className:"h-5 w-5 mr-2"}),n?"Saving...":"Save All Settings"]})]}),s.jsx(cn,{open:Q,onOpenChange:ce,children:s.jsxs(sn,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsxs(dn,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(an,{className:"h-6 w-6 text-green-600"}),"Settings Saved Successfully"]}),s.jsxs(Zn,{className:"text-base",children:[de.commissionModel.length+de.commissionRates.length+de.featureToggles.length+de.paymentSettings.length+de.recruitmentSettings.length," changes applied to your commission settings"]})]}),s.jsx("div",{className:"mt-6 space-y-6",children:de.commissionModel.length+de.commissionRates.length+de.featureToggles.length+de.paymentSettings.length+de.recruitmentSettings.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(hc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No changes detected"})]}):s.jsxs(s.Fragment,{children:[re&&(JSON.stringify(i)!==JSON.stringify(re.networkMonthly)||JSON.stringify(l)!==JSON.stringify(re.networkYearly))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),re&&re.planCommissions&&Object.keys(p).some(ee=>{const we=re.planCommissions[ee];return we&&JSON.stringify(p[ee])!==JSON.stringify(we)})&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(ee=>{const we=f.find(Pe=>Pe.id===ee),he=p[ee],Me=re?.planCommissions?.[ee];return!we||!Me||JSON.stringify(he)===JSON.stringify(Me)?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:we.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${he.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:he.enabled?"Enabled":"Disabled"})]}),he.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.monthly.model==="onetime"?"One-time":he.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.monthly.model==="onetime"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.onetimeType==="percentage"?`${he.monthly.onetimeValue}%`:`${he.monthly.onetimeValue}`})]})]}),(he.monthly.model==="recurring"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.recurringType==="percentage"?`${he.monthly.recurringValue}%`:`${he.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.yearly.model==="onetime"?"One-time":he.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.yearly.model==="onetime"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.onetimeType==="percentage"?`${he.yearly.onetimeValue}%`:`${he.yearly.onetimeValue}`})]})]}),(he.yearly.model==="recurring"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.recurringType==="percentage"?`${he.yearly.recurringValue}%`:`${he.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.yearly.recurringDuration," months"]})]})]})]})]})]})]},ee)})})]}),(de.commissionModel.length>0||de.commissionRates.length>0)&&(!re||JSON.stringify(i)===JSON.stringify(re.networkMonthly)&&JSON.stringify(l)===JSON.stringify(re.networkYearly)&&!Object.keys(p).some(ee=>{const we=re.planCommissions?.[ee];return we&&JSON.stringify(p[ee])!==JSON.stringify(we)}))&&s.jsxs(s.Fragment,{children:[(de.commissionModel.some(ee=>ee.startsWith("Monthly:")||ee.startsWith("Yearly:"))||de.commissionRates.some(ee=>ee.startsWith("Monthly")||ee.startsWith("Yearly")))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),Object.keys(p).filter(ee=>{const we=f.find(he=>he.id===ee);return we&&(de.commissionModel.some(he=>he.includes(we.name))||de.commissionRates.some(he=>he.includes(we.name))||de.featureToggles.some(he=>he.includes(we.name)))}).length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(ee=>{const we=f.find(Me=>Me.id===ee),he=p[ee];return!we||!(de.commissionModel.some(Me=>Me.includes(we.name))||de.commissionRates.some(Me=>Me.includes(we.name))||de.featureToggles.some(Me=>Me.includes(we.name)))?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:we.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${he.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:he.enabled?"Enabled":"Disabled"})]}),he.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.monthly.model==="onetime"?"One-time":he.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.monthly.model==="onetime"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.onetimeType==="percentage"?`${he.monthly.onetimeValue}%`:`${he.monthly.onetimeValue}`})]})]}),(he.monthly.model==="recurring"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.recurringType==="percentage"?`${he.monthly.recurringValue}%`:`${he.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.yearly.model==="onetime"?"One-time":he.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.yearly.model==="onetime"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.onetimeType==="percentage"?`${he.yearly.onetimeValue}%`:`${he.yearly.onetimeValue}`})]})]}),(he.yearly.model==="recurring"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.recurringType==="percentage"?`${he.yearly.recurringValue}%`:`${he.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.yearly.recurringDuration," months"]})]})]})]})]})]})]},ee)})})]})]}),(de.featureToggles.length>0||de.paymentSettings.length>0||de.recruitmentSettings.length>0)&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Other Settings Updated"})}),s.jsxs("div",{className:"p-4 space-y-4",children:[de.featureToggles.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Feature Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:de.featureToggles.map((ee,we)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),ee]},we))})]}),de.paymentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Payment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:de.paymentSettings.map((ee,we)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),ee]},we))})]}),de.recruitmentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Recruitment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:de.recruitmentSettings.map((ee,we)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),ee]},we))})]})]})]})]})}),s.jsx("div",{className:"mt-6 flex justify-end border-t pt-4",children:s.jsx(ae,{onClick:()=>ce(!1),size:"lg",children:"Close"})})]})})]})})}const Mot=()=>{const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState(null),[i,o]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState([]),[p,y]=b.useState({start:"",end:""}),[g,v]=b.useState({applications:!0,approvals:!0,referrals:!0,commissions:!0,payments:!0,networkStats:!0}),[_,w]=b.useState("month");b.useEffect(()=>{j()},[]);const j=async()=>{if(!(sessionStorage.getItem("isSuperAdmin")==="true")){ct.error("Access denied. Super Admin only."),e("/superadmin/login");return}await C()},C=async()=>{r(!0);try{await Promise.all([S(),k(),E(),R(),P()])}catch(I){console.error("Error loading analytics data:",I),ct.error("Failed to load analytics data")}finally{r(!1)}},S=async()=>{const{data:I}=await Y.from("helper_applications").select("id, application_status"),L=I?.length||0,W=I?.filter(le=>le.application_status==="Pending").length||0,q=I?.filter(le=>le.application_status==="Rejected").length||0,{data:G}=await Y.from("helpers").select("id, status"),K=G?.length||0,U=G?.filter(le=>le.status==="Active").length||0,F=G?.filter(le=>le.status==="Suspended").length||0,{data:B}=await Y.from("store_referrals").select("id, trial_status, subscription_purchased"),V=B?.length||0,Z=B?.filter(le=>le.trial_status==="Active").length||0,X=B?.filter(le=>le.subscription_purchased===!0).length||0,Q=V>0?X/V*100:0,{data:ce}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status, created_at"),de=ce?.reduce((le,be)=>le+(be.direct_commission_amount||0)+(be.network_commission_amount||0),0)||0,pe=ce?.reduce((le,be)=>le+(be.direct_commission_amount||0),0)||0,re=ce?.reduce((le,be)=>le+(be.network_commission_amount||0),0)||0,ie=ce?.filter(le=>le.commission_status==="Earned-Pending").reduce((le,be)=>le+(be.direct_commission_amount||0)+(be.network_commission_amount||0),0)||0,J=uX(new Date),z=ce?.filter(le=>le.commission_status==="Paid"&&new Date(le.created_at)>=J).reduce((le,be)=>le+(be.direct_commission_amount||0)+(be.network_commission_amount||0),0)||0,{data:Se}=await Y.from("helpers").select("id, recruited_by_helper_id"),te=Se?.filter(le=>le.recruited_by_helper_id)||[],_e=new Set(te.map(le=>le.recruited_by_helper_id)).size,Ae=new Map;te.forEach(le=>{const be=Ae.get(le.recruited_by_helper_id)||0;Ae.set(le.recruited_by_helper_id,be+1)});const ue=Ae.size>0?Math.max(...Array.from(Ae.values())):0,Ve=_e>0?te.length/_e:0,He=ce?.filter(le=>le.commission_status==="Paid").reduce((le,be)=>le+(be.network_commission_amount||0),0)||0;a({helperProgram:{totalApplications:L,pendingApplications:W,approvedHelpers:K,rejectedApplications:q,activeHelpers:U,suspendedHelpers:F},referralPerformance:{totalReferrals:V,onTrial:Z,convertedToPaid:X,conversionRate:Q},commissionOverview:{totalEarned:de,directCommissions:pe,networkCommissions:re,pendingPayment:ie,paidThisMonth:z},networkGrowth:{totalNetworks:_e,largestNetwork:ue,averageNetworkSize:Ve,networkCommissionsPaid:He}})},k=async()=>{const I=[];for(let L=11;L>=0;L--){const W=tet(new Date,L),q=uX(W),G=Gue(W),{data:K}=await Y.from("helper_applications").select("id, application_status, created_at").gte("created_at",q.toISOString()).lte("created_at",G.toISOString()),U=K?.length||0,F=K?.filter(Q=>Q.application_status==="Approved").length||0,B=K?.filter(Q=>Q.application_status==="Rejected").length||0,{data:V}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").gte("date_earned",q.toISOString()).lte("date_earned",G.toISOString()),Z=V?.reduce((Q,ce)=>Q+(ce.direct_commission_amount||0),0)||0,X=V?.reduce((Q,ce)=>Q+(ce.network_commission_amount||0),0)||0;I.push({month:_r(W,"MMM yyyy"),applications:U,approved:F,rejected:B,directCommissions:Z,networkCommissions:X,total:Z+X})}o(I)},E=async()=>{const{data:I}=await Y.from("helpers").select("id, full_name, created_at");if(!I)return;const W=(await Promise.all(I.map(async q=>{const{data:G}=await Y.from("store_referrals").select("id").eq("helper_id",q.id),{data:K}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",q.id),U=K?.reduce((V,Z)=>V+(Z.direct_commission_amount||0),0)||0,F=K?.reduce((V,Z)=>V+(Z.network_commission_amount||0),0)||0,{data:B}=await Y.from("helpers").select("id").eq("recruited_by_helper_id",q.id);return{id:q.id,name:q.full_name,directCommissions:U,referralCount:G?.length||0,networkSize:B?.length||0,totalEarnings:U+F,joinedDate:q.created_at}}))).sort((q,G)=>G.totalEarnings-q.totalEarnings).slice(0,20);c(W)},R=async()=>{const{data:I}=await Y.from("helpers").select("id");if(!I)return;const L=await Promise.all(I.map(async B=>{const{data:V}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",B.id);return V?.reduce((Z,X)=>Z+(X.direct_commission_amount||0)+(X.network_commission_amount||0),0)||0}));L.sort((B,V)=>V-B);const W=L.length,q=Math.ceil(W*.1),G=Math.ceil(W*.4),K=L.slice(0,q),U=L.slice(q,q+G),F=L.slice(q+G);d([{name:"Top 10%",value:K.length,earnings:K.reduce((B,V)=>B+V,0)},{name:"Middle 40%",value:U.length,earnings:U.reduce((B,V)=>B+V,0)},{name:"Bottom 50%",value:F.length,earnings:F.reduce((B,V)=>B+V,0)}])},P=async()=>{const{data:I}=await Y.from("helper_applications").select("id, status"),{data:L}=await Y.from("helpers").select("id"),W=await Promise.all((L||[]).map(async q=>{const{data:G}=await Y.from("store_referrals").select("id, subscription_purchased").eq("helper_id",q.id),K=G?.some(F=>F.subscription_purchased===!0),{data:U}=await Y.from("helpers").select("id").eq("recruited_by_helper_id",q.id);return{hasReferrals:(G?.length||0)>0,hasPaidReferrals:K,hasRecruited:(U?.length||0)>0}}));m([{stage:"Applications Submitted",count:I?.length||0,percentage:100},{stage:"Applications Approved",count:L?.length||0,percentage:I?.length?(L?.length||0)/I.length*100:0},{stage:"Helpers with Referrals",count:W.filter(q=>q.hasReferrals).length,percentage:L?.length?W.filter(q=>q.hasReferrals).length/L.length*100:0},{stage:"Helpers with Paid Referrals",count:W.filter(q=>q.hasPaidReferrals).length,percentage:L?.length?W.filter(q=>q.hasPaidReferrals).length/L.length*100:0},{stage:"Helpers who Recruited",count:W.filter(q=>q.hasRecruited).length,percentage:L?.length?W.filter(q=>q.hasRecruited).length/L.length*100:0}])},T=()=>{try{const I=l.map((G,K)=>({Rank:K+1,"Helper Name":G.name,"Helper ID":G.id,"Direct Commissions":`${G.directCommissions.toLocaleString()}`,"Referral Count":G.referralCount,"Network Size":G.networkSize,"Total Earnings":`${G.totalEarnings.toLocaleString()}`,"Joined Date":_r(new Date(G.joinedDate),"PPP")})),L=ca.json_to_sheet(I),W=ca.book_new();ca.book_append_sheet(W,L,"Top Performers");const q=`top_helpers_${_r(new Date,"yyyy-MM-dd")}.xlsx`;Km(W,q),ct.success("Report exported successfully!")}catch{ct.error("Failed to export report")}},O=()=>{if(!p.start||!p.end){ct.error("Please select date range");return}ct.success("Custom report generated!")},D=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ux,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reports & Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive insights into helper program performance"})]})]}),s.jsx(_t,{variant:"default",className:"text-sm px-3 py-1",children:"Super Admin"})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-base flex items-center gap-2",children:[s.jsx(ki,{className:"h-5 w-5 text-blue-500"}),"Helper Program Stats"]})}),s.jsxs(Ee,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total applications:"}),s.jsx("span",{className:"font-semibold",children:n?.helperProgram.totalApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:n?.helperProgram.pendingApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.approvedHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rejected:"}),s.jsx("span",{className:"font-semibold text-red-600",children:n?.helperProgram.rejectedApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.activeHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Suspended:"}),s.jsx("span",{className:"font-semibold text-orange-600",children:n?.helperProgram.suspendedHelpers})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-base flex items-center gap-2",children:[s.jsx(JD,{className:"h-5 w-5 text-green-500"}),"Referral Performance"]})}),s.jsxs(Ee,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total referrals:"}),s.jsx("span",{className:"font-semibold",children:n?.referralPerformance.totalReferrals})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Currently on trial:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:n?.referralPerformance.onTrial})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Converted to paid:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.referralPerformance.convertedToPaid})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversion rate:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[n?.referralPerformance.conversionRate.toFixed(1),"%"]})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-base flex items-center gap-2",children:[s.jsx(ri,{className:"h-5 w-5 text-green-500"}),"Commission Overview"]})}),s.jsxs(Ee,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total earned:"}),s.jsxs("span",{className:"font-bold",children:["",n?.commissionOverview.totalEarned.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Direct:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Network:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending payment:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid this month:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"text-base flex items-center gap-2",children:[s.jsx(KD,{className:"h-5 w-5 text-purple-500"}),"Network Growth"]})}),s.jsxs(Ee,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest network:"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[n?.networkGrowth.largestNetwork," helpers"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Network commissions:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Performance Charts"}),s.jsx(Pr,{children:"Visual representation of key metrics over time"})]}),s.jsx(Ee,{children:s.jsxs(mu,{defaultValue:"applications",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-4",children:[s.jsx(Qr,{value:"applications",children:"Applications"}),s.jsx(Qr,{value:"commissions",children:"Commissions"}),s.jsx(Qr,{value:"distribution",children:"Distribution"}),s.jsx(Qr,{value:"funnel",children:"Funnel"})]}),s.jsx(en,{value:"applications",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications Over Time"}),s.jsx($y,{width:"100%",height:400,children:s.jsxs(YI,{data:i,children:[s.jsx(pw,{strokeDasharray:"3 3"}),s.jsx(Yf,{dataKey:"month"}),s.jsx(Xf,{}),s.jsx(ho,{}),s.jsx(wf,{}),s.jsx(Vo,{dataKey:"applications",fill:"#8884d8",name:"Total Applications"}),s.jsx(Vo,{dataKey:"approved",fill:"#82ca9d",name:"Approved"}),s.jsx(Vo,{dataKey:"rejected",fill:"#ff8042",name:"Rejected"})]})})]})}),s.jsx(en,{value:"commissions",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Commission Payouts"}),s.jsx($y,{width:"100%",height:400,children:s.jsxs(YI,{data:i,children:[s.jsx(pw,{strokeDasharray:"3 3"}),s.jsx(Yf,{dataKey:"month"}),s.jsx(Xf,{}),s.jsx(ho,{}),s.jsx(wf,{}),s.jsx(Vo,{dataKey:"directCommissions",fill:"#0088FE",name:"Direct Commissions"}),s.jsx(Vo,{dataKey:"networkCommissions",fill:"#00C49F",name:"Network Commissions"}),s.jsx(Vo,{dataKey:"total",fill:"#FFBB28",name:"Total"})]})})]})}),s.jsx(en,{value:"distribution",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Helper Performance Distribution"}),s.jsx($y,{width:"100%",height:400,children:s.jsxs(NZe,{children:[s.jsx(wd,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:I=>`${I.name}: ${I.value} helpers`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:u.map((I,L)=>s.jsx(Dk,{fill:D[L%D.length]},`cell-${L}`))}),s.jsx(ho,{})]})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:u.map((I,L)=>s.jsx(Ce,{children:s.jsxs(Ee,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:D[L%D.length]}}),s.jsx("span",{className:"font-semibold",children:I.name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.value," helpers"]}),s.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",I.earnings?.toLocaleString()," earned"]})]})},L))})]})}),s.jsx(en,{value:"funnel",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conversion Funnel"}),s.jsx("div",{className:"space-y-3",children:f.map((I,L)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-semibold",children:I.stage}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.percentage.toFixed(1),"%"]}),s.jsx("span",{className:"font-bold",children:I.count})]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-8 relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-full flex items-center justify-center text-white text-sm font-semibold transition-all",style:{width:`${I.percentage}%`},children:I.percentage>20&&`${I.count} helpers`})})]},L))})]})})]})})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Detailed Reports"}),s.jsx(Pr,{children:"In-depth analysis and performance reports"})]}),s.jsx(Ee,{children:s.jsxs(mu,{defaultValue:"top-performers",children:[s.jsxs(Cc,{className:"grid w-full grid-cols-4",children:[s.jsx(Qr,{value:"top-performers",children:"Top Performers"}),s.jsx(Qr,{value:"network",children:"Network Analytics"}),s.jsx(Qr,{value:"payments",children:"Payment Reports"}),s.jsx(Qr,{value:"applications",children:"Applications"})]}),s.jsxs(en,{value:"top-performers",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Top 20 Performing Helpers"}),s.jsxs(ae,{onClick:T,children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{className:"w-16",children:"Rank"}),s.jsx(Qe,{children:"Helper Name"}),s.jsx(Qe,{children:"Direct Commissions"}),s.jsx(Qe,{children:"Referral Count"}),s.jsx(Qe,{children:"Network Size"}),s.jsx(Qe,{children:"Total Earnings"}),s.jsx(Qe,{children:"Joined Date"})]})}),s.jsx(Hs,{children:l.map((I,L)=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsxs(_t,{variant:L<3?"default":"secondary",children:["#",L+1]})}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:I.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:I.id})]})}),s.jsxs(Ke,{className:"font-semibold",children:["",I.directCommissions.toLocaleString()]}),s.jsx(Ke,{children:I.referralCount}),s.jsx(Ke,{children:I.networkSize}),s.jsxs(Ke,{className:"font-bold text-green-600",children:["",I.totalEarnings.toLocaleString()]}),s.jsx(Ke,{className:"text-sm text-muted-foreground",children:_r(new Date(I.joinedDate),"PP")})]},I.id))})]})})]}),s.jsxs(en,{value:"network",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Helper Network Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Network Distribution"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average Size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.largestNetwork})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Network Commissions"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Paid:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Growth Metrics"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active Recruiters:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Recruitment Rate:"}),s.jsxs("span",{className:"font-semibold",children:[n?.helperProgram.approvedHelpers&&n?.networkGrowth.totalNetworks?(n.networkGrowth.totalNetworks/n.helperProgram.approvedHelpers*100).toFixed(1):0,"%"]})]})]})})]})]})]}),s.jsxs(en,{value:"payments",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Reports"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Commission Type Breakdown"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Direct Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.directCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Network Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.networkCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Payment Status"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Paid This Month"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Pending Payment"}),s.jsxs("span",{className:"font-bold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]})]})]}),s.jsxs(en,{value:"applications",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Application Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Total Applications"})}),s.jsx(Ee,{children:s.jsx("p",{className:"text-3xl font-bold",children:n?.helperProgram.totalApplications})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Approval Rate"})}),s.jsx(Ee,{children:s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.approvedHelpers/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Rejection Rate"})}),s.jsx(Ee,{children:s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.rejectedApplications/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx(Je,{className:"text-base",children:"Pending Review"})}),s.jsx(Ee,{children:s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?.helperProgram.pendingApplications})})]})]})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Custom Report Builder"}),s.jsx(Pr,{children:"Generate custom reports based on your requirements"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Start Date"}),s.jsx("input",{type:"date",value:p.start,onChange:I=>y({...p,start:I.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"End Date"}),s.jsx("input",{type:"date",value:p.end,onChange:I=>y({...p,end:I.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Select Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{id:"metric-applications",checked:g.applications,onCheckedChange:I=>v({...g,applications:I})}),s.jsx("label",{htmlFor:"metric-applications",className:"text-sm",children:"Applications"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{id:"metric-approvals",checked:g.approvals,onCheckedChange:I=>v({...g,approvals:I})}),s.jsx("label",{htmlFor:"metric-approvals",className:"text-sm",children:"Approvals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{id:"metric-referrals",checked:g.referrals,onCheckedChange:I=>v({...g,referrals:I})}),s.jsx("label",{htmlFor:"metric-referrals",className:"text-sm",children:"Referrals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{id:"metric-commissions",checked:g.commissions,onCheckedChange:I=>v({...g,commissions:I})}),s.jsx("label",{htmlFor:"metric-commissions",className:"text-sm",children:"Commissions"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{id:"metric-payments",checked:g.payments,onCheckedChange:I=>v({...g,payments:I})}),s.jsx("label",{htmlFor:"metric-payments",className:"text-sm",children:"Payments"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{id:"metric-network",checked:g.networkStats,onCheckedChange:I=>v({...g,networkStats:I})}),s.jsx("label",{htmlFor:"metric-network",className:"text-sm",children:"Network Stats"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Group By"}),s.jsxs(ar,{value:_,onValueChange:w,children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"day",children:"By Day"}),s.jsx(Ue,{value:"week",children:"By Week"}),s.jsx(Ue,{value:"month",children:"By Month"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ae,{onClick:O,className:"flex-1",children:[s.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export to Excel"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export to PDF"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})]})]})]})]})]})},Fot=oh({name:Jr().min(1,"Name is required"),slug:Jr().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase with hyphens only"),description:Jr().optional(),monthly_price:qd.number().min(0,"Price must be 0 or greater"),yearly_price:qd.number().min(0,"Price must be 0 or greater").optional(),max_products:qd.number().optional(),enable_whatsapp_orders:Fc().default(!1),whatsapp_orders_limit:qd.number().optional(),enable_website_orders:Fc().default(!1),website_orders_limit:qd.number().optional(),trial_days:qd.number().min(0).default(14),is_active:Fc().default(!0),is_popular:Fc().default(!1),badge_text:Jr().optional(),badge_color:Jr().optional(),display_order:qd.number().default(0),enable_location_sharing:Fc().default(!1),enable_analytics:Fc().default(!1),enable_custom_domain:Fc().default(!1),enable_order_emails:Fc().default(!1),enable_ai_voice:Fc().default(!1),google_reviews_calls_limit:qd.number().min(0).default(15),google_reviews_period:Kw(["monthly","yearly"]).default("monthly")}),Lot=({open:e,onOpenChange:t,onSubmit:r,defaultValues:n,mode:a})=>{const i=bx({resolver:wx(Fot),defaultValues:{name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"}});b.useEffect(()=>{e&&n?i.reset(n):e&&!n&&i.reset({name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"})},[e,n,i]);const o=async l=>{await r(l),i.reset()};return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsx(dn,{children:a==="add"?"Add New Plan":"Edit Plan"}),s.jsx(Zn,{children:a==="add"?"Create a new subscription plan with custom features.":"Update the subscription plan details and features."})]}),s.jsx(_x,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Basic Information"}),s.jsx(gr,{control:i.control,name:"name",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Plan Name"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"e.g., Free, Pro, Business",...l})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"slug",render:({field:l})=>s.jsxs(dr,{children:[s.jsxs(xr,{className:"flex items-center gap-2",children:["Slug",s.jsx(Jh,{children:s.jsxs(Sg,{children:[s.jsx(kg,{asChild:!0,children:s.jsx(hc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Zh,{children:s.jsx("p",{className:"max-w-xs",children:"Unique identifier used in URLs and code. Must be lowercase with hyphens only."})})]})})]}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"e.g., free, pro, business",...l})}),s.jsx(wa,{children:"Lowercase letters, numbers, and hyphens only"}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"description",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Description"}),s.jsx(fr,{children:s.jsx(Ks,{placeholder:"Brief description of the plan",...l,value:l.value||""})}),s.jsx(Rr,{})]})})]}),s.jsx(Yh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gr,{control:i.control,name:"monthly_price",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Monthly Price ()"}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",placeholder:"0",...l})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"yearly_price",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Yearly Price ()"}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",placeholder:"0",...l,value:l.value||""})}),s.jsx(Rr,{})]})})]})]}),s.jsx(Yh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Limits & Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gr,{control:i.control,name:"max_products",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Max Products"}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(wa,{children:"Empty = Unlimited"}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"trial_days",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Trial Days"}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",...l})}),s.jsx(Rr,{})]})})]}),s.jsx(gr,{control:i.control,name:"display_order",render:({field:l})=>s.jsxs(dr,{children:[s.jsxs(xr,{className:"flex items-center gap-2",children:["Display Order",s.jsx(Jh,{children:s.jsxs(Sg,{children:[s.jsx(kg,{asChild:!0,children:s.jsx(hc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Zh,{children:s.jsx("p",{className:"max-w-xs",children:"Controls the order in which plans appear on the pricing page. Lower numbers (0, 1, 2...) appear first."})})]})})]}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",...l})}),s.jsx(wa,{children:"Lower numbers appear first"}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"enable_whatsapp_orders",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"WhatsApp Orders Limit"}),s.jsx(wa,{children:"Set a monthly limit for WhatsApp orders"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_whatsapp_orders")&&s.jsx(gr,{control:i.control,name:"whatsapp_orders_limit",render:({field:l})=>s.jsxs(dr,{children:[s.jsxs(xr,{className:"flex items-center gap-2",children:["WhatsApp Orders per Month",s.jsx(Jh,{children:s.jsxs(Sg,{children:[s.jsx(kg,{asChild:!0,children:s.jsx(hc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Zh,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via WhatsApp per billing period."})})]})})]}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(wa,{children:"Empty = Unlimited"}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"enable_website_orders",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"Website Orders Limit"}),s.jsx(wa,{children:"Set a monthly limit for website orders"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_website_orders")&&s.jsx(gr,{control:i.control,name:"website_orders_limit",render:({field:l})=>s.jsxs(dr,{children:[s.jsxs(xr,{className:"flex items-center gap-2",children:["Website Orders per Month",s.jsx(Jh,{children:s.jsxs(Sg,{children:[s.jsx(kg,{asChild:!0,children:s.jsx(hc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Zh,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via website per billing period."})})]})})]}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(wa,{children:"Empty = Unlimited"}),s.jsx(Rr,{})]})})]}),s.jsx(Yh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Features"}),s.jsx(gr,{control:i.control,name:"enable_location_sharing",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"Location Sharing"}),s.jsx(wa,{children:"Allow users to share delivery locations"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(gr,{control:i.control,name:"enable_analytics",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"Analytics"}),s.jsx(wa,{children:"Access to analytics dashboard and reports"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(gr,{control:i.control,name:"enable_custom_domain",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"Custom Domain"}),s.jsx(wa,{children:"Allow store owners to connect their own domain"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(gr,{control:i.control,name:"enable_order_emails",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"Order Email Notifications"}),s.jsx(wa,{children:"Send email notifications to store owners when new orders arrive"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(gr,{control:i.control,name:"enable_ai_voice",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"AI Voice Assistant"}),s.jsx(wa,{children:"Allow store owners to add ElevenLabs AI voice embed code"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsx(Yh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Google Reviews API Quota"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gr,{control:i.control,name:"google_reviews_calls_limit",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"API Calls Limit"}),s.jsx(fr,{children:s.jsx(Fe,{type:"number",placeholder:"15",...l})}),s.jsx(wa,{children:"Number of API calls allowed per period"}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"google_reviews_period",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Period"}),s.jsx(fr,{children:s.jsxs("select",{className:"w-full h-10 px-3 rounded-md border border-input bg-background",...l,children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"})]})}),s.jsx(wa,{children:"Quota reset period"}),s.jsx(Rr,{})]})})]})]}),s.jsx(Yh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Badge & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gr,{control:i.control,name:"badge_text",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Badge Text"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"e.g., Most Popular",...l,value:l.value||""})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:i.control,name:"badge_color",render:({field:l})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Badge Color"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"e.g., blue, green",...l,value:l.value||""})}),s.jsx(Rr,{})]})})]}),s.jsx(gr,{control:i.control,name:"is_popular",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"Mark as Popular"}),s.jsx(wa,{children:"Highlight this plan with a special border"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(gr,{control:i.control,name:"is_active",render:({field:l})=>s.jsxs(dr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(xr,{className:"text-base",children:"Active"}),s.jsx(wa,{children:"Make this plan available to users"})]}),s.jsx(fr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ae,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Saving...":a==="add"?"Create Plan":"Update Plan"})]})]})})]})})},$ot=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState([]),[a,i]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState("add"),[d,f]=b.useState(null),[m,p]=b.useState(!1),[y,g]=b.useState(null),[v,_]=b.useState(0),[w,j]=b.useState(!1);b.useEffect(()=>{(async()=>{const{data:{user:D}}=await Y.auth.getUser();if(!D&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(D){const{data:I}=await Y.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!I||I.length===0){e("/superadmin/login");return}}C()})()},[e]);const C=async()=>{try{const{data:O,error:D}=await Y.from("subscription_plans").select("*").order("display_order");if(D)throw D;n(O||[])}catch{t({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{i(!1)}},S=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O),k=()=>{u("add"),f(null),l(!0)},E=O=>{u("edit");const D={...O,enable_whatsapp_orders:O.whatsapp_orders_limit!==null,enable_website_orders:O.website_orders_limit!==null};f(D),l(!0)},R=async O=>{g(O),j(!0),p(!0);try{const{count:D,error:I}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("plan_id",O).in("status",["active","trial"]);if(I)throw I;_(D||0)}catch(D){console.error("Error checking active subscribers:",D),_(0)}finally{j(!1)}},P=async()=>{if(y){if(v>0){t({title:"Cannot Delete Plan",description:`This plan has ${v} active subscriber${v>1?"s":""}. Please deactivate the plan instead or migrate users to another plan first.`,variant:"destructive"}),p(!1),g(null);return}try{const{error:O}=await Y.from("subscription_plans").delete().eq("id",y);if(O)throw O;n(r.filter(D=>D.id!==y)),t({title:"Success",description:"Plan deleted successfully"})}catch{t({title:"Error",description:"Failed to delete plan",variant:"destructive"}),C()}finally{p(!1),g(null),_(0)}}},T=async O=>{try{const D={...O,whatsapp_orders_limit:O.enable_whatsapp_orders?O.whatsapp_orders_limit||0:null,website_orders_limit:O.enable_website_orders?O.website_orders_limit||0:null};if(delete D.enable_whatsapp_orders,delete D.enable_website_orders,c==="add"){const{data:I,error:L}=await Y.from("subscription_plans").insert([D]).select().single();if(L)throw L;n([...r,I]),t({title:"Success",description:"Plan created successfully"})}else if(d){const{data:I,error:L}=await Y.from("subscription_plans").update(D).eq("id",d.id).select().single();if(L)throw L;n(r.map(W=>W.id===d.id?I:W)),t({title:"Success",description:"Plan updated successfully"})}l(!1)}catch{t({title:"Error",description:`Failed to ${c} plan`,variant:"destructive"}),C()}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Plans"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscription plans and pricing"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(ae,{onClick:k,children:[s.jsx(oi,{className:"mr-2 h-4 w-4"}),"Add Plan"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading plans..."}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(O=>s.jsxs(Ce,{className:O.is_popular?"border-primary":"",children:[s.jsxs(Xe,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Je,{children:O.name}),s.jsx(Pr,{className:"mt-2",children:O.description})]}),O.is_popular&&s.jsx(_t,{variant:"default",children:"Popular"})]}),O.badge_text&&s.jsx(_t,{variant:"outline",className:"w-fit",children:O.badge_text})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold",children:S(O.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"}),O.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[S(O.yearly_price),"/year"]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:["Max Products: ",O.max_products===0||O.max_products===null?"Unlimited":O.max_products]}),s.jsxs("p",{children:["WhatsApp Orders: ",O.whatsapp_orders_limit===0||O.whatsapp_orders_limit===null?"Unlimited":O.whatsapp_orders_limit]}),s.jsxs("p",{children:["Website Orders: ",O.website_orders_limit===0||O.website_orders_limit===null?"Unlimited":O.website_orders_limit]}),s.jsxs("p",{children:["Status: ",O.is_active?"Active":"Inactive"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[O.enable_location_sharing&&s.jsx(_t,{variant:"secondary",children:"Location"}),O.enable_analytics&&s.jsx(_t,{variant:"secondary",children:"Analytics"}),O.enable_custom_domain&&s.jsx(_t,{variant:"secondary",children:"Custom Domain"}),O.enable_ai_voice&&s.jsx(_t,{variant:"secondary",children:"AI Voice"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(ae,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>E(O),children:[s.jsx(ou,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>R(O.id),children:s.jsx(Rn,{className:"h-4 w-4"})})]})]})})]},O.id))})}),s.jsx(Lot,{open:o,onOpenChange:l,onSubmit:T,mode:c,defaultValues:d||void 0}),s.jsx($m,{open:m,onOpenChange:p,children:s.jsxs($f,{children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:w?"Checking Active Subscribers...":"Delete Subscription Plan"}),s.jsx(Vf,{className:"space-y-3",children:w?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{children:"Checking for active subscribers..."})]}):s.jsx(s.Fragment,{children:v>0?s.jsxs("div",{className:"rounded-lg border-2 border-destructive bg-destructive/10 p-4",children:[s.jsx("p",{className:"font-semibold text-destructive",children:" Cannot Delete This Plan"}),s.jsxs("p",{className:"mt-2 text-sm",children:["This plan currently has"," ",s.jsx("span",{className:"font-bold",children:v})," ","active subscriber",v>1?"s":"","."]}),s.jsxs("p",{className:"mt-2 text-sm",children:[s.jsx("strong",{children:"Recommended:"}),' Use the "Active" toggle to deactivate this plan instead. This will hide it from new users while keeping existing subscriptions working.']})]}):s.jsxs("div",{className:"rounded-lg border border-green-500 bg-green-50 p-4 dark:bg-green-950",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Safe to Delete"}),s.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["This plan has ",s.jsx("span",{className:"font-bold",children:"0 active subscribers"}),"."]}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this subscription plan? This action cannot be undone."})]})})})]}),s.jsxs(Bm,{children:[s.jsx(qf,{children:"Cancel"}),s.jsx(zf,{onClick:P,disabled:w||v>0,className:v>0?"bg-gray-400 hover:bg-gray-400":"bg-destructive hover:bg-destructive/90",children:v>0?"Cannot Delete":"Delete Plan"})]})]})})]})},Bot=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState([]),[a,i]=b.useState(!0);b.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:m}}=await Y.auth.getUser();if(!m){e("/superadmin/login");return}const{data:p}=await Y.from("user_roles").select("role").eq("user_id",m.id).eq("role","super_admin");if(!p||p.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:d,error:f}=await Y.from("transactions").select("*").order("created_at",{ascending:!1});if(f)throw f;const m=[...new Set(d?.map(g=>g.user_id)||[])],{data:p}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",m),y=d?.map(g=>({...g,profiles:p?.find(v=>v.user_id===g.user_id)||{email:"",full_name:""}}))||[];n(y)}catch{t({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{i(!1)}},l=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),c=d=>new Date(d).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=d=>{const f={completed:"default",pending:"secondary",failed:"destructive"};return s.jsx(_t,{variant:f[d]||"secondary",children:d})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Transactions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View all payment transactions"})]})]}),s.jsx(li,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading transactions..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Invoice"}),s.jsx(Qe,{children:"User"}),s.jsx(Qe,{children:"Amount"}),s.jsx(Qe,{children:"Gateway"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Date"})]})}),s.jsx(Hs,{children:r.length===0?s.jsx(Er,{children:s.jsx(Ke,{colSpan:6,className:"text-center text-muted-foreground",children:"No transactions found"})}):r.map(d=>s.jsxs(Er,{children:[s.jsx(Ke,{className:"font-medium",children:d.invoice_number||"N/A"}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.profiles?.email})]})}),s.jsx(Ke,{children:l(d.total_amount)}),s.jsx(Ke,{children:d.payment_gateway}),s.jsx(Ke,{children:u(d.status)}),s.jsx(Ke,{children:c(d.created_at)})]},d.id))})]})})})]})};function Uot(){const e=vr(),[t,r]=b.useState(!0),[n,a]=b.useState({totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[i,o]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState(""),[p,y]=b.useState("all"),[g,v]=b.useState("30"),[_,w]=b.useState(!1);b.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){j();return}const{data:{user:D}}=await Y.auth.getUser();if(!D){Ie({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:I}=await Y.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!I||I.length===0){Ie({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}j()})()},[e]);const j=async()=>{try{r(!0);const{data:T,error:O}=await Y.from("subscriptions").select(`
          id,
          user_id,
          plan_id,
          status,
          billing_cycle,
          created_at,
          current_period_end,
          trial_ends_at,
          subscription_plans (
            name,
            monthly_price,
            yearly_price
          )
        `).order("created_at",{ascending:!1});if(O)throw O;const D=[...new Set(T?.map(J=>J.user_id)||[])],{data:I}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",D),L=T?.map(J=>({...J,profiles:I?.find(z=>z.user_id===J.user_id)||{email:"",full_name:null}}))||[];o(L);const W=L.filter(J=>J.status==="pending_payment");d(W);const{data:q,error:G}=await Y.from("transactions").select("*").order("created_at",{ascending:!1}).limit(100);if(G)throw G;const K=[...new Set(q?.map(J=>J.user_id)||[])],{data:U}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",K),F=q?.map(J=>({...J,profiles:U?.find(z=>z.user_id===J.user_id)||{email:"",full_name:null}}))||[];c(F);const B=new Date,V=new Date(B.getTime()-720*60*60*1e3),Z=new Date(B.getTime()-1440*60*60*1e3),X=F.filter(J=>J.status==="success"||J.status==="completed").reduce((J,z)=>J+(z.total_amount||0),0),Q=F.filter(J=>(J.status==="success"||J.status==="completed")&&new Date(J.created_at)>=V).reduce((J,z)=>J+(z.total_amount||0),0),ce=F.filter(J=>(J.status==="success"||J.status==="completed")&&new Date(J.created_at)>=Z&&new Date(J.created_at)<V).reduce((J,z)=>J+(z.total_amount||0),0),de=ce>0?(Q-ce)/ce*100:0,pe=L.filter(J=>J.status==="active").length,re=W.length,ie=F.filter(J=>J.status==="failed").length;a({totalRevenue:X,monthlyRevenue:Q,revenueGrowth:de,activeSubscriptions:pe,pendingPayments:re,failedPayments:ie})}catch(T){Ie({title:"Error",description:T.message,variant:"destructive"})}finally{r(!1)}},C=async()=>{try{w(!0);const T=new Date(Date.now()-1440*60*1e3),{error:O}=await Y.from("subscriptions").delete().eq("status","pending_payment").lt("created_at",T.toISOString());if(O)throw O;Ie({title:"Success",description:"Old pending payments cleaned up successfully"}),j()}catch(T){Ie({title:"Error",description:T.message,variant:"destructive"})}finally{w(!1)}},S=async()=>{try{const T=await lp(()=>Promise.resolve().then(()=>yoe),void 0),O=k.map(L=>({Invoice:L.invoice_number||"N/A","User Email":L.profiles?.email||"N/A","User Name":L.profiles?.full_name||"N/A",Amount:`${L.total_amount}`,Gateway:L.payment_gateway,Method:L.payment_method||"N/A",Status:L.status,Date:new Date(L.created_at).toLocaleString()})),D=T.utils.json_to_sheet(O),I=T.utils.book_new();T.utils.book_append_sheet(I,D,"Transactions"),T.writeFile(I,`transactions_${new Date().toISOString().split("T")[0]}.xlsx`),Ie({title:"Success",description:`Exported ${O.length} transactions`})}catch(T){Ie({title:"Error",description:T.message,variant:"destructive"})}},k=l.filter(T=>{const O=T.profiles?.email?.toLowerCase().includes(f.toLowerCase())||T.invoice_number?.toLowerCase().includes(f.toLowerCase()),D=p==="all"||T.status===p,I=parseInt(g),L=new Date(Date.now()-I*24*60*60*1e3),W=new Date(T.created_at)>=L;return O&&D&&W}),E=i.filter(T=>{const O=T.profiles?.email?.toLowerCase().includes(f.toLowerCase())||T.subscription_plans?.name?.toLowerCase().includes(f.toLowerCase()),D=p==="all"||T.status===p;return O&&D}),R=T=>{const D={success:{variant:"default",icon:Cs,label:"Success"},completed:{variant:"default",icon:Cs,label:"Completed"},pending:{variant:"secondary",icon:ds,label:"Pending"},pending_payment:{variant:"outline",icon:Vs,label:"Pending Payment"},failed:{variant:"destructive",icon:Qn,label:"Failed"},active:{variant:"default",icon:Cs,label:"Active"},trial:{variant:"secondary",icon:ds,label:"Trial"},expired:{variant:"destructive",icon:Qn,label:"Expired"},cancelled:{variant:"outline",icon:Qn,label:"Cancelled"}}[T]||{variant:"secondary",icon:ds,label:T},I=D.icon;return s.jsxs(_t,{variant:D.variant,className:"flex items-center gap-1 w-fit",children:[s.jsx(I,{className:"w-3 h-3"}),D.label]})},P=T=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(T);return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wa,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Loading billing data..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card sticky top-0 z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Billing & Revenue"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscriptions, transactions, and revenue"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(li,{}),s.jsxs(ae,{variant:"outline",onClick:j,children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(Ce,{children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Je,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(ri,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P(n.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Je,{className:"text-sm font-medium",children:"Monthly Revenue"}),s.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P(n.monthlyRevenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.revenueGrowth>=0?"+":"",n.revenueGrowth.toFixed(1),"% from last month"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Je,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(ki,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.activeSubscriptions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Je,{className:"text-sm font-medium",children:"Pending Payments"}),s.jsx(Vs,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.pendingPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Je,{className:"text-sm font-medium",children:"Failed Payments"}),s.jsx(Qn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.failedPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unsuccessful transactions"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Je,{className:"text-sm font-medium",children:"Total Subscriptions"}),s.jsx(Un,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscriptions"})]})]})]}),n.pendingPayments>0&&s.jsxs(Ce,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[s.jsxs(Xe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"h-5 w-5 text-orange-500"}),s.jsxs(Je,{className:"text-orange-700 dark:text-orange-300",children:[n.pendingPayments," Pending Payment",n.pendingPayments>1?"s":""]})]}),s.jsxs(ae,{variant:"destructive",size:"sm",onClick:C,disabled:_,children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),_?"Cleaning...":"Clean Old (>24h)"]})]}),s.jsx(Pr,{className:"text-orange-600 dark:text-orange-400",children:"These subscriptions are awaiting payment. Old pending payments (>24 hours) are automatically cleaned up every hour."})]}),u.length>0&&s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-2",children:[u.slice(0,5).map(T=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:T.profiles?.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.subscription_plans?.name," - ",P(T.billing_cycle==="yearly"&&T.subscription_plans?.yearly_price?T.subscription_plans.yearly_price:T.subscription_plans?.monthly_price||0)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:c0(new Date(T.created_at),{addSuffix:!0})})})]},T.id)),u.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",u.length-5," more pending"]})]})})]}),s.jsxs(mu,{defaultValue:"transactions",className:"w-full",children:[s.jsxs(Cc,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsx(Qr,{value:"transactions",children:"Transactions"}),s.jsx(Qr,{value:"subscriptions",children:"Subscriptions"})]}),s.jsx(en,{value:"transactions",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Je,{children:"Transaction History"}),s.jsx(Pr,{children:"View and manage all payment transactions"})]}),s.jsxs(ae,{variant:"outline",onClick:S,children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Fe,{placeholder:"Search by email or invoice...",value:f,onChange:T=>m(T.target.value),className:"pl-10"})]}),s.jsxs(ar,{value:p,onValueChange:y,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Status"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Status"}),s.jsx(Ue,{value:"success",children:"Success"}),s.jsx(Ue,{value:"completed",children:"Completed"}),s.jsx(Ue,{value:"pending",children:"Pending"}),s.jsx(Ue,{value:"failed",children:"Failed"})]})]}),s.jsxs(ar,{value:g,onValueChange:v,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Date Range"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"7",children:"Last 7 days"}),s.jsx(Ue,{value:"30",children:"Last 30 days"}),s.jsx(Ue,{value:"90",children:"Last 90 days"}),s.jsx(Ue,{value:"365",children:"Last year"}),s.jsx(Ue,{value:"9999",children:"All time"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Invoice"}),s.jsx(Qe,{children:"User"}),s.jsx(Qe,{children:"Amount"}),s.jsx(Qe,{children:"Gateway"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Date"})]})}),s.jsx(Hs,{children:k.length===0?s.jsx(Er,{children:s.jsx(Ke,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No transactions found"})}):k.map(T=>s.jsxs(Er,{children:[s.jsx(Ke,{className:"font-medium",children:T.invoice_number||"N/A"}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:T.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.profiles?.email})]})}),s.jsx(Ke,{className:"font-medium",children:P(T.total_amount)}),s.jsx(Ke,{children:s.jsx(_t,{variant:"outline",children:T.payment_gateway})}),s.jsx(Ke,{children:R(T.status)}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(T.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c0(new Date(T.created_at),{addSuffix:!0})})]})})]},T.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",k.length," of ",l.length," transactions"]})]})]})}),s.jsx(en,{value:"subscriptions",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(Je,{children:"All Subscriptions"}),s.jsx(Pr,{children:"Manage all user subscriptions"})]})})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Fe,{placeholder:"Search by email or plan...",value:f,onChange:T=>m(T.target.value),className:"pl-10"})]}),s.jsxs(ar,{value:p,onValueChange:y,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Status"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Status"}),s.jsx(Ue,{value:"active",children:"Active"}),s.jsx(Ue,{value:"trial",children:"Trial"}),s.jsx(Ue,{value:"pending_payment",children:"Pending Payment"}),s.jsx(Ue,{value:"expired",children:"Expired"}),s.jsx(Ue,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"User"}),s.jsx(Qe,{children:"Plan"}),s.jsx(Qe,{children:"Amount"}),s.jsx(Qe,{children:"Billing Cycle"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Period End"})]})}),s.jsx(Hs,{children:E.length===0?s.jsx(Er,{children:s.jsx(Ke,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No subscriptions found"})}):E.map(T=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:T.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.profiles?.email})]})}),s.jsx(Ke,{children:s.jsx(_t,{variant:"outline",children:T.subscription_plans?.name})}),s.jsx(Ke,{className:"font-medium",children:P(T.billing_cycle==="yearly"&&T.subscription_plans?.yearly_price?T.subscription_plans.yearly_price:T.subscription_plans?.monthly_price||0)}),s.jsx(Ke,{children:s.jsx(_t,{variant:"secondary",children:T.billing_cycle})}),s.jsx(Ke,{children:R(T.status)}),s.jsx(Ke,{children:T.current_period_end?s.jsxs("div",{children:[s.jsx("p",{children:new Date(T.current_period_end).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c0(new Date(T.current_period_end),{addSuffix:!0})})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},T.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",E.length," of ",i.length," subscriptions"]})]})]})})]})]})]})}const Vot=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState([]),[a,i]=b.useState(!0);b.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:u}}=await Y.auth.getUser();if(!u){e("/superadmin/login");return}const{data:d}=await Y.from("user_roles").select("role").eq("user_id",u.id).eq("role","super_admin");if(!d||d.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:l,error:c}=await Y.from("stores").select("id, name, slug, custom_domain, user_id").not("custom_domain","is",null).order("name");if(c)throw c;const u=[...new Set(l?.map(m=>m.user_id)||[])],{data:d}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",u),f=l?.map(m=>({id:m.id,name:m.name,slug:m.slug,custom_domain:m.custom_domain,profiles:d?.find(p=>p.user_id===m.user_id)||{email:"",full_name:""}}))||[];n(f)}catch{t({title:"Error",description:"Failed to load custom domains",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Custom Domains"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage custom domains for stores"})]})]}),s.jsx(li,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading domains..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Store"}),s.jsx(Qe,{children:"Owner"}),s.jsx(Qe,{children:"Domain"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Actions"})]})}),s.jsx(Hs,{children:r.length===0?s.jsx(Er,{children:s.jsx(Ke,{colSpan:5,className:"text-center text-muted-foreground",children:"No custom domains found"})}):r.map(l=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.slug})]})}),s.jsx(Ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.profiles?.email})]})}),s.jsx(Ke,{children:s.jsxs("a",{href:`https://${l.custom_domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[l.custom_domain,s.jsx(ja,{className:"h-3 w-3"})]})}),s.jsx(Ke,{children:s.jsx(_t,{variant:"default",children:"Active"})}),s.jsx(Ke,{children:s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>t({title:"Coming soon",description:"Domain management features"}),children:"Manage"})})]},l.id))})]})})})]})},GJ="00000000-0000-0000-0000-000000000000",zot=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState({sender_email:"",sender_name:"",platform_name:"",auto_cleanup_orders:!1,orders_cleanup_months:6,auto_cleanup_active_logs:!1,active_logs_cleanup_months:6,auto_cleanup_inactive_logs:!1,inactive_logs_cleanup_months:6,razorpay_key_id:"",razorpay_key_secret:"",razorpay_test_mode:!1}),[a,i]=b.useState(!1),[o,l]=b.useState(!0),[c,u]=b.useState(!1),[d,f]=b.useState([]),[m,p]=b.useState(""),[y,g]=b.useState(""),[v,_]=b.useState(""),[w,j]=b.useState(""),[C,S]=b.useState(!1),[k,E]=b.useState(!1);b.useEffect(()=>{const O=async()=>{if(sessionStorage.getItem("superadmin_session")){await Promise.all([D(),I()]);return}const{data:{user:W}}=await Y.auth.getUser();if(!W){e("/superadmin/login");return}const{data:q}=await Y.from("user_roles").select("role").eq("user_id",W.id).eq("role","super_admin");!q||q.length===0?e("/superadmin/login"):await Promise.all([D(),I()])},D=async()=>{const{data:L}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("display_order");if(L){f(L);const W=L.find(q=>q.is_default_plan);W&&p(W.id)}},I=async()=>{try{const{data:L,error:W}=await Y.from("platform_settings").select("*").eq("id",GJ).single();if(W)throw W;L&&n({sender_email:L.sender_email||"",sender_name:L.sender_name||"",platform_name:L.platform_name||"",auto_cleanup_orders:L.auto_cleanup_orders||!1,orders_cleanup_months:L.orders_cleanup_months||6,auto_cleanup_active_logs:L.auto_cleanup_active_logs||!1,active_logs_cleanup_months:L.active_logs_cleanup_months||6,auto_cleanup_inactive_logs:L.auto_cleanup_inactive_logs||!1,inactive_logs_cleanup_months:L.inactive_logs_cleanup_months||6,razorpay_key_id:L.razorpay_key_id||"",razorpay_key_secret:L.razorpay_key_secret||"",razorpay_test_mode:L.razorpay_test_mode||!1})}catch(L){console.error("Error loading settings:",L),t({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{l(!1)}};O()},[e,t]);const R=async()=>{i(!0);try{const{error:O}=await Y.from("platform_settings").update({sender_email:r.sender_email,sender_name:r.sender_name,platform_name:r.platform_name,auto_cleanup_orders:r.auto_cleanup_orders,orders_cleanup_months:r.orders_cleanup_months,auto_cleanup_active_logs:r.auto_cleanup_active_logs,active_logs_cleanup_months:r.active_logs_cleanup_months,auto_cleanup_inactive_logs:r.auto_cleanup_inactive_logs,inactive_logs_cleanup_months:r.inactive_logs_cleanup_months,razorpay_key_id:r.razorpay_key_id,razorpay_key_secret:r.razorpay_key_secret,razorpay_test_mode:r.razorpay_test_mode}).eq("id",GJ);if(O)throw O;m&&(await Y.from("subscription_plans").update({is_default_plan:!1}).neq("id",m),await Y.from("subscription_plans").update({is_default_plan:!0}).eq("id",m)),t({title:"Settings saved",description:"Platform settings have been updated successfully."})}catch(O){console.error("Save error:",O),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{i(!1)}},P=async O=>{u(!0);try{const D={ordersMonths:9999,activeLogsMonths:9999,inactiveLogsMonths:9999,cleanupOrders:O==="all"||O==="orders",cleanupActiveLogs:O==="all"||O==="activeLogs",cleanupInactiveLogs:O==="all"||O==="inactiveLogs"},{data:I,error:L}=await Y.functions.invoke("cleanup-old-orders",{body:D});if(L)throw L;const W=[];I.results.orders?.deleted&&W.push(`${I.results.orders.deleted} orders`),I.results.activeLogs?.deleted&&W.push(`${I.results.activeLogs.deleted} active logs`),I.results.inactiveLogs?.deleted&&W.push(`${I.results.inactiveLogs.deleted} inactive logs`),t({title:"Cleanup completed",description:`Successfully deleted: ${W.join(", ")}`})}catch(D){t({title:"Cleanup failed",description:D.message||"Failed to cleanup data.",variant:"destructive"})}finally{u(!1)}},T=async()=>{if(!y||!v||!w){t({title:"Validation Error",description:"All fields are required",variant:"destructive"});return}if(v!==w){t({title:"Validation Error",description:"New password and confirm password do not match",variant:"destructive"});return}if(v.length<8){t({title:"Validation Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}S(!0);try{const{data:{user:O}}=await Y.auth.getUser();if(!O?.email)throw new Error("User not authenticated");const{error:D}=await Y.auth.signInWithPassword({email:O.email,password:y});if(D)throw new Error("Current password is incorrect");const{error:I}=await Y.auth.updateUser({password:v});if(I)throw I;g(""),_(""),j(""),t({title:"Password Changed",description:"Your password has been updated successfully"})}catch(O){t({title:"Error",description:O.message||"Failed to change password",variant:"destructive"})}finally{S(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Platform Settings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-wide settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(ae,{onClick:R,disabled:a,children:[s.jsx(jc,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Email Settings"}),s.jsx(Pr,{children:"Configure the sender information for emails sent to users"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"senderEmail",children:"Sender Email"}),s.jsx(Fe,{id:"senderEmail",type:"email",placeholder:"onboarding@resend.dev",value:r.sender_email,onChange:O=>n({...r,sender_email:O.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This email will be used as the sender when sending emails to users"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"senderName",children:"Sender Name"}),s.jsx(Fe,{id:"senderName",type:"text",placeholder:"Super Admin",value:r.sender_name,onChange:O=>n({...r,sender_name:O.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'The name that will appear in the "From" field of emails'})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"General Settings"}),s.jsx(Pr,{children:"Configure general platform settings"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"platformName",children:"Platform Name"}),s.jsx(Fe,{id:"platformName",type:"text",placeholder:"Vendy Platform",value:r.platform_name,onChange:O=>n({...r,platform_name:O.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The name of your platform"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"defaultPlan",children:"Default Subscription Plan"}),s.jsxs(ar,{value:m,onValueChange:p,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Select default plan for new stores"})}),s.jsx(nr,{children:d.map(O=>s.jsxs(Ue,{value:O.id,children:[O.name," - ",O.monthly_price>0?`${O.monthly_price}/mo`:"Free"]},O.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This plan will be automatically assigned to new store owners"})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Account Security"}),s.jsx(Pr,{children:"Change your super admin password"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(Fe,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:y,onChange:O=>g(O.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"newPassword",children:"New Password"}),s.jsx(Fe,{id:"newPassword",type:"password",placeholder:"Enter new password (min 8 characters)",value:v,onChange:O=>_(O.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(Fe,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:w,onChange:O=>j(O.target.value)})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(ae,{onClick:T,disabled:C||!y||!v||!w,className:"w-full",children:[s.jsx(Ng,{className:"mr-2 h-4 w-4"}),C?"Changing Password...":"Change Password"]})})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Razorpay Payment Gateway"}),s.jsx(Pr,{children:"Configure Razorpay API credentials for subscription payments"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"razorpayKeyId",children:"Razorpay API Key ID"}),s.jsx(Fe,{id:"razorpayKeyId",type:"text",placeholder:"rzp_live_xxxxxxxxxxxxxx or rzp_test_xxxxxxxxxxxxxx",value:r.razorpay_key_id,onChange:O=>n({...r,razorpay_key_id:O.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key ID (starts with rzp_live_ for production or rzp_test_ for testing)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"razorpayKeySecret",children:"Razorpay API Key Secret"}),s.jsx(Fe,{id:"razorpayKeySecret",type:"password",placeholder:"Enter your Razorpay Key Secret",value:r.razorpay_key_secret,onChange:O=>n({...r,razorpay_key_secret:O.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key Secret (keep this secure and never share)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"razorpayTestMode",children:"Test Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable only if using test credentials (rzp_test_)"})]}),s.jsx(Gr,{id:"razorpayTestMode",checked:r.razorpay_test_mode,onCheckedChange:O=>n({...r,razorpay_test_mode:O})})]}),s.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-foreground",children:[s.jsx("strong",{children:" Production Credentials:"})," Use your LIVE Razorpay credentials (rzp_live_) to accept real payments. These credentials will process actual subscription payments from store owners. Keep them secure and ensure your Razorpay account is properly configured with bank details."]})})]})]}),s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Data Cleanup Management"}),s.jsx(Pr,{children:"Configure automatic cleanup settings and manually clean data"})]}),s.jsx(Ee,{children:s.jsxs(Yj,{open:k,onOpenChange:E,children:[s.jsx(Xj,{asChild:!0,children:s.jsxs(ae,{variant:"outline",className:"w-full justify-between mb-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),k?"Hide Cleanup Settings":"Show Cleanup Settings"]}),k?s.jsx(DZ,{className:"h-4 w-4"}):s.jsx(Xu,{className:"h-4 w-4"})]})}),s.jsxs(Jj,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Orders Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"autoCleanupOrders",children:"Auto Cleanup Orders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old orders"})]}),s.jsx(Gr,{id:"autoCleanupOrders",checked:r.auto_cleanup_orders,onCheckedChange:O=>n({...r,auto_cleanup_orders:O})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"ordersCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Fe,{id:"ordersCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.orders_cleanup_months,onChange:O=>n({...r,orders_cleanup_months:parseInt(O.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete orders older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Active Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"autoCleanupActiveLogs",children:"Auto Cleanup Active Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old active store logs"})]}),s.jsx(Gr,{id:"autoCleanupActiveLogs",checked:r.auto_cleanup_active_logs,onCheckedChange:O=>n({...r,auto_cleanup_active_logs:O})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"activeLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Fe,{id:"activeLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.active_logs_cleanup_months,onChange:O=>n({...r,active_logs_cleanup_months:parseInt(O.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete active logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Inactive Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"autoCleanupInactiveLogs",children:"Auto Cleanup Inactive Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old inactive store logs"})]}),s.jsx(Gr,{id:"autoCleanupInactiveLogs",checked:r.auto_cleanup_inactive_logs,onCheckedChange:O=>n({...r,auto_cleanup_inactive_logs:O})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"inactiveLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Fe,{id:"inactiveLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.inactive_logs_cleanup_months,onChange:O=>n({...r,inactive_logs_cleanup_months:parseInt(O.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete inactive logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Manual Cleanup Actions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a cleanup action to execute immediately"}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"destructive",className:"w-full",disabled:c,children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),c?"Cleaning up...":"Select Cleanup Action",s.jsx(Xu,{className:"ml-2 h-4 w-4"})]})}),s.jsxs(Ec,{className:"w-full",align:"center",children:[s.jsxs(_n,{onClick:()=>P("orders"),disabled:c||!r.auto_cleanup_orders,className:"cursor-pointer",children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Cleanup Orders Only"]}),s.jsxs(_n,{onClick:()=>P("activeLogs"),disabled:c||!r.auto_cleanup_active_logs,className:"cursor-pointer",children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Cleanup Active Logs Only"]}),s.jsxs(_n,{onClick:()=>P("inactiveLogs"),disabled:c||!r.auto_cleanup_inactive_logs,className:"cursor-pointer",children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Cleanup Inactive Logs Only"]}),s.jsxs(_n,{onClick:()=>P("all"),disabled:c||!r.auto_cleanup_orders||!r.auto_cleanup_active_logs||!r.auto_cleanup_inactive_logs,className:"cursor-pointer text-destructive",children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Cleanup All Data"]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable the corresponding auto-cleanup toggle above to activate each cleanup action"})]})]})]})})]})]})})]})},qot="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",Wot="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google";function Hot(){const[e,t]=b.useState(!1),[r,n]=b.useState([]),[a,i]=b.useState(!1),[o,l]=b.useState([]),{toast:c}=En(),u=async()=>{try{t(!0),n([]),c({title:"Submitting sitemaps...",description:"This may take a few minutes for all stores."});const{data:{session:f}}=await Y.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(qot,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)n(p.results),c({title:"Sitemaps submitted!",description:`Successfully processed ${p.processed} stores.`});else throw new Error(p.error||"Failed to submit sitemaps")}catch(f){console.error("Error submitting sitemaps:",f),c({title:"Error",description:f.message||"Failed to submit sitemaps",variant:"destructive"})}finally{t(!1)}},d=async()=>{try{i(!0),l([]),c({title:"Indexing URLs...",description:"Submitting URLs to Google for immediate indexing. This may take a few minutes."});const{data:{session:f}}=await Y.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(Wot,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)l(p.results),c({title:"URLs indexed!",description:`Successfully: ${p.successful} | Failed: ${p.failed} | Total: ${p.processed}`});else throw new Error(p.error||"Failed to index URLs")}catch(f){console.error("Error indexing URLs:",f),c({title:"Error",description:f.message||"Failed to index URLs",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Google Search Console Sitemap Manager"}),s.jsx(Pr,{children:"Automatically submit sitemaps for all stores to Google Search Console"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool will automatically submit sitemaps for all stores with subdomains or custom domains to Google Search Console. New stores will automatically get their sitemaps submitted."}),s.jsx(ae,{onClick:u,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Sitemaps..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wa,{className:"mr-2 h-4 w-4"}),"Submit All Sitemaps to Google"]})})]}),r.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Submission Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:f.domain}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:f.sitemapUrl}),f.message&&s.jsx("p",{className:"text-xs mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(Cs,{className:"h-5 w-5 text-green-500"}):s.jsx(Qn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Automatically submits sitemaps when new stores are created"}),s.jsx("li",{children:"Automatically re-submits when subdomain or custom domain changes"}),s.jsx("li",{children:"Uses Google Search Console API for instant submission"}),s.jsx("li",{children:"No manual work needed for each store"}),s.jsx("li",{children:"Tracks submission status in database"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Create Google Cloud Project"}),s.jsx("li",{children:"Enable Google Search Console API"}),s.jsx("li",{children:"Create Service Account and download JSON key"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase environment variables:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]})]})]}),s.jsxs(Ce,{className:"mt-6",children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Google Indexing API - Immediate URL Indexing"}),s.jsx(Pr,{children:"Submit URLs for immediate indexing in Google Search (faster than sitemap submission)"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool uses the Google Web Search Indexing API to request immediate indexing of store homepages only. Unlike sitemaps which can take days or weeks, this API can get your pages indexed within hours."}),s.jsx(ae,{onClick:d,disabled:a,className:"w-full",variant:"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Indexing URLs..."]}):s.jsxs(s.Fragment,{children:[s.jsx(OM,{className:"mr-2 h-4 w-4"}),"Index All URLs to Google"]})})]}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Indexing Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:o.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:f.url}),f.message&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(Cs,{className:"h-5 w-5 text-green-500"}):s.jsx(Qn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Submits URLs directly to Google for immediate indexing"}),s.jsx("li",{children:"Much faster than sitemap submission (hours vs days/weeks)"}),s.jsx("li",{children:"Indexes only store homepages (not product pages)"}),s.jsx("li",{children:"Processes up to 20 stores at a time to avoid rate limits"}),s.jsx("li",{children:"Rate limited to prevent API quota issues"})]})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Enable Google Web Search Indexing API in Google Cloud"}),s.jsx("li",{children:"Create Service Account for indexing"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase secrets:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-amber-800",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-700 space-y-1 list-disc list-inside mt-2",children:[s.jsx("li",{children:"This is for immediate indexing of important updates"}),s.jsx("li",{children:"Google has daily quotas - use wisely for critical pages"}),s.jsx("li",{children:"Sitemap submission is still important for comprehensive crawling"}),s.jsx("li",{children:"Don't spam this - Google may penalize excessive usage"})]})]})]})]})]})}const Got=[{value:"Truck",label:"Truck (Shipping)",icon:xc},{value:"BarChart3",label:"Chart (Analytics)",icon:ux},{value:"MessageSquare",label:"Chat (Live Chat)",icon:w2},{value:"Mail",label:"Mail (Email)",icon:_c},{value:"Target",label:"Target (Ads)",icon:_2},{value:"Package",label:"Package (Default)",icon:Wn}],Kot=e=>({Truck:xc,BarChart3:ux,MessageSquare:w2,Mail:_c,Target:_2,Package:Wn})[e]||Wn,Yot=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState([]),[a,i]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState("add"),[d,f]=b.useState(null),[m,p]=b.useState(!1),[y,g]=b.useState(null),[v,_]=b.useState(!1),[w,j]=b.useState({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:0,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"});b.useEffect(()=>{(async()=>{const{data:{user:O}}=await Y.auth.getUser();if(!O&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(O){const{data:D}=await Y.from("user_roles").select("role").eq("user_id",O.id).eq("role","super_admin");if(!D||D.length===0){e("/superadmin/login");return}}C()})()},[e]);const C=async()=>{try{const{data:T,error:O}=await Y.from("marketplace_features").select("*").order("menu_order");if(O)throw O;n(T||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{i(!1)}},S=()=>{u("add"),f(null),j({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:r.length+1,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"}),l(!0)},k=T=>{u("edit"),f(T),j({name:T.name,slug:T.slug,description:T.description||"",icon:T.icon,is_free:T.is_free,price:T.price,is_active:T.is_active,menu_order:T.menu_order,pricing_model:T.pricing_model||"onetime",price_onetime:T.price_onetime||0,price_monthly:T.price_monthly||0,price_yearly:T.price_yearly||0,quota_onetime:T.quota_onetime||15,quota_monthly:T.quota_monthly||30,quota_yearly:T.quota_yearly||50,quota_period:T.quota_period||"monthly"}),l(!0)},E=async()=>{if(!w.name||!w.slug){t({title:"Error",description:"Name and slug are required",variant:"destructive"});return}_(!0);try{if(c==="add"){const{error:T}=await Y.from("marketplace_features").insert({name:w.name,slug:w.slug.toLowerCase().replace(/\s+/g,"-"),description:w.description,icon:w.icon,is_free:w.is_free,price:w.is_free?0:w.price,is_active:w.is_active,menu_order:w.menu_order,pricing_model:w.pricing_model,price_onetime:w.price_onetime,price_monthly:w.price_monthly,price_yearly:w.price_yearly,quota_onetime:w.quota_onetime,quota_monthly:w.quota_monthly,quota_yearly:w.quota_yearly,quota_period:w.quota_period});if(T)throw T;t({title:"Success",description:"Feature added to marketplace"})}else{const{error:T}=await Y.from("marketplace_features").update({name:w.name,slug:w.slug.toLowerCase().replace(/\s+/g,"-"),description:w.description,icon:w.icon,is_free:w.is_free,price:w.is_free?0:w.price,is_active:w.is_active,menu_order:w.menu_order,pricing_model:w.pricing_model,price_onetime:w.price_onetime,price_monthly:w.price_monthly,price_yearly:w.price_yearly,quota_onetime:w.quota_onetime,quota_monthly:w.quota_monthly,quota_yearly:w.quota_yearly,quota_period:w.quota_period}).eq("id",d?.id);if(T)throw T;t({title:"Success",description:"Feature updated successfully"})}l(!1),C()}catch(T){t({title:"Error",description:T.message||"Failed to save feature",variant:"destructive"})}finally{_(!1)}},R=async()=>{if(y)try{const{error:T}=await Y.from("marketplace_features").delete().eq("id",y);if(T)throw T;t({title:"Success",description:"Feature deleted from marketplace"}),p(!1),g(null),C()}catch(T){t({title:"Error",description:T.message||"Failed to delete feature",variant:"destructive"})}},P=T=>T.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin"),children:s.jsx(Ga,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Marketplace Features"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage features available to store owners"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(li,{}),s.jsxs(ae,{onClick:S,children:[s.jsx(oi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?s.jsx(Ce,{children:s.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Wn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No features yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first marketplace feature"}),s.jsxs(ae,{onClick:S,children:[s.jsx(oi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(T=>{const O=Kot(T.icon);return s.jsxs(Ce,{className:T.is_active?"":"opacity-60",children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(O,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Je,{className:"text-lg",children:T.name}),s.jsx("code",{className:"text-xs text-muted-foreground",children:T.slug})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>k(T),children:s.jsx(ou,{className:"h-4 w-4"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{g(T.id),p(!0)},children:s.jsx(Rn,{className:"h-4 w-4"})})]})]})}),s.jsxs(Ee,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:T.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[T.is_free?s.jsx(_t,{variant:"secondary",children:"Free"}):s.jsxs(_t,{variant:"default",children:["",T.price]}),T.is_active?s.jsx(_t,{variant:"outline",className:"text-green-600 border-green-600",children:"Active"}):s.jsx(_t,{variant:"outline",className:"text-red-600 border-red-600",children:"Inactive"})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Order: ",T.menu_order]})]})]})]},T.id)})})}),s.jsx(cn,{open:o,onOpenChange:l,children:s.jsxs(sn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsx(dn,{children:c==="add"?"Add Feature":"Edit Feature"}),s.jsx(Zn,{children:c==="add"?"Add a new feature to the marketplace":"Update feature details"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"name",children:"Feature Name"}),s.jsx(Fe,{id:"name",value:w.name,onChange:T=>{j({...w,name:T.target.value,slug:c==="add"?P(T.target.value):w.slug})},placeholder:"e.g., Shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"slug",children:"Slug (URL identifier)"}),s.jsx(Fe,{id:"slug",value:w.slug,onChange:T=>j({...w,slug:T.target.value}),placeholder:"e.g., shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"description",children:"Description"}),s.jsx(Ks,{id:"description",value:w.description,onChange:T=>j({...w,description:T.target.value}),placeholder:"Describe what this feature does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"icon",children:"Icon"}),s.jsxs(ar,{value:w.icon,onValueChange:T=>j({...w,icon:T}),children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Select an icon"})}),s.jsx(nr,{children:Got.map(T=>{const O=T.icon;return s.jsx(Ue,{value:T.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-4 w-4"}),T.label]})},T.value)})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:"is_free",children:"Free Feature"}),s.jsx(Gr,{id:"is_free",checked:w.is_free,onCheckedChange:T=>j({...w,is_free:T})})]}),!w.is_free&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"price",children:"Price ()"}),s.jsx(Fe,{id:"price",type:"number",value:w.price,onChange:T=>j({...w,price:parseFloat(T.target.value)||0}),placeholder:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:"is_active",children:"Active"}),s.jsx(Gr,{id:"is_active",checked:w.is_active,onCheckedChange:T=>j({...w,is_active:T})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"menu_order",children:"Menu Order"}),s.jsx(Fe,{id:"menu_order",type:"number",value:w.menu_order,onChange:T=>j({...w,menu_order:parseInt(T.target.value)||0}),placeholder:"1"})]}),w.slug==="google-reviews"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Google Reviews Pricing & API Quota"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"pricing_model",children:"Pricing Model"}),s.jsxs(ar,{value:w.pricing_model,onValueChange:T=>j({...w,pricing_model:T}),children:[s.jsx(rr,{children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"onetime",children:"One-time Only"}),s.jsx(Ue,{value:"monthly",children:"Monthly Only"}),s.jsx(Ue,{value:"yearly",children:"Yearly Only"}),s.jsx(Ue,{value:"mixed",children:"Mixed (All Options)"})]})]})]}),(w.pricing_model==="onetime"||w.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"price_onetime",children:"One-time Price ()"}),s.jsx(Fe,{id:"price_onetime",type:"number",value:w.price_onetime,onChange:T=>j({...w,price_onetime:parseFloat(T.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"quota_onetime",children:"API Calls/Month"}),s.jsx(Fe,{id:"quota_onetime",type:"number",value:w.quota_onetime,onChange:T=>j({...w,quota_onetime:parseInt(T.target.value)||0})})]})]}),(w.pricing_model==="monthly"||w.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"price_monthly",children:"Monthly Price ()"}),s.jsx(Fe,{id:"price_monthly",type:"number",value:w.price_monthly,onChange:T=>j({...w,price_monthly:parseFloat(T.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"quota_monthly",children:"API Calls/Month"}),s.jsx(Fe,{id:"quota_monthly",type:"number",value:w.quota_monthly,onChange:T=>j({...w,quota_monthly:parseInt(T.target.value)||0})})]})]}),(w.pricing_model==="yearly"||w.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"price_yearly",children:"Yearly Price ()"}),s.jsx(Fe,{id:"price_yearly",type:"number",value:w.price_yearly,onChange:T=>j({...w,price_yearly:parseFloat(T.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"quota_yearly",children:"API Calls/Month"}),s.jsx(Fe,{id:"quota_yearly",type:"number",value:w.quota_yearly,onChange:T=>j({...w,quota_yearly:parseInt(T.target.value)||0})})]})]})]})})]}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(ae,{onClick:E,disabled:v,children:[v&&s.jsx(Ut,{className:"h-4 w-4 mr-2 animate-spin"}),c==="add"?"Add Feature":"Save Changes"]})]})]})}),s.jsx($m,{open:m,onOpenChange:p,children:s.jsxs($f,{children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:"Delete Feature?"}),s.jsx(Vf,{children:"This will remove the feature from the marketplace. Store owners who have enabled this feature will lose access."})]}),s.jsxs(Bm,{children:[s.jsx(qf,{children:"Cancel"}),s.jsx(zf,{onClick:R,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})};async function zme(e){try{const t=`http://localhost:3001/download/${e}`,r=await fetch(t);if(!r.ok)throw new Error(`Download failed: ${r.status}`);const n=await r.blob(),a=window.URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=`${e}.mp4`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),document.body.removeChild(i)}catch(t){throw new Error(`Failed to download video: ${t instanceof Error?t.message:"Unknown error"}`)}}async function KJ(){const{data:e,error:t}=await Y.from("video_generations").select("status",{count:"exact"});if(t)throw t;return{total:e?.length||0,pending:e?.filter(n=>n.status==="pending").length||0,generating:e?.filter(n=>["generating_audio","rendering"].includes(n.status)).length||0,completed:e?.filter(n=>n.status==="completed").length||0,failed:e?.filter(n=>n.status==="failed").length||0}}function Xot(){const[e,t]=b.useState([]),[r,n]=b.useState({total:0,pending:0,generating:0,completed:0,failed:0}),[a,i]=b.useState(!0),[o,l]=b.useState(null),c=b.useCallback(async()=>{try{i(!0),l(null);const{data:u,error:d}=await Y.from("video_generations").select("*").order("created_at",{ascending:!1});if(d)throw d;t(u);const f=await KJ();n(f)}catch(u){console.error("Error loading videos:",u),l(u instanceof Error?u.message:"Failed to load videos")}finally{i(!1)}},[]);return b.useEffect(()=>{c();const u=Y.channel("video_generations_updates").on("postgres_changes",{event:"*",schema:"public",table:"video_generations"},d=>{d.eventType==="INSERT"?t(f=>[d.new,...f]):d.eventType==="UPDATE"?t(f=>f.map(m=>m.id===d.new.id?d.new:m)):d.eventType==="DELETE"&&t(f=>f.filter(m=>m.id!==d.old.id)),KJ().then(n)}).subscribe();return()=>{u.unsubscribe()}},[c]),{videos:e,stats:r,isLoading:a,error:o,refresh:c}}const Jot=oh({title:Jr().min(1,"Title is required").max(100,"Title must be less than 100 characters"),script:Jr().min(10,"Script must be at least 10 characters").max(2e3,"Script must be less than 2000 characters"),template:Kw(["tutorial","presentation","demo"]),voiceId:Jr().min(1,"Voice is required")}),Zot=[{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Rachel"},{id:"nPczCjzI2devNBz1zQrb",name:"Antoni"},{id:"rJ8jqrWETLw2QY8z5iHm",name:"Elli"},{id:"TX3LPaxmHKzATmzU5KHW",name:"Josh"}];function Qot({isOpen:e,onOpenChange:t,onSuccess:r}){const{toast:n}=En(),[a,i]=b.useState(!1),o=bx({resolver:wx(Jot),defaultValues:{title:"",script:"",template:"tutorial",voiceId:"EXAVITQu4vr4xnSDxMaL"}}),l=o.watch("script").length,c=async u=>{try{i(!0);const{data:{user:d}}=await Y.auth.getUser();if(!d){n({title:"Error",description:"User not authenticated",variant:"destructive"});return}const{error:f}=await Y.from("video_generations").insert({title:u.title,script:u.script,template:u.template,voice_id:u.voiceId,created_by:d.id});if(f)throw f;o.reset(),t(!1),r?.()}catch(d){console.error("Error creating video generation:",d),n({title:"Error",description:"Failed to create video generation task",variant:"destructive"})}finally{i(!1)}};return s.jsx(cn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"sm:max-w-[600px]",children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Create New Video"}),s.jsx(Zn,{children:"Generate a new marketing video with AI voiceover"})]}),s.jsx(_x,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-6",children:[s.jsx(gr,{control:o.control,name:"template",render:({field:u})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Video Template"}),s.jsx(fr,{children:s.jsxs(vC,{value:u.value,onValueChange:u.onChange,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sf,{value:"tutorial",id:"tutorial"}),s.jsx("label",{htmlFor:"tutorial",className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Tutorial"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sf,{value:"presentation",id:"presentation"}),s.jsx("label",{htmlFor:"presentation",className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Presentation"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sf,{value:"demo",id:"demo"}),s.jsx("label",{htmlFor:"demo",className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Product Demo"})]})]})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:o.control,name:"title",render:({field:u})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Video Title"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"e.g., How to Use Vendy Buildr",...u})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:o.control,name:"script",render:({field:u})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Script"}),s.jsx(fr,{children:s.jsx(Ks,{placeholder:"Write the script for your video...",className:"min-h-[120px] resize-none",...u})}),s.jsxs(wa,{className:"text-xs",children:[l," / 2000 characters"]}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:o.control,name:"voiceId",render:({field:u})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Voice"}),s.jsxs(ar,{value:u.value,onValueChange:u.onChange,children:[s.jsx(fr,{children:s.jsx(rr,{children:s.jsx(ir,{})})}),s.jsx(nr,{children:Zot.map(d=>s.jsx(Ue,{value:d.id,children:d.name},d.id))})]}),s.jsx(wa,{children:"Choose the voice for your video voiceover"}),s.jsx(Rr,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),s.jsx(ae,{type:"submit",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Video"})]})]})})]})})}var m8="Progress",p8=100,[elt]=Is(m8),[tlt,rlt]=elt(m8),qme=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=nlt,...o}=e;(a||a===0)&&!YJ(a)&&console.error(slt(`${a}`,"Progress"));const l=YJ(a)?a:p8;n!==null&&!XJ(n,l)&&console.error(alt(`${n}`,"Progress"));const c=XJ(n,l)?n:null,u=g2(c)?i(c,l):void 0;return s.jsx(tlt,{scope:r,value:c,max:l,children:s.jsx(At.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":g2(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Gme(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});qme.displayName=m8;var Wme="ProgressIndicator",Hme=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=rlt(Wme,r);return s.jsx(At.div,{"data-state":Gme(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Hme.displayName=Wme;function nlt(e,t){return`${Math.round(e/t*100)}%`}function Gme(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function g2(e){return typeof e=="number"}function YJ(e){return g2(e)&&!isNaN(e)&&e>0}function XJ(e,t){return g2(e)&&!isNaN(e)&&e<=t&&e>=0}function slt(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${p8}\`.`}function alt(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${p8} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kme=qme,ilt=Hme;const Yme=b.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Kme,{ref:n,className:ft("relative h-4 w-full overflow-hidden rounded-full bg-muted border border-border",e),...r,children:s.jsx(ilt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Yme.displayName=Kme.displayName;function olt({video:e,isOpen:t,onOpenChange:r}){const{toast:n}=En(),[a,i]=b.useState(!1),o=async()=>{try{i(!0),await zme(e.id),n({title:"Success",description:"Video downloaded successfully"})}catch(l){console.error("Error downloading video:",l),n({title:"Error",description:"Failed to download video",variant:"destructive"})}finally{i(!1)}};return s.jsx(cn,{open:t,onOpenChange:r,children:s.jsxs(sn,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(un,{children:[s.jsx(dn,{children:e.title}),s.jsxs(Zn,{children:["Video Preview  Generated on"," ",_r(new Date(e.created_at),"PPpp")]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-black rounded-lg overflow-hidden aspect-video flex items-center justify-center",children:s.jsx("video",{src:e.video_url,controls:!0,className:"w-full h-full",autoPlay:!0})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Duration"}),s.jsx("p",{className:"text-sm font-semibold",children:e.duration_seconds?`${Math.round(e.duration_seconds/60)}m ${e.duration_seconds%60}s`:"N/A"})]}),s.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"File Size"}),s.jsx("p",{className:"text-sm font-semibold",children:e.file_size_mb?`${e.file_size_mb.toFixed(1)} MB`:"N/A"})]})]}),s.jsxs(ae,{onClick:o,disabled:a,className:"w-full gap-2",size:"lg",children:[s.jsx(si,{className:"h-5 w-5"}),a?"Downloading...":"Download Video"]})]})]})})}const JJ={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},generating_audio:{color:"bg-blue-100 text-blue-800",label:"Generating Audio"},rendering:{color:"bg-purple-100 text-purple-800",label:"Rendering"},completed:{color:"bg-green-100 text-green-800",label:"Completed"},failed:{color:"bg-red-100 text-red-800",label:"Failed"}},llt={tutorial:"Tutorial",presentation:"Presentation",demo:"Product Demo"};function clt({video:e,onDelete:t}){const{toast:r}=En(),[n,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),f=["pending","generating_audio","rendering"].includes(e.status),m=e.status==="completed",p=e.status==="failed",y=async()=>{try{if(c(!0),e.id)try{await fetch(`http://localhost:3001/video/${e.id}`,{method:"DELETE"})}catch(v){console.warn("Could not delete local file, continuing with DB deletion:",v)}await Y.from("video_generations").delete().eq("id",e.id),o(!1),t?.(),r({title:"Deleted",description:"Video has been deleted"})}catch(v){console.error("Error deleting video:",v),r({title:"Error",description:"Failed to delete video",variant:"destructive"})}finally{c(!1)}},g=async()=>{try{if(d(!0),!e.id){r({title:"Error",description:"Video ID not available",variant:"destructive"});return}await zme(e.id),r({title:"Success",description:"Video downloaded successfully"})}catch(v){console.error("Error downloading video:",v),r({title:"Error",description:"Failed to download video",variant:"destructive"})}finally{d(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(Ce,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"w-full h-40 bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center relative group cursor-pointer",children:[s.jsx(IZ,{className:"h-12 w-12 text-slate-600"}),m&&s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(YD,{className:"h-12 w-12 text-white fill-white"})}),f&&s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-base line-clamp-2 hover:text-primary transition-colors",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_t,{variant:"outline",className:"text-xs",children:llt[e.template]}),s.jsx(_t,{className:`text-xs ${JJ[e.status]?.color||"bg-gray-100 text-gray-800"}`,children:JJ[e.status]?.label||e.status})]})]}),f&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[e.progress,"%"]})]}),s.jsx(Yme,{value:e.progress,className:"h-2"})]}),p&&e.error_message&&s.jsx("div",{className:"bg-red-50 dark:bg-red-950/30 p-2 rounded text-xs text-red-700 dark:text-red-400 line-clamp-2",children:e.error_message}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"h-3 w-3"}),s.jsx("span",{children:_r(new Date(e.created_at),"MMM d, yyyy")})]}),m&&e.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"h-3 w-3"}),s.jsxs("span",{children:[Math.round(e.duration_seconds/60),"m"]})]}),m&&e.file_size_mb&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Vu,{className:"h-3 w-3"}),s.jsxs("span",{children:[e.file_size_mb.toFixed(1)," MB"]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[m&&s.jsxs(s.Fragment,{children:[s.jsxs(ae,{size:"sm",variant:"default",className:"flex-1 gap-1",onClick:()=>a(!0),children:[s.jsx(YD,{className:"h-4 w-4"}),"Preview"]}),s.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1 gap-1",onClick:g,disabled:u,children:[s.jsx(si,{className:"h-4 w-4"}),u?"...":"Download"]})]}),s.jsx(ae,{size:"sm",variant:"ghost",className:"gap-1",onClick:()=>o(!0),disabled:l,children:s.jsx(Rn,{className:"h-4 w-4"})})]})]})]}),e.video_url&&s.jsx(olt,{video:e,isOpen:n,onOpenChange:a}),s.jsx($m,{open:i,onOpenChange:o,children:s.jsxs($f,{children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:"Delete Video?"}),s.jsx(Vf,{children:"This action cannot be undone. The video will be permanently deleted."})]}),s.jsx("div",{className:"py-2 px-4 bg-muted rounded text-sm truncate",children:e.title}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(qf,{children:"Cancel"}),s.jsx(zf,{onClick:y,disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})}function ult(){const{toast:e}=En(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,o]=b.useState(null);b.useEffect(()=>{l();const u=Y.channel("video_generations_changes").on("postgres_changes",{event:"*",schema:"public",table:"video_generations"},d=>{d.eventType==="INSERT"?r(f=>[d.new,...f]):d.eventType==="UPDATE"?r(f=>f.map(m=>m.id===d.new.id?d.new:m)):d.eventType==="DELETE"&&r(f=>f.filter(m=>m.id!==d.old.id))}).subscribe();return()=>{u.unsubscribe()}},[]);const l=async()=>{try{a(!0),o(null);const{data:u,error:d}=await Y.from("video_generations").select("*").order("created_at",{ascending:!1});if(d)throw d;r(u)}catch(u){console.error("Error loading videos:",u),o("Failed to load videos"),e({title:"Error",description:"Failed to load videos",variant:"destructive"})}finally{a(!1)}},c=async()=>{await l()};return n?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((u,d)=>s.jsx(jg,{className:"h-64 rounded-lg"},d))}):i?s.jsxs("div",{className:"flex items-center gap-3 p-6 bg-destructive/10 text-destructive rounded-lg",children:[s.jsx(Si,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("p",{children:i})]}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No videos yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Create Video" to get started'})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(u=>s.jsx(clt,{video:u,onDelete:c},u.id))})}function dlt(){const e=vr(),{toast:t}=En(),{stats:r}=Xot(),[n,a]=b.useState(!1),[i,o]=b.useState(!0);return b.useEffect(()=>{(async()=>{const{data:{session:c}}=await Y.auth.getSession();if(!c){e("/superadmin/login");return}const{data:u}=await Y.from("user_roles").select("role").eq("user_id",c.user.id).eq("role","super_admin").maybeSingle();if(!u){e("/superadmin/dashboard");return}o(!1)})()},[e]),i?s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20 p-6 md:p-10",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(PM,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Video Generator"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Create marketing videos with AI voiceover"})]})]}),s.jsxs(ae,{onClick:()=>a(!0),className:"gap-2",size:"lg",children:[s.jsx(oi,{className:"h-5 w-5"}),"Create Video"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsxs(Ce,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Total Videos"}),s.jsx("div",{className:"text-3xl font-bold",children:r.total})]}),s.jsxs(Ce,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Generating"}),s.jsx("div",{className:"text-3xl font-bold",children:r.generating})]}),s.jsxs(Ce,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Completed"}),s.jsx("div",{className:"text-3xl font-bold",children:r.completed})]})]}),s.jsxs(Ce,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Recent Videos"}),s.jsx(ult,{})]})]}),s.jsx(Qot,{isOpen:n,onOpenChange:a,onSuccess:()=>{a(!1),t({title:"Success",description:"Video generation started!"})}})]})}function flt(){const[e,t]=b.useState(!1),[r,n]=b.useState(!1),a=xu();return b.useEffect(()=>{(async()=>{console.log("[SuperAdminGuard] Checking session...");try{const{data:{session:o}}=await Y.auth.getSession();if(o?.user){console.log("[SuperAdminGuard] Current user:",o.user.id);const{data:c}=await Y.from("user_roles").select("role").eq("user_id",o.user.id).eq("role","super_admin").maybeSingle();if(c){console.log("[SuperAdminGuard] Valid superadmin session found"),n(!0),t(!0);return}}const l=localStorage.getItem("superadmin_session");if(console.log("[SuperAdminGuard] Stored session found:",!!l),l)try{const c=JSON.parse(l);if(!c.access_token||!c.refresh_token){console.warn("[SuperAdminGuard] Invalid stored session structure"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}const u=c.saved_at||0,d=(Date.now()-u)/(1e3*60*60);if(d>24){console.warn("[SuperAdminGuard] Stored session too old:",d,"hours"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] Restoring superadmin session...");const{error:f}=await Y.auth.setSession({access_token:c.access_token,refresh_token:c.refresh_token});if(f){console.error("[SuperAdminGuard] Session restoration failed:",f),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}localStorage.removeItem("superadmin_session"),await new Promise(p=>setTimeout(p,100));const{data:{session:m}}=await Y.auth.getSession();if(m?.user){const{data:p}=await Y.from("user_roles").select("role").eq("user_id",m.user.id).eq("role","super_admin").maybeSingle();if(p){console.log("[SuperAdminGuard] Session restored and verified successfully"),n(!0),t(!0);return}}console.warn("[SuperAdminGuard] Restored session is not superadmin"),n(!1),t(!0);return}catch(c){console.error("[SuperAdminGuard] Error during restoration:",c),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] No valid superadmin session"),n(!1),t(!0)}catch(o){console.error("[SuperAdminGuard] Unexpected error:",o),n(!1),t(!0)}})()},[a.key]),e?r?s.jsx(Twe,{}):s.jsx(Ewe,{to:"/superadmin/login",replace:!0}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Restoring admin session..."})]})})}function gn({children:e}){const t=vr(),[r,n]=b.useState("loading"),[a,i]=b.useState(!1);return b.useEffect(()=>{let o=!1;return(async()=>{try{const{data:{session:c}}=await Y.auth.getSession();if(!c){console.log("[StoreGuard] No session - redirecting to auth"),t("/auth",{replace:!0});return}console.log("[StoreGuard] Session found, checking store...");const{data:u,error:d}=await Y.from("stores").select("id").eq("user_id",c.user.id).maybeSingle();if(o)return;if(d){console.error("[StoreGuard] Error checking store:",d),n("deleted"),i(!0);return}if(!u){console.log("[StoreGuard] Store not found - store was deleted"),n("deleted"),i(!0);return}console.log("[StoreGuard] Store found - access granted"),n("ok"),i(!0)}catch(c){console.error("[StoreGuard] Error in checkStore:",c),o||(n("deleted"),i(!0))}})(),()=>{o=!0}},[t]),r==="loading"?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Ut,{className:"w-10 h-10 animate-spin text-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your store..."})]})}):r==="deleted"&&a?s.jsx(cn,{open:!0,onOpenChange:()=>{},children:s.jsxs(sn,{className:"sm:max-w-md",children:[s.jsxs(un,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Vs,{className:"h-8 w-8 text-red-600"})})}),s.jsx(dn,{className:"text-center text-xl font-bold",children:"Your Store Has Been Deleted"}),s.jsx(Zn,{className:"text-center pt-4",children:"Your store has been deleted by the platform admin. You will be redirected to create a new store or you can logout."})]}),s.jsxs("div",{className:"space-y-3 flex flex-col pt-4",children:[s.jsx(ae,{onClick:()=>{t("/onboarding/store-setup",{replace:!0})},className:"w-full",children:"Create New Store"}),s.jsx(ae,{variant:"outline",onClick:async()=>{await Y.auth.signOut(),t("/auth",{replace:!0})},className:"w-full",children:"Logout"})]})]})}):r==="ok"?s.jsx(s.Fragment,{children:e}):null}const hlt=[{name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation and superior sound quality. Perfect for music lovers and professionals.",category:"Electronics",base_price:2999,price_range:"2,999 - 3,499",stock:50,status:"published",images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80","https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800&q=80"],variants:[{name:"Black",price:2999,sku:"WH-BLK"},{name:"White",price:3199,sku:"WH-WHT"},{name:"Blue",price:3499,sku:"WH-BLU"}]},{name:"Smart Watch",description:"Feature-rich smartwatch with fitness tracking, heart rate monitor, and notification support. Stay connected on the go.",category:"Electronics",base_price:4999,price_range:"4,999 - 5,999",stock:30,status:"published",images:["https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80","https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=800&q=80"],variants:[{name:"Black Band",price:4999,sku:"SW-BLK"},{name:"Sport Band",price:5499,sku:"SW-SPT"},{name:"Leather Band",price:5999,sku:"SW-LTH"}]},{name:"Classic T-Shirt",description:"Comfortable cotton t-shirt perfect for everyday wear. Made from premium quality fabric that lasts.",category:"Fashion",base_price:599,price_range:"599 - 699",stock:100,status:"published",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800&q=80","https://images.unsplash.com/photo-1503341504253-dff4815485f1?w=800&q=80"],variants:[{name:"Small",price:599,sku:"TS-S"},{name:"Medium",price:599,sku:"TS-M"},{name:"Large",price:649,sku:"TS-L"},{name:"XL",price:699,sku:"TS-XL"}]},{name:"Denim Jeans",description:"Stylish and durable denim jeans with a perfect fit. Essential wardrobe staple for any occasion.",category:"Fashion",base_price:1499,price_range:"1,499 - 1,799",stock:75,status:"published",images:["https://images.unsplash.com/photo-1542272604-787c3835535d?w=800&q=80","https://images.unsplash.com/photo-1475178626620-a4d074967452?w=800&q=80"],variants:[{name:"30",price:1499,sku:"DJ-30"},{name:"32",price:1599,sku:"DJ-32"},{name:"34",price:1699,sku:"DJ-34"},{name:"36",price:1799,sku:"DJ-36"}]},{name:"Leather Wallet",description:"Genuine leather wallet with multiple card slots and compartments. Sleek design meets functionality.",category:"Accessories",base_price:899,price_range:"899 - 1,099",stock:60,status:"published",images:["https://images.unsplash.com/photo-1627123424574-724758594e93?w=800&q=80","https://images.unsplash.com/photo-1608666619878-e5f5c9c6ff04?w=800&q=80"],variants:[{name:"Brown",price:899,sku:"LW-BRN"},{name:"Black",price:999,sku:"LW-BLK"},{name:"Tan",price:1099,sku:"LW-TAN"}]},{name:"Sunglasses",description:"UV protection sunglasses with polarized lenses. Stylish eyewear for sunny days.",category:"Accessories",base_price:1299,price_range:"1,299 - 1,599",stock:45,status:"published",images:["https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&q=80","https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=800&q=80"],variants:[{name:"Classic Black",price:1299,sku:"SG-BLK"},{name:"Aviator Gold",price:1499,sku:"SG-GLD"},{name:"Sport Blue",price:1599,sku:"SG-BLU"}]},{name:"Coffee Maker",description:"Automatic coffee maker for perfect brew every time. Start your morning right with fresh coffee.",category:"Home & Kitchen",base_price:3499,price_range:"3,499",stock:25,status:"published",images:["https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=800&q=80"],variants:[]},{name:"Yoga Mat",description:"Non-slip yoga mat with extra cushioning. Perfect for yoga, pilates, and home workouts.",category:"Sports",base_price:799,price_range:"799 - 999",stock:80,status:"published",images:["https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=800&q=80"],variants:[{name:"Purple",price:799,sku:"YM-PUR"},{name:"Blue",price:899,sku:"YM-BLU"},{name:"Pink",price:999,sku:"YM-PNK"}]}],mlt=[{name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&q=80"},{name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&q=80"},{name:"Accessories",image_url:"https://images.unsplash.com/photo-1523293182086-7651a899d37f?w=400&q=80"},{name:"Home & Kitchen",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400&q=80"},{name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&q=80"},{name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&q=80"}],plt=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),glt=async e=>{try{console.log("Seeding demo data for store:",e);const t=mlt.map(i=>({...i,store_id:e})),{error:r}=await Y.from("categories").insert(t);r&&console.error("Error inserting demo categories:",r);const n=hlt.map(i=>({...i,store_id:e,slug:plt(i.name)}));console.log(`[SEED] Inserting ${n.length} demo products with slugs...`);const{error:a}=await Y.from("products").insert(n);return a?(console.error("[SEED] Error inserting demo products:",a),!1):(console.log(`[SEED]  Successfully seeded ${n.length} demo products`),console.log("Demo data seeded successfully"),!0)}catch(t){return console.error("Error seeding demo data:",t),!1}},xlt=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,f]=b.useState(""),[m,p]=b.useState({storeName:"",storeSlug:"",description:"",whatsappNumber:"",countryCode:"+91"}),[y,g]=b.useState("idle");b.useEffect(()=>{v();const k=sessionStorage.getItem("storeSetupFormData");if(k)try{const E=JSON.parse(k);p(E),sessionStorage.removeItem("storeSetupFormData")}catch(E){console.error("Error restoring form data:",E)}},[e]);const v=async()=>{const{data:{user:k}}=await Y.auth.getUser();if(!k){t({title:"Authentication required",description:"Please log in to continue with onboarding",variant:"destructive"}),e("/auth");return}const{data:E}=await Y.from("helpers").select("id, full_name, status").eq("id",k.id).maybeSingle();if(E){f("You are registered as a helper. Helpers cannot create stores. Please contact support if you need assistance."),u(!0),setTimeout(()=>e("/helper/dashboard"),3e3);return}const{data:R}=await Y.from("helper_applications").select("id, application_status").eq("user_id",k.id).maybeSingle();if(R){f("You have applied or are registered as a helper. Helpers cannot create stores."),u(!0),setTimeout(()=>e("/application-status"),3e3);return}const{data:P}=await Y.from("profiles").select("full_name").eq("user_id",k.id).maybeSingle();l(P?.full_name||k.email||"Guest")},_=k=>k.toLowerCase().trim().replace(/[^a-z0-9]/g,"").substring(0,30),w=k=>{p(E=>({...E,storeName:k,storeSlug:_(k)})),k&&j(_(k))},j=async k=>{if(k.length<3){g("idle");return}i(!0);const{data:E}=await Y.from("stores").select("slug").eq("slug",k).maybeSingle();g(E?"taken":"available"),i(!1)},C=()=>m.storeName.length>=2&&m.storeName.length<=50&&m.storeSlug.length>=3&&m.storeSlug.length<=30&&y==="available"&&m.whatsappNumber.length>=10,S=async()=>{if(C()){n(!0);try{const{data:{user:k}}=await Y.auth.getUser();if(!k)throw new Error("No user found");const{data:{session:E}}=await Y.auth.getSession(),R=E?.provider_token,P=E?.provider_refresh_token,T=R?new Date(Date.now()+3600*1e3).toISOString():null,{data:O,error:D}=await Y.from("stores").insert({user_id:k.id,name:m.storeName,slug:m.storeSlug,subdomain:m.storeSlug,description:m.description||null,whatsapp_number:`${m.countryCode}${m.whatsappNumber}`,google_access_token:R||null,google_refresh_token:P||null,google_token_expiry:T}).select();if(D)throw D;const I=O&&O.length>0?O[0].id:null;I&&await glt(I);const L=sessionStorage.getItem("referral_code");if(L&&I){console.log("[StoreSetup] Processing referral code:",L);const{data:q}=await Y.from("helpers").select("id").eq("referral_code",L).eq("status","Active").maybeSingle();if(q){const{data:G}=await Y.from("profiles").select("full_name, email, phone").eq("user_id",k.id).maybeSingle(),K=new Date;K.setDate(K.getDate()+14);const{error:U}=await Y.from("store_referrals").insert({helper_id:q.id,store_id:I,store_owner_name:G?.full_name||m.storeName,store_owner_email:G?.email||k.email||"",store_owner_phone:m.whatsappNumber,trial_start_date:new Date().toISOString().split("T")[0],trial_end_date:K.toISOString().split("T")[0],trial_status:"Active",subscription_purchased:!1,commission_status:"Not Applicable"});U?console.error("[StoreSetup] Error creating referral record:",U):console.log("[StoreSetup] Referral record created successfully"),sessionStorage.removeItem("referral_code")}else console.log("[StoreSetup] No active helper found for referral code:",L)}const{data:W}=await Y.from("subscription_plans").select("*").eq("is_default_plan",!0).maybeSingle();if(W){const q=new Date;q.setDate(q.getDate()+(W.trial_days||14)),await Y.from("subscriptions").insert({user_id:k.id,plan_id:W.id,status:"trial",trial_ends_at:q.toISOString(),current_period_start:new Date().toISOString(),current_period_end:q.toISOString()})}t({title:"Store created!",description:"Your store is ready with demo products."}),e("/onboarding/google-drive")}catch(k){t({title:"Error",description:k.message,variant:"destructive"})}finally{n(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-1/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2].map(k=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${k===1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:k}),k<2&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${k<1?"bg-primary":"bg-muted"}`})]},k))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 1 of 2"})]}),s.jsx("div",{className:"container max-w-2xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(um,{className:"w-8 h-8 text-primary"})}),s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome, ",o,"! "]}),s.jsx("p",{className:"text-muted-foreground",children:"Let's set up your online store"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"storeName",children:["Store Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Fe,{id:"storeName",placeholder:"My Awesome Store",value:m.storeName,onChange:k=>w(k.target.value),maxLength:50}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed to your customers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"storeSlug",children:["Store Domain ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Fe,{id:"storeSlug",value:m.storeSlug,readOnly:!0,disabled:!0,maxLength:30,className:"pr-8 bg-muted cursor-not-allowed"}),a&&s.jsx(Ut,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"}),!a&&y==="available"&&s.jsx(rn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}),!a&&y==="taken"&&s.jsx(Aa,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-destructive"})]})}),y==="available"&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(rn,{className:"w-3 h-3"})," Available"]}),y==="taken"&&s.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[s.jsx(Aa,{className:"w-3 h-3"})," Already taken"]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:" 3-30 characters"}),s.jsx("p",{children:" Lowercase letters and numbers only"}),s.jsx("p",{children:" Must start with letter"}),s.jsx("p",{children:" Auto-generated from store name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"description",children:"Store Description"}),s.jsx(Ks,{id:"description",placeholder:"Tell customers about your store...",value:m.description,onChange:k=>p(E=>({...E,description:k.target.value})),maxLength:500,rows:4}),s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[m.description.length,"/500"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"whatsapp",children:["WhatsApp Business Number ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ar,{value:m.countryCode,onValueChange:k=>p(E=>({...E,countryCode:k})),children:[s.jsx(rr,{className:"w-24",children:s.jsx(ir,{})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"+91",children:" +91"}),s.jsx(Ue,{value:"+1",children:" +1"}),s.jsx(Ue,{value:"+44",children:" +44"}),s.jsx(Ue,{value:"+971",children:" +971"})]})]}),s.jsx(Fe,{id:"whatsapp",type:"tel",placeholder:"9876543210",value:m.whatsappNumber,onChange:k=>p(E=>({...E,whatsappNumber:k.target.value.replace(/\D/g,"")})),className:"flex-1"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers will place orders via WhatsApp to this number"})]})]}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-8 pt-6 border-t",children:s.jsx(ae,{onClick:S,disabled:!C()||r,className:"w-full sm:w-auto",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):"Continue"})})]})}),s.jsx(cn,{open:c,onOpenChange:u,children:s.jsxs(sn,{className:"sm:max-w-md",children:[s.jsxs(un,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Qn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(dn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(Zn,{className:"text-center text-base pt-4",children:d})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(ae,{onClick:()=>u(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})},vlt=()=>{const e=vr(),{toast:t}=En(),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[o,l]=b.useState(!0),[c,u]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:g}}=await Y.auth.getUser();if(!g){e("/onboarding/store-setup");return}const{data:{session:v}}=await Y.auth.getSession(),_=v?.provider_token,w=v?.provider_refresh_token,{data:j,error:C}=await Y.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",g.id).single();if(C||!j){console.error("Store not found"),e("/onboarding/store-setup");return}if(u(j.id),_&&!j.google_access_token){const S={google_access_token:_};if(w){const k=new Date(Date.now()+36e5).toISOString();S.google_refresh_token=w,S.google_token_expiry=k}await Y.from("stores").update(S).eq("id",j.id)}await f()}catch(g){console.error("Error loading store:",g),l(!1)}},f=async()=>{try{const{data:{session:g}}=await Y.auth.getSession();if(!g){n(!1),l(!1);return}const{data:v,error:_}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${g.access_token}`}});if(_){console.error("Drive verification error:",_),n(!1),l(!1);return}if(v?.connected){n(!0);const{data:{session:w}}=await Y.auth.getSession();w?.provider_token&&t({title:"Google Drive Connected",description:"You can now upload images from your device."})}else n(!1),console.log("Drive not connected:",v?.reason)}catch(g){console.error("Error verifying Drive connection:",g),n(!1)}finally{l(!1)}},m=async()=>{i(!0);try{const{error:g}=await Y.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:`${window.location.origin}/onboarding/google-drive`,queryParams:{access_type:"offline",prompt:"consent"}}});if(g)throw g}catch(g){t({title:"Connection Failed",description:g.message,variant:"destructive"}),i(!1)}},p=async()=>{try{e("/admin/dashboard")}catch(g){t({title:"Error",description:g.message,variant:"destructive"})}},y=[{title:"Unlimited Storage",description:"No storage limits on product images"},{title:"Automatic Backup",description:"Your images are safely backed up by Google"},{title:"Easy Management",description:"View and organize images directly in Google Drive"},{title:"Fast Delivery",description:"Images served through Google's CDN for quick loading"},{title:"No VPS Costs",description:"Save on server storage and bandwidth costs"},{title:"Version Control",description:"Google Drive keeps previous versions of your images"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-2/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2].map(g=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${g<=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:g}),g<2&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${g<2?"bg-primary":"bg-muted"}`})]},g))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 2 of 2"})]}),s.jsx("div",{className:"container max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-4",children:s.jsx(Vu,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Connect Google Drive"}),s.jsx("span",{className:"inline-block px-3 py-1 bg-amber-100 text-amber-800 text-xs font-semibold rounded-full",children:"Recommended"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Store and manage product images securely in your Google Drive (optional)"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:y.map((g,v)=>s.jsxs("div",{className:"flex gap-3 p-4 rounded-lg bg-muted/50 border",children:[s.jsx(an,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:g.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g.description})]})]},v))}),s.jsxs(Ce,{className:`admin-card ${r?"border-green-500 border-2":"border-amber-500 border-2"}`,children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${r?"bg-green-500/10":"bg-blue-500/10"}`,children:s.jsx(Vu,{className:`w-5 h-5 ${r?"text-green-600":"text-blue-600"}`})}),"Connection Status (Optional)"]})}),s.jsx(Ee,{className:"space-y-4",children:s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${r?"border-green-500 bg-green-50 dark:bg-green-950":"border-border bg-muted/50"}`,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:`font-medium text-sm ${r?"text-green-700 dark:text-green-400":""}`,children:o?"Checking...":r?" Connected":"Not Connected"}),s.jsx("p",{className:`text-xs ${r?"text-green-600 dark:text-green-500":"text-muted-foreground"}`,children:r?"Your Google Drive is ready for image uploads":"Optional: Connect to enable Google Drive storage, or continue with VPS storage"})]}),s.jsx(ae,{onClick:m,disabled:a||o,variant:r?"outline":"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):r?s.jsxs(s.Fragment,{children:[s.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t",children:[s.jsxs(ae,{variant:"ghost",onClick:()=>e("/onboarding/store-setup"),className:"order-2 sm:order-1",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(ae,{onClick:p,disabled:o,className:"w-full sm:w-auto order-1 sm:order-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 animate-spin mr-2"}),"Checking..."]}):"Continue"})]})]})})]})},ylt=({storeId:e,settings:t,instagramUsername:r})=>{const[n,a]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(null);b.useEffect(()=>{t?.enabled?u():o(!1)},[e,t?.enabled]);const u=async()=>{try{o(!0),c(null);const f=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?store_id=${e}`)).json();f.success?a(f.reels||[]):(console.log("Failed to fetch reels:",f.error),t?.manual_reels?.length&&a(t.manual_reels.map(m=>({id:m.url,type:"manual",permalink:m.url,thumbnail_url:m.thumbnail_url,caption:m.caption}))))}catch(d){console.error("Error fetching reels:",d),t?.manual_reels?.length&&a(t.manual_reels.map(f=>({id:f.url,type:"manual",permalink:f.url,thumbnail_url:f.thumbnail_url,caption:f.caption})))}finally{o(!1)}};return t?.enabled?i?s.jsx("section",{className:"py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Ml,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((d,f)=>s.jsx("div",{className:"aspect-[9/16] bg-muted animate-pulse rounded-lg"},f))})]})}):n.length===0?null:s.jsx("section",{className:"py-12 px-4 bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Ml,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]}),r&&s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-pink-500 transition-colors inline-flex items-center gap-1",children:["@",r,s.jsx(ja,{className:"w-3 h-3"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4",children:n.slice(0,t?.max_reels||6).map(d=>s.jsx(blt,{reel:d},d.id))}),r&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-medium rounded-full hover:opacity-90 transition-opacity",children:[s.jsx(Ml,{className:"w-5 h-5"}),"Follow on Instagram"]})})]})}):null},blt=({reel:e})=>{const[t,r]=b.useState(!1);return s.jsxs("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"relative aspect-[9/16] rounded-lg overflow-hidden bg-muted group cursor-pointer",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.thumbnail_url?s.jsx("img",{src:e.thumbnail_url,alt:e.caption||"Instagram Reel",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500/20 via-pink-500/20 to-orange-500/20",children:s.jsx(Ml,{className:"w-12 h-12 text-pink-500/50"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx(YD,{className:"w-6 h-6 text-pink-500 ml-1",fill:"currentColor"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"w-6 h-6 rounded bg-black/50 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"})})})}),e.caption&&s.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent transition-opacity ${t?"opacity-100":"opacity-0"}`,children:s.jsx("p",{className:"text-white text-xs line-clamp-2",children:e.caption})})]})},ZJ=({averageRating:e,totalReviews:t,variant:r="default"})=>r==="compact"?s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full shadow-sm",children:[s.jsx(Xi,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.toFixed(1)}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",t,")"]})]}):s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xi,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.toFixed(1)})]}),s.jsx("div",{className:"border-l border-gray-300 dark:border-gray-600 h-6"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 leading-tight",children:"Google reviews"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 leading-tight",children:[t," reviews"]})]})]}),wlt=({reviews:e,autoPlay:t=!0,autoPlayInterval:r=5e3})=>{const[n,a]=b.useState({}),i=m=>{a(p=>({...p,[m]:!0}))},o=m=>{const p=m.trim().split(" ");return p.length===1?p[0].substring(0,2).toUpperCase():(p[0][0]+p[p.length-1][0]).toUpperCase()},l=m=>{const p=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],y=m.split("").reduce((g,v)=>g+v.charCodeAt(0),0);return p[y%p.length]},c=m=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(p=>s.jsx(Xi,{className:`h-4 w-4 ${p<=m?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},p))});if(!e||e.length===0)return null;const u=[...e,...e],f=30*1e3;return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"review-marquee-container overflow-hidden",children:s.jsx("div",{className:"review-marquee-track flex gap-4",style:{animationDuration:`${f}ms`,animationPlayState:t?"running":"paused"},children:u.map((m,p)=>s.jsx(Ce,{className:"review-card flex-shrink-0 w-full sm:w-[calc(50%-0.5rem)] md:w-[calc(33.333%-0.667rem)] lg:w-[calc(20%-0.8rem)] border-0 shadow-md hover:shadow-lg transition-shadow",children:s.jsxs(Ee,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate flex-1",children:m.author_name})}),c(m.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[m.profile_photo_url&&!n[p%e.length]?s.jsx("img",{src:m.profile_photo_url,alt:m.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(p%e.length),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(m.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(m.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:m.relative_time_description})]}),m.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',m.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},`${p}-${m.author_name}`))})}),s.jsx("div",{className:"text-center mt-4 md:hidden",children:s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Swipe to see more reviews "})})]})},_lt=({reviews:e,maxReviews:t=6})=>{const[r,n]=b.useState({}),a=u=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(d=>s.jsx(Xi,{className:`h-4 w-4 ${d<=u?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},d))}),i=u=>{n(d=>({...d,[u]:!0}))},o=u=>{const d=u.trim().split(" ");return d.length===1?d[0].substring(0,2).toUpperCase():(d[0][0]+d[d.length-1][0]).toUpperCase()},l=u=>{const d=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],f=u.split("").reduce((m,p)=>m+p.charCodeAt(0),0);return d[f%d.length]};if(!e||e.length===0)return null;const c=e.slice(0,t);return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:c.map((u,d)=>s.jsx(Ce,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:s.jsxs(Ee,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate",children:u.author_name}),a(u.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[u.profile_photo_url&&!r[d]?s.jsx("img",{src:u.profile_photo_url,alt:u.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(d),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(u.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(u.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:u.relative_time_description})]}),u.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',u.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},d))})},jlt=({reviews:e,maxReviews:t=5,showAllReviews:r=!1})=>{const[n,a]=b.useState({}),i=d=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>s.jsx(Xi,{className:`h-4 w-4 ${f<=d?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},f))}),o=d=>{a(f=>({...f,[d]:!0}))},l=d=>{const f=d.trim().split(" ");return f.length===1?f[0].substring(0,2).toUpperCase():(f[0][0]+f[f.length-1][0]).toUpperCase()},c=d=>{const f=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],m=d.split("").reduce((p,y)=>p+y.charCodeAt(0),0);return f[m%f.length]};if(!e||e.length===0)return null;const u=r?e:e.slice(0,t);return s.jsxs("div",{className:"space-y-4",children:[u.map((d,f)=>s.jsx("div",{className:"p-4 md:p-6 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[d.profile_photo_url&&!n[f]?s.jsx("img",{src:d.profile_photo_url,alt:d.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover",onError:()=>o(f),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${c(d.author_name)} flex items-center justify-center`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:l(d.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:d.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.relative_time_description}),s.jsx("div",{className:"mt-1",children:i(d.rating)})]})]}),s.jsx("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded",children:s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})})]}),d.text&&s.jsx("p",{className:"text-sm md:text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:d.text})]})},f)),!r&&e.length>t&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center pt-2",children:["+ ",e.length-t," more reviews"]})]})},Nlt=({storeId:e,googleMapsUrl:t})=>{const[r,n]=b.useState([]),[a,i]=b.useState(0),[o,l]=b.useState(0),[c,u]=b.useState({}),[d,f]=b.useState(!0);b.useEffect(()=>{m()},[e]);const m=async()=>{try{const{data:_,error:w}=await Y.from("google_reviews_cache").select("*").eq("store_id",e).single();if(w){console.error("Error loading reviews:",w);return}_&&(n(_.reviews||[]),i(_.average_rating||0),l(_.total_reviews||0))}catch(_){console.error("Error in loadReviews:",_)}finally{f(!1)}},p=_=>{u(w=>({...w,[_]:!0}))},y=_=>{const w=_.trim().split(" ");return w.length===1?w[0].substring(0,2).toUpperCase():(w[0][0]+w[w.length-1][0]).toUpperCase()},g=_=>{const w=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],j=_.split("").reduce((C,S)=>C+S.charCodeAt(0),0);return w[j%w.length]},v=_=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(w=>s.jsx(Xi,{className:`h-4 w-4 ${w<=_?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},w))});return d?s.jsx("div",{className:"text-center py-12",children:"Loading reviews..."}):!r||r.length===0?s.jsx("div",{className:"w-full max-w-2xl mx-auto",children:s.jsx(Ce,{className:"border-0 shadow-xl overflow-hidden",children:s.jsxs(Ee,{className:"p-0",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsxs("svg",{className:"h-10 w-10",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"white",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"white",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"white",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"white",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-2xl md:text-3xl font-bold",children:"Customer Reviews"})]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"See what our customers are saying"})]}),s.jsx("div",{className:"p-8 bg-white dark:bg-gray-800 text-center",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(_=>s.jsx(Xi,{className:"h-8 w-8 fill-yellow-400 text-yellow-400"},_))})}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Read authentic reviews from our verified customers"}),s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-lg transition-all hover:shadow-lg",children:[s.jsx("span",{children:"View All Reviews on Google"}),s.jsx(ja,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verified by Google  100% Authentic Customer Feedback"})]})})]})})}):s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(_=>s.jsx(Xi,{className:`h-6 w-6 ${_<=Math.round(a)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},_))}),s.jsx("span",{className:"text-xl font-bold",children:a.toFixed(1)})]}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Based on ",o," Google reviews"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.map((_,w)=>s.jsx(Ce,{className:"hover:shadow-xl transition-shadow border-0 shadow-md",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[_.profile_photo_url&&!c[w]?s.jsx("img",{src:_.profile_photo_url,alt:_.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>p(w),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${g(_.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:y(_.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:_.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:_.relative_time_description})]})]}),s.jsx("div",{className:"mb-3",children:v(_.rating)}),_.text&&s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-4 leading-relaxed",children:['"',_.text,'"']}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]})]})},w))}),s.jsxs("div",{className:"text-center",children:[s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all hover:shadow-lg",children:[s.jsxs("span",{children:["View All ",o," Reviews on Google"]}),s.jsx(ja,{className:"h-5 w-5"})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:["Verified by Google  ",o," authentic customer reviews"]})]})]})},Slt=({storeId:e,variant:t,maxReviews:r,autoPlay:n=!0,showAllReviews:a=!1})=>{const[i,o]=b.useState(null),[l,c]=b.useState(!0),[u,d]=b.useState(!1),[f,m]=b.useState("carousel"),[p,y]=b.useState(null);b.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:_}=await Y.from("stores").select("google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("id",e).single();if(!_?.google_reviews_enabled){d(!1),c(!1);return}d(!0),m(_.google_reviews_display_type||"carousel"),y(_.google_maps_url||null);try{const{data:w,error:j}=await Y.from("google_reviews_cache").select("*").eq("store_id",e).single();w&&o({average_rating:w.average_rating||0,total_reviews:w.total_reviews||0,reviews:w.reviews||[]}),j&&console.warn("Warning loading reviews (continuing):",j)}catch(w){console.warn("Cache load error (continuing):",w)}}catch(_){console.error("Error in loadReviews:",_)}finally{c(!1)}};if(l||!u)return null;const v=t||(f==="google-widget"?"google-widget":f==="carousel"?"carousel":"grid");if(v==="google-widget"){if(!p)return null}else if(!i||i.reviews.length===0)return null;switch(v){case"badge":return s.jsx(ZJ,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"default"});case"badge-compact":return s.jsx(ZJ,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"compact"});case"carousel":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real reviews from Google"})]}),s.jsx(wlt,{reviews:i.reviews,autoPlay:n})]});case"grid":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," reviews"]})]})]}),s.jsx(_lt,{reviews:i.reviews,maxReviews:r})]});case"list":return s.jsxs("div",{className:"py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," Google reviews"]})]})]}),s.jsx(jlt,{reviews:i.reviews,maxReviews:r,showAllReviews:a})]});case"google-widget":return p?s.jsx("div",{className:"py-8 md:py-12",children:s.jsx(Nlt,{storeId:e,googleMapsUrl:p})}):null;default:return null}};zn.registerPlugin(Mr);function Tj({children:e,className:t="",animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}){const u=b.useRef(null);return b.useEffect(()=>{if(!u.current)return;const d=u.current;let f={opacity:0};switch(r){case"fadeSlideUp":f={opacity:0,y:i};break;case"fadeSlideDown":f={opacity:0,y:-i};break;case"fadeSlideLeft":f={opacity:0,x:i};break;case"fadeSlideRight":f={opacity:0,x:-i};break;case"fadeIn":f={opacity:0};break;case"scaleUp":f={opacity:0,scale:.8};break;case"slideUp":f={y:i};break}return zn.set(d,f),zn.to(d,{opacity:1,x:0,y:0,scale:1,duration:n,delay:a,ease:"power2.out",scrollTrigger:{trigger:d,start:`top ${100-o*100}%`,toggleActions:"play none none none"},stagger:l>0?l:void 0,...c}),()=>{Mr.getAll().forEach(m=>{m.trigger===d&&m.kill()})}},[r,n,a,i,o,l,c]),s.jsx("div",{ref:u,className:t,children:e})}zn.registerPlugin(Mr);function UD(e={}){const t=b.useRef(null),{animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}=e;return b.useEffect(()=>{const u=t.current;if(!u)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){zn.set(u,{opacity:1,x:0,y:0,scale:1}),u.children.length>0&&zn.set(Array.from(u.children),{opacity:1,x:0,y:0,scale:1});return}const f={fadeIn:{from:{opacity:0},to:{opacity:1,duration:n,delay:a}},slideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideDown:{from:{opacity:0,y:-i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideLeft:{from:{opacity:0,x:i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},slideRight:{from:{opacity:0,x:-i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},scale:{from:{opacity:0,scale:.8},to:{opacity:1,scale:1,duration:n,delay:a,ease:"back.out(1.2)"}},fadeSlideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}}},m=f[r]||f.fadeSlideUp,p=l>0&&u.children.length>0,y=p?Array.from(u.children):u;zn.set(y,m.from);const g=zn.context(()=>{u.getBoundingClientRect().top<window.innerHeight*.9?zn.to(y,{...m.to,stagger:p?l:0,...c}):Mr.create({trigger:u,start:"top 90%",once:!0,onEnter:()=>{zn.to(y,{...m.to,stagger:p?l:0,...c})}})});return()=>{g.revert(),Mr.getAll().forEach(v=>{v.trigger===u&&v.kill()})}},[r,n,a,i,o,l,c]),t}const QJ=({slug:e}={})=>{const{slug:t}=hd(),r=e||t,[n,a]=b.useState(null),[i,o]=b.useState(null),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState([]),[p,y]=b.useState([]),[g,v]=b.useState(!0),[_,w]=b.useState(!1),j=UD({animation:"slideUp",duration:.6,stagger:.1,delay:.2}),C=UD({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),S=UD({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),k=cu(),E=k?"/products":`/${r}/products`;b.useEffect(()=>{R()},[r]),b.useEffect(()=>{if(!n?.ai_voice_embed_code)return;if(document.querySelector('script[src*="elevenlabs"]')){w(!0);return}const T=document.createElement("script");return T.src="https://unpkg.com/@elevenlabs/convai-widget-embed",T.async=!0,T.type="text/javascript",T.onload=()=>{console.log("ElevenLabs widget script loaded successfully"),w(!0)},T.onerror=O=>{console.error("Failed to load ElevenLabs widget script:",O)},document.body.appendChild(T),()=>{T.parentNode&&T.parentNode.removeChild(T)}},[n?.ai_voice_embed_code]),Yit(n&&i?{store:{id:n.id,name:n.name,slug:n.slug,description:n.description,logo_url:n.logo_url,address:n.address,whatsapp_number:n.whatsapp_number,social_links:n.social_links,alternate_names:n.alternate_names,seo_description:n.seo_description,business_phone:n.business_phone,business_email:n.business_email,street_address:n.street_address,city:n.city,state:n.state,postal_code:n.postal_code,country:n.country,opening_hours:n.opening_hours,facebook_url:n.facebook_url,instagram_url:n.instagram_url,twitter_url:n.twitter_url,price_range:n.price_range},email:i.email||void 0,breadcrumbs:[{name:"Home",url:window.location.origin},{name:n.name,url:window.location.href}]}:null);const R=async()=>{try{v(!0);const P=cu();let T=Y.from("stores").select("*").eq("is_active",!0);P&&r?r.includes(".")?T=T.or(`custom_domain.eq.${r},subdomain.eq.${r}`):T=T.or(`subdomain.eq.${r},slug.eq.${r}`):T=T.eq("slug",r);const{data:O,error:D}=await T.maybeSingle();if(D)throw D;if(!O){Ie({title:"Store not found",description:"The store you're looking for doesn't exist or is inactive.",variant:"destructive"});return}a({...O,social_links:O.social_links,policies:O.policies,instagram_reels_settings:O.instagram_reels_settings});const{data:I}=await Y.from("profiles").select("phone, email").eq("user_id",O.user_id).maybeSingle();I&&o(I);const{data:L,error:W}=await Y.from("categories").select("*").eq("store_id",O.id).order("name");W?console.error("Error fetching categories:",W):L&&y(L);const q=await yb(O.id);c(q),d(q.slice(0,16));const G=[...q].sort((K,U)=>new Date(U.created_at||"").getTime()-new Date(K.created_at||"").getTime());m(G.slice(0,4))}catch(P){console.error("Error loading store:",P),Ie({title:"Error",description:P.message,variant:"destructive"})}finally{v(!1)}};return g?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Ut,{className:"h-8 w-8 animate-spin"})}):n?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(l8,{title:`${n.name} - Online Store | Shop Quality Products`,description:n.description||`Browse ${n.name}'s collection of quality products. ${p.length>0?"Explore categories: "+p.map(P=>P.name).slice(0,3).join(", "):""}`,canonical:Zhe(n.slug,n.subdomain,n.custom_domain),image:n.logo_url||n.hero_banner_url||"https://digitaldukandar.in/logo.png",keywords:p.map(P=>P.name).concat([n.name,"online store","shop"]),type:"website"}),s.jsx(go,{storeSlug:n.slug,storeId:n.id}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Dhe,{bannerUrls:n.hero_banner_urls&&n.hero_banner_urls.length>0?n.hero_banner_urls:n.hero_banner_url?[n.hero_banner_url]:[],storeName:n.name,logoUrl:n.logo_url,storeDescription:n.description}),p.length>0&&s.jsx("section",{className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsx(Tj,{animation:"fadeSlideUp",duration:.8,children:s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]})}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{ref:j,className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:p.map((P,T)=>{const O=l.filter(D=>D.category===P.name&&D.status==="published").length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",children:s.jsx(XL,{name:P.name,image_url:P.image_url,productCount:O,slug:k?void 0:n?.slug})},P.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(Tj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(Tt,{to:E,children:s.jsxs(ae,{variant:"outline",children:["See All",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]})}),u.length>0?s.jsx("div",{ref:C,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(P=>s.jsx(ax,{id:P.id,slug:P.slug,name:P.name,category:P.category,priceRange:P.price_range||"",images:P.images,status:P.status,storeSlug:k?void 0:n.slug},P.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),n.instagram_reels_settings?.enabled&&n.instagram_reels_settings?.show_on_homepage&&s.jsx(ylt,{storeId:n.id,settings:n.instagram_reels_settings,instagramUsername:n.instagram_username||void 0}),s.jsx("section",{className:"py-16 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(Slt,{storeId:n.id,autoPlay:!0})})}),f.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(Tj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx(Tt,{to:E,children:s.jsxs(ae,{variant:"outline",children:["See All",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("div",{ref:S,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(P=>s.jsx(ax,{id:P.id,slug:P.slug,name:P.name,category:P.category,priceRange:P.price_range||"",images:P.images,status:P.status,storeSlug:k?void 0:n.slug},P.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground mb-0",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(Tj,{animation:"scaleUp",duration:.8,children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore our full collection of amazing products"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Tt,{to:E,children:s.jsxs(ae,{size:"lg",variant:"secondary",children:["Browse All Products",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})}),n.whatsapp_number&&s.jsx("a",{href:`https://wa.me/${n.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(ae,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["Contact on WhatsApp",s.jsx(ua,{className:"w-4 h-4 ml-2"})]})})]})]})})})]}),s.jsx(Ew,{storeName:n.name,storeDescription:n.description,whatsappNumber:n.whatsapp_number,phone:i?.phone,email:i?.email,address:n.address,facebookUrl:n.facebook_url,instagramUrl:n.instagram_url,twitterUrl:n.twitter_url,youtubeUrl:n.youtube_url,linkedinUrl:n.linkedin_url,socialLinks:n.social_links,policies:n.policies}),n.ai_voice_embed_code&&_&&(()=>{const P=n.ai_voice_embed_code.match(/agent-id="([^"]+)"/),T=P?P[1]:null;return T?s.jsx("elevenlabs-convai",{"agent-id":T,style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999}}):(console.error("No agent-id found in ai_voice_embed_code"),null)})()]}):s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Store Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The store you're looking for doesn't exist."}),s.jsx(Tt,{to:"/",children:s.jsx(ae,{children:"Go Home"})})]})},eZ=({slug:e}={})=>{const{slug:t}=hd(),r=e||t,n=vr(),[a,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(null);b.useEffect(()=>{d()},[r]),b.useEffect(()=>{if(window.location.hash){const m=document.querySelector(window.location.hash);m&&setTimeout(()=>{m.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[a]);const d=async()=>{try{i(!0);const{data:m,error:p}=await Y.from("stores").select("*").eq("slug",r).eq("is_active",!0).single();if(p||!m){ct.error("Store not found"),n("/");return}l(m);const{data:y}=await Y.from("profiles").select("phone, email").eq("user_id",m.user_id).single();y&&u(y)}catch(m){console.error("Error loading store:",m),ct.error("Failed to load store information")}finally{i(!1)}};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return null;const f=o.policies||{};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(go,{storeSlug:r}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[s.jsxs(ae,{variant:"ghost",onClick:()=>n(`/${r}`),className:"mb-6",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Store Policies"}),s.jsx("p",{className:"text-muted-foreground",children:"Learn about our policies and terms of service"})]}),s.jsx("section",{id:"terms",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Terms & Conditions"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.termsConditions||"Terms and conditions will be available soon."})]})}),s.jsx("section",{id:"return-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Return Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.returnPolicy||"Return policy will be available soon."})]})}),s.jsx("section",{id:"shipping-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Shipping Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.shippingPolicy||"Shipping policy will be available soon."})]})}),s.jsx("section",{id:"privacy-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Privacy Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.privacyPolicy||"Privacy policy will be available soon."})]})}),f.deliveryAreas&&s.jsx("section",{id:"delivery-areas",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Delivery Areas"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.deliveryAreas})]})}),o.address&&s.jsx("section",{id:"address",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Store Address"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:o.address})]})})]})]}),s.jsx(Ew,{storeName:o.name,storeDescription:o.description,whatsappNumber:o.whatsapp_number,phone:c?.phone,email:c?.email,address:o.address,facebookUrl:o.facebook_url,instagramUrl:o.instagram_url,twitterUrl:o.twitter_url,youtubeUrl:o.youtube_url,linkedinUrl:o.linkedin_url,socialLinks:o.social_links,policies:o.policies})]})},klt=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(Tt,{to:"/",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['Welcome to Digital Dukandar ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website ',s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"})," and use our multi-vendor store platform services."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Personal Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Register for an account (name, email address, phone number)"}),s.jsx("li",{children:"Create a store or product listing"}),s.jsx("li",{children:"Make a purchase through our platform"}),s.jsx("li",{children:"Contact our customer support"}),s.jsx("li",{children:"Sign in using Google OAuth (email, profile picture, name)"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"2.2 Automatically Collected Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you visit our website, we automatically collect certain information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Device information (browser type, operating system)"}),s.jsx("li",{children:"IP address and location data"}),s.jsx("li",{children:"Usage data (pages visited, time spent on pages)"}),s.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To process transactions and deliver products/services"}),s.jsx("li",{children:"To send order confirmations and updates"}),s.jsx("li",{children:"To provide customer support"}),s.jsx("li",{children:"To improve our platform and user experience"}),s.jsx("li",{children:"To send promotional communications (with your consent)"}),s.jsx("li",{children:"To comply with legal obligations"}),s.jsx("li",{children:"To detect and prevent fraud or abuse"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing and Disclosure"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may share your information in the following situations:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"With Store Owners:"})," When you make a purchase, we share your order details with the relevant store owner"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Providers:"})," We may share data with third-party service providers (payment processors, hosting services, analytics providers)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We do not sell your personal information to third parties."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Your Privacy Rights"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the following rights regarding your personal information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Cookies and Tracking Technologies"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your experience on our platform. Cookies help us remember your preferences, analyze site usage, and provide personalized content. You can control cookie settings through your browser preferences."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Third-Party Services"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our platform integrates with third-party services:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Google OAuth:"})," For authentication (subject to Google's Privacy Policy)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase:"})," For database and authentication services"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"WhatsApp:"})," For order notifications"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"These services have their own privacy policies, and we encourage you to review them."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our services are not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Data Transfers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. We encourage you to review this Privacy Policy periodically.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),Clt=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(Tt,{to:"/",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["By accessing or using Digital Dukandar's services available at ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"}),' ("Platform"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our Platform.']})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"YesGive is a multi-vendor e-commerce platform that enables:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Store owners to create and manage online stores"}),s.jsx("li",{children:"Product listing and inventory management"}),s.jsx("li",{children:"Order processing through WhatsApp and website checkouts"}),s.jsx("li",{children:"Customer management and analytics"}),s.jsx("li",{children:"Subscription-based access to platform features"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Account Creation"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features, you must create an account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate, current, and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Notify us immediately of any unauthorized access"}),s.jsx("li",{children:"Be responsible for all activities under your account"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"3.2 Account Types"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Store Owners:"})," Can create stores, manage products, and process orders"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Customers:"})," Can browse stores, place orders, and manage their profiles"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Super Admin:"})," Platform administrators with full access"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Subscription Plans and Payments"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.1 Subscription Tiers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We offer various subscription plans (Free, Basic, Pro, Enterprise) with different features and limits. Plan details are available on our Pricing page."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.2 Payment Terms"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Subscriptions are billed monthly or yearly in advance"}),s.jsx("li",{children:"Payments are non-refundable except as required by law"}),s.jsx("li",{children:"You authorize automatic renewal unless cancelled before the renewal date"}),s.jsx("li",{children:"We reserve the right to change pricing with 30 days' notice"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"4.3 Free Trials"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Free trial periods are subject to terms disclosed at sign-up. We may require payment information upfront but won't charge until the trial ends unless you cancel."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Store Owner Responsibilities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"As a store owner, you agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate product descriptions and pricing"}),s.jsx("li",{children:"Honor all orders placed through your store"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"}),s.jsx("li",{children:"Not sell prohibited items (illegal goods, counterfeit products, etc.)"}),s.jsx("li",{children:"Handle customer data responsibly and securely"}),s.jsx("li",{children:"Respond to customer inquiries in a timely manner"}),s.jsx("li",{children:"Process refunds and returns according to your stated policies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You may not use our Platform to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate any laws or regulations"}),s.jsx("li",{children:"Infringe on intellectual property rights"}),s.jsx("li",{children:"Transmit harmful code, viruses, or malware"}),s.jsx("li",{children:"Engage in fraudulent activities or scams"}),s.jsx("li",{children:"Harass, abuse, or harm other users"}),s.jsx("li",{children:"Scrape or copy content without permission"}),s.jsx("li",{children:"Interfere with the Platform's operation"}),s.jsx("li",{children:"Create fake accounts or impersonate others"}),s.jsx("li",{children:"Manipulate prices, reviews, or ratings"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Content and Intellectual Property"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.1 Your Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You retain ownership of content you upload (products, images, descriptions). By uploading content, you grant us a license to display, store, and distribute it as necessary to provide our services."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.2 Our Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Platform, including its design, features, and code, is protected by copyright and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Order Processing and Transactions"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"8.1 Order Placement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Orders placed through the Platform constitute an offer to purchase. Store owners reserve the right to accept or decline orders."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.2 Payment Processing"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Currently, orders are processed via Cash on Delivery (COD) or direct WhatsApp communication. Future payment integrations may be added."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.3 Disputes"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"YesGive acts as a platform provider. Disputes regarding orders, refunds, or product quality should be resolved directly between customers and store owners. We may assist in mediation but are not responsible for transaction outcomes."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Termination"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may suspend or terminate your account if you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate these Terms"}),s.jsx("li",{children:"Engage in fraudulent or illegal activities"}),s.jsx("li",{children:"Fail to pay subscription fees"}),s.jsx("li",{children:"Create risk or legal liability for us"})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You may cancel your account at any time through account settings. Upon termination, you lose access to your store and data."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Disclaimers and Limitations of Liability"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"10.1 Service Availability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We strive for 99.9% uptime but do not guarantee uninterrupted service. We are not liable for downtime, data loss, or service interruptions."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.2 No Warranty"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Platform is provided "as is" without warranties of any kind, express or implied. We do not guarantee that the service will be error-free or secure.'}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.3 Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To the maximum extent permitted by law, YesGive shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Indemnification"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to indemnify and hold YesGive harmless from any claims, damages, or expenses arising from your use of the Platform, violation of these Terms, or infringement of any rights."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may modify these Terms at any time. Changes will be effective upon posting. Continued use of the Platform constitutes acceptance of modified Terms. Material changes will be communicated via email or platform notifications."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Governing Law and Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"These Terms are governed by the laws of India. Any disputes shall be resolved through:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Informal negotiation (30 days)"}),s.jsx("li",{children:"Binding arbitration (if negotiation fails)"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For questions about these Terms, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Severability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If any provision of these Terms is found to be unenforceable, the remaining provisions will continue in full effect."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Entire Agreement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and YesGive regarding use of the Platform."})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),Elt=oh({full_name:Jr().min(2,"Name must be at least 2 characters"),email:Jr().email("Invalid email address"),phone:Jr().regex(/^\d{10}$/,"Phone number must be 10 digits"),why_helper:Jr().optional(),bank_account_name:Jr().min(2,"Account holder name is required"),bank_account_number:Jr().min(8,"Invalid account number"),bank_ifsc_code:Jr().regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),bank_name:Jr().min(2,"Bank name is required"),terms:Fc().refine(e=>e===!0,"You must agree to terms and conditions")});function Tlt(){const[e]=Rw(),[t,r]=b.useState(!1),[n,a]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,m]=b.useState(null),[p,y]=b.useState(!1),[g,v]=b.useState(""),_=e.get("ref"),w=bx({resolver:wx(Elt),defaultValues:{full_name:"",email:"",phone:"",why_helper:"",bank_account_name:"",bank_account_number:"",bank_ifsc_code:"",bank_name:"",terms:!1}});b.useEffect(()=>{(async()=>{const{data:{session:k}}=await Y.auth.getSession();if(k?.user){const E=k.user;E.app_metadata?.provider==="google"&&(d(!0),m(E.id),w.setValue("email",E.email||""),w.setValue("full_name",E.user_metadata?.full_name||E.user_metadata?.name||""),ct.info("Signed in with Google! Please complete the remaining fields."))}})()},[]),b.useEffect(()=>{_&&Y.from("helpers").select("full_name").eq("referral_code",_).single().then(({data:S})=>{S&&o(S.full_name)})},[_]);const j=async()=>{try{c(!0),console.log("[BecomeHelper] Starting Google sign up...");const S=_?`${window.location.origin}/become-helper?ref=${_}`:`${window.location.origin}/become-helper`,{error:k}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:S}});k?(console.error("[BecomeHelper] Google sign up error:",k),ct.error(k.message||"Failed to sign up with Google")):console.log("[BecomeHelper] Google OAuth redirect initiated")}catch(S){console.error("[BecomeHelper] Unexpected error:",S),ct.error(S.message||"An unexpected error occurred")}finally{c(!1)}},C=async S=>{try{const{data:k}=await Y.from("stores").select("id, name, user_id").eq("user_id",await Y.from("profiles").select("user_id").eq("email",S.email).maybeSingle().then(({data:W})=>W?.user_id)).maybeSingle();if(k){v(`This email (${S.email}) is already registered as a store owner of "${k.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}const{data:E}=await Y.from("profiles").select("user_id").eq("email",S.email).maybeSingle();if(E){const{data:W}=await Y.from("stores").select("id, name").eq("user_id",E.user_id).maybeSingle();if(W){v(`This email is registered as store owner of "${W.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}}const{data:R}=await Y.from("stores").select("id, name, whatsapp_number").eq("whatsapp_number",S.phone).maybeSingle();if(R){v(`This phone number is already registered for store "${R.name}". Store owners cannot become helpers. Please use a different phone number.`),y(!0);return}const{data:P}=await Y.from("helper_applications").select("email").eq("email",S.email).maybeSingle();if(P){ct.error("This email is already registered as a helper");return}const{data:T}=await Y.from("helper_applications").select("phone").eq("phone",S.phone).maybeSingle();if(T){ct.error("This phone number is already registered as a helper");return}if(!u||!f){ct.error("Please sign in with Google first to submit your application");return}const O=f;let D=null;if(_){const{data:W}=await Y.from("helpers").select("id").eq("referral_code",_).single();W&&(D=W.id)}const{data:I,error:L}=await Y.from("helper_applications").insert({user_id:O,full_name:S.full_name,email:S.email,phone:S.phone,why_helper:S.why_helper,bank_account_name:S.bank_account_name,bank_account_number:S.bank_account_number,bank_ifsc_code:S.bank_ifsc_code,bank_name:S.bank_name,recruited_by_helper_id:D}).select().single();if(L)throw L;a(I.id.slice(0,8).toUpperCase()),r(!0),ct.success("Account created! Application submitted successfully!")}catch(k){console.error("Error submitting application:",k),ct.error(k.message||"Failed to submit application. Please try again.")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(Ce,{className:"max-w-2xl w-full",children:[s.jsxs(Xe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-4",children:s.jsx(Cs,{className:"w-10 h-10 text-white"})}),s.jsx(Je,{className:"text-3xl",children:"Application Submitted Successfully! "}),s.jsx(Pr,{className:"text-lg mt-4",children:"We'll review your application within 2-3 business days and notify you via email"})]}),s.jsxs(Ee,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Application ID"}),s.jsxs("p",{className:"text-2xl font-bold",children:["#",n]})]}),s.jsx(Tt,{to:"/application-status",children:s.jsx(ae,{className:"w-full",children:"Check Application Status"})})]})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground py-16 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Join Our Helper Program & Earn Commissions"}),s.jsx("p",{className:"text-xl opacity-90 mb-8",children:"Help businesses grow and earn money for every paying customer you bring"}),i&&s.jsx("div",{className:"bg-primary-foreground text-primary p-4 rounded-lg inline-block mb-8",children:s.jsxs("p",{className:"font-semibold",children:["You're applying via ",s.jsxs("span",{className:"text-primary",children:[i,"'s"]})," referral"]})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(ri,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Earn 10% commission on every subscription you refer"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(ki,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Build your own helper network and earn additional 5%"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Tf,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Flexible working - work from anywhere"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Cs,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"No investment required - completely free to join"})]})]})]})}),s.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4",children:s.jsxs(Ce,{children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Application Form"}),s.jsx(Pr,{children:"Fill in your details to become a helper"})]}),s.jsxs(Ee,{children:[!u&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Please sign in with Google to continue with your application"}),s.jsx(ae,{type:"button",onClick:j,disabled:l,variant:"outline",className:"w-full",size:"lg",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing up..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),u&&s.jsx(_x,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(C),className:"space-y-6",children:[s.jsx(gr,{control:w.control,name:"full_name",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Full Name *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"Enter your full name",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:w.control,name:"email",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Email Address *"}),s.jsx(fr,{children:s.jsx(Fe,{type:"email",placeholder:"Enter your email",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:w.control,name:"phone",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"UPI Phone Number *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"Enter 10-digit phone number",...S})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:w.control,name:"why_helper",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Why do you want to become a helper?"}),s.jsx(fr,{children:s.jsx(Ks,{placeholder:"Tell us why you want to join our helper program",className:"min-h-32",...S})}),s.jsx(Rr,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Bank Account Details"}),s.jsx(gr,{control:w.control,name:"bank_account_name",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Account Holder Name *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"As per bank records",...S})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:w.control,name:"bank_account_number",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Account Number *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"Enter account number",...S})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:w.control,name:"bank_ifsc_code",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"IFSC Code *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"e.g., SBIN0001234",...S})}),s.jsx(Rr,{})]})}),s.jsx(gr,{control:w.control,name:"bank_name",render:({field:S})=>s.jsxs(dr,{children:[s.jsx(xr,{children:"Bank Name *"}),s.jsx(fr,{children:s.jsx(Fe,{placeholder:"Enter your bank name",...S})}),s.jsx(Rr,{})]})})]}),s.jsx(gr,{control:w.control,name:"terms",render:({field:S})=>s.jsxs(dr,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(fr,{children:s.jsx(ka,{checked:S.value,onCheckedChange:S.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(xr,{children:"I agree to terms and conditions *"}),s.jsx(Rr,{})]})]})}),s.jsx(ae,{type:"submit",className:"w-full",size:"lg",children:"Apply Now"})]})})]})]})}),s.jsx(cn,{open:p,onOpenChange:y,children:s.jsxs(sn,{className:"sm:max-w-md",children:[s.jsxs(un,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Qn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(dn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(Zn,{className:"text-center text-base pt-4",children:g})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(ae,{onClick:()=>y(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})}function Alt(){const[e,t]=b.useState(""),[r,n]=b.useState(null),[a,i]=b.useState(!1),[o,l]=b.useState(!1),c=async()=>{if(!e.trim()){ct.error("Please enter an email or phone number");return}i(!0),l(!0);try{const{data:d,error:f}=await Y.from("helper_applications").select("*").or(`email.eq.${e},phone.eq.${e}`).single();if(f||!d){n(null);return}n(d)}catch(d){console.error("Error searching application:",d),ct.error("Failed to search application")}finally{i(!1)}},u=d=>{switch(d){case"Pending":return s.jsxs(_t,{className:"bg-yellow-500 text-white",children:[s.jsx(ds,{className:"w-4 h-4 mr-1"}),"Application Pending"]});case"Approved":return s.jsxs(_t,{className:"bg-green-500 text-white",children:[s.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Application Approved!"]});case"Rejected":return s.jsxs(_t,{className:"bg-red-500 text-white",children:[s.jsx(Qn,{className:"w-4 h-4 mr-1"}),"Application Not Approved"]});default:return null}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Check Application Status"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Enter your email or phone number to check your helper application status"})]}),s.jsxs(Ce,{className:"mb-8",children:[s.jsxs(Xe,{children:[s.jsx(Je,{children:"Search Your Application"}),s.jsx(Pr,{children:"Enter the email or phone number you used to apply"})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Fe,{placeholder:"Enter email or phone number",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),s.jsxs(ae,{onClick:c,disabled:a,children:[s.jsx(tl,{className:"w-4 h-4 mr-2"}),a?"Searching...":"Check Status"]})]})})]}),o&&!a&&s.jsx(s.Fragment,{children:r?s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Je,{children:"Application Details"}),u(r.application_status)]})}),s.jsxs(Ee,{className:"space-y-6",children:[r.application_status==="Pending"&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg mb-2 text-yellow-900 dark:text-yellow-100",children:"Your application is under review. We'll notify you within 2-3 business days."}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Application ID:"})," ",r.id.slice(0,8).toUpperCase()]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Applied on:"})," ",_r(new Date(r.created_at),"PPP")]})]})]}),r.application_status==="Approved"&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Congratulations! Your application has been approved."}),s.jsx("div",{className:"mt-4 space-y-2 text-sm text-green-800 dark:text-green-200",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"Approved on:"})," ",r.approved_at?_r(new Date(r.approved_at),"PPP"):"N/A"]})}),s.jsx(Tt,{to:"/auth",children:s.jsx(ae,{className:"mt-4 w-full",children:"Login to Dashboard"})})]}),r.application_status==="Rejected"&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-4",children:"Your application was not approved at this time."}),r.rejection_reason&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-1 text-red-900 dark:text-red-100",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r.rejection_reason})]}),s.jsxs("div",{className:"space-y-2 text-sm text-red-800 dark:text-red-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Rejected on:"})," ",_r(new Date(r.created_at),"PPP")]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Can reapply on:"})," ",_r(SZe(new Date(r.created_at),30),"PPP")]})]}),s.jsx("p",{className:"mt-4 text-sm text-red-700 dark:text-red-300",children:"You can reapply after 30 days from rejection date"})]})]})]}):s.jsx(Ce,{children:s.jsxs(Ee,{className:"py-12 text-center",children:[s.jsx(Qn,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Application Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find an application with this email or phone number"}),s.jsx(Tt,{to:"/become-helper",children:s.jsx(ae,{children:"Apply Now"})})]})})})]})})}function Plt(){const e=vr(),{toast:t}=En(),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState({directReferrals:{total:0,trial:0,paid:0,conversionRate:0},helperNetwork:{total:0,pending:0,approved:0,suspended:0},directCommission:{total:0,pending:0,paid:0},networkCommission:{total:0,pending:0,paid:0}});b.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:y}}=await Y.auth.getUser();if(!y){e("/auth");return}const{data:g,error:v}=await Y.from("helpers").select("*").eq("email",y.email).single();if(v||!g){const{data:_}=await Y.from("helper_applications").select("*").eq("email",y.email).single();if(_){if(_.application_status==="Pending"){e("/application-status");return}else if(_.application_status==="Rejected"){t({title:"Application Rejected",description:_.rejection_reason||"Your application was not approved",variant:"destructive"}),e("/application-status");return}}else{e("/become-helper");return}}if(g.status==="Suspended"){t({title:"Account Suspended",description:"Your helper account has been suspended. Please contact support.",variant:"destructive"});return}i(g),await u(g.id),n(!1)}catch(y){console.error("Error checking helper access:",y),e("/auth")}},u=async y=>{try{const{data:g}=await Y.from("store_referrals").select("*").eq("helper_id",y),v=g?.length||0,_=g?.filter(q=>!q.subscription_purchased).length||0,w=g?.filter(q=>q.subscription_purchased).length||0,j=v>0?w/v*100:0,{data:C}=await Y.from("helpers").select("*, helper_applications!inner(*)").eq("recruited_by_helper_id",y),S=C?.length||0,{data:k}=await Y.from("helper_applications").select("*").eq("recruited_by_helper_id",y).eq("application_status","Pending"),E=C?.filter(q=>q.status==="Active").length||0,R=C?.filter(q=>q.status==="Suspended").length||0,{data:P}=await Y.from("network_commissions").select("*").eq("earning_helper_id",y),T=P?.reduce((q,G)=>q+(G.direct_commission_amount||0),0)||0,O=P?.reduce((q,G)=>q+(G.network_commission_amount||0),0)||0,D=P?.filter(q=>q.commission_status.includes("Pending")).reduce((q,G)=>q+(G.direct_commission_amount||0),0)||0,I=P?.filter(q=>q.commission_status==="Paid").reduce((q,G)=>q+(G.direct_commission_amount||0),0)||0,L=P?.filter(q=>q.commission_status.includes("Pending")).reduce((q,G)=>q+(G.network_commission_amount||0),0)||0,W=P?.filter(q=>q.commission_status==="Paid").reduce((q,G)=>q+(G.network_commission_amount||0),0)||0;l({directReferrals:{total:v,trial:_,paid:w,conversionRate:Math.round(j)},helperNetwork:{total:S,pending:k?.length||0,approved:E,suspended:R},directCommission:{total:T,pending:D,paid:I},networkCommission:{total:O,pending:L,paid:W}})}catch(g){console.error("Error loading stats:",g)}},d=(y,g)=>{navigator.clipboard.writeText(y),ct.success(`${g} link copied to clipboard!`)},f=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});if(!a)return null;const m=`${window.location.origin}/auth?ref=${a.referral_code}`,p=`${window.location.origin}/become-helper?ref=${a.referral_code}`;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qf,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Helper Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-5 w-5"}),s.jsx("span",{children:a.full_name})]})}),s.jsxs(Ec,{align:"end",className:"w-56",children:[s.jsxs(_n,{onClick:()=>e("/helper/profile"),children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(op,{}),s.jsxs(_n,{onClick:f,className:"text-destructive",children:[s.jsx(np,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold",children:["Welcome back, ",a.full_name,"!"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs(_t,{variant:"outline",className:"font-mono",children:["ID: ",a.referral_code]}),s.jsx(_t,{className:a.status==="Active"?"bg-green-500":"bg-yellow-500",children:a.status})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Direct Referrals"}),s.jsx(ki,{className:"h-5 w-5 text-blue-500"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:o.directReferrals.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.directReferrals.trial," on trial"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.directReferrals.paid," paid customers"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"h-3 w-3"}),s.jsxs("span",{children:["Conversion: ",o.directReferrals.conversionRate,"%"]})]})]})]})]}),s.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Helper Network"}),s.jsx(km,{className:"h-5 w-5 text-purple-500"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:o.helperNetwork.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.helperNetwork.pending," pending approval"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.helperNetwork.approved," approved & active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-3 w-3 text-red-500"}),s.jsxs("span",{children:[o.helperNetwork.suspended," suspended"]})]})]})]})]}),s.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Direct Commission"}),s.jsx(ri,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500 mb-2",children:["",o.directCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.directCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.directCommission.paid.toLocaleString()," paid"]})]})]})]})]}),s.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Network Commission"}),s.jsx(s9,{className:"h-5 w-5 text-orange-500"})]}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:["",o.networkCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.networkCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.networkCommission.paid.toLocaleString()," paid"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-referrals"),children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Store Referrals"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.directReferrals.total," store owners you've referred"]})]}),s.jsx(ua,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-helper-network"),children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Helper Network"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.helperNetwork.total," helpers you've recruited"]})]}),s.jsx(ua,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/commission-history"),children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Commission History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View earnings & payment details"})]}),s.jsx(ua,{className:"h-6 w-6 text-primary"})]})})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(s9,{className:"h-5 w-5"}),"Your Referral Links"]})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Store Owner Referral Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to refer store owners"})]}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(o9,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:m}),s.jsxs(ae,{onClick:()=>d(m,"Store referral"),className:"gap-2",children:[s.jsx(Tl,{className:"h-4 w-4"}),"Copy"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Helper Recruitment Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to recruit helpers"})]}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(o9,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:p}),s.jsxs(ae,{onClick:()=>d(p,"Helper recruitment"),className:"gap-2",children:[s.jsx(Tl,{className:"h-4 w-4"}),"Copy"]})]})]})]})]})]})]})}function Olt(){const e=vr(),{toast:t}=En(),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState(""),[m,p]=b.useState("all"),[y,g]=b.useState(""),[v,_]=b.useState(""),[w,j]=b.useState({totalReferrals:0,onTrial:0,convertedToPaid:0,conversionRate:0,totalCommission:0,pendingPayment:0,alreadyPaid:0});b.useEffect(()=>{C()},[]),b.useEffect(()=>{k()},[o,d,m,y,v]);const C=async()=>{try{const{data:{user:T}}=await Y.auth.getUser();if(!T){e("/auth");return}const{data:O,error:D}=await Y.from("helpers").select("*").eq("email",T.email).single();if(D||!O){e("/helper/dashboard");return}i(O),await S(O.id),n(!1)}catch(T){console.error("Error checking helper access:",T),e("/auth")}},S=async T=>{try{const{data:O,error:D}=await Y.from("store_referrals").select("*").eq("helper_id",T).order("signup_date",{ascending:!1});if(D)throw D;const I=O?.length||0,L=O?.filter(V=>V.trial_status==="Active"&&!V.subscription_purchased).length||0,W=O?.filter(V=>V.subscription_purchased).length||0,q=I>0?W/I*100:0,{data:G}=await Y.from("network_commissions").select("*").eq("earning_helper_id",T).in("store_referral_id",O?.map(V=>V.id)||[]),K=G?.reduce((V,Z)=>V+(Z.direct_commission_amount||0),0)||0,U=G?.filter(V=>V.commission_status.includes("Pending")).reduce((V,Z)=>V+(Z.direct_commission_amount||0),0)||0,F=G?.filter(V=>V.commission_status==="Paid").reduce((V,Z)=>V+(Z.direct_commission_amount||0),0)||0;j({totalReferrals:I,onTrial:L,convertedToPaid:W,conversionRate:Math.round(q),totalCommission:K,pendingPayment:U,alreadyPaid:F});const B=O?.map(V=>{const Z=G?.find(X=>X.store_referral_id===V.id);return{...V,commissionEarned:Z?.direct_commission_amount||0,commissionStatus:Z?.commission_status||"Not Earned",paymentDate:Z?.payment_date||null}})||[];l(B),u(B)}catch(O){console.error("Error loading referrals:",O),ct.error("Failed to load referrals")}},k=()=>{let T=[...o];d&&(T=T.filter(O=>O.store_owner_name?.toLowerCase().includes(d.toLowerCase())||O.store_owner_email?.toLowerCase().includes(d.toLowerCase()))),m==="paid"?T=T.filter(O=>O.subscription_purchased):m==="trial"&&(T=T.filter(O=>!O.subscription_purchased)),y&&(T=T.filter(O=>new Date(O.signup_date)>=new Date(y))),v&&(T=T.filter(O=>new Date(O.signup_date)<=new Date(v))),u(T)},E=T=>{if(T.subscription_purchased)return{label:"Purchased",color:"bg-green-500",icon:an};if(T.trial_status==="Active"){const O=T.trial_end_date?n2(new Date(T.trial_end_date),new Date):0;return O>0?{label:`Active Trial (${O}d left)`,color:"bg-yellow-500",icon:ds}:{label:"Trial Expired",color:"bg-red-500",icon:Qn}}return{label:"Trial Expired",color:"bg-red-500",icon:Qn}},R=T=>T==="Paid"?s.jsx(_t,{className:"bg-blue-500",children:"Paid"}):T.includes("Pending")?s.jsx(_t,{className:"bg-yellow-500",children:"Pending"}):T.includes("Earned")?s.jsx(_t,{className:"bg-green-500",children:"Earned"}):s.jsx(_t,{variant:"outline",children:"Not Earned"}),P=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading referrals..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Tt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qf,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Referrals"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Ec,{align:"end",className:"w-56",children:[s.jsxs(_n,{children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(op,{}),s.jsxs(_n,{onClick:P,className:"text-destructive",children:[s.jsx(np,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Total Referrals"})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-3xl font-bold",children:w.totalReferrals})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"On Trial / Paid"})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[s.jsx("span",{className:"text-yellow-500",children:w.onTrial})," / ",s.jsx("span",{className:"text-green-500",children:w.convertedToPaid})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Conversion: ",w.conversionRate,"%"]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",w.totalCommission.toLocaleString()]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",w.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",w.alreadyPaid.toLocaleString()]})]})]})})]})]}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Fe,{placeholder:"Search by name or email...",value:d,onChange:T=>f(T.target.value),className:"pl-10"})]}),s.jsxs(ar,{value:m,onValueChange:p,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Filter by status"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"Show All"}),s.jsx(Ue,{value:"paid",children:"Show Only Paid"}),s.jsx(Ue,{value:"trial",children:"Show Only Trials"})]})]}),s.jsx(Fe,{type:"date",placeholder:"From date",value:y,onChange:T=>g(T.target.value)}),s.jsx(Fe,{type:"date",placeholder:"To date",value:v,onChange:T=>_(T.target.value)})]})})}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{children:["Store Referrals (",c.length,")"]})}),s.jsx(Ee,{children:c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ki,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No referrals found"})]}):s.jsx("div",{className:"space-y-4",children:c.map(T=>{const O=E(T),D=O.icon;return s.jsx(Ce,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:T.store_owner_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:T.store_owner_email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:T.store_owner_phone}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx(Vl,{className:"inline w-3 h-3 mr-1"}),"Signed up: ",_r(new Date(T.signup_date),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Status"}),s.jsxs(_t,{className:`${O.color} flex items-center gap-1 w-fit`,children:[s.jsx(D,{className:"w-3 h-3"}),O.label]}),T.subscription_purchased&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsxs("div",{className:"text-muted-foreground",children:["Plan: ",T.subscription_plan]}),s.jsxs("div",{className:"text-muted-foreground",children:["Amount: ",T.subscription_amount?.toLocaleString()]}),T.purchase_date&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Purchased: ",_r(new Date(T.purchase_date),"PP")]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500",children:["",T.commissionEarned.toLocaleString()]}),s.jsx("div",{className:"mt-2",children:R(T.commissionStatus)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Payment"}),T.paymentDate?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:"Paid on:"}),s.jsx("div",{className:"font-medium",children:_r(new Date(T.paymentDate),"PPP")})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not paid yet"})]})]})})},T.id)})})})]})]})]})}function Dlt(){const e=vr(),{toast:t}=En(),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState({totalRecruited:0,pendingApproval:0,active:0,suspended:0,totalNetworkCommission:0,pendingCommission:0,paidCommission:0,bestPerformer:{name:"",earned:0}});b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:v}}=await Y.auth.getUser();if(!v){e("/auth");return}const{data:_,error:w}=await Y.from("helpers").select("*").eq("email",v.email).single();if(w||!_){e("/helper/dashboard");return}i(_),await f(_.id),n(!1)}catch(v){console.error("Error checking helper access:",v),e("/auth")}},f=async v=>{try{const{data:_,error:w}=await Y.from("helpers").select(`
          *,
          helper_applications!inner(application_status)
        `).eq("recruited_by_helper_id",v).order("created_at",{ascending:!1});if(w)throw w;const j=await Promise.all((_||[]).map(async D=>{const{data:I}=await Y.from("store_referrals").select("id").eq("helper_id",D.id),{data:L}=await Y.from("network_commissions").select("direct_commission_amount, commission_status").eq("earning_helper_id",D.id),W=L?.reduce((U,F)=>U+(F.direct_commission_amount||0),0)||0,{data:q}=await Y.from("network_commissions").select("network_commission_amount, commission_status").eq("earning_helper_id",D.id).eq("recruiting_helper_id",v),G=q?.reduce((U,F)=>U+(F.network_commission_amount||0),0)||0;let K="Not Earned";if(q&&q.length>0){const U=q.some(B=>B.commission_status.includes("Pending"));q.every(B=>B.commission_status==="Paid")?K="Paid":U?K="Pending":K="Earned"}return{...D,store_referrals_count:I?.length||0,total_commission_earned:W,network_commission_to_recruiter:G,commission_status:K,application_status:D.helper_applications?.application_status||"Pending"}}));l(j);const C=j.length,S=j.filter(D=>D.application_status==="Pending").length,k=j.filter(D=>D.status==="Active").length,E=j.filter(D=>D.status==="Suspended").length,R=j.reduce((D,I)=>D+I.network_commission_to_recruiter,0),P=j.filter(D=>D.commission_status==="Pending").reduce((D,I)=>D+I.network_commission_to_recruiter,0),T=j.filter(D=>D.commission_status==="Paid").reduce((D,I)=>D+I.network_commission_to_recruiter,0),O=j.reduce((D,I)=>I.network_commission_to_recruiter>D.earned?{name:I.full_name,earned:I.network_commission_to_recruiter}:D,{name:"",earned:0});u({totalRecruited:C,pendingApproval:S,active:k,suspended:E,totalNetworkCommission:R,pendingCommission:P,paidCommission:T,bestPerformer:O})}catch(_){console.error("Error loading recruited helpers:",_),ct.error("Failed to load network data")}},m=(v,_)=>_==="Pending"?s.jsxs(_t,{className:"bg-yellow-500",children:[s.jsx(ds,{className:"w-3 h-3 mr-1"}),"Pending Approval"]}):v==="Active"?s.jsxs(_t,{className:"bg-green-500",children:[s.jsx(an,{className:"w-3 h-3 mr-1"}),"Active"]}):v==="Suspended"?s.jsxs(_t,{className:"bg-red-500",children:[s.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Suspended"]}):s.jsx(_t,{variant:"outline",children:"Unknown"}),p=v=>v==="Paid"?s.jsx(_t,{className:"bg-blue-500",children:"Paid"}):v==="Pending"?s.jsx(_t,{className:"bg-yellow-500",children:"Pending"}):v==="Earned"?s.jsx(_t,{className:"bg-green-500",children:"Earned"}):s.jsx(_t,{variant:"outline",children:"Not Earned"}),y=(v,_)=>{navigator.clipboard.writeText(v),ct.success(`${_} copied to clipboard!`)},g=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading network..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Tt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(KD,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Helper Network"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Ec,{align:"end",className:"w-56",children:[s.jsxs(_n,{children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(op,{}),s.jsxs(_n,{onClick:g,className:"text-destructive",children:[s.jsx(np,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Network Size"})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-3xl font-bold",children:c.totalRecruited}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Pending: ",c.pendingApproval," | Active: ",c.active]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Total Network Commission"})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",c.totalNetworkCommission.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["From ",c.active," active helpers"]})]})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Commission Status"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",c.pendingCommission.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",c.paidCommission.toLocaleString()]})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{className:"pb-2",children:s.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Best Performer"})}),s.jsx(Ee,{children:c.bestPerformer.name?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold text-lg truncate",children:c.bestPerformer.name}),s.jsxs("p",{className:"text-sm text-green-500",children:["Earned you ",c.bestPerformer.earned.toLocaleString()]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet"})})]})]}),o.length===0?s.jsx(Ce,{children:s.jsx(Ee,{className:"py-16",children:s.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[s.jsx(KD,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Build Your Helper Network"}),s.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"You haven't recruited any helpers yet. Start building your network to earn 5% network commission on their earnings!"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(ri,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Passive Income"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 5% of everything your recruited helpers earn"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(Fl,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Unlimited Potential"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No limit on how many helpers you can recruit"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(HD,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Build Your Team"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a strong network and grow together"})]})]}),s.jsxs("div",{className:"bg-primary/5 border-2 border-primary/20 rounded-lg p-6",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center justify-center gap-2",children:[s.jsx(FZ,{className:"h-5 w-5"}),"Your Helper Recruitment Link"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-4 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(ae,{onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(Tl,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this link with people interested in becoming helpers"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(Ce,{className:"bg-primary/5 border-primary/20",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(Ef,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",children:["You (",a?.full_name," - ",a?.helper_id,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Network Builder | ",o.length," Helper",o.length!==1?"s":""," Recruited"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-3 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(ae,{size:"sm",onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(Tl,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Your Recruited Helpers (",o.length,")"]}),o.map((v,_)=>s.jsx(Ce,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(ki,{className:"h-4 w-4 text-primary"})}),_<o.length-1&&s.jsx("div",{className:"w-0.5 h-full bg-primary/20 mt-2"})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:v.full_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.id," | ",v.referral_code]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx(Vl,{className:"inline w-3 h-3 mr-1"}),"Joined: ",_r(new Date(v.created_at),"PPP")]}),s.jsx("div",{className:"mt-2",children:m(v.status,v.application_status)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Their Performance"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qf,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Store Referrals:"}),s.jsx("span",{className:"font-semibold",children:v.store_referrals_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Their Earnings:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",v.total_commission_earned.toLocaleString()]})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Your Network Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500 mb-2",children:["",v.network_commission_to_recruiter.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["5% of their ",v.total_commission_earned.toLocaleString()]}),p(v.commission_status)]}),s.jsx("div",{className:"flex items-center",children:s.jsxs(ae,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})})]})})},v.id))]})]})]})]})}function Rlt(){const e=vr(),{toast:t}=En(),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState([]),[m,p]=b.useState([]),[y,g]=b.useState(""),[v,_]=b.useState(""),[w,j]=b.useState("all"),[C,S]=b.useState("all"),[k,E]=b.useState({direct:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},network:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},grand:{total:0,pending:0,paid:0,nextPaymentDate:""}});b.useEffect(()=>{R()},[]),b.useEffect(()=>{T()},[o,c,y,v,w,C]);const R=async()=>{try{const{data:{user:L}}=await Y.auth.getUser();if(!L){e("/auth");return}const{data:W,error:q}=await Y.from("helpers").select("*").eq("email",L.email).single();if(q||!W){e("/helper/dashboard");return}i(W),await P(W.id),n(!1)}catch(L){console.error("Error checking helper access:",L),e("/auth")}},P=async L=>{try{const{data:W,error:q}=await Y.from("network_commissions").select(`
          *,
          store_referral:store_referrals(
            store_owner_name,
            store_owner_email,
            subscription_plan,
            subscription_amount
          )
        `).eq("earning_helper_id",L).order("created_at",{ascending:!1});if(q)throw q;const G=[],K=[];for(const J of W||[])if(J.direct_commission_amount>0&&G.push({id:J.id,date_earned:J.created_at,store_owner_name:J.store_referral?.store_owner_name||"N/A",subscription_plan:J.store_referral?.subscription_plan||"N/A",plan_amount:J.store_referral?.subscription_amount||0,commission_amount:J.direct_commission_amount,commission_status:J.commission_status,payment_date:J.payment_date,payment_reference:J.payment_reference}),J.network_commission_amount>0&&J.recruiting_helper_id){const{data:z}=await Y.from("helpers").select("full_name").eq("id",J.earning_helper_id).single();K.push({id:J.id,date_earned:J.created_at,helper_name:z?.full_name||"N/A",customer_name:J.store_referral?.store_owner_name||"N/A",helper_commission:J.direct_commission_amount,network_commission:J.network_commission_amount,commission_status:J.commission_status,payment_date:J.payment_date,payment_reference:J.payment_reference})}l(G),u(K);const U=G.reduce((J,z)=>J+z.commission_amount,0),F=G.filter(J=>J.commission_status.includes("Pending")).reduce((J,z)=>J+z.commission_amount,0),B=G.filter(J=>J.commission_status==="Paid").reduce((J,z)=>J+z.commission_amount,0),V=G.filter(J=>J.commission_status.includes("Pending")).length,Z=G.filter(J=>J.commission_status==="Paid").length,X=K.reduce((J,z)=>J+z.network_commission,0),Q=K.filter(J=>J.commission_status.includes("Pending")).reduce((J,z)=>J+z.network_commission,0),ce=K.filter(J=>J.commission_status==="Paid").reduce((J,z)=>J+z.network_commission,0),de=K.filter(J=>J.commission_status.includes("Pending")).length,pe=K.filter(J=>J.commission_status==="Paid").length,re=[...G,...K].filter(J=>J.commission_status.includes("Pending")&&J.payment_date).map(J=>new Date(J.payment_date).getTime()).sort((J,z)=>J-z),ie=re.length>0?_r(new Date(re[0]),"PPP"):"TBD";E({direct:{total:U,pending:F,paid:B,pendingCount:V,paidCount:Z},network:{total:X,pending:Q,paid:ce,pendingCount:de,paidCount:pe},grand:{total:U+X,pending:F+Q,paid:B+ce,nextPaymentDate:ie}})}catch(W){console.error("Error loading commissions:",W),ct.error("Failed to load commission history")}},T=()=>{let L=[...o],W=[...c];y&&(L=L.filter(q=>new Date(q.date_earned)>=new Date(y)),W=W.filter(q=>new Date(q.date_earned)>=new Date(y))),v&&(L=L.filter(q=>new Date(q.date_earned)<=new Date(v)),W=W.filter(q=>new Date(q.date_earned)<=new Date(v))),w==="pending"?(L=L.filter(q=>q.commission_status.includes("Pending")),W=W.filter(q=>q.commission_status.includes("Pending"))):w==="paid"&&(L=L.filter(q=>q.commission_status==="Paid"),W=W.filter(q=>q.commission_status==="Paid")),C==="direct"?W=[]:C==="network"&&(L=[]),f(L),p(W)},O=L=>L==="Paid"?s.jsxs(_t,{className:"bg-green-500",children:[s.jsx(an,{className:"w-3 h-3 mr-1"}),"Paid"]}):L.includes("Pending")?s.jsxs(_t,{className:"bg-yellow-500",children:[s.jsx(ds,{className:"w-3 h-3 mr-1"}),"Pending"]}):s.jsx(_t,{variant:"outline",children:L}),D=()=>{try{const L=d.map(F=>({"Date Earned":_r(new Date(F.date_earned),"PPP"),"Store Owner":F.store_owner_name,"Subscription Plan":F.subscription_plan,"Plan Amount":`${F.plan_amount.toLocaleString()}`,"Your Commission (10%)":`${F.commission_amount.toLocaleString()}`,Status:F.commission_status,"Payment Date":F.payment_date?_r(new Date(F.payment_date),"PPP"):"N/A","Payment Reference":F.payment_reference||"N/A"})),W=m.map(F=>({"Date Earned":_r(new Date(F.date_earned),"PPP"),"Helper Name":F.helper_name,"Their Customer":F.customer_name,"Their Commission":`${F.helper_commission.toLocaleString()}`,"Your Network Commission (5%)":`${F.network_commission.toLocaleString()}`,Status:F.commission_status,"Payment Date":F.payment_date?_r(new Date(F.payment_date),"PPP"):"N/A","Payment Reference":F.payment_reference||"N/A"})),q=ca.book_new();if(L.length>0){const F=ca.json_to_sheet(L);ca.book_append_sheet(q,F,"Direct Commissions")}if(W.length>0){const F=ca.json_to_sheet(W);ca.book_append_sheet(q,F,"Network Commissions")}const G=[{Category:"Direct Commissions",Total:`${k.direct.total.toLocaleString()}`,Pending:`${k.direct.pending.toLocaleString()}`,Paid:`${k.direct.paid.toLocaleString()}`},{Category:"Network Commissions",Total:`${k.network.total.toLocaleString()}`,Pending:`${k.network.pending.toLocaleString()}`,Paid:`${k.network.paid.toLocaleString()}`},{Category:"GRAND TOTAL",Total:`${k.grand.total.toLocaleString()}`,Pending:`${k.grand.pending.toLocaleString()}`,Paid:`${k.grand.paid.toLocaleString()}`}],K=ca.json_to_sheet(G);ca.book_append_sheet(q,K,"Summary");const U=`commission_history_${_r(new Date,"yyyy-MM-dd")}.xlsx`;Km(q,U),ct.success("Commission history exported successfully!")}catch(L){console.error("Error exporting to Excel:",L),ct.error("Failed to export commission history")}},I=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commission history..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Tt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Commission History"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Ec,{align:"end",className:"w-56",children:[s.jsxs(_n,{children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(op,{}),s.jsxs(_n,{onClick:I,className:"text-destructive",children:[s.jsx(np,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(Ce,{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border-green-500/20",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Earned"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",k.grand.total.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct + Network"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-500",children:["",k.grand.pending.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting payment"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Paid"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-500",children:["",k.grand.paid.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Received"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Next Payment"}),s.jsx("p",{className:"text-xl font-bold",children:k.grand.nextPaymentDate}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expected date"})]})]})})}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Fe,{type:"date",placeholder:"From date",value:y,onChange:L=>g(L.target.value)}),s.jsx(Fe,{type:"date",placeholder:"To date",value:v,onChange:L=>_(L.target.value)}),s.jsxs(ar,{value:w,onValueChange:j,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Status"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Status"}),s.jsx(Ue,{value:"pending",children:"Pending Only"}),s.jsx(Ue,{value:"paid",children:"Paid Only"})]})]}),s.jsxs(ar,{value:C,onValueChange:S,children:[s.jsx(rr,{children:s.jsx(ir,{placeholder:"Type"})}),s.jsxs(nr,{children:[s.jsx(Ue,{value:"all",children:"All Types"}),s.jsx(Ue,{value:"direct",children:"Direct Only"}),s.jsx(Ue,{value:"network",children:"Network Only"})]})]}),s.jsxs(ae,{onClick:D,className:"w-full",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]})})}),C!=="network"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Direct Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Store Owners You Referred)"})]}),s.jsx(Ce,{className:"bg-green-500/5 border-green-500/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Direct Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",k.direct.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",k.direct.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",k.direct.pendingCount," customer",k.direct.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-blue-500",children:["",k.direct.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",k.direct.paidCount," customer",k.direct.paidCount!==1?"s":""]})]})]})})}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-0",children:d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No direct commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Date Earned"}),s.jsx(Qe,{children:"Store Owner"}),s.jsx(Qe,{children:"Subscription Plan"}),s.jsx(Qe,{children:"Plan Amount"}),s.jsx(Qe,{children:"Your Commission (10%)"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Payment Date"}),s.jsx(Qe,{children:"Reference"})]})}),s.jsx(Hs,{children:d.map(L=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),_r(new Date(L.date_earned),"PP")]})}),s.jsx(Ke,{className:"font-medium",children:L.store_owner_name}),s.jsx(Ke,{children:L.subscription_plan}),s.jsxs(Ke,{children:["",L.plan_amount.toLocaleString()]}),s.jsxs(Ke,{className:"font-bold text-green-500",children:["",L.commission_amount.toLocaleString()]}),s.jsx(Ke,{children:O(L.commission_status)}),s.jsx(Ke,{children:L.payment_date?_r(new Date(L.payment_date),"PP"):"-"}),s.jsx(Ke,{className:"text-sm text-muted-foreground",children:L.payment_reference||"-"})]},L.id))})]})})})})]}),C!=="direct"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Network Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Helpers You Recruited)"})]}),s.jsx(Ce,{className:"bg-blue-500/5 border-blue-500/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Network Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",k.network.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",k.network.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",k.network.pendingCount," helper",k.network.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",k.network.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",k.network.paidCount," helper",k.network.paidCount!==1?"s":""]})]})]})})}),s.jsx(Ce,{children:s.jsx(Ee,{className:"p-0",children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No network commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Ws,{children:s.jsxs(Er,{children:[s.jsx(Qe,{children:"Date Earned"}),s.jsx(Qe,{children:"Helper Name"}),s.jsx(Qe,{children:"Their Customer"}),s.jsx(Qe,{children:"Their Commission"}),s.jsx(Qe,{children:"Your Network Commission (5%)"}),s.jsx(Qe,{children:"Status"}),s.jsx(Qe,{children:"Payment Date"}),s.jsx(Qe,{children:"Reference"})]})}),s.jsx(Hs,{children:m.map(L=>s.jsxs(Er,{children:[s.jsx(Ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),_r(new Date(L.date_earned),"PP")]})}),s.jsx(Ke,{className:"font-medium",children:L.helper_name}),s.jsx(Ke,{children:L.customer_name}),s.jsxs(Ke,{children:["",L.helper_commission.toLocaleString()]}),s.jsxs(Ke,{className:"font-bold text-blue-500",children:["",L.network_commission.toLocaleString()]}),s.jsx(Ke,{children:O(L.commission_status)}),s.jsx(Ke,{children:L.payment_date?_r(new Date(L.payment_date),"PP"):"-"}),s.jsx(Ke,{className:"text-sm text-muted-foreground",children:L.payment_reference||"-"})]},L.id))})]})})})})]})]})]})}function Ilt(){const e=vr(),{toast:t}=En(),[r,n]=b.useState(!0),[a,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[m,p]=b.useState(null),[y,g]=b.useState({full_name:"",phone:""}),[v,_]=b.useState({account_holder_name:"",account_number:"",ifsc_code:"",bank_name:""}),[w,j]=b.useState(""),[C,S]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,E]=b.useState({memberSince:"",daysActive:0,totalEarnings:0,rank:"Bronze",badges:[]});b.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{user:q}}=await Y.auth.getUser();if(!q){e("/auth");return}const{data:G,error:K}=await Y.from("helpers").select("*").eq("email",q.email).single();if(K||!G){e("/helper/dashboard");return}if(i(G),g({full_name:G.full_name,phone:G.phone}),G.application_id){const{data:U}=await Y.from("helper_applications").select("bank_account_name, bank_account_number, bank_ifsc_code, bank_name").eq("id",G.application_id).single();U&&_({account_holder_name:U.bank_account_name||"",account_number:U.bank_account_number||"",ifsc_code:U.bank_ifsc_code||"",bank_name:U.bank_name||""})}await P(G.id,G.created_at),n(!1)}catch(q){console.error("Error checking helper access:",q),e("/auth")}},P=async(q,G)=>{try{const K=n2(new Date,new Date(G)),{data:U}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",q),F=U?.reduce((Z,X)=>Z+(X.direct_commission_amount||0)+(X.network_commission_amount||0),0)||0;let B="Bronze";const V=[];F>=1e5?(B="Gold",V.push("Gold Member","Top Performer","Network Builder")):F>=5e4?(B="Silver",V.push("Silver Member","Rising Star")):(B="Bronze",K>=30&&V.push("Consistent Helper"),F>0&&V.push("First Earnings")),E({memberSince:_r(new Date(G),"PPP"),daysActive:K,totalEarnings:F,rank:B,badges:V})}catch(K){console.error("Error loading performance:",K)}},T=async()=>{try{const{error:q}=await Y.from("helpers").update({full_name:y.full_name,phone:y.phone,updated_at:new Date().toISOString()}).eq("id",a.id);if(q)throw q;i({...a,full_name:y.full_name,phone:y.phone}),l(!1),ct.success("Profile updated successfully!")}catch(q){console.error("Error updating profile:",q),ct.error("Failed to update profile")}},O=()=>{p(v),f(!0)},D=async()=>{try{const{data:{user:q}}=await Y.auth.getUser();if(!q?.email)throw new Error("User not found");const{error:G}=await Y.auth.signInWithPassword({email:q.email,password:w});if(G){ct.error("Incorrect password");return}const{error:K}=await Y.from("helper_applications").update({bank_account_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}).eq("id",a.application_id);if(K)throw K;i({...a,bank_account_holder_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}),u(!1),f(!1),j(""),p(null),ct.success("Bank details updated successfully!")}catch(q){console.error("Error updating bank details:",q),ct.error("Failed to update bank details")}},I=async()=>{if(C.newPassword!==C.confirmPassword){ct.error("New passwords do not match");return}if(C.newPassword.length<6){ct.error("Password must be at least 6 characters");return}try{const{data:{user:q}}=await Y.auth.getUser();if(!q?.email)throw new Error("User not found");const{error:G}=await Y.auth.signInWithPassword({email:q.email,password:C.currentPassword});if(G){ct.error("Current password is incorrect");return}const{error:K}=await Y.auth.updateUser({password:C.newPassword});if(K)throw K;S({currentPassword:"",newPassword:"",confirmPassword:""}),ct.success("Password changed successfully!")}catch(q){console.error("Error changing password:",q),ct.error("Failed to change password")}},L=q=>{const G={Bronze:"bg-orange-500",Silver:"bg-gray-400",Gold:"bg-yellow-500"};return s.jsxs(_t,{className:`${G[q]} text-white text-lg px-4 py-1`,children:[s.jsx(HD,{className:"w-4 h-4 mr-2"}),q]})},W=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Tt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Na,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Profile & Settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(li,{}),s.jsxs(vu,{children:[s.jsx(yu,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Ec,{align:"end",className:"w-56",children:[s.jsxs(_n,{children:[s.jsx(Na,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(op,{}),s.jsxs(_n,{onClick:W,className:"text-destructive",children:[s.jsx(np,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsx("main",{className:"container mx-auto p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-5 w-5"}),"Profile Information"]}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{l(!1),g({full_name:a.full_name,phone:a.phone})},children:[s.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ae,{size:"sm",onClick:T,children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>l(!0),children:[s.jsx(ou,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Ee,{className:"space-y-4",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Full Name"}),s.jsx(Fe,{value:y.full_name,onChange:q=>g({...y,full_name:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Phone"}),s.jsx(Fe,{value:y.phone,onChange:q=>g({...y,phone:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Email (Cannot be changed)"}),s.jsx(Fe,{value:a.email,disabled:!0})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Full Name"}),s.jsx("p",{className:"font-semibold",children:a.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(_c,{className:"h-4 w-4"}),a.email]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(gc,{className:"h-4 w-4"}),a.phone]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Helper ID"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Qf,{className:"h-4 w-4"}),a.helper_id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Referral Code"}),s.jsx("p",{className:"font-semibold text-primary",children:a.referral_code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Joined Date"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Vl,{className:"h-4 w-4"}),_r(new Date(a.created_at),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(_t,{className:a.status==="Active"?"bg-green-500":"bg-red-500",children:a.status})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Un,{className:"h-5 w-5"}),"Bank Details"]}),c?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{u(!1),_({account_holder_name:a.bank_account_holder_name||"",account_number:a.bank_account_number||"",ifsc_code:a.bank_ifsc_code||"",bank_name:a.bank_name||""})},children:[s.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ae,{size:"sm",onClick:O,children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>u(!0),children:[s.jsx(ou,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Ee,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Account Holder Name"}),s.jsx(Fe,{value:v.account_holder_name,onChange:q=>_({...v,account_holder_name:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Account Number"}),s.jsx(Fe,{value:v.account_number,onChange:q=>_({...v,account_number:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"IFSC Code"}),s.jsx(Fe,{value:v.ifsc_code,onChange:q=>_({...v,ifsc_code:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Bank Name"}),s.jsx(Fe,{value:v.bank_name,onChange:q=>_({...v,bank_name:q.target.value})})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.bank_account_holder_name?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Holder Name"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_holder_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Number"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_number?`****${a.bank_account_number.slice(-4)}`:"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"IFSC Code"}),s.jsx("p",{className:"font-semibold",children:a.bank_ifsc_code||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Bank Name"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(z0e,{className:"h-4 w-4"}),a.bank_name||"Not provided"]})]})]}):s.jsxs("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:[s.jsx(Un,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No bank details added yet"})]})})})]}),s.jsxs(Ce,{children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Ng,{className:"h-5 w-5"}),"Change Password"]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Current Password"}),s.jsx(Fe,{type:"password",value:C.currentPassword,onChange:q=>S({...C,currentPassword:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"New Password"}),s.jsx(Fe,{type:"password",value:C.newPassword,onChange:q=>S({...C,newPassword:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Confirm New Password"}),s.jsx(Fe,{type:"password",value:C.confirmPassword,onChange:q=>S({...C,confirmPassword:q.target.value})})]}),s.jsx(ae,{onClick:I,children:"Update Password"})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(Ce,{className:"bg-gradient-to-br from-primary/10 to-purple-500/10",children:[s.jsx(Xe,{children:s.jsxs(Je,{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"h-5 w-5"}),"Your Performance"]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx("div",{className:"text-center py-4",children:L(k.rank)}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Member Since"}),s.jsx("span",{className:"font-semibold",children:k.memberSince})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Days Active"}),s.jsxs("span",{className:"font-semibold text-blue-500",children:[k.daysActive," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),s.jsxs("span",{className:"font-bold text-green-500 text-lg",children:["",k.totalEarnings.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),s.jsx("span",{className:"font-semibold",children:k.rank})]})]}),k.badges.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(HD,{className:"h-4 w-4"}),"Achievement Badges"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.badges.map((q,G)=>s.jsxs(_t,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(an,{className:"h-3 w-3"}),q]},G))})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Rank Progression"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bronze"}),s.jsx("span",{className:"text-muted-foreground",children:"0+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Silver"}),s.jsx("span",{className:"text-muted-foreground",children:"50,000+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Gold"}),s.jsx("span",{className:"text-muted-foreground",children:"100,000+"})]})]})]})]})]})})]})}),s.jsx(cn,{open:d,onOpenChange:f,children:s.jsxs(sn,{children:[s.jsxs(un,{children:[s.jsx(dn,{children:"Verify Password"}),s.jsx(Zn,{children:"Please enter your password to confirm bank details update"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Password"}),s.jsx(Fe,{type:"password",value:w,onChange:q=>j(q.target.value),placeholder:"Enter your password"})]})}),s.jsxs(Sa,{children:[s.jsx(ae,{variant:"outline",onClick:()=>{f(!1),j(""),p(null)},children:"Cancel"}),s.jsx(ae,{onClick:D,children:"Verify & Update"})]})]})})]})}function Mlt(){const e=vr(),[t,r]=b.useState(!1),[n,a]=b.useState(!0);b.useEffect(()=>{const o=async c=>{try{console.log("[HelperLogin] Checking helper status for user:",c);const{data:u,error:d}=await Y.from("helpers").select("*").eq("id",c).maybeSingle();if(d){console.error("[HelperLogin] Error checking helper status:",d);return}if(u){console.log("[HelperLogin] Approved helper found, redirecting to dashboard"),ct.success("Welcome back!"),e("/helper/dashboard");return}const{data:f,error:m}=await Y.from("helper_applications").select("*").eq("user_id",c).maybeSingle();if(m){console.error("[HelperLogin] Error checking application:",m);return}if(f){console.log("[HelperLogin] Application found with status:",f.application_status),f.application_status==="Pending"?ct.info("Your application is under review"):f.application_status==="Rejected"?ct.error("Your helper application was rejected"):ct.info("Checking your application status..."),e("/application-status");return}console.log("[HelperLogin] No helper or application found"),ct.error("You are not registered as a helper. Please apply to become a helper first."),await Y.auth.signOut()}catch(u){console.error("[HelperLogin] Error in session check:",u)}};Y.auth.getSession().then(async({data:{session:c}})=>{c&&(console.log("[HelperLogin] Existing session found"),await o(c.user.id)),a(!1)});const{data:{subscription:l}}=Y.auth.onAuthStateChange(async(c,u)=>{console.log("[HelperLogin] Auth state changed:",c),c==="SIGNED_IN"&&u&&(console.log("[HelperLogin] User signed in, checking helper status"),a(!0),setTimeout(async()=>{await o(u.user.id),a(!1)},100))});return()=>l.unsubscribe()},[e]);const i=async()=>{try{r(!0),console.log("[HelperLogin] Starting Google sign in for helper...");const{error:o}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/helper/login`}});o?(console.error("[HelperLogin] Google sign in error:",o),ct.error(o.message||"Failed to sign in with Google")):console.log("[HelperLogin] Google OAuth redirect initiated")}catch(o){console.error("[HelperLogin] Unexpected error:",o),ct.error(o.message||"An unexpected error occurred")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Tt,{to:"/",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),s.jsxs(Ce,{className:"shadow-xl",children:[s.jsxs(Xe,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:s.jsx(ki,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx(Je,{className:"text-2xl font-bold",children:"Helper Login"}),s.jsx(Pr,{children:"Sign in to access your helper dashboard"})]}),s.jsx(Ee,{children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[s.jsx(Ut,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking your session..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{onClick:i,disabled:t,variant:"outline",className:"w-full",size:"lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Don't have a helper account?"}),s.jsx(Tt,{to:"/become-helper",children:s.jsx(ae,{variant:"link",className:"text-blue-600 dark:text-blue-400",children:"Apply to become a helper"})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Are you a store owner?"," ",s.jsx(Tt,{to:"/auth",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Login here"})]})})]})})]}),s.jsx(Ce,{className:"mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:s.jsx(Ee,{className:"pt-4",children:s.jsxs("p",{className:"text-xs text-blue-900 dark:text-blue-200 text-center",children:[s.jsx("strong",{children:"Note:"})," This login is exclusively for helpers. Store owners should use the main login page."]})})})]})})}function tZ(){const[e,t]=b.useState(""),[r,n]=b.useState(!0);return b.useEffect(()=>{const a=async(l,c)=>{console.log("[SITEMAP] Generating store-specific sitemap for:",l);const{data:u,error:d}=await Y.from("stores").select("id, slug, subdomain, custom_domain, updated_at").or(`slug.eq.${l},subdomain.eq.${l},custom_domain.eq.${l}`).single();if(d||!u){console.error("[SITEMAP] Store not found:",d),t(`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
</urlset>`);return}let f="";u.custom_domain?f=`https://${u.custom_domain}`:u.subdomain?f=`https://${u.subdomain}.digitaldukandar.in`:f=`https://digitaldukandar.in/${u.slug}`;const{data:m,error:p}=await Y.from("products").select("id, name, slug, updated_at").eq("store_id",u.id).eq("status","published").order("created_at",{ascending:!1});p&&console.error("[SITEMAP] Error fetching products:",p),console.log("[SITEMAP] Store products found:",m?.length||0);let y=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Store Home -->
  <url>
    <loc>${f}</loc>
    <lastmod>${u.updated_at?new Date(u.updated_at).toISOString().split("T")[0]:c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Store Pages -->
  <url>
    <loc>${f}/products</loc>
    <lastmod>${c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>${f}/categories</loc>
    <lastmod>${c}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>${f}/policies</loc>
    <lastmod>${c}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>

  <!-- Individual Products (${m?.length||0} products) -->`;if(m&&m.length>0)for(const g of m){const v=g.slug||g.id,_=`${f}/products/${v}`,w=g.updated_at?new Date(g.updated_at).toISOString().split("T")[0]:c;y+=`
  <url>
    <loc>${_}</loc>
    <lastmod>${w}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.7</priority>
  </url>`}y+=`
</urlset>`,t(y)},i=async l=>{console.log("[SITEMAP] Generating platform-wide sitemap");const{data:c,error:u}=await Y.from("stores").select("slug, subdomain, custom_domain, updated_at").order("created_at",{ascending:!1});console.log("[SITEMAP] Stores query result:",{stores:c,error:u}),console.log("[SITEMAP] Number of stores:",c?.length||0);let d=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Platform Pages -->
  <url>
    <loc>https://digitaldukandar.in/</loc>
    <lastmod>${l}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/pricing</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/auth</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.6</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/become-helper</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.7</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/privacy-policy</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/terms-of-service</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>

  <!-- Store Pages (${c?.length||0} stores found) -->`;if(c&&c.length>0){console.log("[SITEMAP] Adding",c.length,"stores to sitemap");for(const f of c){let m="";f.custom_domain?(m=`https://${f.custom_domain}`,console.log(`[SITEMAP] Store ${f.slug}: using custom_domain -> ${m}`)):f.subdomain?(m=`https://${f.subdomain}.digitaldukandar.in`,console.log(`[SITEMAP] Store ${f.slug}: using subdomain -> ${m}`)):(m=`https://digitaldukandar.in/${f.slug}`,console.log(`[SITEMAP] Store ${f.slug}: using slug fallback -> ${m}`));const p=f.updated_at?new Date(f.updated_at).toISOString().split("T")[0]:l;d+=`
  <url>
    <loc>${m}</loc>
    <lastmod>${p}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>`}}d+=`
</urlset>`,t(d)};(async()=>{try{n(!0);const l=I2(),c=aee(),u=new Date().toISOString().split("T")[0];console.log("[SITEMAP] Domain Info:",l),console.log("[SITEMAP] Store Identifier:",c),l.isStoreSpecific&&c?await a(c,u):await i(u)}catch(l){console.error("[SITEMAP] Error generating sitemap:",l)}finally{n(!1)}})()},[]),b.useEffect(()=>{e&&document.querySelector('meta[http-equiv="Content-Type"]')?.setAttribute("content","application/xml")},[e]),r?s.jsx("div",{style:{padding:"20px"},children:"Generating sitemap..."}):s.jsx("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:e})}const Flt=new ybe,Llt=()=>{const e=I2(),t=aee();return console.log("Domain Info:",e),console.log("Store Identifier:",t),s.jsx(Nbe,{client:Flt,children:s.jsx(nee,{children:s.jsx(Lxe,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(Jh,{children:s.jsxs(Xwe,{children:[s.jsx(Ixe,{}),s.jsx(gve,{}),s.jsxs($we,{children:[s.jsx(j1e,{}),s.jsx(Pwe,{children:e.isStoreSpecific&&t?s.jsxs(s.Fragment,{children:[s.jsx(wt,{path:"/admin/dashboard",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(w7,{})})})}),s.jsx(wt,{path:"/admin/products",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(j7,{})})})}),s.jsx(wt,{path:"/admin/products/add",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(X7,{})})})}),s.jsx(wt,{path:"/admin/products/edit/:id",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(J7,{})})})}),s.jsx(wt,{path:"/admin/categories",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(AJ,{})})})}),s.jsx(wt,{path:"/admin/orders",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(lz,{})})})}),s.jsx(wt,{path:"/admin/analytics",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(TJ,{})})})}),s.jsx(wt,{path:"/admin/subscription",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(PJ,{})})})}),s.jsx(wt,{path:"/admin/growth/discount-and-coupon",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(IJ,{})})})}),s.jsx(wt,{path:"/admin/growth/seo",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(OJ,{})})})}),s.jsx(wt,{path:"/admin/growth/social-media",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(DJ,{})})})}),s.jsx(wt,{path:"/admin/growth/instagram",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(RJ,{})})})}),s.jsx(wt,{path:"/admin/marketplace",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(MJ,{})})})}),s.jsx(wt,{path:"/admin/shipping",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(FJ,{})})})}),s.jsx(wt,{path:"/admin/google-reviews",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(LJ,{})})})}),s.jsx(wt,{path:"/admin/settings",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(_7,{})})})}),s.jsx(wt,{path:"/",element:s.jsx(QJ,{slug:t})}),s.jsx(wt,{path:"/policies",element:s.jsx(eZ,{slug:t})}),s.jsx(wt,{path:"/categories",element:s.jsx(RD,{slug:t})}),s.jsx(wt,{path:"/products",element:s.jsx(DD,{slug:t})}),s.jsx(wt,{path:"/products/:slug",element:s.jsx(ID,{slug:t})}),s.jsx(wt,{path:"/cart",element:s.jsx(MD,{slug:t})}),s.jsx(wt,{path:"/checkout",element:s.jsx(FD,{slug:t})}),s.jsx(wt,{path:"/payment-success",element:s.jsx(LD,{})}),s.jsx(wt,{path:"/sitemap.xml",element:s.jsx(tZ,{})}),s.jsx(wt,{path:"*",element:s.jsx(GU,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(wt,{path:"/",element:s.jsx(VSe,{})}),s.jsx(wt,{path:"/pricing",element:s.jsx(eot,{})}),s.jsx(wt,{path:"/auth",element:s.jsx(tot,{})}),s.jsx(wt,{path:"/sitemap.xml",element:s.jsx(tZ,{})}),s.jsx(wt,{path:"/privacy-policy",element:s.jsx(klt,{})}),s.jsx(wt,{path:"/terms-of-service",element:s.jsx(Clt,{})}),s.jsx(wt,{path:"/become-helper",element:s.jsx(Tlt,{})}),s.jsx(wt,{path:"/application-status",element:s.jsx(Alt,{})}),s.jsx(wt,{path:"/helper/login",element:s.jsx(Mlt,{})}),s.jsx(wt,{path:"/helper/dashboard",element:s.jsx(Plt,{})}),s.jsx(wt,{path:"/helper/my-referrals",element:s.jsx(Olt,{})}),s.jsx(wt,{path:"/helper/my-helper-network",element:s.jsx(Dlt,{})}),s.jsx(wt,{path:"/helper/commission-history",element:s.jsx(Rlt,{})}),s.jsx(wt,{path:"/helper/profile",element:s.jsx(Ilt,{})}),s.jsx(wt,{path:"/admin/dashboard",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(w7,{})})})}),s.jsx(wt,{path:"/admin/products",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(j7,{})})})}),s.jsx(wt,{path:"/admin/products/add",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(X7,{})})})}),s.jsx(wt,{path:"/admin/products/edit/:id",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(J7,{})})})}),s.jsx(wt,{path:"/admin/categories",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(AJ,{})})})}),s.jsx(wt,{path:"/admin/orders",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(lz,{})})})}),s.jsx(wt,{path:"/admin/analytics",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(TJ,{})})})}),s.jsx(wt,{path:"/admin/subscription",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(PJ,{})})})}),s.jsx(wt,{path:"/admin/growth/discount-and-coupon",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(IJ,{})})})}),s.jsx(wt,{path:"/admin/growth/seo",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(OJ,{})})})}),s.jsx(wt,{path:"/admin/growth/social-media",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(DJ,{})})})}),s.jsx(wt,{path:"/admin/growth/instagram",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(RJ,{})})})}),s.jsx(wt,{path:"/admin/marketplace",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(MJ,{})})})}),s.jsx(wt,{path:"/admin/shipping",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(FJ,{})})})}),s.jsx(wt,{path:"/admin/google-reviews",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(LJ,{})})})}),s.jsx(wt,{path:"/admin/settings",element:s.jsx(gn,{children:s.jsx(pn,{children:s.jsx(_7,{})})})}),s.jsx(wt,{path:"/home",element:s.jsx(xit,{})}),s.jsx(wt,{path:"/categories",element:s.jsx(RD,{})}),s.jsx(wt,{path:"/products",element:s.jsx(DD,{})}),s.jsx(wt,{path:"/products/:slug",element:s.jsx(ID,{})}),s.jsx(wt,{path:"/cart",element:s.jsx(MD,{})}),s.jsx(wt,{path:"/checkout",element:s.jsx(FD,{})}),s.jsx(wt,{path:"/payment-success",element:s.jsx(LD,{})}),s.jsx(wt,{path:"/superadmin/login",element:s.jsx(rot,{})}),s.jsxs(wt,{path:"/superadmin",element:s.jsx(flt,{}),children:[s.jsx(wt,{path:"dashboard",element:s.jsx(sot,{})}),s.jsx(wt,{path:"users",element:s.jsx(vot,{})}),s.jsx(wt,{path:"helpers",element:s.jsx(bot,{})}),s.jsx(wt,{path:"commissions",element:s.jsx(wot,{})}),s.jsx(wt,{path:"commission-settings",element:s.jsx(Iot,{})}),s.jsx(wt,{path:"reports-analytics",element:s.jsx(Mot,{})}),s.jsx(wt,{path:"subscription-plans",element:s.jsx($ot,{})}),s.jsx(wt,{path:"transactions",element:s.jsx(Bot,{})}),s.jsx(wt,{path:"billing",element:s.jsx(Uot,{})}),s.jsx(wt,{path:"custom-domains",element:s.jsx(Vot,{})}),s.jsx(wt,{path:"settings",element:s.jsx(zot,{})}),s.jsx(wt,{path:"sitemaps",element:s.jsx(Hot,{})}),s.jsx(wt,{path:"marketplace",element:s.jsx(Yot,{})}),s.jsx(wt,{path:"video-generator",element:s.jsx(dlt,{})})]}),s.jsx(wt,{path:"/onboarding/store-setup",element:s.jsx(xlt,{})}),s.jsx(wt,{path:"/onboarding/google-drive",element:s.jsx(vlt,{})}),s.jsx(wt,{path:"/:slug",element:s.jsx(QJ,{})}),s.jsx(wt,{path:"/:slug/policies",element:s.jsx(eZ,{})}),s.jsx(wt,{path:"/:slug/categories",element:s.jsx(RD,{})}),s.jsx(wt,{path:"/:slug/products",element:s.jsx(DD,{})}),s.jsx(wt,{path:"/:slug/products/:productSlug",element:s.jsx(ID,{})}),s.jsx(wt,{path:"/:slug/cart",element:s.jsx(MD,{})}),s.jsx(wt,{path:"/:slug/checkout",element:s.jsx(FD,{})}),s.jsx(wt,{path:"/:slug/payment-success",element:s.jsx(LD,{})}),s.jsx(wt,{path:"*",element:s.jsx(GU,{})})]})})]})]})})})})})};zge.createRoot(document.getElementById("root")).render(s.jsx(Llt,{}));
