function F1e(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ck=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function us(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function M1e(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var pT={exports:{}},u_={},gT={exports:{}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wz;function L1e(){if(wz)return Vn;wz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function v(V,L,X){this.props=V,this.context=L,this.refs=g,this.updater=X||h}v.prototype.isReactComponent={},v.prototype.setState=function(V,L){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,L,"setState")},v.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function b(){}b.prototype=v.prototype;function _(V,L,X){this.props=V,this.context=L,this.refs=g,this.updater=X||h}var w=_.prototype=new b;w.constructor=_,x(w,v.prototype),w.isPureReactComponent=!0;var N=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R(V,L,X){var K,Q={},oe=null,ce=null;if(L!=null)for(K in L.ref!==void 0&&(ce=L.ref),L.key!==void 0&&(oe=""+L.key),L)S.call(L,K)&&!A.hasOwnProperty(K)&&(Q[K]=L[K]);var de=arguments.length-2;if(de===1)Q.children=X;else if(1<de){for(var ne=Array(de),ue=0;ue<de;ue++)ne[ue]=arguments[ue+2];Q.children=ne}if(V&&V.defaultProps)for(K in de=V.defaultProps,de)Q[K]===void 0&&(Q[K]=de[K]);return{$$typeof:t,type:V,key:oe,ref:ce,props:Q,_owner:C.current}}function O(V,L){return{$$typeof:t,type:V.type,key:L,ref:V.ref,props:V.props,_owner:V._owner}}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function P(V){var L={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(X){return L[X]})}var E=/\/+/g;function I(V,L){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):L.toString(36)}function M(V,L,X,K,Q){var oe=typeof V;(oe==="undefined"||oe==="boolean")&&(V=null);var ce=!1;if(V===null)ce=!0;else switch(oe){case"string":case"number":ce=!0;break;case"object":switch(V.$$typeof){case t:case e:ce=!0}}if(ce)return ce=V,Q=Q(ce),V=K===""?"."+I(ce,0):K,N(Q)?(X="",V!=null&&(X=V.replace(E,"$&/")+"/"),M(Q,L,X,"",function(ue){return ue})):Q!=null&&(D(Q)&&(Q=O(Q,X+(!Q.key||ce&&ce.key===Q.key?"":(""+Q.key).replace(E,"$&/")+"/")+V)),L.push(Q)),1;if(ce=0,K=K===""?".":K+":",N(V))for(var de=0;de<V.length;de++){oe=V[de];var ne=K+I(oe,de);ce+=M(oe,L,X,ne,Q)}else if(ne=m(V),typeof ne=="function")for(V=ne.call(V),de=0;!(oe=V.next()).done;)oe=oe.value,ne=K+I(oe,de++),ce+=M(oe,L,X,ne,Q);else if(oe==="object")throw L=String(V),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ce}function U(V,L,X){if(V==null)return V;var K=[],Q=0;return M(V,K,"","",function(oe){return L.call(X,oe,Q++)}),K}function W(V){if(V._status===-1){var L=V._result;L=L(),L.then(function(X){(V._status===0||V._status===-1)&&(V._status=1,V._result=X)},function(X){(V._status===0||V._status===-1)&&(V._status=2,V._result=X)}),V._status===-1&&(V._status=0,V._result=L)}if(V._status===1)return V._result.default;throw V._result}var Y={current:null},J={transition:null},z={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:J,ReactCurrentOwner:C};function q(){throw Error("act(...) is not supported in production builds of React.")}return Vn.Children={map:U,forEach:function(V,L,X){U(V,function(){L.apply(this,arguments)},X)},count:function(V){var L=0;return U(V,function(){L++}),L},toArray:function(V){return U(V,function(L){return L})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Vn.Component=v,Vn.Fragment=r,Vn.Profiler=a,Vn.PureComponent=_,Vn.StrictMode=n,Vn.Suspense=c,Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Vn.act=q,Vn.cloneElement=function(V,L,X){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var K=x({},V.props),Q=V.key,oe=V.ref,ce=V._owner;if(L!=null){if(L.ref!==void 0&&(oe=L.ref,ce=C.current),L.key!==void 0&&(Q=""+L.key),V.type&&V.type.defaultProps)var de=V.type.defaultProps;for(ne in L)S.call(L,ne)&&!A.hasOwnProperty(ne)&&(K[ne]=L[ne]===void 0&&de!==void 0?de[ne]:L[ne])}var ne=arguments.length-2;if(ne===1)K.children=X;else if(1<ne){de=Array(ne);for(var ue=0;ue<ne;ue++)de[ue]=arguments[ue+2];K.children=de}return{$$typeof:t,type:V.type,key:Q,ref:oe,props:K,_owner:ce}},Vn.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:i,_context:V},V.Consumer=V},Vn.createElement=R,Vn.createFactory=function(V){var L=R.bind(null,V);return L.type=V,L},Vn.createRef=function(){return{current:null}},Vn.forwardRef=function(V){return{$$typeof:l,render:V}},Vn.isValidElement=D,Vn.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:W}},Vn.memo=function(V,L){return{$$typeof:u,type:V,compare:L===void 0?null:L}},Vn.startTransition=function(V){var L=J.transition;J.transition={};try{V()}finally{J.transition=L}},Vn.unstable_act=q,Vn.useCallback=function(V,L){return Y.current.useCallback(V,L)},Vn.useContext=function(V){return Y.current.useContext(V)},Vn.useDebugValue=function(){},Vn.useDeferredValue=function(V){return Y.current.useDeferredValue(V)},Vn.useEffect=function(V,L){return Y.current.useEffect(V,L)},Vn.useId=function(){return Y.current.useId()},Vn.useImperativeHandle=function(V,L,X){return Y.current.useImperativeHandle(V,L,X)},Vn.useInsertionEffect=function(V,L){return Y.current.useInsertionEffect(V,L)},Vn.useLayoutEffect=function(V,L){return Y.current.useLayoutEffect(V,L)},Vn.useMemo=function(V,L){return Y.current.useMemo(V,L)},Vn.useReducer=function(V,L,X){return Y.current.useReducer(V,L,X)},Vn.useRef=function(V){return Y.current.useRef(V)},Vn.useState=function(V){return Y.current.useState(V)},Vn.useSyncExternalStore=function(V,L,X){return Y.current.useSyncExternalStore(V,L,X)},Vn.useTransition=function(){return Y.current.useTransition()},Vn.version="18.3.1",Vn}var _z;function NA(){return _z||(_z=1,gT.exports=L1e()),gT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jz;function $1e(){if(jz)return u_;jz=1;var t=NA(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,h=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(h=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:m,ref:h,props:f,_owner:a.current}}return u_.Fragment=r,u_.jsx=o,u_.jsxs=o,u_}var Nz;function B1e(){return Nz||(Nz=1,pT.exports=$1e()),pT.exports}var s=B1e(),uk={},xT={exports:{}},Dc={},vT={exports:{}},yT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sz;function U1e(){return Sz||(Sz=1,(function(t){function e(J,z){var q=J.length;J.push(z);e:for(;0<q;){var V=q-1>>>1,L=J[V];if(0<a(L,z))J[V]=z,J[q]=L,q=V;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var z=J[0],q=J.pop();if(q!==z){J[0]=q;e:for(var V=0,L=J.length,X=L>>>1;V<X;){var K=2*(V+1)-1,Q=J[K],oe=K+1,ce=J[oe];if(0>a(Q,q))oe<L&&0>a(ce,Q)?(J[V]=ce,J[oe]=q,V=oe):(J[V]=Q,J[K]=q,V=K);else if(oe<L&&0>a(ce,q))J[V]=ce,J[oe]=q,V=oe;else break e}}return z}function a(J,z){var q=J.sortIndex-z.sortIndex;return q!==0?q:J.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(J){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=J)n(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function N(J){if(g=!1,w(J),!x)if(r(c)!==null)x=!0,W(S);else{var z=r(u);z!==null&&Y(N,z.startTime-J)}}function S(J,z){x=!1,g&&(g=!1,b(R),R=-1),h=!0;var q=m;try{for(w(z),f=r(c);f!==null&&(!(f.expirationTime>z)||J&&!P());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var L=V(f.expirationTime<=z);z=t.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),w(z)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var K=r(u);K!==null&&Y(N,K.startTime-z),X=!1}return X}finally{f=null,m=q,h=!1}}var C=!1,A=null,R=-1,O=5,D=-1;function P(){return!(t.unstable_now()-D<O)}function E(){if(A!==null){var J=t.unstable_now();D=J;var z=!0;try{z=A(!0,J)}finally{z?I():(C=!1,A=null)}}else C=!1}var I;if(typeof _=="function")I=function(){_(E)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=E,I=function(){U.postMessage(null)}}else I=function(){v(E,0)};function W(J){A=J,C||(C=!0,I())}function Y(J,z){R=v(function(){J(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,W(S))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(J){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var q=m;m=z;try{return J()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var q=m;m=J;try{return z()}finally{m=q}},t.unstable_scheduleCallback=function(J,z,q){var V=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?V+q:V):q=V,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,J={id:d++,callback:z,priorityLevel:J,startTime:q,expirationTime:L,sortIndex:-1},q>V?(J.sortIndex=q,e(u,J),r(c)===null&&J===r(u)&&(g?(b(R),R=-1):g=!0,Y(N,q-V))):(J.sortIndex=L,e(c,J),x||h||(x=!0,W(S))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var z=m;return function(){var q=m;m=z;try{return J.apply(this,arguments)}finally{m=q}}}})(yT)),yT}var kz;function z1e(){return kz||(kz=1,vT.exports=U1e()),vT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cz;function q1e(){if(Cz)return Dc;Cz=1;var t=NA(),e=z1e();function r(p){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+p,k=1;k<arguments.length;k++)y+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(p,y){o(p,y),o(p+"Capture",y)}function o(p,y){for(a[p]=y,p=0;p<y.length;p++)n.add(y[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(p){return c.call(f,p)?!0:c.call(d,p)?!1:u.test(p)?f[p]=!0:(d[p]=!0,!1)}function h(p,y,k,F){if(k!==null&&k.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return F?!1:k!==null?!k.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,y,k,F){if(y===null||typeof y>"u"||h(p,y,k,F))return!0;if(F)return!1;if(k!==null)switch(k.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function g(p,y,k,F,G,te,ve){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=F,this.attributeNamespace=G,this.mustUseProperty=k,this.propertyName=p,this.type=y,this.sanitizeURL=te,this.removeEmptyString=ve}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){v[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var y=p[0];v[y]=new g(y,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){v[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){v[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){v[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){v[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){v[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){v[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){v[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var y=p.replace(b,_);v[y]=new g(y,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var y=p.replace(b,_);v[y]=new g(y,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var y=p.replace(b,_);v[y]=new g(y,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){v[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){v[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function w(p,y,k,F){var G=v.hasOwnProperty(y)?v[y]:null;(G!==null?G.type!==0:F||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(x(y,k,G,F)&&(k=null),F||G===null?m(y)&&(k===null?p.removeAttribute(y):p.setAttribute(y,""+k)):G.mustUseProperty?p[G.propertyName]=k===null?G.type===3?!1:"":k:(y=G.attributeName,F=G.attributeNamespace,k===null?p.removeAttribute(y):(G=G.type,k=G===3||G===4&&k===!0?"":""+k,F?p.setAttributeNS(F,y,k):p.setAttribute(y,k))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),P=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),J=Symbol.iterator;function z(p){return p===null||typeof p!="object"?null:(p=J&&p[J]||p["@@iterator"],typeof p=="function"?p:null)}var q=Object.assign,V;function L(p){if(V===void 0)try{throw Error()}catch(k){var y=k.stack.trim().match(/\n( *(at )?)/);V=y&&y[1]||""}return`
`+V+p}var X=!1;function K(p,y){if(!p||X)return"";X=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(Ct){var F=Ct}Reflect.construct(p,[],y)}else{try{y.call()}catch(Ct){F=Ct}p.call(y.prototype)}else{try{throw Error()}catch(Ct){F=Ct}p()}}catch(Ct){if(Ct&&F&&typeof Ct.stack=="string"){for(var G=Ct.stack.split(`
`),te=F.stack.split(`
`),ve=G.length-1,Ge=te.length-1;1<=ve&&0<=Ge&&G[ve]!==te[Ge];)Ge--;for(;1<=ve&&0<=Ge;ve--,Ge--)if(G[ve]!==te[Ge]){if(ve!==1||Ge!==1)do if(ve--,Ge--,0>Ge||G[ve]!==te[Ge]){var nt=`
`+G[ve].replace(" at new "," at ");return p.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",p.displayName)),nt}while(1<=ve&&0<=Ge);break}}}finally{X=!1,Error.prepareStackTrace=k}return(p=p?p.displayName||p.name:"")?L(p):""}function Q(p){switch(p.tag){case 5:return L(p.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return p=K(p.type,!1),p;case 11:return p=K(p.type.render,!1),p;case 1:return p=K(p.type,!0),p;default:return""}}function oe(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case A:return"Fragment";case C:return"Portal";case O:return"Profiler";case R:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case P:return(p.displayName||"Context")+".Consumer";case D:return(p._context.displayName||"Context")+".Provider";case E:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case U:return y=p.displayName||null,y!==null?y:oe(p.type)||"Memo";case W:y=p._payload,p=p._init;try{return oe(p(y))}catch{}}return null}function ce(p){var y=p.type;switch(p.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=y.render,p=p.displayName||p.name||"",y.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(y);case 8:return y===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function de(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ne(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function ue(p){var y=ne(p)?"checked":"value",k=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),F=""+p[y];if(!p.hasOwnProperty(y)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var G=k.get,te=k.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return G.call(this)},set:function(ve){F=""+ve,te.call(this,ve)}}),Object.defineProperty(p,y,{enumerable:k.enumerable}),{getValue:function(){return F},setValue:function(ve){F=""+ve},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function se(p){p._valueTracker||(p._valueTracker=ue(p))}function Z(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var k=y.getValue(),F="";return p&&(F=ne(p)?p.checked?"true":"false":p.value),p=F,p!==k?(y.setValue(p),!0):!1}function Oe(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function re(p,y){var k=y.checked;return q({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??p._wrapperState.initialChecked})}function le(p,y){var k=y.defaultValue==null?"":y.defaultValue,F=y.checked!=null?y.checked:y.defaultChecked;k=de(y.value!=null?y.value:k),p._wrapperState={initialChecked:F,initialValue:k,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function We(p,y){y=y.checked,y!=null&&w(p,"checked",y,!1)}function xe(p,y){We(p,y);var k=de(y.value),F=y.type;if(k!=null)F==="number"?(k===0&&p.value===""||p.value!=k)&&(p.value=""+k):p.value!==""+k&&(p.value=""+k);else if(F==="submit"||F==="reset"){p.removeAttribute("value");return}y.hasOwnProperty("value")?ke(p,y.type,k):y.hasOwnProperty("defaultValue")&&ke(p,y.type,de(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(p.defaultChecked=!!y.defaultChecked)}function Le(p,y,k){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var F=y.type;if(!(F!=="submit"&&F!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+p._wrapperState.initialValue,k||y===p.value||(p.value=y),p.defaultValue=y}k=p.name,k!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,k!==""&&(p.name=k)}function ke(p,y,k){(y!=="number"||Oe(p.ownerDocument)!==p)&&(k==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+k&&(p.defaultValue=""+k))}var fe=Array.isArray;function ye(p,y,k,F){if(p=p.options,y){y={};for(var G=0;G<k.length;G++)y["$"+k[G]]=!0;for(k=0;k<p.length;k++)G=y.hasOwnProperty("$"+p[k].value),p[k].selected!==G&&(p[k].selected=G),G&&F&&(p[k].defaultSelected=!0)}else{for(k=""+de(k),y=null,G=0;G<p.length;G++){if(p[G].value===k){p[G].selected=!0,F&&(p[G].defaultSelected=!0);return}y!==null||p[G].disabled||(y=p[G])}y!==null&&(y.selected=!0)}}function qe(p,y){if(y.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},y,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Qe(p,y){var k=y.value;if(k==null){if(k=y.children,y=y.defaultValue,k!=null){if(y!=null)throw Error(r(92));if(fe(k)){if(1<k.length)throw Error(r(93));k=k[0]}y=k}y==null&&(y=""),k=y}p._wrapperState={initialValue:de(k)}}function ct(p,y){var k=de(y.value),F=de(y.defaultValue);k!=null&&(k=""+k,k!==p.value&&(p.value=k),y.defaultValue==null&&p.defaultValue!==k&&(p.defaultValue=k)),F!=null&&(p.defaultValue=""+F)}function Ye(p){var y=p.textContent;y===p._wrapperState.initialValue&&y!==""&&y!==null&&(p.value=y)}function me(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(p,y){return p==null||p==="http://www.w3.org/1999/xhtml"?me(y):p==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var _e,Je=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,k,F,G){MSApp.execUnsafeLocalFunction(function(){return p(y,k,F,G)})}:p})(function(p,y){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=y;else{for(_e=_e||document.createElement("div"),_e.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=_e.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;y.firstChild;)p.appendChild(y.firstChild)}});function tt(p,y){if(y){var k=p.firstChild;if(k&&k===p.lastChild&&k.nodeType===3){k.nodeValue=y;return}}p.textContent=y}var Ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];Object.keys(Ve).forEach(function(p){Me.forEach(function(y){y=y+p.charAt(0).toUpperCase()+p.substring(1),Ve[y]=Ve[p]})});function ht(p,y,k){return y==null||typeof y=="boolean"||y===""?"":k||typeof y!="number"||y===0||Ve.hasOwnProperty(p)&&Ve[p]?(""+y).trim():y+"px"}function Ce(p,y){p=p.style;for(var k in y)if(y.hasOwnProperty(k)){var F=k.indexOf("--")===0,G=ht(k,y[k],F);k==="float"&&(k="cssFloat"),F?p.setProperty(k,G):p[k]=G}}var st=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ue(p,y){if(y){if(st[p]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(r(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(r(61))}if(y.style!=null&&typeof y.style!="object")throw Error(r(62))}}function Ke(p,y){if(p.indexOf("-")===-1)return typeof y.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var at=null;function St(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var qt=null,Ut=null,Qt=null;function Vt(p){if(p=Hp(p)){if(typeof qt!="function")throw Error(r(280));var y=p.stateNode;y&&(y=Jg(y),qt(p.stateNode,p.type,y))}}function wr(p){Ut?Qt?Qt.push(p):Qt=[p]:Ut=p}function dr(){if(Ut){var p=Ut,y=Qt;if(Qt=Ut=null,Vt(p),y)for(p=0;p<y.length;p++)Vt(y[p])}}function br(p,y){return p(y)}function Cr(){}var or=!1;function It(p,y,k){if(or)return p(y,k);or=!0;try{return br(p,y,k)}finally{or=!1,(Ut!==null||Qt!==null)&&(Cr(),dr())}}function Ir(p,y){var k=p.stateNode;if(k===null)return null;var F=Jg(k);if(F===null)return null;k=F[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(p=p.type,F=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!F;break e;default:p=!1}if(p)return null;if(k&&typeof k!="function")throw Error(r(231,y,typeof k));return k}var Jt=!1;if(l)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){Jt=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{Jt=!1}function mr(p,y,k,F,G,te,ve,Ge,nt){var Ct=Array.prototype.slice.call(arguments,3);try{y.apply(k,Ct)}catch(Zt){this.onError(Zt)}}var vr=!1,bn=null,he=!1,Re=null,Ee={onError:function(p){vr=!0,bn=p}};function Pe(p,y,k,F,G,te,ve,Ge,nt){vr=!1,bn=null,mr.apply(Ee,arguments)}function Ie(p,y,k,F,G,te,ve,Ge,nt){if(Pe.apply(this,arguments),vr){if(vr){var Ct=bn;vr=!1,bn=null}else throw Error(r(198));he||(he=!0,Re=Ct)}}function De(p){var y=p,k=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,(y.flags&4098)!==0&&(k=y.return),p=y.return;while(p)}return y.tag===3?k:null}function ft(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function wt(p){if(De(p)!==p)throw Error(r(188))}function mt(p){var y=p.alternate;if(!y){if(y=De(p),y===null)throw Error(r(188));return y!==p?null:p}for(var k=p,F=y;;){var G=k.return;if(G===null)break;var te=G.alternate;if(te===null){if(F=G.return,F!==null){k=F;continue}break}if(G.child===te.child){for(te=G.child;te;){if(te===k)return wt(G),p;if(te===F)return wt(G),y;te=te.sibling}throw Error(r(188))}if(k.return!==F.return)k=G,F=te;else{for(var ve=!1,Ge=G.child;Ge;){if(Ge===k){ve=!0,k=G,F=te;break}if(Ge===F){ve=!0,F=G,k=te;break}Ge=Ge.sibling}if(!ve){for(Ge=te.child;Ge;){if(Ge===k){ve=!0,k=te,F=G;break}if(Ge===F){ve=!0,F=te,k=G;break}Ge=Ge.sibling}if(!ve)throw Error(r(189))}}if(k.alternate!==F)throw Error(r(190))}if(k.tag!==3)throw Error(r(188));return k.stateNode.current===k?p:y}function pt(p){return p=mt(p),p!==null?gt(p):null}function gt(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var y=gt(p);if(y!==null)return y;p=p.sibling}return null}var Lt=e.unstable_scheduleCallback,Yt=e.unstable_cancelCallback,cr=e.unstable_shouldYield,tr=e.unstable_requestPaint,Bt=e.unstable_now,_r=e.unstable_getCurrentPriorityLevel,An=e.unstable_ImmediatePriority,En=e.unstable_UserBlockingPriority,ks=e.unstable_NormalPriority,Co=e.unstable_LowPriority,xa=e.unstable_IdlePriority,wi=null,Vs=null;function io(p){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(wi,p,void 0,(p.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:oy,Lw=Math.log,ti=Math.LN2;function oy(p){return p>>>=0,p===0?32:31-(Lw(p)/ti|0)|0}var em=64,yc=4194304;function Qc(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function fl(p,y){var k=p.pendingLanes;if(k===0)return 0;var F=0,G=p.suspendedLanes,te=p.pingedLanes,ve=k&268435455;if(ve!==0){var Ge=ve&~G;Ge!==0?F=Qc(Ge):(te&=ve,te!==0&&(F=Qc(te)))}else ve=k&~G,ve!==0?F=Qc(ve):te!==0&&(F=Qc(te));if(F===0)return 0;if(y!==0&&y!==F&&(y&G)===0&&(G=F&-F,te=y&-y,G>=te||G===16&&(te&4194240)!==0))return y;if((F&4)!==0&&(F|=k&16),y=p.entangledLanes,y!==0)for(p=p.entanglements,y&=F;0<y;)k=31-Ws(y),G=1<<k,F|=p[k],y&=~G;return F}function tm(p,y){switch(p){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(p,y){for(var k=p.suspendedLanes,F=p.pingedLanes,G=p.expirationTimes,te=p.pendingLanes;0<te;){var ve=31-Ws(te),Ge=1<<ve,nt=G[ve];nt===-1?((Ge&k)===0||(Ge&F)!==0)&&(G[ve]=tm(Ge,y)):nt<=y&&(p.expiredLanes|=Ge),te&=~Ge}}function rm(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function ly(){var p=em;return em<<=1,(em&4194240)===0&&(em=64),p}function Dg(p){for(var y=[],k=0;31>k;k++)y.push(p);return y}function nm(p,y,k){p.pendingLanes|=y,y!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,y=31-Ws(y),p[y]=k}function Yu(p,y){var k=p.pendingLanes&~y;p.pendingLanes=y,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=y,p.mutableReadLanes&=y,p.entangledLanes&=y,y=p.entanglements;var F=p.eventTimes;for(p=p.expirationTimes;0<k;){var G=31-Ws(k),te=1<<G;y[G]=0,F[G]=-1,p[G]=-1,k&=~te}}function Pp(p,y){var k=p.entangledLanes|=y;for(p=p.entanglements;k;){var F=31-Ws(k),G=1<<F;G&y|p[F]&y&&(p[F]|=y),k&=~G}}var ls=0;function Gd(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var Tp,Rg,cy,uy,Op,Yd=!1,eu=[],Ku=null,hl=null,bc=null,tn=new Map,sm=new Map,Xu=[],$w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dy(p,y){switch(p){case"focusin":case"focusout":Ku=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":bc=null;break;case"pointerover":case"pointerout":tn.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":sm.delete(y.pointerId)}}function Gl(p,y,k,F,G,te){return p===null||p.nativeEvent!==te?(p={blockedOn:y,domEventName:k,eventSystemFlags:F,nativeEvent:te,targetContainers:[G]},y!==null&&(y=Hp(y),y!==null&&Rg(y)),p):(p.eventSystemFlags|=F,y=p.targetContainers,G!==null&&y.indexOf(G)===-1&&y.push(G),p)}function Kd(p,y,k,F,G){switch(y){case"focusin":return Ku=Gl(Ku,p,y,k,F,G),!0;case"dragenter":return hl=Gl(hl,p,y,k,F,G),!0;case"mouseover":return bc=Gl(bc,p,y,k,F,G),!0;case"pointerover":var te=G.pointerId;return tn.set(te,Gl(tn.get(te)||null,p,y,k,F,G)),!0;case"gotpointercapture":return te=G.pointerId,sm.set(te,Gl(sm.get(te)||null,p,y,k,F,G)),!0}return!1}function fy(p){var y=ih(p.target);if(y!==null){var k=De(y);if(k!==null){if(y=k.tag,y===13){if(y=ft(k),y!==null){p.blockedOn=y,Op(p.priority,function(){cy(k)});return}}else if(y===3&&k.stateNode.current.memoizedState.isDehydrated){p.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Dp(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var k=im(p.domEventName,p.eventSystemFlags,y[0],p.nativeEvent);if(k===null){k=p.nativeEvent;var F=new k.constructor(k.type,k);at=F,k.target.dispatchEvent(F),at=null}else return y=Hp(k),y!==null&&Rg(y),p.blockedOn=k,!1;y.shift()}return!0}function am(p,y,k){Dp(p)&&k.delete(y)}function Ig(){Yd=!1,Ku!==null&&Dp(Ku)&&(Ku=null),hl!==null&&Dp(hl)&&(hl=null),bc!==null&&Dp(bc)&&(bc=null),tn.forEach(am),sm.forEach(am)}function tu(p,y){p.blockedOn===y&&(p.blockedOn=null,Yd||(Yd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ig)))}function Ju(p){function y(G){return tu(G,p)}if(0<eu.length){tu(eu[0],p);for(var k=1;k<eu.length;k++){var F=eu[k];F.blockedOn===p&&(F.blockedOn=null)}}for(Ku!==null&&tu(Ku,p),hl!==null&&tu(hl,p),bc!==null&&tu(bc,p),tn.forEach(y),sm.forEach(y),k=0;k<Xu.length;k++)F=Xu[k],F.blockedOn===p&&(F.blockedOn=null);for(;0<Xu.length&&(k=Xu[0],k.blockedOn===null);)fy(k),k.blockedOn===null&&Xu.shift()}var ru=N.ReactCurrentBatchConfig,Rp=!0;function Fg(p,y,k,F){var G=ls,te=ru.transition;ru.transition=null;try{ls=1,Xd(p,y,k,F)}finally{ls=G,ru.transition=te}}function Mg(p,y,k,F){var G=ls,te=ru.transition;ru.transition=null;try{ls=4,Xd(p,y,k,F)}finally{ls=G,ru.transition=te}}function Xd(p,y,k,F){if(Rp){var G=im(p,y,k,F);if(G===null)Yg(p,y,F,Zu,k),dy(p,F);else if(Kd(G,p,y,k,F))F.stopPropagation();else if(dy(p,F),y&4&&-1<$w.indexOf(p)){for(;G!==null;){var te=Hp(G);if(te!==null&&Tp(te),te=im(p,y,k,F),te===null&&Yg(p,y,F,Zu,k),te===G)break;G=te}G!==null&&F.stopPropagation()}else Yg(p,y,F,null,k)}}var Zu=null;function im(p,y,k,F){if(Zu=null,p=St(F),p=ih(p),p!==null)if(y=De(p),y===null)p=null;else if(k=y.tag,k===13){if(p=ft(y),p!==null)return p;p=null}else if(k===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null);return Zu=p,null}function om(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_r()){case An:return 1;case En:return 4;case ks:case Co:return 16;case xa:return 536870912;default:return 16}default:return 16}}var wc=null,Jd=null,lm=null;function Lg(){if(lm)return lm;var p,y=Jd,k=y.length,F,G="value"in wc?wc.value:wc.textContent,te=G.length;for(p=0;p<k&&y[p]===G[p];p++);var ve=k-p;for(F=1;F<=ve&&y[k-F]===G[te-F];F++);return lm=G.slice(p,1<F?1-F:void 0)}function _c(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function jc(){return!0}function $g(){return!1}function Ao(p){function y(k,F,G,te,ve){this._reactName=k,this._targetInst=G,this.type=F,this.nativeEvent=te,this.target=ve,this.currentTarget=null;for(var Ge in p)p.hasOwnProperty(Ge)&&(k=p[Ge],this[Ge]=k?k(te):te[Ge]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?jc:$g,this.isPropagationStopped=$g,this}return q(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),y}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Ao(Nc),H=q({},Nc,{view:0,detail:0}),ge=Ao(H),ze,Ze,dt,Dt=q({},H,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==dt&&(dt&&p.type==="mousemove"?(ze=p.screenX-dt.screenX,Ze=p.screenY-dt.screenY):Ze=ze=0,dt=p),ze)},movementY:function(p){return"movementY"in p?p.movementY:Ze}}),Wt=Ao(Dt),Pr=q({},Dt,{dataTransfer:0}),Br=Ao(Pr),on=q({},H,{relatedTarget:0}),ln=Ao(on),ds=q({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Ao(ds),ri=q({},Nc,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Hs=Ao(ri),_i=q({},Nc,{data:0}),La=Ao(_i),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hy(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=ml[p])?!!y[p]:!1}function Jf(){return hy}var cm=q({},H,{key:function(p){if(p.key){var y=oo[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=_c(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Sc[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(p){return p.type==="keypress"?_c(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?_c(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Zf=Ao(cm),um=q({},Dt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=Ao(um),dm=q({},H,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),Eo=Ao(dm),fm=q({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),hm=Ao(fm),Bg=q({},Dt,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Ao(Bg),Ca=[9,13,27,32],nu=l&&"CompositionEvent"in window,Qu=null;l&&"documentMode"in document&&(Qu=document.documentMode);var my=l&&"TextEvent"in window&&!Qu,Yl=l&&(!nu||Qu&&8<Qu&&11>=Qu),eh=" ",Fp=!1;function Mp(p,y){switch(p){case"keyup":return Ca.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var kc=!1;function Kl(p,y){switch(p){case"compositionend":return Zd(y);case"keypress":return y.which!==32?null:(Fp=!0,eh);case"textInput":return p=y.data,p===eh&&Fp?null:p;default:return null}}function Xl(p,y){if(kc)return p==="compositionend"||!nu&&Mp(p,y)?(p=Lg(),lm=Jd=wc=null,kc=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return Yl&&y.locale!=="ko"?null:y.data;default:return null}}var th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!th[p.type]:y==="textarea"}function Qd(p,y,k,F){wr(F),y=yy(y,"onChange"),0<y.length&&(k=new Ip("onChange","change",null,k,F),p.push({event:k,listeners:y}))}var ef=null,td=null;function $a(p){Hg(p,0)}function mm(p){var y=Nm(p);if(Z(y))return p}function rd(p,y){if(p==="change")return y}var su=!1;if(l){var pm;if(l){var gm="oninput"in document;if(!gm){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),gm=typeof Lp.oninput=="function"}pm=gm}else pm=!1;su=pm&&(!document.documentMode||9<document.documentMode)}function $p(){ef&&(ef.detachEvent("onpropertychange",tf),td=ef=null)}function tf(p){if(p.propertyName==="value"&&mm(td)){var y=[];Qd(y,td,p,St(p)),It($a,y)}}function rh(p,y,k){p==="focusin"?($p(),ef=y,td=k,ef.attachEvent("onpropertychange",tf)):p==="focusout"&&$p()}function nh(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return mm(td)}function xm(p,y){if(p==="click")return mm(y)}function sh(p,y){if(p==="input"||p==="change")return mm(y)}function vm(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var Aa=typeof Object.is=="function"?Object.is:vm;function pl(p,y){if(Aa(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var k=Object.keys(p),F=Object.keys(y);if(k.length!==F.length)return!1;for(F=0;F<k.length;F++){var G=k[F];if(!c.call(y,G)||!Aa(p[G],y[G]))return!1}return!0}function fs(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Cs(p,y){var k=fs(p);p=0;for(var F;k;){if(k.nodeType===3){if(F=p+k.textContent.length,p<=y&&F>=y)return{node:k,offset:y-p};p=F}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=fs(k)}}function Ea(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?Ea(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function ni(){for(var p=window,y=Oe();y instanceof p.HTMLIFrameElement;){try{var k=typeof y.contentWindow.location.href=="string"}catch{k=!1}if(k)p=y.contentWindow;else break;y=Oe(p.document)}return y}function au(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}function zg(p){var y=ni(),k=p.focusedElem,F=p.selectionRange;if(y!==k&&k&&k.ownerDocument&&Ea(k.ownerDocument.documentElement,k)){if(F!==null&&au(k)){if(y=F.start,p=F.end,p===void 0&&(p=y),"selectionStart"in k)k.selectionStart=y,k.selectionEnd=Math.min(p,k.value.length);else if(p=(y=k.ownerDocument||document)&&y.defaultView||window,p.getSelection){p=p.getSelection();var G=k.textContent.length,te=Math.min(F.start,G);F=F.end===void 0?te:Math.min(F.end,G),!p.extend&&te>F&&(G=F,F=te,te=G),G=Cs(k,te);var ve=Cs(k,F);G&&ve&&(p.rangeCount!==1||p.anchorNode!==G.node||p.anchorOffset!==G.offset||p.focusNode!==ve.node||p.focusOffset!==ve.offset)&&(y=y.createRange(),y.setStart(G.node,G.offset),p.removeAllRanges(),te>F?(p.addRange(y),p.extend(ve.node,ve.offset)):(y.setEnd(ve.node,ve.offset),p.addRange(y)))}}for(y=[],p=k;p=p.parentNode;)p.nodeType===1&&y.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<y.length;k++)p=y[k],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Bp=l&&"documentMode"in document&&11>=document.documentMode,rf=null,py=null,Up=null,gy=!1;function Bw(p,y,k){var F=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;gy||rf==null||rf!==Oe(F)||(F=rf,"selectionStart"in F&&au(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),Up&&pl(Up,F)||(Up=F,F=yy(py,"onSelect"),0<F.length&&(y=new Ip("onSelect","select",null,y,k),p.push({event:y,listeners:F}),y.target=rf)))}function qg(p,y){var k={};return k[p.toLowerCase()]=y.toLowerCase(),k["Webkit"+p]="webkit"+y,k["Moz"+p]="moz"+y,k}var ym={animationend:qg("Animation","AnimationEnd"),animationiteration:qg("Animation","AnimationIteration"),animationstart:qg("Animation","AnimationStart"),transitionend:qg("Transition","TransitionEnd")},bm={},Uw={};l&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete ym.animationend.animation,delete ym.animationiteration.animation,delete ym.animationstart.animation),"TransitionEvent"in window||delete ym.transitionend.transition);function Vg(p){if(bm[p])return bm[p];if(!ym[p])return p;var y=ym[p],k;for(k in y)if(y.hasOwnProperty(k)&&k in Uw)return bm[p]=y[k];return p}var zw=Vg("animationend"),qw=Vg("animationiteration"),Vw=Vg("animationstart"),Ww=Vg("transitionend"),Hw=new Map,Gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nd(p,y){Hw.set(p,y),i(y,[p])}for(var zp=0;zp<Gw.length;zp++){var Jo=Gw[zp],Cc=Jo.toLowerCase(),xy=Jo[0].toUpperCase()+Jo.slice(1);nd(Cc,"on"+xy)}nd(zw,"onAnimationEnd"),nd(qw,"onAnimationIteration"),nd(Vw,"onAnimationStart"),nd("dblclick","onDoubleClick"),nd("focusin","onFocus"),nd("focusout","onBlur"),nd(Ww,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("cancel close invalid load scroll toggle".split(" ").concat(ah));function Wg(p,y,k){var F=p.type||"unknown-event";p.currentTarget=k,Ie(F,y,void 0,p),p.currentTarget=null}function Hg(p,y){y=(y&4)!==0;for(var k=0;k<p.length;k++){var F=p[k],G=F.event;F=F.listeners;e:{var te=void 0;if(y)for(var ve=F.length-1;0<=ve;ve--){var Ge=F[ve],nt=Ge.instance,Ct=Ge.currentTarget;if(Ge=Ge.listener,nt!==te&&G.isPropagationStopped())break e;Wg(G,Ge,Ct),te=nt}else for(ve=0;ve<F.length;ve++){if(Ge=F[ve],nt=Ge.instance,Ct=Ge.currentTarget,Ge=Ge.listener,nt!==te&&G.isPropagationStopped())break e;Wg(G,Ge,Ct),te=nt}}}if(he)throw p=Re,he=!1,Re=null,p}function Rs(p,y){var k=y[xl];k===void 0&&(k=y[xl]=new Set);var F=p+"__bubble";k.has(F)||(Gg(y,p,2,!1),k.add(F))}function vy(p,y,k){var F=0;y&&(F|=4),Gg(k,p,F,y)}var qp="_reactListening"+Math.random().toString(36).slice(2);function wm(p){if(!p[qp]){p[qp]=!0,n.forEach(function(k){k!=="selectionchange"&&(ES.has(k)||vy(k,!1,p),vy(k,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[qp]||(y[qp]=!0,vy("selectionchange",!1,y))}}function Gg(p,y,k,F){switch(om(y)){case 1:var G=Fg;break;case 4:G=Mg;break;default:G=Xd}k=G.bind(null,y,k,p),G=void 0,!Jt||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(G=!0),F?G!==void 0?p.addEventListener(y,k,{capture:!0,passive:G}):p.addEventListener(y,k,!0):G!==void 0?p.addEventListener(y,k,{passive:G}):p.addEventListener(y,k,!1)}function Yg(p,y,k,F,G){var te=F;if((y&1)===0&&(y&2)===0&&F!==null)e:for(;;){if(F===null)return;var ve=F.tag;if(ve===3||ve===4){var Ge=F.stateNode.containerInfo;if(Ge===G||Ge.nodeType===8&&Ge.parentNode===G)break;if(ve===4)for(ve=F.return;ve!==null;){var nt=ve.tag;if((nt===3||nt===4)&&(nt=ve.stateNode.containerInfo,nt===G||nt.nodeType===8&&nt.parentNode===G))return;ve=ve.return}for(;Ge!==null;){if(ve=ih(Ge),ve===null)return;if(nt=ve.tag,nt===5||nt===6){F=te=ve;continue e}Ge=Ge.parentNode}}F=F.return}It(function(){var Ct=te,Zt=St(k),nr=[];e:{var Kt=Hw.get(p);if(Kt!==void 0){var jr=Ip,Dr=p;switch(p){case"keypress":if(_c(k)===0)break e;case"keydown":case"keyup":jr=Zf;break;case"focusin":Dr="focus",jr=ln;break;case"focusout":Dr="blur",jr=ln;break;case"beforeblur":case"afterblur":jr=ln;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jr=Wt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jr=Br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jr=Eo;break;case zw:case qw:case Vw:jr=va;break;case Ww:jr=hm;break;case"scroll":jr=ge;break;case"wheel":jr=Ug;break;case"copy":case"cut":case"paste":jr=Hs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jr=Qf}var Fr=(y&4)!==0,Si=!Fr&&p==="scroll",yt=Fr?Kt!==null?Kt+"Capture":null:Kt;Fr=[];for(var ot=Ct,kt;ot!==null;){kt=ot;var sr=kt.stateNode;if(kt.tag===5&&sr!==null&&(kt=sr,yt!==null&&(sr=Ir(ot,yt),sr!=null&&Fr.push(Kg(ot,sr,kt)))),Si)break;ot=ot.return}0<Fr.length&&(Kt=new jr(Kt,Dr,null,k,Zt),nr.push({event:Kt,listeners:Fr}))}}if((y&7)===0){e:{if(Kt=p==="mouseover"||p==="pointerover",jr=p==="mouseout"||p==="pointerout",Kt&&k!==at&&(Dr=k.relatedTarget||k.fromElement)&&(ih(Dr)||Dr[Po]))break e;if((jr||Kt)&&(Kt=Zt.window===Zt?Zt:(Kt=Zt.ownerDocument)?Kt.defaultView||Kt.parentWindow:window,jr?(Dr=k.relatedTarget||k.toElement,jr=Ct,Dr=Dr?ih(Dr):null,Dr!==null&&(Si=De(Dr),Dr!==Si||Dr.tag!==5&&Dr.tag!==6)&&(Dr=null)):(jr=null,Dr=Ct),jr!==Dr)){if(Fr=Wt,sr="onMouseLeave",yt="onMouseEnter",ot="mouse",(p==="pointerout"||p==="pointerover")&&(Fr=Qf,sr="onPointerLeave",yt="onPointerEnter",ot="pointer"),Si=jr==null?Kt:Nm(jr),kt=Dr==null?Kt:Nm(Dr),Kt=new Fr(sr,ot+"leave",jr,k,Zt),Kt.target=Si,Kt.relatedTarget=kt,sr=null,ih(Zt)===Ct&&(Fr=new Fr(yt,ot+"enter",Dr,k,Zt),Fr.target=kt,Fr.relatedTarget=Si,sr=Fr),Si=sr,jr&&Dr)t:{for(Fr=jr,yt=Dr,ot=0,kt=Fr;kt;kt=_m(kt))ot++;for(kt=0,sr=yt;sr;sr=_m(sr))kt++;for(;0<ot-kt;)Fr=_m(Fr),ot--;for(;0<kt-ot;)yt=_m(yt),kt--;for(;ot--;){if(Fr===yt||yt!==null&&Fr===yt.alternate)break t;Fr=_m(Fr),yt=_m(yt)}Fr=null}else Fr=null;jr!==null&&PS(nr,Kt,jr,Fr,!1),Dr!==null&&Si!==null&&PS(nr,Si,Dr,Fr,!0)}}e:{if(Kt=Ct?Nm(Ct):window,jr=Kt.nodeName&&Kt.nodeName.toLowerCase(),jr==="select"||jr==="input"&&Kt.type==="file")var Vr=rd;else if(ed(Kt))if(su)Vr=sh;else{Vr=nh;var Kr=rh}else(jr=Kt.nodeName)&&jr.toLowerCase()==="input"&&(Kt.type==="checkbox"||Kt.type==="radio")&&(Vr=xm);if(Vr&&(Vr=Vr(p,Ct))){Qd(nr,Vr,k,Zt);break e}Kr&&Kr(p,Kt,Ct),p==="focusout"&&(Kr=Kt._wrapperState)&&Kr.controlled&&Kt.type==="number"&&ke(Kt,"number",Kt.value)}switch(Kr=Ct?Nm(Ct):window,p){case"focusin":(ed(Kr)||Kr.contentEditable==="true")&&(rf=Kr,py=Ct,Up=null);break;case"focusout":Up=py=rf=null;break;case"mousedown":gy=!0;break;case"contextmenu":case"mouseup":case"dragend":gy=!1,Bw(nr,k,Zt);break;case"selectionchange":if(Bp)break;case"keydown":case"keyup":Bw(nr,k,Zt)}var Xr;if(nu)e:{switch(p){case"compositionstart":var mn="onCompositionStart";break e;case"compositionend":mn="onCompositionEnd";break e;case"compositionupdate":mn="onCompositionUpdate";break e}mn=void 0}else kc?Mp(p,k)&&(mn="onCompositionEnd"):p==="keydown"&&k.keyCode===229&&(mn="onCompositionStart");mn&&(Yl&&k.locale!=="ko"&&(kc||mn!=="onCompositionStart"?mn==="onCompositionEnd"&&kc&&(Xr=Lg()):(wc=Zt,Jd="value"in wc?wc.value:wc.textContent,kc=!0)),Kr=yy(Ct,mn),0<Kr.length&&(mn=new La(mn,p,null,k,Zt),nr.push({event:mn,listeners:Kr}),Xr?mn.data=Xr:(Xr=Zd(k),Xr!==null&&(mn.data=Xr)))),(Xr=my?Kl(p,k):Xl(p,k))&&(Ct=yy(Ct,"onBeforeInput"),0<Ct.length&&(Zt=new La("onBeforeInput","beforeinput",null,k,Zt),nr.push({event:Zt,listeners:Ct}),Zt.data=Xr))}Hg(nr,y)})}function Kg(p,y,k){return{instance:p,listener:y,currentTarget:k}}function yy(p,y){for(var k=y+"Capture",F=[];p!==null;){var G=p,te=G.stateNode;G.tag===5&&te!==null&&(G=te,te=Ir(p,k),te!=null&&F.unshift(Kg(p,te,G)),te=Ir(p,y),te!=null&&F.push(Kg(p,te,G))),p=p.return}return F}function _m(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function PS(p,y,k,F,G){for(var te=y._reactName,ve=[];k!==null&&k!==F;){var Ge=k,nt=Ge.alternate,Ct=Ge.stateNode;if(nt!==null&&nt===F)break;Ge.tag===5&&Ct!==null&&(Ge=Ct,G?(nt=Ir(k,te),nt!=null&&ve.unshift(Kg(k,nt,Ge))):G||(nt=Ir(k,te),nt!=null&&ve.push(Kg(k,nt,Ge)))),k=k.return}ve.length!==0&&p.push({event:y,listeners:ve})}var EP=/\r\n?/g,PP=/\u0000|\uFFFD/g;function TS(p){return(typeof p=="string"?p:""+p).replace(EP,`
`).replace(PP,"")}function by(p,y,k){if(y=TS(y),TS(p)!==y&&k)throw Error(r(425))}function Vp(){}var Xg=null,jm=null;function Yw(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var Kw=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,DS=typeof Promise=="function"?Promise:void 0,TP=typeof queueMicrotask=="function"?queueMicrotask:typeof DS<"u"?function(p){return DS.resolve(null).then(p).catch(OP)}:Kw;function OP(p){setTimeout(function(){throw p})}function Xw(p,y){var k=y,F=0;do{var G=k.nextSibling;if(p.removeChild(k),G&&G.nodeType===8)if(k=G.data,k==="/$"){if(F===0){p.removeChild(G),Ju(y);return}F--}else k!=="$"&&k!=="$?"&&k!=="$!"||F++;k=G}while(k);Ju(y)}function Zo(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return p}function Ac(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var k=p.data;if(k==="$"||k==="$!"||k==="$?"){if(y===0)return p;y--}else k==="/$"&&y++}p=p.previousSibling}return null}var gl=Math.random().toString(36).slice(2),sd="__reactFiber$"+gl,Wp="__reactProps$"+gl,Po="__reactContainer$"+gl,xl="__reactEvents$"+gl,DP="__reactListeners$"+gl,RP="__reactHandles$"+gl;function ih(p){var y=p[sd];if(y)return y;for(var k=p.parentNode;k;){if(y=k[Po]||k[sd]){if(k=y.alternate,y.child!==null||k!==null&&k.child!==null)for(p=Ac(p);p!==null;){if(k=p[sd])return k;p=Ac(p)}return y}p=k,k=p.parentNode}return null}function Hp(p){return p=p[sd]||p[Po],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Nm(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function Jg(p){return p[Wp]||null}var Jw=[],nf=-1;function iu(p){return{current:p}}function Ss(p){0>nf||(p.current=Jw[nf],Jw[nf]=null,nf--)}function As(p,y){nf++,Jw[nf]=p.current,p.current=y}var oh={},lo=iu(oh),vl=iu(!1),Sm=oh;function Gp(p,y){var k=p.type.contextTypes;if(!k)return oh;var F=p.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===y)return F.__reactInternalMemoizedMaskedChildContext;var G={},te;for(te in k)G[te]=y[te];return F&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=y,p.__reactInternalMemoizedMaskedChildContext=G),G}function yl(p){return p=p.childContextTypes,p!=null}function wy(){Ss(vl),Ss(lo)}function RS(p,y,k){if(lo.current!==oh)throw Error(r(168));As(lo,y),As(vl,k)}function Zw(p,y,k){var F=p.stateNode;if(y=y.childContextTypes,typeof F.getChildContext!="function")return k;F=F.getChildContext();for(var G in F)if(!(G in y))throw Error(r(108,ce(p)||"Unknown",G));return q({},k,F)}function km(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||oh,Sm=lo.current,As(lo,p),As(vl,vl.current),!0}function IS(p,y,k){var F=p.stateNode;if(!F)throw Error(r(169));k?(p=Zw(p,y,Sm),F.__reactInternalMemoizedMergedChildContext=p,Ss(vl),Ss(lo),As(lo,p)):Ss(vl),As(vl,k)}var sf=null,Zg=!1,T=!1;function B(p){sf===null?sf=[p]:sf.push(p)}function ee(p){Zg=!0,B(p)}function ie(){if(!T&&sf!==null){T=!0;var p=0,y=ls;try{var k=sf;for(ls=1;p<k.length;p++){var F=k[p];do F=F(!0);while(F!==null)}sf=null,Zg=!1}catch(G){throw sf!==null&&(sf=sf.slice(p+1)),Lt(An,ie),G}finally{ls=y,T=!1}}return null}var pe=[],be=0,je=null,Ae=0,Te=[],Fe=0,rt=null,vt=1,$e="";function it(p,y){pe[be++]=Ae,pe[be++]=je,je=p,Ae=y}function xt(p,y,k){Te[Fe++]=vt,Te[Fe++]=$e,Te[Fe++]=rt,rt=p;var F=vt;p=$e;var G=32-Ws(F)-1;F&=~(1<<G),k+=1;var te=32-Ws(y)+G;if(30<te){var ve=G-G%5;te=(F&(1<<ve)-1).toString(32),F>>=ve,G-=ve,vt=1<<32-Ws(y)+G|k<<G|F,$e=te+p}else vt=1<<te|k<<G|F,$e=p}function Tt(p){p.return!==null&&(it(p,1),xt(p,1,0))}function bt(p){for(;p===je;)je=pe[--be],pe[be]=null,Ae=pe[--be],pe[be]=null;for(;p===rt;)rt=Te[--Fe],Te[Fe]=null,$e=Te[--Fe],Te[Fe]=null,vt=Te[--Fe],Te[Fe]=null}var Et=null,Pt=null,Ft=!1,$t=null;function Ur(p,y){var k=cd(5,null,null,0);k.elementType="DELETED",k.stateNode=y,k.return=p,y=p.deletions,y===null?(p.deletions=[k],p.flags|=16):y.push(k)}function Sr(p,y){switch(p.tag){case 5:var k=p.type;return y=y.nodeType!==1||k.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(p.stateNode=y,Et=p,Pt=Zo(y.firstChild),!0):!1;case 6:return y=p.pendingProps===""||y.nodeType!==3?null:y,y!==null?(p.stateNode=y,Et=p,Pt=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(k=rt!==null?{id:vt,overflow:$e}:null,p.memoizedState={dehydrated:y,treeContext:k,retryLane:1073741824},k=cd(18,null,null,0),k.stateNode=y,k.return=p,p.child=k,Et=p,Pt=null,!0):!1;default:return!1}}function wn(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Tr(p){if(Ft){var y=Pt;if(y){var k=y;if(!Sr(p,y)){if(wn(p))throw Error(r(418));y=Zo(k.nextSibling);var F=Et;y&&Sr(p,y)?Ur(F,k):(p.flags=p.flags&-4097|2,Ft=!1,Et=p)}}else{if(wn(p))throw Error(r(418));p.flags=p.flags&-4097|2,Ft=!1,Et=p}}}function qn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Et=p}function Pa(p){if(p!==Et)return!1;if(!Ft)return qn(p),Ft=!0,!1;var y;if((y=p.tag!==3)&&!(y=p.tag!==5)&&(y=p.type,y=y!=="head"&&y!=="body"&&!Yw(p.type,p.memoizedProps)),y&&(y=Pt)){if(wn(p))throw _n(),Error(r(418));for(;y;)Ur(p,y),y=Zo(y.nextSibling)}if(qn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8){var k=p.data;if(k==="/$"){if(y===0){Pt=Zo(p.nextSibling);break e}y--}else k!=="$"&&k!=="$!"&&k!=="$?"||y++}p=p.nextSibling}Pt=null}}else Pt=Et?Zo(p.stateNode.nextSibling):null;return!0}function _n(){for(var p=Pt;p;)p=Zo(p.nextSibling)}function kr(){Pt=Et=null,Ft=!1}function fr(p){$t===null?$t=[p]:$t.push(p)}var Ba=N.ReactCurrentBatchConfig;function sn(p,y,k){if(p=k.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(r(309));var F=k.stateNode}if(!F)throw Error(r(147,p));var G=F,te=""+p;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===te?y.ref:(y=function(ve){var Ge=G.refs;ve===null?delete Ge[te]:Ge[te]=ve},y._stringRef=te,y)}if(typeof p!="string")throw Error(r(284));if(!k._owner)throw Error(r(290,p))}return p}function Mn(p,y){throw p=Object.prototype.toString.call(y),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p))}function Gs(p){var y=p._init;return y(p._payload)}function Li(p){function y(yt,ot){if(p){var kt=yt.deletions;kt===null?(yt.deletions=[ot],yt.flags|=16):kt.push(ot)}}function k(yt,ot){if(!p)return null;for(;ot!==null;)y(yt,ot),ot=ot.sibling;return null}function F(yt,ot){for(yt=new Map;ot!==null;)ot.key!==null?yt.set(ot.key,ot):yt.set(ot.index,ot),ot=ot.sibling;return yt}function G(yt,ot){return yt=n0(yt,ot),yt.index=0,yt.sibling=null,yt}function te(yt,ot,kt){return yt.index=kt,p?(kt=yt.alternate,kt!==null?(kt=kt.index,kt<ot?(yt.flags|=2,ot):kt):(yt.flags|=2,ot)):(yt.flags|=1048576,ot)}function ve(yt){return p&&yt.alternate===null&&(yt.flags|=2),yt}function Ge(yt,ot,kt,sr){return ot===null||ot.tag!==6?(ot=cT(kt,yt.mode,sr),ot.return=yt,ot):(ot=G(ot,kt),ot.return=yt,ot)}function nt(yt,ot,kt,sr){var Vr=kt.type;return Vr===A?Zt(yt,ot,kt.props.children,sr,kt.key):ot!==null&&(ot.elementType===Vr||typeof Vr=="object"&&Vr!==null&&Vr.$$typeof===W&&Gs(Vr)===ot.type)?(sr=G(ot,kt.props),sr.ref=sn(yt,ot,kt),sr.return=yt,sr):(sr=tk(kt.type,kt.key,kt.props,null,yt.mode,sr),sr.ref=sn(yt,ot,kt),sr.return=yt,sr)}function Ct(yt,ot,kt,sr){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==kt.containerInfo||ot.stateNode.implementation!==kt.implementation?(ot=uT(kt,yt.mode,sr),ot.return=yt,ot):(ot=G(ot,kt.children||[]),ot.return=yt,ot)}function Zt(yt,ot,kt,sr,Vr){return ot===null||ot.tag!==7?(ot=ix(kt,yt.mode,sr,Vr),ot.return=yt,ot):(ot=G(ot,kt),ot.return=yt,ot)}function nr(yt,ot,kt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ot=cT(""+ot,yt.mode,kt),ot.return=yt,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case S:return kt=tk(ot.type,ot.key,ot.props,null,yt.mode,kt),kt.ref=sn(yt,null,ot),kt.return=yt,kt;case C:return ot=uT(ot,yt.mode,kt),ot.return=yt,ot;case W:var sr=ot._init;return nr(yt,sr(ot._payload),kt)}if(fe(ot)||z(ot))return ot=ix(ot,yt.mode,kt,null),ot.return=yt,ot;Mn(yt,ot)}return null}function Kt(yt,ot,kt,sr){var Vr=ot!==null?ot.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number")return Vr!==null?null:Ge(yt,ot,""+kt,sr);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case S:return kt.key===Vr?nt(yt,ot,kt,sr):null;case C:return kt.key===Vr?Ct(yt,ot,kt,sr):null;case W:return Vr=kt._init,Kt(yt,ot,Vr(kt._payload),sr)}if(fe(kt)||z(kt))return Vr!==null?null:Zt(yt,ot,kt,sr,null);Mn(yt,kt)}return null}function jr(yt,ot,kt,sr,Vr){if(typeof sr=="string"&&sr!==""||typeof sr=="number")return yt=yt.get(kt)||null,Ge(ot,yt,""+sr,Vr);if(typeof sr=="object"&&sr!==null){switch(sr.$$typeof){case S:return yt=yt.get(sr.key===null?kt:sr.key)||null,nt(ot,yt,sr,Vr);case C:return yt=yt.get(sr.key===null?kt:sr.key)||null,Ct(ot,yt,sr,Vr);case W:var Kr=sr._init;return jr(yt,ot,kt,Kr(sr._payload),Vr)}if(fe(sr)||z(sr))return yt=yt.get(kt)||null,Zt(ot,yt,sr,Vr,null);Mn(ot,sr)}return null}function Dr(yt,ot,kt,sr){for(var Vr=null,Kr=null,Xr=ot,mn=ot=0,Io=null;Xr!==null&&mn<kt.length;mn++){Xr.index>mn?(Io=Xr,Xr=null):Io=Xr.sibling;var ys=Kt(yt,Xr,kt[mn],sr);if(ys===null){Xr===null&&(Xr=Io);break}p&&Xr&&ys.alternate===null&&y(yt,Xr),ot=te(ys,ot,mn),Kr===null?Vr=ys:Kr.sibling=ys,Kr=ys,Xr=Io}if(mn===kt.length)return k(yt,Xr),Ft&&it(yt,mn),Vr;if(Xr===null){for(;mn<kt.length;mn++)Xr=nr(yt,kt[mn],sr),Xr!==null&&(ot=te(Xr,ot,mn),Kr===null?Vr=Xr:Kr.sibling=Xr,Kr=Xr);return Ft&&it(yt,mn),Vr}for(Xr=F(yt,Xr);mn<kt.length;mn++)Io=jr(Xr,yt,mn,kt[mn],sr),Io!==null&&(p&&Io.alternate!==null&&Xr.delete(Io.key===null?mn:Io.key),ot=te(Io,ot,mn),Kr===null?Vr=Io:Kr.sibling=Io,Kr=Io);return p&&Xr.forEach(function(s0){return y(yt,s0)}),Ft&&it(yt,mn),Vr}function Fr(yt,ot,kt,sr){var Vr=z(kt);if(typeof Vr!="function")throw Error(r(150));if(kt=Vr.call(kt),kt==null)throw Error(r(151));for(var Kr=Vr=null,Xr=ot,mn=ot=0,Io=null,ys=kt.next();Xr!==null&&!ys.done;mn++,ys=kt.next()){Xr.index>mn?(Io=Xr,Xr=null):Io=Xr.sibling;var s0=Kt(yt,Xr,ys.value,sr);if(s0===null){Xr===null&&(Xr=Io);break}p&&Xr&&s0.alternate===null&&y(yt,Xr),ot=te(s0,ot,mn),Kr===null?Vr=s0:Kr.sibling=s0,Kr=s0,Xr=Io}if(ys.done)return k(yt,Xr),Ft&&it(yt,mn),Vr;if(Xr===null){for(;!ys.done;mn++,ys=kt.next())ys=nr(yt,ys.value,sr),ys!==null&&(ot=te(ys,ot,mn),Kr===null?Vr=ys:Kr.sibling=ys,Kr=ys);return Ft&&it(yt,mn),Vr}for(Xr=F(yt,Xr);!ys.done;mn++,ys=kt.next())ys=jr(Xr,yt,mn,ys.value,sr),ys!==null&&(p&&ys.alternate!==null&&Xr.delete(ys.key===null?mn:ys.key),ot=te(ys,ot,mn),Kr===null?Vr=ys:Kr.sibling=ys,Kr=ys);return p&&Xr.forEach(function(I1e){return y(yt,I1e)}),Ft&&it(yt,mn),Vr}function Si(yt,ot,kt,sr){if(typeof kt=="object"&&kt!==null&&kt.type===A&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case S:e:{for(var Vr=kt.key,Kr=ot;Kr!==null;){if(Kr.key===Vr){if(Vr=kt.type,Vr===A){if(Kr.tag===7){k(yt,Kr.sibling),ot=G(Kr,kt.props.children),ot.return=yt,yt=ot;break e}}else if(Kr.elementType===Vr||typeof Vr=="object"&&Vr!==null&&Vr.$$typeof===W&&Gs(Vr)===Kr.type){k(yt,Kr.sibling),ot=G(Kr,kt.props),ot.ref=sn(yt,Kr,kt),ot.return=yt,yt=ot;break e}k(yt,Kr);break}else y(yt,Kr);Kr=Kr.sibling}kt.type===A?(ot=ix(kt.props.children,yt.mode,sr,kt.key),ot.return=yt,yt=ot):(sr=tk(kt.type,kt.key,kt.props,null,yt.mode,sr),sr.ref=sn(yt,ot,kt),sr.return=yt,yt=sr)}return ve(yt);case C:e:{for(Kr=kt.key;ot!==null;){if(ot.key===Kr)if(ot.tag===4&&ot.stateNode.containerInfo===kt.containerInfo&&ot.stateNode.implementation===kt.implementation){k(yt,ot.sibling),ot=G(ot,kt.children||[]),ot.return=yt,yt=ot;break e}else{k(yt,ot);break}else y(yt,ot);ot=ot.sibling}ot=uT(kt,yt.mode,sr),ot.return=yt,yt=ot}return ve(yt);case W:return Kr=kt._init,Si(yt,ot,Kr(kt._payload),sr)}if(fe(kt))return Dr(yt,ot,kt,sr);if(z(kt))return Fr(yt,ot,kt,sr);Mn(yt,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"?(kt=""+kt,ot!==null&&ot.tag===6?(k(yt,ot.sibling),ot=G(ot,kt),ot.return=yt,yt=ot):(k(yt,ot),ot=cT(kt,yt.mode,sr),ot.return=yt,yt=ot),ve(yt)):k(yt,ot)}return Si}var si=Li(!0),ya=Li(!1),ji=iu(null),$i=null,oa=null,Jn=null;function hs(){Jn=oa=$i=null}function la(p){var y=ji.current;Ss(ji),p._currentValue=y}function ms(p,y,k){for(;p!==null;){var F=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,F!==null&&(F.childLanes|=y)):F!==null&&(F.childLanes&y)!==y&&(F.childLanes|=y),p===k)break;p=p.return}}function Ta(p,y){$i=p,Jn=oa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&y)!==0&&(Pc=!0),p.firstContext=null)}function Oa(p){var y=p._currentValue;if(Jn!==p)if(p={context:p,memoizedValue:y,next:null},oa===null){if($i===null)throw Error(r(308));oa=p,$i.dependencies={lanes:0,firstContext:p}}else oa=oa.next=p;return y}var Is=null;function To(p){Is===null?Is=[p]:Is.push(p)}function Es(p,y,k,F){var G=y.interleaved;return G===null?(k.next=k,To(y)):(k.next=G.next,G.next=k),y.interleaved=k,Fs(p,F)}function Fs(p,y){p.lanes|=y;var k=p.alternate;for(k!==null&&(k.lanes|=y),k=p,p=p.return;p!==null;)p.childLanes|=y,k=p.alternate,k!==null&&(k.childLanes|=y),k=p,p=p.return;return k.tag===3?k.stateNode:null}var ai=!1;function co(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bl(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Ua(p,y){return{eventTime:p,lane:y,tag:0,payload:null,callback:null,next:null}}function za(p,y,k){var F=p.updateQueue;if(F===null)return null;if(F=F.shared,(ps&2)!==0){var G=F.pending;return G===null?y.next=y:(y.next=G.next,G.next=y),F.pending=y,Fs(p,k)}return G=F.interleaved,G===null?(y.next=y,To(F)):(y.next=G.next,G.next=y),F.interleaved=y,Fs(p,k)}function Oo(p,y,k){if(y=y.updateQueue,y!==null&&(y=y.shared,(k&4194240)!==0)){var F=y.lanes;F&=p.pendingLanes,k|=F,y.lanes=k,Pp(p,k)}}function Ms(p,y){var k=p.updateQueue,F=p.alternate;if(F!==null&&(F=F.updateQueue,k===F)){var G=null,te=null;if(k=k.firstBaseUpdate,k!==null){do{var ve={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};te===null?G=te=ve:te=te.next=ve,k=k.next}while(k!==null);te===null?G=te=y:te=te.next=y}else G=te=y;k={baseState:F.baseState,firstBaseUpdate:G,lastBaseUpdate:te,shared:F.shared,effects:F.effects},p.updateQueue=k;return}p=k.lastBaseUpdate,p===null?k.firstBaseUpdate=y:p.next=y,k.lastBaseUpdate=y}function Do(p,y,k,F){var G=p.updateQueue;ai=!1;var te=G.firstBaseUpdate,ve=G.lastBaseUpdate,Ge=G.shared.pending;if(Ge!==null){G.shared.pending=null;var nt=Ge,Ct=nt.next;nt.next=null,ve===null?te=Ct:ve.next=Ct,ve=nt;var Zt=p.alternate;Zt!==null&&(Zt=Zt.updateQueue,Ge=Zt.lastBaseUpdate,Ge!==ve&&(Ge===null?Zt.firstBaseUpdate=Ct:Ge.next=Ct,Zt.lastBaseUpdate=nt))}if(te!==null){var nr=G.baseState;ve=0,Zt=Ct=nt=null,Ge=te;do{var Kt=Ge.lane,jr=Ge.eventTime;if((F&Kt)===Kt){Zt!==null&&(Zt=Zt.next={eventTime:jr,lane:0,tag:Ge.tag,payload:Ge.payload,callback:Ge.callback,next:null});e:{var Dr=p,Fr=Ge;switch(Kt=y,jr=k,Fr.tag){case 1:if(Dr=Fr.payload,typeof Dr=="function"){nr=Dr.call(jr,nr,Kt);break e}nr=Dr;break e;case 3:Dr.flags=Dr.flags&-65537|128;case 0:if(Dr=Fr.payload,Kt=typeof Dr=="function"?Dr.call(jr,nr,Kt):Dr,Kt==null)break e;nr=q({},nr,Kt);break e;case 2:ai=!0}}Ge.callback!==null&&Ge.lane!==0&&(p.flags|=64,Kt=G.effects,Kt===null?G.effects=[Ge]:Kt.push(Ge))}else jr={eventTime:jr,lane:Kt,tag:Ge.tag,payload:Ge.payload,callback:Ge.callback,next:null},Zt===null?(Ct=Zt=jr,nt=nr):Zt=Zt.next=jr,ve|=Kt;if(Ge=Ge.next,Ge===null){if(Ge=G.shared.pending,Ge===null)break;Kt=Ge,Ge=Kt.next,Kt.next=null,G.lastBaseUpdate=Kt,G.shared.pending=null}}while(!0);if(Zt===null&&(nt=nr),G.baseState=nt,G.firstBaseUpdate=Ct,G.lastBaseUpdate=Zt,y=G.shared.interleaved,y!==null){G=y;do ve|=G.lane,G=G.next;while(G!==y)}else te===null&&(G.shared.lanes=0);rx|=ve,p.lanes=ve,p.memoizedState=nr}}function Ec(p,y,k){if(p=y.effects,y.effects=null,p!==null)for(y=0;y<p.length;y++){var F=p[y],G=F.callback;if(G!==null){if(F.callback=null,F=k,typeof G!="function")throw Error(r(191,G));G.call(F)}}}var ou={},Bi=iu(ou),qa=iu(ou),lh=iu(ou);function af(p){if(p===ou)throw Error(r(174));return p}function Yp(p,y){switch(As(lh,y),As(qa,p),As(Bi,ou),p=y.nodeType,p){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:Se(null,"");break;default:p=p===8?y.parentNode:y,y=p.namespaceURI||null,p=p.tagName,y=Se(y,p)}Ss(Bi),As(Bi,y)}function ad(){Ss(Bi),Ss(qa),Ss(lh)}function FS(p){af(lh.current);var y=af(Bi.current),k=Se(y,p.type);y!==k&&(As(qa,p),As(Bi,k))}function Qw(p){qa.current===p&&(Ss(Bi),Ss(qa))}var Zs=iu(0);function lu(p){for(var y=p;y!==null;){if(y.tag===13){var k=y.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var e_=[];function t_(){for(var p=0;p<e_.length;p++)e_[p]._workInProgressVersionPrimary=null;e_.length=0}var _y=N.ReactCurrentDispatcher,jy=N.ReactCurrentBatchConfig,id=0,ca=null,ii=null,Va=null,Kp=!1,of=!1,Xp=0,IP=0;function Ni(){throw Error(r(321))}function Ny(p,y){if(y===null)return!1;for(var k=0;k<y.length&&k<p.length;k++)if(!Aa(p[k],y[k]))return!1;return!0}function Qg(p,y,k,F,G,te){if(id=te,ca=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,_y.current=p===null||p.memoizedState===null?o1e:l1e,p=k(F,G),of){te=0;do{if(of=!1,Xp=0,25<=te)throw Error(r(301));te+=1,Va=ii=null,y.updateQueue=null,_y.current=c1e,p=k(F,G)}while(of)}if(_y.current=US,y=ii!==null&&ii.next!==null,id=0,Va=ii=ca=null,Kp=!1,y)throw Error(r(300));return p}function od(){var p=Xp!==0;return Xp=0,p}function cu(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Va===null?ca.memoizedState=Va=p:Va=Va.next=p,Va}function Jl(){if(ii===null){var p=ca.alternate;p=p!==null?p.memoizedState:null}else p=ii.next;var y=Va===null?ca.memoizedState:Va.next;if(y!==null)Va=y,ii=p;else{if(p===null)throw Error(r(310));ii=p,p={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},Va===null?ca.memoizedState=Va=p:Va=Va.next=p}return Va}function ex(p,y){return typeof y=="function"?y(p):y}function Sy(p){var y=Jl(),k=y.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var F=ii,G=F.baseQueue,te=k.pending;if(te!==null){if(G!==null){var ve=G.next;G.next=te.next,te.next=ve}F.baseQueue=G=te,k.pending=null}if(G!==null){te=G.next,F=F.baseState;var Ge=ve=null,nt=null,Ct=te;do{var Zt=Ct.lane;if((id&Zt)===Zt)nt!==null&&(nt=nt.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),F=Ct.hasEagerState?Ct.eagerState:p(F,Ct.action);else{var nr={lane:Zt,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};nt===null?(Ge=nt=nr,ve=F):nt=nt.next=nr,ca.lanes|=Zt,rx|=Zt}Ct=Ct.next}while(Ct!==null&&Ct!==te);nt===null?ve=F:nt.next=Ge,Aa(F,y.memoizedState)||(Pc=!0),y.memoizedState=F,y.baseState=ve,y.baseQueue=nt,k.lastRenderedState=F}if(p=k.interleaved,p!==null){G=p;do te=G.lane,ca.lanes|=te,rx|=te,G=G.next;while(G!==p)}else G===null&&(k.lanes=0);return[y.memoizedState,k.dispatch]}function ch(p){var y=Jl(),k=y.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var F=k.dispatch,G=k.pending,te=y.memoizedState;if(G!==null){k.pending=null;var ve=G=G.next;do te=p(te,ve.action),ve=ve.next;while(ve!==G);Aa(te,y.memoizedState)||(Pc=!0),y.memoizedState=te,y.baseQueue===null&&(y.baseState=te),k.lastRenderedState=te}return[te,F]}function MS(){}function r_(p,y){var k=ca,F=Jl(),G=y(),te=!Aa(F.memoizedState,G);if(te&&(F.memoizedState=G,Pc=!0),F=F.queue,Ay($S.bind(null,k,F,p),[p]),F.getSnapshot!==y||te||Va!==null&&Va.memoizedState.tag&1){if(k.flags|=2048,Zl(9,n_.bind(null,k,F,G,y),void 0,null),Ro===null)throw Error(r(349));(id&30)!==0||LS(k,y,G)}return G}function LS(p,y,k){p.flags|=16384,p={getSnapshot:y,value:k},y=ca.updateQueue,y===null?(y={lastEffect:null,stores:null},ca.updateQueue=y,y.stores=[p]):(k=y.stores,k===null?y.stores=[p]:k.push(p))}function n_(p,y,k,F){y.value=k,y.getSnapshot=F,Jp(y)&&ky(p)}function $S(p,y,k){return k(function(){Jp(y)&&ky(p)})}function Jp(p){var y=p.getSnapshot;p=p.value;try{var k=y();return!Aa(p,k)}catch{return!0}}function ky(p){var y=Fs(p,1);y!==null&&ff(y,p,1,-1)}function tx(p){var y=cu();return typeof p=="function"&&(p=p()),y.memoizedState=y.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ex,lastRenderedState:p},y.queue=p,p=p.dispatch=i1e.bind(null,ca,p),[y.memoizedState,p]}function Zl(p,y,k,F){return p={tag:p,create:y,destroy:k,deps:F,next:null},y=ca.updateQueue,y===null?(y={lastEffect:null,stores:null},ca.updateQueue=y,y.lastEffect=p.next=p):(k=y.lastEffect,k===null?y.lastEffect=p.next=p:(F=k.next,k.next=p,p.next=F,y.lastEffect=p)),p}function lf(){return Jl().memoizedState}function uu(p,y,k,F){var G=cu();ca.flags|=p,G.memoizedState=Zl(1|y,k,void 0,F===void 0?null:F)}function Cm(p,y,k,F){var G=Jl();F=F===void 0?null:F;var te=void 0;if(ii!==null){var ve=ii.memoizedState;if(te=ve.destroy,F!==null&&Ny(F,ve.deps)){G.memoizedState=Zl(y,k,te,F);return}}ca.flags|=p,G.memoizedState=Zl(1|y,k,te,F)}function Cy(p,y){return uu(8390656,8,p,y)}function Ay(p,y){return Cm(2048,8,p,y)}function BS(p,y){return Cm(4,2,p,y)}function Ey(p,y){return Cm(4,4,p,y)}function Py(p,y){if(typeof y=="function")return p=p(),y(p),function(){y(null)};if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function yU(p,y,k){return k=k!=null?k.concat([p]):null,Cm(4,4,Py.bind(null,y,p),k)}function FP(){}function bU(p,y){var k=Jl();y=y===void 0?null:y;var F=k.memoizedState;return F!==null&&y!==null&&Ny(y,F[1])?F[0]:(k.memoizedState=[p,y],p)}function wU(p,y){var k=Jl();y=y===void 0?null:y;var F=k.memoizedState;return F!==null&&y!==null&&Ny(y,F[1])?F[0]:(p=p(),k.memoizedState=[p,y],p)}function _U(p,y,k){return(id&21)===0?(p.baseState&&(p.baseState=!1,Pc=!0),p.memoizedState=k):(Aa(k,y)||(k=ly(),ca.lanes|=k,rx|=k,p.baseState=!0),y)}function s1e(p,y){var k=ls;ls=k!==0&&4>k?k:4,p(!0);var F=jy.transition;jy.transition={};try{p(!1),y()}finally{ls=k,jy.transition=F}}function jU(){return Jl().memoizedState}function a1e(p,y,k){var F=t0(p);if(k={lane:F,action:k,hasEagerState:!1,eagerState:null,next:null},NU(p))SU(y,k);else if(k=Es(p,y,k,F),k!==null){var G=ec();ff(k,p,F,G),kU(k,y,F)}}function i1e(p,y,k){var F=t0(p),G={lane:F,action:k,hasEagerState:!1,eagerState:null,next:null};if(NU(p))SU(y,G);else{var te=p.alternate;if(p.lanes===0&&(te===null||te.lanes===0)&&(te=y.lastRenderedReducer,te!==null))try{var ve=y.lastRenderedState,Ge=te(ve,k);if(G.hasEagerState=!0,G.eagerState=Ge,Aa(Ge,ve)){var nt=y.interleaved;nt===null?(G.next=G,To(y)):(G.next=nt.next,nt.next=G),y.interleaved=G;return}}catch{}finally{}k=Es(p,y,G,F),k!==null&&(G=ec(),ff(k,p,F,G),kU(k,y,F))}}function NU(p){var y=p.alternate;return p===ca||y!==null&&y===ca}function SU(p,y){of=Kp=!0;var k=p.pending;k===null?y.next=y:(y.next=k.next,k.next=y),p.pending=y}function kU(p,y,k){if((k&4194240)!==0){var F=y.lanes;F&=p.pendingLanes,k|=F,y.lanes=k,Pp(p,k)}}var US={readContext:Oa,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},o1e={readContext:Oa,useCallback:function(p,y){return cu().memoizedState=[p,y===void 0?null:y],p},useContext:Oa,useEffect:Cy,useImperativeHandle:function(p,y,k){return k=k!=null?k.concat([p]):null,uu(4194308,4,Py.bind(null,y,p),k)},useLayoutEffect:function(p,y){return uu(4194308,4,p,y)},useInsertionEffect:function(p,y){return uu(4,2,p,y)},useMemo:function(p,y){var k=cu();return y=y===void 0?null:y,p=p(),k.memoizedState=[p,y],p},useReducer:function(p,y,k){var F=cu();return y=k!==void 0?k(y):y,F.memoizedState=F.baseState=y,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:y},F.queue=p,p=p.dispatch=a1e.bind(null,ca,p),[F.memoizedState,p]},useRef:function(p){var y=cu();return p={current:p},y.memoizedState=p},useState:tx,useDebugValue:FP,useDeferredValue:function(p){return cu().memoizedState=p},useTransition:function(){var p=tx(!1),y=p[0];return p=s1e.bind(null,p[1]),cu().memoizedState=p,[y,p]},useMutableSource:function(){},useSyncExternalStore:function(p,y,k){var F=ca,G=cu();if(Ft){if(k===void 0)throw Error(r(407));k=k()}else{if(k=y(),Ro===null)throw Error(r(349));(id&30)!==0||LS(F,y,k)}G.memoizedState=k;var te={value:k,getSnapshot:y};return G.queue=te,Cy($S.bind(null,F,te,p),[p]),F.flags|=2048,Zl(9,n_.bind(null,F,te,k,y),void 0,null),k},useId:function(){var p=cu(),y=Ro.identifierPrefix;if(Ft){var k=$e,F=vt;k=(F&~(1<<32-Ws(F)-1)).toString(32)+k,y=":"+y+"R"+k,k=Xp++,0<k&&(y+="H"+k.toString(32)),y+=":"}else k=IP++,y=":"+y+"r"+k.toString(32)+":";return p.memoizedState=y},unstable_isNewReconciler:!1},l1e={readContext:Oa,useCallback:bU,useContext:Oa,useEffect:Ay,useImperativeHandle:yU,useInsertionEffect:BS,useLayoutEffect:Ey,useMemo:wU,useReducer:Sy,useRef:lf,useState:function(){return Sy(ex)},useDebugValue:FP,useDeferredValue:function(p){var y=Jl();return _U(y,ii.memoizedState,p)},useTransition:function(){var p=Sy(ex)[0],y=Jl().memoizedState;return[p,y]},useMutableSource:MS,useSyncExternalStore:r_,useId:jU,unstable_isNewReconciler:!1},c1e={readContext:Oa,useCallback:bU,useContext:Oa,useEffect:Ay,useImperativeHandle:yU,useInsertionEffect:BS,useLayoutEffect:Ey,useMemo:wU,useReducer:ch,useRef:lf,useState:function(){return ch(ex)},useDebugValue:FP,useDeferredValue:function(p){var y=Jl();return ii===null?y.memoizedState=p:_U(y,ii.memoizedState,p)},useTransition:function(){var p=ch(ex)[0],y=Jl().memoizedState;return[p,y]},useMutableSource:MS,useSyncExternalStore:r_,useId:jU,unstable_isNewReconciler:!1};function cf(p,y){if(p&&p.defaultProps){y=q({},y),p=p.defaultProps;for(var k in p)y[k]===void 0&&(y[k]=p[k]);return y}return y}function MP(p,y,k,F){y=p.memoizedState,k=k(F,y),k=k==null?y:q({},y,k),p.memoizedState=k,p.lanes===0&&(p.updateQueue.baseState=k)}var zS={isMounted:function(p){return(p=p._reactInternals)?De(p)===p:!1},enqueueSetState:function(p,y,k){p=p._reactInternals;var F=ec(),G=t0(p),te=Ua(F,G);te.payload=y,k!=null&&(te.callback=k),y=za(p,te,G),y!==null&&(ff(y,p,G,F),Oo(y,p,G))},enqueueReplaceState:function(p,y,k){p=p._reactInternals;var F=ec(),G=t0(p),te=Ua(F,G);te.tag=1,te.payload=y,k!=null&&(te.callback=k),y=za(p,te,G),y!==null&&(ff(y,p,G,F),Oo(y,p,G))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var k=ec(),F=t0(p),G=Ua(k,F);G.tag=2,y!=null&&(G.callback=y),y=za(p,G,F),y!==null&&(ff(y,p,F,k),Oo(y,p,F))}};function CU(p,y,k,F,G,te,ve){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(F,te,ve):y.prototype&&y.prototype.isPureReactComponent?!pl(k,F)||!pl(G,te):!0}function AU(p,y,k){var F=!1,G=oh,te=y.contextType;return typeof te=="object"&&te!==null?te=Oa(te):(G=yl(y)?Sm:lo.current,F=y.contextTypes,te=(F=F!=null)?Gp(p,G):oh),y=new y(k,te),p.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=zS,p.stateNode=y,y._reactInternals=p,F&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=G,p.__reactInternalMemoizedMaskedChildContext=te),y}function EU(p,y,k,F){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(k,F),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(k,F),y.state!==p&&zS.enqueueReplaceState(y,y.state,null)}function LP(p,y,k,F){var G=p.stateNode;G.props=k,G.state=p.memoizedState,G.refs={},co(p);var te=y.contextType;typeof te=="object"&&te!==null?G.context=Oa(te):(te=yl(y)?Sm:lo.current,G.context=Gp(p,te)),G.state=p.memoizedState,te=y.getDerivedStateFromProps,typeof te=="function"&&(MP(p,y,te,k),G.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(y=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),y!==G.state&&zS.enqueueReplaceState(G,G.state,null),Do(p,k,G,F),G.state=p.memoizedState),typeof G.componentDidMount=="function"&&(p.flags|=4194308)}function Ty(p,y){try{var k="",F=y;do k+=Q(F),F=F.return;while(F);var G=k}catch(te){G=`
Error generating stack: `+te.message+`
`+te.stack}return{value:p,source:y,stack:G,digest:null}}function $P(p,y,k){return{value:p,source:null,stack:k??null,digest:y??null}}function BP(p,y){try{console.error(y.value)}catch(k){setTimeout(function(){throw k})}}var u1e=typeof WeakMap=="function"?WeakMap:Map;function PU(p,y,k){k=Ua(-1,k),k.tag=3,k.payload={element:null};var F=y.value;return k.callback=function(){KS||(KS=!0,tT=F),BP(p,y)},k}function TU(p,y,k){k=Ua(-1,k),k.tag=3;var F=p.type.getDerivedStateFromError;if(typeof F=="function"){var G=y.value;k.payload=function(){return F(G)},k.callback=function(){BP(p,y)}}var te=p.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(k.callback=function(){BP(p,y),typeof F!="function"&&(Qp===null?Qp=new Set([this]):Qp.add(this));var ve=y.stack;this.componentDidCatch(y.value,{componentStack:ve!==null?ve:""})}),k}function OU(p,y,k){var F=p.pingCache;if(F===null){F=p.pingCache=new u1e;var G=new Set;F.set(y,G)}else G=F.get(y),G===void 0&&(G=new Set,F.set(y,G));G.has(k)||(G.add(k),p=N1e.bind(null,p,y,k),y.then(p,p))}function DU(p){do{var y;if((y=p.tag===13)&&(y=p.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return p;p=p.return}while(p!==null);return null}function RU(p,y,k,F,G){return(p.mode&1)===0?(p===y?p.flags|=65536:(p.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(y=Ua(-1,1),y.tag=2,za(k,y,1))),k.lanes|=1),p):(p.flags|=65536,p.lanes=G,p)}var d1e=N.ReactCurrentOwner,Pc=!1;function Ql(p,y,k,F){y.child=p===null?ya(y,null,k,F):si(y,p.child,k,F)}function IU(p,y,k,F,G){k=k.render;var te=y.ref;return Ta(y,G),F=Qg(p,y,k,F,te,G),k=od(),p!==null&&!Pc?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~G,Am(p,y,G)):(Ft&&k&&Tt(y),y.flags|=1,Ql(p,y,F,G),y.child)}function FU(p,y,k,F,G){if(p===null){var te=k.type;return typeof te=="function"&&!lT(te)&&te.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(y.tag=15,y.type=te,MU(p,y,te,F,G)):(p=tk(k.type,null,F,y,y.mode,G),p.ref=y.ref,p.return=y,y.child=p)}if(te=p.child,(p.lanes&G)===0){var ve=te.memoizedProps;if(k=k.compare,k=k!==null?k:pl,k(ve,F)&&p.ref===y.ref)return Am(p,y,G)}return y.flags|=1,p=n0(te,F),p.ref=y.ref,p.return=y,y.child=p}function MU(p,y,k,F,G){if(p!==null){var te=p.memoizedProps;if(pl(te,F)&&p.ref===y.ref)if(Pc=!1,y.pendingProps=F=te,(p.lanes&G)!==0)(p.flags&131072)!==0&&(Pc=!0);else return y.lanes=p.lanes,Am(p,y,G)}return UP(p,y,k,F,G)}function LU(p,y,k){var F=y.pendingProps,G=F.children,te=p!==null?p.memoizedState:null;if(F.mode==="hidden")if((y.mode&1)===0)y.memoizedState={baseLanes:0,cachePool:null,transitions:null},As(Dy,du),du|=k;else{if((k&1073741824)===0)return p=te!==null?te.baseLanes|k:k,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:p,cachePool:null,transitions:null},y.updateQueue=null,As(Dy,du),du|=p,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=te!==null?te.baseLanes:k,As(Dy,du),du|=F}else te!==null?(F=te.baseLanes|k,y.memoizedState=null):F=k,As(Dy,du),du|=F;return Ql(p,y,G,k),y.child}function $U(p,y){var k=y.ref;(p===null&&k!==null||p!==null&&p.ref!==k)&&(y.flags|=512,y.flags|=2097152)}function UP(p,y,k,F,G){var te=yl(k)?Sm:lo.current;return te=Gp(y,te),Ta(y,G),k=Qg(p,y,k,F,te,G),F=od(),p!==null&&!Pc?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~G,Am(p,y,G)):(Ft&&F&&Tt(y),y.flags|=1,Ql(p,y,k,G),y.child)}function BU(p,y,k,F,G){if(yl(k)){var te=!0;km(y)}else te=!1;if(Ta(y,G),y.stateNode===null)VS(p,y),AU(y,k,F),LP(y,k,F,G),F=!0;else if(p===null){var ve=y.stateNode,Ge=y.memoizedProps;ve.props=Ge;var nt=ve.context,Ct=k.contextType;typeof Ct=="object"&&Ct!==null?Ct=Oa(Ct):(Ct=yl(k)?Sm:lo.current,Ct=Gp(y,Ct));var Zt=k.getDerivedStateFromProps,nr=typeof Zt=="function"||typeof ve.getSnapshotBeforeUpdate=="function";nr||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Ge!==F||nt!==Ct)&&EU(y,ve,F,Ct),ai=!1;var Kt=y.memoizedState;ve.state=Kt,Do(y,F,ve,G),nt=y.memoizedState,Ge!==F||Kt!==nt||vl.current||ai?(typeof Zt=="function"&&(MP(y,k,Zt,F),nt=y.memoizedState),(Ge=ai||CU(y,k,Ge,F,Kt,nt,Ct))?(nr||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(y.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=F,y.memoizedState=nt),ve.props=F,ve.state=nt,ve.context=Ct,F=Ge):(typeof ve.componentDidMount=="function"&&(y.flags|=4194308),F=!1)}else{ve=y.stateNode,bl(p,y),Ge=y.memoizedProps,Ct=y.type===y.elementType?Ge:cf(y.type,Ge),ve.props=Ct,nr=y.pendingProps,Kt=ve.context,nt=k.contextType,typeof nt=="object"&&nt!==null?nt=Oa(nt):(nt=yl(k)?Sm:lo.current,nt=Gp(y,nt));var jr=k.getDerivedStateFromProps;(Zt=typeof jr=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Ge!==nr||Kt!==nt)&&EU(y,ve,F,nt),ai=!1,Kt=y.memoizedState,ve.state=Kt,Do(y,F,ve,G);var Dr=y.memoizedState;Ge!==nr||Kt!==Dr||vl.current||ai?(typeof jr=="function"&&(MP(y,k,jr,F),Dr=y.memoizedState),(Ct=ai||CU(y,k,Ct,F,Kt,Dr,nt)||!1)?(Zt||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(F,Dr,nt),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(F,Dr,nt)),typeof ve.componentDidUpdate=="function"&&(y.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Ge===p.memoizedProps&&Kt===p.memoizedState||(y.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Ge===p.memoizedProps&&Kt===p.memoizedState||(y.flags|=1024),y.memoizedProps=F,y.memoizedState=Dr),ve.props=F,ve.state=Dr,ve.context=nt,F=Ct):(typeof ve.componentDidUpdate!="function"||Ge===p.memoizedProps&&Kt===p.memoizedState||(y.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Ge===p.memoizedProps&&Kt===p.memoizedState||(y.flags|=1024),F=!1)}return zP(p,y,k,F,te,G)}function zP(p,y,k,F,G,te){$U(p,y);var ve=(y.flags&128)!==0;if(!F&&!ve)return G&&IS(y,k,!1),Am(p,y,te);F=y.stateNode,d1e.current=y;var Ge=ve&&typeof k.getDerivedStateFromError!="function"?null:F.render();return y.flags|=1,p!==null&&ve?(y.child=si(y,p.child,null,te),y.child=si(y,null,Ge,te)):Ql(p,y,Ge,te),y.memoizedState=F.state,G&&IS(y,k,!0),y.child}function UU(p){var y=p.stateNode;y.pendingContext?RS(p,y.pendingContext,y.pendingContext!==y.context):y.context&&RS(p,y.context,!1),Yp(p,y.containerInfo)}function zU(p,y,k,F,G){return kr(),fr(G),y.flags|=256,Ql(p,y,k,F),y.child}var qP={dehydrated:null,treeContext:null,retryLane:0};function VP(p){return{baseLanes:p,cachePool:null,transitions:null}}function qU(p,y,k){var F=y.pendingProps,G=Zs.current,te=!1,ve=(y.flags&128)!==0,Ge;if((Ge=ve)||(Ge=p!==null&&p.memoizedState===null?!1:(G&2)!==0),Ge?(te=!0,y.flags&=-129):(p===null||p.memoizedState!==null)&&(G|=1),As(Zs,G&1),p===null)return Tr(y),p=y.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((y.mode&1)===0?y.lanes=1:p.data==="$!"?y.lanes=8:y.lanes=1073741824,null):(ve=F.children,p=F.fallback,te?(F=y.mode,te=y.child,ve={mode:"hidden",children:ve},(F&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=ve):te=rk(ve,F,0,null),p=ix(p,F,k,null),te.return=y,p.return=y,te.sibling=p,y.child=te,y.child.memoizedState=VP(k),y.memoizedState=qP,p):WP(y,ve));if(G=p.memoizedState,G!==null&&(Ge=G.dehydrated,Ge!==null))return f1e(p,y,ve,F,Ge,G,k);if(te){te=F.fallback,ve=y.mode,G=p.child,Ge=G.sibling;var nt={mode:"hidden",children:F.children};return(ve&1)===0&&y.child!==G?(F=y.child,F.childLanes=0,F.pendingProps=nt,y.deletions=null):(F=n0(G,nt),F.subtreeFlags=G.subtreeFlags&14680064),Ge!==null?te=n0(Ge,te):(te=ix(te,ve,k,null),te.flags|=2),te.return=y,F.return=y,F.sibling=te,y.child=F,F=te,te=y.child,ve=p.child.memoizedState,ve=ve===null?VP(k):{baseLanes:ve.baseLanes|k,cachePool:null,transitions:ve.transitions},te.memoizedState=ve,te.childLanes=p.childLanes&~k,y.memoizedState=qP,F}return te=p.child,p=te.sibling,F=n0(te,{mode:"visible",children:F.children}),(y.mode&1)===0&&(F.lanes=k),F.return=y,F.sibling=null,p!==null&&(k=y.deletions,k===null?(y.deletions=[p],y.flags|=16):k.push(p)),y.child=F,y.memoizedState=null,F}function WP(p,y){return y=rk({mode:"visible",children:y},p.mode,0,null),y.return=p,p.child=y}function qS(p,y,k,F){return F!==null&&fr(F),si(y,p.child,null,k),p=WP(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function f1e(p,y,k,F,G,te,ve){if(k)return y.flags&256?(y.flags&=-257,F=$P(Error(r(422))),qS(p,y,ve,F)):y.memoizedState!==null?(y.child=p.child,y.flags|=128,null):(te=F.fallback,G=y.mode,F=rk({mode:"visible",children:F.children},G,0,null),te=ix(te,G,ve,null),te.flags|=2,F.return=y,te.return=y,F.sibling=te,y.child=F,(y.mode&1)!==0&&si(y,p.child,null,ve),y.child.memoizedState=VP(ve),y.memoizedState=qP,te);if((y.mode&1)===0)return qS(p,y,ve,null);if(G.data==="$!"){if(F=G.nextSibling&&G.nextSibling.dataset,F)var Ge=F.dgst;return F=Ge,te=Error(r(419)),F=$P(te,F,void 0),qS(p,y,ve,F)}if(Ge=(ve&p.childLanes)!==0,Pc||Ge){if(F=Ro,F!==null){switch(ve&-ve){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}G=(G&(F.suspendedLanes|ve))!==0?0:G,G!==0&&G!==te.retryLane&&(te.retryLane=G,Fs(p,G),ff(F,p,G,-1))}return oT(),F=$P(Error(r(421))),qS(p,y,ve,F)}return G.data==="$?"?(y.flags|=128,y.child=p.child,y=S1e.bind(null,p),G._reactRetry=y,null):(p=te.treeContext,Pt=Zo(G.nextSibling),Et=y,Ft=!0,$t=null,p!==null&&(Te[Fe++]=vt,Te[Fe++]=$e,Te[Fe++]=rt,vt=p.id,$e=p.overflow,rt=y),y=WP(y,F.children),y.flags|=4096,y)}function VU(p,y,k){p.lanes|=y;var F=p.alternate;F!==null&&(F.lanes|=y),ms(p.return,y,k)}function HP(p,y,k,F,G){var te=p.memoizedState;te===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:F,tail:k,tailMode:G}:(te.isBackwards=y,te.rendering=null,te.renderingStartTime=0,te.last=F,te.tail=k,te.tailMode=G)}function WU(p,y,k){var F=y.pendingProps,G=F.revealOrder,te=F.tail;if(Ql(p,y,F.children,k),F=Zs.current,(F&2)!==0)F=F&1|2,y.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&VU(p,k,y);else if(p.tag===19)VU(p,k,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}F&=1}if(As(Zs,F),(y.mode&1)===0)y.memoizedState=null;else switch(G){case"forwards":for(k=y.child,G=null;k!==null;)p=k.alternate,p!==null&&lu(p)===null&&(G=k),k=k.sibling;k=G,k===null?(G=y.child,y.child=null):(G=k.sibling,k.sibling=null),HP(y,!1,G,k,te);break;case"backwards":for(k=null,G=y.child,y.child=null;G!==null;){if(p=G.alternate,p!==null&&lu(p)===null){y.child=G;break}p=G.sibling,G.sibling=k,k=G,G=p}HP(y,!0,k,null,te);break;case"together":HP(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function VS(p,y){(y.mode&1)===0&&p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2)}function Am(p,y,k){if(p!==null&&(y.dependencies=p.dependencies),rx|=y.lanes,(k&y.childLanes)===0)return null;if(p!==null&&y.child!==p.child)throw Error(r(153));if(y.child!==null){for(p=y.child,k=n0(p,p.pendingProps),y.child=k,k.return=y;p.sibling!==null;)p=p.sibling,k=k.sibling=n0(p,p.pendingProps),k.return=y;k.sibling=null}return y.child}function h1e(p,y,k){switch(y.tag){case 3:UU(y),kr();break;case 5:FS(y);break;case 1:yl(y.type)&&km(y);break;case 4:Yp(y,y.stateNode.containerInfo);break;case 10:var F=y.type._context,G=y.memoizedProps.value;As(ji,F._currentValue),F._currentValue=G;break;case 13:if(F=y.memoizedState,F!==null)return F.dehydrated!==null?(As(Zs,Zs.current&1),y.flags|=128,null):(k&y.child.childLanes)!==0?qU(p,y,k):(As(Zs,Zs.current&1),p=Am(p,y,k),p!==null?p.sibling:null);As(Zs,Zs.current&1);break;case 19:if(F=(k&y.childLanes)!==0,(p.flags&128)!==0){if(F)return WU(p,y,k);y.flags|=128}if(G=y.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),As(Zs,Zs.current),F)break;return null;case 22:case 23:return y.lanes=0,LU(p,y,k)}return Am(p,y,k)}var HU,GP,GU,YU;HU=function(p,y){for(var k=y.child;k!==null;){if(k.tag===5||k.tag===6)p.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},GP=function(){},GU=function(p,y,k,F){var G=p.memoizedProps;if(G!==F){p=y.stateNode,af(Bi.current);var te=null;switch(k){case"input":G=re(p,G),F=re(p,F),te=[];break;case"select":G=q({},G,{value:void 0}),F=q({},F,{value:void 0}),te=[];break;case"textarea":G=qe(p,G),F=qe(p,F),te=[];break;default:typeof G.onClick!="function"&&typeof F.onClick=="function"&&(p.onclick=Vp)}Ue(k,F);var ve;k=null;for(Ct in G)if(!F.hasOwnProperty(Ct)&&G.hasOwnProperty(Ct)&&G[Ct]!=null)if(Ct==="style"){var Ge=G[Ct];for(ve in Ge)Ge.hasOwnProperty(ve)&&(k||(k={}),k[ve]="")}else Ct!=="dangerouslySetInnerHTML"&&Ct!=="children"&&Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(a.hasOwnProperty(Ct)?te||(te=[]):(te=te||[]).push(Ct,null));for(Ct in F){var nt=F[Ct];if(Ge=G?.[Ct],F.hasOwnProperty(Ct)&&nt!==Ge&&(nt!=null||Ge!=null))if(Ct==="style")if(Ge){for(ve in Ge)!Ge.hasOwnProperty(ve)||nt&&nt.hasOwnProperty(ve)||(k||(k={}),k[ve]="");for(ve in nt)nt.hasOwnProperty(ve)&&Ge[ve]!==nt[ve]&&(k||(k={}),k[ve]=nt[ve])}else k||(te||(te=[]),te.push(Ct,k)),k=nt;else Ct==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,Ge=Ge?Ge.__html:void 0,nt!=null&&Ge!==nt&&(te=te||[]).push(Ct,nt)):Ct==="children"?typeof nt!="string"&&typeof nt!="number"||(te=te||[]).push(Ct,""+nt):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ct)?(nt!=null&&Ct==="onScroll"&&Rs("scroll",p),te||Ge===nt||(te=[])):(te=te||[]).push(Ct,nt))}k&&(te=te||[]).push("style",k);var Ct=te;(y.updateQueue=Ct)&&(y.flags|=4)}},YU=function(p,y,k,F){k!==F&&(y.flags|=4)};function s_(p,y){if(!Ft)switch(p.tailMode){case"hidden":y=p.tail;for(var k=null;y!==null;)y.alternate!==null&&(k=y),y=y.sibling;k===null?p.tail=null:k.sibling=null;break;case"collapsed":k=p.tail;for(var F=null;k!==null;)k.alternate!==null&&(F=k),k=k.sibling;F===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:F.sibling=null}}function wl(p){var y=p.alternate!==null&&p.alternate.child===p.child,k=0,F=0;if(y)for(var G=p.child;G!==null;)k|=G.lanes|G.childLanes,F|=G.subtreeFlags&14680064,F|=G.flags&14680064,G.return=p,G=G.sibling;else for(G=p.child;G!==null;)k|=G.lanes|G.childLanes,F|=G.subtreeFlags,F|=G.flags,G.return=p,G=G.sibling;return p.subtreeFlags|=F,p.childLanes=k,y}function m1e(p,y,k){var F=y.pendingProps;switch(bt(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wl(y),null;case 1:return yl(y.type)&&wy(),wl(y),null;case 3:return F=y.stateNode,ad(),Ss(vl),Ss(lo),t_(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(p===null||p.child===null)&&(Pa(y)?y.flags|=4:p===null||p.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,$t!==null&&(sT($t),$t=null))),GP(p,y),wl(y),null;case 5:Qw(y);var G=af(lh.current);if(k=y.type,p!==null&&y.stateNode!=null)GU(p,y,k,F,G),p.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!F){if(y.stateNode===null)throw Error(r(166));return wl(y),null}if(p=af(Bi.current),Pa(y)){F=y.stateNode,k=y.type;var te=y.memoizedProps;switch(F[sd]=y,F[Wp]=te,p=(y.mode&1)!==0,k){case"dialog":Rs("cancel",F),Rs("close",F);break;case"iframe":case"object":case"embed":Rs("load",F);break;case"video":case"audio":for(G=0;G<ah.length;G++)Rs(ah[G],F);break;case"source":Rs("error",F);break;case"img":case"image":case"link":Rs("error",F),Rs("load",F);break;case"details":Rs("toggle",F);break;case"input":le(F,te),Rs("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!te.multiple},Rs("invalid",F);break;case"textarea":Qe(F,te),Rs("invalid",F)}Ue(k,te),G=null;for(var ve in te)if(te.hasOwnProperty(ve)){var Ge=te[ve];ve==="children"?typeof Ge=="string"?F.textContent!==Ge&&(te.suppressHydrationWarning!==!0&&by(F.textContent,Ge,p),G=["children",Ge]):typeof Ge=="number"&&F.textContent!==""+Ge&&(te.suppressHydrationWarning!==!0&&by(F.textContent,Ge,p),G=["children",""+Ge]):a.hasOwnProperty(ve)&&Ge!=null&&ve==="onScroll"&&Rs("scroll",F)}switch(k){case"input":se(F),Le(F,te,!0);break;case"textarea":se(F),Ye(F);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(F.onclick=Vp)}F=G,y.updateQueue=F,F!==null&&(y.flags|=4)}else{ve=G.nodeType===9?G:G.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=me(k)),p==="http://www.w3.org/1999/xhtml"?k==="script"?(p=ve.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof F.is=="string"?p=ve.createElement(k,{is:F.is}):(p=ve.createElement(k),k==="select"&&(ve=p,F.multiple?ve.multiple=!0:F.size&&(ve.size=F.size))):p=ve.createElementNS(p,k),p[sd]=y,p[Wp]=F,HU(p,y,!1,!1),y.stateNode=p;e:{switch(ve=Ke(k,F),k){case"dialog":Rs("cancel",p),Rs("close",p),G=F;break;case"iframe":case"object":case"embed":Rs("load",p),G=F;break;case"video":case"audio":for(G=0;G<ah.length;G++)Rs(ah[G],p);G=F;break;case"source":Rs("error",p),G=F;break;case"img":case"image":case"link":Rs("error",p),Rs("load",p),G=F;break;case"details":Rs("toggle",p),G=F;break;case"input":le(p,F),G=re(p,F),Rs("invalid",p);break;case"option":G=F;break;case"select":p._wrapperState={wasMultiple:!!F.multiple},G=q({},F,{value:void 0}),Rs("invalid",p);break;case"textarea":Qe(p,F),G=qe(p,F),Rs("invalid",p);break;default:G=F}Ue(k,G),Ge=G;for(te in Ge)if(Ge.hasOwnProperty(te)){var nt=Ge[te];te==="style"?Ce(p,nt):te==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&Je(p,nt)):te==="children"?typeof nt=="string"?(k!=="textarea"||nt!=="")&&tt(p,nt):typeof nt=="number"&&tt(p,""+nt):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(a.hasOwnProperty(te)?nt!=null&&te==="onScroll"&&Rs("scroll",p):nt!=null&&w(p,te,nt,ve))}switch(k){case"input":se(p),Le(p,F,!1);break;case"textarea":se(p),Ye(p);break;case"option":F.value!=null&&p.setAttribute("value",""+de(F.value));break;case"select":p.multiple=!!F.multiple,te=F.value,te!=null?ye(p,!!F.multiple,te,!1):F.defaultValue!=null&&ye(p,!!F.multiple,F.defaultValue,!0);break;default:typeof G.onClick=="function"&&(p.onclick=Vp)}switch(k){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return wl(y),null;case 6:if(p&&y.stateNode!=null)YU(p,y,p.memoizedProps,F);else{if(typeof F!="string"&&y.stateNode===null)throw Error(r(166));if(k=af(lh.current),af(Bi.current),Pa(y)){if(F=y.stateNode,k=y.memoizedProps,F[sd]=y,(te=F.nodeValue!==k)&&(p=Et,p!==null))switch(p.tag){case 3:by(F.nodeValue,k,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&by(F.nodeValue,k,(p.mode&1)!==0)}te&&(y.flags|=4)}else F=(k.nodeType===9?k:k.ownerDocument).createTextNode(F),F[sd]=y,y.stateNode=F}return wl(y),null;case 13:if(Ss(Zs),F=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Ft&&Pt!==null&&(y.mode&1)!==0&&(y.flags&128)===0)_n(),kr(),y.flags|=98560,te=!1;else if(te=Pa(y),F!==null&&F.dehydrated!==null){if(p===null){if(!te)throw Error(r(318));if(te=y.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(r(317));te[sd]=y}else kr(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;wl(y),te=!1}else $t!==null&&(sT($t),$t=null),te=!0;if(!te)return y.flags&65536?y:null}return(y.flags&128)!==0?(y.lanes=k,y):(F=F!==null,F!==(p!==null&&p.memoizedState!==null)&&F&&(y.child.flags|=8192,(y.mode&1)!==0&&(p===null||(Zs.current&1)!==0?uo===0&&(uo=3):oT())),y.updateQueue!==null&&(y.flags|=4),wl(y),null);case 4:return ad(),GP(p,y),p===null&&wm(y.stateNode.containerInfo),wl(y),null;case 10:return la(y.type._context),wl(y),null;case 17:return yl(y.type)&&wy(),wl(y),null;case 19:if(Ss(Zs),te=y.memoizedState,te===null)return wl(y),null;if(F=(y.flags&128)!==0,ve=te.rendering,ve===null)if(F)s_(te,!1);else{if(uo!==0||p!==null&&(p.flags&128)!==0)for(p=y.child;p!==null;){if(ve=lu(p),ve!==null){for(y.flags|=128,s_(te,!1),F=ve.updateQueue,F!==null&&(y.updateQueue=F,y.flags|=4),y.subtreeFlags=0,F=k,k=y.child;k!==null;)te=k,p=F,te.flags&=14680066,ve=te.alternate,ve===null?(te.childLanes=0,te.lanes=p,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=ve.childLanes,te.lanes=ve.lanes,te.child=ve.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=ve.memoizedProps,te.memoizedState=ve.memoizedState,te.updateQueue=ve.updateQueue,te.type=ve.type,p=ve.dependencies,te.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),k=k.sibling;return As(Zs,Zs.current&1|2),y.child}p=p.sibling}te.tail!==null&&Bt()>Ry&&(y.flags|=128,F=!0,s_(te,!1),y.lanes=4194304)}else{if(!F)if(p=lu(ve),p!==null){if(y.flags|=128,F=!0,k=p.updateQueue,k!==null&&(y.updateQueue=k,y.flags|=4),s_(te,!0),te.tail===null&&te.tailMode==="hidden"&&!ve.alternate&&!Ft)return wl(y),null}else 2*Bt()-te.renderingStartTime>Ry&&k!==1073741824&&(y.flags|=128,F=!0,s_(te,!1),y.lanes=4194304);te.isBackwards?(ve.sibling=y.child,y.child=ve):(k=te.last,k!==null?k.sibling=ve:y.child=ve,te.last=ve)}return te.tail!==null?(y=te.tail,te.rendering=y,te.tail=y.sibling,te.renderingStartTime=Bt(),y.sibling=null,k=Zs.current,As(Zs,F?k&1|2:k&1),y):(wl(y),null);case 22:case 23:return iT(),F=y.memoizedState!==null,p!==null&&p.memoizedState!==null!==F&&(y.flags|=8192),F&&(y.mode&1)!==0?(du&1073741824)!==0&&(wl(y),y.subtreeFlags&6&&(y.flags|=8192)):wl(y),null;case 24:return null;case 25:return null}throw Error(r(156,y.tag))}function p1e(p,y){switch(bt(y),y.tag){case 1:return yl(y.type)&&wy(),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return ad(),Ss(vl),Ss(lo),t_(),p=y.flags,(p&65536)!==0&&(p&128)===0?(y.flags=p&-65537|128,y):null;case 5:return Qw(y),null;case 13:if(Ss(Zs),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(r(340));kr()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return Ss(Zs),null;case 4:return ad(),null;case 10:return la(y.type._context),null;case 22:case 23:return iT(),null;case 24:return null;default:return null}}var WS=!1,_l=!1,g1e=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function Oy(p,y){var k=p.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(F){oi(p,y,F)}else k.current=null}function YP(p,y,k){try{k()}catch(F){oi(p,y,F)}}var KU=!1;function x1e(p,y){if(Xg=Rp,p=ni(),au(p)){if("selectionStart"in p)var k={start:p.selectionStart,end:p.selectionEnd};else e:{k=(k=p.ownerDocument)&&k.defaultView||window;var F=k.getSelection&&k.getSelection();if(F&&F.rangeCount!==0){k=F.anchorNode;var G=F.anchorOffset,te=F.focusNode;F=F.focusOffset;try{k.nodeType,te.nodeType}catch{k=null;break e}var ve=0,Ge=-1,nt=-1,Ct=0,Zt=0,nr=p,Kt=null;t:for(;;){for(var jr;nr!==k||G!==0&&nr.nodeType!==3||(Ge=ve+G),nr!==te||F!==0&&nr.nodeType!==3||(nt=ve+F),nr.nodeType===3&&(ve+=nr.nodeValue.length),(jr=nr.firstChild)!==null;)Kt=nr,nr=jr;for(;;){if(nr===p)break t;if(Kt===k&&++Ct===G&&(Ge=ve),Kt===te&&++Zt===F&&(nt=ve),(jr=nr.nextSibling)!==null)break;nr=Kt,Kt=nr.parentNode}nr=jr}k=Ge===-1||nt===-1?null:{start:Ge,end:nt}}else k=null}k=k||{start:0,end:0}}else k=null;for(jm={focusedElem:p,selectionRange:k},Rp=!1,Ar=y;Ar!==null;)if(y=Ar,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,Ar=p;else for(;Ar!==null;){y=Ar;try{var Dr=y.alternate;if((y.flags&1024)!==0)switch(y.tag){case 0:case 11:case 15:break;case 1:if(Dr!==null){var Fr=Dr.memoizedProps,Si=Dr.memoizedState,yt=y.stateNode,ot=yt.getSnapshotBeforeUpdate(y.elementType===y.type?Fr:cf(y.type,Fr),Si);yt.__reactInternalSnapshotBeforeUpdate=ot}break;case 3:var kt=y.stateNode.containerInfo;kt.nodeType===1?kt.textContent="":kt.nodeType===9&&kt.documentElement&&kt.removeChild(kt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(sr){oi(y,y.return,sr)}if(p=y.sibling,p!==null){p.return=y.return,Ar=p;break}Ar=y.return}return Dr=KU,KU=!1,Dr}function a_(p,y,k){var F=y.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var G=F=F.next;do{if((G.tag&p)===p){var te=G.destroy;G.destroy=void 0,te!==void 0&&YP(y,k,te)}G=G.next}while(G!==F)}}function HS(p,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&p)===p){var F=k.create;k.destroy=F()}k=k.next}while(k!==y)}}function KP(p){var y=p.ref;if(y!==null){var k=p.stateNode;switch(p.tag){case 5:p=k;break;default:p=k}typeof y=="function"?y(p):y.current=p}}function XU(p){var y=p.alternate;y!==null&&(p.alternate=null,XU(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&(delete y[sd],delete y[Wp],delete y[xl],delete y[DP],delete y[RP])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function JU(p){return p.tag===5||p.tag===3||p.tag===4}function ZU(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||JU(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function XP(p,y,k){var F=p.tag;if(F===5||F===6)p=p.stateNode,y?k.nodeType===8?k.parentNode.insertBefore(p,y):k.insertBefore(p,y):(k.nodeType===8?(y=k.parentNode,y.insertBefore(p,k)):(y=k,y.appendChild(p)),k=k._reactRootContainer,k!=null||y.onclick!==null||(y.onclick=Vp));else if(F!==4&&(p=p.child,p!==null))for(XP(p,y,k),p=p.sibling;p!==null;)XP(p,y,k),p=p.sibling}function JP(p,y,k){var F=p.tag;if(F===5||F===6)p=p.stateNode,y?k.insertBefore(p,y):k.appendChild(p);else if(F!==4&&(p=p.child,p!==null))for(JP(p,y,k),p=p.sibling;p!==null;)JP(p,y,k),p=p.sibling}var Qo=null,uf=!1;function Zp(p,y,k){for(k=k.child;k!==null;)QU(p,y,k),k=k.sibling}function QU(p,y,k){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(wi,k)}catch{}switch(k.tag){case 5:_l||Oy(k,y);case 6:var F=Qo,G=uf;Qo=null,Zp(p,y,k),Qo=F,uf=G,Qo!==null&&(uf?(p=Qo,k=k.stateNode,p.nodeType===8?p.parentNode.removeChild(k):p.removeChild(k)):Qo.removeChild(k.stateNode));break;case 18:Qo!==null&&(uf?(p=Qo,k=k.stateNode,p.nodeType===8?Xw(p.parentNode,k):p.nodeType===1&&Xw(p,k),Ju(p)):Xw(Qo,k.stateNode));break;case 4:F=Qo,G=uf,Qo=k.stateNode.containerInfo,uf=!0,Zp(p,y,k),Qo=F,uf=G;break;case 0:case 11:case 14:case 15:if(!_l&&(F=k.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){G=F=F.next;do{var te=G,ve=te.destroy;te=te.tag,ve!==void 0&&((te&2)!==0||(te&4)!==0)&&YP(k,y,ve),G=G.next}while(G!==F)}Zp(p,y,k);break;case 1:if(!_l&&(Oy(k,y),F=k.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=k.memoizedProps,F.state=k.memoizedState,F.componentWillUnmount()}catch(Ge){oi(k,y,Ge)}Zp(p,y,k);break;case 21:Zp(p,y,k);break;case 22:k.mode&1?(_l=(F=_l)||k.memoizedState!==null,Zp(p,y,k),_l=F):Zp(p,y,k);break;default:Zp(p,y,k)}}function ez(p){var y=p.updateQueue;if(y!==null){p.updateQueue=null;var k=p.stateNode;k===null&&(k=p.stateNode=new g1e),y.forEach(function(F){var G=k1e.bind(null,p,F);k.has(F)||(k.add(F),F.then(G,G))})}}function df(p,y){var k=y.deletions;if(k!==null)for(var F=0;F<k.length;F++){var G=k[F];try{var te=p,ve=y,Ge=ve;e:for(;Ge!==null;){switch(Ge.tag){case 5:Qo=Ge.stateNode,uf=!1;break e;case 3:Qo=Ge.stateNode.containerInfo,uf=!0;break e;case 4:Qo=Ge.stateNode.containerInfo,uf=!0;break e}Ge=Ge.return}if(Qo===null)throw Error(r(160));QU(te,ve,G),Qo=null,uf=!1;var nt=G.alternate;nt!==null&&(nt.return=null),G.return=null}catch(Ct){oi(G,y,Ct)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)tz(y,p),y=y.sibling}function tz(p,y){var k=p.alternate,F=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(df(y,p),uh(p),F&4){try{a_(3,p,p.return),HS(3,p)}catch(Fr){oi(p,p.return,Fr)}try{a_(5,p,p.return)}catch(Fr){oi(p,p.return,Fr)}}break;case 1:df(y,p),uh(p),F&512&&k!==null&&Oy(k,k.return);break;case 5:if(df(y,p),uh(p),F&512&&k!==null&&Oy(k,k.return),p.flags&32){var G=p.stateNode;try{tt(G,"")}catch(Fr){oi(p,p.return,Fr)}}if(F&4&&(G=p.stateNode,G!=null)){var te=p.memoizedProps,ve=k!==null?k.memoizedProps:te,Ge=p.type,nt=p.updateQueue;if(p.updateQueue=null,nt!==null)try{Ge==="input"&&te.type==="radio"&&te.name!=null&&We(G,te),Ke(Ge,ve);var Ct=Ke(Ge,te);for(ve=0;ve<nt.length;ve+=2){var Zt=nt[ve],nr=nt[ve+1];Zt==="style"?Ce(G,nr):Zt==="dangerouslySetInnerHTML"?Je(G,nr):Zt==="children"?tt(G,nr):w(G,Zt,nr,Ct)}switch(Ge){case"input":xe(G,te);break;case"textarea":ct(G,te);break;case"select":var Kt=G._wrapperState.wasMultiple;G._wrapperState.wasMultiple=!!te.multiple;var jr=te.value;jr!=null?ye(G,!!te.multiple,jr,!1):Kt!==!!te.multiple&&(te.defaultValue!=null?ye(G,!!te.multiple,te.defaultValue,!0):ye(G,!!te.multiple,te.multiple?[]:"",!1))}G[Wp]=te}catch(Fr){oi(p,p.return,Fr)}}break;case 6:if(df(y,p),uh(p),F&4){if(p.stateNode===null)throw Error(r(162));G=p.stateNode,te=p.memoizedProps;try{G.nodeValue=te}catch(Fr){oi(p,p.return,Fr)}}break;case 3:if(df(y,p),uh(p),F&4&&k!==null&&k.memoizedState.isDehydrated)try{Ju(y.containerInfo)}catch(Fr){oi(p,p.return,Fr)}break;case 4:df(y,p),uh(p);break;case 13:df(y,p),uh(p),G=p.child,G.flags&8192&&(te=G.memoizedState!==null,G.stateNode.isHidden=te,!te||G.alternate!==null&&G.alternate.memoizedState!==null||(eT=Bt())),F&4&&ez(p);break;case 22:if(Zt=k!==null&&k.memoizedState!==null,p.mode&1?(_l=(Ct=_l)||Zt,df(y,p),_l=Ct):df(y,p),uh(p),F&8192){if(Ct=p.memoizedState!==null,(p.stateNode.isHidden=Ct)&&!Zt&&(p.mode&1)!==0)for(Ar=p,Zt=p.child;Zt!==null;){for(nr=Ar=Zt;Ar!==null;){switch(Kt=Ar,jr=Kt.child,Kt.tag){case 0:case 11:case 14:case 15:a_(4,Kt,Kt.return);break;case 1:Oy(Kt,Kt.return);var Dr=Kt.stateNode;if(typeof Dr.componentWillUnmount=="function"){F=Kt,k=Kt.return;try{y=F,Dr.props=y.memoizedProps,Dr.state=y.memoizedState,Dr.componentWillUnmount()}catch(Fr){oi(F,k,Fr)}}break;case 5:Oy(Kt,Kt.return);break;case 22:if(Kt.memoizedState!==null){sz(nr);continue}}jr!==null?(jr.return=Kt,Ar=jr):sz(nr)}Zt=Zt.sibling}e:for(Zt=null,nr=p;;){if(nr.tag===5){if(Zt===null){Zt=nr;try{G=nr.stateNode,Ct?(te=G.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(Ge=nr.stateNode,nt=nr.memoizedProps.style,ve=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,Ge.style.display=ht("display",ve))}catch(Fr){oi(p,p.return,Fr)}}}else if(nr.tag===6){if(Zt===null)try{nr.stateNode.nodeValue=Ct?"":nr.memoizedProps}catch(Fr){oi(p,p.return,Fr)}}else if((nr.tag!==22&&nr.tag!==23||nr.memoizedState===null||nr===p)&&nr.child!==null){nr.child.return=nr,nr=nr.child;continue}if(nr===p)break e;for(;nr.sibling===null;){if(nr.return===null||nr.return===p)break e;Zt===nr&&(Zt=null),nr=nr.return}Zt===nr&&(Zt=null),nr.sibling.return=nr.return,nr=nr.sibling}}break;case 19:df(y,p),uh(p),F&4&&ez(p);break;case 21:break;default:df(y,p),uh(p)}}function uh(p){var y=p.flags;if(y&2){try{e:{for(var k=p.return;k!==null;){if(JU(k)){var F=k;break e}k=k.return}throw Error(r(160))}switch(F.tag){case 5:var G=F.stateNode;F.flags&32&&(tt(G,""),F.flags&=-33);var te=ZU(p);JP(p,te,G);break;case 3:case 4:var ve=F.stateNode.containerInfo,Ge=ZU(p);XP(p,Ge,ve);break;default:throw Error(r(161))}}catch(nt){oi(p,p.return,nt)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function v1e(p,y,k){Ar=p,rz(p)}function rz(p,y,k){for(var F=(p.mode&1)!==0;Ar!==null;){var G=Ar,te=G.child;if(G.tag===22&&F){var ve=G.memoizedState!==null||WS;if(!ve){var Ge=G.alternate,nt=Ge!==null&&Ge.memoizedState!==null||_l;Ge=WS;var Ct=_l;if(WS=ve,(_l=nt)&&!Ct)for(Ar=G;Ar!==null;)ve=Ar,nt=ve.child,ve.tag===22&&ve.memoizedState!==null?az(G):nt!==null?(nt.return=ve,Ar=nt):az(G);for(;te!==null;)Ar=te,rz(te),te=te.sibling;Ar=G,WS=Ge,_l=Ct}nz(p)}else(G.subtreeFlags&8772)!==0&&te!==null?(te.return=G,Ar=te):nz(p)}}function nz(p){for(;Ar!==null;){var y=Ar;if((y.flags&8772)!==0){var k=y.alternate;try{if((y.flags&8772)!==0)switch(y.tag){case 0:case 11:case 15:_l||HS(5,y);break;case 1:var F=y.stateNode;if(y.flags&4&&!_l)if(k===null)F.componentDidMount();else{var G=y.elementType===y.type?k.memoizedProps:cf(y.type,k.memoizedProps);F.componentDidUpdate(G,k.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var te=y.updateQueue;te!==null&&Ec(y,te,F);break;case 3:var ve=y.updateQueue;if(ve!==null){if(k=null,y.child!==null)switch(y.child.tag){case 5:k=y.child.stateNode;break;case 1:k=y.child.stateNode}Ec(y,ve,k)}break;case 5:var Ge=y.stateNode;if(k===null&&y.flags&4){k=Ge;var nt=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&k.focus();break;case"img":nt.src&&(k.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var Ct=y.alternate;if(Ct!==null){var Zt=Ct.memoizedState;if(Zt!==null){var nr=Zt.dehydrated;nr!==null&&Ju(nr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_l||y.flags&512&&KP(y)}catch(Kt){oi(y,y.return,Kt)}}if(y===p){Ar=null;break}if(k=y.sibling,k!==null){k.return=y.return,Ar=k;break}Ar=y.return}}function sz(p){for(;Ar!==null;){var y=Ar;if(y===p){Ar=null;break}var k=y.sibling;if(k!==null){k.return=y.return,Ar=k;break}Ar=y.return}}function az(p){for(;Ar!==null;){var y=Ar;try{switch(y.tag){case 0:case 11:case 15:var k=y.return;try{HS(4,y)}catch(nt){oi(y,k,nt)}break;case 1:var F=y.stateNode;if(typeof F.componentDidMount=="function"){var G=y.return;try{F.componentDidMount()}catch(nt){oi(y,G,nt)}}var te=y.return;try{KP(y)}catch(nt){oi(y,te,nt)}break;case 5:var ve=y.return;try{KP(y)}catch(nt){oi(y,ve,nt)}}}catch(nt){oi(y,y.return,nt)}if(y===p){Ar=null;break}var Ge=y.sibling;if(Ge!==null){Ge.return=y.return,Ar=Ge;break}Ar=y.return}}var y1e=Math.ceil,GS=N.ReactCurrentDispatcher,ZP=N.ReactCurrentOwner,ld=N.ReactCurrentBatchConfig,ps=0,Ro=null,Ui=null,el=0,du=0,Dy=iu(0),uo=0,i_=null,rx=0,YS=0,QP=0,o_=null,Tc=null,eT=0,Ry=1/0,Em=null,KS=!1,tT=null,Qp=null,XS=!1,e0=null,JS=0,l_=0,rT=null,ZS=-1,QS=0;function ec(){return(ps&6)!==0?Bt():ZS!==-1?ZS:ZS=Bt()}function t0(p){return(p.mode&1)===0?1:(ps&2)!==0&&el!==0?el&-el:Ba.transition!==null?(QS===0&&(QS=ly()),QS):(p=ls,p!==0||(p=window.event,p=p===void 0?16:om(p.type)),p)}function ff(p,y,k,F){if(50<l_)throw l_=0,rT=null,Error(r(185));nm(p,k,F),((ps&2)===0||p!==Ro)&&(p===Ro&&((ps&2)===0&&(YS|=k),uo===4&&r0(p,el)),Oc(p,F),k===1&&ps===0&&(y.mode&1)===0&&(Ry=Bt()+500,Zg&&ie()))}function Oc(p,y){var k=p.callbackNode;Ma(p,y);var F=fl(p,p===Ro?el:0);if(F===0)k!==null&&Yt(k),p.callbackNode=null,p.callbackPriority=0;else if(y=F&-F,p.callbackPriority!==y){if(k!=null&&Yt(k),y===1)p.tag===0?ee(oz.bind(null,p)):B(oz.bind(null,p)),TP(function(){(ps&6)===0&&ie()}),k=null;else{switch(Gd(F)){case 1:k=An;break;case 4:k=En;break;case 16:k=ks;break;case 536870912:k=xa;break;default:k=ks}k=pz(k,iz.bind(null,p))}p.callbackPriority=y,p.callbackNode=k}}function iz(p,y){if(ZS=-1,QS=0,(ps&6)!==0)throw Error(r(327));var k=p.callbackNode;if(Iy()&&p.callbackNode!==k)return null;var F=fl(p,p===Ro?el:0);if(F===0)return null;if((F&30)!==0||(F&p.expiredLanes)!==0||y)y=ek(p,F);else{y=F;var G=ps;ps|=2;var te=cz();(Ro!==p||el!==y)&&(Em=null,Ry=Bt()+500,sx(p,y));do try{_1e();break}catch(Ge){lz(p,Ge)}while(!0);hs(),GS.current=te,ps=G,Ui!==null?y=0:(Ro=null,el=0,y=uo)}if(y!==0){if(y===2&&(G=rm(p),G!==0&&(F=G,y=nT(p,G))),y===1)throw k=i_,sx(p,0),r0(p,F),Oc(p,Bt()),k;if(y===6)r0(p,F);else{if(G=p.current.alternate,(F&30)===0&&!b1e(G)&&(y=ek(p,F),y===2&&(te=rm(p),te!==0&&(F=te,y=nT(p,te))),y===1))throw k=i_,sx(p,0),r0(p,F),Oc(p,Bt()),k;switch(p.finishedWork=G,p.finishedLanes=F,y){case 0:case 1:throw Error(r(345));case 2:ax(p,Tc,Em);break;case 3:if(r0(p,F),(F&130023424)===F&&(y=eT+500-Bt(),10<y)){if(fl(p,0)!==0)break;if(G=p.suspendedLanes,(G&F)!==F){ec(),p.pingedLanes|=p.suspendedLanes&G;break}p.timeoutHandle=Kw(ax.bind(null,p,Tc,Em),y);break}ax(p,Tc,Em);break;case 4:if(r0(p,F),(F&4194240)===F)break;for(y=p.eventTimes,G=-1;0<F;){var ve=31-Ws(F);te=1<<ve,ve=y[ve],ve>G&&(G=ve),F&=~te}if(F=G,F=Bt()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*y1e(F/1960))-F,10<F){p.timeoutHandle=Kw(ax.bind(null,p,Tc,Em),F);break}ax(p,Tc,Em);break;case 5:ax(p,Tc,Em);break;default:throw Error(r(329))}}}return Oc(p,Bt()),p.callbackNode===k?iz.bind(null,p):null}function nT(p,y){var k=o_;return p.current.memoizedState.isDehydrated&&(sx(p,y).flags|=256),p=ek(p,y),p!==2&&(y=Tc,Tc=k,y!==null&&sT(y)),p}function sT(p){Tc===null?Tc=p:Tc.push.apply(Tc,p)}function b1e(p){for(var y=p;;){if(y.flags&16384){var k=y.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var F=0;F<k.length;F++){var G=k[F],te=G.getSnapshot;G=G.value;try{if(!Aa(te(),G))return!1}catch{return!1}}}if(k=y.child,y.subtreeFlags&16384&&k!==null)k.return=y,y=k;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function r0(p,y){for(y&=~QP,y&=~YS,p.suspendedLanes|=y,p.pingedLanes&=~y,p=p.expirationTimes;0<y;){var k=31-Ws(y),F=1<<k;p[k]=-1,y&=~F}}function oz(p){if((ps&6)!==0)throw Error(r(327));Iy();var y=fl(p,0);if((y&1)===0)return Oc(p,Bt()),null;var k=ek(p,y);if(p.tag!==0&&k===2){var F=rm(p);F!==0&&(y=F,k=nT(p,F))}if(k===1)throw k=i_,sx(p,0),r0(p,y),Oc(p,Bt()),k;if(k===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=y,ax(p,Tc,Em),Oc(p,Bt()),null}function aT(p,y){var k=ps;ps|=1;try{return p(y)}finally{ps=k,ps===0&&(Ry=Bt()+500,Zg&&ie())}}function nx(p){e0!==null&&e0.tag===0&&(ps&6)===0&&Iy();var y=ps;ps|=1;var k=ld.transition,F=ls;try{if(ld.transition=null,ls=1,p)return p()}finally{ls=F,ld.transition=k,ps=y,(ps&6)===0&&ie()}}function iT(){du=Dy.current,Ss(Dy)}function sx(p,y){p.finishedWork=null,p.finishedLanes=0;var k=p.timeoutHandle;if(k!==-1&&(p.timeoutHandle=-1,OS(k)),Ui!==null)for(k=Ui.return;k!==null;){var F=k;switch(bt(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&wy();break;case 3:ad(),Ss(vl),Ss(lo),t_();break;case 5:Qw(F);break;case 4:ad();break;case 13:Ss(Zs);break;case 19:Ss(Zs);break;case 10:la(F.type._context);break;case 22:case 23:iT()}k=k.return}if(Ro=p,Ui=p=n0(p.current,null),el=du=y,uo=0,i_=null,QP=YS=rx=0,Tc=o_=null,Is!==null){for(y=0;y<Is.length;y++)if(k=Is[y],F=k.interleaved,F!==null){k.interleaved=null;var G=F.next,te=k.pending;if(te!==null){var ve=te.next;te.next=G,F.next=ve}k.pending=F}Is=null}return p}function lz(p,y){do{var k=Ui;try{if(hs(),_y.current=US,Kp){for(var F=ca.memoizedState;F!==null;){var G=F.queue;G!==null&&(G.pending=null),F=F.next}Kp=!1}if(id=0,Va=ii=ca=null,of=!1,Xp=0,ZP.current=null,k===null||k.return===null){uo=1,i_=y,Ui=null;break}e:{var te=p,ve=k.return,Ge=k,nt=y;if(y=el,Ge.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var Ct=nt,Zt=Ge,nr=Zt.tag;if((Zt.mode&1)===0&&(nr===0||nr===11||nr===15)){var Kt=Zt.alternate;Kt?(Zt.updateQueue=Kt.updateQueue,Zt.memoizedState=Kt.memoizedState,Zt.lanes=Kt.lanes):(Zt.updateQueue=null,Zt.memoizedState=null)}var jr=DU(ve);if(jr!==null){jr.flags&=-257,RU(jr,ve,Ge,te,y),jr.mode&1&&OU(te,Ct,y),y=jr,nt=Ct;var Dr=y.updateQueue;if(Dr===null){var Fr=new Set;Fr.add(nt),y.updateQueue=Fr}else Dr.add(nt);break e}else{if((y&1)===0){OU(te,Ct,y),oT();break e}nt=Error(r(426))}}else if(Ft&&Ge.mode&1){var Si=DU(ve);if(Si!==null){(Si.flags&65536)===0&&(Si.flags|=256),RU(Si,ve,Ge,te,y),fr(Ty(nt,Ge));break e}}te=nt=Ty(nt,Ge),uo!==4&&(uo=2),o_===null?o_=[te]:o_.push(te),te=ve;do{switch(te.tag){case 3:te.flags|=65536,y&=-y,te.lanes|=y;var yt=PU(te,nt,y);Ms(te,yt);break e;case 1:Ge=nt;var ot=te.type,kt=te.stateNode;if((te.flags&128)===0&&(typeof ot.getDerivedStateFromError=="function"||kt!==null&&typeof kt.componentDidCatch=="function"&&(Qp===null||!Qp.has(kt)))){te.flags|=65536,y&=-y,te.lanes|=y;var sr=TU(te,Ge,y);Ms(te,sr);break e}}te=te.return}while(te!==null)}dz(k)}catch(Vr){y=Vr,Ui===k&&k!==null&&(Ui=k=k.return);continue}break}while(!0)}function cz(){var p=GS.current;return GS.current=US,p===null?US:p}function oT(){(uo===0||uo===3||uo===2)&&(uo=4),Ro===null||(rx&268435455)===0&&(YS&268435455)===0||r0(Ro,el)}function ek(p,y){var k=ps;ps|=2;var F=cz();(Ro!==p||el!==y)&&(Em=null,sx(p,y));do try{w1e();break}catch(G){lz(p,G)}while(!0);if(hs(),ps=k,GS.current=F,Ui!==null)throw Error(r(261));return Ro=null,el=0,uo}function w1e(){for(;Ui!==null;)uz(Ui)}function _1e(){for(;Ui!==null&&!cr();)uz(Ui)}function uz(p){var y=mz(p.alternate,p,du);p.memoizedProps=p.pendingProps,y===null?dz(p):Ui=y,ZP.current=null}function dz(p){var y=p;do{var k=y.alternate;if(p=y.return,(y.flags&32768)===0){if(k=m1e(k,y,du),k!==null){Ui=k;return}}else{if(k=p1e(k,y),k!==null){k.flags&=32767,Ui=k;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{uo=6,Ui=null;return}}if(y=y.sibling,y!==null){Ui=y;return}Ui=y=p}while(y!==null);uo===0&&(uo=5)}function ax(p,y,k){var F=ls,G=ld.transition;try{ld.transition=null,ls=1,j1e(p,y,k,F)}finally{ld.transition=G,ls=F}return null}function j1e(p,y,k,F){do Iy();while(e0!==null);if((ps&6)!==0)throw Error(r(327));k=p.finishedWork;var G=p.finishedLanes;if(k===null)return null;if(p.finishedWork=null,p.finishedLanes=0,k===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var te=k.lanes|k.childLanes;if(Yu(p,te),p===Ro&&(Ui=Ro=null,el=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||XS||(XS=!0,pz(ks,function(){return Iy(),null})),te=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||te){te=ld.transition,ld.transition=null;var ve=ls;ls=1;var Ge=ps;ps|=4,ZP.current=null,x1e(p,k),tz(k,p),zg(jm),Rp=!!Xg,jm=Xg=null,p.current=k,v1e(k),tr(),ps=Ge,ls=ve,ld.transition=te}else p.current=k;if(XS&&(XS=!1,e0=p,JS=G),te=p.pendingLanes,te===0&&(Qp=null),io(k.stateNode),Oc(p,Bt()),y!==null)for(F=p.onRecoverableError,k=0;k<y.length;k++)G=y[k],F(G.value,{componentStack:G.stack,digest:G.digest});if(KS)throw KS=!1,p=tT,tT=null,p;return(JS&1)!==0&&p.tag!==0&&Iy(),te=p.pendingLanes,(te&1)!==0?p===rT?l_++:(l_=0,rT=p):l_=0,ie(),null}function Iy(){if(e0!==null){var p=Gd(JS),y=ld.transition,k=ls;try{if(ld.transition=null,ls=16>p?16:p,e0===null)var F=!1;else{if(p=e0,e0=null,JS=0,(ps&6)!==0)throw Error(r(331));var G=ps;for(ps|=4,Ar=p.current;Ar!==null;){var te=Ar,ve=te.child;if((Ar.flags&16)!==0){var Ge=te.deletions;if(Ge!==null){for(var nt=0;nt<Ge.length;nt++){var Ct=Ge[nt];for(Ar=Ct;Ar!==null;){var Zt=Ar;switch(Zt.tag){case 0:case 11:case 15:a_(8,Zt,te)}var nr=Zt.child;if(nr!==null)nr.return=Zt,Ar=nr;else for(;Ar!==null;){Zt=Ar;var Kt=Zt.sibling,jr=Zt.return;if(XU(Zt),Zt===Ct){Ar=null;break}if(Kt!==null){Kt.return=jr,Ar=Kt;break}Ar=jr}}}var Dr=te.alternate;if(Dr!==null){var Fr=Dr.child;if(Fr!==null){Dr.child=null;do{var Si=Fr.sibling;Fr.sibling=null,Fr=Si}while(Fr!==null)}}Ar=te}}if((te.subtreeFlags&2064)!==0&&ve!==null)ve.return=te,Ar=ve;else e:for(;Ar!==null;){if(te=Ar,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:a_(9,te,te.return)}var yt=te.sibling;if(yt!==null){yt.return=te.return,Ar=yt;break e}Ar=te.return}}var ot=p.current;for(Ar=ot;Ar!==null;){ve=Ar;var kt=ve.child;if((ve.subtreeFlags&2064)!==0&&kt!==null)kt.return=ve,Ar=kt;else e:for(ve=ot;Ar!==null;){if(Ge=Ar,(Ge.flags&2048)!==0)try{switch(Ge.tag){case 0:case 11:case 15:HS(9,Ge)}}catch(Vr){oi(Ge,Ge.return,Vr)}if(Ge===ve){Ar=null;break e}var sr=Ge.sibling;if(sr!==null){sr.return=Ge.return,Ar=sr;break e}Ar=Ge.return}}if(ps=G,ie(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(wi,p)}catch{}F=!0}return F}finally{ls=k,ld.transition=y}}return!1}function fz(p,y,k){y=Ty(k,y),y=PU(p,y,1),p=za(p,y,1),y=ec(),p!==null&&(nm(p,1,y),Oc(p,y))}function oi(p,y,k){if(p.tag===3)fz(p,p,k);else for(;y!==null;){if(y.tag===3){fz(y,p,k);break}else if(y.tag===1){var F=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(Qp===null||!Qp.has(F))){p=Ty(k,p),p=TU(y,p,1),y=za(y,p,1),p=ec(),y!==null&&(nm(y,1,p),Oc(y,p));break}}y=y.return}}function N1e(p,y,k){var F=p.pingCache;F!==null&&F.delete(y),y=ec(),p.pingedLanes|=p.suspendedLanes&k,Ro===p&&(el&k)===k&&(uo===4||uo===3&&(el&130023424)===el&&500>Bt()-eT?sx(p,0):QP|=k),Oc(p,y)}function hz(p,y){y===0&&((p.mode&1)===0?y=1:(y=yc,yc<<=1,(yc&130023424)===0&&(yc=4194304)));var k=ec();p=Fs(p,y),p!==null&&(nm(p,y,k),Oc(p,k))}function S1e(p){var y=p.memoizedState,k=0;y!==null&&(k=y.retryLane),hz(p,k)}function k1e(p,y){var k=0;switch(p.tag){case 13:var F=p.stateNode,G=p.memoizedState;G!==null&&(k=G.retryLane);break;case 19:F=p.stateNode;break;default:throw Error(r(314))}F!==null&&F.delete(y),hz(p,k)}var mz;mz=function(p,y,k){if(p!==null)if(p.memoizedProps!==y.pendingProps||vl.current)Pc=!0;else{if((p.lanes&k)===0&&(y.flags&128)===0)return Pc=!1,h1e(p,y,k);Pc=(p.flags&131072)!==0}else Pc=!1,Ft&&(y.flags&1048576)!==0&&xt(y,Ae,y.index);switch(y.lanes=0,y.tag){case 2:var F=y.type;VS(p,y),p=y.pendingProps;var G=Gp(y,lo.current);Ta(y,k),G=Qg(null,y,F,p,G,k);var te=od();return y.flags|=1,typeof G=="object"&&G!==null&&typeof G.render=="function"&&G.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,yl(F)?(te=!0,km(y)):te=!1,y.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,co(y),G.updater=zS,y.stateNode=G,G._reactInternals=y,LP(y,F,p,k),y=zP(null,y,F,!0,te,k)):(y.tag=0,Ft&&te&&Tt(y),Ql(null,y,G,k),y=y.child),y;case 16:F=y.elementType;e:{switch(VS(p,y),p=y.pendingProps,G=F._init,F=G(F._payload),y.type=F,G=y.tag=A1e(F),p=cf(F,p),G){case 0:y=UP(null,y,F,p,k);break e;case 1:y=BU(null,y,F,p,k);break e;case 11:y=IU(null,y,F,p,k);break e;case 14:y=FU(null,y,F,cf(F.type,p),k);break e}throw Error(r(306,F,""))}return y;case 0:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:cf(F,G),UP(p,y,F,G,k);case 1:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:cf(F,G),BU(p,y,F,G,k);case 3:e:{if(UU(y),p===null)throw Error(r(387));F=y.pendingProps,te=y.memoizedState,G=te.element,bl(p,y),Do(y,F,null,k);var ve=y.memoizedState;if(F=ve.element,te.isDehydrated)if(te={element:F,isDehydrated:!1,cache:ve.cache,pendingSuspenseBoundaries:ve.pendingSuspenseBoundaries,transitions:ve.transitions},y.updateQueue.baseState=te,y.memoizedState=te,y.flags&256){G=Ty(Error(r(423)),y),y=zU(p,y,F,k,G);break e}else if(F!==G){G=Ty(Error(r(424)),y),y=zU(p,y,F,k,G);break e}else for(Pt=Zo(y.stateNode.containerInfo.firstChild),Et=y,Ft=!0,$t=null,k=ya(y,null,F,k),y.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(kr(),F===G){y=Am(p,y,k);break e}Ql(p,y,F,k)}y=y.child}return y;case 5:return FS(y),p===null&&Tr(y),F=y.type,G=y.pendingProps,te=p!==null?p.memoizedProps:null,ve=G.children,Yw(F,G)?ve=null:te!==null&&Yw(F,te)&&(y.flags|=32),$U(p,y),Ql(p,y,ve,k),y.child;case 6:return p===null&&Tr(y),null;case 13:return qU(p,y,k);case 4:return Yp(y,y.stateNode.containerInfo),F=y.pendingProps,p===null?y.child=si(y,null,F,k):Ql(p,y,F,k),y.child;case 11:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:cf(F,G),IU(p,y,F,G,k);case 7:return Ql(p,y,y.pendingProps,k),y.child;case 8:return Ql(p,y,y.pendingProps.children,k),y.child;case 12:return Ql(p,y,y.pendingProps.children,k),y.child;case 10:e:{if(F=y.type._context,G=y.pendingProps,te=y.memoizedProps,ve=G.value,As(ji,F._currentValue),F._currentValue=ve,te!==null)if(Aa(te.value,ve)){if(te.children===G.children&&!vl.current){y=Am(p,y,k);break e}}else for(te=y.child,te!==null&&(te.return=y);te!==null;){var Ge=te.dependencies;if(Ge!==null){ve=te.child;for(var nt=Ge.firstContext;nt!==null;){if(nt.context===F){if(te.tag===1){nt=Ua(-1,k&-k),nt.tag=2;var Ct=te.updateQueue;if(Ct!==null){Ct=Ct.shared;var Zt=Ct.pending;Zt===null?nt.next=nt:(nt.next=Zt.next,Zt.next=nt),Ct.pending=nt}}te.lanes|=k,nt=te.alternate,nt!==null&&(nt.lanes|=k),ms(te.return,k,y),Ge.lanes|=k;break}nt=nt.next}}else if(te.tag===10)ve=te.type===y.type?null:te.child;else if(te.tag===18){if(ve=te.return,ve===null)throw Error(r(341));ve.lanes|=k,Ge=ve.alternate,Ge!==null&&(Ge.lanes|=k),ms(ve,k,y),ve=te.sibling}else ve=te.child;if(ve!==null)ve.return=te;else for(ve=te;ve!==null;){if(ve===y){ve=null;break}if(te=ve.sibling,te!==null){te.return=ve.return,ve=te;break}ve=ve.return}te=ve}Ql(p,y,G.children,k),y=y.child}return y;case 9:return G=y.type,F=y.pendingProps.children,Ta(y,k),G=Oa(G),F=F(G),y.flags|=1,Ql(p,y,F,k),y.child;case 14:return F=y.type,G=cf(F,y.pendingProps),G=cf(F.type,G),FU(p,y,F,G,k);case 15:return MU(p,y,y.type,y.pendingProps,k);case 17:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:cf(F,G),VS(p,y),y.tag=1,yl(F)?(p=!0,km(y)):p=!1,Ta(y,k),AU(y,F,G),LP(y,F,G,k),zP(null,y,F,!0,p,k);case 19:return WU(p,y,k);case 22:return LU(p,y,k)}throw Error(r(156,y.tag))};function pz(p,y){return Lt(p,y)}function C1e(p,y,k,F){this.tag=p,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cd(p,y,k,F){return new C1e(p,y,k,F)}function lT(p){return p=p.prototype,!(!p||!p.isReactComponent)}function A1e(p){if(typeof p=="function")return lT(p)?1:0;if(p!=null){if(p=p.$$typeof,p===E)return 11;if(p===U)return 14}return 2}function n0(p,y){var k=p.alternate;return k===null?(k=cd(p.tag,y,p.key,p.mode),k.elementType=p.elementType,k.type=p.type,k.stateNode=p.stateNode,k.alternate=p,p.alternate=k):(k.pendingProps=y,k.type=p.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=p.flags&14680064,k.childLanes=p.childLanes,k.lanes=p.lanes,k.child=p.child,k.memoizedProps=p.memoizedProps,k.memoizedState=p.memoizedState,k.updateQueue=p.updateQueue,y=p.dependencies,k.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},k.sibling=p.sibling,k.index=p.index,k.ref=p.ref,k}function tk(p,y,k,F,G,te){var ve=2;if(F=p,typeof p=="function")lT(p)&&(ve=1);else if(typeof p=="string")ve=5;else e:switch(p){case A:return ix(k.children,G,te,y);case R:ve=8,G|=8;break;case O:return p=cd(12,k,y,G|2),p.elementType=O,p.lanes=te,p;case I:return p=cd(13,k,y,G),p.elementType=I,p.lanes=te,p;case M:return p=cd(19,k,y,G),p.elementType=M,p.lanes=te,p;case Y:return rk(k,G,te,y);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case D:ve=10;break e;case P:ve=9;break e;case E:ve=11;break e;case U:ve=14;break e;case W:ve=16,F=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return y=cd(ve,k,y,G),y.elementType=p,y.type=F,y.lanes=te,y}function ix(p,y,k,F){return p=cd(7,p,F,y),p.lanes=k,p}function rk(p,y,k,F){return p=cd(22,p,F,y),p.elementType=Y,p.lanes=k,p.stateNode={isHidden:!1},p}function cT(p,y,k){return p=cd(6,p,null,y),p.lanes=k,p}function uT(p,y,k){return y=cd(4,p.children!==null?p.children:[],p.key,y),y.lanes=k,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function E1e(p,y,k,F,G){this.tag=y,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=F,this.onRecoverableError=G,this.mutableSourceEagerHydrationData=null}function dT(p,y,k,F,G,te,ve,Ge,nt){return p=new E1e(p,y,k,Ge,nt),y===1?(y=1,te===!0&&(y|=8)):y=0,te=cd(3,null,null,y),p.current=te,te.stateNode=p,te.memoizedState={element:F,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},co(te),p}function P1e(p,y,k){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:F==null?null:""+F,children:p,containerInfo:y,implementation:k}}function gz(p){if(!p)return oh;p=p._reactInternals;e:{if(De(p)!==p||p.tag!==1)throw Error(r(170));var y=p;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(yl(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(r(171))}if(p.tag===1){var k=p.type;if(yl(k))return Zw(p,k,y)}return y}function xz(p,y,k,F,G,te,ve,Ge,nt){return p=dT(k,F,!0,p,G,te,ve,Ge,nt),p.context=gz(null),k=p.current,F=ec(),G=t0(k),te=Ua(F,G),te.callback=y??null,za(k,te,G),p.current.lanes=G,nm(p,G,F),Oc(p,F),p}function nk(p,y,k,F){var G=y.current,te=ec(),ve=t0(G);return k=gz(k),y.context===null?y.context=k:y.pendingContext=k,y=Ua(te,ve),y.payload={element:p},F=F===void 0?null:F,F!==null&&(y.callback=F),p=za(G,y,ve),p!==null&&(ff(p,G,ve,te),Oo(p,G,ve)),ve}function sk(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function vz(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var k=p.retryLane;p.retryLane=k!==0&&k<y?k:y}}function fT(p,y){vz(p,y),(p=p.alternate)&&vz(p,y)}function T1e(){return null}var yz=typeof reportError=="function"?reportError:function(p){console.error(p)};function hT(p){this._internalRoot=p}ak.prototype.render=hT.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(r(409));nk(p,y,null,null)},ak.prototype.unmount=hT.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;nx(function(){nk(null,p,null,null)}),y[Po]=null}};function ak(p){this._internalRoot=p}ak.prototype.unstable_scheduleHydration=function(p){if(p){var y=uy();p={blockedOn:null,target:p,priority:y};for(var k=0;k<Xu.length&&y!==0&&y<Xu[k].priority;k++);Xu.splice(k,0,p),k===0&&fy(p)}};function mT(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function ik(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function bz(){}function O1e(p,y,k,F,G){if(G){if(typeof F=="function"){var te=F;F=function(){var Ct=sk(ve);te.call(Ct)}}var ve=xz(y,F,p,0,null,!1,!1,"",bz);return p._reactRootContainer=ve,p[Po]=ve.current,wm(p.nodeType===8?p.parentNode:p),nx(),ve}for(;G=p.lastChild;)p.removeChild(G);if(typeof F=="function"){var Ge=F;F=function(){var Ct=sk(nt);Ge.call(Ct)}}var nt=dT(p,0,!1,null,null,!1,!1,"",bz);return p._reactRootContainer=nt,p[Po]=nt.current,wm(p.nodeType===8?p.parentNode:p),nx(function(){nk(y,nt,k,F)}),nt}function ok(p,y,k,F,G){var te=k._reactRootContainer;if(te){var ve=te;if(typeof G=="function"){var Ge=G;G=function(){var nt=sk(ve);Ge.call(nt)}}nk(y,ve,p,G)}else ve=O1e(k,y,p,G,F);return sk(ve)}Tp=function(p){switch(p.tag){case 3:var y=p.stateNode;if(y.current.memoizedState.isDehydrated){var k=Qc(y.pendingLanes);k!==0&&(Pp(y,k|1),Oc(y,Bt()),(ps&6)===0&&(Ry=Bt()+500,ie()))}break;case 13:nx(function(){var F=Fs(p,1);if(F!==null){var G=ec();ff(F,p,1,G)}}),fT(p,1)}},Rg=function(p){if(p.tag===13){var y=Fs(p,134217728);if(y!==null){var k=ec();ff(y,p,134217728,k)}fT(p,134217728)}},cy=function(p){if(p.tag===13){var y=t0(p),k=Fs(p,y);if(k!==null){var F=ec();ff(k,p,y,F)}fT(p,y)}},uy=function(){return ls},Op=function(p,y){var k=ls;try{return ls=p,y()}finally{ls=k}},qt=function(p,y,k){switch(y){case"input":if(xe(p,k),y=k.name,k.type==="radio"&&y!=null){for(k=p;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<k.length;y++){var F=k[y];if(F!==p&&F.form===p.form){var G=Jg(F);if(!G)throw Error(r(90));Z(F),xe(F,G)}}}break;case"textarea":ct(p,k);break;case"select":y=k.value,y!=null&&ye(p,!!k.multiple,y,!1)}},br=aT,Cr=nx;var D1e={usingClientEntryPoint:!1,Events:[Hp,Nm,Jg,wr,dr,aT]},c_={findFiberByHostInstance:ih,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R1e={bundleType:c_.bundleType,version:c_.version,rendererPackageName:c_.rendererPackageName,rendererConfig:c_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=pt(p),p===null?null:p.stateNode},findFiberByHostInstance:c_.findFiberByHostInstance||T1e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lk.isDisabled&&lk.supportsFiber)try{wi=lk.inject(R1e),Vs=lk}catch{}}return Dc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1e,Dc.createPortal=function(p,y){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mT(y))throw Error(r(200));return P1e(p,y,null,k)},Dc.createRoot=function(p,y){if(!mT(p))throw Error(r(299));var k=!1,F="",G=yz;return y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(F=y.identifierPrefix),y.onRecoverableError!==void 0&&(G=y.onRecoverableError)),y=dT(p,1,!1,null,null,k,!1,F,G),p[Po]=y.current,wm(p.nodeType===8?p.parentNode:p),new hT(y)},Dc.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=pt(y),p=p===null?null:p.stateNode,p},Dc.flushSync=function(p){return nx(p)},Dc.hydrate=function(p,y,k){if(!ik(y))throw Error(r(200));return ok(null,p,y,!0,k)},Dc.hydrateRoot=function(p,y,k){if(!mT(p))throw Error(r(405));var F=k!=null&&k.hydratedSources||null,G=!1,te="",ve=yz;if(k!=null&&(k.unstable_strictMode===!0&&(G=!0),k.identifierPrefix!==void 0&&(te=k.identifierPrefix),k.onRecoverableError!==void 0&&(ve=k.onRecoverableError)),y=xz(y,null,p,1,k??null,G,!1,te,ve),p[Po]=y.current,wm(p),F)for(p=0;p<F.length;p++)k=F[p],G=k._getVersion,G=G(k._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[k,G]:y.mutableSourceEagerHydrationData.push(k,G);return new ak(y)},Dc.render=function(p,y,k){if(!ik(y))throw Error(r(200));return ok(null,p,y,!1,k)},Dc.unmountComponentAtNode=function(p){if(!ik(p))throw Error(r(40));return p._reactRootContainer?(nx(function(){ok(null,null,p,!1,function(){p._reactRootContainer=null,p[Po]=null})}),!0):!1},Dc.unstable_batchedUpdates=aT,Dc.unstable_renderSubtreeIntoContainer=function(p,y,k,F){if(!ik(k))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return ok(p,y,k,!1,F)},Dc.version="18.3.1-next-f1338f8080-20240426",Dc}var Az;function lne(){if(Az)return xT.exports;Az=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xT.exports=q1e(),xT.exports}var Ez;function V1e(){if(Ez)return uk;Ez=1;var t=lne();return uk.createRoot=t.createRoot,uk.hydrateRoot=t.hydrateRoot,uk}var W1e=V1e(),j=NA();const Ne=us(j),NL=F1e({__proto__:null,default:Ne},[j]),H1e=1,G1e=1e6;let bT=0;function Y1e(){return bT=(bT+1)%Number.MAX_SAFE_INTEGER,bT.toString()}const wT=new Map,Pz=t=>{if(wT.has(t))return;const e=setTimeout(()=>{wT.delete(t),i2({type:"REMOVE_TOAST",toastId:t})},G1e);wT.set(t,e)},K1e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,H1e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Pz(r):t.toasts.forEach(n=>{Pz(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},N5=[];let S5={toasts:[]};function i2(t){S5=K1e(S5,t),N5.forEach(e=>{e(S5)})}function et({...t}){const e=Y1e(),r=a=>i2({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>i2({type:"DISMISS_TOAST",toastId:e});return i2({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function ga(){const[t,e]=j.useState(S5);return j.useEffect(()=>(N5.push(e),()=>{const r=N5.indexOf(e);r>-1&&N5.splice(r,1)}),[t]),{...t,toast:et,dismiss:r=>i2({type:"DISMISS_TOAST",toastId:r})}}var ow=lne();const cne=us(ow);function Xt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}function Tz(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SA(...t){return e=>{let r=!1;const n=t.map(a=>{const i=Tz(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Tz(t[a],null)}}}}function Yr(...t){return j.useCallback(SA(...t),t)}function X1e(t,e){const r=j.createContext(e),n=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(i){const o=j.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function bi(t,e=[]){let r=[];function n(i,o){const l=j.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:m,children:h,...x}=f,g=m?.[t]?.[c]||l,v=j.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:v,children:h})};u.displayName=i+"Provider";function d(f,m){const h=m?.[t]?.[c]||l,x=j.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>j.createContext(o));return function(l){const c=l?.[t]||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,J1e(a,...e)]}function J1e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function H0(t){const e=Z1e(t),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,l=j.Children.toArray(i),c=l.find(Q1e);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var une=H0("Slot");function Z1e(t){const e=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=tbe(a),l=ebe(i,a.props);return a.type!==j.Fragment&&(l.ref=n?SA(n,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dne=Symbol("radix.slottable");function fne(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=dne,e}function Q1e(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dne}function ebe(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function tbe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function lw(t){const e=t+"CollectionProvider",[r,n]=bi(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,_=Ne.useRef(null),w=Ne.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:_,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=H0(l),u=Ne.forwardRef((g,v)=>{const{scope:b,children:_}=g,w=i(l,b),N=Yr(v,w.collectionRef);return s.jsx(c,{ref:N,children:_})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=H0(d),h=Ne.forwardRef((g,v)=>{const{scope:b,children:_,...w}=g,N=Ne.useRef(null),S=Yr(v,N),C=i(d,b);return Ne.useEffect(()=>(C.itemMap.set(N,{ref:N,...w}),()=>void C.itemMap.delete(N))),s.jsx(m,{[f]:"",ref:S,children:_})});h.displayName=d;function x(g){const v=i(t+"CollectionConsumer",g);return Ne.useCallback(()=>{const _=v.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,A)=>w.indexOf(C.ref.current)-w.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},x,n]}var rbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xr=rbe.reduce((t,e)=>{const r=H0(`Primitive.${e}`),n=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function SL(t,e){t&&ow.flushSync(()=>t.dispatchEvent(e))}function mi(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>e.current?.(...r),[])}function nbe(t,e=globalThis?.document){const r=mi(t);j.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var sbe="DismissableLayer",AI="dismissableLayer.update",abe="dismissableLayer.pointerDownOutside",ibe="dismissableLayer.focusOutside",Oz,hne=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$v=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=j.useContext(hne),[d,f]=j.useState(null),m=d?.ownerDocument??globalThis?.document,[,h]=j.useState({}),x=Yr(e,A=>f(A)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),_=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=b,S=lbe(A=>{const R=A.target,O=[...u.branches].some(D=>D.contains(R));!N||O||(a?.(A),o?.(A),A.defaultPrevented||l?.())},m),C=cbe(A=>{const R=A.target;[...u.branches].some(D=>D.contains(R))||(i?.(A),o?.(A),A.defaultPrevented||l?.())},m);return nbe(A=>{_===u.layers.size-1&&(n?.(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},m),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Oz=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dz(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Oz)}},[d,m,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dz())},[d,u]),j.useEffect(()=>{const A=()=>h({});return document.addEventListener(AI,A),()=>document.removeEventListener(AI,A)},[]),s.jsx(xr.div,{...c,ref:x,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:Xt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Xt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Xt(t.onPointerDownCapture,S.onPointerDownCapture)})});$v.displayName=sbe;var obe="DismissableLayerBranch",mne=j.forwardRef((t,e)=>{const r=j.useContext(hne),n=j.useRef(null),a=Yr(e,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(xr.div,{...t,ref:a})});mne.displayName=obe;function lbe(t,e=globalThis?.document){const r=mi(t),n=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){pne(abe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function cbe(t,e=globalThis?.document){const r=mi(t),n=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!n.current&&pne(ibe,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Dz(){const t=new CustomEvent(AI);document.dispatchEvent(t)}function pne(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?SL(a,i):a.dispatchEvent(i)}var ube=$v,dbe=mne,vi=globalThis?.document?j.useLayoutEffect:()=>{},fbe="Portal",cw=j.forwardRef((t,e)=>{const{container:r,...n}=t,[a,i]=j.useState(!1);vi(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?cne.createPortal(s.jsx(xr.div,{...n,ref:e}),o):null});cw.displayName=fbe;function hbe(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var ao=t=>{const{present:e,children:r}=t,n=mbe(e),a=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=Yr(n.ref,pbe(a));return typeof r=="function"||n.isPresent?j.cloneElement(a,{ref:i}):null};ao.displayName="Presence";function mbe(t){const[e,r]=j.useState(),n=j.useRef(null),a=j.useRef(t),i=j.useRef("none"),o=t?"mounted":"unmounted",[l,c]=hbe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=dk(n.current);i.current=l==="mounted"?u:"none"},[l]),vi(()=>{const u=n.current,d=a.current;if(d!==t){const m=i.current,h=dk(u);t?c("MOUNT"):h==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),vi(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const g=dk(n.current).includes(h.animationName);if(h.target===e&&g&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=h=>{h.target===e&&(i.current=dk(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function dk(t){return t?.animationName||"none"}function pbe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gbe=NL[" useInsertionEffect ".trim().toString()]||vi;function ql({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=xbe({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:a;{const d=j.useRef(t!==void 0);j.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=j.useCallback(d=>{if(l){const f=vbe(d)?d(t):d;f!==t&&o.current?.(f)}else i(d)},[l,t,i,o]);return[c,u]}function xbe({defaultProp:t,onChange:e}){const[r,n]=j.useState(t),a=j.useRef(r),i=j.useRef(e);return gbe(()=>{i.current=e},[e]),j.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function vbe(t){return typeof t=="function"}var gne=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ybe="VisuallyHidden",kA=j.forwardRef((t,e)=>s.jsx(xr.span,{...t,ref:e,style:{...gne,...t.style}}));kA.displayName=ybe;var bbe=kA,kL="ToastProvider",[CL,wbe,_be]=lw("Toast"),[xne]=bi("Toast",[_be]),[jbe,CA]=xne(kL),vne=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,c]=j.useState(null),[u,d]=j.useState(0),f=j.useRef(!1),m=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${kL}\`. Expected non-empty \`string\`.`),s.jsx(CL.Provider,{scope:e,children:s.jsx(jbe,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>d(h=>h+1),[]),onToastRemove:j.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};vne.displayName=kL;var yne="ToastViewport",Nbe=["F8"],EI="toast.viewportPause",PI="toast.viewportResume",bne=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Nbe,label:a="Notifications ({hotkey})",...i}=t,o=CA(yne,r),l=wbe(r),c=j.useRef(null),u=j.useRef(null),d=j.useRef(null),f=j.useRef(null),m=Yr(e,f,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;j.useEffect(()=>{const v=b=>{n.length!==0&&n.every(w=>b[w]||b.code===w)&&f.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),j.useEffect(()=>{const v=c.current,b=f.current;if(x&&v&&b){const _=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(EI);b.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(PI);b.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!v.contains(C.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",_),v.addEventListener("focusout",N),v.addEventListener("pointermove",_),v.addEventListener("pointerleave",S),window.addEventListener("blur",_),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",_),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",_),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",_),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const g=j.useCallback(({tabbingDirection:v})=>{const _=l().map(w=>{const N=w.ref.current,S=[N,...Mbe(N)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?_.reverse():_).flat()},[l]);return j.useEffect(()=>{const v=f.current;if(v){const b=_=>{const w=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!w){const S=document.activeElement,C=_.shiftKey;if(_.target===v&&C){u.current?.focus();return}const O=g({tabbingDirection:C?"backwards":"forwards"}),D=O.findIndex(P=>P===S);_T(O.slice(D+1))?_.preventDefault():C?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,g]),s.jsxs(dbe,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(TI,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});_T(v)}}),s.jsx(CL.Slot,{scope:r,children:s.jsx(xr.ol,{tabIndex:-1,...i,ref:m})}),x&&s.jsx(TI,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});_T(v)}})]})});bne.displayName=yne;var wne="ToastFocusProxy",TI=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=CA(wne,r);return s.jsx(kA,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});TI.displayName=wne;var DN="Toast",Sbe="toast.swipeStart",kbe="toast.swipeMove",Cbe="toast.swipeCancel",Abe="toast.swipeEnd",_ne=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=t,[l,c]=ql({prop:n,defaultProp:a??!0,onChange:i,caller:DN});return s.jsx(ao,{present:r||l,children:s.jsx(Tbe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:mi(t.onPause),onResume:mi(t.onResume),onSwipeStart:Xt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Xt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Xt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Xt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});_ne.displayName=DN;var[Ebe,Pbe]=xne(DN,{onClose(){}}),Tbe=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...x}=t,g=CA(DN,r),[v,b]=j.useState(null),_=Yr(e,M=>b(M)),w=j.useRef(null),N=j.useRef(null),S=a||g.duration,C=j.useRef(0),A=j.useRef(S),R=j.useRef(0),{onToastAdd:O,onToastRemove:D}=g,P=mi(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),o()}),E=j.useCallback(M=>{!M||M===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(P,M))},[P]);j.useEffect(()=>{const M=g.viewport;if(M){const U=()=>{E(A.current),u?.()},W=()=>{const Y=new Date().getTime()-C.current;A.current=A.current-Y,window.clearTimeout(R.current),c?.()};return M.addEventListener(EI,W),M.addEventListener(PI,U),()=>{M.removeEventListener(EI,W),M.removeEventListener(PI,U)}}},[g.viewport,S,c,u,E]),j.useEffect(()=>{i&&!g.isClosePausedRef.current&&E(S)},[i,S,g.isClosePausedRef,E]),j.useEffect(()=>(O(),()=>D()),[O,D]);const I=j.useMemo(()=>v?Ene(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(Obe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),s.jsx(Ebe,{scope:r,onClose:P,children:ow.createPortal(s.jsx(CL.ItemSlot,{scope:r,children:s.jsx(ube,{asChild:!0,onEscapeKeyDown:Xt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(xr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Xt(t.onKeyDown,M=>{M.key==="Escape"&&(l?.(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Xt(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:Xt(t.onPointerMove,M=>{if(!w.current)return;const U=M.clientX-w.current.x,W=M.clientY-w.current.y,Y=!!N.current,J=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,q=J?z(0,U):0,V=J?0:z(0,W),L=M.pointerType==="touch"?10:2,X={x:q,y:V},K={originalEvent:M,delta:X};Y?(N.current=X,fk(kbe,f,K,{discrete:!1})):Rz(X,g.swipeDirection,L)?(N.current=X,fk(Sbe,d,K,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(U)>L||Math.abs(W)>L)&&(w.current=null)}),onPointerUp:Xt(t.onPointerUp,M=>{const U=N.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),N.current=null,w.current=null,U){const Y=M.currentTarget,J={originalEvent:M,delta:U};Rz(U,g.swipeDirection,g.swipeThreshold)?fk(Abe,h,J,{discrete:!0}):fk(Cbe,m,J,{discrete:!0}),Y.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Obe=t=>{const{__scopeToast:e,children:r,...n}=t,a=CA(DN,e),[i,o]=j.useState(!1),[l,c]=j.useState(!1);return Ibe(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(cw,{asChild:!0,children:s.jsx(kA,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Dbe="ToastTitle",jne=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(xr.div,{...n,ref:e})});jne.displayName=Dbe;var Rbe="ToastDescription",Nne=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(xr.div,{...n,ref:e})});Nne.displayName=Rbe;var Sne="ToastAction",kne=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?s.jsx(Ane,{altText:r,asChild:!0,children:s.jsx(AL,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Sne}\`. Expected non-empty \`string\`.`),null)});kne.displayName=Sne;var Cne="ToastClose",AL=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=Pbe(Cne,r);return s.jsx(Ane,{asChild:!0,children:s.jsx(xr.button,{type:"button",...n,ref:e,onClick:Xt(t.onClick,a.onClose)})})});AL.displayName=Cne;var Ane=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return s.jsx(xr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function Ene(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Fbe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ene(n))}}),e}function fk(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?SL(a,i):a.dispatchEvent(i)}var Rz=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return e==="left"||e==="right"?i&&n>r:!i&&a>r};function Ibe(t=()=>{}){const e=mi(t);vi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Fbe(t){return t.nodeType===t.ELEMENT_NODE}function Mbe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function _T(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Lbe=vne,Pne=bne,Tne=_ne,One=jne,Dne=Nne,Rne=kne,Ine=AL;function Fne(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Fne(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Pn(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Fne(t))&&(n&&(n+=" "),n+=e);return n}const Iz=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fz=Pn,uw=(t,e)=>r=>{var n;if(e?.variants==null)return Fz(t,r?.class,r?.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const m=Iz(d)||Iz(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,f,m]:u},[]);return Fz(t,o,c,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $be=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mne=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bbe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ube=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...Bbe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Mne("lucide",a),...l},[...o.map(([u,d])=>j.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=(t,e)=>{const r=j.forwardRef(({className:n,...a},i)=>j.createElement(Ube,{ref:i,iconNode:e,className:Mne(`lucide-${$be(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=zt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=zt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=zt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=zt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zbe=zt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=zt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qbe=zt("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=zt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=zt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=zt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=zt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vbe=zt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wbe=zt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hbe=zt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=zt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=zt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gbe=zt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=zt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ybe=zt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=zt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=zt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=zt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kbe=zt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=zt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=zt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=zt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=zt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=zt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xbe=zt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=zt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=zt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=zt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=zt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=zt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jbe=zt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=zt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=zt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=zt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=zt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=zt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zbe=zt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=zt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qbe=zt("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=zt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=zt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=zt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ewe=zt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=zt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=zt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=zt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=zt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=zt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const twe=zt("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=zt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=zt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=zt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=zt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=zt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=zt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=zt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=zt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=zt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=zt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=zt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=zt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=zt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=zt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rwe=zt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=zt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nwe=zt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=zt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=zt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=zt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const swe=zt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=zt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=zt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const awe=zt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=zt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=zt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=zt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=zt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=zt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=zt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=zt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=zt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=zt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=zt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=zt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=zt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iwe=zt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=zt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=zt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=zt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=zt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=zt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=zt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const owe=zt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=zt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=zt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=zt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),TL="-",lwe=t=>{const e=uwe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(TL);return l[0]===""&&l.length!==1&&l.shift(),Gne(l,e)||cwe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Gne=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?Gne(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(TL);return e.validators.find(({validator:o})=>o(i))?.classGroupId},Kz=/^\[(.+)\]$/,cwe=t=>{if(Kz.test(t)){const e=Kz.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},uwe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return fwe(Object.entries(t.classGroups),r).forEach(([i,o])=>{LI(o,n,i,e)}),n},LI=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:Xz(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(dwe(a)){LI(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{LI(o,Xz(e,i),r,n)})})},Xz=(t,e)=>{let r=t;return e.split(TL).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},dwe=t=>t.isThemeGetter,fwe=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,a]}):t,hwe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Yne="!",mwe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+i)===e)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(Yne),x=h?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},pwe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},gwe=t=>({cache:hwe(t.cacheSize),parseClassName:mwe(t),...lwe(t)}),xwe=/\s+/,vwe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(xwe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(u);let x=!!h,g=n(x?m.substring(0,h):m);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=pwe(d).join(":"),b=f?v+Yne:v,_=b+g;if(i.includes(_))continue;i.push(_);const w=a(g,x);for(let N=0;N<w.length;++N){const S=w[N];i.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function ywe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Kne(e))&&(n&&(n+=" "),n+=r);return n}const Kne=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Kne(t[n]))&&(r&&(r+=" "),r+=e);return r};function bwe(t,...e){let r,n,a,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=gwe(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=vwe(c,r);return a(c,d),d}return function(){return i(ywe.apply(null,arguments))}}const ba=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Xne=/^\[(?:([a-z-]+):)?(.+)\]$/i,wwe=/^\d+\/\d+$/,_we=new Set(["px","full","screen"]),jwe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nwe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Swe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kwe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cwe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pm=t=>B1(t)||_we.has(t)||wwe.test(t),a0=t=>fw(t,"length",Iwe),B1=t=>!!t&&!Number.isNaN(Number(t)),NT=t=>fw(t,"number",B1),d_=t=>!!t&&Number.isInteger(Number(t)),Awe=t=>t.endsWith("%")&&B1(t.slice(0,-1)),Rn=t=>Xne.test(t),i0=t=>jwe.test(t),Ewe=new Set(["length","size","percentage"]),Pwe=t=>fw(t,Ewe,Jne),Twe=t=>fw(t,"position",Jne),Owe=new Set(["image","url"]),Dwe=t=>fw(t,Owe,Mwe),Rwe=t=>fw(t,"",Fwe),f_=()=>!0,fw=(t,e,r)=>{const n=Xne.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Iwe=t=>Nwe.test(t)&&!Swe.test(t),Jne=()=>!1,Fwe=t=>kwe.test(t),Mwe=t=>Cwe.test(t),Lwe=()=>{const t=ba("colors"),e=ba("spacing"),r=ba("blur"),n=ba("brightness"),a=ba("borderColor"),i=ba("borderRadius"),o=ba("borderSpacing"),l=ba("borderWidth"),c=ba("contrast"),u=ba("grayscale"),d=ba("hueRotate"),f=ba("invert"),m=ba("gap"),h=ba("gradientColorStops"),x=ba("gradientColorStopPositions"),g=ba("inset"),v=ba("margin"),b=ba("opacity"),_=ba("padding"),w=ba("saturate"),N=ba("scale"),S=ba("sepia"),C=ba("skew"),A=ba("space"),R=ba("translate"),O=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Rn,e],E=()=>[Rn,e],I=()=>["",Pm,a0],M=()=>["auto",B1,Rn],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Rn],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[B1,Rn];return{cacheSize:500,separator:":",theme:{colors:[f_],spacing:[Pm,a0],blur:["none","",i0,Rn],brightness:V(),borderColor:[t],borderRadius:["none","","full",i0,Rn],borderSpacing:E(),borderWidth:I(),contrast:V(),grayscale:z(),hueRotate:V(),invert:z(),gap:E(),gradientColorStops:[t],gradientColorStopPositions:[Awe,a0],inset:P(),margin:P(),opacity:V(),padding:E(),saturate:V(),scale:V(),sepia:z(),skew:V(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Rn]}],container:["container"],columns:[{columns:[i0]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Rn]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",d_,Rn]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rn]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",d_,Rn]}],"grid-cols":[{"grid-cols":[f_]}],"col-start-end":[{col:["auto",{span:["full",d_,Rn]},Rn]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[f_]}],"row-start-end":[{row:["auto",{span:[d_,Rn]},Rn]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rn,e]}],"min-w":[{"min-w":[Rn,e,"min","max","fit"]}],"max-w":[{"max-w":[Rn,e,"none","full","min","max","fit","prose",{screen:[i0]},i0]}],h:[{h:[Rn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",i0,a0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",NT]}],"font-family":[{font:[f_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rn]}],"line-clamp":[{"line-clamp":["none",B1,NT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pm,Rn]}],"list-image":[{"list-image":["none",Rn]}],"list-style-type":[{list:["none","disc","decimal",Rn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pm,a0]}],"underline-offset":[{"underline-offset":["auto",Pm,Rn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),Twe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pwe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dwe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Pm,Rn]}],"outline-w":[{outline:[Pm,a0]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Pm,a0]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",i0,Rwe]}],"shadow-color":[{shadow:[f_]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",i0,Rn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rn]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Rn]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[d_,Rn]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Pm,a0,NT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$we=bwe(Lwe);function Gt(...t){return $we(Pn(t))}const Bwe=Lbe,Zne=j.forwardRef(({className:t,...e},r)=>s.jsx(Pne,{ref:r,className:Gt("fixed top-4 right-4 z-[100] flex max-h-screen max-w-[420px] flex-col gap-2 p-4",t),...e}));Zne.displayName=Pne.displayName;const Uwe=uw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border-2 p-4 pr-8 shadow-xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border-emerald-400 bg-emerald-50 dark:bg-emerald-950 text-emerald-900 dark:text-emerald-100",destructive:"border-red-500 bg-red-50 dark:bg-red-950 text-red-900 dark:text-red-100"}},defaultVariants:{variant:"default"}}),Qne=j.forwardRef(({className:t,variant:e,...r},n)=>s.jsx(Tne,{ref:n,className:Gt(Uwe({variant:e}),t),...r}));Qne.displayName=Tne.displayName;const zwe=j.forwardRef(({className:t,...e},r)=>s.jsx(Rne,{ref:r,className:Gt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));zwe.displayName=Rne.displayName;const ese=j.forwardRef(({className:t,...e},r)=>s.jsx(Ine,{ref:r,className:Gt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(so,{className:"h-4 w-4"})}));ese.displayName=Ine.displayName;const tse=j.forwardRef(({className:t,...e},r)=>s.jsx(One,{ref:r,className:Gt("text-sm font-semibold",t),...e}));tse.displayName=One.displayName;const rse=j.forwardRef(({className:t,...e},r)=>s.jsx(Dne,{ref:r,className:Gt("text-sm opacity-90",t),...e}));rse.displayName=Dne.displayName;function qwe(){const{toasts:t,dismiss:e}=ga(),r=j.useRef(null);return j.useEffect(()=>{const n=a=>{t.length!==0&&r.current&&!r.current.contains(a.target)&&t.forEach(i=>{e(i.id)})};if(t.length>0){const a=setTimeout(()=>{document.addEventListener("click",n)},100);return()=>{clearTimeout(a),document.removeEventListener("click",n)}}},[t,e]),s.jsxs(Bwe,{children:[t.map(function({id:n,title:a,description:i,action:o,...l}){return s.jsxs(Qne,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[a&&s.jsx(tse,{children:a}),i&&s.jsx(rse,{children:i})]}),o,s.jsx(ese,{})]},n)}),s.jsx(Zne,{ref:r})]})}var l4=["light","dark"],OL="(prefers-color-scheme: dark)",Vwe=typeof window>"u",DL=j.createContext(void 0),Wwe={setTheme:t=>{},themes:[]},nse=()=>{var t;return(t=j.useContext(DL))!=null?t:Wwe},Hwe=t=>j.useContext(DL)?t.children:j.createElement(Ywe,{...t}),Gwe=["light","dark"],Ywe=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=Gwe,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=j.useState(()=>Jz(a,o)),[h,x]=j.useState(()=>Jz(a)),g=c?Object.values(c):i,v=j.useCallback(N=>{let S=N;if(!S)return;N==="system"&&r&&(S=Zz());let C=c?c[S]:S,A=e?Xwe():null,R=document.documentElement;if(l==="class"?(R.classList.remove(...g),C&&R.classList.add(C)):C?R.setAttribute(l,C):R.removeAttribute(l),n){let O=l4.includes(o)?o:null,D=l4.includes(S)?S:O;R.style.colorScheme=D}A?.()},[]),b=j.useCallback(N=>{let S=typeof N=="function"?N(N):N;m(S);try{localStorage.setItem(a,S)}catch{}},[t]),_=j.useCallback(N=>{let S=Zz(N);x(S),f==="system"&&r&&!t&&v("system")},[f,t]);j.useEffect(()=>{let N=window.matchMedia(OL);return N.addListener(_),_(N),()=>N.removeListener(_)},[_]),j.useEffect(()=>{let N=S=>{if(S.key!==a)return;let C=S.newValue||o;b(C)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[b]),j.useEffect(()=>{v(t??f)},[t,f]);let w=j.useMemo(()=>({theme:f,setTheme:b,forcedTheme:t,resolvedTheme:f==="system"?h:f,themes:r?[...i,"system"]:i,systemTheme:r?h:void 0}),[f,b,t,h,r,i]);return j.createElement(DL.Provider,{value:w},j.createElement(Kwe,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},Kwe=j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?l4.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,v=!0)=>{let b=o?o[x]:x,_=g?x+"|| ''":`'${b}'`,w="";return a&&v&&!g&&l4.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?g||b?w+=`c.add(${_})`:w+="null":b&&(w+=`d[s](n,${_})`),w},h=t?`!function(){${d}${m(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${OL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return j.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),Jz=(t,e)=>{if(Vwe)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},Xwe=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Zz=t=>(t||(t=window.matchMedia(OL)),t.matches?"dark":"light"),Jwe=t=>{switch(t){case"success":return e_e;case"info":return r_e;case"warning":return t_e;case"error":return n_e;default:return null}},Zwe=Array(12).fill(0),Qwe=({visible:t,className:e})=>Ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ne.createElement("div",{className:"sonner-spinner"},Zwe.map((r,n)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),e_e=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),t_e=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),r_e=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),n_e=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),s_e=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),a_e=()=>{let[t,e]=Ne.useState(document.hidden);return Ne.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},$I=1,i_e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...a}=e,i=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:$I++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=e instanceof Promise?e:e(),i=n!==void 0,o,l=a.then(async u=>{if(o=["resolve",u],Ne.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(l_e(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{let n=r?.id||$I++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Fc=new i_e,o_e=(t,e)=>{let r=e?.id||$I++;return Fc.addToast({title:t,...e,id:r}),r},l_e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",c_e=o_e,u_e=()=>Fc.toasts,d_e=()=>Fc.getActiveToasts(),Mt=Object.assign(c_e,{success:Fc.success,info:Fc.info,warning:Fc.warning,error:Fc.error,custom:Fc.custom,message:Fc.message,promise:Fc.promise,dismiss:Fc.dismiss,loading:Fc.loading},{getHistory:u_e,getToasts:d_e});function f_e(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}f_e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hk(t){return t.label!==void 0}var h_e=3,m_e="32px",p_e="16px",Qz=4e3,g_e=356,x_e=14,v_e=20,y_e=200;function hf(...t){return t.filter(Boolean).join(" ")}function b_e(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var w_e=t=>{var e,r,n,a,i,o,l,c,u,d,f;let{invert:m,toast:h,unstyled:x,interacting:g,setHeights:v,visibleToasts:b,heights:_,index:w,toasts:N,expanded:S,removeToast:C,defaultRichColors:A,closeButton:R,style:O,cancelButtonStyle:D,actionButtonStyle:P,className:E="",descriptionClassName:I="",duration:M,position:U,gap:W,loadingIcon:Y,expandByDefault:J,classNames:z,icons:q,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:L}=t,[X,K]=Ne.useState(null),[Q,oe]=Ne.useState(null),[ce,de]=Ne.useState(!1),[ne,ue]=Ne.useState(!1),[se,Z]=Ne.useState(!1),[Oe,re]=Ne.useState(!1),[le,We]=Ne.useState(!1),[xe,Le]=Ne.useState(0),[ke,fe]=Ne.useState(0),ye=Ne.useRef(h.duration||M||Qz),qe=Ne.useRef(null),Qe=Ne.useRef(null),ct=w===0,Ye=w+1<=b,me=h.type,Se=h.dismissible!==!1,_e=h.className||"",Je=h.descriptionClassName||"",tt=Ne.useMemo(()=>_.findIndex(dr=>dr.toastId===h.id)||0,[_,h.id]),Ve=Ne.useMemo(()=>{var dr;return(dr=h.closeButton)!=null?dr:R},[h.closeButton,R]),Me=Ne.useMemo(()=>h.duration||M||Qz,[h.duration,M]),ht=Ne.useRef(0),Ce=Ne.useRef(0),st=Ne.useRef(0),Ue=Ne.useRef(null),[Ke,at]=U.split("-"),St=Ne.useMemo(()=>_.reduce((dr,br,Cr)=>Cr>=tt?dr:dr+br.height,0),[_,tt]),qt=a_e(),Ut=h.invert||m,Qt=me==="loading";Ce.current=Ne.useMemo(()=>tt*W+St,[tt,St]),Ne.useEffect(()=>{ye.current=Me},[Me]),Ne.useEffect(()=>{de(!0)},[]),Ne.useEffect(()=>{let dr=Qe.current;if(dr){let br=dr.getBoundingClientRect().height;return fe(br),v(Cr=>[{toastId:h.id,height:br,position:h.position},...Cr]),()=>v(Cr=>Cr.filter(or=>or.toastId!==h.id))}},[v,h.id]),Ne.useLayoutEffect(()=>{if(!ce)return;let dr=Qe.current,br=dr.style.height;dr.style.height="auto";let Cr=dr.getBoundingClientRect().height;dr.style.height=br,fe(Cr),v(or=>or.find(It=>It.toastId===h.id)?or.map(It=>It.toastId===h.id?{...It,height:Cr}:It):[{toastId:h.id,height:Cr,position:h.position},...or])},[ce,h.title,h.description,v,h.id]);let Vt=Ne.useCallback(()=>{ue(!0),Le(Ce.current),v(dr=>dr.filter(br=>br.toastId!==h.id)),setTimeout(()=>{C(h)},y_e)},[h,C,v,Ce]);Ne.useEffect(()=>{if(h.promise&&me==="loading"||h.duration===1/0||h.type==="loading")return;let dr;return S||g||L&&qt?(()=>{if(st.current<ht.current){let br=new Date().getTime()-ht.current;ye.current=ye.current-br}st.current=new Date().getTime()})():ye.current!==1/0&&(ht.current=new Date().getTime(),dr=setTimeout(()=>{var br;(br=h.onAutoClose)==null||br.call(h,h),Vt()},ye.current)),()=>clearTimeout(dr)},[S,g,h,me,L,qt,Vt]),Ne.useEffect(()=>{h.delete&&Vt()},[Vt,h.delete]);function wr(){var dr,br,Cr;return q!=null&&q.loading?Ne.createElement("div",{className:hf(z?.loader,(dr=h?.classNames)==null?void 0:dr.loader,"sonner-loader"),"data-visible":me==="loading"},q.loading):Y?Ne.createElement("div",{className:hf(z?.loader,(br=h?.classNames)==null?void 0:br.loader,"sonner-loader"),"data-visible":me==="loading"},Y):Ne.createElement(Qwe,{className:hf(z?.loader,(Cr=h?.classNames)==null?void 0:Cr.loader),visible:me==="loading"})}return Ne.createElement("li",{tabIndex:0,ref:Qe,className:hf(E,_e,z?.toast,(e=h?.classNames)==null?void 0:e.toast,z?.default,z?.[me],(r=h?.classNames)==null?void 0:r[me]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:A,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":ce,"data-promise":!!h.promise,"data-swiped":le,"data-removed":ne,"data-visible":Ye,"data-y-position":Ke,"data-x-position":at,"data-index":w,"data-front":ct,"data-swiping":se,"data-dismissible":Se,"data-type":me,"data-invert":Ut,"data-swipe-out":Oe,"data-swipe-direction":Q,"data-expanded":!!(S||J&&ce),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${ne?xe:Ce.current}px`,"--initial-height":J?"auto":`${ke}px`,...O,...h.style},onDragEnd:()=>{Z(!1),K(null),Ue.current=null},onPointerDown:dr=>{Qt||!Se||(qe.current=new Date,Le(Ce.current),dr.target.setPointerCapture(dr.pointerId),dr.target.tagName!=="BUTTON"&&(Z(!0),Ue.current={x:dr.clientX,y:dr.clientY}))},onPointerUp:()=>{var dr,br,Cr,or;if(Oe||!Se)return;Ue.current=null;let It=Number(((dr=Qe.current)==null?void 0:dr.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ir=Number(((br=Qe.current)==null?void 0:br.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jt=new Date().getTime()-((Cr=qe.current)==null?void 0:Cr.getTime()),gr=X==="x"?It:Ir,mr=Math.abs(gr)/Jt;if(Math.abs(gr)>=v_e||mr>.11){Le(Ce.current),(or=h.onDismiss)==null||or.call(h,h),oe(X==="x"?It>0?"right":"left":Ir>0?"down":"up"),Vt(),re(!0),We(!1);return}Z(!1),K(null)},onPointerMove:dr=>{var br,Cr,or,It;if(!Ue.current||!Se||((br=window.getSelection())==null?void 0:br.toString().length)>0)return;let Ir=dr.clientY-Ue.current.y,Jt=dr.clientX-Ue.current.x,gr=(Cr=t.swipeDirections)!=null?Cr:b_e(U);!X&&(Math.abs(Jt)>1||Math.abs(Ir)>1)&&K(Math.abs(Jt)>Math.abs(Ir)?"x":"y");let mr={x:0,y:0};X==="y"?(gr.includes("top")||gr.includes("bottom"))&&(gr.includes("top")&&Ir<0||gr.includes("bottom")&&Ir>0)&&(mr.y=Ir):X==="x"&&(gr.includes("left")||gr.includes("right"))&&(gr.includes("left")&&Jt<0||gr.includes("right")&&Jt>0)&&(mr.x=Jt),(Math.abs(mr.x)>0||Math.abs(mr.y)>0)&&We(!0),(or=Qe.current)==null||or.style.setProperty("--swipe-amount-x",`${mr.x}px`),(It=Qe.current)==null||It.style.setProperty("--swipe-amount-y",`${mr.y}px`)}},Ve&&!h.jsx?Ne.createElement("button",{"aria-label":V,"data-disabled":Qt,"data-close-button":!0,onClick:Qt||!Se?()=>{}:()=>{var dr;Vt(),(dr=h.onDismiss)==null||dr.call(h,h)},className:hf(z?.closeButton,(a=h?.classNames)==null?void 0:a.closeButton)},(i=q?.close)!=null?i:s_e):null,h.jsx||j.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:Ne.createElement(Ne.Fragment,null,me||h.icon||h.promise?Ne.createElement("div",{"data-icon":"",className:hf(z?.icon,(o=h?.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||wr():null,h.type!=="loading"?h.icon||q?.[me]||Jwe(me):null):null,Ne.createElement("div",{"data-content":"",className:hf(z?.content,(l=h?.classNames)==null?void 0:l.content)},Ne.createElement("div",{"data-title":"",className:hf(z?.title,(c=h?.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?Ne.createElement("div",{"data-description":"",className:hf(I,Je,z?.description,(u=h?.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),j.isValidElement(h.cancel)?h.cancel:h.cancel&&hk(h.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:dr=>{var br,Cr;hk(h.cancel)&&Se&&((Cr=(br=h.cancel).onClick)==null||Cr.call(br,dr),Vt())},className:hf(z?.cancelButton,(d=h?.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,j.isValidElement(h.action)?h.action:h.action&&hk(h.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:dr=>{var br,Cr;hk(h.action)&&((Cr=(br=h.action).onClick)==null||Cr.call(br,dr),!dr.defaultPrevented&&Vt())},className:hf(z?.actionButton,(f=h?.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function eq(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function __e(t,e){let r={};return[t,e].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?p_e:m_e;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var j_e=j.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:h,visibleToasts:x=h_e,toastOptions:g,dir:v=eq(),gap:b=x_e,loadingIcon:_,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:S}=t,[C,A]=Ne.useState([]),R=Ne.useMemo(()=>Array.from(new Set([n].concat(C.filter(L=>L.position).map(L=>L.position)))),[C,n]),[O,D]=Ne.useState([]),[P,E]=Ne.useState(!1),[I,M]=Ne.useState(!1),[U,W]=Ne.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=Ne.useRef(null),J=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=Ne.useRef(null),q=Ne.useRef(!1),V=Ne.useCallback(L=>{A(X=>{var K;return(K=X.find(Q=>Q.id===L.id))!=null&&K.delete||Fc.dismiss(L.id),X.filter(({id:Q})=>Q!==L.id)})},[]);return Ne.useEffect(()=>Fc.subscribe(L=>{if(L.dismiss){A(X=>X.map(K=>K.id===L.id?{...K,delete:!0}:K));return}setTimeout(()=>{cne.flushSync(()=>{A(X=>{let K=X.findIndex(Q=>Q.id===L.id);return K!==-1?[...X.slice(0,K),{...X[K],...L},...X.slice(K+1)]:[L,...X]})})})}),[]),Ne.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:X})=>{W(X?"dark":"light")})}catch{L.addListener(({matches:K})=>{try{W(K?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),Ne.useEffect(()=>{C.length<=1&&E(!1)},[C]),Ne.useEffect(()=>{let L=X=>{var K,Q;a.every(oe=>X[oe]||X.code===oe)&&(E(!0),(K=Y.current)==null||K.focus()),X.code==="Escape"&&(document.activeElement===Y.current||(Q=Y.current)!=null&&Q.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[a]),Ne.useEffect(()=>{if(Y.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,q.current=!1)}},[Y.current]),Ne.createElement("section",{ref:e,"aria-label":`${N} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((L,X)=>{var K;let[Q,oe]=L.split("-");return C.length?Ne.createElement("ol",{key:L,dir:v==="auto"?eq():v,tabIndex:-1,ref:Y,className:l,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":Q,"data-lifted":P&&C.length>1&&!i,"data-x-position":oe,style:{"--front-toast-height":`${((K=O[0])==null?void 0:K.height)||0}px`,"--width":`${g_e}px`,"--gap":`${b}px`,...h,...__e(c,u)},onBlur:ce=>{q.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(q.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||q.current||(q.current=!0,z.current=ce.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{I||E(!1)},onDragEnd:()=>E(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},C.filter(ce=>!ce.position&&X===0||ce.position===L).map((ce,de)=>{var ne,ue;return Ne.createElement(w_e,{key:ce.id,icons:w,index:de,toast:ce,defaultRichColors:f,duration:(ne=g?.duration)!=null?ne:m,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:x,closeButton:(ue=g?.closeButton)!=null?ue:o,interacting:I,position:L,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:V,toasts:C.filter(se=>se.position==ce.position),heights:O.filter(se=>se.position==ce.position),setHeights:D,expandByDefault:i,gap:b,loadingIcon:_,expanded:P,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const N_e=({...t})=>{const{theme:e="system"}=nse();return s.jsx(j_e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var S_e=NL[" useId ".trim().toString()]||(()=>{}),k_e=0;function Vc(t){const[e,r]=j.useState(S_e());return vi(()=>{r(n=>n??String(k_e++))},[t]),e?`radix-${e}`:""}const C_e=["top","right","bottom","left"],J0=Math.min,wu=Math.max,c4=Math.round,mk=Math.floor,Ph=t=>({x:t,y:t}),A_e={left:"right",right:"left",bottom:"top",top:"bottom"},E_e={start:"end",end:"start"};function BI(t,e,r){return wu(t,J0(e,r))}function sp(t,e){return typeof t=="function"?t(e):t}function ap(t){return t.split("-")[0]}function hw(t){return t.split("-")[1]}function RL(t){return t==="x"?"y":"x"}function IL(t){return t==="y"?"height":"width"}const P_e=new Set(["top","bottom"]);function _h(t){return P_e.has(ap(t))?"y":"x"}function FL(t){return RL(_h(t))}function T_e(t,e,r){r===void 0&&(r=!1);const n=hw(t),a=FL(t),i=IL(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=u4(o)),[o,u4(o)]}function O_e(t){const e=u4(t);return[UI(t),e,UI(e)]}function UI(t){return t.replace(/start|end/g,e=>E_e[e])}const tq=["left","right"],rq=["right","left"],D_e=["top","bottom"],R_e=["bottom","top"];function I_e(t,e,r){switch(t){case"top":case"bottom":return r?e?rq:tq:e?tq:rq;case"left":case"right":return e?D_e:R_e;default:return[]}}function F_e(t,e,r,n){const a=hw(t);let i=I_e(ap(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(UI)))),i}function u4(t){return t.replace(/left|right|bottom|top/g,e=>A_e[e])}function M_e(t){return{top:0,right:0,bottom:0,left:0,...t}}function sse(t){return typeof t!="number"?M_e(t):{top:t,right:t,bottom:t,left:t}}function d4(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function nq(t,e,r){let{reference:n,floating:a}=t;const i=_h(e),o=FL(e),l=IL(o),c=ap(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(hw(e)){case"start":h[o]-=m*(r&&u?-1:1);break;case"end":h[o]+=m*(r&&u?-1:1);break}return h}const L_e=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=nq(u,n,c),m=n,h={},x=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:_,y:w,data:N,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=w??f,h={...h,[v]:{...h[v],...N}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:d,y:f}=nq(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:h}};async function J2(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=sp(e,t),x=sse(h),v=l[m?f==="floating"?"reference":"floating":f],b=d4(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=d4(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:w,strategy:c}):_);return{top:(b.top-S.top+x.top)/N.y,bottom:(S.bottom-b.bottom+x.bottom)/N.y,left:(b.left-S.left+x.left)/N.x,right:(S.right-b.right+x.right)/N.x}}const $_e=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=sp(t,e)||{};if(u==null)return{};const f=sse(d),m={x:r,y:n},h=FL(a),x=IL(h),g=await o.getDimensions(u),v=h==="y",b=v?"top":"left",_=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[h]-m[h]-i.floating[x],S=m[h]-i.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=C?C[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(C)))&&(A=l.floating[w]||i.floating[x]);const R=N/2-S/2,O=A/2-g[x]/2-1,D=J0(f[b],O),P=J0(f[_],O),E=D,I=A-g[x]-P,M=A/2-g[x]/2+R,U=BI(E,M,I),W=!c.arrow&&hw(a)!=null&&M!==U&&i.reference[x]/2-(M<E?D:P)-g[x]/2<0,Y=W?M<E?M-E:M-I:0;return{[h]:m[h]+Y,data:{[h]:U,centerOffset:M-U-Y,...W&&{alignmentOffset:Y}},reset:W}}}),B_e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=sp(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=ap(a),_=_h(l),w=ap(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(w||!g?[u4(l)]:O_e(l)),C=x!=="none";!m&&C&&S.push(...F_e(l,g,x,N));const A=[l,...S],R=await J2(e,v),O=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(R[b]),f){const M=T_e(a,o,N);O.push(R[M[0]],R[M[1]])}if(D=[...D,{placement:a,overflows:O}],!O.every(M=>M<=0)){var P,E;const M=(((P=i.flip)==null?void 0:P.index)||0)+1,U=A[M];if(U&&(!(f==="alignment"?_!==_h(U):!1)||D.every(J=>J.overflows[0]>0&&_h(J.placement)===_)))return{data:{index:M,overflows:D},reset:{placement:U}};let W=(E=D.filter(Y=>Y.overflows[0]<=0).sort((Y,J)=>Y.overflows[1]-J.overflows[1])[0])==null?void 0:E.placement;if(!W)switch(h){case"bestFit":{var I;const Y=(I=D.filter(J=>{if(C){const z=_h(J.placement);return z===_||z==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((J,z)=>J[1]-z[1])[0])==null?void 0:I[0];Y&&(W=Y);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function sq(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aq(t){return C_e.some(e=>t[e]>=0)}const U_e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=sp(t,e);switch(n){case"referenceHidden":{const i=await J2(e,{...a,elementContext:"reference"}),o=sq(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aq(o)}}}case"escaped":{const i=await J2(e,{...a,altBoundary:!0}),o=sq(i,r.floating);return{data:{escapedOffsets:o,escaped:aq(o)}}}default:return{}}}}},ase=new Set(["left","top"]);async function z_e(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ap(r),l=hw(r),c=_h(r)==="y",u=ase.has(o)?-1:1,d=i&&c?-1:1,f=sp(e,t);let{mainAxis:m,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(h=l==="end"?x*-1:x),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const q_e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=e,c=await z_e(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},V_e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...c}=sp(t,e),u={x:r,y:n},d=await J2(e,c),f=_h(ap(a)),m=RL(f);let h=u[m],x=u[f];if(i){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",_=h+d[v],w=h-d[b];h=BI(_,h,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=x+d[v],w=x-d[b];x=BI(_,x,w)}const g=l.fn({...e,[m]:h,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},W_e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=sp(t,e),d={x:r,y:n},f=_h(a),m=RL(f);let h=d[m],x=d[f];const g=sp(l,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",N=i.reference[m]-i.floating[w]+v.mainAxis,S=i.reference[m]+i.reference[w]-v.mainAxis;h<N?h=N:h>S&&(h=S)}if(u){var b,_;const w=m==="y"?"width":"height",N=ase.has(ap(a)),S=i.reference[f]-i.floating[w]+(N&&((b=o.offset)==null?void 0:b[f])||0)+(N?0:v.crossAxis),C=i.reference[f]+i.reference[w]+(N?0:((_=o.offset)==null?void 0:_[f])||0)-(N?v.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[m]:h,[f]:x}}}},H_e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=sp(t,e),d=await J2(e,u),f=ap(a),m=hw(a),h=_h(a)==="y",{width:x,height:g}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=m==="end"?"top":"bottom");const _=g-d.top-d.bottom,w=x-d.left-d.right,N=J0(g-d[v],_),S=J0(x-d[b],w),C=!e.middlewareData.shift;let A=N,R=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=_),C&&!m){const D=wu(d.left,0),P=wu(d.right,0),E=wu(d.top,0),I=wu(d.bottom,0);h?R=x-2*(D!==0||P!==0?D+P:wu(d.left,d.right)):A=g-2*(E!==0||I!==0?E+I:wu(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:A});const O=await o.getDimensions(l.floating);return x!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function PA(){return typeof window<"u"}function mw(t){return ise(t)?(t.nodeName||"").toLowerCase():"#document"}function Fu(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hh(t){var e;return(e=(ise(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ise(t){return PA()?t instanceof Node||t instanceof Fu(t).Node:!1}function $f(t){return PA()?t instanceof Element||t instanceof Fu(t).Element:!1}function Bh(t){return PA()?t instanceof HTMLElement||t instanceof Fu(t).HTMLElement:!1}function iq(t){return!PA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fu(t).ShadowRoot}const G_e=new Set(["inline","contents"]);function FN(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Bf(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!G_e.has(a)}const Y_e=new Set(["table","td","th"]);function K_e(t){return Y_e.has(mw(t))}const X_e=[":popover-open",":modal"];function TA(t){return X_e.some(e=>{try{return t.matches(e)}catch{return!1}})}const J_e=["transform","translate","scale","rotate","perspective"],Z_e=["transform","translate","scale","rotate","perspective","filter"],Q_e=["paint","layout","strict","content"];function ML(t){const e=LL(),r=$f(t)?Bf(t):t;return J_e.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Z_e.some(n=>(r.willChange||"").includes(n))||Q_e.some(n=>(r.contain||"").includes(n))}function e2e(t){let e=Z0(t);for(;Bh(e)&&!hb(e);){if(ML(e))return e;if(TA(e))return null;e=Z0(e)}return null}function LL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const t2e=new Set(["html","body","#document"]);function hb(t){return t2e.has(mw(t))}function Bf(t){return Fu(t).getComputedStyle(t)}function OA(t){return $f(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Z0(t){if(mw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iq(t)&&t.host||Hh(t);return iq(e)?e.host:e}function ose(t){const e=Z0(t);return hb(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bh(e)&&FN(e)?e:ose(e)}function Z2(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=ose(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=Fu(a);if(i){const l=zI(o);return e.concat(o,o.visualViewport||[],FN(a)?a:[],l&&r?Z2(l):[])}return e.concat(a,Z2(a,[],r))}function zI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lse(t){const e=Bf(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Bh(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=c4(r)!==i||c4(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function $L(t){return $f(t)?t:t.contextElement}function U1(t){const e=$L(t);if(!Bh(e))return Ph(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=lse(e);let o=(i?c4(r.width):r.width)/n,l=(i?c4(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const r2e=Ph(0);function cse(t){const e=Fu(t);return!LL()||!e.visualViewport?r2e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function n2e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Fu(t)?!1:e}function cv(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=$L(t);let o=Ph(1);e&&(n?$f(n)&&(o=U1(n)):o=U1(t));const l=n2e(i,r,n)?cse(i):Ph(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const m=Fu(i),h=n&&$f(n)?Fu(n):n;let x=m,g=zI(x);for(;g&&n&&h!==x;){const v=U1(g),b=g.getBoundingClientRect(),_=Bf(g),w=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*v.x,N=b.top+(g.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=N,x=Fu(g),g=zI(x)}}return d4({width:d,height:f,x:c,y:u})}function BL(t,e){const r=OA(t).scrollLeft;return e?e.left+r:cv(Hh(t)).left+r}function use(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:BL(t,n)),i=n.top+e.scrollTop;return{x:a,y:i}}function s2e(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=Hh(n),l=e?TA(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ph(1);const d=Ph(0),f=Bh(n);if((f||!f&&!i)&&((mw(n)!=="body"||FN(o))&&(c=OA(n)),Bh(n))){const h=cv(n);u=U1(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const m=o&&!f&&!i?use(o,c,!0):Ph(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function a2e(t){return Array.from(t.getClientRects())}function i2e(t){const e=Hh(t),r=OA(t),n=t.ownerDocument.body,a=wu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=wu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+BL(t);const l=-r.scrollTop;return Bf(n).direction==="rtl"&&(o+=wu(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function o2e(t,e){const r=Fu(t),n=Hh(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=LL();(!u||u&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const l2e=new Set(["absolute","fixed"]);function c2e(t,e){const r=cv(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Bh(t)?U1(t):Ph(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function oq(t,e,r){let n;if(e==="viewport")n=o2e(t,r);else if(e==="document")n=i2e(Hh(t));else if($f(e))n=c2e(e,r);else{const a=cse(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return d4(n)}function dse(t,e){const r=Z0(t);return r===e||!$f(r)||hb(r)?!1:Bf(r).position==="fixed"||dse(r,e)}function u2e(t,e){const r=e.get(t);if(r)return r;let n=Z2(t,[],!1).filter(l=>$f(l)&&mw(l)!=="body"),a=null;const i=Bf(t).position==="fixed";let o=i?Z0(t):t;for(;$f(o)&&!hb(o);){const l=Bf(o),c=ML(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&l2e.has(a.position)||FN(o)&&!c&&dse(t,o))?n=n.filter(d=>d!==o):a=l,o=Z0(o)}return e.set(t,n),n}function d2e(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?TA(e)?[]:u2e(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=oq(e,d,a);return u.top=wu(f.top,u.top),u.right=J0(f.right,u.right),u.bottom=J0(f.bottom,u.bottom),u.left=wu(f.left,u.left),u},oq(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function f2e(t){const{width:e,height:r}=lse(t);return{width:e,height:r}}function h2e(t,e,r){const n=Bh(e),a=Hh(e),i=r==="fixed",o=cv(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Ph(0);function u(){c.x=BL(a)}if(n||!n&&!i)if((mw(e)!=="body"||FN(a))&&(l=OA(e)),n){const h=cv(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?use(a,l):Ph(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function ST(t){return Bf(t).position==="static"}function lq(t,e){if(!Bh(t)||Bf(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Hh(t)===r&&(r=r.ownerDocument.body),r}function fse(t,e){const r=Fu(t);if(TA(t))return r;if(!Bh(t)){let a=Z0(t);for(;a&&!hb(a);){if($f(a)&&!ST(a))return a;a=Z0(a)}return r}let n=lq(t,e);for(;n&&K_e(n)&&ST(n);)n=lq(n,e);return n&&hb(n)&&ST(n)&&!ML(n)?r:n||e2e(t)||r}const m2e=async function(t){const e=this.getOffsetParent||fse,r=this.getDimensions,n=await r(t.floating);return{reference:h2e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function p2e(t){return Bf(t).direction==="rtl"}const g2e={convertOffsetParentRelativeRectToViewportRelativeRect:s2e,getDocumentElement:Hh,getClippingRect:d2e,getOffsetParent:fse,getElementRects:m2e,getClientRects:a2e,getDimensions:f2e,getScale:U1,isElement:$f,isRTL:p2e};function hse(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function x2e(t,e){let r=null,n;const a=Hh(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const x=mk(f),g=mk(a.clientWidth-(d+m)),v=mk(a.clientHeight-(f+h)),b=mk(d),w={rootMargin:-x+"px "+-g+"px "+-v+"px "+-b+"px",threshold:wu(0,J0(1,c))||1};let N=!0;function S(C){const A=C[0].intersectionRatio;if(A!==c){if(!N)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!hse(u,t.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(t)}return o(!0),i}function v2e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$L(t),d=a||i?[...u?Z2(u):[],...Z2(e)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?x2e(u,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let x,g=c?cv(t):null;c&&v();function v(){const b=cv(t);g&&!hse(g,b)&&r(),g=b,x=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(_=>{a&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),f?.(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const y2e=q_e,b2e=V_e,w2e=B_e,_2e=H_e,j2e=U_e,cq=$_e,N2e=W_e,S2e=(t,e,r)=>{const n=new Map,a={platform:g2e,...r},i={...a.platform,_c:n};return L_e(t,e,{...a,platform:i})};var k2e=typeof document<"u",C2e=function(){},A5=k2e?j.useLayoutEffect:C2e;function f4(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!f4(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!f4(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mse(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uq(t,e){const r=mse(t);return Math.round(e*r)/r}function kT(t){const e=j.useRef(t);return A5(()=>{e.current=t}),e}function A2e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,h]=j.useState(n);f4(m,n)||h(n);const[x,g]=j.useState(null),[v,b]=j.useState(null),_=j.useCallback(J=>{J!==C.current&&(C.current=J,g(J))},[]),w=j.useCallback(J=>{J!==A.current&&(A.current=J,b(J))},[]),N=i||x,S=o||v,C=j.useRef(null),A=j.useRef(null),R=j.useRef(d),O=c!=null,D=kT(c),P=kT(a),E=kT(u),I=j.useCallback(()=>{if(!C.current||!A.current)return;const J={placement:e,strategy:r,middleware:m};P.current&&(J.platform=P.current),S2e(C.current,A.current,J).then(z=>{const q={...z,isPositioned:E.current!==!1};M.current&&!f4(R.current,q)&&(R.current=q,ow.flushSync(()=>{f(q)}))})},[m,e,r,P,E]);A5(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(J=>({...J,isPositioned:!1})))},[u]);const M=j.useRef(!1);A5(()=>(M.current=!0,()=>{M.current=!1}),[]),A5(()=>{if(N&&(C.current=N),S&&(A.current=S),N&&S){if(D.current)return D.current(N,S,I);I()}},[N,S,I,D,O]);const U=j.useMemo(()=>({reference:C,floating:A,setReference:_,setFloating:w}),[_,w]),W=j.useMemo(()=>({reference:N,floating:S}),[N,S]),Y=j.useMemo(()=>{const J={position:r,left:0,top:0};if(!W.floating)return J;const z=uq(W.floating,d.x),q=uq(W.floating,d.y);return l?{...J,transform:"translate("+z+"px, "+q+"px)",...mse(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:q}},[r,l,W.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:I,refs:U,elements:W,floatingStyles:Y}),[d,I,U,W,Y])}const E2e=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?cq({element:n.current,padding:a}).fn(r):{}:n?cq({element:n,padding:a}).fn(r):{}}}},P2e=(t,e)=>({...y2e(t),options:[t,e]}),T2e=(t,e)=>({...b2e(t),options:[t,e]}),O2e=(t,e)=>({...N2e(t),options:[t,e]}),D2e=(t,e)=>({...w2e(t),options:[t,e]}),R2e=(t,e)=>({..._2e(t),options:[t,e]}),I2e=(t,e)=>({...j2e(t),options:[t,e]}),F2e=(t,e)=>({...E2e(t),options:[t,e]});var M2e="Arrow",pse=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return s.jsx(xr.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});pse.displayName=M2e;var L2e=pse;function MN(t){const[e,r]=j.useState(void 0);return vi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var UL="Popper",[gse,xg]=bi(UL),[$2e,xse]=gse(UL),vse=t=>{const{__scopePopper:e,children:r}=t,[n,a]=j.useState(null);return s.jsx($2e,{scope:e,anchor:n,onAnchorChange:a,children:r})};vse.displayName=UL;var yse="PopperAnchor",bse=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=xse(yse,r),o=j.useRef(null),l=Yr(e,o);return j.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(xr.div,{...a,ref:l})});bse.displayName=yse;var zL="PopperContent",[B2e,U2e]=gse(zL),wse=j.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...g}=t,v=xse(zL,r),[b,_]=j.useState(null),w=Yr(e,ce=>_(ce)),[N,S]=j.useState(null),C=MN(N),A=C?.width??0,R=C?.height??0,O=n+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],E=P.length>0,I={padding:D,boundary:P.filter(q2e),altBoundary:E},{refs:M,floatingStyles:U,placement:W,isPositioned:Y,middlewareData:J}=A2e({strategy:"fixed",placement:O,whileElementsMounted:(...ce)=>v2e(...ce,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[P2e({mainAxis:a+R,alignmentAxis:o}),c&&T2e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?O2e():void 0,...I}),c&&D2e({...I}),R2e({...I,apply:({elements:ce,rects:de,availableWidth:ne,availableHeight:ue})=>{const{width:se,height:Z}=de.reference,Oe=ce.floating.style;Oe.setProperty("--radix-popper-available-width",`${ne}px`),Oe.setProperty("--radix-popper-available-height",`${ue}px`),Oe.setProperty("--radix-popper-anchor-width",`${se}px`),Oe.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),N&&F2e({element:N,padding:l}),V2e({arrowWidth:A,arrowHeight:R}),m&&I2e({strategy:"referenceHidden",...I})]}),[z,q]=Nse(W),V=mi(x);vi(()=>{Y&&V?.()},[Y,V]);const L=J.arrow?.x,X=J.arrow?.y,K=J.arrow?.centerOffset!==0,[Q,oe]=j.useState();return vi(()=>{b&&oe(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:Y?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(B2e,{scope:r,placedSide:z,onArrowChange:S,arrowX:L,arrowY:X,shouldHideArrow:K,children:s.jsx(xr.div,{"data-side":z,"data-align":q,...g,ref:w,style:{...g.style,animation:Y?void 0:"none"}})})})});wse.displayName=zL;var _se="PopperArrow",z2e={top:"bottom",right:"left",bottom:"top",left:"right"},jse=j.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=U2e(_se,n),o=z2e[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(L2e,{...a,ref:r,style:{...a.style,display:"block"}})})});jse.displayName=_se;function q2e(t){return t!==null}var V2e=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:a}=e,o=a.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=Nse(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(a.arrow?.x??0)+l/2,h=(a.arrow?.y??0)+c/2;let x="",g="";return u==="bottom"?(x=o?f:`${m}px`,g=`${-c}px`):u==="top"?(x=o?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?f:`${h}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${h}px`),{data:{x,y:g}}}});function Nse(t){const[e,r="center"]=t.split("-");return[e,r]}var DA=vse,LN=bse,RA=wse,IA=jse,[FA]=bi("Tooltip",[xg]),MA=xg(),Sse="TooltipProvider",W2e=700,qI="tooltip.open",[H2e,qL]=FA(Sse),kse=t=>{const{__scopeTooltip:e,delayDuration:r=W2e,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(H2e,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};kse.displayName=Sse;var Q2="Tooltip",[G2e,LA]=FA(Q2),Cse=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=qL(Q2,t.__scopeTooltip),u=MA(e),[d,f]=j.useState(null),m=Vc(),h=j.useRef(0),x=o??c.disableHoverableContent,g=l??c.delayDuration,v=j.useRef(!1),[b,_]=ql({prop:n,defaultProp:a??!1,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(qI))):c.onClose(),i?.(A)},caller:Q2}),w=j.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),N=j.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,_(!0)},[_]),S=j.useCallback(()=>{window.clearTimeout(h.current),h.current=0,_(!1)},[_]),C=j.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,_(!0),h.current=0},g)},[g,_]);return j.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(DA,{...u,children:s.jsx(G2e,{scope:e,contentId:m,open:b,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?C():N()},[c.isOpenDelayedRef,C,N]),onTriggerLeave:j.useCallback(()=>{x?S():(window.clearTimeout(h.current),h.current=0)},[S,x]),onOpen:N,onClose:S,disableHoverableContent:x,children:r})})};Cse.displayName=Q2;var VI="TooltipTrigger",Ase=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=LA(VI,r),i=qL(VI,r),o=MA(r),l=j.useRef(null),c=Yr(e,l,a.onTriggerChange),u=j.useRef(!1),d=j.useRef(!1),f=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(LN,{asChild:!0,...o,children:s.jsx(xr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Xt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Xt(t.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Xt(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Xt(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:Xt(t.onBlur,a.onClose),onClick:Xt(t.onClick,a.onClose)})})});Ase.displayName=VI;var Y2e="TooltipPortal",[Egt,K2e]=FA(Y2e,{forceMount:void 0}),mb="TooltipContent",Ese=j.forwardRef((t,e)=>{const r=K2e(mb,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,o=LA(mb,t.__scopeTooltip);return s.jsx(ao,{present:n||o.open,children:o.disableHoverableContent?s.jsx(Pse,{side:a,...i,ref:e}):s.jsx(X2e,{side:a,...i,ref:e})})}),X2e=j.forwardRef((t,e)=>{const r=LA(mb,t.__scopeTooltip),n=qL(mb,t.__scopeTooltip),a=j.useRef(null),i=Yr(e,a),[o,l]=j.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,m=j.useCallback(()=>{l(null),f(!1)},[f]),h=j.useCallback((x,g)=>{const v=x.currentTarget,b={x:x.clientX,y:x.clientY},_=tje(b,v.getBoundingClientRect()),w=rje(b,_),N=nje(g.getBoundingClientRect()),S=aje([...w,...N]);l(S),f(!0)},[f]);return j.useEffect(()=>()=>m(),[m]),j.useEffect(()=>{if(c&&d){const x=v=>h(v,d),g=v=>h(v,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[c,d,h,m]),j.useEffect(()=>{if(o){const x=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},_=c?.contains(v)||d?.contains(v),w=!sje(b,o);_?m():w&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),s.jsx(Pse,{...t,ref:i})}),[J2e,Z2e]=FA(Q2,{isInside:!1}),Q2e=fne("TooltipContent"),Pse=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=LA(mb,r),u=MA(r),{onClose:d}=c;return j.useEffect(()=>(document.addEventListener(qI,d),()=>document.removeEventListener(qI,d)),[d]),j.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx($v,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(RA,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Q2e,{children:n}),s.jsx(J2e,{scope:r,isInside:!0,children:s.jsx(bbe,{id:c.contentId,role:"tooltip",children:a||n})})]})})});Ese.displayName=mb;var Tse="TooltipArrow",eje=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=MA(r);return Z2e(Tse,r).isInside?null:s.jsx(IA,{...a,...n,ref:e})});eje.displayName=Tse;function tje(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function rje(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function nje(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function sje(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function aje(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ije(e)}function ije(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var oje=kse,lje=Cse,cje=Ase,Ose=Ese;const Tx=oje,w1=lje,_1=cje,Ox=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(Ose,{ref:n,sideOffset:e,className:Gt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ox.displayName=Ose.displayName;var $N=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uv=typeof window>"u"||"Deno"in globalThis;function $c(){}function uje(t,e){return typeof t=="function"?t(e):t}function WI(t){return typeof t=="number"&&t>=0&&t!==1/0}function Dse(t,e){return Math.max(t+(e||0)-Date.now(),0)}function I0(t,e){return typeof t=="function"?t(e):t}function jd(t,e){return typeof t=="function"?t(e):t}function dq(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==VL(o,e.options))return!1}else if(!tj(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||i&&!i(e))}function fq(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(ej(e.options.mutationKey)!==ej(i))return!1}else if(!tj(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function VL(t,e){return(e?.queryKeyHashFn||ej)(t)}function ej(t){return JSON.stringify(t,(e,r)=>GI(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function tj(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>tj(t[r],e[r])):!1}function Rse(t,e){if(t===e)return t;const r=hq(t)&&hq(e);if(r||GI(t)&&GI(e)){const n=r?t:Object.keys(t),a=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=Rse(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return a===o&&u===a?t:l}return e}function HI(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function hq(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function GI(t){if(!mq(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!mq(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mq(t){return Object.prototype.toString.call(t)==="[object Object]"}function dje(t){return new Promise(e=>{setTimeout(e,t)})}function YI(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Rse(t,e):e}function fje(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function hje(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var WL=Symbol();function Ise(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===WL?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function mje(t,e){return typeof t=="function"?t(...e):!!t}var pje=class extends $N{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!uv&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},HL=new pje,gje=class extends $N{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!uv&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},h4=new gje;function KI(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function xje(t){return Math.min(1e3*2**t,3e4)}function Fse(t){return(t??"online")==="online"?h4.isOnline():!0}var Mse=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function CT(t){return t instanceof Mse}function Lse(t){let e=!1,r=0,n=!1,a;const i=KI(),o=g=>{n||(m(new Mse(g)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},u=()=>HL.isFocused()&&(t.networkMode==="always"||h4.isOnline())&&t.canRun(),d=()=>Fse(t.networkMode)&&t.canRun(),f=g=>{n||(n=!0,t.onSuccess?.(g),a?.(),i.resolve(g))},m=g=>{n||(n=!0,t.onError?.(g),a?.(),i.reject(g))},h=()=>new Promise(g=>{a=v=>{(n||u())&&g(v)},t.onPause?.()}).then(()=>{a=void 0,n||t.onContinue?.()}),x=()=>{if(n)return;let g;const v=r===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{if(n)return;const _=t.retry??(uv?0:3),w=t.retryDelay??xje,N=typeof w=="function"?w(r,b):w,S=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,b);if(e||!S){m(b);return}r++,t.onFail?.(r,b),dje(N).then(()=>u()?void 0:h()).then(()=>{e?m(b):x()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():h().then(x),i)}}var vje=t=>setTimeout(t,0);function yje(){let t=[],e=0,r=l=>{l()},n=l=>{l()},a=vje;const i=l=>{e?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var il=yje(),$se=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),WI(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uv?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},bje=class extends $se{#t;#e;#r;#n;#s;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=wje(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=YI(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then($c).catch($c):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>jd(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===WL||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>I0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Dse(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const c=Ise(this.options,e),d=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{CT(c)&&c.silent||this.#a({type:"error",error:c}),CT(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=Lse({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Bse(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return CT(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),il.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function Bse(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fse(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wje(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _je=class extends $N{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,a=e.queryHash??VL(n,e);let i=this.get(a);return i||(i=new bje({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){il.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>dq(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>dq(t,r)):e}notify(t){il.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){il.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){il.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jje=class extends $se{#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||Nje(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#r=Lse({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#n({type:"pending",context:i,variables:t,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,t,this.state.context,this),await this.options.onSuccess?.(a,t,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,t,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,t,this.state.context,this),await this.options.onError?.(a,t,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,t,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),il.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function Nje(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sje=class extends $N{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const n=new jje({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);const e=pk(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=pk(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=pk(t);if(typeof e=="string"){const n=this.#e.get(e)?.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=pk(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){il.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>fq(e,r))}findAll(t={}){return this.getAll().filter(e=>fq(t,e))}notify(t){il.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return il.batch(()=>Promise.all(t.map(e=>e.continue().catch($c))))}};function pk(t){return t.options.scope?.id}function pq(t){return{onFetch:(e,r)=>{const n=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=Ise(e.options,e.fetchOptions),h=async(x,g,v)=>{if(d)return Promise.reject();if(g==null&&x.pages.length)return Promise.resolve(x);const _=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:g,direction:v?"backward":"forward",meta:e.options.meta};return f(C),C})(),w=await m(_),{maxPages:N}=e.options,S=v?hje:fje;return{pages:S(x.pages,w,N),pageParams:S(x.pageParams,g,N)}};if(a&&i.length){const x=a==="backward",g=x?kje:gq,v={pages:i,pageParams:o},b=g(n,v);l=await h(v,b,x)}else{const x=t??i.length;do{const g=c===0?o[0]??n.initialPageParam:gq(n,l);if(c>0&&g==null)break;l=await h(l,g),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=u}}}function gq(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function kje(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var Cje=class{#t;#e;#r;#n;#s;#o;#i;#a;constructor(t={}){this.#t=t.queryCache||new _je,this.#e=t.mutationCache||new Sje,this.#r=t.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=HL.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=h4.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(I0(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=this.#t.get(n.queryHash)?.state.data,o=uje(e,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return il.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;il.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return il.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=il.batch(()=>this.#t.findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then($c).catch($c)}invalidateQueries(t,e={}){return il.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=il.batch(()=>this.#t.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch($c)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then($c)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(I0(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($c).catch($c)}fetchInfiniteQuery(t){return t.behavior=pq(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($c).catch($c)}ensureInfiniteQueryData(t){return t.behavior=pq(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return h4.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(ej(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{tj(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#s.set(ej(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(n=>{tj(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=VL(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===WL&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Aje=class extends $N{constructor(t,e){super(),this.options=e,this.#t=t,this.#a=null,this.#i=KI(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#o;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),xq(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return XI(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return XI(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jd(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!HI(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&vq(this.#e,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#e!==r||jd(this.options.enabled,this.#e)!==jd(e.enabled,this.#e)||I0(this.options.staleTime,this.#e)!==I0(e.staleTime,this.#e))&&this.#g();const a=this.#x();n&&(this.#e!==r||jd(this.options.enabled,this.#e)!==jd(e.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return Pje(this,r)&&(this.#n=r,this.#o=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),Reflect.get(r,n))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch($c)),e}#g(){this.#b();const t=I0(this.options.staleTime,this.#e);if(uv||this.#n.isStale||!WI(t))return;const r=Dse(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#l=t,!(uv||jd(this.options.enabled,this.#e)===!1||!WI(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||HL.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#e,n=this.options,a=this.#n,i=this.#s,o=this.#o,c=t!==r?t.state:this.#r,{state:u}=t;let d={...u},f=!1,m;if(e._optimisticResults){const R=this.hasListeners(),O=!R&&xq(t,e),D=R&&vq(t,r,e,n);(O||D)&&(d={...d,...Bse(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:x,status:g}=d;m=d.data;let v=!1;if(e.placeholderData!==void 0&&m===void 0&&g==="pending"){let R;a?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(R=a.data,v=!0):R=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,R!==void 0&&(g="success",m=YI(a?.data,R,e),f=!0)}if(e.select&&m!==void 0&&!v)if(a&&m===i?.data&&e.select===this.#p)m=this.#f;else try{this.#p=e.select,m=e.select(m),m=YI(a?.data,m,e),this.#f=m,this.#a=null}catch(R){this.#a=R}this.#a&&(h=this.#a,m=this.#f,x=Date.now(),g="error");const b=d.fetchStatus==="fetching",_=g==="pending",w=g==="error",N=_&&b,S=m!==void 0,A={status:g,fetchStatus:d.fetchStatus,isPending:_,isSuccess:g==="success",isError:w,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:w&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&S,isStale:GL(t,e),refetch:this.refetch,promise:this.#i,isEnabled:jd(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=P=>{A.status==="error"?P.reject(A.error):A.data!==void 0&&P.resolve(A.data)},O=()=>{const P=this.#i=A.promise=KI();R(P)},D=this.#i;switch(D.status){case"pending":t.queryHash===r.queryHash&&R(D);break;case"fulfilled":(A.status==="error"||A.data!==D.value)&&O();break;case"rejected":(A.status!=="error"||A.error!==D.reason)&&O();break}}return A}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#e),HI(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==t[l]&&i.has(l)})};this.#j({listeners:r()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(t){il.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Eje(t,e){return jd(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xq(t,e){return Eje(t,e)||t.state.data!==void 0&&XI(t,e,e.refetchOnMount)}function XI(t,e,r){if(jd(e.enabled,t)!==!1&&I0(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&GL(t,e)}return!1}function vq(t,e,r,n){return(t!==e||jd(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&GL(t,r)}function GL(t,e){return jd(e.enabled,t)!==!1&&t.isStaleByTime(I0(e.staleTime,t))}function Pje(t,e){return!HI(t.getCurrentResult(),e)}var Use=j.createContext(void 0),Tje=t=>{const e=j.useContext(Use);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Oje=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(Use.Provider,{value:t,children:e})),zse=j.createContext(!1),Dje=()=>j.useContext(zse);zse.Provider;function Rje(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ije=j.createContext(Rje()),Fje=()=>j.useContext(Ije),Mje=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Lje=t=>{j.useEffect(()=>{t.clearReset()},[t])},$je=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||mje(r,[t.error,n])),Bje=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Uje=(t,e)=>t.isLoading&&t.isFetching&&!e,zje=(t,e)=>t?.suspense&&e.isPending,yq=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function qje(t,e,r){const n=Dje(),a=Fje(),i=Tje(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Bje(o),Mje(o,a),Lje(a);const l=!i.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new e(i,o)),u=c.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(f=>{const m=d?c.subscribe(il.batchCalls(f)):$c;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o)},[o,c]),zje(o,u))throw yq(o,c,a);if($je({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!uv&&Uje(u,n)&&(l?yq(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch($c).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Vje(t,e){return qje(t,Aje)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rj(){return rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rj.apply(this,arguments)}var j0;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(j0||(j0={}));const bq="popstate";function Wje(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return JI("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:m4(a)}return Gje(e,r,null,t)}function Ri(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qse(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hje(){return Math.random().toString(36).substr(2,8)}function wq(t,e){return{usr:t.state,key:t.key,idx:e}}function JI(t,e,r,n){return r===void 0&&(r=null),rj({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pw(e):e,{state:r,key:e&&e.key||n||Hje()})}function m4(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function pw(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Gje(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=j0.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(rj({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=j0.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:b})}function m(v,b){l=j0.Push;let _=JI(g.location,v,b);u=d()+1;let w=wq(_,u),N=g.createHref(_);try{o.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function h(v,b){l=j0.Replace;let _=JI(g.location,v,b);u=d();let w=wq(_,u),N=g.createHref(_);o.replaceState(w,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function x(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof v=="string"?v:m4(v);return _=_.replace(/ $/,"%20"),Ri(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let g={get action(){return l},get location(){return t(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(bq,f),c=v,()=>{a.removeEventListener(bq,f),c=null}},createHref(v){return e(a,v)},createURL:x,encodeLocation(v){let b=x(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:h,go(v){return o.go(v)}};return g}var _q;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_q||(_q={}));function Yje(t,e,r){return r===void 0&&(r="/"),Kje(t,e,r)}function Kje(t,e,r,n){let a=typeof e=="string"?pw(e):e,i=YL(a.pathname||"/",r);if(i==null)return null;let o=Vse(t);Xje(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=lNe(i);l=aNe(o[c],u)}return l}function Vse(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ri(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=F0([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ri(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vse(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:nNe(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Wse(i.path))a(i,o,c)}),e}function Wse(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Wse(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Xje(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:sNe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jje=/^:[\w-]+$/,Zje=3,Qje=2,eNe=1,tNe=10,rNe=-2,jq=t=>t==="*";function nNe(t,e){let r=t.split("/"),n=r.length;return r.some(jq)&&(n+=rNe),e&&(n+=Qje),r.filter(a=>!jq(a)).reduce((a,i)=>a+(Jje.test(i)?Zje:i===""?eNe:tNe),n)}function sNe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function aNe(t,e,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=iNe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:F0([i,f.pathname]),pathnameBase:fNe(F0([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=F0([i,f.pathnameBase]))}return o}function iNe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=oNe(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return h&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function oNe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),qse(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function lNe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qse(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function YL(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function cNe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?pw(t):t;return{pathname:r?r.startsWith("/")?r:uNe(r,e):e,search:hNe(n),hash:mNe(a)}}function uNe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function AT(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dNe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KL(t,e){let r=dNe(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function XL(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=pw(t):(a=rj({},t),Ri(!a.pathname||!a.pathname.includes("?"),AT("?","pathname","search",a)),Ri(!a.pathname||!a.pathname.includes("#"),AT("#","pathname","hash",a)),Ri(!a.search||!a.search.includes("#"),AT("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=cNe(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const F0=t=>t.join("/").replace(/\/\/+/g,"/"),fNe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hNe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mNe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pNe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hse=["post","put","patch","delete"];new Set(Hse);const gNe=["get",...Hse];new Set(gNe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nj(){return nj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nj.apply(this,arguments)}const JL=j.createContext(null),xNe=j.createContext(null),vg=j.createContext(null),$A=j.createContext(null),Gh=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Gse=j.createContext(null);function vNe(t,e){let{relative:r}=e===void 0?{}:e;gw()||Ri(!1);let{basename:n,navigator:a}=j.useContext(vg),{hash:i,pathname:o,search:l}=Kse(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:F0([n,o])),a.createHref({pathname:c,search:l,hash:i})}function gw(){return j.useContext($A)!=null}function zd(){return gw()||Ri(!1),j.useContext($A).location}function Yse(t){j.useContext(vg).static||j.useLayoutEffect(t)}function en(){let{isDataRoute:t}=j.useContext(Gh);return t?DNe():yNe()}function yNe(){gw()||Ri(!1);let t=j.useContext(JL),{basename:e,future:r,navigator:n}=j.useContext(vg),{matches:a}=j.useContext(Gh),{pathname:i}=zd(),o=JSON.stringify(KL(a,r.v7_relativeSplatPath)),l=j.useRef(!1);return Yse(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=XL(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:F0([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,i,t])}const bNe=j.createContext(null);function wNe(t){let e=j.useContext(Gh).outlet;return e&&j.createElement(bNe.Provider,{value:t},e)}function wp(){let{matches:t}=j.useContext(Gh),e=t[t.length-1];return e?e.params:{}}function Kse(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(vg),{matches:a}=j.useContext(Gh),{pathname:i}=zd(),o=JSON.stringify(KL(a,n.v7_relativeSplatPath));return j.useMemo(()=>XL(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function _Ne(t,e){return jNe(t,e)}function jNe(t,e,r,n){gw()||Ri(!1);let{navigator:a}=j.useContext(vg),{matches:i}=j.useContext(Gh),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=zd(),d;if(e){var f;let v=typeof e=="string"?pw(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Ri(!1),d=v}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=Yje(t,{pathname:h}),g=ANe(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:F0([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:F0([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return e&&g?j.createElement($A.Provider,{value:{location:nj({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:j0.Pop}},g):g}function NNe(){let t=ONe(),e=pNe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:a},r):null,null)}const SNe=j.createElement(NNe,null);class kNe extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Gh.Provider,{value:this.props.routeContext},j.createElement(Gse.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CNe(t){let{routeContext:e,match:r,children:n}=t,a=j.useContext(JL);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Gh.Provider,{value:e},n)}function ANe(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||Ri(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,x=!1,g=null,v=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||SNe,c&&(u<0&&m===0?(RNe("route-fallback"),x=!0,v=null):u===m&&(x=!0,v=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,m+1)),_=()=>{let w;return h?w=g:x?w=v:f.route.Component?w=j.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,j.createElement(CNe,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(kNe,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var Xse=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Xse||{}),Jse=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Jse||{});function ENe(t){let e=j.useContext(JL);return e||Ri(!1),e}function PNe(t){let e=j.useContext(xNe);return e||Ri(!1),e}function TNe(t){let e=j.useContext(Gh);return e||Ri(!1),e}function Zse(t){let e=TNe(),r=e.matches[e.matches.length-1];return r.route.id||Ri(!1),r.route.id}function ONe(){var t;let e=j.useContext(Gse),r=PNe(),n=Zse();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function DNe(){let{router:t}=ENe(Xse.UseNavigateStable),e=Zse(Jse.UseNavigateStable),r=j.useRef(!1);return Yse(()=>{r.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,nj({fromRouteId:e},i)))},[t,e])}const Nq={};function RNe(t,e,r){Nq[t]||(Nq[t]=!0)}function INe(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function FNe(t){let{to:e,replace:r,state:n,relative:a}=t;gw()||Ri(!1);let{future:i,static:o}=j.useContext(vg),{matches:l}=j.useContext(Gh),{pathname:c}=zd(),u=en(),d=XL(e,KL(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function MNe(t){return wNe(t.context)}function rr(t){Ri(!1)}function LNe(t){let{basename:e="/",children:r=null,location:n,navigationType:a=j0.Pop,navigator:i,static:o=!1,future:l}=t;gw()&&Ri(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:o,future:nj({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=pw(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:x="default"}=n,g=j.useMemo(()=>{let v=YL(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:h,key:x},navigationType:a}},[c,d,f,m,h,x,a]);return g==null?null:j.createElement(vg.Provider,{value:u},j.createElement($A.Provider,{children:r,value:g}))}function $Ne(t){let{children:e,location:r}=t;return _Ne(ZI(e),r)}new Promise(()=>{});function ZI(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,a)=>{if(!j.isValidElement(n))return;let i=[...e,a];if(n.type===j.Fragment){r.push.apply(r,ZI(n.props.children,i));return}n.type!==rr&&Ri(!1),!n.props.index||!n.props.children||Ri(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ZI(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function QI(){return QI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QI.apply(this,arguments)}function BNe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function UNe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zNe(t,e){return t.button===0&&(!e||e==="_self")&&!UNe(t)}function eF(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function qNe(t,e){let r=eF(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const VNe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WNe="6";try{window.__reactRouterVersion=WNe}catch{}const HNe="startTransition",Sq=NL[HNe];function GNe(t){let{basename:e,children:r,future:n,window:a}=t,i=j.useRef();i.current==null&&(i.current=Wje({window:a,v5Compat:!0}));let o=i.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=j.useCallback(f=>{u&&Sq?Sq(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>INe(n),[n]),j.createElement(LNe,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const YNe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KNe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hr=j.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=BNe(e,VNe),{basename:h}=j.useContext(vg),x,g=!1;if(typeof u=="string"&&KNe.test(u)&&(x=u,YNe))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=YL(N.pathname,h);N.origin===w.origin&&S!=null?u=S+N.search+N.hash:g=!0}catch{}let v=vNe(u,{relative:a}),b=XNe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function _(w){n&&n(w),w.defaultPrevented||b(w)}return j.createElement("a",QI({},m,{href:x||v,onClick:g||i?n:_,ref:r,target:c}))});var kq;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kq||(kq={}));var Cq;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cq||(Cq={}));function XNe(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=en(),u=zd(),d=Kse(t,{relative:o});return j.useCallback(f=>{if(zNe(f,r)){f.preventDefault();let m=n!==void 0?n:m4(u)===m4(d);c(t,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,t,i,o,l])}function xw(t){let e=j.useRef(eF(t)),r=j.useRef(!1),n=zd(),a=j.useMemo(()=>qNe(n.search,r.current?null:e.current),[n.search]),i=en(),o=j.useCallback((l,c)=>{const u=eF(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const ZL="shopping_cart",BA=()=>{const t=localStorage.getItem(ZL);return t?JSON.parse(t):[]},QL=t=>{localStorage.setItem(ZL,JSON.stringify(t))},JNe=t=>{const e=BA(),r=e.findIndex(n=>n.productId===t.productId&&n.variant===t.variant);return r>-1?e[r].quantity+=t.quantity:e.push(t),QL(e),e},ZNe=(t,e,r)=>{const n=BA(),a=n.findIndex(i=>i.productId===t&&i.variant===e);return a>-1&&(r<=0?n.splice(a,1):n[a].quantity=r),QL(n),n},QNe=(t,e)=>{const r=BA().filter(n=>!(n.productId===t&&n.variant===e));return QL(r),r},eSe=()=>{localStorage.removeItem(ZL)},tSe=t=>t.reduce((e,r)=>e+r.price*r.quantity,0),rSe=t=>t.reduce((e,r)=>e+r.quantity,0),nSe=({animationState:t,onComplete:e})=>{const[r,n]=j.useState(!1),{imageSrc:a,startRect:i,endRect:o}=t;j.useEffect(()=>{const u=setTimeout(()=>{n(!0)},10),d=setTimeout(()=>{e()},1500);return()=>{clearTimeout(u),clearTimeout(d)}},[e]);const l={position:"fixed",top:i.top,left:i.left,width:i.width,height:i.height,zIndex:9999,pointerEvents:"none",transition:"all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)",borderRadius:"8px",objectFit:"cover"},c={...l,top:o.top+o.height/2,left:o.left+o.width/2,width:0,height:0,transform:"rotate(360deg) scale(0.1)",opacity:.5};return s.jsx("img",{src:a,alt:"Flying product",style:r?c:l})},Qse=j.createContext(void 0),sSe=({children:t})=>{const[e,r]=j.useState([]),[n,a]=j.useState(null);j.useEffect(()=>{r(BA())},[]);const i=h=>{const x=JNe(h);r(x)},o=(h,x)=>{const g=x.getBoundingClientRect(),v=document.querySelector("[data-cart-icon]");if(!v){console.warn("Cart icon not found for animation");return}const b=v.getBoundingClientRect();a({imageSrc:h,startRect:g,endRect:b})},l=()=>{a(null)},c=(h,x,g)=>{const v=ZNe(h,x,g);r(v)},u=(h,x)=>{const g=QNe(h,x);r(g)},d=()=>{eSe(),r([])},f=rSe(e),m=tSe(e);return s.jsxs(Qse.Provider,{value:{cart:e,cartCount:f,cartTotal:m,addToCart:i,updateQuantity:c,removeItem:u,clearCart:d,triggerFlyAnimation:o},children:[t,n&&s.jsx(nSe,{animationState:n,onComplete:l})]})},UA=()=>{const t=j.useContext(Qse);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};var ET,Aq;function aSe(){if(Aq)return ET;Aq=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(i[c],o[c]))return!1;return!0}var d;if(e&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=i.entries();!(c=d.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(t&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!a(i[u[c]],o[u[c]]))return!1;return!0}return i!==i&&o!==o}return ET=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},ET}var iSe=aSe();const oSe=us(iSe);var PT,Eq;function lSe(){if(Eq)return PT;Eq=1;var t=function(e,r,n,a,i,o,l,c){if(!e){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,i,o,l,c],f=0;u=new Error(r.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return PT=t,PT}var cSe=lSe();const Pq=us(cSe);var TT,Tq;function uSe(){return Tq||(Tq=1,TT=function(e,r,n,a){var i=n?n.call(a,e,r):void 0;if(i!==void 0)return!!i;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=e[d],m=r[d];if(i=n?n.call(a,f,m,d):void 0,i===!1||i===void 0&&f!==m)return!1}return!0}),TT}var dSe=uSe();const fSe=us(dSe);var eae=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(eae||{}),OT={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Oq=Object.values(eae),e7={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hSe=Object.entries(e7).reduce((t,[e,r])=>(t[r]=e,t),{}),Ef="data-rh",z1={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},q1=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const n=t[r];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},mSe=t=>{let e=q1(t,"title");const r=q1(t,z1.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const n=q1(t,z1.DEFAULT_TITLE);return e||n||void 0},pSe=t=>q1(t,z1.ON_CHANGE_CLIENT_STATE)||(()=>{}),DT=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,n)=>({...r,...n}),{}),gSe=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(t.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),xSe=t=>console&&typeof console.warn=="function"&&console.warn(t),h_=(t,e,r)=>{const n={};return r.filter(a=>Array.isArray(a[t])?!0:(typeof a[t]<"u"&&xSe(`Helmet: ${t} should be of type "Array". Instead found type "${typeof a[t]}"`),!1)).map(a=>a[t]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const h=d[m],x=h.toLowerCase();e.indexOf(x)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(x==="rel"&&c[x].toLowerCase()==="stylesheet")&&(u=x),e.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(u=h)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},vSe=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},ySe=t=>({baseTag:gSe(["href"],t),bodyAttributes:DT("bodyAttributes",t),defer:q1(t,z1.DEFER),encode:q1(t,z1.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:DT("htmlAttributes",t),linkTags:h_("link",["rel","href"],t),metaTags:h_("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:h_("noscript",["innerHTML"],t),onChangeClientState:pSe(t),scriptTags:h_("script",["src","innerHTML"],t),styleTags:h_("style",["cssText"],t),title:mSe(t),titleAttributes:DT("titleAttributes",t),prioritizeSeoTags:vSe(t,z1.PRIORITIZE_SEO_TAGS)}),tae=t=>Array.isArray(t)?t.join(""):t,bSe=(t,e)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1)if(e[r[n]]&&e[r[n]].includes(t[r[n]]))return!0;return!1},RT=(t,e)=>Array.isArray(t)?t.reduce((r,n)=>(bSe(n,e)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:t,priority:[]},Dq=(t,e)=>({...t,[e]:void 0}),wSe=["noscript","script","style"],tF=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),rae=t=>Object.keys(t).reduce((e,r)=>{const n=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${n}`:n},""),_Se=(t,e,r,n)=>{const a=rae(r),i=tae(e);return a?`<${t} ${Ef}="true" ${a}>${tF(i,n)}</${t}>`:`<${t} ${Ef}="true">${tF(i,n)}</${t}>`},jSe=(t,e,r=!0)=>e.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof i[d]>"u"?d:`${d}="${tF(i[d],r)}"`;return u?`${u} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=wSe.indexOf(t)===-1;return`${n}<${t} ${Ef}="true" ${o}${c?"/>":`>${l}</${t}>`}`},""),nae=(t,e={})=>Object.keys(t).reduce((r,n)=>{const a=e7[n];return r[a||n]=t[n],r},e),NSe=(t,e,r)=>{const n={key:e,[Ef]:!0},a=nae(r,n);return[Ne.createElement("title",a,e)]},E5=(t,e)=>e.map((r,n)=>{const a={key:n,[Ef]:!0};return Object.keys(r).forEach(i=>{const l=e7[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),Ne.createElement(t,a)}),bd=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>NSe(t,e.title,e.titleAttributes),toString:()=>_Se(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>nae(e),toString:()=>rae(e)};default:return{toComponent:()=>E5(t,e),toString:()=>jSe(t,e,r)}}},SSe=({metaTags:t,linkTags:e,scriptTags:r,encode:n})=>{const a=RT(t,OT.meta),i=RT(e,OT.link),o=RT(r,OT.script);return{priorityMethods:{toComponent:()=>[...E5("meta",a.priority),...E5("link",i.priority),...E5("script",o.priority)],toString:()=>`${bd("meta",a.priority,n)} ${bd("link",i.priority,n)} ${bd("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},kSe=t=>{const{baseTag:e,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:d,metaTags:f,scriptTags:m}=t,h={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:h,linkTags:d,metaTags:f,scriptTags:m}=SSe(t)),{priority:h,base:bd("base",e,n),bodyAttributes:bd("bodyAttributes",r,n),htmlAttributes:bd("htmlAttributes",a,n),link:bd("link",d,n),meta:bd("meta",f,n),noscript:bd("noscript",i,n),script:bd("script",m,n),style:bd("style",o,n),title:bd("title",{title:l,titleAttributes:c},n)}},rF=kSe,gk=[],sae=!!(typeof window<"u"&&window.document&&window.document.createElement),nF=class{instances=[];canUseDOM=sae;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?gk:this.instances,add:t=>{(this.canUseDOM?gk:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?gk:this.instances).indexOf(t);(this.canUseDOM?gk:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=rF({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},CSe={},aae=Ne.createContext(CSe),iae=class oae extends j.Component{static canUseDOM=sae;helmetData;constructor(e){super(e),this.helmetData=new nF(this.props.context||{},oae.canUseDOM)}render(){return Ne.createElement(aae.Provider,{value:this.helmetData.value},this.props.children)}},Fy=(t,e)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${t}[${Ef}]`),a=[].slice.call(n),i=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(t);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(Ef,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):i.push(c)}),a.forEach(l=>l.parentNode?.removeChild(l)),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},sF=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const n=r.getAttribute(Ef),a=n?n.split(","):[],i=[...a],o=Object.keys(e);for(const l of o){const c=e[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(Ef):r.getAttribute(Ef)!==o.join(",")&&r.setAttribute(Ef,o.join(","))},ASe=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=tae(t)),sF("title",e)},Rq=(t,e)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:m}=t;sF("body",n),sF("html",a),ASe(f,m);const h={baseTag:Fy("base",r),linkTags:Fy("link",i),metaTags:Fy("meta",o),noscriptTags:Fy("noscript",l),scriptTags:Fy("script",u),styleTags:Fy("style",d)},x={},g={};Object.keys(h).forEach(v=>{const{newTags:b,oldTags:_}=h[v];b.length&&(x[v]=b),_.length&&(g[v]=h[v].oldTags)}),e&&e(),c(t,x,g)},m_=null,ESe=t=>{m_&&cancelAnimationFrame(m_),t.defer?m_=requestAnimationFrame(()=>{Rq(t,()=>{m_=null})}):(Rq(t),m_=null)},PSe=ESe,Iq=class extends j.Component{rendered=!1;shouldComponentUpdate(t){return!fSe(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let r=null;const n=ySe(t.get().map(a=>{const i={...a.props};return delete i.context,i}));iae.canUseDOM?PSe(n):rF&&(r=rF(n)),e(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},zA=class extends j.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!oSe(Dq(this.props,"helmetData"),Dq(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,n){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,n)}]}}mapObjectTypeChildren(t,e,r,n){switch(t.type){case"title":return{...e,[t.type]:n,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(n=>{r={...r,[n]:t[n]}}),r}warnOnInvalidChildren(t,e){return Pq(Oq.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Oq.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Pq(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return Ne.Children.forEach(t,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,u)=>(c[hSe[u]||u]=i[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:e=this.mapObjectTypeChildren(n,e,o,a);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:n}=e;if(t&&(r=this.mapChildrenToProps(t,r)),n&&!(n instanceof nF)){const a=n;n=new nF(a.context,!0),delete r.helmetData}return n?Ne.createElement(Iq,{...r,context:n.value}):Ne.createElement(aae.Consumer,null,a=>Ne.createElement(Iq,{...r,context:a}))}};function TSe(){const{pathname:t}=zd();return j.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const P5="digitaldukandar.in",Fq=window.location.protocol;function qA(){const t=window.location.hostname;if(t.endsWith(".lovable.app")||t.endsWith(".lovableproject.com"))return{type:"main",isStoreSpecific:!1};if(t.endsWith(".localhost")){const e=t.replace(".localhost","");return["admin","superadmin","api","app","preview","dashboard"].includes(e)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:e,isStoreSpecific:!0}}if(t==="localhost"||t.startsWith("127.0.0.1"))return{type:"main",isStoreSpecific:!1};if(t.endsWith(`.${P5}`)){const e=t.replace(`.${P5}`,"");return e===""||e==="www"?{type:"main",isStoreSpecific:!1}:["admin","superadmin","api","app","preview","dashboard"].includes(e)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:e,isStoreSpecific:!0}}return t===P5?{type:"main",isStoreSpecific:!1}:{type:"custom",customDomain:t,isStoreSpecific:!0}}function lae(){const t=qA();return t.isStoreSpecific&&(t.subdomain||t.customDomain)||null}function OSe(t,e){return e?`${Fq}//${e}`:`${Fq}//${t}.${P5}`}function Uh(){return qA().isStoreSpecific}const VA=uw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),we=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const o=n?une:"button";return s.jsx(o,{className:Gt(VA({variant:e,size:r,className:t})),ref:i,...a})});we.displayName="Button";const He=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Gt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));He.displayName="Card";const jt=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Gt("flex flex-col space-y-1.5 p-6",t),...e}));jt.displayName="CardHeader";const Nt=j.forwardRef(({className:t,...e},r)=>s.jsx("h3",{ref:r,className:Gt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nt.displayName="CardTitle";const hn=j.forwardRef(({className:t,...e},r)=>s.jsx("p",{ref:r,className:Gt("text-sm text-muted-foreground",t),...e}));hn.displayName="CardDescription";const Xe=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Gt("p-6 pt-0",t),...e}));Xe.displayName="CardContent";const cae=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Gt("flex items-center p-6 pt-0",t),...e}));cae.displayName="CardFooter";function Im(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uae(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Mu={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},pb={duration:.5,overwrite:!1,delay:0},t7,ul,Ra,Cd=1e8,ta=1/Cd,aF=Math.PI*2,DSe=aF/4,RSe=0,dae=Math.sqrt,ISe=Math.cos,FSe=Math.sin,Ko=function(e){return typeof e=="string"},pi=function(e){return typeof e=="function"},ip=function(e){return typeof e=="number"},r7=function(e){return typeof e>"u"},zh=function(e){return typeof e=="object"},Wc=function(e){return e!==!1},n7=function(){return typeof window<"u"},xk=function(e){return pi(e)||Ko(e)},fae=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Bl=Array.isArray,MSe=/random\([^)]+\)/g,LSe=/,\s*/g,Mq=/(?:-?\.?\d|\.)+/gi,hae=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,j1=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,IT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,mae=/[+-]=-?[.\d]+/,$Se=/[^,'"\[\]\s]+/gi,BSe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ha,vh,iF,s7,qu={},p4={},pae,gae=function(e){return(p4=gb(e,qu))&&Xc},a7=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},sj=function(e,r){return!r&&console.warn(e)},xae=function(e,r){return e&&(qu[e]=r)&&p4&&(p4[e]=r)||qu},aj=function(){return 0},USe={suppressEvents:!0,isStart:!0,kill:!1},T5={suppressEvents:!0,kill:!1},zSe={suppressEvents:!0},i7={},M0=[],oF={},vae,yu={},FT={},Lq=30,O5=[],o7="",l7=function(e){var r=e[0],n,a;if(zh(r)||pi(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(a=O5.length;a--&&!O5[a].targetTest(r););n=O5[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new zae(e[a],n)))||e.splice(a,1);return e},Wx=function(e){return e._gsap||l7(Ad(e))[0]._gsap},yae=function(e,r,n){return(n=e[r])&&pi(n)?e[r]():r7(n)&&e.getAttribute&&e.getAttribute(r)||n},Hc=function(e,r){return(e=e.split(",")).forEach(r)||e},Ai=function(e){return Math.round(e*1e5)/1e5||0},Wa=function(e){return Math.round(e*1e7)/1e7||0},V1=function(e,r){var n=r.charAt(0),a=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+a:n==="-"?e-a:n==="*"?e*a:e/a},qSe=function(e,r){for(var n=r.length,a=0;e.indexOf(r[a])<0&&++a<n;);return a<n},g4=function(){var e=M0.length,r=M0.slice(0),n,a;for(oF={},M0.length=0,n=0;n<e;n++)a=r[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},c7=function(e){return!!(e._initted||e._startAt||e.add)},bae=function(e,r,n,a){M0.length&&!ul&&g4(),e.render(r,n,!!(ul&&r<0&&c7(e))),M0.length&&!ul&&g4()},wae=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match($Se).length<2?r:Ko(e)?e.trim():e},_ae=function(e){return e},Vu=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},VSe=function(e){return function(r,n){for(var a in n)a in r||a==="duration"&&e||a==="ease"||(r[a]=n[a])}},gb=function(e,r){for(var n in r)e[n]=r[n];return e},$q=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=zh(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},x4=function(e,r){var n={},a;for(a in e)a in r||(n[a]=e[a]);return n},o2=function(e){var r=e.parent||Ha,n=e.keyframes?VSe(Bl(e.keyframes)):Vu;if(Wc(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},WSe=function(e,r){for(var n=e.length,a=n===r.length;a&&n--&&e[n]===r[n];);return n<0},jae=function(e,r,n,a,i){var o=e[a],l;if(i)for(l=r[i];o&&o[i]>l;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[a]=r,r._prev=o,r.parent=r._dp=e,r},WA=function(e,r,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var i=r._prev,o=r._next;i?i._next=o:e[n]===r&&(e[n]=o),o?o._prev=i:e[a]===r&&(e[a]=i),r._next=r._prev=r.parent=null},Q0=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Hx=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},HSe=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},lF=function(e,r,n,a){return e._startAt&&(ul?e._startAt.revert(T5):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,a))},GSe=function t(e){return!e||e._ts&&t(e.parent)},Bq=function(e){return e._repeat?xb(e._tTime,e=e.duration()+e._rDelay)*e:0},xb=function(e,r){var n=Math.floor(e=Wa(e/r));return e&&n===e?n-1:n},v4=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},HA=function(e){return e._end=Wa(e._start+(e._tDur/Math.abs(e._ts||e._rts||ta)||0))},GA=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Wa(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),HA(e),n._dirty||Hx(n,e)),e},Nae=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=v4(e.rawTime(),r),(!r._dur||BN(0,r.totalDuration(),n)-r._tTime>ta)&&r.render(n,!0)),Hx(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-ta}},bh=function(e,r,n,a){return r.parent&&Q0(r),r._start=Wa((ip(n)?n:n||e!==Ha?vd(e,n,r):e._time)+r._delay),r._end=Wa(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),jae(e,r,"_first","_last",e._sort?"_start":0),cF(r)||(e._recent=r),a||Nae(e,r),e._ts<0&&GA(e,e._tTime),e},Sae=function(e,r){return(qu.ScrollTrigger||a7("scrollTrigger",r))&&qu.ScrollTrigger.create(r,e)},kae=function(e,r,n,a,i){if(d7(e,r,i),!e._initted)return 1;if(!n&&e._pt&&!ul&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&vae!==Au.frame)return M0.push(e),e._lazy=[i,a],1},YSe=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},cF=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},KSe=function(e,r,n,a){var i=e.ratio,o=r<0||!r&&(!e._start&&YSe(e)&&!(!e._initted&&cF(e))||(e._ts<0||e._dp._ts<0)&&!cF(e))?0:1,l=e._rDelay,c=0,u,d,f;if(l&&e._repeat&&(c=BN(0,e._tDur,r),d=xb(c,l),e._yoyo&&d&1&&(o=1-o),d!==xb(e._tTime,l)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||ul||a||e._zTime===ta||!r&&e._zTime){if(!e._initted&&kae(e,r,a,n,c))return;for(f=e._zTime,e._zTime=r||(n?ta:0),n||(n=r&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,u=e._pt;u;)u.r(o,u.d),u=u._next;r<0&&lF(e,r,n,!0),e._onUpdate&&!n&&Du(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Du(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&Q0(e,1),!n&&!ul&&(Du(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},XSe=function(e,r,n){var a;if(n>r)for(a=e._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=e._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},vb=function(e,r,n,a){var i=e._repeat,o=Wa(r)||0,l=e._tTime/e._tDur;return l&&!a&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Wa(o*(i+1)+e._rDelay*i):o,l>0&&!a&&GA(e,e._tTime=e._tDur*l),e.parent&&HA(e),n||Hx(e.parent,e),e},Uq=function(e){return e instanceof uc?Hx(e):vb(e,e._dur)},JSe={_start:0,endTime:aj,totalDuration:aj},vd=function t(e,r,n){var a=e.labels,i=e._recent||JSe,o=e.duration()>=Cd?i.endTime(!1):e._dur,l,c,u;return Ko(r)&&(isNaN(r)||r in a)?(c=r.charAt(0),u=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(l<0?i:n).totalDuration()/100:1)):l<0?(r in a||(a[r]=o),a[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),u&&n&&(c=c/100*(Bl(n)?n[0]:n).totalDuration()),l>1?t(e,r.substr(0,l-1),n)+c:o+c)):r==null?o:+r},l2=function(e,r,n){var a=ip(r[1]),i=(a?2:1)+(e<2?0:1),o=r[i],l,c;if(a&&(o.duration=r[1]),o.parent=n,e){for(l=o,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Wc(c.vars.inherit)&&c.parent;o.immediateRender=Wc(l.immediateRender),e<2?o.runBackwards=1:o.startAt=r[i-1]}return new Zi(r[0],o,r[i+1])},yg=function(e,r){return e||e===0?r(e):r},BN=function(e,r,n){return n<e?e:n>r?r:n},Il=function(e,r){return!Ko(e)||!(r=BSe.exec(e))?"":r[1]},ZSe=function(e,r,n){return yg(n,function(a){return BN(e,r,a)})},uF=[].slice,Cae=function(e,r){return e&&zh(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&zh(e[0]))&&!e.nodeType&&e!==vh},QSe=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(a){var i;return Ko(a)&&!r||Cae(a,1)?(i=n).push.apply(i,Ad(a)):n.push(a)})||n},Ad=function(e,r,n){return Ra&&!r&&Ra.selector?Ra.selector(e):Ko(e)&&!n&&(iF||!yb())?uF.call((r||s7).querySelectorAll(e),0):Bl(e)?QSe(e,n):Cae(e)?uF.call(e,0):e?[e]:[]},dF=function(e){return e=Ad(e)[0]||sj("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return Ad(r,n.querySelectorAll?n:n===e?sj("Invalid scope")||s7.createElement("div"):e)}},Aae=function(e){return e.sort(function(){return .5-Math.random()})},Eae=function(e){if(pi(e))return e;var r=zh(e)?e:{each:e},n=Gx(r.ease),a=r.from||0,i=parseFloat(r.base)||0,o={},l=a>0&&a<1,c=isNaN(a)||l,u=r.axis,d=a,f=a;return Ko(a)?d=f={center:.5,edges:.5,end:1}[a]||0:!l&&c&&(d=a[0],f=a[1]),function(m,h,x){var g=(x||r).length,v=o[g],b,_,w,N,S,C,A,R,O;if(!v){if(O=r.grid==="auto"?0:(r.grid||[1,Cd])[1],!O){for(A=-Cd;A<(A=x[O++].getBoundingClientRect().left)&&O<g;);O<g&&O--}for(v=o[g]=[],b=c?Math.min(O,g)*d-.5:a%O,_=O===Cd?0:c?g*f/O-.5:a/O|0,A=0,R=Cd,C=0;C<g;C++)w=C%O-b,N=_-(C/O|0),v[C]=S=u?Math.abs(u==="y"?N:w):dae(w*w+N*N),S>A&&(A=S),S<R&&(R=S);a==="random"&&Aae(v),v.max=A-R,v.min=R,v.v=g=(parseFloat(r.amount)||parseFloat(r.each)*(O>g?g-1:u?u==="y"?g/O:O:Math.max(O,g/O))||0)*(a==="edges"?-1:1),v.b=g<0?i-g:i,v.u=Il(r.amount||r.each)||0,n=n&&g<0?$ae(n):n}return g=(v[m]-v.min)/v.max||0,Wa(v.b+(n?n(g):g)*v.v)+v.u}},fF=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var a=Wa(Math.round(parseFloat(n)/e)*e*r);return(a-a%1)/r+(ip(n)?0:Il(n))}},Pae=function(e,r){var n=Bl(e),a,i;return!n&&zh(e)&&(a=n=e.radius||Cd,e.values?(e=Ad(e.values),(i=!ip(e[0]))&&(a*=a)):e=fF(e.increment)),yg(r,n?pi(e)?function(o){return i=e(o),Math.abs(i-o)<=a?i:o}:function(o){for(var l=parseFloat(i?o.x:o),c=parseFloat(i?o.y:0),u=Cd,d=0,f=e.length,m,h;f--;)i?(m=e[f].x-l,h=e[f].y-c,m=m*m+h*h):m=Math.abs(e[f]-l),m<u&&(u=m,d=f);return d=!a||u<=a?e[d]:o,i||d===o||ip(o)?d:d+Il(o)}:fF(e))},Tae=function(e,r,n,a){return yg(Bl(e)?!r:n===!0?!!(n=0):!a,function(){return Bl(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*a)/a})},eke=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(a){return r.reduce(function(i,o){return o(i)},a)}},tke=function(e,r){return function(n){return e(parseFloat(n))+(r||Il(n))}},rke=function(e,r,n){return Dae(e,r,0,1,n)},Oae=function(e,r,n){return yg(n,function(a){return e[~~r(a)]})},nke=function t(e,r,n){var a=r-e;return Bl(e)?Oae(e,t(0,e.length),r):yg(n,function(i){return(a+(i-e)%a)%a+e})},ske=function t(e,r,n){var a=r-e,i=a*2;return Bl(e)?Oae(e,t(0,e.length-1),r):yg(n,function(o){return o=(i+(o-e)%i)%i||0,e+(o>a?i-o:o)})},ij=function(e){return e.replace(MSe,function(r){var n=r.indexOf("[")+1,a=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(LSe);return Tae(n?a:+a[0],n?0:+a[1],+a[2]||1e-5)})},Dae=function(e,r,n,a,i){var o=r-e,l=a-n;return yg(i,function(c){return n+((c-e)/o*l||0)})},ake=function t(e,r,n,a){var i=isNaN(e+r)?0:function(h){return(1-h)*e+h*r};if(!i){var o=Ko(e),l={},c,u,d,f,m;if(n===!0&&(a=1)&&(n=null),o)e={p:e},r={p:r};else if(Bl(e)&&!Bl(r)){for(d=[],f=e.length,m=f-2,u=1;u<f;u++)d.push(t(e[u-1],e[u]));f--,i=function(x){x*=f;var g=Math.min(m,~~x);return d[g](x-g)},n=r}else a||(e=gb(Bl(e)?[]:{},e));if(!d){for(c in r)u7.call(l,e,c,"get",r[c]);i=function(x){return m7(x,l)||(o?e.p:e)}}}return yg(n,i)},zq=function(e,r,n){var a=e.labels,i=Cd,o,l,c;for(o in a)l=a[o]-r,l<0==!!n&&l&&i>(l=Math.abs(l))&&(c=o,i=l);return c},Du=function(e,r,n){var a=e.vars,i=a[r],o=Ra,l=e._ctx,c,u,d;if(i)return c=a[r+"Params"],u=a.callbackScope||e,n&&M0.length&&g4(),l&&(Ra=l),d=c?i.apply(u,c):i.call(u),Ra=o,d},B_=function(e){return Q0(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ul),e.progress()<1&&Du(e,"onInterrupt"),e},N1,Rae=[],Iae=function(e){if(e)if(e=!e.name&&e.default||e,n7()||e.headless){var r=e.name,n=pi(e),a=r&&!n&&e.init?function(){this._props=[]}:e,i={init:aj,render:m7,add:u7,kill:wke,modifier:bke,rawVars:0},o={targetTest:0,get:0,getSetter:h7,aliases:{},register:0};if(yb(),e!==a){if(yu[r])return;Vu(a,Vu(x4(e,i),o)),gb(a.prototype,gb(i,x4(e,o))),yu[a.prop=r]=a,e.targetTest&&(O5.push(a),i7[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}xae(r,a),e.register&&e.register(Xc,a,Gc)}else Rae.push(e)},ea=255,U_={aqua:[0,ea,ea],lime:[0,ea,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ea],navy:[0,0,128],white:[ea,ea,ea],olive:[128,128,0],yellow:[ea,ea,0],orange:[ea,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ea,0,0],pink:[ea,192,203],cyan:[0,ea,ea],transparent:[ea,ea,ea,0]},MT=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*ea+.5|0},Fae=function(e,r,n){var a=e?ip(e)?[e>>16,e>>8&ea,e&ea]:0:U_.black,i,o,l,c,u,d,f,m,h,x;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),U_[e])a=U_[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+i+i+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&ea,a&ea,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&ea,e&ea]}else if(e.substr(0,3)==="hsl"){if(a=x=e.match(Mq),!r)c=+a[0]%360/360,u=+a[1]/100,d=+a[2]/100,o=d<=.5?d*(u+1):d+u-d*u,i=d*2-o,a.length>3&&(a[3]*=1),a[0]=MT(c+1/3,i,o),a[1]=MT(c,i,o),a[2]=MT(c-1/3,i,o);else if(~e.indexOf("="))return a=e.match(hae),n&&a.length<4&&(a[3]=1),a}else a=e.match(Mq)||U_.transparent;a=a.map(Number)}return r&&!x&&(i=a[0]/ea,o=a[1]/ea,l=a[2]/ea,f=Math.max(i,o,l),m=Math.min(i,o,l),d=(f+m)/2,f===m?c=u=0:(h=f-m,u=d>.5?h/(2-f-m):h/(f+m),c=f===i?(o-l)/h+(o<l?6:0):f===o?(l-i)/h+2:(i-o)/h+4,c*=60),a[0]=~~(c+.5),a[1]=~~(u*100+.5),a[2]=~~(d*100+.5)),n&&a.length<4&&(a[3]=1),a},Mae=function(e){var r=[],n=[],a=-1;return e.split(L0).forEach(function(i){var o=i.match(j1)||[];r.push.apply(r,o),n.push(a+=o.length+1)}),r.c=n,r},qq=function(e,r,n){var a="",i=(e+a).match(L0),o=r?"hsla(":"rgba(",l=0,c,u,d,f;if(!i)return e;if(i=i.map(function(m){return(m=Fae(m,r,1))&&o+(r?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),n&&(d=Mae(e),c=n.c,c.join(a)!==d.c.join(a)))for(u=e.replace(L0,"1").split(j1),f=u.length-1;l<f;l++)a+=u[l]+(~c.indexOf(l)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:n).shift());if(!u)for(u=e.split(L0),f=u.length-1;l<f;l++)a+=u[l]+i[l];return a+u[f]},L0=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in U_)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),ike=/hsl[a]?\(/,Lae=function(e){var r=e.join(" "),n;if(L0.lastIndex=0,L0.test(r))return n=ike.test(r),e[1]=qq(e[1],n),e[0]=qq(e[0],n,Mae(e[1])),!0},oj,Au=(function(){var t=Date.now,e=500,r=33,n=t(),a=n,i=1e3/240,o=i,l=[],c,u,d,f,m,h,x=function g(v){var b=t()-a,_=v===!0,w,N,S,C;if((b>e||b<0)&&(n+=b-r),a+=b,S=a-n,w=S-o,(w>0||_)&&(C=++f.frame,m=S-f.time*1e3,f.time=S=S/1e3,o+=w+(w>=i?4:i-w),N=1),_||(c=u(g)),N)for(h=0;h<l.length;h++)l[h](S,m,C,v)};return f={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(v){return m/(1e3/(v||60))},wake:function(){pae&&(!iF&&n7()&&(vh=iF=window,s7=vh.document||{},qu.gsap=Xc,(vh.gsapVersions||(vh.gsapVersions=[])).push(Xc.version),gae(p4||vh.GreenSockGlobals||!vh.gsap&&vh||{}),Rae.forEach(Iae)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(v){return setTimeout(v,o-f.time*1e3+1|0)},oj=1,x(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),oj=0,u=aj},lagSmoothing:function(v,b){e=v||1/0,r=Math.min(b||33,e)},fps:function(v){i=1e3/(v||240),o=f.time*1e3+i},add:function(v,b,_){var w=b?function(N,S,C,A){v(N,S,C,A),f.remove(w)}:v;return f.remove(v),l[_?"unshift":"push"](w),yb(),w},remove:function(v,b){~(b=l.indexOf(v))&&l.splice(b,1)&&h>=b&&h--},_listeners:l},f})(),yb=function(){return!oj&&Au.wake()},os={},oke=/^[\d.\-M][\d.\-,\s]/,lke=/["']/g,cke=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),a=n[0],i=1,o=n.length,l,c,u;i<o;i++)c=n[i],l=i!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),r[a]=isNaN(u)?u.replace(lke,"").trim():+u,a=c.substr(l+1).trim();return r},uke=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),a=e.indexOf("(",r);return e.substring(r,~a&&a<n?e.indexOf(")",n+1):n)},dke=function(e){var r=(e+"").split("("),n=os[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[cke(r[1])]:uke(e).split(",").map(wae)):os._CE&&oke.test(e)?os._CE("",e):n},$ae=function(e){return function(r){return 1-e(1-r)}},Bae=function t(e,r){for(var n=e._first,a;n;)n instanceof uc?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},Gx=function(e,r){return e&&(pi(e)?e:os[e]||dke(e))||r},Uv=function(e,r,n,a){n===void 0&&(n=function(c){return 1-r(1-c)}),a===void 0&&(a=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var i={easeIn:r,easeOut:n,easeInOut:a},o;return Hc(e,function(l){os[l]=qu[l]=i,os[o=l.toLowerCase()]=n;for(var c in i)os[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=os[l+"."+c]=i[c]}),i},Uae=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},LT=function t(e,r,n){var a=r>=1?r:1,i=(n||(e?.3:.45))/(r<1?r:1),o=i/aF*(Math.asin(1/a)||0),l=function(d){return d===1?1:a*Math.pow(2,-10*d)*FSe((d-o)*i)+1},c=e==="out"?l:e==="in"?function(u){return 1-l(1-u)}:Uae(l);return i=aF/i,c.config=function(u,d){return t(e,u,d)},c},$T=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},a=e==="out"?n:e==="in"?function(i){return 1-n(1-i)}:Uae(n);return a.config=function(i){return t(e,i)},a};Hc("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Uv(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});os.Linear.easeNone=os.none=os.Linear.easeIn;Uv("Elastic",LT("in"),LT("out"),LT());(function(t,e){var r=1/e,n=2*r,a=2.5*r,i=function(l){return l<r?t*l*l:l<n?t*Math.pow(l-1.5/e,2)+.75:l<a?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};Uv("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Uv("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Uv("Circ",function(t){return-(dae(1-t*t)-1)});Uv("Sine",function(t){return t===1?1:-ISe(t*DSe)+1});Uv("Back",$T("in"),$T("out"),$T());os.SteppedEase=os.steps=qu.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,a=e+(r?0:1),i=r?1:0,o=1-ta;return function(l){return((a*BN(0,o,l)|0)+i)*n}}};pb.ease=os["quad.out"];Hc("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return o7+=t+","+t+"Params,"});var zae=function(e,r){this.id=RSe++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:yae,this.set=r?r.getSetter:h7},lj=(function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,vb(this,+r.duration,1,1),this.data=r.data,Ra&&(this._ctx=Ra,Ra.data.push(this)),oj||Au.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,vb(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,a){if(yb(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(GA(this,n),!i._dp||i.parent||Nae(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&bh(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===ta||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),bae(this,n,a)),this},e.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Bq(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},e.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Bq(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,a):this._repeat?xb(this._tTime,i)+1:1},e.timeScale=function(n,a){if(!arguments.length)return this._rts===-ta?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?v4(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-ta?0:this._rts,this.totalTime(BN(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),HA(this),HSe(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(yb(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ta&&(this._tTime-=ta)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=Wa(n);var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&bh(a,this,this._start-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Wc(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?v4(a.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=zSe);var a=ul;return ul=n,c7(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ul=a,this},e.globalTime=function(n){for(var a=this,i=arguments.length?n:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Uq(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,Uq(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,a){return this.totalTime(vd(this,n),Wc(a))},e.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,Wc(a)),this._dur||(this._zTime=-ta),this},e.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},e.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-ta:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ta,this},e.isActive=function(){var n=this.parent||this._dp,a=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=a&&i<this.endTime(!0)-ta)},e.eventCallback=function(n,a,i){var o=this.vars;return arguments.length>1?(a?(o[n]=a,i&&(o[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=a)):delete o[n],this):o[n]},e.then=function(n){var a=this,i=a._prom;return new Promise(function(o){var l=pi(n)?n:_ae,c=function(){var d=a.then;a.then=null,i&&i(),pi(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=d),o(l),a.then=d};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?c():a._prom=c})},e.kill=function(){B_(this)},t})();Vu(lj.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ta,_prom:0,_ps:!1,_rts:1});var uc=(function(t){uae(e,t);function e(n,a){var i;return n===void 0&&(n={}),i=t.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=Wc(n.sortChildren),Ha&&bh(n.parent||Ha,Im(i),a),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&Sae(Im(i),n.scrollTrigger),i}var r=e.prototype;return r.to=function(a,i,o){return l2(0,arguments,this),this},r.from=function(a,i,o){return l2(1,arguments,this),this},r.fromTo=function(a,i,o,l){return l2(2,arguments,this),this},r.set=function(a,i,o){return i.duration=0,i.parent=this,o2(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new Zi(a,i,vd(this,o),1),this},r.call=function(a,i,o){return bh(this,Zi.delayedCall(0,a,i),o)},r.staggerTo=function(a,i,o,l,c,u,d){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new Zi(a,o,vd(this,c)),this},r.staggerFrom=function(a,i,o,l,c,u,d){return o.runBackwards=1,o2(o).immediateRender=Wc(o.immediateRender),this.staggerTo(a,i,o,l,c,u,d)},r.staggerFromTo=function(a,i,o,l,c,u,d,f){return l.startAt=o,o2(l).immediateRender=Wc(l.immediateRender),this.staggerTo(a,i,l,c,u,d,f)},r.render=function(a,i,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=a<=0?0:Wa(a),f=this._zTime<0!=a<0&&(this._initted||!u),m,h,x,g,v,b,_,w,N,S,C,A;if(this!==Ha&&d>c&&a>=0&&(d=c),d!==this._tTime||o||f){if(l!==this._time&&u&&(d+=this._time-l,a+=this._time-l),m=d,N=this._start,w=this._ts,b=!w,f&&(u||(l=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(C=this._yoyo,v=u+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(v*100+a,i,o);if(m=Wa(d%v),d===c?(g=this._repeat,m=u):(S=Wa(d/v),g=~~S,g&&g===S&&(m=u,g--),m>u&&(m=u)),S=xb(this._tTime,v),!l&&this._tTime&&S!==g&&this._tTime-S*v-this._dur<=0&&(S=g),C&&g&1&&(m=u-m,A=1),g!==S&&!this._lock){var R=C&&S&1,O=R===(C&&g&1);if(g<S&&(R=!R),l=R?0:d%u?u:d,this._lock=1,this.render(l||(A?0:Wa(g*v)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&Du(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1,S=g),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,O&&(this._lock=2,l=R?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;Bae(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=XSe(this,Wa(l),Wa(m)),_&&(d-=m-(m=_._start))),this._tTime=d,this._time=m,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&d&&u&&!i&&!S&&(Du(this,"onStart"),this._tTime!==d))return this;if(m>=l&&a>=0)for(h=this._first;h;){if(x=h._next,(h._act||m>=h._start)&&h._ts&&_!==h){if(h.parent!==this)return this.render(a,i,o);if(h.render(h._ts>0?(m-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(m-h._start)*h._ts,i,o),m!==this._time||!this._ts&&!b){_=0,x&&(d+=this._zTime=-ta);break}}h=x}else{h=this._last;for(var D=a<0?a:m;h;){if(x=h._prev,(h._act||D<=h._end)&&h._ts&&_!==h){if(h.parent!==this)return this.render(a,i,o);if(h.render(h._ts>0?(D-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(D-h._start)*h._ts,i,o||ul&&c7(h)),m!==this._time||!this._ts&&!b){_=0,x&&(d+=this._zTime=D?-ta:ta);break}}h=x}}if(_&&!i&&(this.pause(),_.render(m>=l?0:-ta)._zTime=m>=l?1:-1,this._ts))return this._start=N,HA(this),this.render(a,i,o);this._onUpdate&&!i&&Du(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(N===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((a||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Q0(this,1),!i&&!(a<0&&!l)&&(d||l||!c)&&(Du(this,d===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,i){var o=this;if(ip(i)||(i=vd(this,i,a)),!(a instanceof lj)){if(Bl(a))return a.forEach(function(l){return o.add(l,i)}),this;if(Ko(a))return this.addLabel(a,i);if(pi(a))a=Zi.delayedCall(0,a);else return this}return this!==a?bh(this,a,i):this},r.getChildren=function(a,i,o,l){a===void 0&&(a=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-Cd);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof Zi?i&&c.push(u):(o&&c.push(u),a&&c.push.apply(c,u.getChildren(!0,i,o)))),u=u._next;return c},r.getById=function(a){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===a)return i[o]},r.remove=function(a){return Ko(a)?this.removeLabel(a):pi(a)?this.killTweensOf(a):(a.parent===this&&WA(this,a),a===this._recent&&(this._recent=this._last),Hx(this))},r.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Wa(Au.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),t.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},r.addLabel=function(a,i){return this.labels[a]=vd(this,i),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,i,o){var l=Zi.delayedCall(0,i||aj,o);return l.data="isPause",this._hasPause=1,bh(this,l,vd(this,a))},r.removePause=function(a){var i=this._first;for(a=vd(this,a);i;)i._start===a&&i.data==="isPause"&&Q0(i),i=i._next},r.killTweensOf=function(a,i,o){for(var l=this.getTweensOf(a,o),c=l.length;c--;)N0!==l[c]&&l[c].kill(a,i);return this},r.getTweensOf=function(a,i){for(var o=[],l=Ad(a),c=this._first,u=ip(i),d;c;)c instanceof Zi?qSe(c._targets,l)&&(u?(!N0||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&o.push(c):(d=c.getTweensOf(l,i)).length&&o.push.apply(o,d),c=c._next;return o},r.tweenTo=function(a,i){i=i||{};var o=this,l=vd(o,a),c=i,u=c.startAt,d=c.onStart,f=c.onStartParams,m=c.immediateRender,h,x=Zi.to(o,Vu({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||ta,onStart:function(){if(o.pause(),!h){var v=i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());x._dur!==v&&vb(x,v,0,1).render(x._time,!0,!0),h=1}d&&d.apply(x,f||[])}},i));return m?x.render(0):x},r.tweenFromTo=function(a,i,o){return this.tweenTo(i,Vu({startAt:{time:vd(this,a)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),zq(this,vd(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),zq(this,vd(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+ta)},r.shiftChildren=function(a,i,o){o===void 0&&(o=0);var l=this._first,c=this.labels,u;for(a=Wa(a);l;)l._start>=o&&(l._start+=a,l._end+=a),l=l._next;if(i)for(u in c)c[u]>=o&&(c[u]+=a);return Hx(this)},r.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return t.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Hx(this)},r.totalDuration=function(a){var i=0,o=this,l=o._last,c=Cd,u,d,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-a:a));if(o._dirty){for(f=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,bh(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(i-=d,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=Wa(d/o._ts),o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>i&&l._ts&&(i=l._end),l=u;vb(o,o===Ha&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(a){if(Ha._ts&&(bae(Ha,v4(a,Ha)),vae=Au.frame),Au.frame>=Lq){Lq+=Mu.autoSleep||120;var i=Ha._first;if((!i||!i._ts)&&Mu.autoSleep&&Au._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Au.sleep()}}},e})(lj);Vu(uc.prototype,{_lock:0,_hasPause:0,_forcing:0});var fke=function(e,r,n,a,i,o,l){var c=new Gc(this._pt,e,r,0,1,Yae,null,i),u=0,d=0,f,m,h,x,g,v,b,_;for(c.b=n,c.e=a,n+="",a+="",(b=~a.indexOf("random("))&&(a=ij(a)),o&&(_=[n,a],o(_,e,r),n=_[0],a=_[1]),m=n.match(IT)||[];f=IT.exec(a);)x=f[0],g=a.substring(u,f.index),h?h=(h+1)%5:g.substr(-5)==="rgba("&&(h=1),x!==m[d++]&&(v=parseFloat(m[d-1])||0,c._pt={_next:c._pt,p:g||d===1?g:",",s:v,c:x.charAt(1)==="="?V1(v,x)-v:parseFloat(x)-v,m:h&&h<4?Math.round:0},u=IT.lastIndex);return c.c=u<a.length?a.substring(u,a.length):"",c.fp=l,(mae.test(a)||b)&&(c.e=0),this._pt=c,c},u7=function(e,r,n,a,i,o,l,c,u,d){pi(a)&&(a=a(i||0,e,o));var f=e[r],m=n!=="get"?n:pi(f)?u?e[r.indexOf("set")||!pi(e["get"+r.substr(3)])?r:"get"+r.substr(3)](u):e[r]():f,h=pi(f)?u?xke:Hae:f7,x;if(Ko(a)&&(~a.indexOf("random(")&&(a=ij(a)),a.charAt(1)==="="&&(x=V1(m,a)+(Il(m)||0),(x||x===0)&&(a=x))),!d||m!==a||hF)return!isNaN(m*a)&&a!==""?(x=new Gc(this._pt,e,r,+m||0,a-(m||0),typeof f=="boolean"?yke:Gae,0,h),u&&(x.fp=u),l&&x.modifier(l,this,e),this._pt=x):(!f&&!(r in e)&&a7(r,a),fke.call(this,e,r,m,a,h,c||Mu.stringFilter,u))},hke=function(e,r,n,a,i){if(pi(e)&&(e=c2(e,i,r,n,a)),!zh(e)||e.style&&e.nodeType||Bl(e)||fae(e))return Ko(e)?c2(e,i,r,n,a):e;var o={},l;for(l in e)o[l]=c2(e[l],i,r,n,a);return o},qae=function(e,r,n,a,i,o){var l,c,u,d;if(yu[e]&&(l=new yu[e]).init(i,l.rawVars?r[e]:hke(r[e],a,i,o,n),n,a,o)!==!1&&(n._pt=c=new Gc(n._pt,i,e,0,1,l.render,l,0,l.priority),n!==N1))for(u=n._ptLookup[n._targets.indexOf(i)],d=l._props.length;d--;)u[l._props[d]]=c;return l},N0,hF,d7=function t(e,r,n){var a=e.vars,i=a.ease,o=a.startAt,l=a.immediateRender,c=a.lazy,u=a.onUpdate,d=a.runBackwards,f=a.yoyoEase,m=a.keyframes,h=a.autoRevert,x=e._dur,g=e._startAt,v=e._targets,b=e.parent,_=b&&b.data==="nested"?b.vars.targets:v,w=e._overwrite==="auto"&&!t7,N=e.timeline,S,C,A,R,O,D,P,E,I,M,U,W,Y;if(N&&(!m||!i)&&(i="none"),e._ease=Gx(i,pb.ease),e._yEase=f?$ae(Gx(f===!0?i:f,pb.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!N&&!!a.runBackwards,!N||m&&!a.stagger){if(E=v[0]?Wx(v[0]).harness:0,W=E&&a[E.prop],S=x4(a,i7),g&&(g._zTime<0&&g.progress(1),r<0&&d&&l&&!h?g.render(-1,!0):g.revert(d&&x?T5:USe),g._lazy=0),o){if(Q0(e._startAt=Zi.set(v,Vu({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!g&&Wc(c),startAt:null,delay:0,onUpdate:u&&function(){return Du(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ul||!l&&!h)&&e._startAt.revert(T5),l&&x&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(d&&x&&!g){if(r&&(l=!1),A=Vu({overwrite:!1,data:"isFromStart",lazy:l&&!g&&Wc(c),immediateRender:l,stagger:0,parent:b},S),W&&(A[E.prop]=W),Q0(e._startAt=Zi.set(v,A)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ul?e._startAt.revert(T5):e._startAt.render(-1,!0)),e._zTime=r,!l)t(e._startAt,ta,ta);else if(!r)return}for(e._pt=e._ptCache=0,c=x&&Wc(c)||c&&!x,C=0;C<v.length;C++){if(O=v[C],P=O._gsap||l7(v)[C]._gsap,e._ptLookup[C]=M={},oF[P.id]&&M0.length&&g4(),U=_===v?C:_.indexOf(O),E&&(I=new E).init(O,W||S,e,U,_)!==!1&&(e._pt=R=new Gc(e._pt,O,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(J){M[J]=R}),I.priority&&(D=1)),!E||W)for(A in S)yu[A]&&(I=qae(A,S,e,U,O,_))?I.priority&&(D=1):M[A]=R=u7.call(e,O,A,"get",S[A],U,_,0,a.stringFilter);e._op&&e._op[C]&&e.kill(O,e._op[C]),w&&e._pt&&(N0=e,Ha.killTweensOf(O,M,e.globalTime(r)),Y=!e.parent,N0=0),e._pt&&c&&(oF[P.id]=1)}D&&Kae(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!Y,m&&r<=0&&N.render(Cd,!0,!0)},mke=function(e,r,n,a,i,o,l,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[r],d,f,m,h;if(!u)for(u=e._ptCache[r]=[],m=e._ptLookup,h=e._targets.length;h--;){if(d=m[h][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return hF=1,e.vars[r]="+=0",d7(e,l),hF=0,c?sj(r+" not eligible for reset"):1;u.push(d)}for(h=u.length;h--;)f=u[h],d=f._pt||f,d.s=(a||a===0)&&!i?a:d.s+(a||0)+o*d.c,d.c=n-d.s,f.e&&(f.e=Ai(n)+Il(f.e)),f.b&&(f.b=d.s+Il(f.b))},pke=function(e,r){var n=e[0]?Wx(e[0]).harness:0,a=n&&n.aliases,i,o,l,c;if(!a)return r;i=gb({},r);for(o in a)if(o in i)for(c=a[o].split(","),l=c.length;l--;)i[c[l]]=i[o];return i},gke=function(e,r,n,a){var i=r.ease||a||"power1.inOut",o,l;if(Bl(r))l=n[e]||(n[e]=[]),r.forEach(function(c,u){return l.push({t:u/(r.length-1)*100,v:c,e:i})});else for(o in r)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:r[o],e:i})},c2=function(e,r,n,a,i){return pi(e)?e.call(r,n,a,i):Ko(e)&&~e.indexOf("random(")?ij(e):e},Vae=o7+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Wae={};Hc(Vae+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Wae[t]=1});var Zi=(function(t){uae(e,t);function e(n,a,i,o){var l;typeof a=="number"&&(i.duration=a,a=i,i=null),l=t.call(this,o?a:o2(a))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,m=c.stagger,h=c.overwrite,x=c.keyframes,g=c.defaults,v=c.scrollTrigger,b=c.yoyoEase,_=a.parent||Ha,w=(Bl(n)||fae(n)?ip(n[0]):"length"in a)?[n]:Ad(n),N,S,C,A,R,O,D,P;if(l._targets=w.length?l7(w):sj("GSAP target "+n+" not found. https://gsap.com",!Mu.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=h,x||m||xk(u)||xk(d)){if(a=l.vars,N=l.timeline=new uc({data:"nested",defaults:g||{},targets:_&&_.data==="nested"?_.vars.targets:w}),N.kill(),N.parent=N._dp=Im(l),N._start=0,m||xk(u)||xk(d)){if(A=w.length,D=m&&Eae(m),zh(m))for(R in m)~Vae.indexOf(R)&&(P||(P={}),P[R]=m[R]);for(S=0;S<A;S++)C=x4(a,Wae),C.stagger=0,b&&(C.yoyoEase=b),P&&gb(C,P),O=w[S],C.duration=+c2(u,Im(l),S,O,w),C.delay=(+c2(d,Im(l),S,O,w)||0)-l._delay,!m&&A===1&&C.delay&&(l._delay=d=C.delay,l._start+=d,C.delay=0),N.to(O,C,D?D(S,O,w):0),N._ease=os.none;N.duration()?u=d=0:l.timeline=0}else if(x){o2(Vu(N.vars.defaults,{ease:"none"})),N._ease=Gx(x.ease||a.ease||"none");var E=0,I,M,U;if(Bl(x))x.forEach(function(W){return N.to(w,W,">")}),N.duration();else{C={};for(R in x)R==="ease"||R==="easeEach"||gke(R,x[R],C,x.easeEach);for(R in C)for(I=C[R].sort(function(W,Y){return W.t-Y.t}),E=0,S=0;S<I.length;S++)M=I[S],U={ease:M.e,duration:(M.t-(S?I[S-1].t:0))/100*u},U[R]=M.v,N.to(w,U,E),E+=U.duration;N.duration()<u&&N.to({},{duration:u-N.duration()})}}u||l.duration(u=N.duration())}else l.timeline=0;return h===!0&&!t7&&(N0=Im(l),Ha.killTweensOf(w),N0=0),bh(_,Im(l),i),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(f||!u&&!x&&l._start===Wa(_._time)&&Wc(f)&&GSe(Im(l))&&_.data!=="nested")&&(l._tTime=-ta,l.render(Math.max(0,-d)||0)),v&&Sae(Im(l),v),l}var r=e.prototype;return r.render=function(a,i,o){var l=this._time,c=this._tDur,u=this._dur,d=a<0,f=a>c-ta&&!d?c:a<ta?0:a,m,h,x,g,v,b,_,w,N;if(!u)KSe(this,a,i,o);else if(f!==this._tTime||!a||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=f,w=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+a,i,o);if(m=Wa(f%g),f===c?(x=this._repeat,m=u):(v=Wa(f/g),x=~~v,x&&x===v?(m=u,x--):m>u&&(m=u)),b=this._yoyo&&x&1,b&&(N=this._yEase,m=u-m),v=xb(this._tTime,g),m===l&&!o&&this._initted&&x===v)return this._tTime=f,this;x!==v&&(w&&this._yEase&&Bae(w,b),this.vars.repeatRefresh&&!b&&!this._lock&&m!==g&&this._initted&&(this._lock=o=1,this.render(Wa(g*x),!0).invalidate()._lock=0))}if(!this._initted){if(kae(this,d?a:m,o,i,f))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&x!==v))return this;if(u!==this._dur)return this.render(a,i,o)}if(this._tTime=f,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(N||this._ease)(m/u),this._from&&(this.ratio=_=1-_),!l&&f&&!i&&!v&&(Du(this,"onStart"),this._tTime!==f))return this;for(h=this._pt;h;)h.r(_,h.d),h=h._next;w&&w.render(a<0?a:w._dur*w._ease(m/this._dur),i,o)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(d&&lF(this,a,i,o),Du(this,"onUpdate")),this._repeat&&x!==v&&this.vars.onRepeat&&!i&&this.parent&&Du(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&lF(this,a,!0,!0),(a||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Q0(this,1),!i&&!(d&&!l)&&(f||l||b)&&(Du(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),t.prototype.invalidate.call(this,a)},r.resetTo=function(a,i,o,l,c){oj||Au.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||d7(this,u),d=this._ease(u/this._dur),mke(this,a,i,o,l,d,u,c)?this.resetTo(a,i,o,l,1):(GA(this,0),this.parent||jae(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?B_(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ul),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,N0&&N0.vars.overwrite!==!0)._first||B_(this),this.parent&&o!==this.timeline.totalDuration()&&vb(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=a?Ad(a):l,u=this._ptLookup,d=this._pt,f,m,h,x,g,v,b;if((!i||i==="all")&&WSe(l,c))return i==="all"&&(this._pt=0),B_(this);for(f=this._op=this._op||[],i!=="all"&&(Ko(i)&&(g={},Hc(i,function(_){return g[_]=1}),i=g),i=pke(l,i)),b=l.length;b--;)if(~c.indexOf(l[b])){m=u[b],i==="all"?(f[b]=i,x=m,h={}):(h=f[b]=f[b]||{},x=i);for(g in x)v=m&&m[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&WA(this,v,"_pt"),delete m[g]),h!=="all"&&(h[g]=1)}return this._initted&&!this._pt&&d&&B_(this),this},e.to=function(a,i){return new e(a,i,arguments[2])},e.from=function(a,i){return l2(1,arguments)},e.delayedCall=function(a,i,o,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(a,i,o){return l2(2,arguments)},e.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(a,i)},e.killTweensOf=function(a,i,o){return Ha.killTweensOf(a,i,o)},e})(lj);Vu(Zi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Hc("staggerTo,staggerFrom,staggerFromTo",function(t){Zi[t]=function(){var e=new uc,r=uF.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var f7=function(e,r,n){return e[r]=n},Hae=function(e,r,n){return e[r](n)},xke=function(e,r,n,a){return e[r](a.fp,n)},vke=function(e,r,n){return e.setAttribute(r,n)},h7=function(e,r){return pi(e[r])?Hae:r7(e[r])&&e.setAttribute?vke:f7},Gae=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},yke=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},Yae=function(e,r){var n=r._pt,a="";if(!e&&r.b)a=r.b;else if(e===1&&r.e)a=r.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+a,n=n._next;a+=r.c}r.set(r.t,r.p,a,r)},m7=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},bke=function(e,r,n,a){for(var i=this._pt,o;i;)o=i._next,i.p===a&&i.modifier(e,r,n),i=o},wke=function(e){for(var r=this._pt,n,a;r;)a=r._next,r.p===e&&!r.op||r.op===e?WA(this,r,"_pt"):r.dep||(n=1),r=a;return!n},_ke=function(e,r,n,a){a.mSet(e,r,a.m.call(a.tween,n,a.mt),a)},Kae=function(e){for(var r=e._pt,n,a,i,o;r;){for(n=r._next,a=i;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:o)?r._prev._next=r:i=r,(r._next=a)?a._prev=r:o=r,r=n}e._pt=i},Gc=(function(){function t(r,n,a,i,o,l,c,u,d){this.t=n,this.s=i,this.c=o,this.p=a,this.r=l||Gae,this.d=c||this,this.set=u||f7,this.pr=d||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,a,i){this.mSet=this.mSet||this.set,this.set=_ke,this.m=n,this.mt=i,this.tween=a},t})();Hc(o7+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return i7[t]=1});qu.TweenMax=qu.TweenLite=Zi;qu.TimelineLite=qu.TimelineMax=uc;Ha=new uc({sortChildren:!1,defaults:pb,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Mu.stringFilter=Lae;var Yx=[],D5={},jke=[],Vq=0,Nke=0,BT=function(e){return(D5[e]||jke).map(function(r){return r()})},mF=function(){var e=Date.now(),r=[];e-Vq>2&&(BT("matchMediaInit"),Yx.forEach(function(n){var a=n.queries,i=n.conditions,o,l,c,u;for(l in a)o=vh.matchMedia(a[l]).matches,o&&(c=1),o!==i[l]&&(i[l]=o,u=1);u&&(n.revert(),c&&r.push(n))}),BT("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),Vq=e,BT("matchMedia"))},Xae=(function(){function t(r,n){this.selector=n&&dF(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Nke++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,a,i){pi(n)&&(i=a,a=n,n=pi);var o=this,l=function(){var u=Ra,d=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=dF(i)),Ra=o,f=a.apply(o,arguments),pi(f)&&o._r.push(f),Ra=u,o.selector=d,o.isReverted=!1,f};return o.last=l,n===pi?l(o,function(c){return o.add(null,c)}):n?o[n]=l:l},e.ignore=function(n){var a=Ra;Ra=null,n(this),Ra=a},e.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof t?n.push.apply(n,a.getTweens()):a instanceof Zi&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,a){var i=this;if(n?(function(){for(var l=i.getTweens(),c=i.data.length,u;c--;)u=i.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),c=i.data.length;c--;)u=i.data[c],u instanceof uc?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Zi)&&u.revert&&u.revert(n);i._r.forEach(function(d){return d(n,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var o=Yx.length;o--;)Yx[o].id===this.id&&Yx.splice(o,1)},e.revert=function(n){this.kill(n||{})},t})(),Ske=(function(){function t(r){this.contexts=[],this.scope=r,Ra&&Ra.data.push(this)}var e=t.prototype;return e.add=function(n,a,i){zh(n)||(n={matches:n});var o=new Xae(0,i||this.scope),l=o.conditions={},c,u,d;Ra&&!o.selector&&(o.selector=Ra.selector),this.contexts.push(o),a=o.add("onMatch",a),o.queries=n;for(u in n)u==="all"?d=1:(c=vh.matchMedia(n[u]),c&&(Yx.indexOf(o)<0&&Yx.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(mF):c.addEventListener("change",mF)));return d&&a(o,function(f){return o.add(null,f)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},t})(),y4={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(a){return Iae(a)})},timeline:function(e){return new uc(e)},getTweensOf:function(e,r){return Ha.getTweensOf(e,r)},getProperty:function(e,r,n,a){Ko(e)&&(e=Ad(e)[0]);var i=Wx(e||{}).get,o=n?_ae:wae;return n==="native"&&(n=""),e&&(r?o((yu[r]&&yu[r].get||i)(e,r,n,a)):function(l,c,u){return o((yu[l]&&yu[l].get||i)(e,l,c,u))})},quickSetter:function(e,r,n){if(e=Ad(e),e.length>1){var a=e.map(function(d){return Xc.quickSetter(d,r,n)}),i=a.length;return function(d){for(var f=i;f--;)a[f](d)}}e=e[0]||{};var o=yu[r],l=Wx(e),c=l.harness&&(l.harness.aliases||{})[r]||r,u=o?function(d){var f=new o;N1._pt=0,f.init(e,n?d+n:d,N1,0,[e]),f.render(1,f),N1._pt&&m7(1,N1)}:l.set(e,c);return o?u:function(d){return u(e,c,n?d+n:d,l,1)}},quickTo:function(e,r,n){var a,i=Xc.to(e,Vu((a={},a[r]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),o=function(c,u,d){return i.resetTo(r,c,u,d)};return o.tween=i,o},isTweening:function(e){return Ha.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Gx(e.ease,pb.ease)),$q(pb,e||{})},config:function(e){return $q(Mu,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,a=e.plugins,i=e.defaults,o=e.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!yu[l]&&!qu[l]&&sj(r+" effect requires "+l+" plugin.")}),FT[r]=function(l,c,u){return n(Ad(l),Vu(c||{},i),u)},o&&(uc.prototype[r]=function(l,c,u){return this.add(FT[r](l,zh(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,r){os[e]=Gx(r)},parseEase:function(e,r){return arguments.length?Gx(e,r):os},getById:function(e){return Ha.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new uc(e),a,i;for(n.smoothChildTiming=Wc(e.smoothChildTiming),Ha.remove(n),n._dp=0,n._time=n._tTime=Ha._time,a=Ha._first;a;)i=a._next,(r||!(!a._dur&&a instanceof Zi&&a.vars.onComplete===a._targets[0]))&&bh(n,a,a._start-a._delay),a=i;return bh(Ha,n,0),n},context:function(e,r){return e?new Xae(e,r):Ra},matchMedia:function(e){return new Ske(e)},matchMediaRefresh:function(){return Yx.forEach(function(e){var r=e.conditions,n,a;for(a in r)r[a]&&(r[a]=!1,n=1);n&&e.revert()})||mF()},addEventListener:function(e,r){var n=D5[e]||(D5[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=D5[e],a=n&&n.indexOf(r);a>=0&&n.splice(a,1)},utils:{wrap:nke,wrapYoyo:ske,distribute:Eae,random:Tae,snap:Pae,normalize:rke,getUnit:Il,clamp:ZSe,splitColor:Fae,toArray:Ad,selector:dF,mapRange:Dae,pipe:eke,unitize:tke,interpolate:ake,shuffle:Aae},install:gae,effects:FT,ticker:Au,updateRoot:uc.updateRoot,plugins:yu,globalTimeline:Ha,core:{PropTween:Gc,globals:xae,Tween:Zi,Timeline:uc,Animation:lj,getCache:Wx,_removeLinkedListItem:WA,reverting:function(){return ul},context:function(e){return e&&Ra&&(Ra.data.push(e),e._ctx=Ra),Ra},suppressOverwrites:function(e){return t7=e}}};Hc("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return y4[t]=Zi[t]});Au.add(uc.updateRoot);N1=y4.to({},{duration:0});var kke=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},Cke=function(e,r){var n=e._targets,a,i,o;for(a in r)for(i=n.length;i--;)o=e._ptLookup[i][a],o&&(o=o.d)&&(o._pt&&(o=kke(o,a)),o&&o.modifier&&o.modifier(r[a],e,n[i],a))},UT=function(e,r){return{name:e,headless:1,rawVars:1,init:function(a,i,o){o._onInit=function(l){var c,u;if(Ko(i)&&(c={},Hc(i,function(d){return c[d]=1}),i=c),r){c={};for(u in i)c[u]=r(i[u]);i=c}Cke(l,i)}}}},Xc=y4.registerPlugin({name:"attr",init:function(e,r,n,a,i){var o,l,c;this.tween=n;for(o in r)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",r[o],a,i,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)ul?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},UT("roundProps",fF),UT("modifiers"),UT("snap",Pae))||y4;Zi.version=uc.version=Xc.version="3.14.2";pae=1;n7()&&yb();os.Power0;os.Power1;os.Power2;os.Power3;os.Power4;os.Linear;os.Quad;os.Cubic;os.Quart;os.Quint;os.Strong;os.Elastic;os.Back;os.SteppedEase;os.Bounce;os.Sine;os.Expo;os.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Wq,S0,W1,p7,Dx,Hq,g7,Ake=function(){return typeof window<"u"},op={},gx=180/Math.PI,H1=Math.PI/180,My=Math.atan2,Gq=1e8,x7=/([A-Z])/g,Eke=/(left|right|width|margin|padding|x)/i,Pke=/[\s,\(]\S/,jh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},pF=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Tke=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Oke=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},Dke=function(e,r){return r.set(r.t,r.p,e===1?r.e:e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},Rke=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},Jae=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},Zae=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},Ike=function(e,r,n){return e.style[r]=n},Fke=function(e,r,n){return e.style.setProperty(r,n)},Mke=function(e,r,n){return e._gsap[r]=n},Lke=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},$ke=function(e,r,n,a,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},Bke=function(e,r,n,a,i){var o=e._gsap;o[r]=n,o.renderTransform(i,o)},Ga="transform",Yc=Ga+"Origin",Uke=function t(e,r){var n=this,a=this.target,i=a.style,o=a._gsap;if(e in op&&i){if(this.tfm=this.tfm||{},e!=="transform")e=jh[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=Lm(a,l)}):this.tfm[e]=o.x?o[e]:Lm(a,e),e===Yc&&(this.tfm.zOrigin=o.zOrigin);else return jh.transform.split(",").forEach(function(l){return t.call(n,l,r)});if(this.props.indexOf(Ga)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(Yc,r,"")),e=Ga}(i||r)&&this.props.push(e,r,i[e])},Qae=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},zke=function(){var e=this.props,r=this.target,n=r.style,a=r._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?r[e[i]](e[i+2]):r[e[i]]=e[i+2]:e[i+2]?n[e[i]]=e[i+2]:n.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(x7,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)a[o]=this.tfm[o];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),i=g7(),(!i||!i.isStart)&&!n[Ga]&&(Qae(n),a.zOrigin&&n[Yc]&&(n[Yc]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},eie=function(e,r){var n={target:e,props:[],revert:zke,save:Uke};return e._gsap||Xc.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(a){return n.save(a)}),n},tie,gF=function(e,r){var n=S0.createElementNS?S0.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):S0.createElement(e);return n&&n.style?n:S0.createElement(e)},Ru=function t(e,r,n){var a=getComputedStyle(e);return a[r]||a.getPropertyValue(r.replace(x7,"-$1").toLowerCase())||a.getPropertyValue(r)||!n&&t(e,bb(r)||r,1)||""},Yq="O,Moz,ms,Ms,Webkit".split(","),bb=function(e,r,n){var a=r||Dx,i=a.style,o=5;if(e in i&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Yq[o]+e in i););return o<0?null:(o===3?"ms":o>=0?Yq[o]:"")+e},xF=function(){Ake()&&window.document&&(Wq=window,S0=Wq.document,W1=S0.documentElement,Dx=gF("div")||{style:{}},gF("div"),Ga=bb(Ga),Yc=Ga+"Origin",Dx.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",tie=!!bb("perspective"),g7=Xc.core.reverting,p7=1)},Kq=function(e){var r=e.ownerSVGElement,n=gF("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),i;a.style.display="block",n.appendChild(a),W1.appendChild(n);try{i=a.getBBox()}catch{}return n.removeChild(a),W1.removeChild(n),i},Xq=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},rie=function(e){var r,n;try{r=e.getBBox()}catch{r=Kq(e),n=1}return r&&(r.width||r.height)||n||(r=Kq(e)),r&&!r.width&&!r.x&&!r.y?{x:+Xq(e,["x","cx","x1"])||0,y:+Xq(e,["y","cy","y1"])||0,width:0,height:0}:r},nie=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&rie(e))},eg=function(e,r){if(r){var n=e.style,a;r in op&&r!==Yc&&(r=Ga),n.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(a==="--"?r:r.replace(x7,"-$1").toLowerCase())):n.removeAttribute(r)}},k0=function(e,r,n,a,i,o){var l=new Gc(e._pt,r,n,0,1,o?Zae:Jae);return e._pt=l,l.b=a,l.e=i,e._props.push(n),l},Jq={deg:1,rad:1,turn:1},qke={grid:1,flex:1},tg=function t(e,r,n,a){var i=parseFloat(n)||0,o=(n+"").trim().substr((i+"").length)||"px",l=Dx.style,c=Eke.test(r),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,m=a==="px",h=a==="%",x,g,v,b;if(a===o||!i||Jq[a]||Jq[o])return i;if(o!=="px"&&!m&&(i=t(e,r,n,"px")),b=e.getCTM&&nie(e),(h||o==="%")&&(op[r]||~r.indexOf("adius")))return x=b?e.getBBox()[c?"width":"height"]:e[d],Ai(h?i/x*f:i/100*x);if(l[c?"width":"height"]=f+(m?o:a),g=a!=="rem"&&~r.indexOf("adius")||a==="em"&&e.appendChild&&!u?e:e.parentNode,b&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===S0||!g.appendChild)&&(g=S0.body),v=g._gsap,v&&h&&v.width&&c&&v.time===Au.time&&!v.uncache)return Ai(i/v.width*f);if(h&&(r==="height"||r==="width")){var _=e.style[r];e.style[r]=f+a,x=e[d],_?e.style[r]=_:eg(e,r)}else(h||o==="%")&&!qke[Ru(g,"display")]&&(l.position=Ru(e,"position")),g===e&&(l.position="static"),g.appendChild(Dx),x=Dx[d],g.removeChild(Dx),l.position="absolute";return c&&h&&(v=Wx(g),v.time=Au.time,v.width=g[d]),Ai(m?x*i/f:x&&i?f/x*i:0)},Lm=function(e,r,n,a){var i;return p7||xF(),r in jh&&r!=="transform"&&(r=jh[r],~r.indexOf(",")&&(r=r.split(",")[0])),op[r]&&r!=="transform"?(i=uj(e,a),i=r!=="transformOrigin"?i[r]:i.svg?i.origin:w4(Ru(e,Yc))+" "+i.zOrigin+"px"):(i=e.style[r],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=b4[r]&&b4[r](e,r,n)||Ru(e,r)||yae(e,r)||(r==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?tg(e,r,i,n)+n:i},Vke=function(e,r,n,a){if(!n||n==="none"){var i=bb(r,e,1),o=i&&Ru(e,i,1);o&&o!==n?(r=i,n=o):r==="borderColor"&&(n=Ru(e,"borderTopColor"))}var l=new Gc(this._pt,e.style,r,0,1,Yae),c=0,u=0,d,f,m,h,x,g,v,b,_,w,N,S;if(l.b=n,l.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=Ru(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(g=e.style[r],e.style[r]=a,a=Ru(e,r)||a,g?e.style[r]=g:eg(e,r)),d=[n,a],Lae(d),n=d[0],a=d[1],m=n.match(j1)||[],S=a.match(j1)||[],S.length){for(;f=j1.exec(a);)v=f[0],_=a.substring(c,f.index),x?x=(x+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(x=1),v!==(g=m[u++]||"")&&(h=parseFloat(g)||0,N=g.substr((h+"").length),v.charAt(1)==="="&&(v=V1(h,v)+N),b=parseFloat(v),w=v.substr((b+"").length),c=j1.lastIndex-w.length,w||(w=w||Mu.units[r]||N,c===a.length&&(a+=w,l.e+=w)),N!==w&&(h=tg(e,r,g,w)||0),l._pt={_next:l._pt,p:_||u===1?_:",",s:h,c:b-h,m:x&&x<4||r==="zIndex"?Math.round:0});l.c=c<a.length?a.substring(c,a.length):""}else l.r=r==="display"&&a==="none"?Zae:Jae;return mae.test(a)&&(l.e=0),this._pt=l,l},Zq={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Wke=function(e){var r=e.split(" "),n=r[0],a=r[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(e=n,n=a,a=e),r[0]=Zq[n]||n,r[1]=Zq[a]||a,r.join(" ")},Hke=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,a=n.style,i=r.u,o=n._gsap,l,c,u;if(i==="all"||i===!0)a.cssText="",c=1;else for(i=i.split(","),u=i.length;--u>-1;)l=i[u],op[l]&&(c=1,l=l==="transformOrigin"?Yc:Ga),eg(n,l);c&&(eg(n,Ga),o&&(o.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",uj(n,1),o.uncache=1,Qae(a)))}},b4={clearProps:function(e,r,n,a,i){if(i.data!=="isFromStart"){var o=e._pt=new Gc(e._pt,r,n,0,0,Hke);return o.u=a,o.pr=-10,o.tween=i,e._props.push(n),1}}},cj=[1,0,0,1,0,0],sie={},aie=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Qq=function(e){var r=Ru(e,Ga);return aie(r)?cj:r.substr(7).match(hae).map(Ai)},v7=function(e,r){var n=e._gsap||Wx(e),a=e.style,i=Qq(e),o,l,c,u;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?cj:i):(i===cj&&!e.offsetParent&&e!==W1&&!n.svg&&(c=a.display,a.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,l=e.nextElementSibling,W1.appendChild(e)),i=Qq(e),c?a.display=c:eg(e,"display"),u&&(l?o.insertBefore(e,l):o?o.appendChild(e):W1.removeChild(e))),r&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},vF=function(e,r,n,a,i,o){var l=e._gsap,c=i||v7(e,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,m=l.yOffset||0,h=c[0],x=c[1],g=c[2],v=c[3],b=c[4],_=c[5],w=r.split(" "),N=parseFloat(w[0])||0,S=parseFloat(w[1])||0,C,A,R,O;n?c!==cj&&(A=h*v-x*g)&&(R=N*(v/A)+S*(-g/A)+(g*_-v*b)/A,O=N*(-x/A)+S*(h/A)-(h*_-x*b)/A,N=R,S=O):(C=rie(e),N=C.x+(~w[0].indexOf("%")?N/100*C.width:N),S=C.y+(~(w[1]||w[0]).indexOf("%")?S/100*C.height:S)),a||a!==!1&&l.smooth?(b=N-u,_=S-d,l.xOffset=f+(b*h+_*g)-b,l.yOffset=m+(b*x+_*v)-_):l.xOffset=l.yOffset=0,l.xOrigin=N,l.yOrigin=S,l.smooth=!!a,l.origin=r,l.originIsAbsolute=!!n,e.style[Yc]="0px 0px",o&&(k0(o,l,"xOrigin",u,N),k0(o,l,"yOrigin",d,S),k0(o,l,"xOffset",f,l.xOffset),k0(o,l,"yOffset",m,l.yOffset)),e.setAttribute("data-svg-origin",N+" "+S)},uj=function(e,r){var n=e._gsap||new zae(e);if("x"in n&&!r&&!n.uncache)return n;var a=e.style,i=n.scaleX<0,o="px",l="deg",c=getComputedStyle(e),u=Ru(e,Yc)||"0",d,f,m,h,x,g,v,b,_,w,N,S,C,A,R,O,D,P,E,I,M,U,W,Y,J,z,q,V,L,X,K,Q;return d=f=m=g=v=b=_=w=N=0,h=x=1,n.svg=!!(e.getCTM&&nie(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[Ga]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ga]!=="none"?c[Ga]:"")),a.scale=a.rotate=a.translate="none"),A=v7(e,n.svg),n.svg&&(n.uncache?(J=e.getBBox(),u=n.xOrigin-J.x+"px "+(n.yOrigin-J.y)+"px",Y=""):Y=!r&&e.getAttribute("data-svg-origin"),vF(e,Y||u,!!Y||n.originIsAbsolute,n.smooth!==!1,A)),S=n.xOrigin||0,C=n.yOrigin||0,A!==cj&&(P=A[0],E=A[1],I=A[2],M=A[3],d=U=A[4],f=W=A[5],A.length===6?(h=Math.sqrt(P*P+E*E),x=Math.sqrt(M*M+I*I),g=P||E?My(E,P)*gx:0,_=I||M?My(I,M)*gx+g:0,_&&(x*=Math.abs(Math.cos(_*H1))),n.svg&&(d-=S-(S*P+C*I),f-=C-(S*E+C*M))):(Q=A[6],X=A[7],q=A[8],V=A[9],L=A[10],K=A[11],d=A[12],f=A[13],m=A[14],R=My(Q,L),v=R*gx,R&&(O=Math.cos(-R),D=Math.sin(-R),Y=U*O+q*D,J=W*O+V*D,z=Q*O+L*D,q=U*-D+q*O,V=W*-D+V*O,L=Q*-D+L*O,K=X*-D+K*O,U=Y,W=J,Q=z),R=My(-I,L),b=R*gx,R&&(O=Math.cos(-R),D=Math.sin(-R),Y=P*O-q*D,J=E*O-V*D,z=I*O-L*D,K=M*D+K*O,P=Y,E=J,I=z),R=My(E,P),g=R*gx,R&&(O=Math.cos(R),D=Math.sin(R),Y=P*O+E*D,J=U*O+W*D,E=E*O-P*D,W=W*O-U*D,P=Y,U=J),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,b=180-b),h=Ai(Math.sqrt(P*P+E*E+I*I)),x=Ai(Math.sqrt(W*W+Q*Q)),R=My(U,W),_=Math.abs(R)>2e-4?R*gx:0,N=K?1/(K<0?-K:K):0),n.svg&&(Y=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!aie(Ru(e,Ga)),Y&&e.setAttribute("transform",Y))),Math.abs(_)>90&&Math.abs(_)<270&&(i?(h*=-1,_+=g<=0?180:-180,g+=g<=0?180:-180):(x*=-1,_+=_<=0?180:-180)),r=r||n.uncache,n.x=d-((n.xPercent=d&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=m+o,n.scaleX=Ai(h),n.scaleY=Ai(x),n.rotation=Ai(g)+l,n.rotationX=Ai(v)+l,n.rotationY=Ai(b)+l,n.skewX=_+l,n.skewY=w+l,n.transformPerspective=N+o,(n.zOrigin=parseFloat(u.split(" ")[2])||!r&&n.zOrigin||0)&&(a[Yc]=w4(u)),n.xOffset=n.yOffset=0,n.force3D=Mu.force3D,n.renderTransform=n.svg?Yke:tie?iie:Gke,n.uncache=0,n},w4=function(e){return(e=e.split(" "))[0]+" "+e[1]},zT=function(e,r,n){var a=Il(r);return Ai(parseFloat(r)+parseFloat(tg(e,"x",n+"px",a)))+a},Gke=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,iie(e,r)},ox="0deg",p_="0px",lx=") ",iie=function(e,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.z,u=n.rotation,d=n.rotationY,f=n.rotationX,m=n.skewX,h=n.skewY,x=n.scaleX,g=n.scaleY,v=n.transformPerspective,b=n.force3D,_=n.target,w=n.zOrigin,N="",S=b==="auto"&&e&&e!==1||b===!0;if(w&&(f!==ox||d!==ox)){var C=parseFloat(d)*H1,A=Math.sin(C),R=Math.cos(C),O;C=parseFloat(f)*H1,O=Math.cos(C),o=zT(_,o,A*O*-w),l=zT(_,l,-Math.sin(C)*-w),c=zT(_,c,R*O*-w+w)}v!==p_&&(N+="perspective("+v+lx),(a||i)&&(N+="translate("+a+"%, "+i+"%) "),(S||o!==p_||l!==p_||c!==p_)&&(N+=c!==p_||S?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+lx),u!==ox&&(N+="rotate("+u+lx),d!==ox&&(N+="rotateY("+d+lx),f!==ox&&(N+="rotateX("+f+lx),(m!==ox||h!==ox)&&(N+="skew("+m+", "+h+lx),(x!==1||g!==1)&&(N+="scale("+x+", "+g+lx),_.style[Ga]=N||"translate(0, 0)"},Yke=function(e,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.rotation,u=n.skewX,d=n.skewY,f=n.scaleX,m=n.scaleY,h=n.target,x=n.xOrigin,g=n.yOrigin,v=n.xOffset,b=n.yOffset,_=n.forceCSS,w=parseFloat(o),N=parseFloat(l),S,C,A,R,O;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=H1,u*=H1,S=Math.cos(c)*f,C=Math.sin(c)*f,A=Math.sin(c-u)*-m,R=Math.cos(c-u)*m,u&&(d*=H1,O=Math.tan(u-d),O=Math.sqrt(1+O*O),A*=O,R*=O,d&&(O=Math.tan(d),O=Math.sqrt(1+O*O),S*=O,C*=O)),S=Ai(S),C=Ai(C),A=Ai(A),R=Ai(R)):(S=f,R=m,C=A=0),(w&&!~(o+"").indexOf("px")||N&&!~(l+"").indexOf("px"))&&(w=tg(h,"x",o,"px"),N=tg(h,"y",l,"px")),(x||g||v||b)&&(w=Ai(w+x-(x*S+g*A)+v),N=Ai(N+g-(x*C+g*R)+b)),(a||i)&&(O=h.getBBox(),w=Ai(w+a/100*O.width),N=Ai(N+i/100*O.height)),O="matrix("+S+","+C+","+A+","+R+","+w+","+N+")",h.setAttribute("transform",O),_&&(h.style[Ga]=O)},Kke=function(e,r,n,a,i){var o=360,l=Ko(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?gx:1),u=c-a,d=a+u+"deg",f,m;return l&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*Gq)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*Gq)%o-~~(u/o)*o)),e._pt=m=new Gc(e._pt,r,n,a,u,Tke),m.e=d,m.u="deg",e._props.push(n),m},eV=function(e,r){for(var n in r)e[n]=r[n];return e},Xke=function(e,r,n){var a=eV({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,c,u,d,f,m,h,x;a.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[Ga]=r,l=uj(n,1),eg(n,Ga),n.setAttribute("transform",u)):(u=getComputedStyle(n)[Ga],o[Ga]=r,l=uj(n,1),o[Ga]=u);for(c in op)u=a[c],d=l[c],u!==d&&i.indexOf(c)<0&&(h=Il(u),x=Il(d),f=h!==x?tg(n,c,u,x):parseFloat(u),m=parseFloat(d),e._pt=new Gc(e._pt,l,c,f,m-f,pF),e._pt.u=x||0,e._props.push(c));eV(l,a)};Hc("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",a="Bottom",i="Left",o=(e<3?[r,n,a,i]:[r+i,r+n,a+n,a+i]).map(function(l){return e<2?t+l:"border"+l+t});b4[e>1?"border"+t:t]=function(l,c,u,d,f){var m,h;if(arguments.length<4)return m=o.map(function(x){return Lm(l,x,u)}),h=m.join(" "),h.split(m[0]).length===5?m[0]:h;m=(d+"").split(" "),h={},o.forEach(function(x,g){return h[x]=m[g]=m[g]||m[(g-1)/2|0]}),l.init(c,h,f)}});var oie={name:"css",register:xF,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,a,i){var o=this._props,l=e.style,c=n.vars.startAt,u,d,f,m,h,x,g,v,b,_,w,N,S,C,A,R,O;p7||xF(),this.styles=this.styles||eie(e),R=this.styles.props,this.tween=n;for(g in r)if(g!=="autoRound"&&(d=r[g],!(yu[g]&&qae(g,r,n,a,e,i)))){if(h=typeof d,x=b4[g],h==="function"&&(d=d.call(n,a,e,i),h=typeof d),h==="string"&&~d.indexOf("random(")&&(d=ij(d)),x)x(this,e,g,d,n)&&(A=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(g)+"").trim(),d+="",L0.lastIndex=0,L0.test(u)||(v=Il(u),b=Il(d),b?v!==b&&(u=tg(e,g,u,b)+b):v&&(d+=v)),this.add(l,"setProperty",u,d,a,i,0,0,g),o.push(g),R.push(g,0,l[g]);else if(h!=="undefined"){if(c&&g in c?(u=typeof c[g]=="function"?c[g].call(n,a,e,i):c[g],Ko(u)&&~u.indexOf("random(")&&(u=ij(u)),Il(u+"")||u==="auto"||(u+=Mu.units[g]||Il(Lm(e,g))||""),(u+"").charAt(1)==="="&&(u=Lm(e,g))):u=Lm(e,g),m=parseFloat(u),_=h==="string"&&d.charAt(1)==="="&&d.substr(0,2),_&&(d=d.substr(2)),f=parseFloat(d),g in jh&&(g==="autoAlpha"&&(m===1&&Lm(e,"visibility")==="hidden"&&f&&(m=0),R.push("visibility",0,l.visibility),k0(this,l,"visibility",m?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=jh[g],~g.indexOf(",")&&(g=g.split(",")[0]))),w=g in op,w){if(this.styles.save(g),O=d,h==="string"&&d.substring(0,6)==="var(--"){if(d=Ru(e,d.substring(4,d.indexOf(")"))),d.substring(0,5)==="calc("){var D=e.style.perspective;e.style.perspective=d,d=Ru(e,"perspective"),D?e.style.perspective=D:eg(e,"perspective")}f=parseFloat(d)}if(N||(S=e._gsap,S.renderTransform&&!r.parseTransform||uj(e,r.parseTransform),C=r.smoothOrigin!==!1&&S.smooth,N=this._pt=new Gc(this._pt,l,Ga,0,1,S.renderTransform,S,0,-1),N.dep=1),g==="scale")this._pt=new Gc(this._pt,S,"scaleY",S.scaleY,(_?V1(S.scaleY,_+f):f)-S.scaleY||0,pF),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){R.push(Yc,0,l[Yc]),d=Wke(d),S.svg?vF(e,d,0,C,0,this):(b=parseFloat(d.split(" ")[2])||0,b!==S.zOrigin&&k0(this,S,"zOrigin",S.zOrigin,b),k0(this,l,g,w4(u),w4(d)));continue}else if(g==="svgOrigin"){vF(e,d,1,C,0,this);continue}else if(g in sie){Kke(this,S,g,m,_?V1(m,_+d):d);continue}else if(g==="smoothOrigin"){k0(this,S,"smooth",S.smooth,d);continue}else if(g==="force3D"){S[g]=d;continue}else if(g==="transform"){Xke(this,d,e);continue}}else g in l||(g=bb(g)||g);if(w||(f||f===0)&&(m||m===0)&&!Pke.test(d)&&g in l)v=(u+"").substr((m+"").length),f||(f=0),b=Il(d)||(g in Mu.units?Mu.units[g]:v),v!==b&&(m=tg(e,g,u,b)),this._pt=new Gc(this._pt,w?S:l,g,m,(_?V1(m,_+f):f)-m,!w&&(b==="px"||g==="zIndex")&&r.autoRound!==!1?Rke:pF),this._pt.u=b||0,w&&O!==d?(this._pt.b=u,this._pt.e=O,this._pt.r=Dke):v!==b&&b!=="%"&&(this._pt.b=u,this._pt.r=Oke);else if(g in l)Vke.call(this,e,g,u,_?_+d:d);else if(g in e)this.add(e,g,u||e[g],_?_+d:d,a,i);else if(g!=="parseTransform"){a7(g,d);continue}w||(g in l?R.push(g,0,l[g]):typeof e[g]=="function"?R.push(g,2,e[g]()):R.push(g,1,u||e[g])),o.push(g)}}A&&Kae(this)},render:function(e,r){if(r.tween._time||!g7())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:Lm,aliases:jh,getSetter:function(e,r,n){var a=jh[r];return a&&a.indexOf(",")<0&&(r=a),r in op&&r!==Yc&&(e._gsap.x||Lm(e,"x"))?n&&Hq===n?r==="scale"?Lke:Mke:(Hq=n||{})&&(r==="scale"?$ke:Bke):e.style&&!r7(e.style[r])?Ike:~r.indexOf("-")?Fke:h7(e,r)},core:{_removeProperty:eg,_getMatrix:v7}};Xc.utils.checkPrefix=bb;Xc.core.getStyleSaver=eie;(function(t,e,r,n){var a=Hc(t+","+e+","+r,function(i){op[i]=1});Hc(e,function(i){Mu.units[i]="deg",sie[i]=1}),jh[a[13]]=t+","+e,Hc(n,function(i){var o=i.split(":");jh[o[1]]=a[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Hc("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Mu.units[t]="px"});Xc.registerPlugin(oie);var na=Xc.registerPlugin(oie)||Xc;na.core.Tween;function Jke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zke(t,e,r){return e&&Jke(t.prototype,e),t}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var cl,R5,Eu,C0,A0,G1,lie,xx,u2,cie,qm,xf,uie,die=function(){return cl||typeof window<"u"&&(cl=window.gsap)&&cl.registerPlugin&&cl},fie=1,S1=[],Yn=[],Th=[],d2=Date.now,yF=function(e,r){return r},Qke=function(){var e=u2.core,r=e.bridge||{},n=e._scrollers,a=e._proxies;n.push.apply(n,Yn),a.push.apply(a,Th),Yn=n,Th=a,yF=function(o,l){return r[o](l)}},$0=function(e,r){return~Th.indexOf(e)&&Th[Th.indexOf(e)+1][r]},f2=function(e){return!!~cie.indexOf(e)},nc=function(e,r,n,a,i){return e.addEventListener(r,n,{passive:a!==!1,capture:!!i})},tc=function(e,r,n,a){return e.removeEventListener(r,n,!!a)},vk="scrollLeft",yk="scrollTop",bF=function(){return qm&&qm.isPressed||Yn.cache++},_4=function(e,r){var n=function a(i){if(i||i===0){fie&&(Eu.history.scrollRestoration="manual");var o=qm&&qm.isPressed;i=a.v=Math.round(i)||(qm&&qm.iOS?1:0),e(i),a.cacheID=Yn.cache,o&&yF("ss",i)}else(r||Yn.cache!==a.cacheID||yF("ref"))&&(a.cacheID=Yn.cache,a.v=e());return a.v+a.offset};return n.offset=0,e&&n},dc={s:vk,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_4(function(t){return arguments.length?Eu.scrollTo(t,xo.sc()):Eu.pageXOffset||C0[vk]||A0[vk]||G1[vk]||0})},xo={s:yk,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:dc,sc:_4(function(t){return arguments.length?Eu.scrollTo(dc.sc(),t):Eu.pageYOffset||C0[yk]||A0[yk]||G1[yk]||0})},Mc=function(e,r){return(r&&r._ctx&&r._ctx.selector||cl.utils.toArray)(e)[0]||(typeof e=="string"&&cl.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},e5e=function(e,r){for(var n=r.length;n--;)if(r[n]===e||r[n].contains(e))return!0;return!1},rg=function(e,r){var n=r.s,a=r.sc;f2(e)&&(e=C0.scrollingElement||A0);var i=Yn.indexOf(e),o=a===xo.sc?1:2;!~i&&(i=Yn.push(e)-1),Yn[i+o]||nc(e,"scroll",bF);var l=Yn[i+o],c=l||(Yn[i+o]=_4($0(e,n),!0)||(f2(e)?a:_4(function(u){return arguments.length?e[n]=u:e[n]})));return c.target=e,l||(c.smooth=cl.getProperty(e,"scrollBehavior")==="smooth"),c},wF=function(e,r,n){var a=e,i=e,o=d2(),l=o,c=r||50,u=Math.max(500,c*3),d=function(x,g){var v=d2();g||v-o>c?(i=a,a=x,l=o,o=v):n?a+=x:a=i+(x-i)/(v-l)*(o-l)},f=function(){i=a=n?0:a,l=o=0},m=function(x){var g=l,v=i,b=d2();return(x||x===0)&&x!==a&&d(x),o===l||b-l>u?0:(a+(n?v:-v))/((n?b:o)-g)*1e3};return{update:d,reset:f,getVelocity:m}},g_=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},tV=function(e){var r=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(n)?r:n},hie=function(){u2=cl.core.globals().ScrollTrigger,u2&&u2.core&&Qke()},mie=function(e){return cl=e||die(),!R5&&cl&&typeof document<"u"&&document.body&&(Eu=window,C0=document,A0=C0.documentElement,G1=C0.body,cie=[Eu,C0,A0,G1],cl.utils.clamp,uie=cl.core.context||function(){},xx="onpointerenter"in G1?"pointer":"mouse",lie=Di.isTouch=Eu.matchMedia&&Eu.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Eu||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,xf=Di.eventTypes=("ontouchstart"in A0?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in A0?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return fie=0},500),hie(),R5=1),R5};dc.op=xo;Yn.cache=0;var Di=(function(){function t(r){this.init(r)}var e=t.prototype;return e.init=function(n){R5||mie(cl)||console.warn("Please gsap.registerPlugin(Observer)"),u2||hie();var a=n.tolerance,i=n.dragMinimum,o=n.type,l=n.target,c=n.lineHeight,u=n.debounce,d=n.preventDefault,f=n.onStop,m=n.onStopDelay,h=n.ignore,x=n.wheelSpeed,g=n.event,v=n.onDragStart,b=n.onDragEnd,_=n.onDrag,w=n.onPress,N=n.onRelease,S=n.onRight,C=n.onLeft,A=n.onUp,R=n.onDown,O=n.onChangeX,D=n.onChangeY,P=n.onChange,E=n.onToggleX,I=n.onToggleY,M=n.onHover,U=n.onHoverEnd,W=n.onMove,Y=n.ignoreCheck,J=n.isNormalizer,z=n.onGestureStart,q=n.onGestureEnd,V=n.onWheel,L=n.onEnable,X=n.onDisable,K=n.onClick,Q=n.scrollSpeed,oe=n.capture,ce=n.allowClicks,de=n.lockAxis,ne=n.onLockAxis;this.target=l=Mc(l)||A0,this.vars=n,h&&(h=cl.utils.toArray(h)),a=a||1e-9,i=i||0,x=x||1,Q=Q||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(Eu.getComputedStyle(G1).lineHeight)||22);var ue,se,Z,Oe,re,le,We,xe=this,Le=0,ke=0,fe=n.passive||!d&&n.passive!==!1,ye=rg(l,dc),qe=rg(l,xo),Qe=ye(),ct=qe(),Ye=~o.indexOf("touch")&&!~o.indexOf("pointer")&&xf[0]==="pointerdown",me=f2(l),Se=l.ownerDocument||C0,_e=[0,0,0],Je=[0,0,0],tt=0,Ve=function(){return tt=d2()},Me=function(It,Ir){return(xe.event=It)&&h&&e5e(It.target,h)||Ir&&Ye&&It.pointerType!=="touch"||Y&&Y(It,Ir)},ht=function(){xe._vx.reset(),xe._vy.reset(),se.pause(),f&&f(xe)},Ce=function(){var It=xe.deltaX=tV(_e),Ir=xe.deltaY=tV(Je),Jt=Math.abs(It)>=a,gr=Math.abs(Ir)>=a;P&&(Jt||gr)&&P(xe,It,Ir,_e,Je),Jt&&(S&&xe.deltaX>0&&S(xe),C&&xe.deltaX<0&&C(xe),O&&O(xe),E&&xe.deltaX<0!=Le<0&&E(xe),Le=xe.deltaX,_e[0]=_e[1]=_e[2]=0),gr&&(R&&xe.deltaY>0&&R(xe),A&&xe.deltaY<0&&A(xe),D&&D(xe),I&&xe.deltaY<0!=ke<0&&I(xe),ke=xe.deltaY,Je[0]=Je[1]=Je[2]=0),(Oe||Z)&&(W&&W(xe),Z&&(v&&Z===1&&v(xe),_&&_(xe),Z=0),Oe=!1),le&&!(le=!1)&&ne&&ne(xe),re&&(V(xe),re=!1),ue=0},st=function(It,Ir,Jt){_e[Jt]+=It,Je[Jt]+=Ir,xe._vx.update(It),xe._vy.update(Ir),u?ue||(ue=requestAnimationFrame(Ce)):Ce()},Ue=function(It,Ir){de&&!We&&(xe.axis=We=Math.abs(It)>Math.abs(Ir)?"x":"y",le=!0),We!=="y"&&(_e[2]+=It,xe._vx.update(It,!0)),We!=="x"&&(Je[2]+=Ir,xe._vy.update(Ir,!0)),u?ue||(ue=requestAnimationFrame(Ce)):Ce()},Ke=function(It){if(!Me(It,1)){It=g_(It,d);var Ir=It.clientX,Jt=It.clientY,gr=Ir-xe.x,mr=Jt-xe.y,vr=xe.isDragging;xe.x=Ir,xe.y=Jt,(vr||(gr||mr)&&(Math.abs(xe.startX-Ir)>=i||Math.abs(xe.startY-Jt)>=i))&&(Z||(Z=vr?2:1),vr||(xe.isDragging=!0),Ue(gr,mr))}},at=xe.onPress=function(or){Me(or,1)||or&&or.button||(xe.axis=We=null,se.pause(),xe.isPressed=!0,or=g_(or),Le=ke=0,xe.startX=xe.x=or.clientX,xe.startY=xe.y=or.clientY,xe._vx.reset(),xe._vy.reset(),nc(J?l:Se,xf[1],Ke,fe,!0),xe.deltaX=xe.deltaY=0,w&&w(xe))},St=xe.onRelease=function(or){if(!Me(or,1)){tc(J?l:Se,xf[1],Ke,!0);var It=!isNaN(xe.y-xe.startY),Ir=xe.isDragging,Jt=Ir&&(Math.abs(xe.x-xe.startX)>3||Math.abs(xe.y-xe.startY)>3),gr=g_(or);!Jt&&It&&(xe._vx.reset(),xe._vy.reset(),d&&ce&&cl.delayedCall(.08,function(){if(d2()-tt>300&&!or.defaultPrevented){if(or.target.click)or.target.click();else if(Se.createEvent){var mr=Se.createEvent("MouseEvents");mr.initMouseEvent("click",!0,!0,Eu,1,gr.screenX,gr.screenY,gr.clientX,gr.clientY,!1,!1,!1,!1,0,null),or.target.dispatchEvent(mr)}}})),xe.isDragging=xe.isGesturing=xe.isPressed=!1,f&&Ir&&!J&&se.restart(!0),Z&&Ce(),b&&Ir&&b(xe),N&&N(xe,Jt)}},qt=function(It){return It.touches&&It.touches.length>1&&(xe.isGesturing=!0)&&z(It,xe.isDragging)},Ut=function(){return(xe.isGesturing=!1)||q(xe)},Qt=function(It){if(!Me(It)){var Ir=ye(),Jt=qe();st((Ir-Qe)*Q,(Jt-ct)*Q,1),Qe=Ir,ct=Jt,f&&se.restart(!0)}},Vt=function(It){if(!Me(It)){It=g_(It,d),V&&(re=!0);var Ir=(It.deltaMode===1?c:It.deltaMode===2?Eu.innerHeight:1)*x;st(It.deltaX*Ir,It.deltaY*Ir,0),f&&!J&&se.restart(!0)}},wr=function(It){if(!Me(It)){var Ir=It.clientX,Jt=It.clientY,gr=Ir-xe.x,mr=Jt-xe.y;xe.x=Ir,xe.y=Jt,Oe=!0,f&&se.restart(!0),(gr||mr)&&Ue(gr,mr)}},dr=function(It){xe.event=It,M(xe)},br=function(It){xe.event=It,U(xe)},Cr=function(It){return Me(It)||g_(It,d)&&K(xe)};se=xe._dc=cl.delayedCall(m||.25,ht).pause(),xe.deltaX=xe.deltaY=0,xe._vx=wF(0,50,!0),xe._vy=wF(0,50,!0),xe.scrollX=ye,xe.scrollY=qe,xe.isDragging=xe.isGesturing=xe.isPressed=!1,uie(this),xe.enable=function(or){return xe.isEnabled||(nc(me?Se:l,"scroll",bF),o.indexOf("scroll")>=0&&nc(me?Se:l,"scroll",Qt,fe,oe),o.indexOf("wheel")>=0&&nc(l,"wheel",Vt,fe,oe),(o.indexOf("touch")>=0&&lie||o.indexOf("pointer")>=0)&&(nc(l,xf[0],at,fe,oe),nc(Se,xf[2],St),nc(Se,xf[3],St),ce&&nc(l,"click",Ve,!0,!0),K&&nc(l,"click",Cr),z&&nc(Se,"gesturestart",qt),q&&nc(Se,"gestureend",Ut),M&&nc(l,xx+"enter",dr),U&&nc(l,xx+"leave",br),W&&nc(l,xx+"move",wr)),xe.isEnabled=!0,xe.isDragging=xe.isGesturing=xe.isPressed=Oe=Z=!1,xe._vx.reset(),xe._vy.reset(),Qe=ye(),ct=qe(),or&&or.type&&at(or),L&&L(xe)),xe},xe.disable=function(){xe.isEnabled&&(S1.filter(function(or){return or!==xe&&f2(or.target)}).length||tc(me?Se:l,"scroll",bF),xe.isPressed&&(xe._vx.reset(),xe._vy.reset(),tc(J?l:Se,xf[1],Ke,!0)),tc(me?Se:l,"scroll",Qt,oe),tc(l,"wheel",Vt,oe),tc(l,xf[0],at,oe),tc(Se,xf[2],St),tc(Se,xf[3],St),tc(l,"click",Ve,!0),tc(l,"click",Cr),tc(Se,"gesturestart",qt),tc(Se,"gestureend",Ut),tc(l,xx+"enter",dr),tc(l,xx+"leave",br),tc(l,xx+"move",wr),xe.isEnabled=xe.isPressed=xe.isDragging=!1,X&&X(xe))},xe.kill=xe.revert=function(){xe.disable();var or=S1.indexOf(xe);or>=0&&S1.splice(or,1),qm===xe&&(qm=0)},S1.push(xe),J&&f2(l)&&(qm=xe),xe.enable(g)},Zke(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t})();Di.version="3.14.2";Di.create=function(t){return new Di(t)};Di.register=mie;Di.getAll=function(){return S1.slice()};Di.getById=function(t){return S1.filter(function(e){return e.vars.id===t})[0]};die()&&cl.registerPlugin(Di);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Or,f1,Wn,da,_u,Os,y7,j4,dj,h2,z_,bk,Al,YA,_F,ac,rV,nV,h1,pie,qT,gie,sc,jF,xie,vie,h0,NF,b7,Y1,w7,m2,SF,VT,wk=1,Pl=Date.now,WT=Pl(),Dd=0,q_=0,sV=function(e,r,n){var a=xu(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+r+"Clamp"]=a,a?e.substr(6,e.length-7):e},aV=function(e,r){return r&&(!xu(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},t5e=function t(){return q_&&requestAnimationFrame(t)},iV=function(){return YA=1},oV=function(){return YA=0},yh=function(e){return e},V_=function(e){return Math.round(e*1e5)/1e5||0},yie=function(){return typeof window<"u"},bie=function(){return Or||yie()&&(Or=window.gsap)&&Or.registerPlugin&&Or},dv=function(e){return!!~y7.indexOf(e)},wie=function(e){return(e==="Height"?w7:Wn["inner"+e])||_u["client"+e]||Os["client"+e]},_ie=function(e){return $0(e,"getBoundingClientRect")||(dv(e)?function(){return $5.width=Wn.innerWidth,$5.height=w7,$5}:function(){return Bm(e)})},r5e=function(e,r,n){var a=n.d,i=n.d2,o=n.a;return(o=$0(e,"getBoundingClientRect"))?function(){return o()[a]}:function(){return(r?wie(i):e["client"+i])||0}},n5e=function(e,r){return!r||~Th.indexOf(e)?_ie(e):function(){return $5}},Nh=function(e,r){var n=r.s,a=r.d2,i=r.d,o=r.a;return Math.max(0,(n="scroll"+a)&&(o=$0(e,n))?o()-_ie(e)()[i]:dv(e)?(_u[n]||Os[n])-wie(a):e[n]-e["offset"+a])},_k=function(e,r){for(var n=0;n<h1.length;n+=3)(!r||~r.indexOf(h1[n+1]))&&e(h1[n],h1[n+1],h1[n+2])},xu=function(e){return typeof e=="string"},Fl=function(e){return typeof e=="function"},W_=function(e){return typeof e=="number"},vx=function(e){return typeof e=="object"},x_=function(e,r,n){return e&&e.progress(r?0:1)&&n&&e.pause()},HT=function(e,r){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return r(e)}):r(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Ly=Math.abs,jie="left",Nie="top",_7="right",j7="bottom",Kx="width",Xx="height",p2="Right",g2="Left",x2="Top",v2="Bottom",Yi="padding",Nd="margin",wb="Width",N7="Height",go="px",Sd=function(e){return Wn.getComputedStyle(e)},s5e=function(e){var r=Sd(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},lV=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},Bm=function(e,r){var n=r&&Sd(e)[_F]!=="matrix(1, 0, 0, 1, 0, 0)"&&Or.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=e.getBoundingClientRect();return n&&n.progress(0).kill(),a},N4=function(e,r){var n=r.d2;return e["offset"+n]||e["client"+n]||0},Sie=function(e){var r=[],n=e.labels,a=e.duration(),i;for(i in n)r.push(n[i]/a);return r},a5e=function(e){return function(r){return Or.utils.snap(Sie(e),r)}},S7=function(e){var r=Or.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(a,i){return a-i});return n?function(a,i,o){o===void 0&&(o=.001);var l;if(!i)return r(a);if(i>0){for(a-=o,l=0;l<n.length;l++)if(n[l]>=a)return n[l];return n[l-1]}else for(l=n.length,a+=o;l--;)if(n[l]<=a)return n[l];return n[0]}:function(a,i,o){o===void 0&&(o=.001);var l=r(a);return!i||Math.abs(l-a)<o||l-a<0==i<0?l:r(i<0?a-e:a+e)}},i5e=function(e){return function(r,n){return S7(Sie(e))(r,n.direction)}},jk=function(e,r,n,a){return n.split(",").forEach(function(i){return e(r,i,a)})},Lo=function(e,r,n,a,i){return e.addEventListener(r,n,{passive:!a,capture:!!i})},Mo=function(e,r,n,a){return e.removeEventListener(r,n,!!a)},Nk=function(e,r,n){n=n&&n.wheelHandler,n&&(e(r,"wheel",n),e(r,"touchmove",n))},cV={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Sk={toggleActions:"play",anticipatePin:0},S4={top:0,left:0,center:.5,bottom:1,right:1},I5=function(e,r){if(xu(e)){var n=e.indexOf("="),a=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(a*=r/100),e=e.substr(0,n-1)),e=a+(e in S4?S4[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},kk=function(e,r,n,a,i,o,l,c){var u=i.startColor,d=i.endColor,f=i.fontSize,m=i.indent,h=i.fontWeight,x=da.createElement("div"),g=dv(n)||$0(n,"pinType")==="fixed",v=e.indexOf("scroller")!==-1,b=g?Os:n,_=e.indexOf("start")!==-1,w=_?u:d,N="border-color:"+w+";font-size:"+f+";color:"+w+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((v||c)&&g?"fixed;":"absolute;"),(v||c||!g)&&(N+=(a===xo?_7:j7)+":"+(o+parseFloat(m))+"px;"),l&&(N+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),x._isStart=_,x.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),x.style.cssText=N,x.innerText=r||r===0?e+"-"+r:e,b.children[0]?b.insertBefore(x,b.children[0]):b.appendChild(x),x._offset=x["offset"+a.op.d2],F5(x,0,a,_),x},F5=function(e,r,n,a){var i={display:"block"},o=n[a?"os2":"p2"],l=n[a?"p2":"os2"];e._isFlipped=a,i[n.a+"Percent"]=a?-100:0,i[n.a]=a?"1px":0,i["border"+o+wb]=1,i["border"+l+wb]=0,i[n.p]=r+"px",Or.set(e,i)},Ln=[],kF={},fj,uV=function(){return Pl()-Dd>34&&(fj||(fj=requestAnimationFrame(Zm)))},$y=function(){(!sc||!sc.isPressed||sc.startX>Os.clientWidth)&&(Yn.cache++,sc?fj||(fj=requestAnimationFrame(Zm)):Zm(),Dd||hv("scrollStart"),Dd=Pl())},GT=function(){vie=Wn.innerWidth,xie=Wn.innerHeight},H_=function(e){Yn.cache++,(e===!0||!Al&&!gie&&!da.fullscreenElement&&!da.webkitFullscreenElement&&(!jF||vie!==Wn.innerWidth||Math.abs(Wn.innerHeight-xie)>Wn.innerHeight*.25))&&j4.restart(!0)},fv={},o5e=[],kie=function t(){return Mo(Tn,"scrollEnd",t)||Rx(!0)},hv=function(e){return fv[e]&&fv[e].map(function(r){return r()})||o5e},gu=[],Cie=function(e){for(var r=0;r<gu.length;r+=5)(!e||gu[r+4]&&gu[r+4].query===e)&&(gu[r].style.cssText=gu[r+1],gu[r].getBBox&&gu[r].setAttribute("transform",gu[r+2]||""),gu[r+3].uncache=1)},Aie=function(){return Yn.forEach(function(e){return Fl(e)&&++e.cacheID&&(e.rec=e())})},k7=function(e,r){var n;for(ac=0;ac<Ln.length;ac++)n=Ln[ac],n&&(!r||n._ctx===r)&&(e?n.kill(1):n.revert(!0,!0));m2=!0,r&&Cie(r),r||hv("revert")},Eie=function(e,r){Yn.cache++,(r||!ic)&&Yn.forEach(function(n){return Fl(n)&&n.cacheID++&&(n.rec=0)}),xu(e)&&(Wn.history.scrollRestoration=b7=e)},ic,Jx=0,dV,l5e=function(){if(dV!==Jx){var e=dV=Jx;requestAnimationFrame(function(){return e===Jx&&Rx(!0)})}},Pie=function(){Os.appendChild(Y1),w7=!sc&&Y1.offsetHeight||Wn.innerHeight,Os.removeChild(Y1)},fV=function(e){return dj(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},Rx=function(e,r){if(_u=da.documentElement,Os=da.body,y7=[Wn,da,_u,Os],Dd&&!e&&!m2){Lo(Tn,"scrollEnd",kie);return}Pie(),ic=Tn.isRefreshing=!0,m2||Aie();var n=hv("refreshInit");pie&&Tn.sort(),r||k7(),Yn.forEach(function(a){Fl(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),Ln.slice(0).forEach(function(a){return a.refresh()}),m2=!1,Ln.forEach(function(a){if(a._subPinOffset&&a.pin){var i=a.vars.horizontal?"offsetWidth":"offsetHeight",o=a.pin[i];a.revert(!0,1),a.adjustPinSpacing(a.pin[i]-o),a.refresh()}}),SF=1,fV(!0),Ln.forEach(function(a){var i=Nh(a.scroller,a._dir),o=a.vars.end==="max"||a._endClamp&&a.end>i,l=a._startClamp&&a.start>=i;(o||l)&&a.setPositions(l?i-1:a.start,o?Math.max(l?i:a.start+1,i):a.end,!0)}),fV(!1),SF=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),Yn.forEach(function(a){Fl(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),Eie(b7,1),j4.pause(),Jx++,ic=2,Zm(2),Ln.forEach(function(a){return Fl(a.vars.onRefresh)&&a.vars.onRefresh(a)}),ic=Tn.isRefreshing=!1,hv("refresh")},CF=0,M5=1,y2,Zm=function(e){if(e===2||!ic&&!m2){Tn.isUpdating=!0,y2&&y2.update(0);var r=Ln.length,n=Pl(),a=n-WT>=50,i=r&&Ln[0].scroll();if(M5=CF>i?-1:1,ic||(CF=i),a&&(Dd&&!YA&&n-Dd>200&&(Dd=0,hv("scrollEnd")),z_=WT,WT=n),M5<0){for(ac=r;ac-- >0;)Ln[ac]&&Ln[ac].update(0,a);M5=1}else for(ac=0;ac<r;ac++)Ln[ac]&&Ln[ac].update(0,a);Tn.isUpdating=!1}fj=0},AF=[jie,Nie,j7,_7,Nd+v2,Nd+p2,Nd+x2,Nd+g2,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],L5=AF.concat([Kx,Xx,"boxSizing","max"+wb,"max"+N7,"position",Nd,Yi,Yi+x2,Yi+p2,Yi+v2,Yi+g2]),c5e=function(e,r,n){K1(n);var a=e._gsap;if(a.spacerIsNative)K1(a.spacerState);else if(e._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(e,r),i.removeChild(r))}e._gsap.swappedIn=!1},YT=function(e,r,n,a){if(!e._gsap.swappedIn){for(var i=AF.length,o=r.style,l=e.style,c;i--;)c=AF[i],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),l[j7]=l[_7]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Kx]=N4(e,dc)+go,o[Xx]=N4(e,xo)+go,o[Yi]=l[Nd]=l[Nie]=l[jie]="0",K1(a),l[Kx]=l["max"+wb]=n[Kx],l[Xx]=l["max"+N7]=n[Xx],l[Yi]=n[Yi],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},u5e=/([A-Z])/g,K1=function(e){if(e){var r=e.t.style,n=e.length,a=0,i,o;for((e.t._gsap||Or.core.getCache(e.t)).uncache=1;a<n;a+=2)o=e[a+1],i=e[a],o?r[i]=o:r[i]&&r.removeProperty(i.replace(u5e,"-$1").toLowerCase())}},Ck=function(e){for(var r=L5.length,n=e.style,a=[],i=0;i<r;i++)a.push(L5[i],n[L5[i]]);return a.t=e,a},d5e=function(e,r,n){for(var a=[],i=e.length,o=n?8:0,l;o<i;o+=2)l=e[o],a.push(l,l in r?r[l]:e[o+1]);return a.t=e.t,a},$5={left:0,top:0},hV=function(e,r,n,a,i,o,l,c,u,d,f,m,h,x){Fl(e)&&(e=e(c)),xu(e)&&e.substr(0,3)==="max"&&(e=m+(e.charAt(4)==="="?I5("0"+e.substr(3),n):0));var g=h?h.time():0,v,b,_;if(h&&h.seek(0),isNaN(e)||(e=+e),W_(e))h&&(e=Or.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,m,e)),l&&F5(l,n,a,!0);else{Fl(r)&&(r=r(c));var w=(e||"0").split(" "),N,S,C,A;_=Mc(r,c)||Os,N=Bm(_)||{},(!N||!N.left&&!N.top)&&Sd(_).display==="none"&&(A=_.style.display,_.style.display="block",N=Bm(_),A?_.style.display=A:_.style.removeProperty("display")),S=I5(w[0],N[a.d]),C=I5(w[1]||"0",n),e=N[a.p]-u[a.p]-d+S+i-C,l&&F5(l,C,a,n-C<20||l._isStart&&C>20),n-=n-C}if(x&&(c[x]=e||-.001,e<0&&(e=0)),o){var R=e+n,O=o._isStart;v="scroll"+a.d2,F5(o,R,a,O&&R>20||!O&&(f?Math.max(Os[v],_u[v]):o.parentNode[v])<=R+1),f&&(u=Bm(l),f&&(o.style[a.op.p]=u[a.op.p]-a.op.m-o._offset+go))}return h&&_&&(v=Bm(_),h.seek(m),b=Bm(_),h._caScrollDist=v[a.p]-b[a.p],e=e/h._caScrollDist*m),h&&h.seek(g),h?e:Math.round(e)},f5e=/(webkit|moz|length|cssText|inset)/i,mV=function(e,r,n,a){if(e.parentNode!==r){var i=e.style,o,l;if(r===Os){e._stOrig=i.cssText,l=Sd(e);for(o in l)!+o&&!f5e.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=n,i.left=a}else i.cssText=e._stOrig;Or.core.getCache(e).uncache=1,r.appendChild(e)}},Tie=function(e,r,n){var a=r,i=a;return function(o){var l=Math.round(e());return l!==a&&l!==i&&Math.abs(l-a)>3&&Math.abs(l-i)>3&&(o=l,n&&n()),i=a,a=Math.round(o),a}},Ak=function(e,r,n){var a={};a[r.p]="+="+n,Or.set(e,a)},pV=function(e,r){var n=rg(e,r),a="_scroll"+r.p2,i=function o(l,c,u,d,f){var m=o.tween,h=c.onComplete,x={};u=u||n();var g=Tie(n,u,function(){m.kill(),o.tween=0});return f=d&&f||0,d=d||l-u,m&&m.kill(),c[a]=l,c.inherit=!1,c.modifiers=x,x[a]=function(){return g(u+d*m.ratio+f*m.ratio*m.ratio)},c.onUpdate=function(){Yn.cache++,o.tween&&Zm()},c.onComplete=function(){o.tween=0,h&&h.call(m)},m=o.tween=Or.to(e,c),m};return e[a]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Lo(e,"wheel",n.wheelHandler),Tn.isTouch&&Lo(e,"touchmove",n.wheelHandler),i},Tn=(function(){function t(r,n){f1||t.register(Or)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),NF(this),this.init(r,n)}var e=t.prototype;return e.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!q_){this.update=this.refresh=this.kill=yh;return}n=lV(xu(n)||W_(n)||n.nodeType?{trigger:n}:n,Sk);var i=n,o=i.onUpdate,l=i.toggleClass,c=i.id,u=i.onToggle,d=i.onRefresh,f=i.scrub,m=i.trigger,h=i.pin,x=i.pinSpacing,g=i.invalidateOnRefresh,v=i.anticipatePin,b=i.onScrubComplete,_=i.onSnapComplete,w=i.once,N=i.snap,S=i.pinReparent,C=i.pinSpacer,A=i.containerAnimation,R=i.fastScrollEnd,O=i.preventOverlaps,D=n.horizontal||n.containerAnimation&&n.horizontal!==!1?dc:xo,P=!f&&f!==0,E=Mc(n.scroller||Wn),I=Or.core.getCache(E),M=dv(E),U=("pinType"in n?n.pinType:$0(E,"pinType")||M&&"fixed")==="fixed",W=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],Y=P&&n.toggleActions.split(" "),J="markers"in n?n.markers:Sk.markers,z=M?0:parseFloat(Sd(E)["border"+D.p2+wb])||0,q=this,V=n.onRefreshInit&&function(){return n.onRefreshInit(q)},L=r5e(E,M,D),X=n5e(E,M),K=0,Q=0,oe=0,ce=rg(E,D),de,ne,ue,se,Z,Oe,re,le,We,xe,Le,ke,fe,ye,qe,Qe,ct,Ye,me,Se,_e,Je,tt,Ve,Me,ht,Ce,st,Ue,Ke,at,St,qt,Ut,Qt,Vt,wr,dr,br;if(q._startClamp=q._endClamp=!1,q._dir=D,v*=45,q.scroller=E,q.scroll=A?A.time.bind(A):ce,se=ce(),q.vars=n,a=a||n.animation,"refreshPriority"in n&&(pie=1,n.refreshPriority===-9999&&(y2=q)),I.tweenScroll=I.tweenScroll||{top:pV(E,xo),left:pV(E,dc)},q.tweenTo=de=I.tweenScroll[D.p],q.scrubDuration=function(Jt){qt=W_(Jt)&&Jt,qt?St?St.duration(Jt):St=Or.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:qt,paused:!0,onComplete:function(){return b&&b(q)}}):(St&&St.progress(1).kill(),St=0)},a&&(a.vars.lazy=!1,a._initted&&!q.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),q.animation=a.pause(),a.scrollTrigger=q,q.scrubDuration(f),Ke=0,c||(c=a.vars.id)),N&&((!vx(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in Os.style&&Or.set(M?[Os,_u]:E,{scrollBehavior:"auto"}),Yn.forEach(function(Jt){return Fl(Jt)&&Jt.target===(M?da.scrollingElement||_u:E)&&(Jt.smooth=!1)}),ue=Fl(N.snapTo)?N.snapTo:N.snapTo==="labels"?a5e(a):N.snapTo==="labelsDirectional"?i5e(a):N.directional!==!1?function(Jt,gr){return S7(N.snapTo)(Jt,Pl()-Q<500?0:gr.direction)}:Or.utils.snap(N.snapTo),Ut=N.duration||{min:.1,max:2},Ut=vx(Ut)?h2(Ut.min,Ut.max):h2(Ut,Ut),Qt=Or.delayedCall(N.delay||qt/2||.1,function(){var Jt=ce(),gr=Pl()-Q<500,mr=de.tween;if((gr||Math.abs(q.getVelocity())<10)&&!mr&&!YA&&K!==Jt){var vr=(Jt-Oe)/ye,bn=a&&!P?a.totalProgress():vr,he=gr?0:(bn-at)/(Pl()-z_)*1e3||0,Re=Or.utils.clamp(-vr,1-vr,Ly(he/2)*he/.185),Ee=vr+(N.inertia===!1?0:Re),Pe,Ie,De=N,ft=De.onStart,wt=De.onInterrupt,mt=De.onComplete;if(Pe=ue(Ee,q),W_(Pe)||(Pe=Ee),Ie=Math.max(0,Math.round(Oe+Pe*ye)),Jt<=re&&Jt>=Oe&&Ie!==Jt){if(mr&&!mr._initted&&mr.data<=Ly(Ie-Jt))return;N.inertia===!1&&(Re=Pe-vr),de(Ie,{duration:Ut(Ly(Math.max(Ly(Ee-bn),Ly(Pe-bn))*.185/he/.05||0)),ease:N.ease||"power3",data:Ly(Ie-Jt),onInterrupt:function(){return Qt.restart(!0)&&wt&&wt(q)},onComplete:function(){q.update(),K=ce(),a&&!P&&(St?St.resetTo("totalProgress",Pe,a._tTime/a._tDur):a.progress(Pe)),Ke=at=a&&!P?a.totalProgress():q.progress,_&&_(q),mt&&mt(q)}},Jt,Re*ye,Ie-Jt-Re*ye),ft&&ft(q,de.tween)}}else q.isActive&&K!==Jt&&Qt.restart(!0)}).pause()),c&&(kF[c]=q),m=q.trigger=Mc(m||h!==!0&&h),br=m&&m._gsap&&m._gsap.stRevert,br&&(br=br(q)),h=h===!0?m:Mc(h),xu(l)&&(l={targets:m,className:l}),h&&(x===!1||x===Nd||(x=!x&&h.parentNode&&h.parentNode.style&&Sd(h.parentNode).display==="flex"?!1:Yi),q.pin=h,ne=Or.core.getCache(h),ne.spacer?qe=ne.pinState:(C&&(C=Mc(C),C&&!C.nodeType&&(C=C.current||C.nativeElement),ne.spacerIsNative=!!C,C&&(ne.spacerState=Ck(C))),ne.spacer=Ye=C||da.createElement("div"),Ye.classList.add("pin-spacer"),c&&Ye.classList.add("pin-spacer-"+c),ne.pinState=qe=Ck(h)),n.force3D!==!1&&Or.set(h,{force3D:!0}),q.spacer=Ye=ne.spacer,Ue=Sd(h),Ve=Ue[x+D.os2],Se=Or.getProperty(h),_e=Or.quickSetter(h,D.a,go),YT(h,Ye,Ue),ct=Ck(h)),J){ke=vx(J)?lV(J,cV):cV,xe=kk("scroller-start",c,E,D,ke,0),Le=kk("scroller-end",c,E,D,ke,0,xe),me=xe["offset"+D.op.d2];var Cr=Mc($0(E,"content")||E);le=this.markerStart=kk("start",c,Cr,D,ke,me,0,A),We=this.markerEnd=kk("end",c,Cr,D,ke,me,0,A),A&&(dr=Or.quickSetter([le,We],D.a,go)),!U&&!(Th.length&&$0(E,"fixedMarkers")===!0)&&(s5e(M?Os:E),Or.set([xe,Le],{force3D:!0}),ht=Or.quickSetter(xe,D.a,go),st=Or.quickSetter(Le,D.a,go))}if(A){var or=A.vars.onUpdate,It=A.vars.onUpdateParams;A.eventCallback("onUpdate",function(){q.update(0,0,1),or&&or.apply(A,It||[])})}if(q.previous=function(){return Ln[Ln.indexOf(q)-1]},q.next=function(){return Ln[Ln.indexOf(q)+1]},q.revert=function(Jt,gr){if(!gr)return q.kill(!0);var mr=Jt!==!1||!q.enabled,vr=Al;mr!==q.isReverted&&(mr&&(Vt=Math.max(ce(),q.scroll.rec||0),oe=q.progress,wr=a&&a.progress()),le&&[le,We,xe,Le].forEach(function(bn){return bn.style.display=mr?"none":"block"}),mr&&(Al=q,q.update(mr)),h&&(!S||!q.isActive)&&(mr?c5e(h,Ye,qe):YT(h,Ye,Sd(h),Me)),mr||q.update(mr),Al=vr,q.isReverted=mr)},q.refresh=function(Jt,gr,mr,vr){if(!((Al||!q.enabled)&&!gr)){if(h&&Jt&&Dd){Lo(t,"scrollEnd",kie);return}!ic&&V&&V(q),Al=q,de.tween&&!mr&&(de.tween.kill(),de.tween=0),St&&St.pause(),g&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren?a.getChildren(!0,!0,!1).forEach(function(io){return io.vars.immediateRender&&io.render(0,!0,!0)}):a.vars.immediateRender&&a.render(0,!0,!0)),q.isReverted||q.revert(!0,!0),q._subPinOffset=!1;var bn=L(),he=X(),Re=A?A.duration():Nh(E,D),Ee=ye<=.01||!ye,Pe=0,Ie=vr||0,De=vx(mr)?mr.end:n.end,ft=n.endTrigger||m,wt=vx(mr)?mr.start:n.start||(n.start===0||!m?0:h?"0 0":"0 100%"),mt=q.pinnedContainer=n.pinnedContainer&&Mc(n.pinnedContainer,q),pt=m&&Math.max(0,Ln.indexOf(q))||0,gt=pt,Lt,Yt,cr,tr,Bt,_r,An,En,ks,Co,xa,wi,Vs;for(J&&vx(mr)&&(wi=Or.getProperty(xe,D.p),Vs=Or.getProperty(Le,D.p));gt-- >0;)_r=Ln[gt],_r.end||_r.refresh(0,1)||(Al=q),An=_r.pin,An&&(An===m||An===h||An===mt)&&!_r.isReverted&&(Co||(Co=[]),Co.unshift(_r),_r.revert(!0,!0)),_r!==Ln[gt]&&(pt--,gt--);for(Fl(wt)&&(wt=wt(q)),wt=sV(wt,"start",q),Oe=hV(wt,m,bn,D,ce(),le,xe,q,he,z,U,Re,A,q._startClamp&&"_startClamp")||(h?-.001:0),Fl(De)&&(De=De(q)),xu(De)&&!De.indexOf("+=")&&(~De.indexOf(" ")?De=(xu(wt)?wt.split(" ")[0]:"")+De:(Pe=I5(De.substr(2),bn),De=xu(wt)?wt:(A?Or.utils.mapRange(0,A.duration(),A.scrollTrigger.start,A.scrollTrigger.end,Oe):Oe)+Pe,ft=m)),De=sV(De,"end",q),re=Math.max(Oe,hV(De||(ft?"100% 0":Re),ft,bn,D,ce()+Pe,We,Le,q,he,z,U,Re,A,q._endClamp&&"_endClamp"))||-.001,Pe=0,gt=pt;gt--;)_r=Ln[gt]||{},An=_r.pin,An&&_r.start-_r._pinPush<=Oe&&!A&&_r.end>0&&(Lt=_r.end-(q._startClamp?Math.max(0,_r.start):_r.start),(An===m&&_r.start-_r._pinPush<Oe||An===mt)&&isNaN(wt)&&(Pe+=Lt*(1-_r.progress)),An===h&&(Ie+=Lt));if(Oe+=Pe,re+=Pe,q._startClamp&&(q._startClamp+=Pe),q._endClamp&&!ic&&(q._endClamp=re||-.001,re=Math.min(re,Nh(E,D))),ye=re-Oe||(Oe-=.01)&&.001,Ee&&(oe=Or.utils.clamp(0,1,Or.utils.normalize(Oe,re,Vt))),q._pinPush=Ie,le&&Pe&&(Lt={},Lt[D.a]="+="+Pe,mt&&(Lt[D.p]="-="+ce()),Or.set([le,We],Lt)),h&&!(SF&&q.end>=Nh(E,D)))Lt=Sd(h),tr=D===xo,cr=ce(),Je=parseFloat(Se(D.a))+Ie,!Re&&re>1&&(xa=(M?da.scrollingElement||_u:E).style,xa={style:xa,value:xa["overflow"+D.a.toUpperCase()]},M&&Sd(Os)["overflow"+D.a.toUpperCase()]!=="scroll"&&(xa.style["overflow"+D.a.toUpperCase()]="scroll")),YT(h,Ye,Lt),ct=Ck(h),Yt=Bm(h,!0),En=U&&rg(E,tr?dc:xo)(),x?(Me=[x+D.os2,ye+Ie+go],Me.t=Ye,gt=x===Yi?N4(h,D)+ye+Ie:0,gt&&(Me.push(D.d,gt+go),Ye.style.flexBasis!=="auto"&&(Ye.style.flexBasis=gt+go)),K1(Me),mt&&Ln.forEach(function(io){io.pin===mt&&io.vars.pinSpacing!==!1&&(io._subPinOffset=!0)}),U&&ce(Vt)):(gt=N4(h,D),gt&&Ye.style.flexBasis!=="auto"&&(Ye.style.flexBasis=gt+go)),U&&(Bt={top:Yt.top+(tr?cr-Oe:En)+go,left:Yt.left+(tr?En:cr-Oe)+go,boxSizing:"border-box",position:"fixed"},Bt[Kx]=Bt["max"+wb]=Math.ceil(Yt.width)+go,Bt[Xx]=Bt["max"+N7]=Math.ceil(Yt.height)+go,Bt[Nd]=Bt[Nd+x2]=Bt[Nd+p2]=Bt[Nd+v2]=Bt[Nd+g2]="0",Bt[Yi]=Lt[Yi],Bt[Yi+x2]=Lt[Yi+x2],Bt[Yi+p2]=Lt[Yi+p2],Bt[Yi+v2]=Lt[Yi+v2],Bt[Yi+g2]=Lt[Yi+g2],Qe=d5e(qe,Bt,S),ic&&ce(0)),a?(ks=a._initted,qT(1),a.render(a.duration(),!0,!0),tt=Se(D.a)-Je+ye+Ie,Ce=Math.abs(ye-tt)>1,U&&Ce&&Qe.splice(Qe.length-2,2),a.render(0,!0,!0),ks||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),qT(0)):tt=ye,xa&&(xa.value?xa.style["overflow"+D.a.toUpperCase()]=xa.value:xa.style.removeProperty("overflow-"+D.a));else if(m&&ce()&&!A)for(Yt=m.parentNode;Yt&&Yt!==Os;)Yt._pinOffset&&(Oe-=Yt._pinOffset,re-=Yt._pinOffset),Yt=Yt.parentNode;Co&&Co.forEach(function(io){return io.revert(!1,!0)}),q.start=Oe,q.end=re,se=Z=ic?Vt:ce(),!A&&!ic&&(se<Vt&&ce(Vt),q.scroll.rec=0),q.revert(!1,!0),Q=Pl(),Qt&&(K=-1,Qt.restart(!0)),Al=0,a&&P&&(a._initted||wr)&&a.progress()!==wr&&a.progress(wr||0,!0).render(a.time(),!0,!0),(Ee||oe!==q.progress||A||g||a&&!a._initted)&&(a&&!P&&(a._initted||oe||a.vars.immediateRender!==!1)&&a.totalProgress(A&&Oe<-.001&&!oe?Or.utils.normalize(Oe,re,0):oe,!0),q.progress=Ee||(se-Oe)/ye===oe?0:oe),h&&x&&(Ye._pinOffset=Math.round(q.progress*tt)),St&&St.invalidate(),isNaN(wi)||(wi-=Or.getProperty(xe,D.p),Vs-=Or.getProperty(Le,D.p),Ak(xe,D,wi),Ak(le,D,wi-(vr||0)),Ak(Le,D,Vs),Ak(We,D,Vs-(vr||0))),Ee&&!ic&&q.update(),d&&!ic&&!fe&&(fe=!0,d(q),fe=!1)}},q.getVelocity=function(){return(ce()-Z)/(Pl()-z_)*1e3||0},q.endAnimation=function(){x_(q.callbackAnimation),a&&(St?St.progress(1):a.paused()?P||x_(a,q.direction<0,1):x_(a,a.reversed()))},q.labelToScroll=function(Jt){return a&&a.labels&&(Oe||q.refresh()||Oe)+a.labels[Jt]/a.duration()*ye||0},q.getTrailing=function(Jt){var gr=Ln.indexOf(q),mr=q.direction>0?Ln.slice(0,gr).reverse():Ln.slice(gr+1);return(xu(Jt)?mr.filter(function(vr){return vr.vars.preventOverlaps===Jt}):mr).filter(function(vr){return q.direction>0?vr.end<=Oe:vr.start>=re})},q.update=function(Jt,gr,mr){if(!(A&&!mr&&!Jt)){var vr=ic===!0?Vt:q.scroll(),bn=Jt?0:(vr-Oe)/ye,he=bn<0?0:bn>1?1:bn||0,Re=q.progress,Ee,Pe,Ie,De,ft,wt,mt,pt;if(gr&&(Z=se,se=A?ce():vr,N&&(at=Ke,Ke=a&&!P?a.totalProgress():he)),v&&h&&!Al&&!wk&&Dd&&(!he&&Oe<vr+(vr-Z)/(Pl()-z_)*v?he=1e-4:he===1&&re>vr+(vr-Z)/(Pl()-z_)*v&&(he=.9999)),he!==Re&&q.enabled){if(Ee=q.isActive=!!he&&he<1,Pe=!!Re&&Re<1,wt=Ee!==Pe,ft=wt||!!he!=!!Re,q.direction=he>Re?1:-1,q.progress=he,ft&&!Al&&(Ie=he&&!Re?0:he===1?1:Re===1?2:3,P&&(De=!wt&&Y[Ie+1]!=="none"&&Y[Ie+1]||Y[Ie],pt=a&&(De==="complete"||De==="reset"||De in a))),O&&(wt||pt)&&(pt||f||!a)&&(Fl(O)?O(q):q.getTrailing(O).forEach(function(cr){return cr.endAnimation()})),P||(St&&!Al&&!wk?(St._dp._time-St._start!==St._time&&St.render(St._dp._time-St._start),St.resetTo?St.resetTo("totalProgress",he,a._tTime/a._tDur):(St.vars.totalProgress=he,St.invalidate().restart())):a&&a.totalProgress(he,!!(Al&&(Q||Jt)))),h){if(Jt&&x&&(Ye.style[x+D.os2]=Ve),!U)_e(V_(Je+tt*he));else if(ft){if(mt=!Jt&&he>Re&&re+1>vr&&vr+1>=Nh(E,D),S)if(!Jt&&(Ee||mt)){var gt=Bm(h,!0),Lt=vr-Oe;mV(h,Os,gt.top+(D===xo?Lt:0)+go,gt.left+(D===xo?0:Lt)+go)}else mV(h,Ye);K1(Ee||mt?Qe:ct),Ce&&he<1&&Ee||_e(Je+(he===1&&!mt?tt:0))}}N&&!de.tween&&!Al&&!wk&&Qt.restart(!0),l&&(wt||w&&he&&(he<1||!VT))&&dj(l.targets).forEach(function(cr){return cr.classList[Ee||w?"add":"remove"](l.className)}),o&&!P&&!Jt&&o(q),ft&&!Al?(P&&(pt&&(De==="complete"?a.pause().totalProgress(1):De==="reset"?a.restart(!0).pause():De==="restart"?a.restart(!0):a[De]()),o&&o(q)),(wt||!VT)&&(u&&wt&&HT(q,u),W[Ie]&&HT(q,W[Ie]),w&&(he===1?q.kill(!1,1):W[Ie]=0),wt||(Ie=he===1?1:3,W[Ie]&&HT(q,W[Ie]))),R&&!Ee&&Math.abs(q.getVelocity())>(W_(R)?R:2500)&&(x_(q.callbackAnimation),St?St.progress(1):x_(a,De==="reverse"?1:!he,1))):P&&o&&!Al&&o(q)}if(st){var Yt=A?vr/A.duration()*(A._caScrollDist||0):vr;ht(Yt+(xe._isFlipped?1:0)),st(Yt)}dr&&dr(-vr/A.duration()*(A._caScrollDist||0))}},q.enable=function(Jt,gr){q.enabled||(q.enabled=!0,Lo(E,"resize",H_),M||Lo(E,"scroll",$y),V&&Lo(t,"refreshInit",V),Jt!==!1&&(q.progress=oe=0,se=Z=K=ce()),gr!==!1&&q.refresh())},q.getTween=function(Jt){return Jt&&de?de.tween:St},q.setPositions=function(Jt,gr,mr,vr){if(A){var bn=A.scrollTrigger,he=A.duration(),Re=bn.end-bn.start;Jt=bn.start+Re*Jt/he,gr=bn.start+Re*gr/he}q.refresh(!1,!1,{start:aV(Jt,mr&&!!q._startClamp),end:aV(gr,mr&&!!q._endClamp)},vr),q.update()},q.adjustPinSpacing=function(Jt){if(Me&&Jt){var gr=Me.indexOf(D.d)+1;Me[gr]=parseFloat(Me[gr])+Jt+go,Me[1]=parseFloat(Me[1])+Jt+go,K1(Me)}},q.disable=function(Jt,gr){if(Jt!==!1&&q.revert(!0,!0),q.enabled&&(q.enabled=q.isActive=!1,gr||St&&St.pause(),Vt=0,ne&&(ne.uncache=1),V&&Mo(t,"refreshInit",V),Qt&&(Qt.pause(),de.tween&&de.tween.kill()&&(de.tween=0)),!M)){for(var mr=Ln.length;mr--;)if(Ln[mr].scroller===E&&Ln[mr]!==q)return;Mo(E,"resize",H_),M||Mo(E,"scroll",$y)}},q.kill=function(Jt,gr){q.disable(Jt,gr),St&&!gr&&St.kill(),c&&delete kF[c];var mr=Ln.indexOf(q);mr>=0&&Ln.splice(mr,1),mr===ac&&M5>0&&ac--,mr=0,Ln.forEach(function(vr){return vr.scroller===q.scroller&&(mr=1)}),mr||ic||(q.scroll.rec=0),a&&(a.scrollTrigger=null,Jt&&a.revert({kill:!1}),gr||a.kill()),le&&[le,We,xe,Le].forEach(function(vr){return vr.parentNode&&vr.parentNode.removeChild(vr)}),y2===q&&(y2=0),h&&(ne&&(ne.uncache=1),mr=0,Ln.forEach(function(vr){return vr.pin===h&&mr++}),mr||(ne.spacer=0)),n.onKill&&n.onKill(q)},Ln.push(q),q.enable(!1,!1),br&&br(q),a&&a.add&&!ye){var Ir=q.update;q.update=function(){q.update=Ir,Yn.cache++,Oe||re||q.refresh()},Or.delayedCall(.01,q.update),ye=.01,Oe=re=0}else q.refresh();h&&l5e()},t.register=function(n){return f1||(Or=n||bie(),yie()&&window.document&&t.enable(),f1=q_),f1},t.defaults=function(n){if(n)for(var a in n)Sk[a]=n[a];return Sk},t.disable=function(n,a){q_=0,Ln.forEach(function(o){return o[a?"kill":"disable"](n)}),Mo(Wn,"wheel",$y),Mo(da,"scroll",$y),clearInterval(bk),Mo(da,"touchcancel",yh),Mo(Os,"touchstart",yh),jk(Mo,da,"pointerdown,touchstart,mousedown",iV),jk(Mo,da,"pointerup,touchend,mouseup",oV),j4.kill(),_k(Mo);for(var i=0;i<Yn.length;i+=3)Nk(Mo,Yn[i],Yn[i+1]),Nk(Mo,Yn[i],Yn[i+2])},t.enable=function(){if(Wn=window,da=document,_u=da.documentElement,Os=da.body,Or&&(dj=Or.utils.toArray,h2=Or.utils.clamp,NF=Or.core.context||yh,qT=Or.core.suppressOverwrites||yh,b7=Wn.history.scrollRestoration||"auto",CF=Wn.pageYOffset||0,Or.core.globals("ScrollTrigger",t),Os)){q_=1,Y1=document.createElement("div"),Y1.style.height="100vh",Y1.style.position="absolute",Pie(),t5e(),Di.register(Or),t.isTouch=Di.isTouch,h0=Di.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),jF=Di.isTouch===1,Lo(Wn,"wheel",$y),y7=[Wn,da,_u,Os],Or.matchMedia?(t.matchMedia=function(u){var d=Or.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Or.addEventListener("matchMediaInit",function(){Aie(),k7()}),Or.addEventListener("matchMediaRevert",function(){return Cie()}),Or.addEventListener("matchMedia",function(){Rx(0,1),hv("matchMedia")}),Or.matchMedia().add("(orientation: portrait)",function(){return GT(),GT})):console.warn("Requires GSAP 3.11.0 or later"),GT(),Lo(da,"scroll",$y);var n=Os.hasAttribute("style"),a=Os.style,i=a.borderTopStyle,o=Or.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",l=Bm(Os),xo.m=Math.round(l.top+xo.sc())||0,dc.m=Math.round(l.left+dc.sc())||0,i?a.borderTopStyle=i:a.removeProperty("border-top-style"),n||(Os.setAttribute("style",""),Os.removeAttribute("style")),bk=setInterval(uV,250),Or.delayedCall(.5,function(){return wk=0}),Lo(da,"touchcancel",yh),Lo(Os,"touchstart",yh),jk(Lo,da,"pointerdown,touchstart,mousedown",iV),jk(Lo,da,"pointerup,touchend,mouseup",oV),_F=Or.utils.checkPrefix("transform"),L5.push(_F),f1=Pl(),j4=Or.delayedCall(.2,Rx).pause(),h1=[da,"visibilitychange",function(){var u=Wn.innerWidth,d=Wn.innerHeight;da.hidden?(rV=u,nV=d):(rV!==u||nV!==d)&&H_()},da,"DOMContentLoaded",Rx,Wn,"load",Rx,Wn,"resize",H_],_k(Lo),Ln.forEach(function(u){return u.enable(0,1)}),c=0;c<Yn.length;c+=3)Nk(Mo,Yn[c],Yn[c+1]),Nk(Mo,Yn[c],Yn[c+2])}},t.config=function(n){"limitCallbacks"in n&&(VT=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(bk)||(bk=a)&&setInterval(uV,a),"ignoreMobileResize"in n&&(jF=t.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(_k(Mo)||_k(Lo,n.autoRefreshEvents||"none"),gie=(n.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(n,a){var i=Mc(n),o=Yn.indexOf(i),l=dv(i);~o&&Yn.splice(o,l?6:2),a&&(l?Th.unshift(Wn,a,Os,a,_u,a):Th.unshift(i,a))},t.clearMatchMedia=function(n){Ln.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},t.isInViewport=function(n,a,i){var o=(xu(n)?Mc(n):n).getBoundingClientRect(),l=o[i?Kx:Xx]*a||0;return i?o.right-l>0&&o.left+l<Wn.innerWidth:o.bottom-l>0&&o.top+l<Wn.innerHeight},t.positionInViewport=function(n,a,i){xu(n)&&(n=Mc(n));var o=n.getBoundingClientRect(),l=o[i?Kx:Xx],c=a==null?l/2:a in S4?S4[a]*l:~a.indexOf("%")?parseFloat(a)*l/100:parseFloat(a)||0;return i?(o.left+c)/Wn.innerWidth:(o.top+c)/Wn.innerHeight},t.killAll=function(n){if(Ln.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var a=fv.killAll||[];fv={},a.forEach(function(i){return i()})}},t})();Tn.version="3.14.2";Tn.saveStyles=function(t){return t?dj(t).forEach(function(e){if(e&&e.style){var r=gu.indexOf(e);r>=0&&gu.splice(r,5),gu.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Or.core.getCache(e),NF())}}):gu};Tn.revert=function(t,e){return k7(!t,e)};Tn.create=function(t,e){return new Tn(t,e)};Tn.refresh=function(t){return t?H_(!0):(f1||Tn.register())&&Rx(!0)};Tn.update=function(t){return++Yn.cache&&Zm(t===!0?2:0)};Tn.clearScrollMemory=Eie;Tn.maxScroll=function(t,e){return Nh(t,e?dc:xo)};Tn.getScrollFunc=function(t,e){return rg(Mc(t),e?dc:xo)};Tn.getById=function(t){return kF[t]};Tn.getAll=function(){return Ln.filter(function(t){return t.vars.id!=="ScrollSmoother"})};Tn.isScrolling=function(){return!!Dd};Tn.snapDirectional=S7;Tn.addEventListener=function(t,e){var r=fv[t]||(fv[t]=[]);~r.indexOf(e)||r.push(e)};Tn.removeEventListener=function(t,e){var r=fv[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)};Tn.batch=function(t,e){var r=[],n={},a=e.interval||.016,i=e.batchMax||1e9,o=function(u,d){var f=[],m=[],h=Or.delayedCall(a,function(){d(f,m),f=[],m=[]}).pause();return function(x){f.length||h.restart(!0),f.push(x.trigger),m.push(x),i<=f.length&&h.progress(1)}},l;for(l in e)n[l]=l.substr(0,2)==="on"&&Fl(e[l])&&l!=="onRefreshInit"?o(l,e[l]):e[l];return Fl(i)&&(i=i(),Lo(Tn,"refresh",function(){return i=e.batchMax()})),dj(t).forEach(function(c){var u={};for(l in n)u[l]=n[l];u.trigger=c,r.push(Tn.create(u))}),r};var gV=function(e,r,n,a){return r>a?e(a):r<0&&e(0),n>a?(a-r)/(n-r):n<0?r/(r-n):1},KT=function t(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(Di.isTouch?" pinch-zoom":""):"none",e===_u&&t(Os,r)},Ek={auto:1,scroll:1},h5e=function(e){var r=e.event,n=e.target,a=e.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,o=i._gsap||Or.core.getCache(i),l=Pl(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==Os&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(Ek[(c=Sd(i)).overflowY]||Ek[c.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==n&&!dv(i)&&(Ek[(c=Sd(i)).overflowY]||Ek[c.overflowX]),o._isScrollT=l}(o._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Oie=function(e,r,n,a){return Di.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&h5e,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&Lo(da,Di.eventTypes[0],vV,!1,!0)},onDisable:function(){return Mo(da,Di.eventTypes[0],vV,!0)}})},m5e=/(input|label|select|textarea)/i,xV,vV=function(e){var r=m5e.test(e.target.tagName);(r||xV)&&(e._gsapAllow=!0,xV=r)},p5e=function(e){vx(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,n=r.normalizeScrollX,a=r.momentum,i=r.allowNestedScroll,o=r.onRelease,l,c,u=Mc(e.target)||_u,d=Or.core.globals().ScrollSmoother,f=d&&d.get(),m=h0&&(e.content&&Mc(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),h=rg(u,xo),x=rg(u,dc),g=1,v=(Di.isTouch&&Wn.visualViewport?Wn.visualViewport.scale*Wn.visualViewport.width:Wn.outerWidth)/Wn.innerWidth,b=0,_=Fl(a)?function(){return a(l)}:function(){return a||2.8},w,N,S=Oie(u,e.type,!0,i),C=function(){return N=!1},A=yh,R=yh,O=function(){c=Nh(u,xo),R=h2(h0?1:0,c),n&&(A=h2(0,Nh(u,dc))),w=Jx},D=function(){m._gsap.y=V_(parseFloat(m._gsap.y)+h.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",h.offset=h.cacheID=0},P=function(){if(N){requestAnimationFrame(C);var J=V_(l.deltaY/2),z=R(h.v-J);if(m&&z!==h.v+h.offset){h.offset=z-h.v;var q=V_((parseFloat(m&&m._gsap.y)||0)-h.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+q+", 0, 1)",m._gsap.y=q+"px",h.cacheID=Yn.cache,Zm()}return!0}h.offset&&D(),N=!0},E,I,M,U,W=function(){O(),E.isActive()&&E.vars.scrollY>c&&(h()>c?E.progress(1)&&h(c):E.resetTo("scrollY",c))};return m&&Or.set(m,{y:"+=0"}),e.ignoreCheck=function(Y){return h0&&Y.type==="touchmove"&&P()||g>1.05&&Y.type!=="touchstart"||l.isGesturing||Y.touches&&Y.touches.length>1},e.onPress=function(){N=!1;var Y=g;g=V_((Wn.visualViewport&&Wn.visualViewport.scale||1)/v),E.pause(),Y!==g&&KT(u,g>1.01?!0:n?!1:"x"),I=x(),M=h(),O(),w=Jx},e.onRelease=e.onGestureStart=function(Y,J){if(h.offset&&D(),!J)U.restart(!0);else{Yn.cache++;var z=_(),q,V;n&&(q=x(),V=q+z*.05*-Y.velocityX/.227,z*=gV(x,q,V,Nh(u,dc)),E.vars.scrollX=A(V)),q=h(),V=q+z*.05*-Y.velocityY/.227,z*=gV(h,q,V,Nh(u,xo)),E.vars.scrollY=R(V),E.invalidate().duration(z).play(.01),(h0&&E.vars.scrollY>=c||q>=c-1)&&Or.to({},{onUpdate:W,duration:z})}o&&o(Y)},e.onWheel=function(){E._ts&&E.pause(),Pl()-b>1e3&&(w=0,b=Pl())},e.onChange=function(Y,J,z,q,V){if(Jx!==w&&O(),J&&n&&x(A(q[2]===J?I+(Y.startX-Y.x):x()+J-q[1])),z){h.offset&&D();var L=V[2]===z,X=L?M+Y.startY-Y.y:h()+z-V[1],K=R(X);L&&X!==K&&(M+=K-X),h(K)}(z||J)&&Zm()},e.onEnable=function(){KT(u,n?!1:"x"),Tn.addEventListener("refresh",W),Lo(Wn,"resize",W),h.smooth&&(h.target.style.scrollBehavior="auto",h.smooth=x.smooth=!1),S.enable()},e.onDisable=function(){KT(u,!0),Mo(Wn,"resize",W),Tn.removeEventListener("refresh",W),S.kill()},e.lockAxis=e.lockAxis!==!1,l=new Di(e),l.iOS=h0,h0&&!h()&&h(1),h0&&Or.ticker.add(yh),U=l._dc,E=Or.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Tie(h,h(),function(){return E.pause()})},onUpdate:Zm,onComplete:U.vars.onComplete}),l};Tn.sort=function(t){if(Fl(t))return Ln.sort(t);var e=Wn.pageYOffset||0;return Tn.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+Wn.innerHeight}),Ln.sort(t||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Tn.observe=function(t){return new Di(t)};Tn.normalizeScroll=function(t){if(typeof t>"u")return sc;if(t===!0&&sc)return sc.enable();if(t===!1){sc&&sc.kill(),sc=t;return}var e=t instanceof Di?t:p5e(t);return sc&&sc.target===e.target&&sc.kill(),dv(e.target)&&(sc=e),e};Tn.core={_getVelocityProp:wF,_inputObserver:Oie,_scrollers:Yn,_proxies:Th,bridge:{ss:function(){Dd||hv("scrollStart"),Dd=Pl()},ref:function(){return Al}}};bie()&&Or.registerPlugin(Tn);na.registerPlugin(Tn);const g5e=()=>{const t=j.useRef(null),e=j.useRef(null),r=j.useRef(null);return j.useEffect(()=>{const n=i=>{i.preventDefault();const l=i.currentTarget.getAttribute("href");if(l&&l.startsWith("#")){const c=document.querySelector(l);if(c){const u=c.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:u,behavior:"smooth"})}}},a=document.querySelectorAll('a[href^="#"]');if(a.forEach(i=>{i.addEventListener("click",n)}),t.current){const i=t.current.querySelector(".hero-badge"),o=t.current.querySelector(".hero-heading"),l=t.current.querySelector(".hero-subheading"),c=t.current.querySelector(".hero-cta"),u=t.current.querySelector(".hero-trust");t.current.querySelectorAll(".hero-decorative").forEach((m,h)=>{na.to(m,{yPercent:h%2===0?30:-30,scrollTrigger:{trigger:t.current,start:"top top",end:"bottom top",scrub:1}})}),na.timeline({defaults:{ease:"power3.out"}}).fromTo(i,{opacity:0,y:-20},{opacity:1,y:0,duration:.8}).fromTo(o,{opacity:0,y:30,scale:.95},{opacity:1,y:0,scale:1,duration:1,stagger:.1},"-=0.4").fromTo(l,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.6").fromTo(c,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.4").fromTo(u,{opacity:0},{opacity:1,duration:.8},"-=0.4")}if(e.current&&e.current.querySelectorAll(".feature-card").forEach((o,l)=>{na.fromTo(o,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:.3,ease:"power3.out",scrollTrigger:{trigger:o,start:"top bottom",end:"bottom 20%",toggleActions:"play none none reverse"},delay:0}),o.addEventListener("mouseenter",()=>{na.to(o,{y:-10,duration:.3,ease:"power2.out"})}),o.addEventListener("mouseleave",()=>{na.to(o,{y:0,duration:.3,ease:"power2.out"})})}),r.current){const i=r.current.querySelectorAll(".step-card");na.fromTo(i,{opacity:0,x:-50,scale:.95},{opacity:1,x:0,scale:1,duration:.8,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:r.current,start:"top 70%",end:"bottom 20%",toggleActions:"play none none reverse"}})}return()=>{a.forEach(i=>{i.removeEventListener("click",n)}),Tn.getAll().forEach(i=>i.kill())}},[]),{heroRef:t,featuresRef:e,stepsRef:r}},x5e=()=>{const t=j.useRef(null);return j.useEffect(()=>{if(!t.current)return;t.current.querySelectorAll(".particle").forEach((r,n)=>{na.set(r,{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:Math.random()*.5+.5,opacity:Math.random()*.3+.1}),na.to(r,{y:`+=${Math.random()*200-100}`,x:`+=${Math.random()*200-100}`,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut",delay:Math.random()*2}),na.to(r,{rotation:Math.random()*360,duration:Math.random()*20+10,repeat:-1,ease:"none"}),na.to(r,{scale:`+=${Math.random()*.3}`,duration:Math.random()*3+2,repeat:-1,yoyo:!0,ease:"sine.inOut"})})},[]),s.jsx("div",{ref:t,className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:30}).map((e,r)=>s.jsx("div",{className:"particle absolute w-2 h-2 rounded-full",style:{background:`radial-gradient(circle, ${r%3===0?"rgba(59, 130, 246, 0.4)":r%3===1?"rgba(139, 92, 246, 0.4)":"rgba(236, 72, 153, 0.4)"}, transparent)`,filter:"blur(1px)"}},r))})},yV=({text:t,className:e="",delay:r=0,as:n="span",gradient:a=!1})=>{const i=j.useRef(null);return j.useEffect(()=>{if(!i.current)return;const o=t.split(" ");i.current.innerHTML=o.map(c=>`<span class="word inline-block mr-2">${c.split("").map(d=>`<span class="char inline-block ${a?"gradient-char":""}">${d===" "?"&nbsp;":d}</span>`).join("")}</span>`).join(" ");const l=i.current.querySelectorAll(".char");na.fromTo(l,{opacity:0,y:50,rotationX:-90},{opacity:1,y:0,rotationX:0,duration:.8,stagger:.02,ease:"back.out(1.7)",delay:r}),a&&na.to(l,{backgroundPosition:"200% center",duration:3,repeat:-1,ease:"none",stagger:{each:.1,repeat:-1}})},[t,r,a]),s.jsx(n,{ref:i,className:e})},XT=({color:t,size:e="md",position:r})=>{const n=j.useRef(null),a={blue:"from-blue-500/20 to-blue-600/10",purple:"from-purple-500/20 to-purple-600/10",pink:"from-pink-500/20 to-pink-600/10",green:"from-green-500/20 to-green-600/10"},i={sm:"w-64 h-64",md:"w-96 h-96",lg:"w-[600px] h-[600px]"};return j.useEffect(()=>{n.current&&(na.to(n.current,{scale:1.2,duration:8,repeat:-1,yoyo:!0,ease:"sine.inOut"}),na.to(n.current,{rotation:360,duration:20,repeat:-1,ease:"none"}),na.to(n.current,{x:"+=50",y:"+=30",duration:10,repeat:-1,yoyo:!0,ease:"sine.inOut"}))},[]),s.jsx("div",{ref:n,className:`absolute ${i[e]} bg-gradient-to-br ${a[t]} rounded-full blur-3xl opacity-30`,style:r})};var JT="focusScope.autoFocusOnMount",ZT="focusScope.autoFocusOnUnmount",bV={bubbles:!1,cancelable:!0},v5e="FocusScope",UN=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=j.useState(null),u=mi(a),d=mi(i),f=j.useRef(null),m=Yr(e,g=>c(g)),h=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let g=function(w){if(h.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:m0(f.current,{select:!0})},v=function(w){if(h.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||m0(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&m0(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const _=new MutationObserver(b);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),_.disconnect()}}},[n,l,h.paused]),j.useEffect(()=>{if(l){_V.add(h);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(JT,bV);l.addEventListener(JT,u),l.dispatchEvent(b),b.defaultPrevented||(y5e(N5e(Die(l)),{select:!0}),document.activeElement===g&&m0(l))}return()=>{l.removeEventListener(JT,u),setTimeout(()=>{const b=new CustomEvent(ZT,bV);l.addEventListener(ZT,d),l.dispatchEvent(b),b.defaultPrevented||m0(g??document.body,{select:!0}),l.removeEventListener(ZT,d),_V.remove(h)},0)}}},[l,u,d,h]);const x=j.useCallback(g=>{if(!r&&!n||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const _=g.currentTarget,[w,N]=b5e(_);w&&N?!g.shiftKey&&b===N?(g.preventDefault(),r&&m0(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),r&&m0(N,{select:!0})):b===_&&g.preventDefault()}},[r,n,h.paused]);return s.jsx(xr.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});UN.displayName=v5e;function y5e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(m0(n,{select:e}),document.activeElement!==r)return}function b5e(t){const e=Die(t),r=wV(e,t),n=wV(e.reverse(),t);return[r,n]}function Die(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function wV(t,e){for(const r of t)if(!w5e(r,{upTo:e}))return r}function w5e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _5e(t){return t instanceof HTMLInputElement&&"select"in t}function m0(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&_5e(t)&&e&&t.select()}}var _V=j5e();function j5e(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=jV(t,e),t.unshift(e)},remove(e){t=jV(t,e),t[0]?.resume()}}}function jV(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function N5e(t){return t.filter(e=>e.tagName!=="A")}var QT=0;function KA(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NV()),document.body.insertAdjacentElement("beforeend",t[1]??NV()),QT++,()=>{QT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),QT--}},[])}function NV(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wh=function(){return wh=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wh.apply(this,arguments)};function Rie(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function S5e(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var B5="right-scroll-bar-position",U5="width-before-scroll-bar",k5e="with-scroll-bars-hidden",C5e="--removed-body-scroll-bar-size";function e3(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function A5e(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var E5e=typeof window<"u"?j.useLayoutEffect:j.useEffect,SV=new WeakMap;function P5e(t,e){var r=A5e(null,function(n){return t.forEach(function(a){return e3(a,n)})});return E5e(function(){var n=SV.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(l){i.has(l)||e3(l,null)}),i.forEach(function(l){a.has(l)||e3(l,o)})}SV.set(r,t)},[t]),r}function T5e(t){return t}function O5e(t,e){e===void 0&&(e=T5e);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function D5e(t){t===void 0&&(t={});var e=O5e(null);return e.options=wh({async:!0,ssr:!1},t),e}var Iie=function(t){var e=t.sideCar,r=Rie(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,wh({},r))};Iie.isSideCarExport=!0;function R5e(t,e){return t.useMedium(e),Iie}var Fie=D5e(),t3=function(){},XA=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:t3,onWheelCapture:t3,onTouchMoveCapture:t3}),a=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,h=t.noRelative,x=t.noIsolation,g=t.inert,v=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,w=t.gapMode,N=Rie(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=P5e([r,e]),A=wh(wh({},N),a);return j.createElement(j.Fragment,null,d&&j.createElement(S,{sideCar:Fie,removeScrollBar:u,shards:f,noRelative:h,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?j.cloneElement(j.Children.only(l),wh(wh({},A),{ref:C})):j.createElement(_,wh({},A,{className:c,ref:C}),l))});XA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};XA.classNames={fullWidth:U5,zeroRight:B5};var I5e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F5e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I5e();return e&&t.setAttribute("nonce",e),t}function M5e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function L5e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $5e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=F5e())&&(M5e(e,r),L5e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},B5e=function(){var t=$5e();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Mie=function(){var t=B5e(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},U5e={left:0,top:0,right:0,gap:0},r3=function(t){return parseInt(t||"",10)||0},z5e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[r3(r),r3(n),r3(a)]},q5e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return U5e;var e=z5e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},V5e=Mie(),X1="data-scroll-locked",W5e=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(k5e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(X1,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(B5,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(U5,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(B5," .").concat(B5,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(U5," .").concat(U5,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(X1,`] {
    `).concat(C5e,": ").concat(l,`px;
  }
`)},kV=function(){var t=parseInt(document.body.getAttribute(X1)||"0",10);return isFinite(t)?t:0},H5e=function(){j.useEffect(function(){return document.body.setAttribute(X1,(kV()+1).toString()),function(){var t=kV()-1;t<=0?document.body.removeAttribute(X1):document.body.setAttribute(X1,t.toString())}},[])},G5e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;H5e();var i=j.useMemo(function(){return q5e(a)},[a]);return j.createElement(V5e,{styles:W5e(i,!e,a,r?"":"!important")})},EF=!1;if(typeof window<"u")try{var Pk=Object.defineProperty({},"passive",{get:function(){return EF=!0,!0}});window.addEventListener("test",Pk,Pk),window.removeEventListener("test",Pk,Pk)}catch{EF=!1}var By=EF?{passive:!1}:!1,Y5e=function(t){return t.tagName==="TEXTAREA"},Lie=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y5e(t)&&r[e]==="visible")},K5e=function(t){return Lie(t,"overflowY")},X5e=function(t){return Lie(t,"overflowX")},CV=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=$ie(t,n);if(a){var i=Bie(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},J5e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Z5e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},$ie=function(t,e){return t==="v"?K5e(e):X5e(e)},Bie=function(t,e){return t==="v"?J5e(e):Z5e(e)},Q5e=function(t,e){return t==="h"&&e==="rtl"?-1:1},e4e=function(t,e,r,n,a){var i=Q5e(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,c=e.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=Bie(t,l),x=h[0],g=h[1],v=h[2],b=g-v-i*x;(x||b)&&$ie(t,l)&&(f+=b,m+=x);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Tk=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AV=function(t){return[t.deltaX,t.deltaY]},EV=function(t){return t&&"current"in t?t.current:t},t4e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},r4e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},n4e=0,Uy=[];function s4e(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),a=j.useState(n4e++)[0],i=j.useState(Mie)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=S5e([t.lockRef.current],(t.shards||[]).map(EV),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Tk(g),_=r.current,w="deltaX"in g?g.deltaX:_[0]-b[0],N="deltaY"in g?g.deltaY:_[1]-b[1],S,C=g.target,A=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in g&&A==="h"&&C.type==="range")return!1;var R=CV(A,C);if(!R)return!0;if(R?S=A:(S=A==="v"?"h":"v",R=CV(A,C)),!R)return!1;if(!n.current&&"changedTouches"in g&&(w||N)&&(n.current=S),!S)return!0;var O=n.current||S;return e4e(O,v,g,O==="h"?w:N)},[]),c=j.useCallback(function(g){var v=g;if(!(!Uy.length||Uy[Uy.length-1]!==i)){var b="deltaY"in v?AV(v):Tk(v),_=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&t4e(S.delta,b)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(EV).filter(Boolean).filter(function(S){return S.contains(v.target)}),N=w.length>0?l(v,w[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=j.useCallback(function(g,v,b,_){var w={name:g,delta:v,target:b,should:_,shadowParent:a4e(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(N){return N!==w})},1)},[]),d=j.useCallback(function(g){r.current=Tk(g),n.current=void 0},[]),f=j.useCallback(function(g){u(g.type,AV(g),g.target,l(g,t.lockRef.current))},[]),m=j.useCallback(function(g){u(g.type,Tk(g),g.target,l(g,t.lockRef.current))},[]);j.useEffect(function(){return Uy.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,By),document.addEventListener("touchmove",c,By),document.addEventListener("touchstart",d,By),function(){Uy=Uy.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,By),document.removeEventListener("touchmove",c,By),document.removeEventListener("touchstart",d,By)}},[]);var h=t.removeScrollBar,x=t.inert;return j.createElement(j.Fragment,null,x?j.createElement(i,{styles:r4e(a)}):null,h?j.createElement(G5e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function a4e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const i4e=R5e(Fie,s4e);var zN=j.forwardRef(function(t,e){return j.createElement(XA,wh({},t,{ref:e,sideCar:i4e}))});zN.classNames=XA.classNames;var o4e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zy=new WeakMap,Ok=new WeakMap,Dk={},n3=0,Uie=function(t){return t&&(t.host||Uie(t.parentNode))},l4e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Uie(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},c4e=function(t,e,r,n){var a=l4e(e,Array.isArray(t)?t:[t]);Dk[r]||(Dk[r]=new WeakMap);var i=Dk[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(n),x=h!==null&&h!=="false",g=(zy.get(m)||0)+1,v=(i.get(m)||0)+1;zy.set(m,g),i.set(m,v),o.push(m),g===1&&x&&Ok.set(m,!0),v===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(e),l.clear(),n3++,function(){o.forEach(function(f){var m=zy.get(f)-1,h=i.get(f)-1;zy.set(f,m),i.set(f,h),m||(Ok.has(f)||f.removeAttribute(n),Ok.delete(f)),h||f.removeAttribute(r)}),n3--,n3||(zy=new WeakMap,zy=new WeakMap,Ok=new WeakMap,Dk={})}},JA=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=o4e(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),c4e(n,a,r,"aria-hidden")):function(){return null}},ZA="Dialog",[zie,qie]=bi(ZA),[u4e,Hf]=zie(ZA),Vie=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=j.useRef(null),c=j.useRef(null),[u,d]=ql({prop:n,defaultProp:a??!1,onChange:i,caller:ZA});return s.jsx(u4e,{scope:e,triggerRef:l,contentRef:c,contentId:Vc(),titleId:Vc(),descriptionId:Vc(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};Vie.displayName=ZA;var Wie="DialogTrigger",Hie=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Hf(Wie,r),i=Yr(e,a.triggerRef);return s.jsx(xr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":E7(a.open),...n,ref:i,onClick:Xt(t.onClick,a.onOpenToggle)})});Hie.displayName=Wie;var C7="DialogPortal",[d4e,Gie]=zie(C7,{forceMount:void 0}),Yie=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=Hf(C7,e);return s.jsx(d4e,{scope:e,forceMount:r,children:j.Children.map(n,o=>s.jsx(ao,{present:r||i.open,children:s.jsx(cw,{asChild:!0,container:a,children:o})}))})};Yie.displayName=C7;var k4="DialogOverlay",Kie=j.forwardRef((t,e)=>{const r=Gie(k4,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Hf(k4,t.__scopeDialog);return i.modal?s.jsx(ao,{present:n||i.open,children:s.jsx(h4e,{...a,ref:e})}):null});Kie.displayName=k4;var f4e=H0("DialogOverlay.RemoveScroll"),h4e=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Hf(k4,r);return s.jsx(zN,{as:f4e,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(xr.div,{"data-state":E7(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),mv="DialogContent",Xie=j.forwardRef((t,e)=>{const r=Gie(mv,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Hf(mv,t.__scopeDialog);return s.jsx(ao,{present:n||i.open,children:i.modal?s.jsx(m4e,{...a,ref:e}):s.jsx(p4e,{...a,ref:e})})});Xie.displayName=mv;var m4e=j.forwardRef((t,e)=>{const r=Hf(mv,t.__scopeDialog),n=j.useRef(null),a=Yr(e,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return JA(i)},[]),s.jsx(Jie,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xt(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Xt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Xt(t.onFocusOutside,i=>i.preventDefault())})}),p4e=j.forwardRef((t,e)=>{const r=Hf(mv,t.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(Jie,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Jie=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Hf(mv,r),c=j.useRef(null),u=Yr(e,c);return KA(),s.jsxs(s.Fragment,{children:[s.jsx(UN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($v,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":E7(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(x4e,{titleId:l.titleId}),s.jsx(y4e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),A7="DialogTitle",Zie=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Hf(A7,r);return s.jsx(xr.h2,{id:a.titleId,...n,ref:e})});Zie.displayName=A7;var Qie="DialogDescription",eoe=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Hf(Qie,r);return s.jsx(xr.p,{id:a.descriptionId,...n,ref:e})});eoe.displayName=Qie;var toe="DialogClose",roe=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Hf(toe,r);return s.jsx(xr.button,{type:"button",...n,ref:e,onClick:Xt(t.onClick,()=>a.onOpenChange(!1))})});roe.displayName=toe;function E7(t){return t?"open":"closed"}var noe="DialogTitleWarning",[g4e,soe]=X1e(noe,{contentName:mv,titleName:A7,docsSlug:"dialog"}),x4e=({titleId:t})=>{const e=soe(noe),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},v4e="DialogDescriptionWarning",y4e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${soe(v4e).contentName}}.`;return j.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},P7=Vie,aoe=Hie,T7=Yie,qN=Kie,VN=Xie,WN=Zie,HN=eoe,QA=roe,ioe="AlertDialog",[b4e]=bi(ioe,[qie]),_p=qie(),ooe=t=>{const{__scopeAlertDialog:e,...r}=t,n=_p(e);return s.jsx(P7,{...n,...r,modal:!0})};ooe.displayName=ioe;var w4e="AlertDialogTrigger",_4e=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=_p(r);return s.jsx(aoe,{...a,...n,ref:e})});_4e.displayName=w4e;var j4e="AlertDialogPortal",loe=t=>{const{__scopeAlertDialog:e,...r}=t,n=_p(e);return s.jsx(T7,{...n,...r})};loe.displayName=j4e;var N4e="AlertDialogOverlay",coe=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=_p(r);return s.jsx(qN,{...a,...n,ref:e})});coe.displayName=N4e;var J1="AlertDialogContent",[S4e,k4e]=b4e(J1),C4e=fne("AlertDialogContent"),uoe=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=_p(r),o=j.useRef(null),l=Yr(e,o),c=j.useRef(null);return s.jsx(g4e,{contentName:J1,titleName:doe,docsSlug:"alert-dialog",children:s.jsx(S4e,{scope:r,cancelRef:c,children:s.jsxs(VN,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Xt(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(C4e,{children:n}),s.jsx(E4e,{contentRef:o})]})})})});uoe.displayName=J1;var doe="AlertDialogTitle",foe=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=_p(r);return s.jsx(WN,{...a,...n,ref:e})});foe.displayName=doe;var hoe="AlertDialogDescription",moe=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=_p(r);return s.jsx(HN,{...a,...n,ref:e})});moe.displayName=hoe;var A4e="AlertDialogAction",poe=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=_p(r);return s.jsx(QA,{...a,...n,ref:e})});poe.displayName=A4e;var goe="AlertDialogCancel",xoe=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=k4e(goe,r),i=_p(r),o=Yr(e,a);return s.jsx(QA,{...i,...n,ref:o})});xoe.displayName=goe;var E4e=({contentRef:t})=>{const e=`\`${J1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${J1}\` by passing a \`${hoe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${J1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},P4e=ooe,T4e=loe,voe=coe,yoe=uoe,boe=poe,woe=xoe,_oe=foe,joe=moe;const ng=P4e,O4e=T4e,Noe=j.forwardRef(({className:t,...e},r)=>s.jsx(voe,{className:Gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Noe.displayName=voe.displayName;const lp=j.forwardRef(({className:t,...e},r)=>s.jsxs(O4e,{children:[s.jsx(Noe,{}),s.jsx(yoe,{ref:r,className:Gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));lp.displayName=yoe.displayName;const cp=({className:t,...e})=>s.jsx("div",{className:Gt("flex flex-col space-y-2 text-center sm:text-left",t),...e});cp.displayName="AlertDialogHeader";const up=({className:t,...e})=>s.jsx("div",{className:Gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});up.displayName="AlertDialogFooter";const dp=j.forwardRef(({className:t,...e},r)=>s.jsx(_oe,{ref:r,className:Gt("text-lg font-semibold",t),...e}));dp.displayName=_oe.displayName;const fp=j.forwardRef(({className:t,...e},r)=>s.jsx(joe,{ref:r,className:Gt("text-sm text-muted-foreground",t),...e}));fp.displayName=joe.displayName;const sg=j.forwardRef(({className:t,...e},r)=>s.jsx(boe,{ref:r,className:Gt(VA(),t),...e}));sg.displayName=boe.displayName;const ag=j.forwardRef(({className:t,...e},r)=>s.jsx(woe,{ref:r,className:Gt(VA({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ag.displayName=woe.displayName;var D4e=j.createContext(void 0);function bg(t){const e=j.useContext(D4e);return t||e||"ltr"}var s3="rovingFocusGroup.onEntryFocus",R4e={bubbles:!1,cancelable:!0},GN="RovingFocusGroup",[PF,Soe,I4e]=lw(GN),[F4e,vw]=bi(GN,[I4e]),[M4e,L4e]=F4e(GN),koe=j.forwardRef((t,e)=>s.jsx(PF.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(PF.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx($4e,{...t,ref:e})})}));koe.displayName=GN;var $4e=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=j.useRef(null),h=Yr(e,m),x=bg(i),[g,v]=ql({prop:o,defaultProp:l??null,onChange:c,caller:GN}),[b,_]=j.useState(!1),w=mi(u),N=Soe(r),S=j.useRef(!1),[C,A]=j.useState(0);return j.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(s3,w),()=>R.removeEventListener(s3,w)},[w]),s.jsx(M4e,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:j.useCallback(R=>v(R),[v]),onItemShiftTab:j.useCallback(()=>_(!0),[]),onFocusableItemAdd:j.useCallback(()=>A(R=>R+1),[]),onFocusableItemRemove:j.useCallback(()=>A(R=>R-1),[]),children:s.jsx(xr.div,{tabIndex:b||C===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:Xt(t.onMouseDown,()=>{S.current=!0}),onFocus:Xt(t.onFocus,R=>{const O=!S.current;if(R.target===R.currentTarget&&O&&!b){const D=new CustomEvent(s3,R4e);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const P=N().filter(W=>W.focusable),E=P.find(W=>W.active),I=P.find(W=>W.id===g),U=[E,I,...P].filter(Boolean).map(W=>W.ref.current);Eoe(U,d)}}S.current=!1}),onBlur:Xt(t.onBlur,()=>_(!1))})})}),Coe="RovingFocusGroupItem",Aoe=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=t,c=Vc(),u=i||c,d=L4e(Coe,r),f=d.currentTabStopId===u,m=Soe(r),{onFocusableItemAdd:h,onFocusableItemRemove:x,currentTabStopId:g}=d;return j.useEffect(()=>{if(n)return h(),()=>x()},[n,h,x]),s.jsx(PF.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(xr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Xt(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Xt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Xt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=z4e(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const N=w.indexOf(v.currentTarget);w=d.loop?q4e(w,N+1):w.slice(N+1)}setTimeout(()=>Eoe(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});Aoe.displayName=Coe;var B4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function U4e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function z4e(t,e,r){const n=U4e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return B4e[n]}function Eoe(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function q4e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var O7=koe,D7=Aoe,TF=["Enter"," "],V4e=["ArrowDown","PageUp","Home"],Poe=["ArrowUp","PageDown","End"],W4e=[...V4e,...Poe],H4e={ltr:[...TF,"ArrowRight"],rtl:[...TF,"ArrowLeft"]},G4e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},YN="Menu",[hj,Y4e,K4e]=lw(YN),[zv,Toe]=bi(YN,[K4e,xg,vw]),eE=xg(),Ooe=vw(),[X4e,qv]=zv(YN),[J4e,KN]=zv(YN),Doe=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=t,l=eE(e),[c,u]=j.useState(null),d=j.useRef(!1),f=mi(i),m=bg(a);return j.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(DA,{...l,children:s.jsx(X4e,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(J4e,{scope:e,onClose:j.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};Doe.displayName=YN;var Z4e="MenuAnchor",R7=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=eE(r);return s.jsx(LN,{...a,...n,ref:e})});R7.displayName=Z4e;var I7="MenuPortal",[Q4e,Roe]=zv(I7,{forceMount:void 0}),Ioe=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=qv(I7,e);return s.jsx(Q4e,{scope:e,forceMount:r,children:s.jsx(ao,{present:r||i.open,children:s.jsx(cw,{asChild:!0,container:a,children:n})})})};Ioe.displayName=I7;var Rd="MenuContent",[eCe,F7]=zv(Rd),Foe=j.forwardRef((t,e)=>{const r=Roe(Rd,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=qv(Rd,t.__scopeMenu),o=KN(Rd,t.__scopeMenu);return s.jsx(hj.Provider,{scope:t.__scopeMenu,children:s.jsx(ao,{present:n||i.open,children:s.jsx(hj.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(tCe,{...a,ref:e}):s.jsx(rCe,{...a,ref:e})})})})}),tCe=j.forwardRef((t,e)=>{const r=qv(Rd,t.__scopeMenu),n=j.useRef(null),a=Yr(e,n);return j.useEffect(()=>{const i=n.current;if(i)return JA(i)},[]),s.jsx(M7,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Xt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),rCe=j.forwardRef((t,e)=>{const r=qv(Rd,t.__scopeMenu);return s.jsx(M7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),nCe=H0("MenuContent.ScrollLock"),M7=j.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...g}=t,v=qv(Rd,r),b=KN(Rd,r),_=eE(r),w=Ooe(r),N=Y4e(r),[S,C]=j.useState(null),A=j.useRef(null),R=Yr(e,A,v.onContentChange),O=j.useRef(0),D=j.useRef(""),P=j.useRef(0),E=j.useRef(null),I=j.useRef("right"),M=j.useRef(0),U=x?zN:j.Fragment,W=x?{as:nCe,allowPinchZoom:!0}:void 0,Y=z=>{const q=D.current+z,V=N().filter(ce=>!ce.disabled),L=document.activeElement,X=V.find(ce=>ce.ref.current===L)?.textValue,K=V.map(ce=>ce.textValue),Q=pCe(K,q,X),oe=V.find(ce=>ce.textValue===Q)?.ref.current;(function ce(de){D.current=de,window.clearTimeout(O.current),de!==""&&(O.current=window.setTimeout(()=>ce(""),1e3))})(q),oe&&setTimeout(()=>oe.focus())};j.useEffect(()=>()=>window.clearTimeout(O.current),[]),KA();const J=j.useCallback(z=>I.current===E.current?.side&&xCe(z,E.current?.area),[]);return s.jsx(eCe,{scope:r,searchRef:D,onItemEnter:j.useCallback(z=>{J(z)&&z.preventDefault()},[J]),onItemLeave:j.useCallback(z=>{J(z)||(A.current?.focus(),C(null))},[J]),onTriggerLeave:j.useCallback(z=>{J(z)&&z.preventDefault()},[J]),pointerGraceTimerRef:P,onPointerGraceIntentChange:j.useCallback(z=>{E.current=z},[]),children:s.jsx(U,{...W,children:s.jsx(UN,{asChild:!0,trapped:a,onMountAutoFocus:Xt(i,z=>{z.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx($v,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:s.jsx(O7,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Xt(c,z=>{b.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(RA,{role:"menu","aria-orientation":"vertical","data-state":Zoe(v.open),"data-radix-menu-content":"",dir:b.dir,..._,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:Xt(g.onKeyDown,z=>{const V=z.target.closest("[data-radix-menu-content]")===z.currentTarget,L=z.ctrlKey||z.altKey||z.metaKey,X=z.key.length===1;V&&(z.key==="Tab"&&z.preventDefault(),!L&&X&&Y(z.key));const K=A.current;if(z.target!==K||!W4e.includes(z.key))return;z.preventDefault();const oe=N().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);Poe.includes(z.key)&&oe.reverse(),hCe(oe)}),onBlur:Xt(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:Xt(t.onPointerMove,mj(z=>{const q=z.target,V=M.current!==z.clientX;if(z.currentTarget.contains(q)&&V){const L=z.clientX>M.current?"right":"left";I.current=L,M.current=z.clientX}}))})})})})})})});Foe.displayName=Rd;var sCe="MenuGroup",L7=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(xr.div,{role:"group",...n,ref:e})});L7.displayName=sCe;var aCe="MenuLabel",Moe=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(xr.div,{...n,ref:e})});Moe.displayName=aCe;var C4="MenuItem",PV="menu.itemSelect",tE=j.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=j.useRef(null),o=KN(C4,t.__scopeMenu),l=F7(C4,t.__scopeMenu),c=Yr(e,i),u=j.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(PV,{bubbles:!0,cancelable:!0});f.addEventListener(PV,h=>n?.(h),{once:!0}),SL(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Loe,{...a,ref:c,disabled:r,onClick:Xt(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),u.current=!0},onPointerUp:Xt(t.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:Xt(t.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||TF.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});tE.displayName=C4;var Loe=j.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,o=F7(C4,r),l=Ooe(r),c=j.useRef(null),u=Yr(e,c),[d,f]=j.useState(!1),[m,h]=j.useState("");return j.useEffect(()=>{const x=c.current;x&&h((x.textContent??"").trim())},[i.children]),s.jsx(hj.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(D7,{asChild:!0,...l,focusable:!n,children:s.jsx(xr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Xt(t.onPointerMove,mj(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Xt(t.onPointerLeave,mj(x=>o.onItemLeave(x))),onFocus:Xt(t.onFocus,()=>f(!0)),onBlur:Xt(t.onBlur,()=>f(!1))})})})}),iCe="MenuCheckboxItem",$oe=j.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return s.jsx(Voe,{scope:t.__scopeMenu,checked:r,children:s.jsx(tE,{role:"menuitemcheckbox","aria-checked":A4(r)?"mixed":r,...a,ref:e,"data-state":B7(r),onSelect:Xt(a.onSelect,()=>n?.(A4(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$oe.displayName=iCe;var Boe="MenuRadioGroup",[oCe,lCe]=zv(Boe,{value:void 0,onValueChange:()=>{}}),Uoe=j.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=mi(n);return s.jsx(oCe,{scope:t.__scopeMenu,value:r,onValueChange:i,children:s.jsx(L7,{...a,ref:e})})});Uoe.displayName=Boe;var zoe="MenuRadioItem",qoe=j.forwardRef((t,e)=>{const{value:r,...n}=t,a=lCe(zoe,t.__scopeMenu),i=r===a.value;return s.jsx(Voe,{scope:t.__scopeMenu,checked:i,children:s.jsx(tE,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":B7(i),onSelect:Xt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});qoe.displayName=zoe;var $7="MenuItemIndicator",[Voe,cCe]=zv($7,{checked:!1}),Woe=j.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=cCe($7,r);return s.jsx(ao,{present:n||A4(i.checked)||i.checked===!0,children:s.jsx(xr.span,{...a,ref:e,"data-state":B7(i.checked)})})});Woe.displayName=$7;var uCe="MenuSeparator",Hoe=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(xr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Hoe.displayName=uCe;var dCe="MenuArrow",Goe=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=eE(r);return s.jsx(IA,{...a,...n,ref:e})});Goe.displayName=dCe;var fCe="MenuSub",[Pgt,Yoe]=zv(fCe),G_="MenuSubTrigger",Koe=j.forwardRef((t,e)=>{const r=qv(G_,t.__scopeMenu),n=KN(G_,t.__scopeMenu),a=Yoe(G_,t.__scopeMenu),i=F7(G_,t.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>d,[d]),j.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(R7,{asChild:!0,...u,children:s.jsx(Loe,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Zoe(r.open),...t,ref:SA(e,a.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Xt(t.onPointerMove,mj(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Xt(t.onPointerLeave,mj(f=>{d();const m=r.content?.getBoundingClientRect();if(m){const h=r.content?.dataset.side,x=h==="right",g=x?-5:5,v=m[x?"left":"right"],b=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:v,y:m.bottom}],side:h}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Xt(t.onKeyDown,f=>{const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||H4e[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});Koe.displayName=G_;var Xoe="MenuSubContent",Joe=j.forwardRef((t,e)=>{const r=Roe(Rd,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=qv(Rd,t.__scopeMenu),o=KN(Rd,t.__scopeMenu),l=Yoe(Xoe,t.__scopeMenu),c=j.useRef(null),u=Yr(e,c);return s.jsx(hj.Provider,{scope:t.__scopeMenu,children:s.jsx(ao,{present:n||i.open,children:s.jsx(hj.Slot,{scope:t.__scopeMenu,children:s.jsx(M7,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Xt(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Xt(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Xt(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=G4e[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});Joe.displayName=Xoe;function Zoe(t){return t?"open":"closed"}function A4(t){return t==="indeterminate"}function B7(t){return A4(t)?"indeterminate":t?"checked":"unchecked"}function hCe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function mCe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function pCe(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=mCe(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function gCe(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function xCe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return gCe(r,e)}function mj(t){return e=>e.pointerType==="mouse"?t(e):void 0}var vCe=Doe,yCe=R7,bCe=Ioe,wCe=Foe,_Ce=L7,jCe=Moe,NCe=tE,SCe=$oe,kCe=Uoe,CCe=qoe,ACe=Woe,ECe=Hoe,PCe=Goe,TCe=Koe,OCe=Joe,rE="DropdownMenu",[DCe]=bi(rE,[Toe]),vc=Toe(),[RCe,Qoe]=DCe(rE),ele=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=vc(e),u=j.useRef(null),[d,f]=ql({prop:a,defaultProp:i??!1,onChange:o,caller:rE});return s.jsx(RCe,{scope:e,triggerId:Vc(),triggerRef:u,contentId:Vc(),open:d,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(vCe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};ele.displayName=rE;var tle="DropdownMenuTrigger",rle=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=Qoe(tle,r),o=vc(r);return s.jsx(yCe,{asChild:!0,...o,children:s.jsx(xr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:SA(e,i.triggerRef),onPointerDown:Xt(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Xt(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});rle.displayName=tle;var ICe="DropdownMenuPortal",nle=t=>{const{__scopeDropdownMenu:e,...r}=t,n=vc(e);return s.jsx(bCe,{...n,...r})};nle.displayName=ICe;var sle="DropdownMenuContent",ale=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qoe(sle,r),i=vc(r),o=j.useRef(!1);return s.jsx(wCe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:Xt(t.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Xt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ale.displayName=sle;var FCe="DropdownMenuGroup",MCe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(_Ce,{...a,...n,ref:e})});MCe.displayName=FCe;var LCe="DropdownMenuLabel",ile=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(jCe,{...a,...n,ref:e})});ile.displayName=LCe;var $Ce="DropdownMenuItem",ole=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(NCe,{...a,...n,ref:e})});ole.displayName=$Ce;var BCe="DropdownMenuCheckboxItem",lle=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(SCe,{...a,...n,ref:e})});lle.displayName=BCe;var UCe="DropdownMenuRadioGroup",zCe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(kCe,{...a,...n,ref:e})});zCe.displayName=UCe;var qCe="DropdownMenuRadioItem",cle=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(CCe,{...a,...n,ref:e})});cle.displayName=qCe;var VCe="DropdownMenuItemIndicator",ule=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(ACe,{...a,...n,ref:e})});ule.displayName=VCe;var WCe="DropdownMenuSeparator",dle=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(ECe,{...a,...n,ref:e})});dle.displayName=WCe;var HCe="DropdownMenuArrow",GCe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(PCe,{...a,...n,ref:e})});GCe.displayName=HCe;var YCe="DropdownMenuSubTrigger",fle=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(TCe,{...a,...n,ref:e})});fle.displayName=YCe;var KCe="DropdownMenuSubContent",hle=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=vc(r);return s.jsx(OCe,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hle.displayName=KCe;var XCe=ele,JCe=rle,ZCe=nle,mle=ale,ple=ile,gle=ole,xle=lle,vle=cle,yle=ule,ble=dle,wle=fle,_le=hle;const Uf=XCe,zf=JCe,QCe=j.forwardRef(({className:t,inset:e,children:r,...n},a)=>s.jsxs(wle,{ref:a,className:Gt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,s.jsx($h,{className:"ml-auto h-4 w-4"})]}));QCe.displayName=wle.displayName;const eAe=j.forwardRef(({className:t,...e},r)=>s.jsx(_le,{ref:r,className:Gt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));eAe.displayName=_le.displayName;const Md=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(ZCe,{children:s.jsx(mle,{ref:n,sideOffset:e,className:Gt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Md.displayName=mle.displayName;const es=j.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(gle,{ref:n,className:Gt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));es.displayName=gle.displayName;const tAe=j.forwardRef(({className:t,children:e,checked:r,...n},a)=>s.jsxs(xle,{ref:a,className:Gt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yle,{children:s.jsx(On,{className:"h-4 w-4"})})}),e]}));tAe.displayName=xle.displayName;const rAe=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(vle,{ref:n,className:Gt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yle,{children:s.jsx($ne,{className:"h-2 w-2 fill-current"})})}),e]}));rAe.displayName=vle.displayName;const nAe=j.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(ple,{ref:n,className:Gt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));nAe.displayName=ple.displayName;const Vv=j.forwardRef(({className:t,...e},r)=>s.jsx(ble,{ref:r,className:Gt("-mx-1 my-1 h-px bg-muted",t),...e}));Vv.displayName=ble.displayName;function dl(){const{setTheme:t}=nse();return s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"outline",size:"icon",className:"transition-all duration-300 hover:scale-110 hover:rotate-12",children:[s.jsx(Gz,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(qz,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(Md,{align:"end",children:[s.jsxs(es,{onClick:()=>t("light"),children:[s.jsx(Gz,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"})]}),s.jsxs(es,{onClick:()=>t("dark"),children:[s.jsx(qz,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"})]}),s.jsxs(es,{onClick:()=>t("system"),children:[s.jsx("span",{className:"mr-2 h-4 w-4",children:""}),s.jsx("span",{children:"System"})]})]})]})}const pv=({size:t=40,showBackground:e=!0,className:r=""})=>s.jsx("div",{className:`${e?"bg-blue-600 rounded-lg p-2":""} inline-flex items-center justify-center ${r}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.50",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:[s.jsx("path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5"}),s.jsx("path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244"}),s.jsx("path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05"})]})}),sAe=P7,aAe=aoe,iAe=T7,jle=j.forwardRef(({className:t,...e},r)=>s.jsx(qN,{className:Gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));jle.displayName=qN.displayName;const oAe=uw("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Nle=j.forwardRef(({side:t="right",className:e,children:r,...n},a)=>s.jsxs(iAe,{children:[s.jsx(jle,{}),s.jsxs(VN,{ref:a,className:Gt(oAe({side:t}),e),...n,children:[r,s.jsxs(QA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(so,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nle.displayName=VN.displayName;const Sle=({className:t,...e})=>s.jsx("div",{className:Gt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Sle.displayName="SheetHeader";const kle=j.forwardRef(({className:t,...e},r)=>s.jsx(WN,{ref:r,className:Gt("text-lg font-semibold text-foreground",t),...e}));kle.displayName=WN.displayName;const lAe=j.forwardRef(({className:t,...e},r)=>s.jsx(HN,{ref:r,className:Gt("text-sm text-muted-foreground",t),...e}));lAe.displayName=HN.displayName;const cAe=()=>{const[t,e]=j.useState(!1),{heroRef:r,featuresRef:n,stepsRef:a}=g5e(),[i,o]=xw(),[l,c]=j.useState(!1);j.useEffect(()=>{i.get("error")==="account_deleted"&&(c(!0),o({}))},[i,o]);const u=[{icon:Une,title:"Free Subdomain",description:"Get your own professional subdomain instantly. Launch your store without any domain costs.",gradient:"from-blue-500 to-cyan-500",size:"normal"},{icon:$_,title:"Banner & Carousel",description:"Showcase offers with stunning banners and auto-rotating carousels that grab attention.",gradient:"from-purple-500 to-pink-500",size:"normal"},{icon:owe,title:"Product Videos",description:"Engage customers with high-quality product videos that boost conversions.",gradient:"from-rose-500 to-orange-500",size:"normal"},{icon:qx,title:"WhatsApp Integration",description:"Receive orders directly on WhatsApp. Chat with customers in real-time instantly.",gradient:"from-green-500 to-emerald-500",size:"normal"},{icon:Ks,title:"Online Payments",description:"Accept direct payments online with secure, trusted payment gateways.",gradient:"from-indigo-500 to-blue-500",size:"normal"},{icon:Vl,title:"SEO & Indexing",description:"Get found on Google with built-in SEO optimization and automatic indexing.",gradient:"from-yellow-500 to-orange-500",size:"normal"},{icon:IN,title:"Instagram Auto-Reply",description:"Never miss a customer inquiry with intelligent Instagram auto-reply features.",gradient:"from-pink-500 to-rose-500",size:"normal"},{icon:gc,title:"Google Reviews",description:"Display authentic Google Reviews on your site to build trust and credibility.",gradient:"from-amber-500 to-yellow-500",size:"normal"},{icon:Ho,title:"Advanced CRM",description:"Manage customer relationships with powerful CRM tools for growth.",gradient:"from-teal-500 to-cyan-500",size:"normal"},{icon:Wbe,title:"Stock Management",description:"Track inventory in real-time. Never oversell with smart stock alerts.",gradient:"from-violet-500 to-purple-500",size:"normal"},{icon:Od,title:"Instagram Videos",description:"Embed Instagram videos directly on your website for better engagement.",gradient:"from-fuchsia-500 to-pink-500",size:"normal"},{icon:Gbe,title:"Business Analytics",description:"Advanced insights into sales, customers, and trends. Make data-driven decisions.",gradient:"from-emerald-500 to-teal-500",size:"normal"},{icon:Xbe,title:"Order Management",description:"Streamline order processing from checkout to delivery with ease.",gradient:"from-sky-500 to-blue-500",size:"normal"},{icon:rwe,title:"Discounts",description:"Create flexible discounts with percentage, fixed amounts, or tiered pricing. Boost sales automatically.",gradient:"from-red-500 to-orange-500",size:"normal"},{icon:Ks,title:"Coupons",description:"Generate unique coupon codes and track redemptions. Perfect for referrals and loyalty programs.",gradient:"from-purple-500 to-pink-500",size:"normal"}],d=[{number:"01",title:"Sign Up",description:"Create your account in seconds with Google"},{number:"02",title:"Add Products",description:"Build your product catalog easily"},{number:"03",title:"Customize",description:"Brand your store with colors and logo"},{number:"04",title:"Go Live",description:"Share your store link and start selling"}],f={"@context":"https://schema.org","@type":"SoftwareApplication",name:"DigitalDukandar",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR",description:"Free 14-day trial, no credit card required"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"10000",bestRating:"5",worstRating:"1"},description:"Create your online store in minutes. Launch a professional e-commerce website with custom subdomain, WhatsApp integration, and powerful analytics. No coding required.",url:"https://digitaldukandar.in",image:"https://digitaldukandar.in/logo.png",provider:{"@type":"Organization",name:"DigitalDukandar",url:"https://digitaldukandar.in"}};return s.jsxs("div",{className:"min-h-screen bg-background font-inter",children:[s.jsx(ng,{open:l,onOpenChange:c,children:s.jsxs(lp,{className:"max-w-md",children:[s.jsxs(cp,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3",children:s.jsx(_o,{className:"h-8 w-8 text-red-600 dark:text-red-400"})})}),s.jsx(dp,{className:"text-center text-xl font-bold",children:"Account Deleted"}),s.jsx(fp,{className:"text-center pt-4 text-base",children:"Your account has been deleted by the platform administrator. All your data has been permanently removed from the system."})]}),s.jsx(up,{className:"flex justify-center",children:s.jsx(we,{onClick:()=>c(!1),className:"w-full sm:w-auto px-8",children:"OK"})})]})}),s.jsxs(zA,{children:[s.jsx("title",{children:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"title",content:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"description",content:"Launch your professional online store in 5 minutes. Get free subdomain, WhatsApp integration, inventory management & analytics. No coding needed. Trusted by 10,000+ Indian entrepreneurs. Start free trial!"}),s.jsx("meta",{name:"keywords",content:"online store builder India, create online store, e-commerce platform India, free online store, sell online India, WhatsApp store, digital store maker, small business e-commerce, Indian online shopping platform, store builder no coding"}),s.jsx("link",{rel:"canonical",href:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{property:"og:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{property:"og:site_name",content:"DigitalDukandar"}),s.jsx("meta",{property:"og:locale",content:"en_IN"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{name:"twitter:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{name:"twitter:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),s.jsx("meta",{name:"googlebot",content:"index, follow"}),s.jsx("meta",{name:"language",content:"English"}),s.jsx("meta",{name:"geo.region",content:"IN"}),s.jsx("meta",{name:"geo.placename",content:"India"}),s.jsx("link",{rel:"sitemap",type:"application/xml",href:"/sitemap.xml"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(f)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8 h-16 sm:h-20 flex items-center justify-between gap-2",children:[s.jsxs(hr,{to:"/",className:"flex items-center gap-3 sm:gap-4 group flex-shrink-0","aria-label":"DigitalDukandar Home",children:[s.jsx(pv,{size:40,className:"transition-transform group-hover:scale-105"}),s.jsx("span",{className:"font-playfair font-bold text-2xl sm:text-3xl md:text-4xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#features",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),s.jsx(hr,{to:"/pricing",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(hr,{to:"/guide",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Guide"}),s.jsx(hr,{to:"/demo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Demo Store"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[s.jsx(dl,{}),s.jsxs(sAe,{open:t,onOpenChange:e,children:[s.jsx(aAe,{asChild:!0,children:s.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden h-11 w-11 min-h-[44px]","aria-label":"Open menu","aria-expanded":t,children:s.jsx(RN,{className:"h-5 w-5"})})}),s.jsxs(Nle,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsx(Sle,{children:s.jsxs(kle,{className:"flex items-center gap-2",children:[s.jsx(L_,{className:"w-5 h-5 text-primary"}),"Menu"]})}),s.jsxs("nav",{className:"flex flex-col gap-4 mt-8","aria-label":"Mobile navigation",children:[s.jsx("a",{href:"#features",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>e(!1),children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>e(!1),children:"How It Works"}),s.jsx(hr,{to:"/pricing",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>e(!1),children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>e(!1),children:"For Helpers"}),s.jsx(hr,{to:"/guide",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>e(!1),children:"Guide"}),s.jsx(hr,{to:"/demo",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>e(!1),children:"Demo Store"}),s.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[s.jsx(hr,{to:"/auth",className:"w-full",children:s.jsx(we,{variant:"outline",size:"lg",className:"w-full h-12 min-h-[48px]",children:"Login"})}),s.jsx(hr,{to:"/auth",className:"w-full",children:s.jsxs(we,{size:"lg",className:"w-full h-12 min-h-[48px]",children:["Get Started Free",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]})]})]})]}),s.jsx(hr,{to:"/auth",className:"hidden md:inline-block",children:s.jsx(we,{variant:"ghost",size:"sm",className:"font-medium h-11 px-4 text-sm min-h-[44px]",children:"Login"})}),s.jsx(hr,{to:"/auth",className:"hidden md:inline-block",children:s.jsxs(we,{size:"sm",className:"shadow-lg hover:shadow-xl transition-all font-medium h-11 px-4 text-sm min-h-[44px]",children:["Get Started Free",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsxs("section",{ref:r,className:"relative overflow-hidden bg-gradient-to-b from-background via-primary/[0.02] to-background",children:[s.jsx(x5e,{}),s.jsx(XT,{color:"blue",size:"lg",position:{top:"-20%",right:"-10%"}}),s.jsx(XT,{color:"purple",size:"md",position:{bottom:"-15%",left:"-5%"}}),s.jsx(XT,{color:"pink",size:"md",position:{top:"30%",left:"50%"}}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"hero-decorative absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"hero-decorative absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8 py-24 lg:py-36",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsxs("div",{className:"hero-badge inline-flex items-center gap-2 bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 text-primary px-5 py-2.5 rounded-full text-sm font-semibold mb-8 shadow-lg backdrop-blur-sm",children:[s.jsx(gc,{className:"w-4 h-4 fill-primary"}),"Trusted by 10,000+ Entrepreneurs Worldwide",s.jsx(dw,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"hero-heading mb-6",children:[s.jsx(yV,{text:"Free Online Store India",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-foreground leading-[1.1]",delay:.3}),s.jsx(yV,{text:"Launch in 5 Minutes",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold leading-[1.1] mt-2 bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent bg-[length:200%_100%] animate-gradient",delay:.6,gradient:!0})]}),s.jsx("p",{className:"hero-subheading text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed font-light",children:"Create your professional online store builder for small business India. Sell online with WhatsApp integration, custom domain, and powerful inventory management. No coding required - start your free e-commerce platform today!"}),s.jsxs("div",{className:"hero-cta flex flex-col sm:flex-row gap-5 justify-center items-center mb-12",children:[s.jsx(hr,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(we,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl hover:shadow-primary/25 transition-all group font-semibold",children:[s.jsx(L_,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Start Building Free"]})}),s.jsx(hr,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(we,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(Y0,{className:"w-5 h-5 mr-2"}),"Explore Demo Store",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"hero-trust flex flex-wrap justify-center items-center gap-8 text-sm font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(On,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"No credit card required"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(On,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Setup in 5 minutes"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(On,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Cancel anytime"})]})]}),s.jsxs("div",{className:"mt-16 flex justify-center items-center gap-3 text-sm text-muted-foreground animate-in fade-in duration-700 delay-700",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(m=>s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-background flex items-center justify-center",children:s.jsx(ewe,{className:"w-4 h-4 text-primary"})},m))}),s.jsx("span",{className:"font-medium",children:"Join thousands of successful store owners"})]})]})})]}),s.jsx("section",{ref:n,id:"features",className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Premium Features"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Unique & Powerful Features"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Powerful features designed to help you launch, manage, and grow your online business with elegance and ease."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:u.map((m,h)=>s.jsxs(He,{className:"feature-card relative p-6 lg:p-8 hover:shadow-2xl transition-all duration-700 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden hover:-translate-y-2 hover:scale-[1.02]",style:{animationDelay:`${h*50}ms`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m.gradient} opacity-5 group-hover:opacity-20 transition-all duration-700`}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m.gradient} opacity-5 group-hover:opacity-20 blur-xl transition-all duration-700`}),s.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 bg-gradient-to-br ${m.gradient} opacity-5 rounded-bl-[100px] group-hover:opacity-10 transition-opacity duration-500`}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsx("div",{className:"mb-4 lg:mb-6",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m.gradient} rounded-2xl blur-sm opacity-20 group-hover:blur-md group-hover:opacity-30 transition-all duration-500`}),s.jsx("div",{className:`relative w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br ${m.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-2xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500`,children:s.jsx(m.icon,{className:"w-7 h-7 lg:w-8 lg:h-8 text-white"})})]})}),s.jsx("h3",{className:"font-bold mb-2 lg:mb-3 text-foreground transition-all duration-300 text-lg lg:text-xl",children:m.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed flex-grow text-sm lg:text-base",children:m.description}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0",children:[s.jsx("span",{className:`bg-gradient-to-br ${m.gradient} bg-clip-text text-transparent`,children:"Learn more"}),s.jsx(eo,{className:`w-4 h-4 bg-gradient-to-br ${m.gradient} text-transparent group-hover:translate-x-1 transition-transform duration-300`,style:{background:"linear-gradient(to bottom right, currentColor, currentColor)",WebkitBackgroundClip:"text"}})]})]})]},h))})]})}),s.jsx("section",{ref:a,id:"how-it-works",className:"relative bg-gradient-to-b from-muted/30 via-muted/20 to-background py-24 lg:py-32",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Simple Process"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"How It Works"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Launch your luxury online store in four elegant steps"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-6",children:d.map((m,h)=>s.jsxs("div",{className:"step-card relative",children:[s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-3xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-primary via-primary to-primary/80 border-2 border-primary/30 rounded-3xl flex items-center justify-center shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300",children:s.jsx("span",{className:"font-playfair font-bold text-3xl text-primary-foreground",children:m.number})})]}),s.jsx("h3",{className:"font-playfair font-bold text-2xl mb-3 text-foreground",children:m.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:m.description})]}),h<d.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-10 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-primary/40 via-primary/20 to-transparent"})]},h))})]})})}),s.jsxs("section",{id:"helper-program",className:"relative bg-gradient-to-b from-background via-green-500/5 to-background py-24 lg:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-green-500/10 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Helper Program"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Earn While Helping Others Succeed"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Join our helper program and earn generous commissions by helping store owners build their online businesses"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[s.jsxs(He,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-emerald-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(yo,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Earn Commission"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Get 10% direct commission + 5% network commission on every successful store signup"})]})]}),s.jsxs(He,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(Ho,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Build Your Network"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Recruit other helpers and earn from their referrals too. Create passive income streams"})]})]}),s.jsxs(He,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(AA,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Flexible Work"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Work on your own schedule. Help businesses online from anywhere in the world"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center",children:[s.jsx(hr,{to:"/become-helper",className:"w-full sm:w-auto",children:s.jsxs(we,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 transition-all group font-semibold",children:[s.jsx(Wne,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Apply to Become a Helper"]})}),s.jsx(hr,{to:"/application-status",className:"w-full sm:w-auto",children:s.jsxs(we,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(bp,{className:"w-5 h-5 mr-2"}),"Check Application Status"]})})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already a helper? ",s.jsx(hr,{to:"/helper/login",className:"text-primary font-semibold hover:underline",children:"Login here"})]})})]})})]}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32 bg-muted/20",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Why DigitalDukandar is the Best Free Online Store Builder in India"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Trusted by over 10,000+ small businesses across India to sell online and grow their digital presence"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Built for Indian Entrepreneurs"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"e-commerce platform India"})," is designed specifically for local businesses. Accept payments in INR, integrate WhatsApp for customer communication, and reach customers across India with our ",s.jsx("strong",{children:"online store builder"})," made for the Indian market."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Completely Free to Start"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Start your ",s.jsx("strong",{children:"free online store"})," with our 14-day trial - no credit card required. Our ",s.jsx("strong",{children:"affordable pricing plans"})," start from just 299/month, making it the most cost-effective way to ",s.jsx("strong",{children:"sell online India"})," for small businesses."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" WhatsApp Store Integration"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Convert your business into a ",s.jsx("strong",{children:"WhatsApp store"})," instantly. Accept orders directly through WhatsApp - India's most popular messaging app. Perfect for ",s.jsx("strong",{children:"small business e-commerce"})," owners who want to meet customers where they are."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" No Coding Required"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"digital store maker"})," requires zero technical knowledge. Create a professional ",s.jsx("strong",{children:"online shopping website"})," in minutes with our easy drag-and-drop interface. Perfect for ",s.jsx("strong",{children:"store builder no coding"})," solutions in India."]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-10 rounded-2xl border border-primary/20 text-center",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold mb-4 text-foreground",children:"Start Your Free Online Store in India Today"}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:["Join 10,000+ successful Indian entrepreneurs using DigitalDukandar as their ",s.jsx("strong",{children:"e-commerce platform India"}),". Create your ",s.jsx("strong",{children:"online store builder for small business India"})," in just 5 minutes."]}),s.jsx(hr,{to:"/auth",children:s.jsxs(we,{size:"lg",className:"h-14 px-10 text-base font-semibold shadow-xl",children:[s.jsx(L_,{className:"w-5 h-5 mr-2"}),"Create Free Online Store Now",s.jsx(eo,{className:"w-5 h-5 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(He,{className:"relative overflow-hidden border-0 shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary/90"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),s.jsxs("div",{className:"relative p-10 lg:p-20 text-center text-primary-foreground",children:[s.jsx("div",{className:"mb-6",children:s.jsx($l,{className:"w-16 h-16 mx-auto text-primary-foreground/90"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Ready to Launch Your Store?"}),s.jsx("p",{className:"text-xl md:text-2xl mb-10 opacity-95 max-w-3xl mx-auto leading-relaxed font-light",children:"Join thousands of successful entrepreneurs. Create your professional online store today and start selling in minutes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center mb-8",children:[s.jsx(hr,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(we,{size:"lg",variant:"secondary",className:"w-full sm:w-auto h-14 shadow-2xl hover:shadow-primary-foreground/20 text-base px-10 font-semibold",children:[s.jsx(L_,{className:"w-5 h-5 mr-2"}),"Start Building Free",s.jsx(eo,{className:"w-5 h-5 ml-2"})]})}),s.jsx(hr,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(we,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 bg-white/10 hover:bg-white/20 border-2 border-white/30 text-white text-base px-10 font-semibold backdrop-blur-sm",children:[s.jsx(Y0,{className:"w-5 h-5 mr-2"}),"View Demo Store"]})})]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm font-medium opacity-90",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:"No credit card required"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:"Free 14-day trial"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel anytime"})]})]})]})]})})}),s.jsx("footer",{className:"border-t border-border/50 bg-gradient-to-b from-background to-muted/20",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pv,{size:32}),s.jsx("span",{className:"font-playfair font-bold text-xl sm:text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm font-medium text-muted-foreground",children:[s.jsx(hr,{to:"/home",className:"hover:text-foreground transition-colors",children:"Demo Store"}),s.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"}),s.jsx(hr,{to:"/pricing",className:"hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#how-it-works",className:"hover:text-foreground transition-colors",children:"How It Works"}),s.jsx("a",{href:"#helper-program",className:"hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(hr,{to:"/guide",className:"hover:text-foreground transition-colors",children:"Guide"}),s.jsx(hr,{to:"/become-helper",className:"hover:text-foreground transition-colors",children:"Apply as Helper"}),s.jsx(hr,{to:"/application-status",className:"hover:text-foreground transition-colors",children:"Check Status"}),s.jsx(hr,{to:"/privacy-policy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),s.jsx(hr,{to:"/terms-of-service",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"/sitemap.xml",className:"hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Sitemap"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 StoreBuilder. All rights reserved."})]})})})]})},TV=()=>{const t=zd();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},uAe="modulepreload",dAe=function(t){return"/"+t},OV={},Oh=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=c(r.map(u=>{if(u=dAe(u),u in OV)return;OV[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":uAe,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,x)=>{m.addEventListener("load",h),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},fAe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oh(async()=>{const{default:n}=await Promise.resolve().then(()=>yw);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class U7 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class DV extends U7{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class RV extends U7{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class IV extends U7{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var OF;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(OF||(OF={}));var hAe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class mAe{constructor(e,{headers:r={},customFetch:n,region:a=OF.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=fAe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return hAe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const h=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new DV(b)}),x=h.headers.get("x-relay-error");if(x&&x==="true")throw new RV(h);if(!h.ok)throw new IV(h);let g=((a=h.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new DV(i)}:{data:null,error:i,response:i instanceof IV||i instanceof RV?i.context:void 0}}})}}var Fo={},qy={},Vy={},Wy={},Hy={},Gy={},pAe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_b=pAe();const gAe=_b.fetch,Cle=_b.fetch.bind(_b),Ale=_b.Headers,xAe=_b.Request,vAe=_b.Response,yw=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ale,Request:xAe,Response:vAe,default:Cle,fetch:gAe},Symbol.toStringTag,{value:"Module"})),yAe=M1e(yw);var Rk={},FV;function Ele(){if(FV)return Rk;FV=1,Object.defineProperty(Rk,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Rk.default=t,Rk}var MV;function Ple(){if(MV)return Gy;MV=1;var t=Gy&&Gy.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gy,"__esModule",{value:!0});const e=t(yAe),r=t(Ele());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,h;let x=null,g=null,v=null,b=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=C:g=JSON.parse(C))}const N=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(x={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,b=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const N=await u.text();try{x=JSON.parse(N),Array.isArray(x)&&u.status===404&&(g=[],x=null,b=200,_="OK")}catch{u.status===404&&N===""?(b=204,_="No Content"):x={message:N}}if(x&&this.isMaybeSingle&&(!((h=x?.details)===null||h===void 0)&&h.includes("0 rows"))&&(x=null,b=200,_="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:g,count:v,status:b,statusText:_}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Gy.default=n,Gy}var LV;function Tle(){if(LV)return Hy;LV=1;var t=Hy&&Hy.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hy,"__esModule",{value:!0});const e=t(Ple());class r extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Hy.default=r,Hy}var $V;function z7(){if($V)return Wy;$V=1;var t=Wy&&Wy.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wy,"__esModule",{value:!0});const e=t(Tle());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Wy.default=r,Wy}var BV;function Ole(){if(BV)return Vy;BV=1;var t=Vy&&Vy.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vy,"__esModule",{value:!0});const e=t(z7());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(f.length>0){const m=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Vy.default=r,Vy}var UV;function bAe(){if(UV)return qy;UV=1;var t=qy&&qy.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qy,"__esModule",{value:!0});const e=t(Ole()),r=t(z7());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(f="POST",h=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:x,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return qy.default=n,qy}var zV;function wAe(){if(zV)return Fo;zV=1;var t=Fo&&Fo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.PostgrestError=Fo.PostgrestBuilder=Fo.PostgrestTransformBuilder=Fo.PostgrestFilterBuilder=Fo.PostgrestQueryBuilder=Fo.PostgrestClient=void 0;const e=t(bAe());Fo.PostgrestClient=e.default;const r=t(Ole());Fo.PostgrestQueryBuilder=r.default;const n=t(z7());Fo.PostgrestFilterBuilder=n.default;const a=t(Tle());Fo.PostgrestTransformBuilder=a.default;const i=t(Ple());Fo.PostgrestBuilder=i.default;const o=t(Ele());return Fo.PostgrestError=o.default,Fo.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Fo}var _Ae=wAe();const jAe=us(_Ae),{PostgrestClient:NAe,PostgrestQueryBuilder:Tgt,PostgrestFilterBuilder:Ogt,PostgrestTransformBuilder:Dgt,PostgrestBuilder:Rgt,PostgrestError:Igt}=jAe;class SAe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kAe="2.75.0",CAe=`realtime-js/${kAe}`,AAe="1.0.0",DF=1e4,EAe=1e3,PAe=100;var b2;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(b2||(b2={}));var mo;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mo||(mo={}));var wf;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wf||(wf={}));var RF;(function(t){t.websocket="websocket"})(RF||(RF={}));var Sx;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Sx||(Sx={}));class TAe{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Dle{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ua;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ua||(ua={}));const qV=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=OAe(o,t,e,a),i),{}):{}},OAe=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a?.type,o=r[t];return i&&!n.includes(i)?Rle(i,o):IF(o)},Rle=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return FAe(e,r)}switch(t){case ua.bool:return DAe(e);case ua.float4:case ua.float8:case ua.int2:case ua.int4:case ua.int8:case ua.numeric:case ua.oid:return RAe(e);case ua.json:case ua.jsonb:return IAe(e);case ua.timestamp:return MAe(e);case ua.abstime:case ua.date:case ua.daterange:case ua.int4range:case ua.int8range:case ua.money:case ua.reltime:case ua.text:case ua.time:case ua.timestamptz:case ua.timetz:case ua.tsrange:case ua.tstzrange:return IF(e);default:return IF(e)}},IF=t=>t,DAe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},RAe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},IAe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},FAe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Rle(e,l))}return t},MAe=t=>typeof t=="string"?t.replace(" ","T"):t,Ile=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class a3{constructor(e,r,n={},a=DF){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var VV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(VV||(VV={}));class w2{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=w2.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=w2.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=w2.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),x=d.filter(v=>h.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var WV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(WV||(WV={}));var _2;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_2||(_2={}));var Fm;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fm||(Fm={}));class q7{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=mo.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new a3(this,wf.join,this.params,this.timeout),this.rejoinTimer=new Dle(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mo.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mo.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=mo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=mo.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wf.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new w2(this),this.broadcastEndpointURL=Ile(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mo.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[_2.PRESENCE]&&this.bindings[_2.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(Fm.CHANNEL_ERROR,h)),this._onClose(()=>e?.(Fm.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var x;if(this.socket.setAuth(),h===void 0){e?.(Fm.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(x=g?.length)!==null&&x!==void 0?x:0,b=[];for(let _=0;_<v;_++){const w=g[_],{filter:{event:N,schema:S,table:C,filter:A}}=w,R=h&&h[_];if(R&&R.event===N&&R.schema===S&&R.table===C&&R.filter===A)b.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=mo.errored,e?.(Fm.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Fm.SUBSCRIBED);return}}).receive("error",h=>{this.state=mo.errored,e?.(Fm.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(Fm.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===mo.joined&&e===_2.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mo.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wf.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new a3(this,wf.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mo.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new a3(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>PAe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=wf;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var x,g,v;return((x=h.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var x,g,v,b,_,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const N=h.id,S=(x=h.filter)===null||x===void 0?void 0:x.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(S==="*"||S?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(_=(b=h?.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return N==="*"||N===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:v,commit_timestamp:b,type:_,errors:w}=x;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(x))}h.callback(m,n)})}_isClosed(){return this.state===mo.closed}_isJoined(){return this.state===mo.joined}_isJoining(){return this.state===mo.joining}_isLeaving(){return this.state===mo.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&q7.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wf.close,{},e)}_onError(e){this._on(wf.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mo.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=qV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=qV(e.columns,e.old_record)),r}}const i3=()=>{},Ik={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LAe=[1e3,2e3,5e3,1e4],$Ae=1e4,BAe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UAe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DF,this.transport=null,this.heartbeatIntervalMs=Ik.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=i3,this.ref=0,this.reconnectTimer=null,this.logger=i3,this.conn=null,this.sendBuffer=[],this.serializer=new TAe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Oh(async()=>{const{default:l}=await Promise.resolve().then(()=>yw);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${RF.websocket}`,this.httpEndpoint=Ile(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SAe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AAe}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case b2.connecting:return Sx.Connecting;case b2.open:return Sx.Open;case b2.closing:return Sx.Closing;default:return Sx.Closed}}isConnected(){return this.connectionState()===Sx.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new q7(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(EAe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ik.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wf.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([BAe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:CAe};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(wf.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dle(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ik.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:DF,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Ik.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:i3,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(f=>LAe[f-1]||$Ae),this.encode=(u=e?.encode)!==null&&u!==void 0?u:((f,m)=>m(JSON.stringify(f))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class V7 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ki(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zAe extends V7{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class FF extends V7{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var qAe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Fle=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oh(async()=>{const{default:n}=await Promise.resolve().then(()=>yw);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},VAe=()=>qAe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oh(()=>Promise.resolve().then(()=>yw),void 0)).Response:Response}),MF=t=>{if(Array.isArray(t))return t.map(r=>MF(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=MF(n)}),e},WAe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Wv=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const o3=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HAe=(t,e,r)=>Wv(void 0,void 0,void 0,function*(){const n=yield VAe();t instanceof n&&!r?.noResolveJson?t.json().then(a=>{const i=t.status||500,o=a?.statusCode||i+"";e(new zAe(o3(a),i,o))}).catch(a=>{e(new FF(o3(a),a))}):e(new FF(o3(t),t))}),GAe=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:(WAe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function XN(t,e,r,n,a,i){return Wv(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,GAe(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>HAe(c,l,n))})})}function E4(t,e,r,n){return Wv(this,void 0,void 0,function*(){return XN(t,"GET",e,r,n)})}function xh(t,e,r,n,a){return Wv(this,void 0,void 0,function*(){return XN(t,"POST",e,n,a,r)})}function LF(t,e,r,n,a){return Wv(this,void 0,void 0,function*(){return XN(t,"PUT",e,n,a,r)})}function YAe(t,e,r,n){return Wv(this,void 0,void 0,function*(){return XN(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mle(t,e,r,n,a){return Wv(this,void 0,void 0,function*(){return XN(t,"DELETE",e,n,a,r)})}var KAe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class XAe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return KAe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ki(e))return{data:null,error:e};throw e}})}}var JAe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class ZAe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new XAe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return JAe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ki(e))return{data:null,error:e};throw e}})}}var Rc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const QAe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eEe{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Fle(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return Rc(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},HV),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?LF:xh)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ki(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Rc(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Rc(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:HV.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield LF(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ki(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Rc(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield xh(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new V7("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}update(e,r,n){return Rc(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Rc(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ki(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Rc(this,void 0,void 0,function*(){try{return{data:{path:(yield xh(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ki(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Rc(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield xh(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ki(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Rc(this,void 0,void 0,function*(){try{const a=yield xh(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ki(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>E4(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new ZAe(c,this.shouldThrowOnError)}info(e){return Rc(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield E4(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:MF(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}exists(e){return Rc(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield YAe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n)&&n instanceof FF){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Rc(this,void 0,void 0,function*(){try{return{data:yield Mle(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}list(e,r,n){return Rc(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},QAe),r),{prefix:e||""});return{data:yield xh(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ki(a))return{data:null,error:a};throw a}})}listV2(e,r){return Rc(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield xh(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const tEe="2.75.0",rEe={"X-Client-Info":`storage-js/${tEe}`};var Yy=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class nEe{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rEe),r),this.fetch=Fle(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Yy(this,void 0,void 0,function*(){try{return{data:yield E4(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ki(e))return{data:null,error:e};throw e}})}getBucket(e){return Yy(this,void 0,void 0,function*(){try{return{data:yield E4(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}createBucket(e){return Yy(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield xh(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ki(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return Yy(this,void 0,void 0,function*(){try{return{data:yield LF(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Yy(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Yy(this,void 0,void 0,function*(){try{return{data:yield Mle(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}}class sEe extends nEe{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new eEe(this.url,this.headers,e,this.fetch)}}const aEe="2.75.0";let Y_="";typeof Deno<"u"?Y_="deno":typeof document<"u"?Y_="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Y_="react-native":Y_="node";const iEe={"X-Client-Info":`supabase-js-${Y_}/${aEe}`},oEe={headers:iEe},lEe={schema:"public"},cEe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uEe={};var dEe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const fEe=t=>{let e;return t?e=t:typeof fetch>"u"?e=Cle:e=fetch,(...r)=>e(...r)},hEe=()=>typeof Headers>"u"?Ale:Headers,mEe=(t,e,r)=>{const n=fEe(r),a=hEe();return(i,o)=>dEe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var pEe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function gEe(t){return t.endsWith("/")?t:t+"/"}function xEe(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pEe(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function vEe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gEe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lle="2.75.0",m1=30*1e3,$F=3,l3=$F*m1,yEe="http://localhost:9999",bEe="supabase.auth.token",wEe={"X-Client-Info":`gotrue-js/${Lle}`},BF="X-Supabase-Api-Version",$le={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_Ee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jEe=600*1e3;class pj extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Jr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NEe extends pj{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function SEe(t){return Jr(t)&&t.name==="AuthApiError"}class kx extends pj{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wg extends pj{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class p0 extends wg{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kEe(t){return Jr(t)&&t.name==="AuthSessionMissingError"}class Ky extends wg{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fk extends wg{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mk extends wg{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CEe(t){return Jr(t)&&t.name==="AuthImplicitGrantRedirectError"}class GV extends wg{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class UF extends wg{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function c3(t){return Jr(t)&&t.name==="AuthRetryableFetchError"}class YV extends wg{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zF extends wg{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const P4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),KV=` 	
\r=`.split(""),AEe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<KV.length;e+=1)t[KV[e].charCodeAt(0)]=-2;for(let e=0;e<P4.length;e+=1)t[P4[e].charCodeAt(0)]=e;return t})();function XV(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(P4[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(P4[n]),e.queuedBits-=6}}function Ble(t,e,r){const n=AEe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JV(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{TEe(o,n,r)};for(let o=0;o<t.length;o+=1)Ble(t.charCodeAt(o),a,i);return e.join("")}function EEe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function PEe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}EEe(n,e)}}function TEe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Z1(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Ble(t.charCodeAt(a),r,n);return new Uint8Array(e)}function OEe(t){const e=[];return PEe(t,r=>e.push(r)),new Uint8Array(e)}function Ix(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>XV(a,r,n)),XV(null,r,n),e.join("")}function DEe(t){return Math.round(Date.now()/1e3)+t}function REe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mu=()=>typeof window<"u"&&typeof document<"u",cx={tested:!1,writable:!1},Ule=()=>{if(!mu())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cx.tested)return cx.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cx.tested=!0,cx.writable=!0}catch{cx.tested=!0,cx.writable=!1}return cx.writable};function IEe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const zle=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oh(async()=>{const{default:n}=await Promise.resolve().then(()=>yw);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},FEe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",p1=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ux=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},o0=async(t,e)=>{await t.removeItem(e)};class nE{constructor(){this.promise=new nE.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}nE.promiseConstructor=Promise;function u3(t){const e=t.split(".");if(e.length!==3)throw new zF("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_Ee.test(e[n]))throw new zF("JWT not in base64url format");return{header:JSON.parse(JV(e[0])),payload:JSON.parse(JV(e[1])),signature:Z1(e[2]),raw:{header:e[0],payload:e[1]}}}async function MEe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LEe(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function $Ee(t){return("0"+t.toString(16)).substr(-2)}function BEe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,$Ee).join("")}async function UEe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function zEe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await UEe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xy(t,e,r=!1){const n=BEe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await p1(t,`${e}-code-verifier`,a);const i=await zEe(n);return[i,n===i?"plain":"s256"]}const qEe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VEe(t){const e=t.headers.get(BF);if(!e||!e.match(qEe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function WEe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function HEe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GEe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jy(t){if(!GEe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function d3(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZV(t){return JSON.parse(JSON.stringify(t))}var YEe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const yx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),KEe=[502,503,504];async function QV(t){var e;if(!FEe(t))throw new UF(yx(t),0);if(KEe.includes(t.status))throw new UF(yx(t),t.status);let r;try{r=await t.json()}catch(i){throw new kx(yx(i),i)}let n;const a=VEe(t);if(a&&a.getTime()>=$le["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new YV(yx(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new p0}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new YV(yx(r),t.status,r.weak_password.reasons);throw new NEe(yx(r),t.status||500,n)}const XEe=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Nn(t,e,r,n){var a;const i=Object.assign({},n?.headers);i[BF]||(i[BF]=$le["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await JEe(t,e,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function JEe(t,e,r,n,a,i){const o=XEe(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new UF(yx(c),0)}if(l.ok||await QV(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await QV(c)}}function vf(t){var e;let r=null;ePe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=DEe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function eW(t){const e=vf(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function y0(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ZEe(t){return{data:t,error:null}}function QEe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=YEe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function tW(t){return t}function ePe(t){return t.access_token&&t.refresh_token&&t.expires_in}const f3=["global","local","others"];var tPe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class rPe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=zle(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=f3[0]){if(f3.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${f3.join(", ")}`);try{return await Nn(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Jr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Nn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:y0})}catch(n){if(Jr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=tPe(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Nn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:QEe,redirectTo:r?.redirectTo})}catch(r){if(Jr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Nn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:y0})}catch(r){if(Jr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Nn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tW});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Jr(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Jy(e);try{return await Nn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:y0})}catch(r){if(Jr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Jy(e);try{return await Nn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:y0})}catch(n){if(Jr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Jy(e);try{return await Nn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:y0})}catch(n){if(Jr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Jy(e.userId);try{const{data:r,error:n}=await Nn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Jy(e.userId),Jy(e.id);try{return{data:await Nn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Nn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tW});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Jr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Nn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Nn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Nn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Nn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}}}function rW(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Zy={debug:!!(globalThis&&Ule()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qle extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nPe extends qle{}async function sPe(t,e,r){Zy.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zy.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Zy.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Zy.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Zy.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nPe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zy.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function aPe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vle(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function iPe(t){return parseInt(t,16)}function oPe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function lPe(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Vle(t.address),x=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",v=`${x} wants you to sign in with your Ethereum account:
${h}

${g}`;let b=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}b+=_}return`${v}
${b}`}class Gi extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class T4 extends Gi{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function cPe({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Gi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Gi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Gi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Gi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Gi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Gi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Gi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Hle(o)){if(i.rp.id!==o)return new Gi({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Gi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Gi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Gi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Gi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function uPe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Gi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Gi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Hle(n)){if(r.rpId!==n)return new Gi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Gi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Gi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Gi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Wle=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class dPe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const fPe=new dPe;function hPe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=Wle(t,["challenge","user","excludeCredentials"]),i=Z1(e).buffer,o=Object.assign(Object.assign({},r),{id:Z1(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Z1(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function mPe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Wle(t,["challenge","allowCredentials"]),a=Z1(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Z1(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function pPe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ix(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ix(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gPe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ix(new Uint8Array(a.authenticatorData)),clientDataJSON:Ix(new Uint8Array(a.clientDataJSON)),signature:Ix(new Uint8Array(a.signature)),userHandle:a.userHandle?Ix(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hle(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function nW(){var t,e;return!!(mu()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function xPe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new T4("Browser returned unexpected credential type",e)}:{data:null,error:new T4("Empty credential response",e)}}catch(e){return{data:null,error:cPe({error:e,options:t})}}}async function vPe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new T4("Browser returned unexpected credential type",e)}:{data:null,error:new T4("Empty credential response",e)}}catch(e){return{data:null,error:uPe({error:e,options:t})}}}const yPe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},bPe={userVerification:"preferred",hints:["security-key"]};function O4(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=O4(l,o):n[i]=O4(o)}else n[i]=o}return n}function wPe(t,e){return O4(yPe,t,e||{})}function _Pe(t,e){return O4(bPe,t,e||{})}class jPe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??fPe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=wPe(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:f}=await xPe({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=_Pe(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:f}=await vPe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Jr(o)?{data:null,error:o}:{data:null,error:new kx("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new pj("rpId is required for WebAuthn authentication")};try{if(!nW())return{data:null,error:new kx("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Jr(o)?{data:null,error:o}:{data:null,error:new kx("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new pj("rpId is required for WebAuthn registration")};try{if(!nW())return{data:null,error:new kx("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Jr(o)?{data:null,error:o}:{data:null,error:new kx("Unexpected error in register",o)}}}}aPe();const NPe={url:yEe,storageKey:bEe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wEe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sW(t,e,r){return await r()}const Qy={};class gj{get jwks(){var e,r;return(r=(e=Qy[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Qy[this.storageKey]=Object.assign(Object.assign({},Qy[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Qy[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qy[this.storageKey]=Object.assign(Object.assign({},Qy[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gj.nextInstanceID,gj.nextInstanceID+=1,this.instanceID>0&&mu()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},NPe),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new rPe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zle(a.fetch),this.lock=a.lock||sW,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:mu()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=sPe:this.lock=sW,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jPe(this)},this.persistSession?(a.storage?this.storage=a.storage:Ule()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rW(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=rW(this.memoryStorage)),mu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lle}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=IEe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mu()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),CEe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Jr(r)?{error:r}:{error:new kx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:vf}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Jr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:m}=e;let h=null,x=null;this.flowType==="pkce"&&([h,x]=await Xy(this.storage,this.storageKey)),i=await Nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:h,code_challenge_method:x},xform:vf})}else if("phone"in e){const{phone:d,password:f,options:m}=e;i=await Nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(a=m?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:vf})}else throw new Fk("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Jr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:eW})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:eW})}else throw new Fk("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ky}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Jr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,l,c,u,d,f,m;let h,x;if("message"in e)h=e.message,x=e.signature;else{const{chain:g,wallet:v,statement:b,options:_}=e;let w;if(mu())if(typeof v=="object")w=v;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const N=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Vle(S[0]);let A=(n=_?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const O=await w.request({method:"eth_chainId"});A=iPe(O)}const R={domain:N.host,address:C,statement:b,uri:N.href,version:"1",chainId:A,nonce:(a=_?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=lPe(R),x=await w.request({method:"personal_sign",params:[oPe(h),C]})}try{const{data:g,error:v}=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:x},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:vf});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ky}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(Jr(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var r,n,a,i,o,l,c,u,d,f,m,h;let x,g;if("message"in e)x=e.message,g=e.signature;else{const{chain:v,wallet:b,statement:_,options:w}=e;let N;if(mu())if(typeof b=="object")N=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))N=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const S=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const C=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),_?{statement:_}:null));let A;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")A=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)A=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)x=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),g=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const C=await N.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:v,error:b}=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ix(g)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:vf});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ky}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(Jr(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await ux(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vf});if(await o0(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ky}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Jr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:vf}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ky}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Jr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Xy(this.storage,this.storageKey));const{error:f}=await Nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Fk("You must provide either an email or phone number.")}catch(l){if(Jr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Nn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:vf});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Jr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Xy(this.storage,this.storageKey)),await Nn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ZEe})}catch(i){if(Jr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new p0;const{error:a}=await Nn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Jr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await Nn(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await Nn(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Fk("You must provide either an email or phone number and a type")}catch(r){if(Jr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ux(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<l3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ux(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=d3()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:y0}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new p0}:await Nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:y0})})}catch(r){if(Jr(r))return kEe(r)&&(await this._removeSession(),await o0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new p0;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Xy(this.storage,this.storageKey));const{data:u,error:d}=await Nn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:y0});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Jr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new p0;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=u3(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Jr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new p0;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Jr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!mu())throw new Mk("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mk(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new GV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mk("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new GV("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Mk("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=m1&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Jr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ux(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(SEe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await o0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=REe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Xy(this.storage,this.storageKey,!0));try{return await Nn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Jr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Nn(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return mu()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Jr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,f=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:vf}),{data:m,error:h}=f;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ky}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:h})}catch(a){if(Jr(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Nn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await LEe(async a=>(a>0&&await MEe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Nn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vf})),(a,i)=>{const o=200*Math.pow(2,a);return i&&c3(i)&&Date.now()+o-n<m1})}catch(n){if(this._debug(r,"error",n),Jr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),mu()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ux(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ux(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await p1(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o?.user)!==null&&e!==void 0?e:d3()}else if(a&&!a.user&&!a.user){const o=await ux(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await o0(this.storage,this.storageKey+"-user"),await p1(this.storage,this.storageKey,a)):a.user=d3()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<l3;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${l3}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),c3(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new p0;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new nE;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new p0;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Jr(i)){const o={data:null,error:i};return c3(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await p1(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=ZV(a);await p1(this.storage,this.storageKey,i)}else{const a=ZV(r);await p1(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await o0(this.storage,this.storageKey),await o0(this.storage,this.storageKey+"-code-verifier"),await o0(this.storage,this.storageKey+"-user"),this.userStorage&&await o0(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mu()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),m1);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/m1);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${m1}ms, refresh threshold is ${$F} ticks`),a<=$F&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qle)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mu()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xy(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Nn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Nn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?pPe(e.webauthn.credential_response):gPe(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Nn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Jr(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Nn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hPe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mPe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Jr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=u3(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+jEe>a)return n;const{data:i,error:o}=await Nn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:x}=await this.getSession();if(x||!h.session)return{data:null,error:x};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=u3(n);r?.allowExpired||WEe(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=HEe(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,OEe(`${l}.${c}`)))throw new zF("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Jr(n))return{data:null,error:n};throw n}}}gj.nextInstanceID=0;const SPe=gj;class kPe extends SPe{constructor(e){super(e)}}var CPe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class APe{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=vEe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:lEe,realtime:uEe,auth:Object.assign(Object.assign({},cEe),{storageKey:c}),global:oEe},d=xEe(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=mEe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new NAe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new sEe(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new mAe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return CPe(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kPe({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new UAe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EPe=(t,e,r)=>new APe(t,e,r);function PPe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}PPe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TPe="https://vexeuxsvckpfvuxqchqu.supabase.co",OPe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c",ae=EPe(TPe,OPe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});ae.auth.onAuthStateChange((t,e)=>{t==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):(t==="SIGNED_OUT"||!e&&t==="INITIAL_SESSION")&&localStorage.removeItem("supabase.auth.token")});ae.auth.getSession().catch(t=>{t?.message?.includes("Refresh Token")&&(console.warn("Clearing invalid refresh token"),ae.auth.signOut({scope:"local"}))});const W7=async()=>{const{data:{session:t}}=await ae.auth.getSession();if(!t?.user)return null;const{data:e}=await ae.from("stores").select("id").eq("user_id",t.user.id).maybeSingle();return e?.id||null},DPe=()=>{console.log("Products are now stored in Supabase database")},qF=async()=>{const t=await W7();if(!t)return[];const{data:e,error:r}=await ae.from("products").select("*").eq("store_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching products:",r),[]):e||[]},xj=async t=>{if(!t){const n=await W7();if(!n)return[];t=n}const{data:e,error:r}=await ae.from("products").select("*").eq("store_id",t).eq("status","published").order("created_at",{ascending:!1});return r?(console.error("Error fetching published products:",r),[]):e||[]},z5=async t=>{const{data:e,error:r}=await ae.from("products").select("*").eq("id",t).maybeSingle();return r?(console.error("Error fetching product:",r),null):e},RPe=async(t,e)=>{let r=ae.from("products").select("*").eq("slug",t);e&&(r=r.eq("store_id",e));const{data:n,error:a}=await r.maybeSingle();return a?(console.error("Error fetching product by slug:",a),null):n},IPe=async t=>{const e=await W7();if(!e)throw console.error("[PRODUCT] No store ID found for current user"),new Error("No store found for current user");console.log("[PRODUCT] Creating product for store:",e,"Name:",t.name,"Status:",t.status||"published");const{data:r,error:n}=await ae.from("products").insert([{store_id:e,name:t.name,slug:t.slug,description:t.description,category:t.category,base_price:t.basePrice||t.base_price,price_range:t.priceRange||t.price_range,stock:t.stock||0,sku:t.sku,status:t.status||"published",images:t.images||[],video_url:t.videoUrl||t.video_url,variants:t.variants||[]}]).select().single();if(n)throw console.error("[PRODUCT] Error adding product:",n),n;return console.log("[PRODUCT]  Product created successfully:",r.id,"Name:",r.name,"Status:",r.status),r},FPe=async(t,e)=>{const r={};e.name!==void 0&&(r.name=e.name),e.description!==void 0&&(r.description=e.description),e.category!==void 0&&(r.category=e.category),(e.basePrice!==void 0||e.base_price!==void 0)&&(r.base_price=e.basePrice||e.base_price),(e.priceRange!==void 0||e.price_range!==void 0)&&(r.price_range=e.priceRange||e.price_range),e.stock!==void 0&&(r.stock=e.stock),e.sku!==void 0&&(r.sku=e.sku),e.status!==void 0&&(r.status=e.status),e.images!==void 0&&(r.images=e.images),(e.videoUrl!==void 0||e.video_url!==void 0)&&(r.video_url=e.videoUrl||e.video_url),e.variants!==void 0&&(r.variants=e.variants);const{data:n,error:a}=await ae.from("products").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating product:",a),a;return n},MPe=async t=>{if(!(!t||!t.includes("digitaldukandar.in/uploads/")))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:t})}),await ae.from("media_library").delete().eq("file_url",t)}catch(e){console.error("Failed to delete image:",t,e)}},LPe=async t=>{const{data:e}=await ae.from("products").select("images").eq("id",t).single();e?.images&&Array.isArray(e.images)&&await Promise.all(e.images.map(n=>MPe(n)));const{error:r}=await ae.from("products").delete().eq("id",t);if(r)throw console.error("Error deleting product:",r),r},aW=()=>{const t=en(),[e,r]=j.useState({totalProducts:0,activeProducts:0,totalOrders:0,totalCustomers:0}),[n,a]=j.useState("Your Store"),[i,o]=j.useState(""),[l,c]=j.useState(null),[u,d]=j.useState(null),[f,m]=j.useState(null),[h,x]=j.useState(null),[g,v]=j.useState([]);j.useEffect(()=>{DPe(),(async()=>{const{data:{user:N}}=await ae.auth.getUser();if(!N)return;const{data:S}=await ae.from("stores").select("id, name, slug, subdomain, custom_domain").eq("user_id",N.id).maybeSingle();if(!S)return;const C=OSe(S.subdomain||S.slug,S.custom_domain);o(C);const[A,R,O,D]=await Promise.all([qF(),ae.from("subscriptions").select(`
            trial_ends_at,
            current_period_end,
            created_at,
            status,
            subscription_plans (trial_days)
          `).eq("user_id",N.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),ae.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",S.id),ae.from("orders").select("customer_email, customer_phone").eq("store_id",S.id),ae.from("stores").update({last_admin_visit:new Date().toISOString()}).eq("id",S.id)]);S.name&&a(S.name);const P=R.data,E=P&&P.length>0?P[0]:null;if(E){let Y=null;if(E.status==="trial"?E.trial_ends_at?Y=new Date(E.trial_ends_at):E.subscription_plans?.trial_days&&(Y=new Date(E.created_at),Y.setDate(Y.getDate()+E.subscription_plans.trial_days)):E.status==="active"&&E.current_period_end&&(Y=new Date(E.current_period_end)),Y){const J=new Date,z=Y.getTime()-J.getTime(),q=Math.ceil(z/(1e3*60*60*24));q>0&&(c(q),d(Y),m(E.status))}}const I=A.filter(Y=>Y.status==="published").length,M=O.count||0;let U=0;D.data&&(U=new Set(D.data.map(J=>J.customer_email||J.customer_phone)).size),r({totalProducts:A.length,activeProducts:I,totalOrders:M,totalCustomers:U});const W=[{id:"1",action:"Product published",product:A[0]?.name||"Sample Product",time:"2 hours ago"},{id:"2",action:"New order received",product:A[1]?.name||"Sample Product",time:"5 hours ago"},{id:"3",action:"Product updated",product:A[2]?.name||"Sample Product",time:"1 day ago"}];v(W)})()},[]),j.useEffect(()=>{if(!u)return;const w=()=>{const S=new Date,C=u.getTime()-S.getTime();if(C<=0){x({days:0,hours:0,minutes:0,seconds:0});return}const A=Math.floor(C/(1e3*60*60*24)),R=Math.floor(C%(1e3*60*60*24)/(1e3*60*60)),O=Math.floor(C%(1e3*60*60)/(1e3*60)),D=Math.floor(C%(1e3*60)/1e3);x({days:A,hours:R,minutes:O,seconds:D})};w();const N=setInterval(w,1e3);return()=>clearInterval(N)},[u]);const b=[{title:"Add New Product",description:"Create a new product listing",icon:Yo,action:()=>t("/admin/products/add"),primary:!0},{title:"View All Products",description:"Manage your product catalog",icon:ra,action:()=>t("/admin/products"),primary:!1}],_=[{title:"Total Products",value:e.totalProducts,icon:aa,color:"text-primary",bgColor:"bg-primary/10"},{title:"Active Products",value:e.activeProducts,icon:$l,color:"text-success",bgColor:"bg-success/10"},{title:"Total Orders",value:e.totalOrders,icon:X0,color:"text-warning",bgColor:"bg-warning/10"},{title:"Customers",value:e.totalCustomers,icon:Ho,color:"text-primary",bgColor:"bg-primary/10"}];return s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Welcome back! "}),s.jsxs("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:["Here's what's happening with ",s.jsx("span",{className:"font-medium text-primary",children:n})," today."]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map((w,N)=>s.jsx(He,{className:"admin-stat-card group",children:s.jsx(Xe,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:w.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:w.value})]}),s.jsx("div",{className:`p-2 lg:p-3 rounded-xl ${w.bgColor} group-hover:scale-110 transition-transform duration-200 flex-shrink-0 ml-2`,children:s.jsx(w.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${w.color}`})})]})})},N))}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[s.jsx(X0,{className:"w-5 h-5"}),"Your Store URL"]})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm font-mono text-foreground break-all",children:i||"Loading..."})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(we,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{i&&(navigator.clipboard.writeText(i),et({title:"Link copied!",description:"Store URL copied to clipboard"}))},children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),s.jsxs(we,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{if(i){const w=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(i)}`;window.open(w,"_blank")}},children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),"Generate QR"]})]})]})]}),s.jsxs(He,{className:"admin-card",children:[s.jsxs(jt,{children:[s.jsx(Nt,{className:"text-xl font-semibold",children:"Quick Actions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get started with these common tasks"})]}),s.jsx(Xe,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map((w,N)=>s.jsx(He,{className:"admin-card cursor-pointer hover:shadow-lg transition-all duration-200 border-2 hover:border-primary/20",onClick:w.action,children:s.jsx(Xe,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-start gap-3 lg:gap-4",children:[s.jsx("div",{className:`p-2 lg:p-3 rounded-lg flex-shrink-0 ${w.primary?"bg-primary/10":"bg-muted"}`,children:s.jsx(w.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${w.primary?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1 text-sm lg:text-base",children:w.title}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground mb-3",children:w.description}),s.jsx(we,{variant:w.primary?"default":"outline",size:"sm",className:`w-full sm:w-auto ${w.primary?"admin-button-primary":"admin-button-secondary"}`,onClick:S=>{S.stopPropagation(),w.action()},children:"Get Started"})]})]})})},N))})]}),s.jsxs(He,{className:"border-l-4 border-l-primary",children:[s.jsxs(jt,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(gc,{className:"w-5 h-5 text-primary"}),"Getting Started"]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"2/4 complete"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"50%"}})})]}),s.jsxs(Xe,{className:"space-y-3",children:[[{done:!0,text:"Create account"},{done:!0,text:"Set up store"},{done:!1,text:"Add first product"},{done:!1,text:"Customize store appearance"}].map((w,N)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted transition-colors",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${w.done?"bg-success text-success-foreground":"bg-muted border-2 border-border"}`,children:w.done&&s.jsx("span",{className:"text-xs",children:""})}),s.jsx("span",{className:`text-sm ${w.done?"text-muted-foreground line-through":"text-foreground"}`,children:w.text})]},N)),s.jsx(we,{className:"w-full mt-4",size:"sm",children:"Complete Setup"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs(He,{className:"lg:col-span-2",children:[s.jsxs(jt,{children:[s.jsx(Nt,{className:"text-xl font-semibold",children:"Recent Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest updates from your store"})]}),s.jsx(Xe,{className:"space-y-3",children:g.length>0?g.map(w=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 flex-shrink-0",children:s.jsx(Xa,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:w.action}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:w.product}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w.time})]})]},w.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(aa,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recent activity to display"}),s.jsx("p",{className:"text-xs",children:"Start by adding your first product!"})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-lg font-semibold",children:"Tips & Resources"})}),s.jsx(Xe,{className:"space-y-3",children:[{icon:"",text:"Video Tutorials",color:"text-red-500"},{icon:"",text:"Help Documentation",color:"text-blue-500"},{icon:"",text:"Contact Support",color:"text-green-500"},{icon:"",text:"Best Practices Guide",color:"text-purple-500"}].map((w,N)=>s.jsxs(we,{variant:"ghost",className:"w-full justify-start hover:bg-muted",size:"sm",children:[s.jsx("span",{className:"text-lg mr-3",children:w.icon}),s.jsx("span",{className:"text-sm",children:w.text})]},N))})]})]})]})},lt=j.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:Gt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));lt.displayName="Input";var $Pe="Label",Gle=j.forwardRef((t,e)=>s.jsx(xr.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Gle.displayName=$Pe;var Yle=Gle;const BPe=uw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=j.forwardRef(({className:t,...e},r)=>s.jsx(Yle,{ref:r,className:Gt(BPe(),t),...e}));Be.displayName=Yle.displayName;const Ii=j.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:Gt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Ii.displayName="Textarea";const UPe=uw("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hn=j.forwardRef(({className:t,variant:e,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Gt(UPe({variant:e}),t),...r}));Hn.displayName="Alert";const H7=j.forwardRef(({className:t,...e},r)=>s.jsx("h5",{ref:r,className:Gt("mb-1 font-medium leading-none tracking-tight",t),...e}));H7.displayName="AlertTitle";const Gn=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Gt("text-sm [&_p]:leading-relaxed",t),...e}));Gn.displayName="AlertDescription";function JN(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var sE="Switch",[zPe]=bi(sE),[qPe,VPe]=zPe(sE),Kle=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,h]=j.useState(null),x=Yr(e,w=>h(w)),g=j.useRef(!1),v=m?d||!!m.closest("form"):!0,[b,_]=ql({prop:a,defaultProp:i??!1,onChange:u,caller:sE});return s.jsxs(qPe,{scope:r,checked:b,disabled:l,children:[s.jsx(xr.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Qle(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:Xt(t.onClick,w=>{_(N=>!N),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&s.jsx(Zle,{control:m,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Kle.displayName=sE;var Xle="SwitchThumb",Jle=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=VPe(Xle,r);return s.jsx(xr.span,{"data-state":Qle(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});Jle.displayName=Xle;var WPe="SwitchBubbleInput",Zle=j.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=j.useRef(null),l=Yr(o,i),c=JN(r),u=MN(e);return j.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const x=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(x)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Zle.displayName=WPe;function Qle(t){return t?"checked":"unchecked"}var ece=Kle,HPe=Jle;const Fn=j.forwardRef(({className:t,...e},r)=>s.jsx(ece,{className:Gt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-border transition-colors data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=unchecked]:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:s.jsx(HPe,{className:Gt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fn.displayName=ece.displayName;var aE="Collapsible",[GPe,tce]=bi(aE),[YPe,G7]=GPe(aE),rce=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=t,[c,u]=ql({prop:n,defaultProp:a??!1,onChange:o,caller:aE});return s.jsx(YPe,{scope:r,disabled:i,contentId:Vc(),open:c,onOpenToggle:j.useCallback(()=>u(d=>!d),[u]),children:s.jsx(xr.div,{"data-state":J7(c),"data-disabled":i?"":void 0,...l,ref:e})})});rce.displayName=aE;var nce="CollapsibleTrigger",Y7=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=G7(nce,r);return s.jsx(xr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":J7(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:Xt(t.onClick,a.onOpenToggle)})});Y7.displayName=nce;var K7="CollapsibleContent",X7=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=G7(K7,t.__scopeCollapsible);return s.jsx(ao,{present:r||a.open,children:({present:i})=>s.jsx(KPe,{...n,ref:e,present:i})})});X7.displayName=K7;var KPe=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,o=G7(K7,r),[l,c]=j.useState(n),u=j.useRef(null),d=Yr(e,u),f=j.useRef(0),m=f.current,h=j.useRef(0),x=h.current,g=o.open||l,v=j.useRef(g),b=j.useRef(void 0);return j.useEffect(()=>{const _=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(_)},[]),vi(()=>{const _=u.current;if(_){b.current=b.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const w=_.getBoundingClientRect();f.current=w.height,h.current=w.width,v.current||(_.style.transitionDuration=b.current.transitionDuration,_.style.animationName=b.current.animationName),c(n)}},[o.open,n]),s.jsx(xr.div,{"data-state":J7(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:g&&a})});function J7(t){return t?"open":"closed"}var sce=rce,XPe=Y7,JPe=X7;const q5=sce,V5=Y7,W5=X7,ss=P7,ZPe=T7,ace=j.forwardRef(({className:t,...e},r)=>s.jsx(qN,{ref:r,className:Gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ace.displayName=qN.displayName;const ts=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(ZPe,{children:[s.jsx(ace,{}),s.jsxs(VN,{ref:n,className:Gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,s.jsxs(QA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(so,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ts.displayName=VN.displayName;const as=({className:t,...e})=>s.jsx("div",{className:Gt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});as.displayName="DialogHeader";const to=({className:t,...e})=>s.jsx("div",{className:Gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});to.displayName="DialogFooter";const is=j.forwardRef(({className:t,...e},r)=>s.jsx(WN,{ref:r,className:Gt("text-lg font-semibold leading-none tracking-tight",t),...e}));is.displayName=WN.displayName;const ja=j.forwardRef(({className:t,...e},r)=>s.jsx(HN,{ref:r,className:Gt("text-sm text-muted-foreground",t),...e}));ja.displayName=HN.displayName;function iE(){const[t,e]=j.useState({maxProducts:null,currentProducts:0,whatsappOrdersLimit:null,whatsappOrdersUsed:0,websiteOrdersLimit:null,websiteOrdersUsed:0,enableAnalytics:!1,enableLocationSharing:!1,enableCustomDomain:!1,enableAiVoice:!1,isLoading:!0,hasActiveSubscription:!1});j.useEffect(()=>{r();const c=ae.channel("subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{console.log("Subscription changed, reloading limits..."),r()}).subscribe(),u=ae.channel("plans-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscription_plans"},()=>{console.log("Subscription plan changed, reloading limits..."),r()}).subscribe();return()=>{c.unsubscribe(),u.unsubscribe()}},[]);const r=async()=>{try{const{data:{user:c}}=await ae.auth.getUser();if(!c){e(x=>({...x,isLoading:!1}));return}const{data:u}=await ae.from("subscriptions").select(`
          *,
          subscription_plans(
            max_products,
            whatsapp_orders_limit,
            website_orders_limit,
            enable_analytics,
            enable_location_sharing,
            enable_custom_domain,
            enable_ai_voice
          )
        `).eq("user_id",c.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),d=u&&u.length>0?u[0]:null;if(!d||!d.subscription_plans){e(x=>({...x,isLoading:!1,hasActiveSubscription:!1}));return}const{data:f}=await ae.from("stores").select("id").eq("user_id",c.id).single();let m=0;if(f){const{count:x}=await ae.from("products").select("*",{count:"exact",head:!0}).eq("store_id",f.id).eq("status","published");m=x||0}const h=d.subscription_plans;e({maxProducts:h.max_products,currentProducts:m,whatsappOrdersLimit:h.whatsapp_orders_limit,whatsappOrdersUsed:d.whatsapp_orders_used||0,websiteOrdersLimit:h.website_orders_limit,websiteOrdersUsed:d.website_orders_used||0,enableAnalytics:h.enable_analytics||!1,enableLocationSharing:h.enable_location_sharing||!1,enableCustomDomain:h.enable_custom_domain||!1,enableAiVoice:h.enable_ai_voice||!1,isLoading:!1,hasActiveSubscription:["active","trial"].includes(d.status)})}catch(c){console.error("Error loading subscription limits:",c),e(u=>({...u,isLoading:!1}))}};return{...t,canPublishProduct:()=>t.hasActiveSubscription?t.maxProducts===null?!0:t.currentProducts<t.maxProducts:!1,canPlaceWhatsAppOrder:()=>!t.hasActiveSubscription||t.whatsappOrdersLimit===null?!1:t.whatsappOrdersLimit===0?!0:t.whatsappOrdersUsed<t.whatsappOrdersLimit,canPlaceWebsiteOrder:()=>!t.hasActiveSubscription||t.websiteOrdersLimit===null?!1:t.websiteOrdersLimit===0?!0:t.websiteOrdersUsed<t.websiteOrdersLimit,getProductLimitMessage:()=>{if(!t.hasActiveSubscription)return"No active subscription. Please upgrade to publish products.";if(t.maxProducts===null)return null;const c=t.maxProducts-t.currentProducts;return c<=0?`Product limit reached (${t.currentProducts}/${t.maxProducts}). Upgrade your plan to publish more products.`:c<=3?`Warning: Only ${c} product slots remaining (${t.currentProducts}/${t.maxProducts}).`:null},getOrderLimitWarning:()=>{if(!t.hasActiveSubscription)return"No active subscription. Please upgrade to place orders.";const c=t.whatsappOrdersLimit,u=t.whatsappOrdersUsed,d=t.websiteOrdersLimit,f=t.websiteOrdersUsed;if(c===null&&d===null)return"Ordering features are not available in your current plan.";if(c!==null&&c>0){const m=c-u;if(m<=0)return`WhatsApp order limit reached (${u}/${c}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} WhatsApp order slots remaining (${u}/${c}).`}if(d!==null&&d>0){const m=d-f;if(m<=0)return`Website order limit reached (${f}/${d}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} website order slots remaining (${f}/${d}).`}return null},refresh:r}}const QPe=async t=>{try{const{data:e,error:r}=await ae.from("stores").select("*").eq("id",t).single();if(r)throw r;if(!e)throw new Error("Store not found");const n=e,{data:a}=await ae.from("profiles").select("phone, email").eq("user_id",e.user_id).maybeSingle(),i=a,{data:o,error:l}=await ae.from("products").select("id, name, category, price_range, description, status").eq("store_id",t).eq("status","published").order("category",{ascending:!0}).order("name",{ascending:!0});if(l)throw l;const c=o||[],u=c.map(g=>g.id);let d=[];if(u.length>0){const{data:g,error:v}=await ae.from("product_variants").select("id, product_id, size, color, price, stock_quantity").in("product_id",u).order("price",{ascending:!0});!v&&g&&(d=g)}let f="";if(f+="=".repeat(80)+`
`,f+=`${n.name.toUpperCase()}
`,f+=`STORE INFORMATION FOR AI VOICE AGENT
`,f+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,f+="=".repeat(80)+`

`,f+="-".repeat(80)+`
`,f+=`STORE INFORMATION
`,f+="-".repeat(80)+`

`,f+=`Store Name: ${n.name}
`,n.description&&(f+=`
Description:
${n.description}
`),n.address&&(f+=`
Address:
${n.address}
`),n.whatsapp_number&&(f+=`
WhatsApp: ${n.whatsapp_number}
`),i?.phone&&(f+=`Phone: ${i.phone}
`),i?.email&&(f+=`Email: ${i.email}
`),n.social_links&&(f+=`
Social Media:
`,n.social_links.facebook&&(f+=`  Facebook: ${n.social_links.facebook}
`),n.social_links.instagram&&(f+=`  Instagram: ${n.social_links.instagram}
`),n.social_links.twitter&&(f+=`  Twitter: ${n.social_links.twitter}
`)),f+=`
`,f+="-".repeat(80)+`
`,f+=`STORE POLICIES
`,f+="-".repeat(80)+`

`,n.policies?.deliveryAreas&&(f+=`Delivery Areas:
${n.policies.deliveryAreas}

`),n.policies?.returnPolicy&&(f+=`Return Policy:
${n.policies.returnPolicy}

`),n.policies?.shippingPolicy&&(f+=`Shipping Policy:
${n.policies.shippingPolicy}

`),n.policies?.termsConditions&&(f+=`Terms & Conditions:
${n.policies.termsConditions}

`),f+="-".repeat(80)+`
`,f+=`PRODUCT CATALOG (${c.length} Products)
`,f+="-".repeat(80)+`

`,c.length>0){const g=c.reduce((v,b)=>{const _=b.category||"Uncategorized";return v[_]||(v[_]=[]),v[_].push(b),v},{});Object.entries(g).forEach(([v,b],_)=>{_>0&&(f+=`
`),f+=`
${"=".repeat(80)}
`,f+=`CATEGORY: ${v.toUpperCase()}
`,f+=`${"=".repeat(80)}

`,b.forEach((w,N)=>{f+=`${N+1}. ${w.name}
`,w.price_range&&(f+=`   Price: ${w.price_range}
`),w.description&&(f+=`   Description: ${w.description}
`);const S=d.filter(C=>C.product_id===w.id);S.length>0&&(f+=`   Available Variants:
`,S.forEach((C,A)=>{let R=`     ${A+1}) `;const O=[];C.size&&O.push(`Size: ${C.size}`),C.color&&O.push(`Color: ${C.color}`),O.push(`Price: Rs ${C.price}`),O.push(`Stock: ${C.stock_quantity}`),R+=O.join(", "),f+=R+`
`})),f+=`
`})})}else f+=`No products available.

`;f+=`
`+"=".repeat(80)+`
`,f+=`END OF STORE INFORMATION
`,f+="=".repeat(80)+`
`;const m=new Blob([f],{type:"text/plain;charset=utf-8"}),h=URL.createObjectURL(m),x=document.createElement("a");return x.href=h,x.download=`${n.slug}-store-info-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(h),{success:!0,filename:x.download}}catch(e){throw console.error("Error generating TXT:",e),e}};function eTe({open:t,onClose:e,userEmail:r,storeName:n}){const[a,i]=j.useState(""),[o,l]=j.useState(!1);en();const c=async()=>{if(a!=="DELETE"){et({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:{user:u}}=await ae.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:f}=await ae.functions.invoke("delete-user-account",{body:{userId:u.id}});if(f)throw f;if(!d.success)throw new Error(d.error||"Failed to delete account");et({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted"}),await ae.auth.signOut(),setTimeout(()=>{window.location.href="/"},2e3)}catch(u){et({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"}),l(!1)}};return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsxs(ts,{className:"max-w-lg",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(hi,{className:"w-5 h-5"}),"Delete My Account Permanently"]}),s.jsx(ja,{children:"This action is permanent and cannot be undone. All your data will be permanently deleted."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(hi,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:" Warning: This Cannot Be Undone!"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["This action is ",s.jsx("strong",{children:"permanent and irreversible"}),". All your data will be completely deleted from our servers."]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"The following will be permanently deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 pl-4",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your account"})," - You will not be able to log in anymore"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your store"})," - ",n||"Your store"," will be permanently removed"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All products"})," - Every product you've created"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All orders"})," - Complete order history"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Subscription data"})," - Billing history and subscription info"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Analytics data"})," - All performance metrics"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Uploaded files"})," - Images, documents, and assets"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Account: ",s.jsx("span",{className:"font-bold text-foreground",children:r})]}),n&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store: ",s.jsx("span",{className:"font-semibold",children:n})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs(Be,{htmlFor:"confirmation",className:"text-base",children:["Type ",s.jsx("span",{className:"font-bold text-destructive text-lg",children:"DELETE"})," to confirm permanent deletion"]}),s.jsx(lt,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here",className:"text-center font-semibold text-lg",autoComplete:"off"})]})]}),s.jsxs(to,{className:"gap-2",children:[s.jsx(we,{variant:"outline",onClick:e,disabled:o,className:"flex-1",children:"Cancel"}),s.jsx(we,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,className:"flex-1",children:o?"Deleting Forever...":"Delete My Account Forever"})]})]})})}const B0=t=>{if(!t)return null;if(t.includes("drive.google.com/thumbnail?")||t.includes("drive.google.com/uc?"))return t;const e=t.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);return e?`https://drive.google.com/thumbnail?id=${e[1]||e[2]}&sz=w1000`:t};async function Z7(t,e=5){const r={maxSizeMB:e,maxWidthOrHeight:2048,initialQuality:.9,minQuality:.6,step:.05},n=t.size/1024/1024;if(n<=e)return console.log(`Image already under ${e}MB:`,n.toFixed(2)+"MB"),t;console.log(`Compressing image from ${n.toFixed(2)}MB to max ${e}MB`);try{const a=await tTe(t),i=await rTe(a),{width:o,height:l}=nTe(i.width,i.height,r.maxWidthOrHeight),c=await sTe(i,o,l,t.name,t.type,r),u=c.size/1024/1024;return console.log(`Compression complete: ${n.toFixed(2)}MB  ${u.toFixed(2)}MB`),c}catch(a){return console.error("Image compression failed:",a),t}}function tTe(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=a=>e(a.target?.result),n.onerror=r,n.readAsDataURL(t)})}function rTe(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=r,n.src=t})}function nTe(t,e,r){if(t<=r&&e<=r)return{width:t,height:e};const n=t/e;return t>e?{width:r,height:Math.round(r/n)}:{width:Math.round(r*n),height:r}}async function sTe(t,e,r,n,a,i){const o=document.createElement("canvas");o.width=e,o.height=r;const l=o.getContext("2d");if(!l)throw new Error("Failed to get canvas context");l.drawImage(t,0,0,e,r);let c=a;["image/jpeg","image/png","image/webp"].includes(a)||(c="image/jpeg");let u=i.initialQuality;const d=i.maxSizeMB*1024*1024;let f=null;for(;u>=i.minQuality;){if(f=await new Promise(h=>{o.toBlob(x=>h(x),c,u)}),!f)throw new Error("Failed to create blob from canvas");if(f.size<=d){console.log(`Compression successful at quality ${u.toFixed(2)}`);break}u-=i.step}if(!f)throw new Error("Failed to compress image");return new File([f],n,{type:c,lastModified:Date.now()})}const iW=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[m,h]=j.useState(!1),[x,g]=j.useState(""),[v,b]=j.useState(!1),[_,w]=j.useState(!1),[N,S]=j.useState(!1),[C,A]=j.useState([]),[R,O]=j.useState("vps"),[D,P]=j.useState({razorpay_key_secret:!1,phonepe_salt_key:!1,cashfree_secret_key:!1,payu_merchant_salt:!1,paytm_merchant_key:!1,stripe_secret_key:!1}),[E,I]=j.useState(null),[M,U]=j.useState("idle"),[W,Y]=j.useState(null),[J,z]=j.useState(!0),q=iE(),[V,L]=j.useState({storeName:"",logoUrl:"",heroBannerUrls:[],phone:"",email:"",address:"",whatsappNumber:"",currency:"INR",currencySymbol:"",customDomain:"",aiVoiceEmbedCode:"",forceLocationSharing:!1,deliveryAreas:"",returnPolicy:"",shippingPolicy:"",termsConditions:"",privacyPolicy:"",razorpay_enabled:!1,razorpay_key_id:"",razorpay_key_secret:"",phonepe_enabled:!1,phonepe_merchant_id:"",phonepe_salt_key:"",phonepe_salt_index:"",cashfree_enabled:!1,cashfree_app_id:"",cashfree_secret_key:"",payu_enabled:!1,payu_merchant_key:"",payu_merchant_salt:"",paytm_enabled:!1,paytm_merchant_id:"",paytm_merchant_key:"",stripe_enabled:!1,stripe_publishable_key:"",stripe_secret_key:"",payment_mode:"online_and_cod"}),[X,K]=j.useState(""),[Q,oe]=j.useState(0),[ce,de]=j.useState(100),[ne,ue]=j.useState([]),[se,Z]=j.useState("all"),[Oe,re]=j.useState(!1),[le,We]=j.useState([]),[xe,Le]=j.useState([]),ke=j.useCallback(async()=>{try{const{data:{user:Ce}}=await ae.auth.getUser();if(!Ce)return;g(Ce.email||"");const{data:{session:st}}=await ae.auth.getSession(),Ue=st?.provider_token,Ke=st?.provider_refresh_token,{data:at,error:St}=await ae.from("stores").select("*").eq("user_id",Ce.id).single();if(St&&console.error("Error loading store:",St),at?.id&&i(at.id),at?.slug&&l(at.slug),oe(at?.storage_used_mb||0),de(at?.storage_limit_mb||100),at&&Ue){const Qt={google_access_token:Ue};if(Ke){const Vt=new Date(Date.now()+36e5).toISOString();Qt.google_refresh_token=Ke,Qt.google_token_expiry=Vt}await ae.from("stores").update(Qt).eq("id",at.id)}await ye();const{data:qt}=await ae.from("profiles").select("phone, email").eq("user_id",Ce.id).single(),Ut=at?.payment_gateway_credentials||{};L({storeName:at?.name||"",logoUrl:at?.logo_url||"",heroBannerUrls:at?.hero_banner_urls||[],phone:qt?.phone||"",email:qt?.email||"",address:at?.address||"",whatsappNumber:at?.whatsapp_number||"",currency:"INR",currencySymbol:"",customDomain:at?.custom_domain||"",aiVoiceEmbedCode:at?.ai_voice_embed_code||"",forceLocationSharing:at?.force_location_sharing||!1,deliveryAreas:at?.policies?.deliveryAreas||"",returnPolicy:at?.policies?.returnPolicy||"",shippingPolicy:at?.policies?.shippingPolicy||"",termsConditions:at?.policies?.termsConditions||"",privacyPolicy:at?.policies?.privacyPolicy||"",razorpay_enabled:Ut?.razorpay?.enabled||!1,razorpay_key_id:Ut?.razorpay?.key_id||"",razorpay_key_secret:Ut?.razorpay?.key_secret||"",phonepe_enabled:Ut?.phonepe?.enabled||!1,phonepe_merchant_id:Ut?.phonepe?.merchant_id||"",phonepe_salt_key:Ut?.phonepe?.salt_key||"",phonepe_salt_index:Ut?.phonepe?.salt_index||"",cashfree_enabled:Ut?.cashfree?.enabled||!1,cashfree_app_id:Ut?.cashfree?.app_id||"",cashfree_secret_key:Ut?.cashfree?.secret_key||"",payu_enabled:Ut?.payu?.enabled||!1,payu_merchant_key:Ut?.payu?.merchant_key||"",payu_merchant_salt:Ut?.payu?.merchant_salt||"",paytm_enabled:Ut?.paytm?.enabled||!1,paytm_merchant_id:Ut?.paytm?.merchant_id||"",paytm_merchant_key:Ut?.paytm?.merchant_key||"",stripe_enabled:Ut?.stripe?.enabled||!1,stripe_publishable_key:Ut?.stripe?.publishable_key||"",stripe_secret_key:Ut?.stripe?.secret_key||"",payment_mode:at?.payment_mode||"online_and_cod"})}catch(Ce){console.error("Error loading settings:",Ce)}finally{z(!1)}},[]);j.useEffect(()=>{ke(),fe()},[ke]);const fe=async()=>{try{re(!0);const{data:{user:Ce}}=await ae.auth.getUser();if(!Ce)return;const{data:st}=await ae.from("stores").select("id").eq("user_id",Ce.id).single();if(!st)return;const{data:Ue,error:Ke}=await ae.from("media_library").select("*").eq("store_id",st.id).order("uploaded_at",{ascending:!1});if(Ke)throw Ke;ue(Ue||[])}catch(Ce){console.error("Error loading media library:",Ce)}finally{re(!1)}},ye=async()=>{try{const{data:{session:Ce}}=await ae.auth.getSession();if(!Ce)return;const{data:st,error:Ue}=await ae.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${Ce.access_token}`}});if(Ue){console.error("Drive verification error:",Ue),b(!1);return}if(st?.connected){b(!0);const{data:{session:Ke}}=await ae.auth.getSession();Ke?.provider_token&&et({title:"Google Drive Connected",description:"You can now upload images to Google Drive."})}else b(!1),console.log("Drive not connected:",st?.reason)}catch(Ce){console.error("Error verifying Drive connection:",Ce),b(!1)}},qe=(Ce,st)=>{L(Ue=>({...Ue,[Ce]:st}))},Qe=Ce=>{navigator.clipboard.writeText(Ce),et({title:"URL Copied",description:"Image URL copied to clipboard"})},ct=async Ce=>{try{const Ue=await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:Ce})})).json();console.log("VPS delete response:",Ue);const{error:Ke}=await ae.from("media_library").delete().eq("file_url",Ce);Ke&&console.error("Failed to delete from database:",Ke);const{data:{user:at}}=await ae.auth.getUser();if(at){const{data:St}=await ae.from("stores").select("id, storage_used_mb").eq("user_id",at.id).single();if(St){const qt=ne.find(Ut=>Ut.file_url===Ce);if(qt?.file_size_mb){const Ut=Math.max(0,(St.storage_used_mb||0)-qt.file_size_mb);await ae.from("stores").update({storage_used_mb:Ut}).eq("id",St.id)}}}et({title:"Image Deleted",description:"Image removed from media library"}),fe()}catch(st){et({title:"Delete Failed",description:st.message||"Failed to delete image",variant:"destructive"})}};j.useEffect(()=>{if(J)return;const Ce=setTimeout(()=>{Ye()},2e3);return()=>clearTimeout(Ce)},[V,J]);const Ye=async()=>{try{U("saving");const{data:{user:Ce}}=await ae.auth.getUser();if(!Ce)return;const st={name:V.storeName,logo_url:V.logoUrl||null,hero_banner_urls:V.heroBannerUrls.length>0?V.heroBannerUrls:null,whatsapp_number:V.whatsappNumber,address:V.address||null,policies:{deliveryAreas:V.deliveryAreas||null,returnPolicy:V.returnPolicy||null,shippingPolicy:V.shippingPolicy||null,termsConditions:V.termsConditions||null,privacyPolicy:V.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:V.razorpay_enabled,key_id:V.razorpay_key_id||null,key_secret:V.razorpay_key_secret||null},phonepe:{enabled:V.phonepe_enabled,merchant_id:V.phonepe_merchant_id||null,salt_key:V.phonepe_salt_key||null,salt_index:V.phonepe_salt_index||null},cashfree:{enabled:V.cashfree_enabled,app_id:V.cashfree_app_id||null,secret_key:V.cashfree_secret_key||null},payu:{enabled:V.payu_enabled,merchant_key:V.payu_merchant_key||null,merchant_salt:V.payu_merchant_salt||null},paytm:{enabled:V.paytm_enabled,merchant_id:V.paytm_merchant_id||null,merchant_key:V.paytm_merchant_key||null},stripe:{enabled:V.stripe_enabled,publishable_key:V.stripe_publishable_key||null,secret_key:V.stripe_secret_key||null}},payment_mode:V.payment_mode};q.enableCustomDomain&&(st.custom_domain=V.customDomain.trim().toLowerCase()||null),q.enableAiVoice&&(st.ai_voice_embed_code=V.aiVoiceEmbedCode.trim()||null),q.enableLocationSharing&&(st.force_location_sharing=V.forceLocationSharing);const{error:Ue}=await ae.from("stores").update(st).eq("user_id",Ce.id);if(Ue)throw Ue;(V.phone||V.email)&&await ae.from("profiles").update({phone:V.phone||null,email:V.email||null}).eq("user_id",Ce.id),U("saved"),Y(new Date),setTimeout(()=>{U("idle")},3e3)}catch(Ce){console.error("Auto-save error:",Ce),U("error"),setTimeout(()=>{U("idle")},3e3)}},me=()=>{if(!X.trim()){et({variant:"destructive",title:"Invalid URL",description:"Please enter a valid image URL"});return}let Ce=X.trim();if(Ce.includes("drive.google.com")){const st=B0(Ce);st&&(Ce=st,et({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}L(st=>({...st,heroBannerUrls:[...st.heroBannerUrls,Ce]})),K("")},Se=async Ce=>{const st=V.heroBannerUrls[Ce];if(st.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:st})}),await ae.from("media_library").delete().eq("file_url",st),console.log("Banner image deleted from VPS and media library:",st)}catch(Ke){console.error("Failed to delete banner:",Ke)}const Ue=V.heroBannerUrls.filter((Ke,at)=>at!==Ce);L(Ke=>({...Ke,heroBannerUrls:Ue}));try{const{data:{user:Ke}}=await ae.auth.getUser();Ke&&await ae.from("stores").update({hero_banner_urls:Ue.length>0?Ue:null}).eq("user_id",Ke.id)}catch(Ke){console.error("Failed to save banner changes:",Ke)}setTimeout(()=>{fe()},500)},_e=async Ce=>{const st=Array.from(Ce.target.files||[]);if(st.length===0)return;const Ue=st.filter(Ke=>Ke.type.startsWith("image/")?!0:(et({title:"Invalid file type",description:`${Ke.name} is not a valid image file`,variant:"destructive"}),!1));if(Ue.length!==0){if(R==="drive"&&!v){et({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below to upload images directly.",variant:"destructive",duration:5e3});return}try{if(R==="vps"){const at=[];for(const qt of Ue)try{const Ut=(qt.size/1024/1024).toFixed(2),Qt=await Z7(qt,5),Vt=(Qt.size/1024/1024).toFixed(2);console.log(`Banner compressed: ${Ut}MB  ${Vt}MB`),at.push(Qt)}catch(Ut){console.error("Compression failed:",Ut),et({title:"Compression failed",description:`Failed to compress ${qt.name}, using original`,variant:"destructive"}),at.push(qt)}We(qt=>[...qt,...at]);const St=at.map(qt=>URL.createObjectURL(qt));Le(qt=>[...qt,...St]),L(qt=>({...qt,heroBannerUrls:[...qt.heroBannerUrls,...St]})),et({title:"Banners ready",description:`${at.length} banner(s) will be uploaded when you save settings`});return}S(!0),A(Ue.map(at=>({name:at.name,progress:0})));const{data:{session:Ke}}=await ae.auth.getSession();if(!Ke)throw new Error("Not authenticated");for(let at=0;at<Ue.length;at++){const St=Ue[at];A(Qt=>Qt.map((Vt,wr)=>wr===at?{...Vt,progress:10}:Vt));const qt=new FormData;qt.append("file",St),qt.append("type","banners");const Ut=setInterval(()=>{A(Qt=>Qt.map((Vt,wr)=>wr===at&&Vt.progress<90?{...Vt,progress:Vt.progress+10}:Vt))},200);try{const Qt=await ae.functions.invoke("upload-to-drive",{body:qt,headers:{Authorization:`Bearer ${Ke.access_token}`}});if(clearInterval(Ut),Qt.error)throw A(Vt=>Vt.filter((wr,dr)=>dr!==at)),new Error(Qt.error.message||"Failed to upload image");Qt.data?.imageUrl&&(A(Vt=>Vt.map((wr,dr)=>dr===at?{...wr,progress:100}:wr)),await new Promise(Vt=>setTimeout(Vt,300)),A(Vt=>Vt.filter((wr,dr)=>dr!==at)),L(Vt=>({...Vt,heroBannerUrls:[...Vt.heroBannerUrls,Qt.data.imageUrl]})),et({title:"Banner Uploaded",description:`${St.name} uploaded successfully`}))}catch(Qt){throw clearInterval(Ut),Qt}}fe(),ke()}catch(Ke){let at=Ke.message||"";if(Ke.context?.body)try{const St=JSON.parse(Ke.context.body);at=St.error||St.message||at}catch{}at.toLowerCase().includes("storage limit")?et({title:"Storage Limit Reached",description:at,variant:"destructive",duration:6e3}):at.toLowerCase().includes("drive")&&at.toLowerCase().includes("not connected")?et({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below first.",variant:"destructive",duration:6e3}):at.toLowerCase().includes("token")||at.toLowerCase().includes("expired")?et({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect below.",variant:"destructive",duration:6e3}):et({title:"Upload Failed",description:at||"Failed to upload to Google Drive. Try using the URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),A([]),Ce.target.value=""}}},Je=async()=>{if(!a){et({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}n(!0);try{await QPe(a),et({title:"File Generated Successfully",description:"Your store information TXT file has been downloaded."})}catch(Ce){console.error("Error generating file:",Ce),et({variant:"destructive",title:"File Generation Failed",description:"There was an error generating your file. Please try again."})}finally{n(!1)}},tt=async()=>{try{w(!0);const{error:Ce}=await ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin/settings`,scopes:"https://www.googleapis.com/auth/drive.file",queryParams:{access_type:"offline",prompt:"consent"}}});Ce&&(console.error("Google Drive connection error:",Ce),et({variant:"destructive",title:"Connection Failed",description:Ce.message}))}catch(Ce){console.error("Error connecting Google Drive:",Ce),et({variant:"destructive",title:"Connection Failed",description:"Failed to initiate Google Drive connection"})}finally{w(!1)}},Ve=async Ce=>{Ce.preventDefault(),e(!0);try{if(!V.storeName.trim()){et({variant:"destructive",title:"Validation Error",description:"Store name is required"}),e(!1);return}if(V.customDomain.trim()){if(!q.enableCustomDomain){et({variant:"destructive",title:"Feature Not Available",description:"Custom domain is only available for Pro, Premium, and Enterprise plans. Please upgrade your subscription."}),e(!1);return}const St=/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?(\.[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?)*\.[a-zA-Z]{2,}$/,qt=V.customDomain.trim().toLowerCase();if(qt.includes("http://")||qt.includes("https://")){et({variant:"destructive",title:"Invalid Domain Format",description:"Please enter domain without http:// or https:// (e.g., shop.yourdomain.com)"}),e(!1);return}if(!St.test(qt)){et({variant:"destructive",title:"Invalid Domain Format",description:"Please enter a valid domain name (e.g., shop.yourdomain.com)"}),e(!1);return}}const st=V.whatsappNumber.replace(/[^0-9]/g,"");if(st==="9876543210"||st==="919876543210"){et({variant:"destructive",title:"Invalid WhatsApp Number",description:"The default number 9876543210 is not allowed. Please enter your actual WhatsApp business number."}),e(!1);return}if(V.whatsappNumber.trim()&&st.length<10){et({variant:"destructive",title:"Invalid WhatsApp Number",description:"Please enter a valid WhatsApp number with at least 10 digits."}),e(!1);return}const{data:{user:Ue}}=await ae.auth.getUser();if(!Ue)throw new Error("User not authenticated");if(le.length>0&&R==="vps")try{const{data:St,error:qt}=await ae.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",Ue.id).single();if(qt)throw qt;if(!St)throw new Error("Store not found");const Ut=St.storage_used_mb||0,Qt=St.storage_limit_mb||100,Vt=le.reduce((Cr,or)=>Cr+or.size/1024/1024,0);if(Ut+Vt>Qt){et({variant:"destructive",title:"Storage Limit Exceeded",description:`Cannot upload banners. You need ${Vt.toFixed(2)}MB but only have ${(Qt-Ut).toFixed(2)}MB available. Delete some images from Media Library to free up space.`}),e(!1);return}const wr=[];let dr=0;for(let Cr=0;Cr<le.length;Cr++){const or=le[Cr],It=new FormData;It.append("file",or),It.append("type","banners"),o&&It.append("store_slug",o);const Ir=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:It});if(!Ir.ok){const Re=await Ir.text();throw new Error(`Upload failed: ${Re}`)}const Jt=await Ir.json();if(!Jt.success)throw new Error(Jt.error||"Upload failed");const gr=Jt.imageUrl,mr=or.size/1024/1024,{error:vr}=await ae.from("media_library").insert({store_id:St.id,file_url:gr,file_name:or.name,file_size_mb:mr,file_type:"banners"});vr&&console.error("Error tracking banner in media library:",vr);const bn=Ut+dr+mr,{error:he}=await ae.from("stores").update({storage_used_mb:bn}).eq("id",St.id);he&&console.error("Error updating storage usage:",he),wr.push(gr),dr+=mr}const br=V.heroBannerUrls.map(Cr=>{const or=xe.indexOf(Cr);return or!==-1&&or<wr.length?wr[or]:Cr});V.heroBannerUrls=br,xe.forEach(Cr=>{Cr.startsWith("blob:")&&URL.revokeObjectURL(Cr)}),We([]),Le([]),et({title:"Banners Uploaded",description:`Successfully uploaded ${wr.length} banner(s) (${dr.toFixed(2)}MB)`})}catch(St){console.error("Error uploading pending banners:",St),et({variant:"destructive",title:"Upload Failed",description:St instanceof Error?St.message:"Failed to upload banner images"}),e(!1);return}const Ke={name:V.storeName,logo_url:V.logoUrl||null,hero_banner_urls:V.heroBannerUrls.length>0?V.heroBannerUrls:null,whatsapp_number:V.whatsappNumber,address:V.address||null,policies:{deliveryAreas:V.deliveryAreas||null,returnPolicy:V.returnPolicy||null,shippingPolicy:V.shippingPolicy||null,termsConditions:V.termsConditions||null,privacyPolicy:V.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:V.razorpay_enabled,key_id:V.razorpay_key_id||null,key_secret:V.razorpay_key_secret||null},phonepe:{enabled:V.phonepe_enabled,merchant_id:V.phonepe_merchant_id||null,salt_key:V.phonepe_salt_key||null,salt_index:V.phonepe_salt_index||null},cashfree:{enabled:V.cashfree_enabled,app_id:V.cashfree_app_id||null,secret_key:V.cashfree_secret_key||null},payu:{enabled:V.payu_enabled,merchant_key:V.payu_merchant_key||null,merchant_salt:V.payu_merchant_salt||null},paytm:{enabled:V.paytm_enabled,merchant_id:V.paytm_merchant_id||null,merchant_key:V.paytm_merchant_key||null},stripe:{enabled:V.stripe_enabled,publishable_key:V.stripe_publishable_key||null,secret_key:V.stripe_secret_key||null}},payment_mode:V.payment_mode};q.enableCustomDomain&&(Ke.custom_domain=V.customDomain.trim().toLowerCase()||null),q.enableAiVoice&&(Ke.ai_voice_embed_code=V.aiVoiceEmbedCode.trim()||null),q.enableLocationSharing&&(Ke.force_location_sharing=V.forceLocationSharing);const{error:at}=await ae.from("stores").update(Ke).eq("user_id",Ue.id).select();if(at)throw at;if(V.phone||V.email){const{error:St}=await ae.from("profiles").update({phone:V.phone||null,email:V.email||null}).eq("user_id",Ue.id);St&&console.error("Error updating profile:",St)}U("saved"),Y(new Date),et({title:"Settings Saved",description:"Your store settings have been updated successfully"})}catch{et({variant:"destructive",title:"Save Failed",description:"There was an error saving your settings"})}finally{e(!1)}},Me=[{title:"Store Information",icon:Vx,fields:[{key:"storeName",label:"Store Name",placeholder:"My Awesome Store",required:!0},{key:"logoUrl",label:"Logo URL (Google Drive Link)",placeholder:"https://drive.google.com/..."}]},{title:"Contact Information",icon:Tf,fields:[{key:"phone",label:"Phone Number",placeholder:"+1 (555) 123-4567"},{key:"email",label:"Email Address",placeholder:"contact@yourstore.com"},{key:"whatsappNumber",label:"WhatsApp Business Number",placeholder:"919876543210 (with country code, no spaces)"},{key:"address",label:"Store Address",placeholder:"123 Main St, City, State 12345",multiline:!0}]},{title:"Currency Settings",icon:Vx,fields:[{key:"currencySymbol",label:"Currency Symbol",placeholder:", $, , , etc."},{key:"currency",label:"Currency Code",placeholder:"INR, USD, EUR, GBP, etc."}]}],ht=[{key:"deliveryAreas",label:"Delivery Areas",placeholder:"List areas where you deliver..."},{key:"returnPolicy",label:"Return Policy",placeholder:"Describe your return policy..."},{key:"shippingPolicy",label:"Shipping Policy",placeholder:"Describe your shipping terms..."},{key:"termsConditions",label:"Terms & Conditions",placeholder:"Your terms and conditions..."},{key:"privacyPolicy",label:"Privacy Policy",placeholder:"Describe how you collect, use, and protect customer data..."}];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Store Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure your store information and policies"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[M==="saving"&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(pr,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}),M==="saved"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(rs,{className:"w-4 h-4"}),s.jsxs("span",{children:["Saved",W&&` at ${W.toLocaleTimeString()}`]})]}),M==="error"&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[s.jsx(hi,{className:"w-4 h-4"}),s.jsx("span",{children:"Save failed"})]})]})]}),s.jsxs("form",{onSubmit:Ve,className:"space-y-8",children:[Me.map((Ce,st)=>s.jsxs(He,{className:"admin-card",children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ce.icon,{className:"w-5 h-5 text-primary"})}),Ce.title]})}),s.jsx(Xe,{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Ce.fields.map((Ue,Ke)=>s.jsxs("div",{className:Ue.multiline?"md:col-span-2":"",children:[s.jsxs(Be,{htmlFor:Ue.key,className:"flex items-center gap-2",children:[Ue.label,Ue.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),Ue.multiline?s.jsx(Ii,{id:Ue.key,placeholder:Ue.placeholder,value:String(V[Ue.key]||""),onChange:at=>qe(Ue.key,at.target.value),className:"admin-input min-h-[100px] mt-2",required:Ue.required}):s.jsx(lt,{id:Ue.key,type:"text",placeholder:Ue.placeholder,value:String(V[Ue.key]||""),onChange:at=>qe(Ue.key,at.target.value),className:"admin-input mt-2",required:Ue.required})]},Ke))})})]},st)),s.jsx(He,{className:"admin-card",children:s.jsxs(q5,{children:[s.jsxs(jt,{children:[s.jsx(V5,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ks,{className:"w-5 h-5 text-primary"})}),"Payment Gateway Configuration"]}),s.jsx(Jm,{className:"h-5 w-5 transition-transform duration-200 data-[state=open]:rotate-180"})]})}),s.jsx("p",{className:"text-muted-foreground mt-2 text-left",children:"Configure payment gateways for your store - click any card to set up"})]}),s.jsx(W5,{children:s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs(Hn,{children:[s.jsx(Ks,{className:"h-4 w-4"}),s.jsx(Gn,{children:"Click on any payment gateway card below to configure credentials. Payments go directly to your account."})]}),(V.razorpay_enabled||V.phonepe_enabled||V.cashfree_enabled||V.payu_enabled||V.paytm_enabled||V.stripe_enabled)&&s.jsx("div",{className:"p-6 rounded-xl border-2 border-primary/20 bg-primary/5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-1",children:"Payment Methods at Checkout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which payment options customers will see during checkout"})]}),s.jsxs("div",{className:"inline-flex rounded-lg border-2 border-primary/20 p-1 bg-background",children:[s.jsx("button",{type:"button",onClick:()=>L(Ce=>({...Ce,payment_mode:"online_only"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${V.payment_mode==="online_only"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online Payment Only"}),s.jsx("button",{type:"button",onClick:()=>L(Ce=>({...Ce,payment_mode:"online_and_cod"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${V.payment_mode==="online_and_cod"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online + COD"})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"mt-0.5",children:V.payment_mode==="online_only"?s.jsx(hi,{className:"w-4 h-4 text-blue-600"}):s.jsx(rs,{className:"w-4 h-4 text-green-600"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:V.payment_mode==="online_only"?s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online Payment Only:"})," Customers can only pay using configured payment gateways. Cash on Delivery will not be available."]}):s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online + COD:"})," Customers can choose to pay online or via Cash on Delivery. This gives maximum flexibility to your customers."]})})]})]})}),!(V.razorpay_enabled||V.phonepe_enabled||V.cashfree_enabled||V.payu_enabled||V.paytm_enabled||V.stripe_enabled)&&s.jsxs(Hn,{className:"bg-amber-500/10 border-amber-500/20",children:[s.jsx(hi,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Gn,{className:"text-amber-900 dark:text-amber-100",children:[s.jsx("strong",{children:"Cash on Delivery Only:"})," Configure at least one payment gateway below to enable online payments."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{onClick:()=>I("razorpay"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-blue-500/50 hover:-translate-y-1",style:{borderColor:V.razorpay_enabled?"#3b82f6":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:V.razorpay_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors",children:s.jsx(Ks,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Razorpay"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Popular in India"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(vo,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("phonepe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-purple-500/50 hover:-translate-y-1",style:{borderColor:V.phonepe_enabled?"#a855f7":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:V.phonepe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 group-hover:bg-purple-500/20 transition-colors",children:s.jsx(Ks,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PhonePe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"UPI & Digital"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600 dark:text-purple-400 font-medium",children:[s.jsx(vo,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("cashfree"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-green-500/50 hover:-translate-y-1",style:{borderColor:V.cashfree_enabled?"#22c55e":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:V.cashfree_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-500/10 group-hover:bg-green-500/20 transition-colors",children:s.jsx(Ks,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Cashfree"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Payments & Payouts"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 font-medium",children:[s.jsx(vo,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("payu"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-orange-500/50 hover:-translate-y-1",style:{borderColor:V.payu_enabled?"#f97316":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:V.payu_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-orange-500/10 group-hover:bg-orange-500/20 transition-colors",children:s.jsx(Ks,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PayU"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Leading Solution"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600 dark:text-orange-400 font-medium",children:[s.jsx(vo,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("paytm"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-sky-500/50 hover:-translate-y-1",style:{borderColor:V.paytm_enabled?"#0ea5e9":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:V.paytm_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-sky-500/10 group-hover:bg-sky-500/20 transition-colors",children:s.jsx(Ks,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Paytm"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Wallet & Gateway"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-sky-600 dark:text-sky-400 font-medium",children:[s.jsx(vo,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>I("stripe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-indigo-500/50 hover:-translate-y-1",style:{borderColor:V.stripe_enabled?"#6366f1":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:V.stripe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-indigo-500/10 group-hover:bg-indigo-500/20 transition-colors",children:s.jsx(Ks,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Stripe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Global Platform"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:[s.jsx(vo,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]})]}),s.jsxs(Hn,{className:"bg-amber-500/5 border-amber-500/20",children:[s.jsx(hi,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Gn,{className:"text-amber-600 dark:text-amber-400",children:[s.jsx("strong",{children:"Important:"})," Keep your API credentials secure. Payments go directly to your accounts. We recommend using test/sandbox credentials first before going live."]})]})]})})]})}),s.jsxs(He,{className:"admin-card",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Y0,{className:"w-5 h-5 text-primary"})}),"Custom Domain"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your own domain to your store"})]}),s.jsx(Xe,{className:"space-y-4",children:q.enableCustomDomain?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"customDomain",children:"Custom Domain"}),s.jsx(lt,{id:"customDomain",type:"text",placeholder:"yourdomain.com or www.yourdomain.com or shop.yourdomain.com",value:V.customDomain,onChange:Ce=>qe("customDomain",Ce.target.value),className:"admin-input mt-2",disabled:!q.enableCustomDomain}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Enter your domain: ",s.jsx("strong",{children:"yourdomain.com"})," (root), ",s.jsx("strong",{children:"www.yourdomain.com"}),", or ",s.jsx("strong",{children:"shop.yourdomain.com"})]})]}),V.customDomain&&(()=>{const st=V.customDomain.trim().split("."),Ue=st.length===2,Ke=Ue?"@":st[0];return s.jsxs(Hn,{children:[s.jsx(Y0,{className:"h-4 w-4"}),s.jsx(Gn,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"DNS Configuration Required:"}),s.jsx("p",{className:"text-sm",children:Ue?"For root domain, add an A record pointing to your server IP:":"For subdomain, add a CNAME record in your domain's DNS settings:"}),s.jsx("div",{className:"bg-muted p-2 rounded mt-2 font-mono text-xs",children:Ue?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: A"}),s.jsx("div",{children:"Name: @ (or leave blank)"}),s.jsx("div",{children:"Value: Your Server IP"}),s.jsx("div",{className:"mt-2 text-muted-foreground",children:"Alternative: Use CNAME for www, then redirect @ to www"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: CNAME"}),s.jsxs("div",{children:["Name: ",Ke]}),s.jsx("div",{children:"Value: yesgive.shop"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"DNS changes may take up to 48 hours to propagate."})]})})]})})()]}):s.jsxs(Hn,{children:[s.jsx(_0,{className:"h-4 w-4"}),s.jsxs(Gn,{children:["Custom domain is only available for Pro, Premium, and Enterprise plans.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(He,{className:"admin-card",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(K0,{className:"w-5 h-5 text-primary"})}),"Location Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Control how location sharing works for your customers"})]}),s.jsx(Xe,{className:"space-y-4",children:q.enableLocationSharing?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{htmlFor:"forceLocationSharing",className:"text-base font-medium cursor-pointer",children:"Force Location Sharing"}),V.forceLocationSharing&&s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:"Mandatory"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:V.forceLocationSharing?"Customers must share their location to place orders (mandatory)":"Location sharing is optional for customers (recommended)"})]}),s.jsx(Fn,{id:"forceLocationSharing",checked:V.forceLocationSharing,onCheckedChange:Ce=>L(st=>({...st,forceLocationSharing:Ce})),className:`ml-4 ${V.forceLocationSharing?"data-[state=checked]:bg-green-500":""}`})]}),s.jsxs(Hn,{children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsxs(Gn,{children:[s.jsx("strong",{children:"Important:"})," Forcing location sharing may reduce conversions. We recommend keeping it optional unless you have specific delivery area requirements."]})]})]}):s.jsxs(Hn,{children:[s.jsx(_0,{className:"h-4 w-4"}),s.jsxs(Gn,{children:["Location sharing is not available in your current plan.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(He,{className:"admin-card",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx($_,{className:"w-5 h-5 text-primary"})}),"Hero Banner Carousel (Multiple Images)"]}),s.jsx("p",{className:"text-muted-foreground",children:"Add multiple banner images for auto-sliding carousel (Recommended size: 1920x450px)"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"vps",checked:R==="vps",onChange:Ce=>O(Ce.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Fast & Reliable)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"drive",checked:R==="drive",onChange:Ce=>O(Ce.target.value),className:"w-4 h-4 text-primary",disabled:!v}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!v&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R==="vps"?"Banners will be compressed to max 5MB and stored on your server":"Banners will be uploaded to your connected Google Drive"})]}),R==="vps"&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Be,{className:"text-sm font-medium",children:"VPS Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[Q.toFixed(2)," MB / ",ce," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${Q>=ce?"bg-destructive":Q>=ce*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(Q/ce*100,100)}%`}})}),Q>=ce&&s.jsxs("p",{className:"text-sm text-destructive font-medium flex items-center gap-1",children:[s.jsx(_o,{className:"w-4 h-4"}),"Storage limit reached. Delete images to free space."]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Limit: 20 images  5 MB = 100 MB total"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-base font-medium",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${N?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"bannerUpload",accept:"image/*",multiple:!0,onChange:_e,className:"hidden",disabled:N}),s.jsx("label",{htmlFor:"bannerUpload",className:`block p-6 text-center ${N?"cursor-not-allowed":"cursor-pointer"}`,children:N&&C.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",C.length," image",C.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:C.map((Ce,st)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[Ce.progress<100?s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(rs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:Ce.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Ce.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[Ce.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${Ce.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${Ce.progress}%`}})})]},`uploading-${st}`))})]}):s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Af,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Click to upload banner images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"Images will be uploaded to your Google Drive":"Connect Google Drive below to enable uploads"})]})]})})]}),!v&&!N&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Connect your Google Drive account in the section below to upload images directly."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-base font-medium",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{id:"newBannerUrl",type:"text",placeholder:"https://drive.google.com/file/d/...",value:X,onChange:Ce=>K(Ce.target.value),onKeyPress:Ce=>Ce.key==="Enter"&&(Ce.preventDefault(),me()),className:"admin-input flex-1"}),s.jsx(we,{type:"button",onClick:me,className:"admin-button-primary",children:s.jsx(Yo,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Paste a Google Drive share link. Make sure the file is set to "Anyone with the link can view".'})]}),V.heroBannerUrls.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Be,{className:"text-base font-medium",children:["Current Banner Images (",V.heroBannerUrls.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:V.heroBannerUrls.map((Ce,st)=>s.jsx("div",{className:"relative group rounded-lg overflow-hidden border bg-muted",children:s.jsxs("div",{className:"aspect-[16/9] relative",children:[s.jsx("img",{src:Ce,alt:`Banner ${st+1}`,className:"w-full h-full object-cover",onError:Ue=>{Ue.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="%23f0f0f0" width="100" height="100"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23999" font-size="12">Image Error</text></svg>'}}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:st+1}),s.jsx(we,{type:"button",variant:"destructive",size:"sm",onClick:()=>Se(st),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(so,{className:"w-4 h-4"})})]})},st))})]}),V.heroBannerUrls.length===0&&C.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx($_,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No banner images added yet."}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images or paste URLs above to create a carousel."})]})]})]}),s.jsxs(He,{className:"admin-card",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx($_,{className:"w-5 h-5 text-primary"})}),"Media Library"]}),s.jsx("p",{className:"text-muted-foreground",children:"All VPS uploaded images"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Be,{className:"text-sm font-medium",children:"Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[ne.length," images  ",Q.toFixed(2)," MB / ",ce," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${Q>=ce?"bg-destructive":Q>=ce*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(Q/ce*100,100)}%`}})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:se==="all"?"default":"outline",size:"sm",onClick:()=>Z("all"),children:["All (",ne.length,")"]}),s.jsxs(we,{variant:se==="products"?"default":"outline",size:"sm",onClick:()=>Z("products"),children:["Products (",ne.filter(Ce=>Ce.file_type==="products").length,")"]}),s.jsxs(we,{variant:se==="categories"?"default":"outline",size:"sm",onClick:()=>Z("categories"),children:["Categories (",ne.filter(Ce=>Ce.file_type==="categories").length,")"]}),s.jsxs(we,{variant:se==="banners"?"default":"outline",size:"sm",onClick:()=>Z("banners"),children:["Banners (",ne.filter(Ce=>Ce.file_type==="banners").length,")"]})]}),Oe?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ne.filter(Ce=>se==="all"||Ce.file_type===se).map(Ce=>s.jsxs("div",{className:"group relative border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx("img",{src:Ce.file_url,alt:Ce.file_name,className:"w-full h-full object-cover",onError:st=>{st.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400"}})}),s.jsxs("div",{className:"p-2 bg-background border-t",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:Ce.file_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ce.file_size_mb.toFixed(2)," MB"]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:Ce.file_type})]}),s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[s.jsx(we,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>Qe(Ce.file_url),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),s.jsx(we,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>ct(Ce.file_url),children:s.jsx(Ds,{className:"w-4 h-4"})})]})]},Ce.id))}),ne.filter(Ce=>se==="all"||Ce.file_type===se).length===0&&!Oe&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx($_,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No images in media library"}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images to see them here"})]})]})]}),s.jsxs(He,{className:`admin-card ${v?"":"border-red-500 border-2"}`,children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(w0,{className:"w-5 h-5 text-primary"})}),"Google Drive Connection"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your Google Drive to upload product images directly"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"text-base font-medium",children:"Status"}),v?s.jsxs("span",{className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2 py-1 rounded-full font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full font-medium",children:"Not Connected"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"You can upload images to Google Drive from product pages":"Connect your Google Drive account to enable image uploads"})]}),s.jsx(we,{type:"button",onClick:tt,disabled:_,className:v?"admin-button":"admin-button-primary",children:_?s.jsxs(s.Fragment,{children:[s.jsx(Af,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):v?s.jsxs(s.Fragment,{children:[s.jsx(w0,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(w0,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]}),!v&&s.jsxs(Hn,{style:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsxs(Gn,{children:[s.jsx("strong",{children:"Note:"}),` You'll be redirected to Google to grant Drive permissions. Make sure to allow "See and download files from your Google Drive" permission.`]})]}),v&&s.jsxs(Hn,{className:"border-green-500/20 bg-green-500/5",children:[s.jsx(w0,{className:"h-4 w-4 text-green-600"}),s.jsx(Gn,{className:"text-green-600 dark:text-green-400",children:"Your Google Drive is connected. You can now upload images directly when adding or editing products."})]})]})]}),s.jsx(He,{className:"admin-card border-2 border-primary/20",children:s.jsxs(q5,{open:d,onOpenChange:f,children:[s.jsx(V5,{asChild:!0,children:s.jsxs(jt,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(qx,{className:"w-5 h-5 text-primary"})}),"AI Assistant",!q.enableAiVoice&&s.jsx(_0,{className:"w-4 h-4 text-muted-foreground ml-2"}),s.jsx(Jm,{className:`ml-auto h-5 w-5 transition-transform duration-200 ${d?"transform rotate-180":""}`})]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure AI voice assistant and training data for your store"})]})}),s.jsx(W5,{children:s.jsxs(Xe,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(qx,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"AI Voice Assistant"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:q.enableAiVoice?"Add ElevenLabs conversational AI to your store":"Upgrade to premium to enable"})]})]}),q.enableAiVoice?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{htmlFor:"aiVoiceEmbedCode",className:"text-base",children:"ElevenLabs Embed Code"}),s.jsx(Ii,{id:"aiVoiceEmbedCode",placeholder:'<elevenlabs-convai agent-id="your_agent_id"></elevenlabs-convai><script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"><\/script>',value:V.aiVoiceEmbedCode,onChange:Ce=>qe("aiVoiceEmbedCode",Ce.target.value),className:"admin-input min-h-[100px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste your ElevenLabs embed code to enable AI voice on your store"})]}):s.jsxs(Hn,{children:[s.jsx(_0,{className:"h-4 w-4"}),s.jsx(Gn,{children:"Premium feature - Upgrade your subscription to enable voice interactions"})]})]}),s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(Eh,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Training Data Export"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download store data to train your AI agent"})]})]}),s.jsx("div",{className:"bg-background/50 p-4 rounded-lg border space-y-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Eh,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Export includes store info, policies, products, and variants - ready for AI training"})]})}),s.jsx(we,{type:"button",onClick:Je,disabled:r||!a,className:"w-full admin-button-primary",size:"lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Af,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating File..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ll,{className:"w-4 h-4 mr-2"}),"Download Training Data (TXT)"]})})]})]})})]})}),s.jsx(q5,{open:c,onOpenChange:u,children:s.jsxs(He,{className:"admin-card",children:[s.jsxs(jt,{children:[s.jsx(V5,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(qx,{className:"w-5 h-5 text-primary"})}),"Store Policies"]}),s.jsx(Jm,{className:`w-5 h-5 text-muted-foreground transition-transform duration-200 ${c?"transform rotate-180":""}`})]})}),s.jsx("p",{className:"text-muted-foreground text-left mt-2",children:"Define your store policies and terms"})]}),s.jsx(W5,{children:s.jsx(Xe,{className:"space-y-6",children:ht.map((Ce,st)=>s.jsxs("div",{children:[s.jsx(Be,{htmlFor:Ce.key,children:Ce.label}),s.jsx(Ii,{id:Ce.key,placeholder:Ce.placeholder,value:String(V[Ce.key]||""),onChange:Ue=>qe(Ce.key,Ue.target.value),className:"admin-input min-h-[120px] mt-2"})]},st))})})]})}),s.jsx(He,{className:"admin-card bg-muted/50",children:s.jsx(Xe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Af,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Image Upload Tips"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Upload images to Google Drive and use the sharing link"}),s.jsx("li",{children:' Make sure images are set to "Anyone with the link can view"'}),s.jsx("li",{children:" Recommended logo size: 200x80px (PNG/JPG)"}),s.jsx("li",{children:" Recommended hero banner: 1920x450px (JPG/PNG)"})]})]})]})})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(we,{type:"submit",className:"admin-button-primary min-w-[150px]",disabled:t,children:t?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(zu,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]}),s.jsx(ss,{open:E==="razorpay",onOpenChange:Ce=>!Ce&&I(null),children:s.jsxs(ts,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(Ks,{className:"w-5 h-5 text-blue-600"})}),"Configure Razorpay"]}),s.jsx(ja,{children:"Enter your Razorpay API credentials to enable payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-medium",children:"Enable Razorpay"}),s.jsx(Fn,{checked:V.razorpay_enabled,onCheckedChange:Ce=>L(st=>({...st,razorpay_enabled:Ce}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"razorpay_key_id",children:"Key ID"}),s.jsx(lt,{id:"razorpay_key_id",type:"text",placeholder:"Enter your Razorpay Key ID",value:V.razorpay_key_id,onChange:Ce=>qe("razorpay_key_id",Ce.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Razorpay Dashboard  Settings  API Keys"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"razorpay_key_secret",children:"Key Secret"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(lt,{id:"razorpay_key_secret",type:D.razorpay_key_secret?"text":"password",placeholder:"",value:V.razorpay_key_secret,onChange:Ce=>qe("razorpay_key_secret",Ce.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(Ce=>({...Ce,razorpay_key_secret:!Ce.razorpay_key_secret})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.razorpay_key_secret?s.jsx(px,{className:"w-4 h-4"}):s.jsx(ra,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Hn,{className:"bg-blue-500/5 border-blue-500/20",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsxs(Gn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://razorpay.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://razorpay.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com/docs"})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(we,{type:"button",onClick:()=>{I(null),et({title:"Razorpay Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(ss,{open:E==="phonepe",onOpenChange:Ce=>!Ce&&I(null),children:s.jsxs(ts,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:s.jsx(Ks,{className:"w-5 h-5 text-purple-600"})}),"Configure PhonePe"]}),s.jsx(ja,{children:"Enter your PhonePe credentials to enable UPI payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-medium",children:"Enable PhonePe"}),s.jsx(Fn,{checked:V.phonepe_enabled,onCheckedChange:Ce=>L(st=>({...st,phonepe_enabled:Ce}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"phonepe_merchant_id",children:"Merchant ID"}),s.jsx(lt,{id:"phonepe_merchant_id",type:"text",placeholder:"M123456789012345",value:V.phonepe_merchant_id,onChange:Ce=>qe("phonepe_merchant_id",Ce.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PhonePe Business Dashboard"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"phonepe_salt_key",children:"Salt Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(lt,{id:"phonepe_salt_key",type:D.phonepe_salt_key?"text":"password",placeholder:"",value:V.phonepe_salt_key,onChange:Ce=>qe("phonepe_salt_key",Ce.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(Ce=>({...Ce,phonepe_salt_key:!Ce.phonepe_salt_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.phonepe_salt_key?s.jsx(px,{className:"w-4 h-4"}):s.jsx(ra,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"phonepe_salt_index",children:"Salt Index"}),s.jsx(lt,{id:"phonepe_salt_index",type:"text",placeholder:"1",value:V.phonepe_salt_index,onChange:Ce=>qe("phonepe_salt_index",Ce.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usually 1 or 2, check your PhonePe dashboard"})]}),s.jsxs(Hn,{className:"bg-purple-500/5 border-purple-500/20",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsxs(Gn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.phonepe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"business.phonepe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.phonepe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"developer.phonepe.com/docs"})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(we,{type:"button",onClick:()=>{I(null),et({title:"PhonePe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(ss,{open:E==="cashfree",onOpenChange:Ce=>!Ce&&I(null),children:s.jsxs(ts,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(Ks,{className:"w-5 h-5 text-green-600"})}),"Configure Cashfree"]}),s.jsx(ja,{children:"Enter your Cashfree credentials for payments & payouts"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-medium",children:"Enable Cashfree"}),s.jsx(Fn,{checked:V.cashfree_enabled,onCheckedChange:Ce=>L(st=>({...st,cashfree_enabled:Ce}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"cashfree_app_id",children:"App ID"}),s.jsx(lt,{id:"cashfree_app_id",type:"text",placeholder:"12345abcdef67890ghij",value:V.cashfree_app_id,onChange:Ce=>qe("cashfree_app_id",Ce.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Cashfree Dashboard  Credentials"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"cashfree_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(lt,{id:"cashfree_secret_key",type:D.cashfree_secret_key?"text":"password",placeholder:"",value:V.cashfree_secret_key,onChange:Ce=>qe("cashfree_secret_key",Ce.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(Ce=>({...Ce,cashfree_secret_key:!Ce.cashfree_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.cashfree_secret_key?s.jsx(px,{className:"w-4 h-4"}):s.jsx(ra,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Hn,{className:"bg-green-500/5 border-green-500/20",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsxs(Gn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"cashfree.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://docs.cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"docs.cashfree.com"})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(we,{type:"button",onClick:()=>{I(null),et({title:"Cashfree Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(ss,{open:E==="payu",onOpenChange:Ce=>!Ce&&I(null),children:s.jsxs(ts,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:s.jsx(Ks,{className:"w-5 h-5 text-orange-600"})}),"Configure PayU"]}),s.jsx(ja,{children:"Enter your PayU merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-medium",children:"Enable PayU"}),s.jsx(Fn,{checked:V.payu_enabled,onCheckedChange:Ce=>L(st=>({...st,payu_enabled:Ce}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"payu_merchant_key",children:"Merchant Key"}),s.jsx(lt,{id:"payu_merchant_key",type:"text",placeholder:"gtKFFx",value:V.payu_merchant_key,onChange:Ce=>qe("payu_merchant_key",Ce.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PayU Dashboard  Settings  API Credentials"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"payu_merchant_salt",children:"Merchant Salt"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(lt,{id:"payu_merchant_salt",type:D.payu_merchant_salt?"text":"password",placeholder:"",value:V.payu_merchant_salt,onChange:Ce=>qe("payu_merchant_salt",Ce.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(Ce=>({...Ce,payu_merchant_salt:!Ce.payu_merchant_salt})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.payu_merchant_salt?s.jsx(px,{className:"w-4 h-4"}):s.jsx(ra,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Hn,{className:"bg-orange-500/5 border-orange-500/20",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsxs(Gn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"payu.in"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://devguide.payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"devguide.payu.in"})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(we,{type:"button",onClick:()=>{I(null),et({title:"PayU Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(ss,{open:E==="paytm",onOpenChange:Ce=>!Ce&&I(null),children:s.jsxs(ts,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:s.jsx(Ks,{className:"w-5 h-5 text-sky-600"})}),"Configure Paytm"]}),s.jsx(ja,{children:"Enter your Paytm merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-medium",children:"Enable Paytm"}),s.jsx(Fn,{checked:V.paytm_enabled,onCheckedChange:Ce=>L(st=>({...st,paytm_enabled:Ce}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"paytm_merchant_id",children:"Merchant ID"}),s.jsx(lt,{id:"paytm_merchant_id",type:"text",placeholder:"YOUR_MID_HERE",value:V.paytm_merchant_id,onChange:Ce=>qe("paytm_merchant_id",Ce.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Paytm Dashboard  Developer Settings"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"paytm_merchant_key",children:"Merchant Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(lt,{id:"paytm_merchant_key",type:D.paytm_merchant_key?"text":"password",placeholder:"",value:V.paytm_merchant_key,onChange:Ce=>qe("paytm_merchant_key",Ce.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(Ce=>({...Ce,paytm_merchant_key:!Ce.paytm_merchant_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.paytm_merchant_key?s.jsx(px,{className:"w-4 h-4"}):s.jsx(ra,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Hn,{className:"bg-sky-500/5 border-sky-500/20",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsxs(Gn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.paytm.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"business.paytm.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.paytm.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"developer.paytm.com/docs"})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(we,{type:"button",onClick:()=>{I(null),et({title:"Paytm Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(ss,{open:E==="stripe",onOpenChange:Ce=>!Ce&&I(null),children:s.jsxs(ts,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:s.jsx(Ks,{className:"w-5 h-5 text-indigo-600"})}),"Configure Stripe"]}),s.jsx(ja,{children:"Enter your Stripe API keys for global payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-medium",children:"Enable Stripe"}),s.jsx(Fn,{checked:V.stripe_enabled,onCheckedChange:Ce=>L(st=>({...st,stripe_enabled:Ce}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"stripe_publishable_key",children:"Publishable Key"}),s.jsx(lt,{id:"stripe_publishable_key",type:"text",placeholder:"Enter your Stripe publishable key",value:V.stripe_publishable_key,onChange:Ce=>qe("stripe_publishable_key",Ce.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Stripe Dashboard  Developers  API Keys (starts with pk_)"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"stripe_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(lt,{id:"stripe_secret_key",type:D.stripe_secret_key?"text":"password",placeholder:"Enter your Stripe secret key",value:V.stripe_secret_key,onChange:Ce=>qe("stripe_secret_key",Ce.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(Ce=>({...Ce,stripe_secret_key:!Ce.stripe_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.stripe_secret_key?s.jsx(px,{className:"w-4 h-4"}):s.jsx(ra,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly. (starts with sk_)"})]}),s.jsxs(Hn,{className:"bg-indigo-500/5 border-indigo-500/20",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsxs(Gn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://stripe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com/docs"})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>I(null),children:"Close"}),s.jsx(we,{type:"button",onClick:()=>{I(null),et({title:"Stripe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsxs(He,{className:"admin-card border-2 border-destructive/50 bg-destructive/5",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-3 text-destructive",children:[s.jsx("div",{className:"p-2 rounded-lg bg-destructive/20",children:s.jsx(hi,{className:"w-5 h-5 text-destructive"})}),"Danger Zone"]}),s.jsx("p",{className:"text-muted-foreground",children:"Irreversible and destructive actions"})]}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-background rounded-lg border border-destructive/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Delete My Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account, store, and all associated data"})]}),s.jsxs(we,{type:"button",variant:"destructive",onClick:()=>h(!0),className:"sm:ml-auto whitespace-nowrap",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})]}),s.jsx(eTe,{open:m,onClose:()=>h(!1),userEmail:x,storeName:V.storeName})]})},aTe=5,iTe=48;function oTe(){const[t,e]=j.useState([]),[r,n]=j.useState(!0),[a,i]=j.useState(0),o=()=>{const f=new Date;return f.setHours(f.getHours()-iTe),f.toISOString()},l=f=>{const h=Math.floor((new Date().getTime()-f.getTime())/1e3);if(h<60)return"Just now";if(h<3600){const g=Math.floor(h/60);return`${g} ${g===1?"minute":"minutes"} ago`}if(h<86400){const g=Math.floor(h/3600);return`${g} ${g===1?"hour":"hours"} ago`}const x=Math.floor(h/86400);return`${x} ${x===1?"day":"days"} ago`},c=async()=>{try{const{data:{session:f}}=await ae.auth.getSession();if(!f){e([]),n(!1);return}const{data:m}=await ae.from("stores").select("id").eq("user_id",f.user.id).maybeSingle();if(!m){e([]),n(!1);return}const h=o(),x=[],{data:g}=await ae.from("orders").select("id, order_number, customer_name, created_at, status").eq("store_id",m.id).gte("created_at",h).order("created_at",{ascending:!1}).limit(10);g&&g.forEach(b=>{const _=new Date(b.created_at);x.push({id:`order-${b.id}`,title:"New Order Received",description:`Order #${b.order_number} from ${b.customer_name}`,time:l(_),unread:!0,type:"order",createdAt:_})});const{data:v}=await ae.from("products").select("id, name, stock, updated_at").eq("store_id",m.id).eq("status","published").lte("stock",aTe).gt("stock",0).order("stock",{ascending:!0}).limit(5);v&&v.forEach(b=>{const _=new Date(b.updated_at||new Date);x.push({id:`stock-${b.id}`,title:"Product Stock Low",description:`${b.name} is running low (${b.stock} left)`,time:l(_),unread:!0,type:"stock",createdAt:_})}),x.sort((b,_)=>_.createdAt.getTime()-b.createdAt.getTime()),e(x),i(x.filter(b=>b.unread).length),n(!1)}catch(f){console.error("[useNotifications] Error fetching notifications:",f),n(!1)}};return j.useEffect(()=>{c();const f=ae.channel("notifications-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},()=>{c()}).subscribe(),m=ae.channel("notifications-products").on("postgres_changes",{event:"UPDATE",schema:"public",table:"products"},()=>{c()}).subscribe();return()=>{ae.removeChannel(f),ae.removeChannel(m)}},[]),{notifications:t,unreadCount:a,isLoading:r,markAsRead:f=>{e(m=>m.map(h=>h.id===f?{...h,unread:!1}:h)),i(m=>Math.max(0,m-1))},markAllAsRead:()=>{e(f=>f.map(m=>({...m,unread:!1}))),i(0)},refresh:c}}const Zn=({children:t})=>{const e=en(),r=zd(),[n,a]=j.useState(!1),[i,o]=j.useState("Your Store"),[l,c]=j.useState(""),[u,d]=j.useState(""),[f,m]=j.useState(!1),h=j.useRef(null),[x,g]=j.useState([]),[v,b]=j.useState(null),[_,w]=j.useState(!0),[N,S]=j.useState(null),[C,A]=j.useState(!0),[R,O]=j.useState([]),{notifications:D,unreadCount:P}=oTe();j.useEffect(()=>{(async()=>{try{const{data:{session:Y}}=await ae.auth.getSession();if(!Y){e("/auth",{replace:!0});return}Y.user.email&&c(Y.user.email);let{data:J}=await ae.from("profiles").select("full_name, email").eq("user_id",Y.user.id).maybeSingle();if(!J){const{data:q}=await ae.from("profiles").insert({user_id:Y.user.id,email:Y.user.email||"",full_name:Y.user.user_metadata?.full_name||Y.user.user_metadata?.name||""}).select("full_name, email").single();J=q}J?.full_name&&d(J.full_name);const{data:z}=await ae.from("stores").select("*").eq("user_id",Y.user.id).maybeSingle();if(z){z.name&&o(z.name),z.enabled_features&&O(z.enabled_features);const{data:q}=await ae.from("subscriptions").select(`
              *,
              subscription_plans (
                whatsapp_orders_limit,
                website_orders_limit
              )
            `).eq("user_id",Y.user.id).single();if(q){const V=new Date,L=q.current_period_end?new Date(q.current_period_end):null;if(L&&L<V&&S({expired:!0,expiresAt:L.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),q?.subscription_plans){const X=q.subscription_plans.whatsapp_orders_limit,K=q.subscription_plans.website_orders_limit,Q=q.whatsapp_orders_used||0,oe=q.website_orders_used||0,ce=X&&X>0&&Q>=X,de=K&&K>0&&oe>=K;(ce||de)&&b({whatsapp:ce,website:de,whatsappUsed:Q,whatsappLimit:X||0,websiteUsed:oe,websiteLimit:K||0})}}}}catch(Y){console.error("[AdminLayout] Error loading user data:",Y)}})();const{data:{subscription:W}}=ae.auth.onAuthStateChange(Y=>{Y==="SIGNED_OUT"&&e("/auth")});return()=>W.unsubscribe()},[e]),j.useEffect(()=>{const U=W=>{h.current&&!h.current.contains(W.target)&&m(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const E=async()=>{console.log("[AdminLayout] Logging out..."),await ae.auth.signOut(),console.log("[AdminLayout] User signed out"),et({title:"Logged Out",description:"You have been successfully logged out"}),e("/")},I=U=>{g(W=>W.includes(U)?W.filter(Y=>Y!==U):[...W,U])},M=[{name:"Dashboard",href:"/admin/dashboard",icon:Uz,current:r.pathname==="/admin/dashboard"},{name:"Categories",href:"/admin/categories",icon:aa,current:r.pathname==="/admin/categories"},{name:"Products",href:"/admin/products",icon:aa,current:r.pathname.startsWith("/admin/products")},{name:"Orders",href:"/admin/orders",icon:X0,current:r.pathname==="/admin/orders"},{name:"Analytics",href:"/admin/analytics",icon:Uz,current:r.pathname==="/admin/analytics"},{name:"Growth",icon:swe,isDropdown:!0,current:r.pathname.startsWith("/admin/growth"),subItems:[{name:"Discount & Coupon",href:"/admin/growth/discount-and-coupon",icon:b1,current:r.pathname==="/admin/growth/discount-and-coupon"},{name:"SEO",href:"/admin/growth/seo",icon:Vl,current:r.pathname==="/admin/growth/seo"},{name:"Social Media",href:"/admin/growth/social-media",icon:$1,current:r.pathname==="/admin/growth/social-media"},{name:"Instagram",href:"/admin/growth/instagram",icon:Od,current:r.pathname==="/admin/growth/instagram"}]},{name:"Subscription",href:"/admin/subscription",icon:Ks,current:r.pathname==="/admin/subscription"},...R.includes("shipping")?[{name:"Shipping",href:"/admin/shipping",icon:Of,current:r.pathname==="/admin/shipping"}]:[],...R.includes("google-reviews")?[{name:"Google Reviews",href:"/admin/google-reviews",icon:gc,current:r.pathname==="/admin/google-reviews"}]:[],{name:"Marketplace",href:"/admin/marketplace",icon:Vx,current:r.pathname==="/admin/marketplace"},{name:"Settings",href:"/admin/settings",icon:vo,current:r.pathname==="/admin/settings"},{name:"AI Designer",href:"/admin/ai-designer",icon:dw,current:r.pathname.startsWith("/admin/ai-designer")||r.pathname.startsWith("/admin/buy-tokens")}];return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col
          transform transition-transform duration-300 ease-out shadow-xl lg:shadow-none
          ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pv,{size:24}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-semibold text-foreground text-sm truncate",children:i}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Admin Panel"})]})]}),s.jsx("button",{onClick:()=>a(!1),className:"lg:hidden p-1.5 hover:bg-muted rounded-md transition-colors touch-target",children:s.jsx(so,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto scrollbar-hide",children:M.map(U=>s.jsx("div",{children:U.isDropdown?s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>I(U.name),className:`w-full flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                      ${U.current?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:U.name})]}),s.jsx(Jm,{className:`w-4 h-4 transition-transform duration-200 ${x.includes(U.name)?"rotate-180":""}`})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-200 ${x.includes(U.name)?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"pl-4 mt-1 space-y-1",children:U.subItems?.map(W=>s.jsxs(hr,{to:W.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 touch-target
                            ${W.current?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                          `,children:[s.jsx(W.icon,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:W.name})]},W.name))})})]}):s.jsxs(hr,{to:U.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                    ${U.current?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-muted"}
                  `,children:[s.jsx(U.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:U.name})]})},U.name))}),s.jsx("div",{className:"p-3 border-t border-border",children:s.jsxs("button",{onClick:E,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-destructive hover:bg-destructive/10 transition-all duration-200 touch-target",children:[s.jsx(Bv,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-14 lg:h-16",children:[s.jsx("button",{onClick:()=>a(!n),className:"lg:hidden p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Toggle menu",children:s.jsx(RN,{className:"w-6 h-6 text-foreground"})}),s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(pv,{size:20}),s.jsx("span",{className:"font-semibold text-foreground text-sm truncate max-w-[120px]",children:i})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 ml-auto",children:[s.jsx(dl,{}),s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs("button",{onClick:()=>m(!f),className:"relative p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Notifications",children:[s.jsx(Mz,{className:"w-5 h-5 text-foreground"}),P>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary rounded-full ring-2 ring-card"})]}),f&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[calc(100vw-2rem)] bg-card border border-border rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground text-sm",children:"Notifications"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["You have ",P," unread notification",P!==1?"s":""]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-hide",children:D.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Mz,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications yet"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You'll see new orders and stock alerts here"})]}):D.map(U=>s.jsxs("div",{className:`p-4 hover:bg-muted transition-colors cursor-pointer border-b border-border last:border-0 ${U.unread?"bg-primary/5":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground flex-1",children:U.title}),U.unread&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-1 ml-2 flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:U.description}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:U.time})]},U.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-2 lg:pl-3 border-l border-border",children:[s.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-primary rounded-full flex items-center justify-center",children:s.jsx(lv,{className:"w-4 h-4 lg:w-5 lg:h-5 text-primary-foreground"})}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[180px]",children:u||l||"Admin User"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[180px]",children:u&&l?l:"Store Manager"})]})]})]})]})}),N&&C&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Hn,{className:"border-destructive bg-destructive/10",children:[s.jsx(hi,{className:"h-5 w-5 text-destructive"}),s.jsxs(Gn,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Subscription Expired"}),s.jsxs("p",{className:"text-sm text-foreground",children:["Your subscription expired on ",N.expiresAt,". You cannot accept new orders until you renew your subscription."," ",s.jsx(we,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>e("/admin/subscription"),children:"Renew your subscription"})," ","to continue accepting orders."]})]}),s.jsx(we,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>A(!1),children:s.jsx(ma,{className:"h-4 w-4"})})]})]})})}),v&&_&&!N&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Hn,{className:"border-destructive bg-destructive/10",children:[s.jsx(hi,{className:"h-5 w-5 text-destructive"}),s.jsxs(Gn,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Order Limit Reached"}),s.jsxs("p",{className:"text-sm text-foreground",children:[v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp (",v.whatsappUsed,"/",v.whatsappLimit,") and Website (",v.websiteUsed,"/",v.websiteLimit,") order limits. "]}),v.whatsapp&&!v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp order limit (",v.whatsappUsed,"/",v.whatsappLimit,"). "]}),!v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your Website order limit (",v.websiteUsed,"/",v.websiteLimit,"). "]}),s.jsx(we,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>e("/admin/subscription"),children:"Upgrade your plan"})," ","to continue receiving orders."]})]}),s.jsx(we,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>w(!1),children:s.jsx(ma,{className:"h-4 w-4"})})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto smooth-scroll",children:s.jsx("div",{className:"p-4 lg:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:t})})})]})]})})},lTe=uw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function er({className:t,variant:e,...r}){return s.jsx("div",{className:Gt(lTe({variant:e}),t),...r})}function vj(t,[e,r]){return Math.min(r,Math.max(e,t))}var cTe=[" ","Enter","ArrowUp","ArrowDown"],uTe=[" ","Enter"],gv="Select",[oE,lE,dTe]=lw(gv),[bw]=bi(gv,[dTe,xg]),cE=xg(),[fTe,_g]=bw(gv),[hTe,mTe]=bw(gv),ice=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:x}=t,g=cE(e),[v,b]=j.useState(null),[_,w]=j.useState(null),[N,S]=j.useState(!1),C=bg(u),[A,R]=ql({prop:n,defaultProp:a??!1,onChange:i,caller:gv}),[O,D]=ql({prop:o,defaultProp:l,onChange:c,caller:gv}),P=j.useRef(null),E=v?x||!!v.closest("form"):!0,[I,M]=j.useState(new Set),U=Array.from(I).map(W=>W.props.value).join(";");return s.jsx(DA,{...g,children:s.jsxs(fTe,{required:h,scope:e,trigger:v,onTriggerChange:b,valueNode:_,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:Vc(),value:O,onValueChange:D,open:A,onOpenChange:R,dir:C,triggerPointerDownPosRef:P,disabled:m,children:[s.jsx(oE.Provider,{scope:e,children:s.jsx(hTe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(W=>{M(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:j.useCallback(W=>{M(Y=>{const J=new Set(Y);return J.delete(W),J})},[]),children:r})}),E?s.jsxs(Pce,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:W=>D(W.target.value),disabled:m,form:x,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},U):null]})})};ice.displayName=gv;var oce="SelectTrigger",lce=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=cE(r),o=_g(oce,r),l=o.disabled||n,c=Yr(e,o.onTriggerChange),u=lE(r),d=j.useRef("touch"),[f,m,h]=Oce(g=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),_=Dce(v,g,b);_!==void 0&&o.onValueChange(_.value)}),x=g=>{l||(o.onOpenChange(!0),h()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(LN,{asChild:!0,...i,children:s.jsx(xr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Tce(o.value)?"":void 0,...a,ref:c,onClick:Xt(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:Xt(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Xt(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&cTe.includes(g.key)&&(x(),g.preventDefault())})})})});lce.displayName=oce;var cce="SelectValue",uce=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=t,c=_g(cce,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Yr(e,c.onValueNodeChange);return vi(()=>{u(d)},[u,d]),s.jsx(xr.span,{...l,ref:f,style:{pointerEvents:"none"},children:Tce(c.value)?s.jsx(s.Fragment,{children:o}):i})});uce.displayName=cce;var pTe="SelectIcon",dce=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return s.jsx(xr.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});dce.displayName=pTe;var gTe="SelectPortal",fce=t=>s.jsx(cw,{asChild:!0,...t});fce.displayName=gTe;var xv="SelectContent",hce=j.forwardRef((t,e)=>{const r=_g(xv,t.__scopeSelect),[n,a]=j.useState();if(vi(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ow.createPortal(s.jsx(mce,{scope:t.__scopeSelect,children:s.jsx(oE.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),i):null}return s.jsx(pce,{...t,ref:e})});hce.displayName=xv;var yf=10,[mce,jg]=bw(xv),xTe="SelectContentImpl",vTe=H0("SelectContent.RemoveScroll"),pce=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:g,avoidCollisions:v,...b}=t,_=_g(xv,r),[w,N]=j.useState(null),[S,C]=j.useState(null),A=Yr(e,ce=>N(ce)),[R,O]=j.useState(null),[D,P]=j.useState(null),E=lE(r),[I,M]=j.useState(!1),U=j.useRef(!1);j.useEffect(()=>{if(w)return JA(w)},[w]),KA();const W=j.useCallback(ce=>{const[de,...ne]=E().map(Z=>Z.ref.current),[ue]=ne.slice(-1),se=document.activeElement;for(const Z of ce)if(Z===se||(Z?.scrollIntoView({block:"nearest"}),Z===de&&S&&(S.scrollTop=0),Z===ue&&S&&(S.scrollTop=S.scrollHeight),Z?.focus(),document.activeElement!==se))return},[E,S]),Y=j.useCallback(()=>W([R,w]),[W,R,w]);j.useEffect(()=>{I&&Y()},[I,Y]);const{onOpenChange:J,triggerPointerDownPosRef:z}=_;j.useEffect(()=>{if(w){let ce={x:0,y:0};const de=ue=>{ce={x:Math.abs(Math.round(ue.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(ue.pageY)-(z.current?.y??0))}},ne=ue=>{ce.x<=10&&ce.y<=10?ue.preventDefault():w.contains(ue.target)||J(!1),document.removeEventListener("pointermove",de),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,J,z]),j.useEffect(()=>{const ce=()=>J(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[J]);const[q,V]=Oce(ce=>{const de=E().filter(se=>!se.disabled),ne=de.find(se=>se.ref.current===document.activeElement),ue=Dce(de,ce,ne);ue&&setTimeout(()=>ue.ref.current.focus())}),L=j.useCallback((ce,de,ne)=>{const ue=!U.current&&!ne;(_.value!==void 0&&_.value===de||ue)&&(O(ce),ue&&(U.current=!0))},[_.value]),X=j.useCallback(()=>w?.focus(),[w]),K=j.useCallback((ce,de,ne)=>{const ue=!U.current&&!ne;(_.value!==void 0&&_.value===de||ue)&&P(ce)},[_.value]),Q=n==="popper"?VF:gce,oe=Q===VF?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(mce,{scope:r,content:w,viewport:S,onViewportChange:C,itemRefCallback:L,selectedItem:R,onItemLeave:X,itemTextRefCallback:K,focusSelectedItem:Y,selectedItemText:D,position:n,isPositioned:I,searchRef:q,children:s.jsx(zN,{as:vTe,allowPinchZoom:!0,children:s.jsx(UN,{asChild:!0,trapped:_.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Xt(a,ce=>{_.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:s.jsx($v,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ce=>ce.preventDefault(),...b,...oe,onPlaced:()=>M(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Xt(b.onKeyDown,ce=>{const de=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!de&&ce.key.length===1&&V(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let ue=E().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const se=ce.target,Z=ue.indexOf(se);ue=ue.slice(Z+1)}setTimeout(()=>W(ue)),ce.preventDefault()}})})})})})})});pce.displayName=xTe;var yTe="SelectItemAlignedPosition",gce=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=_g(xv,r),o=jg(xv,r),[l,c]=j.useState(null),[u,d]=j.useState(null),f=Yr(e,A=>d(A)),m=lE(r),h=j.useRef(!1),x=j.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:_}=o,w=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&b){const A=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),D=b.getBoundingClientRect();if(i.dir!=="rtl"){const se=D.left-R.left,Z=O.left-se,Oe=A.left-Z,re=A.width+Oe,le=Math.max(re,R.width),We=window.innerWidth-yf,xe=vj(Z,[yf,Math.max(yf,We-le)]);l.style.minWidth=re+"px",l.style.left=xe+"px"}else{const se=R.right-D.right,Z=window.innerWidth-O.right-se,Oe=window.innerWidth-A.right-Z,re=A.width+Oe,le=Math.max(re,R.width),We=window.innerWidth-yf,xe=vj(Z,[yf,Math.max(yf,We-le)]);l.style.minWidth=re+"px",l.style.right=xe+"px"}const P=m(),E=window.innerHeight-yf*2,I=g.scrollHeight,M=window.getComputedStyle(u),U=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),Y=parseInt(M.borderBottomWidth,10),J=parseInt(M.paddingBottom,10),z=U+W+I+J+Y,q=Math.min(v.offsetHeight*5,z),V=window.getComputedStyle(g),L=parseInt(V.paddingTop,10),X=parseInt(V.paddingBottom,10),K=A.top+A.height/2-yf,Q=E-K,oe=v.offsetHeight/2,ce=v.offsetTop+oe,de=U+W+ce,ne=z-de;if(de<=K){const se=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const Z=u.clientHeight-g.offsetTop-g.offsetHeight,Oe=Math.max(Q,oe+(se?X:0)+Z+Y),re=de+Oe;l.style.height=re+"px"}else{const se=P.length>0&&v===P[0].ref.current;l.style.top="0px";const Oe=Math.max(K,U+g.offsetTop+(se?L:0)+oe)+ne;l.style.height=Oe+"px",g.scrollTop=de-K+g.offsetTop}l.style.margin=`${yf}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=E+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,v,b,i.dir,n]);vi(()=>w(),[w]);const[N,S]=j.useState();vi(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=j.useCallback(A=>{A&&x.current===!0&&(w(),_?.(),x.current=!1)},[w,_]);return s.jsx(wTe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(xr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});gce.displayName=yTe;var bTe="SelectPopperPosition",VF=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=yf,...i}=t,o=cE(r);return s.jsx(RA,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});VF.displayName=bTe;var[wTe,Q7]=bw(xv,{}),WF="SelectViewport",xce=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=jg(WF,r),o=Q7(WF,r),l=Yr(e,i.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(oE.Slot,{scope:r,children:s.jsx(xr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Xt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const x=window.innerHeight-yf*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(g,v);if(b<x){const _=b+h,w=Math.min(x,_),N=_-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xce.displayName=WF;var vce="SelectGroup",[_Te,jTe]=bw(vce),NTe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Vc();return s.jsx(_Te,{scope:r,id:a,children:s.jsx(xr.div,{role:"group","aria-labelledby":a,...n,ref:e})})});NTe.displayName=vce;var yce="SelectLabel",bce=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=jTe(yce,r);return s.jsx(xr.div,{id:a.id,...n,ref:e})});bce.displayName=yce;var D4="SelectItem",[STe,wce]=bw(D4),_ce=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,l=_g(D4,r),c=jg(D4,r),u=l.value===n,[d,f]=j.useState(i??""),[m,h]=j.useState(!1),x=Yr(e,_=>c.itemRefCallback?.(_,n,a)),g=Vc(),v=j.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(STe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:j.useCallback(_=>{f(w=>w||(_?.textContent??"").trim())},[]),children:s.jsx(oE.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(xr.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Xt(o.onFocus,()=>h(!0)),onBlur:Xt(o.onBlur,()=>h(!1)),onClick:Xt(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Xt(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Xt(o.onPointerDown,_=>{v.current=_.pointerType}),onPointerMove:Xt(o.onPointerMove,_=>{v.current=_.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xt(o.onPointerLeave,_=>{_.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Xt(o.onKeyDown,_=>{c.searchRef?.current!==""&&_.key===" "||(uTe.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});_ce.displayName=D4;var K_="SelectItemText",jce=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=_g(K_,r),l=jg(K_,r),c=wce(K_,r),u=mTe(K_,r),[d,f]=j.useState(null),m=Yr(e,b=>f(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),h=d?.textContent,x=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return vi(()=>(g(x),()=>v(x)),[g,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(xr.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ow.createPortal(i.children,o.valueNode):null]})});jce.displayName=K_;var Nce="SelectItemIndicator",Sce=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return wce(Nce,r).isSelected?s.jsx(xr.span,{"aria-hidden":!0,...n,ref:e}):null});Sce.displayName=Nce;var HF="SelectScrollUpButton",kce=j.forwardRef((t,e)=>{const r=jg(HF,t.__scopeSelect),n=Q7(HF,t.__scopeSelect),[a,i]=j.useState(!1),o=Yr(e,n.onScrollButtonChange);return vi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Ace,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kce.displayName=HF;var GF="SelectScrollDownButton",Cce=j.forwardRef((t,e)=>{const r=jg(GF,t.__scopeSelect),n=Q7(GF,t.__scopeSelect),[a,i]=j.useState(!1),o=Yr(e,n.onScrollButtonChange);return vi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Ace,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Cce.displayName=GF;var Ace=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=jg("SelectScrollButton",r),o=j.useRef(null),l=lE(r),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),vi(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(xr.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Xt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Xt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Xt(a.onPointerLeave,()=>{c()})})}),kTe="SelectSeparator",Ece=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(xr.div,{"aria-hidden":!0,...n,ref:e})});Ece.displayName=kTe;var YF="SelectArrow",CTe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=cE(r),i=_g(YF,r),o=jg(YF,r);return i.open&&o.position==="popper"?s.jsx(IA,{...a,...n,ref:e}):null});CTe.displayName=YF;var ATe="SelectBubbleInput",Pce=j.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=j.useRef(null),i=Yr(n,a),o=JN(e);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),s.jsx(xr.select,{...r,style:{...gne,...r.style},ref:i,defaultValue:e})});Pce.displayName=ATe;function Tce(t){return t===""||t===void 0}function Oce(t){const e=mi(t),r=j.useRef(""),n=j.useRef(0),a=j.useCallback(o=>{const l=r.current+o;e(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Dce(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=ETe(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ETe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var PTe=ice,Rce=lce,TTe=uce,OTe=dce,DTe=fce,Ice=hce,RTe=xce,Fce=bce,Mce=_ce,ITe=jce,FTe=Sce,Lce=kce,$ce=Cce,Bce=Ece;const zr=PTe,qr=TTe,Lr=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(Rce,{ref:n,className:Gt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(OTe,{asChild:!0,children:s.jsx(Jm,{className:"h-4 w-4 opacity-50"})})]}));Lr.displayName=Rce.displayName;const Uce=j.forwardRef(({className:t,...e},r)=>s.jsx(Lce,{ref:r,className:Gt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Lne,{className:"h-4 w-4"})}));Uce.displayName=Lce.displayName;const zce=j.forwardRef(({className:t,...e},r)=>s.jsx($ce,{ref:r,className:Gt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Jm,{className:"h-4 w-4"})}));zce.displayName=$ce.displayName;const $r=j.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>s.jsx(DTe,{children:s.jsxs(Ice,{ref:a,className:Gt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(Uce,{}),s.jsx(RTe,{className:Gt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(zce,{})]})}));$r.displayName=Ice.displayName;const MTe=j.forwardRef(({className:t,...e},r)=>s.jsx(Fce,{ref:r,className:Gt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));MTe.displayName=Fce.displayName;const ut=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(Mce,{ref:n,className:Gt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FTe,{children:s.jsx(On,{className:"h-4 w-4"})})}),s.jsx(ITe,{children:e})]}));ut.displayName=Mce.displayName;const LTe=j.forwardRef(({className:t,...e},r)=>s.jsx(Bce,{ref:r,className:Gt("-mx-1 my-1 h-px bg-muted",t),...e}));LTe.displayName=Bce.displayName;const yj=({className:t,...e})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:Gt("mx-auto flex w-full justify-center",t),...e});yj.displayName="Pagination";const bj=j.forwardRef(({className:t,...e},r)=>s.jsx("ul",{ref:r,className:Gt("flex flex-row items-center gap-1",t),...e}));bj.displayName="PaginationContent";const ju=j.forwardRef(({className:t,...e},r)=>s.jsx("li",{ref:r,className:Gt("",t),...e}));ju.displayName="PaginationItem";const vv=({className:t,isActive:e,size:r="icon",...n})=>s.jsx("a",{"aria-current":e?"page":void 0,className:Gt(VA({variant:e?"outline":"ghost",size:r}),t),...n});vv.displayName="PaginationLink";const wj=({className:t,...e})=>s.jsxs(vv,{"aria-label":"Go to previous page",size:"default",className:Gt("gap-1 pl-2.5",t),...e,children:[s.jsx(Ybe,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});wj.displayName="PaginationPrevious";const _j=({className:t,...e})=>s.jsxs(vv,{"aria-label":"Go to next page",size:"default",className:Gt("gap-1 pr-2.5",t),...e,children:[s.jsx("span",{children:"Next"}),s.jsx($h,{className:"h-4 w-4"})]});_j.displayName="PaginationNext";const Ja=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Gt("w-full caption-bottom text-sm",t),...e})}));Ja.displayName="Table";const Za=j.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:Gt("[&_tr]:border-b",t),...e}));Za.displayName="TableHeader";const Qa=j.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:Gt("[&_tr:last-child]:border-0",t),...e}));Qa.displayName="TableBody";const $Te=j.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:Gt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));$Te.displayName="TableFooter";const rn=j.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:Gt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));rn.displayName="TableRow";const At=j.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:Gt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));At.displayName="TableHead";const _t=j.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:Gt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));_t.displayName="TableCell";const BTe=j.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:Gt("mt-4 text-sm text-muted-foreground",t),...e}));BTe.displayName="TableCaption";const UTe=t=>t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),zTe=async t=>{try{console.log("[SLUG MIGRATION] Starting migration for store:",t);const{data:e,error:r}=await ae.from("products").select("id, name, slug").eq("store_id",t).or("slug.is.null,slug.eq.");if(r){console.error("[SLUG MIGRATION] Error fetching products:",r);return}if(!e||e.length===0){console.log("[SLUG MIGRATION] No products need slug migration");return}console.log(`[SLUG MIGRATION] Found ${e.length} products without slugs`);for(const n of e){const a=UTe(n.name),{error:i}=await ae.from("products").update({slug:a}).eq("id",n.id);i?console.error(`[SLUG MIGRATION] Error updating product ${n.id}:`,i):console.log(`[SLUG MIGRATION]  Updated product "${n.name}" with slug: ${a}`)}console.log("[SLUG MIGRATION]  Migration completed")}catch(e){console.error("[SLUG MIGRATION] Error during migration:",e)}};var e9="Progress",t9=100,[qTe]=bi(e9),[VTe,WTe]=qTe(e9),qce=j.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=HTe,...o}=t;(a||a===0)&&!oW(a)&&console.error(GTe(`${a}`,"Progress"));const l=oW(a)?a:t9;n!==null&&!lW(n,l)&&console.error(YTe(`${n}`,"Progress"));const c=lW(n,l)?n:null,u=R4(c)?i(c,l):void 0;return s.jsx(VTe,{scope:r,value:c,max:l,children:s.jsx(xr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":R4(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Hce(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});qce.displayName=e9;var Vce="ProgressIndicator",Wce=j.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=WTe(Vce,r);return s.jsx(xr.div,{"data-state":Hce(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});Wce.displayName=Vce;function HTe(t,e){return`${Math.round(t/e*100)}%`}function Hce(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function R4(t){return typeof t=="number"}function oW(t){return R4(t)&&!isNaN(t)&&t>0}function lW(t,e){return R4(t)&&!isNaN(t)&&t<=e&&t>=0}function GTe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${t9}\`.`}function YTe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${t9} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Gce=qce,KTe=Wce;const KF=j.forwardRef(({className:t,value:e,...r},n)=>s.jsx(Gce,{ref:n,className:Gt("relative h-4 w-full overflow-hidden rounded-full bg-muted border border-border",t),...r,children:s.jsx(KTe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));KF.displayName=Gce.displayName;const XTe=({onImportComplete:t})=>{const[e,r]=j.useState(!1),[n,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(0),[f,m]=j.useState(!1);j.useRef(null),j.useEffect(()=>{const w=()=>{const C=localStorage.getItem("products_need_export")==="true";m(C)};w();const N=C=>{C.key==="products_need_export"&&w()},S=()=>{localStorage.setItem("products_need_export","true"),m(!0)};return window.addEventListener("storage",N),window.addEventListener("productChanged",S),()=>{window.removeEventListener("storage",N),window.removeEventListener("productChanged",S)}},[]);const h=async()=>{r(!0),d(0);try{const{data:{session:w}}=await ae.auth.getSession();if(!w)throw new Error("Not authenticated");d(20);const N=await ae.functions.invoke("export-to-sheets",{headers:{Authorization:`Bearer ${w.access_token}`}});if(d(70),N.error)throw N.error;if(N.data.needsTemplate){et({title:"Template not found",description:"Please create a template first by clicking 'Create Template'.",variant:"destructive"});return}const{productsCount:S,sheetUrl:C}=N.data;d(100),localStorage.removeItem("products_need_export"),m(!1),et({title:"Export successful!",description:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[S," products exported to Google Sheets."]}),s.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium block",children:"Open in Google Sheets "})]})})}catch(w){console.error("Error exporting:",w),et({title:"Error exporting products",description:w instanceof Error?w.message:"Unknown error occurred",variant:"destructive"})}finally{r(!1),d(0)}},x=async w=>{a(!0),d(0);try{const{data:{session:N}}=await ae.auth.getSession();if(!N)throw new Error("Not authenticated");d(20);const S=await ae.functions.invoke("import-from-sheets",{headers:{Authorization:`Bearer ${N.access_token}`},body:w?{sheetId:w}:{}});if(d(70),S.error)throw S.error;if(S.data.needsTemplate){et({title:"Template not found",description:"Please create a template first or provide a sheet URL.",variant:"destructive"});return}const{created:C,updated:A,errors:R,totalErrors:O}=S.data;d(100),O>0?et({title:"Import completed with errors",description:`${C} created, ${A} updated, ${O} errors occurred.`,variant:"destructive"}):et({title:"Import successful!",description:`${C} products created, ${A} products updated.`}),t&&setTimeout(t,500),o(!1)}catch(N){console.error("Error importing:",N),et({title:"Error importing products",description:N instanceof Error?N.message:"Unknown error occurred",variant:"destructive"})}finally{a(!1),d(0)}},g=async w=>{if(w.preventDefault(),w.stopPropagation(),c(!1),!w.dataTransfer.files[0])return;const C=(await w.dataTransfer.getData("text")).match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/);if(C){const A=C[1];x(A)}else et({title:"Invalid file",description:"Please drag a Google Sheets URL or share link.",variant:"destructive"})},v=w=>{w.preventDefault(),w.stopPropagation(),c(!0)},b=w=>{w.preventDefault(),w.stopPropagation(),c(!1)},_=w=>{w.preventDefault(),w.stopPropagation()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(we,{variant:"outline",size:"sm",onClick:h,disabled:e||n,className:f&&!e?"animate-pulse ring-2 ring-primary ring-offset-2":"",children:e?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ll,{className:"w-4 h-4 mr-2"}),"Export"]})}),f&&!e&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]})]}),s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>o(!0),disabled:e||n,children:[s.jsx(Af,{className:"w-4 h-4 mr-2"}),"Import"]})]}),(e||n)&&u>0&&s.jsx("div",{className:"w-full mt-4",children:s.jsx(KF,{value:u,className:"h-2"})}),s.jsx(ss,{open:i,onOpenChange:o,children:s.jsxs(ts,{className:"sm:max-w-md",children:[s.jsxs(as,{children:[s.jsx(is,{children:"Import Products from Google Sheets"}),s.jsx(ja,{children:"Choose how you want to import your products"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(we,{onClick:()=>x(),disabled:n,className:"w-full",variant:"default",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Zbe,{className:"w-4 h-4 mr-2"}),"Import from Template Sheet"]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${l?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onDrop:g,onDragEnter:v,onDragLeave:b,onDragOver:_,children:[s.jsx(Af,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm font-medium mb-2",children:"Drag & Drop Google Sheets Link"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag a Google Sheets URL or share link here"})]}),n&&u>0&&s.jsx(KF,{value:u,className:"h-2"})]})]})})]})},cW=()=>{const t=en(),e=zd(),r=iE(),[n,a]=j.useState([]),[i,o]=j.useState(""),[l,c]=j.useState(""),[u,d]=j.useState([]),[f,m]=j.useState("all"),[h,x]=j.useState("all"),[g,v]=j.useState(1),[b,_]=j.useState(null),w=10,N=async()=>{const{data:{session:E}}=await ae.auth.getSession();if(E?.user){const{data:M}=await ae.from("stores").select("id, slug").eq("user_id",E.user.id).maybeSingle();M?.id&&(c(M.slug),await zTe(M.id))}const I=(await qF()).map(M=>({...M,variantCount:M.variants?.length||0}));a(I),d(I)};j.useEffect(()=>{N();const E=M=>{M.key==="products"&&N()},I=()=>{N()};return window.addEventListener("storage",E),window.addEventListener("focus",I),()=>{window.removeEventListener("storage",E),window.removeEventListener("focus",I)}},[]),j.useEffect(()=>{const E=e.state;if(E?.highlightedProductId){_(E.highlightedProductId),v(1);const I=()=>{const Y=document.querySelector(`[data-product-id="${E.highlightedProductId}"]`);return Y?(Y.scrollIntoView({behavior:"smooth",block:"center"}),!0):!1};let M=0;const U=10,W=setInterval(()=>{(I()||M>=U)&&clearInterval(W),M++},200);setTimeout(()=>{_(null)},3500),window.history.replaceState({},document.title)}},[e,n]),j.useEffect(()=>{let E=n.filter(I=>{const M=I.name.toLowerCase().includes(i.toLowerCase())||(I.sku||"").toLowerCase().includes(i.toLowerCase())||I.category.toLowerCase().includes(i.toLowerCase()),U=f==="all"||I.category===f,W=h==="all"||I.status===h;return M&&U&&W});d(E),v(1)},[n,i,f,h]);const S=E=>{switch(E){case"published":return"bg-success/10 text-success";case"draft":return"bg-warning/10 text-warning";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},C=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(E),A=async E=>{await LPe(E);const I=(await qF()).map(M=>({...M,variantCount:M.variants?.length||0}));a(I),localStorage.setItem("products_need_export","true"),window.dispatchEvent(new Event("productChanged")),et({title:"Product deleted",description:"Product removed from catalog"})},R=()=>[...new Set(n.map(I=>I.category))].sort(),O=Math.ceil(u.length/w),D=u.slice((g-1)*w,g*w),P=()=>{const E=[];let M=Math.max(1,g-Math.floor(2.5)),U=Math.min(O,M+5-1);U-M+1<5&&(M=Math.max(1,U-5+1));for(let W=M;W<=U;W++)E.push(W);return E};return s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Products"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Manage your product catalog"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(XTe,{onImportComplete:N}),s.jsxs(we,{onClick:()=>t("/admin/products/add"),className:"touch-target flex-1 sm:flex-initial",children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})]}),s.jsx(He,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Products Used"}),s.jsxs("span",{className:"font-semibold text-foreground",children:[n.length," / ",r.maxProducts||""]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-success h-2 rounded-full transition-all",style:{width:`${Math.min(n.length/(r.maxProducts||n.length||1)*100,100)}%`}})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(He,{children:s.jsx(Xe,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Total Products"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:n.length})]}),s.jsx(aa,{className:"w-6 h-6 lg:w-8 lg:h-8 text-primary flex-shrink-0 ml-2"})]})})}),s.jsx(He,{children:s.jsx(Xe,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Published"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:n.filter(E=>E.status==="published").length})]}),s.jsx(ra,{className:"w-6 h-6 lg:w-8 lg:h-8 text-success flex-shrink-0 ml-2"})]})})}),s.jsx(He,{children:s.jsx(Xe,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Drafts"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:n.filter(E=>E.status==="draft").length})]}),s.jsx(Lf,{className:"w-6 h-6 lg:w-8 lg:h-8 text-warning flex-shrink-0 ml-2"})]})})})]}),s.jsx(He,{children:s.jsx(Xe,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(lt,{placeholder:"Search products by name, SKU, or category...",value:i,onChange:E=>o(E.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(zr,{value:f,onValueChange:m,children:[s.jsxs(Lr,{className:"w-full sm:w-[180px]",children:[s.jsx(DI,{className:"w-4 h-4 mr-2"}),s.jsx(qr,{placeholder:"Category"})]}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Categories"}),R().map(E=>s.jsx(ut,{value:E,children:E},E))]})]}),s.jsxs(zr,{value:h,onValueChange:x,children:[s.jsx(Lr,{className:"w-full sm:w-[150px]",children:s.jsx(qr,{placeholder:"Status"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"published",children:"Published"}),s.jsx(ut,{value:"draft",children:"Draft"}),s.jsx(ut,{value:"inactive",children:"Inactive"})]})]})]})]})})}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Product List (",u.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",g," of ",O]})]})}),s.jsxs(Xe,{children:[u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(aa,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:n.length===0?"Start by adding your first product to your catalog":"Try adjusting your search criteria"}),n.length===0&&s.jsxs(we,{onClick:()=>t("/admin/products/add"),children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6 lg:mx-0 lg:px-0",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{className:"hover:bg-transparent",children:[s.jsx(At,{className:"min-w-[200px]",children:"Product"}),s.jsx(At,{className:"hidden sm:table-cell",children:"Category"}),s.jsx(At,{className:"hidden md:table-cell",children:"Variants"}),s.jsx(At,{children:"Price"}),s.jsx(At,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:D.map(E=>s.jsxs(rn,{"data-product-id":E.id,className:`hover:bg-muted/50 transition-all duration-500 cursor-pointer ${b===E.id?"bg-success/10 border-l-4 border-success animate-in fade-in":""}`,onClick:()=>t(`/admin/products/edit/${E.id}`),children:[s.jsx(_t,{className:"min-w-[200px]",children:s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(aa,{className:"w-4 h-4 lg:w-5 lg:h-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-foreground text-sm lg:text-base truncate",children:E.name}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground font-mono truncate",children:E.sku})]})]})}),s.jsx(_t,{className:"hidden sm:table-cell",children:s.jsx(er,{variant:"outline",className:"text-xs",children:E.category})}),s.jsx(_t,{className:"hidden md:table-cell",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx(twe,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:E.variantCount||0})]})}),s.jsx(_t,{className:"font-semibold text-sm whitespace-nowrap",children:E.priceRange||(E.basePrice?C(E.basePrice):"")}),s.jsx(_t,{className:"hidden lg:table-cell",children:s.jsx(er,{className:S(E.status),variant:"outline",children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})}),s.jsx(_t,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[s.jsx(we,{variant:"ghost",size:"sm",title:"View Details",onClick:I=>{I.stopPropagation();const M=l?`/${l}/products/${E.slug||E.id}`:`/products/${E.slug||E.id}`;window.open(M,"_blank")},className:"h-8 w-8 p-0",children:s.jsx(ra,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",title:"Edit Product",onClick:I=>{I.stopPropagation(),t(`/admin/products/edit/${E.id}`)},className:"h-8 w-8 p-0",children:s.jsx(Lf,{className:"w-4 h-4"})}),s.jsx(we,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8 p-0",onClick:I=>{I.stopPropagation(),A(E.id)},title:"Delete Product",children:s.jsx(Ds,{className:"w-4 h-4"})})]})})]},E.id))})]})}),u.length>w&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(yj,{children:s.jsxs(bj,{children:[s.jsx(ju,{children:s.jsx(wj,{onClick:()=>v(E=>Math.max(1,E-1)),className:g===1?"pointer-events-none opacity-50":"cursor-pointer"})}),P().map(E=>s.jsx(ju,{children:s.jsx(vv,{onClick:()=>v(E),isActive:g===E,className:"cursor-pointer",children:E})},E)),s.jsx(ju,{children:s.jsx(_j,{onClick:()=>v(E=>Math.min(O,E+1)),className:g===O?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})]})};var ZN=t=>t.type==="checkbox",Fx=t=>t instanceof Date,oc=t=>t==null;const Yce=t=>typeof t=="object";var Fi=t=>!oc(t)&&!Array.isArray(t)&&Yce(t)&&!Fx(t),Kce=t=>Fi(t)&&t.target?ZN(t.target)?t.target.checked:t.target.value:t,JTe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Xce=(t,e)=>t.has(JTe(e)),ZTe=t=>{const e=t.constructor&&t.constructor.prototype;return Fi(e)&&e.hasOwnProperty("isPrototypeOf")},r9=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function po(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(r9&&(t instanceof Blob||n))&&(r||Fi(t)))if(e=r?[]:{},!r&&!ZTe(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=po(t[a]));else return t;return e}var uE=t=>/^\w*$/.test(t),Ei=t=>t===void 0,n9=t=>Array.isArray(t)?t.filter(Boolean):[],s9=t=>n9(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yr=(t,e,r)=>{if(!e||!Fi(t))return r;const n=(uE(e)?[e]:s9(e)).reduce((a,i)=>oc(a)?a:a[i],t);return Ei(n)||n===t?Ei(t[e])?r:t[e]:n},bu=t=>typeof t=="boolean",Ls=(t,e,r)=>{let n=-1;const a=uE(e)?[e]:s9(e),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=t[l];c=Fi(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const I4={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nf={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tm={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},a9=Ne.createContext(null);a9.displayName="HookFormContext";const dE=()=>Ne.useContext(a9),QTe=t=>{const{children:e,...r}=t;return Ne.createElement(a9.Provider,{value:r},e)};var Jce=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Nf.all&&(e._proxyFormState[o]=!n||Nf.all),r&&(r[o]=!0),t[o]}});return a};const i9=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;function e3e(t){const e=dE(),{control:r=e.control,disabled:n,name:a,exact:i}=t||{},[o,l]=Ne.useState(r._formState),c=Ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return i9(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),Ne.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Ne.useMemo(()=>Jce(o,r,c.current,!1),[o,r])}var Sh=t=>typeof t=="string",Zce=(t,e,r,n,a)=>Sh(t)?(n&&e.watch.add(t),yr(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),yr(r,i))):(n&&(e.watchAll=!0),r),XF=t=>oc(t)||!Yce(t);function Um(t,e,r=new WeakSet){if(XF(t)||XF(e))return t===e;if(Fx(t)&&Fx(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const o=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Fx(o)&&Fx(l)||Fi(o)&&Fi(l)||Array.isArray(o)&&Array.isArray(l)?!Um(o,l,r):o!==l)return!1}}return!0}function t3e(t){const e=dE(),{control:r=e.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=t||{},c=Ne.useRef(a),u=Ne.useRef(l),d=Ne.useRef(void 0);u.current=l;const f=Ne.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,h]=Ne.useState(u.current?u.current(f):f);return i9(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:x=>{if(!i){const g=Zce(n,r._names,x.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Um(v,d.current)||(h(v),d.current=v)}else h(g)}}}),[r,i,n,o]),Ne.useEffect(()=>r._removeUnmounted()),m}function r3e(t){const e=dE(),{name:r,disabled:n,control:a=e.control,shouldUnregister:i,defaultValue:o}=t,l=Xce(a._names.array,r),c=Ne.useMemo(()=>yr(a._formValues,r,yr(a._defaultValues,r,o)),[a,r,o]),u=t3e({control:a,name:r,defaultValue:c,exact:!0}),d=e3e({control:a,name:r,exact:!0}),f=Ne.useRef(t),m=Ne.useRef(a.register(r,{...t.rules,value:u,...bu(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const h=Ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!yr(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!yr(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!yr(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!yr(d.validatingFields,r)},error:{enumerable:!0,get:()=>yr(d.errors,r)}}),[d,r]),x=Ne.useCallback(_=>m.current.onChange({target:{value:Kce(_),name:r},type:I4.CHANGE}),[r]),g=Ne.useCallback(()=>m.current.onBlur({target:{value:yr(a._formValues,r),name:r},type:I4.BLUR}),[r,a._formValues]),v=Ne.useCallback(_=>{const w=yr(a._fields,r);w&&_&&(w._f.ref={focus:()=>_.focus&&_.focus(),select:()=>_.select&&_.select(),setCustomValidity:N=>_.setCustomValidity(N),reportValidity:()=>_.reportValidity()})},[a._fields,r]),b=Ne.useMemo(()=>({name:r,value:u,...bu(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:x,onBlur:g,ref:v}),[r,n,d.disabled,x,g,v,u]);return Ne.useEffect(()=>{const _=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...bu(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(N,S)=>{const C=yr(a._fields,N);C&&C._f&&(C._f.mount=S)};if(w(r,!0),_){const N=po(yr(a._options.defaultValues,r));Ls(a._defaultValues,r,N),Ei(yr(a._formValues,r))&&Ls(a._formValues,r,N)}return!l&&a.register(r),()=>{(l?_&&!a._state.action:_)?a.unregister(r):w(r,!1)}},[r,a,l,i]),Ne.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Ne.useMemo(()=>({field:b,formState:d,fieldState:h}),[b,d,h])}const n3e=t=>t.render(r3e(t));var Qce=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},j2=t=>Array.isArray(t)?t:[t],uW=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},Ic=t=>Fi(t)&&!Object.keys(t).length,o9=t=>t.type==="file",Sf=t=>typeof t=="function",F4=t=>{if(!r9)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},eue=t=>t.type==="select-multiple",l9=t=>t.type==="radio",s3e=t=>l9(t)||ZN(t),h3=t=>F4(t)&&t.isConnected;function a3e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ei(t)?n++:t[e[n++]];return t}function i3e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ei(t[e]))return!1;return!0}function qi(t,e){const r=Array.isArray(e)?e:uE(e)?[e]:s9(e),n=r.length===1?t:a3e(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Fi(n)&&Ic(n)||Array.isArray(n)&&i3e(n))&&qi(t,r.slice(0,-1)),t}var tue=t=>{for(const e in t)if(Sf(t[e]))return!0;return!1};function M4(t,e={}){const r=Array.isArray(t);if(Fi(t)||r)for(const n in t)Array.isArray(t[n])||Fi(t[n])&&!tue(t[n])?(e[n]=Array.isArray(t[n])?[]:{},M4(t[n],e[n])):oc(t[n])||(e[n]=!0);return e}function rue(t,e,r){const n=Array.isArray(t);if(Fi(t)||n)for(const a in t)Array.isArray(t[a])||Fi(t[a])&&!tue(t[a])?Ei(e)||XF(r[a])?r[a]=Array.isArray(t[a])?M4(t[a],[]):{...M4(t[a])}:rue(t[a],oc(e)?{}:e[a],r[a]):r[a]=!Um(t[a],e[a]);return r}var v_=(t,e)=>rue(t,e,M4(e));const dW={value:!1,isValid:!1},fW={value:!0,isValid:!0};var nue=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ei(t[0].attributes.value)?Ei(t[0].value)||t[0].value===""?fW:{value:t[0].value,isValid:!0}:fW:dW}return dW},sue=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ei(t)?t:e?t===""?NaN:t&&+t:r&&Sh(t)?new Date(t):n?n(t):t;const hW={isValid:!1,value:null};var aue=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,hW):hW;function mW(t){const e=t.ref;return o9(e)?e.files:l9(e)?aue(t.refs).value:eue(e)?[...e.selectedOptions].map(({value:r})=>r):ZN(e)?nue(t.refs).value:sue(Ei(e.value)?t.ref.value:e.value,t)}var o3e=(t,e,r,n)=>{const a={};for(const i of t){const o=yr(e,i);o&&Ls(a,i,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},L4=t=>t instanceof RegExp,y_=t=>Ei(t)?t:L4(t)?t.source:Fi(t)?L4(t.value)?t.value.source:t.value:t,pW=t=>({isOnSubmit:!t||t===Nf.onSubmit,isOnBlur:t===Nf.onBlur,isOnChange:t===Nf.onChange,isOnAll:t===Nf.all,isOnTouch:t===Nf.onTouched});const gW="AsyncFunction";var l3e=t=>!!t&&!!t.validate&&!!(Sf(t.validate)&&t.validate.constructor.name===gW||Fi(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===gW)),c3e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),xW=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const N2=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=yr(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(N2(l,e))break}else if(Fi(l)&&N2(l,e))break}}};function vW(t,e,r){const n=yr(t,r);if(n||uE(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=yr(e,i),l=yr(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var u3e=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return Ic(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Nf.all))},d3e=(t,e,r)=>!t||!e||t===e||j2(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),f3e=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,h3e=(t,e)=>!n9(yr(t,e)).length&&qi(t,e),m3e=(t,e,r)=>{const n=j2(yr(t,r));return Ls(n,"root",e[r]),Ls(t,r,n),t},H5=t=>Sh(t);function yW(t,e,r="validate"){if(H5(t)||Array.isArray(t)&&t.every(H5)||bu(t)&&!t)return{type:r,message:H5(t)?t:"",ref:e}}var e1=t=>Fi(t)&&!L4(t)?t:{value:t,message:""},bW=async(t,e,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:h,validate:x,name:g,valueAsNumber:v,mount:b}=t._f,_=yr(r,g);if(!b||e.has(g))return{};const w=l?l[0]:o,N=E=>{a&&w.reportValidity&&(w.setCustomValidity(bu(E)?"":E||""),w.reportValidity())},S={},C=l9(o),A=ZN(o),R=C||A,O=(v||o9(o))&&Ei(o.value)&&Ei(_)||F4(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,D=Qce.bind(null,g,n,S),P=(E,I,M,U=Tm.maxLength,W=Tm.minLength)=>{const Y=E?I:M;S[g]={type:E?U:W,message:Y,ref:o,...D(E?U:W,Y)}};if(i?!Array.isArray(_)||!_.length:c&&(!R&&(O||oc(_))||bu(_)&&!_||A&&!nue(l).isValid||C&&!aue(l).isValid)){const{value:E,message:I}=H5(c)?{value:!!c,message:c}:e1(c);if(E&&(S[g]={type:Tm.required,message:I,ref:w,...D(Tm.required,I)},!n))return N(I),S}if(!O&&(!oc(f)||!oc(m))){let E,I;const M=e1(m),U=e1(f);if(!oc(_)&&!isNaN(_)){const W=o.valueAsNumber||_&&+_;oc(M.value)||(E=W>M.value),oc(U.value)||(I=W<U.value)}else{const W=o.valueAsDate||new Date(_),Y=q=>new Date(new Date().toDateString()+" "+q),J=o.type=="time",z=o.type=="week";Sh(M.value)&&_&&(E=J?Y(_)>Y(M.value):z?_>M.value:W>new Date(M.value)),Sh(U.value)&&_&&(I=J?Y(_)<Y(U.value):z?_<U.value:W<new Date(U.value))}if((E||I)&&(P(!!E,M.message,U.message,Tm.max,Tm.min),!n))return N(S[g].message),S}if((u||d)&&!O&&(Sh(_)||i&&Array.isArray(_))){const E=e1(u),I=e1(d),M=!oc(E.value)&&_.length>+E.value,U=!oc(I.value)&&_.length<+I.value;if((M||U)&&(P(M,E.message,I.message),!n))return N(S[g].message),S}if(h&&!O&&Sh(_)){const{value:E,message:I}=e1(h);if(L4(E)&&!_.match(E)&&(S[g]={type:Tm.pattern,message:I,ref:o,...D(Tm.pattern,I)},!n))return N(I),S}if(x){if(Sf(x)){const E=await x(_,r),I=yW(E,w);if(I&&(S[g]={...I,...D(Tm.validate,I.message)},!n))return N(I.message),S}else if(Fi(x)){let E={};for(const I in x){if(!Ic(E)&&!n)break;const M=yW(await x[I](_,r),w,I);M&&(E={...M,...D(I,M.message)},N(M.message),n&&(S[g]=E))}if(!Ic(E)&&(S[g]={ref:w,...E},!n))return S}}return N(!0),S};const p3e={mode:Nf.onSubmit,reValidateMode:Nf.onChange,shouldFocusError:!0};function g3e(t={}){let e={...p3e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Sf(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Fi(e.defaultValues)||Fi(e.values)?po(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:po(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:uW(),state:uW()},h=e.criteriaMode===Nf.all,x=fe=>ye=>{clearTimeout(u),u=setTimeout(fe,ye)},g=async fe=>{if(!e.disabled&&(d.isValid||f.isValid||fe)){const ye=e.resolver?Ic((await A()).errors):await O(n,!0);ye!==r.isValid&&m.state.next({isValid:ye})}},v=(fe,ye)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((fe||Array.from(l.mount)).forEach(qe=>{qe&&(ye?Ls(r.validatingFields,qe,ye):qi(r.validatingFields,qe))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ic(r.validatingFields)}))},b=(fe,ye=[],qe,Qe,ct=!0,Ye=!0)=>{if(Qe&&qe&&!e.disabled){if(o.action=!0,Ye&&Array.isArray(yr(n,fe))){const me=qe(yr(n,fe),Qe.argA,Qe.argB);ct&&Ls(n,fe,me)}if(Ye&&Array.isArray(yr(r.errors,fe))){const me=qe(yr(r.errors,fe),Qe.argA,Qe.argB);ct&&Ls(r.errors,fe,me),h3e(r.errors,fe)}if((d.touchedFields||f.touchedFields)&&Ye&&Array.isArray(yr(r.touchedFields,fe))){const me=qe(yr(r.touchedFields,fe),Qe.argA,Qe.argB);ct&&Ls(r.touchedFields,fe,me)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=v_(a,i)),m.state.next({name:fe,isDirty:P(fe,ye),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ls(i,fe,ye)},_=(fe,ye)=>{Ls(r.errors,fe,ye),m.state.next({errors:r.errors})},w=fe=>{r.errors=fe,m.state.next({errors:r.errors,isValid:!1})},N=(fe,ye,qe,Qe)=>{const ct=yr(n,fe);if(ct){const Ye=yr(i,fe,Ei(qe)?yr(a,fe):qe);Ei(Ye)||Qe&&Qe.defaultChecked||ye?Ls(i,fe,ye?Ye:mW(ct._f)):M(fe,Ye),o.mount&&g()}},S=(fe,ye,qe,Qe,ct)=>{let Ye=!1,me=!1;const Se={name:fe};if(!e.disabled){if(!qe||Qe){(d.isDirty||f.isDirty)&&(me=r.isDirty,r.isDirty=Se.isDirty=P(),Ye=me!==Se.isDirty);const _e=Um(yr(a,fe),ye);me=!!yr(r.dirtyFields,fe),_e?qi(r.dirtyFields,fe):Ls(r.dirtyFields,fe,!0),Se.dirtyFields=r.dirtyFields,Ye=Ye||(d.dirtyFields||f.dirtyFields)&&me!==!_e}if(qe){const _e=yr(r.touchedFields,fe);_e||(Ls(r.touchedFields,fe,qe),Se.touchedFields=r.touchedFields,Ye=Ye||(d.touchedFields||f.touchedFields)&&_e!==qe)}Ye&&ct&&m.state.next(Se)}return Ye?Se:{}},C=(fe,ye,qe,Qe)=>{const ct=yr(r.errors,fe),Ye=(d.isValid||f.isValid)&&bu(ye)&&r.isValid!==ye;if(e.delayError&&qe?(c=x(()=>_(fe,qe)),c(e.delayError)):(clearTimeout(u),c=null,qe?Ls(r.errors,fe,qe):qi(r.errors,fe)),(qe?!Um(ct,qe):ct)||!Ic(Qe)||Ye){const me={...Qe,...Ye&&bu(ye)?{isValid:ye}:{},errors:r.errors,name:fe};r={...r,...me},m.state.next(me)}},A=async fe=>{v(fe,!0);const ye=await e.resolver(i,e.context,o3e(fe||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(fe),ye},R=async fe=>{const{errors:ye}=await A(fe);if(fe)for(const qe of fe){const Qe=yr(ye,qe);Qe?Ls(r.errors,qe,Qe):qi(r.errors,qe)}else r.errors=ye;return ye},O=async(fe,ye,qe={valid:!0})=>{for(const Qe in fe){const ct=fe[Qe];if(ct){const{_f:Ye,...me}=ct;if(Ye){const Se=l.array.has(Ye.name),_e=ct._f&&l3e(ct._f);_e&&d.validatingFields&&v([Qe],!0);const Je=await bW(ct,l.disabled,i,h,e.shouldUseNativeValidation&&!ye,Se);if(_e&&d.validatingFields&&v([Qe]),Je[Ye.name]&&(qe.valid=!1,ye))break;!ye&&(yr(Je,Ye.name)?Se?m3e(r.errors,Je,Ye.name):Ls(r.errors,Ye.name,Je[Ye.name]):qi(r.errors,Ye.name))}!Ic(me)&&await O(me,ye,qe)}}return qe.valid},D=()=>{for(const fe of l.unMount){const ye=yr(n,fe);ye&&(ye._f.refs?ye._f.refs.every(qe=>!h3(qe)):!h3(ye._f.ref))&&ce(fe)}l.unMount=new Set},P=(fe,ye)=>!e.disabled&&(fe&&ye&&Ls(i,fe,ye),!Um(q(),a)),E=(fe,ye,qe)=>Zce(fe,l,{...o.mount?i:Ei(ye)?a:Sh(fe)?{[fe]:ye}:ye},qe,ye),I=fe=>n9(yr(o.mount?i:a,fe,e.shouldUnregister?yr(a,fe,[]):[])),M=(fe,ye,qe={})=>{const Qe=yr(n,fe);let ct=ye;if(Qe){const Ye=Qe._f;Ye&&(!Ye.disabled&&Ls(i,fe,sue(ye,Ye)),ct=F4(Ye.ref)&&oc(ye)?"":ye,eue(Ye.ref)?[...Ye.ref.options].forEach(me=>me.selected=ct.includes(me.value)):Ye.refs?ZN(Ye.ref)?Ye.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(ct)?me.checked=!!ct.find(Se=>Se===me.value):me.checked=ct===me.value||!!ct)}):Ye.refs.forEach(me=>me.checked=me.value===ct):o9(Ye.ref)?Ye.ref.value="":(Ye.ref.value=ct,Ye.ref.type||m.state.next({name:fe,values:po(i)})))}(qe.shouldDirty||qe.shouldTouch)&&S(fe,ct,qe.shouldTouch,qe.shouldDirty,!0),qe.shouldValidate&&z(fe)},U=(fe,ye,qe)=>{for(const Qe in ye){if(!ye.hasOwnProperty(Qe))return;const ct=ye[Qe],Ye=fe+"."+Qe,me=yr(n,Ye);(l.array.has(fe)||Fi(ct)||me&&!me._f)&&!Fx(ct)?U(Ye,ct,qe):M(Ye,ct,qe)}},W=(fe,ye,qe={})=>{const Qe=yr(n,fe),ct=l.array.has(fe),Ye=po(ye);Ls(i,fe,Ye),ct?(m.array.next({name:fe,values:po(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&qe.shouldDirty&&m.state.next({name:fe,dirtyFields:v_(a,i),isDirty:P(fe,Ye)})):Qe&&!Qe._f&&!oc(Ye)?U(fe,Ye,qe):M(fe,Ye,qe),xW(fe,l)&&m.state.next({...r,name:fe}),m.state.next({name:o.mount?fe:void 0,values:po(i)})},Y=async fe=>{o.mount=!0;const ye=fe.target;let qe=ye.name,Qe=!0;const ct=yr(n,qe),Ye=_e=>{Qe=Number.isNaN(_e)||Fx(_e)&&isNaN(_e.getTime())||Um(_e,yr(i,qe,_e))},me=pW(e.mode),Se=pW(e.reValidateMode);if(ct){let _e,Je;const tt=ye.type?mW(ct._f):Kce(fe),Ve=fe.type===I4.BLUR||fe.type===I4.FOCUS_OUT,Me=!c3e(ct._f)&&!e.resolver&&!yr(r.errors,qe)&&!ct._f.deps||f3e(Ve,yr(r.touchedFields,qe),r.isSubmitted,Se,me),ht=xW(qe,l,Ve);Ls(i,qe,tt),Ve?(ct._f.onBlur&&ct._f.onBlur(fe),c&&c(0)):ct._f.onChange&&ct._f.onChange(fe);const Ce=S(qe,tt,Ve),st=!Ic(Ce)||ht;if(!Ve&&m.state.next({name:qe,type:fe.type,values:po(i)}),Me)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ve&&g():Ve||g()),st&&m.state.next({name:qe,...ht?{}:Ce});if(!Ve&&ht&&m.state.next({...r}),e.resolver){const{errors:Ue}=await A([qe]);if(Ye(tt),Qe){const Ke=vW(r.errors,n,qe),at=vW(Ue,n,Ke.name||qe);_e=at.error,qe=at.name,Je=Ic(Ue)}}else v([qe],!0),_e=(await bW(ct,l.disabled,i,h,e.shouldUseNativeValidation))[qe],v([qe]),Ye(tt),Qe&&(_e?Je=!1:(d.isValid||f.isValid)&&(Je=await O(n,!0)));Qe&&(ct._f.deps&&z(ct._f.deps),C(qe,Je,_e,Ce))}},J=(fe,ye)=>{if(yr(r.errors,ye)&&fe.focus)return fe.focus(),1},z=async(fe,ye={})=>{let qe,Qe;const ct=j2(fe);if(e.resolver){const Ye=await R(Ei(fe)?fe:ct);qe=Ic(Ye),Qe=fe?!ct.some(me=>yr(Ye,me)):qe}else fe?(Qe=(await Promise.all(ct.map(async Ye=>{const me=yr(n,Ye);return await O(me&&me._f?{[Ye]:me}:me)}))).every(Boolean),!(!Qe&&!r.isValid)&&g()):Qe=qe=await O(n);return m.state.next({...!Sh(fe)||(d.isValid||f.isValid)&&qe!==r.isValid?{}:{name:fe},...e.resolver||!fe?{isValid:qe}:{},errors:r.errors}),ye.shouldFocus&&!Qe&&N2(n,J,fe?ct:l.mount),Qe},q=fe=>{const ye={...o.mount?i:a};return Ei(fe)?ye:Sh(fe)?yr(ye,fe):fe.map(qe=>yr(ye,qe))},V=(fe,ye)=>({invalid:!!yr((ye||r).errors,fe),isDirty:!!yr((ye||r).dirtyFields,fe),error:yr((ye||r).errors,fe),isValidating:!!yr(r.validatingFields,fe),isTouched:!!yr((ye||r).touchedFields,fe)}),L=fe=>{fe&&j2(fe).forEach(ye=>qi(r.errors,ye)),m.state.next({errors:fe?r.errors:{}})},X=(fe,ye,qe)=>{const Qe=(yr(n,fe,{_f:{}})._f||{}).ref,ct=yr(r.errors,fe)||{},{ref:Ye,message:me,type:Se,..._e}=ct;Ls(r.errors,fe,{..._e,...ye,ref:Qe}),m.state.next({name:fe,errors:r.errors,isValid:!1}),qe&&qe.shouldFocus&&Qe&&Qe.focus&&Qe.focus()},K=(fe,ye)=>Sf(fe)?m.state.subscribe({next:qe=>"values"in qe&&fe(E(void 0,ye),qe)}):E(fe,ye,!0),Q=fe=>m.state.subscribe({next:ye=>{d3e(fe.name,ye.name,fe.exact)&&u3e(ye,fe.formState||d,xe,fe.reRenderRoot)&&fe.callback({values:{...i},...r,...ye,defaultValues:a})}}).unsubscribe,oe=fe=>(o.mount=!0,f={...f,...fe.formState},Q({...fe,formState:f})),ce=(fe,ye={})=>{for(const qe of fe?j2(fe):l.mount)l.mount.delete(qe),l.array.delete(qe),ye.keepValue||(qi(n,qe),qi(i,qe)),!ye.keepError&&qi(r.errors,qe),!ye.keepDirty&&qi(r.dirtyFields,qe),!ye.keepTouched&&qi(r.touchedFields,qe),!ye.keepIsValidating&&qi(r.validatingFields,qe),!e.shouldUnregister&&!ye.keepDefaultValue&&qi(a,qe);m.state.next({values:po(i)}),m.state.next({...r,...ye.keepDirty?{isDirty:P()}:{}}),!ye.keepIsValid&&g()},de=({disabled:fe,name:ye})=>{(bu(fe)&&o.mount||fe||l.disabled.has(ye))&&(fe?l.disabled.add(ye):l.disabled.delete(ye))},ne=(fe,ye={})=>{let qe=yr(n,fe);const Qe=bu(ye.disabled)||bu(e.disabled);return Ls(n,fe,{...qe||{},_f:{...qe&&qe._f?qe._f:{ref:{name:fe}},name:fe,mount:!0,...ye}}),l.mount.add(fe),qe?de({disabled:bu(ye.disabled)?ye.disabled:e.disabled,name:fe}):N(fe,!0,ye.value),{...Qe?{disabled:ye.disabled||e.disabled}:{},...e.progressive?{required:!!ye.required,min:y_(ye.min),max:y_(ye.max),minLength:y_(ye.minLength),maxLength:y_(ye.maxLength),pattern:y_(ye.pattern)}:{},name:fe,onChange:Y,onBlur:Y,ref:ct=>{if(ct){ne(fe,ye),qe=yr(n,fe);const Ye=Ei(ct.value)&&ct.querySelectorAll&&ct.querySelectorAll("input,select,textarea")[0]||ct,me=s3e(Ye),Se=qe._f.refs||[];if(me?Se.find(_e=>_e===Ye):Ye===qe._f.ref)return;Ls(n,fe,{_f:{...qe._f,...me?{refs:[...Se.filter(h3),Ye,...Array.isArray(yr(a,fe))?[{}]:[]],ref:{type:Ye.type,name:fe}}:{ref:Ye}}}),N(fe,!1,void 0,Ye)}else qe=yr(n,fe,{}),qe._f&&(qe._f.mount=!1),(e.shouldUnregister||ye.shouldUnregister)&&!(Xce(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},ue=()=>e.shouldFocusError&&N2(n,J,l.mount),se=fe=>{bu(fe)&&(m.state.next({disabled:fe}),N2(n,(ye,qe)=>{const Qe=yr(n,qe);Qe&&(ye.disabled=Qe._f.disabled||fe,Array.isArray(Qe._f.refs)&&Qe._f.refs.forEach(ct=>{ct.disabled=Qe._f.disabled||fe}))},0,!1))},Z=(fe,ye)=>async qe=>{let Qe;qe&&(qe.preventDefault&&qe.preventDefault(),qe.persist&&qe.persist());let ct=po(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Ye,values:me}=await A();r.errors=Ye,ct=po(me)}else await O(n);if(l.disabled.size)for(const Ye of l.disabled)qi(ct,Ye);if(qi(r.errors,"root"),Ic(r.errors)){m.state.next({errors:{}});try{await fe(ct,qe)}catch(Ye){Qe=Ye}}else ye&&await ye({...r.errors},qe),ue(),setTimeout(ue);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ic(r.errors)&&!Qe,submitCount:r.submitCount+1,errors:r.errors}),Qe)throw Qe},Oe=(fe,ye={})=>{yr(n,fe)&&(Ei(ye.defaultValue)?W(fe,po(yr(a,fe))):(W(fe,ye.defaultValue),Ls(a,fe,po(ye.defaultValue))),ye.keepTouched||qi(r.touchedFields,fe),ye.keepDirty||(qi(r.dirtyFields,fe),r.isDirty=ye.defaultValue?P(fe,po(yr(a,fe))):P()),ye.keepError||(qi(r.errors,fe),d.isValid&&g()),m.state.next({...r}))},re=(fe,ye={})=>{const qe=fe?po(fe):a,Qe=po(qe),ct=Ic(fe),Ye=ct?a:Qe;if(ye.keepDefaultValues||(a=qe),!ye.keepValues){if(ye.keepDirtyValues){const me=new Set([...l.mount,...Object.keys(v_(a,i))]);for(const Se of Array.from(me))yr(r.dirtyFields,Se)?Ls(Ye,Se,yr(i,Se)):W(Se,yr(Ye,Se))}else{if(r9&&Ei(fe))for(const me of l.mount){const Se=yr(n,me);if(Se&&Se._f){const _e=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(F4(_e)){const Je=_e.closest("form");if(Je){Je.reset();break}}}}if(ye.keepFieldsRef)for(const me of l.mount)W(me,yr(Ye,me));else n={}}i=e.shouldUnregister?ye.keepDefaultValues?po(a):{}:po(Ye),m.array.next({values:{...Ye}}),m.state.next({values:{...Ye}})}l={mount:ye.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ye.keepIsValid||!!ye.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:ye.keepSubmitCount?r.submitCount:0,isDirty:ct?!1:ye.keepDirty?r.isDirty:!!(ye.keepDefaultValues&&!Um(fe,a)),isSubmitted:ye.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ct?{}:ye.keepDirtyValues?ye.keepDefaultValues&&i?v_(a,i):r.dirtyFields:ye.keepDefaultValues&&fe?v_(a,fe):ye.keepDirty?r.dirtyFields:{},touchedFields:ye.keepTouched?r.touchedFields:{},errors:ye.keepErrors?r.errors:{},isSubmitSuccessful:ye.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},le=(fe,ye)=>re(Sf(fe)?fe(i):fe,ye),We=(fe,ye={})=>{const qe=yr(n,fe),Qe=qe&&qe._f;if(Qe){const ct=Qe.refs?Qe.refs[0]:Qe.ref;ct.focus&&(ct.focus(),ye.shouldSelect&&Sf(ct.select)&&ct.select())}},xe=fe=>{r={...r,...fe}},ke={control:{register:ne,unregister:ce,getFieldState:V,handleSubmit:Z,setError:X,_subscribe:Q,_runSchema:A,_focusError:ue,_getWatch:E,_getDirty:P,_setValid:g,_setFieldArray:b,_setDisabledField:de,_setErrors:w,_getFieldArray:I,_reset:re,_resetDefaultValues:()=>Sf(e.defaultValues)&&e.defaultValues().then(fe=>{le(fe,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:se,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return a},get _names(){return l},set _names(fe){l=fe},get _formState(){return r},get _options(){return e},set _options(fe){e={...e,...fe}}},subscribe:oe,trigger:z,register:ne,handleSubmit:Z,watch:K,setValue:W,getValues:q,reset:le,resetField:Oe,clearErrors:L,unregister:ce,setError:X,setFocus:We,getFieldState:V};return{...ke,formControl:ke}}function QN(t={}){const e=Ne.useRef(void 0),r=Ne.useRef(void 0),[n,a]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:Sf(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Sf(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Sf(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=g3e(t);e.current={...l,formState:n}}const i=e.current.control;return i._options=t,i9(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Ne.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ne.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ne.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ne.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ne.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Ne.useEffect(()=>{t.values&&!Um(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Jce(n,i),e.current}const wW=(t,e,r)=>{if(t&&"reportValidity"in t){const n=yr(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},iue=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?wW(n.ref,r,t):n.refs&&n.refs.forEach(a=>wW(a,r,t))}},x3e=(t,e)=>{e.shouldUseNativeValidation&&iue(t,e);const r={};for(const n in t){const a=yr(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(v3e(e.names||Object.keys(t),n)){const o=Object.assign({},yr(r,n));Ls(o,"root",i),Ls(r,n,o)}else Ls(r,n,i)}return r},v3e=(t,e)=>t.some(r=>r.startsWith(e+"."));var y3e=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=Qce(o,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},eS=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&iue({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:x3e(y3e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ws;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ws||(ws={}));var _W;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(_W||(_W={}));const Mr=ws.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),x0=t=>{switch(typeof t){case"undefined":return Mr.undefined;case"string":return Mr.string;case"number":return Number.isNaN(t)?Mr.nan:Mr.number;case"boolean":return Mr.boolean;case"function":return Mr.function;case"bigint":return Mr.bigint;case"symbol":return Mr.symbol;case"object":return Array.isArray(t)?Mr.array:t===null?Mr.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Mr.promise:typeof Map<"u"&&t instanceof Map?Mr.map:typeof Set<"u"&&t instanceof Set?Mr.set:typeof Date<"u"&&t instanceof Date?Mr.date:Mr.object;default:return Mr.unknown}},ar=ws.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hp extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof hp))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ws.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}hp.create=t=>new hp(t);const JF=(t,e)=>{let r;switch(t.code){case ar.invalid_type:t.received===Mr.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ar.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ws.jsonStringifyReplacer)}`;break;case ar.unrecognized_keys:r=`Unrecognized key(s) in object: ${ws.joinValues(t.keys,", ")}`;break;case ar.invalid_union:r="Invalid input";break;case ar.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ws.joinValues(t.options)}`;break;case ar.invalid_enum_value:r=`Invalid enum value. Expected ${ws.joinValues(t.options)}, received '${t.received}'`;break;case ar.invalid_arguments:r="Invalid function arguments";break;case ar.invalid_return_type:r="Invalid function return type";break;case ar.invalid_date:r="Invalid date";break;case ar.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ws.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ar.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ar.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ar.custom:r="Invalid input";break;case ar.invalid_intersection_types:r="Intersection results could not be merged";break;case ar.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ar.not_finite:r="Number must be finite";break;default:r=e.defaultError,ws.assertNever(t)}return{message:r}};let b3e=JF;function w3e(){return b3e}const _3e=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...a,path:i,message:l}};function Nr(t,e){const r=w3e(),n=_3e({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===JF?void 0:JF].filter(a=>!!a)});t.common.issues.push(n)}class Wu{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return Sn;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Wu.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Sn;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const Sn=Object.freeze({status:"aborted"}),X_=t=>({status:"dirty",value:t}),qd=t=>({status:"valid",value:t}),jW=t=>t.status==="aborted",NW=t=>t.status==="dirty",jb=t=>t.status==="valid",$4=t=>typeof Promise<"u"&&t instanceof Promise;var Wr;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Wr||(Wr={}));class ig{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const SW=(t,e)=>{if(jb(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new hp(t.common.issues);return this._error=r,this._error}}};function Xn(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class vs{get description(){return this._def.description}_getType(e){return x0(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:x0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wu,ctx:{common:e.parent.common,data:e.data,parsedType:x0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if($4(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:x0(e)},a=this._parseSync({data:e,path:n.path,parent:n});return SW(n,a)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:x0(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return jb(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>jb(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:x0(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await($4(a)?a:Promise.resolve(a));return SW(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=e(a),l=()=>i.addIssue({code:ar.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new kb({schema:this,typeName:kn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return U0.create(this,this._def)}nullable(){return Cb.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dh.create(this)}promise(){return q4.create(this,this._def)}or(e){return U4.create([this,e],this._def)}and(e){return z4.create(this,e,this._def)}transform(e){return new kb({...Xn(this._def),schema:this,typeName:kn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new e8({...Xn(this._def),innerType:this,defaultValue:r,typeName:kn.ZodDefault})}brand(){return new W3e({typeName:kn.ZodBranded,type:this,...Xn(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new t8({...Xn(this._def),innerType:this,catchValue:r,typeName:kn.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return c9.create(this,e)}readonly(){return r8.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const j3e=/^c[^\s-]{8,}$/i,N3e=/^[0-9a-z]+$/,S3e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,k3e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C3e=/^[a-z0-9_-]{21}$/i,A3e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,E3e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,P3e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,T3e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let m3;const O3e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,D3e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,R3e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,I3e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,F3e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,M3e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oue="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",L3e=new RegExp(`^${oue}$`);function lue(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function $3e(t){return new RegExp(`^${lue(t)}$`)}function B3e(t){let e=`${oue}T${lue(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function U3e(t,e){return!!((e==="v4"||!e)&&O3e.test(t)||(e==="v6"||!e)&&R3e.test(t))}function z3e(t,e){if(!A3e.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function q3e(t,e){return!!((e==="v4"||!e)&&D3e.test(t)||(e==="v6"||!e)&&I3e.test(t))}class Vm extends vs{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Mr.string){const i=this._getOrReturnCtx(e);return Nr(i,{code:ar.invalid_type,expected:Mr.string,received:i.parsedType}),Sn}const n=new Wu;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?Nr(a,{code:ar.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Nr(a,{code:ar.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")P3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"email",code:ar.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")m3||(m3=new RegExp(T3e,"u")),m3.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"emoji",code:ar.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")k3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"uuid",code:ar.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")C3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"nanoid",code:ar.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")j3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"cuid",code:ar.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")N3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"cuid2",code:ar.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")S3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"ulid",code:ar.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Nr(a,{validation:"url",code:ar.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"regex",code:ar.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?B3e(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?L3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?$3e(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?E3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"duration",code:ar.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?U3e(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"ip",code:ar.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?z3e(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"jwt",code:ar.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?q3e(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"cidr",code:ar.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?F3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"base64",code:ar.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?M3e.test(e.data)||(a=this._getOrReturnCtx(e,a),Nr(a,{validation:"base64url",code:ar.invalid_string,message:i.message}),n.dirty()):ws.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:ar.invalid_string,...Wr.errToObj(n)})}_addCheck(e){return new Vm({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Wr.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Wr.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Wr.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Wr.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Wr.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Wr.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Wr.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Wr.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Wr.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Wr.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Wr.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Wr.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Wr.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Wr.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Wr.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Wr.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Wr.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Wr.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Wr.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Wr.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Wr.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Wr.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Wr.errToObj(r)})}nonempty(e){return this.min(1,Wr.errToObj(e))}trim(){return new Vm({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vm({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vm({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Vm.create=t=>new Vm({checks:[],typeName:kn.ZodString,coerce:t?.coerce??!1,...Xn(t)});function V3e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return i%o/10**a}class yv extends vs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Mr.number){const i=this._getOrReturnCtx(e);return Nr(i,{code:ar.invalid_type,expected:Mr.number,received:i.parsedType}),Sn}let n;const a=new Wu;for(const i of this._def.checks)i.kind==="int"?ws.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?V3e(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.not_finite,message:i.message}),a.dirty()):ws.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Wr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Wr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Wr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Wr.toString(r))}setLimit(e,r,n,a){return new yv({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Wr.toString(a)}]})}_addCheck(e){return new yv({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Wr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Wr.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Wr.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wr.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wr.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ws.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}yv.create=t=>new yv({checks:[],typeName:kn.ZodNumber,coerce:t?.coerce||!1,...Xn(t)});class bv extends vs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Mr.bigint)return this._getInvalidInput(e);let n;const a=new Wu;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Nr(n,{code:ar.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ws.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Nr(r,{code:ar.invalid_type,expected:Mr.bigint,received:r.parsedType}),Sn}gte(e,r){return this.setLimit("min",e,!0,Wr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Wr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Wr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Wr.toString(r))}setLimit(e,r,n,a){return new bv({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Wr.toString(a)}]})}_addCheck(e){return new bv({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Wr.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bv.create=t=>new bv({checks:[],typeName:kn.ZodBigInt,coerce:t?.coerce??!1,...Xn(t)});class B4 extends vs{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Mr.boolean){const n=this._getOrReturnCtx(e);return Nr(n,{code:ar.invalid_type,expected:Mr.boolean,received:n.parsedType}),Sn}return qd(e.data)}}B4.create=t=>new B4({typeName:kn.ZodBoolean,coerce:t?.coerce||!1,...Xn(t)});class Nb extends vs{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Mr.date){const i=this._getOrReturnCtx(e);return Nr(i,{code:ar.invalid_type,expected:Mr.date,received:i.parsedType}),Sn}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Nr(i,{code:ar.invalid_date}),Sn}const n=new Wu;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Nr(a,{code:ar.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ws.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Nb({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Wr.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Wr.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Nb.create=t=>new Nb({checks:[],coerce:t?.coerce||!1,typeName:kn.ZodDate,...Xn(t)});class kW extends vs{_parse(e){if(this._getType(e)!==Mr.symbol){const n=this._getOrReturnCtx(e);return Nr(n,{code:ar.invalid_type,expected:Mr.symbol,received:n.parsedType}),Sn}return qd(e.data)}}kW.create=t=>new kW({typeName:kn.ZodSymbol,...Xn(t)});class CW extends vs{_parse(e){if(this._getType(e)!==Mr.undefined){const n=this._getOrReturnCtx(e);return Nr(n,{code:ar.invalid_type,expected:Mr.undefined,received:n.parsedType}),Sn}return qd(e.data)}}CW.create=t=>new CW({typeName:kn.ZodUndefined,...Xn(t)});class AW extends vs{_parse(e){if(this._getType(e)!==Mr.null){const n=this._getOrReturnCtx(e);return Nr(n,{code:ar.invalid_type,expected:Mr.null,received:n.parsedType}),Sn}return qd(e.data)}}AW.create=t=>new AW({typeName:kn.ZodNull,...Xn(t)});class EW extends vs{constructor(){super(...arguments),this._any=!0}_parse(e){return qd(e.data)}}EW.create=t=>new EW({typeName:kn.ZodAny,...Xn(t)});class PW extends vs{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qd(e.data)}}PW.create=t=>new PW({typeName:kn.ZodUnknown,...Xn(t)});class og extends vs{_parse(e){const r=this._getOrReturnCtx(e);return Nr(r,{code:ar.invalid_type,expected:Mr.never,received:r.parsedType}),Sn}}og.create=t=>new og({typeName:kn.ZodNever,...Xn(t)});class TW extends vs{_parse(e){if(this._getType(e)!==Mr.undefined){const n=this._getOrReturnCtx(e);return Nr(n,{code:ar.invalid_type,expected:Mr.void,received:n.parsedType}),Sn}return qd(e.data)}}TW.create=t=>new TW({typeName:kn.ZodVoid,...Xn(t)});class Dh extends vs{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==Mr.array)return Nr(r,{code:ar.invalid_type,expected:Mr.array,received:r.parsedType}),Sn;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Nr(r,{code:o?ar.too_big:ar.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Nr(r,{code:ar.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Nr(r,{code:ar.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new ig(r,o,r.path,l)))).then(o=>Wu.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new ig(r,o,r.path,l)));return Wu.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Dh({...this._def,minLength:{value:e,message:Wr.toString(r)}})}max(e,r){return new Dh({...this._def,maxLength:{value:e,message:Wr.toString(r)}})}length(e,r){return new Dh({...this._def,exactLength:{value:e,message:Wr.toString(r)}})}nonempty(e){return this.min(1,e)}}Dh.create=(t,e)=>new Dh({type:t,minLength:null,maxLength:null,exactLength:null,typeName:kn.ZodArray,...Xn(e)});function g1(t){if(t instanceof Xi){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=U0.create(g1(n))}return new Xi({...t._def,shape:()=>e})}else return t instanceof Dh?new Dh({...t._def,type:g1(t.element)}):t instanceof U0?U0.create(g1(t.unwrap())):t instanceof Cb?Cb.create(g1(t.unwrap())):t instanceof wv?wv.create(t.items.map(e=>g1(e))):t}class Xi extends vs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ws.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Mr.object){const u=this._getOrReturnCtx(e);return Nr(u,{code:ar.invalid_type,expected:Mr.object,received:u.parsedType}),Sn}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof og&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ig(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof og){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Nr(a,{code:ar.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ig(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Wu.mergeObjectSync(n,u)):Wu.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Wr.errToObj,new Xi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Wr.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Xi({...this._def,unknownKeys:"strip"})}passthrough(){return new Xi({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:kn.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xi({...this._def,catchall:e})}pick(e){const r={};for(const n of ws.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xi({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ws.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Xi({...this._def,shape:()=>r})}deepPartial(){return g1(this)}partial(e){const r={};for(const n of ws.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}return new Xi({...this._def,shape:()=>r})}required(e){const r={};for(const n of ws.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof U0;)i=i._def.innerType;r[n]=i}return new Xi({...this._def,shape:()=>r})}keyof(){return cue(ws.objectKeys(this.shape))}}Xi.create=(t,e)=>new Xi({shape:()=>t,unknownKeys:"strip",catchall:og.create(),typeName:kn.ZodObject,...Xn(e)});Xi.strictCreate=(t,e)=>new Xi({shape:()=>t,unknownKeys:"strict",catchall:og.create(),typeName:kn.ZodObject,...Xn(e)});Xi.lazycreate=(t,e)=>new Xi({shape:t,unknownKeys:"strip",catchall:og.create(),typeName:kn.ZodObject,...Xn(e)});class U4 extends vs{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new hp(l.ctx.common.issues));return Nr(r,{code:ar.invalid_union,unionErrors:o}),Sn}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new hp(c));return Nr(r,{code:ar.invalid_union,unionErrors:l}),Sn}}get options(){return this._def.options}}U4.create=(t,e)=>new U4({options:t,typeName:kn.ZodUnion,...Xn(e)});function ZF(t,e){const r=x0(t),n=x0(e);if(t===e)return{valid:!0,data:t};if(r===Mr.object&&n===Mr.object){const a=ws.objectKeys(e),i=ws.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=ZF(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Mr.array&&n===Mr.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=ZF(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Mr.date&&n===Mr.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class z4 extends vs{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,o)=>{if(jW(i)||jW(o))return Sn;const l=ZF(i.value,o.value);return l.valid?((NW(i)||NW(o))&&r.dirty(),{status:r.value,value:l.data}):(Nr(n,{code:ar.invalid_intersection_types}),Sn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}z4.create=(t,e,r)=>new z4({left:t,right:e,typeName:kn.ZodIntersection,...Xn(r)});class wv extends vs{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Mr.array)return Nr(n,{code:ar.invalid_type,expected:Mr.array,received:n.parsedType}),Sn;if(n.data.length<this._def.items.length)return Nr(n,{code:ar.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Sn;!this._def.rest&&n.data.length>this._def.items.length&&(Nr(n,{code:ar.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ig(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Wu.mergeArray(r,o)):Wu.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new wv({...this._def,rest:e})}}wv.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wv({items:t,typeName:kn.ZodTuple,rest:null,...Xn(e)})};class OW extends vs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Mr.map)return Nr(n,{code:ar.invalid_type,expected:Mr.map,received:n.parsedType}),Sn;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new ig(n,l,n.path,[u,"key"])),value:i._parse(new ig(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Sn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Sn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}OW.create=(t,e,r)=>new OW({valueType:e,keyType:t,typeName:kn.ZodMap,...Xn(r)});class jj extends vs{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Mr.set)return Nr(n,{code:ar.invalid_type,expected:Mr.set,received:n.parsedType}),Sn;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Nr(n,{code:ar.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Nr(n,{code:ar.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Sn;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new ig(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new jj({...this._def,minSize:{value:e,message:Wr.toString(r)}})}max(e,r){return new jj({...this._def,maxSize:{value:e,message:Wr.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}jj.create=(t,e)=>new jj({valueType:t,minSize:null,maxSize:null,typeName:kn.ZodSet,...Xn(e)});class DW extends vs{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}DW.create=(t,e)=>new DW({getter:t,typeName:kn.ZodLazy,...Xn(e)});class QF extends vs{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Nr(r,{received:r.data,code:ar.invalid_literal,expected:this._def.value}),Sn}return{status:"valid",value:e.data}}get value(){return this._def.value}}QF.create=(t,e)=>new QF({value:t,typeName:kn.ZodLiteral,...Xn(e)});function cue(t,e){return new Sb({values:t,typeName:kn.ZodEnum,...Xn(e)})}class Sb extends vs{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Nr(r,{expected:ws.joinValues(n),received:r.parsedType,code:ar.invalid_type}),Sn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Nr(r,{received:r.data,code:ar.invalid_enum_value,options:n}),Sn}return qd(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Sb.create(e,{...this._def,...r})}exclude(e,r=this._def){return Sb.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Sb.create=cue;class RW extends vs{_parse(e){const r=ws.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Mr.string&&n.parsedType!==Mr.number){const a=ws.objectValues(r);return Nr(n,{expected:ws.joinValues(a),received:n.parsedType,code:ar.invalid_type}),Sn}if(this._cache||(this._cache=new Set(ws.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ws.objectValues(r);return Nr(n,{received:n.data,code:ar.invalid_enum_value,options:a}),Sn}return qd(e.data)}get enum(){return this._def.values}}RW.create=(t,e)=>new RW({values:t,typeName:kn.ZodNativeEnum,...Xn(e)});class q4 extends vs{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Mr.promise&&r.common.async===!1)return Nr(r,{code:ar.invalid_type,expected:Mr.promise,received:r.parsedType}),Sn;const n=r.parsedType===Mr.promise?r.data:Promise.resolve(r.data);return qd(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}q4.create=(t,e)=>new q4({type:t,typeName:kn.ZodPromise,...Xn(e)});class kb extends vs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{Nr(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Sn;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Sn:c.status==="dirty"||r.value==="dirty"?X_(c.value):c});{if(r.value==="aborted")return Sn;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Sn:l.status==="dirty"||r.value==="dirty"?X_(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Sn:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Sn:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!jb(o))return Sn;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>jb(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Sn);ws.assertNever(a)}}kb.create=(t,e,r)=>new kb({schema:t,typeName:kn.ZodEffects,effect:e,...Xn(r)});kb.createWithPreprocess=(t,e,r)=>new kb({schema:e,effect:{type:"preprocess",transform:t},typeName:kn.ZodEffects,...Xn(r)});class U0 extends vs{_parse(e){return this._getType(e)===Mr.undefined?qd(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}U0.create=(t,e)=>new U0({innerType:t,typeName:kn.ZodOptional,...Xn(e)});class Cb extends vs{_parse(e){return this._getType(e)===Mr.null?qd(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cb.create=(t,e)=>new Cb({innerType:t,typeName:kn.ZodNullable,...Xn(e)});class e8 extends vs{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Mr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}e8.create=(t,e)=>new e8({innerType:t,typeName:kn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xn(e)});class t8 extends vs{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $4(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hp(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hp(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}t8.create=(t,e)=>new t8({innerType:t,typeName:kn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xn(e)});class IW extends vs{_parse(e){if(this._getType(e)!==Mr.nan){const n=this._getOrReturnCtx(e);return Nr(n,{code:ar.invalid_type,expected:Mr.nan,received:n.parsedType}),Sn}return{status:"valid",value:e.data}}}IW.create=t=>new IW({typeName:kn.ZodNaN,...Xn(t)});class W3e extends vs{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class c9 extends vs{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Sn:i.status==="dirty"?(r.dirty(),X_(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Sn:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new c9({in:e,out:r,typeName:kn.ZodPipeline})}}class r8 extends vs{_parse(e){const r=this._def.innerType._parse(e),n=a=>(jb(a)&&(a.value=Object.freeze(a.value)),a);return $4(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}r8.create=(t,e)=>new r8({innerType:t,typeName:kn.ZodReadonly,...Xn(e)});var kn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(kn||(kn={}));const gs=Vm.create;yv.create;bv.create;const hh=B4.create;Nb.create;og.create;const uue=Dh.create,Hv=Xi.create;U4.create;z4.create;wv.create;const H3e=QF.create,fE=Sb.create;q4.create;U0.create;Cb.create;const l0={string:(t=>Vm.create({...t,coerce:!0})),number:(t=>yv.create({...t,coerce:!0})),boolean:(t=>B4.create({...t,coerce:!0})),bigint:(t=>bv.create({...t,coerce:!0})),date:(t=>Nb.create({...t,coerce:!0}))},tS=QTe,due=j.createContext({}),pn=({...t})=>s.jsx(due.Provider,{value:{name:t.name},children:s.jsx(n3e,{...t})}),hE=()=>{const t=j.useContext(due),e=j.useContext(fue),{getFieldState:r,formState:n}=dE(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},fue=j.createContext({}),un=j.forwardRef(({className:t,...e},r)=>{const n=j.useId();return s.jsx(fue.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:Gt("space-y-2",t),...e})})});un.displayName="FormItem";const gn=j.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=hE();return s.jsx(Be,{ref:r,className:Gt(n&&"text-destructive",t),htmlFor:a,...e})});gn.displayName="FormLabel";const dn=j.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=hE();return s.jsx(une,{ref:e,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});dn.displayName="FormControl";const tl=j.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=hE();return s.jsx("p",{ref:r,id:n,className:Gt("text-sm text-muted-foreground",t),...e})});tl.displayName="FormDescription";const $n=j.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:i}=hE(),o=a?String(a?.message):e;return o?s.jsx("p",{ref:n,id:i,className:Gt("text-sm font-medium text-destructive",t),...r,children:o}):null});$n.displayName="FormMessage";const G3e=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${t}${e}`};function hue({value:t,onChange:e,storeId:r}){const[n,a]=j.useState([]),[i,o]=j.useState(!1),[l,c]=j.useState(""),[u,d]=j.useState(!1),[f,m]=j.useState(null),[h,x]=j.useState(!1);j.useEffect(()=>{g()},[r]);const g=async()=>{if(r)try{const{data:w,error:N}=await ae.from("categories").select("id, name").eq("store_id",r).order("name");if(N)throw N;a(w||[])}catch(w){et({title:"Error loading categories",description:w.message,variant:"destructive"})}},v=async()=>{if(!l.trim()){et({title:"Invalid category",description:"Please enter a category name",variant:"destructive"});return}if(n.some(w=>w.name.toLowerCase()===l.trim().toLowerCase())){et({title:"Category exists",description:"This category already exists",variant:"destructive"});return}try{const{data:w,error:N}=await ae.from("categories").insert({name:l.trim(),store_id:r}).select().single();if(N)throw N;a(S=>[...S,w].sort((C,A)=>C.name.localeCompare(A.name))),e(w.name),c(""),o(!1),et({title:"Category added",description:`${w.name} has been added`})}catch(w){et({title:"Error adding category",description:w.message,variant:"destructive"})}},b=(w,N)=>{w.stopPropagation(),m(N),d(!0)},_=async()=>{if(f){x(!0);try{const{error:w}=await ae.from("categories").delete().eq("id",f.id);if(w)throw w;a(N=>N.filter(S=>S.id!==f.id)),t===f.name&&e(""),et({title:"Category deleted",description:`${f.name} has been removed`})}catch(w){et({title:"Error deleting category",description:w.message,variant:"destructive"})}finally{x(!1),d(!1),m(null)}}};return s.jsxs(s.Fragment,{children:[i?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{placeholder:"Enter custom category",value:l,onChange:w=>c(w.target.value),onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),v())}}),s.jsx(we,{type:"button",size:"sm",onClick:v,children:"Add"}),s.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(!1),c("")},children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(zr,{value:t,onValueChange:e,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Select category"})}),s.jsx($r,{className:"z-50 bg-popover",children:n.map(w=>s.jsx(ut,{value:w.name,className:"flex items-center justify-between pr-2",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:w.name}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 hover:bg-destructive/10 hover:text-destructive",onClick:N=>b(N,w),children:s.jsx(Ds,{className:"h-3 w-3"})})]})},w.id))})]}),s.jsx(we,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>o(!0),children:"+ Add custom category"})]}),s.jsx(ng,{open:u,onOpenChange:d,children:s.jsxs(lp,{children:[s.jsxs(cp,{children:[s.jsx(dp,{children:"Delete Category"}),s.jsxs(fp,{children:['Are you sure you want to delete "',f?.name,'"? This action cannot be undone.']})]}),s.jsxs(up,{children:[s.jsx(ag,{disabled:h,children:"Cancel"}),s.jsx(sg,{onClick:_,disabled:h,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h?"Deleting...":"Delete"})]})]})})]})}const V4=["https://images.unsplash.com/photo-1763359161311-1a62681fb3c0?w=800&q=80","https://images.unsplash.com/photo-1763359161278-0cabc4924746?w=800&q=80","https://images.unsplash.com/photo-1763359161530-6631e16431fd?w=800&q=80","https://images.unsplash.com/photo-1763359161346-dbb620ef8fe9?w=800&q=80","https://images.unsplash.com/photo-1763359161317-5e4e5ea3075f?w=800&q=80","https://images.unsplash.com/photo-1763359161302-ccacb7b785da?w=800&q=80","https://images.unsplash.com/photo-1763358991454-2d0059bf6796?w=800&q=80","https://images.unsplash.com/photo-1763358958563-b9efe06f989f?w=800&q=80","https://images.unsplash.com/photo-1763358927011-ab7d82821124?w=800&q=80","https://images.unsplash.com/photo-1763358896930-3982ec4e3293?w=800&q=80"],Y3e=()=>{const t=Math.floor(Math.random()*V4.length);return V4[t]},K3e=(t=1)=>{const e=[...V4];for(let n=e.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[e[n],e[a]]=[e[a],e[n]]}const r=Math.min(t,V4.length);return e.slice(0,r)},X3e=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),J3e=Hv({id:gs(),name:gs().trim().min(1,"Variant name is required"),price:gs().refine(t=>{const e=parseFloat(t);return!isNaN(e)&&e>0},"Price must be a valid positive number"),sku:gs().trim().optional()}),Z3e=Hv({name:gs().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:gs().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:gs().min(1,"Category is required"),status:fE(["published","draft","inactive"]),variants:uue(J3e).optional()}),FW=()=>{const t=en(),[e]=j.useState(G3e()),[r,n]=j.useState(!1),[a,i]=j.useState([]),[o,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState([]),[m,h]=j.useState({name:"",price:"",sku:""}),[x,g]=j.useState(null),[v,b]=j.useState(null),[_,w]=j.useState(!1),[N,S]=j.useState(!1),[C,A]=j.useState(!1),[R,O]=j.useState([]),[D,P]=j.useState("vps"),[E,I]=j.useState([]),[M,U]=j.useState([]),[W,Y]=j.useState(null),[J,z]=j.useState({name:"",price:"",sku:""}),q=iE(),V=QN({resolver:eS(Z3e),defaultValues:{name:"",description:"",category:"",status:"published",variants:[]}});j.useEffect(()=>{L()},[]);const L=async()=>{try{const{data:{user:re}}=await ae.auth.getUser();if(!re)return;const{data:{session:le}}=await ae.auth.getSession(),We=le?.provider_token,xe=le?.provider_refresh_token,{data:Le,error:ke}=await ae.from("stores").select("id, slug, google_access_token, google_refresh_token").eq("user_id",re.id).single();if(ke)throw ke;if(Le){if(g(Le.id),b(Le.slug),We&&!Le.google_access_token){const fe={google_access_token:We};if(xe){const ye=new Date(Date.now()+36e5).toISOString();fe.google_refresh_token=xe,fe.google_token_expiry=ye}await ae.from("stores").update(fe).eq("id",Le.id)}await X()}}catch(re){et({title:"Error loading store",description:re.message,variant:"destructive"})}},X=async()=>{try{const{data:{session:re}}=await ae.auth.getSession();if(!re)return;const{data:le,error:We}=await ae.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${re.access_token}`}});if(We){console.error("Drive verification error:",We),S(!1);return}if(le?.connected){S(!0);const{data:{session:xe}}=await ae.auth.getSession();xe?.provider_token&&et({title:"Google Drive Connected",description:"You can now upload images from your device."})}else S(!1),console.log("Drive not connected:",le?.reason)}catch(re){console.error("Error verifying Drive connection:",re),S(!1)}},K=async re=>{const le=Array.from(re.target.files||[]);if(le.length===0)return;const We=le.filter(xe=>xe.type.startsWith("image/")?!0:(et({title:"Invalid file type",description:`${xe.name} is not a valid image file`,variant:"destructive"}),!1));if(We.length!==0)try{const xe=[];for(const ke of We)if(D==="vps")try{const fe=(ke.size/1024/1024).toFixed(2),ye=await Z7(ke,5),qe=(ye.size/1024/1024).toFixed(2);console.log(`Image compressed: ${fe}MB  ${qe}MB`),xe.push(ye)}catch(fe){console.error("Compression failed:",fe),et({title:"Compression failed",description:`Failed to compress ${ke.name}, using original`,variant:"destructive"}),xe.push(ke)}else xe.push(ke);I(ke=>[...ke,...xe]);const Le=xe.map(ke=>URL.createObjectURL(ke));U(ke=>[...ke,...Le]),et({title:"Images ready",description:`${xe.length} image(s) will be uploaded when you save the product`})}catch(xe){console.error("Error processing images:",xe),et({title:"Error",description:"Failed to process images",variant:"destructive"})}finally{re.target.value=""}},Q=()=>{if(!o.trim()){et({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let re=o.trim();if(re.includes("drive.google.com")){const le=re.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);le&&(re=`https://drive.google.com/thumbnail?id=${le[1]||le[2]}&sz=w1000`,et({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(le=>[...le,re]),l("")},oe=async re=>{const le=a.length;if(re<le){const We=a[re];if(We.includes("digitaldukandar.in/uploads/"))try{(await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:We})})).json()).success&&console.log("Image deleted from VPS:",We)}catch(xe){console.error("Failed to delete image from VPS:",xe)}i(xe=>xe.filter((Le,ke)=>ke!==re))}else{const We=re-le;URL.revokeObjectURL(M[We]),I(xe=>xe.filter((Le,ke)=>ke!==We)),U(xe=>xe.filter((Le,ke)=>ke!==We))}},ce=()=>{if(!m.name.trim()||!m.price.trim()){et({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const re={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(le=>[...le,re]),h({name:"",price:"",sku:""})},de=re=>{f(le=>le.filter(We=>We.id!==re))},ne=re=>{Y(re.id),z({name:re.name,price:re.price,sku:re.sku||""})},ue=()=>{if(!W||!J.name.trim()||!J.price.trim()){et({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(re=>re.map(le=>le.id===W?{...le,name:J.name.trim(),price:J.price,sku:J.sku.trim()||void 0}:le)),Y(null),z({name:"",price:"",sku:""})},se=()=>{Y(null),z({name:"",price:"",sku:""})},Z=()=>{if(d.length===0)return null;const re=d.map(xe=>parseFloat(xe.price)),le=Math.min(...re),We=Math.max(...re);return le===We?`${le.toFixed(2)}`:`${le.toFixed(2)} - ${We.toFixed(2)}`},Oe=async re=>{if(re.status==="published"&&!q.canPublishProduct()){et({title:"Product Limit Reached",description:q.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{let le=[...a];if(E.length>0){O(E.map(me=>({name:me.name,progress:0})));const{data:{session:ke}}=await ae.auth.getSession();if(!ke)throw new Error("Not authenticated");const{data:{user:fe}}=await ae.auth.getUser();if(!fe)throw new Error("User not found");const{data:ye,error:qe}=await ae.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",fe.id).single();if(qe||!ye)throw new Error("Store not found");const Qe=E.reduce((me,Se)=>me+Se.size/1024/1024,0);let ct=ye.storage_used_mb||0;const Ye=ye.storage_limit_mb||100;if(ct+Qe>Ye)throw new Error(`Storage limit reached. You have ${(Ye-ct).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);for(let me=0;me<E.length;me++){const Se=E[me],_e=Se.size/1024/1024;O(Ve=>Ve.map((Me,ht)=>ht===me?{...Me,progress:10}:Me));const Je=new FormData;Je.append("file",Se),Je.append("type","products"),v&&Je.append("store_slug",v);const tt=setInterval(()=>{O(Ve=>Ve.map((Me,ht)=>ht===me&&Me.progress<90?{...Me,progress:Me.progress+10}:Me))},200);try{let Ve,Me="",ht="";if(D==="vps"){const Ce=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Je}),st=await Ce.json();if(!Ce.ok||!st.success)throw new Error(st.error||"Failed to upload image");Ve={data:st,error:null},ht=st.imageUrl,Me=st.fileId||Se.name;const{error:Ue}=await ae.from("media_library").insert({store_id:ye.id,file_url:ht,file_name:Me,file_size_mb:_e,file_type:"products"});Ue&&console.error("Failed to add to media library:",Ue),ct+=_e;const{error:Ke}=await ae.from("stores").update({storage_used_mb:ct}).eq("id",ye.id);Ke&&console.error("Failed to update storage usage:",Ke)}else Ve=await ae.functions.invoke("upload-to-drive",{body:Je,headers:{Authorization:`Bearer ${ke.access_token}`}});if(clearInterval(tt),Ve.error)throw new Error(Ve.error.message||"Failed to upload image");Ve.data?.imageUrl&&(O(Ce=>Ce.map((st,Ue)=>Ue===me?{...st,progress:100}:st)),le.push(Ve.data.imageUrl))}catch(Ve){throw clearInterval(tt),Ve}}O([])}const We=le.length>0?le:K3e(3),xe={id:e,name:re.name,slug:X3e(re.name),description:re.description,category:re.category,status:re.status,images:We,videoUrl:c.trim()||void 0,variants:d.map(ke=>({name:ke.name,price:parseFloat(ke.price),sku:ke.sku})),priceRange:Z()||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Le=await IPe(xe);localStorage.setItem("products_need_export","true"),window.dispatchEvent(new Event("productChanged")),M.forEach(ke=>URL.revokeObjectURL(ke)),t("/admin/products",{state:{highlightedProductId:Le.id}})}catch(le){if(console.error("Error saving product:",le),le?.code==="23505"&&le?.message?.includes("products_store_slug_unique")){V.setError("name",{type:"manual",message:"This product name is already used. Please choose a different name."});const We=document.querySelector('[name="name"]');We&&(We.focus(),We.scrollIntoView({behavior:"smooth",block:"center"}))}else et({title:"Error creating product",description:le.message||"Please try again later",variant:"destructive"})}finally{n(!1),O([])}};return s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Add New Product"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Create a new product listing for your store"})]}),q.getProductLimitMessage()&&s.jsxs(Hn,{variant:q.canPublishProduct()?"default":"destructive",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx(Gn,{children:q.getProductLimitMessage()})]}),s.jsx(tS,{...V,children:s.jsx("form",{onSubmit:V.handleSubmit(Oe),className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Product Information"})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(gn,{className:"text-muted-foreground",children:"Product ID (Auto-generated)"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md font-mono text-sm text-foreground",children:e})]}),s.jsx(pn,{control:V.control,name:"name",render:({field:re})=>s.jsxs(un,{children:[s.jsx(dn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(lt,{...re,id:"product-name",className:"peer h-14 pt-4 px-3",placeholder:" "}),s.jsx("label",{htmlFor:"product-name",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Product Name"})]})}),s.jsx($n,{})]})}),s.jsx(pn,{control:V.control,name:"description",render:({field:re})=>s.jsxs(un,{children:[s.jsx(dn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ii,{...re,id:"product-description",placeholder:" ",className:"peer min-h-[120px] pt-6 px-3"}),s.jsx("label",{htmlFor:"product-description",className:"absolute left-3 top-4 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Description"})]})}),s.jsx($n,{})]})}),s.jsx(pn,{control:V.control,name:"category",render:({field:re})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Category"}),s.jsx(dn,{children:s.jsx(hue,{value:re.value,onChange:re.onChange,storeId:x})}),s.jsx($n,{})]})})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(lt,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:re=>h(le=>({...le,name:re.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(lt,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:re=>h(le=>({...le,price:re.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(lt,{placeholder:"0 = Unlimited",value:m.sku,onChange:re=>h(le=>({...le,sku:re.target.value}))})]})]}),s.jsxs(we,{type:"button",onClick:ce,size:"sm",children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:Z()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Variant Name"}),s.jsx(At,{children:"Price"}),s.jsx(At,{children:"Stock"}),s.jsx(At,{className:"w-[50px]"})]})}),s.jsx(Qa,{children:d.map(re=>s.jsx(rn,{children:W===re.id?s.jsxs(s.Fragment,{children:[s.jsx(_t,{children:s.jsx(lt,{value:J.name,onChange:le=>z(We=>({...We,name:le.target.value})),className:"h-8"})}),s.jsx(_t,{children:s.jsx(lt,{type:"number",step:"0.01",value:J.price,onChange:le=>z(We=>({...We,price:le.target.value})),className:"h-8 no-spinner"})}),s.jsx(_t,{children:s.jsx(lt,{placeholder:"0 = Unlimited",value:J.sku,onChange:le=>z(We=>({...We,sku:le.target.value})),className:"h-8"})}),s.jsx(_t,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:ue,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:se,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(_t,{className:"font-medium",children:re.name}),s.jsxs(_t,{children:["$",parseFloat(re.price).toFixed(2)]}),s.jsx(_t,{className:"text-muted-foreground",children:re.sku==="0"||re.sku===""?"Unlimited":re.sku||""}),s.jsx(_t,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>ne(re),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>de(re.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Ds,{className:"w-4 h-4"})})]})})]})},re.id))})]})})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive or upload from your device"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs(Hn,{style:N?{}:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx(Gn,{className:"flex items-center justify-between gap-4",children:N?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-bold text-red-600 dark:text-red-500",children:"Connect Google Drive to upload images from your device"}),s.jsx(we,{type:"button",size:"sm",variant:"outline",onClick:async()=>{A(!0);try{const{error:re}=await ae.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(re)throw re}catch(re){et({title:"Connection Failed",description:re.message,variant:"destructive"}),A(!1)}},disabled:C,children:C?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(lt,{id:"google-drive-url",placeholder:" ",value:o,onChange:re=>l(re.target.value),onKeyPress:re=>{re.key==="Enter"&&(re.preventDefault(),Q())},className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"google-drive-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Google Drive Image URL"})]}),s.jsx(we,{type:"button",onClick:Q,size:"sm",className:"h-14",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"vps",checked:D==="vps",onChange:re=>P(re.target.value),className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"VPS Server"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"drive",checked:D==="drive",onChange:re=>P(re.target.value),className:"w-4 h-4 text-primary",disabled:!N}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Safe & Reliable)"})," ",!N&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:D==="vps"?"Images will be compressed to max 5MB and stored on your server":"Images will be uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${_?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:K,className:"hidden",id:"image-upload",disabled:_}),s.jsx("label",{htmlFor:"image-upload",className:`block p-6 text-center ${_?"cursor-not-allowed":"cursor-pointer"}`,children:_&&R.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",R.length," image",R.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:R.map((re,le)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[re.progress<100?s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(rs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:re.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:re.progress<100?`Uploading to ${D==="vps"?"VPS Server":"Google Drive"}...`:"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[re.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${re.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${re.progress}%`}})})]},`uploading-${le}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Af,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:D==="vps"?"PNG, JPG images. Auto-compressed to max 5MB and stored on VPS.":"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),(a.length>0||M.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.map((re,le)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:re,alt:`Product Image ${le+1}`,className:"w-full h-full object-cover",onError:We=>{We.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(we,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>oe(le),children:s.jsx(so,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Image ",le+1]})]},`url-${le}`)),M.map((re,le)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-primary/50",children:s.jsx("img",{src:re,alt:`Pending Image ${le+1}`,className:"w-full h-full object-cover"})}),s.jsx(we,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>oe(a.length+le),children:s.jsx(so,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Pending ",le+1," (will upload on save)"]})]},`preview-${le}`))]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(lt,{id:"youtube-video-url",placeholder:" ",value:c,onChange:re=>u(re.target.value),className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"youtube-video-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"YouTube Video URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const le=(We=>{const xe=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Le=We.match(xe);return Le&&Le[2].length===11?Le[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),le?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${le}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Product Status"})}),s.jsx(Xe,{children:s.jsx(pn,{control:V.control,name:"status",render:({field:re})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Status"}),s.jsxs(zr,{onValueChange:re.onChange,defaultValue:re.value,children:[s.jsx(dn,{children:s.jsx(Lr,{children:s.jsx(qr,{})})}),s.jsxs($r,{children:[s.jsx(ut,{value:"draft",children:"Draft"}),s.jsx(ut,{value:"published",children:"Published"}),s.jsx(ut,{value:"inactive",children:"Inactive"})]})]}),s.jsx($n,{})]})})})]}),s.jsx(He,{children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(we,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(zu,{className:"w-4 h-4 mr-2"}),r?"Creating...":"Create Product"]}),s.jsx(we,{type:"button",variant:"outline",className:"w-full",onClick:()=>t("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})},Q3e=Hv({id:gs(),name:gs().trim().min(1,"Variant name is required"),price:gs().refine(t=>{const e=parseFloat(t);return!isNaN(e)&&e>0},"Price must be a valid positive number"),sku:gs().trim().optional()}),eOe=Hv({name:gs().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:gs().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:gs().min(1,"Category is required"),status:fE(["published","draft","inactive"]),variants:uue(Q3e).optional()}),MW=()=>{const t=en(),{id:e}=wp(),[r,n]=j.useState(!1),[a,i]=j.useState([]),[o,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState([]),[m,h]=j.useState({name:"",price:"",sku:""}),[x,g]=j.useState(!0),[v,b]=j.useState(null),[_,w]=j.useState(""),[N,S]=j.useState(!1),[C,A]=j.useState(!1),[R,O]=j.useState(!1),[D,P]=j.useState([]),[E,I]=j.useState(null),[M,U]=j.useState({name:"",price:"",sku:""}),W=iE(),Y=QN({resolver:eS(eOe),defaultValues:{name:"",description:"",category:"",status:"draft",variants:[]}});j.useEffect(()=>{J()},[e,t,Y]);const J=async()=>{if(!e){et({title:"Error",description:"Product ID is missing",variant:"destructive"}),t("/admin/products");return}const ue=await z5(e);if(!ue){et({title:"Product not found",description:"The product you're trying to edit doesn't exist",variant:"destructive"}),t("/admin/products");return}try{const{data:{user:se}}=await ae.auth.getUser();if(!se)return;const{data:{session:Z}}=await ae.auth.getSession(),Oe=Z?.provider_token,re=Z?.provider_refresh_token,{data:le,error:We}=await ae.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",se.id).single();if(We)throw We;if(le){if(b(le.id),Oe&&!le.google_access_token){const xe={google_access_token:Oe};if(re){const Le=new Date(Date.now()+36e5).toISOString();xe.google_refresh_token=re,xe.google_token_expiry=Le}await ae.from("stores").update(xe).eq("id",le.id)}await z()}}catch(se){et({title:"Error loading store",description:se.message,variant:"destructive"})}Y.reset({name:ue.name,description:ue.description,category:ue.category,status:ue.status}),w(ue.status),i(ue.images||[]),u(ue.videoUrl||ue.video_url||""),ue.variants&&f(ue.variants.map((se,Z)=>({id:`${Z}`,name:se.name,price:se.price.toString(),sku:se.sku}))),g(!1)},z=async()=>{try{const{data:{session:ue}}=await ae.auth.getSession();if(!ue)return;const{data:se,error:Z}=await ae.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${ue.access_token}`}});if(Z){console.error("Drive verification error:",Z),A(!1);return}if(se?.connected){A(!0);const{data:{session:Oe}}=await ae.auth.getSession();Oe?.provider_token&&et({title:"Google Drive Connected",description:"You can now upload images from your device."})}else A(!1),console.log("Drive not connected:",se?.reason)}catch(ue){console.error("Error verifying Drive connection:",ue),A(!1)}},q=()=>{if(!o.trim()){et({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let ue=o.trim();if(ue.includes("drive.google.com")){const se=ue.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);se&&(ue=`https://drive.google.com/thumbnail?id=${se[1]||se[2]}&sz=w1000`,et({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(se=>[...se,ue]),l("")},V=async ue=>{const se=Array.from(ue.target.files||[]);if(se.length===0)return;const Z=se.filter(Oe=>Oe.type.startsWith("image/")?!0:(et({title:"Invalid file type",description:`${Oe.name} is not a valid image file`,variant:"destructive"}),!1));if(Z.length!==0){S(!0),P(Z.map(Oe=>({name:Oe.name,progress:0})));try{const{data:{session:Oe}}=await ae.auth.getSession();if(!Oe)throw new Error("Not authenticated");for(let re=0;re<Z.length;re++){const le=Z[re];P(Le=>Le.map((ke,fe)=>fe===re?{...ke,progress:10}:ke));const We=new FormData;We.append("file",le);const xe=setInterval(()=>{P(Le=>Le.map((ke,fe)=>fe===re&&ke.progress<90?{...ke,progress:ke.progress+10}:ke))},200);try{const Le=await ae.functions.invoke("upload-to-drive",{body:We,headers:{Authorization:`Bearer ${Oe.access_token}`}});if(clearInterval(xe),Le.error)throw P(ke=>ke.filter((fe,ye)=>ye!==re)),new Error(Le.error.message||"Failed to upload image");Le.data?.imageUrl&&(P(ke=>ke.map((fe,ye)=>ye===re?{...fe,progress:100}:fe)),await new Promise(ke=>setTimeout(ke,300)),P(ke=>ke.filter((fe,ye)=>ye!==re)),i(ke=>[...ke,Le.data.imageUrl]),et({title:"Image uploaded",description:`${le.name} uploaded successfully`}))}catch(Le){throw clearInterval(xe),Le}}}catch(Oe){console.error("Upload error:",Oe),console.error("Error details:",JSON.stringify(Oe,null,2));let re=Oe.message||"";if(Oe.context?.body)try{const le=JSON.parse(Oe.context.body);re=le.error||le.message||re}catch(le){console.error("Could not parse error body:",le)}console.log("Extracted error message:",re),re.toLowerCase().includes("drive")&&re.toLowerCase().includes("not connected")?et({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first, or use the Google Drive URL option instead.",variant:"destructive",duration:6e3}):re.includes("Unauthorized")||re.includes("authenticated")?et({title:"Authentication Required",description:"Please sign in again to upload images.",variant:"destructive"}):re.toLowerCase().includes("token")||re.toLowerCase().includes("expired")?et({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):et({title:"Upload Failed",description:re||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),P([]),ue.target.value=""}}},L=ue=>{i(se=>se.filter((Z,Oe)=>Oe!==ue))},X=()=>{if(!m.name.trim()||!m.price.trim()){et({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const ue={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(se=>[...se,ue]),h({name:"",price:"",sku:""})},K=ue=>{f(se=>se.filter(Z=>Z.id!==ue))},Q=ue=>{I(ue.id),U({name:ue.name,price:ue.price,sku:ue.sku||""})},oe=()=>{if(!E||!M.name.trim()||!M.price.trim()){et({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(ue=>ue.map(se=>se.id===E?{...se,name:M.name.trim(),price:M.price,sku:M.sku.trim()||void 0}:se)),I(null),U({name:"",price:"",sku:""})},ce=()=>{I(null),U({name:"",price:"",sku:""})},de=()=>{if(d.length===0)return null;const ue=d.map(Oe=>parseFloat(Oe.price)),se=Math.min(...ue),Z=Math.max(...ue);return se===Z?`${se.toFixed(2)}`:`${se.toFixed(2)} - ${Z.toFixed(2)}`},ne=async ue=>{if(!e)return;const se=_!=="published",Z=ue.status==="published";if(se&&Z&&!W.canPublishProduct()){et({title:"Product Limit Reached",description:W.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{await new Promise(re=>setTimeout(re,1e3));const Oe={id:e,name:ue.name,description:ue.description,category:ue.category,status:ue.status,images:a.length>0?a:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"],videoUrl:c.trim()||void 0,variants:d.map(re=>({name:re.name,price:parseFloat(re.price),sku:re.sku})),priceRange:de()||void 0,createdAt:(await z5(e))?.createdAt||(await z5(e))?.created_at||new Date().toISOString(),updatedAt:new Date().toISOString()};await FPe(e,Oe),localStorage.setItem("products_need_export","true"),window.dispatchEvent(new Event("productChanged")),t("/admin/products",{state:{highlightedProductId:e}})}catch{et({title:"Error updating product",description:"Please try again later",variant:"destructive"})}finally{n(!1)}};return x?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading product..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Product"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update product information"})]}),W.getProductLimitMessage()&&s.jsxs(Hn,{variant:W.canPublishProduct()?"default":"destructive",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx(Gn,{children:W.getProductLimitMessage()})]}),s.jsx(tS,{...Y,children:s.jsx("form",{onSubmit:Y.handleSubmit(ne),className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Product Information"})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsx(pn,{control:Y.control,name:"name",render:({field:ue})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Product Name"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"Enter product name",...ue})}),s.jsx($n,{})]})}),s.jsx(pn,{control:Y.control,name:"description",render:({field:ue})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Description"}),s.jsx(dn,{children:s.jsx(Ii,{placeholder:"Describe your product...",className:"min-h-[120px]",...ue})}),s.jsx($n,{})]})}),s.jsx(pn,{control:Y.control,name:"category",render:({field:ue})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Category"}),s.jsx(dn,{children:s.jsx(hue,{value:ue.value,onChange:ue.onChange,storeId:v})}),s.jsx($n,{})]})})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(lt,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:ue=>h(se=>({...se,name:ue.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(lt,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:ue=>h(se=>({...se,price:ue.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(lt,{placeholder:"0 = Unlimited",value:m.sku,onChange:ue=>h(se=>({...se,sku:ue.target.value}))})]})]}),s.jsxs(we,{type:"button",onClick:X,size:"sm",children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:de()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Variant Name"}),s.jsx(At,{children:"Price"}),s.jsx(At,{children:"Stock"}),s.jsx(At,{className:"w-[50px]"})]})}),s.jsx(Qa,{children:d.map(ue=>s.jsx(rn,{children:E===ue.id?s.jsxs(s.Fragment,{children:[s.jsx(_t,{children:s.jsx(lt,{value:M.name,onChange:se=>U(Z=>({...Z,name:se.target.value})),className:"h-8"})}),s.jsx(_t,{children:s.jsx(lt,{type:"number",step:"0.01",value:M.price,onChange:se=>U(Z=>({...Z,price:se.target.value})),className:"h-8 no-spinner"})}),s.jsx(_t,{children:s.jsx(lt,{placeholder:"0 = Unlimited",value:M.sku,onChange:se=>U(Z=>({...Z,sku:se.target.value})),className:"h-8"})}),s.jsx(_t,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:oe,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:ce,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(_t,{className:"font-medium",children:ue.name}),s.jsxs(_t,{children:["$",parseFloat(ue.price).toFixed(2)]}),s.jsx(_t,{className:"text-muted-foreground",children:ue.sku==="0"||ue.sku===""?"Unlimited":ue.sku||""}),s.jsx(_t,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(ue),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>K(ue.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Ds,{className:"w-4 h-4"})})]})})]})},ue.id))})]})})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs(Hn,{style:C?{}:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx(Gn,{className:"flex items-center justify-between gap-4",children:C?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-bold text-red-600 dark:text-red-500",children:"Connect Google Drive to upload images from your device"}),s.jsx(we,{type:"button",size:"sm",variant:"outline",onClick:async()=>{O(!0);try{const{error:ue}=await ae.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(ue)throw ue}catch(ue){et({title:"Connection Failed",description:ue.message,variant:"destructive"}),O(!1)}},disabled:R,children:R?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Google Drive Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{placeholder:"Paste Google Drive shareable link",value:o,onChange:ue=>l(ue.target.value),onKeyPress:ue=>{ue.key==="Enter"&&(ue.preventDefault(),q())}}),s.jsx(we,{type:"button",onClick:q,size:"sm",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${N?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:V,className:"hidden",id:"image-upload-edit",disabled:N}),s.jsx("label",{htmlFor:"image-upload-edit",className:`block p-6 text-center ${N?"cursor-not-allowed":"cursor-pointer"}`,children:N&&D.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",D.length," image",D.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:D.map((ue,se)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[ue.progress<100?s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(rs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:ue.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ue.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[ue.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${ue.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${ue.progress}%`}})})]},`uploading-${se}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Af,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((ue,se)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:ue,alt:`Preview ${se+1}`,className:"w-full h-full object-cover",onError:Z=>{Z.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(we,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>L(se),children:s.jsx(so,{className:"w-3 h-3"})})]},se))})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"YouTube Video URL"}),s.jsx(lt,{placeholder:"https://www.youtube.com/watch?v=...",value:c,onChange:ue=>u(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const se=(Z=>{const Oe=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,re=Z.match(Oe);return re&&re[2].length===11?re[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),se?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${se}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Product Status"})}),s.jsx(Xe,{children:s.jsx(pn,{control:Y.control,name:"status",render:({field:ue})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Status"}),s.jsxs(zr,{onValueChange:ue.onChange,value:ue.value,children:[s.jsx(dn,{children:s.jsx(Lr,{children:s.jsx(qr,{})})}),s.jsxs($r,{children:[s.jsx(ut,{value:"draft",children:"Draft"}),s.jsx(ut,{value:"published",children:"Published"}),s.jsx(ut,{value:"inactive",children:"Inactive"})]})]}),s.jsx($n,{})]})})})]}),s.jsx(He,{children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(we,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(zu,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Product"]}),s.jsx(we,{type:"button",variant:"outline",className:"w-full",onClick:()=>t("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Nj={};Nj.version="0.18.5";var Lu=1200,_v=1252,tOe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],u9={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},mE=function(t){tOe.indexOf(t)!=-1&&(_v=u9[0]=t)};function rOe(){mE(1252)}var Ed=function(t){Lu=t,mE(t)};function pE(){Ed(1200),rOe()}function W4(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function nOe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function mue(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var k1=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?nOe(t.slice(2)):e==254&&r==255?mue(t.slice(2)):e==65279?t.slice(1):t},J_=function(e){return String.fromCharCode(e)},n8=function(e){return String.fromCharCode(e)},cs;function sOe(t){cs=t,Ed=function(e){Lu=e,mE(e)},k1=function(e){return e.charCodeAt(0)===255&&e.charCodeAt(1)===254?cs.utils.decode(1200,W4(e.slice(2))):e},J_=function(r){return Lu===1200?String.fromCharCode(r):cs.utils.decode(Lu,[r&255,r>>8])[0]},n8=function(r){return cs.utils.decode(_v,[r])[0]},que()}var E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Sj(t){for(var e="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<t.length;)r=t.charCodeAt(u++),i=r>>2,n=t.charCodeAt(u++),o=(r&3)<<4|n>>4,a=t.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),e+=E0.charAt(i)+E0.charAt(o)+E0.charAt(l)+E0.charAt(c);return e}function Hu(t){var e="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)i=E0.indexOf(t.charAt(u++)),o=E0.indexOf(t.charAt(u++)),r=i<<2|o>>4,e+=String.fromCharCode(r),l=E0.indexOf(t.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=E0.indexOf(t.charAt(u++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var Bn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),jp=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function lg(t){return Bn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function LW(t){return Bn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Pu=function(e){return Bn?jp(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function rS(t){if(typeof ArrayBuffer>"u")return Pu(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Ng(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function aOe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function d9(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return d9(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Wo=Bn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:jp(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function iOe(t){for(var e=[],r=0,n=t.length+250,a=lg(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(e.push(a.slice(0,r)),r=0,a=lg(65535),n=65530)}return e.push(a.slice(0,r)),Wo(e)}var Ul=/\u0000/g,Z_=/[\u0001-\u0006]/g;function Q1(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Pf(t,e){var r=""+t;return r.length>=e?r:ui("0",e-r.length)+r}function f9(t,e){var r=""+t;return r.length>=e?r:ui(" ",e-r.length)+r}function H4(t,e){var r=""+t;return r.length>=e?r:r+ui(" ",e-r.length)}function oOe(t,e){var r=""+Math.round(t);return r.length>=e?r:ui("0",e-r.length)+r}function lOe(t,e){var r=""+t;return r.length>=e?r:ui("0",e-r.length)+r}var $W=Math.pow(2,32);function t1(t,e){if(t>$W||t<-$W)return oOe(t,e);var r=Math.round(t);return lOe(r,e)}function G4(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var BW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],p3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function cOe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Zr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},UW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},uOe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Y4(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<e&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>e&&(u>e?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function P0(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,o=[],l={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=gOe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var pue=new Date(1899,11,31,0,0,0),dOe=pue.getTime(),fOe=new Date(1900,2,1,0,0,0);function gue(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=fOe&&(r+=1440*60*1e3),(r-(dOe+(t.getTimezoneOffset()-pue.getTimezoneOffset())*6e4))/(1440*60*1e3)}function h9(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hOe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function mOe(t){var e=t<0?12:11,r=h9(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function pOe(t){var e=h9(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function kj(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=mOe(t):e===10?r=t.toFixed(10).substr(0,12):r=pOe(t),h9(hOe(r.toUpperCase()))}function jv(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):kj(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Gu(14,gue(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gOe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function xOe(t,e,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,u=e.length;break;case 3:return p3[r.m-1][1];case 5:return p3[r.m-1][0];default:return p3[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,u=e.length;break;case 3:return BW[r.q][0];default:return BW[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Pf(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(a=Pf(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?Pf(c,u):"";return d}function T0(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var xue=/%/g;function vOe(t,e,r){var n=e.replace(xue,""),a=e.length-n.length;return Qm(t,n,r*Math.pow(10,2*a))+ui("%",a)}function yOe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Qm(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function vue(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+vue(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var yue=/# (\?+)( ?)\/( ?)(\d+)/;function bOe(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?ui(" ",t[1].length+1+t[4].length):f9(o,t[1].length)+t[2]+"/"+t[3]+Pf(l,t[4].length))}function wOe(t,e,r){return r+(e===0?"":""+e)+ui(" ",t[1].length+2+t[4].length)}var bue=/^#*0*\.([0#]+)/,wue=/\).*[0#]/,_ue=/\(###\) ###\\?-####/;function lc(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function zW(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function qW(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function _Oe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function jOe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function pd(t,e,r){if(t.charCodeAt(0)===40&&!e.match(wue)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pd("n",n,r):"("+pd("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return yOe(t,e,r);if(e.indexOf("%")!==-1)return vOe(t,e,r);if(e.indexOf("E")!==-1)return vue(e,r);if(e.charCodeAt(0)===36)return"$"+pd(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+t1(c,e.length);if(e.match(/^[#?]+$/))return a=t1(r,0),a==="0"&&(a=""),a.length>e.length?a:lc(e.substr(0,e.length-a.length))+a;if(i=e.match(yue))return bOe(i,c,u);if(e.match(/^#+0+$/))return u+t1(c,e.length-e.indexOf("0"));if(i=e.match(bue))return a=zW(r,i[1].length).replace(/^([^\.]+)$/,"$1."+lc(i[1])).replace(/\.$/,"."+lc(i[1])).replace(/\.(\d*)$/,function(x,g){return"."+g+ui("0",lc(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+zW(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+T0(t1(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pd(t,e,-r):T0(""+(Math.floor(r)+_Oe(r,i[1].length)))+"."+Pf(qW(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return pd(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Q1(pd(t,e.replace(/[\\-]/g,""),r)),o=0,Q1(Q1(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(e.match(_ue))return a=pd(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Y4(c,Math.pow(10,o)-1,!1),a=""+u,d=Qm("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=H4(l[2],o),d.length<i[4].length&&(d=lc(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Y4(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?f9(l[1],o)+i[2]+"/"+i[3]+H4(l[2],o):ui(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=t1(r,0),e.length<=a.length?a:lc(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=e.indexOf(".")-o,m=e.length-a.length-f;return lc(e.substr(0,f)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=qW(r,i[1].length),r<0?"-"+pd(t,e,-r):T0(jOe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Pf(0,3-x.length):"")+x})+"."+Pf(o,i[1].length);switch(e){case"###,##0.00":return pd(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=T0(t1(c,0));return h!=="0"?u+h:"";case"###,###.00":return pd(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return pd(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function NOe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Qm(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function SOe(t,e,r){var n=e.replace(xue,""),a=e.length-n.length;return Qm(t,n,r*Math.pow(10,2*a))+ui("%",a)}function jue(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+jue(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function mh(t,e,r){if(t.charCodeAt(0)===40&&!e.match(wue)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?mh("n",n,r):"("+mh("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return NOe(t,e,r);if(e.indexOf("%")!==-1)return SOe(t,e,r);if(e.indexOf("E")!==-1)return jue(e,r);if(e.charCodeAt(0)===36)return"$"+mh(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Pf(c,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:lc(e.substr(0,e.length-a.length))+a;if(i=e.match(yue))return wOe(i,c,u);if(e.match(/^#+0+$/))return u+Pf(c,e.length-e.indexOf("0"));if(i=e.match(bue))return a=(""+r).replace(/^([^\.]+)$/,"$1."+lc(i[1])).replace(/\.$/,"."+lc(i[1])),a=a.replace(/\.(\d*)$/,function(x,g){return"."+g+ui("0",lc(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+T0(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+mh(t,e,-r):T0(""+r)+"."+ui("0",i[1].length);if(i=e.match(/^#,#*,#0/))return mh(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Q1(mh(t,e.replace(/[\\-]/g,""),r)),o=0,Q1(Q1(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(e.match(_ue))return a=mh(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Y4(c,Math.pow(10,o)-1,!1),a=""+u,d=Qm("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=H4(l[2],o),d.length<i[4].length&&(d=lc(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Y4(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?f9(l[1],o)+i[2]+"/"+i[3]+H4(l[2],o):ui(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:lc(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=e.indexOf(".")-o,m=e.length-a.length-f;return lc(e.substr(0,f)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+mh(t,e,-r):T0(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Pf(0,3-x.length):"")+x})+"."+Pf(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=T0(""+c);return h!=="0"?u+h:"";default:if(e.match(/\.[0#?]*$/))return mh(t,e.slice(0,e.lastIndexOf(".")),r)+lc(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Qm(t,e,r){return(r|0)===r?mh(t,e,r):pd(t,e,r)}function kOe(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Nue=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Gv(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":G4(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Nue))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function COe(t,e,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,m="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!G4(t,o))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=t.charAt(++o),x=h==="("||h===")"?h:"t";a[a.length]={t:x,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(u==null&&(u=P0(e,r,t.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:t.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=P0(e,r),u==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=P0(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):t.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Nue)){if(u==null&&(u=P0(e,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Gv(t)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"t",v:l},++o;break}var v=0,b=0,_;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",v<1&&(v=1);break;case"s":(_=a[o].v.match(/\.0+$/))&&(b=Math.max(b,_[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",N;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=xOe(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(N=o+1;a[N]!=null&&((l=a[N].t)==="?"||l==="D"||(l===" "||l==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[o].v+=a[N].v,a[N]={v:"",t:";"},++N;w+=a[o].v,o=N-1;break;case"G":a[o].t="t",a[o].v=jv(e,r);break}var S="",C,A;if(w.length>0){w.charCodeAt(0)==40?(C=e<0&&w.charCodeAt(0)===45?-e:e,A=Qm("n",w,C)):(C=e<0&&n>1?-e:e,A=Qm("n",w,C),C<0&&a[0]&&a[0].t=="t"&&(A=A.substr(1),a[0].v="-"+a[0].v)),N=A.length-1;var R=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){R=o;break}var O=a.length;if(R===a.length&&A.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(N>=a[o].v.length-1?(N-=a[o].v.length,a[o].v=A.substr(N+1,a[o].v.length)):N<0?a[o].v="":(a[o].v=A.substr(0,N+1),N=-1),a[o].t="t",O=o);N>=0&&O<a.length&&(a[O].v=A.substr(0,N+1)+a[O].v)}else if(R!==a.length&&A.indexOf("E")===-1){for(N=A.indexOf(".")-1,o=R;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)N>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=A.charAt(N--)+S);a[o].v=S,a[o].t="t",O=o}for(N>=0&&O<a.length&&(a[O].v=A.substr(0,N+1)+a[O].v),N=A.indexOf(".")+1,o=R;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==R)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)N<A.length&&(S+=A.charAt(N++));a[o].v=S,a[o].t="t",O=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=n>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=Qm(a[o].t,a[o].v,C),a[o].t="t");var D="";for(o=0;o!==a.length;++o)a[o]!=null&&(D+=a[o].v);return D}var VW=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WW(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function AOe(t,e){var r=kOe(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(VW),l=r[1].match(VW);return WW(e,o)?[n,r[0]]:WW(e,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Gu(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Zr)[t],n==null&&(n=r.table&&r.table[UW[t]]||Zr[UW[t]]),n==null&&(n=uOe[t]||"General");break}if(G4(n,0))return jv(e,r);e instanceof Date&&(e=gue(e,r.date1904));var a=AOe(n,e);if(G4(a[1]))return jv(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return COe(a[1],e,r,a[0])}function Rh(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Zr[r]==null){e<0&&(e=r);continue}if(Zr[r]==t){e=r;break}}e<0&&(e=391)}return Zr[e]=t,e}function nS(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Rh(t[e],e)}function ww(){Zr=cOe()}var Sue={format:Gu,load:Rh,_table:Zr,load_table:nS,parse_date_code:P0,is_date:Gv,get_table:function(){return Sue._table=Zr}},EOe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},kue=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function POe(t){var e=typeof t=="number"?Zr[t]:t;return e=e.replace(kue,"(\\d+)"),new RegExp("^"+e+"$")}function TOe(t,e,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(e.match(kue)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var OOe=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,R=new Array(256),O=0;O!=256;++O)A=O,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,R[O]=A;return typeof Int32Array<"u"?new Int32Array(R):R}var r=e();function n(A){var R=0,O=0,D=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)P[D]=A[D];for(D=0;D!=256;++D)for(O=A[D],R=256+D;R<4096;R+=256)O=P[R]=O>>>8^A[O&255];var E=[];for(D=1;D!=16;++D)E[D-1]=typeof Int32Array<"u"?P.subarray(D*256,D*256+256):P.slice(D*256,D*256+256);return E}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],h=a[8],x=a[9],g=a[10],v=a[11],b=a[12],_=a[13],w=a[14];function N(A,R){for(var O=R^-1,D=0,P=A.length;D<P;)O=O>>>8^r[(O^A.charCodeAt(D++))&255];return~O}function S(A,R){for(var O=R^-1,D=A.length-15,P=0;P<D;)O=w[A[P++]^O&255]^_[A[P++]^O>>8&255]^b[A[P++]^O>>16&255]^v[A[P++]^O>>>24]^g[A[P++]]^x[A[P++]]^h[A[P++]]^m[A[P++]]^f[A[P++]]^d[A[P++]]^u[A[P++]]^c[A[P++]]^l[A[P++]]^o[A[P++]]^i[A[P++]]^r[A[P++]];for(D+=15;P<D;)O=O>>>8^r[(O^A[P++])&255];return~O}function C(A,R){for(var O=R^-1,D=0,P=A.length,E=0,I=0;D<P;)E=A.charCodeAt(D++),E<128?O=O>>>8^r[(O^E)&255]:E<2048?(O=O>>>8^r[(O^(192|E>>6&31))&255],O=O>>>8^r[(O^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,I=A.charCodeAt(D++)&1023,O=O>>>8^r[(O^(240|E>>8&7))&255],O=O>>>8^r[(O^(128|E>>2&63))&255],O=O>>>8^r[(O^(128|I>>6&15|(E&3)<<4))&255],O=O>>>8^r[(O^(128|I&63))&255]):(O=O>>>8^r[(O^(224|E>>12&15))&255],O=O>>>8^r[(O^(128|E>>6&63))&255],O=O>>>8^r[(O^(128|E&63))&255]);return~O}return t.table=r,t.bstr=N,t.buf=S,t.str=C,t})(),Gr=(function(){var e={};e.version="1.2.1";function r(he,Re){for(var Ee=he.split("/"),Pe=Re.split("/"),Ie=0,De=0,ft=Math.min(Ee.length,Pe.length);Ie<ft;++Ie){if(De=Ee[Ie].length-Pe[Ie].length)return De;if(Ee[Ie]!=Pe[Ie])return Ee[Ie]<Pe[Ie]?-1:1}return Ee.length-Pe.length}function n(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:n(he.slice(0,-1));var Re=he.lastIndexOf("/");return Re===-1?he:he.slice(0,Re+1)}function a(he){if(he.charAt(he.length-1)=="/")return a(he.slice(0,-1));var Re=he.lastIndexOf("/");return Re===-1?he:he.slice(Re+1)}function i(he,Re){typeof Re=="string"&&(Re=new Date(Re));var Ee=Re.getHours();Ee=Ee<<6|Re.getMinutes(),Ee=Ee<<5|Re.getSeconds()>>>1,he.write_shift(2,Ee);var Pe=Re.getFullYear()-1980;Pe=Pe<<4|Re.getMonth()+1,Pe=Pe<<5|Re.getDate(),he.write_shift(2,Pe)}function o(he){var Re=he.read_shift(2)&65535,Ee=he.read_shift(2)&65535,Pe=new Date,Ie=Ee&31;Ee>>>=5;var De=Ee&15;Ee>>>=4,Pe.setMilliseconds(0),Pe.setFullYear(Ee+1980),Pe.setMonth(De-1),Pe.setDate(Ie);var ft=Re&31;Re>>>=5;var wt=Re&63;return Re>>>=6,Pe.setHours(Re),Pe.setMinutes(wt),Pe.setSeconds(ft<<1),Pe}function l(he){al(he,0);for(var Re={},Ee=0;he.l<=he.length-4;){var Pe=he.read_shift(2),Ie=he.read_shift(2),De=he.l+Ie,ft={};switch(Pe){case 21589:Ee=he.read_shift(1),Ee&1&&(ft.mtime=he.read_shift(4)),Ie>5&&(Ee&2&&(ft.atime=he.read_shift(4)),Ee&4&&(ft.ctime=he.read_shift(4))),ft.mtime&&(ft.mt=new Date(ft.mtime*1e3));break}he.l=De,Re[Pe]=ft}return Re}var c;function u(){return c||(c={})}function d(he,Re){if(he[0]==80&&he[1]==75)return qt(he,Re);if((he[0]|32)==109&&(he[1]|32)==105)return It(he,Re);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var Ee=3,Pe=512,Ie=0,De=0,ft=0,wt=0,mt=0,pt=[],gt=he.slice(0,512);al(gt,0);var Lt=f(gt);switch(Ee=Lt[0],Ee){case 3:Pe=512;break;case 4:Pe=4096;break;case 0:if(Lt[1]==0)return qt(he,Re);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ee)}Pe!==512&&(gt=he.slice(0,Pe),al(gt,28));var Yt=he.slice(0,Pe);m(gt,Ee);var cr=gt.read_shift(4,"i");if(Ee===3&&cr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+cr);gt.l+=4,ft=gt.read_shift(4,"i"),gt.l+=4,gt.chk("00100000","Mini Stream Cutoff Size: "),wt=gt.read_shift(4,"i"),Ie=gt.read_shift(4,"i"),mt=gt.read_shift(4,"i"),De=gt.read_shift(4,"i");for(var tr=-1,Bt=0;Bt<109&&(tr=gt.read_shift(4,"i"),!(tr<0));++Bt)pt[Bt]=tr;var _r=h(he,Pe);v(mt,De,_r,Pe,pt);var An=_(_r,ft,pt,Pe);An[ft].name="!Directory",Ie>0&&wt!==I&&(An[wt].name="!MiniFAT"),An[pt[0]].name="!FAT",An.fat_addrs=pt,An.ssz=Pe;var En={},ks=[],Co=[],xa=[];w(ft,An,_r,ks,Ie,En,Co,wt),x(Co,xa,ks),ks.shift();var wi={FileIndex:Co,FullPaths:xa};return Re&&Re.raw&&(wi.raw={header:Yt,sectors:_r}),wi}function f(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(M,"Header Signature: "),he.l+=16;var Re=he.read_shift(2,"u");return[he.read_shift(2,"u"),Re]}function m(he,Re){var Ee=9;switch(he.l+=2,Ee=he.read_shift(2)){case 9:if(Re!=3)throw new Error("Sector Shift: Expected 9 saw "+Ee);break;case 12:if(Re!=4)throw new Error("Sector Shift: Expected 12 saw "+Ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ee)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function h(he,Re){for(var Ee=Math.ceil(he.length/Re)-1,Pe=[],Ie=1;Ie<Ee;++Ie)Pe[Ie-1]=he.slice(Ie*Re,(Ie+1)*Re);return Pe[Ee-1]=he.slice(Ee*Re),Pe}function x(he,Re,Ee){for(var Pe=0,Ie=0,De=0,ft=0,wt=0,mt=Ee.length,pt=[],gt=[];Pe<mt;++Pe)pt[Pe]=gt[Pe]=Pe,Re[Pe]=Ee[Pe];for(;wt<gt.length;++wt)Pe=gt[wt],Ie=he[Pe].L,De=he[Pe].R,ft=he[Pe].C,pt[Pe]===Pe&&(Ie!==-1&&pt[Ie]!==Ie&&(pt[Pe]=pt[Ie]),De!==-1&&pt[De]!==De&&(pt[Pe]=pt[De])),ft!==-1&&(pt[ft]=Pe),Ie!==-1&&Pe!=pt[Pe]&&(pt[Ie]=pt[Pe],gt.lastIndexOf(Ie)<wt&&gt.push(Ie)),De!==-1&&Pe!=pt[Pe]&&(pt[De]=pt[Pe],gt.lastIndexOf(De)<wt&&gt.push(De));for(Pe=1;Pe<mt;++Pe)pt[Pe]===Pe&&(De!==-1&&pt[De]!==De?pt[Pe]=pt[De]:Ie!==-1&&pt[Ie]!==Ie&&(pt[Pe]=pt[Ie]));for(Pe=1;Pe<mt;++Pe)if(he[Pe].type!==0){if(wt=Pe,wt!=pt[wt])do wt=pt[wt],Re[Pe]=Re[wt]+"/"+Re[Pe];while(wt!==0&&pt[wt]!==-1&&wt!=pt[wt]);pt[Pe]=-1}for(Re[0]+="/",Pe=1;Pe<mt;++Pe)he[Pe].type!==2&&(Re[Pe]+="/")}function g(he,Re,Ee){for(var Pe=he.start,Ie=he.size,De=[],ft=Pe;Ee&&Ie>0&&ft>=0;)De.push(Re.slice(ft*E,ft*E+E)),Ie-=E,ft=Cx(Ee,ft*4);return De.length===0?Ot(0):Wo(De).slice(0,he.size)}function v(he,Re,Ee,Pe,Ie){var De=I;if(he===I){if(Re!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var ft=Ee[he],wt=(Pe>>>2)-1;if(!ft)return;for(var mt=0;mt<wt&&(De=Cx(ft,mt*4))!==I;++mt)Ie.push(De);v(Cx(ft,Pe-4),Re-1,Ee,Pe,Ie)}}function b(he,Re,Ee,Pe,Ie){var De=[],ft=[];Ie||(Ie=[]);var wt=Pe-1,mt=0,pt=0;for(mt=Re;mt>=0;){Ie[mt]=!0,De[De.length]=mt,ft.push(he[mt]);var gt=Ee[Math.floor(mt*4/Pe)];if(pt=mt*4&wt,Pe<4+pt)throw new Error("FAT boundary crossed: "+mt+" 4 "+Pe);if(!he[gt])break;mt=Cx(he[gt],pt)}return{nodes:De,data:nH([ft])}}function _(he,Re,Ee,Pe){var Ie=he.length,De=[],ft=[],wt=[],mt=[],pt=Pe-1,gt=0,Lt=0,Yt=0,cr=0;for(gt=0;gt<Ie;++gt)if(wt=[],Yt=gt+Re,Yt>=Ie&&(Yt-=Ie),!ft[Yt]){mt=[];var tr=[];for(Lt=Yt;Lt>=0;){tr[Lt]=!0,ft[Lt]=!0,wt[wt.length]=Lt,mt.push(he[Lt]);var Bt=Ee[Math.floor(Lt*4/Pe)];if(cr=Lt*4&pt,Pe<4+cr)throw new Error("FAT boundary crossed: "+Lt+" 4 "+Pe);if(!he[Bt]||(Lt=Cx(he[Bt],cr),tr[Lt]))break}De[Yt]={nodes:wt,data:nH([mt])}}return De}function w(he,Re,Ee,Pe,Ie,De,ft,wt){for(var mt=0,pt=Pe.length?2:0,gt=Re[he].data,Lt=0,Yt=0,cr;Lt<gt.length;Lt+=128){var tr=gt.slice(Lt,Lt+128);al(tr,64),Yt=tr.read_shift(2),cr=yE(tr,0,Yt-pt),Pe.push(cr);var Bt={name:cr,type:tr.read_shift(1),color:tr.read_shift(1),L:tr.read_shift(4,"i"),R:tr.read_shift(4,"i"),C:tr.read_shift(4,"i"),clsid:tr.read_shift(16),state:tr.read_shift(4,"i"),start:0,size:0},_r=tr.read_shift(2)+tr.read_shift(2)+tr.read_shift(2)+tr.read_shift(2);_r!==0&&(Bt.ct=N(tr,tr.l-8));var An=tr.read_shift(2)+tr.read_shift(2)+tr.read_shift(2)+tr.read_shift(2);An!==0&&(Bt.mt=N(tr,tr.l-8)),Bt.start=tr.read_shift(4,"i"),Bt.size=tr.read_shift(4,"i"),Bt.size<0&&Bt.start<0&&(Bt.size=Bt.type=0,Bt.start=I,Bt.name=""),Bt.type===5?(mt=Bt.start,Ie>0&&mt!==I&&(Re[mt].name="!StreamData")):Bt.size>=4096?(Bt.storage="fat",Re[Bt.start]===void 0&&(Re[Bt.start]=b(Ee,Bt.start,Re.fat_addrs,Re.ssz)),Re[Bt.start].name=Bt.name,Bt.content=Re[Bt.start].data.slice(0,Bt.size)):(Bt.storage="minifat",Bt.size<0?Bt.size=0:mt!==I&&Bt.start!==I&&Re[mt]&&(Bt.content=g(Bt,Re[mt].data,(Re[wt]||{}).data))),Bt.content&&al(Bt.content,0),De[cr]=Bt,ft.push(Bt)}}function N(he,Re){return new Date((qo(he,Re+4)/1e7*Math.pow(2,32)+qo(he,Re)/1e7-11644473600)*1e3)}function S(he,Re){return u(),d(c.readFileSync(he),Re)}function C(he,Re){var Ee=Re&&Re.type;switch(Ee||Bn&&Buffer.isBuffer(he)&&(Ee="buffer"),Ee||"base64"){case"file":return S(he,Re);case"base64":return d(Pu(Hu(he)),Re);case"binary":return d(Pu(he),Re)}return d(he,Re)}function A(he,Re){var Ee=Re||{},Pe=Ee.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=Pe+"/",he.FileIndex[0]={name:Pe,type:5}),Ee.CLSID&&(he.FileIndex[0].clsid=Ee.CLSID),R(he)}function R(he){var Re="Sh33tJ5";if(!Gr.find(he,"/"+Re)){var Ee=Ot(4);Ee[0]=55,Ee[1]=Ee[3]=50,Ee[2]=54,he.FileIndex.push({name:Re,type:2,content:Ee,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+Re),O(he)}}function O(he,Re){A(he);for(var Ee=!1,Pe=!1,Ie=he.FullPaths.length-1;Ie>=0;--Ie){var De=he.FileIndex[Ie];switch(De.type){case 0:Pe?Ee=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:Pe=!0,isNaN(De.R*De.L*De.C)&&(Ee=!0),De.R>-1&&De.L>-1&&De.R==De.L&&(Ee=!0);break;default:Ee=!0;break}}if(!(!Ee&&!Re)){var ft=new Date(1987,1,19),wt=0,mt=Object.create?Object.create(null):{},pt=[];for(Ie=0;Ie<he.FullPaths.length;++Ie)mt[he.FullPaths[Ie]]=!0,he.FileIndex[Ie].type!==0&&pt.push([he.FullPaths[Ie],he.FileIndex[Ie]]);for(Ie=0;Ie<pt.length;++Ie){var gt=n(pt[Ie][0]);Pe=mt[gt],Pe||(pt.push([gt,{name:a(gt).replace("/",""),type:1,clsid:W,ct:ft,mt:ft,content:null}]),mt[gt]=!0)}for(pt.sort(function(cr,tr){return r(cr[0],tr[0])}),he.FullPaths=[],he.FileIndex=[],Ie=0;Ie<pt.length;++Ie)he.FullPaths[Ie]=pt[Ie][0],he.FileIndex[Ie]=pt[Ie][1];for(Ie=0;Ie<pt.length;++Ie){var Lt=he.FileIndex[Ie],Yt=he.FullPaths[Ie];if(Lt.name=a(Yt).replace("/",""),Lt.L=Lt.R=Lt.C=-(Lt.color=1),Lt.size=Lt.content?Lt.content.length:0,Lt.start=0,Lt.clsid=Lt.clsid||W,Ie===0)Lt.C=pt.length>1?1:-1,Lt.size=0,Lt.type=5;else if(Yt.slice(-1)=="/"){for(wt=Ie+1;wt<pt.length&&n(he.FullPaths[wt])!=Yt;++wt);for(Lt.C=wt>=pt.length?-1:wt,wt=Ie+1;wt<pt.length&&n(he.FullPaths[wt])!=n(Yt);++wt);Lt.R=wt>=pt.length?-1:wt,Lt.type=1}else n(he.FullPaths[Ie+1]||"")==n(Yt)&&(Lt.R=Ie+1),Lt.type=2}}}function D(he,Re){var Ee=Re||{};if(Ee.fileType=="mad")return Ir(he,Ee);switch(O(he),Ee.fileType){case"zip":return Qt(he,Ee)}var Pe=(function(cr){for(var tr=0,Bt=0,_r=0;_r<cr.FileIndex.length;++_r){var An=cr.FileIndex[_r];if(An.content){var En=An.content.length;En>0&&(En<4096?tr+=En+63>>6:Bt+=En+511>>9)}}for(var ks=cr.FullPaths.length+3>>2,Co=tr+7>>3,xa=tr+127>>7,wi=Co+Bt+ks+xa,Vs=wi+127>>7,io=Vs<=109?0:Math.ceil((Vs-109)/127);wi+Vs+io+127>>7>Vs;)io=++Vs<=109?0:Math.ceil((Vs-109)/127);var Ws=[1,io,Vs,xa,ks,Bt,tr,0];return cr.FileIndex[0].size=tr<<6,Ws[7]=(cr.FileIndex[0].start=Ws[0]+Ws[1]+Ws[2]+Ws[3]+Ws[4]+Ws[5])+(Ws[6]+7>>3),Ws})(he),Ie=Ot(Pe[7]<<9),De=0,ft=0;{for(De=0;De<8;++De)Ie.write_shift(1,U[De]);for(De=0;De<8;++De)Ie.write_shift(2,0);for(Ie.write_shift(2,62),Ie.write_shift(2,3),Ie.write_shift(2,65534),Ie.write_shift(2,9),Ie.write_shift(2,6),De=0;De<3;++De)Ie.write_shift(2,0);for(Ie.write_shift(4,0),Ie.write_shift(4,Pe[2]),Ie.write_shift(4,Pe[0]+Pe[1]+Pe[2]+Pe[3]-1),Ie.write_shift(4,0),Ie.write_shift(4,4096),Ie.write_shift(4,Pe[3]?Pe[0]+Pe[1]+Pe[2]-1:I),Ie.write_shift(4,Pe[3]),Ie.write_shift(-4,Pe[1]?Pe[0]-1:I),Ie.write_shift(4,Pe[1]),De=0;De<109;++De)Ie.write_shift(-4,De<Pe[2]?Pe[1]+De:-1)}if(Pe[1])for(ft=0;ft<Pe[1];++ft){for(;De<236+ft*127;++De)Ie.write_shift(-4,De<Pe[2]?Pe[1]+De:-1);Ie.write_shift(-4,ft===Pe[1]-1?I:ft+1)}var wt=function(cr){for(ft+=cr;De<ft-1;++De)Ie.write_shift(-4,De+1);cr&&(++De,Ie.write_shift(-4,I))};for(ft=De=0,ft+=Pe[1];De<ft;++De)Ie.write_shift(-4,Y.DIFSECT);for(ft+=Pe[2];De<ft;++De)Ie.write_shift(-4,Y.FATSECT);wt(Pe[3]),wt(Pe[4]);for(var mt=0,pt=0,gt=he.FileIndex[0];mt<he.FileIndex.length;++mt)gt=he.FileIndex[mt],gt.content&&(pt=gt.content.length,!(pt<4096)&&(gt.start=ft,wt(pt+511>>9)));for(wt(Pe[6]+7>>3);Ie.l&511;)Ie.write_shift(-4,Y.ENDOFCHAIN);for(ft=De=0,mt=0;mt<he.FileIndex.length;++mt)gt=he.FileIndex[mt],gt.content&&(pt=gt.content.length,!(!pt||pt>=4096)&&(gt.start=ft,wt(pt+63>>6)));for(;Ie.l&511;)Ie.write_shift(-4,Y.ENDOFCHAIN);for(De=0;De<Pe[4]<<2;++De){var Lt=he.FullPaths[De];if(!Lt||Lt.length===0){for(mt=0;mt<17;++mt)Ie.write_shift(4,0);for(mt=0;mt<3;++mt)Ie.write_shift(4,-1);for(mt=0;mt<12;++mt)Ie.write_shift(4,0);continue}gt=he.FileIndex[De],De===0&&(gt.start=gt.size?gt.start-1:I);var Yt=De===0&&Ee.root||gt.name;if(pt=2*(Yt.length+1),Ie.write_shift(64,Yt,"utf16le"),Ie.write_shift(2,pt),Ie.write_shift(1,gt.type),Ie.write_shift(1,gt.color),Ie.write_shift(-4,gt.L),Ie.write_shift(-4,gt.R),Ie.write_shift(-4,gt.C),gt.clsid)Ie.write_shift(16,gt.clsid,"hex");else for(mt=0;mt<4;++mt)Ie.write_shift(4,0);Ie.write_shift(4,gt.state||0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,gt.start),Ie.write_shift(4,gt.size),Ie.write_shift(4,0)}for(De=1;De<he.FileIndex.length;++De)if(gt=he.FileIndex[De],gt.size>=4096)if(Ie.l=gt.start+1<<9,Bn&&Buffer.isBuffer(gt.content))gt.content.copy(Ie,Ie.l,0,gt.size),Ie.l+=gt.size+511&-512;else{for(mt=0;mt<gt.size;++mt)Ie.write_shift(1,gt.content[mt]);for(;mt&511;++mt)Ie.write_shift(1,0)}for(De=1;De<he.FileIndex.length;++De)if(gt=he.FileIndex[De],gt.size>0&&gt.size<4096)if(Bn&&Buffer.isBuffer(gt.content))gt.content.copy(Ie,Ie.l,0,gt.size),Ie.l+=gt.size+63&-64;else{for(mt=0;mt<gt.size;++mt)Ie.write_shift(1,gt.content[mt]);for(;mt&63;++mt)Ie.write_shift(1,0)}if(Bn)Ie.l=Ie.length;else for(;Ie.l<Ie.length;)Ie.write_shift(1,0);return Ie}function P(he,Re){var Ee=he.FullPaths.map(function(mt){return mt.toUpperCase()}),Pe=Ee.map(function(mt){var pt=mt.split("/");return pt[pt.length-(mt.slice(-1)=="/"?2:1)]}),Ie=!1;Re.charCodeAt(0)===47?(Ie=!0,Re=Ee[0].slice(0,-1)+Re):Ie=Re.indexOf("/")!==-1;var De=Re.toUpperCase(),ft=Ie===!0?Ee.indexOf(De):Pe.indexOf(De);if(ft!==-1)return he.FileIndex[ft];var wt=!De.match(Z_);for(De=De.replace(Ul,""),wt&&(De=De.replace(Z_,"!")),ft=0;ft<Ee.length;++ft)if((wt?Ee[ft].replace(Z_,"!"):Ee[ft]).replace(Ul,"")==De||(wt?Pe[ft].replace(Z_,"!"):Pe[ft]).replace(Ul,"")==De)return he.FileIndex[ft];return null}var E=64,I=-2,M="d0cf11e0a1b11ae1",U=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(he,Re,Ee){u();var Pe=D(he,Ee);c.writeFileSync(Re,Pe)}function z(he){for(var Re=new Array(he.length),Ee=0;Ee<he.length;++Ee)Re[Ee]=String.fromCharCode(he[Ee]);return Re.join("")}function q(he,Re){var Ee=D(he,Re);switch(Re&&Re.type||"buffer"){case"file":return u(),c.writeFileSync(Re.filename,Ee),Ee;case"binary":return typeof Ee=="string"?Ee:z(Ee);case"base64":return Sj(typeof Ee=="string"?Ee:z(Ee));case"buffer":if(Bn)return Buffer.isBuffer(Ee)?Ee:jp(Ee);case"array":return typeof Ee=="string"?Pu(Ee):Ee}return Ee}var V;function L(he){try{var Re=he.InflateRaw,Ee=new Re;if(Ee._processChunk(new Uint8Array([3,0]),Ee._finishFlushFlag),Ee.bytesRead)V=he;else throw new Error("zlib does not expose bytesRead")}catch(Pe){console.error("cannot use native zlib: "+(Pe.message||Pe))}}function X(he,Re){if(!V)return at(he,Re);var Ee=V.InflateRaw,Pe=new Ee,Ie=Pe._processChunk(he.slice(he.l),Pe._finishFlushFlag);return he.l+=Pe.bytesRead,Ie}function K(he){return V?V.deflateRawSync(he):tt(he)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(he){var Re=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(Re>>16|Re>>8|Re)&255}for(var ne=typeof Uint8Array<"u",ue=ne?new Uint8Array(256):[],se=0;se<256;++se)ue[se]=de(se);function Z(he,Re){var Ee=ue[he&255];return Re<=8?Ee>>>8-Re:(Ee=Ee<<8|ue[he>>8&255],Re<=16?Ee>>>16-Re:(Ee=Ee<<8|ue[he>>16&255],Ee>>>24-Re))}function Oe(he,Re){var Ee=Re&7,Pe=Re>>>3;return(he[Pe]|(Ee<=6?0:he[Pe+1]<<8))>>>Ee&3}function re(he,Re){var Ee=Re&7,Pe=Re>>>3;return(he[Pe]|(Ee<=5?0:he[Pe+1]<<8))>>>Ee&7}function le(he,Re){var Ee=Re&7,Pe=Re>>>3;return(he[Pe]|(Ee<=4?0:he[Pe+1]<<8))>>>Ee&15}function We(he,Re){var Ee=Re&7,Pe=Re>>>3;return(he[Pe]|(Ee<=3?0:he[Pe+1]<<8))>>>Ee&31}function xe(he,Re){var Ee=Re&7,Pe=Re>>>3;return(he[Pe]|(Ee<=1?0:he[Pe+1]<<8))>>>Ee&127}function Le(he,Re,Ee){var Pe=Re&7,Ie=Re>>>3,De=(1<<Ee)-1,ft=he[Ie]>>>Pe;return Ee<8-Pe||(ft|=he[Ie+1]<<8-Pe,Ee<16-Pe)||(ft|=he[Ie+2]<<16-Pe,Ee<24-Pe)||(ft|=he[Ie+3]<<24-Pe),ft&De}function ke(he,Re,Ee){var Pe=Re&7,Ie=Re>>>3;return Pe<=5?he[Ie]|=(Ee&7)<<Pe:(he[Ie]|=Ee<<Pe&255,he[Ie+1]=(Ee&7)>>8-Pe),Re+3}function fe(he,Re,Ee){var Pe=Re&7,Ie=Re>>>3;return Ee=(Ee&1)<<Pe,he[Ie]|=Ee,Re+1}function ye(he,Re,Ee){var Pe=Re&7,Ie=Re>>>3;return Ee<<=Pe,he[Ie]|=Ee&255,Ee>>>=8,he[Ie+1]=Ee,Re+8}function qe(he,Re,Ee){var Pe=Re&7,Ie=Re>>>3;return Ee<<=Pe,he[Ie]|=Ee&255,Ee>>>=8,he[Ie+1]=Ee&255,he[Ie+2]=Ee>>>8,Re+16}function Qe(he,Re){var Ee=he.length,Pe=2*Ee>Re?2*Ee:Re+5,Ie=0;if(Ee>=Re)return he;if(Bn){var De=LW(Pe);if(he.copy)he.copy(De);else for(;Ie<he.length;++Ie)De[Ie]=he[Ie];return De}else if(ne){var ft=new Uint8Array(Pe);if(ft.set)ft.set(he);else for(;Ie<Ee;++Ie)ft[Ie]=he[Ie];return ft}return he.length=Pe,he}function ct(he){for(var Re=new Array(he),Ee=0;Ee<he;++Ee)Re[Ee]=0;return Re}function Ye(he,Re,Ee){var Pe=1,Ie=0,De=0,ft=0,wt=0,mt=he.length,pt=ne?new Uint16Array(32):ct(32);for(De=0;De<32;++De)pt[De]=0;for(De=mt;De<Ee;++De)he[De]=0;mt=he.length;var gt=ne?new Uint16Array(mt):ct(mt);for(De=0;De<mt;++De)pt[Ie=he[De]]++,Pe<Ie&&(Pe=Ie),gt[De]=0;for(pt[0]=0,De=1;De<=Pe;++De)pt[De+16]=wt=wt+pt[De-1]<<1;for(De=0;De<mt;++De)wt=he[De],wt!=0&&(gt[De]=pt[wt+16]++);var Lt=0;for(De=0;De<mt;++De)if(Lt=he[De],Lt!=0)for(wt=Z(gt[De],Pe)>>Pe-Lt,ft=(1<<Pe+4-Lt)-1;ft>=0;--ft)Re[wt|ft<<Lt]=Lt&15|De<<4;return Pe}var me=ne?new Uint16Array(512):ct(512),Se=ne?new Uint16Array(32):ct(32);if(!ne){for(var _e=0;_e<512;++_e)me[_e]=0;for(_e=0;_e<32;++_e)Se[_e]=0}(function(){for(var he=[],Re=0;Re<32;Re++)he.push(5);Ye(he,Se,32);var Ee=[];for(Re=0;Re<=143;Re++)Ee.push(8);for(;Re<=255;Re++)Ee.push(9);for(;Re<=279;Re++)Ee.push(7);for(;Re<=287;Re++)Ee.push(8);Ye(Ee,me,288)})();var Je=(function(){for(var Re=ne?new Uint8Array(32768):[],Ee=0,Pe=0;Ee<ce.length-1;++Ee)for(;Pe<ce[Ee+1];++Pe)Re[Pe]=Ee;for(;Pe<32768;++Pe)Re[Pe]=29;var Ie=ne?new Uint8Array(259):[];for(Ee=0,Pe=0;Ee<oe.length-1;++Ee)for(;Pe<oe[Ee+1];++Pe)Ie[Pe]=Ee;function De(wt,mt){for(var pt=0;pt<wt.length;){var gt=Math.min(65535,wt.length-pt),Lt=pt+gt==wt.length;for(mt.write_shift(1,+Lt),mt.write_shift(2,gt),mt.write_shift(2,~gt&65535);gt-- >0;)mt[mt.l++]=wt[pt++]}return mt.l}function ft(wt,mt){for(var pt=0,gt=0,Lt=ne?new Uint16Array(32768):[];gt<wt.length;){var Yt=Math.min(65535,wt.length-gt);if(Yt<10){for(pt=ke(mt,pt,+(gt+Yt==wt.length)),pt&7&&(pt+=8-(pt&7)),mt.l=pt/8|0,mt.write_shift(2,Yt),mt.write_shift(2,~Yt&65535);Yt-- >0;)mt[mt.l++]=wt[gt++];pt=mt.l*8;continue}pt=ke(mt,pt,+(gt+Yt==wt.length)+2);for(var cr=0;Yt-- >0;){var tr=wt[gt];cr=(cr<<5^tr)&32767;var Bt=-1,_r=0;if((Bt=Lt[cr])&&(Bt|=gt&-32768,Bt>gt&&(Bt-=32768),Bt<gt))for(;wt[Bt+_r]==wt[gt+_r]&&_r<250;)++_r;if(_r>2){tr=Ie[_r],tr<=22?pt=ye(mt,pt,ue[tr+1]>>1)-1:(ye(mt,pt,3),pt+=5,ye(mt,pt,ue[tr-23]>>5),pt+=3);var An=tr<8?0:tr-4>>2;An>0&&(qe(mt,pt,_r-oe[tr]),pt+=An),tr=Re[gt-Bt],pt=ye(mt,pt,ue[tr]>>3),pt-=3;var En=tr<4?0:tr-2>>1;En>0&&(qe(mt,pt,gt-Bt-ce[tr]),pt+=En);for(var ks=0;ks<_r;++ks)Lt[cr]=gt&32767,cr=(cr<<5^wt[gt])&32767,++gt;Yt-=_r-1}else tr<=143?tr=tr+48:pt=fe(mt,pt,1),pt=ye(mt,pt,ue[tr]),Lt[cr]=gt&32767,++gt}pt=ye(mt,pt,0)-1}return mt.l=(pt+7)/8|0,mt.l}return function(mt,pt){return mt.length<8?De(mt,pt):ft(mt,pt)}})();function tt(he){var Re=Ot(50+Math.floor(he.length*1.1)),Ee=Je(he,Re);return Re.slice(0,Ee)}var Ve=ne?new Uint16Array(32768):ct(32768),Me=ne?new Uint16Array(32768):ct(32768),ht=ne?new Uint16Array(128):ct(128),Ce=1,st=1;function Ue(he,Re){var Ee=We(he,Re)+257;Re+=5;var Pe=We(he,Re)+1;Re+=5;var Ie=le(he,Re)+4;Re+=4;for(var De=0,ft=ne?new Uint8Array(19):ct(19),wt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],mt=1,pt=ne?new Uint8Array(8):ct(8),gt=ne?new Uint8Array(8):ct(8),Lt=ft.length,Yt=0;Yt<Ie;++Yt)ft[Q[Yt]]=De=re(he,Re),mt<De&&(mt=De),pt[De]++,Re+=3;var cr=0;for(pt[0]=0,Yt=1;Yt<=mt;++Yt)gt[Yt]=cr=cr+pt[Yt-1]<<1;for(Yt=0;Yt<Lt;++Yt)(cr=ft[Yt])!=0&&(wt[Yt]=gt[cr]++);var tr=0;for(Yt=0;Yt<Lt;++Yt)if(tr=ft[Yt],tr!=0){cr=ue[wt[Yt]]>>8-tr;for(var Bt=(1<<7-tr)-1;Bt>=0;--Bt)ht[cr|Bt<<tr]=tr&7|Yt<<3}var _r=[];for(mt=1;_r.length<Ee+Pe;)switch(cr=ht[xe(he,Re)],Re+=cr&7,cr>>>=3){case 16:for(De=3+Oe(he,Re),Re+=2,cr=_r[_r.length-1];De-- >0;)_r.push(cr);break;case 17:for(De=3+re(he,Re),Re+=3;De-- >0;)_r.push(0);break;case 18:for(De=11+xe(he,Re),Re+=7;De-- >0;)_r.push(0);break;default:_r.push(cr),mt<cr&&(mt=cr);break}var An=_r.slice(0,Ee),En=_r.slice(Ee);for(Yt=Ee;Yt<286;++Yt)An[Yt]=0;for(Yt=Pe;Yt<30;++Yt)En[Yt]=0;return Ce=Ye(An,Ve,286),st=Ye(En,Me,30),Re}function Ke(he,Re){if(he[0]==3&&!(he[1]&3))return[lg(Re),2];for(var Ee=0,Pe=0,Ie=LW(Re||1<<18),De=0,ft=Ie.length>>>0,wt=0,mt=0;(Pe&1)==0;){if(Pe=re(he,Ee),Ee+=3,Pe>>>1)Pe>>1==1?(wt=9,mt=5):(Ee=Ue(he,Ee),wt=Ce,mt=st);else{Ee&7&&(Ee+=8-(Ee&7));var pt=he[Ee>>>3]|he[(Ee>>>3)+1]<<8;if(Ee+=32,pt>0)for(!Re&&ft<De+pt&&(Ie=Qe(Ie,De+pt),ft=Ie.length);pt-- >0;)Ie[De++]=he[Ee>>>3],Ee+=8;continue}for(;;){!Re&&ft<De+32767&&(Ie=Qe(Ie,De+32767),ft=Ie.length);var gt=Le(he,Ee,wt),Lt=Pe>>>1==1?me[gt]:Ve[gt];if(Ee+=Lt&15,Lt>>>=4,(Lt>>>8&255)===0)Ie[De++]=Lt;else{if(Lt==256)break;Lt-=257;var Yt=Lt<8?0:Lt-4>>2;Yt>5&&(Yt=0);var cr=De+oe[Lt];Yt>0&&(cr+=Le(he,Ee,Yt),Ee+=Yt),gt=Le(he,Ee,mt),Lt=Pe>>>1==1?Se[gt]:Me[gt],Ee+=Lt&15,Lt>>>=4;var tr=Lt<4?0:Lt-2>>1,Bt=ce[Lt];for(tr>0&&(Bt+=Le(he,Ee,tr),Ee+=tr),!Re&&ft<cr&&(Ie=Qe(Ie,cr+100),ft=Ie.length);De<cr;)Ie[De]=Ie[De-Bt],++De}}}return Re?[Ie,Ee+7>>>3]:[Ie.slice(0,De),Ee+7>>>3]}function at(he,Re){var Ee=he.slice(he.l||0),Pe=Ke(Ee,Re);return he.l+=Pe[1],Pe[0]}function St(he,Re){if(he)typeof console<"u"&&console.error(Re);else throw new Error(Re)}function qt(he,Re){var Ee=he;al(Ee,0);var Pe=[],Ie=[],De={FileIndex:Pe,FullPaths:Ie};A(De,{root:Re.root});for(var ft=Ee.length-4;(Ee[ft]!=80||Ee[ft+1]!=75||Ee[ft+2]!=5||Ee[ft+3]!=6)&&ft>=0;)--ft;Ee.l=ft+4,Ee.l+=4;var wt=Ee.read_shift(2);Ee.l+=6;var mt=Ee.read_shift(4);for(Ee.l=mt,ft=0;ft<wt;++ft){Ee.l+=20;var pt=Ee.read_shift(4),gt=Ee.read_shift(4),Lt=Ee.read_shift(2),Yt=Ee.read_shift(2),cr=Ee.read_shift(2);Ee.l+=8;var tr=Ee.read_shift(4),Bt=l(Ee.slice(Ee.l+Lt,Ee.l+Lt+Yt));Ee.l+=Lt+Yt+cr;var _r=Ee.l;Ee.l=tr+4,Ut(Ee,pt,gt,De,Bt),Ee.l=_r}return De}function Ut(he,Re,Ee,Pe,Ie){he.l+=2;var De=he.read_shift(2),ft=he.read_shift(2),wt=o(he);if(De&8257)throw new Error("Unsupported ZIP encryption");for(var mt=he.read_shift(4),pt=he.read_shift(4),gt=he.read_shift(4),Lt=he.read_shift(2),Yt=he.read_shift(2),cr="",tr=0;tr<Lt;++tr)cr+=String.fromCharCode(he[he.l++]);if(Yt){var Bt=l(he.slice(he.l,he.l+Yt));(Bt[21589]||{}).mt&&(wt=Bt[21589].mt),((Ie||{})[21589]||{}).mt&&(wt=Ie[21589].mt)}he.l+=Yt;var _r=he.slice(he.l,he.l+pt);switch(ft){case 8:_r=X(he,gt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ft)}var An=!1;De&8&&(mt=he.read_shift(4),mt==134695760&&(mt=he.read_shift(4),An=!0),pt=he.read_shift(4),gt=he.read_shift(4)),pt!=Re&&St(An,"Bad compressed size: "+Re+" != "+pt),gt!=Ee&&St(An,"Bad uncompressed size: "+Ee+" != "+gt),gr(Pe,cr,_r,{unsafe:!0,mt:wt})}function Qt(he,Re){var Ee=Re||{},Pe=[],Ie=[],De=Ot(1),ft=Ee.compression?8:0,wt=0,mt=0,pt=0,gt=0,Lt=0,Yt=he.FullPaths[0],cr=Yt,tr=he.FileIndex[0],Bt=[],_r=0;for(mt=1;mt<he.FullPaths.length;++mt)if(cr=he.FullPaths[mt].slice(Yt.length),tr=he.FileIndex[mt],!(!tr.size||!tr.content||cr=="Sh33tJ5")){var An=gt,En=Ot(cr.length);for(pt=0;pt<cr.length;++pt)En.write_shift(1,cr.charCodeAt(pt)&127);En=En.slice(0,En.l),Bt[Lt]=OOe.buf(tr.content,0);var ks=tr.content;ft==8&&(ks=K(ks)),De=Ot(30),De.write_shift(4,67324752),De.write_shift(2,20),De.write_shift(2,wt),De.write_shift(2,ft),tr.mt?i(De,tr.mt):De.write_shift(4,0),De.write_shift(-4,Bt[Lt]),De.write_shift(4,ks.length),De.write_shift(4,tr.content.length),De.write_shift(2,En.length),De.write_shift(2,0),gt+=De.length,Pe.push(De),gt+=En.length,Pe.push(En),gt+=ks.length,Pe.push(ks),De=Ot(46),De.write_shift(4,33639248),De.write_shift(2,0),De.write_shift(2,20),De.write_shift(2,wt),De.write_shift(2,ft),De.write_shift(4,0),De.write_shift(-4,Bt[Lt]),De.write_shift(4,ks.length),De.write_shift(4,tr.content.length),De.write_shift(2,En.length),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(4,0),De.write_shift(4,An),_r+=De.l,Ie.push(De),_r+=En.length,Ie.push(En),++Lt}return De=Ot(22),De.write_shift(4,101010256),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,Lt),De.write_shift(2,Lt),De.write_shift(4,_r),De.write_shift(4,gt),De.write_shift(2,0),Wo([Wo(Pe),Wo(Ie),De])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function wr(he,Re){if(he.ctype)return he.ctype;var Ee=he.name||"",Pe=Ee.match(/\.([^\.]+)$/);return Pe&&Vt[Pe[1]]||Re&&(Pe=(Ee=Re).match(/[\.\\]([^\.\\])+$/),Pe&&Vt[Pe[1]])?Vt[Pe[1]]:"application/octet-stream"}function dr(he){for(var Re=Sj(he),Ee=[],Pe=0;Pe<Re.length;Pe+=76)Ee.push(Re.slice(Pe,Pe+76));return Ee.join(`\r
`)+`\r
`}function br(he){var Re=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pt){var gt=pt.charCodeAt(0).toString(16).toUpperCase();return"="+(gt.length==1?"0"+gt:gt)});Re=Re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Re.charAt(0)==`
`&&(Re="=0D"+Re.slice(1)),Re=Re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ee=[],Pe=Re.split(`\r
`),Ie=0;Ie<Pe.length;++Ie){var De=Pe[Ie];if(De.length==0){Ee.push("");continue}for(var ft=0;ft<De.length;){var wt=76,mt=De.slice(ft,ft+wt);mt.charAt(wt-1)=="="?wt--:mt.charAt(wt-2)=="="?wt-=2:mt.charAt(wt-3)=="="&&(wt-=3),mt=De.slice(ft,ft+wt),ft+=wt,ft<De.length&&(mt+="="),Ee.push(mt)}}return Ee.join(`\r
`)}function Cr(he){for(var Re=[],Ee=0;Ee<he.length;++Ee){for(var Pe=he[Ee];Ee<=he.length&&Pe.charAt(Pe.length-1)=="=";)Pe=Pe.slice(0,Pe.length-1)+he[++Ee];Re.push(Pe)}for(var Ie=0;Ie<Re.length;++Ie)Re[Ie]=Re[Ie].replace(/[=][0-9A-Fa-f]{2}/g,function(De){return String.fromCharCode(parseInt(De.slice(1),16))});return Pu(Re.join(`\r
`))}function or(he,Re,Ee){for(var Pe="",Ie="",De="",ft,wt=0;wt<10;++wt){var mt=Re[wt];if(!mt||mt.match(/^\s*$/))break;var pt=mt.match(/^(.*?):\s*([^\s].*)$/);if(pt)switch(pt[1].toLowerCase()){case"content-location":Pe=pt[2].trim();break;case"content-type":De=pt[2].trim();break;case"content-transfer-encoding":Ie=pt[2].trim();break}}switch(++wt,Ie.toLowerCase()){case"base64":ft=Pu(Hu(Re.slice(wt).join("")));break;case"quoted-printable":ft=Cr(Re.slice(wt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ie)}var gt=gr(he,Pe.slice(Ee.length),ft,{unsafe:!0});De&&(gt.ctype=De)}function It(he,Re){if(z(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ee=Re&&Re.root||"",Pe=(Bn&&Buffer.isBuffer(he)?he.toString("binary"):z(he)).split(`\r
`),Ie=0,De="";for(Ie=0;Ie<Pe.length;++Ie)if(De=Pe[Ie],!!/^Content-Location:/i.test(De)&&(De=De.slice(De.indexOf("file")),Ee||(Ee=De.slice(0,De.lastIndexOf("/")+1)),De.slice(0,Ee.length)!=Ee))for(;Ee.length>0&&(Ee=Ee.slice(0,Ee.length-1),Ee=Ee.slice(0,Ee.lastIndexOf("/")+1),De.slice(0,Ee.length)!=Ee););var ft=(Pe[1]||"").match(/boundary="(.*?)"/);if(!ft)throw new Error("MAD cannot find boundary");var wt="--"+(ft[1]||""),mt=[],pt=[],gt={FileIndex:mt,FullPaths:pt};A(gt);var Lt,Yt=0;for(Ie=0;Ie<Pe.length;++Ie){var cr=Pe[Ie];cr!==wt&&cr!==wt+"--"||(Yt++&&or(gt,Pe.slice(Lt,Ie),Ee),Lt=Ie)}return gt}function Ir(he,Re){var Ee=Re||{},Pe=Ee.boundary||"SheetJS";Pe="------="+Pe;for(var Ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Pe.slice(2)+'"',"","",""],De=he.FullPaths[0],ft=De,wt=he.FileIndex[0],mt=1;mt<he.FullPaths.length;++mt)if(ft=he.FullPaths[mt].slice(De.length),wt=he.FileIndex[mt],!(!wt.size||!wt.content||ft=="Sh33tJ5")){ft=ft.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(_r){return"_x"+_r.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(_r){return"_u"+_r.charCodeAt(0).toString(16)+"_"});for(var pt=wt.content,gt=Bn&&Buffer.isBuffer(pt)?pt.toString("binary"):z(pt),Lt=0,Yt=Math.min(1024,gt.length),cr=0,tr=0;tr<=Yt;++tr)(cr=gt.charCodeAt(tr))>=32&&cr<128&&++Lt;var Bt=Lt>=Yt*4/5;Ie.push(Pe),Ie.push("Content-Location: "+(Ee.root||"file:///C:/SheetJS/")+ft),Ie.push("Content-Transfer-Encoding: "+(Bt?"quoted-printable":"base64")),Ie.push("Content-Type: "+wr(wt,ft)),Ie.push(""),Ie.push(Bt?br(gt):dr(gt))}return Ie.push(Pe+`--\r
`),Ie.join(`\r
`)}function Jt(he){var Re={};return A(Re,he),Re}function gr(he,Re,Ee,Pe){var Ie=Pe&&Pe.unsafe;Ie||A(he);var De=!Ie&&Gr.find(he,Re);if(!De){var ft=he.FullPaths[0];Re.slice(0,ft.length)==ft?ft=Re:(ft.slice(-1)!="/"&&(ft+="/"),ft=(ft+Re).replace("//","/")),De={name:a(Re),type:2},he.FileIndex.push(De),he.FullPaths.push(ft),Ie||Gr.utils.cfb_gc(he)}return De.content=Ee,De.size=Ee?Ee.length:0,Pe&&(Pe.CLSID&&(De.clsid=Pe.CLSID),Pe.mt&&(De.mt=Pe.mt),Pe.ct&&(De.ct=Pe.ct)),De}function mr(he,Re){A(he);var Ee=Gr.find(he,Re);if(Ee){for(var Pe=0;Pe<he.FileIndex.length;++Pe)if(he.FileIndex[Pe]==Ee)return he.FileIndex.splice(Pe,1),he.FullPaths.splice(Pe,1),!0}return!1}function vr(he,Re,Ee){A(he);var Pe=Gr.find(he,Re);if(Pe){for(var Ie=0;Ie<he.FileIndex.length;++Ie)if(he.FileIndex[Ie]==Pe)return he.FileIndex[Ie].name=a(Ee),he.FullPaths[Ie]=Ee,!0}return!1}function bn(he){O(he,!0)}return e.find=P,e.read=C,e.parse=d,e.write=q,e.writeFile=J,e.utils={cfb_new:Jt,cfb_add:gr,cfb_del:mr,cfb_mov:vr,cfb_gc:bn,ReadShift:S2,CheckField:Vue,prep_blob:al,bconcat:Wo,use_zlib:L,_deflateRaw:tt,_inflateRaw:at,consts:Y},e})();let O0;function DOe(t){O0=t}function ROe(t){return typeof t=="string"?rS(t):Array.isArray(t)?aOe(t):t}function sS(t,e,r){if(typeof O0<"u"&&O0.writeFileSync)return r?O0.writeFileSync(t,e,r):O0.writeFileSync(t,e);if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=rS(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?kh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([ROe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=Ng(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function IOe(t){if(typeof O0<"u")return O0.readFileSync(t);if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function yi(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function HW(t,e){for(var r=[],n=yi(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function gE(t){for(var e=[],r=yi(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function xE(t){for(var e=[],r=yi(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function FOe(t){for(var e=[],r=yi(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var K4=new Date(1899,11,30,0,0,0);function So(t,e){var r=t.getTime(),n=K4.getTime()+(t.getTimezoneOffset()-K4.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var Cue=new Date,MOe=K4.getTime()+(Cue.getTimezoneOffset()-K4.getTimezoneOffset())*6e4,GW=Cue.getTimezoneOffset();function vE(t){var e=new Date;return e.setTime(t*24*60*60*1e3+MOe),e.getTimezoneOffset()!==GW&&e.setTime(e.getTime()+(e.getTimezoneOffset()-GW)*6e4),e}function LOe(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[i],10)}return e}var YW=new Date("2017-02-19T19:06:09.000Z"),Aue=isNaN(YW.getFullYear())?new Date("2/19/17"):YW,$Oe=Aue.getFullYear()==2017;function ka(t,e){var r=new Date(t);if($Oe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Aue.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Nv(t,e){if(Bn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return kh(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return kh(mue(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return kh(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return kh(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function ia(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ia(t[r]));return e}function ui(t,e){for(var r="";r.length<e;)r+=t;return r}function Df(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var BOe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ab(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&BOe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var UOe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function Eue(t){return t?t.content&&t.type?Nv(t.content,!0):t.data?k1(t.data):t.asNodeBuffer&&Bn?k1(t.asNodeBuffer().toString("binary")):t.asBinary?k1(t.asBinary()):t._data&&t._data.getContent?k1(Nv(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Pue(t){if(!t)return null;if(t.data)return W4(t.data);if(t.asNodeBuffer&&Bn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?W4(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function zOe(t){return t&&t.name.slice(-4)===".bin"?Pue(t):Eue(t)}function wd(t,e){for(var r=t.FullPaths||yi(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function m9(t,e){var r=wd(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Vi(t,e,r){if(!r)return zOe(m9(t,e));if(!e)return null;try{return Vi(t,e)}catch{return null}}function Tu(t,e,r){if(!r)return Eue(m9(t,e));if(!e)return null;try{return Tu(t,e)}catch{return null}}function qOe(t,e,r){return Pue(m9(t,e))}function KW(t){for(var e=t.FullPaths||yi(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function In(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Bn?n=jp(r):n=iOe(r),Gr.utils.cfb_add(t,e,n)}Gr.utils.cfb_add(t,e,r)}else t.file(e,r)}function p9(){return Gr.utils.cfb_new()}function Tue(t,e){switch(e.type){case"base64":return Gr.read(t,{type:"base64"});case"binary":return Gr.read(t,{type:"binary"});case"buffer":case"array":return Gr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Q_(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Mi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,VOe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,XW=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,WOe=/<[^>]*>/g,Hl=Mi.match(XW)?XW:WOe,HOe=/<\w*:/,GOe=/<(\/?)\w+:/;function fn(t,e,r){for(var n={},a=0,i=0;a!==t.length&&!((i=t.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var o=t.match(VOe),l=0,c="",u=0,d="",f="",m=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(m=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+m,f.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var h=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[h]&&d.slice(l-3,l)=="ext")continue;n[h]=c,n[h.toLowerCase()]=c}}return n}function Yh(t){return t.replace(GOe,"<$1")}var Oue={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},g9=gE(Oue),xs=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(t,function(l,c){return Oue[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),x9=/[&<>'"]/g,YOe=/[\u0000-\u0008\u000b-\u001f]/g;function qs(t){var e=t+"";return e.replace(x9,function(r){return g9[r]}).replace(YOe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function JW(t){return qs(t).replace(/ /g,"_x0020_")}var Due=/[\u0000-\u001f]/g;function v9(t){var e=t+"";return e.replace(x9,function(r){return g9[r]}).replace(/\n/g,"<br/>").replace(Due,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function KOe(t){var e=t+"";return e.replace(x9,function(r){return g9[r]}).replace(Due,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var ZW=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function XOe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function _a(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function g3(t){for(var e="",r=0,n=0,a=0,i=0,o=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=t.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function QW(t){var e=lg(2*t.length),r,n,a=1,i=0,o=0,l;for(n=0;n<t.length;n+=a)a=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function eH(t){return jp(t,"binary").toString("utf8")}var Lk="foo bar baz",Js=Bn&&(eH(Lk)==g3(Lk)&&eH||QW(Lk)==g3(Lk)&&QW)||g3,kh=Bn?function(t){return jp(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Cj=(function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),Rue=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),JOe=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),ZOe=/<\/?(?:vt:)?variant>/g,QOe=/<(?:vt:)([^>]*)>([\s\S]*)</;function tH(t,e){var r=fn(t),n=t.match(JOe(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(ZOe,"").match(QOe);o&&a.push({v:Js(o[2]),t:o[1]})}),a}var Iue=/(^\s|\s$|\n)/;function ol(t,e){return"<"+t+(e.match(Iue)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Aj(t){return yi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function lr(t,e,r){return"<"+t+(r!=null?Aj(r):"")+(e!=null?(e.match(Iue)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function s8(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function eDe(t,e){switch(typeof t){case"string":var r=lr("vt:lpwstr",qs(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return lr((t|0)==t?"vt:i4":"vt:r8",qs(String(t)));case"boolean":return lr("vt:bool",t?"true":"false")}if(t instanceof Date)return lr("vt:filetime",s8(t));throw new Error("Unable to serialize "+t)}function y9(t){if(Bn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Js(Ng(d9(t)));throw new Error("Bad input format: expected Buffer or string")}var Ej=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,bo={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yv=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Nu={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function tDe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function rDe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,o=n?-e:e;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[r+l]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var rH=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},nH=Bn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:jp(e)})):rH(t)}:rH,sH=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(Wm(t,a)));return n.join("").replace(Ul,"")},yE=Bn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ul,""):sH(t,e,r)}:sH,aH=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},Fue=Bn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):aH(t,e,r)}:aH,iH=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(x1(t,a)));return n.join("")},_w=Bn?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):iH(e,r,n)}:iH,Mue=function(t,e){var r=qo(t,e);return r>0?_w(t,e+4,e+4+r-1):""},b9=Mue,Lue=function(t,e){var r=qo(t,e);return r>0?_w(t,e+4,e+4+r-1):""},w9=Lue,$ue=function(t,e){var r=2*qo(t,e);return r>0?_w(t,e+4,e+4+r-1):""},_9=$ue,Bue=function(e,r){var n=qo(e,r);return n>0?yE(e,r+4,r+4+n):""},j9=Bue,Uue=function(t,e){var r=qo(t,e);return r>0?_w(t,e+4,e+4+r):""},N9=Uue,zue=function(t,e){return tDe(t,e)},X4=zue,S9=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Bn&&(b9=function(e,r){if(!Buffer.isBuffer(e))return Mue(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},w9=function(e,r){if(!Buffer.isBuffer(e))return Lue(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},_9=function(e,r){if(!Buffer.isBuffer(e))return $ue(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},j9=function(e,r){if(!Buffer.isBuffer(e))return Bue(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},N9=function(e,r){if(!Buffer.isBuffer(e))return Uue(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},X4=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):zue(e,r)},S9=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function que(){yE=function(t,e,r){return cs.utils.decode(1200,t.slice(e,r)).replace(Ul,"")},_w=function(t,e,r){return cs.utils.decode(65001,t.slice(e,r))},b9=function(t,e){var r=qo(t,e);return r>0?cs.utils.decode(_v,t.slice(e+4,e+4+r-1)):""},w9=function(t,e){var r=qo(t,e);return r>0?cs.utils.decode(Lu,t.slice(e+4,e+4+r-1)):""},_9=function(t,e){var r=2*qo(t,e);return r>0?cs.utils.decode(1200,t.slice(e+4,e+4+r-1)):""},j9=function(t,e){var r=qo(t,e);return r>0?cs.utils.decode(1200,t.slice(e+4,e+4+r)):""},N9=function(t,e){var r=qo(t,e);return r>0?cs.utils.decode(65001,t.slice(e+4,e+4+r)):""}}typeof cs<"u"&&que();var x1=function(t,e){return t[e]},Wm=function(t,e){return t[e+1]*256+t[e]},nDe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},qo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Cx=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},sDe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function S2(t,e){var r="",n,a,i=[],o,l,c,u;switch(e){case"dbcs":if(u=this.l,Bn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(Wm(this,u)),u+=2;t*=2;break;case"utf8":r=_w(this,this.l,this.l+t);break;case"utf16le":t*=2,r=yE(this,this.l,this.l+t);break;case"wstr":if(typeof cs<"u")r=cs.utils.decode(Lu,this.slice(this.l,this.l+2*t));else return S2.call(this,t,"dbcs");t=2*t;break;case"lpstr-ansi":r=b9(this,this.l),t=4+qo(this,this.l);break;case"lpstr-cp":r=w9(this,this.l),t=4+qo(this,this.l);break;case"lpwstr":r=_9(this,this.l),t=4+2*qo(this,this.l);break;case"lpp4":t=4+qo(this,this.l),r=j9(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+qo(this,this.l),r=N9(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=x1(this,this.l+t++))!==0;)i.push(J_(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Wm(this,this.l+t))!==0;)i.push(J_(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=x1(this,u),this.l=u+1,l=S2.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(J_(Wm(this,u))),u+=2}r=i.join(""),t*=2;break;case"cpstr":if(typeof cs<"u"){r=cs.utils.decode(Lu,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(r="",u=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=x1(this,u),this.l=u+1,l=S2.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(J_(x1(this,u))),u+=1}r=i.join("");break;default:switch(t){case 1:return n=x1(this,this.l),this.l++,n;case 2:return n=(e==="i"?nDe:Wm)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Cx:sDe)(this,this.l),this.l+=4,n):(a=qo(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=X4(this,this.l):a=X4([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=Fue(this,this.l,t);break}}return this.l+=t,r}var aDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},iDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},oDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function lDe(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)oDe(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){if(typeof cs<"u"&&_v==874)for(a=0;a!=e.length;++a){var i=cs.utils.encode(_v,e.charAt(a));this[this.l+a]=i[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var l=e.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,aDe(this,e,this.l);break;case 8:if(n=8,r==="f"){rDe(this,e,this.l);break}case 16:break;case-4:n=4,iDe(this,e,this.l);break}return this.l+=n,this}function Vue(t,e){var r=Fue(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function al(t,e){t.l=e,t.read_shift=S2,t.chk=Vue,t.write_shift=lDe}function Wl(t,e){t.l+=e}function Ot(t){var e=lg(t);return al(e,0),e}function Np(t,e,r){if(t){var n,a,i;al(t,t.l||0);for(var o=t.length,l=0,c=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var u=Ij[l]||Ij[65535];for(n=t.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=t.read_shift(1))&127)<<7*a;c=t.l+i;var d=u.f&&u.f(t,i,r);if(t.l=c,e(d,u,l))return}}}function Kc(){var t=[],e=Bn?256:2048,r=function(u){var d=Ot(u);return al(d,0),d},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,e)))},o=function(){return a(),Wo(t)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:l,end:o,_bufs:t}}function Ht(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=Ij[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=t.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&S9(r)&&t.push(r)}}function k2(t,e,r){var n=ia(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function oH(t,e,r){var n=ia(t);return n.s=k2(n.s,e.s,r),n.e=k2(n.e,e.s,r),n}function C2(t,e){if(t.cRel&&t.c<0)for(t=ia(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ia(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=an(t);return!t.cRel&&t.cRel!=null&&(r=dDe(r)),!t.rRel&&t.rRel!=null&&(r=cDe(r)),r}function x3(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Sa(t.s.c)+":"+(t.e.cRel?"":"$")+Sa(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+gi(t.s.r)+":"+(t.e.rRel?"":"$")+gi(t.e.r):C2(t.s,e.biff)+":"+C2(t.e,e.biff)}function k9(t){return parseInt(uDe(t),10)-1}function gi(t){return""+(t+1)}function cDe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function uDe(t){return t.replace(/\$(\d+)$/,"$1")}function C9(t){for(var e=fDe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Sa(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function dDe(t){return t.replace(/^([A-Z])/,"$$$1")}function fDe(t){return t.replace(/^\$([A-Z])/,"$1")}function hDe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ei(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function an(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function xc(t){var e=t.indexOf(":");return e==-1?{s:ei(t),e:ei(t)}:{s:ei(t.slice(0,e)),e:ei(t.slice(e+1))}}function Dn(t,e){return typeof e>"u"||typeof e=="number"?Dn(t.s,t.e):(typeof t!="string"&&(t=an(t)),typeof e!="string"&&(e=an(e)),t==e?t:t+":"+e)}function ns(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function lH(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Gu(t.z,r?So(e):e)}catch{}try{return t.w=Gu((t.XF||{}).numFmtId||(r?14:0),r?So(e):e)}catch{return""+e}}function qh(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Sp[t.v]||t.v:e==null?lH(t,t.v):lH(t,e))}function Sg(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Wue(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?ei(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=ns(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[f].length;++m)if(!(typeof e[f][m]>"u")){var h={v:e[f][m]},x=o+f,g=l+m;if(u.s.r>x&&(u.s.r=x),u.s.c>g&&(u.s.c=g),u.e.r<x&&(u.e.r=x),u.e.c<g&&(u.e.c=g),e[f][m]&&typeof e[f][m]=="object"&&!Array.isArray(e[f][m])&&!(e[f][m]instanceof Date))h=e[f][m];else if(Array.isArray(h.v)&&(h.f=e[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Zr[14],n.cellDates?(h.t="d",h.w=Gu(h.z,So(h.v))):(h.t="n",h.v=So(h.v),h.w=Gu(h.z,h.v))):h.t="s";if(a)i[x]||(i[x]=[]),i[x][g]&&i[x][g].z&&(h.z=i[x][g].z),i[x][g]=h;else{var v=an({c:g,r:x});i[v]&&i[v].z&&(h.z=i[v].z),i[v]=h}}}return u.s.c<1e7&&(i["!ref"]=Dn(u)),i}function jw(t,e){return Wue(null,t,e)}function mDe(t){return t.read_shift(4,"i")}function Rf(t,e){return e||(e=Ot(4)),e.write_shift(4,t),e}function zl(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Go(t,e){var r=!1;return e==null&&(r=!0,e=Ot(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function pDe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function gDe(t,e){return e||(e=Ot(4)),e.write_shift(2,0),e.write_shift(2,0),e}function A9(t,e){var r=t.l,n=t.read_shift(1),a=zl(t),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=t.read_shift(4),c=0;c!=l;++c)i.push(pDe(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function xDe(t,e){var r=!1;return e==null&&(r=!0,e=Ot(15+4*t.t.length)),e.write_shift(1,0),Go(t.t,e),r?e.slice(0,e.l):e}var vDe=A9;function yDe(t,e){var r=!1;return e==null&&(r=!0,e=Ot(23+4*t.t.length)),e.write_shift(1,1),Go(t.t,e),e.write_shift(4,1),gDe({},e),r?e.slice(0,e.l):e}function Vd(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Kv(t,e){return e==null&&(e=Ot(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Xv(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Jv(t,e){return e==null&&(e=Ot(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var bDe=zl,Hue=Go;function E9(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function J4(t,e){var r=!1;return e==null&&(r=!0,e=Ot(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var wDe=zl,a8=E9,P9=J4;function T9(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?X4([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Cx(e,0)>>2;return r?a/100:a}function Gue(t,e){e==null&&(e=Ot(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Yue(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function _De(t,e){return e||(e=Ot(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Zv=Yue,Nw=_De;function Ml(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Sv(t,e){return(e||Ot(8)).write_shift(8,t,"f")}function jDe(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=Zx[a];u&&(e.rgb=Tj(u));break;case 2:e.rgb=Tj([o,l,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function Z4(t,e){if(e||(e=Ot(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function NDe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function SDe(t,e){e||(e=Ot(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function Kue(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function kDe(t){return Kue(t,1)}function CDe(t){return Kue(t,2)}var O9=2,Lc=3,$k=11,cH=12,Q4=19,Bk=64,ADe=65,EDe=71,PDe=4108,TDe=4126,$o=80,Xue=81,ODe=[$o,Xue],i8={1:{n:"CodePage",t:O9},2:{n:"Category",t:$o},3:{n:"PresentationFormat",t:$o},4:{n:"ByteCount",t:Lc},5:{n:"LineCount",t:Lc},6:{n:"ParagraphCount",t:Lc},7:{n:"SlideCount",t:Lc},8:{n:"NoteCount",t:Lc},9:{n:"HiddenCount",t:Lc},10:{n:"MultimediaClipCount",t:Lc},11:{n:"ScaleCrop",t:$k},12:{n:"HeadingPairs",t:PDe},13:{n:"TitlesOfParts",t:TDe},14:{n:"Manager",t:$o},15:{n:"Company",t:$o},16:{n:"LinksUpToDate",t:$k},17:{n:"CharacterCount",t:Lc},19:{n:"SharedDoc",t:$k},22:{n:"HyperlinksChanged",t:$k},23:{n:"AppVersion",t:Lc,p:"version"},24:{n:"DigSig",t:ADe},26:{n:"ContentType",t:$o},27:{n:"ContentStatus",t:$o},28:{n:"Language",t:$o},29:{n:"Version",t:$o},255:{},2147483648:{n:"Locale",t:Q4},2147483651:{n:"Behavior",t:Q4},1919054434:{}},o8={1:{n:"CodePage",t:O9},2:{n:"Title",t:$o},3:{n:"Subject",t:$o},4:{n:"Author",t:$o},5:{n:"Keywords",t:$o},6:{n:"Comments",t:$o},7:{n:"Template",t:$o},8:{n:"LastAuthor",t:$o},9:{n:"RevNumber",t:$o},10:{n:"EditTime",t:Bk},11:{n:"LastPrinted",t:Bk},12:{n:"CreatedDate",t:Bk},13:{n:"ModifiedDate",t:Bk},14:{n:"PageCount",t:Lc},15:{n:"WordCount",t:Lc},16:{n:"CharCount",t:Lc},17:{n:"Thumbnail",t:EDe},18:{n:"Application",t:$o},19:{n:"DocSecurity",t:Lc},255:{},2147483648:{n:"Locale",t:Q4},2147483651:{n:"Behavior",t:Q4},1919054434:{}},uH={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},DDe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function RDe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var IDe=RDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Zx=ia(IDe),Sp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Jue={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},l8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Uk={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function D9(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function FDe(t){var e=D9();if(!t||!t.match)return e;var r={};if((t.match(Hl)||[]).forEach(function(n){var a=fn(n);switch(a[0].replace(HOe,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[l8[a.ContentType]]!==void 0&&e[l8[a.ContentType]].push(a.PartName);break}}),e.xmlns!==bo.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function Zue(t,e){var r=FOe(l8),n=[],a;n[n.length]=Mi,n[n.length]=lr("Types",null,{xmlns:bo.CT,"xmlns:xsd":bo.xsd,"xmlns:xsi":bo.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return lr("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){t[c]&&t[c].length>0&&(a=t[c][0],n[n.length]=lr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Uk[c][e.bookType]||Uk[c].xlsx}))},o=function(c){(t[c]||[]).forEach(function(u){n[n.length]=lr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Uk[c][e.bookType]||Uk[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(u){n[n.length]=lr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Kn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Pj(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function A2(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Hl)||[]).forEach(function(a){var i=fn(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Q_(i.Target,e);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function eb(t){var e=[Mi,lr("Relationships",null,{xmlns:bo.RELS})];return yi(t["!id"]).forEach(function(r){e[e.length]=lr("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Us(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[Kn.HLINK,Kn.XPATH,Kn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}var MDe="application/vnd.oasis.opendocument.spreadsheet";function LDe(t,e){for(var r=y9(t),n,a;n=Ej.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=fn(n[0],!1),a.path=="/"&&a.type!==MDe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function $De(t){var e=[Mi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function dH(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function BDe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function UDe(t){var e=[Mi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(dH(t[r][0],t[r][1])),e.push(BDe("",t[r][0]));return e.push(dH("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Que(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Nj.version+"</meta:generator></office:meta></office:document-meta>"}var Id=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],zDe=(function(){for(var t=new Array(Id.length),e=0;e<Id.length;++e){var r=Id[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function ede(t){var e={};t=Js(t);for(var r=0;r<Id.length;++r){var n=Id[r],a=t.match(zDe[r]);a!=null&&a.length>0&&(e[n[1]]=xs(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=ka(e[n[1]]))}return e}function v3(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=qs(e),n[n.length]=r?lr(t,e,r):ol(t,e))}function tde(t,e){var r=e||{},n=[Mi,lr("cp:coreProperties",null,{"xmlns:cp":bo.CORE_PROPS,"xmlns:dc":bo.dc,"xmlns:dcterms":bo.dcterms,"xmlns:dcmitype":bo.dcmitype,"xmlns:xsi":bo.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&v3("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:s8(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&v3("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:s8(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Id.length;++i){var o=Id[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&v3(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Qx=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],rde=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function nde(t,e,r,n){var a=[];if(typeof t=="string")a=tH(t,n);else for(var i=0;i<t.length;++i)a=a.concat(t[i].map(function(d){return{v:d}}));var o=typeof e=="string"?tH(e,n).map(function(d){return d.v}):e,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function qDe(t,e,r){var n={};return e||(e={}),t=Js(t),Qx.forEach(function(a){var i=(t.match(Cj(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=xs(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var o=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&nde(n.HeadingPairs,n.TitlesOfParts,e,r),e}function sde(t){var e=[],r=lr;return t||(t={}),t.Application="SheetJS",e[e.length]=Mi,e[e.length]=lr("Properties",null,{xmlns:bo.EXT_PROPS,"xmlns:vt":bo.vt}),Qx.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=qs(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+qs(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var VDe=/<[^>]+>[^<]*/g;function WDe(t,e){var r={},n="",a=t.match(VDe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=fn(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=xs(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=xs(d);break;case"bool":r[n]=_a(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ka(d);break;case"cy":case"error":r[n]=xs(d);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return r}function ade(t){var e=[Mi,lr("Properties",null,{xmlns:bo.CUST_PROPS,"xmlns:vt":bo.vt})];if(!t)return e.join("");var r=1;return yi(t).forEach(function(a){++r,e[e.length]=lr("property",eDe(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:qs(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var c8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},y3;function HDe(t,e,r){y3||(y3=gE(c8)),e=y3[e]||e,t[e]=r}function GDe(t,e){var r=[];return yi(c8).map(function(n){for(var a=0;a<Id.length;++a)if(Id[a][1]==n)return Id[a];for(a=0;a<Qx.length;++a)if(Qx[a][1]==n)return Qx[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ol(c8[n[1]]||n[1],a))}}),lr("DocumentProperties",r.join(""),{xmlns:Nu.o})}function YDe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&yi(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<Id.length;++o)if(i==Id[o][1])return;for(o=0;o<Qx.length;++o)if(i==Qx[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(lr(JW(i),l,{"dt:dt":c}))}}),e&&yi(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(lr(JW(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Nu.o+'">'+a.join("")+"</"+n+">"}function R9(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function KDe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Ot(8);return o.write_shift(4,n),o.write_shift(4,a),o}function ide(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function ode(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function lde(t,e,r){return e===31?ode(t):ide(t,e,r)}function u8(t,e,r){return lde(t,e,r===!1?0:4)}function XDe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return lde(t,e,0)}function JDe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Ul,""),t.l-a&2&&(t.l+=2)}return r}function ZDe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Ul,"");return r}function QDe(t){var e=t.l,r=eC(t,Xue);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=eC(t,Lc);return[r,n]}function e6e(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(QDe(t));return r}function fH(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var i=t.read_shift(4),o=t.read_shift(4);n[i]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Ul,"").replace(Z_,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function cde(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function t6e(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function eC(t,e,r){var n=t.read_shift(2),a,i=r||{};if(t.l+=2,e!==cH&&n!==e&&ODe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===cH?n:e){case 2:return a=t.read_shift(2,"i"),i.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return ide(t,n,4).replace(Ul,"");case 31:return ode(t);case 64:return R9(t);case 65:return cde(t);case 71:return t6e(t);case 80:return u8(t,n,!i.raw).replace(Ul,"");case 81:return XDe(t,n).replace(Ul,"");case 4108:return e6e(t);case 4126:case 4127:return n==4127?JDe(t):ZDe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function hH(t,e){var r=Ot(4),n=Ot(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ot(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=KDe(e);break;case 31:case 80:for(n=Ot(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Wo([r,n])}function mH(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=t.read_shift(4),f=t.read_shift(4);i[o]=[d,f+r]}i.sort(function(_,w){return _[1]-w[1]});var m={};for(o=0;o!=a;++o){if(t.l!==i[o][1]){var h=!0;if(o>0&&e)switch(e[i[o-1][0]].t){case 2:t.l+2===i[o][1]&&(t.l+=2,h=!1);break;case 80:t.l<=i[o][1]&&(t.l=i[o][1],h=!1);break;case 4108:t.l<=i[o][1]&&(t.l=i[o][1],h=!1);break}if((!e||o==0)&&t.l<=i[o][1]&&(h=!1,t.l=i[o][1]),h)throw new Error("Read Error: Expected address "+i[o][1]+" at "+t.l+" :"+o)}if(e){var x=e[i[o][0]];if(m[x.n]=eC(t,x.t,{raw:!0}),x.p==="version"&&(m[x.n]=String(m[x.n]>>16)+"."+("0000"+String(m[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(m[x.n]){case 0:m[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ed(l=m[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[x.n])}}else if(i[o][0]===1){if(l=m.CodePage=eC(t,O9),Ed(l),c!==-1){var g=t.l;t.l=i[c][1],u=fH(t,l),t.l=g}}else if(i[o][0]===0){if(l===0){c=o,t.l=i[o+1][1];continue}u=fH(t,l)}else{var v=u[i[o][0]],b;switch(t[t.l]){case 65:t.l+=4,b=cde(t);break;case 30:t.l+=4,b=u8(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,b=u8(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,b=t.read_shift(4,"i");break;case 19:t.l+=4,b=t.read_shift(4);break;case 5:t.l+=4,b=t.read_shift(8,"f");break;case 11:t.l+=4,b=ki(t,4);break;case 64:t.l+=4,b=ka(R9(t));break;default:throw new Error("unparsed value: "+t[t.l])}m[v]=b}}return t.l=r+n,m}var ude=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function r6e(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function pH(t,e,r){var n=Ot(8),a=[],i=[],o=8,l=0,c=Ot(8),u=Ot(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!e){u=Ot(8),u.write_shift(4,0),a.unshift(u);var d=[Ot(4)];for(d[0].write_shift(4,t.length),l=0;l<t.length;++l){var f=t[l][0];for(c=Ot(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Wo(d),i.unshift(c),o+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(ude.indexOf(t[l][0])>-1||rde.indexOf(t[l][0])>-1)&&t[l][1]!=null){var m=t[l][1],h=0;if(e){h=+e[t[l][0]];var x=r[h];if(x.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=hH(x.t,m)}else{var v=r6e(m);v==-1&&(v=31,m=String(m)),c=hH(v,m)}i.push(c),u=Ot(8),u.write_shift(4,e?h:2+l),a.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Wo([n].concat(a).concat(i))}function gH(t,e,r){var n=t.content;if(!n)return{};al(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Gr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=mH(n,e),m={SystemIdentifier:u};for(var h in f)m[h]=f[h];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var x;try{x=mH(n,null)}catch{}for(h in x)m[h]=x[h];return m.FMTID=[i,o],m}function xH(t,e,r,n,a,i){var o=Ot(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Gr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,a?68:48);var c=pH(t,r,n);if(l.push(c),a){var u=pH(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Wo(l)}function c0(t,e){return t.read_shift(e),null}function n6e(t,e){e||(e=Ot(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function s6e(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function ki(t,e){return t.read_shift(e)===1}function cc(t,e){return e||(e=Ot(2)),e.write_shift(2,+!!t),e}function Wi(t){return t.read_shift(2,"u")}function _d(t,e){return e||(e=Ot(2)),e.write_shift(2,t),e}function dde(t,e){return s6e(t,e,Wi)}function a6e(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function fde(t,e,r){return r||(r=Ot(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function aS(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=Lu;if(r&&r.biff>=8&&(Lu=1200),!r||r.biff==8){var o=t.read_shift(1);o&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?t.read_shift(n,a):"";return Lu=i,l}function i6e(t){var e=Lu;Lu=1200;var r=t.read_shift(2),n=t.read_shift(1),a=n&4,i=n&8,o=1+(n&1),l=0,c,u={};i&&(l=t.read_shift(2)),a&&(c=t.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",f=r===0?"":t.read_shift(r,d);return i&&(t.l+=4*l),a&&(t.l+=c),u.t=f,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),Lu=e,u}function o6e(t){var e=t.t||"",r=Ot(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ot(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return Wo(a)}function kv(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function iS(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):kv(t,n,r)}function Qv(t,e,r){if(r.biff>5)return iS(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function hde(t,e,r){return r||(r=Ot(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function l6e(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function c6e(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Ul,"");return n&&(t.l+=24),a}function u6e(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(i>>1,"utf16le").replace(Ul,"");return r+o}function d6e(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return c6e(t);case"0303000000000000c000000000000046":return u6e(t);default:throw new Error("Unsupported Moniker "+r)}}function zk(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Ul,""):"";return r}function vH(t,e){e||(e=Ot(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function f6e(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=zk(t,r-t.l)),a&128&&(o=zk(t,r-t.l)),(a&257)===257&&(l=zk(t,r-t.l)),(a&257)===1&&(c=d6e(t,r-t.l)),a&8&&(u=zk(t,r-t.l)),a&32&&(d=t.read_shift(16)),a&64&&(f=R9(t)),t.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var h={Target:m};return d&&(h.guid=d),f&&(h.time=f),i&&(h.Tooltip=i),h}function h6e(t){var e=Ot(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(i==28)n=n.slice(1),vH(n,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),i&8&&vH(a>-1?n.slice(a+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function mde(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function pde(t,e){var r=mde(t);return r[3]=0,r}function Kh(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function Cv(t,e,r,n){return n||(n=Ot(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function m6e(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function p6e(t,e,r){return e===0?"":Qv(t,e,r)}function g6e(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[a,i,o]}function gde(t){var e=t.read_shift(2),r=T9(t);return[e,r]}function x6e(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=aS(t,e,r),i=t.read_shift(2);if(n-=t.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return t.l+=i,a}function bE(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function xde(t,e){return e||(e=Ot(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function vde(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var v6e=vde;function yde(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function y6e(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function b6e(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function jl(t){t.l+=2,t.l+=t.read_shift(2)}var w6e={0:jl,4:jl,5:jl,6:jl,7:b6e,8:jl,9:jl,10:jl,11:jl,12:jl,13:y6e,14:jl,15:jl,16:jl,17:jl,18:jl,19:jl,20:jl,21:yde};function _6e(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(w6e[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function qk(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function I9(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ot(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function j6e(t,e){return e===0||t.read_shift(2),1200}function N6e(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=Qv(t,0,r);return t.read_shift(e+n-t.l),a}function S6e(t,e){var r=!e||e.biff==8,n=Ot(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function k6e(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function C6e(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=aS(t,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function A6e(t,e){var r=!e||e.biff>=8?2:1,n=Ot(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function E6e(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),i=[],o=0;o!=a&&t.l<r;++o)i.push(i6e(t));return i.Count=n,i.Unique=a,i}function P6e(t,e){var r=Ot(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=o6e(t[a]);var i=Wo([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function T6e(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function O6e(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function D6e(t){var e=m6e(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function R6e(t){return t.read_shift(2),t.read_shift(4)}function yH(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function I6e(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),u=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function F6e(){var t=Ot(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function M6e(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function L6e(t){var e=Ot(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function $6e(){}function B6e(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=aS(t,0,r),n}function U6e(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=Ot(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function z6e(t){var e=Kh(t);return e.isst=t.read_shift(4),e}function q6e(t,e,r,n){var a=Ot(10);return Cv(t,e,n,a),a.write_shift(4,r),a}function V6e(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=Kh(t);r.biff==2&&t.l++;var i=iS(t,n-t.l,r);return a.val=i,a}function W6e(t,e,r,n,a){var i=!a||a.biff==8,o=Ot(8+ +i+(1+i)*r.length);return Cv(t,e,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function H6e(t,e,r){var n=t.read_shift(2),a=Qv(t,0,r);return[n,a]}function G6e(t,e,r,n){var a=r&&r.biff==5;n||(n=Ot(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var Y6e=Qv;function bH(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,i=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(2),c=t.read_shift(2);return t.l=n,{s:{r:i,c:l},e:{r:o,c}}}function K6e(t,e){var r=e.biff==8||!e.biff?4:2,n=Ot(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function X6e(t){var e=t.read_shift(2),r=t.read_shift(2),n=gde(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function J6e(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(gde(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function Z6e(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function Q6e(t,e,r,n){var a={},i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(2);return a.patternType=DDe[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function eRe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=Q6e(t,e,n.fStyle,r),n}function wH(t,e,r,n){var a=r&&r.biff==5;n||(n=Ot(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function tRe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function rRe(t){var e=Ot(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function _H(t,e,r){var n=Kh(t);(r.biff==2||e==9)&&++t.l;var a=a6e(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function nRe(t,e,r,n,a,i){var o=Ot(8);return Cv(t,e,n,o),fde(r,i,o),o}function sRe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Kh(t),a=Ml(t);return n.val=a,n}function aRe(t,e,r,n){var a=Ot(14);return Cv(t,e,n,a),Sv(r,a),a}var jH=p6e;function iRe(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=kv(t,i),l=[];n>t.l;)l.push(iS(t));return[i,a,o,l]}function NH(t,e,r){var n=t.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=x6e(t,e-2,r)),i.body=a||t.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var oRe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function SH(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),c=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var u=kv(t,o,r);a&32&&(u=oRe[u.charCodeAt(0)]);var d=n-t.l;r&&r.biff==2&&--d;var f=n==t.l||l===0||!(d>0)?[]:_Me(t,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function bde(t,e,r){if(r.biff<8)return lRe(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(g6e(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function lRe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=aS(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function cRe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),i=kv(t,n,r),o=kv(t,a,r);return[i,o]}function uRe(t,e,r){var n=vde(t);t.l++;var a=t.read_shift(1);return e-=8,[jMe(t,e,r),a,n]}function kH(t,e,r){var n=v6e(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,bMe(t,e,r)]}function dRe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function fRe(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=Qv(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},l,o,i]}}function hRe(t,e,r){return fRe(t,e,r)}function mRe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(bE(t));return r}function pRe(t){var e=Ot(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)xde(t[r],e);return e}function gRe(t,e,r){if(r&&r.biff<8)return vRe(t,e,r);var n=yde(t),a=_6e(t,e-22,n[1]);return{cmo:n,ft:a}}var xRe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function vRe(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((xRe[n]||Wl)(t,e,r)),{cmo:[a,n,i],ft:o}}function yRe(t,e,r){var n=t.l,a="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:o=l6e(t,6,r);var l=t.read_shift(2);t.read_shift(2),Wi(t,2);var c=t.read_shift(2);t.l+=c;for(var u=1;u<t.lens.length-1;++u){if(t.l-n!=t.lens[u])throw new Error("TxO: bad continue record");var d=t[t.l],f=kv(t,t.lens[u+1]-t.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function bRe(t,e){var r=bE(t);t.l+=16;var n=f6e(t,e-24);return[r,n]}function wRe(t){var e=Ot(24),r=ei(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Wo([e,h6e(t[1])])}function _Re(t,e){t.read_shift(2);var r=bE(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Ul,""),[r,n]}function jRe(t){var e=t[1].Tooltip,r=Ot(10+2*(e.length+1));r.write_shift(2,2048);var n=ei(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function NRe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=uH[r]||r,r=t.read_shift(2),e[1]=uH[r]||r,e}function SRe(t){return t||(t=Ot(4)),t.write_shift(2,1),t.write_shift(2,1),t}function kRe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(pde(t));return r}function CRe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(pde(t));return r}function ARe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function wde(t,e,r){if(!r.cellStyles)return Wl(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function ERe(t,e){var r=Ot(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function PRe(t,e){var r={};return e<32||(t.l+=16,r.header=Ml(t),r.footer=Ml(t),t.l+=2),r}function TRe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}function ORe(t){for(var e=Ot(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var DRe=Kh,RRe=dde,IRe=iS;function FRe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function MRe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Kh(t);++t.l;var a=Qv(t,e-7,r);return n.t="str",n.val=a,n}function LRe(t){var e=Kh(t);++t.l;var r=Ml(t);return e.t="n",e.val=r,e}function $Re(t,e,r){var n=Ot(15);return uS(n,t,e),n.write_shift(8,r,"f"),n}function BRe(t){var e=Kh(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function URe(t,e,r){var n=Ot(9);return uS(n,t,e),n.write_shift(2,r),n}function zRe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function qRe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function VRe(t,e,r){var n=t.l+e,a=Kh(t),i=t.read_shift(2),o=kv(t,i,r);return t.l=n,a.t="str",a.val=o,a}var WRe=[2,3,48,49,131,139,140,245],d8=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=gE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=lg(1);switch(c.type){case"base64":d=Pu(Hu(l));break;case"binary":d=Pu(l);break;case"buffer":case"array":d=l;break}al(d,0);var f=d.read_shift(1),m=!!(f&136),h=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var b=d.read_shift(2),_=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(_=t[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var w=[],N={},S=Math.min(d.length,f==2?521:v-10-(h?264:0)),C=x?32:11;d.l<S&&d[d.l]!=13;)switch(N={},N.name=cs.utils.decode(_,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,N.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),f==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&w.push(N),f!=2&&(d.l+=x?13:14),N.type){case"B":(!h||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var A=0,R=0;for(u[0]=[],R=0;R!=w.length;++R)u[0][R]=w[R].name;for(;g-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++A]=[],R=0,R=0;R!=w.length;++R){var O=d.slice(d.l,d.l+w[R].len);d.l+=w[R].len,al(O,0);var D=cs.utils.decode(_,O);switch(w[R].type){case"C":D.trim().length&&(u[A][R]=D.replace(/\s+$/,""));break;case"D":D.length===8?u[A][R]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):u[A][R]=D;break;case"F":u[A][R]=parseFloat(D.trim());break;case"+":case"I":u[A][R]=x?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":u[A][R]=!0;break;case"N":case"F":u[A][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[A][R]="##MEMO##"+(x?parseInt(D.trim(),10):O.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(u[A][R]=+D||0);break;case"@":u[A][R]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[A][R]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[A][R]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][R]=-O.read_shift(-8,"f");break;case"B":if(h&&w[R].len==8){u[A][R]=O.read_shift(8,"f");break}case"G":case"P":O.l+=w[R].len;break;case"0":if(w[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[R].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=jw(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Sg(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Ed(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Kc(),f=sC(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),x=l["!cols"]||[],g=0,v=0,b=0,_=1;for(g=0;g<m.length;++g){if(((x[g]||{}).DBF||{}).name){m[g]=x[g].DBF.name,++b;continue}if(m[g]!=null){if(++b,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(v=0;v<1024;++v)if(m.indexOf(m[g]+"_"+v)==-1){m[g]+="_"+v;break}}}}var w=ns(l["!ref"]),N=[],S=[],C=[];for(g=0;g<=w.e.c-w.s.c;++g){var A="",R="",O=0,D=[];for(v=0;v<h.length;++v)h[v][g]!=null&&D.push(h[v][g]);if(D.length==0||m[g]==null){N[g]="?";continue}for(v=0;v<D.length;++v){switch(typeof D[v]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=D[v]instanceof Date?"D":"C";break;default:R="C"}O=Math.max(O,String(D[v]).length),A=A&&A!=R?"C":R}O>250&&(O=250),R=((x[g]||{}).DBF||{}).type,R=="C"&&x[g].DBF.len>O&&(O=x[g].DBF.len),A=="B"&&R=="N"&&(A="N",C[g]=x[g].DBF.dec,O=x[g].DBF.len),S[g]=A=="C"||R=="N"?O:i[A]||0,_+=S[g],N[g]=A}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,h.length),P.write_shift(2,296+32*b),P.write_shift(2,_),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[_v]||3)<<8),g=0,v=0;g<m.length;++g)if(m[g]!=null){var E=d.next(32),I=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,I,"sbcs"),E.write_shift(1,N[g]=="?"?"C":N[g],"sbcs"),E.write_shift(4,v),E.write_shift(1,S[g]||i[N[g]]||0),E.write_shift(1,C[g]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),v+=S[g]||i[N[g]]||0}var M=d.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<h.length;++g){var U=d.next(_);for(U.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(N[v]){case"L":U.write_shift(1,h[g][v]==null?63:h[g][v]?84:70);break;case"B":U.write_shift(8,h[g][v]||0,"f");break;case"N":var W="0";for(typeof h[g][v]=="number"&&(W=h[g][v].toFixed(C[v]||0)),b=0;b<S[v]-W.length;++b)U.write_shift(1,32);U.write_shift(1,W,"sbcs");break;case"D":h[g][v]?(U.write_shift(4,("0000"+h[g][v].getFullYear()).slice(-4),"sbcs"),U.write_shift(2,("00"+(h[g][v].getMonth()+1)).slice(-2),"sbcs"),U.write_shift(2,("00"+h[g][v].getDate()).slice(-2),"sbcs")):U.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(h[g][v]!=null?h[g][v]:"").slice(0,S[v]);for(U.write_shift(1,Y,"sbcs"),b=0;b<S[v]-Y.length;++b)U.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),_de=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+yi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var x=t[h];return typeof x=="number"?n8(x):x},n=function(m,h,x){var g=h.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return g==59?m:n8(g)};t["|"]=254;function a(m,h){switch(h.type){case"base64":return i(Hu(m),h);case"binary":return i(m,h);case"buffer":return i(Bn&&Buffer.isBuffer(m)?m.toString("binary"):Ng(m),h);case"array":return i(Nv(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var x=m.split(/[\n\r]+/),g=-1,v=-1,b=0,_=0,w=[],N=[],S=null,C={},A=[],R=[],O=[],D=0,P;for(+h.codepage>=0&&Ed(+h.codepage);b!==x.length;++b){D=0;var E=x[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),I=E.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),M=I[0],U;if(E.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&N.push(E.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,Y=!1,J=!1,z=!1,q=-1,V=-1;for(_=1;_<I.length;++_)switch(I[_].charAt(0)){case"A":break;case"X":v=parseInt(I[_].slice(1))-1,Y=!0;break;case"Y":for(g=parseInt(I[_].slice(1))-1,Y||(v=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":U=I[_].slice(1),U.charAt(0)==='"'?U=U.slice(1,U.length-1):U==="TRUE"?U=!0:U==="FALSE"?U=!1:isNaN(Df(U))?isNaN(Ab(U).getDate())||(U=ka(U)):(U=Df(U),S!==null&&Gv(S)&&(U=vE(U))),typeof cs<"u"&&typeof U=="string"&&(h||{}).type!="string"&&(h||{}).codepage&&(U=cs.utils.decode(h.codepage,U)),W=!0;break;case"E":z=!0;var L=tb(I[_].slice(1),{r:g,c:v});w[g][v]=[w[g][v],L];break;case"S":J=!0,w[g][v]=[w[g][v],"S5S"];break;case"G":break;case"R":q=parseInt(I[_].slice(1))-1;break;case"C":V=parseInt(I[_].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+E)}if(W&&(w[g][v]&&w[g][v].length==2?w[g][v][0]=U:w[g][v]=U,S=null),J){if(z)throw new Error("SYLK shared formula cannot have own formula");var X=q>-1&&w[q][V];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");w[g][v][1]=Bde(X[1],{r:g-q,c:v-V})}break;case"F":var K=0;for(_=1;_<I.length;++_)switch(I[_].charAt(0)){case"X":v=parseInt(I[_].slice(1))-1,++K;break;case"Y":for(g=parseInt(I[_].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":D=parseInt(I[_].slice(1))/20;break;case"F":break;case"G":break;case"P":S=N[parseInt(I[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=I[_].slice(1).split(" "),P=parseInt(O[0],10);P<=parseInt(O[1],10);++P)D=parseInt(O[2],10),R[P-1]=D===0?{hidden:!0}:{wch:D},cg(R[P-1]);break;case"C":v=parseInt(I[_].slice(1))-1,R[v]||(R[v]={});break;case"R":g=parseInt(I[_].slice(1))-1,A[g]||(A[g]={}),D>0?(A[g].hpt=D,A[g].hpx=Pb(D)):D===0&&(A[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+E)}K<1&&(S=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+E)}}return A.length>0&&(C["!rows"]=A),R.length>0&&(C["!cols"]=R),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,C]}function o(m,h){var x=a(m,h),g=x[0],v=x[1],b=jw(g,h);return yi(v).forEach(function(_){b[_]=v[_]}),b}function l(m,h){return Sg(o(m,h),h)}function c(m,h,x,g){var v="C;Y"+(x+1)+";X"+(g+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+U9(m.f,{r:x,c:g}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,h){h.forEach(function(x,g){var v="F;W"+(g+1)+" "+(g+1)+" ";x.hidden?v+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Oj(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Dj(x.wpx)),typeof x.wch=="number"&&(v+=Math.round(x.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,h){h.forEach(function(x,g){var v="F;";x.hidden?v+="M0;":x.hpt?v+="M"+20*x.hpt+";":x.hpx&&(v+="M"+20*Rj(x.hpx)+";"),v.length>2&&m.push(v+"R"+(g+1))})}function f(m,h){var x=["ID;PWXL;N;E"],g=[],v=ns(m["!ref"]),b,_=Array.isArray(m),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&u(x,m["!cols"]),m["!rows"]&&d(x,m["!rows"]),x.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var N=v.s.r;N<=v.e.r;++N)for(var S=v.s.c;S<=v.e.c;++S){var C=an({r:N,c:S});b=_?(m[N]||[])[S]:m[C],!(!b||b.v==null&&(!b.f||b.F))&&g.push(c(b,m,N,S))}return x.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}})(),jde=(function(){function t(i,o){switch(o.type){case"base64":return e(Hu(i),o);case"binary":return e(i,o);case"buffer":return e(Bn&&Buffer.isBuffer(i)?i.toString("binary"):Ng(i),o);case"array":return e(Nv(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),h=m[0],x=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+h){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Df(x))?isNaN(Ab(x).getDate())?f[c][u]=x:f[c][u]=ka(x):f[c][u]=Df(x),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return jw(t(i,o),o)}function n(i,o){return Sg(r(i,o),o)}var a=(function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=ns(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var h=d.s.r;h<=d.e.r;++h){o(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var g=an({r:h,c:x});if(f=m?(c[h]||[])[x]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Gu(f.z||Zr[14],So(ka(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,_=u.join(b);return _}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),Nde=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),x=-1,g=-1,v=0,b=[];v!==h.length;++v){var _=h[v].trim().split(":");if(_[0]==="cell"){var w=ei(_[1]);if(b.length<=w.r)for(x=b.length;x<=w.r;++x)b[x]||(b[x]=[]);switch(x=w.r,g=w.c,_[2]){case"t":b[x][g]=t(_[3]);break;case"v":b[x][g]=+_[3];break;case"vtf":var N=_[_.length-1];case"vtc":switch(_[3]){case"nl":b[x][g]=!!+_[4];break;default:b[x][g]=+_[4];break}_[2]=="vtf"&&(b[x][g]=[b[x][g],N])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function n(f,m){return jw(r(f,m),m)}function a(f,m){return Sg(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],x,g="",v=xc(f["!ref"]),b=Array.isArray(f),_=v.s.r;_<=v.e.r;++_)for(var w=v.s.c;w<=v.e.c;++w)if(g=an({r:_,c:w}),x=b?(f[_]||[])[w]:f[g],!(!x||x.v==null||x.t==="z")){switch(h=["cell",g,"t"],x.t){case"s":case"str":h.push(e(x.v));break;case"n":x.f?(h[2]="vtf",h[3]="n",h[4]=x.v,h[5]=e(x.f)):(h[2]="v",h[3]=x.v);break;case"b":h[2]="vt"+(x.f?"f":"c"),h[3]="nl",h[4]=x.v?"1":"0",h[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var N=So(ka(x.v));h[2]="vtc",h[3]="nd",h[4]=""+N,h[5]=x.w||Gu(x.z||Zr[14],N);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),Eb=(function(){function t(d,f,m,h,x){x.raw?f[m][h]=d:d===""||(d==="TRUE"?f[m][h]=!0:d==="FALSE"?f[m][h]=!1:isNaN(Df(d))?isNaN(Ab(d).getDate())?f[m][h]=d:f[m][h]=ka(d):f[m][h]=Df(d))}function e(d,f){var m=f||{},h=[];if(!d||d.length===0)return h;for(var x=d.split(/[\r\n]/),g=x.length-1;g>=0&&x[g].length===0;)--g;for(var v=10,b=0,_=0;_<=g;++_)b=x[_].indexOf(" "),b==-1?b=x[_].length:b++,v=Math.max(v,b);for(_=0;_<=g;++_){h[_]=[];var w=0;for(t(x[_].slice(0,v).trim(),h,_,w,m),w=1;w<=(x[_].length-v)/10+1;++w)t(x[_].slice(v+(w-1)*10,v+w*10).trim(),h,_,w,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,h=0,x=0;h<d.length;++h)(x=d.charCodeAt(h))==34?m=!m:!m&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h]);if(!x.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h])}return x.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[x.pop()[1]]||44}function i(d,f){var m=f||{},h="",x=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(h=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(h=d.charAt(4),d=d.slice(6)):h=a(d.slice(0,1024)):m&&m.FS?h=m.FS:h=a(d.slice(0,1024));var v=0,b=0,_=0,w=0,N=0,S=h.charCodeAt(0),C=!1,A=0,R=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=m.dateNF!=null?POe(m.dateNF):null;function D(){var P=d.slice(w,N),E={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)E.t="z";else if(m.raw)E.t="s",E.v=P;else if(P.trim().length===0)E.t="s",E.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(E.t="s",E.v=P.slice(2,-1).replace(/""/g,'"')):i8e(P)?(E.t="n",E.f=P.slice(1)):(E.t="s",E.v=P);else if(P=="TRUE")E.t="b",E.v=!0;else if(P=="FALSE")E.t="b",E.v=!1;else if(!isNaN(_=Df(P)))E.t="n",m.cellText!==!1&&(E.w=P),E.v=_;else if(!isNaN(Ab(P).getDate())||O&&P.match(O)){E.z=m.dateNF||Zr[14];var I=0;O&&P.match(O)&&(P=TOe(P,m.dateNF,P.match(O)||[]),I=1),m.cellDates?(E.t="d",E.v=ka(P,I)):(E.t="n",E.v=So(ka(P,I))),m.cellText!==!1&&(E.w=Gu(E.z,E.v instanceof Date?So(E.v):E.v)),m.cellNF||delete E.z}else E.t="s",E.v=P;if(E.t=="z"||(m.dense?(x[v]||(x[v]=[]),x[v][b]=E):x[an({c:b,r:v})]=E),w=N+1,R=d.charCodeAt(w),g.e.c<b&&(g.e.c=b),g.e.r<v&&(g.e.r=v),A==S)++b;else if(b=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;N<d.length;++N)switch(A=d.charCodeAt(N)){case 34:R===34&&(C=!C);break;case S:case 10:case 13:if(!C&&D())break e;break}return N-w>0&&D(),x["!ref"]=Dn(g),x}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):jw(e(d,f),f)}function l(d,f){var m="",h=f.type=="string"?[0,0,0,0]:X9(d,f);switch(f.type){case"base64":m=Hu(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof cs<"u"?m=cs.utils.decode(f.codepage,d):m=Bn&&Buffer.isBuffer(d)?d.toString("binary"):Ng(d);break;case"array":m=Nv(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=Js(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Js(m):f.type=="binary"&&typeof cs<"u"&&f.codepage&&(m=cs.utils.decode(f.codepage,cs.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?Nde.to_sheet(f.type=="string"?m:Js(m),f):o(m,f)}function c(d,f){return Sg(l(d,f),f)}function u(d){for(var f=[],m=ns(d["!ref"]),h,x=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var v=[],b=m.s.c;b<=m.e.c;++b){var _=an({r:g,c:b});if(h=x?(d[g]||[])[b]:d[_],!h||h.v==null){v.push("          ");continue}for(var w=(h.w||(qh(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(b===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function HRe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=_de.to_workbook(t,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Eb.to_workbook(t,e)}}var ev=(function(){function t(L,X,K){if(L){al(L,L.l||0);for(var Q=K.Enum||q;L.l<L.length;){var oe=L.read_shift(2),ce=Q[oe]||Q[65535],de=L.read_shift(2),ne=L.l+de,ue=ce.f&&ce.f(L,de,K);if(L.l=ne,X(ue,ce,oe))return}}}function e(L,X){switch(X.type){case"base64":return r(Pu(Hu(L)),X);case"binary":return r(Pu(L),X);case"buffer":case"array":return r(L,X)}throw"Unsupported type "+X.type}function r(L,X){if(!L)return L;var K=X||{},Q=K.dense?[]:{},oe="Sheet1",ce="",de=0,ne={},ue=[],se=[],Z={s:{r:0,c:0},e:{r:0,c:0}},Oe=K.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)K.Enum=q,t(L,function(xe,Le,ke){switch(ke){case 0:K.vers=xe,xe>=4096&&(K.qpro=!0);break;case 6:Z=xe;break;case 204:xe&&(ce=xe);break;case 222:ce=xe;break;case 15:case 51:K.qpro||(xe[1].v=xe[1].v.slice(1));case 13:case 14:case 16:ke==14&&(xe[2]&112)==112&&(xe[2]&15)>1&&(xe[2]&15)<15&&(xe[1].z=K.dateNF||Zr[14],K.cellDates&&(xe[1].t="d",xe[1].v=vE(xe[1].v))),K.qpro&&xe[3]>de&&(Q["!ref"]=Dn(Z),ne[oe]=Q,ue.push(oe),Q=K.dense?[]:{},Z={s:{r:0,c:0},e:{r:0,c:0}},de=xe[3],oe=ce||"Sheet"+(de+1),ce="");var fe=K.dense?(Q[xe[0].r]||[])[xe[0].c]:Q[an(xe[0])];if(fe){fe.t=xe[1].t,fe.v=xe[1].v,xe[1].z!=null&&(fe.z=xe[1].z),xe[1].f!=null&&(fe.f=xe[1].f);break}K.dense?(Q[xe[0].r]||(Q[xe[0].r]=[]),Q[xe[0].r][xe[0].c]=xe[1]):Q[an(xe[0])]=xe[1];break}},K);else if(L[2]==26||L[2]==14)K.Enum=V,L[2]==14&&(K.qpro=!0,L.l=0),t(L,function(xe,Le,ke){switch(ke){case 204:oe=xe;break;case 22:xe[1].v=xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xe[3]>de&&(Q["!ref"]=Dn(Z),ne[oe]=Q,ue.push(oe),Q=K.dense?[]:{},Z={s:{r:0,c:0},e:{r:0,c:0}},de=xe[3],oe="Sheet"+(de+1)),Oe>0&&xe[0].r>=Oe)break;K.dense?(Q[xe[0].r]||(Q[xe[0].r]=[]),Q[xe[0].r][xe[0].c]=xe[1]):Q[an(xe[0])]=xe[1],Z.e.c<xe[0].c&&(Z.e.c=xe[0].c),Z.e.r<xe[0].r&&(Z.e.r=xe[0].r);break;case 27:xe[14e3]&&(se[xe[14e3][0]]=xe[14e3][1]);break;case 1537:se[xe[0]]=xe[1],xe[0]==de&&(oe=xe[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(Q["!ref"]=Dn(Z),ne[ce||oe]=Q,ue.push(ce||oe),!se.length)return{SheetNames:ue,Sheets:ne};for(var re={},le=[],We=0;We<se.length;++We)ne[ue[We]]?(le.push(se[We]||ue[We]),re[se[We]]=ne[se[We]]||ne[ue[We]]):(le.push(se[We]),re[se[We]]={"!ref":"A1"});return{SheetNames:le,Sheets:re}}function n(L,X){var K=X||{};if(+K.codepage>=0&&Ed(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Kc(),oe=ns(L["!ref"]),ce=Array.isArray(L),de=[];ur(Q,0,i(1030)),ur(Q,6,c(oe));for(var ne=Math.min(oe.e.r,8191),ue=oe.s.r;ue<=ne;++ue)for(var se=gi(ue),Z=oe.s.c;Z<=oe.e.c;++Z){ue===oe.s.r&&(de[Z]=Sa(Z));var Oe=de[Z]+se,re=ce?(L[ue]||[])[Z]:L[Oe];if(!(!re||re.t=="z"))if(re.t=="n")(re.v|0)==re.v&&re.v>=-32768&&re.v<=32767?ur(Q,13,h(ue,Z,re.v)):ur(Q,14,g(ue,Z,re.v));else{var le=qh(re);ur(Q,15,f(ue,Z,le.slice(0,239)))}}return ur(Q,1),Q.end()}function a(L,X){var K=X||{};if(+K.codepage>=0&&Ed(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Kc();ur(Q,0,o(L));for(var oe=0,ce=0;oe<L.SheetNames.length;++oe)(L.Sheets[L.SheetNames[oe]]||{})["!ref"]&&ur(Q,27,z(L.SheetNames[oe],ce++));var de=0;for(oe=0;oe<L.SheetNames.length;++oe){var ne=L.Sheets[L.SheetNames[oe]];if(!(!ne||!ne["!ref"])){for(var ue=ns(ne["!ref"]),se=Array.isArray(ne),Z=[],Oe=Math.min(ue.e.r,8191),re=ue.s.r;re<=Oe;++re)for(var le=gi(re),We=ue.s.c;We<=ue.e.c;++We){re===ue.s.r&&(Z[We]=Sa(We));var xe=Z[We]+le,Le=se?(ne[re]||[])[We]:ne[xe];if(!(!Le||Le.t=="z"))if(Le.t=="n")ur(Q,23,D(re,We,de,Le.v));else{var ke=qh(Le);ur(Q,22,A(re,We,de,ke.slice(0,239)))}}++de}}return ur(Q,1),Q.end()}function i(L){var X=Ot(2);return X.write_shift(2,L),X}function o(L){var X=Ot(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var K=0,Q=0,oe=0,ce=0;ce<L.SheetNames.length;++ce){var de=L.SheetNames[ce],ne=L.Sheets[de];if(!(!ne||!ne["!ref"])){++oe;var ue=xc(ne["!ref"]);K<ue.e.r&&(K=ue.e.r),Q<ue.e.c&&(Q=ue.e.c)}}return K>8191&&(K=8191),X.write_shift(2,K),X.write_shift(1,oe),X.write_shift(1,Q),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function l(L,X,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&K.qpro?(Q.s.c=L.read_shift(1),L.l++,Q.s.r=L.read_shift(2),Q.e.c=L.read_shift(1),L.l++,Q.e.r=L.read_shift(2),Q):(Q.s.c=L.read_shift(2),Q.s.r=L.read_shift(2),X==12&&K.qpro&&(L.l+=2),Q.e.c=L.read_shift(2),Q.e.r=L.read_shift(2),X==12&&K.qpro&&(L.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(L){var X=Ot(8);return X.write_shift(2,L.s.c),X.write_shift(2,L.s.r),X.write_shift(2,L.e.c),X.write_shift(2,L.e.r),X}function u(L,X,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=L.read_shift(1),Q[3]=L.read_shift(1),Q[0].r=L.read_shift(2),L.l+=2):(Q[2]=L.read_shift(1),Q[0].c=L.read_shift(2),Q[0].r=L.read_shift(2)),Q}function d(L,X,K){var Q=L.l+X,oe=u(L,X,K);if(oe[1].t="s",K.vers==20768){L.l++;var ce=L.read_shift(1);return oe[1].v=L.read_shift(ce,"utf8"),oe}return K.qpro&&L.l++,oe[1].v=L.read_shift(Q-L.l,"cstr"),oe}function f(L,X,K){var Q=Ot(7+K.length);Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,L),Q.write_shift(1,39);for(var oe=0;oe<Q.length;++oe){var ce=K.charCodeAt(oe);Q.write_shift(1,ce>=128?95:ce)}return Q.write_shift(1,0),Q}function m(L,X,K){var Q=u(L,X,K);return Q[1].v=L.read_shift(2,"i"),Q}function h(L,X,K){var Q=Ot(7);return Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,L),Q.write_shift(2,K,"i"),Q}function x(L,X,K){var Q=u(L,X,K);return Q[1].v=L.read_shift(8,"f"),Q}function g(L,X,K){var Q=Ot(13);return Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,L),Q.write_shift(8,K,"f"),Q}function v(L,X,K){var Q=L.l+X,oe=u(L,X,K);if(oe[1].v=L.read_shift(8,"f"),K.qpro)L.l=Q;else{var ce=L.read_shift(2);N(L.slice(L.l,L.l+ce),oe),L.l+=ce}return oe}function b(L,X,K){var Q=X&32768;return X&=-32769,X=(Q?L:0)+(X>=8192?X-16384:X),(Q?"":"$")+(K?Sa(X):gi(X))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(L,X){al(L,0);for(var K=[],Q=0,oe="",ce="",de="",ne="";L.l<L.length;){var ue=L[L.l++];switch(ue){case 0:K.push(L.read_shift(8,"f"));break;case 1:ce=b(X[0].c,L.read_shift(2),!0),oe=b(X[0].r,L.read_shift(2),!1),K.push(ce+oe);break;case 2:{var se=b(X[0].c,L.read_shift(2),!0),Z=b(X[0].r,L.read_shift(2),!1);ce=b(X[0].c,L.read_shift(2),!0),oe=b(X[0].r,L.read_shift(2),!1),K.push(se+Z+":"+ce+oe)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(L.read_shift(2));break;case 6:{for(var Oe="";ue=L[L.l++];)Oe+=String.fromCharCode(ue);K.push('"'+Oe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ne=K.pop(),de=K.pop(),K.push(["AND","OR"][ue-20]+"("+de+","+ne+")");break;default:if(ue<32&&w[ue])ne=K.pop(),de=K.pop(),K.push(de+w[ue]+ne);else if(_[ue]){if(Q=_[ue][1],Q==69&&(Q=L[L.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+K.join("|")+"|");return}var re=K.slice(-Q);K.length-=Q,K.push(_[ue][0]+"("+re.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}K.length==1?X[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function S(L){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=L.read_shift(2),X[3]=L[L.l++],X[0].c=L[L.l++],X}function C(L,X){var K=S(L);return K[1].t="s",K[1].v=L.read_shift(X-4,"cstr"),K}function A(L,X,K,Q){var oe=Ot(6+Q.length);oe.write_shift(2,L),oe.write_shift(1,K),oe.write_shift(1,X),oe.write_shift(1,39);for(var ce=0;ce<Q.length;++ce){var de=Q.charCodeAt(ce);oe.write_shift(1,de>=128?95:de)}return oe.write_shift(1,0),oe}function R(L,X){var K=S(L);K[1].v=L.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function O(L,X){var K=S(L),Q=L.read_shift(4),oe=L.read_shift(4),ce=L.read_shift(2);if(ce==65535)return Q===0&&oe===3221225472?(K[1].t="e",K[1].v=15):Q===0&&oe===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var de=ce&32768;return ce=(ce&32767)-16446,K[1].v=(1-de*2)*(oe*Math.pow(2,ce+32)+Q*Math.pow(2,ce)),K}function D(L,X,K,Q){var oe=Ot(14);if(oe.write_shift(2,L),oe.write_shift(1,K),oe.write_shift(1,X),Q==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var ce=0,de=0,ne=0,ue=0;return Q<0&&(ce=1,Q=-Q),de=Math.log2(Q)|0,Q/=Math.pow(2,de-31),ue=Q>>>0,(ue&2147483648)==0&&(Q/=2,++de,ue=Q>>>0),Q-=ue,ue|=2147483648,ue>>>=0,Q*=Math.pow(2,32),ne=Q>>>0,oe.write_shift(4,ne),oe.write_shift(4,ue),de+=16383+(ce?32768:0),oe.write_shift(2,de),oe}function P(L,X){var K=O(L);return L.l+=X-14,K}function E(L,X){var K=S(L),Q=L.read_shift(4);return K[1].v=Q>>6,K}function I(L,X){var K=S(L),Q=L.read_shift(8,"f");return K[1].v=Q,K}function M(L,X){var K=I(L);return L.l+=X-10,K}function U(L,X){return L[L.l+X-1]==0?L.read_shift(X,"cstr"):""}function W(L,X){var K=L[L.l++];K>X-1&&(K=X-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(L[L.l++]);return Q}function Y(L,X,K){if(!(!K.qpro||X<21)){var Q=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var oe=L.read_shift(X-21,"cstr");return[Q,oe]}}function J(L,X){for(var K={},Q=L.l+X;L.l<Q;){var oe=L.read_shift(2);if(oe==14e3){for(K[oe]=[0,""],K[oe][0]=L.read_shift(2);L[L.l];)K[oe][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return K}function z(L,X){var K=Ot(5+L.length);K.write_shift(2,14e3),K.write_shift(2,X);for(var Q=0;Q<L.length;++Q){var oe=L.charCodeAt(Q);K[K.l++]=oe>127?95:oe}return K[K.l++]=0,K}var q={0:{n:"BOF",f:Wi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:U},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},V={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:U},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})();function GRe(t){var e={},r=t.match(Hl),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=fn(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=u9[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var YRe=(function(){var t=Cj("t"),e=Cj("rPr");function r(i){var o=i.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:xs(o[1])},c=i.match(e);return c&&(l.s=GRe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),KRe=(function(){var e=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),XRe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,JRe=/<(?:\w+:)?r>/,ZRe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function F9(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=xs(Js(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Js(t),r&&(n.h=v9(n.t))):t.match(JRe)&&(n.r=Js(t),n.t=xs(Js((t.replace(ZRe,"").match(XRe)||[]).join("").replace(Hl,""))),r&&(n.h=KRe(YRe(n.r)))),n):{t:""}}var QRe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,eIe=/<(?:\w+:)?(?:si|sstItem)>/g,tIe=/<\/(?:\w+:)?(?:si|sstItem)>/;function rIe(t,e){var r=[],n="";if(!t)return r;var a=t.match(QRe);if(a){n=a[2].replace(eIe,"").split(tIe);for(var i=0;i!=n.length;++i){var o=F9(n[i].trim(),e);o!=null&&(r[r.length]=o)}a=fn(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var nIe=/^\s|\s$|[\t\n\r]/;function Sde(t,e){if(!e.bookSST)return"";var r=[Mi];r[r.length]=lr("sst",null,{xmlns:Yv[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(nIe)&&(i+=' xml:space="preserve"'),i+=">"+qs(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function sIe(t){return[t.read_shift(4),t.read_shift(4)]}function aIe(t,e){var r=[],n=!1;return Np(t,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function iIe(t,e){return e||(e=Ot(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var oIe=xDe;function lIe(t){var e=Kc();Ht(e,159,iIe(t));for(var r=0;r<t.length;++r)Ht(e,19,oIe(t[r]));return Ht(e,160),e.end()}function kde(t){if(typeof cs<"u")return cs.utils.encode(_v,t);for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function ep(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function cIe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=ep(t,4),e.U=ep(t,4),e.W=ep(t,4),e}function uIe(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),i=[];a-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function dIe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(uIe(t));return e}function fIe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function hIe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=ep(t,4),e.U=ep(t,4),e.W=ep(t,4),e}function mIe(t){var e=hIe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Cde(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function Ade(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function pIe(t){var e=ep(t);switch(e.Minor){case 2:return[e.Minor,gIe(t)];case 3:return[e.Minor,xIe()];case 4:return[e.Minor,vIe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function gIe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=Cde(t,r),a=Ade(t,t.length-t.l);return{t:"Std",h:n,v:a}}function xIe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function vIe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Hl,function(i){var o=fn(i);switch(Yh(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function yIe(t,e){var r={},n=r.EncryptionVersionInfo=ep(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=Cde(t,a),e-=a,r.EncryptionVerifier=Ade(t,e),r}function bIe(t){var e={},r=e.EncryptionVersionInfo=ep(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function M9(t){var e=0,r,n=kde(t),a=n.length+1,i,o,l,c,u;for(r=lg(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(e&16384)===0?0:1,c=e<<1&32767,u=l|c,e=u^o;return e^52811}var Ede=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=e[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=kde(o),c=i(l),u=l.length,d=lg(16),f=0;f!=16;++f)d[f]=0;var m,h,x;for((u&1)===1&&(m=c>>8,d[u]=a(t[0],m),--u,m=c&255,h=l[l.length-1],d[u]=a(h,m));u>0;)--u,m=c>>8,d[u]=a(l[u],m),--u,m=c&255,d[u]=a(l[u],m);for(u=15,x=15-l.length;x>0;)m=c>>8,d[u]=a(t[x],m),--u,--x,m=c&255,d[u]=a(l[u],m),--u,--x;return d}})(),wIe=function(t,e,r,n,a){a||(a=e),n||(n=Ede(t));var i,o;for(i=0;i!=e.length;++i)o=e[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},_Ie=function(t){var e=0,r=Ede(t);return function(n){var a=wIe("",n,e,r);return e=a[1],a[0]}};function jIe(t,e,r,n){var a={key:Wi(t),verificationBytes:Wi(t)};return r.password&&(a.verifier=M9(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=_Ie(r.password)),a}function NIe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=bIe(t):n.Data=yIe(t,e),n}function SIe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?NIe(t,e-2,n):jIe(t,r.biff>=8?e:e-2,r,n),n}var Pde=(function(){function t(a,i){switch(i.type){case"base64":return e(Hu(a),i);case"binary":return e(a,i);case"buffer":return e(Bn&&Buffer.isBuffer(a)?a.toString("binary"):Ng(a),i);case"array":return e(Nv(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,x,g=-1;x=m.exec(d);){switch(x[0]){case"\\cell":var v=d.slice(h,m.lastIndex-x[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var b={v,t:"s"};Array.isArray(l)?l[f][g]=b:l[an({r:f,c:g})]=b}break}h=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Dn(u),l}function r(a,i){return Sg(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=ns(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=an({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(qh(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function kIe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Tj(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function CIe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),i=Math.min(e,r,n),o=a-i;if(o===0)return[0,0,e];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case e:l=((r-n)/o+6)%6;break;case r:l=(n-e)/o+2;break;case n:l=(e-r)/o+4;break}return[l/6,c,u/2]}function AIe(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*e,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function tC(t,e){if(e===0)return t;var r=CIe(kIe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Tj(AIe(r))}var Tde=6,EIe=15,PIe=1,Dl=Tde;function Oj(t){return Math.floor((t+Math.round(128/Dl)/256)*Dl)}function Dj(t){return Math.floor((t-5)/Dl*100+.5)/100}function rC(t){return Math.round((t*Dl+5)/Dl*256)/256}function b3(t){return rC(Dj(Oj(t)))}function L9(t){var e=Math.abs(t-b3(t)),r=Dl;if(e>.005)for(Dl=PIe;Dl<EIe;++Dl)Math.abs(t-b3(t))<=e&&(e=Math.abs(t-b3(t)),r=Dl);Dl=r}function cg(t){t.width?(t.wpx=Oj(t.width),t.wch=Dj(t.wpx),t.MDW=Dl):t.wpx?(t.wch=Dj(t.wpx),t.width=rC(t.wch),t.MDW=Dl):typeof t.wch=="number"&&(t.width=rC(t.wch),t.wpx=Oj(t.width),t.MDW=Dl),t.customWidth&&delete t.customWidth}var TIe=96,Ode=TIe;function Rj(t){return t*96/Ode}function Pb(t){return t*Ode/96}var OIe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function DIe(t,e,r,n){e.Borders=[];var a={},i=!1;(t[0].match(Hl)||[]).forEach(function(o){var l=fn(o);switch(Yh(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=_a(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=_a(l.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function RIe(t,e,r,n){e.Fills=[];var a={},i=!1;(t[0].match(Hl)||[]).forEach(function(o){var l=fn(o);switch(Yh(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function IIe(t,e,r,n){e.Fonts=[];var a={},i=!1;(t[0].match(Hl)||[]).forEach(function(o){var l=fn(o);switch(Yh(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Js(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?_a(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?_a(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?_a(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?_a(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?_a(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?_a(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?_a(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=u9[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=_a(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Zx[a.color.index];a.color.index==81&&(c=Zx[1]),c||(c=Zx[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=tC(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function FIe(t,e,r){e.NumberFmt=[];for(var n=yi(Zr),a=0;a<n.length;++a)e.NumberFmt[n[a]]=Zr[n[a]];var i=t[0].match(Hl);if(i)for(a=0;a<i.length;++a){var o=fn(i[a]);switch(Yh(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=xs(Js(o.formatCode)),c=parseInt(o.numFmtId,10);if(e.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=l}Rh(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function MIe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=lr("numFmt",null,{numFmtId:n,formatCode:qs(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=lr("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Vk=["numFmtId","fillId","fontId","borderId","xfId"],Wk=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function LIe(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(Hl)||[]).forEach(function(i){var o=fn(i),l=0;switch(Yh(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Vk.length;++l)n[Vk[l]]&&(n[Vk[l]]=parseInt(n[Vk[l]],10));for(l=0;l<Wk.length;++l)n[Wk[l]]&&(n[Wk[l]]=_a(n[Wk[l]]));if(e.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[l]){n.numFmtId=l;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=_a(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function $Ie(t){var e=[];return e[e.length]=lr("cellXfs",null),t.forEach(function(r){e[e.length]=lr("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=lr("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var BIe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(e))&&FIe(f,d,u),(f=l.match(a))&&IIe(f,d,c,u),(f=l.match(n))&&RIe(f,d,c,u),(f=l.match(i))&&DIe(f,d,c,u),(f=l.match(r))&&LIe(f,d,u),d}})();function Dde(t,e){var r=[Mi,lr("styleSheet",null,{xmlns:Yv[0],"xmlns:vt":bo.vt})],n;return t.SSF&&(n=MIe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=$Ie(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function UIe(t,e){var r=t.read_shift(2),n=zl(t);return[r,n]}function zIe(t,e,r){r||(r=Ot(6+4*e.length)),r.write_shift(2,t),Go(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function qIe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=NDe(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var l=t.read_shift(1);l>0&&(n.family=l);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=jDe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=zl(t),n}function VIe(t,e){e||(e=Ot(153)),e.write_shift(2,t.sz*20),SDe(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Z4(t.color,e);var n=0;return n=2,e.write_shift(1,n),Go(t.name,e),e.length>e.l?e.slice(0,e.l):e}var WIe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],w3,HIe=Wl;function CH(t,e){e||(e=Ot(84)),w3||(w3=gE(WIe));var r=w3[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Z4({auto:1},e),Z4({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function GIe(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function Rde(t,e,r){r||(r=Ot(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function b_(t,e){return e||(e=Ot(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var YIe=Wl;function KIe(t,e){return e||(e=Ot(51)),e.write_shift(1,0),b_(null,e),b_(null,e),b_(null,e),b_(null,e),b_(null,e),e.length>e.l?e.slice(0,e.l):e}function XIe(t,e){return e||(e=Ot(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),J4(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function JIe(t,e,r){var n=Ot(2052);return n.write_shift(4,t),J4(e,n),J4(r,n),n.length>n.l?n.slice(0,n.l):n}function ZIe(t,e,r){var n={};n.NumberFmt=[];for(var a in Zr)n.NumberFmt[a]=Zr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Np(t,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Rh(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=tC(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function QIe(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(Ht(t,615,Rf(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Ht(t,44,zIe(a,e[a]))}),Ht(t,616))}}function eFe(t){var e=1;Ht(t,611,Rf(e)),Ht(t,43,VIe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ht(t,612)}function tFe(t){var e=2;Ht(t,603,Rf(e)),Ht(t,45,CH({patternType:"none"})),Ht(t,45,CH({patternType:"gray125"})),Ht(t,604)}function rFe(t){var e=1;Ht(t,613,Rf(e)),Ht(t,46,KIe()),Ht(t,614)}function nFe(t){var e=1;Ht(t,626,Rf(e)),Ht(t,47,Rde({numFmtId:0},65535)),Ht(t,627)}function sFe(t,e){Ht(t,617,Rf(e.length)),e.forEach(function(r){Ht(t,47,Rde(r,0))}),Ht(t,618)}function aFe(t){var e=1;Ht(t,619,Rf(e)),Ht(t,48,XIe({xfId:0,name:"Normal"})),Ht(t,620)}function iFe(t){var e=0;Ht(t,505,Rf(e)),Ht(t,506)}function oFe(t){var e=0;Ht(t,508,JIe(e,"TableStyleMedium9","PivotStyleMedium4")),Ht(t,509)}function lFe(t,e){var r=Kc();return Ht(r,278),QIe(r,t.SSF),eFe(r),tFe(r),rFe(r),nFe(r),sFe(r,e.cellXfs),aFe(r),iFe(r),oFe(r),Ht(r,279),r.end()}var cFe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function uFe(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Hl)||[]).forEach(function(a){var i=fn(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[cFe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function dFe(){}function fFe(){}var hFe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,mFe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,pFe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function gFe(t,e,r){e.themeElements={};var n;[["clrScheme",hFe,uFe],["fontScheme",mFe,dFe],["fmtScheme",pFe,fFe]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var xFe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Ide(t,e){(!t||t.length===0)&&(t=$9());var r,n={};if(!(r=t.match(xFe)))throw new Error("themeElements not found in theme");return gFe(r[0],n,e),n.raw=t,n}function $9(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Mi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function vFe(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var i=t.slice(t.l);t.l=n;var o;try{o=Tue(i,{type:"array"})}catch{return}var l=Tu(o,"theme/theme/theme1.xml",!0);if(l)return Ide(l,r)}}function yFe(t){return t.read_shift(4)}function bFe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=wFe(t,4);break;case 2:e.xclrValue=mde(t);break;case 3:e.xclrValue=yFe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function wFe(t,e){return Wl(t,e)}function _Fe(t,e){return Wl(t,e)}function jFe(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=bFe(t);break;case 6:n[1]=_Fe(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function NFe(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),i=[];a-- >0;)i.push(jFe(t,r-t.l));return{ixfe:n,ext:i}}function SFe(t,e){e.forEach(function(r){r[0]})}function kFe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:zl(t)}}function CFe(t){var e=Ot(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Go(t.name,e),e.slice(0,e.l)}function AFe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function EFe(t){var e=Ot(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function PFe(t,e){var r=Ot(8+2*e.length);return r.write_shift(4,t),Go(e,r),r.slice(0,r.l)}function TFe(t){return t.l+=4,t.read_shift(4)!=0}function OFe(t,e){var r=Ot(8);return r.write_shift(4,t),r.write_shift(4,1),r}function DFe(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return Np(t,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function RFe(){var t=Kc();return Ht(t,332),Ht(t,334,Rf(1)),Ht(t,335,CFe({name:"XLDAPR",version:12e4,flags:3496657072})),Ht(t,336),Ht(t,339,PFe(1,"XLDAPR")),Ht(t,52),Ht(t,35,Rf(514)),Ht(t,4096,Rf(0)),Ht(t,4097,_d(1)),Ht(t,36),Ht(t,53),Ht(t,340),Ht(t,337,OFe(1)),Ht(t,51,EFe([[1,0]])),Ht(t,338),Ht(t,333),t.end()}function IFe(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,i=2,o;return t.replace(Hl,function(l){var c=fn(l);switch(Yh(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function Fde(){var t=[Mi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function FFe(t){var e=[];if(!t)return e;var r=1;return(t.match(Hl)||[]).forEach(function(n){var a=fn(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function MFe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=an(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function LFe(t,e,r){var n=[];return Np(t,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function $Fe(t,e,r,n){if(!t)return t;var a=n||{},i=!1;Np(t,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function BFe(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var C1=1024;function Mde(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[lr("xml",null,{"xmlns:v":Nu.v,"xmlns:o":Nu.o,"xmlns:x":Nu.x,"xmlns:mv":Nu.mv}).replace(/\/>/,">"),lr("o:shapelayout",lr("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),lr("v:shapetype",[lr("v:stroke",null,{joinstyle:"miter"}),lr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];C1<t*1e3;)C1+=1e3;return e.forEach(function(i){var o=ei(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?lr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=lr("v:fill",c,l),d={on:"t",obscured:"t"};++C1,a=a.concat(["<v:shape"+Aj({id:"_x0000_s"+C1,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,lr("v:shadow",null,d),lr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ol("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ol("x:AutoFill","False"),ol("x:Row",String(o.r)),ol("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function AH(t,e,r,n){var a=Array.isArray(t),i;e.forEach(function(o){var l=ei(o.ref);if(a?(t[l.r]||(t[l.r]=[]),i=t[l.r][l.c]):i=t[o.ref],!i){i={t:"z"},a?t[l.r][l.c]=i:t[o.ref]=i;var c=ns(t["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Dn(c);u!==t["!ref"]&&(t["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function UFe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=fn(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ei(c.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&F9(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function Lde(t){var e=[Mi,lr("comments",null,{xmlns:Yv[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=qs(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(qs(c.a))),i.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(ol("t",qs(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;e.push(ol("t",qs(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function zFe(t,e){var r=[],n=!1,a={},i=0;return t.replace(Hl,function(l,c){var u=fn(l);switch(Yh(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=t.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function qFe(t,e,r){var n=[Mi,lr("ThreadedComments",null,{xmlns:bo.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(lr("threadedComment",ol("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function VFe(t,e){var r=[],n=!1;return t.replace(Hl,function(i){var o=fn(i);switch(Yh(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function WFe(t){var e=[Mi,lr("personList",null,{xmlns:bo.TCMNT,"xmlns:x":Yv[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(lr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function HFe(t){var e={};e.iauthor=t.read_shift(4);var r=Zv(t);return e.rfx=r.s,e.ref=an(r.s),t.l+=16,e}function GFe(t,e){return e==null&&(e=Ot(36)),e.write_shift(4,t[1].iauthor),Nw(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var YFe=zl;function KFe(t){return Go(t.slice(0,54))}function XFe(t,e){var r=[],n=[],a={},i=!1;return Np(t,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function JFe(t){var e=Kc(),r=[];return Ht(e,628),Ht(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ht(e,632,KFe(a.a)))})}),Ht(e,631),Ht(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ei(n[0]),e:ei(n[0])};Ht(e,635,GFe([i,a])),a.t&&a.t.length>0&&Ht(e,637,yDe(a)),Ht(e,636),delete a.iauthor})}),Ht(e,634),Ht(e,629),e.end()}var ZFe="application/vnd.ms-office.vbaProject";function QFe(t){var e=Gr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gr.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Gr.write(e)}function e8e(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Gr.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var $de=["xlsb","xlsm","xlam","biff8","xla"];function t8e(){return{"!type":"dialog"}}function r8e(){return{"!type":"dialog"}}function n8e(){return{"!type":"macro"}}function s8e(){return{"!type":"macro"}}var tb=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=e.c:--d,c?u+=e.r:--u,a+(l?"":"$")+Sa(d)+(c?"":"$")+gi(u)}return function(a,i){return e=i,a.replace(t,r)}})(),B9=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,U9=(function(){return function(e,r){return e.replace(B9,function(n,a,i,o,l,c){var u=C9(o)-(i?0:r.c),d=k9(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}})();function Bde(t,e){return t.replace(B9,function(r,n,a,i,o,l){return n+(a=="$"?a+i:Sa(C9(i)+e.c))+(o=="$"?o+l:gi(k9(l)+e.r))})}function a8e(t,e,r){var n=xc(e),a=n.s,i=ei(r),o={r:i.r-a.r,c:i.c-a.c};return Bde(t,o)}function i8e(t){return t.length!=1}function EH(t){return t.replace(/_xlfn\./g,"")}function zi(t){t.l+=1}function ug(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Ude(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return zde(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),o=ug(t),l=ug(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function zde(t){var e=ug(t),r=ug(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function o8e(t,e,r){if(r.biff<8)return zde(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=ug(t),o=ug(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function qde(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return l8e(t);var n=t.read_shift(r&&r.biff==12?4:2),a=ug(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function l8e(t){var e=ug(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function c8e(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function u8e(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return d8e(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function d8e(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function f8e(t,e,r){var n=(t[t.l++]&96)>>5,a=Ude(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function h8e(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=Ude(t,i,r);return[n,a,o]}function m8e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function p8e(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function g8e(t,e,r){var n=(t[t.l++]&96)>>5,a=o8e(t,e-1,r);return[n,a]}function x8e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function PH(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function v8e(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function y8e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function b8e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function w8e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function _8e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Vde(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function j8e(t){return t.read_shift(2),Vde(t)}function N8e(t){return t.read_shift(2),Vde(t)}function S8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=qde(t,0,r);return[n,a]}function k8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=u8e(t,0,r);return[n,a]}function C8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=qde(t,0,r);return[n,a,i]}function A8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[TMe[a],Gde[a],n]}function E8e(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:P8e(t);return[a,(i[0]===0?Gde:PMe)[i[1]]]}function P8e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function T8e(t,e,r){t.l+=r&&r.biff==2?3:4}function O8e(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function D8e(t){return t.l++,Sp[t.read_shift(1)]}function R8e(t){return t.l++,t.read_shift(2)}function I8e(t){return t.l++,t.read_shift(1)!==0}function F8e(t){return t.l++,Ml(t)}function M8e(t,e,r){return t.l++,aS(t,e-1,r)}function L8e(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ki(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Sp[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ml(t);break;case 2:r[1]=Qv(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function $8e(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Zv:bE)(t));return a}function B8e(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=L8e(t,r.biff);return o}function U8e(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function z8e(t,e,r){if(r.biff==5)return q8e(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function q8e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function V8e(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function W8e(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function H8e(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function G8e(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var Y8e=Wl,K8e=Wl,X8e=Wl;function oS(t,e,r){return t.l+=2,[c8e(t)]}function z9(t){return t.l+=6,[]}var J8e=oS,Z8e=z9,Q8e=z9,eMe=oS;function Wde(t){return t.l+=2,[Wi(t),t.read_shift(2)&1]}var tMe=oS,rMe=Wde,nMe=z9,sMe=oS,aMe=oS,iMe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function oMe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),o=iMe[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:a,C:i}}function lMe(t){return t.l+=2,[t.read_shift(4)]}function cMe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function uMe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function dMe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function fMe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function hMe(t){return t.l+=4,[0,0]}var TH={1:{n:"PtgExp",f:O8e},2:{n:"PtgTbl",f:X8e},3:{n:"PtgAdd",f:zi},4:{n:"PtgSub",f:zi},5:{n:"PtgMul",f:zi},6:{n:"PtgDiv",f:zi},7:{n:"PtgPower",f:zi},8:{n:"PtgConcat",f:zi},9:{n:"PtgLt",f:zi},10:{n:"PtgLe",f:zi},11:{n:"PtgEq",f:zi},12:{n:"PtgGe",f:zi},13:{n:"PtgGt",f:zi},14:{n:"PtgNe",f:zi},15:{n:"PtgIsect",f:zi},16:{n:"PtgUnion",f:zi},17:{n:"PtgRange",f:zi},18:{n:"PtgUplus",f:zi},19:{n:"PtgUminus",f:zi},20:{n:"PtgPercent",f:zi},21:{n:"PtgParen",f:zi},22:{n:"PtgMissArg",f:zi},23:{n:"PtgStr",f:M8e},26:{n:"PtgSheet",f:cMe},27:{n:"PtgEndSheet",f:uMe},28:{n:"PtgErr",f:D8e},29:{n:"PtgBool",f:I8e},30:{n:"PtgInt",f:R8e},31:{n:"PtgNum",f:F8e},32:{n:"PtgArray",f:x8e},33:{n:"PtgFunc",f:A8e},34:{n:"PtgFuncVar",f:E8e},35:{n:"PtgName",f:U8e},36:{n:"PtgRef",f:S8e},37:{n:"PtgArea",f:f8e},38:{n:"PtgMemArea",f:V8e},39:{n:"PtgMemErr",f:Y8e},40:{n:"PtgMemNoMem",f:K8e},41:{n:"PtgMemFunc",f:W8e},42:{n:"PtgRefErr",f:H8e},43:{n:"PtgAreaErr",f:m8e},44:{n:"PtgRefN",f:k8e},45:{n:"PtgAreaN",f:g8e},46:{n:"PtgMemAreaN",f:dMe},47:{n:"PtgMemNoMemN",f:fMe},57:{n:"PtgNameX",f:z8e},58:{n:"PtgRef3d",f:C8e},59:{n:"PtgArea3d",f:h8e},60:{n:"PtgRefErr3d",f:G8e},61:{n:"PtgAreaErr3d",f:p8e},255:{}},mMe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},pMe={1:{n:"PtgElfLel",f:Wde},2:{n:"PtgElfRw",f:sMe},3:{n:"PtgElfCol",f:J8e},6:{n:"PtgElfRwV",f:aMe},7:{n:"PtgElfColV",f:eMe},10:{n:"PtgElfRadical",f:tMe},11:{n:"PtgElfRadicalS",f:nMe},13:{n:"PtgElfColS",f:Z8e},15:{n:"PtgElfColSV",f:Q8e},16:{n:"PtgElfRadicalLel",f:rMe},25:{n:"PtgList",f:oMe},29:{n:"PtgSxName",f:lMe},255:{}},gMe={0:{n:"PtgAttrNoop",f:hMe},1:{n:"PtgAttrSemi",f:_8e},2:{n:"PtgAttrIf",f:b8e},4:{n:"PtgAttrChoose",f:v8e},8:{n:"PtgAttrGoto",f:y8e},16:{n:"PtgAttrSum",f:T8e},32:{n:"PtgAttrBaxcel",f:PH},33:{n:"PtgAttrBaxcel",f:PH},64:{n:"PtgAttrSpace",f:j8e},65:{n:"PtgAttrSpaceSemi",f:N8e},128:{n:"PtgAttrIfError",f:w8e},255:{}};function lS(t,e,r,n){if(n.biff<8)return Wl(t,e);for(var a=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=B8e(t,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=$8e(t,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=a-t.l,e!==0&&i.push(Wl(t,e)),i}function cS(t,e,r){for(var n=t.l+e,a,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],a=TH[i]||TH[mMe[i]],(i===24||i===25)&&(a=(i===24?pMe:gMe)[t[t.l+1]]),!a||!a.f?Wl(t,e):o.push([a.n,a.f(t,e,r)]);return o}function xMe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var vMe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function yMe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Hde(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function OH(t,e,r){var n=Hde(t,e,r);return n=="#REF"?n:yMe(n,r)}function Ol(t,e,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,h,x="";if(!t[0]||!t[0][0])return"";for(var g=-1,v="",b=0,_=t[0].length;b<_;++b){var w=t[0][b];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(t[0][g][1][0]){case 0:v=ui(" ",t[0][g][1][1]);break;case 1:v=ui("\r",t[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}u=u+v,g=-1}l.push(u+vMe[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=k2(w[1][1],o,a),l.push(C2(d,i));break;case"PtgRefN":d=r?k2(w[1][1],r,a):w[1][1],l.push(C2(d,i));break;case"PtgRef3d":f=w[1][1],d=k2(w[1][2],o,a),x=OH(n,f,a),l.push(x+"!"+C2(d,i));break;case"PtgFunc":case"PtgFuncVar":var N=w[1][0],S=w[1][1];N||(N=0),N&=127;var C=N==0?[]:l.slice(-N);l.length-=N,S==="User"&&(S=C.shift()),l.push(S+"("+C.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=oH(w[1][1],r?{s:r}:o,a),l.push(x3(h,a));break;case"PtgArea":h=oH(w[1][1],o,a),l.push(x3(h,a));break;case"PtgArea3d":f=w[1][1],h=w[1][2],x=OH(n,f,a),l.push(x+"!"+x3(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var A=(n.names||[])[m-1]||(n[0]||[])[m],R=A?A.Name:"SH33TJSNAME"+String(m);R&&R.slice(0,6)=="_xlfn."&&!a.xlfn&&(R=R.slice(6)),l.push(R);break;case"PtgNameX":var O=w[1][1];m=w[1][2];var D;if(a.biff<=5)O<0&&(O=-O),n[O]&&(D=n[O][m]);else{var P="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][m]&&n[O][m].itab>0&&(P=n.SheetNames[n[O][m].itab-1]+"!"):P=n.SheetNames[m-1]+"!"),n[O]&&n[O][m])P+=n[O][m].Name;else if(n[0]&&n[0][m])P+=n[0][m].Name;else{var E=(Hde(n,O,a)||"").split(";;");E[m-1]?P=E[m-1]:P+="SH33TJSERRX"}l.push(P);break}D||(D={Name:"SH33TJSERRY"}),l.push(D.Name);break;case"PtgParen":var I="(",M=")";if(g>=0){switch(v="",t[0][g][1][0]){case 2:I=ui(" ",t[0][g][1][1])+I;break;case 3:I=ui("\r",t[0][g][1][1])+I;break;case 4:M=ui(" ",t[0][g][1][1])+M;break;case 5:M=ui("\r",t[0][g][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}l.push(I+l.pop()+M);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var U={c:r.c,r:r.r};if(n.sharedf[an(d)]){var W=n.sharedf[an(d)];l.push(Ol(W,o,U,n,a))}else{var Y=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Ol(u[1],o,U,n,a)),Y=!0;break}Y||l.push(w[1])}break;case"PtgArray":l.push("{"+xMe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&J.indexOf(t[0][b][0])==-1){w=t[0][g];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:v=ui(" ",w[1][1]);break;case 5:z=!1;case 1:v=ui("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((z?v:"")+l.pop()+(z?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function bMe(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],Wl(t,e-2)];var l=cS(t,o,r);return e!==o+a&&(i=lS(t,e-o-a,l,r)),t.l=n,[l,i]}function wMe(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],Wl(t,e-2)];var l=cS(t,o,r);return e!==o+a&&(i=lS(t,e-o-a,l,r)),t.l=n,[l,i]}function _Me(t,e,r,n){var a=t.l+e,i=cS(t,n,r),o;return a!==t.l&&(o=lS(t,a-t.l,i,r)),[i,o]}function jMe(t,e,r){var n=t.l+e,a,i=t.read_shift(2),o=cS(t,i,r);return i==65535?[[],Wl(t,e-2)]:(e!==i+2&&(a=lS(t,n-i-2,o,r)),[o,a])}function NMe(t){var e;if(Wm(t,t.l+6)!==65535)return[Ml(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function SMe(t){if(t==null){var e=Ot(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Sv(t);return Sv(0)}function _3(t,e,r){var n=t.l+e,a=Kh(t);r.biff==2&&++t.l;var i=NMe(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var l=wMe(t,n-t.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function kMe(t,e,r,n,a){var i=Cv(e,r,a),o=SMe(t.v),l=Ot(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ot(t.bf.length),d=0;d<t.bf.length;++d)u[d]=t.bf[d];var f=Wo([i,o,l,u]);return f}function wE(t,e,r){var n=t.read_shift(4),a=cS(t,n,r),i=t.read_shift(4),o=i>0?lS(t,i,a,r):null;return[a,o]}var CMe=wE,_E=wE,AMe=wE,EMe=wE,PMe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Gde={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},TMe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function DH(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function OMe(t){var e="of:="+t.replace(B9,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function j3(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function DMe(t){return t.replace(/\./,"!")}var E2={},rb={},P2=typeof Map<"u";function q9(t,e,r){var n=0,a=t.length;if(r){if(P2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=P2?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(P2?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function jE(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Dl=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Dj(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=rC(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function tv(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function kg(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Rh(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Yde(t,e,r,n,a,i){try{n.cellNF&&(t.z=Zr[e])}catch(l){if(n.WTF)throw l}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=ka(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Zr[e]==null&&Rh(EOe[e]||"General",e),t.t==="e")t.w=t.w||Sp[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=kj(t.v);else if(t.t==="d"){var o=So(t.v);(o|0)===o?t.w=o.toString(10):t.w=kj(o)}else{if(t.v===void 0)return"";t.w=jv(t.v,rb)}else t.t==="d"?t.w=Gu(e,So(t.v),rb):t.w=Gu(e,t.v,rb)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=tC(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=tC(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function RMe(t,e,r){if(t&&t["!ref"]){var n=ns(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function IMe(t,e){var r=ns(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Dn(r))}var FMe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,MMe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,LMe=/<(?:\w:)?hyperlink [^>]*>/mg,$Me=/"(\w*:\w*)"/,BMe=/<(?:\w:)?col\b[^>]*[\/]?>/g,UMe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,zMe=/<(?:\w:)?pageMargins[^>]*\/>/g,Kde=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,qMe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,VMe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function WMe(t,e,r,n,a,i,o){if(!t)return t;n||(n={"!id":{}});var l=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=t.match(MMe);f?(u=t.slice(0,f.index),d=t.slice(f.index+f[0].length)):u=d=t;var m=u.match(Kde);m?V9(m[0],l,a,r):(m=u.match(qMe))&&GMe(m[0],m[1]||"",l,a,r);var h=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var x=u.slice(h,h+50).match($Me);x&&IMe(l,x[1])}var g=u.match(VMe);g&&g[1]&&iLe(g[1],a);var v=[];if(e.cellStyles){var b=u.match(BMe);b&&tLe(v,b)}f&&cLe(f[1],l,e,c,i,o);var _=d.match(UMe);_&&(l["!autofilter"]=nLe(_[0]));var w=[],N=d.match(FMe);if(N)for(h=0;h!=N.length;++h)w[h]=ns(N[h].slice(N[h].indexOf('"')+1));var S=d.match(LMe);S&&ZMe(l,S,n);var C=d.match(zMe);if(C&&(l["!margins"]=QMe(fn(C[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Dn(c)),e.sheetRows>0&&l["!ref"]){var A=ns(l["!ref"]);e.sheetRows<=+A.e.r&&(A.e.r=e.sheetRows-1,A.e.r>c.e.r&&(A.e.r=c.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>c.e.c&&(A.e.c=c.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Dn(A))}return v.length>0&&(l["!cols"]=v),w.length>0&&(l["!merges"]=w),l}function HMe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Dn(t[r])+'"/>';return e+"</mergeCells>"}function V9(t,e,r,n){var a=fn(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=xs(Js(a.codeName)))}function GMe(t,e,r,n,a){V9(t.slice(0,t.indexOf(">")),r,n,a)}function YMe(t,e,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=kh(qs(c))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),l=(l||"")+lr("outlinePr",null,u)}!i&&!l||(a[a.length]=lr("sheetPr",l,o))}var KMe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],XMe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function JMe(t){var e={sheet:1};return KMe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),XMe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=M9(t.password).toString(16).toUpperCase()),lr("sheetProtection",null,e)}function ZMe(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var i=fn(Js(e[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+xs(i.location))):(i.Target="#"+xs(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=ns(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=an({c:u,r:c});n?(t[c]||(t[c]=[]),t[c][u]||(t[c][u]={t:"z",v:void 0}),t[c][u].l=i):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=i)}}}function QMe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function eLe(t){return tv(t),lr("pageMargins",null,t)}function tLe(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=fn(e[n],!0);a.hidden&&(a.hidden=_a(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,L9(a.width)),cg(a);i<=o;)t[i++]=ia(a)}}function rLe(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=lr("col",null,jE(a,n)));return r[r.length]="</cols>",r.join("")}function nLe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function sLe(t,e,r,n){var a=typeof t.ref=="string"?t.ref:Dn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=xc(a);o.s.r==o.e.r&&(o.e.r=xc(e["!ref"]).e.r,a=Dn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),lr("autoFilter",null,{ref:a})}var aLe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function iLe(t,e){e.Views||(e.Views=[{}]),(t.match(aLe)||[]).forEach(function(r,n){var a=fn(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),_a(a.rightToLeft)&&(e.Views[n].RTL=!0)})}function oLe(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),lr("sheetViews",lr("sheetView",null,a),{})}function lLe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=Sp[t.v];break;case"d":n&&n.cellDates?a=ka(t.v,-1).toISOString():(t=ia(t),t.t="n",a=""+(t.v=So(ka(t.v)))),typeof t.z>"u"&&(t.z=Zr[14]);break;default:a=t.v;break}var l=ol("v",qs(a)),c={r:e},u=kg(n.cellXfs,t,n);switch(u!==0&&(c.s=u),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=ol("v",""+q9(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=lr("f",qs(t.f),d)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),lr("c",l,c)}var cLe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Cj("v"),o=Cj("f");return function(c,u,d,f,m,h){for(var x=0,g="",v=[],b=[],_=0,w=0,N=0,S="",C,A,R=0,O=0,D,P,E=0,I=0,M=Array.isArray(h.CellXf),U,W=[],Y=[],J=Array.isArray(u),z=[],q={},V=!1,L=!!d.sheetStubs,X=c.split(e),K=0,Q=X.length;K!=Q;++K){g=X[K].trim();var oe=g.length;if(oe!==0){var ce=0;e:for(x=0;x<oe;++x)switch(g[x]){case">":if(g[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(A=fn(g.slice(ce,x),!0),R=A.r!=null?parseInt(A.r,10):R+1,O=-1,d.sheetRows&&d.sheetRows<R)continue;q={},V=!1,A.ht&&(V=!0,q.hpt=parseFloat(A.ht),q.hpx=Pb(q.hpt)),A.hidden=="1"&&(V=!0,q.hidden=!0),A.outlineLevel!=null&&(V=!0,q.level=+A.outlineLevel),V&&(z[R-1]=q)}break;case"<":ce=x;break}if(ce>=x)break;if(A=fn(g.slice(ce,x),!0),R=A.r!=null?parseInt(A.r,10):R+1,O=-1,!(d.sheetRows&&d.sheetRows<R)){f.s.r>R-1&&(f.s.r=R-1),f.e.r<R-1&&(f.e.r=R-1),d&&d.cellStyles&&(q={},V=!1,A.ht&&(V=!0,q.hpt=parseFloat(A.ht),q.hpx=Pb(q.hpt)),A.hidden=="1"&&(V=!0,q.hidden=!0),A.outlineLevel!=null&&(V=!0,q.level=+A.outlineLevel),V&&(z[R-1]=q)),v=g.slice(x).split(t);for(var de=0;de!=v.length&&v[de].trim().charAt(0)=="<";++de);for(v=v.slice(de),x=0;x!=v.length;++x)if(g=v[x].trim(),g.length!==0){if(b=g.match(r),_=x,w=0,N=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(_=0,S=b[1],w=0;w!=S.length&&!((N=S.charCodeAt(w)-64)<1||N>26);++w)_=26*_+N;--_,O=_}else++O;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,A=fn(g.slice(0,w),!0),A.r||(A.r=an({r:R-1,c:O})),S=g.slice(w),C={t:""},(b=S.match(i))!=null&&b[1]!==""&&(C.v=xs(b[1])),d.cellFormula){if((b=S.match(o))!=null&&b[1]!==""){if(C.f=xs(Js(b[1])).replace(/\r\n/g,`
`),d.xlfn||(C.f=EH(C.f)),b[0].indexOf('t="array"')>-1)C.F=(S.match(a)||[])[1],C.F.indexOf(":")>-1&&W.push([ns(C.F),C.F]);else if(b[0].indexOf('t="shared"')>-1){P=fn(b[0]);var ne=xs(Js(b[1]));d.xlfn||(ne=EH(ne)),Y[parseInt(P.si,10)]=[P,ne,A.r]}}else(b=S.match(/<f[^>]*\/>/))&&(P=fn(b[0]),Y[P.si]&&(C.f=a8e(Y[P.si][1],Y[P.si][2],A.r)));var ue=ei(A.r);for(w=0;w<W.length;++w)ue.r>=W[w][0].s.r&&ue.r<=W[w][0].e.r&&ue.c>=W[w][0].s.c&&ue.c<=W[w][0].e.c&&(C.F=W[w][1])}if(A.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(L)C.t="z";else continue;else C.t=A.t||"n";switch(f.s.c>O&&(f.s.c=O),f.e.c<O&&(f.e.c=O),C.t){case"n":if(C.v==""||C.v==null){if(!L)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!L)continue;C.t="z"}else D=E2[parseInt(C.v,10)],C.v=D.t,C.r=D.r,d.cellHTML&&(C.h=D.h);break;case"str":C.t="s",C.v=C.v!=null?Js(C.v):"",d.cellHTML&&(C.h=v9(C.v));break;case"inlineStr":b=S.match(n),C.t="s",b!=null&&(D=F9(b[1]))?(C.v=D.t,d.cellHTML&&(C.h=D.h)):C.v="";break;case"b":C.v=_a(C.v);break;case"d":d.cellDates?C.v=ka(C.v,1):(C.v=So(ka(C.v,1)),C.t="n");break;case"e":(!d||d.cellText!==!1)&&(C.w=C.v),C.v=Jue[C.v];break}if(E=I=0,U=null,M&&A.s!==void 0&&(U=h.CellXf[A.s],U!=null&&(U.numFmtId!=null&&(E=U.numFmtId),d.cellStyles&&U.fillId!=null&&(I=U.fillId))),Yde(C,E,I,d,m,h),d.cellDates&&M&&C.t=="n"&&Gv(Zr[E])&&(C.t="d",C.v=vE(C.v)),A.cm&&d.xlmeta){var se=(d.xlmeta.Cell||[])[+A.cm-1];se&&se.type=="XLDAPR"&&(C.D=!0)}if(J){var Z=ei(A.r);u[Z.r]||(u[Z.r]=[]),u[Z.r][Z.c]=C}else u[A.r]=C}}}}z.length>0&&(u["!rows"]=z)}})();function uLe(t,e,r,n){var a=[],i=[],o=ns(t["!ref"]),l="",c,u="",d=[],f=0,m=0,h=t["!rows"],x=Array.isArray(t),g={r:u},v,b=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=Sa(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=gi(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var _=x?(t[f]||[])[m]:t[c];_!==void 0&&(l=lLe(_,c,t,e))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(g={r:u},h&&h[f]&&(v=h[f],v.hidden&&(g.hidden=1),b=-1,v.hpx?b=Rj(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(g.ht=b,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=lr("row",i.join(""),g))}if(h)for(;f<h.length;++f)h&&h[f]&&(g={r:f+1},v=h[f],v.hidden&&(g.hidden=1),b=-1,v.hpx?b=Rj(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(g.ht=b,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=lr("row","",g));return a.join("")}function Xde(t,e,r,n){var a=[Mi,lr("worksheet",null,{xmlns:Yv[0],"xmlns:r":bo.r})],i=r.SheetNames[t],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=ns(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Dn(d)}n||(n={}),c["!comments"]=[];var f=[];YMe(c,r,t,e,a),a[a.length]=lr("dimension",null,{ref:u}),a[a.length]=oLe(c,e,t,r),e.sheetFormat&&(a[a.length]=lr("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=rLe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=uLe(c,e),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=JMe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=sLe(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=HMe(c["!merges"]));var m=-1,h,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(h={ref:g[0]},g[1].Target.charAt(0)!="#"&&(x=Us(n,-1,qs(g[1].Target).replace(/#.*$/,""),Kn.HLINK),h["r:id"]="rId"+x),(m=g[1].Target.indexOf("#"))>-1&&(h.location=qs(g[1].Target.slice(m+1))),g[1].Tooltip&&(h.tooltip=qs(g[1].Tooltip)),a[a.length]=lr("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=eLe(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=ol("ignoredErrors",lr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=Us(n,-1,"../drawings/drawing"+(t+1)+".xml",Kn.DRAW),a[a.length]=lr("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Us(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Kn.VML),a[a.length]=lr("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function dLe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function fLe(t,e,r){var n=Ot(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=Rj(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var f=-1,m=-1,h=d<<10;h<d+1<<10;++h){u.c=h;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[an(u)];x&&(f<0&&(f=h),m=h)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function hLe(t,e,r,n){var a=fLe(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&Ht(t,0,a)}var mLe=Zv,pLe=Nw;function gLe(){}function xLe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=bDe(t),r}function vLe(t,e,r){r==null&&(r=Ot(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Z4({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Hue(t,r),r.slice(0,r.l)}function yLe(t){var e=Vd(t);return[e]}function bLe(t,e,r){return r==null&&(r=Ot(8)),Kv(e,r)}function wLe(t){var e=Xv(t);return[e]}function _Le(t,e,r){return r==null&&(r=Ot(4)),Jv(e,r)}function jLe(t){var e=Vd(t),r=t.read_shift(1);return[e,r,"b"]}function NLe(t,e,r){return r==null&&(r=Ot(9)),Kv(e,r),r.write_shift(1,t.v?1:0),r}function SLe(t){var e=Xv(t),r=t.read_shift(1);return[e,r,"b"]}function kLe(t,e,r){return r==null&&(r=Ot(5)),Jv(e,r),r.write_shift(1,t.v?1:0),r}function CLe(t){var e=Vd(t),r=t.read_shift(1);return[e,r,"e"]}function ALe(t,e,r){return r==null&&(r=Ot(9)),Kv(e,r),r.write_shift(1,t.v),r}function ELe(t){var e=Xv(t),r=t.read_shift(1);return[e,r,"e"]}function PLe(t,e,r){return r==null&&(r=Ot(8)),Jv(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function TLe(t){var e=Vd(t),r=t.read_shift(4);return[e,r,"s"]}function OLe(t,e,r){return r==null&&(r=Ot(12)),Kv(e,r),r.write_shift(4,e.v),r}function DLe(t){var e=Xv(t),r=t.read_shift(4);return[e,r,"s"]}function RLe(t,e,r){return r==null&&(r=Ot(8)),Jv(e,r),r.write_shift(4,e.v),r}function ILe(t){var e=Vd(t),r=Ml(t);return[e,r,"n"]}function FLe(t,e,r){return r==null&&(r=Ot(16)),Kv(e,r),Sv(t.v,r),r}function Jde(t){var e=Xv(t),r=Ml(t);return[e,r,"n"]}function MLe(t,e,r){return r==null&&(r=Ot(12)),Jv(e,r),Sv(t.v,r),r}function LLe(t){var e=Vd(t),r=T9(t);return[e,r,"n"]}function $Le(t,e,r){return r==null&&(r=Ot(12)),Kv(e,r),Gue(t.v,r),r}function BLe(t){var e=Xv(t),r=T9(t);return[e,r,"n"]}function ULe(t,e,r){return r==null&&(r=Ot(8)),Jv(e,r),Gue(t.v,r),r}function zLe(t){var e=Vd(t),r=A9(t);return[e,r,"is"]}function qLe(t){var e=Vd(t),r=zl(t);return[e,r,"str"]}function VLe(t,e,r){return r==null&&(r=Ot(12+4*t.v.length)),Kv(e,r),Go(t.v,r),r.length>r.l?r.slice(0,r.l):r}function WLe(t){var e=Xv(t),r=zl(t);return[e,r,"str"]}function HLe(t,e,r){return r==null&&(r=Ot(8+4*t.v.length)),Jv(e,r),Go(t.v,r),r.length>r.l?r.slice(0,r.l):r}function GLe(t,e,r){var n=t.l+e,a=Vd(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"b"];if(r.cellFormula){t.l+=2;var l=_E(t,n-t.l,r);o[3]=Ol(l,null,a,r.supbooks,r)}else t.l=n;return o}function YLe(t,e,r){var n=t.l+e,a=Vd(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"e"];if(r.cellFormula){t.l+=2;var l=_E(t,n-t.l,r);o[3]=Ol(l,null,a,r.supbooks,r)}else t.l=n;return o}function KLe(t,e,r){var n=t.l+e,a=Vd(t);a.r=r["!row"];var i=Ml(t),o=[a,i,"n"];if(r.cellFormula){t.l+=2;var l=_E(t,n-t.l,r);o[3]=Ol(l,null,a,r.supbooks,r)}else t.l=n;return o}function XLe(t,e,r){var n=t.l+e,a=Vd(t);a.r=r["!row"];var i=zl(t),o=[a,i,"str"];if(r.cellFormula){t.l+=2;var l=_E(t,n-t.l,r);o[3]=Ol(l,null,a,r.supbooks,r)}else t.l=n;return o}var JLe=Zv,ZLe=Nw;function QLe(t,e){return e==null&&(e=Ot(4)),e.write_shift(4,t),e}function e7e(t,e){var r=t.l+e,n=Zv(t),a=E9(t),i=zl(t),o=zl(t),l=zl(t);t.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function t7e(t,e){var r=Ot(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Nw({s:ei(t[0]),e:ei(t[0])},r),P9("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Go(a||"",r),Go(t[1].Tooltip||"",r),Go("",r),r.slice(0,r.l)}function r7e(){}function n7e(t,e,r){var n=t.l+e,a=Yue(t),i=t.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=CMe(t,n-t.l,r);o[1]=l}else t.l=n;return o}function s7e(t,e,r){var n=t.l+e,a=Zv(t),i=[a];if(r.cellFormula){var o=EMe(t,n-t.l,r);i[1]=o,t.l=n}else t.l=n;return i}function a7e(t,e,r){r==null&&(r=Ot(18));var n=jE(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var Zde=["left","right","top","bottom","header","footer"];function i7e(t){var e={};return Zde.forEach(function(r){e[r]=Ml(t)}),e}function o7e(t,e){return e==null&&(e=Ot(48)),tv(t),Zde.forEach(function(r){Sv(t[r],e)}),e}function l7e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function c7e(t,e,r){r==null&&(r=Ot(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function u7e(t){var e=Ot(24);return e.write_shift(4,4),e.write_shift(4,1),Nw(t,e),e}function d7e(t,e){return e==null&&(e=Ot(66)),e.write_shift(2,t.password?M9(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function f7e(){}function h7e(){}function m7e(t,e,r,n,a,i,o){if(!t)return t;var l=e||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,h,x,g,v,b,_,w,N,S,C=[];l.biff=12,l["!row"]=0;var A=0,R=!1,O=[],D={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=D,P.arrayf=O,P.SheetNames=a.SheetNames||a.Sheets.map(function(J){return J.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var E=0;E<a.Names.length;++E)P[0][E+1]=a.Names[E];var I=[],M=[],U=!1;Ij[16]={n:"BrtShortReal",f:Jde};var W;if(Np(t,function(z,q,V){if(!m)switch(V){case 148:u=z;break;case 0:h=z,l.sheetRows&&l.sheetRows<=h.r&&(m=!0),N=gi(v=h.r),l["!row"]=h.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=Pb(z.hpt)),M[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:z[2]},z[2]){case"n":x.v=z[1];break;case"s":w=E2[z[1]],x.v=w.t,x.r=w.r;break;case"b":x.v=!!z[1];break;case"e":x.v=z[1],l.cellText!==!1&&(x.w=Sp[x.v]);break;case"str":x.t="s",x.v=z[1];break;case"is":x.t="s",x.v=z[1].t;break}if((g=o.CellXf[z[0].iStyleRef])&&Yde(x,g.numFmtId,null,l,i,o),b=z[0].c==-1?b+1:z[0].c,l.dense?(c[v]||(c[v]=[]),c[v][b]=x):c[Sa(b)+N]=x,l.cellFormula){for(R=!1,A=0;A<O.length;++A){var L=O[A];h.r>=L[0].s.r&&h.r<=L[0].e.r&&b>=L[0].s.c&&b<=L[0].e.c&&(x.F=Dn(L[0]),R=!0)}!R&&z.length>3&&(x.f=z[3])}if(d.s.r>h.r&&(d.s.r=h.r),d.s.c>b&&(d.s.c=b),d.e.r<h.r&&(d.e.r=h.r),d.e.c<b&&(d.e.c=b),l.cellDates&&g&&x.t=="n"&&Gv(Zr[g.numFmtId])){var X=P0(x.v);X&&(x.t="d",x.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}W&&(W.type=="XLDAPR"&&(x.D=!0),W=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;x={t:"z",v:void 0},b=z[0].c==-1?b+1:z[0].c,l.dense?(c[v]||(c[v]=[]),c[v][b]=x):c[Sa(b)+N]=x,d.s.r>h.r&&(d.s.r=h.r),d.s.c>b&&(d.s.c=b),d.e.r<h.r&&(d.e.r=h.r),d.e.c<b&&(d.e.c=b),W&&(W.type=="XLDAPR"&&(x.D=!0),W=void 0);break;case 176:C.push(z);break;case 49:W=((l.xlmeta||{}).Cell||[])[z-1];break;case 494:var K=n["!id"][z.relId];for(K?(z.Target=K.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=K):z.relId==""&&(z.Target="#"+z.loc),v=z.rfx.s.r;v<=z.rfx.e.r;++v)for(b=z.rfx.s.c;b<=z.rfx.e.c;++b)l.dense?(c[v]||(c[v]=[]),c[v][b]||(c[v][b]={t:"z",v:void 0}),c[v][b].l=z):(_=an({c:b,r:v}),c[_]||(c[_]={t:"z",v:void 0}),c[_].l=z);break;case 426:if(!l.cellFormula)break;O.push(z),S=l.dense?c[v][b]:c[Sa(b)+N],S.f=Ol(z[1],d,{r:h.r,c:b},P,l),S.F=Dn(z[0]);break;case 427:if(!l.cellFormula)break;D[an(z[0].s)]=z[1],S=l.dense?c[v][b]:c[Sa(b)+N],S.f=Ol(z[1],d,{r:h.r,c:b},P,l);break;case 60:if(!l.cellStyles)break;for(;z.e>=z.s;)I[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},U||(U=!0,L9(z.w/256)),cg(I[z.e+1]);break;case 161:c["!autofilter"]={ref:Dn(z)};break;case 476:c["!margins"]=z;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),z.name&&(a.Sheets[r].CodeName=z.name),(z.above||z.left)&&(c["!outline"]={above:z.above,left:z.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),z.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!q.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+V.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Dn(u||d)),l.sheetRows&&c["!ref"]){var Y=ns(c["!ref"]);l.sheetRows<=+Y.e.r&&(Y.e.r=l.sheetRows-1,Y.e.r>d.e.r&&(Y.e.r=d.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>d.e.c&&(Y.e.c=d.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Dn(Y))}return C.length>0&&(c["!merges"]=C),I.length>0&&(c["!cols"]=I),M.length>0&&(c["!rows"]=M),c}function p7e(t,e,r,n,a,i,o){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=ia(e),e.z=e.z||Zr[14],e.v=So(ka(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:n};switch(c.s=kg(a.cellXfs,e,a),e.l&&i["!links"].push([an(c),e.l]),e.c&&i["!comments"].push([an(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=q9(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,o?Ht(t,18,RLe(e,c)):Ht(t,7,OLe(e,c))):(c.t="str",o?Ht(t,17,HLe(e,c)):Ht(t,6,VLe(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Ht(t,13,ULe(e,c)):Ht(t,2,$Le(e,c)):o?Ht(t,16,MLe(e,c)):Ht(t,5,FLe(e,c)),!0;case"b":return c.t="b",o?Ht(t,15,kLe(e,c)):Ht(t,4,NLe(e,c)),!0;case"e":return c.t="e",o?Ht(t,14,PLe(e,c)):Ht(t,3,ALe(e,c)),!0}return o?Ht(t,12,_Le(e,c)):Ht(t,1,bLe(e,c)),!0}function g7e(t,e,r,n){var a=ns(e["!ref"]||"A1"),i,o="",l=[];Ht(t,145);var c=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=gi(d),hLe(t,e,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=Sa(m)),i=l[m]+o;var h=c?(e[d]||[])[m]:e[i];if(!h){f=!1;continue}f=p7e(t,h,d,m,n,e,f)}}Ht(t,146)}function x7e(t,e){!e||!e["!merges"]||(Ht(t,177,QLe(e["!merges"].length)),e["!merges"].forEach(function(r){Ht(t,176,ZLe(r))}),Ht(t,178))}function v7e(t,e){!e||!e["!cols"]||(Ht(t,390),e["!cols"].forEach(function(r,n){r&&Ht(t,60,a7e(n,r))}),Ht(t,391))}function y7e(t,e){!e||!e["!ref"]||(Ht(t,648),Ht(t,649,u7e(ns(e["!ref"]))),Ht(t,650))}function b7e(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=Us(r,-1,n[1].Target.replace(/#.*$/,""),Kn.HLINK);Ht(t,494,t7e(n,a))}}),delete e["!links"]}function w7e(t,e,r,n){if(e["!comments"].length>0){var a=Us(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Kn.VML);Ht(t,551,P9("rId"+a)),e["!legacy"]=a}}function _7e(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:Dn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=xc(i);l.s.r==l.e.r&&(l.e.r=xc(e["!ref"]).e.r,i=Dn(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ht(t,161,Nw(ns(i))),Ht(t,162)}}function j7e(t,e,r){Ht(t,133),Ht(t,137,c7e(e,r)),Ht(t,138),Ht(t,134)}function N7e(t,e){e["!protect"]&&Ht(t,535,d7e(e["!protect"]))}function S7e(t,e,r,n){var a=Kc(),i=r.SheetNames[t],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=ns(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ht(a,129),(r.vbaraw||o["!outline"])&&Ht(a,147,vLe(l,o["!outline"])),Ht(a,148,pLe(c)),j7e(a,o,r.Workbook),v7e(a,o),g7e(a,o,t,e),N7e(a,o),_7e(a,o,r,t),x7e(a,o),b7e(a,o,n),o["!margins"]&&Ht(a,476,o7e(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&y7e(a,o),w7e(a,o,t,n),Ht(a,130),a.end()}function k7e(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=r?+o[2]:o[2])});var a=xs((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function C7e(t,e,r,n,a,i){var o=i||{"!type":"chart"};if(!t)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=k7e(f);d.s.r=d.s.c=0,d.e.c=l,u=Sa(l),m[0].forEach(function(h,x){o[u+gi(x)]={t:"n",v:h,z:m[1]},c=x}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Dn(d)),o}function A7e(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(Kde);return l&&V9(l[0],i,a,r),(o=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function E7e(t,e){t.l+=10;var r=zl(t);return{name:r}}function P7e(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Np(t,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var W9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],T7e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],O7e=[],D7e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function RH(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=_a(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function IH(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=_a(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function Qde(t){IH(t.WBProps,W9),IH(t.CalcPr,D7e),RH(t.WBView,T7e),RH(t.Sheets,O7e),rb.date1904=_a(t.WBProps.date1904)}function R7e(t){return!t.Workbook||!t.Workbook.WBProps?"false":_a(t.Workbook.WBProps.date1904)?"true":"false"}var I7e="][*?/\\".split("");function efe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return I7e.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function F7e(t,e,r){t.forEach(function(n,a){efe(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[a]&&e[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function tfe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];F7e(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)RMe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var M7e=/<\w+:workbook/;function L7e(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(t.replace(Hl,function(c,u){var d=fn(c);switch(Yh(d[0])){case"<?xml":break;case"<workbook":c.match(M7e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":W9.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=_a(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Js(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=xs(Js(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Js(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),_a(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=xs(Js(t.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Yv.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Qde(r),r}function rfe(t){var e=[Mi];e[e.length]=lr("workbook",null,{xmlns:Yv[0],"xmlns:r":bo.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(W9.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=lr("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:qs(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=lr("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=lr("definedName",qs(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function $7e(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=a8(t),r.name=zl(t),r}function B7e(t,e){return e||(e=Ot(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),P9(t.strRelID,e),Go(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function U7e(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?zl(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function z7e(t,e){e||(e=Ot(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),Hue(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function q7e(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function V7e(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=wDe(t),o=AMe(t,0,r),l=E9(t);t.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function W7e(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Ij[16]={n:"BrtFRTArchID$",f:q7e},Np(t,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Ol(c.Ptg,null,null,o,e),delete e.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),Qde(r),r.Names=i,r.supbooks=o,r}function H7e(t,e){Ht(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ht(t,156,B7e(a))}Ht(t,144)}function G7e(t,e){e||(e=Ot(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Go("SheetJS",e),Go(Nj.version,e),Go(Nj.version,e),Go("7262",e),e.length>e.l?e.slice(0,e.l):e}function Y7e(t,e){e||(e=Ot(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function K7e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Ht(t,135),Ht(t,158,Y7e(a)),Ht(t,136))}}function X7e(t,e){var r=Kc();return Ht(r,131),Ht(r,128,G7e()),Ht(r,153,z7e(t.Workbook&&t.Workbook.WBProps||null)),K7e(r,t),H7e(r,t),Ht(r,132),r.end()}function J7e(t,e,r){return e.slice(-4)===".bin"?W7e(t,r):L7e(t,r)}function Z7e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?m7e(t,n,r,a,i,o,l):WMe(t,n,r,a,i,o,l)}function Q7e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?P7e(t,n,r,a,i):A7e(t,n,r,a,i)}function e9e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?n8e():s8e()}function t9e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?t8e():r8e()}function r9e(t,e,r,n){return e.slice(-4)===".bin"?ZIe(t,r,n):BIe(t,r,n)}function n9e(t,e,r){return Ide(t,r)}function s9e(t,e,r){return e.slice(-4)===".bin"?aIe(t,r):rIe(t,r)}function a9e(t,e,r){return e.slice(-4)===".bin"?XFe(t,r):UFe(t,r)}function i9e(t,e,r){return e.slice(-4)===".bin"?LFe(t):FFe(t)}function o9e(t,e,r,n){return r.slice(-4)===".bin"?$Fe(t,e,r,n):void 0}function l9e(t,e,r){return e.slice(-4)===".bin"?DFe(t,e,r):IFe(t,e,r)}function c9e(t,e,r){return(e.slice(-4)===".bin"?X7e:rfe)(t)}function u9e(t,e,r,n,a){return(e.slice(-4)===".bin"?S7e:Xde)(t,r,n,a)}function d9e(t,e,r){return(e.slice(-4)===".bin"?lFe:Dde)(t,r)}function f9e(t,e,r){return(e.slice(-4)===".bin"?lIe:Sde)(t,r)}function h9e(t,e,r){return(e.slice(-4)===".bin"?JFe:Lde)(t)}function m9e(t){return(t.slice(-4)===".bin"?RFe:Fde)()}var nfe=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,sfe=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function mf(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(nfe),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(sfe),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function p9e(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(nfe),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(sfe),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var T2;function g9e(t,e){var r=T2[t]||xs(t);return r==="General"?jv(e):Gu(r,e)}function x9e(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=_a(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ka(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[xs(e)]=a}function v9e(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Sp[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=kj(t.v):t.w=jv(t.v):t.w=g9e(e||"General",t.v)}catch(i){if(r.WTF)throw i}try{var n=T2[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Gv(n)){var a=P0(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function y9e(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=OIe[n.Pattern]||n.Pattern)}t[e.ID]=e}function b9e(t,e,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,m={};u=u||{};var h=[],x=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&h.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=_a(t);break;case"String":n.t="s",n.r=ZW(xs(t)),n.v=t.indexOf("<")>-1?xs(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(ka(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=xs(t):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Jue[t],u.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=ZW(e||t));break}if(v9e(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=xs(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=tb(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=tb("RC:RC",a):n.ArrayRange&&(n.F=tb(n.ArrayRange,a),c.push([ns(n.F),n.F]))}else for(x=0;x<c.length;++x)a.r>=c[x][0].s.r&&a.r<=c[x][0].e.r&&a.c>=c[x][0].s.c&&a.c<=c[x][0].e.c&&(n.F=c[x][1]);u.cellStyles&&(h.forEach(function(v){!m.patternType&&v.patternType&&(m.patternType=v.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function w9e(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function N3(t,e){var r=e||{};ww();var n=k1(y9(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof cs<"u"?n=cs.utils.decode(65001,W4(n)):n=Js(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=ia(r);return o.type="string",Eb.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Le){a.indexOf("<"+Le)>=0&&(i=!0)}),i)return n$e(n,r);T2={"General Number":"General","General Date":Zr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Zr[15],"Short Date":Zr[14],"Long Time":Zr[19],"Medium Time":Zr[18],"Short Time":Zr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Zr[2],Standard:Zr[4],Percent:Zr[10],Scientific:Zr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],m=r.dense?[]:{},h="",x={},g={},v=mf('<Data ss:Type="String">'),b=0,_=0,w=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},C={},A="",R=0,O=[],D={},P={},E=0,I=[],M=[],U={},W=[],Y,J=!1,z=[],q=[],V={},L=0,X=0,K={Sheets:[],WBProps:{date1904:!1}},Q={};Ej.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var oe="";l=Ej.exec(n);)switch(l[3]=(oe=l[3]).toLowerCase()){case"data":if(oe=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?b9e(n.slice(b,l.index),A,v,c[c.length-1][0]=="comment"?U:x,{c:_,r:w},S,W[_],g,z,r):(A="",v=mf(l[0]),b=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(M.length>0&&(x.c=M),(!r.sheetRows||r.sheetRows>w)&&x.v!==void 0&&(r.dense?(m[w]||(m[w]=[]),m[w][_]=x):m[Sa(_)+gi(w)]=x),x.HRef&&(x.l={Target:xs(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(L=_+(parseInt(x.MergeAcross,10)|0),X=w+(parseInt(x.MergeDown,10)|0),O.push({s:{c:_,r:w},e:{c:L,r:X}})),!r.sheetStubs)x.MergeAcross?_=L+1:++_;else if(x.MergeAcross||x.MergeDown){for(var ce=_;ce<=L;++ce)for(var de=w;de<=X;++de)(ce>_||de>w)&&(r.dense?(m[de]||(m[de]=[]),m[de][ce]={t:"z"}):m[Sa(ce)+gi(de)]={t:"z"});_=L+1}else++_;else x=p9e(l[0]),x.Index&&(_=+x.Index-1),_<N.s.c&&(N.s.c=_),_>N.e.c&&(N.e.c=_),l[0].slice(-2)==="/>"&&++_,M=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<N.s.r&&(N.s.r=w),w>N.e.r&&(N.e.r=w),l[0].slice(-2)==="/>"&&(g=mf(l[0]),g.Index&&(w=+g.Index-1)),_=0,++w):(g=mf(l[0]),g.Index&&(w=+g.Index-1),V={},(g.AutoFitHeight=="0"||g.Height)&&(V.hpx=parseInt(g.Height,10),V.hpt=Rj(V.hpx),q[w]=V),g.Hidden=="1"&&(V.hidden=!0,q[w]=V));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(h),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(m["!ref"]=Dn(N),r.sheetRows&&r.sheetRows<=N.e.r&&(m["!fullref"]=m["!ref"],N.e.r=r.sheetRows-1,m["!ref"]=Dn(N))),O.length&&(m["!merges"]=O),W.length>0&&(m["!cols"]=W),q.length>0&&(m["!rows"]=q),d[h]=m}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=_=0,c.push([l[3],!1]),u=mf(l[0]),h=xs(u.Name),m=r.dense?[]:{},O=[],z=[],q=[],Q={name:h,Hidden:0},K.Sheets.push(Q);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),W=[],J=!1}break;case"style":l[1]==="/"?y9e(S,C,r):C=mf(l[0]);break;case"numberformat":C.nf=xs(mf(l[0]).Format||"General"),T2[C.nf]&&(C.nf=T2[C.nf]);for(var ne=0;ne!=392&&Zr[ne]!=C.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(Zr[ne]==null){Rh(C.nf,ne);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Y=mf(l[0]),Y.Hidden&&(Y.hidden=!0,delete Y.Hidden),Y.Width&&(Y.wpx=parseInt(Y.Width,10)),!J&&Y.wpx>10){J=!0,Dl=Tde;for(var ue=0;ue<W.length;++ue)W[ue]&&cg(W[ue])}J&&cg(Y),W[Y.Index-1||W.length]=Y;for(var se=0;se<+Y.Span;++se)W[W.length]=ia(Y);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var Z=fn(l[0]),Oe={Name:Z.Name,Ref:tb(Z.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Oe.Sheet=K.Sheets.length-1),K.Names.push(Oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?A+=n.slice(R,l.index):R=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=mf(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?HDe(D,oe,n.slice(E,l.index)):E=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));w9e(U),M.push(U)}else c.push([l[3],!1]),u=mf(l[0]),U={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var re=mf(l[0]);m["!autofilter"]={ref:tb(re.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return BH(n,r);var le=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:le=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:le=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:le=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:le=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(E,l.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else E=l.index+l[0].length;break;case"header":m["!margins"]||tv(m["!margins"]={},"xlml"),isNaN(+fn(l[0]).Margin)||(m["!margins"].header=+fn(l[0]).Margin);break;case"footer":m["!margins"]||tv(m["!margins"]={},"xlml"),isNaN(+fn(l[0]).Margin)||(m["!margins"].footer=+fn(l[0]).Margin);break;case"pagemargins":var We=fn(l[0]);m["!margins"]||tv(m["!margins"]={},"xlml"),isNaN(+We.Top)||(m["!margins"].top=+We.Top),isNaN(+We.Left)||(m["!margins"].left=+We.Left),isNaN(+We.Right)||(m["!margins"].right=+We.Right),isNaN(+We.Bottom)||(m["!margins"].bottom=+We.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:le=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:le=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:le=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:le=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:le=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:le=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:le=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:le=!1}break;case"smarttags":break;default:le=!1;break}if(le||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?x9e(P,oe,I,n.slice(E,l.index)):(I=l,E=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var xe={};return!r.bookSheets&&!r.bookProps&&(xe.Sheets=d),xe.SheetNames=f,xe.Workbook=K,xe.SSF=ia(Zr),xe.Props=D,xe.Custprops=P,xe}function f8(t,e){switch(Y9(e=e||{}),e.type||"base64"){case"base64":return N3(Hu(t),e);case"binary":case"buffer":case"file":return N3(t,e);case"array":return N3(Ng(t),e)}}function _9e(t,e){var r=[];return t.Props&&r.push(GDe(t.Props,e)),t.Custprops&&r.push(YDe(t.Props,t.Custprops)),r.join("")}function j9e(){return""}function N9e(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(lr("NumberFormat",null,{"ss:Format":qs(Zr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(lr("Style",i.join(""),o))}),lr("Styles",r.join(""))}function afe(t){return lr("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+U9(t.Ref,{r:0,c:0})})}function S9e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(afe(a)))}return lr("Names",r.join(""))}function k9e(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(afe(l)))}return i.join("")}function C9e(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(lr("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(lr("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(lr("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(lr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(ol("ProtectContents","True")),t["!protect"].objects&&a.push(ol("ProtectObjects","True")),t["!protect"].scenarios&&a.push(ol("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(ol("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(ol("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":lr("WorksheetOptions",a.join(""),{xmlns:Nu.x})}function A9e(t){return t.map(function(e){var r=XOe(e.t||""),n=lr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return lr("Comment",n,{"ss:Author":e.a})}).join("")}function E9e(t,e,r,n,a,i,o){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+qs(U9(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var c=ei(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=qs(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=qs(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(t.v);break;case"b":f="Boolean",m=t.v?"1":"0";break;case"e":f="Error",m=Sp[t.v];break;case"d":f="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Zr[14]);break;case"s":f="String",m=KOe(t.v||"");break}var h=kg(n.cellXfs,t,n);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var x=t.v!=null?m:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(t.c||[]).length>0&&(g+=A9e(t.c)),lr("Cell",g,l)}function P9e(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Pb(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function T9e(t,e,r,n){if(!t["!ref"])return"";var a=ns(t["!ref"]),i=t["!merges"]||[],o=0,l=[];t["!cols"]&&t["!cols"].forEach(function(v,b){cg(v);var _=!!v.width,w=jE(b,v),N={"ss:Index":b+1};_&&(N["ss:Width"]=Oj(w.width)),v.hidden&&(N["ss:Hidden"]="1"),l.push(lr("Column",null,N))});for(var c=Array.isArray(t),u=a.s.r;u<=a.e.r;++u){for(var d=[P9e(u,(t["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:f},x=an(h),g=c?(t[u]||[])[f]:t[x];d.push(E9e(g,x,t,e,r,n,h))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function O9e(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],o=i?k9e(i,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?T9e(i,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(C9e(i,e,t,r)),n.join("")}function D9e(t,e){e||(e={}),t.SSF||(t.SSF=ia(Zr)),t.SSF&&(ww(),nS(t.SSF),e.revssf=xE(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],kg(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(_9e(t,e)),r.push(j9e()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(lr("Worksheet",O9e(n,e,t),{"ss:Name":qs(t.SheetNames[n])}));return r[2]=N9e(t,e),r[3]=S9e(t),Mi+lr("Workbook",r.join(""),{xmlns:Nu.ss,"xmlns:o":Nu.o,"xmlns:x":Nu.x,"xmlns:ss":Nu.ss,"xmlns:dt":Nu.dt,"xmlns:html":Nu.html})}function R9e(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=kDe(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=CDe(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var I9e=[60,1084,2066,2165,2175];function F9e(t,e,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Wm(r,r.l),u=h8[c],d=0;u!=null&&I9e.indexOf(c)>-1;)i=Wm(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=h8[c=Wm(r,r.l)];var f=Wo(o);al(f,0);var m=0;f.lens=[];for(var h=0;h<o.length;++h)f.lens.push(m),m+=o[h].length;if(f.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,a)}function dh(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Zr[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Sp[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=kj(t.v):t.w=jv(t.v):t.w=Gu(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&t.t=="n"&&Gv(Zr[n]||String(n))){var a=P0(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Hk(t,e,r){return{v:t,ixfe:e,t:r}}function M9e(t,e){var r={opts:{}},n={},a=e.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,m="",h,x,g,v,b={},_=[],w,N,S=[],C=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},O=function(tt){return tt<8?Zx[tt]:tt<64&&C[tt-8]||Zx[tt]},D=function(tt,Ve,Me){var ht=Ve.XF.data;if(!(!ht||!ht.patternType||!Me||!Me.cellStyles)){Ve.s={},Ve.s.patternType=ht.patternType;var Ce;(Ce=Tj(O(ht.icvFore)))&&(Ve.s.fgColor={rgb:Ce}),(Ce=Tj(O(ht.icvBack)))&&(Ve.s.bgColor={rgb:Ce})}},P=function(tt,Ve,Me){if(!(V>1)&&!(Me.sheetRows&&tt.r>=Me.sheetRows)){if(Me.cellStyles&&Ve.XF&&Ve.XF.data&&D(tt,Ve,Me),delete Ve.ixfe,delete Ve.XF,f=tt,m=an(tt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),tt.r<o.s.r&&(o.s.r=tt.r),tt.c<o.s.c&&(o.s.c=tt.c),tt.r+1>o.e.r&&(o.e.r=tt.r+1),tt.c+1>o.e.c&&(o.e.c=tt.c+1),Me.cellFormula&&Ve.f){for(var ht=0;ht<_.length;++ht)if(!(_[ht][0].s.c>tt.c||_[ht][0].s.r>tt.r)&&!(_[ht][0].e.c<tt.c||_[ht][0].e.r<tt.r)){Ve.F=Dn(_[ht][0]),(_[ht][0].s.c!=tt.c||_[ht][0].s.r!=tt.r)&&delete Ve.f,Ve.f&&(Ve.f=""+Ol(_[ht][1],o,tt,z,E));break}}Me.dense?(a[tt.r]||(a[tt.r]=[]),a[tt.r][tt.c]=Ve):a[m]=Ve}},E={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(E.password=e.password);var I,M=[],U=[],W=[],Y=[],J=!1,z=[];z.SheetNames=E.snames,z.sharedf=E.sharedf,z.arrayf=E.arrayf,z.names=[],z.XTI=[];var q=0,V=0,L=0,X=[],K=[],Q;E.codepage=1200,Ed(1200);for(var oe=!1;t.l<t.length-1;){var ce=t.l,de=t.read_shift(2);if(de===0&&q===10)break;var ne=t.l===t.length?0:t.read_shift(2),ue=h8[de];if(ue&&ue.f){if(e.bookSheets&&q===133&&de!==133)break;if(q=de,ue.r===2||ue.r==12){var se=t.read_shift(2);if(ne-=2,!E.enc&&se!==de&&((se&255)<<8|se>>8)!==de)throw new Error("rt mismatch: "+se+"!="+de);ue.r==12&&(t.l+=10,ne-=10)}var Z={};if(de===10?Z=ue.f(t,ne,E):Z=F9e(de,ue,t,ne,E),V==0&&[9,521,1033,2057].indexOf(q)===-1)continue;switch(de){case 34:r.opts.Date1904=A.WBProps.date1904=Z;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(E.enc||(t.l=0),E.enc=Z,!e.password)throw new Error("File is password-protected");if(Z.valid==null)throw new Error("Encryption scheme unsupported");if(!Z.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=Z;break;case 66:var Oe=Number(Z);switch(Oe){case 21010:Oe=1200;break;case 32768:Oe=1e4;break;case 32769:Oe=1252;break}Ed(E.codepage=Oe),oe=!0;break;case 317:E.rrtabid=Z;break;case 25:E.winlocked=Z;break;case 439:r.opts.RefreshAll=Z;break;case 12:r.opts.CalcCount=Z;break;case 16:r.opts.CalcDelta=Z;break;case 17:r.opts.CalcIter=Z;break;case 13:r.opts.CalcMode=Z;break;case 14:r.opts.CalcPrecision=Z;break;case 95:r.opts.CalcSaveRecalc=Z;break;case 15:E.CalcRefMode=Z;break;case 2211:r.opts.FullCalc=Z;break;case 129:Z.fDialog&&(a["!type"]="dialog"),Z.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Z.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(Z);break;case 430:z.push([Z]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(Z);break;case 24:case 536:Q={Name:Z.Name,Ref:Ol(Z.rgce,o,null,z,E)},Z.itab>0&&(Q.Sheet=Z.itab-1),z.names.push(Q),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(Z),Z.Name=="_xlnm._FilterDatabase"&&Z.itab>0&&Z.rgce&&Z.rgce[0]&&Z.rgce[0][0]&&Z.rgce[0][0][0]=="PtgArea3d"&&(K[Z.itab-1]={ref:Dn(Z.rgce[0][0][1][2])});break;case 22:E.ExternCount=Z;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(Z),z.XTI=z.XTI.concat(Z);break;case 2196:if(E.biff<8)break;Q!=null&&(Q.Comment=Z[1]);break;case 18:a["!protect"]=Z;break;case 19:Z!==0&&E.WTF&&console.error("Password verifier: "+Z);break;case 133:i[Z.pos]=Z,E.snames.push(Z.name);break;case 10:{if(--V)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Dn(o),e.sheetRows&&e.sheetRows<=o.e.r){var re=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Dn(o),o.e.r=re}o.e.r++,o.e.c++}M.length>0&&(a["!merges"]=M),U.length>0&&(a["!objects"]=U),W.length>0&&(a["!cols"]=W),Y.length>0&&(a["!rows"]=Y),A.Sheets.push(R)}u===""?d=a:n[u]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Z.BIFFVer]||8),E.biffguess=Z.BIFFVer==0,Z.BIFFVer==0&&Z.dt==4096&&(E.biff=5,oe=!0,Ed(E.codepage=28591)),E.biff==8&&Z.BIFFVer==0&&Z.dt==16&&(E.biff=2),V++)break;if(a=e.dense?[]:{},E.biff<8&&!oe&&(oe=!0,Ed(E.codepage=e.codepage||1252)),E.biff<5||Z.BIFFVer==0&&Z.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var le={pos:t.l-ne,name:u};i[le.pos]=le,E.snames.push(u)}else u=(i[ce]||{name:""}).name;Z.dt==32&&(a["!type"]="chart"),Z.dt==64&&(a["!type"]="macro"),M=[],U=[],E.arrayf=_=[],W=[],Y=[],J=!1,R={Hidden:(i[ce]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[Z.r]||[])[Z.c]:a[an({c:Z.c,r:Z.r})])&&++Z.c,w={ixfe:Z.ixfe,XF:S[Z.ixfe]||{},v:Z.val,t:"n"},L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:Z.c,r:Z.r},w,e);break;case 5:case 517:w={ixfe:Z.ixfe,XF:S[Z.ixfe],v:Z.val,t:Z.t},L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:Z.c,r:Z.r},w,e);break;case 638:w={ixfe:Z.ixfe,XF:S[Z.ixfe],v:Z.rknum,t:"n"},L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:Z.c,r:Z.r},w,e);break;case 189:for(var We=Z.c;We<=Z.C;++We){var xe=Z.rkrec[We-Z.c][0];w={ixfe:xe,XF:S[xe],v:Z.rkrec[We-Z.c][1],t:"n"},L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:We,r:Z.r},w,e)}break;case 6:case 518:case 1030:{if(Z.val=="String"){l=Z;break}if(w=Hk(Z.val,Z.cell.ixfe,Z.tt),w.XF=S[w.ixfe],e.cellFormula){var Le=Z.formula;if(Le&&Le[0]&&Le[0][0]&&Le[0][0][0]=="PtgExp"){var ke=Le[0][0][1][0],fe=Le[0][0][1][1],ye=an({r:ke,c:fe});b[ye]?w.f=""+Ol(Z.formula,o,Z.cell,z,E):w.F=((e.dense?(a[ke]||[])[fe]:a[ye])||{}).F}else w.f=""+Ol(Z.formula,o,Z.cell,z,E)}L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P(Z.cell,w,e),l=Z}break;case 7:case 519:if(l)l.val=Z,w=Hk(Z,l.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+Ol(l.formula,o,l.cell,z,E)),L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P(l.cell,w,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(Z);var qe=an(Z[0].s);if(h=e.dense?(a[Z[0].s.r]||[])[Z[0].s.c]:a[qe],e.cellFormula&&h){if(!l||!qe||!h)break;h.f=""+Ol(Z[1],o,Z[0],z,E),h.F=Dn(Z[0])}}break;case 1212:{if(!e.cellFormula)break;if(m){if(!l)break;b[an(l.cell)]=Z[0],h=e.dense?(a[l.cell.r]||[])[l.cell.c]:a[an(l.cell)],(h||{}).f=""+Ol(Z[0],o,f,z,E)}}break;case 253:w=Hk(c[Z.isst].t,Z.ixfe,"s"),c[Z.isst].h&&(w.h=c[Z.isst].h),w.XF=S[w.ixfe],L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:Z.c,r:Z.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:Z.ixfe,XF:S[Z.ixfe],t:"z"},L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:Z.c,r:Z.r},w,e));break;case 190:if(e.sheetStubs)for(var Qe=Z.c;Qe<=Z.C;++Qe){var ct=Z.ixfe[Qe-Z.c];w={ixfe:ct,XF:S[ct],t:"z"},L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:Qe,r:Z.r},w,e)}break;case 214:case 516:case 4:w=Hk(Z.val,Z.ixfe,"s"),w.XF=S[w.ixfe],L>0&&(w.z=X[w.ixfe>>8&63]),dh(w,e,r.opts.Date1904),P({c:Z.c,r:Z.r},w,e);break;case 0:case 512:V===1&&(o=Z);break;case 252:c=Z;break;case 1054:if(E.biff==4){X[L++]=Z[1];for(var Ye=0;Ye<L+163&&Zr[Ye]!=Z[1];++Ye);Ye>=163&&Rh(Z[1],L+163)}else Rh(Z[1],Z[0]);break;case 30:{X[L++]=Z;for(var me=0;me<L+163&&Zr[me]!=Z;++me);me>=163&&Rh(Z,L+163)}break;case 229:M=M.concat(Z);break;case 93:U[Z.cmo[0]]=E.lastobj=Z;break;case 438:E.lastobj.TxO=Z;break;case 127:E.lastobj.ImData=Z;break;case 440:for(v=Z[0].s.r;v<=Z[0].e.r;++v)for(g=Z[0].s.c;g<=Z[0].e.c;++g)h=e.dense?(a[v]||[])[g]:a[an({c:g,r:v})],h&&(h.l=Z[1]);break;case 2048:for(v=Z[0].s.r;v<=Z[0].e.r;++v)for(g=Z[0].s.c;g<=Z[0].e.c;++g)h=e.dense?(a[v]||[])[g]:a[an({c:g,r:v})],h&&h.l&&(h.l.Tooltip=Z[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;h=e.dense?(a[Z[0].r]||[])[Z[0].c]:a[an(Z[0])];var Se=U[Z[2]];h||(e.dense?(a[Z[0].r]||(a[Z[0].r]=[]),h=a[Z[0].r][Z[0].c]={t:"z"}):h=a[an(Z[0])]={t:"z"},o.e.r=Math.max(o.e.r,Z[0].r),o.s.r=Math.min(o.s.r,Z[0].r),o.e.c=Math.max(o.e.c,Z[0].c),o.s.c=Math.min(o.s.c,Z[0].c)),h.c||(h.c=[]),x={a:Z[1],t:Se.TxO.t},h.c.push(x)}break;case 2173:SFe(S[Z.ixfe],Z.ext);break;case 125:{if(!E.cellStyles)break;for(;Z.e>=Z.s;)W[Z.e--]={width:Z.w/256,level:Z.level||0,hidden:!!(Z.flags&1)},J||(J=!0,L9(Z.w/256)),cg(W[Z.e+1])}break;case 520:{var _e={};Z.level!=null&&(Y[Z.r]=_e,_e.level=Z.level),Z.hidden&&(Y[Z.r]=_e,_e.hidden=!0),Z.hpt&&(Y[Z.r]=_e,_e.hpt=Z.hpt,_e.hpx=Pb(Z.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||tv(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=Z;break;case 161:a["!margins"]||tv(a["!margins"]={}),a["!margins"].header=Z.header,a["!margins"].footer=Z.footer;break;case 574:Z.RTL&&(A.Views[0].RTL=!0);break;case 146:C=Z;break;case 2198:I=Z;break;case 140:N=Z;break;case 442:u?R.CodeName=Z||R.name:A.WBProps.CodeName=Z||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+de.toString(16)),t.l+=ne}return r.SheetNames=yi(i).sort(function(Je,tt){return Number(Je)-Number(tt)}).map(function(Je){return i[Je].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&K.forEach(function(Je,tt){r.Sheets[r.SheetNames[tt]]["!autofilter"]=Je}),r.Strings=c,r.SSF=ia(Zr),E.enc&&(r.Encryption=E.enc),I&&(r.Themes=I),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),z.names.length>0&&(A.Names=z.names),r.Workbook=A,r}var O2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function L9e(t,e,r){var n=Gr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=gH(n,i8,O2.DSI);for(var i in a)e[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Gr.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=gH(o,o8,O2.SI);for(var c in l)e[c]==null&&(e[c]=l[c])}catch(u){if(r.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(nde(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function $9e(t,e){var r=[],n=[],a=[],i=0,o,l=HW(i8,"n"),c=HW(o8,"n");if(t.Props)for(o=yi(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=yi(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],t.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)ude.indexOf(a[i][0])>-1||rde.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Gr.utils.cfb_add(e,"/SummaryInformation",xH(n,O2.SI,c,o8)),(r.length||u.length)&&Gr.utils.cfb_add(e,"/DocumentSummaryInformation",xH(r,O2.DSI,l,i8,u.length?u:null,O2.UDI))}function H9(t,e){e||(e={}),Y9(e),pE(),e.codepage&&mE(e.codepage);var r,n;if(t.FullPaths){if(Gr.find(t,"/encryption"))throw new Error("File is password-protected");r=Gr.find(t,"!CompObj"),n=Gr.find(t,"/Workbook")||Gr.find(t,"/Book")}else{switch(e.type){case"base64":t=Pu(Hu(t));break;case"binary":t=Pu(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}al(t,0),n={content:t}}var a,i;if(r&&R9e(r),e.bookProps&&!e.bookSheets)a={};else{var o=Bn?"buffer":"array";if(n&&n.content)a=M9e(n.content,e);else if((i=Gr.find(t,"PerfectOffice_MAIN"))&&i.content)a=ev.to_workbook(i.content,(e.type=o,e));else if((i=Gr.find(t,"NativeContent_MAIN"))&&i.content)a=ev.to_workbook(i.content,(e.type=o,e));else throw(i=Gr.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Gr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=QFe(t))}var l={};return t.FullPaths&&L9e(t,l,e),a.Props=a.Custprops=l,e.bookFiles&&(a.cfb=t),a}function B9e(t,e){var r=e||{},n=Gr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Gr.utils.cfb_add(n,a,ife(t,r)),r.biff==8&&(t.Props||t.Custprops)&&$9e(t,n),r.biff==8&&t.vbaraw&&e8e(n,Gr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Ij={0:{f:dLe},1:{f:yLe},2:{f:LLe},3:{f:CLe},4:{f:jLe},5:{f:ILe},6:{f:qLe},7:{f:TLe},8:{f:XLe},9:{f:KLe},10:{f:GLe},11:{f:YLe},12:{f:wLe},13:{f:BLe},14:{f:ELe},15:{f:SLe},16:{f:Jde},17:{f:WLe},18:{f:DLe},19:{f:A9},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:V7e},40:{},42:{},43:{f:qIe},44:{f:UIe},45:{f:HIe},46:{f:YIe},47:{f:GIe},48:{},49:{f:mDe},50:{},51:{f:AFe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:wde},62:{f:zLe},63:{f:MFe},64:{f:f7e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Wl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:l7e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:xLe},148:{f:mLe,p:16},151:{f:r7e},152:{},153:{f:U7e},154:{},155:{},156:{f:$7e},157:{},158:{},159:{T:1,f:sIe},160:{T:-1},161:{T:1,f:Zv},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:JLe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:kFe},336:{T:-1},337:{f:TFe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:a8},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bde},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:n7e},427:{f:s7e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:i7e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:gLe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:e7e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:a8},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:YFe},633:{T:1},634:{T:-1},635:{T:1,f:HFe},636:{T:-1},637:{f:vDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:E7e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:h7e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},h8={6:{f:_3},10:{f:c0},12:{f:Wi},13:{f:Wi},14:{f:ki},15:{f:ki},16:{f:Ml},17:{f:ki},18:{f:ki},19:{f:Wi},20:{f:jH},21:{f:jH},23:{f:bde},24:{f:SH},25:{f:ki},26:{},27:{},28:{f:hRe},29:{},34:{f:ki},35:{f:NH},38:{f:Ml},39:{f:Ml},40:{f:Ml},41:{f:Ml},42:{f:ki},43:{f:ki},47:{f:SIe},49:{f:B6e},51:{f:Wi},60:{},61:{f:I6e},64:{f:ki},65:{f:$6e},66:{f:Wi},77:{},80:{},81:{},82:{},85:{f:Wi},89:{},90:{},91:{},92:{f:N6e},93:{f:gRe},94:{},95:{f:ki},96:{},97:{},99:{f:ki},125:{f:wde},128:{f:tRe},129:{f:k6e},130:{f:Wi},131:{f:ki},132:{f:ki},133:{f:C6e},134:{},140:{f:NRe},141:{f:Wi},144:{},146:{f:CRe},151:{},152:{},153:{},154:{},155:{},156:{f:Wi},157:{},158:{},160:{f:RRe},161:{f:PRe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:J6e},190:{f:Z6e},193:{f:c0},197:{},198:{},199:{},200:{},201:{},202:{f:ki},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Wi},220:{},221:{f:ki},222:{},224:{f:eRe},225:{f:j6e},226:{f:c0},227:{},229:{f:mRe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:E6e},253:{f:z6e},255:{f:T6e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:dde},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ki},353:{f:c0},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:iRe},431:{f:ki},432:{},433:{},434:{},437:{},438:{f:yRe},439:{f:ki},440:{f:bRe},441:{},442:{f:iS},443:{},444:{f:Wi},445:{},446:{},448:{f:c0},449:{f:R6e,r:2},450:{f:c0},512:{f:bH},513:{f:DRe},515:{f:sRe},516:{f:V6e},517:{f:_H},519:{f:IRe},520:{f:O6e},523:{},545:{f:kH},549:{f:yH},566:{},574:{f:M6e},638:{f:X6e},659:{},1048:{},1054:{f:H6e},1084:{},1212:{f:uRe},2048:{f:_Re},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:qk},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:c0},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ARe,r:12},2173:{f:NFe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ki,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:cRe,r:12},2197:{},2198:{f:vFe,r:12},2199:{},2200:{},2201:{},2202:{f:dRe,r:12},2203:{f:c0},2204:{},2205:{},2206:{},2207:{},2211:{f:D6e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Wi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:TRe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:kRe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:bH},1:{},2:{f:BRe},3:{f:LRe},4:{f:MRe},5:{f:_H},7:{f:zRe},8:{},9:{f:qk},11:{},22:{f:Wi},30:{f:Y6e},31:{},32:{},33:{f:kH},36:{},37:{f:yH},50:{f:qRe},62:{},52:{},67:{},68:{f:Wi},69:{},86:{},126:{},127:{f:FRe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:VRe},223:{},234:{},354:{},421:{},518:{f:_3},521:{f:qk},536:{f:SH},547:{f:NH},561:{},579:{},1030:{f:_3},1033:{f:qk},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ur(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&S9(r)&&t.push(r)}}function U9e(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return ur(t,e,r,a);var i=e;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=t.next(4);for(d.write_shift(2,i),d.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u;c<a;){for(d=t.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u}}}function uS(t,e,r){return t||(t=Ot(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function z9e(t,e,r,n){var a=Ot(9);return uS(a,t,e),fde(r,n||"b",a),a}function q9e(t,e,r){var n=Ot(8+2*r.length);return uS(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function V9e(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?So(ka(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?ur(t,2,URe(r,n,a)):ur(t,3,$Re(r,n,a));return;case"b":case"e":ur(t,5,z9e(r,n,e.v,e.t));return;case"s":case"str":ur(t,4,q9e(r,n,(e.v||"").slice(0,255)));return}ur(t,1,uS(null,r,n))}function W9e(t,e,r,n){var a=Array.isArray(e),i=ns(e["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Dn(i)}for(var u=i.s.r;u<=i.e.r;++u){l=gi(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Sa(d)),o=c[d]+l;var f=a?(e[u]||[])[d]:e[o];f&&V9e(t,f,u,d)}}}function H9e(t,e){for(var r=e||{},n=Kc(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ur(n,r.biff==4?1033:r.biff==3?521:9,I9(t,16,r)),W9e(n,t.Sheets[t.SheetNames[a]],a,r),ur(n,10),n.end()}function G9e(t,e,r){ur(t,49,U6e({sz:12,name:"Arial"},r))}function Y9e(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&ur(t,1054,G6e(a,e[a],r))})}function K9e(t,e){var r=Ot(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ur(t,2151,r),r=Ot(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),xde(ns(e["!ref"]||"A1"),r),r.write_shift(4,4),ur(t,2152,r)}function X9e(t,e){for(var r=0;r<16;++r)ur(t,224,wH({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ur(t,224,wH(n,0,e))})}function J9e(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ur(t,440,wRe(n)),n[1].Tooltip&&ur(t,2048,jRe(n))}delete e["!links"]}function Z9e(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&ur(t,125,ERe(jE(a,n),a))})}}function Q9e(t,e,r,n,a){var i=16+kg(a.cellXfs,e,a);if(e.v==null&&!e.bf){ur(t,513,Cv(r,n,i));return}if(e.bf)ur(t,6,kMe(e,r,n,a,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?So(ka(e.v)):e.v;ur(t,515,aRe(r,n,o,i));break;case"b":case"e":ur(t,517,nRe(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var l=q9(a.Strings,e.v,a.revStrings);ur(t,253,q6e(r,n,l,i))}else ur(t,516,W6e(r,n,(e.v||"").slice(0,255),i,a));break;default:ur(t,513,Cv(r,n,i))}}function e$e(t,e,r){var n=Kc(),a=r.SheetNames[t],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[t]||{},c=Array.isArray(i),u=e.biff==8,d,f="",m=[],h=ns(i["!ref"]||"A1"),x=u?65536:16384;if(h.e.c>255||h.e.r>=x){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,x-1)}ur(n,2057,I9(r,16,e)),ur(n,13,_d(1)),ur(n,12,_d(100)),ur(n,15,cc(!0)),ur(n,17,cc(!1)),ur(n,16,Sv(.001)),ur(n,95,cc(!0)),ur(n,42,cc(!1)),ur(n,43,cc(!1)),ur(n,130,_d(1)),ur(n,128,rRe()),ur(n,131,cc(!1)),ur(n,132,cc(!1)),u&&Z9e(n,i["!cols"]),ur(n,512,K6e(h,e)),u&&(i["!links"]=[]);for(var g=h.s.r;g<=h.e.r;++g){f=gi(g);for(var v=h.s.c;v<=h.e.c;++v){g===h.s.r&&(m[v]=Sa(v)),d=m[v]+f;var b=c?(i[g]||[])[v]:i[d];b&&(Q9e(n,b,g,v,e),u&&b.l&&i["!links"].push([d,b.l]))}}var _=l.CodeName||l.name||a;return u&&ur(n,574,L6e((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&ur(n,229,pRe(i["!merges"])),u&&J9e(n,i),ur(n,442,hde(_)),u&&K9e(n,i),ur(n,10),n.end()}function t$e(t,e,r){var n=Kc(),a=(t||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(ur(n,2057,I9(t,5,r)),r.bookType=="xla"&&ur(n,135),ur(n,225,l?_d(1200):null),ur(n,193,n6e(2)),c&&ur(n,191),c&&ur(n,192),ur(n,226),ur(n,92,S6e("SheetJS",r)),ur(n,66,_d(l?1200:1252)),l&&ur(n,353,_d(0)),l&&ur(n,448),ur(n,317,ORe(t.SheetNames.length)),l&&t.vbaraw&&ur(n,211),l&&t.vbaraw){var u=o.CodeName||"ThisWorkbook";ur(n,442,hde(u))}ur(n,156,_d(17)),ur(n,25,cc(!1)),ur(n,18,cc(!1)),ur(n,19,_d(0)),l&&ur(n,431,cc(!1)),l&&ur(n,444,_d(0)),ur(n,61,F6e()),ur(n,64,cc(!1)),ur(n,141,_d(0)),ur(n,34,cc(R7e(t)=="true")),ur(n,14,cc(!0)),l&&ur(n,439,cc(!1)),ur(n,218,_d(0)),G9e(n,t,r),Y9e(n,t.SSF,r),X9e(n,r),l&&ur(n,352,cc(!1));var d=n.end(),f=Kc();l&&ur(f,140,SRe()),l&&r.Strings&&U9e(f,252,P6e(r.Strings)),ur(f,10);var m=f.end(),h=Kc(),x=0,g=0;for(g=0;g<t.SheetNames.length;++g)x+=(l?12:11)+(l?2:1)*t.SheetNames[g].length;var v=d.length+x+m.length;for(g=0;g<t.SheetNames.length;++g){var b=i[g]||{};ur(h,133,A6e({pos:v,hs:b.Hidden||0,dt:0,name:t.SheetNames[g]},r)),v+=e[g].length}var _=h.end();if(x!=_.length)throw new Error("BS8 "+x+" != "+_.length);var w=[];return d.length&&w.push(d),_.length&&w.push(_),m.length&&w.push(m),Wo(w)}function r$e(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=ia(Zr)),t&&t.SSF&&(ww(),nS(t.SSF),r.revssf=xE(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,K9(r),r.cellXfs=[],kg(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=e$e(a,r,t);return n.unshift(t$e(t,n,r)),Wo(n)}function ife(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=xc(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return r$e(t,e);case 4:case 3:case 2:return H9e(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function FH(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=a.index,l=i&&i.index||t.length,c=UOe(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var b=g.split(/<\/t[dh]>/i);for(l=0;l<b.length;++l){var _=b[l].trim();if(_.match(/<t[dh]/i)){for(var w=_,N=0;w.charAt(0)=="<"&&(N=w.indexOf(">"))>-1;)w=w.slice(N+1);for(var S=0;S<x.length;++S){var C=x[S];C.s.c==d&&C.s.r<u&&u<=C.e.r&&(d=C.e.c+1,S=-1)}var A=fn(_.slice(0,_.indexOf(">")));m=A.colspan?+A.colspan:1,((f=+A.rowspan)>1||m>1)&&x.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var R=A.t||A["data-t"]||"";if(!w.length){d+=m;continue}if(w=Rue(w),h.s.r>u&&(h.s.r=u),h.e.r<u&&(h.e.r=u),h.s.c>d&&(h.s.c=d),h.e.c<d&&(h.e.c=d),!w.length){d+=m;continue}var O={t:"s",v:w};r.raw||!w.trim().length||R=="s"||(w==="TRUE"?O={t:"b",v:!0}:w==="FALSE"?O={t:"b",v:!1}:isNaN(Df(w))?isNaN(Ab(w).getDate())||(O={t:"d",v:ka(w)},r.cellDates||(O={t:"n",v:So(O.v)}),O.z=r.dateNF||Zr[14]):O={t:"n",v:Df(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=O):n[an({r:u,c:d})]=O,d+=m}}}}return n["!ref"]=Dn(h),x.length&&(n["!merges"]=x),n}function ofe(t,e,r,n){for(var a=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=an({r,c:o}),f=n.dense?(t[r]||[])[o]:t[d],m=f&&f.v!=null&&(f.h||v9(f.w||(qh(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+d,i.push(lr("td",m,h))}}var x="<tr>";return x+i.join("")+"</tr>"}var lfe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cfe="</body></html>";function n$e(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Sg(FH(r[0],e),e);var n=e$();return r.forEach(function(a,i){t$(n,FH(a,e),"Sheet"+(i+1))}),n}function ufe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dfe(t,e){var r=e||{},n=r.header!=null?r.header:lfe,a=r.footer!=null?r.footer:cfe,i=[n],o=xc(t["!ref"]);r.dense=Array.isArray(t),i.push(ufe(t,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(ofe(t,o,l,r));return i.push("</table>"+a),i.join("")}function ffe(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?ei(n.origin):n.origin;a=o.r,i=o.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var d=xc(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,h=t["!rows"]||(t["!rows"]=[]),x=0,g=0,v=0,b=0,_=0,w=0;for(t["!cols"]||(t["!cols"]=[]);x<l.length&&g<c;++x){var N=l[x];if(MH(N)){if(n.display)continue;h[g]={hidden:!0}}var S=N.children;for(v=b=0;v<S.length;++v){var C=S[v];if(!(n.display&&MH(C))){var A=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):Rue(C.innerHTML),R=C.getAttribute("data-z")||C.getAttribute("z");for(m=0;m<f.length;++m){var O=f[m];O.s.c==b+i&&O.s.r<g+a&&g+a<=O.e.r&&(b=O.e.c+1-i,m=-1)}w=+C.getAttribute("colspan")||1,((_=+C.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+a,c:b+i},e:{r:g+a+(_||1)-1,c:b+i+(w||1)-1}});var D={t:"s",v:A},P=C.getAttribute("data-t")||C.getAttribute("t")||"";A!=null&&(A.length==0?D.t=P||"z":n.raw||A.trim().length==0||P=="s"||(A==="TRUE"?D={t:"b",v:!0}:A==="FALSE"?D={t:"b",v:!1}:isNaN(Df(A))?isNaN(Ab(A).getDate())||(D={t:"d",v:ka(A)},n.cellDates||(D={t:"n",v:So(D.v)}),D.z=n.dateNF||Zr[14]):D={t:"n",v:Df(A)})),D.z===void 0&&R!=null&&(D.z=R);var E="",I=C.getElementsByTagName("A");if(I&&I.length)for(var M=0;M<I.length&&!(I[M].hasAttribute("href")&&(E=I[M].getAttribute("href"),E.charAt(0)!="#"));++M);E&&E.charAt(0)!="#"&&(D.l={Target:E}),n.dense?(t[g+a]||(t[g+a]=[]),t[g+a][b+i]=D):t[an({c:b+i,r:g+a})]=D,u.e.c<b+i&&(u.e.c=b+i),b+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),t["!ref"]=Dn(u),g>=c&&(t["!fullref"]=Dn((u.e.r=l.length-x+g-1+a,u))),t}function hfe(t,e){var r=e||{},n=r.dense?[]:{};return ffe(n,t,e)}function s$e(t,e){return Sg(hfe(t,e),e)}function MH(t){var e="",r=a$e(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function a$e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function i$e(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=xs(e.replace(/<[^>]*>/g,""));return[r]}var LH={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function mfe(t,e){var r=e||{},n=y9(t),a=[],i,o,l={name:""},c="",u=0,d,f,m={},h=[],x=r.dense?[]:{},g,v,b={value:""},_="",w=0,N=[],S=-1,C=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,O={},D=[],P={},E=0,I=0,M=[],U=1,W=1,Y=[],J={Names:[]},z={},q=["",""],V=[],L={},X="",K=0,Q=!1,oe=!1,ce=0;for(Ej.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Ej.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?x["!ref"]=Dn(A):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=A.e.r&&(x["!fullref"]=x["!ref"],A.e.r=r.sheetRows-1,x["!ref"]=Dn(A)),D.length&&(x["!merges"]=D),M.length&&(x["!rows"]=M),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),h.push(d.name),m[d.name]=x,oe=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=fn(g[0],!1),S=C=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,x=r.dense?[]:{},D=[],M=[],oe=!0);break;case"table-row-group":g[1]==="/"?--R:++R;break;case"table-row":case"":if(g[1]==="/"){S+=U,U=1;break}if(f=fn(g[0],!1),f.?S=f.-1:S==-1&&(S=0),U=+f["number-rows-repeated"]||1,U<10)for(ce=0;ce<U;++ce)R>0&&(M[S+ce]={level:R});C=-1;break;case"covered-table-cell":g[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(x[S]||(x[S]=[]),x[S][C]={t:"z"}):x[an({r:S,c:C})]={t:"z"}),_="",N=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++C,b=fn(g[0],!1),W=parseInt(b["number-columns-repeated"]||"1",10),v={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(v.f=DH(xs(b.formula))),(b.||b["value-type"])=="string"&&(v.t="s",v.v=xs(b["string-value"]||""),r.dense?(x[S]||(x[S]=[]),x[S][C]=v):x[an({r:S,c:C})]=v),C+=W-1;else if(g[1]!=="/"){++C,_="",w=0,N=[],W=1;var de=U?S+U-1:S;if(C>A.e.c&&(A.e.c=C),C<A.s.c&&(A.s.c=C),S<A.s.r&&(A.s.r=S),de>A.e.r&&(A.e.r=de),b=fn(g[0],!1),V=[],L={},v={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=xs(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(E=parseInt(b["number-matrix-rows-spanned"],10)||0,I=parseInt(b["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:C},e:{r:S+E-1,c:C+I-1}},v.F=Dn(P),Y.push([P,v.F])),b.formula)v.f=DH(b.formula);else for(ce=0;ce<Y.length;++ce)S>=Y[ce][0].s.r&&S<=Y[ce][0].e.r&&C>=Y[ce][0].s.c&&C<=Y[ce][0].e.c&&(v.F=Y[ce][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(E=parseInt(b["number-rows-spanned"],10)||0,I=parseInt(b["number-columns-spanned"],10)||0,P={s:{r:S,c:C},e:{r:S+E-1,c:C+I-1}},D.push(P)),b["number-columns-repeated"]&&(W=parseInt(b["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=_a(b["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(b.value);break;case"percentage":v.t="n",v.v=parseFloat(b.value);break;case"currency":v.t="n",v.v=parseFloat(b.value);break;case"date":v.t="d",v.v=ka(b["date-value"]),r.cellDates||(v.t="n",v.v=So(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=LOe(b["time-value"])/86400,r.cellDates&&(v.t="d",v.v=vE(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(b.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",b["string-value"]!=null&&(_=xs(b["string-value"]),N=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Q=!1,v.t==="s"&&(v.v=_||"",N.length&&(v.R=N),Q=w==0),z.Target&&(v.l=z),V.length>0&&(v.c=V,V=[]),_&&r.cellText!==!1&&(v.w=_),Q&&(v.t="z",delete v.v),(!Q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ne=0;ne<U;++ne){if(W=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(x[S+ne]||(x[S+ne]=[]),x[S+ne][C]=ne==0?v:ia(v);--W>0;)x[S+ne][C+W]=ia(v);else for(x[an({r:S+ne,c:C})]=v;--W>0;)x[an({r:S+ne,c:C+W})]=ia(v);A.e.c<=C&&(A.e.c=C)}W=parseInt(b["number-columns-repeated"]||"1",10),C+=W-1,W=0,v={},_="",N=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;L.t=_,N.length&&(L.R=N),L.a=X,V.push(L)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);X="",K=0,_="",w=0,N=[];break;case"creator":g[1]==="/"?X=n.slice(K,g.index):K=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);_="",w=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(O[l.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=fn(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=fn(g[0],!1),c+=LH[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=fn(g[0],!1),c+=LH[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=fn(g[0],!1),q=j3(o["cell-range-address"]);var ue={Name:o.name,Ref:q[0]+"!"+q[1]};oe&&(ue.Sheet=h.length),J.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var se=i$e(n.slice(w,g.index));_=(_.length>0?_+`
`:"")+se[0]}else fn(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{q=j3(fn(g[0])["target-range-address"]),m[q[0]]["!autofilter"]={ref:q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=fn(g[0],!1),!z.href)break;z.Target=xs(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(q=j3(z.Target.slice(1)),z.Target="#"+q[0]+"!"+q[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var Z={Sheets:m,SheetNames:h,Workbook:J};return r.bookSheets&&delete Z.Sheets,Z}function $H(t,e){e=e||{},wd(t,"META-INF/manifest.xml")&&LDe(Vi(t,"META-INF/manifest.xml"),e);var r=Tu(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=mfe(Js(r),e);return wd(t,"meta.xml")&&(n.Props=ede(Vi(t,"meta.xml"))),n}function BH(t,e){return mfe(t,e)}var o$e=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Aj({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Mi+e}})(),UH=(function(){var t=function(i){return qs(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+qs(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=xc(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,x=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(e);for(;d<=f.e.c;++d){var b=!1,_={},w="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>d)&&!(m[h].s.r>u)&&!(m[h].e.c<d)&&!(m[h].e.r<u)){(m[h].s.c!=d||m[h].s.r!=u)&&(b=!0),_["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,_["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(b){c.push(r);continue}var N=an({r:u,c:d}),S=x?(i[u]||[])[d]:i[N];if(S&&S.f&&(_["table:formula"]=qs(OMe(S.f)),S.F&&S.F.slice(0,N.length)==N)){var C=xc(S.F);_["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,_["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!S){c.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),_["office:value-type"]="float",_["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,_["office:value-type"]="string";break;case"d":w=S.w||ka(S.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=ka(S.v).toISOString(),_["table:style-name"]="ce1";break;default:c.push(e);continue}var A=t(w);if(S.l&&S.l.Target){var R=S.l.Target;R=R.charAt(0)=="#"?"#"+DMe(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),A=lr("text:a",A,{"xlink:href":R.replace(/&/g,"&amp;")})}c.push("          "+lr("table:table-cell",lr("text:p",A,{}),_)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;cg(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Mi],u=Aj({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Aj({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(Que().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function pfe(t,e){if(e.bookType=="fods")return UH(t,e);var r=p9(),n="",a=[],i=[];return n="mimetype",In(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",In(r,n,UH(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",In(r,n,o$e(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",In(r,n,Mi+Que()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",In(r,n,UDe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",In(r,n,$De(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Av(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function m8(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Js(Ng(t))}function l$e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Pu(kh(t))}function c$e(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function dg(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function zH(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function u$e(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function d$e(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function Fj(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function $s(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function xi(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function bs(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=Fj(t,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:o=4,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Fj(t,r),l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function rl(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push($s(n*8+a.type)),a.type==2&&e.push($s(a.data.length)),e.push(a.data))})}),dg(e)}function G9(t,e){return t?.map(function(r){return e(r.data)})||[]}function gd(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=Fj(t,n),i=bs(t.slice(n[0],n[0]+a));n[0]+=a;var o={id:xi(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=bs(l.data),u=xi(c[3][0].data);o.messages.push({meta:c,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=i[3])!=null&&e[0]&&(o.merge=xi(i[3][0].data)>>>0>0),r.push(o)}return r}function r1(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:$s(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:$s(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:$s(o.data.length)}],n[2].push({data:rl(o.meta),type:2})});var i=rl(n);e.push($s(i.length)),e.push(i),a.forEach(function(o){return e.push(o)})}),dg(e)}function f$e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Fj(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[r[0]],l>1&&(o|=e[r[0]+1]<<8),l>2&&(o|=e[r[0]+2]<<16),l>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,i==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[dg(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=dg(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function xd(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(f$e(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return dg(e)}function n1(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=$s(n),o=i.length;e.push(i),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return dg(e)}function h$e(t,e,r,n){var a=Av(t),i=a.getUint32(4,!0),o=(n>1?12:8)+zH(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=zH(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:e[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:e[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function m$e(t,e,r){var n=Av(t),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=u$e(t,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return f}function S3(t,e){var r=new Uint8Array(32),n=Av(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,d$e(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function k3(t,e){var r=new Uint8Array(32),n=Av(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function p$e(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return h$e(t,e,r,t[0]);case 5:return m$e(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Tl(t){var e=bs(t);return Fj(e[1][0].data)}function qH(t,e){var r=bs(e.data),n=xi(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=bs(o.data),c=xi(l[1][0].data)>>>0;switch(n){case 1:i[c]=m8(l[3][0].data);break;case 8:{var u=t[Tl(l[9][0].data)][0],d=bs(u.data),f=t[Tl(d[1][0].data)][0],m=xi(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var h=bs(f.data);i[c]=h[3].map(function(x){return m8(x.data)}).join("")}break}}),i}function g$e(t,e){var r,n,a,i,o,l,c,u,d,f,m,h,x,g,v=bs(t),b=xi(v[1][0].data)>>>0,_=xi(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&xi(v[8][0].data)>0||!1,N,S;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&e!=0)N=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&e!=1)N=(h=(m=v[4])==null?void 0:m[0])==null?void 0:h.data,S=(g=(x=v[3])==null?void 0:x[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var C=w?4:1,A=Av(N),R=[],O=0;O<N.length/2;++O){var D=A.getUint16(O*2,!0);D<65535&&R.push([O,D])}if(R.length!=_)throw"Expected ".concat(_," cells, found ").concat(R.length);var P=[];for(O=0;O<R.length-1;++O)P[R[O][0]]=S.subarray(R[O][1]*C,R[O+1][1]*C);return R.length>=1&&(P[R[R.length-1][0]]=S.subarray(R[R.length-1][1]*C)),{R:b,cells:P}}function x$e(t,e){var r,n=bs(e.data),a=(r=n?.[7])!=null&&r[0]?xi(n[7][0].data)>>>0>0?1:0:-1,i=G9(n[5],function(o){return g$e(o,a)});return{nrows:xi(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function v$e(t,e,r){var n,a=bs(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(xi(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(xi(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Dn(i);var o=bs(a[4][0].data),l=qH(t,t[Tl(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?qH(t,t[Tl(o[17][0].data)][0]):[],u=bs(o[3][0].data),d=0;u[1].forEach(function(f){var m=bs(f.data),h=t[Tl(m[2][0].data)][0],x=xi(h.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var g=x$e(t,h);g.data.forEach(function(v,b){v.forEach(function(_,w){var N=an({r:d+b,c:w}),S=p$e(_,l,c);S&&(r[N]=S)})}),d+=g.nrows})}function y$e(t,e){var r=bs(e.data),n={"!ref":"A1"},a=t[Tl(r[2][0].data)],i=xi(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return v$e(t,a[0],n),n}function b$e(t,e){var r,n=bs(e.data),a={name:(r=n[1])!=null&&r[0]?m8(n[1][0].data):"",sheets:[]},i=G9(n[2],Tl);return i.forEach(function(o){t[o].forEach(function(l){var c=xi(l.meta[1][0].data);c==6e3&&a.sheets.push(y$e(t,l))})}),a}function w$e(t,e){var r=e$(),n=bs(e.data),a=G9(n[1],Tl);if(a.forEach(function(i){t[i].forEach(function(o){var l=xi(o.meta[1][0].data);if(l==2){var c=b$e(t,o);c.sheets.forEach(function(u,d){t$(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function C3(t){var e,r,n,a,i={},o=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=xd(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=gd(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(e=i?.[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&xi(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=xi(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return w$e(i,l)}function _$e(t,e,r){var n,a,i,o;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&xi(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Av(t[7][0].data),d=0,f=[],m=Av(t[4][0].data),h=0,x=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,h,!0);var v,b;switch(typeof e[g]){case"string":v=S3({t:"s",v:e[g]},r),b=k3({t:"s",v:e[g]},r);break;case"number":v=S3({t:"n",v:e[g]},r),b=k3({t:"n",v:e[g]},r);break;case"boolean":v=S3({t:"b",v:e[g]},r),b=k3({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}f.push(v),d+=v.length,x.push(b),h+=b.length,++c}for(t[2][0].data=$s(c);g<t[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return t[6][0].data=dg(f),t[3][0].data=dg(x),c}function j$e(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=xc(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Dn(n)));var i=sC(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(X){return X.forEach(function(K){typeof K=="string"&&o.push(K)})});var l={},c=[],u=Gr.read(e.numbers,{type:"base64"});u.FileIndex.map(function(X,K){return[X,u.FullPaths[K]]}).forEach(function(X){var K=X[0],Q=X[1];if(K.type==2&&K.name.match(/\.iwa/)){var oe=K.content,ce=xd(oe),de=gd(ce);de.forEach(function(ne){c.push(ne.id),l[ne.id]={deps:[],location:Q,type:xi(ne.messages[0].meta[1][0].data)}})}}),c.sort(function(X,K){return X-K});var d=c.filter(function(X){return X>1}).map(function(X){return[X,$s(X)]});u.FileIndex.map(function(X,K){return[X,u.FullPaths[K]]}).forEach(function(X){var K=X[0];if(X[1],!!K.name.match(/\.iwa/)){var Q=gd(xd(K.content));Q.forEach(function(oe){oe.messages.forEach(function(ce){d.forEach(function(de){oe.messages.some(function(ne){return xi(ne.meta[1][0].data)!=11006&&c$e(ne.data,de[1])})&&l[de[0]].deps.push(oe.id)})})})}});for(var f=Gr.find(u,l[1].location),m=gd(xd(f.content)),h,x=0;x<m.length;++x){var g=m[x];g.id==1&&(h=g)}var v=Tl(bs(h.messages[0].data)[1][0].data);for(f=Gr.find(u,l[v].location),m=gd(xd(f.content)),x=0;x<m.length;++x)g=m[x],g.id==v&&(h=g);for(v=Tl(bs(h.messages[0].data)[2][0].data),f=Gr.find(u,l[v].location),m=gd(xd(f.content)),x=0;x<m.length;++x)g=m[x],g.id==v&&(h=g);for(v=Tl(bs(h.messages[0].data)[2][0].data),f=Gr.find(u,l[v].location),m=gd(xd(f.content)),x=0;x<m.length;++x)g=m[x],g.id==v&&(h=g);var b=bs(h.messages[0].data);{b[6][0].data=$s(n.e.r+1),b[7][0].data=$s(n.e.c+1);var _=Tl(b[46][0].data),w=Gr.find(u,l[_].location),N=gd(xd(w.content));{for(var S=0;S<N.length&&N[S].id!=_;++S);if(N[S].id!=_)throw"Bad ColumnRowUIDMapArchive";var C=bs(N[S].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var A=0;A<=n.e.c;++A){var R=[];R[1]=R[2]=[{type:0,data:$s(A+420690)}],C[1].push({type:2,data:rl(R)}),C[2].push({type:0,data:$s(A)}),C[3].push({type:0,data:$s(A)})}C[4]=[],C[5]=[],C[6]=[];for(var O=0;O<=n.e.r;++O)R=[],R[1]=R[2]=[{type:0,data:$s(O+726270)}],C[4].push({type:2,data:rl(R)}),C[5].push({type:0,data:$s(O)}),C[6].push({type:0,data:$s(O)});N[S].messages[0].data=rl(C)}w.content=n1(r1(N)),w.size=w.content.length,delete b[46];var D=bs(b[4][0].data);{D[7][0].data=$s(n.e.r+1);var P=bs(D[1][0].data),E=Tl(P[2][0].data);w=Gr.find(u,l[E].location),N=gd(xd(w.content));{if(N[0].id!=E)throw"Bad HeaderStorageBucket";var I=bs(N[0].messages[0].data);for(O=0;O<i.length;++O){var M=bs(I[2][0].data);M[1][0].data=$s(O),M[4][0].data=$s(i[O].length),I[2][O]={type:I[2][0].type,data:rl(M)}}N[0].messages[0].data=rl(I)}w.content=n1(r1(N)),w.size=w.content.length;var U=Tl(D[2][0].data);w=Gr.find(u,l[U].location),N=gd(xd(w.content));{if(N[0].id!=U)throw"Bad HeaderStorageBucket";for(I=bs(N[0].messages[0].data),A=0;A<=n.e.c;++A)M=bs(I[2][0].data),M[1][0].data=$s(A),M[4][0].data=$s(n.e.r+1),I[2][A]={type:I[2][0].type,data:rl(M)};N[0].messages[0].data=rl(I)}w.content=n1(r1(N)),w.size=w.content.length;var W=Tl(D[4][0].data);(function(){for(var X=Gr.find(u,l[W].location),K=gd(xd(X.content)),Q,oe=0;oe<K.length;++oe){var ce=K[oe];ce.id==W&&(Q=ce)}var de=bs(Q.messages[0].data);{de[3]=[];var ne=[];o.forEach(function(Z,Oe){ne[1]=[{type:0,data:$s(Oe)}],ne[2]=[{type:0,data:$s(1)}],ne[3]=[{type:2,data:l$e(Z)}],de[3].push({type:2,data:rl(ne)})})}Q.messages[0].data=rl(de);var ue=r1(K),se=n1(ue);X.content=se,X.size=X.content.length})();var Y=bs(D[3][0].data);{var J=Y[1][0];delete Y[2];var z=bs(J.data);{var q=Tl(z[2][0].data);(function(){for(var X=Gr.find(u,l[q].location),K=gd(xd(X.content)),Q,oe=0;oe<K.length;++oe){var ce=K[oe];ce.id==q&&(Q=ce)}var de=bs(Q.messages[0].data);{delete de[6],delete Y[7];var ne=new Uint8Array(de[5][0].data);de[5]=[];for(var ue=0,se=0;se<=n.e.r;++se){var Z=bs(ne);ue+=_$e(Z,i[se],o),Z[1][0].data=$s(se),de[5].push({data:rl(Z),type:2})}de[1]=[{type:0,data:$s(n.e.c+1)}],de[2]=[{type:0,data:$s(n.e.r+1)}],de[3]=[{type:0,data:$s(ue)}],de[4]=[{type:0,data:$s(n.e.r+1)}]}Q.messages[0].data=rl(de);var Oe=r1(K),re=n1(Oe);X.content=re,X.size=X.content.length})()}J.data=rl(z)}D[3][0].data=rl(Y)}b[4][0].data=rl(D)}h.messages[0].data=rl(b);var V=r1(m),L=n1(V);return f.content=L,f.size=f.content.length,u}function gfe(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Y9(t){gfe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function K9(t){gfe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function N$e(t){return Kn.WS.indexOf(t)>-1?"sheet":t==Kn.CS?"chart":t==Kn.DS?"dialog":t==Kn.MS?"macro":t&&t.length?t:"sheet"}function S$e(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,N$e(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function k$e(t,e,r,n,a,i,o,l,c,u,d,f){try{i[n]=A2(Tu(t,r,!0),e);var m=Vi(t,e),h;switch(l){case"sheet":h=Z7e(m,e,a,c,i[n],u,d,f);break;case"chart":if(h=Q7e(m,e,a,c,i[n],u,d,f),!h||!h["!drawel"])break;var x=Q_(h["!drawel"].Target,e),g=Pj(x),v=BFe(Tu(t,x,!0),A2(Tu(t,g,!0),x)),b=Q_(v,x),_=Pj(b);h=C7e(Tu(t,b,!0),b,c,A2(Tu(t,_,!0),b),u,h);break;case"macro":h=e9e(m,e,a,c,i[n],u,d,f);break;case"dialog":h=t9e(m,e,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=h;var w=[];i&&i[n]&&yi(i[n]).forEach(function(N){var S="";if(i[n][N].Type==Kn.CMNT){S=Q_(i[n][N].Target,e);var C=a9e(Vi(t,S,!0),S,c);if(!C||!C.length)return;AH(h,C,!1)}i[n][N].Type==Kn.TCMNT&&(S=Q_(i[n][N].Target,e),w=w.concat(zFe(Vi(t,S,!0),c)))}),w&&w.length&&AH(h,w,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function ud(t){return t.charAt(0)=="/"?t.slice(1):t}function xfe(t,e){if(ww(),e=e||{},Y9(e),wd(t,"META-INF/manifest.xml")||wd(t,"objectdata.xml"))return $H(t,e);if(wd(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof C3<"u"){if(t.FileIndex)return C3(t);var r=Gr.utils.cfb_new();return KW(t).forEach(function(M){In(r,M,qOe(t,M))}),C3(r)}throw new Error("Unsupported NUMBERS file")}if(!wd(t,"[Content_Types].xml"))throw wd(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):wd(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=KW(t),a=FDe(Tu(t,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Vi(t,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Vi(t,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!e.bookSheets&&!e.bookProps){if(E2=[],a.sst)try{E2=s9e(Vi(t,ud(a.sst)),a.sst,e)}catch(M){if(e.WTF)throw M}e.cellStyles&&a.themes.length&&(c=n9e(Tu(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(u=r9e(Vi(t,ud(a.style)),a.style,c,e))}a.links.map(function(M){try{var U=A2(Tu(t,Pj(ud(M))),M);return o9e(Vi(t,ud(M)),U,M,e)}catch{}});var d=J7e(Vi(t,ud(a.workbooks[0])),a.workbooks[0],e),f={},m="";a.coreprops.length&&(m=Vi(t,ud(a.coreprops[0]),!0),m&&(f=ede(m)),a.extprops.length!==0&&(m=Vi(t,ud(a.extprops[0]),!0),m&&qDe(m,f,e)));var h={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(m=Tu(t,ud(a.custprops[0]),!0),m&&(h=WDe(m,e)));var x={};if((e.bookSheets||e.bookProps)&&(d.Sheets?o=d.Sheets.map(function(U){return U.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),e.bookProps&&(x.Props=f,x.Custprops=h),e.bookSheets&&typeof o<"u"&&(x.SheetNames=o),e.bookSheets?x.SheetNames:e.bookProps))return x;o={};var g={};e.bookDeps&&a.calcchain&&(g=i9e(Vi(t,ud(a.calcchain)),a.calcchain));var v=0,b={},_,w;{var N=d.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var S=0;S!=N.length;++S)f.SheetNames[S]=N[S].name}var C=i?"bin":"xml",A=a.workbooks[0].lastIndexOf("/"),R=(a.workbooks[0].slice(0,A+1)+"_rels/"+a.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");wd(t,R)||(R="xl/_rels/workbook."+C+".rels");var O=A2(Tu(t,R,!0),R.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=l9e(Vi(t,ud(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=VFe(Vi(t,ud(a.people[0])),e)),O&&(O=S$e(O,d.Sheets));var D=Vi(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var P="sheet";if(O&&O[v]?(_="xl/"+O[v][1].replace(/[\/]?xl\//,""),wd(t,_)||(_=O[v][1]),wd(t,_)||(_=R.replace(/_rels\/.*$/,"")+O[v][1]),P=O[v][2]):(_="xl/worksheets/sheet"+(v+1-D)+"."+C,_=_.replace(/sheet0\./,"sheet.")),w=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(v!=e.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var E=!1,I=0;I!=e.sheets.length;++I)typeof e.sheets[I]=="number"&&e.sheets[I]==v&&(E=1),typeof e.sheets[I]=="string"&&e.sheets[I].toLowerCase()==f.SheetNames[v].toLowerCase()&&(E=1);if(!E)continue e}}k$e(t,_,w,f.SheetNames[v],v,b,o,P,e,d,c,u)}return x={Directory:a,Workbook:d,Props:f,Custprops:h,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:E2,Styles:u,Themes:c,SSF:ia(Zr)},e&&e.bookFiles&&(t.files?(x.keys=n,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(M,U){M=M.replace(/^Root Entry[\/]/,""),x.keys.push(M),x.files[M]=t.FileIndex[U]}))),e&&e.bookVBA&&(a.vba.length>0?x.vbaraw=Vi(t,ud(a.vba[0]),!0):a.defaults&&a.defaults.bin===ZFe&&(x.vbaraw=Vi(t,"xl/vbaProject.bin",!0))),x}function C$e(t,e){var r=e||{},n="Workbook",a=Gr.find(t,n);try{if(n="/!DataSpaces/Version",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(cIe(a.content),n="/!DataSpaces/DataSpaceMap",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=dIe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=fIe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);mIe(a.content)}catch{}if(n="/EncryptionInfo",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=pIe(a.content);if(n="/EncryptedPackage",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function A$e(t,e){return e.bookType=="ods"?pfe(t,e):e.bookType=="numbers"?j$e(t,e):e.bookType=="xlsb"?E$e(t,e):vfe(t,e)}function E$e(t,e){C1=1024,t&&!t.SSF&&(t.SSF=ia(Zr)),t&&t.SSF&&(ww(),nS(t.SSF),e.revssf=xE(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,P2?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=$de.indexOf(e.bookType)>-1,a=D9();K9(e=e||{});var i=p9(),o="",l=0;if(e.cellXfs=[],kg(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",In(i,o,tde(t.Props,e)),a.coreprops.push(o),Us(e.rels,2,o,Kn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,In(i,o,sde(t.Props)),a.extprops.push(o),Us(e.rels,3,o,Kn.EXT_PROPS),t.Custprops!==t.Props&&yi(t.Custprops||{}).length>0&&(o="docProps/custom.xml",In(i,o,ade(t.Custprops)),a.custprops.push(o),Us(e.rels,4,o,Kn.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var d={"!id":{}},f=t.Sheets[t.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,In(i,o,u9e(l-1,o,e,t,d)),a.sheets.push(o),Us(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Kn.WS[0])}if(f){var h=f["!comments"],x=!1,g="";h&&h.length>0&&(g="xl/comments"+l+"."+r,In(i,g,h9e(h,g)),a.comments.push(g),Us(d,-1,"../comments"+l+"."+r,Kn.CMNT),x=!0),f["!legacy"]&&x&&In(i,"xl/drawings/vmlDrawing"+l+".vml",Mde(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&In(i,Pj(o),eb(d))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,In(i,o,f9e(e.Strings,o,e)),a.strs.push(o),Us(e.wbrels,-1,"sharedStrings."+r,Kn.SST)),o="xl/workbook."+r,In(i,o,c9e(t,o)),a.workbooks.push(o),Us(e.rels,1,o,Kn.WB),o="xl/theme/theme1.xml",In(i,o,$9(t.Themes,e)),a.themes.push(o),Us(e.wbrels,-1,"theme/theme1.xml",Kn.THEME),o="xl/styles."+r,In(i,o,d9e(t,o,e)),a.styles.push(o),Us(e.wbrels,-1,"styles."+r,Kn.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",In(i,o,t.vbaraw),a.vba.push(o),Us(e.wbrels,-1,"vbaProject.bin",Kn.VBA)),o="xl/metadata."+r,In(i,o,m9e(o)),a.metadata.push(o),Us(e.wbrels,-1,"metadata."+r,Kn.XLMETA),In(i,"[Content_Types].xml",Zue(a,e)),In(i,"_rels/.rels",eb(e.rels)),In(i,"xl/_rels/workbook."+r+".rels",eb(e.wbrels)),delete e.revssf,delete e.ssf,i}function vfe(t,e){C1=1024,t&&!t.SSF&&(t.SSF=ia(Zr)),t&&t.SSF&&(ww(),nS(t.SSF),e.revssf=xE(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,P2?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=$de.indexOf(e.bookType)>-1,a=D9();K9(e=e||{});var i=p9(),o="",l=0;if(e.cellXfs=[],kg(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",In(i,o,tde(t.Props,e)),a.coreprops.push(o),Us(e.rels,2,o,Kn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,In(i,o,sde(t.Props)),a.extprops.push(o),Us(e.rels,3,o,Kn.EXT_PROPS),t.Custprops!==t.Props&&yi(t.Custprops||{}).length>0&&(o="docProps/custom.xml",In(i,o,ade(t.Custprops)),a.custprops.push(o),Us(e.rels,4,o,Kn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var f={"!id":{}},m=t.Sheets[t.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,In(i,o,Xde(l-1,e,t,f)),a.sheets.push(o),Us(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Kn.WS[0])}if(m){var x=m["!comments"],g=!1,v="";if(x&&x.length>0){var b=!1;x.forEach(function(_){_[1].forEach(function(w){w.T==!0&&(b=!0)})}),b&&(v="xl/threadedComments/threadedComment"+l+"."+r,In(i,v,qFe(x,d,e)),a.threadedcomments.push(v),Us(f,-1,"../threadedComments/threadedComment"+l+"."+r,Kn.TCMNT)),v="xl/comments"+l+"."+r,In(i,v,Lde(x)),a.comments.push(v),Us(f,-1,"../comments"+l+"."+r,Kn.CMNT),g=!0}m["!legacy"]&&g&&In(i,"xl/drawings/vmlDrawing"+l+".vml",Mde(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&In(i,Pj(o),eb(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,In(i,o,Sde(e.Strings,e)),a.strs.push(o),Us(e.wbrels,-1,"sharedStrings."+r,Kn.SST)),o="xl/workbook."+r,In(i,o,rfe(t)),a.workbooks.push(o),Us(e.rels,1,o,Kn.WB),o="xl/theme/theme1.xml",In(i,o,$9(t.Themes,e)),a.themes.push(o),Us(e.wbrels,-1,"theme/theme1.xml",Kn.THEME),o="xl/styles."+r,In(i,o,Dde(t,e)),a.styles.push(o),Us(e.wbrels,-1,"styles."+r,Kn.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",In(i,o,t.vbaraw),a.vba.push(o),Us(e.wbrels,-1,"vbaProject.bin",Kn.VBA)),o="xl/metadata."+r,In(i,o,Fde()),a.metadata.push(o),Us(e.wbrels,-1,"metadata."+r,Kn.XLMETA),d.length>1&&(o="xl/persons/person.xml",In(i,o,WFe(d)),a.people.push(o),Us(e.wbrels,-1,"persons/person.xml",Kn.PEOPLE)),In(i,"[Content_Types].xml",Zue(a,e)),In(i,"_rels/.rels",eb(e.rels)),In(i,"xl/_rels/workbook."+r+".rels",eb(e.wbrels)),delete e.revssf,delete e.ssf,i}function X9(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Hu(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function P$e(t,e){return Gr.find(t,"EncryptedPackage")?C$e(t,e):H9(t,e)}function T$e(t,e){var r,n=t,a=e||{};return a.type||(a.type=Bn&&Buffer.isBuffer(t)?"buffer":"base64"),r=Tue(n,a),xfe(r,a)}function yfe(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return f8(t.slice(r),e);default:break e}return Eb.to_workbook(t,e)}function O$e(t,e){var r="",n=X9(t,e);switch(e.type){case"base64":r=Hu(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Nv(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Js(r)),e.type="binary",yfe(r,e)}function D$e(t,e){var r=t;return e.type=="base64"&&(r=Hu(r)),r=cs.utils.decode(1200,r.slice(2),"str"),e.type="binary",yfe(r,e)}function R$e(t){return t.match(/[^\x00-\x7F]/)?kh(t):t}function A3(t,e,r,n){return n?(r.type="string",Eb.to_workbook(t,r)):Eb.to_workbook(e,r)}function nC(t,e){pE();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return nC(new Uint8Array(t),(r=ia(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),rb={},r.dateNF&&(rb.dateNF=r.dateNF),r.type||(r.type=Bn&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Bn?"buffer":"binary",n=IOe(t),typeof Uint8Array<"u"&&!Bn&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=R$e(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=ia(r),r.type="array",nC(d9(n),r)}switch((a=X9(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return P$e(Gr.read(n,r),r);break;case 9:if(a[1]<=8)return H9(n,r);break;case 60:return f8(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return HRe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return jde.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?T$e(n,r):A3(t,n,r,i);case 239:return a[3]===60?f8(n,r):A3(t,n,r,i);case 255:if(a[1]===254)return D$e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return ev.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ev.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return d8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Pde.to_workbook(n,r);break;case 10:case 13:case 32:return O$e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return WRe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?d8.to_workbook(n,r):A3(t,n,r,i)}function VH(t,e){var r=e||{};return r.type="file",nC(t,r)}function bfe(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return sS(e.file,Gr.write(t,{type:Bn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Gr.write(t,e)}function I$e(t,e){var r=ia(e||{}),n=A$e(t,r);return wfe(n,r)}function F$e(t,e){var r=ia(e||{}),n=vfe(t,r);return wfe(n,r)}function wfe(t,e){var r={},n=Bn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?Gr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(rS(a))}return e.password&&typeof encrypt_agile<"u"?bfe(encrypt_agile(a,e.password),e):e.type==="file"?sS(e.file,a):e.type=="string"?Js(a):a}function M$e(t,e){var r=e||{},n=B9e(t,r);return bfe(n,r)}function ph(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Sj(kh(n));case"binary":return kh(n);case"string":return t;case"file":return sS(e.file,n,"utf8");case"buffer":return Bn?jp(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ph(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function L$e(t,e){switch(e.type){case"base64":return Sj(t);case"binary":return t;case"string":return t;case"file":return sS(e.file,t,"binary");case"buffer":return Bn?jp(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Gk(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Sj(r):e.type=="string"?Js(r):r;case"file":return sS(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function J9(t,e){pE(),tfe(t);var r=ia(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=J9(t,r);return r.type="array",rS(n)}return F$e(t,r)}function NE(t,e){pE(),tfe(t);var r=ia(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=NE(t,r);return r.type="array",rS(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ph(D9e(t,r),r);case"slk":case"sylk":return ph(_de.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return ph(dfe(t.Sheets[t.SheetNames[a]],r),r);case"txt":return L$e(Nfe(t.Sheets[t.SheetNames[a]],r),r);case"csv":return ph(Q9(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return ph(jde.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return Gk(d8.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return ph(Eb.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return ph(Pde.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return ph(Nde.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return ph(pfe(t,r),r);case"wk1":return Gk(ev.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return Gk(ev.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Gk(ife(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),M$e(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return I$e(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Z9(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Ev(t,e,r){var n=r||{};return n.type="file",n.file=e,Z9(n),NE(t,n)}function $$e(t,e,r){var n=r||{};return n.type="file",n.file=e,Z9(n),J9(t,n)}function B$e(t,e,r,n){var a=r||{};a.type="file",a.file=t,Z9(a),a.type="buffer";var i=n;return i instanceof Function||(i=r),O0.writeFile(t,NE(e,a),i)}function _fe(t,e,r,n,a,i,o,l){var c=gi(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||t[r])for(var h=e.s.c;h<=e.e.c;++h){var x=o?t[r][h]:t[n[h]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[h]!=null&&(m[i[h]]=u);continue}var g=x.v;switch(x.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[h]!=null){if(g==null)if(x.t=="e"&&g===null)m[i[h]]=null;else if(u!==void 0)m[i[h]]=u;else if(d&&g===null)m[i[h]]=null;else continue;else m[i[h]]=d&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?g:qh(x,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function sC(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=ns(d);break;case"number":c=ns(t["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=gi(c.s.r),m=[],h=[],x=0,g=0,v=Array.isArray(t),b=c.s.r,_=0,w={};v&&!t[b]&&(t[b]=[]);var N=u.skipHidden&&t["!cols"]||[],S=u.skipHidden&&t["!rows"]||[];for(_=c.s.c;_<=c.e.c;++_)if(!(N[_]||{}).hidden)switch(m[_]=Sa(_),r=v?t[b][_]:t[m[_]+f],n){case 1:i[_]=_-c.s.c;break;case 2:i[_]=m[_];break;case 3:i[_]=u.header[_-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=qh(r,null,u),g=w[o]||0,!g)w[o]=1;else{do l=o+"_"+g++;while(w[l]);w[o]=g,w[l]=1}i[_]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(S[b]||{}).hidden){var C=_fe(t,c,b,m,n,i,v,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[x++]=C.row)}return h.length=x,h}var WH=/"/g;function jfe(t,e,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=gi(r),m=e.s.c;m<=e.e.c;++m)if(n[m]){var h=l.dense?(t[r]||[])[m]:t[n[m]+f];if(h==null)d="";else if(h.v!=null){c=!1,d=""+(l.rawNumbers&&h.t=="n"?h.v:qh(h,null,l));for(var x=0,g=0;x!==d.length;++x)if((g=d.charCodeAt(x))===a||g===i||g===34||l.forceQuotes){d='"'+d.replace(WH,'""')+'"';break}d=="ID"&&(d='"ID"')}else h.f!=null&&!h.F?(c=!1,d="="+h.f,d.indexOf(",")>=0&&(d='"'+d.replace(WH,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function Q9(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=ns(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=Sa(x));for(var g=0,v=a.s.r;v<=a.e.r;++v)(h[v]||{}).hidden||(d=jfe(t,a,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function Nfe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Q9(t,e);if(typeof cs>"u"||e.type=="string")return r;var n=cs.utils.encode(1200,r,"str");return""+n}function U$e(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=ns(t["!ref"]),i="",o=[],l,c=[],u=Array.isArray(t);for(l=a.s.c;l<=a.e.c;++l)o[l]=Sa(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=gi(d),l=a.s.c;l<=a.e.c;++l)if(e=o[l]+i,r=u?(t[d]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function Sfe(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?ei(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+e.length-1+a}};if(i["!ref"]){var f=ns(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+e.length-1+a)}else o==-1&&(o=0,d.e.r=e.length-1+a);var m=n.header||[],h=0;e.forEach(function(g,v){yi(g).forEach(function(b){(h=m.indexOf(b))==-1&&(m[h=m.length]=b);var _=g[b],w="z",N="",S=an({c:l+h,r:o+v+a});u=Mj(i,S),_&&typeof _=="object"&&!(_ instanceof Date)?i[S]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",n.cellDates||(w="n",_=So(_)),N=n.dateNF||Zr[14]):_===null&&n.nullError&&(w="e",_=0),u?(u.t=w,u.v=_,delete u.w,delete u.R,N&&(u.z=N)):i[S]=u={t:w,v:_},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var x=gi(o);if(a)for(h=0;h<m.length;++h)i[Sa(h+l)+x]={t:"s",v:m[h]};return i["!ref"]=Dn(d),i}function z$e(t,e){return Sfe(null,t,e)}function Mj(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=ei(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Mj(t,an(e)):Mj(t,an({r:e,c:r||0}))}function q$e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function e$(){return{SheetNames:[],Sheets:{}}}function t$(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=o+a)!=-1;++a);}if(efe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function V$e(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=q$e(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function W$e(t,e){return t.z=e,t}function kfe(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function H$e(t,e,r){return kfe(t,"#"+e,r)}function G$e(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Y$e(t,e,r,n){for(var a=typeof e!="string"?e:ns(e),i=typeof e=="string"?e:Dn(e),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Mj(t,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return t}var Qi={encode_col:Sa,encode_row:gi,encode_cell:an,encode_range:Dn,decode_col:C9,decode_row:k9,split_cell:hDe,decode_cell:ei,decode_range:xc,format_cell:qh,sheet_add_aoa:Wue,sheet_add_json:Sfe,sheet_add_dom:ffe,aoa_to_sheet:jw,json_to_sheet:z$e,table_to_sheet:hfe,table_to_book:s$e,sheet_to_csv:Q9,sheet_to_txt:Nfe,sheet_to_json:sC,sheet_to_html:dfe,sheet_to_formulae:U$e,sheet_to_row_object_array:sC,sheet_get_cell:Mj,book_new:e$,book_append_sheet:t$,book_set_sheet_visibility:V$e,cell_set_number_format:W$e,cell_set_hyperlink:kfe,cell_set_internal_link:H$e,cell_add_comment:G$e,sheet_set_array_formula:Y$e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},SE;function K$e(t){SE=t}function X$e(t,e){var r=SE(),n=e??{};if(t==null||t["!ref"]==null)return r.push(null),r;var a=ns(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=Sa(x));var g=a.s.r,v=!1,b=0;return r._read=function(){if(!v)return v=!0,r.push("\uFEFF");for(;g<=a.e.r;)if(++g,!(h[g-1]||{}).hidden&&(d=jfe(t,a,g-1,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),d||n.blankrows!==!1)))return r.push((b++?l:"")+d);return r.push(null)},r}function J$e(t,e){var r=SE(),n=e||{},a=n.header!=null?n.header:lfe,i=n.footer!=null?n.footer:cfe;r.push(a);var o=xc(t["!ref"]);n.dense=Array.isArray(t),r.push(ufe(t,o,n));var l=o.s.r,c=!1;return r._read=function(){if(l>o.e.r)return c||(c=!0,r.push("</table>"+i)),r.push(null);for(;l<=o.e.r;){r.push(ofe(t,o,l,n)),++l;break}},r}function Z$e(t,e){var r=SE({objectMode:!0});if(t==null||t["!ref"]==null)return r.push(null),r;var n={t:"n",v:0},a=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},f=d.range!=null?d.range:t["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)&&(a=3),typeof f){case"string":u=ns(f);break;case"number":u=ns(t["!ref"]),u.s.r=f;break;default:u=f}a>0&&(i=0);var m=gi(u.s.r),h=[],x=0,g=Array.isArray(t),v=u.s.r,b=0,_={};g&&!t[v]&&(t[v]=[]);var w=d.skipHidden&&t["!cols"]||[],N=d.skipHidden&&t["!rows"]||[];for(b=u.s.c;b<=u.e.c;++b)if(!(w[b]||{}).hidden)switch(h[b]=Sa(b),n=g?t[v][b]:t[h[b]+m],a){case 1:o[b]=b-u.s.c;break;case 2:o[b]=h[b];break;case 3:o[b]=d.header[b-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=qh(n,null,d),x=_[l]||0,!x)_[l]=1;else{do c=l+"_"+x++;while(_[c]);_[l]=x,_[c]=1}o[b]=c}return v=u.s.r+i,r._read=function(){for(;v<=u.e.r;)if(!(N[v-1]||{}).hidden){var S=_fe(t,u,v,h,a,o,g,d);if(++v,S.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows)){r.push(S.row);return}}return r.push(null)},r}var Q$e={to_json:Z$e,to_html:J$e,to_csv:X$e,set_readable:K$e};const eBe=Nj.version,Cfe=Object.freeze(Object.defineProperty({__proto__:null,CFB:Gr,SSF:Sue,parse_xlscfb:H9,parse_zip:xfe,read:nC,readFile:VH,readFileSync:VH,set_cptable:sOe,set_fs:DOe,stream:Q$e,utils:Qi,version:eBe,write:NE,writeFile:Ev,writeFileAsync:B$e,writeFileSync:Ev,writeFileXLSX:$$e,writeXLSX:J9},Symbol.toStringTag,{value:"Module"}));var tBe="Separator",HH="horizontal",rBe=["horizontal","vertical"],Afe=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=HH,...a}=t,i=nBe(n)?n:HH,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(xr.div,{"data-orientation":i,...l,...a,ref:e})});Afe.displayName=tBe;function nBe(t){return rBe.includes(t)}var Efe=Afe;const Ax=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>s.jsx(Efe,{ref:a,decorative:r,orientation:e,className:Gt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ax.displayName=Efe.displayName;function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}var qf=Uint8Array,Iu=Uint16Array,r$=Int32Array,n$=new qf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s$=new qf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),GH=new qf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pfe=function(t,e){for(var r=new Iu(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new r$(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Tfe=Pfe(n$,2),sBe=Tfe.b,p8=Tfe.r;sBe[28]=258,p8[258]=28;var aBe=Pfe(s$,0),YH=aBe.r,g8=new Iu(32768);for(var Na=0;Na<32768;++Na){var u0=(Na&43690)>>1|(Na&21845)<<1;u0=(u0&52428)>>2|(u0&13107)<<2,u0=(u0&61680)>>4|(u0&3855)<<4,g8[Na]=((u0&65280)>>8|(u0&255)<<8)>>1}var D2=(function(t,e,r){for(var n=t.length,a=0,i=new Iu(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new Iu(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Iu(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=o[t[a]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[g8[f]>>c]=u}else for(l=new Iu(n),a=0;a<n;++a)t[a]&&(l[a]=g8[o[t[a]-1]++]>>15-t[a]);return l}),Pv=new qf(288);for(var Na=0;Na<144;++Na)Pv[Na]=8;for(var Na=144;Na<256;++Na)Pv[Na]=9;for(var Na=256;Na<280;++Na)Pv[Na]=7;for(var Na=280;Na<288;++Na)Pv[Na]=8;var aC=new qf(32);for(var Na=0;Na<32;++Na)aC[Na]=5;var iBe=D2(Pv,9,0),oBe=D2(aC,5,0),Ofe=function(t){return(t+7)/8|0},lBe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new qf(t.subarray(e,r))},Om=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},w_=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},E3=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:Rfe,l:0};if(a==1){var o=new qf(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,C){return S.f-C.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var h=new Iu(m+1),x=x8(r[d-1],h,0);if(x>e){var n=0,g=0,v=x-e,b=1<<v;for(i.sort(function(C,A){return h[A.s]-h[C.s]||C.f-A.f});n<a;++n){var _=i[n].s;if(h[_]>e)g+=b-(1<<x-h[_]),h[_]=e;else break}for(g>>=v;g>0;){var w=i[n].s;h[w]<e?g-=1<<e-h[w]++-1:++n}for(;n>=0&&g;--n){var N=i[n].s;h[N]==e&&(--h[N],++g)}x=e}return{t:new qf(h),l:x}},x8=function(t,e,r){return t.s==-1?Math.max(x8(t.l,e,r+1),x8(t.r,e,r+1)):e[t.s]=r},KH=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Iu(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},__=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Dfe=function(t,e,r){var n=r.length,a=Ofe(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},XH=function(t,e,r,n,a,i,o,l,c,u,d){Om(e,d++,r),++a[256];for(var f=E3(a,15),m=f.t,h=f.l,x=E3(i,15),g=x.t,v=x.l,b=KH(m),_=b.c,w=b.n,N=KH(g),S=N.c,C=N.n,A=new Iu(19),R=0;R<_.length;++R)++A[_[R]&31];for(var R=0;R<S.length;++R)++A[S[R]&31];for(var O=E3(A,7),D=O.t,P=O.l,E=19;E>4&&!D[GH[E-1]];--E);var I=u+5<<3,M=__(a,Pv)+__(i,aC)+o,U=__(a,m)+__(i,g)+o+14+3*E+__(A,D)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&I<=M&&I<=U)return Dfe(e,d,t.subarray(c,c+u));var W,Y,J,z;if(Om(e,d,1+(U<M)),d+=2,U<M){W=D2(m,h,0),Y=m,J=D2(g,v,0),z=g;var q=D2(D,P,0);Om(e,d,w-257),Om(e,d+5,C-1),Om(e,d+10,E-4),d+=14;for(var R=0;R<E;++R)Om(e,d+3*R,D[GH[R]]);d+=3*E;for(var V=[_,S],L=0;L<2;++L)for(var X=V[L],R=0;R<X.length;++R){var K=X[R]&31;Om(e,d,q[K]),d+=D[K],K>15&&(Om(e,d,X[R]>>5&127),d+=X[R]>>12)}}else W=iBe,Y=Pv,J=oBe,z=aC;for(var R=0;R<l;++R){var Q=n[R];if(Q>255){var K=Q>>18&31;w_(e,d,W[K+257]),d+=Y[K+257],K>7&&(Om(e,d,Q>>23&31),d+=n$[K]);var oe=Q&31;w_(e,d,J[oe]),d+=z[oe],oe>3&&(w_(e,d,Q>>5&8191),d+=s$[oe])}else w_(e,d,W[Q]),d+=Y[Q]}return w_(e,d,W[256]),d+Y[256]},cBe=new r$([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Rfe=new qf(0),uBe=function(t,e,r,n,a,i){var o=i.z||t.length,l=new qf(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=cBe[e-1],m=f>>13,h=f&8191,x=(1<<r)-1,g=i.p||new Iu(32768),v=i.h||new Iu(x+1),b=Math.ceil(r/3),_=2*b,w=function(re){return(t[re]^t[re+1]<<b^t[re+2]<<_)&x},N=new r$(25e3),S=new Iu(288),C=new Iu(32),A=0,R=0,O=i.i||0,D=0,P=i.w||0,E=0;O+2<o;++O){var I=w(O),M=O&32767,U=v[I];if(g[M]=U,v[I]=M,P<=O){var W=o-O;if((A>7e3||D>24576)&&(W>423||!u)){d=XH(t,c,0,N,S,C,R,D,E,O-E,d),D=A=R=0,E=O;for(var Y=0;Y<286;++Y)S[Y]=0;for(var Y=0;Y<30;++Y)C[Y]=0}var J=2,z=0,q=h,V=M-U&32767;if(W>2&&I==w(O-V))for(var L=Math.min(m,W)-1,X=Math.min(32767,O),K=Math.min(258,W);V<=X&&--q&&M!=U;){if(t[O+J]==t[O+J-V]){for(var Q=0;Q<K&&t[O+Q]==t[O+Q-V];++Q);if(Q>J){if(J=Q,z=V,Q>L)break;for(var oe=Math.min(V,Q-2),ce=0,Y=0;Y<oe;++Y){var de=O-V+Y&32767,ne=g[de],ue=de-ne&32767;ue>ce&&(ce=ue,U=de)}}}M=U,U=g[M],V+=M-U&32767}if(z){N[D++]=268435456|p8[J]<<18|YH[z];var se=p8[J]&31,Z=YH[z]&31;R+=n$[se]+s$[Z],++S[257+se],++C[Z],P=O+J,++A}else N[D++]=t[O],++S[t[O]]}}for(O=Math.max(O,P);O<o;++O)N[D++]=t[O],++S[t[O]];d=XH(t,c,u,N,S,C,R,D,E,O-E,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=g,i.i=O,i.w=P)}else{for(var O=i.w||0;O<o+u;O+=65535){var Oe=O+65535;Oe>=o&&(c[d/8|0]=u,Oe=o),d=Dfe(c,d+1,t.subarray(O,Oe))}i.i=o}return lBe(l,0,n+Ofe(d)+a)},Ife=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},dBe=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new qf(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return uBe(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Ffe=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},fBe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=Ife();a.p(e.dictionary),Ffe(t,2,a.d())}};function v8(t,e){e||(e={});var r=Ife();r.p(t);var n=dBe(t,e,e.dictionary?6:2,4);return fBe(n,e),Ffe(n,n.length-4,r.d()),n}var hBe=typeof TextDecoder<"u"&&new TextDecoder,mBe=0;try{hBe.decode(Rfe,{stream:!0}),mBe=1}catch{}function pBe(t){if(Array.isArray(t))return t}function gBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xBe(t,e){if(t){if(typeof t=="string")return JH(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JH(t,e):void 0}}function vBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(t,e){return pBe(t)||gBe(t,e)||xBe(t,e)||vBe()}function QH(t,e="utf8"){return new TextDecoder(e).decode(t)}const yBe=new TextEncoder;function bBe(t){return yBe.encode(t)}const wBe=1024*8,_Be=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),P3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class a${buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=wBe,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof a$)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=P3[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===_Be&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new P3[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new P3[r](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return QH(this.readBytes(e))}decodeText(e=1,r="utf8"){return QH(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(bBe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Sw(t){let e=t.length;for(;--e>=0;)t[e]=0}const jBe=3,NBe=258,Mfe=29,SBe=256,kBe=SBe+1+Mfe,Lfe=30,CBe=512,ABe=new Array((kBe+2)*2);Sw(ABe);const EBe=new Array(Lfe*2);Sw(EBe);const PBe=new Array(CBe);Sw(PBe);const TBe=new Array(NBe-jBe+1);Sw(TBe);const OBe=new Array(Mfe);Sw(OBe);const DBe=new Array(Lfe);Sw(DBe);const RBe=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var y8=RBe;const IBe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},FBe=new Uint32Array(IBe()),MBe=(t,e,r,n)=>{const a=FBe,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var fh=MBe,b8={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$fe={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const LBe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $Be=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)LBe(r,n)&&(t[n]=r[n])}}return t},BBe=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let o=t[n];r.set(o,a),a+=o.length}return r},Bfe={assign:$Be,flattenChunks:BBe};let Ufe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ufe=!1}const Lj=new Uint8Array(256);for(let t=0;t<256;t++)Lj[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lj[254]=Lj[254]=1;var UBe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,o=t.length,l=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const zBe=(t,e)=>{if(e<65534&&t.subarray&&Ufe)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var qBe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=t[n++];if(o<128){i[a++]=o;continue}let l=Lj[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return zBe(i,a)},VBe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Lj[t[r]]>e?r:e},w8={string2buf:UBe,buf2string:qBe,utf8border:VBe};function WBe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var HBe=WBe;const Yk=16209,GBe=16191;var YBe=function(e,r){let n,a,i,o,l,c,u,d,f,m,h,x,g,v,b,_,w,N,S,C,A,R,O,D;const P=e.state;n=e.next_in,O=e.input,a=n+(e.avail_in-5),i=e.next_out,D=e.output,o=i-(r-e.avail_out),l=i+(e.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,f=P.wnext,m=P.window,h=P.hold,x=P.bits,g=P.lencode,v=P.distcode,b=(1<<P.lenbits)-1,_=(1<<P.distbits)-1;e:do{x<15&&(h+=O[n++]<<x,x+=8,h+=O[n++]<<x,x+=8),w=g[h&b];t:for(;;){if(N=w>>>24,h>>>=N,x-=N,N=w>>>16&255,N===0)D[i++]=w&65535;else if(N&16){S=w&65535,N&=15,N&&(x<N&&(h+=O[n++]<<x,x+=8),S+=h&(1<<N)-1,h>>>=N,x-=N),x<15&&(h+=O[n++]<<x,x+=8,h+=O[n++]<<x,x+=8),w=v[h&_];r:for(;;){if(N=w>>>24,h>>>=N,x-=N,N=w>>>16&255,N&16){if(C=w&65535,N&=15,x<N&&(h+=O[n++]<<x,x+=8,x<N&&(h+=O[n++]<<x,x+=8)),C+=h&(1<<N)-1,C>c){e.msg="invalid distance too far back",P.mode=Yk;break e}if(h>>>=N,x-=N,N=i-o,C>N){if(N=C-N,N>d&&P.sane){e.msg="invalid distance too far back",P.mode=Yk;break e}if(A=0,R=m,f===0){if(A+=u-N,N<S){S-=N;do D[i++]=m[A++];while(--N);A=i-C,R=D}}else if(f<N){if(A+=u+f-N,N-=f,N<S){S-=N;do D[i++]=m[A++];while(--N);if(A=0,f<S){N=f,S-=N;do D[i++]=m[A++];while(--N);A=i-C,R=D}}}else if(A+=f-N,N<S){S-=N;do D[i++]=m[A++];while(--N);A=i-C,R=D}for(;S>2;)D[i++]=R[A++],D[i++]=R[A++],D[i++]=R[A++],S-=3;S&&(D[i++]=R[A++],S>1&&(D[i++]=R[A++]))}else{A=i-C;do D[i++]=D[A++],D[i++]=D[A++],D[i++]=D[A++],S-=3;while(S>2);S&&(D[i++]=D[A++],S>1&&(D[i++]=D[A++]))}}else if((N&64)===0){w=v[(w&65535)+(h&(1<<N)-1)];continue r}else{e.msg="invalid distance code",P.mode=Yk;break e}break}}else if((N&64)===0){w=g[(w&65535)+(h&(1<<N)-1)];continue t}else if(N&32){P.mode=GBe;break e}else{e.msg="invalid literal/length code",P.mode=Yk;break e}break}}while(n<a&&i<l);S=x>>3,n-=S,x-=S<<3,h&=(1<<x)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),P.hold=h,P.bits=x};const s1=15,eG=852,tG=592,rG=0,T3=1,nG=2,KBe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),XBe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),JBe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ZBe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),QBe=(t,e,r,n,a,i,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,x=0,g=0,v=0,b=0,_=0,w,N,S,C,A,R=null,O;const D=new Uint16Array(s1+1),P=new Uint16Array(s1+1);let E=null,I,M,U;for(u=0;u<=s1;u++)D[u]=0;for(d=0;d<n;d++)D[e[r+d]]++;for(h=c,m=s1;m>=1&&D[m]===0;m--);if(h>m&&(h=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&D[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=s1;u++)if(v<<=1,v-=D[u],v<0)return-1;if(v>0&&(t===rG||m!==1))return-1;for(P[1]=0,u=1;u<s1;u++)P[u+1]=P[u]+D[u];for(d=0;d<n;d++)e[r+d]!==0&&(o[P[e[r+d]]++]=d);if(t===rG?(R=E=o,O=20):t===T3?(R=KBe,E=XBe,O=257):(R=JBe,E=ZBe,O=0),_=0,d=0,u=f,A=i,x=h,g=0,S=-1,b=1<<h,C=b-1,t===T3&&b>eG||t===nG&&b>tG)return 1;for(;;){I=u-g,o[d]+1<O?(M=0,U=o[d]):o[d]>=O?(M=E[o[d]-O],U=R[o[d]-O]):(M=96,U=0),w=1<<u-g,N=1<<x,f=N;do N-=w,a[A+(_>>g)+N]=I<<24|M<<16|U|0;while(N!==0);for(w=1<<u-1;_&w;)w>>=1;if(w!==0?(_&=w-1,_+=w):_=0,d++,--D[u]===0){if(u===m)break;u=e[r+o[d]]}if(u>h&&(_&C)!==S){for(g===0&&(g=h),A+=f,x=u-g,v=1<<x;x+g<m&&(v-=D[x+g],!(v<=0));)x++,v<<=1;if(b+=1<<x,t===T3&&b>eG||t===nG&&b>tG)return 1;S=_&C,a[S]=h<<24|x<<16|A-i|0}}return _!==0&&(a[A+_]=u-g<<24|64<<16|0),l.bits=h,0};var R2=QBe;const eUe=0,zfe=1,qfe=2,{Z_FINISH:sG,Z_BLOCK:tUe,Z_TREES:Kk,Z_OK:Tv,Z_STREAM_END:rUe,Z_NEED_DICT:nUe,Z_STREAM_ERROR:Ld,Z_DATA_ERROR:Vfe,Z_MEM_ERROR:Wfe,Z_BUF_ERROR:sUe,Z_DEFLATED:aG}=$fe,kE=16180,iG=16181,oG=16182,lG=16183,cG=16184,uG=16185,dG=16186,fG=16187,hG=16188,mG=16189,iC=16190,Dm=16191,O3=16192,pG=16193,D3=16194,gG=16195,xG=16196,vG=16197,yG=16198,Xk=16199,Jk=16200,bG=16201,wG=16202,_G=16203,jG=16204,NG=16205,R3=16206,SG=16207,kG=16208,Da=16209,Hfe=16210,Gfe=16211,aUe=852,iUe=592,oUe=15,lUe=oUe,CG=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function cUe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ey=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<kE||e.mode>Gfe?1:0},Yfe=t=>{if(ey(t))return Ld;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=kE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(aUe),e.distcode=e.distdyn=new Int32Array(iUe),e.sane=1,e.back=-1,Tv},Kfe=t=>{if(ey(t))return Ld;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Yfe(t)},Xfe=(t,e)=>{let r;if(ey(t))return Ld;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ld:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Kfe(t))},Jfe=(t,e)=>{if(!t)return Ld;const r=new cUe;t.state=r,r.strm=t,r.window=null,r.mode=kE;const n=Xfe(t,e);return n!==Tv&&(t.state=null),n},uUe=t=>Jfe(t,lUe);let AG=!0,I3,F3;const dUe=t=>{if(AG){I3=new Int32Array(512),F3=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(R2(zfe,t.lens,0,288,I3,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;R2(qfe,t.lens,0,32,F3,0,t.work,{bits:5}),AG=!1}t.lencode=I3,t.lenbits=9,t.distcode=F3,t.distbits=5},Zfe=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},fUe=(t,e)=>{let r,n,a,i,o,l,c,u,d,f,m,h,x,g,v=0,b,_,w,N,S,C,A,R;const O=new Uint8Array(4);let D,P;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ey(t)||!t.output||!t.input&&t.avail_in!==0)return Ld;r=t.state,r.mode===Dm&&(r.mode=O3),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,f=l,m=c,R=Tv;e:for(;;)switch(r.mode){case kE:if(r.wrap===0){r.mode=O3;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=u&255,O[1]=u>>>8&255,r.check=fh(r.check,O,2,0),u=0,d=0,r.mode=iG;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Da;break}if((u&15)!==aG){t.msg="unknown compression method",r.mode=Da;break}if(u>>>=4,d-=4,A=(u&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){t.msg="invalid window size",r.mode=Da;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?mG:Dm,u=0,d=0;break;case iG:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==aG){t.msg="unknown compression method",r.mode=Da;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Da;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=fh(r.check,O,2,0)),u=0,d=0,r.mode=oG;case oG:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,r.check=fh(r.check,O,4,0)),u=0,d=0,r.mode=lG;case lG:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=fh(r.check,O,2,0)),u=0,d=0,r.mode=cG;case cG:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=fh(r.check,O,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=uG;case uG:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),A)),r.flags&512&&r.wrap&4&&(r.check=fh(r.check,n,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=dG;case dG:if(r.flags&2048){if(l===0)break e;h=0;do A=n[i+h++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=fh(r.check,n,h,i)),l-=h,i+=h,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=fG;case fG:if(r.flags&4096){if(l===0)break e;h=0;do A=n[i+h++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=fh(r.check,n,h,i)),l-=h,i+=h,A)break e}else r.head&&(r.head.comment=null);r.mode=hG;case hG:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Da;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Dm;break;case mG:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}t.adler=r.check=CG(u),u=0,d=0,r.mode=iC;case iC:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,nUe;t.adler=r.check=1,r.mode=Dm;case Dm:if(e===tUe||e===Kk)break e;case O3:if(r.last){u>>>=d&7,d-=d&7,r.mode=R3;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=pG;break;case 1:if(dUe(r),r.mode=Xk,e===Kk){u>>>=2,d-=2;break e}break;case 2:r.mode=xG;break;case 3:t.msg="invalid block type",r.mode=Da}u>>>=2,d-=2;break;case pG:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Da;break}if(r.length=u&65535,u=0,d=0,r.mode=D3,e===Kk)break e;case D3:r.mode=gG;case gG:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),o),l-=h,i+=h,c-=h,o+=h,r.length-=h;break}r.mode=Dm;break;case xG:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Da;break}r.have=0,r.mode=vG;case vG:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[E[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},R=R2(eUe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,R){t.msg="invalid code lengths set",r.mode=Da;break}r.have=0,r.mode=yG;case yG:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(w<16)u>>>=b,d-=b,r.lens[r.have++]=w;else{if(w===16){for(P=b+2;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=Da;break}A=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(w===17){for(P=b+3;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,A=0,h=3+(u&7),u>>>=3,d-=3}else{for(P=b+7;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,A=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Da;break}for(;h--;)r.lens[r.have++]=A}}if(r.mode===Da)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Da;break}if(r.lenbits=9,D={bits:r.lenbits},R=R2(zfe,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,R){t.msg="invalid literal/lengths set",r.mode=Da;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},R=R2(qfe,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,R){t.msg="invalid distances set",r.mode=Da;break}if(r.mode=Xk,e===Kk)break e;case Xk:r.mode=Jk;case Jk:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,YBe(t,m),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===Dm&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(_&&(_&240)===0){for(N=b,S=_,C=w;v=r.lencode[C+((u&(1<<N+S)-1)>>N)],b=v>>>24,_=v>>>16&255,w=v&65535,!(N+b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=N,d-=N,r.back+=N}if(u>>>=b,d-=b,r.back+=b,r.length=w,_===0){r.mode=NG;break}if(_&32){r.back=-1,r.mode=Dm;break}if(_&64){t.msg="invalid literal/length code",r.mode=Da;break}r.extra=_&15,r.mode=bG;case bG:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=wG;case wG:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((_&240)===0){for(N=b,S=_,C=w;v=r.distcode[C+((u&(1<<N+S)-1)>>N)],b=v>>>24,_=v>>>16&255,w=v&65535,!(N+b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=N,d-=N,r.back+=N}if(u>>>=b,d-=b,r.back+=b,_&64){t.msg="invalid distance code",r.mode=Da;break}r.offset=w,r.extra=_&15,r.mode=_G;case _G:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Da;break}r.mode=jG;case jG:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Da;break}h>r.wnext?(h-=r.wnext,x=r.wsize-h):x=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=a,x=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[o++]=g[x++];while(--h);r.length===0&&(r.mode=Jk);break;case NG:if(c===0)break e;a[o++]=r.length,c--,r.mode=Jk;break;case R3:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(m-=c,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?fh(r.check,a,m,o-m):y8(r.check,a,m,o-m)),m=c,r.wrap&4&&(r.flags?u:CG(u))!==r.check){t.msg="incorrect data check",r.mode=Da;break}u=0,d=0}r.mode=SG;case SG:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Da;break}u=0,d=0}r.mode=kG;case kG:R=rUe;break e;case Da:R=Vfe;break e;case Hfe:return Wfe;case Gfe:default:return Ld}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==t.avail_out&&r.mode<Da&&(r.mode<R3||e!==sG))&&Zfe(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?fh(r.check,a,m,t.next_out-m):y8(r.check,a,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Dm?128:0)+(r.mode===Xk||r.mode===D3?256:0),(f===0&&m===0||e===sG)&&R===Tv&&(R=sUe),R},hUe=t=>{if(ey(t))return Ld;let e=t.state;return e.window&&(e.window=null),t.state=null,Tv},mUe=(t,e)=>{if(ey(t))return Ld;const r=t.state;return(r.wrap&2)===0?Ld:(r.head=e,e.done=!1,Tv)},pUe=(t,e)=>{const r=e.length;let n,a,i;return ey(t)||(n=t.state,n.wrap!==0&&n.mode!==iC)?Ld:n.mode===iC&&(a=1,a=y8(a,e,r,0),a!==n.check)?Vfe:(i=Zfe(t,e,r,r),i?(n.mode=Hfe,Wfe):(n.havedict=1,Tv))};var gUe=Kfe,xUe=Xfe,vUe=Yfe,yUe=uUe,bUe=Jfe,wUe=fUe,_Ue=hUe,jUe=mUe,NUe=pUe,SUe="pako inflate (from Nodeca project)",$m={inflateReset:gUe,inflateReset2:xUe,inflateResetKeep:vUe,inflateInit:yUe,inflateInit2:bUe,inflate:wUe,inflateEnd:_Ue,inflateGetHeader:jUe,inflateSetDictionary:NUe,inflateInfo:SUe};function kUe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var CUe=kUe;const Qfe=Object.prototype.toString,{Z_NO_FLUSH:AUe,Z_FINISH:EUe,Z_OK:$j,Z_STREAM_END:M3,Z_NEED_DICT:L3,Z_STREAM_ERROR:PUe,Z_DATA_ERROR:EG,Z_MEM_ERROR:TUe}=$fe;function dS(t){this.options=Bfe.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HBe,this.strm.avail_out=0;let r=$m.inflateInit2(this.strm,e.windowBits);if(r!==$j)throw new Error(b8[r]);if(this.header=new CUe,$m.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=w8.string2buf(e.dictionary):Qfe.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=$m.inflateSetDictionary(this.strm,e.dictionary),r!==$j)))throw new Error(b8[r])}dS.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?EUe:AUe,Qfe.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=$m.inflate(r,o),i===L3&&a&&(i=$m.inflateSetDictionary(r,a),i===$j?i=$m.inflate(r,o):i===EG&&(i=L3));r.avail_in>0&&i===M3&&r.state.wrap>0&&t[r.next_in]!==0;)$m.inflateReset(r),i=$m.inflate(r,o);switch(i){case PUe:case EG:case L3:case TUe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===M3))if(this.options.to==="string"){let c=w8.utf8border(r.output,r.next_out),u=r.next_out-c,d=w8.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===$j&&l===0)){if(i===M3)return i=$m.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};dS.prototype.onData=function(t){this.chunks.push(t)};dS.prototype.onEnd=function(t){t===$j&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bfe.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function OUe(t,e){const r=new dS(e);if(r.push(t),r.err)throw r.msg||b8[r.err];return r.result}var DUe=dS,RUe=OUe,IUe={Inflate:DUe,inflate:RUe};const{Inflate:FUe,inflate:MUe}=IUe;var PG=FUe,LUe=MUe;const ehe=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;ehe[t]=e}const TG=4294967295;function $Ue(t,e,r){let n=t;for(let a=0;a<r;a++)n=ehe[(n^e[a])&255]^n>>>8;return n}function BUe(t,e){return($Ue(TG,t,e)^TG)>>>0}function OG(t,e,r){const n=t.readUint32(),a=BUe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function the(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function rhe(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function nhe(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function she(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function ahe(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+UUe(e[i-a],r[i],r[i-a])&255}}function UUe(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-r);return a<=i&&a<=o?t:i<=o?e:r}function zUe(t,e,r,n,a,i){switch(t){case 0:the(e,r,a);break;case 1:rhe(e,r,a,i);break;case 2:nhe(e,r,n,a);break;case 3:she(e,r,n,a,i);break;case 4:ahe(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const qUe=new Uint16Array([255]),VUe=new Uint8Array(qUe.buffer),WUe=VUe[0]===255;function HUe(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const x=m*l,g=new Uint8Array(x);for(let v=0;v<h;v++){const b=e[u++],_=e.subarray(u,u+x);u+=x;const w=new Uint8Array(x);zUe(b,_,w,g,x,l),g.set(w);for(let N=0;N<m;N++){const S=f.x+N*f.xStep,C=f.y+v*f.yStep;if(!(S>=r||C>=n))for(let A=0;A<l;A++)c[(C*r+S)*l+A]=w[N*l+A]}}}if(i===16){const d=new Uint16Array(c.buffer);if(WUe)for(let f=0;f<d.length;f++)d[f]=GUe(d[f]);return d}else return c}function GUe(t){return(t&255)<<8|t>>8&255}const YUe=new Uint16Array([255]),KUe=new Uint8Array(YUe.buffer),XUe=KUe[0]===255,JUe=new Uint8Array(0);function DG(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=JUe,d=0,f,m;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),e[d]){case 0:the(f,m,l);break;case 1:rhe(f,m,l,o);break;case 2:nhe(f,m,u,l);break;case 3:she(f,m,u,l,o);break;case 4:ahe(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=m,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(XUe)for(let x=0;x<h.length;x++)h[x]=ZUe(h[x]);return h}else return c}function ZUe(t){return(t&255)<<8|t>>8&255}const G5=Uint8Array.of(137,80,78,71,13,10,26,10);function RG(t){if(!QUe(t.readBytes(G5.length)))throw new Error("wrong PNG signature")}function QUe(t){if(t.length<G5.length)return!1;for(let e=0;e<G5.length;e++)if(t[e]!==G5[e])return!1;return!0}const eze="tEXt",tze=0,ihe=new TextDecoder("latin1");function rze(t){if(sze(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const nze=/^[\u0000-\u00FF]*$/;function sze(t){if(!nze.test(t))throw new Error("invalid latin1 text")}function aze(t,e,r){const n=ohe(e);t[n]=ize(e,r-n.length-1)}function ohe(t){for(t.mark();t.readByte()!==tze;);const e=t.offset;t.reset();const r=ihe.decode(t.readBytes(e-t.offset-1));return t.skip(1),rze(r),r}function ize(t,e){return ihe.decode(t.readBytes(e))}const fu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$3={UNKNOWN:-1,DEFLATE:0},IG={UNKNOWN:-1,ADAPTIVE:0},B3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zk={NONE:0,BACKGROUND:1,PREVIOUS:2},U3={SOURCE:0,OVER:1};class oze extends a${_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new PG,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$3.UNKNOWN,this._filterMethod=IG.UNKNOWN,this._interlaceMethod=B3.UNKNOWN,this._colorType=fu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(RG(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(RG(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case eze:aze(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?OG(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?OG(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=lze(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case fu.GREYSCALE:n=1;break;case fu.TRUECOLOUR:n=3;break;case fu.INDEXED_COLOUR:n=1;break;case fu.GREYSCALE_ALPHA:n=2;break;case fu.TRUECOLOUR_ALPHA:n=4;break;case fu.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==$3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case fu.GREYSCALE:case fu.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case fu.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case fu.UNKNOWN:case fu.GREYSCALE_ALPHA:case fu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=ohe(this),n=this.readUint8();if(n!==$3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:LUe(a)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=DG({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Zk.NONE:break;case Zk.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const o=(a*e.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[o+l]=0}break;case Zk.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,a=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case U3.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let u=0;u<this._png.channels;u++)e.data[l+u]=r.data[c+u]}break;case U3.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/n,f=u%(this._png.channels-1)===0?1:r.data[c+u],m=Math.floor(d*f+(1-d)*e.data[l+u]);e.data[l+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==IG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===B3.NO_INTERLACE)this._png.data=DG({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===B3.ADAM7)this._png.data=HUe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zk.NONE,blendOp:U3.SOURCE,data:e}),this._inflator=new PG,this._writingDataChunks=!1}}function lze(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var FG;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(FG||(FG={}));function cze(t,e){return new oze(t,e).decode()}var xn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function z3(){xn.console&&typeof xn.console.log=="function"&&xn.console.log.apply(xn.console,arguments)}var Qs={log:z3,warn:function(t){xn.console&&(typeof xn.console.warn=="function"?xn.console.warn.apply(xn.console,arguments):z3.call(null,arguments))},error:function(t){xn.console&&(typeof xn.console.error=="function"?xn.console.error.apply(xn.console,arguments):z3(t))}};function q3(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){bx(n.response,e,r)},n.onerror=function(){Qs.error("could not download file")},n.send()}function MG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qk(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var bx=xn.saveAs||((typeof window>"u"?"undefined":zs(window))!=="object"||window!==xn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=xn.URL||xn.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?MG(a.href)?q3(t,e,r):Qk(a,a.target="_blank"):Qk(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Qk(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(MG(t))q3(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Qk(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:zs(i)!=="object"&&(Qs.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return q3(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(xn.HTMLElement)||xn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":zs(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=xn.URL||xn.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lhe(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Y5=xn.atob.bind(xn),LG=xn.btoa.bind(xn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function V3(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Nl(r,n,a,i,e[0],7,-680876936),i=Nl(i,r,n,a,e[1],12,-389564586),a=Nl(a,i,r,n,e[2],17,606105819),n=Nl(n,a,i,r,e[3],22,-1044525330),r=Nl(r,n,a,i,e[4],7,-176418897),i=Nl(i,r,n,a,e[5],12,1200080426),a=Nl(a,i,r,n,e[6],17,-1473231341),n=Nl(n,a,i,r,e[7],22,-45705983),r=Nl(r,n,a,i,e[8],7,1770035416),i=Nl(i,r,n,a,e[9],12,-1958414417),a=Nl(a,i,r,n,e[10],17,-42063),n=Nl(n,a,i,r,e[11],22,-1990404162),r=Nl(r,n,a,i,e[12],7,1804603682),i=Nl(i,r,n,a,e[13],12,-40341101),a=Nl(a,i,r,n,e[14],17,-1502002290),r=Sl(r,n=Nl(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Sl(i,r,n,a,e[6],9,-1069501632),a=Sl(a,i,r,n,e[11],14,643717713),n=Sl(n,a,i,r,e[0],20,-373897302),r=Sl(r,n,a,i,e[5],5,-701558691),i=Sl(i,r,n,a,e[10],9,38016083),a=Sl(a,i,r,n,e[15],14,-660478335),n=Sl(n,a,i,r,e[4],20,-405537848),r=Sl(r,n,a,i,e[9],5,568446438),i=Sl(i,r,n,a,e[14],9,-1019803690),a=Sl(a,i,r,n,e[3],14,-187363961),n=Sl(n,a,i,r,e[8],20,1163531501),r=Sl(r,n,a,i,e[13],5,-1444681467),i=Sl(i,r,n,a,e[2],9,-51403784),a=Sl(a,i,r,n,e[7],14,1735328473),r=kl(r,n=Sl(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=kl(i,r,n,a,e[8],11,-2022574463),a=kl(a,i,r,n,e[11],16,1839030562),n=kl(n,a,i,r,e[14],23,-35309556),r=kl(r,n,a,i,e[1],4,-1530992060),i=kl(i,r,n,a,e[4],11,1272893353),a=kl(a,i,r,n,e[7],16,-155497632),n=kl(n,a,i,r,e[10],23,-1094730640),r=kl(r,n,a,i,e[13],4,681279174),i=kl(i,r,n,a,e[0],11,-358537222),a=kl(a,i,r,n,e[3],16,-722521979),n=kl(n,a,i,r,e[6],23,76029189),r=kl(r,n,a,i,e[9],4,-640364487),i=kl(i,r,n,a,e[12],11,-421815835),a=kl(a,i,r,n,e[15],16,530742520),r=Cl(r,n=kl(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Cl(i,r,n,a,e[7],10,1126891415),a=Cl(a,i,r,n,e[14],15,-1416354905),n=Cl(n,a,i,r,e[5],21,-57434055),r=Cl(r,n,a,i,e[12],6,1700485571),i=Cl(i,r,n,a,e[3],10,-1894986606),a=Cl(a,i,r,n,e[10],15,-1051523),n=Cl(n,a,i,r,e[1],21,-2054922799),r=Cl(r,n,a,i,e[8],6,1873313359),i=Cl(i,r,n,a,e[15],10,-30611744),a=Cl(a,i,r,n,e[6],15,-1560198380),n=Cl(n,a,i,r,e[13],21,1309151649),r=Cl(r,n,a,i,e[4],6,-145523070),i=Cl(i,r,n,a,e[11],10,-1120210379),a=Cl(a,i,r,n,e[2],15,718787259),n=Cl(n,a,i,r,e[9],21,-343485551),t[0]=D0(r,t[0]),t[1]=D0(n,t[1]),t[2]=D0(a,t[2]),t[3]=D0(i,t[3])}function CE(t,e,r,n,a,i){return e=D0(D0(e,t),D0(n,i)),D0(e<<a|e>>>32-a,r)}function Nl(t,e,r,n,a,i,o){return CE(e&r|~e&n,t,e,a,i,o)}function Sl(t,e,r,n,a,i,o){return CE(e&n|r&~n,t,e,a,i,o)}function kl(t,e,r,n,a,i,o){return CE(e^r^n,t,e,a,i,o)}function Cl(t,e,r,n,a,i,o){return CE(r^(e|~n),t,e,a,i,o)}function che(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)V3(n,uze(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(V3(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,V3(n,a),n}function uze(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var $G="0123456789abcdef".split("");function dze(t){for(var e="",r=0;r<4;r++)e+=$G[t>>8*r+4&15]+$G[t>>8*r&15];return e}function fze(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _8(t){return che(t).map(fze).join("")}var hze=(function(t){for(var e=0;e<t.length;e++)t[e]=dze(t[e]);return t.join("")})(che("hello"))!="5d41402abc4b2a76b9719d911017c592";function D0(t,e){if(hze){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j8(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var f=e.length,m=0,h=0,x="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],x+=String.fromCharCode(e.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BG={print:4,modify:8,copy:16,"annot-forms":32};function v1(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(BG.perm!==void 0)throw new Error("Invalid permission: "+l);a+=BG[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=_8(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=j8(this.encryptionKey,this.padding)}function y1(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function UG(t){if(zs(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){xn.console&&Qs.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function oC(t){if(!(this instanceof oC))return new oC(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function uhe(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ex(t,e,r,n,a){if(!(this instanceof Ex))return new Ex(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,uhe.call(this,n,a)}function A1(t,e,r,n,a){if(!(this instanceof A1))return new A1(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,uhe.call(this,n,a)}function Hr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;zs(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=UG;var x="1.3",g=h.__private__.getPdfVersion=function(){return x};h.__private__.setPdfVersion=function(H){x=H};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var b=h.__private__.getPageFormat=function(H){return v[H]};a=a||"a4";var _="compat",w="advanced",N=_;function S(){this.saveGraphicsState(),le(new It(tt,0,0,-tt,0,Nc()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),u="n",N=w}function C(){this.restoreGraphicsState(),u="S",N=_}var A=h.__private__.combineFontStyleAndFontWeight=function(H,ge){if(H=="bold"&&ge=="normal"||H=="bold"&&ge==400||H=="normal"&&ge=="italic"||H=="bold"&&ge=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ge&&(H=ge==400||ge==="normal"?H==="italic"?"italic":"normal":ge!=700&&ge!=="bold"||H!=="normal"?(ge==700?"bold":ge)+""+H:"bold"),H};h.advancedAPI=function(H){var ge=N===_;return ge&&S.call(this),typeof H!="function"||(H(this),ge&&C.call(this)),this},h.compatAPI=function(H){var ge=N===w;return ge&&C.call(this),typeof H!="function"||(H(this),ge&&S.call(this)),this},h.isAdvancedAPI=function(){return N===w};var R,O=function(H){if(N!==w)throw new Error(H+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(H,ge){var ze=e||ge;if(isNaN(H)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return H.toFixed(ze).replace(/0+$/,"")};R=h.hpf=h.__private__.hpf=typeof c=="number"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return D(H,c)}:c==="smart"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return D(H,H>-1&&H<1?16:5)}:function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return D(H,16)};var P=h.f2=h.__private__.f2=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f2");return D(H,2)},E=h.__private__.f3=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f3");return D(H,3)},I=h.scale=h.__private__.scale=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.scale");return N===_?H*tt:N===w?H:void 0},M=function(H){return I((function(ge){return N===_?Nc()-ge:N===w?ge:void 0})(H))};h.__private__.setPrecision=h.setPrecision=function(H){typeof parseInt(H,10)=="number"&&(e=parseInt(H,10))};var U,W="00000000000000000000000000000000",Y=h.__private__.getFileId=function(){return W},J=h.__private__.setFileId=function(H){return W=H!==void 0&&/^[a-fA-F0-9]{32}$/.test(H)?H.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ma=new v1(d.userPermissions,d.userPassword,d.ownerPassword,W)),W};h.setFileId=function(H){return J(H),this},h.getFileId=function(){return Y()};var z=h.__private__.convertDateToPDFDate=function(H){var ge=H.getTimezoneOffset(),ze=ge<0?"+":"-",Ze=Math.floor(Math.abs(ge/60)),dt=Math.abs(ge%60),Dt=[ze,K(Ze),"'",K(dt),"'"].join("");return["D:",H.getFullYear(),K(H.getMonth()+1),K(H.getDate()),K(H.getHours()),K(H.getMinutes()),K(H.getSeconds()),Dt].join("")},q=h.__private__.convertPDFDateToDate=function(H){var ge=parseInt(H.substr(2,4),10),ze=parseInt(H.substr(6,2),10)-1,Ze=parseInt(H.substr(8,2),10),dt=parseInt(H.substr(10,2),10),Dt=parseInt(H.substr(12,2),10),Wt=parseInt(H.substr(14,2),10);return new Date(ge,ze,Ze,dt,Dt,Wt,0)},V=h.__private__.setCreationDate=function(H){var ge;if(H===void 0&&(H=new Date),H instanceof Date)ge=z(H);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(H))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ge=H}return U=ge},L=h.__private__.getCreationDate=function(H){var ge=U;return H==="jsDate"&&(ge=q(U)),ge};h.setCreationDate=function(H){return V(H),this},h.getCreationDate=function(H){return L(H)};var X,K=h.__private__.padd2=function(H){return("0"+parseInt(H)).slice(-2)},Q=h.__private__.padd2Hex=function(H){return("00"+(H=H.toString())).substr(H.length)},oe=0,ce=[],de=[],ne=0,ue=[],se=[],Z=!1,Oe=de;h.__private__.setCustomOutputDestination=function(H){Z=!0,Oe=H};var re=function(H){Z||(Oe=H)};h.__private__.resetCustomOutputDestination=function(){Z=!1,Oe=de};var le=h.__private__.out=function(H){return H=H.toString(),ne+=H.length+1,Oe.push(H),Oe},We=h.__private__.write=function(H){return le(arguments.length===1?H.toString():Array.prototype.join.call(arguments," "))},xe=h.__private__.getArrayBuffer=function(H){for(var ge=H.length,ze=new ArrayBuffer(ge),Ze=new Uint8Array(ze);ge--;)Ze[ge]=H.charCodeAt(ge);return ze},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Le};var ke=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(H){return ke=N===w?H/tt:H,this};var fe,ye=h.__private__.getFontSize=h.getFontSize=function(){return N===_?ke:ke*tt},qe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(H){return qe=H,this},h.__private__.getR2L=h.getR2L=function(){return qe};var Qe,ct=h.__private__.setZoomMode=function(H){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(H))fe=H;else if(isNaN(H)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(H)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+H+'" is not recognized.');fe=H}else fe=parseInt(H,10)};h.__private__.getZoomMode=function(){return fe};var Ye,me=h.__private__.setPageMode=function(H){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(H)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+H+'" is not recognized.');Qe=H};h.__private__.getPageMode=function(){return Qe};var Se=h.__private__.setLayoutMode=function(H){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(H)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+H+'" is not recognized.');Ye=H};h.__private__.getLayoutMode=function(){return Ye},h.__private__.setDisplayMode=h.setDisplayMode=function(H,ge,ze){return ct(H),Se(ge),me(ze),this};var _e={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(H){if(Object.keys(_e).indexOf(H)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _e[H]},h.__private__.getDocumentProperties=function(){return _e},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(H){for(var ge in _e)_e.hasOwnProperty(ge)&&H[ge]&&(_e[ge]=H[ge]);return this},h.__private__.setDocumentProperty=function(H,ge){if(Object.keys(_e).indexOf(H)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _e[H]=ge};var Je,tt,Ve,Me,ht,Ce={},st={},Ue=[],Ke={},at={},St={},qt={},Ut=null,Qt=0,Vt=[],wr=new UG(h),dr=t.hotfixes||[],br={},Cr={},or=[],It=function H(ge,ze,Ze,dt,Dt,Wt){if(!(this instanceof H))return new H(ge,ze,Ze,dt,Dt,Wt);isNaN(ge)&&(ge=1),isNaN(ze)&&(ze=0),isNaN(Ze)&&(Ze=0),isNaN(dt)&&(dt=1),isNaN(Dt)&&(Dt=0),isNaN(Wt)&&(Wt=0),this._matrix=[ge,ze,Ze,dt,Dt,Wt]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(H){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(H)},It.prototype.multiply=function(H){var ge=H.sx*this.sx+H.shy*this.shx,ze=H.sx*this.shy+H.shy*this.sy,Ze=H.shx*this.sx+H.sy*this.shx,dt=H.shx*this.shy+H.sy*this.sy,Dt=H.tx*this.sx+H.ty*this.shx+this.tx,Wt=H.tx*this.shy+H.ty*this.sy+this.ty;return new It(ge,ze,Ze,dt,Dt,Wt)},It.prototype.decompose=function(){var H=this.sx,ge=this.shy,ze=this.shx,Ze=this.sy,dt=this.tx,Dt=this.ty,Wt=Math.sqrt(H*H+ge*ge),Pr=(H/=Wt)*ze+(ge/=Wt)*Ze;ze-=H*Pr,Ze-=ge*Pr;var Br=Math.sqrt(ze*ze+Ze*Ze);return Pr/=Br,H*(Ze/=Br)<ge*(ze/=Br)&&(H=-H,ge=-ge,Pr=-Pr,Wt=-Wt),{scale:new It(Wt,0,0,Br,0,0),translate:new It(1,0,0,1,dt,Dt),rotate:new It(H,ge,-ge,H,0,0),skew:new It(1,0,Pr,1,0,0)}},It.prototype.toString=function(H){return this.join(" ")},It.prototype.inversed=function(){var H=this.sx,ge=this.shy,ze=this.shx,Ze=this.sy,dt=this.tx,Dt=this.ty,Wt=1/(H*Ze-ge*ze),Pr=Ze*Wt,Br=-ge*Wt,on=-ze*Wt,ln=H*Wt;return new It(Pr,Br,on,ln,-Pr*dt-on*Dt,-Br*dt-ln*Dt)},It.prototype.applyToPoint=function(H){var ge=H.x*this.sx+H.y*this.shx+this.tx,ze=H.x*this.shy+H.y*this.sy+this.ty;return new Zu(ge,ze)},It.prototype.applyToRectangle=function(H){var ge=this.applyToPoint(H),ze=this.applyToPoint(new Zu(H.x+H.w,H.y+H.h));return new im(ge.x,ge.y,ze.x-ge.x,ze.y-ge.y)},It.prototype.clone=function(){var H=this.sx,ge=this.shy,ze=this.shx,Ze=this.sy,dt=this.tx,Dt=this.ty;return new It(H,ge,ze,Ze,dt,Dt)},h.Matrix=It;var Ir=h.matrixMult=function(H,ge){return ge.multiply(H)},Jt=new It(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Jt;var gr=function(H,ge){if(!at[H]){var ze=(ge instanceof Ex?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);ge.id=ze,at[H]=ze,Ke[ze]=ge,wr.publish("addPattern",ge)}};h.ShadingPattern=Ex,h.TilingPattern=A1,h.addShadingPattern=function(H,ge){return O("addShadingPattern()"),gr(H,ge),this},h.beginTilingPattern=function(H){O("beginTilingPattern()"),wc(H.boundingBox[0],H.boundingBox[1],H.boundingBox[2]-H.boundingBox[0],H.boundingBox[3]-H.boundingBox[1],H.matrix)},h.endTilingPattern=function(H,ge){O("endTilingPattern()"),ge.stream=se[X].join(`
`),gr(H,ge),wr.publish("endTilingPattern",ge),or.pop().restore()};var mr,vr=h.__private__.newObject=function(){var H=bn();return he(H,!0),H},bn=h.__private__.newObjectDeferred=function(){return oe++,ce[oe]=function(){return ne},oe},he=function(H,ge){return ge=typeof ge=="boolean"&&ge,ce[H]=ne,ge&&le(H+" 0 obj"),H},Re=h.__private__.newAdditionalObject=function(){var H={objId:bn(),content:""};return ue.push(H),H},Ee=bn(),Pe=bn(),Ie=h.__private__.decodeColorString=function(H){var ge=H.split(" ");if(ge.length!==2||ge[1]!=="g"&&ge[1]!=="G")ge.length!==5||ge[4]!=="k"&&ge[4]!=="K"||(ge=[(1-ge[0])*(1-ge[3]),(1-ge[1])*(1-ge[3]),(1-ge[2])*(1-ge[3]),"r"]);else{var ze=parseFloat(ge[0]);ge=[ze,ze,ze,"r"]}for(var Ze="#",dt=0;dt<3;dt++)Ze+=("0"+Math.floor(255*parseFloat(ge[dt])).toString(16)).slice(-2);return Ze},De=h.__private__.encodeColorString=function(H){var ge;typeof H=="string"&&(H={ch1:H});var ze=H.ch1,Ze=H.ch2,dt=H.ch3,Dt=H.ch4,Wt=H.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var Pr=new lhe(ze);if(Pr.ok)ze=Pr.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var Br=parseInt(ze.substr(1),16);ze=Br>>16&255,Ze=Br>>8&255,dt=255&Br}if(Ze===void 0||Dt===void 0&&ze===Ze&&Ze===dt)ge=typeof ze=="string"?ze+" "+Wt[0]:H.precision===2?P(ze/255)+" "+Wt[0]:E(ze/255)+" "+Wt[0];else if(Dt===void 0||zs(Dt)==="object"){if(Dt&&!isNaN(Dt.a)&&Dt.a===0)return["1.","1.","1.",Wt[1]].join(" ");ge=typeof ze=="string"?[ze,Ze,dt,Wt[1]].join(" "):H.precision===2?[P(ze/255),P(Ze/255),P(dt/255),Wt[1]].join(" "):[E(ze/255),E(Ze/255),E(dt/255),Wt[1]].join(" ")}else ge=typeof ze=="string"?[ze,Ze,dt,Dt,Wt[2]].join(" "):H.precision===2?[P(ze),P(Ze),P(dt),P(Dt),Wt[2]].join(" "):[E(ze),E(Ze),E(dt),E(Dt),Wt[2]].join(" ");return ge},ft=h.__private__.getFilters=function(){return o},wt=h.__private__.putStream=function(H){var ge=(H=H||{}).data||"",ze=H.filters||ft(),Ze=H.alreadyAppliedFilters||[],dt=H.addLength1||!1,Dt=ge.length,Wt=H.objectId,Pr=function(_i){return _i};if(d!==null&&Wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Pr=Ma.encryptor(Wt,0));var Br={};ze===!0&&(ze=["FlateEncode"]);var on=H.additionalKeyValues||[],ln=(Br=Hr.API.processDataByFilters!==void 0?Hr.API.processDataByFilters(ge,ze):{data:ge,reverseChain:[]}).reverseChain+(Array.isArray(Ze)?Ze.join(" "):Ze.toString());if(Br.data.length!==0&&(on.push({key:"Length",value:Br.data.length}),dt===!0&&on.push({key:"Length1",value:Dt})),ln.length!=0)if(ln.split("/").length-1==1)on.push({key:"Filter",value:ln});else{on.push({key:"Filter",value:"["+ln+"]"});for(var ds=0;ds<on.length;ds+=1)if(on[ds].key==="DecodeParms"){for(var va=[],ri=0;ri<Br.reverseChain.split("/").length-1;ri+=1)va.push("null");va.push(on[ds].value),on[ds].value="["+va.join(" ")+"]"}}le("<<");for(var Hs=0;Hs<on.length;Hs++)le("/"+on[Hs].key+" "+on[Hs].value);le(">>"),Br.data.length!==0&&(le("stream"),le(Pr(Br.data)),le("endstream"))},mt=h.__private__.putPage=function(H){var ge=H.number,ze=H.data,Ze=H.objId,dt=H.contentsObjId;he(Ze,!0),le("<</Type /Page"),le("/Parent "+H.rootDictionaryObjId+" 0 R"),le("/Resources "+H.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(R(H.mediaBox.bottomLeftX))+" "+parseFloat(R(H.mediaBox.bottomLeftY))+" "+R(H.mediaBox.topRightX)+" "+R(H.mediaBox.topRightY)+"]"),H.cropBox!==null&&le("/CropBox ["+R(H.cropBox.bottomLeftX)+" "+R(H.cropBox.bottomLeftY)+" "+R(H.cropBox.topRightX)+" "+R(H.cropBox.topRightY)+"]"),H.bleedBox!==null&&le("/BleedBox ["+R(H.bleedBox.bottomLeftX)+" "+R(H.bleedBox.bottomLeftY)+" "+R(H.bleedBox.topRightX)+" "+R(H.bleedBox.topRightY)+"]"),H.trimBox!==null&&le("/TrimBox ["+R(H.trimBox.bottomLeftX)+" "+R(H.trimBox.bottomLeftY)+" "+R(H.trimBox.topRightX)+" "+R(H.trimBox.topRightY)+"]"),H.artBox!==null&&le("/ArtBox ["+R(H.artBox.bottomLeftX)+" "+R(H.artBox.bottomLeftY)+" "+R(H.artBox.topRightX)+" "+R(H.artBox.topRightY)+"]"),typeof H.userUnit=="number"&&H.userUnit!==1&&le("/UserUnit "+H.userUnit),wr.publish("putPage",{objId:Ze,pageContext:Vt[ge],pageNumber:ge,page:ze}),le("/Contents "+dt+" 0 R"),le(">>"),le("endobj");var Dt=ze.join(`
`);return N===w&&(Dt+=`
Q`),he(dt,!0),wt({data:Dt,filters:ft(),objectId:dt}),le("endobj"),Ze},pt=h.__private__.putPages=function(){var H,ge,ze=[];for(H=1;H<=Qt;H++)Vt[H].objId=bn(),Vt[H].contentsObjId=bn();for(H=1;H<=Qt;H++)ze.push(mt({number:H,data:se[H],objId:Vt[H].objId,contentsObjId:Vt[H].contentsObjId,mediaBox:Vt[H].mediaBox,cropBox:Vt[H].cropBox,bleedBox:Vt[H].bleedBox,trimBox:Vt[H].trimBox,artBox:Vt[H].artBox,userUnit:Vt[H].userUnit,rootDictionaryObjId:Ee,resourceDictionaryObjId:Pe}));he(Ee,!0),le("<</Type /Pages");var Ze="/Kids [";for(ge=0;ge<Qt;ge++)Ze+=ze[ge]+" 0 R ";le(Ze+"]"),le("/Count "+Qt),le(">>"),le("endobj"),wr.publish("postPutPages")},gt=function(H){wr.publish("putFont",{font:H,out:le,newObject:vr,putStream:wt}),H.isAlreadyPutted!==!0&&(H.objectNumber=vr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+y1(H.postScriptName)),le("/Subtype /Type1"),typeof H.encoding=="string"&&le("/Encoding /"+H.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Lt=function(H){H.objectNumber=vr();var ge=[];ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Form"}),ge.push({key:"BBox",value:"["+[R(H.x),R(H.y),R(H.x+H.width),R(H.y+H.height)].join(" ")+"]"}),ge.push({key:"Matrix",value:"["+H.matrix.toString()+"]"});var ze=H.pages[1].join(`
`);wt({data:ze,additionalKeyValues:ge,objectId:H.objectNumber}),le("endobj")},Yt=function(H,ge){ge||(ge=21);var ze=vr(),Ze=(function(Wt,Pr){var Br,on=[],ln=1/(Pr-1);for(Br=0;Br<1;Br+=ln)on.push(Br);if(on.push(1),Wt[0].offset!=0){var ds={offset:0,color:Wt[0].color};Wt.unshift(ds)}if(Wt[Wt.length-1].offset!=1){var va={offset:1,color:Wt[Wt.length-1].color};Wt.push(va)}for(var ri="",Hs=0,_i=0;_i<on.length;_i++){for(Br=on[_i];Br>Wt[Hs+1].offset;)Hs++;var La=Wt[Hs].offset,oo=(Br-La)/(Wt[Hs+1].offset-La),Sc=Wt[Hs].color,ml=Wt[Hs+1].color;ri+=Q(Math.round((1-oo)*Sc[0]+oo*ml[0]).toString(16))+Q(Math.round((1-oo)*Sc[1]+oo*ml[1]).toString(16))+Q(Math.round((1-oo)*Sc[2]+oo*ml[2]).toString(16))}return ri.trim()})(H.colors,ge),dt=[];dt.push({key:"FunctionType",value:"0"}),dt.push({key:"Domain",value:"[0.0 1.0]"}),dt.push({key:"Size",value:"["+ge+"]"}),dt.push({key:"BitsPerSample",value:"8"}),dt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt({data:Ze,additionalKeyValues:dt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),le("endobj"),H.objectNumber=vr(),le("<< /ShadingType "+H.type),le("/ColorSpace /DeviceRGB");var Dt="/Coords ["+R(parseFloat(H.coords[0]))+" "+R(parseFloat(H.coords[1]))+" ";H.type===2?Dt+=R(parseFloat(H.coords[2]))+" "+R(parseFloat(H.coords[3])):Dt+=R(parseFloat(H.coords[2]))+" "+R(parseFloat(H.coords[3]))+" "+R(parseFloat(H.coords[4]))+" "+R(parseFloat(H.coords[5])),le(Dt+="]"),H.matrix&&le("/Matrix ["+H.matrix.toString()+"]"),le("/Function "+ze+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},cr=function(H,ge){var ze=bn(),Ze=vr();ge.push({resourcesOid:ze,objectOid:Ze}),H.objectNumber=Ze;var dt=[];dt.push({key:"Type",value:"/Pattern"}),dt.push({key:"PatternType",value:"1"}),dt.push({key:"PaintType",value:"1"}),dt.push({key:"TilingType",value:"1"}),dt.push({key:"BBox",value:"["+H.boundingBox.map(R).join(" ")+"]"}),dt.push({key:"XStep",value:R(H.xStep)}),dt.push({key:"YStep",value:R(H.yStep)}),dt.push({key:"Resources",value:ze+" 0 R"}),H.matrix&&dt.push({key:"Matrix",value:"["+H.matrix.toString()+"]"}),wt({data:H.stream,additionalKeyValues:dt,objectId:H.objectNumber}),le("endobj")},tr=function(H){for(var ge in H.objectNumber=vr(),le("<<"),H)switch(ge){case"opacity":le("/ca "+P(H[ge]));break;case"stroke-opacity":le("/CA "+P(H[ge]))}le(">>"),le("endobj")},Bt=function(H){he(H.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ge in le("/Font <<"),Ce)Ce.hasOwnProperty(ge)&&(f===!1||f===!0&&m.hasOwnProperty(ge))&&le("/"+ge+" "+Ce[ge].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(Ke).length>0){for(var ge in le("/Shading <<"),Ke)Ke.hasOwnProperty(ge)&&Ke[ge]instanceof Ex&&Ke[ge].objectNumber>=0&&le("/"+ge+" "+Ke[ge].objectNumber+" 0 R");wr.publish("putShadingPatternDict"),le(">>")}})(),(function(ge){if(Object.keys(Ke).length>0){for(var ze in le("/Pattern <<"),Ke)Ke.hasOwnProperty(ze)&&Ke[ze]instanceof h.TilingPattern&&Ke[ze].objectNumber>=0&&Ke[ze].objectNumber<ge&&le("/"+ze+" "+Ke[ze].objectNumber+" 0 R");wr.publish("putTilingPatternDict"),le(">>")}})(H.objectOid),(function(){if(Object.keys(St).length>0){var ge;for(ge in le("/ExtGState <<"),St)St.hasOwnProperty(ge)&&St[ge].objectNumber>=0&&le("/"+ge+" "+St[ge].objectNumber+" 0 R");wr.publish("putGStateDict"),le(">>")}})(),(function(){for(var ge in le("/XObject <<"),br)br.hasOwnProperty(ge)&&br[ge].objectNumber>=0&&le("/"+ge+" "+br[ge].objectNumber+" 0 R");wr.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},_r=function(H){st[H.fontName]=st[H.fontName]||{},st[H.fontName][H.fontStyle]=H.id},An=function(H,ge,ze,Ze,dt){var Dt={id:"F"+(Object.keys(Ce).length+1).toString(10),postScriptName:H,fontName:ge,fontStyle:ze,encoding:Ze,isStandardFont:dt||!1,metadata:{}};return wr.publish("addFont",{font:Dt,instance:this}),Ce[Dt.id]=Dt,_r(Dt),Dt.id},En=h.__private__.pdfEscape=h.pdfEscape=function(H,ge){return(function(ze,Ze){var dt,Dt,Wt,Pr,Br,on,ln,ds,va;if(Wt=(Ze=Ze||{}).sourceEncoding||"Unicode",Br=Ze.outputEncoding,(Ze.autoencode||Br)&&Ce[Je].metadata&&Ce[Je].metadata[Wt]&&Ce[Je].metadata[Wt].encoding&&(Pr=Ce[Je].metadata[Wt].encoding,!Br&&Ce[Je].encoding&&(Br=Ce[Je].encoding),!Br&&Pr.codePages&&(Br=Pr.codePages[0]),typeof Br=="string"&&(Br=Pr[Br]),Br)){for(ln=!1,on=[],dt=0,Dt=ze.length;dt<Dt;dt++)(ds=Br[ze.charCodeAt(dt)])?on.push(String.fromCharCode(ds)):on.push(ze[dt]),on[dt].charCodeAt(0)>>8&&(ln=!0);ze=on.join("")}for(dt=ze.length;ln===void 0&&dt!==0;)ze.charCodeAt(dt-1)>>8&&(ln=!0),dt--;if(!ln)return ze;for(on=Ze.noBOM?[]:[254,255],dt=0,Dt=ze.length;dt<Dt;dt++){if((va=(ds=ze.charCodeAt(dt))>>8)>>8)throw new Error("Character at position "+dt+" of string '"+ze+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");on.push(va),on.push(ds-(va<<8))}return String.fromCharCode.apply(void 0,on)})(H,ge).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ks=h.__private__.beginPage=function(H){se[++Qt]=[],Vt[Qt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(H[0]),topRightY:Number(H[1])}},wi(Qt),re(se[X])},Co=function(H,ge){var ze,Ze,dt;switch(r=ge||r,typeof H=="string"&&(ze=b(H.toLowerCase()),Array.isArray(ze)&&(Ze=ze[0],dt=ze[1])),Array.isArray(H)&&(Ze=H[0]*tt,dt=H[1]*tt),isNaN(Ze)&&(Ze=a[0],dt=a[1]),(Ze>14400||dt>14400)&&(Qs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ze=Math.min(14400,Ze),dt=Math.min(14400,dt)),a=[Ze,dt],r.substr(0,1)){case"l":dt>Ze&&(a=[dt,Ze]);break;case"p":Ze>dt&&(a=[dt,Ze])}ks(a),sm(bc),le(am),Fg!==0&&le(Fg+" J"),Mg!==0&&le(Mg+" j"),wr.publish("addPage",{pageNumber:Qt})},xa=function(H){H>0&&H<=Qt&&(se.splice(H,1),Vt.splice(H,1),Qt--,X>Qt&&(X=Qt),this.setPage(X))},wi=function(H){H>0&&H<=Qt&&(X=H)},Vs=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return se.length-1},io=function(H,ge,ze){var Ze,dt=void 0;return ze=ze||{},H=H!==void 0?H:Ce[Je].fontName,ge=ge!==void 0?ge:Ce[Je].fontStyle,Ze=H.toLowerCase(),st[Ze]!==void 0&&st[Ze][ge]!==void 0?dt=st[Ze][ge]:st[H]!==void 0&&st[H][ge]!==void 0?dt=st[H][ge]:ze.disableWarning===!1&&Qs.warn("Unable to look up font label for font '"+H+"', '"+ge+"'. Refer to getFontList() for available fonts."),dt||ze.noFallback||(dt=st.times[ge])==null&&(dt=st.times.normal),dt},Ws=h.__private__.putInfo=function(){var H=vr(),ge=function(Ze){return Ze};for(var ze in d!==null&&(ge=Ma.encryptor(H,0)),le("<<"),le("/Producer ("+En(ge("jsPDF "+Hr.version))+")"),_e)_e.hasOwnProperty(ze)&&_e[ze]&&le("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+En(ge(_e[ze]))+")");le("/CreationDate ("+En(ge(U))+")"),le(">>"),le("endobj")},Lw=h.__private__.putCatalog=function(H){var ge=(H=H||{}).rootDictionaryObjId||Ee;switch(vr(),le("<<"),le("/Type /Catalog"),le("/Pages "+ge+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+fe;ze.substr(ze.length-1)==="%"&&(fe=parseInt(fe)/100),typeof fe=="number"&&le("/OpenAction [3 0 R /XYZ null null "+P(fe)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Qe&&le("/PageMode /"+Qe),wr.publish("putCatalog"),le(">>"),le("endobj")},ti=h.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(oe+1)),le("/Root "+oe+" 0 R"),le("/Info "+(oe-1)+" 0 R"),d!==null&&le("/Encrypt "+Ma.oid+" 0 R"),le("/ID [ <"+W+"> <"+W+"> ]"),le(">>")},oy=h.__private__.putHeader=function(){le("%PDF-"+x),le("%")},em=h.__private__.putXRef=function(){var H="0000000000";le("xref"),le("0 "+(oe+1)),le("0000000000 65535 f ");for(var ge=1;ge<=oe;ge++)typeof ce[ge]=="function"?le((H+ce[ge]()).slice(-10)+" 00000 n "):ce[ge]!==void 0?le((H+ce[ge]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},yc=h.__private__.buildDocument=function(){var H;oe=0,ne=0,de=[],ce=[],ue=[],Ee=bn(),Pe=bn(),re(de),wr.publish("buildDocument"),oy(),pt(),(function(){wr.publish("putAdditionalObjects");for(var ze=0;ze<ue.length;ze++){var Ze=ue[ze];he(Ze.objId,!0),le(Ze.content),le("endobj")}wr.publish("postPutAdditionalObjects")})(),H=[],(function(){for(var ze in Ce)Ce.hasOwnProperty(ze)&&(f===!1||f===!0&&m.hasOwnProperty(ze))&&gt(Ce[ze])})(),(function(){var ze;for(ze in St)St.hasOwnProperty(ze)&&tr(St[ze])})(),(function(){for(var ze in br)br.hasOwnProperty(ze)&&Lt(br[ze])})(),(function(ze){var Ze;for(Ze in Ke)Ke.hasOwnProperty(Ze)&&(Ke[Ze]instanceof Ex?Yt(Ke[Ze]):Ke[Ze]instanceof A1&&cr(Ke[Ze],ze))})(H),wr.publish("putResources"),H.forEach(Bt),Bt({resourcesOid:Pe,objectOid:Number.MAX_SAFE_INTEGER}),wr.publish("postPutResources"),d!==null&&(Ma.oid=vr(),le("<<"),le("/Filter /Standard"),le("/V "+Ma.v),le("/R "+Ma.r),le("/U <"+Ma.toHexString(Ma.U)+">"),le("/O <"+Ma.toHexString(Ma.O)+">"),le("/P "+Ma.P),le(">>"),le("endobj")),Ws(),Lw();var ge=ne;return em(),ti(),le("startxref"),le(""+ge),le("%%EOF"),re(se[X]),de.join(`
`)},Qc=h.__private__.getBlob=function(H){return new Blob([xe(H)],{type:"application/pdf"})},fl=h.output=h.__private__.output=(mr=function(H,ge){switch(typeof(ge=ge||{})=="string"?ge={filename:ge}:ge.filename=ge.filename||"generated.pdf",H){case void 0:return yc();case"save":h.save(ge.filename);break;case"arraybuffer":return xe(yc());case"blob":return Qc(yc());case"bloburi":case"bloburl":if(xn.URL!==void 0&&typeof xn.URL.createObjectURL=="function")return xn.URL&&xn.URL.createObjectURL(Qc(yc()))||void 0;Qs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",Ze=yc();try{ze=LG(Ze)}catch{ze=LG(unescape(encodeURIComponent(Ze)))}return"data:application/pdf;filename="+ge.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var dt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ge.pdfObjectUrl&&(dt=ge.pdfObjectUrl,Dt="");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+dt+'"'+Dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ge)+");<\/script></body></html>",Pr=xn.open();return Pr!==null&&Pr.document.write(Wt),Pr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var Br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ge.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ge.filename+'" width="500px" height="400px" /></body></html>',on=xn.open();if(on!==null){on.document.write(Br);var ln=this;on.document.documentElement.querySelector("#pdfViewer").onload=function(){on.document.title=ge.filename,on.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ln.output("bloburl"))}}return on}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ds='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ge)+'"></iframe></body></html>',va=xn.open();if(va!==null&&(va.document.write(ds),va.document.title=ge.filename),va||typeof safari>"u")return va;break;case"datauri":case"dataurl":return xn.document.location.href=this.output("datauristring",ge);default:return null}},mr.foo=function(){try{return mr.apply(this,arguments)}catch(ze){var H=ze.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ge="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ze.message;if(!xn.console)throw new Error(ge);xn.console.error(ge,ze),xn.alert&&alert(ge)}},mr.foo.bar=mr,mr.foo),tm=function(H){return Array.isArray(dr)===!0&&dr.indexOf(H)>-1};switch(n){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=tm("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);tt=n}var Ma=null;V(),J();var rm=h.__private__.getPageInfo=h.getPageInfo=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[H].objId,pageNumber:H,pageContext:Vt[H]}},ly=h.__private__.getPageInfoByObjId=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ge in Vt)if(Vt[ge].objId===H)break;return rm(ge)},Dg=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Vt[X].objId,pageNumber:X,pageContext:Vt[X]}};h.addPage=function(){return Co.apply(this,arguments),this},h.setPage=function(){return wi.apply(this,arguments),re.call(this,se[X]),this},h.insertPage=function(H){return this.addPage(),this.movePage(X,H),this},h.movePage=function(H,ge){var ze,Ze;if(H>ge){ze=se[H],Ze=Vt[H];for(var dt=H;dt>ge;dt--)se[dt]=se[dt-1],Vt[dt]=Vt[dt-1];se[ge]=ze,Vt[ge]=Ze,this.setPage(ge)}else if(H<ge){ze=se[H],Ze=Vt[H];for(var Dt=H;Dt<ge;Dt++)se[Dt]=se[Dt+1],Vt[Dt]=Vt[Dt+1];se[ge]=ze,Vt[ge]=Ze,this.setPage(ge)}return this},h.deletePage=function(){return xa.apply(this,arguments),this},h.__private__.text=h.text=function(H,ge,ze,Ze,dt){var Dt,Wt,Pr,Br,on,ln,ds,va,ri,Hs=(Ze=Ze||{}).scope||this;if(typeof H=="number"&&typeof ge=="number"&&(typeof ze=="string"||Array.isArray(ze))){var _i=ze;ze=ge,ge=H,H=_i}if(arguments[3]instanceof It==0?(Pr=arguments[4],Br=arguments[5],zs(ds=arguments[3])==="object"&&ds!==null||(typeof Pr=="string"&&(Br=Pr,Pr=null),typeof ds=="string"&&(Br=ds,ds=null),typeof ds=="number"&&(Pr=ds,ds=null),Ze={flags:ds,angle:Pr,align:Br})):(O("The transform parameter of text() with a Matrix value"),ri=dt),isNaN(ge)||isNaN(ze)||H==null)throw new Error("Invalid arguments passed to jsPDF.text");if(H.length===0)return Hs;var La,oo="",Sc=typeof Ze.lineHeightFactor=="number"?Ze.lineHeightFactor:hl,ml=Hs.internal.scaleFactor;function hy(fs){return fs=fs.split("	").join(Array(Ze.TabLen||9).join(" ")),En(fs,ds)}function Jf(fs){for(var Cs,Ea=fs.concat(),ni=[],au=Ea.length;au--;)typeof(Cs=Ea.shift())=="string"?ni.push(Cs):Array.isArray(fs)&&(Cs.length===1||Cs[1]===void 0&&Cs[2]===void 0)?ni.push(Cs[0]):ni.push([Cs[0],Cs[1],Cs[2]]);return ni}function cm(fs,Cs){var Ea;if(typeof fs=="string")Ea=Cs(fs)[0];else if(Array.isArray(fs)){for(var ni,au,zg=fs.concat(),Bp=[],rf=zg.length;rf--;)typeof(ni=zg.shift())=="string"?Bp.push(Cs(ni)[0]):Array.isArray(ni)&&typeof ni[0]=="string"&&(au=Cs(ni[0],ni[1],ni[2]),Bp.push([au[0],au[1],au[2]]));Ea=Bp}return Ea}var Zf=!1,um=!0;if(typeof H=="string")Zf=!0;else if(Array.isArray(H)){var Qf=H.concat();Wt=[];for(var dm,Eo=Qf.length;Eo--;)(typeof(dm=Qf.shift())!="string"||Array.isArray(dm)&&typeof dm[0]!="string")&&(um=!1);Zf=um}if(Zf===!1)throw new Error('Type of text must be string or Array. "'+H+'" is not recognized.');typeof H=="string"&&(H=H.match(/[\r?\n]/)?H.split(/\r\n|\r|\n/g):[H]);var fm=ke/Hs.internal.scaleFactor,hm=fm*(Sc-1);switch(Ze.baseline){case"bottom":ze-=hm;break;case"top":ze+=fm-hm;break;case"hanging":ze+=fm-2*hm;break;case"middle":ze+=fm/2-hm}if((ln=Ze.maxWidth||0)>0&&(typeof H=="string"?H=Hs.splitTextToSize(H,ln):Object.prototype.toString.call(H)==="[object Array]"&&(H=H.reduce(function(fs,Cs){return fs.concat(Hs.splitTextToSize(Cs,ln))},[]))),Dt={text:H,x:ge,y:ze,options:Ze,mutex:{pdfEscape:En,activeFontKey:Je,fonts:Ce,activeFontSize:ke}},wr.publish("preProcessText",Dt),H=Dt.text,Pr=(Ze=Dt.options).angle,ri instanceof It==0&&Pr&&typeof Pr=="number"){Pr*=Math.PI/180,Ze.rotationDirection===0&&(Pr=-Pr),N===w&&(Pr=-Pr);var Bg=Math.cos(Pr),Ug=Math.sin(Pr);ri=new It(Bg,Ug,-Ug,Bg,0,0)}else Pr&&Pr instanceof It&&(ri=Pr);N!==w||ri||(ri=Jt),(on=Ze.charSpace||ru)!==void 0&&(oo+=R(I(on))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(va=Ze.horizontalScale)!==void 0&&(oo+=R(100*va)+` Tz
`),Ze.lang;var Ca=-1,nu=Ze.renderingMode!==void 0?Ze.renderingMode:Ze.stroke,Qu=Hs.internal.getCurrentPageInfo().pageContext;switch(nu){case 0:case!1:case"fill":Ca=0;break;case 1:case!0:case"stroke":Ca=1;break;case 2:case"fillThenStroke":Ca=2;break;case 3:case"invisible":Ca=3;break;case 4:case"fillAndAddForClipping":Ca=4;break;case 5:case"strokeAndAddPathForClipping":Ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ca=6;break;case 7:case"addToPathForClipping":Ca=7}var my=Qu.usedRenderingMode!==void 0?Qu.usedRenderingMode:-1;Ca!==-1?oo+=Ca+` Tr
`:my!==-1&&(oo+=`0 Tr
`),Ca!==-1&&(Qu.usedRenderingMode=Ca),Br=Ze.align||"left";var Yl,eh=ke*Sc,Fp=Hs.internal.pageSize.getWidth(),Mp=Ce[Je];on=Ze.charSpace||ru,ln=Ze.maxWidth||0,ds=Object.assign({autoencode:!0,noBOM:!0},Ze.flags);var Zd=[],kc=function(fs){return Hs.getStringUnitWidth(fs,{font:Mp,charSpace:on,fontSize:ke,doKerning:!1})*ke/ml};if(Object.prototype.toString.call(H)==="[object Array]"){var Kl;Wt=Jf(H),Br!=="left"&&(Yl=Wt.map(kc));var Xl,th=0;if(Br==="right"){ge-=Yl[0],H=[],Eo=Wt.length;for(var ed=0;ed<Eo;ed++)ed===0?(Xl=Gl(ge),Kl=Kd(ze)):(Xl=I(th-Yl[ed]),Kl=-eh),H.push([Wt[ed],Xl,Kl]),th=Yl[ed]}else if(Br==="center"){ge-=Yl[0]/2,H=[],Eo=Wt.length;for(var Qd=0;Qd<Eo;Qd++)Qd===0?(Xl=Gl(ge),Kl=Kd(ze)):(Xl=I((th-Yl[Qd])/2),Kl=-eh),H.push([Wt[Qd],Xl,Kl]),th=Yl[Qd]}else if(Br==="left"){H=[],Eo=Wt.length;for(var ef=0;ef<Eo;ef++)H.push(Wt[ef])}else if(Br==="justify"&&Mp.encoding==="Identity-H"){H=[],Eo=Wt.length,ln=ln!==0?ln:Fp;for(var td=0,$a=0;$a<Eo;$a++)if(Kl=$a===0?Kd(ze):-eh,Xl=$a===0?Gl(ge):td,$a<Eo-1){var mm=I((ln-Yl[$a])/(Wt[$a].split(" ").length-1)),rd=Wt[$a].split(" ");H.push([rd[0]+" ",Xl,Kl]),td=0;for(var su=1;su<rd.length;su++){var pm=(kc(rd[su-1]+" "+rd[su])-kc(rd[su]))*ml+mm;su==rd.length-1?H.push([rd[su],pm,0]):H.push([rd[su]+" ",pm,0]),td-=pm}}else H.push([Wt[$a],Xl,Kl]);H.push(["",td,0])}else{if(Br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(H=[],Eo=Wt.length,ln=ln!==0?ln:Fp,$a=0;$a<Eo;$a++){Kl=$a===0?Kd(ze):-eh,Xl=$a===0?Gl(ge):0;var gm=Wt[$a].split(" ").length-1,Lp=gm>0?(ln-Yl[$a])/gm:0;$a<Eo-1?Zd.push(R(I(Lp))):Zd.push(0),H.push([Wt[$a],Xl,Kl])}}}(typeof Ze.R2L=="boolean"?Ze.R2L:qe)===!0&&(H=cm(H,function(fs,Cs,Ea){return[fs.split("").reverse().join(""),Cs,Ea]})),Dt={text:H,x:ge,y:ze,options:Ze,mutex:{pdfEscape:En,activeFontKey:Je,fonts:Ce,activeFontSize:ke}},wr.publish("postProcessText",Dt),H=Dt.text,La=Dt.mutex.isHex||!1;var $p=Ce[Je].encoding;$p!=="WinAnsiEncoding"&&$p!=="StandardEncoding"||(H=cm(H,function(fs,Cs,Ea){return[hy(fs),Cs,Ea]})),Wt=Jf(H),H=[];for(var tf,rh,nh,xm=Array.isArray(Wt[0])?1:0,sh="",vm=function(fs,Cs,Ea){var ni="";return Ea instanceof It?(Ea=typeof Ze.angle=="number"?Ir(Ea,new It(1,0,0,1,fs,Cs)):Ir(new It(1,0,0,1,fs,Cs),Ea),N===w&&(Ea=Ir(new It(1,0,0,-1,0,0),Ea)),ni=Ea.join(" ")+` Tm
`):ni=R(fs)+" "+R(Cs)+` Td
`,ni},Aa=0;Aa<Wt.length;Aa++){switch(sh="",xm){case 1:nh=(La?"<":"(")+Wt[Aa][0]+(La?">":")"),tf=parseFloat(Wt[Aa][1]),rh=parseFloat(Wt[Aa][2]);break;case 0:nh=(La?"<":"(")+Wt[Aa]+(La?">":")"),tf=Gl(ge),rh=Kd(ze)}Zd!==void 0&&Zd[Aa]!==void 0&&(sh=Zd[Aa]+` Tw
`),Aa===0?H.push(sh+vm(tf,rh,ri)+nh):xm===0?H.push(sh+nh):xm===1&&H.push(sh+vm(tf,rh,ri)+nh)}H=xm===0?H.join(` Tj
T* `):H.join(` Tj
`),H+=` Tj
`;var pl=`BT
/`;return pl+=Je+" "+ke+` Tf
`,pl+=R(ke*Sc)+` TL
`,pl+=tu+`
`,pl+=oo,pl+=H,le(pl+="ET"),m[Je]=!0,Hs};var nm=h.__private__.clip=h.clip=function(H){return le(H==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return nm("evenodd")},h.__private__.discardPath=h.discardPath=function(){return le("n"),this};var Yu=h.__private__.isValidStyle=function(H){var ge=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(H)!==-1&&(ge=!0),ge};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(H){return Yu(H)&&(u=H),this};var Pp=h.__private__.getStyle=h.getStyle=function(H){var ge=u;switch(H){case"D":case"S":ge="S";break;case"F":ge="f";break;case"FD":case"DF":ge="B";break;case"f":case"f*":case"B":case"B*":ge=H}return ge},ls=h.close=function(){return le("h"),this};h.stroke=function(){return le("S"),this},h.fill=function(H){return Gd("f",H),this},h.fillEvenOdd=function(H){return Gd("f*",H),this},h.fillStroke=function(H){return Gd("B",H),this},h.fillStrokeEvenOdd=function(H){return Gd("B*",H),this};var Gd=function(H,ge){zs(ge)==="object"?cy(ge,H):le(H)},Tp=function(H){H===null||N===w&&H===void 0||(H=Pp(H),le(H))};function Rg(H,ge,ze,Ze,dt){var Dt=new A1(ge||this.boundingBox,ze||this.xStep,Ze||this.yStep,this.gState,dt||this.matrix);Dt.stream=this.stream;var Wt=H+"$$"+this.cloneIndex+++"$$";return gr(Wt,Dt),Dt}var cy=function(H,ge){var ze=at[H.key],Ze=Ke[ze];if(Ze instanceof Ex)le("q"),le(uy(ge)),Ze.gState&&h.setGState(Ze.gState),le(H.matrix.toString()+" cm"),le("/"+ze+" sh"),le("Q");else if(Ze instanceof A1){var dt=new It(1,0,0,-1,0,Nc());H.matrix&&(dt=dt.multiply(H.matrix||Jt),ze=Rg.call(Ze,H.key,H.boundingBox,H.xStep,H.yStep,dt).id),le("q"),le("/Pattern cs"),le("/"+ze+" scn"),Ze.gState&&h.setGState(Ze.gState),le(ge),le("Q")}},uy=function(H){switch(H){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Op=h.moveTo=function(H,ge){return le(R(I(H))+" "+R(M(ge))+" m"),this},Yd=h.lineTo=function(H,ge){return le(R(I(H))+" "+R(M(ge))+" l"),this},eu=h.curveTo=function(H,ge,ze,Ze,dt,Dt){return le([R(I(H)),R(M(ge)),R(I(ze)),R(M(Ze)),R(I(dt)),R(M(Dt)),"c"].join(" ")),this};h.__private__.line=h.line=function(H,ge,ze,Ze,dt){if(isNaN(H)||isNaN(ge)||isNaN(ze)||isNaN(Ze)||!Yu(dt))throw new Error("Invalid arguments passed to jsPDF.line");return N===_?this.lines([[ze-H,Ze-ge]],H,ge,[1,1],dt||"S"):this.lines([[ze-H,Ze-ge]],H,ge,[1,1]).stroke()},h.__private__.lines=h.lines=function(H,ge,ze,Ze,dt,Dt){var Wt,Pr,Br,on,ln,ds,va,ri,Hs,_i,La,oo;if(typeof H=="number"&&(oo=ze,ze=ge,ge=H,H=oo),Ze=Ze||[1,1],Dt=Dt||!1,isNaN(ge)||isNaN(ze)||!Array.isArray(H)||!Array.isArray(Ze)||!Yu(dt)||typeof Dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Op(ge,ze),Wt=Ze[0],Pr=Ze[1],on=H.length,_i=ge,La=ze,Br=0;Br<on;Br++)(ln=H[Br]).length===2?(_i=ln[0]*Wt+_i,La=ln[1]*Pr+La,Yd(_i,La)):(ds=ln[0]*Wt+_i,va=ln[1]*Pr+La,ri=ln[2]*Wt+_i,Hs=ln[3]*Pr+La,_i=ln[4]*Wt+_i,La=ln[5]*Pr+La,eu(ds,va,ri,Hs,_i,La));return Dt&&ls(),Tp(dt),this},h.path=function(H){for(var ge=0;ge<H.length;ge++){var ze=H[ge],Ze=ze.c;switch(ze.op){case"m":Op(Ze[0],Ze[1]);break;case"l":Yd(Ze[0],Ze[1]);break;case"c":eu.apply(this,Ze);break;case"h":ls()}}return this},h.__private__.rect=h.rect=function(H,ge,ze,Ze,dt){if(isNaN(H)||isNaN(ge)||isNaN(ze)||isNaN(Ze)||!Yu(dt))throw new Error("Invalid arguments passed to jsPDF.rect");return N===_&&(Ze=-Ze),le([R(I(H)),R(M(ge)),R(I(ze)),R(I(Ze)),"re"].join(" ")),Tp(dt),this},h.__private__.triangle=h.triangle=function(H,ge,ze,Ze,dt,Dt,Wt){if(isNaN(H)||isNaN(ge)||isNaN(ze)||isNaN(Ze)||isNaN(dt)||isNaN(Dt)||!Yu(Wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-H,Ze-ge],[dt-ze,Dt-Ze],[H-dt,ge-Dt]],H,ge,[1,1],Wt,!0),this},h.__private__.roundedRect=h.roundedRect=function(H,ge,ze,Ze,dt,Dt,Wt){if(isNaN(H)||isNaN(ge)||isNaN(ze)||isNaN(Ze)||isNaN(dt)||isNaN(Dt)||!Yu(Wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pr=4/3*(Math.SQRT2-1);return dt=Math.min(dt,.5*ze),Dt=Math.min(Dt,.5*Ze),this.lines([[ze-2*dt,0],[dt*Pr,0,dt,Dt-Dt*Pr,dt,Dt],[0,Ze-2*Dt],[0,Dt*Pr,-dt*Pr,Dt,-dt,Dt],[2*dt-ze,0],[-dt*Pr,0,-dt,-Dt*Pr,-dt,-Dt],[0,2*Dt-Ze],[0,-Dt*Pr,dt*Pr,-Dt,dt,-Dt]],H+dt,ge,[1,1],Wt,!0),this},h.__private__.ellipse=h.ellipse=function(H,ge,ze,Ze,dt){if(isNaN(H)||isNaN(ge)||isNaN(ze)||isNaN(Ze)||!Yu(dt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Dt=4/3*(Math.SQRT2-1)*ze,Wt=4/3*(Math.SQRT2-1)*Ze;return Op(H+ze,ge),eu(H+ze,ge-Wt,H+Dt,ge-Ze,H,ge-Ze),eu(H-Dt,ge-Ze,H-ze,ge-Wt,H-ze,ge),eu(H-ze,ge+Wt,H-Dt,ge+Ze,H,ge+Ze),eu(H+Dt,ge+Ze,H+ze,ge+Wt,H+ze,ge),Tp(dt),this},h.__private__.circle=h.circle=function(H,ge,ze,Ze){if(isNaN(H)||isNaN(ge)||isNaN(ze)||!Yu(Ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(H,ge,ze,ze,Ze)},h.setFont=function(H,ge,ze){return ze&&(ge=A(ge,ze)),Je=io(H,ge,{disableWarning:!1}),this};var Ku=h.__private__.getFont=h.getFont=function(){return Ce[io.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var H,ge,ze={};for(H in st)if(st.hasOwnProperty(H))for(ge in ze[H]=[],st[H])st[H].hasOwnProperty(ge)&&ze[H].push(ge);return ze},h.addFont=function(H,ge,ze,Ze,dt){var Dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Dt.indexOf(arguments[3])!==-1?dt=arguments[3]:arguments[3]&&Dt.indexOf(arguments[3])==-1&&(ze=A(ze,Ze)),An.call(this,H,ge,ze,dt=dt||"Identity-H")};var hl,bc=t.lineWidth||.200025,tn=h.__private__.getLineWidth=h.getLineWidth=function(){return bc},sm=h.__private__.setLineWidth=h.setLineWidth=function(H){return bc=H,le(R(I(H))+" w"),this};h.__private__.setLineDash=Hr.API.setLineDash=Hr.API.setLineDashPattern=function(H,ge){if(H=H||[],ge=ge||0,isNaN(ge)||!Array.isArray(H))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return H=H.map(function(ze){return R(I(ze))}).join(" "),ge=R(I(ge)),le("["+H+"] "+ge+" d"),this};var Xu=h.__private__.getLineHeight=h.getLineHeight=function(){return ke*hl};h.__private__.getLineHeight=h.getLineHeight=function(){return ke*hl};var $w=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(H){return typeof(H=H||1.15)=="number"&&(hl=H),this},dy=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return hl};$w(t.lineHeight);var Gl=h.__private__.getHorizontalCoordinate=function(H){return I(H)},Kd=h.__private__.getVerticalCoordinate=function(H){return N===w?H:Vt[X].mediaBox.topRightY-Vt[X].mediaBox.bottomLeftY-I(H)},fy=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(H){return R(Gl(H))},Dp=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(H){return R(Kd(H))},am=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ie(am)},h.__private__.setStrokeColor=h.setDrawColor=function(H,ge,ze,Ze){return am=De({ch1:H,ch2:ge,ch3:ze,ch4:Ze,pdfColorType:"draw",precision:2}),le(am),this};var Ig=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ie(Ig)},h.__private__.setFillColor=h.setFillColor=function(H,ge,ze,Ze){return Ig=De({ch1:H,ch2:ge,ch3:ze,ch4:Ze,pdfColorType:"fill",precision:2}),le(Ig),this};var tu=t.textColor||"0 g",Ju=h.__private__.getTextColor=h.getTextColor=function(){return Ie(tu)};h.__private__.setTextColor=h.setTextColor=function(H,ge,ze,Ze){return tu=De({ch1:H,ch2:ge,ch3:ze,ch4:Ze,pdfColorType:"text",precision:3}),this};var ru=t.charSpace,Rp=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ru||0)};h.__private__.setCharSpace=h.setCharSpace=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ru=H,this};var Fg=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(H){var ge=h.CapJoinStyles[H];if(ge===void 0)throw new Error("Line cap style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fg=ge,le(ge+" J"),this};var Mg=0;h.__private__.setLineJoin=h.setLineJoin=function(H){var ge=h.CapJoinStyles[H];if(ge===void 0)throw new Error("Line join style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mg=ge,le(ge+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(H){if(H=H||0,isNaN(H))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(R(I(H))+" M"),this},h.GState=oC,h.setGState=function(H){(H=typeof H=="string"?St[qt[H]]:Xd(null,H)).equals(Ut)||(le("/"+H.id+" gs"),Ut=H)};var Xd=function(H,ge){if(!H||!qt[H]){var ze=!1;for(var Ze in St)if(St.hasOwnProperty(Ze)&&St[Ze].equals(ge)){ze=!0;break}if(ze)ge=St[Ze];else{var dt="GS"+(Object.keys(St).length+1).toString(10);St[dt]=ge,ge.id=dt}return H&&(qt[H]=ge.id),wr.publish("addGState",ge),ge}};h.addGState=function(H,ge){return Xd(H,ge),this},h.saveGraphicsState=function(){return le("q"),Ue.push({key:Je,size:ke,color:tu}),this},h.restoreGraphicsState=function(){le("Q");var H=Ue.pop();return Je=H.key,ke=H.size,tu=H.color,Ut=null,this},h.setCurrentTransformationMatrix=function(H){return le(H.toString()+" cm"),this},h.comment=function(H){return le("#"+H),this};var Zu=function(H,ge){var ze=H||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(Dt){isNaN(Dt)||(ze=parseFloat(Dt))}});var Ze=ge||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ze},set:function(Dt){isNaN(Dt)||(Ze=parseFloat(Dt))}});var dt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return dt},set:function(Dt){dt=Dt.toString()}}),this},im=function(H,ge,ze,Ze){Zu.call(this,H,ge),this.type="rect";var dt=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return dt},set:function(Wt){isNaN(Wt)||(dt=parseFloat(Wt))}});var Dt=Ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Dt},set:function(Wt){isNaN(Wt)||(Dt=parseFloat(Wt))}}),this},om=function(){this.page=Qt,this.currentPage=X,this.pages=se.slice(0),this.pagesContext=Vt.slice(0),this.x=Ve,this.y=Me,this.matrix=ht,this.width=lm(X),this.height=_c(X),this.outputDestination=Oe,this.id="",this.objectNumber=-1};om.prototype.restore=function(){Qt=this.page,X=this.currentPage,Vt=this.pagesContext,se=this.pages,Ve=this.x,Me=this.y,ht=this.matrix,Lg(X,this.width),jc(X,this.height),Oe=this.outputDestination};var wc=function(H,ge,ze,Ze,dt){or.push(new om),Qt=X=0,se=[],Ve=H,Me=ge,ht=dt,ks([ze,Ze])};for(var Jd in h.beginFormObject=function(H,ge,ze,Ze,dt){return wc(H,ge,ze,Ze,dt),this},h.endFormObject=function(H){return(function(ge){if(Cr[ge])or.pop().restore();else{var ze=new om,Ze="Xo"+(Object.keys(br).length+1).toString(10);ze.id=Ze,Cr[ge]=Ze,br[Ze]=ze,wr.publish("addFormObject",ze),or.pop().restore()}})(H),this},h.doFormObject=function(H,ge){var ze=br[Cr[H]];return le("q"),le(ge.toString()+" cm"),le("/"+ze.id+" Do"),le("Q"),this},h.getFormObject=function(H){var ge=br[Cr[H]];return{x:ge.x,y:ge.y,width:ge.width,height:ge.height,matrix:ge.matrix}},h.save=function(H,ge){return H=H||"generated.pdf",(ge=ge||{}).returnPromise=ge.returnPromise||!1,ge.returnPromise===!1?(bx(Qc(yc()),H),typeof bx.unload=="function"&&xn.setTimeout&&setTimeout(bx.unload,911),this):new Promise(function(ze,Ze){try{var dt=bx(Qc(yc()),H);typeof bx.unload=="function"&&xn.setTimeout&&setTimeout(bx.unload,911),ze(dt)}catch(Dt){Ze(Dt.message)}})},Hr.API)Hr.API.hasOwnProperty(Jd)&&(Jd==="events"&&Hr.API.events.length?(function(H,ge){var ze,Ze,dt;for(dt=ge.length-1;dt!==-1;dt--)ze=ge[dt][0],Ze=ge[dt][1],H.subscribe.apply(H,[ze].concat(typeof Ze=="function"?[Ze]:Ze))})(wr,Hr.API.events):h[Jd]=Hr.API[Jd]);function lm(H){return Vt[H].mediaBox.topRightX-Vt[H].mediaBox.bottomLeftX}function Lg(H,ge){Vt[H].mediaBox.topRightX=ge+Vt[H].mediaBox.bottomLeftX}function _c(H){return Vt[H].mediaBox.topRightY-Vt[H].mediaBox.bottomLeftY}function jc(H,ge){Vt[H].mediaBox.topRightY=ge+Vt[H].mediaBox.bottomLeftY}var $g=h.getPageWidth=function(H){return lm(H=H||X)/tt},Ao=h.setPageWidth=function(H,ge){Lg(H,ge*tt)},Nc=h.getPageHeight=function(H){return _c(H=H||X)/tt},Ip=h.setPageHeight=function(H,ge){jc(H,ge*tt)};return h.internal={pdfEscape:En,getStyle:Pp,getFont:Ku,getFontSize:ye,getCharSpace:Rp,getTextColor:Ju,getLineHeight:Xu,getLineHeightFactor:dy,getLineWidth:tn,write:We,getHorizontalCoordinate:Gl,getVerticalCoordinate:Kd,getCoordinateString:fy,getVerticalCoordinateString:Dp,collections:{},newObject:vr,newAdditionalObject:Re,newObjectDeferred:bn,newObjectDeferredBegin:he,getFilters:ft,putStream:wt,events:wr,scaleFactor:tt,pageSize:{getWidth:function(){return $g(X)},setWidth:function(H){Ao(X,H)},getHeight:function(){return Nc(X)},setHeight:function(H){Ip(X,H)}},encryptionOptions:d,encryption:Ma,getEncryptor:function(H){return d!==null?Ma.encryptor(H,0):function(ge){return ge}},output:fl,getNumberOfPages:Vs,pages:se,out:le,f2:P,f3:E,getPageInfo:rm,getPageInfoByObjId:ly,getCurrentPageInfo:Dg,getPDFVersion:g,Point:Zu,Rectangle:im,Matrix:It,hasHotfix:tm},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return $g(X)},set:function(H){Ao(X,H)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Nc(X)},set:function(H){Ip(X,H)},enumerable:!0,configurable:!0}),(function(H){for(var ge=0,ze=Le.length;ge<ze;ge++){var Ze=An.call(this,H[ge][0],H[ge][1],H[ge][2],Le[ge][3],!0);f===!1&&(m[Ze]=!0);var dt=H[ge][0].split("-");_r({id:Ze,fontName:dt[0],fontStyle:dt[1]||""})}wr.publish("addFonts",{fonts:Ce,dictionary:st})}).call(h,Le),Je="F1",Co(a,r),wr.publish("initialized"),h}v1.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},v1.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},v1.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},v1.prototype.processOwnerPassword=function(t,e){return j8(_8(e).substr(0,5),t)},v1.prototype.encryptor=function(t,e){var r=_8(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return j8(r,n)}},oC.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||zs(t)!==zs(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Hr.API={events:[]},Hr.version="3.0.3";var li=Hr.API,i$=1,ty=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},a1=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jn=function(t){return t.toFixed(2)},d0=function(t){return t.toFixed(5)};li.__acroform__={};var Jc=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},zG=function(t){return t*i$},gh=function(t){var e=new fhe,r=Rr.internal.getHeight(t)||0,n=Rr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jn(n)),Number(jn(r))],e},mze=li.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},pze=li.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},gze=li.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Pi=li.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gze(t,e-1)},Ti=li.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mze(t,e-1)},Oi=li.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pze(t,e-1)},xze=li.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(jn(c.lowerLeft_X)),Number(jn(c.lowerLeft_Y)),Number(jn(c.upperRight_X)),Number(jn(c.upperRight_Y))]},vze=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=N8(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+jn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=gh(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},N8=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=Rr.internal.getHeight(t)||0;o=o<0?-o:o;var l=Rr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(P,E,I){if(P+1<a.length){var M=E+" "+a[P+1][0];return e5(M,t,I).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=e5("3",t,i).height,m=t.multiline?o-i:(o-f)/2,h=m+=2,x=0,g=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+e5(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",_=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var N=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(_+2)+2>o)continue e;b+=a[w][v],N=!0,g=w,w--}else{b=(b+=a[w][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var S=parseInt(w),C=c(S,b,i),A=w>=a.length-1;if(C&&!A){b+=" ",v=0;continue}if(C||A){if(A)g=S;else if(t.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>o)continue e;g=S}}for(var R="",O=x;O<=g;O++){var D=a[O];if(t.multiline){if(O===g){R+=D[v]+" ",v=(v+1)%D.length;continue}if(O===x){R+=D[D.length-1]+" ";continue}}R+=D[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=e5(R,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=jn(u)+" "+jn(h)+` Td
`,e+="("+ty(R)+`) Tj
`,e+=-jn(u)+` 0 Td
`,h=-(i+2),d=0,x=N?g:g+1,_++,b=""}break}return n.text=e,n.fontSize=i,n},e5=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},yze={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bze=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},wze=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Gf.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(yze)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i$=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new hhe,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&bze(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=xze(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rr.createDefaultAppearanceStream(l),zs(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=vze(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var x=h[o];typeof x=="function"&&(x=x.call(a,l)),f+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=h)=="function"&&(x=x.call(a,l)),f+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(g,v){for(var b in g)if(g.hasOwnProperty(b)){var _=b,w=g[b];v.internal.newObjectDeferredBegin(w.objId,!0),zs(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[_]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},dhe=li.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),zs(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+ty(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W3=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+ty(n(t))+")"},Ch=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ch.prototype.toString=function(){return this.objId+" 0 R"},Ch.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ch.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:dhe(a,this.objId,this.scope)}):a instanceof Ch?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var fhe=function(){Ch.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Jc(fhe,Ch);var hhe=function(){Ch.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ty(r(t))+")"}},set:function(r){t=r}})};Jc(hhe,Ch);var Gf=function t(){Ch.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pi(e,3)},set:function(b){b?this.F=Ti(e,3):this.F=Oi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof lC)return;i="FieldObject"+t.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+ty(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/i$:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof lC||this instanceof rv))return W3(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Uo==0?W3(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof Uo==0?b.substr(0,1)==="("?a1(b.substr(1,b.length-2)):a1(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Uo==1?a1(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Uo==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Uo==0?W3(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof Uo==0?b.substr(0,1)==="("?a1(b.substr(1,b.length-2)):a1(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Uo==1?a1(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof Uo==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,1)},set:function(b){b?this.Ff=Ti(this.Ff,1):this.Ff=Oi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,2)},set:function(b){b?this.Ff=Ti(this.Ff,2):this.Ff=Oi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,3)},set:function(b){b?this.Ff=Ti(this.Ff,3):this.Ff=Oi(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Jc(Gf,Ch);var nb=function(){Gf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dhe(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,18)},set:function(r){r?this.Ff=Ti(this.Ff,18):this.Ff=Oi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ti(this.Ff,19):this.Ff=Oi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,20)},set:function(r){r?(this.Ff=Ti(this.Ff,20),e.sort()):this.Ff=Oi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,22)},set:function(r){r?this.Ff=Ti(this.Ff,22):this.Ff=Oi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(r){r?this.Ff=Ti(this.Ff,23):this.Ff=Oi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,27)},set:function(r){r?this.Ff=Ti(this.Ff,27):this.Ff=Oi(this.Ff,27)}}),this.hasAppearanceStream=!1};Jc(nb,Gf);var sb=function(){nb.call(this),this.fontName="helvetica",this.combo=!1};Jc(sb,nb);var ab=function(){sb.call(this),this.combo=!0};Jc(ab,sb);var K5=function(){ab.call(this),this.edit=!0};Jc(K5,ab);var Uo=function(){Gf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,15)},set:function(r){r?this.Ff=Ti(this.Ff,15):this.Ff=Oi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,16)},set:function(r){r?this.Ff=Ti(this.Ff,16):this.Ff=Oi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,17)},set:function(r){r?this.Ff=Ti(this.Ff,17):this.Ff=Oi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(r){r?this.Ff=Ti(this.Ff,26):this.Ff=Oi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+ty(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){zs(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Jc(Uo,Gf);var X5=function(){Uo.call(this),this.pushButton=!0};Jc(X5,Uo);var ib=function(){Uo.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Jc(ib,Uo);var lC=function(){var t,e;Gf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+ty(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){zs(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jc(lC,Gf),ib.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ib.prototype.createOption=function(t){var e=new lC;return e.Parent=this,e.optionName=t,this.Kids.push(e),_ze.call(this.scope,e),e};var J5=function(){Uo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rr.CheckBox.createAppearanceStream()};Jc(J5,Uo);var rv=function(){Gf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,13)},set:function(e){e?this.Ff=Ti(this.Ff,13):this.Ff=Oi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,21)},set:function(e){e?this.Ff=Ti(this.Ff,21):this.Ff=Oi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(e){e?this.Ff=Ti(this.Ff,23):this.Ff=Oi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,24)},set:function(e){e?this.Ff=Ti(this.Ff,24):this.Ff=Oi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,25)},set:function(e){e?this.Ff=Ti(this.Ff,25):this.Ff=Oi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(e){e?this.Ff=Ti(this.Ff,26):this.Ff=Oi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jc(rv,Gf);var Z5=function(){rv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,14)},set:function(t){t?this.Ff=Ti(this.Ff,14):this.Ff=Oi(this.Ff,14)}}),this.password=!0};Jc(Z5,rv);var Rr={CheckBox:{createAppearanceStream:function(){return{N:{On:Rr.CheckBox.YesNormal},D:{On:Rr.CheckBox.YesPushDown,Off:Rr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=gh(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=N8(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+jn(Rr.internal.getWidth(t))+" "+jn(Rr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=gh(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Rr.internal.getHeight(t),o=Rr.internal.getWidth(t),l=N8(t,t.caption);return a.push("1 g"),a.push("0 0 "+jn(o)+" "+jn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jn(o-1)+" "+jn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+jn(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=gh(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jn(Rr.internal.getWidth(t))+" "+jn(Rr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Rr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Rr.RadioButton.Circle.YesNormal,e.D[t]=Rr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=gh(t);e.scope=t.scope;var r=[],n=Rr.internal.getWidth(t)<=Rr.internal.getHeight(t)?Rr.internal.getWidth(t)/4:Rr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Rr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+d0(Rr.internal.getWidth(t)/2)+" "+d0(Rr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gh(t);e.scope=t.scope;var r=[],n=Rr.internal.getWidth(t)<=Rr.internal.getHeight(t)?Rr.internal.getWidth(t)/4:Rr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rr.internal.Bezier_C).toFixed(5)),o=Number((n*Rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+d0(Rr.internal.getWidth(t)/2)+" "+d0(Rr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+d0(Rr.internal.getWidth(t)/2)+" "+d0(Rr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=gh(t);e.scope=t.scope;var r=[],n=Rr.internal.getWidth(t)<=Rr.internal.getHeight(t)?Rr.internal.getWidth(t)/4:Rr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+d0(Rr.internal.getWidth(t)/2)+" "+d0(Rr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Rr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Rr.RadioButton.Cross.YesNormal,e.D[t]=Rr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=gh(t);e.scope=t.scope;var r=[],n=Rr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+jn(Rr.internal.getWidth(t)-2)+" "+jn(Rr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jn(n.x1.x)+" "+jn(n.x1.y)+" m"),r.push(jn(n.x2.x)+" "+jn(n.x2.y)+" l"),r.push(jn(n.x4.x)+" "+jn(n.x4.y)+" m"),r.push(jn(n.x3.x)+" "+jn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gh(t);e.scope=t.scope;var r=Rr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+jn(Rr.internal.getWidth(t))+" "+jn(Rr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jn(Rr.internal.getWidth(t)-2)+" "+jn(Rr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jn(r.x1.x)+" "+jn(r.x1.y)+" m"),n.push(jn(r.x2.x)+" "+jn(r.x2.y)+" l"),n.push(jn(r.x4.x)+" "+jn(r.x4.y)+" m"),n.push(jn(r.x3.x)+" "+jn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=gh(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jn(Rr.internal.getWidth(t))+" "+jn(Rr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Rr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Rr.internal.getWidth(t),r=Rr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Rr.internal.getWidth=function(t){var e=0;return zs(t)==="object"&&(e=zG(t.Rect[2])),e},Rr.internal.getHeight=function(t){var e=0;return zs(t)==="object"&&(e=zG(t.Rect[3])),e};var _ze=li.addField=function(t){if(wze(this,t),!(t instanceof Gf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};li.AcroFormChoiceField=nb,li.AcroFormListBox=sb,li.AcroFormComboBox=ab,li.AcroFormEditBox=K5,li.AcroFormButton=Uo,li.AcroFormPushButton=X5,li.AcroFormRadioButton=ib,li.AcroFormCheckBox=J5,li.AcroFormTextField=rv,li.AcroFormPasswordField=Z5,li.AcroFormAppearance=Rr,li.AcroForm={ChoiceField:nb,ListBox:sb,ComboBox:ab,EditBox:K5,Button:Uo,PushButton:X5,RadioButton:ib,CheckBox:J5,TextField:rv,PasswordField:Z5,Appearance:Rr},Hr.AcroForm={ChoiceField:nb,ListBox:sb,ComboBox:ab,EditBox:K5,Button:Uo,PushButton:X5,RadioButton:ib,CheckBox:J5,TextField:rv,PasswordField:Z5,Appearance:Rr};Hr.AcroForm;function mhe(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(P,E){var I,M,U,W,Y,J=r;if((E=E||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(C(P))for(Y in n)for(U=n[Y],I=0;I<U.length;I+=1){for(W=!0,M=0;M<U[I].length;M+=1)if(U[I][M]!==void 0&&U[I][M]!==P[M]){W=!1;break}if(W===!0){J=Y;break}}else for(Y in n)for(U=n[Y],I=0;I<U.length;I+=1){for(W=!0,M=0;M<U[I].length;M+=1)if(U[I][M]!==void 0&&U[I][M]!==P.charCodeAt(M)){W=!1;break}if(W===!0){J=Y;break}}return J===r&&E!==r&&(J=E),J},i=function P(E){for(var I=this.internal.write,M=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:E.width}),W.push({key:"Height",value:E.height}),E.colorSpace===b.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===b.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var Y="",J=0,z=E.transparency.length;J<z;J++)Y+=E.transparency[J]+" "+E.transparency[J]+" ";W.push({key:"Mask",value:"["+Y+"]"})}E.sMask!==void 0&&W.push({key:"SMask",value:E.objectId+1+" 0 R"});var q=E.filter!==void 0?["/"+E.filter]:void 0;if(M({data:E.data,additionalKeyValues:W,alreadyAppliedFilters:q,objectId:E.objectId}),I("endobj"),"sMask"in E&&E.sMask!==void 0){var V,L=(V=E.sMaskBitsPerComponent)!==null&&V!==void 0?V:E.bitsPerComponent,X={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:E.sMask};"filter"in E&&(X.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(E.width),X.filter=E.filter),P.call(this,X)}if(E.colorSpace===b.INDEXED){var K=this.internal.newObject();M({data:R(new Uint8Array(E.palette)),objectId:K}),I("endobj")}},o=function(){var P=this.internal.collections[e+"images"];for(var E in P)i.call(this,P[E])},l=function(){var P,E=this.internal.collections[e+"images"],I=this.internal.write;for(var M in E)I("/I"+(P=E[M]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},m=function(P){return zs(P)==="object"&&P.nodeType===1},h=function(P,E){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var I=""+P.getAttribute("src");if(I.indexOf("data:image/")===0)return Y5(unescape(I).split("base64,").pop());var M=t.loadFile(I,!0);if(M!==void 0)return M}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var U;switch(E){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return Y5(P.toDataURL(U,1).split("base64,").pop())}},x=function(P){var E=this.internal.collections[e+"images"];if(E){for(var I in E)if(P===E[I].alias)return E[I]}},g=function(P,E,I){return P||E||(P=-96,E=-96),P<0&&(P=-1*I.width*72/P/this.internal.scaleFactor),E<0&&(E=-1*I.height*72/E/this.internal.scaleFactor),P===0&&(P=E*I.width/I.height),E===0&&(E=P*I.height/I.width),[P,E]},v=function(P,E,I,M,U,W){var Y=g.call(this,I,M,U),J=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,q=u.call(this);if(I=Y[0],M=Y[1],q[U.index]=U,W){W*=Math.PI/180;var V=Math.cos(W),L=Math.sin(W),X=function(Q){return Q.toFixed(4)},K=[X(V),X(L),X(-1*L),X(V),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,J(P),z(E+M),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([J(I),"0","0",J(M),"0","0","cm"].join(" "))):this.internal.write([J(I),"0","0",J(M),J(P),z(E+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(P){var E,I,M=0;if(typeof P=="string")for(I=P.length,E=0;E<I;E++)M=(M<<5)-M+P.charCodeAt(E),M|=0;else if(C(P))for(I=P.byteLength/2,E=0;E<I;E++)M=(M<<5)-M+P[E],M|=0;return M},N=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var E=!0;return P.length===0&&(E=!1),P.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(E=!1),E},S=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var E=P.indexOf(",");return E<0?null:P.substring(0,E).trim().endsWith("base64")?P.substring(E+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},A=t.__addimage__.binaryStringToUint8Array=function(P){for(var E=P.length,I=new Uint8Array(E),M=0;M<E;M++)I[M]=P.charCodeAt(M);return I},R=t.__addimage__.arrayBufferToBinaryString=function(P){for(var E="",I=C(P)?P:new Uint8Array(P),M=0;M<I.length;M+=8192)E+=String.fromCharCode.apply(null,I.subarray(M,M+8192));return E};t.addImage=function(){var P,E,I,M,U,W,Y,J,z;if(typeof arguments[1]=="number"?(E=r,I=arguments[1],M=arguments[2],U=arguments[3],W=arguments[4],Y=arguments[5],J=arguments[6],z=arguments[7]):(E=arguments[1],I=arguments[2],M=arguments[3],U=arguments[4],W=arguments[5],Y=arguments[6],J=arguments[7],z=arguments[8]),zs(P=arguments[0])==="object"&&!m(P)&&"imageData"in P){var q=P;P=q.imageData,E=q.format||E||r,I=q.x||I||0,M=q.y||M||0,U=q.w||q.width||U,W=q.h||q.height||W,Y=q.alias||Y,J=q.compression||J,z=q.rotation||q.angle||z}var V=this.internal.getFilters();if(J===void 0&&V.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(I)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=O.call(this,P,E,Y,J);return v.call(this,I,M,U,W,L,z),this};var O=function(P,E,I,M){var U,W,Y;if(typeof P=="string"&&a(P)===r){P=unescape(P);var J=D(P,!1);(J!==""||(J=t.loadFile(P,!0))!==void 0)&&(P=J)}if(m(P)&&(P=h(P,E)),E=a(P,E),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((Y=I)==null||Y.length===0)&&(I=(function(z){return typeof z=="string"||C(z)?w(z):C(z.data)?w(z.data):null})(P)),(U=x.call(this,I))||(P instanceof Uint8Array||E==="RGBA"||(W=P,P=A(P)),U=this["process"+E.toUpperCase()](P,d.call(this),I,(function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in t.image_compression?z:_.NONE})(M),W)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},D=t.__addimage__.convertBase64ToBinaryString=function(P,E){E=typeof E!="boolean"||E;var I,M="";if(typeof P=="string"){var U;I=(U=S(P))!==null&&U!==void 0?U:P;try{M=Y5(I)}catch(W){if(E)throw N(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(P){var E,I,M="";if(m(P)&&(P=h(P)),typeof P=="string"&&a(P)===r&&((M=D(P,!1))===""&&(M=t.loadFile(P)||""),P=M),I=a(P),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(P instanceof Uint8Array||(P=A(P)),!(E=this["process"+I.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=I,E}})(Hr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Hr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(b(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(b(_))+") >>",g.content=i;var w=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Hr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var v=0,b=r,_="",w=0;for(v=0;v<g.length;v+=1)b[g.charCodeAt(v)]!==void 0?(w++,typeof(b=b[g.charCodeAt(v)])=="number"&&(_+=String.fromCharCode(b),b=r,w=0),v===g.length-1&&(b=r,_+=g.charAt(v-(w-1)),v-=w-1,w=0)):(b=r,_+=g.charAt(v-w),v-=w,w=0);return _};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(g,v,b){return o(g)?i(g)===!1?-1:!u(g)||!o(v)&&!o(b)||!o(b)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:d(g)&&o(v)&&!l(v)&&o(b)&&u(b)?3:l(g)||!o(b)?1:2:-1},h=function(g){var v=0,b=0,_=0,w="",N="",S="",C=(g=g||"").split("\\s+"),A=[];for(v=0;v<C.length;v+=1){for(A.push(""),b=0;b<C[v].length;b+=1)w=C[v][b],N=C[v][b-1],S=C[v][b+1],o(w)?(_=m(w,N,S),A[v]+=_!==-1?String.fromCharCode(e[w.charCodeAt(0)][_]):w):A[v]+=w;A[v]=f(A[v])}return A.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var _=0;for(b=[],_=0;_<v.length;_+=1)Array.isArray(v[_])?b.push([h(v[_][0]),v[_][1],v[_][2]]):b.push([h(v[_])]);g=b}else g=h(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",x])})(Hr.API),Hr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Hr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,x=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,N){return w.concat(v.splitTextToSize(N,b))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)h<(g=this.getStringUnitWidth(c[_],{font:f})*d)&&(h=g);return h!==0&&(x=c.length),{w:h/=m,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,x,g,v,b=[],_=[],w=[],N={},S={},C=[],A=[],R=(m=m||{}).autoSize||!1,O=m.printHeaders!==!1,D=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},e),E=typeof m.padding=="number"?m.padding:3,I=m.headerBackgroundColor||"#c8c8c8",M=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=M,this.setFontSize(D),f==null)_=b=Object.keys(d[0]),w=b.map(function(){return"left"});else if(Array.isArray(f)&&zs(f[0])==="object")for(b=f.map(function(q){return q.name}),_=f.map(function(q){return q.prompt||q.name||""}),w=f.map(function(q){return q.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=b=f,w=b.map(function(){return"left"}));if(R||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(N[v=b[h]]=d.map(function(q){return q[v]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=N[v],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)C.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,C)+E+E,C=[]}if(O){var U={};for(h=0;h<b.length;h+=1)U[b[h]]={},U[b[h]].text=_[h],U[b[h]].align=w[h];var W=l.call(this,U,S);A=b.map(function(q){return new i(c,u,S[q],W,U[q].text,void 0,U[q].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var Y=f.reduce(function(q,V){return q[V.name]=V.align,q},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var J=l.call(this,d[h],S);for(g=0;g<b.length;g+=1){var z=d[h][b[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:g,data:z},this),o.call(this,new i(c,u,S[b[g]],J,z,h+2,Y[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var x=c[h];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,x){return Math.max(h,x)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Hr.API);var phe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ghe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S8=mhe(ghe),xhe=[100,200,300,400,500,600,700,800,900],jze=mhe(xhe);function H3(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return phe[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof S8[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function qG(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Nze={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function WG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function HG(t){return t.trimLeft()}function Sze(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function kze(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var t5,GG,YG,i1,r5,KG,XG,JG,G3=["times"];function ZG(t,e,r,n,a){var i=4,o=eY;switch(a){case Hr.API.image_compression.FAST:i=1,o=QG;break;case Hr.API.image_compression.MEDIUM:i=6,o=tY;break;case Hr.API.image_compression.SLOW:i=9,o=rY}t=(function(c,u,d,f){for(var m,h=c.length/u,x=new Uint8Array(c.length+h),g=[Cze,QG,eY,tY,rY],v=0;v<h;v+=1){var b=v*u,_=c.subarray(b,b+u);if(f)x.set(f(_,d,m),b+v);else{for(var w=g.length,N=[],S=0;S<w;S+=1)N[S]=g[S](_,d,m);var C=Eze(N.concat());x.set(N[C],b+v)}m=_}return x})(t,e,Math.ceil(r*n/8),o);var l=v8(t,{level:i});return Hr.API.__addimage__.arrayBufferToBinaryString(l)}function Cze(t){var e=Array.apply([],t);return e.unshift(0),e}function QG(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function eY(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=t[i]-o+256&255}return a}function tY(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(o+l>>>1)&255}return a}function rY(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=Aze(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-o+256&255}return a}function Aze(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function Eze(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Y3(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return vhe(t,a)>>i&o}function nY(t,e,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(t,i,vhe(t,i)&~(l<<o)&65535|c)}function vhe(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Pze(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var u=!0,d=[],f=0,m=null,h=0,x=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&g||(m=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++],S=N>>6&1,C=1<<1+(7&N),A=l,R=c,O=!1;N>>7&&(O=!0,A=e,R=C,e+=3*C);var D=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:v,y:b,width:_,height:w,has_local_palette:O,palette_offset:A,palette_size:R,data_offset:D,data_length:e-D,transparent_index:m,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,I){var M=this.frameInfo(E),U=M.width*M.height,W=new Uint8Array(U);sY(t,M.data_offset,W,U);var Y=M.palette_offset,J=M.transparent_index;J===null&&(J=256);var z=M.width,q=r-z,V=z,L=4*(M.y*r+M.x),X=4*((M.y+M.height)*r+M.x),K=L,Q=4*q;M.interlaced===!0&&(Q+=4*r*7);for(var oe=8,ce=0,de=W.length;ce<de;++ce){var ne=W[ce];if(V===0&&(V=z,(K+=Q)>=X&&(Q=4*q+4*r*(oe-1),K=L+(z+q)*(oe<<1),oe>>=1)),ne===J)K+=4;else{var ue=t[Y+3*ne],se=t[Y+3*ne+1],Z=t[Y+3*ne+2];I[K++]=Z,I[K++]=se,I[K++]=ue,I[K++]=255}--V}},this.decodeAndBlitFrameRGBA=function(E,I){var M=this.frameInfo(E),U=M.width*M.height,W=new Uint8Array(U);sY(t,M.data_offset,W,U);var Y=M.palette_offset,J=M.transparent_index;J===null&&(J=256);var z=M.width,q=r-z,V=z,L=4*(M.y*r+M.x),X=4*((M.y+M.height)*r+M.x),K=L,Q=4*q;M.interlaced===!0&&(Q+=4*r*7);for(var oe=8,ce=0,de=W.length;ce<de;++ce){var ne=W[ce];if(V===0&&(V=z,(K+=Q)>=X&&(Q=4*q+4*r*(oe-1),K=L+(z+q)*(oe<<1),oe>>=1)),ne===J)K+=4;else{var ue=t[Y+3*ne],se=t[Y+3*ne+1],Z=t[Y+3*ne+2];I[K++]=ue,I[K++]=se,I[K++]=Z,I[K++]=255}--V}}}function sY(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,m=0,h=t[e++],x=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===o)break;for(var b=v<l?v:g,_=0,w=b;w>i;)w=x[w]>>8,++_;var N=w;if(m+_+(b!==v?1:0)>n)return void Qs.log("Warning, gif stream longer than expected.");r[m++]=N;var S=m+=_;for(b!==v&&(r[m++]=N),w=b;_--;)w=x[w],r[--S]=255&w,w>>=8;g!==null&&l<4096&&(x[l++]=g<<8|N,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=v}else l=o+1,u=(1<<(c=a+1))-1,g=null}return m!==n&&Qs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function K3(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),x=new Array(64),g=[],v=0,b=7,_=new Array(64),w=new Array(64),N=new Array(64),S=new Array(256),C=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(L,X){for(var K=0,Q=0,oe=new Array,ce=1;ce<=16;ce++){for(var de=1;de<=L[ce];de++)oe[X[Q]]=[],oe[X[Q]][0]=K,oe[X[Q]][1]=ce,Q++,K++;K*=2}return oe}function Y(L){for(var X=L[0],K=L[1]-1;K>=0;)X&1<<K&&(v|=1<<b),K--,--b<0&&(v==255?(J(255),J(0)):J(v),b=7,v=0)}function J(L){g.push(L)}function z(L){J(L>>8&255),J(255&L)}function q(L,X,K,Q,oe){for(var ce,de=oe[0],ne=oe[240],ue=(function(ke,fe){var ye,qe,Qe,ct,Ye,me,Se,_e,Je,tt,Ve=0;for(Je=0;Je<8;++Je){ye=ke[Ve],qe=ke[Ve+1],Qe=ke[Ve+2],ct=ke[Ve+3],Ye=ke[Ve+4],me=ke[Ve+5],Se=ke[Ve+6];var Me=ye+(_e=ke[Ve+7]),ht=ye-_e,Ce=qe+Se,st=qe-Se,Ue=Qe+me,Ke=Qe-me,at=ct+Ye,St=ct-Ye,qt=Me+at,Ut=Me-at,Qt=Ce+Ue,Vt=Ce-Ue;ke[Ve]=qt+Qt,ke[Ve+4]=qt-Qt;var wr=.707106781*(Vt+Ut);ke[Ve+2]=Ut+wr,ke[Ve+6]=Ut-wr;var dr=.382683433*((qt=St+Ke)-(Vt=st+ht)),br=.5411961*qt+dr,Cr=1.306562965*Vt+dr,or=.707106781*(Qt=Ke+st),It=ht+or,Ir=ht-or;ke[Ve+5]=Ir+br,ke[Ve+3]=Ir-br,ke[Ve+1]=It+Cr,ke[Ve+7]=It-Cr,Ve+=8}for(Ve=0,Je=0;Je<8;++Je){ye=ke[Ve],qe=ke[Ve+8],Qe=ke[Ve+16],ct=ke[Ve+24],Ye=ke[Ve+32],me=ke[Ve+40],Se=ke[Ve+48];var Jt=ye+(_e=ke[Ve+56]),gr=ye-_e,mr=qe+Se,vr=qe-Se,bn=Qe+me,he=Qe-me,Re=ct+Ye,Ee=ct-Ye,Pe=Jt+Re,Ie=Jt-Re,De=mr+bn,ft=mr-bn;ke[Ve]=Pe+De,ke[Ve+32]=Pe-De;var wt=.707106781*(ft+Ie);ke[Ve+16]=Ie+wt,ke[Ve+48]=Ie-wt;var mt=.382683433*((Pe=Ee+he)-(ft=vr+gr)),pt=.5411961*Pe+mt,gt=1.306562965*ft+mt,Lt=.707106781*(De=he+vr),Yt=gr+Lt,cr=gr-Lt;ke[Ve+40]=cr+pt,ke[Ve+24]=cr-pt,ke[Ve+8]=Yt+gt,ke[Ve+56]=Yt-gt,Ve++}for(Je=0;Je<64;++Je)tt=ke[Je]*fe[Je],h[Je]=tt>0?tt+.5|0:tt-.5|0;return h})(L,X),se=0;se<64;++se)x[A[se]]=ue[se];var Z=x[0]-K;K=x[0],Z==0?Y(Q[0]):(Y(Q[m[ce=32767+Z]]),Y(f[ce]));for(var Oe=63;Oe>0&&x[Oe]==0;)Oe--;if(Oe==0)return Y(de),K;for(var re,le=1;le<=Oe;){for(var We=le;x[le]==0&&le<=Oe;)++le;var xe=le-We;if(xe>=16){re=xe>>4;for(var Le=1;Le<=re;++Le)Y(ne);xe&=15}ce=32767+x[le],Y(oe[(xe<<4)+m[ce]]),Y(f[ce]),le++}return Oe!=63&&Y(de),K}function V(L){L=Math.min(Math.max(L,1),100),i!=L&&((function(X){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var oe=o((K[Q]*X+50)/100);oe=Math.min(Math.max(oe,1),255),l[A[Q]]=oe}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ne=o((ce[de]*X+50)/100);ne=Math.min(Math.max(ne,1),255),c[A[de]]=ne}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],se=0,Z=0;Z<8;Z++)for(var Oe=0;Oe<8;Oe++)u[se]=1/(l[A[se]]*ue[Z]*ue[Oe]*8),d[se]=1/(c[A[se]]*ue[Z]*ue[Oe]*8),se++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,X){X&&V(X),g=new Array,v=0,b=7,z(65496),z(65504),z(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),z(1),z(1),J(0),J(0),(function(){z(65499),z(132),J(0);for(var qe=0;qe<64;qe++)J(l[qe]);J(1);for(var Qe=0;Qe<64;Qe++)J(c[Qe])})(),(function(qe,Qe){z(65472),z(17),J(8),z(Qe),z(qe),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(L.width,L.height),(function(){z(65476),z(418),J(0);for(var qe=0;qe<16;qe++)J(R[qe+1]);for(var Qe=0;Qe<=11;Qe++)J(O[Qe]);J(16);for(var ct=0;ct<16;ct++)J(D[ct+1]);for(var Ye=0;Ye<=161;Ye++)J(P[Ye]);J(1);for(var me=0;me<16;me++)J(E[me+1]);for(var Se=0;Se<=11;Se++)J(I[Se]);J(17);for(var _e=0;_e<16;_e++)J(M[_e+1]);for(var Je=0;Je<=161;Je++)J(U[Je])})(),z(65498),z(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var K=0,Q=0,oe=0;v=0,b=7,this.encode.displayName="_encode_";for(var ce,de,ne,ue,se,Z,Oe,re,le,We=L.data,xe=L.width,Le=L.height,ke=4*xe,fe=0;fe<Le;){for(ce=0;ce<ke;){for(se=ke*fe+ce,Oe=-1,re=0,le=0;le<64;le++)Z=se+(re=le>>3)*ke+(Oe=4*(7&le)),fe+re>=Le&&(Z-=ke*(fe+1+re-Le)),ce+Oe>=ke&&(Z-=ce+Oe-ke+4),de=We[Z++],ne=We[Z++],ue=We[Z++],_[le]=(C[de]+C[ne+256|0]+C[ue+512|0]>>16)-128,w[le]=(C[de+768|0]+C[ne+1024|0]+C[ue+1280|0]>>16)-128,N[le]=(C[de+1280|0]+C[ne+1536|0]+C[ue+1792|0]>>16)-128;K=q(_,u,K,e,n),Q=q(w,d,Q,r,a),oe=q(N,d,oe,r,a),ce+=32}fe+=8}if(b>=0){var ye=[];ye[1]=b+1,ye[0]=(1<<b+1)-1,Y(ye)}return z(65497),new Uint8Array(g)},t=t||50,(function(){for(var L=String.fromCharCode,X=0;X<256;X++)S[X]=L(X)})(),e=W(R,O),r=W(E,I),n=W(D,P),a=W(M,U),(function(){for(var L=1,X=2,K=1;K<=15;K++){for(var Q=L;Q<X;Q++)m[32767+Q]=K,f[32767+Q]=[],f[32767+Q][1]=K,f[32767+Q][0]=Q;for(var oe=-(X-1);oe<=-L;oe++)m[32767+oe]=K,f[32767+oe]=[],f[32767+oe][1]=K,f[32767+oe][0]=X-1+oe;L<<=1,X<<=1}})(),(function(){for(var L=0;L<256;L++)C[L]=19595*L,C[L+256|0]=38470*L,C[L+512|0]=7471*L+32768,C[L+768|0]=-11059*L,C[L+1024|0]=-21709*L,C[L+1280|0]=32768*L+8421375,C[L+1536|0]=-27439*L,C[L+1792|0]=-5329*L})(),V(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pf(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aY(t){function e(O){if(!O)throw Error("assert :P")}function r(O,D,P){for(var E=0;4>E;E++)if(O[D+E]!=P.charCodeAt(E))return!0;return!1}function n(O,D,P,E,I){for(var M=0;M<I;M++)O[D+M]=P[E+M]}function a(O,D,P,E){for(var I=0;I<E;I++)O[D+I]=P}function i(O){return new Int32Array(O)}function o(O,D){for(var P=[],E=0;E<O;E++)P.push(new D);return P}function l(O,D){var P=[];return(function E(I,M,U){for(var W=U[M],Y=0;Y<W&&(I.push(U.length>M+1?[]:new D),!(U.length<M+1));Y++)E(I[Y],M+1,U)})(P,0,O),P}var c=function(){var O=this;function D(T,B){for(var ee=1<<B-1>>>0;T&ee;)ee>>>=1;return ee?(T&ee-1)+ee:T}function P(T,B,ee,ie,pe){e(!(ie%ee));do T[B+(ie-=ee)]=pe;while(0<ie)}function E(T,B,ee,ie,pe){if(e(2328>=pe),512>=pe)var be=i(512);else if((be=i(pe))==null)return 0;return(function(je,Ae,Te,Fe,rt,vt){var $e,it,xt=Ae,Tt=1<<Te,bt=i(16),Et=i(16);for(e(rt!=0),e(Fe!=null),e(je!=null),e(0<Te),it=0;it<rt;++it){if(15<Fe[it])return 0;++bt[Fe[it]]}if(bt[0]==rt)return 0;for(Et[1]=0,$e=1;15>$e;++$e){if(bt[$e]>1<<$e)return 0;Et[$e+1]=Et[$e]+bt[$e]}for(it=0;it<rt;++it)$e=Fe[it],0<Fe[it]&&(vt[Et[$e]++]=it);if(Et[15]==1)return(Fe=new I).g=0,Fe.value=vt[0],P(je,xt,1,Tt,Fe),Tt;var Pt,Ft=-1,$t=Tt-1,Ur=0,Sr=1,wn=1,Tr=1<<Te;for(it=0,$e=1,rt=2;$e<=Te;++$e,rt<<=1){if(Sr+=wn<<=1,0>(wn-=bt[$e]))return 0;for(;0<bt[$e];--bt[$e])(Fe=new I).g=$e,Fe.value=vt[it++],P(je,xt+Ur,rt,Tr,Fe),Ur=D(Ur,$e)}for($e=Te+1,rt=2;15>=$e;++$e,rt<<=1){if(Sr+=wn<<=1,0>(wn-=bt[$e]))return 0;for(;0<bt[$e];--bt[$e]){if(Fe=new I,(Ur&$t)!=Ft){for(xt+=Tr,Pt=1<<(Ft=$e)-Te;15>Ft&&!(0>=(Pt-=bt[Ft]));)++Ft,Pt<<=1;Tt+=Tr=1<<(Pt=Ft-Te),je[Ae+(Ft=Ur&$t)].g=Pt+Te,je[Ae+Ft].value=xt-Ae-Ft}Fe.g=$e-Te,Fe.value=vt[it++],P(je,xt+(Ur>>Te),rt,Tr,Fe),Ur=D(Ur,$e)}}return Sr!=2*Et[15]-1?0:Tt})(T,B,ee,ie,pe,be)}function I(){this.value=this.g=0}function M(){this.value=this.g=0}function U(){this.G=o(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(kc,M)}function W(T,B,ee,ie){e(T!=null),e(B!=null),e(2147483648>ie),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=B,T.pa=ee,T.Jd=B,T.Yc=ee+ie,T.Zc=4<=ie?ee+ie-4+1:ee,de(T)}function Y(T,B){for(var ee=0;0<B--;)ee|=ue(T,128)<<B;return ee}function J(T,B){var ee=Y(T,B);return ne(T)?-ee:ee}function z(T,B,ee,ie){var pe,be=0;for(e(T!=null),e(B!=null),e(4294967288>ie),T.Sb=ie,T.Ra=0,T.u=0,T.h=0,4<ie&&(ie=4),pe=0;pe<ie;++pe)be+=B[ee+pe]<<8*pe;T.Ra=be,T.bb=ie,T.oa=B,T.pa=ee}function q(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<th-8>>>0,++T.bb,T.u-=8;Q(T)&&(T.h=1,T.u=0)}function V(T,B){if(e(0<=B),!T.h&&B<=Xl){var ee=K(T)&Kl[B];return T.u+=B,q(T),ee}return T.h=1,T.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(T){return T.Ra>>>(T.u&th-1)>>>0}function Q(T){return e(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>th}function oe(T,B){T.u=B,T.h=Q(T)}function ce(T){T.u>=ed&&(e(T.u>=ed),q(T))}function de(T){e(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(e(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function ne(T){return Y(T,1)}function ue(T,B){var ee=T.Ca;0>T.b&&de(T);var ie=T.b,pe=ee*B>>>8,be=(T.I>>>ie>pe)+0;for(be?(ee-=pe,T.I-=pe+1<<ie>>>0):ee=pe+1,ie=ee,pe=0;256<=ie;)pe+=8,ie>>=8;return ie=7^pe+Qd[ie],T.b-=ie,T.Ca=(ee<<ie)-1,be}function se(T,B,ee){T[B+0]=ee>>24&255,T[B+1]=ee>>16&255,T[B+2]=ee>>8&255,T[B+3]=255&ee}function Z(T,B){return T[B+0]|T[B+1]<<8}function Oe(T,B){return Z(T,B)|T[B+2]<<16}function re(T,B){return Z(T,B)|Z(T,B+2)<<16}function le(T,B){var ee=1<<B;return e(T!=null),e(0<B),T.X=i(ee),T.X==null?0:(T.Mb=32-B,T.Xa=B,1)}function We(T,B){e(T!=null),e(B!=null),e(T.Xa==B.Xa),n(B.X,0,T.X,0,1<<B.Xa)}function xe(){this.X=[],this.Xa=this.Mb=0}function Le(T,B,ee,ie){e(ee!=null),e(ie!=null);var pe=ee[0],be=ie[0];return pe==0&&(pe=(T*be+B/2)/B),be==0&&(be=(B*pe+T/2)/T),0>=pe||0>=be?0:(ee[0]=pe,ie[0]=be,1)}function ke(T,B){return T+(1<<B)-1>>>B}function fe(T,B){return((4278255360&T)+(4278255360&B)>>>0&4278255360)+((16711935&T)+(16711935&B)>>>0&16711935)>>>0}function ye(T,B){O[B]=function(ee,ie,pe,be,je,Ae,Te){var Fe;for(Fe=0;Fe<je;++Fe){var rt=O[T](Ae[Te+Fe-1],pe,be+Fe);Ae[Te+Fe]=fe(ee[ie+Fe],rt)}}}function qe(){this.ud=this.hd=this.jd=0}function Qe(T,B){return((4278124286&(T^B))>>>1)+(T&B)>>>0}function ct(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function Ye(T,B){return ct(T+(T-B+.5>>1))}function me(T,B,ee){return Math.abs(B-ee)-Math.abs(T-ee)}function Se(T,B,ee,ie,pe,be,je){for(ie=be[je-1],ee=0;ee<pe;++ee)be[je+ee]=ie=fe(T[B+ee],ie)}function _e(T,B,ee,ie,pe){var be;for(be=0;be<ee;++be){var je=T[B+be],Ae=je>>8&255,Te=16711935&(Te=(Te=16711935&je)+((Ae<<16)+Ae));ie[pe+be]=(4278255360&je)+Te>>>0}}function Je(T,B){B.jd=255&T,B.hd=T>>8&255,B.ud=T>>16&255}function tt(T,B,ee,ie,pe,be){var je;for(je=0;je<ie;++je){var Ae=B[ee+je],Te=Ae>>>8,Fe=Ae,rt=255&(rt=(rt=Ae>>>16)+((T.jd<<24>>24)*(Te<<24>>24)>>>5));Fe=255&(Fe=(Fe+=(T.hd<<24>>24)*(Te<<24>>24)>>>5)+((T.ud<<24>>24)*(rt<<24>>24)>>>5)),pe[be+je]=(4278255360&Ae)+(rt<<16)+Fe}}function Ve(T,B,ee,ie,pe){O[B]=function(be,je,Ae,Te,Fe,rt,vt,$e,it){for(Te=vt;Te<$e;++Te)for(vt=0;vt<it;++vt)Fe[rt++]=pe(Ae[ie(be[je++])])},O[T]=function(be,je,Ae,Te,Fe,rt,vt){var $e=8>>be.b,it=be.Ea,xt=be.K[0],Tt=be.w;if(8>$e)for(be=(1<<be.b)-1,Tt=(1<<$e)-1;je<Ae;++je){var bt,Et=0;for(bt=0;bt<it;++bt)bt&be||(Et=ie(Te[Fe++])),rt[vt++]=pe(xt[Et&Tt]),Et>>=$e}else O["VP8LMapColor"+ee](Te,Fe,xt,Tt,rt,vt,je,Ae,it)}}function Me(T,B,ee,ie,pe){for(ee=B+ee;B<ee;){var be=T[B++];ie[pe++]=be>>16&255,ie[pe++]=be>>8&255,ie[pe++]=255&be}}function ht(T,B,ee,ie,pe){for(ee=B+ee;B<ee;){var be=T[B++];ie[pe++]=be>>16&255,ie[pe++]=be>>8&255,ie[pe++]=255&be,ie[pe++]=be>>24&255}}function Ce(T,B,ee,ie,pe){for(ee=B+ee;B<ee;){var be=(je=T[B++])>>16&240|je>>12&15,je=240&je|je>>28&15;ie[pe++]=be,ie[pe++]=je}}function st(T,B,ee,ie,pe){for(ee=B+ee;B<ee;){var be=(je=T[B++])>>16&248|je>>13&7,je=je>>5&224|je>>3&31;ie[pe++]=be,ie[pe++]=je}}function Ue(T,B,ee,ie,pe){for(ee=B+ee;B<ee;){var be=T[B++];ie[pe++]=255&be,ie[pe++]=be>>8&255,ie[pe++]=be>>16&255}}function Ke(T,B,ee,ie,pe,be){if(be==0)for(ee=B+ee;B<ee;)se(ie,((be=T[B++])[0]>>24|be[1]>>8&65280|be[2]<<8&16711680|be[3]<<24)>>>0),pe+=32;else n(ie,pe,T,B,ee)}function at(T,B){O[B][0]=O[T+"0"],O[B][1]=O[T+"1"],O[B][2]=O[T+"2"],O[B][3]=O[T+"3"],O[B][4]=O[T+"4"],O[B][5]=O[T+"5"],O[B][6]=O[T+"6"],O[B][7]=O[T+"7"],O[B][8]=O[T+"8"],O[B][9]=O[T+"9"],O[B][10]=O[T+"10"],O[B][11]=O[T+"11"],O[B][12]=O[T+"12"],O[B][13]=O[T+"13"],O[B][14]=O[T+"0"],O[B][15]=O[T+"0"]}function St(T){return T==qp||T==wm||T==Gg||T==Yg}function qt(){this.eb=[],this.size=this.A=this.fb=0}function Ut(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new Ut,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dr(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function br(T,B){var ee=T.T,ie=B.ba.f.RGBA,pe=ie.eb,be=ie.fb+T.ka*ie.A,je=xl[B.ba.S],Ae=T.y,Te=T.O,Fe=T.f,rt=T.N,vt=T.ea,$e=T.W,it=B.cc,xt=B.dc,Tt=B.Mc,bt=B.Nc,Et=T.ka,Pt=T.ka+T.T,Ft=T.U,$t=Ft+1>>1;for(Et==0?je(Ae,Te,null,null,Fe,rt,vt,$e,Fe,rt,vt,$e,pe,be,null,null,Ft):(je(B.ec,B.fc,Ae,Te,it,xt,Tt,bt,Fe,rt,vt,$e,pe,be-ie.A,pe,be,Ft),++ee);Et+2<Pt;Et+=2)it=Fe,xt=rt,Tt=vt,bt=$e,rt+=T.Rc,$e+=T.Rc,be+=2*ie.A,je(Ae,(Te+=2*T.fa)-T.fa,Ae,Te,it,xt,Tt,bt,Fe,rt,vt,$e,pe,be-ie.A,pe,be,Ft);return Te+=T.fa,T.j+Pt<T.o?(n(B.ec,B.fc,Ae,Te,Ft),n(B.cc,B.dc,Fe,rt,$t),n(B.Mc,B.Nc,vt,$e,$t),ee--):1&Pt||je(Ae,Te,null,null,Fe,rt,vt,$e,Fe,rt,vt,$e,pe,be+ie.A,null,null,Ft),ee}function Cr(T,B,ee){var ie=T.F,pe=[T.J];if(ie!=null){var be=T.U,je=B.ba.S,Ae=je==Hg||je==Gg;B=B.ba.f.RGBA;var Te=[0],Fe=T.ka;Te[0]=T.T,T.Kb&&(Fe==0?--Te[0]:(--Fe,pe[0]-=T.width),T.j+T.ka+T.T==T.o&&(Te[0]=T.o-T.j-Fe));var rt=B.eb;Fe=B.fb+Fe*B.A,T=Vg(ie,pe[0],T.width,be,Te,rt,Fe+(Ae?0:3),B.A),e(ee==Te),T&&St(je)&&bm(rt,Fe,Ae,be,Te,B.A)}return 0}function or(T){var B=T.ma,ee=B.ba.S,ie=11>ee,pe=ee==ah||ee==Wg||ee==Hg||ee==Rs||ee==12||St(ee);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!Fp(B.Oa,T,pe?11:12))return 0;if(pe&&St(ee)&&hy(),T.da)alert("todo:use_scaling");else{if(ie){if(B.Ib=dr,T.Kb){if(ee=T.U+1>>1,B.memory=i(T.U+2*ee),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+T.U,B.Mc=B.cc,B.Nc=B.dc+ee,B.Ib=br,hy()}}else alert("todo:EmitYUV");pe&&(B.Jb=Cr,ie&&Sc())}if(ie&&!lo){for(T=0;256>T;++T)vl[T]=89858*(T-128)+iu>>nf,yl[T]=-22014*(T-128)+iu,Gp[T]=-45773*(T-128),Sm[T]=113618*(T-128)+iu>>nf;for(T=Ss;T<As;++T)B=76283*(T-16)+iu>>nf,wy[T-Ss]=Ca(B,255),RS[T-Ss]=Ca(B+8>>4,15);lo=1}return 1}function It(T){var B=T.ma,ee=T.U,ie=T.T;return e(!(1&T.ka)),0>=ee||0>=ie?0:(ee=B.Ib(T,B),B.Jb!=null&&B.Jb(T,B,ee),B.Dc+=ee,1)}function Ir(T){T.ma.memory=null}function Jt(T,B,ee,ie){return V(T,8)!=47?0:(B[0]=V(T,14)+1,ee[0]=V(T,14)+1,ie[0]=V(T,1),V(T,3)!=0?0:!T.h)}function gr(T,B){if(4>T)return T+1;var ee=T-2>>1;return(2+(1&T)<<ee)+V(B,ee)+1}function mr(T,B){return 120<B?B-120:1<=(ee=((ee=PP[B-1])>>4)*T+(8-(15&ee)))?ee:1;var ee}function vr(T,B,ee){var ie=K(ee),pe=T[B+=255&ie].g-8;return 0<pe&&(oe(ee,ee.u+8),ie=K(ee),B+=T[B].value,B+=ie&(1<<pe)-1),oe(ee,ee.u+T[B].g),T[B].value}function bn(T,B,ee){return ee.g+=T.g,ee.value+=T.value<<B>>>0,e(8>=ee.g),T.g}function he(T,B,ee){var ie=T.xc;return e((B=ie==0?0:T.vc[T.md*(ee>>ie)+(B>>ie)])<T.Wb),T.Ya[B]}function Re(T,B,ee,ie){var pe=T.ab,be=T.c*B,je=T.C;B=je+B;var Ae=ee,Te=ie;for(ie=T.Ta,ee=T.Ua;0<pe--;){var Fe=T.gc[pe],rt=je,vt=B,$e=Ae,it=Te,xt=(Te=ie,Ae=ee,Fe.Ea);switch(e(rt<vt),e(vt<=Fe.nc),Fe.hc){case 2:$a($e,it,(vt-rt)*xt,Te,Ae);break;case 0:var Tt=rt,bt=vt,Et=Te,Pt=Ae,Ft=(Tr=Fe).Ea;Tt==0&&(ef($e,it,null,null,1,Et,Pt),Se($e,it+1,0,0,Ft-1,Et,Pt+1),it+=Ft,Pt+=Ft,++Tt);for(var $t=1<<Tr.b,Ur=$t-1,Sr=ke(Ft,Tr.b),wn=Tr.K,Tr=Tr.w+(Tt>>Tr.b)*Sr;Tt<bt;){var qn=wn,Pa=Tr,_n=1;for(td($e,it,Et,Pt-Ft,1,Et,Pt);_n<Ft;){var kr=(_n&~Ur)+$t;kr>Ft&&(kr=Ft),(0,gm[qn[Pa++]>>8&15])($e,it+ +_n,Et,Pt+_n-Ft,kr-_n,Et,Pt+_n),_n=kr}it+=Ft,Pt+=Ft,++Tt&Ur||(Tr+=Sr)}vt!=Fe.nc&&n(Te,Ae-xt,Te,Ae+(vt-rt-1)*xt,xt);break;case 1:for(xt=$e,bt=it,Ft=($e=Fe.Ea)-(Pt=$e&~(Et=(it=1<<Fe.b)-1)),Tt=ke($e,Fe.b),$t=Fe.K,Fe=Fe.w+(rt>>Fe.b)*Tt;rt<vt;){for(Ur=$t,Sr=Fe,wn=new qe,Tr=bt+Pt,qn=bt+$e;bt<Tr;)Je(Ur[Sr++],wn),Lp(wn,xt,bt,it,Te,Ae),bt+=it,Ae+=it;bt<qn&&(Je(Ur[Sr++],wn),Lp(wn,xt,bt,Ft,Te,Ae),bt+=Ft,Ae+=Ft),++rt&Et||(Fe+=Tt)}break;case 3:if($e==Te&&it==Ae&&0<Fe.b){for(bt=Te,$e=xt=Ae+(vt-rt)*xt-(Pt=(vt-rt)*ke(Fe.Ea,Fe.b)),it=Te,Et=Ae,Tt=[],Pt=(Ft=Pt)-1;0<=Pt;--Pt)Tt[Pt]=it[Et+Pt];for(Pt=Ft-1;0<=Pt;--Pt)bt[$e+Pt]=Tt[Pt];mm(Fe,rt,vt,Te,xt,Te,Ae)}else mm(Fe,rt,vt,$e,it,Te,Ae)}Ae=ie,Te=ee}Te!=ee&&n(ie,ee,Ae,Te,be)}function Ee(T,B){var ee=T.V,ie=T.Ba+T.c*T.C,pe=B-T.C;if(e(B<=T.l.o),e(16>=pe),0<pe){var be=T.l,je=T.Ta,Ae=T.Ua,Te=be.width;if(Re(T,pe,ee,ie),pe=Ae=[Ae],e((ee=T.C)<(ie=B)),e(be.v<be.va),ie>be.o&&(ie=be.o),ee<be.j){var Fe=be.j-ee;ee=be.j,pe[0]+=Fe*Te}if(ee>=ie?ee=0:(pe[0]+=4*be.v,be.ka=ee-be.j,be.U=be.va-be.v,be.T=ie-ee,ee=1),ee){if(Ae=Ae[0],11>(ee=T.ca).S){var rt=ee.f.RGBA,vt=(ie=ee.S,pe=be.U,be=be.T,Fe=rt.eb,rt.A),$e=be;for(rt=rt.fb+T.Ma*rt.A;0<$e--;){var it=je,xt=Ae,Tt=pe,bt=Fe,Et=rt;switch(ie){case xy:$p(it,xt,Tt,bt,Et);break;case ah:tf(it,xt,Tt,bt,Et);break;case qp:tf(it,xt,Tt,bt,Et),bm(bt,Et,0,Tt,1,0);break;case ES:xm(it,xt,Tt,bt,Et);break;case Wg:Ke(it,xt,Tt,bt,Et,1);break;case wm:Ke(it,xt,Tt,bt,Et,1),bm(bt,Et,0,Tt,1,0);break;case Hg:Ke(it,xt,Tt,bt,Et,0);break;case Gg:Ke(it,xt,Tt,bt,Et,0),bm(bt,Et,1,Tt,1,0);break;case Rs:rh(it,xt,Tt,bt,Et);break;case Yg:rh(it,xt,Tt,bt,Et),Uw(bt,Et,Tt,1,0);break;case vy:nh(it,xt,Tt,bt,Et);break;default:e(0)}Ae+=Te,rt+=vt}T.Ma+=be}else alert("todo:EmitRescaledRowsYUVA");e(T.Ma<=ee.height)}}T.C=B,e(T.C<=T.i)}function Pe(T){var B;if(0<T.ua)return 0;for(B=0;B<T.Wb;++B){var ee=T.Ya[B].G,ie=T.Ya[B].H;if(0<ee[1][ie[1]+0].g||0<ee[2][ie[2]+0].g||0<ee[3][ie[3]+0].g)return 0}return 1}function Ie(T,B,ee,ie,pe,be){if(T.Z!=0){var je=T.qd,Ae=T.rd;for(e(Po[T.Z]!=null);B<ee;++B)Po[T.Z](je,Ae,ie,pe,ie,pe,be),je=ie,Ae=pe,pe+=be;T.qd=je,T.rd=Ae}}function De(T,B){var ee=T.l.ma,ie=ee.Z==0||ee.Z==1?T.l.j:T.C;if(ie=T.C<ie?ie:T.C,e(B<=T.l.o),B>ie){var pe=T.l.width,be=ee.ca,je=ee.tb+pe*ie,Ae=T.V,Te=T.Ba+T.c*ie,Fe=T.gc;e(T.ab==1),e(Fe[0].hc==3),su(Fe[0],ie,B,Ae,Te,be,je),Ie(ee,ie,B,be,je,pe)}T.C=T.Ma=B}function ft(T,B,ee,ie,pe,be,je){var Ae=T.$/ie,Te=T.$%ie,Fe=T.m,rt=T.s,vt=ee+T.$,$e=vt;pe=ee+ie*pe;var it=ee+ie*be,xt=280+rt.ua,Tt=T.Pb?Ae:16777216,bt=0<rt.ua?rt.Wa:null,Et=rt.wc,Pt=vt<it?he(rt,Te,Ae):null;e(T.C<be),e(it<=pe);var Ft=!1;e:for(;;){for(;Ft||vt<it;){var $t=0;if(Ae>=Tt){var Ur=vt-ee;e((Tt=T).Pb),Tt.wd=Tt.m,Tt.xd=Ur,0<Tt.s.ua&&We(Tt.s.Wa,Tt.s.vb),Tt=Ae+by}if(Te&Et||(Pt=he(rt,Te,Ae)),e(Pt!=null),Pt.Qb&&(B[vt]=Pt.qb,Ft=!0),!Ft)if(ce(Fe),Pt.jc){$t=Fe,Ur=B;var Sr=vt,wn=Pt.pd[K($t)&kc-1];e(Pt.jc),256>wn.g?(oe($t,$t.u+wn.g),Ur[Sr]=wn.value,$t=0):(oe($t,$t.u+wn.g-256),e(256<=wn.value),$t=wn.value),$t==0&&(Ft=!0)}else $t=vr(Pt.G[0],Pt.H[0],Fe);if(Fe.h)break;if(Ft||256>$t){if(!Ft)if(Pt.nd)B[vt]=(Pt.qb|$t<<8)>>>0;else{if(ce(Fe),Ft=vr(Pt.G[1],Pt.H[1],Fe),ce(Fe),Ur=vr(Pt.G[2],Pt.H[2],Fe),Sr=vr(Pt.G[3],Pt.H[3],Fe),Fe.h)break;B[vt]=(Sr<<24|Ft<<16|$t<<8|Ur)>>>0}if(Ft=!1,++vt,++Te>=ie&&(Te=0,++Ae,je!=null&&Ae<=be&&!(Ae%16)&&je(T,Ae),bt!=null))for(;$e<vt;)$t=B[$e++],bt.X[(506832829*$t&4294967295)>>>bt.Mb]=$t}else if(280>$t){if($t=gr($t-256,Fe),Ur=vr(Pt.G[4],Pt.H[4],Fe),ce(Fe),Ur=mr(ie,Ur=gr(Ur,Fe)),Fe.h)break;if(vt-ee<Ur||pe-vt<$t)break e;for(Sr=0;Sr<$t;++Sr)B[vt+Sr]=B[vt+Sr-Ur];for(vt+=$t,Te+=$t;Te>=ie;)Te-=ie,++Ae,je!=null&&Ae<=be&&!(Ae%16)&&je(T,Ae);if(e(vt<=pe),Te&Et&&(Pt=he(rt,Te,Ae)),bt!=null)for(;$e<vt;)$t=B[$e++],bt.X[(506832829*$t&4294967295)>>>bt.Mb]=$t}else{if(!($t<xt))break e;for(Ft=$t-280,e(bt!=null);$e<vt;)$t=B[$e++],bt.X[(506832829*$t&4294967295)>>>bt.Mb]=$t;$t=vt,e(!(Ft>>>(Ur=bt).Xa)),B[$t]=Ur.X[Ft],Ft=!0}Ft||e(Fe.h==Q(Fe))}if(T.Pb&&Fe.h&&vt<pe)e(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&We(T.s.vb,T.s.Wa);else{if(Fe.h)break e;je?.(T,Ae>be?be:Ae),T.a=0,T.$=vt-ee}return 1}return T.a=3,0}function wt(T){e(T!=null),T.vc=null,T.yc=null,T.Ya=null;var B=T.Wa;B!=null&&(B.X=null),T.vb=null,e(T!=null)}function mt(){var T=new Br;return T==null?null:(T.a=0,T.xb=Wp,at("Predictor","VP8LPredictors"),at("Predictor","VP8LPredictors_C"),at("PredictorAdd","VP8LPredictorsAdd"),at("PredictorAdd","VP8LPredictorsAdd_C"),$a=_e,Lp=tt,$p=Me,tf=ht,rh=Ce,nh=st,xm=Ue,O.VP8LMapColor32b=rd,O.VP8LMapColor8b=pm,T)}function pt(T,B,ee,ie,pe){var be=1,je=[T],Ae=[B],Te=ie.m,Fe=ie.s,rt=null,vt=0;e:for(;;){if(ee)for(;be&&V(Te,1);){var $e=je,it=Ae,xt=ie,Tt=1,bt=xt.m,Et=xt.gc[xt.ab],Pt=V(bt,2);if(xt.Oc&1<<Pt)be=0;else{switch(xt.Oc|=1<<Pt,Et.hc=Pt,Et.Ea=$e[0],Et.nc=it[0],Et.K=[null],++xt.ab,e(4>=xt.ab),Pt){case 0:case 1:Et.b=V(bt,3)+2,Tt=pt(ke(Et.Ea,Et.b),ke(Et.nc,Et.b),0,xt,Et.K),Et.K=Et.K[0];break;case 3:var Ft,$t=V(bt,8)+1,Ur=16<$t?0:4<$t?1:2<$t?2:3;if($e[0]=ke(Et.Ea,Ur),Et.b=Ur,Ft=Tt=pt($t,1,0,xt,Et.K)){var Sr,wn=$t,Tr=Et,qn=1<<(8>>Tr.b),Pa=i(qn);if(Pa==null)Ft=0;else{var _n=Tr.K[0],kr=Tr.w;for(Pa[0]=Tr.K[0][0],Sr=1;Sr<1*wn;++Sr)Pa[Sr]=fe(_n[kr+Sr],Pa[Sr-1]);for(;Sr<4*qn;++Sr)Pa[Sr]=0;Tr.K[0]=null,Tr.K[0]=Pa,Ft=1}}Tt=Ft;break;case 2:break;default:e(0)}be=Tt}}if(je=je[0],Ae=Ae[0],be&&V(Te,1)&&!(be=1<=(vt=V(Te,4))&&11>=vt)){ie.a=3;break e}var fr;if(fr=be)t:{var Ba,sn,Mn,Gs=ie,Li=je,si=Ae,ya=vt,ji=ee,$i=Gs.m,oa=Gs.s,Jn=[null],hs=1,la=0,ms=TS[ya];r:for(;;){if(ji&&V($i,1)){var Ta=V($i,3)+2,Oa=ke(Li,Ta),Is=ke(si,Ta),To=Oa*Is;if(!pt(Oa,Is,0,Gs,Jn))break r;for(Jn=Jn[0],oa.xc=Ta,Ba=0;Ba<To;++Ba){var Es=Jn[Ba]>>8&65535;Jn[Ba]=Es,Es>=hs&&(hs=Es+1)}}if($i.h)break r;for(sn=0;5>sn;++sn){var Fs=_m[sn];!sn&&0<ya&&(Fs+=1<<ya),la<Fs&&(la=Fs)}var ai=o(hs*ms,I),co=hs,bl=o(co,U);if(bl==null)var Ua=null;else e(65536>=co),Ua=bl;var za=i(la);if(Ua==null||za==null||ai==null){Gs.a=1;break r}var Oo=ai;for(Ba=Mn=0;Ba<hs;++Ba){var Ms=Ua[Ba],Do=Ms.G,Ec=Ms.H,ou=0,Bi=1,qa=0;for(sn=0;5>sn;++sn){Fs=_m[sn],Do[sn]=Oo,Ec[sn]=Mn,!sn&&0<ya&&(Fs+=1<<ya);s:{var lh,af=Fs,Yp=Gs,ad=za,FS=Oo,Qw=Mn,Zs=0,lu=Yp.m,e_=V(lu,1);if(a(ad,0,0,af),e_){var t_=V(lu,1)+1,_y=V(lu,1),jy=V(lu,_y==0?1:8);ad[jy]=1,t_==2&&(ad[jy=V(lu,8)]=1);var id=1}else{var ca=i(19),ii=V(lu,4)+4;if(19<ii){Yp.a=3;var Va=0;break s}for(lh=0;lh<ii;++lh)ca[EP[lh]]=V(lu,3);var Kp=void 0,of=void 0,Xp=Yp,IP=ca,Ni=af,Ny=ad,Qg=0,od=Xp.m,cu=8,Jl=o(128,I);n:for(;E(Jl,0,7,IP,19);){if(V(od,1)){var ex=2+2*V(od,3);if((Kp=2+V(od,ex))>Ni)break n}else Kp=Ni;for(of=0;of<Ni&&Kp--;){ce(od);var Sy=Jl[0+(127&K(od))];oe(od,od.u+Sy.g);var ch=Sy.value;if(16>ch)Ny[of++]=ch,ch!=0&&(cu=ch);else{var MS=ch==16,r_=ch-16,LS=yy[r_],n_=V(od,Kg[r_])+LS;if(of+n_>Ni)break n;for(var $S=MS?cu:0;0<n_--;)Ny[of++]=$S}}Qg=1;break n}Qg||(Xp.a=3),id=Qg}(id=id&&!lu.h)&&(Zs=E(FS,Qw,8,ad,af)),id&&Zs!=0?Va=Zs:(Yp.a=3,Va=0)}if(Va==0)break r;if(Bi&&PS[sn]==1&&(Bi=Oo[Mn].g==0),ou+=Oo[Mn].g,Mn+=Va,3>=sn){var Jp,ky=za[0];for(Jp=1;Jp<Fs;++Jp)za[Jp]>ky&&(ky=za[Jp]);qa+=ky}}if(Ms.nd=Bi,Ms.Qb=0,Bi&&(Ms.qb=(Do[3][Ec[3]+0].value<<24|Do[1][Ec[1]+0].value<<16|Do[2][Ec[2]+0].value)>>>0,ou==0&&256>Do[0][Ec[0]+0].value&&(Ms.Qb=1,Ms.qb+=Do[0][Ec[0]+0].value<<8)),Ms.jc=!Ms.Qb&&6>qa,Ms.jc){var tx,Zl=Ms;for(tx=0;tx<kc;++tx){var lf=tx,uu=Zl.pd[lf],Cm=Zl.G[0][Zl.H[0]+lf];256<=Cm.value?(uu.g=Cm.g+256,uu.value=Cm.value):(uu.g=0,uu.value=0,lf>>=bn(Cm,8,uu),lf>>=bn(Zl.G[1][Zl.H[1]+lf],16,uu),lf>>=bn(Zl.G[2][Zl.H[2]+lf],0,uu),bn(Zl.G[3][Zl.H[3]+lf],24,uu))}}}oa.vc=Jn,oa.Wb=hs,oa.Ya=Ua,oa.yc=ai,fr=1;break t}fr=0}if(!(be=fr)){ie.a=3;break e}if(0<vt){if(Fe.ua=1<<vt,!le(Fe.Wa,vt)){ie.a=1,be=0;break e}}else Fe.ua=0;var Cy=ie,Ay=je,BS=Ae,Ey=Cy.s,Py=Ey.xc;if(Cy.c=Ay,Cy.i=BS,Ey.md=ke(Ay,Py),Ey.wc=Py==0?-1:(1<<Py)-1,ee){ie.xb=sd;break e}if((rt=i(je*Ae))==null){ie.a=1,be=0;break e}be=(be=ft(ie,rt,0,je,Ae,Ae,null))&&!Te.h;break e}return be?(pe!=null?pe[0]=rt:(e(rt==null),e(ee)),ie.$=0,ee||wt(Fe)):wt(Fe),be}function gt(T,B){var ee=T.c*T.i,ie=ee+B+16*B;return e(T.c<=B),T.V=i(ie),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+ee+B,1)}function Lt(T,B){var ee=T.C,ie=B-ee,pe=T.V,be=T.Ba+T.c*ee;for(e(B<=T.l.o);0<ie;){var je=16<ie?16:ie,Ae=T.l.ma,Te=T.l.width,Fe=Te*je,rt=Ae.ca,vt=Ae.tb+Te*ee,$e=T.Ta,it=T.Ua;Re(T,je,pe,be),zw($e,it,rt,vt,Fe),Ie(Ae,ee,ee+je,rt,vt,Te),ie-=je,pe+=je*T.c,ee+=je}e(ee==B),T.C=T.Ma=B}function Yt(){this.ub=this.yd=this.td=this.Rb=0}function cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Bt(){this.Yb=(function(){var T=[];return(function B(ee,ie,pe){for(var be=pe[ie],je=0;je<be&&(ee.push(pe.length>ie+1?[]:0),!(pe.length<ie+1));je++)B(ee[je],ie+1,pe)})(T,0,[3,11]),T})()}function _r(){this.jb=i(3),this.Wc=l([4,8],Bt),this.Xc=l([4,17],Bt)}function An(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function En(){this.ld=this.La=this.dd=this.tc=0}function ks(){this.Na=this.la=0}function Co(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wi(){this.uc=this.M=this.Nb=0,this.wa=Array(new En),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new Ws}function Vs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function io(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Yt,this.Kc=new cr,this.ed=new An,this.Qa=new tr,this.Ic=this.$c=this.Aa=0,this.D=new wi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,L),this.ia=0,this.pb=o(4,Co),this.Pa=new _r,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vs),this.Hd=0,this.rb=Array(new ks),this.sb=0,this.wa=Array(new En),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=l([4,2],En),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ws(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lw(){var T=new io;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,jm||(jm=yc)),T}function ti(T,B,ee){return T.a==0&&(T.a=B,T.sc=ee,T.cb=0),0}function oy(T,B,ee){return 3<=ee&&T[B+0]==157&&T[B+1]==1&&T[B+2]==42}function em(T,B){if(T==null)return 0;if(T.a=0,T.sc="OK",B==null)return ti(T,2,"null VP8Io passed to VP8GetHeaders()");var ee=B.data,ie=B.w,pe=B.ha;if(4>pe)return ti(T,7,"Truncated header.");var be=ee[ie+0]|ee[ie+1]<<8|ee[ie+2]<<16,je=T.Od;if(je.Rb=!(1&be),je.td=be>>1&7,je.yd=be>>4&1,je.ub=be>>5,3<je.td)return ti(T,3,"Incorrect keyframe parameters.");if(!je.yd)return ti(T,4,"Frame not displayable.");ie+=3,pe-=3;var Ae=T.Kc;if(je.Rb){if(7>pe)return ti(T,7,"cannot parse picture header");if(!oy(ee,ie,pe))return ti(T,3,"Bad code word");Ae.c=16383&(ee[ie+4]<<8|ee[ie+3]),Ae.Td=ee[ie+4]>>6,Ae.i=16383&(ee[ie+6]<<8|ee[ie+5]),Ae.Ud=ee[ie+6]>>6,ie+=7,pe-=7,T.za=Ae.c+15>>4,T.Ub=Ae.i+15>>4,B.width=Ae.c,B.height=Ae.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,a((be=T.Pa).jb,0,255,be.jb.length),e((be=T.Qa)!=null),be.Cb=0,be.Bb=0,be.Fb=1,a(be.Zb,0,0,be.Zb.length),a(be.Lb,0,0,be.Lb)}if(je.ub>pe)return ti(T,7,"bad partition length");W(be=T.m,ee,ie,je.ub),ie+=je.ub,pe-=je.ub,je.Rb&&(Ae.Ld=ne(be),Ae.Kd=ne(be)),Ae=T.Qa;var Te,Fe=T.Pa;if(e(be!=null),e(Ae!=null),Ae.Cb=ne(be),Ae.Cb){if(Ae.Bb=ne(be),ne(be)){for(Ae.Fb=ne(be),Te=0;4>Te;++Te)Ae.Zb[Te]=ne(be)?J(be,7):0;for(Te=0;4>Te;++Te)Ae.Lb[Te]=ne(be)?J(be,6):0}if(Ae.Bb)for(Te=0;3>Te;++Te)Fe.jb[Te]=ne(be)?Y(be,8):255}else Ae.Bb=0;if(be.Ka)return ti(T,3,"cannot parse segment header");if((Ae=T.ed).zd=ne(be),Ae.Tb=Y(be,6),Ae.wb=Y(be,3),Ae.Pc=ne(be),Ae.Pc&&ne(be)){for(Fe=0;4>Fe;++Fe)ne(be)&&(Ae.vd[Fe]=J(be,6));for(Fe=0;4>Fe;++Fe)ne(be)&&(Ae.od[Fe]=J(be,6))}if(T.L=Ae.Tb==0?0:Ae.zd?1:2,be.Ka)return ti(T,3,"cannot parse filter header");var rt=pe;if(pe=Te=ie,ie=Te+rt,Ae=rt,T.Xb=(1<<Y(T.m,2))-1,rt<3*(Fe=T.Xb))ee=7;else{for(Te+=3*Fe,Ae-=3*Fe,rt=0;rt<Fe;++rt){var vt=ee[pe+0]|ee[pe+1]<<8|ee[pe+2]<<16;vt>Ae&&(vt=Ae),W(T.Jc[+rt],ee,Te,vt),Te+=vt,Ae-=vt,pe+=3}W(T.Jc[+Fe],ee,Te,Ae),ee=Te<ie?0:5}if(ee!=0)return ti(T,ee,"cannot parse partitions");for(ee=Y(Te=T.m,7),pe=ne(Te)?J(Te,4):0,ie=ne(Te)?J(Te,4):0,Ae=ne(Te)?J(Te,4):0,Fe=ne(Te)?J(Te,4):0,Te=ne(Te)?J(Te,4):0,rt=T.Qa,vt=0;4>vt;++vt){if(rt.Cb){var $e=rt.Zb[vt];rt.Fb||($e+=ee)}else{if(0<vt){T.pb[vt]=T.pb[0];continue}$e=ee}var it=T.pb[vt];it.Sc[0]=Vp[Ca($e+pe,127)],it.Sc[1]=Xg[Ca($e+0,127)],it.Eb[0]=2*Vp[Ca($e+ie,127)],it.Eb[1]=101581*Xg[Ca($e+Ae,127)]>>16,8>it.Eb[1]&&(it.Eb[1]=8),it.Qc[0]=Vp[Ca($e+Fe,117)],it.Qc[1]=Xg[Ca($e+Te,127)],it.lc=$e+Te}if(!je.Rb)return ti(T,4,"Not a key frame.");for(ne(be),je=T.Pa,ee=0;4>ee;++ee){for(pe=0;8>pe;++pe)for(ie=0;3>ie;++ie)for(Ae=0;11>Ae;++Ae)Fe=ue(be,OP[ee][pe][ie][Ae])?Y(be,8):DS[ee][pe][ie][Ae],je.Wc[ee][pe].Yb[ie][Ae]=Fe;for(pe=0;17>pe;++pe)je.Xc[ee][pe]=je.Wc[ee][Xw[pe]]}return T.kc=ne(be),T.kc&&(T.Bd=Y(be,8)),T.cb=1}function yc(T,B,ee,ie,pe,be,je){var Ae=B[pe].Yb[ee];for(ee=0;16>pe;++pe){if(!ue(T,Ae[ee+0]))return pe;for(;!ue(T,Ae[ee+1]);)if(Ae=B[++pe].Yb[0],ee=0,pe==16)return 16;var Te=B[pe+1].Yb;if(ue(T,Ae[ee+2])){var Fe=T,rt=0;if(ue(Fe,($e=Ae)[(vt=ee)+3]))if(ue(Fe,$e[vt+6])){for(Ae=0,vt=2*(rt=ue(Fe,$e[vt+8]))+($e=ue(Fe,$e[vt+9+rt])),rt=0,$e=Yw[vt];$e[Ae];++Ae)rt+=rt+ue(Fe,$e[Ae]);rt+=3+(8<<vt)}else ue(Fe,$e[vt+7])?(rt=7+2*ue(Fe,165),rt+=ue(Fe,145)):rt=5+ue(Fe,159);else rt=ue(Fe,$e[vt+4])?3+ue(Fe,$e[vt+5]):2;Ae=Te[2]}else rt=1,Ae=Te[1];Te=je+Kw[pe],0>(Fe=T).b&&de(Fe);var vt,$e=Fe.b,it=(vt=Fe.Ca>>1)-(Fe.I>>$e)>>31;--Fe.b,Fe.Ca+=it,Fe.Ca|=1,Fe.I-=(vt+1&it)<<$e,be[Te]=((rt^it)-it)*ie[(0<pe)+0]}return 16}function Qc(T){var B=T.rb[T.sb-1];B.la=0,B.Na=0,a(T.zc,0,0,T.zc.length),T.ja=0}function fl(T,B,ee,ie,pe){pe=T[B+ee+32*ie]+(pe>>3),T[B+ee+32*ie]=-256&pe?0>pe?0:255:pe}function tm(T,B,ee,ie,pe,be){fl(T,B,0,ee,ie+pe),fl(T,B,1,ee,ie+be),fl(T,B,2,ee,ie-be),fl(T,B,3,ee,ie-pe)}function Ma(T){return(20091*T>>16)+T}function rm(T,B,ee,ie){var pe,be=0,je=i(16);for(pe=0;4>pe;++pe){var Ae=T[B+0]+T[B+8],Te=T[B+0]-T[B+8],Fe=(35468*T[B+4]>>16)-Ma(T[B+12]),rt=Ma(T[B+4])+(35468*T[B+12]>>16);je[be+0]=Ae+rt,je[be+1]=Te+Fe,je[be+2]=Te-Fe,je[be+3]=Ae-rt,be+=4,B++}for(pe=be=0;4>pe;++pe)Ae=(T=je[be+0]+4)+je[be+8],Te=T-je[be+8],Fe=(35468*je[be+4]>>16)-Ma(je[be+12]),fl(ee,ie,0,0,Ae+(rt=Ma(je[be+4])+(35468*je[be+12]>>16))),fl(ee,ie,1,0,Te+Fe),fl(ee,ie,2,0,Te-Fe),fl(ee,ie,3,0,Ae-rt),be++,ie+=32}function ly(T,B,ee,ie){var pe=T[B+0]+4,be=35468*T[B+4]>>16,je=Ma(T[B+4]),Ae=35468*T[B+1]>>16;tm(ee,ie,0,pe+je,T=Ma(T[B+1]),Ae),tm(ee,ie,1,pe+be,T,Ae),tm(ee,ie,2,pe-be,T,Ae),tm(ee,ie,3,pe-je,T,Ae)}function Dg(T,B,ee,ie,pe){rm(T,B,ee,ie),pe&&rm(T,B+16,ee,ie+4)}function nm(T,B,ee,ie){vm(T,B+0,ee,ie,1),vm(T,B+32,ee,ie+128,1)}function Yu(T,B,ee,ie){var pe;for(T=T[B+0]+4,pe=0;4>pe;++pe)for(B=0;4>B;++B)fl(ee,ie,B,pe,T)}function Pp(T,B,ee,ie){T[B+0]&&fs(T,B+0,ee,ie),T[B+16]&&fs(T,B+16,ee,ie+4),T[B+32]&&fs(T,B+32,ee,ie+128),T[B+48]&&fs(T,B+48,ee,ie+128+4)}function ls(T,B,ee,ie){var pe,be=i(16);for(pe=0;4>pe;++pe){var je=T[B+0+pe]+T[B+12+pe],Ae=T[B+4+pe]+T[B+8+pe],Te=T[B+4+pe]-T[B+8+pe],Fe=T[B+0+pe]-T[B+12+pe];be[0+pe]=je+Ae,be[8+pe]=je-Ae,be[4+pe]=Fe+Te,be[12+pe]=Fe-Te}for(pe=0;4>pe;++pe)je=(T=be[0+4*pe]+3)+be[3+4*pe],Ae=be[1+4*pe]+be[2+4*pe],Te=be[1+4*pe]-be[2+4*pe],Fe=T-be[3+4*pe],ee[ie+0]=je+Ae>>3,ee[ie+16]=Fe+Te>>3,ee[ie+32]=je-Ae>>3,ee[ie+48]=Fe-Te>>3,ie+=64}function Gd(T,B,ee){var ie,pe=B-32,be=Jo,je=255-T[pe-1];for(ie=0;ie<ee;++ie){var Ae,Te=be,Fe=je+T[B-1];for(Ae=0;Ae<ee;++Ae)T[B+Ae]=Te[Fe+T[pe+Ae]];B+=32}}function Tp(T,B){Gd(T,B,4)}function Rg(T,B){Gd(T,B,8)}function cy(T,B){Gd(T,B,16)}function uy(T,B){var ee;for(ee=0;16>ee;++ee)n(T,B+32*ee,T,B-32,16)}function Op(T,B){var ee;for(ee=16;0<ee;--ee)a(T,B,T[B-1],16),B+=32}function Yd(T,B,ee){var ie;for(ie=0;16>ie;++ie)a(B,ee+32*ie,T,16)}function eu(T,B){var ee,ie=16;for(ee=0;16>ee;++ee)ie+=T[B-1+32*ee]+T[B+ee-32];Yd(ie>>5,T,B)}function Ku(T,B){var ee,ie=8;for(ee=0;16>ee;++ee)ie+=T[B-1+32*ee];Yd(ie>>4,T,B)}function hl(T,B){var ee,ie=8;for(ee=0;16>ee;++ee)ie+=T[B+ee-32];Yd(ie>>4,T,B)}function bc(T,B){Yd(128,T,B)}function tn(T,B,ee){return T+2*B+ee+2>>2}function sm(T,B){var ee,ie=B-32;for(ie=new Uint8Array([tn(T[ie-1],T[ie+0],T[ie+1]),tn(T[ie+0],T[ie+1],T[ie+2]),tn(T[ie+1],T[ie+2],T[ie+3]),tn(T[ie+2],T[ie+3],T[ie+4])]),ee=0;4>ee;++ee)n(T,B+32*ee,ie,0,ie.length)}function Xu(T,B){var ee=T[B-1],ie=T[B-1+32],pe=T[B-1+64],be=T[B-1+96];se(T,B+0,16843009*tn(T[B-1-32],ee,ie)),se(T,B+32,16843009*tn(ee,ie,pe)),se(T,B+64,16843009*tn(ie,pe,be)),se(T,B+96,16843009*tn(pe,be,be))}function $w(T,B){var ee,ie=4;for(ee=0;4>ee;++ee)ie+=T[B+ee-32]+T[B-1+32*ee];for(ie>>=3,ee=0;4>ee;++ee)a(T,B+32*ee,ie,4)}function dy(T,B){var ee=T[B-1+0],ie=T[B-1+32],pe=T[B-1+64],be=T[B-1-32],je=T[B+0-32],Ae=T[B+1-32],Te=T[B+2-32],Fe=T[B+3-32];T[B+0+96]=tn(ie,pe,T[B-1+96]),T[B+1+96]=T[B+0+64]=tn(ee,ie,pe),T[B+2+96]=T[B+1+64]=T[B+0+32]=tn(be,ee,ie),T[B+3+96]=T[B+2+64]=T[B+1+32]=T[B+0+0]=tn(je,be,ee),T[B+3+64]=T[B+2+32]=T[B+1+0]=tn(Ae,je,be),T[B+3+32]=T[B+2+0]=tn(Te,Ae,je),T[B+3+0]=tn(Fe,Te,Ae)}function Gl(T,B){var ee=T[B+1-32],ie=T[B+2-32],pe=T[B+3-32],be=T[B+4-32],je=T[B+5-32],Ae=T[B+6-32],Te=T[B+7-32];T[B+0+0]=tn(T[B+0-32],ee,ie),T[B+1+0]=T[B+0+32]=tn(ee,ie,pe),T[B+2+0]=T[B+1+32]=T[B+0+64]=tn(ie,pe,be),T[B+3+0]=T[B+2+32]=T[B+1+64]=T[B+0+96]=tn(pe,be,je),T[B+3+32]=T[B+2+64]=T[B+1+96]=tn(be,je,Ae),T[B+3+64]=T[B+2+96]=tn(je,Ae,Te),T[B+3+96]=tn(Ae,Te,Te)}function Kd(T,B){var ee=T[B-1+0],ie=T[B-1+32],pe=T[B-1+64],be=T[B-1-32],je=T[B+0-32],Ae=T[B+1-32],Te=T[B+2-32],Fe=T[B+3-32];T[B+0+0]=T[B+1+64]=be+je+1>>1,T[B+1+0]=T[B+2+64]=je+Ae+1>>1,T[B+2+0]=T[B+3+64]=Ae+Te+1>>1,T[B+3+0]=Te+Fe+1>>1,T[B+0+96]=tn(pe,ie,ee),T[B+0+64]=tn(ie,ee,be),T[B+0+32]=T[B+1+96]=tn(ee,be,je),T[B+1+32]=T[B+2+96]=tn(be,je,Ae),T[B+2+32]=T[B+3+96]=tn(je,Ae,Te),T[B+3+32]=tn(Ae,Te,Fe)}function fy(T,B){var ee=T[B+0-32],ie=T[B+1-32],pe=T[B+2-32],be=T[B+3-32],je=T[B+4-32],Ae=T[B+5-32],Te=T[B+6-32],Fe=T[B+7-32];T[B+0+0]=ee+ie+1>>1,T[B+1+0]=T[B+0+64]=ie+pe+1>>1,T[B+2+0]=T[B+1+64]=pe+be+1>>1,T[B+3+0]=T[B+2+64]=be+je+1>>1,T[B+0+32]=tn(ee,ie,pe),T[B+1+32]=T[B+0+96]=tn(ie,pe,be),T[B+2+32]=T[B+1+96]=tn(pe,be,je),T[B+3+32]=T[B+2+96]=tn(be,je,Ae),T[B+3+64]=tn(je,Ae,Te),T[B+3+96]=tn(Ae,Te,Fe)}function Dp(T,B){var ee=T[B-1+0],ie=T[B-1+32],pe=T[B-1+64],be=T[B-1+96];T[B+0+0]=ee+ie+1>>1,T[B+2+0]=T[B+0+32]=ie+pe+1>>1,T[B+2+32]=T[B+0+64]=pe+be+1>>1,T[B+1+0]=tn(ee,ie,pe),T[B+3+0]=T[B+1+32]=tn(ie,pe,be),T[B+3+32]=T[B+1+64]=tn(pe,be,be),T[B+3+64]=T[B+2+64]=T[B+0+96]=T[B+1+96]=T[B+2+96]=T[B+3+96]=be}function am(T,B){var ee=T[B-1+0],ie=T[B-1+32],pe=T[B-1+64],be=T[B-1+96],je=T[B-1-32],Ae=T[B+0-32],Te=T[B+1-32],Fe=T[B+2-32];T[B+0+0]=T[B+2+32]=ee+je+1>>1,T[B+0+32]=T[B+2+64]=ie+ee+1>>1,T[B+0+64]=T[B+2+96]=pe+ie+1>>1,T[B+0+96]=be+pe+1>>1,T[B+3+0]=tn(Ae,Te,Fe),T[B+2+0]=tn(je,Ae,Te),T[B+1+0]=T[B+3+32]=tn(ee,je,Ae),T[B+1+32]=T[B+3+64]=tn(ie,ee,je),T[B+1+64]=T[B+3+96]=tn(pe,ie,ee),T[B+1+96]=tn(be,pe,ie)}function Ig(T,B){var ee;for(ee=0;8>ee;++ee)n(T,B+32*ee,T,B-32,8)}function tu(T,B){var ee;for(ee=0;8>ee;++ee)a(T,B,T[B-1],8),B+=32}function Ju(T,B,ee){var ie;for(ie=0;8>ie;++ie)a(B,ee+32*ie,T,8)}function ru(T,B){var ee,ie=8;for(ee=0;8>ee;++ee)ie+=T[B+ee-32]+T[B-1+32*ee];Ju(ie>>4,T,B)}function Rp(T,B){var ee,ie=4;for(ee=0;8>ee;++ee)ie+=T[B+ee-32];Ju(ie>>3,T,B)}function Fg(T,B){var ee,ie=4;for(ee=0;8>ee;++ee)ie+=T[B-1+32*ee];Ju(ie>>3,T,B)}function Mg(T,B){Ju(128,T,B)}function Xd(T,B,ee){var ie=T[B-ee],pe=T[B+0],be=3*(pe-ie)+nd[1020+T[B-2*ee]-T[B+ee]],je=zp[112+(be+4>>3)];T[B-ee]=Jo[255+ie+zp[112+(be+3>>3)]],T[B+0]=Jo[255+pe-je]}function Zu(T,B,ee,ie){var pe=T[B+0],be=T[B+ee];return Cc[255+T[B-2*ee]-T[B-ee]]>ie||Cc[255+be-pe]>ie}function im(T,B,ee,ie){return 4*Cc[255+T[B-ee]-T[B+0]]+Cc[255+T[B-2*ee]-T[B+ee]]<=ie}function om(T,B,ee,ie,pe){var be=T[B-3*ee],je=T[B-2*ee],Ae=T[B-ee],Te=T[B+0],Fe=T[B+ee],rt=T[B+2*ee],vt=T[B+3*ee];return 4*Cc[255+Ae-Te]+Cc[255+je-Fe]>ie?0:Cc[255+T[B-4*ee]-be]<=pe&&Cc[255+be-je]<=pe&&Cc[255+je-Ae]<=pe&&Cc[255+vt-rt]<=pe&&Cc[255+rt-Fe]<=pe&&Cc[255+Fe-Te]<=pe}function wc(T,B,ee,ie){var pe=2*ie+1;for(ie=0;16>ie;++ie)im(T,B+ie,ee,pe)&&Xd(T,B+ie,ee)}function Jd(T,B,ee,ie){var pe=2*ie+1;for(ie=0;16>ie;++ie)im(T,B+ie*ee,1,pe)&&Xd(T,B+ie*ee,1)}function lm(T,B,ee,ie){var pe;for(pe=3;0<pe;--pe)wc(T,B+=4*ee,ee,ie)}function Lg(T,B,ee,ie){var pe;for(pe=3;0<pe;--pe)Jd(T,B+=4,ee,ie)}function _c(T,B,ee,ie,pe,be,je,Ae){for(be=2*be+1;0<pe--;){if(om(T,B,ee,be,je))if(Zu(T,B,ee,Ae))Xd(T,B,ee);else{var Te=T,Fe=B,rt=ee,vt=Te[Fe-2*rt],$e=Te[Fe-rt],it=Te[Fe+0],xt=Te[Fe+rt],Tt=Te[Fe+2*rt],bt=27*(Pt=nd[1020+3*(it-$e)+nd[1020+vt-xt]])+63>>7,Et=18*Pt+63>>7,Pt=9*Pt+63>>7;Te[Fe-3*rt]=Jo[255+Te[Fe-3*rt]+Pt],Te[Fe-2*rt]=Jo[255+vt+Et],Te[Fe-rt]=Jo[255+$e+bt],Te[Fe+0]=Jo[255+it-bt],Te[Fe+rt]=Jo[255+xt-Et],Te[Fe+2*rt]=Jo[255+Tt-Pt]}B+=ie}}function jc(T,B,ee,ie,pe,be,je,Ae){for(be=2*be+1;0<pe--;){if(om(T,B,ee,be,je))if(Zu(T,B,ee,Ae))Xd(T,B,ee);else{var Te=T,Fe=B,rt=ee,vt=Te[Fe-rt],$e=Te[Fe+0],it=Te[Fe+rt],xt=zp[112+(4+(Tt=3*($e-vt))>>3)],Tt=zp[112+(Tt+3>>3)],bt=xt+1>>1;Te[Fe-2*rt]=Jo[255+Te[Fe-2*rt]+bt],Te[Fe-rt]=Jo[255+vt+Tt],Te[Fe+0]=Jo[255+$e-xt],Te[Fe+rt]=Jo[255+it-bt]}B+=ie}}function $g(T,B,ee,ie,pe,be){_c(T,B,ee,1,16,ie,pe,be)}function Ao(T,B,ee,ie,pe,be){_c(T,B,1,ee,16,ie,pe,be)}function Nc(T,B,ee,ie,pe,be){var je;for(je=3;0<je;--je)jc(T,B+=4*ee,ee,1,16,ie,pe,be)}function Ip(T,B,ee,ie,pe,be){var je;for(je=3;0<je;--je)jc(T,B+=4,1,ee,16,ie,pe,be)}function H(T,B,ee,ie,pe,be,je,Ae){_c(T,B,pe,1,8,be,je,Ae),_c(ee,ie,pe,1,8,be,je,Ae)}function ge(T,B,ee,ie,pe,be,je,Ae){_c(T,B,1,pe,8,be,je,Ae),_c(ee,ie,1,pe,8,be,je,Ae)}function ze(T,B,ee,ie,pe,be,je,Ae){jc(T,B+4*pe,pe,1,8,be,je,Ae),jc(ee,ie+4*pe,pe,1,8,be,je,Ae)}function Ze(T,B,ee,ie,pe,be,je,Ae){jc(T,B+4,1,pe,8,be,je,Ae),jc(ee,ie+4,1,pe,8,be,je,Ae)}function dt(){this.ba=new Qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pr(){this.ua=0,this.Wa=new xe,this.vb=new xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new I}function Br(){this.xb=this.a=0,this.l=new Ws,this.ca=new Qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pr,this.ab=0,this.gc=o(4,Wt),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ws,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(T,B,ee,ie,pe,be,je){for(T=T==null?0:T[B+0],B=0;B<je;++B)pe[be+B]=T+ee[ie+B]&255,T=pe[be+B]}function ds(T,B,ee,ie,pe,be,je){var Ae;if(T==null)ln(null,null,ee,ie,pe,be,je);else for(Ae=0;Ae<je;++Ae)pe[be+Ae]=T[B+Ae]+ee[ie+Ae]&255}function va(T,B,ee,ie,pe,be,je){if(T==null)ln(null,null,ee,ie,pe,be,je);else{var Ae,Te=T[B+0],Fe=Te,rt=Te;for(Ae=0;Ae<je;++Ae)Fe=rt+(Te=T[B+Ae])-Fe,rt=ee[ie+Ae]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=Te,pe[be+Ae]=rt}}function ri(T,B,ee,ie){var pe=B.width,be=B.o;if(e(T!=null&&B!=null),0>ee||0>=ie||ee+ie>be)return null;if(!T.Cc){if(T.ga==null){var je;if(T.ga=new on,(je=T.ga==null)||(je=B.width*B.o,e(T.Gb.length==0),T.Gb=i(je),T.Uc=0,T.Gb==null?je=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,je=1),je=!je),!je){je=T.ga;var Ae=T.Fa,Te=T.P,Fe=T.qc,rt=T.mb,vt=T.nb,$e=Te+1,it=Fe-1,xt=je.l;if(e(Ae!=null&&rt!=null&&B!=null),Po[0]=null,Po[1]=ln,Po[2]=ds,Po[3]=va,je.ca=rt,je.tb=vt,je.c=B.width,je.i=B.height,e(0<je.c&&0<je.i),1>=Fe)B=0;else if(je.$a=3&Ae[Te+0],je.Z=Ae[Te+0]>>2&3,je.Lc=Ae[Te+0]>>4&3,Te=Ae[Te+0]>>6&3,0>je.$a||1<je.$a||4<=je.Z||1<je.Lc||Te)B=0;else if(xt.put=It,xt.ac=or,xt.bc=Ir,xt.ma=je,xt.width=B.width,xt.height=B.height,xt.Da=B.Da,xt.v=B.v,xt.va=B.va,xt.j=B.j,xt.o=B.o,je.$a)e:{e(je.$a==1),B=mt();t:for(;;){if(B==null){B=0;break e}if(e(je!=null),je.mc=B,B.c=je.c,B.i=je.i,B.l=je.l,B.l.ma=je,B.l.width=je.c,B.l.height=je.i,B.a=0,z(B.m,Ae,$e,it),!pt(je.c,je.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&Pe(B.s)?(je.ic=1,Ae=B.c*B.i,B.Ta=null,B.Ua=0,B.V=i(Ae),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(je.ic=0,B=gt(B,je.c)),!B))break t;B=1;break e}je.mc=null,B=0}else B=it>=je.c*je.i;je=!B}if(je)return null;T.ga.Lc!=1?T.Ga=0:ie=be-ee}e(T.ga!=null),e(ee+ie<=be);e:{if(B=(Ae=T.ga).c,be=Ae.l.o,Ae.$a==0){if($e=T.rc,it=T.Vc,xt=T.Fa,Te=T.P+1+ee*B,Fe=T.mb,rt=T.nb+ee*B,e(Te<=T.P+T.qc),Ae.Z!=0)for(e(Po[Ae.Z]!=null),je=0;je<ie;++je)Po[Ae.Z]($e,it,xt,Te,Fe,rt,B),$e=Fe,it=rt,rt+=B,Te+=B;else for(je=0;je<ie;++je)n(Fe,rt,xt,Te,B),$e=Fe,it=rt,rt+=B,Te+=B;T.rc=$e,T.Vc=it}else{if(e(Ae.mc!=null),B=ee+ie,e((je=Ae.mc)!=null),e(B<=je.i),je.C>=B)B=1;else if(Ae.ic||Sc(),Ae.ic){Ae=je.V,$e=je.Ba,it=je.c;var Tt=je.i,bt=(xt=1,Te=je.$/it,Fe=je.$%it,rt=je.m,vt=je.s,je.$),Et=it*Tt,Pt=it*B,Ft=vt.wc,$t=bt<Pt?he(vt,Fe,Te):null;e(bt<=Et),e(B<=Tt),e(Pe(vt));t:for(;;){for(;!rt.h&&bt<Pt;){if(Fe&Ft||($t=he(vt,Fe,Te)),e($t!=null),ce(rt),256>(Tt=vr($t.G[0],$t.H[0],rt)))Ae[$e+bt]=Tt,++bt,++Fe>=it&&(Fe=0,++Te<=B&&!(Te%16)&&De(je,Te));else{if(!(280>Tt)){xt=0;break t}Tt=gr(Tt-256,rt);var Ur,Sr=vr($t.G[4],$t.H[4],rt);if(ce(rt),!(bt>=(Sr=mr(it,Sr=gr(Sr,rt)))&&Et-bt>=Tt)){xt=0;break t}for(Ur=0;Ur<Tt;++Ur)Ae[$e+bt+Ur]=Ae[$e+bt+Ur-Sr];for(bt+=Tt,Fe+=Tt;Fe>=it;)Fe-=it,++Te<=B&&!(Te%16)&&De(je,Te);bt<Pt&&Fe&Ft&&($t=he(vt,Fe,Te))}e(rt.h==Q(rt))}De(je,Te>B?B:Te);break t}!xt||rt.h&&bt<Et?(xt=0,je.a=rt.h?5:3):je.$=bt,B=xt}else B=ft(je,je.V,je.Ba,je.c,je.i,B,Lt);if(!B){ie=0;break e}}ee+ie>=be&&(T.Cc=1),ie=1}if(!ie)return null;if(T.Cc&&((ie=T.ga)!=null&&(ie.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+ee*pe}function Hs(T,B,ee,ie,pe,be){for(;0<pe--;){var je,Ae=T,Te=B+(ee?1:0),Fe=T,rt=B+(ee?0:3);for(je=0;je<ie;++je){var vt=Fe[rt+4*je];vt!=255&&(vt*=32897,Ae[Te+4*je+0]=Ae[Te+4*je+0]*vt>>23,Ae[Te+4*je+1]=Ae[Te+4*je+1]*vt>>23,Ae[Te+4*je+2]=Ae[Te+4*je+2]*vt>>23)}B+=be}}function _i(T,B,ee,ie,pe){for(;0<ie--;){var be;for(be=0;be<ee;++be){var je=T[B+2*be+0],Ae=15&(Fe=T[B+2*be+1]),Te=4369*Ae,Fe=(240&Fe|Fe>>4)*Te>>16;T[B+2*be+0]=(240&je|je>>4)*Te>>16&240|(15&je|je<<4)*Te>>16>>4&15,T[B+2*be+1]=240&Fe|Ae}B+=pe}}function La(T,B,ee,ie,pe,be,je,Ae){var Te,Fe,rt=255;for(Fe=0;Fe<pe;++Fe){for(Te=0;Te<ie;++Te){var vt=T[B+Te];be[je+4*Te]=vt,rt&=vt}B+=ee,je+=Ae}return rt!=255}function oo(T,B,ee,ie,pe){var be;for(be=0;be<pe;++be)ee[ie+be]=T[B+be]>>8}function Sc(){bm=Hs,Uw=_i,Vg=La,zw=oo}function ml(T,B,ee){O[T]=function(ie,pe,be,je,Ae,Te,Fe,rt,vt,$e,it,xt,Tt,bt,Et,Pt,Ft){var $t,Ur=Ft-1>>1,Sr=Ae[Te+0]|Fe[rt+0]<<16,wn=vt[$e+0]|it[xt+0]<<16;e(ie!=null);var Tr=3*Sr+wn+131074>>2;for(B(ie[pe+0],255&Tr,Tr>>16,Tt,bt),be!=null&&(Tr=3*wn+Sr+131074>>2,B(be[je+0],255&Tr,Tr>>16,Et,Pt)),$t=1;$t<=Ur;++$t){var qn=Ae[Te+$t]|Fe[rt+$t]<<16,Pa=vt[$e+$t]|it[xt+$t]<<16,_n=Sr+qn+wn+Pa+524296,kr=_n+2*(qn+wn)>>3;Tr=kr+Sr>>1,Sr=(_n=_n+2*(Sr+Pa)>>3)+qn>>1,B(ie[pe+2*$t-1],255&Tr,Tr>>16,Tt,bt+(2*$t-1)*ee),B(ie[pe+2*$t-0],255&Sr,Sr>>16,Tt,bt+(2*$t-0)*ee),be!=null&&(Tr=_n+wn>>1,Sr=kr+Pa>>1,B(be[je+2*$t-1],255&Tr,Tr>>16,Et,Pt+(2*$t-1)*ee),B(be[je+2*$t+0],255&Sr,Sr>>16,Et,Pt+(2*$t+0)*ee)),Sr=qn,wn=Pa}1&Ft||(Tr=3*Sr+wn+131074>>2,B(ie[pe+Ft-1],255&Tr,Tr>>16,Tt,bt+(Ft-1)*ee),be!=null&&(Tr=3*wn+Sr+131074>>2,B(be[je+Ft-1],255&Tr,Tr>>16,Et,Pt+(Ft-1)*ee)))}}function hy(){xl[xy]=DP,xl[ah]=ih,xl[ES]=RP,xl[Wg]=Hp,xl[Hg]=Nm,xl[Rs]=Jg,xl[vy]=Jw,xl[qp]=ih,xl[wm]=Hp,xl[Gg]=Nm,xl[Yg]=Jg}function Jf(T){return T&-16384?0>T?0:255:T>>oh}function cm(T,B){return Jf((19077*T>>8)+(26149*B>>8)-14234)}function Zf(T,B,ee){return Jf((19077*T>>8)-(6419*B>>8)-(13320*ee>>8)+8708)}function um(T,B){return Jf((19077*T>>8)+(33050*B>>8)-17685)}function Qf(T,B,ee,ie,pe){ie[pe+0]=cm(T,ee),ie[pe+1]=Zf(T,B,ee),ie[pe+2]=um(T,B)}function dm(T,B,ee,ie,pe){ie[pe+0]=um(T,B),ie[pe+1]=Zf(T,B,ee),ie[pe+2]=cm(T,ee)}function Eo(T,B,ee,ie,pe){var be=Zf(T,B,ee);B=be<<3&224|um(T,B)>>3,ie[pe+0]=248&cm(T,ee)|be>>5,ie[pe+1]=B}function fm(T,B,ee,ie,pe){var be=240&um(T,B)|15;ie[pe+0]=240&cm(T,ee)|Zf(T,B,ee)>>4,ie[pe+1]=be}function hm(T,B,ee,ie,pe){ie[pe+0]=255,Qf(T,B,ee,ie,pe+1)}function Bg(T,B,ee,ie,pe){dm(T,B,ee,ie,pe),ie[pe+3]=255}function Ug(T,B,ee,ie,pe){Qf(T,B,ee,ie,pe),ie[pe+3]=255}function Ca(T,B){return 0>T?0:T>B?B:T}function nu(T,B,ee){O[T]=function(ie,pe,be,je,Ae,Te,Fe,rt,vt){for(var $e=rt+(-2&vt)*ee;rt!=$e;)B(ie[pe+0],be[je+0],Ae[Te+0],Fe,rt),B(ie[pe+1],be[je+0],Ae[Te+0],Fe,rt+ee),pe+=2,++je,++Te,rt+=2*ee;1&vt&&B(ie[pe+0],be[je+0],Ae[Te+0],Fe,rt)}}function Qu(T,B,ee){return ee==0?T==0?B==0?6:5:B==0?4:0:ee}function my(T,B,ee,ie,pe){switch(T>>>30){case 3:vm(B,ee,ie,pe,0);break;case 2:Aa(B,ee,ie,pe);break;case 1:fs(B,ee,ie,pe)}}function Yl(T,B){var ee,ie,pe=B.M,be=B.Nb,je=T.oc,Ae=T.pc+40,Te=T.oc,Fe=T.pc+584,rt=T.oc,vt=T.pc+600;for(ee=0;16>ee;++ee)je[Ae+32*ee-1]=129;for(ee=0;8>ee;++ee)Te[Fe+32*ee-1]=129,rt[vt+32*ee-1]=129;for(0<pe?je[Ae-1-32]=Te[Fe-1-32]=rt[vt-1-32]=129:(a(je,Ae-32-1,127,21),a(Te,Fe-32-1,127,9),a(rt,vt-32-1,127,9)),ie=0;ie<T.za;++ie){var $e=B.ya[B.aa+ie];if(0<ie){for(ee=-1;16>ee;++ee)n(je,Ae+32*ee-4,je,Ae+32*ee+12,4);for(ee=-1;8>ee;++ee)n(Te,Fe+32*ee-4,Te,Fe+32*ee+4,4),n(rt,vt+32*ee-4,rt,vt+32*ee+4,4)}var it=T.Gd,xt=T.Hd+ie,Tt=$e.ad,bt=$e.Hc;if(0<pe&&(n(je,Ae-32,it[xt].y,0,16),n(Te,Fe-32,it[xt].f,0,8),n(rt,vt-32,it[xt].ea,0,8)),$e.Za){var Et=je,Pt=Ae-32+16;for(0<pe&&(ie>=T.za-1?a(Et,Pt,it[xt].y[15],4):n(Et,Pt,it[xt+1].y,0,4)),ee=0;4>ee;ee++)Et[Pt+128+ee]=Et[Pt+256+ee]=Et[Pt+384+ee]=Et[Pt+0+ee];for(ee=0;16>ee;++ee,bt<<=2)Et=je,Pt=Ae+Zw[ee],Ac[$e.Ob[ee]](Et,Pt),my(bt,Tt,16*+ee,Et,Pt)}else if(Et=Qu(ie,pe,$e.Ob[0]),Zo[Et](je,Ae),bt!=0)for(ee=0;16>ee;++ee,bt<<=2)my(bt,Tt,16*+ee,je,Ae+Zw[ee]);for(ee=$e.Gc,Et=Qu(ie,pe,$e.Dd),gl[Et](Te,Fe),gl[Et](rt,vt),bt=Tt,Et=Te,Pt=Fe,255&($e=0|ee)&&(170&$e?pl(bt,256,Et,Pt):Cs(bt,256,Et,Pt)),$e=rt,bt=vt,255&(ee>>=8)&&(170&ee?pl(Tt,320,$e,bt):Cs(Tt,320,$e,bt)),pe<T.Ub-1&&(n(it[xt].y,0,je,Ae+480,16),n(it[xt].f,0,Te,Fe+224,8),n(it[xt].ea,0,rt,vt+224,8)),ee=8*be*T.B,it=T.sa,xt=T.ta+16*ie+16*be*T.R,Tt=T.qa,$e=T.ra+8*ie+ee,bt=T.Ha,Et=T.Ia+8*ie+ee,ee=0;16>ee;++ee)n(it,xt+ee*T.R,je,Ae+32*ee,16);for(ee=0;8>ee;++ee)n(Tt,$e+ee*T.B,Te,Fe+32*ee,8),n(bt,Et+ee*T.B,rt,vt+32*ee,8)}}function eh(T,B,ee,ie,pe,be,je,Ae,Te){var Fe=[0],rt=[0],vt=0,$e=Te!=null?Te.kd:0,it=Te??new Dt;if(T==null||12>ee)return 7;it.data=T,it.w=B,it.ha=ee,B=[B],ee=[ee],it.gb=[it.gb];e:{var xt=B,Tt=ee,bt=it.gb;if(e(T!=null),e(Tt!=null),e(bt!=null),bt[0]=0,12<=Tt[0]&&!r(T,xt[0],"RIFF")){if(r(T,xt[0]+8,"WEBP")){bt=3;break e}var Et=re(T,xt[0]+4);if(12>Et||4294967286<Et){bt=3;break e}if($e&&Et>Tt[0]-8){bt=7;break e}bt[0]=Et,xt[0]+=12,Tt[0]-=12}bt=0}if(bt!=0)return bt;for(Et=0<it.gb[0],ee=ee[0];;){e:{var Pt=T;Tt=B,bt=ee;var Ft=Fe,$t=rt,Ur=xt=[0];if((Tr=vt=[vt])[0]=0,8>bt[0])bt=7;else{if(!r(Pt,Tt[0],"VP8X")){if(re(Pt,Tt[0]+4)!=10){bt=3;break e}if(18>bt[0]){bt=7;break e}var Sr=re(Pt,Tt[0]+8),wn=1+Oe(Pt,Tt[0]+12);if(2147483648<=wn*(Pt=1+Oe(Pt,Tt[0]+15))){bt=3;break e}Ur!=null&&(Ur[0]=Sr),Ft!=null&&(Ft[0]=wn),$t!=null&&($t[0]=Pt),Tt[0]+=18,bt[0]-=18,Tr[0]=1}bt=0}}if(vt=vt[0],xt=xt[0],bt!=0)return bt;if(Tt=!!(2&xt),!Et&&vt)return 3;if(be!=null&&(be[0]=!!(16&xt)),je!=null&&(je[0]=Tt),Ae!=null&&(Ae[0]=0),je=Fe[0],xt=rt[0],vt&&Tt&&Te==null){bt=0;break}if(4>ee){bt=7;break}if(Et&&vt||!Et&&!vt&&!r(T,B[0],"ALPH")){ee=[ee],it.na=[it.na],it.P=[it.P],it.Sa=[it.Sa];e:{Sr=T,bt=B,Et=ee;var Tr=it.gb;Ft=it.na,$t=it.P,Ur=it.Sa,wn=22,e(Sr!=null),e(Et!=null),Pt=bt[0];var qn=Et[0];for(e(Ft!=null),e(Ur!=null),Ft[0]=null,$t[0]=null,Ur[0]=0;;){if(bt[0]=Pt,Et[0]=qn,8>qn){bt=7;break e}var Pa=re(Sr,Pt+4);if(4294967286<Pa){bt=3;break e}var _n=8+Pa+1&-2;if(wn+=_n,0<Tr&&wn>Tr){bt=3;break e}if(!r(Sr,Pt,"VP8 ")||!r(Sr,Pt,"VP8L")){bt=0;break e}if(qn[0]<_n){bt=7;break e}r(Sr,Pt,"ALPH")||(Ft[0]=Sr,$t[0]=Pt+8,Ur[0]=Pa),Pt+=_n,qn-=_n}}if(ee=ee[0],it.na=it.na[0],it.P=it.P[0],it.Sa=it.Sa[0],bt!=0)break}ee=[ee],it.Ja=[it.Ja],it.xa=[it.xa];e:if(Tr=T,bt=B,Et=ee,Ft=it.gb[0],$t=it.Ja,Ur=it.xa,Sr=bt[0],Pt=!r(Tr,Sr,"VP8 "),wn=!r(Tr,Sr,"VP8L"),e(Tr!=null),e(Et!=null),e($t!=null),e(Ur!=null),8>Et[0])bt=7;else{if(Pt||wn){if(Tr=re(Tr,Sr+4),12<=Ft&&Tr>Ft-12){bt=3;break e}if($e&&Tr>Et[0]-8){bt=7;break e}$t[0]=Tr,bt[0]+=8,Et[0]-=8,Ur[0]=wn}else Ur[0]=5<=Et[0]&&Tr[Sr+0]==47&&!(Tr[Sr+4]>>5),$t[0]=Et[0];bt=0}if(ee=ee[0],it.Ja=it.Ja[0],it.xa=it.xa[0],B=B[0],bt!=0)break;if(4294967286<it.Ja)return 3;if(Ae==null||Tt||(Ae[0]=it.xa?2:1),je=[je],xt=[xt],it.xa){if(5>ee){bt=7;break}Ae=je,$e=xt,Tt=be,T==null||5>ee?T=0:5<=ee&&T[B+0]==47&&!(T[B+4]>>5)?(Et=[0],Tr=[0],Ft=[0],z($t=new X,T,B,ee),Jt($t,Et,Tr,Ft)?(Ae!=null&&(Ae[0]=Et[0]),$e!=null&&($e[0]=Tr[0]),Tt!=null&&(Tt[0]=Ft[0]),T=1):T=0):T=0}else{if(10>ee){bt=7;break}Ae=xt,T==null||10>ee||!oy(T,B+3,ee-3)?T=0:($e=T[B+0]|T[B+1]<<8|T[B+2]<<16,Tt=16383&(T[B+7]<<8|T[B+6]),T=16383&(T[B+9]<<8|T[B+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=it.Ja||!Tt||!T?T=0:(je&&(je[0]=Tt),Ae&&(Ae[0]=T),T=1))}if(!T||(je=je[0],xt=xt[0],vt&&(Fe[0]!=je||rt[0]!=xt)))return 3;Te!=null&&(Te[0]=it,Te.offset=B-Te.w,e(4294967286>B-Te.w),e(Te.offset==Te.ha-ee));break}return bt==0||bt==7&&vt&&Te==null?(be!=null&&(be[0]|=it.na!=null&&0<it.na.length),ie!=null&&(ie[0]=je),pe!=null&&(pe[0]=xt),0):bt}function Fp(T,B,ee){var ie=B.width,pe=B.height,be=0,je=0,Ae=ie,Te=pe;if(B.Da=T!=null&&0<T.Da,B.Da&&(Ae=T.cd,Te=T.bd,be=T.v,je=T.j,11>ee||(be&=-2,je&=-2),0>be||0>je||0>=Ae||0>=Te||be+Ae>ie||je+Te>pe))return 0;if(B.v=be,B.j=je,B.va=be+Ae,B.o=je+Te,B.U=Ae,B.T=Te,B.da=T!=null&&0<T.da,B.da){if(!Le(Ae,Te,ee=[T.ib],be=[T.hb]))return 0;B.ib=ee[0],B.hb=be[0]}return B.ob=T!=null&&T.ob,B.Kb=T==null||!T.Sd,B.da&&(B.ob=B.ib<3*ie/4&&B.hb<3*pe/4,B.Kb=0),1}function Mp(T){if(T==null)return 2;if(11>T.S){var B=T.f.RGBA;B.fb+=(T.height-1)*B.A,B.A=-B.A}else B=T.f.kb,T=T.height,B.O+=(T-1)*B.fa,B.fa=-B.fa,B.N+=(T-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(T-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(T-1)*B.lb,B.lb=-B.lb);return 0}function Zd(T,B,ee,ie){if(ie==null||0>=T||0>=B)return 2;if(ee!=null){if(ee.Da){var pe=ee.cd,be=ee.bd,je=-2&ee.v,Ae=-2&ee.j;if(0>je||0>Ae||0>=pe||0>=be||je+pe>T||Ae+be>B)return 2;T=pe,B=be}if(ee.da){if(!Le(T,B,pe=[ee.ib],be=[ee.hb]))return 2;T=pe[0],B=be[0]}}ie.width=T,ie.height=B;e:{var Te=ie.width,Fe=ie.height;if(T=ie.S,0>=Te||0>=Fe||!(T>=xy&&13>T))T=2;else{if(0>=ie.Rd&&ie.sd==null){je=be=pe=B=0;var rt=(Ae=Te*Zg[T])*Fe;if(11>T||(be=(Fe+1)/2*(B=(Te+1)/2),T==12&&(je=(pe=Te)*Fe)),(Fe=i(rt+2*be+je))==null){T=1;break e}ie.sd=Fe,11>T?((Te=ie.f.RGBA).eb=Fe,Te.fb=0,Te.A=Ae,Te.size=rt):((Te=ie.f.kb).y=Fe,Te.O=0,Te.fa=Ae,Te.Fd=rt,Te.f=Fe,Te.N=0+rt,Te.Ab=B,Te.Cd=be,Te.ea=Fe,Te.W=0+rt+be,Te.Db=B,Te.Ed=be,T==12&&(Te.F=Fe,Te.J=0+rt+2*be),Te.Tc=je,Te.lb=pe)}if(B=1,pe=ie.S,be=ie.width,je=ie.height,pe>=xy&&13>pe)if(11>pe)T=ie.f.RGBA,B&=(Ae=Math.abs(T.A))*(je-1)+be<=T.size,B&=Ae>=be*Zg[pe],B&=T.eb!=null;else{T=ie.f.kb,Ae=(be+1)/2,rt=(je+1)/2,Te=Math.abs(T.fa),Fe=Math.abs(T.Ab);var vt=Math.abs(T.Db),$e=Math.abs(T.lb),it=$e*(je-1)+be;B&=Te*(je-1)+be<=T.Fd,B&=Fe*(rt-1)+Ae<=T.Cd,B=(B&=vt*(rt-1)+Ae<=T.Ed)&Te>=be&Fe>=Ae&vt>=Ae,B&=T.y!=null,B&=T.f!=null,B&=T.ea!=null,pe==12&&(B&=$e>=be,B&=it<=T.Tc,B&=T.F!=null)}else B=0;T=B?0:2}}return T!=0||ee!=null&&ee.fd&&(T=Mp(ie)),T}var kc=64,Kl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xl=24,th=32,ed=8,Qd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ye("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(T){return T},O.Predictor2=function(T,B,ee){return B[ee+0]},O.Predictor3=function(T,B,ee){return B[ee+1]},O.Predictor4=function(T,B,ee){return B[ee-1]},O.Predictor5=function(T,B,ee){return Qe(Qe(T,B[ee+1]),B[ee+0])},O.Predictor6=function(T,B,ee){return Qe(T,B[ee-1])},O.Predictor7=function(T,B,ee){return Qe(T,B[ee+0])},O.Predictor8=function(T,B,ee){return Qe(B[ee-1],B[ee+0])},O.Predictor9=function(T,B,ee){return Qe(B[ee+0],B[ee+1])},O.Predictor10=function(T,B,ee){return Qe(Qe(T,B[ee-1]),Qe(B[ee+0],B[ee+1]))},O.Predictor11=function(T,B,ee){var ie=B[ee+0];return 0>=me(ie>>24&255,T>>24&255,(B=B[ee-1])>>24&255)+me(ie>>16&255,T>>16&255,B>>16&255)+me(ie>>8&255,T>>8&255,B>>8&255)+me(255&ie,255&T,255&B)?ie:T},O.Predictor12=function(T,B,ee){var ie=B[ee+0];return(ct((T>>24&255)+(ie>>24&255)-((B=B[ee-1])>>24&255))<<24|ct((T>>16&255)+(ie>>16&255)-(B>>16&255))<<16|ct((T>>8&255)+(ie>>8&255)-(B>>8&255))<<8|ct((255&T)+(255&ie)-(255&B)))>>>0},O.Predictor13=function(T,B,ee){var ie=B[ee-1];return(Ye((T=Qe(T,B[ee+0]))>>24&255,ie>>24&255)<<24|Ye(T>>16&255,ie>>16&255)<<16|Ye(T>>8&255,ie>>8&255)<<8|Ye(255&T,255&ie))>>>0};var ef=O.PredictorAdd0;O.PredictorAdd1=Se,ye("Predictor2","PredictorAdd2"),ye("Predictor3","PredictorAdd3"),ye("Predictor4","PredictorAdd4"),ye("Predictor5","PredictorAdd5"),ye("Predictor6","PredictorAdd6"),ye("Predictor7","PredictorAdd7"),ye("Predictor8","PredictorAdd8"),ye("Predictor9","PredictorAdd9"),ye("Predictor10","PredictorAdd10"),ye("Predictor11","PredictorAdd11"),ye("Predictor12","PredictorAdd12"),ye("Predictor13","PredictorAdd13");var td=O.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var $a,mm=O.ColorIndexInverseTransform,rd=O.MapARGB,su=O.VP8LColorIndexInverseTransformAlpha,pm=O.MapAlpha,gm=O.VP8LPredictorsAdd=[];gm.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Lp,$p,tf,rh,nh,xm,sh,vm,Aa,pl,fs,Cs,Ea,ni,au,zg,Bp,rf,py,Up,gy,Bw,qg,ym,bm,Uw,Vg,zw,qw=i(511),Vw=i(2041),Ww=i(225),Hw=i(767),Gw=0,nd=Vw,zp=Ww,Jo=Hw,Cc=qw,xy=0,ah=1,ES=2,Wg=3,Hg=4,Rs=5,vy=6,qp=7,wm=8,Gg=9,Yg=10,Kg=[2,3,7],yy=[3,3,11],_m=[280,256,256,256,40],PS=[0,1,1,1,0],EP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],PP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],TS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],by=8,Vp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jm=null,Yw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],OS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],TP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],OP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zo=[],Ac=[],gl=[],sd=1,Wp=2,Po=[],xl=[];ml("UpsampleRgbLinePair",Qf,3),ml("UpsampleBgrLinePair",dm,3),ml("UpsampleRgbaLinePair",Ug,4),ml("UpsampleBgraLinePair",Bg,4),ml("UpsampleArgbLinePair",hm,4),ml("UpsampleRgba4444LinePair",fm,2),ml("UpsampleRgb565LinePair",Eo,2);var DP=O.UpsampleRgbLinePair,RP=O.UpsampleBgrLinePair,ih=O.UpsampleRgbaLinePair,Hp=O.UpsampleBgraLinePair,Nm=O.UpsampleArgbLinePair,Jg=O.UpsampleRgba4444LinePair,Jw=O.UpsampleRgb565LinePair,nf=16,iu=1<<nf-1,Ss=-227,As=482,oh=6,lo=0,vl=i(256),Sm=i(256),Gp=i(256),yl=i(256),wy=i(As-Ss),RS=i(As-Ss);nu("YuvToRgbRow",Qf,3),nu("YuvToBgrRow",dm,3),nu("YuvToRgbaRow",Ug,4),nu("YuvToBgraRow",Bg,4),nu("YuvToArgbRow",hm,4),nu("YuvToRgba4444Row",fm,2),nu("YuvToRgb565Row",Eo,2);var Zw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],km=[0,2,8],IS=[8,7,6,4,4,2,2,2,1,1,1,1],sf=1;this.WebPDecodeRGBA=function(T,B,ee,ie,pe){var be=ah,je=new dt,Ae=new Qt;je.ba=Ae,Ae.S=be,Ae.width=[Ae.width],Ae.height=[Ae.height];var Te=Ae.width,Fe=Ae.height,rt=new Vt;if(rt==null||T==null)var vt=2;else e(rt!=null),vt=eh(T,B,ee,rt.width,rt.height,rt.Pd,rt.Qd,rt.format,null);if(vt!=0?Te=0:(Te!=null&&(Te[0]=rt.width[0]),Fe!=null&&(Fe[0]=rt.height[0]),Te=1),Te){Ae.width=Ae.width[0],Ae.height=Ae.height[0],ie!=null&&(ie[0]=Ae.width),pe!=null&&(pe[0]=Ae.height);e:{if(ie=new Ws,(pe=new Dt).data=T,pe.w=B,pe.ha=ee,pe.kd=1,B=[0],e(pe!=null),((T=eh(pe.data,pe.w,pe.ha,null,null,null,B,null,pe))==0||T==7)&&B[0]&&(T=4),(B=T)==0){if(e(je!=null),ie.data=pe.data,ie.w=pe.w+pe.offset,ie.ha=pe.ha-pe.offset,ie.put=It,ie.ac=or,ie.bc=Ir,ie.ma=je,pe.xa){if((T=mt())==null){je=1;break e}if((function($e,it){var xt=[0],Tt=[0],bt=[0];t:for(;;){if($e==null)return 0;if(it==null)return $e.a=2,0;if($e.l=it,$e.a=0,z($e.m,it.data,it.w,it.ha),!Jt($e.m,xt,Tt,bt)){$e.a=3;break t}if($e.xb=Wp,it.width=xt[0],it.height=Tt[0],!pt(xt[0],Tt[0],1,$e,null))break t;return 1}return e($e.a!=0),0})(T,ie)){if(ie=(B=Zd(ie.width,ie.height,je.Oa,je.ba))==0){t:{ie=T;r:for(;;){if(ie==null){ie=0;break t}if(e(ie.s.yc!=null),e(ie.s.Ya!=null),e(0<ie.s.Wb),e((ee=ie.l)!=null),e((pe=ee.ma)!=null),ie.xb!=0){if(ie.ca=pe.ba,ie.tb=pe.tb,e(ie.ca!=null),!Fp(pe.Oa,ee,Wg)){ie.a=2;break r}if(!gt(ie,ee.width)||ee.da)break r;if((ee.da||St(ie.ca.S))&&Sc(),11>ie.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ie.ca.f.kb.F!=null&&Sc()),ie.Pb&&0<ie.s.ua&&ie.s.vb.X==null&&!le(ie.s.vb,ie.s.Wa.Xa)){ie.a=1;break r}ie.xb=0}if(!ft(ie,ie.V,ie.Ba,ie.c,ie.i,ee.o,Ee))break r;pe.Dc=ie.Ma,ie=1;break t}e(ie.a!=0),ie=0}ie=!ie}ie&&(B=T.a)}else B=T.a}else{if((T=new Lw)==null){je=1;break e}if(T.Fa=pe.na,T.P=pe.P,T.qc=pe.Sa,em(T,ie)){if((B=Zd(ie.width,ie.height,je.Oa,je.ba))==0){if(T.Aa=0,ee=je.Oa,e((pe=T)!=null),ee!=null){if(0<(Te=0>(Te=ee.Md)?0:100<Te?255:255*Te/100)){for(Fe=rt=0;4>Fe;++Fe)12>(vt=pe.pb[Fe]).lc&&(vt.ia=Te*IS[0>vt.lc?0:vt.lc]>>3),rt|=vt.ia;rt&&(alert("todo:VP8InitRandom"),pe.ia=1)}pe.Ga=ee.Id,100<pe.Ga?pe.Ga=100:0>pe.Ga&&(pe.Ga=0)}(function($e,it){if($e==null)return 0;if(it==null)return ti($e,2,"NULL VP8Io parameter in VP8Decode().");if(!$e.cb&&!em($e,it))return 0;if(e($e.cb),it.ac==null||it.ac(it)){it.ob&&($e.L=0);var xt=km[$e.L];if($e.L==2?($e.yb=0,$e.zb=0):($e.yb=it.v-xt>>4,$e.zb=it.j-xt>>4,0>$e.yb&&($e.yb=0),0>$e.zb&&($e.zb=0)),$e.Va=it.o+15+xt>>4,$e.Hb=it.va+15+xt>>4,$e.Hb>$e.za&&($e.Hb=$e.za),$e.Va>$e.Ub&&($e.Va=$e.Ub),0<$e.L){var Tt=$e.ed;for(xt=0;4>xt;++xt){var bt;if($e.Qa.Cb){var Et=$e.Qa.Lb[xt];$e.Qa.Fb||(Et+=Tt.Tb)}else Et=Tt.Tb;for(bt=0;1>=bt;++bt){var Pt=$e.gd[xt][bt],Ft=Et;if(Tt.Pc&&(Ft+=Tt.vd[0],bt&&(Ft+=Tt.od[0])),0<(Ft=0>Ft?0:63<Ft?63:Ft)){var $t=Ft;0<Tt.wb&&($t=4<Tt.wb?$t>>2:$t>>1)>9-Tt.wb&&($t=9-Tt.wb),1>$t&&($t=1),Pt.dd=$t,Pt.tc=2*Ft+$t,Pt.ld=40<=Ft?2:15<=Ft?1:0}else Pt.tc=0;Pt.La=bt}}}xt=0}else ti($e,6,"Frame setup failed"),xt=$e.a;if(xt=xt==0){if(xt){$e.$c=0,0<$e.Aa||($e.Ic=sf);t:{xt=$e.Ic,Tt=4*($t=$e.za);var Ur=32*$t,Sr=$t+1,wn=0<$e.L?$t*(0<$e.Aa?2:1):0,Tr=($e.Aa==2?2:1)*$t;if((Pt=Tt+832+(bt=3*(16*xt+km[$e.L])/2*Ur)+(Et=$e.Fa!=null&&0<$e.Fa.length?$e.Kc.c*$e.Kc.i:0))!=Pt)xt=0;else{if(Pt>$e.Vb){if($e.Vb=0,$e.Ec=i(Pt),$e.Fc=0,$e.Ec==null){xt=ti($e,1,"no memory during frame initialization.");break t}$e.Vb=Pt}Pt=$e.Ec,Ft=$e.Fc,$e.Ac=Pt,$e.Bc=Ft,Ft+=Tt,$e.Gd=o(Ur,Vs),$e.Hd=0,$e.rb=o(Sr+1,ks),$e.sb=1,$e.wa=wn?o(wn,En):null,$e.Y=0,$e.D.Nb=0,$e.D.wa=$e.wa,$e.D.Y=$e.Y,0<$e.Aa&&($e.D.Y+=$t),e(!0),$e.oc=Pt,$e.pc=Ft,Ft+=832,$e.ya=o(Tr,xa),$e.aa=0,$e.D.ya=$e.ya,$e.D.aa=$e.aa,$e.Aa==2&&($e.D.aa+=$t),$e.R=16*$t,$e.B=8*$t,$t=(Ur=km[$e.L])*$e.R,Ur=Ur/2*$e.B,$e.sa=Pt,$e.ta=Ft+$t,$e.qa=$e.sa,$e.ra=$e.ta+16*xt*$e.R+Ur,$e.Ha=$e.qa,$e.Ia=$e.ra+8*xt*$e.B+Ur,$e.$c=0,Ft+=bt,$e.mb=Et?Pt:null,$e.nb=Et?Ft:null,e(Ft+Et<=$e.Fc+$e.Vb),Qc($e),a($e.Ac,$e.Bc,0,Tt),xt=1}}if(xt){if(it.ka=0,it.y=$e.sa,it.O=$e.ta,it.f=$e.qa,it.N=$e.ra,it.ea=$e.Ha,it.Vd=$e.Ia,it.fa=$e.R,it.Rc=$e.B,it.F=null,it.J=0,!Gw){for(xt=-255;255>=xt;++xt)qw[255+xt]=0>xt?-xt:xt;for(xt=-1020;1020>=xt;++xt)Vw[1020+xt]=-128>xt?-128:127<xt?127:xt;for(xt=-112;112>=xt;++xt)Ww[112+xt]=-16>xt?-16:15<xt?15:xt;for(xt=-255;510>=xt;++xt)Hw[255+xt]=0>xt?0:255<xt?255:xt;Gw=1}sh=ls,vm=Dg,pl=nm,fs=Yu,Cs=Pp,Aa=ly,Ea=$g,ni=Ao,au=H,zg=ge,Bp=Nc,rf=Ip,py=ze,Up=Ze,gy=wc,Bw=Jd,qg=lm,ym=Lg,Ac[0]=$w,Ac[1]=Tp,Ac[2]=sm,Ac[3]=Xu,Ac[4]=dy,Ac[5]=Kd,Ac[6]=Gl,Ac[7]=fy,Ac[8]=am,Ac[9]=Dp,Zo[0]=eu,Zo[1]=cy,Zo[2]=uy,Zo[3]=Op,Zo[4]=Ku,Zo[5]=hl,Zo[6]=bc,gl[0]=ru,gl[1]=Rg,gl[2]=Ig,gl[3]=tu,gl[4]=Fg,gl[5]=Rp,gl[6]=Mg,xt=1}else xt=0}xt&&(xt=(function(qn,Pa){for(qn.M=0;qn.M<qn.Va;++qn.M){var _n,kr=qn.Jc[qn.M&qn.Xb],fr=qn.m,Ba=qn;for(_n=0;_n<Ba.za;++_n){var sn=fr,Mn=Ba,Gs=Mn.Ac,Li=Mn.Bc+4*_n,si=Mn.zc,ya=Mn.ya[Mn.aa+_n];if(Mn.Qa.Bb?ya.$b=ue(sn,Mn.Pa.jb[0])?2+ue(sn,Mn.Pa.jb[2]):ue(sn,Mn.Pa.jb[1]):ya.$b=0,Mn.kc&&(ya.Ad=ue(sn,Mn.Bd)),ya.Za=!ue(sn,145)+0,ya.Za){var ji=ya.Ob,$i=0;for(Mn=0;4>Mn;++Mn){var oa,Jn=si[0+Mn];for(oa=0;4>oa;++oa){Jn=TP[Gs[Li+oa]][Jn];for(var hs=OS[ue(sn,Jn[0])];0<hs;)hs=OS[2*hs+ue(sn,Jn[hs])];Jn=-hs,Gs[Li+oa]=Jn}n(ji,$i,Gs,Li,4),$i+=4,si[0+Mn]=Jn}}else Jn=ue(sn,156)?ue(sn,128)?1:3:ue(sn,163)?2:0,ya.Ob[0]=Jn,a(Gs,Li,Jn,4),a(si,0,Jn,4);ya.Dd=ue(sn,142)?ue(sn,114)?ue(sn,183)?1:3:2:0}if(Ba.m.Ka)return ti(qn,7,"Premature end-of-partition0 encountered.");for(;qn.ja<qn.za;++qn.ja){if(Ba=kr,sn=(fr=qn).rb[fr.sb-1],Gs=fr.rb[fr.sb+fr.ja],_n=fr.ya[fr.aa+fr.ja],Li=fr.kc?_n.Ad:0)sn.la=Gs.la=0,_n.Za||(sn.Na=Gs.Na=0),_n.Hc=0,_n.Gc=0,_n.ia=0;else{var la,ms;if(sn=Gs,Gs=Ba,Li=fr.Pa.Xc,si=fr.ya[fr.aa+fr.ja],ya=fr.pb[si.$b],Mn=si.ad,ji=0,$i=fr.rb[fr.sb-1],Jn=oa=0,a(Mn,ji,0,384),si.Za)var Ta=0,Oa=Li[3];else{hs=i(16);var Is=sn.Na+$i.Na;if(Is=jm(Gs,Li[1],Is,ya.Eb,0,hs,0),sn.Na=$i.Na=(0<Is)+0,1<Is)sh(hs,0,Mn,ji);else{var To=hs[0]+3>>3;for(hs=0;256>hs;hs+=16)Mn[ji+hs]=To}Ta=1,Oa=Li[0]}var Es=15&sn.la,Fs=15&$i.la;for(hs=0;4>hs;++hs){var ai=1&Fs;for(To=ms=0;4>To;++To)Es=Es>>1|(ai=(Is=jm(Gs,Oa,Is=ai+(1&Es),ya.Sc,Ta,Mn,ji))>Ta)<<7,ms=ms<<2|(3<Is?3:1<Is?2:Mn[ji+0]!=0),ji+=16;Es>>=4,Fs=Fs>>1|ai<<7,oa=(oa<<8|ms)>>>0}for(Oa=Es,Ta=Fs>>4,la=0;4>la;la+=2){for(ms=0,Es=sn.la>>4+la,Fs=$i.la>>4+la,hs=0;2>hs;++hs){for(ai=1&Fs,To=0;2>To;++To)Is=ai+(1&Es),Es=Es>>1|(ai=0<(Is=jm(Gs,Li[2],Is,ya.Qc,0,Mn,ji)))<<3,ms=ms<<2|(3<Is?3:1<Is?2:Mn[ji+0]!=0),ji+=16;Es>>=2,Fs=Fs>>1|ai<<5}Jn|=ms<<4*la,Oa|=Es<<4<<la,Ta|=(240&Fs)<<la}sn.la=Oa,$i.la=Ta,si.Hc=oa,si.Gc=Jn,si.ia=43690&Jn?0:ya.ia,Li=!(oa|Jn)}if(0<fr.L&&(fr.wa[fr.Y+fr.ja]=fr.gd[_n.$b][_n.Za],fr.wa[fr.Y+fr.ja].La|=!Li),Ba.Ka)return ti(qn,7,"Premature end-of-file encountered.")}if(Qc(qn),fr=Pa,Ba=1,_n=(kr=qn).D,sn=0<kr.L&&kr.M>=kr.zb&&kr.M<=kr.Va,kr.Aa==0)t:{if(_n.M=kr.M,_n.uc=sn,Yl(kr,_n),Ba=1,_n=(ms=kr.D).Nb,sn=(Jn=km[kr.L])*kr.R,Gs=Jn/2*kr.B,hs=16*_n*kr.R,To=8*_n*kr.B,Li=kr.sa,si=kr.ta-sn+hs,ya=kr.qa,Mn=kr.ra-Gs+To,ji=kr.Ha,$i=kr.Ia-Gs+To,Fs=(Es=ms.M)==0,oa=Es>=kr.Va-1,kr.Aa==2&&Yl(kr,ms),ms.uc)for(ai=(Is=kr).D.M,e(Is.D.uc),ms=Is.yb;ms<Is.Hb;++ms){Ta=ms,Oa=ai;var co=(bl=(qa=Is).D).Nb;la=qa.R;var bl=bl.wa[bl.Y+Ta],Ua=qa.sa,za=qa.ta+16*co*la+16*Ta,Oo=bl.dd,Ms=bl.tc;if(Ms!=0)if(e(3<=Ms),qa.L==1)0<Ta&&Bw(Ua,za,la,Ms+4),bl.La&&ym(Ua,za,la,Ms),0<Oa&&gy(Ua,za,la,Ms+4),bl.La&&qg(Ua,za,la,Ms);else{var Do=qa.B,Ec=qa.qa,ou=qa.ra+8*co*Do+8*Ta,Bi=qa.Ha,qa=qa.Ia+8*co*Do+8*Ta;co=bl.ld,0<Ta&&(ni(Ua,za,la,Ms+4,Oo,co),zg(Ec,ou,Bi,qa,Do,Ms+4,Oo,co)),bl.La&&(rf(Ua,za,la,Ms,Oo,co),Up(Ec,ou,Bi,qa,Do,Ms,Oo,co)),0<Oa&&(Ea(Ua,za,la,Ms+4,Oo,co),au(Ec,ou,Bi,qa,Do,Ms+4,Oo,co)),bl.La&&(Bp(Ua,za,la,Ms,Oo,co),py(Ec,ou,Bi,qa,Do,Ms,Oo,co))}}if(kr.ia&&alert("todo:DitherRow"),fr.put!=null){if(ms=16*Es,Es=16*(Es+1),Fs?(fr.y=kr.sa,fr.O=kr.ta+hs,fr.f=kr.qa,fr.N=kr.ra+To,fr.ea=kr.Ha,fr.W=kr.Ia+To):(ms-=Jn,fr.y=Li,fr.O=si,fr.f=ya,fr.N=Mn,fr.ea=ji,fr.W=$i),oa||(Es-=Jn),Es>fr.o&&(Es=fr.o),fr.F=null,fr.J=null,kr.Fa!=null&&0<kr.Fa.length&&ms<Es&&(fr.J=ri(kr,fr,ms,Es-ms),fr.F=kr.mb,fr.F==null&&fr.F.length==0)){Ba=ti(kr,3,"Could not decode alpha data.");break t}ms<fr.j&&(Jn=fr.j-ms,ms=fr.j,e(!(1&Jn)),fr.O+=kr.R*Jn,fr.N+=kr.B*(Jn>>1),fr.W+=kr.B*(Jn>>1),fr.F!=null&&(fr.J+=fr.width*Jn)),ms<Es&&(fr.O+=fr.v,fr.N+=fr.v>>1,fr.W+=fr.v>>1,fr.F!=null&&(fr.J+=fr.v),fr.ka=ms-fr.j,fr.U=fr.va-fr.v,fr.T=Es-ms,Ba=fr.put(fr))}_n+1!=kr.Ic||oa||(n(kr.sa,kr.ta-sn,Li,si+16*kr.R,sn),n(kr.qa,kr.ra-Gs,ya,Mn+8*kr.B,Gs),n(kr.Ha,kr.Ia-Gs,ji,$i+8*kr.B,Gs))}if(!Ba)return ti(qn,6,"Output aborted.")}return 1})($e,it)),it.bc!=null&&it.bc(it),xt&=1}return xt?($e.cb=0,xt):0})(T,ie)||(B=T.a)}}else B=T.a}B==0&&je.Oa!=null&&je.Oa.fd&&(B=Mp(je.ba))}je=B}be=je!=0?null:11>be?Ae.f.RGBA.eb:Ae.f.kb.y}else be=null;return be};var Zg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,D){for(var P="",E=0;E<4;E++)P+=String.fromCharCode(O[D++]);return P}function d(O,D){return O[D+0]|O[D+1]<<8}function f(O,D){return(O[D+0]|O[D+1]<<8|O[D+2]<<16)>>>0}function m(O,D){return(O[D+0]|O[D+1]<<8|O[D+2]<<16|O[D+3]<<24)>>>0}new c;var h=[0],x=[0],g=[],v=new c,b=t,_=(function(O,D){var P={},E=0,I=!1,M=0,U=0;if(P.frames=[],!(function(L,X){for(var K=0;K<4;K++)if(L[X+K]!="RIFF".charCodeAt(K))return!0;return!1})(O,D)){for(m(O,D+=4),D+=8;D<O.length;){var W=u(O,D),Y=m(O,D+=4);D+=4;var J=Y+(1&Y);switch(W){case"VP8 ":case"VP8L":P.frames[E]===void 0&&(P.frames[E]={}),(V=P.frames[E]).src_off=I?U:D-8,V.src_size=M+Y+8,E++,I&&(I=!1,M=0,U=0);break;case"VP8X":(V=P.header={}).feature_flags=O[D];var z=D+4;V.canvas_width=1+f(O,z),z+=3,V.canvas_height=1+f(O,z),z+=3;break;case"ALPH":I=!0,M=J+8,U=D-8;break;case"ANIM":(V=P.header).bgcolor=m(O,D),z=D+4,V.loop_count=d(O,z),z+=2;break;case"ANMF":var q,V;(V=P.frames[E]={}).offset_x=2*f(O,D),D+=3,V.offset_y=2*f(O,D),D+=3,V.width=1+f(O,D),D+=3,V.height=1+f(O,D),D+=3,V.duration=f(O,D),D+=3,q=O[D++],V.dispose=1&q,V.blend=q>>1&1}W!="ANMF"&&(D+=J)}return P}})(b,0);_.response=b,_.rgbaoutput=!0,_.dataurl=!1;var w=_.header?_.header:null,N=_.frames?_.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],x=[w.canvas_width];for(var S=0;S<N.length&&N[S].blend!=0;S++);}var C=N[0],A=v.WebPDecodeRGBA(b,C.src_off,C.src_size,x,h);C.rgba=A,C.imgwidth=x[0],C.imgheight=h[0];for(var R=0;R<x[0]*h[0]*4;R++)g[R]=A[R];return this.width=x,this.height=h,this.data=g,this}(function(t){var e,r,n,a,i,o,l,c,u,d=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=L;Object.defineProperty(this,"pdf",{get:function(){return X}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(re){K=!!re}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(re){Q=!!re}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(re){isNaN(re)||(oe=re)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(re){isNaN(re)||(ce=re)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(re){var le;typeof re=="number"?le=[re,re,re,re]:((le=new Array(4))[0]=re[0],le[1]=re.length>=2?re[1]:le[0],le[2]=re.length>=3?re[2]:le[0],le[3]=re.length>=4?re[3]:le[1]),u.margin=le}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(re){de=re}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(re){ne=re}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(re){ue=re}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(re){re instanceof d&&(u=re)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(re){u.path=re}});var se=[];Object.defineProperty(this,"ctxStack",{get:function(){return se},set:function(re){se=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var le;le=m(re),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var le=m(re);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var Z=null,Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(re){Z=null,Oe=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var le;if(this.ctx.font=re,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(re))!==null){var We=le[1];le[2];var xe=le[3],Le=le[4];le[5];var ke=le[6],fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(fe==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:fe==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var ye=(function(tt){var Ve,Me,ht=[],Ce=tt.trim();if(Ce==="")return G3;if(Ce in VG)return[VG[Ce]];for(;Ce!=="";){switch(Me=null,Ve=(Ce=HG(Ce)).charAt(0)){case'"':case"'":Me=Sze(Ce.substring(1),Ve);break;default:Me=kze(Ce)}if(Me===null||(ht.push(Me[0]),(Ce=HG(Me[1]))!==""&&Ce.charAt(0)!==","))return G3;Ce=Ce.replace(/^,/,"")}return ht})(ke);if(this.fontFaces){var qe=(function(tt,Ve){if(Z===null){var Me=(function(ht){var Ce=[];return Object.keys(ht).forEach(function(st){ht[st].forEach(function(Ue){var Ke=null;switch(Ue){case"bold":Ke={family:st,weight:"bold"};break;case"italic":Ke={family:st,style:"italic"};break;case"bolditalic":Ke={family:st,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:st}}Ke!==null&&(Ke.ref={name:st,style:Ue},Ce.push(Ke))})}),Ce})(tt.getFontList());Z=(function(ht){for(var Ce={},st=0;st<ht.length;++st){var Ue=H3(ht[st]),Ke=Ue.family,at=Ue.stretch,St=Ue.style,qt=Ue.weight;Ce[Ke]=Ce[Ke]||{},Ce[Ke][at]=Ce[Ke][at]||{},Ce[Ke][at][St]=Ce[Ke][at][St]||{},Ce[Ke][at][St][qt]=Ue}return Ce})(Me.concat(Ve))}return Z})(this.pdf,this.fontFaces),Qe=ye.map(function(tt){return{family:tt,stretch:"normal",weight:xe,style:We}}),ct=(function(tt,Ve,Me){for(var ht=(Me=Me||{}).defaultFontFamily||"times",Ce=Object.assign({},Nze,Me.genericFontFamilies||{}),st=null,Ue=null,Ke=0;Ke<Ve.length;++Ke)if(Ce[(st=H3(Ve[Ke])).family]&&(st.family=Ce[st.family]),tt.hasOwnProperty(st.family)){Ue=tt[st.family];break}if(!(Ue=Ue||tt[ht]))throw new Error("Could not find a font-family for the rule '"+WG(st)+"' and default family '"+ht+"'.");if(Ue=(function(at,St){if(St[at])return St[at];var qt=S8[at],Ut=qt<=S8.normal?-1:1,Qt=qG(St,ghe,qt,Ut);if(!Qt)throw new Error("Could not find a matching font-stretch value for "+at);return Qt})(st.stretch,Ue),Ue=(function(at,St){if(St[at])return St[at];for(var qt=phe[at],Ut=0;Ut<qt.length;++Ut)if(St[qt[Ut]])return St[qt[Ut]];throw new Error("Could not find a matching font-style for "+at)})(st.style,Ue),!(Ue=(function(at,St){if(St[at])return St[at];if(at===400&&St[500])return St[500];if(at===500&&St[400])return St[400];var qt=jze[at],Ut=qG(St,xhe,qt,at<400?-1:1);if(!Ut)throw new Error("Could not find a matching font-weight for value "+at);return Ut})(st.weight,Ue)))throw new Error("Failed to resolve a font for the rule '"+WG(st)+"'.");return Ue})(qe,Qe);this.pdf.setFont(ct.ref.name,ct.ref.style)}else{var Ye="";(xe==="bold"||parseInt(xe,10)>=700||We==="bold")&&(Ye="bold"),We==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var me="",Se={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_e=0;_e<ye.length;_e++){if(this.pdf.internal.getFont(ye[_e],Ye,{noFallback:!0,disableWarning:!0})!==void 0){me=ye[_e];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(ye[_e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)me=ye[_e],Ye="bold";else if(this.pdf.internal.getFont(ye[_e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){me=ye[_e],Ye="normal";break}}if(me===""){for(var Je=0;Je<ye.length;Je++)if(Se[ye[Je]]){me=Se[ye[Je]];break}}me=me===""?"Times":me,this.pdf.setFont(me,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,X){if(isNaN(L)||isNaN(X))throw Qs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(L,X));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(L,X)},f.prototype.closePath=function(){var L=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&zs(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){L=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,X){if(isNaN(L)||isNaN(X))throw Qs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(L,X));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,X,K,Q){if(isNaN(K)||isNaN(Q)||isNaN(L)||isNaN(X))throw Qs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(K,Q)),ce=this.ctx.transform.applyToPoint(new o(L,X));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},f.prototype.bezierCurveTo=function(L,X,K,Q,oe,ce){if(isNaN(oe)||isNaN(ce)||isNaN(L)||isNaN(X)||isNaN(K)||isNaN(Q))throw Qs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(oe,ce)),ne=this.ctx.transform.applyToPoint(new o(L,X)),ue=this.ctx.transform.applyToPoint(new o(K,Q));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:ue.x,y2:ue.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(L,X,K,Q,oe,ce){if(isNaN(L)||isNaN(X)||isNaN(K)||isNaN(Q)||isNaN(oe))throw Qs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(L,X));L=de.x,X=de.y;var ne=this.ctx.transform.applyToPoint(new o(0,K)),ue=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ne.x-ue.x,2)+Math.pow(ne.y-ue.y,2))}Math.abs(oe-Q)>=2*Math.PI&&(Q=0,oe=2*Math.PI),this.path.push({type:"arc",x:L,y:X,radius:K,startAngle:Q,endAngle:oe,counterclockwise:ce})},f.prototype.arcTo=function(L,X,K,Q,oe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,X,K,Q){if(isNaN(L)||isNaN(X)||isNaN(K)||isNaN(Q))throw Qs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,X),this.lineTo(L+K,X),this.lineTo(L+K,X+Q),this.lineTo(L,X+Q),this.lineTo(L,X),this.lineTo(L+K,X),this.lineTo(L,X)},f.prototype.fillRect=function(L,X,K,Q){if(isNaN(L)||isNaN(X)||isNaN(K)||isNaN(Q))throw Qs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,X,K,Q),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},f.prototype.strokeRect=function(L,X,K,Q){if(isNaN(L)||isNaN(X)||isNaN(K)||isNaN(Q))throw Qs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(L,X,K,Q),this.stroke())},f.prototype.clearRect=function(L,X,K,Q){if(isNaN(L)||isNaN(X)||isNaN(K)||isNaN(Q))throw Qs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,X,K,Q))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(X),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(L){var X,K,Q,oe;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))X=0,K=0,Q=0,oe=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ce!==null)X=parseInt(ce[1]),K=parseInt(ce[2]),Q=parseInt(ce[3]),oe=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)X=parseInt(ce[1]),K=parseInt(ce[2]),Q=parseInt(ce[3]),oe=parseFloat(ce[4]);else{if(oe=1,typeof L=="string"&&L.charAt(0)!=="#"){var de=new lhe(L);L=de.ok?de.toHex():"#000000"}L.length===4?(X=L.substring(1,2),X+=X,K=L.substring(2,3),K+=K,Q=L.substring(3,4),Q+=Q):(X=L.substring(1,3),K=L.substring(3,5),Q=L.substring(5,7)),X=parseInt(X,16),K=parseInt(K,16),Q=parseInt(Q,16)}}return{r:X,g:K,b:Q,a:oe,style:L}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,X,K,Q){if(isNaN(X)||isNaN(K)||typeof L!="string")throw Qs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!h.call(this)){var oe=J(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;E.call(this,{text:L,x:X,y:K,scale:ce,angle:oe,align:this.textAlign,maxWidth:Q})}},f.prototype.strokeText=function(L,X,K,Q){if(isNaN(X)||isNaN(K)||typeof L!="string")throw Qs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){Q=isNaN(Q)?void 0:Q;var oe=J(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;E.call(this,{text:L,x:X,y:K,scale:ce,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:Q})}},f.prototype.measureText=function(L){if(typeof L!="string")throw Qs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,K=this.pdf.internal.scaleFactor,Q=X.internal.getFontSize(),oe=X.getStringUnitWidth(L)*Q/X.internal.scaleFactor;return new function(ce){var de=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:oe*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(L,X){if(isNaN(L)||isNaN(X))throw Qs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(L,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(L){if(isNaN(L))throw Qs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.translate=function(L,X){if(isNaN(L)||isNaN(X))throw Qs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,L,X);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(L,X,K,Q,oe,ce){if(isNaN(L)||isNaN(X)||isNaN(K)||isNaN(Q)||isNaN(oe)||isNaN(ce))throw Qs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(L,X,K,Q,oe,ce);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(L,X,K,Q,oe,ce){L=isNaN(L)?1:L,X=isNaN(X)?0:X,K=isNaN(K)?0:K,Q=isNaN(Q)?1:Q,oe=isNaN(oe)?0:oe,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(L,X,K,Q,oe,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,X,K,Q,oe,ce,de,ne,ue){var se=this.pdf.getImageProperties(L),Z=1,Oe=1,re=1,le=1;Q!==void 0&&ne!==void 0&&(re=ne/Q,le=ue/oe,Z=se.width/Q*ne/Q,Oe=se.height/oe*ue/oe),ce===void 0&&(ce=X,de=K,X=0,K=0),Q!==void 0&&ne===void 0&&(ne=Q,ue=oe),Q===void 0&&ne===void 0&&(ne=se.width,ue=se.height);for(var We,xe=this.ctx.transform.decompose(),Le=J(xe.rotate.shx),ke=new c,fe=(ke=(ke=(ke=ke.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale)).applyToRectangle(new l(ce-X*re,de-K*le,Q*Z,oe*Oe)),ye=v.call(this,fe),qe=[],Qe=0;Qe<ye.length;Qe+=1)qe.indexOf(ye[Qe])===-1&&qe.push(ye[Qe]);if(w(qe),this.autoPaging)for(var ct=qe[0],Ye=qe[qe.length-1],me=ct;me<Ye+1;me++){this.pdf.setPage(me);var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=me===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=me===1?0:Je+(me-2)*tt;if(this.ctx.clip_path.length!==0){var Me=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(We,this.posX+this.margin[3],-Ve+_e+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Me}var ht=JSON.parse(JSON.stringify(fe));ht=_([ht],this.posX+this.margin[3],-Ve+_e+this.ctx.prevPageLastElemOffset)[0];var Ce=(me>ct||me<Ye)&&g.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,tt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,Le),Ce&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,Le)};var v=function(L,X,K){var Q=[];X=X||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Q.push(Math.floor((L.y+oe)/K)+1);break;case"arc":Q.push(Math.floor((L.y+oe-L.radius)/K)+1),Q.push(Math.floor((L.y+oe+L.radius)/K)+1);break;case"qct":var ce=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Q.push(Math.floor((ce.y+oe)/K)+1),Q.push(Math.floor((ce.y+ce.h+oe)/K)+1);break;case"bct":var de=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Q.push(Math.floor((de.y+oe)/K)+1),Q.push(Math.floor((de.y+de.h+oe)/K)+1);break;case"rect":Q.push(Math.floor((L.y+oe)/K)+1),Q.push(Math.floor((L.y+L.h+oe)/K)+1)}for(var ne=0;ne<Q.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ne];)b.call(this);return Q},b=function(){var L=this.fillStyle,X=this.strokeStyle,K=this.font,Q=this.lineCap,oe=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=X,this.font=K,this.lineCap=Q,this.lineWidth=oe,this.lineJoin=ce},_=function(L,X,K){for(var Q=0;Q<L.length;Q++)switch(L[Q].type){case"bct":L[Q].x2+=X,L[Q].y2+=K;case"qct":L[Q].x1+=X,L[Q].y1+=K;default:L[Q].x+=X,L[Q].y+=K}return L},w=function(L){return L.sort(function(X,K){return X-K})},N=function(L,X){for(var K,Q,oe=this.fillStyle,ce=this.strokeStyle,de=this.lineCap,ne=this.lineWidth,ue=Math.abs(ne*this.ctx.transform.scaleX),se=this.lineJoin,Z=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),re=[],le=0;le<Oe.length;le++)if(Oe[le].x!==void 0)for(var We=v.call(this,Oe[le]),xe=0;xe<We.length;xe+=1)re.indexOf(We[xe])===-1&&re.push(We[xe]);for(var Le=0;Le<re.length;Le++)for(;this.pdf.internal.getNumberOfPages()<re[Le];)b.call(this);if(w(re),this.autoPaging)for(var ke=re[0],fe=re[re.length-1],ye=ke;ye<fe+1;ye++){this.pdf.setPage(ye),this.fillStyle=oe,this.strokeStyle=ce,this.lineCap=de,this.lineWidth=ue,this.lineJoin=se;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=ye===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],me=ye===1?0:ct+(ye-2)*Ye;if(this.ctx.clip_path.length!==0){var Se=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(K,this.posX+this.margin[3],-me+Qe+this.ctx.prevPageLastElemOffset),S.call(this,L,!0),this.path=Se}if(Q=JSON.parse(JSON.stringify(Z)),this.path=_(Q,this.posX+this.margin[3],-me+Qe+this.ctx.prevPageLastElemOffset),X===!1||ye===0){var _e=(ye>ke||ye<fe)&&g.call(this);_e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Ye,null).clip().discardPath()),S.call(this,L,X),_e&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=ue,S.call(this,L,X),this.lineWidth=ne;this.path=Z},S=function(L,X){if((L!=="stroke"||X||!x.call(this))&&(L==="stroke"||X||!h.call(this))){for(var K,Q,oe=[],ce=this.path,de=0;de<ce.length;de++){var ne=ce[de];switch(ne.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ne,deltas:[],abs:[]});break;case"lt":var ue=oe.length;if(ce[de-1]&&!isNaN(ce[de-1].x)&&(K=[ne.x-ce[de-1].x,ne.y-ce[de-1].y],ue>0)){for(;ue>=0;ue--)if(oe[ue-1].close!==!0&&oe[ue-1].begin!==!0){oe[ue-1].deltas.push(K),oe[ue-1].abs.push(ne);break}}break;case"bct":K=[ne.x1-ce[de-1].x,ne.y1-ce[de-1].y,ne.x2-ce[de-1].x,ne.y2-ce[de-1].y,ne.x-ce[de-1].x,ne.y-ce[de-1].y],oe[oe.length-1].deltas.push(K);break;case"qct":var se=ce[de-1].x+2/3*(ne.x1-ce[de-1].x),Z=ce[de-1].y+2/3*(ne.y1-ce[de-1].y),Oe=ne.x+2/3*(ne.x1-ne.x),re=ne.y+2/3*(ne.y1-ne.y),le=ne.x,We=ne.y;K=[se-ce[de-1].x,Z-ce[de-1].y,Oe-ce[de-1].x,re-ce[de-1].y,le-ce[de-1].x,We-ce[de-1].y],oe[oe.length-1].deltas.push(K);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ne)}}Q=X?null:L==="stroke"?"stroke":"fill";for(var xe=!1,Le=0;Le<oe.length;Le++)if(oe[Le].arc)for(var ke=oe[Le].abs,fe=0;fe<ke.length;fe++){var ye=ke[fe];ye.type==="arc"?R.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,X,!xe):I.call(this,ye.x,ye.y),xe=!0}else if(oe[Le].close===!0)this.pdf.internal.out("h"),xe=!1;else if(oe[Le].begin!==!0){var qe=oe[Le].start.x,Qe=oe[Le].start.y;M.call(this,oe[Le].deltas,qe,Qe),xe=!0}Q&&O.call(this,Q),X&&D.call(this)}},C=function(L){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-K;case"top":return L+X-K;case"hanging":return L+X-2*K;case"middle":return L+X/2-K;default:return L}},A=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(X,K){this.colorStops.push([X,K])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(L,X,K,Q,oe,ce,de,ne,ue){for(var se=W.call(this,K,Q,oe,ce),Z=0;Z<se.length;Z++){var Oe=se[Z];Z===0&&(ue?P.call(this,Oe.x1+L,Oe.y1+X):I.call(this,Oe.x1+L,Oe.y1+X)),U.call(this,L,X,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}ne?D.call(this):O.call(this,de)},O=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(L,X){this.pdf.internal.out(r(L)+" "+n(X)+" m")},E=function(L){var X;switch(L.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var K=this.pdf.getTextDimensions(L.text),Q=C.call(this,L.y),oe=A.call(this,Q)-K.h,ce=this.ctx.transform.applyToPoint(new o(L.x,Q)),de=this.ctx.transform.decompose(),ne=new c;ne=(ne=(ne=ne.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var ue,se,Z,Oe=this.ctx.transform.applyToRectangle(new l(L.x,Q,K.w,K.h)),re=ne.applyToRectangle(new l(L.x,oe,K.w,K.h)),le=v.call(this,re),We=[],xe=0;xe<le.length;xe+=1)We.indexOf(le[xe])===-1&&We.push(le[xe]);if(w(We),this.autoPaging)for(var Le=We[0],ke=We[We.length-1],fe=Le;fe<ke+1;fe++){this.pdf.setPage(fe);var ye=fe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[2],ct=Qe-this.margin[0],Ye=this.pdf.internal.pageSize.width-this.margin[1],me=Ye-this.margin[3],Se=fe===1?0:qe+(fe-2)*ct;if(this.ctx.clip_path.length!==0){var _e=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ue,this.posX+this.margin[3],-1*Se+ye),S.call(this,"fill",!0),this.path=_e}var Je=_([JSON.parse(JSON.stringify(re))],this.posX+this.margin[3],-Se+ye+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*L.scale),Z=this.lineWidth,this.lineWidth=Z*L.scale);var tt=this.autoPaging!=="text";if(tt||Je.y+Je.h<=Qe){if(tt||Je.y>=ye&&Je.x<=Ye){var Ve=tt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ye-Je.x)[0],Me=_([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Se+ye+this.ctx.prevPageLastElemOffset)[0],ht=tt&&(fe>Le||fe<ke)&&g.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,ct,null).clip().discardPath()),this.pdf.text(Ve,Me.x,Me.y,{angle:L.angle,align:X,renderingMode:L.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else Je.y<Qe&&(this.ctx.prevPageLastElemOffset+=Qe-Je.y);L.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=Z)}else L.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*L.scale),Z=this.lineWidth,this.lineWidth=Z*L.scale),this.pdf.text(L.text,ce.x+this.posX,ce.y+this.posY,{angle:L.angle,align:X,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=Z)},I=function(L,X,K,Q){K=K||0,Q=Q||0,this.pdf.internal.out(r(L+K)+" "+n(X+Q)+" l")},M=function(L,X,K){return this.pdf.lines(L,X,K,null,null)},U=function(L,X,K,Q,oe,ce,de,ne){this.pdf.internal.out([e(a(K+L)),e(i(Q+X)),e(a(oe+L)),e(i(ce+X)),e(a(de+L)),e(i(ne+X)),"c"].join(" "))},W=function(L,X,K,Q){for(var oe=2*Math.PI,ce=Math.PI/2;X>K;)X-=oe;var de=Math.abs(K-X);de<oe&&Q&&(de=oe-de);for(var ne=[],ue=Q?-1:1,se=X;de>1e-5;){var Z=se+ue*Math.min(de,ce);ne.push(Y.call(this,L,se,Z)),de-=Math.abs(Z-se),se=Z}return ne},Y=function(L,X,K){var Q=(K-X)/2,oe=L*Math.cos(Q),ce=L*Math.sin(Q),de=oe,ne=-ce,ue=de*de+ne*ne,se=ue+de*oe+ne*ce,Z=4/3*(Math.sqrt(2*ue*se)-se)/(de*ce-ne*oe),Oe=de-Z*ne,re=ne+Z*de,le=Oe,We=-re,xe=Q+X,Le=Math.cos(xe),ke=Math.sin(xe);return{x1:L*Math.cos(X),y1:L*Math.sin(X),x2:Oe*Le-re*ke,y2:Oe*ke+re*Le,x3:le*Le-We*ke,y3:le*ke+We*Le,x4:L*Math.cos(K),y4:L*Math.sin(K)}},J=function(L){return 180*L/Math.PI},z=function(L,X,K,Q,oe,ce){var de=L+.5*(K-L),ne=X+.5*(Q-X),ue=oe+.5*(K-oe),se=ce+.5*(Q-ce),Z=Math.min(L,oe,de,ue),Oe=Math.max(L,oe,de,ue),re=Math.min(X,ce,ne,se),le=Math.max(X,ce,ne,se);return new l(Z,re,Oe-Z,le-re)},q=function(L,X,K,Q,oe,ce,de,ne){var ue,se,Z,Oe,re,le,We,xe,Le,ke,fe,ye,qe,Qe,ct=K-L,Ye=Q-X,me=oe-K,Se=ce-Q,_e=de-oe,Je=ne-ce;for(se=0;se<41;se++)Le=(We=(Z=L+(ue=se/40)*ct)+ue*((re=K+ue*me)-Z))+ue*(re+ue*(oe+ue*_e-re)-We),ke=(xe=(Oe=X+ue*Ye)+ue*((le=Q+ue*Se)-Oe))+ue*(le+ue*(ce+ue*Je-le)-xe),se==0?(fe=Le,ye=ke,qe=Le,Qe=ke):(fe=Math.min(fe,Le),ye=Math.min(ye,ke),qe=Math.max(qe,Le),Qe=Math.max(Qe,ke));return new l(Math.round(fe),Math.round(ye),Math.round(qe-fe),Math.round(Qe-ye))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,X,K=(L=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:X}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Hr.API),(function(t){var e=function(o){var l,c,u,d,f,m,h,x,g,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(v=f%85))/85)-(g=f%85))/85)-(x=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,x+33,g+33,v+33)):c.push(122);return(function(b,_){for(var w=_;w>0;w--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,m=String,h="length",x=255,g="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(_,w){for(var N=w;N>0;N--)_.pop()})(u,l[h]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=v8(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(Hr.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(x){var g=x.length,v=[],b=String.fromCharCode;for(m=0;m<g;m+=1)v.push(b(255&x.charCodeAt(m)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(Hr.API),(function(t){function e(){return(xn.html2canvas?Promise.resolve(xn.html2canvas):Oh(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(xn.DOMPurify?Promise.resolve(xn.DOMPurify):Oh(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=zs(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var x=d[h],g=x.src.find(function(v){return v.format==="truetype"});g&&u.addFont(g.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Hr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Hr.getPageSize=function(l,c,u){if(zs(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var x,g=0,v=0;if(h.hasOwnProperty(m))g=h[m][1]/f,v=h[m][0]/f;else try{g=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>g&&(x=v,v=g,g=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(x=v,v=g,g=x)}return{width:v,height:g,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(H3):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(Hr.API),Hr.API.addJS=function(t){return YG=t,this.internal.events.subscribe("postPutResources",function(){t5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),GG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+YG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t5!==void 0&&GG!==void 0&&this.internal.out("/Names <</JavaScript "+t5+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Hr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,g={width:0,height:0,numcomponents:1},v=4;v<x;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){m=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),g={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:m,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return g})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(Hr.API),Hr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=cze(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(R){for(var O=R.width,D=R.height,P=R.data,E=R.palette,I=R.depth,M=!1,U=[],W=[],Y=void 0,J=!1,z=0,q=0;q<E.length;q++){var V=ZH(E[q],4),L=V[0],X=V[1],K=V[2],Q=V[3];U.push(L,X,K),Q!=null&&(Q===0?(z++,W.length<1&&W.push(q)):Q<255&&(J=!0))}if(J||z>1){M=!0,W=void 0;var oe=O*D;Y=new Uint8Array(oe);for(var ce=new DataView(P.buffer),de=0;de<oe;de++){var ne=Y3(ce,de,I),ue=ZH(E[ne],4)[3];Y[de]=ue}}else z===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:P,alphaBytes:Y,needSMask:M,palette:U,mask:W}})(i):c===2||c===4?(function(R){for(var O=R.data,D=R.width,P=R.height,E=R.channels,I=R.depth,M=E===2?"DeviceGray":"DeviceRGB",U=E-1,W=D*P,Y=U,J=W*Y,z=1*W,q=Math.ceil(J*I/8),V=Math.ceil(z*I/8),L=new Uint8Array(q),X=new Uint8Array(V),K=new DataView(O.buffer),Q=new DataView(L.buffer),oe=new DataView(X.buffer),ce=!1,de=0;de<W;de++){for(var ne=de*E,ue=0;ue<Y;ue++)nY(Q,Y3(K,ne+ue,I),de*Y+ue,I);var se=Y3(K,ne+Y,I);se<(1<<I)-1&&(ce=!0),nY(oe,se,1*de,I)}return{colorSpace:M,colorsPerPixel:U,sMaskBitsPerComponent:ce?I:void 0,colorBytes:L,alphaBytes:X,needSMask:ce}})(i):(function(R){var O=R.data,D=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(P){for(var E=P.length,I=new Uint8Array(2*E),M=new DataView(I.buffer,I.byteOffset,I.byteLength),U=0;U<E;U++)M.setUint16(2*U,P[U],!1);return I})(O):O,needSMask:!1}})(i);var f,m,h,x=a,g=x.colorSpace,v=x.colorsPerPixel,b=x.sMaskBitsPerComponent,_=x.colorBytes,w=x.alphaBytes,N=x.needSMask,S=x.palette,C=x.mask,A=null;return n!==Hr.API.image_compression.NONE&&typeof v8=="function"?(A=(function(R){var O;switch(R){case Hr.API.image_compression.FAST:O=11;break;case Hr.API.image_compression.MEDIUM:O=13;break;case Hr.API.image_compression.SLOW:O=14;break;default:O=12}return O})(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(A," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),t=ZG(_,Math.ceil(o*v*d/8),v,d,n),N&&(h=ZG(w,Math.ceil(o*b/8),1,b,n))):(f=void 0,m=void 0,t=_,N&&(h=w)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:m,transparency:C,palette:S,sMask:h,predictor:A,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:g}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new Pze(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new K3(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A})(Hr.API),pf.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pf.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Qs.log("bit decode error:"+r)}},pf.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},pf.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},pf.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},pf.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},pf.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},pf.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},pf.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},pf.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new pf(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new K3(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(Hr.API),aY.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new aY(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new K3(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(Hr.API),Hr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],m=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=m,o[c++]=h}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Hr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},i1=Hr.API,r5=i1.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,h=t.length,x=0,g=l[0]||c,v=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=f&&zs(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,v.push((l[n]||g)/c+m)),x=n;return v},KG=i1.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return i1.processArabic&&(t=i1.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:r5.apply(this,arguments).reduce(function(i,o){return i+o},0)},XG=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},JG=function(t,e,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],m=r.textIndent||0,h=0,x=0,g=t.split(" "),v=r5.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),_=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?_=_.concat(N.map(function(S,C){return(C&&S.length?`
`:"")+S})):_.push(N[0])}),g=_,c=KG.apply(this,[b,r])}for(i=0,o=g.length;i<o;i++){var w=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),w=1),m+h+(x=(a=r5.apply(this,[n,r])).reduce(function(N,S){return N+S},0))>e||w){if(x>e){for(l=XG.apply(this,[n,a,e-(m+h),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);x=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(N,S){return N+S},0)}else d=[n];f.push(d),m=x+c,h=v}else d.push(n),m+=h+x,h=v}return u=c?function(N,S){return(S?b:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(u)},i1.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(JG.apply(this,[n[l],o,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var h,x,g,v,b=["{"];for(var _ in m){if(h=m[_],isNaN(parseInt(_,10))?x="'"+_+"'":(_=parseInt(_,10),x=(x=o(_).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof h=="number")h<0?(g=o(h).slice(3),v="-"):(g=o(h).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(zs(h)!=="object")throw new Error("Don't know what to do with value type "+zs(h)+".");g=l(h)}b.push(x+g)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,x,g,v,b={},_=1,w=b,N=[],S="",C="",A=m.length-1,R=1;R<A;R+=1)(v=m[R])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(N.push([w,g]),w={},g=void 0):v=="}"?((x=N.pop())[0][x[1]]=w,g=void 0,w=x[0]):v=="-"?_=-1:g===void 0?n.hasOwnProperty(v)?(S+=n[v],g=parseInt(S,16)*_,_=1,S=""):S+=v:n.hasOwnProperty(v)?(C+=n[v],w[g]=parseInt(C,16)*_,_=1,g=void 0,C=""):C+=v;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var h=m.font,x=f.Unicode[h.postScriptName];x&&(h.metadata.Unicode={},h.metadata.Unicode.widths=x.widths,h.metadata.Unicode.kerning=x.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])})(Hr.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Y5(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(Hr),Hr.API.addSvgAsImage=function(t,e,r,n,a,i,o,l){if(isNaN(e)||isNaN(r))throw Qs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Qs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(xn.canvg?Promise.resolve(xn.canvg):Oh(()=>import("./index.es-Cqr8ACbl.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,o,l)})},Hr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Hr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(x,g){var v,b=!1;for(v=0;v<x.length;v+=1)x[v]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(zs(t)==="object"){for(a in t)if(i=t[a],m(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Hr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=i.length;f<m;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(i).sort(function(h,x){return h-x})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",x=0;x<m.length;x++)h+=String.fromCharCode(m[x]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+y1(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+y1(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+y1(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var x=u();d({data:m,addLength1:!0,objectId:x}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+y1(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+y1(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},m=f.pdfEscape,h=f.activeFontKey,x=f.fonts,g=h,v="",b=0,_="",w=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(_=l,g=h,Array.isArray(l)&&(_=l[0]),b=0;b<_.length;b+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),o||_[b].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?v+=_[b]:v+="";var N="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?N=m(v,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(N=r(v,x[g])),f.isHex=!0,{text:N,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(Hr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Hr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,w=0;this.__bidiEngine__={};var N=function(P){var E=P.charCodeAt(),I=E>>8,M=g[I];return M!==void 0?f[256*M+(255&E)]:I===252||I===253?"AL":b.test(I)?"L":I===8?"R":"N"},S=function(P){for(var E,I=0;I<P.length;I++){if((E=N(P.charAt(I)))==="L")return!1;if(E==="R")return!0}return!1},C=function(P,E,I,M){var U,W,Y,J,z=E[M];switch(z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(z="AN");break;case"AL":_=!0,z="R";break;case"WS":case"BN":z="N";break;case"CS":M<1||M+1>=E.length||(U=I[M-1])!=="EN"&&U!=="AN"||(W=E[M+1])!=="EN"&&W!=="AN"?z="N":_&&(W="AN"),z=W===U?W:"N";break;case"ES":z=(U=M>0?I[M-1]:"B")==="EN"&&M+1<E.length&&E[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&I[M-1]==="EN"){z="EN";break}if(_){z="N";break}for(Y=M+1,J=E.length;Y<J&&E[Y]==="ET";)Y++;z=Y<J&&E[Y]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(J=E.length,Y=M+1;Y<J&&E[Y]==="NSM";)Y++;if(Y<J){var q=P[M],V=q>=1425&&q<=2303||q===64286;if(U=E[Y],V&&(U==="R"||U==="AL")){z="R";break}}}z=M<1||(U=E[M-1])==="B"?"N":I[M-1];break;case"B":_=!1,a=!0,z=w;break;case"S":i=!0,z="N"}return z},A=function(P,E,I){var M=P.split("");return I&&R(M,I,{hiLevel:w}),M.reverse(),E&&E.reverse(),M.join("")},R=function(P,E,I){var M,U,W,Y,J,z=-1,q=P.length,V=0,L=[],X=w?h:m,K=[];for(_=!1,a=!1,i=!1,U=0;U<q;U++)K[U]=N(P[U]);for(W=0;W<q;W++){if(J=V,L[W]=C(P,K,L,W),M=240&(V=X[J][x[L[W]]]),V&=15,E[W]=Y=X[V][5],M>0)if(M===16){for(U=z;U<W;U++)E[U]=1;z=-1}else z=-1;if(X[V][6])z===-1&&(z=W);else if(z>-1){for(U=z;U<W;U++)E[U]=Y;z=-1}K[W]==="B"&&(E[W]=0),I.hiLevel|=Y}i&&(function(Q,oe,ce){for(var de=0;de<ce;de++)if(Q[de]==="S"){oe[de]=w;for(var ne=de-1;ne>=0&&Q[ne]==="WS";ne--)oe[ne]=w}})(K,E,q)},O=function(P,E,I,M,U){if(!(U.hiLevel<P)){if(P===1&&w===1&&!a)return E.reverse(),void(I&&I.reverse());for(var W,Y,J,z,q=E.length,V=0;V<q;){if(M[V]>=P){for(J=V+1;J<q&&M[J]>=P;)J++;for(z=V,Y=J-1;z<Y;z++,Y--)W=E[z],E[z]=E[Y],E[Y]=W,I&&(W=I[z],I[z]=I[Y],I[Y]=W);V=J}V++}}},D=function(P,E,I){var M=P.split(""),U={hiLevel:w};return I||(I=[]),R(M,I,U),(function(W,Y,J){if(J.hiLevel!==0&&d)for(var z,q=0;q<W.length;q++)Y[q]===1&&(z=v.indexOf(W[q]))>=0&&(W[q]=v[z+1])})(M,I,U),O(2,M,E,I,U),O(1,M,E,I,U),M.join("")};return this.__bidiEngine__.doBidiReorder=function(P,E,I){if((function(U,W){if(W)for(var Y=0;Y<U.length;Y++)W[Y]=Y;l===void 0&&(l=S(U)),u===void 0&&(u=S(U))})(P,E),o||!c||u)if(o&&c&&l^u)w=l?1:0,P=A(P,E,I);else if(!o&&c&&u)w=l?1:0,P=D(P,E,I),P=A(P,E);else if(!o||l||c||u){if(o&&!c&&l^u)P=A(P,E),l?(w=0,P=D(P,E,I)):(w=1,P=D(P,E,I),P=A(P,E));else if(o&&l&&!c&&u)w=1,P=D(P,E,I),P=A(P,E);else if(!o&&!c&&l^u){var M=d;l?(w=1,P=D(P,E,I),w=0,d=!1,P=D(P,E,I),d=M):(w=0,P=D(P,E,I),P=A(P,E),w=1,d=!1,P=D(P,E,I),d=M,P=A(P,E))}}else w=0,P=D(P,E,I);else w=l?1:0,P=D(P,E,I);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Hr),Hr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new fg(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Wze(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Tze(this.contents),this.head=new Dze(this),this.name=new Lze(this),this.cmap=new yhe(this),this.toUnicode={},this.hhea=new Rze(this),this.maxp=new $ze(this),this.hmtx=new Bze(this),this.post=new Fze(this),this.os2=new Ize(this),this.loca=new Vze(this),this.glyf=new Uze(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Yf,fg=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),Tze=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,m,h,x,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new fg).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,l=null,x=[],r)for(m=r[g],a.writeString(g),a.writeInt(t(m)),a.writeInt(u),a.writeInt(m.length),x=x.concat(m),g==="head"&&(l=u),u+=m.length;u%4;)x.push(0),u++;return a.write(x),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=bhe.call(r);r.length%4;)r.push(0);for(i=new fg(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),Oze={}.hasOwnProperty,Xh=function(t,e){for(var r in e)Oze.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Yf=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Dze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new fg).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),iY=(function(){function t(e,r){var n,a,i,o,l,c,u,d,f,m,h,x,g,v,b,_,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),m=h/2,e.pos+=6,i=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(e.readUInt16());return S})(),e.pos+=2,g=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(e.readUInt16());return S})(),u=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(e.readUInt16());return S})(),d=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(e.readUInt16());return S})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var N,S;for(S=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)S.push(e.readUInt16());return S})(),c=b=0,w=i.length;b<w;c=++b)for(v=i[c],n=_=x=g[c];x<=v?_<=v:_>=v;n=x<=v?++_:--_)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-x)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,a,i,o,l,c,u,d,f,m,h,x,g,v,b,_,w,N,S,C,A,R,O,D,P,E,I,M,U,W,Y,J,z,q,V,L,X,K,Q,oe,ce,de,ne,ue,se,Z;switch(M=new fg,o=Object.keys(e).sort(function(Oe,re){return Oe-re}),r){case"macroman":for(g=0,v=(function(){var Oe=[];for(x=0;x<256;++x)Oe.push(0);return Oe})(),_={0:0},i={},U=0,z=o.length;U<z;U++)_[ne=e[a=o[U]]]==null&&(_[ne]=++g),i[a]={old:e[a],new:_[e[a]]},v[a]=_[e[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(v),{charMap:i,subtable:M.data,maxGlyphID:g+1};case"unicode":for(E=[],f=[],w=0,_={},n={},b=u=null,W=0,q=o.length;W<q;W++)_[S=e[a=o[W]]]==null&&(_[S]=++w),n[a]={old:S,new:_[S]},l=_[S]-a,b!=null&&l===u||(b&&f.push(b),E.push(a),u=l),b=a;for(b&&f.push(b),f.push(65535),E.push(65535),D=2*(O=E.length),R=2*Math.pow(Math.log(O)/Math.LN2,2),m=Math.log(R/2)/Math.LN2,A=2*O-R,c=[],C=[],h=[],x=Y=0,V=E.length;Y<V;x=++Y){if(P=E[x],d=f[x],P===65535){c.push(0),C.push(0);break}if(P-(I=n[P].new)>=32768)for(c.push(0),C.push(2*(h.length+O-x)),a=J=P;P<=d?J<=d:J>=d;a=P<=d?++J:--J)h.push(n[a].new);else c.push(I-P),C.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*O+2*h.length),M.writeUInt16(0),M.writeUInt16(D),M.writeUInt16(R),M.writeUInt16(m),M.writeUInt16(A),ce=0,L=f.length;ce<L;ce++)a=f[ce],M.writeUInt16(a);for(M.writeUInt16(0),de=0,X=E.length;de<X;de++)a=E[de],M.writeUInt16(a);for(ue=0,K=c.length;ue<K;ue++)l=c[ue],M.writeUInt16(l);for(se=0,Q=C.length;se<Q;se++)N=C[se],M.writeUInt16(N);for(Z=0,oe=h.length;Z<oe;Z++)g=h[Z],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:w+1}}},t})(),yhe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new iY(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=iY.encode(e,r),(a=new fg).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),Rze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Ize=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Fze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),Mze=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Lze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,o,l,c,u,d,f,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)a=n[i],e.pos=a.offset,u=e.readString(a.length),o=new Mze(u,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),$ze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Bze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),bhe=[].slice,Uze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,o,l,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new fg(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new qze(l,u,f,c,d):new zze(l,o,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},t})(),zze=(function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),qze=(function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new fg(bhe.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Vze=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xh(t,Yf),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t})(),Wze=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,c,u,d,f,m,h,x,g,v,b;for(a in n=yhe.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},b=n.charMap)h[(c=b[a]).old]=c.new;for(x in m=n.maxGlyphID,o)x in h||(h[x]=m++);return d=(function(_){var w,N;for(w in N={},_)N[_[w]]=w;return N})(h),f=Object.keys(d).sort(function(_,w){return _-w}),g=(function(){var _,w,N;for(N=[],_=0,w=f.length;_<w;_++)l=f[_],N.push(d[l]);return N})(),i=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();Hr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();function whe(t,e,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,f="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof t=="string"?t.split(d):t,m=f.length||1),r+=l*(2-i),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),f&&m>=1){for(var x=0;x<f.length;x++)a.text(f[x],e-a.getStringUnitWidth(f[x])*h,r),r+=u;return a}e-=a.getStringUnitWidth(t)*h}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var oY={},ob=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:oY=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=t.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return oY||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),k8=function(t,e){return k8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},k8(t,e)};function _he(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k8(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jhe=(function(t){_he(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function Hze(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Gze(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function cC(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function Nhe(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var o=She(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function She(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function AE(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function khe(t,e){var r=AE(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Yze(t,e,r,n,a){var i={},o=1.3333333333333333,l=X3(e,function(w){return a.getComputedStyle(w).backgroundColor});l!=null&&(i.fillColor=l);var c=X3(e,function(w){return a.getComputedStyle(w).color});c!=null&&(i.textColor=c);var u=Xze(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var h=(parseFloat(m)||0)/f;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var x=X3(e,function(w){return a.getComputedStyle(w)[d]});x!=null&&(i.lineColor=x);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/o);var b=Kze(n);b&&(i.fontStyle=b);var _=(n.fontFamily||"").toLowerCase();return t.indexOf(_)!==-1&&(i.font=_),i}function Kze(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function X3(t,e){var r=Che(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Che(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Che(t.parentElement,e):r}function Xze(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=AE(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function Ahe(t,e,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],f=[],m=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:f,foot:m};for(var h=0;h<l.rows.length;h++){var x=l.rows[h],g=(o=(i=x?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=Jze(c,u,r,x,n,a);v&&(g==="thead"?d.push(v):g==="tfoot"?m.push(v):f.push(v))}return{head:d,body:f,foot:m}}function Jze(t,e,r,n,a,i){for(var o=new jhe(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;i&&(d=Yze(t,c,e,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:Zze(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function Zze(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Qze(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Hm(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function Ehe(t,e){var r=new ob(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();Qze(a,n,e);var i=Hm({},a,n,e),o;typeof window<"u"&&(o=window);var l=eqe(a,n,e),c=tqe(a,n,e),u=rqe(r,i),d=sqe(r,i,o);return{id:e.tableId,content:d,hooks:c,styles:l,settings:u}}function eqe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=t[c],d=e[c],f=r[c];n.columnStyles=Hm({},u,d,f)}else{var m=[t,e,r],h=m.map(function(x){return x[c]||{}});n[c]=Hm({},h[0],h[1],h[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];a(l)}return n}function tqe(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function rqe(t,e){var r,n,a,i,o,l,c,u,d,f,m,h,x=AE(e.margin,40/t.scaleFactor()),g=(r=nqe(t,e.startY))!==null&&r!==void 0?r:x.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var _=(i=e.useCss)!==null&&i!==void 0?i:!1,w=e.theme||(_?"plain":"striped"),N=!!e.horizontalPageBreak,S=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:_,theme:w,startY:g,margin:x,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:v,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:N,horizontalPageBreakRepeat:S,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function nqe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function sqe(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=Ahe(t,e.html,r,o,e.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||aqe(n,a,i);return{columns:c,head:n,body:a,foot:i}}function aqe(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var C8=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),iqe=(function(t){_he(e,t);function e(r,n,a,i,o,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return e})(C8),oqe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new iqe(e,this,n,a,i,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new C8(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new C8(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),Phe=(function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof jhe&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},t})(),The=(function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=AE(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),lqe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function cqe(t,e){uqe(t,e);var r=[],n=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=A8(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=A8(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),fqe(e),hqe(e,t),dqe(e)}function uqe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=khe(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,i,c,null);var f=u.padding("horizontal");u.contentWidth=cC(u.text,u.styles,t)+f;var m=cC(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function A8(t,e,r){for(var n=e,a=t.reduce(function(h,x){return h+x.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/a,c=n*l,u=o.width+c,d=r(o),f=u<d?d:u;e-=f-o.width,o.width=f}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(h){return e<0?h.width>r(h):!0});m.length&&(e=A8(m,e,r))}return e}function dqe(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,m=d.rowSpan>f?f:d.rowSpan;e[c.index]={cell:d,left:m,row:i}}}}}function fqe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function hqe(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=lY(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=lY(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>i.height&&(i.height=m)}}r.count--}}function lY(t,e,r,n,a){return t.map(function(i){return mqe(i,e,r,n,a)})}function mqe(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=cC(t,r,n))return t;for(;e<cC(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function Ohe(t,e){var r=new ob(t),n=pqe(e,r.scaleFactor()),a=new oqe(e,n);return cqe(r,a),r.applyStyles(r.userStyles),a}function pqe(t,e){var r=t.content,n=xqe(r.columns);if(r.head.length===0){var a=cY(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=cY(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,o=t.styles;return{columns:n,head:J3("head",r.head,n,o,i,e),body:J3("body",r.body,n,o,i,e),foot:J3("foot",r.foot,n,o,i,e)}}function J3(t,e,r,n,a,i){var o={},l=e.map(function(c,u){for(var d=0,f={},m=0,h=0,x=0,g=r;x<g.length;x++){var v=g[x];if(o[v.index]==null||o[v.index].left===0)if(h===0){var b=void 0;Array.isArray(c)?b=c[v.index-m-d]:b=c[v.dataKey];var _={};typeof b=="object"&&!Array.isArray(b)&&(_=b?.styles||{});var w=vqe(t,v,u,a,n,i,_),N=new The(b,w,t);f[v.dataKey]=N,f[v.index]=N,h=N.colSpan-1,o[v.index]={left:N.rowSpan-1,times:h}}else h--,m++;else o[v.index].left--,h=o[v.index].times,d++}return new Phe(c,u,t,f)});return l}function cY(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=gqe(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function gqe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function xqe(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new lqe(a,e,r)})}function vqe(t,e,r,n,a,i,o){var l=Gze(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var u=Hm({},l.table,l[t],a.styles,c),d=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},f=t==="body"?d:{},m=t==="body"&&r%2===0?Hm({},l.alternateRow,a.alternateRowStyles):{},h=Hze(i),x=Hm({},h,u,m,f);return Hm(x,o)}function yqe(t,e,r){var n;r===void 0&&(r={});var a=khe(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var h=e.columns.find(function(x){return x.dataKey===m||x.index===m});h&&!i.has(h.index)&&(i.set(h.index,!0),o.push(h.index),l.push(e.columns[h.index]),a-=h.wrappedWidth)});for(var u=!0,d=(n=r?.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(i.has(d)){d++;continue}var f=e.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),l.push(e.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function bqe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=yqe(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Dhe(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(m,h){return m+h.height},0);l+=u}var d=new ob(t);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(Ihe(d),i.y=a.top),e.callWillDrawPageHooks(d,i);var f=Hm({},i);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?wqe(d,e,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(m){return mp(d,e,m,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(m,h){var x=h===e.body.length-1;uC(d,e,m,x,f,i,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(m){return mp(d,e,m,i,e.columns)})),Nhe(d,e,f,i),e.callEndPageHooks(d,i),e.finalY=i.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function wqe(t,e,r,n){var a=bqe(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?I2(t,e,r,n,u.columns,!0):uY(t,e,n,u.columns),_qe(t,e,r,n,u.columns),Z3(t,e,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){t.applyStyles(t.userStyles);var d=l.columns;o>=0?I2(t,e,r,n,d,!0):uY(t,e,n,d),u=dY(t,e,o+1,n,d),Z3(t,e,n,d)}var f=u-o;a.slice(1).forEach(function(m){t.applyStyles(t.userStyles),I2(t,e,r,n,m.columns,!0),dY(t,e,o+1,n,m.columns,f),Z3(t,e,n,m.columns)}),o=u};o<e.body.length-1;)c()}function uY(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return mp(t,e,i,r,n)})}function _qe(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;uC(t,e,i,l,r,n,a)})}function dY(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,u){var d=r+u===e.body.length-1,f=Rhe(t,e,d,n);c.canEntireRowFit(f,a)&&(mp(t,e,c,n,a),l=r+u)}),l}function Z3(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return mp(t,e,i,r,n)})}function jqe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function Nqe(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new The(u.raw,u.styles,u.section);d=Hm(d,u),d.text=[];var f=jqe(u,e,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var m=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,h),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,h),d.contentHeight>i&&(i=d.contentHeight),a[c.index]=d}}var x=new Phe(t.raw,-1,t.section,a,!0);x.height=i;for(var g=0,v=r.columns;g<v.length;g++){var c=v[g],d=x.cells[c.index];d&&(d.height=x.height);var u=t.cells[c.index];u&&(u.height=t.height)}return x}function Sqe(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=a-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(n.columns),f=e.getMaxCellHeight(n.columns)>l;return f?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function uC(t,e,r,n,a,i,o){var l=Rhe(t,e,n,i);if(r.canEntireRowFit(l,o))mp(t,e,r,i,o);else if(Sqe(t,r,l,e)){var c=Nqe(r,l,e,t);mp(t,e,r,i,o),I2(t,e,a,i,o),uC(t,e,c,n,a,i,o)}else I2(t,e,a,i,o),uC(t,e,r,n,a,i,o)}function mp(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}kqe(t,c,n);var d=c.getTextPos();whe(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function kqe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=She(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),Cqe(t,e,r,n.lineWidth))}function Cqe(t,e,r,n){var a,i,o,l;n.top&&(a=r.x,i=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,o,l)),n.bottom&&(a=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,o,l)),n.left&&(a=r.x,i=r.y,o=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,o,l)),n.right&&(a=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,o,l));function c(u,d,f,m,h){t.getDocument().setLineWidth(u),t.getDocument().line(d,f,m,h,"S")}}function Rhe(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function I2(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return mp(t,e,l,n,a)}),e.callEndPageHooks(t,n);var o=e.settings.margin;Nhe(t,e,r,n),Ihe(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return mp(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function Ihe(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Aqe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=Ehe(this,n),i=Ohe(this,a);return Dhe(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){whe(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return ob.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ob.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new ob(this),i=Ahe(a,e,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Q3;function Eqe(t,e){var r=Ehe(t,e),n=Ohe(t,r);Dhe(t,n)}try{if(typeof window<"u"&&window){var fY=window,hY=fY.jsPDF||((Q3=fY.jspdf)===null||Q3===void 0?void 0:Q3.jsPDF);hY&&Aqe(hY)}}catch(t){console.error("Could not apply autoTable plugin",t)}function Pqe({order:t,open:e,onClose:r}){if(!t)return null;const n=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(c),a=c=>new Date(c).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}),i=c=>new Date(c).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),o=()=>{const c=t.payment_method.toLowerCase()==="cod"||t.payment_method.toLowerCase()==="cash on delivery";return{isCOD:c,label:c?"Pending Total:":"Paid Total:",color:c?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}},l=()=>{const c=new Hr;let u=15;const d=c.internal.pageSize.getWidth(),f=15,m=d-2*f,h=S=>`Rs. ${S.toFixed(2)}`,x=S=>S?S.replace(/[^\x00-\x7F]/g,"").replace(/^[\s\/]+/,"").replace(/[\s\/]+$/,"").replace(/\s+/g," ").trim():"";c.setFontSize(16),c.setFont(void 0,"bold"),c.text(`Order Details - ${t.order_number}`,f,u),u+=12,c.setFontSize(11),c.setFont(void 0,"bold"),c.text("CUSTOMER INFORMATION",f,u),u+=7,c.setFont(void 0,"normal"),c.setFontSize(10),c.text(`Name: ${x(t.customer_name)}`,f+5,u),u+=5,c.text(`Phone: ${t.customer_phone}`,f+5,u),u+=5,t.customer_email&&(c.text(`Email: ${t.customer_email}`,f+5,u),u+=5),u+=5,c.setFontSize(11),c.setFont(void 0,"bold"),c.text("DELIVERY INFORMATION",f,u),u+=7,c.setFont(void 0,"normal"),c.setFontSize(10);const g=c.splitTextToSize(`Address: ${x(t.delivery_address)}`,m-10);c.text(g,f+5,u),u+=g.length*5+3,t.delivery_landmark&&(c.text(`Landmark: ${x(t.delivery_landmark)}`,f+5,u),u+=5),t.delivery_pincode&&(c.text(`PIN Code: ${t.delivery_pincode}`,f+5,u),u+=5),t.delivery_time&&(c.text(`Delivery Time: ${x(t.delivery_time)}`,f+5,u),u+=5),u+=5,c.setFontSize(11),c.setFont(void 0,"bold"),c.text("ORDER ITEMS",f,u),u+=7;const v=Array.isArray(t.items)?t.items.map(S=>[x(S.productName),x(S.variant||"N/A"),h(S.price),S.quantity.toString(),h(S.price*S.quantity)]):[];Eqe(c,{head:[["Product Name","Variant","Price","Qty","Total"]],body:v,startY:u,margin:f,columnStyles:{0:{cellWidth:50},1:{cellWidth:30},2:{cellWidth:25,halign:"right"},3:{cellWidth:15,halign:"center"},4:{cellWidth:25,halign:"right"}},headStyles:{fillColor:[66,133,244],textColor:255,fontSize:10},bodyStyles:{textColor:0,fontSize:10},alternateRowStyles:{fillColor:[240,240,240]}}),u=c.lastAutoTable.finalY+10,c.setFontSize(11),c.setFont(void 0,"bold"),c.text("ORDER SUMMARY",f,u),u+=7,c.setFont(void 0,"normal"),c.setFontSize(10);const b=t.payment_method.toLowerCase()==="cod"||t.payment_method.toLowerCase()==="cash on delivery",_=b?"Pending Total:":"Paid Total:",w=[["Subtotal:",h(t.subtotal)],["Delivery Charge:",t.delivery_charge>0?h(t.delivery_charge):"FREE"]];if(t.coupon_code&&w.push(["Coupon Code:",t.coupon_code]),t.discount_amount&&t.discount_amount>0&&w.push(["Discount:",`-${h(t.discount_amount)}`]),w.push([_,h(t.total)]),w.push(["Payment Method:",t.payment_method.toUpperCase()]),w.forEach((S,C)=>{c.setFont(void 0,"normal"),c.setFontSize(10),c.setTextColor(0,0,0),c.text(S[0],f+5,u);const A=S[1].includes("-Rs."),R=S[0].includes("Total:");A?(c.setTextColor(220,38,38),c.setFont(void 0,"bold")):R?(c.setFont(void 0,"bold"),c.setFontSize(11),b?c.setTextColor(220,38,38):c.setTextColor(34,139,34)):c.setTextColor(0,0,0),c.text(S[1],d-f-5,u,{align:"right"}),u+=6}),u+=5,t.notes){c.setFontSize(11),c.setFont(void 0,"bold"),c.setTextColor(0,0,0),c.text("NOTES",f,u),u+=7,c.setFont(void 0,"normal"),c.setFontSize(10);const S=c.splitTextToSize(x(t.notes),m-10);c.text(S,f+5,u),u+=S.length*5+5}c.setFontSize(11),c.setFont(void 0,"bold"),c.setTextColor(0,0,0),c.text("ORDER TIMELINE",f,u),u+=7,c.setFont(void 0,"normal"),c.setFontSize(10),c.text(`Placed on ${a(t.created_at)} at ${i(t.created_at)}`,f+5,u);const N=t.customer_name.replace(/[^a-z0-9]/gi,"_").toLowerCase();c.save(`${N}.pdf`)};return s.jsx(ss,{open:e,onOpenChange:r,children:s.jsxs(ts,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{className:"flex flex-row items-center justify-between",children:[s.jsxs(is,{children:["Order Details - ",t.order_number]}),s.jsxs(we,{onClick:l,size:"sm",variant:"outline",className:"ml-auto",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(lv,{className:"h-4 w-4"}),"Customer Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(lv,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:t.customer_name})]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:t.customer_phone})]}),t.customer_email&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:t.customer_email})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(K0,{className:"h-4 w-4"}),"Delivery Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",t.delivery_address]}),t.delivery_landmark&&s.jsxs("p",{children:[s.jsx("strong",{children:"Landmark:"})," ",t.delivery_landmark]}),t.delivery_pincode&&s.jsxs("p",{children:[s.jsx("strong",{children:"PIN Code:"})," ",t.delivery_pincode]}),t.delivery_time&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Time:"})," ",t.delivery_time]}),t.delivery_latitude&&t.delivery_longitude&&s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",s.jsx("a",{href:`https://www.google.com/maps?q=${t.delivery_latitude},${t.delivery_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View on Map"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(aa,{className:"h-4 w-4"}),"Order Items"]}),s.jsx("div",{className:"space-y-3",children:Array.isArray(t.items)&&t.items.map((c,u)=>s.jsxs("div",{className:"flex gap-3 p-3 bg-muted rounded-lg",children:[c.productImage&&s.jsx("img",{src:c.productImage,alt:c.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:c.productName}),c.variant&&s.jsx("p",{className:"text-sm text-muted-foreground",children:c.variant}),s.jsxs("p",{className:"text-sm",children:[n(c.price),"  ",c.quantity," = ",n(c.price*c.quantity)]})]})]},u))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:n(t.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Charge:"}),s.jsx("span",{children:t.delivery_charge>0?n(t.delivery_charge):"FREE"})]}),(t.coupon_code||t.discount_amount)&&s.jsxs(s.Fragment,{children:[t.coupon_code&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Coupon Code:"}),s.jsx("span",{className:"font-medium text-primary",children:t.coupon_code})]}),t.discount_amount&&t.discount_amount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",n(t.discount_amount)]})]})]}),s.jsx(Ax,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:o().label}),s.jsx("span",{className:`${o().color}`,children:n(t.total)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Payment Method:"}),s.jsx(er,{variant:"outline",children:t.payment_method.toUpperCase()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Status:"}),s.jsx(er,{children:t.status})]})]})]}),t.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"bg-muted p-3 rounded-lg",children:t.notes})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Uu,{className:"h-4 w-4"}),"Order Timeline"]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Placed on ",a(t.created_at)," at ",i(t.created_at)]})]})})]})]})]})})}function Tqe({order:t,open:e,onClose:r,onSave:n}){const[a,i]=j.useState({}),[o,l]=j.useState(!1);if(j.useEffect(()=>{t&&i({customer_name:t.customer_name,customer_phone:t.customer_phone,customer_email:t.customer_email,delivery_address:t.delivery_address,delivery_landmark:t.delivery_landmark,delivery_pincode:t.delivery_pincode,delivery_time:t.delivery_time,status:t.status,payment_method:t.payment_method,notes:t.notes})},[t]),!t)return null;const c=async()=>{l(!0);try{await n(t.id,a),r()}finally{l(!1)}};return s.jsx(ss,{open:e,onOpenChange:r,children:s.jsxs(ts,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(as,{children:s.jsxs(is,{children:["Edit Order - ",t.order_number]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"customer_name",children:"Customer Name"}),s.jsx(lt,{id:"customer_name",value:a.customer_name||"",onChange:u=>i({...a,customer_name:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"customer_phone",children:"Phone"}),s.jsx(lt,{id:"customer_phone",value:a.customer_phone||"",onChange:u=>i({...a,customer_phone:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"customer_email",children:"Email (Optional)"}),s.jsx(lt,{id:"customer_email",type:"email",value:a.customer_email||"",onChange:u=>i({...a,customer_email:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"delivery_address",children:"Delivery Address"}),s.jsx(Ii,{id:"delivery_address",value:a.delivery_address||"",onChange:u=>i({...a,delivery_address:u.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"delivery_landmark",children:"Landmark (Optional)"}),s.jsx(lt,{id:"delivery_landmark",value:a.delivery_landmark||"",onChange:u=>i({...a,delivery_landmark:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"delivery_pincode",children:"PIN Code"}),s.jsx(lt,{id:"delivery_pincode",value:a.delivery_pincode||"",onChange:u=>i({...a,delivery_pincode:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"delivery_time",children:"Delivery Time"}),s.jsx(lt,{id:"delivery_time",value:a.delivery_time||"",onChange:u=>i({...a,delivery_time:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"status",children:"Order Status"}),s.jsxs(zr,{value:a.status,onValueChange:u=>i({...a,status:u}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"new",children:"New"}),s.jsx(ut,{value:"processing",children:"Processing"}),s.jsx(ut,{value:"delivered",children:"Delivered"}),s.jsx(ut,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"payment_method",children:"Payment Method"}),s.jsxs(zr,{value:a.payment_method,onValueChange:u=>i({...a,payment_method:u}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"cod",children:"Cash on Delivery"}),s.jsx(ut,{value:"online",children:"Online Payment"}),s.jsx(ut,{value:"card",children:"Card"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(Ii,{id:"notes",value:a.notes||"",onChange:u=>i({...a,notes:u.target.value}),rows:3,placeholder:"Add any additional notes..."})]})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(we,{onClick:c,disabled:o,children:o?"Saving...":"Save Changes"})]})]})})}const o$=async t=>{const{data:e,error:r}=await ae.functions.invoke("shiprocket",{body:t});if(r)throw new Error(r.message);return e},mY=async(t,e)=>{try{const r=await o$({action:"login",email:t,password:e});return r.token?{success:!0,token:r.token}:{success:!1,error:r.message||"Authentication failed"}}catch(r){return{success:!1,error:r.message||"Network error"}}},Q5=async t=>{try{const e=await o$({action:"get_pickup_locations",token:t});return e.data?.shipping_address?{success:!0,locations:e.data.shipping_address}:{success:!1,error:e.message||"Failed to get pickup locations"}}catch(e){return{success:!1,error:e.message||"Network error"}}},Oqe=async(t,e)=>{try{const r=await o$({action:"create_order",token:t,data:e});return r.order_id?{success:!0,data:r}:{success:!1,error:r.message||"Failed to create order"}}catch(r){return{success:!1,error:r.message||"Network error"}}},Dqe=(t,e,r)=>{const n=(t.customer_name||"Customer").split(" "),a=n[0]||"Customer",i=n.slice(1).join(" ")||"",o=t.delivery_address||"",l=t.delivery_pincode||"";return{order_id:t.order_number||t.id,order_date:new Date(t.created_at).toISOString().split("T")[0],pickup_location:e,billing_customer_name:a,billing_last_name:i,billing_address:o,billing_city:t.delivery_city||"City",billing_pincode:l,billing_state:t.delivery_state||"State",billing_country:"India",billing_email:t.customer_email||"",billing_phone:t.customer_phone||"",shipping_is_billing:!0,order_items:(t.items||[]).map(c=>({name:c.name||c.product_name||"Product",sku:c.sku||c.id||`SKU-${Date.now()}`,units:c.quantity||1,selling_price:c.price||0,discount:0,tax:0})),payment_method:t.payment_method==="cod"?"COD":"Prepaid",sub_total:t.total||t.subtotal||0,length:r.length,breadth:r.breadth,height:r.height,weight:r.weight}},pY=()=>{const t=en(),[e,r]=j.useState([]),[n,a]=j.useState(!0),[i,o]=j.useState(""),[l,c]=j.useState("all"),[u,d]=j.useState("all"),[f,m]=j.useState(new Date),[h,x]=j.useState(null),[g,v]=j.useState(!1),[b,_]=j.useState(!1),[w,N]=j.useState(0),[S,C]=j.useState(null),[A,R]=j.useState(""),[O,D]=j.useState(!1),[P,E]=j.useState(null),[I,M]=j.useState(""),[U,W]=j.useState({length:10,breadth:10,height:10,weight:.5}),[Y,J]=j.useState(null),[z,q]=j.useState(!1),[V,L]=j.useState(null),[X,K]=j.useState(!1),[Q,oe]=j.useState(!1);j.useEffect(()=>{ce()},[]);const ce=async()=>{const{data:{session:Ve}}=await ae.auth.getSession();if(!Ve){t("/admin/login");return}await de()},de=async()=>{try{a(!0);const{data:{user:Ve}}=await ae.auth.getUser();if(!Ve)return;const{data:Me}=await ae.from("stores").select("id, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",Ve.id).single();if(!Me)return;if(K(Me.shipping_popup_enabled||!1),Me.shiprocket_token){D(!0),E(Me.shiprocket_token);const qt=await Q5(Me.shiprocket_token);qt.success&&qt.locations&&qt.locations.length>0&&M(qt.locations[0].pickup_location),Me.package_length&&W(Ut=>({...Ut,length:Me.package_length})),Me.package_breadth&&W(Ut=>({...Ut,breadth:Me.package_breadth})),Me.package_height&&W(Ut=>({...Ut,height:Me.package_height})),Me.package_weight&&W(Ut=>({...Ut,weight:Me.package_weight}))}const{data:ht}=await ae.from("subscriptions").select(`
          subscription_plans (
            name,
            orders_view_limit
          )
        `).eq("user_id",Ve.id).maybeSingle();let Ce=null;if(ht?.subscription_plans?.orders_view_limit){const qt=ht.subscription_plans.orders_view_limit;Ce=qt===999999?null:qt}R(ht?.subscription_plans?.name||""),C(Ce);const{count:st}=await ae.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",Me.id);N(st||0);let Ue=ae.from("orders").select("*").eq("store_id",Me.id).order("created_at",{ascending:!0});Ce!==null&&(Ue=Ue.limit(Ce));const{data:Ke,error:at}=await Ue;if(at)throw at;const St=(Ke||[]).reverse();r(St),m(new Date)}catch(Ve){et({title:"Error",description:Ve.message,variant:"destructive"})}finally{a(!1)}},ne=()=>{let Ve=e;if(i&&(Ve=Ve.filter(Me=>Me.customer_name.toLowerCase().includes(i.toLowerCase())||Me.customer_phone.includes(i)||Me.order_number.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(Ve=Ve.filter(Me=>Me.status===l)),u!=="all"){const Me=new Date,ht=new Date(Me.getFullYear(),Me.getMonth(),Me.getDate());Ve=Ve.filter(Ce=>{const st=new Date(Ce.created_at),Ue=new Date(st.getFullYear(),st.getMonth(),st.getDate());switch(u){case"today":return Ue.getTime()===ht.getTime();case"yesterday":const Ke=new Date(ht);return Ke.setDate(Ke.getDate()-1),Ue.getTime()===Ke.getTime();case"last7days":const at=new Date(ht);return at.setDate(at.getDate()-7),Ue>=at;case"last30days":const St=new Date(ht);return St.setDate(St.getDate()-30),Ue>=St;default:return!0}})}return Ve},ue=Ve=>{const Me={new:{label:"New",variant:"default",icon:Xa},processing:{label:"Processing",variant:"secondary",icon:aa},delivered:{label:"Delivered",variant:"default",icon:rs},cancelled:{label:"Cancelled",variant:"destructive",icon:ma}},ht=Me[Ve]||Me.new,Ce=ht.icon;return s.jsxs(er,{variant:ht.variant,className:"flex items-center gap-1",children:[s.jsx(Ce,{className:"h-3 w-3"}),ht.label]})},se=Ve=>{const Me=Ve.coupon_code&&Ve.coupon_code.trim()!=="",ht=Ve.automatic_discount_id&&Ve.automatic_discount_id.trim()!=="";return!Me&&!ht?null:s.jsxs("div",{className:"flex gap-1 mb-1 -ml-1",children:[Me&&s.jsx(er,{variant:"outline",className:"text-[10px] scale-75 origin-left bg-transparent border-purple-500 text-purple-900 dark:text-purple-300",children:Ve.coupon_code}),ht&&s.jsx(er,{variant:"outline",className:"text-[10px] scale-75 origin-left bg-transparent border-green-500 text-green-700 dark:text-green-400",children:"Discount"})]})},Z=Ve=>new Date(Ve).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),Oe=Ve=>new Date(Ve).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),re=Ve=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(Ve),le=(Ve,Me)=>{const ht=e.filter(Ke=>{const at=new Date(Ke.created_at),St=at.toLocaleDateString("en-US",{month:"long"}),qt=at.getFullYear().toString();return St===Ve&&qt===Me});if(ht.length===0){et({title:"No Orders",description:`No orders found for ${Ve} ${Me}`,variant:"destructive"});return}const Ce=ht.map(Ke=>({"Order Number":Ke.order_number,Date:Z(Ke.created_at),Time:Oe(Ke.created_at),"Customer Name":Ke.customer_name,Phone:Ke.customer_phone,Email:Ke.customer_email||"N/A",Address:Ke.delivery_address,"Items Count":Array.isArray(Ke.items)?Ke.items.length:0,Items:Array.isArray(Ke.items)?Ke.items.map(at=>`${at.name} (${at.quantity}x)`).join(", "):"N/A",Amount:Ke.total,"Payment Method":Ke.payment_method,Status:Ke.status})),st=Qi.json_to_sheet(Ce),Ue=Qi.book_new();Qi.book_append_sheet(Ue,st,`${Ve}_${Me}`),Ev(Ue,`Orders_${Ve}_${Me}.xlsx`),et({title:"Export Successful",description:`Downloaded ${ht.length} orders for ${Ve} ${Me}`})},We=()=>{const Ve=new Date;return{month:Ve.toLocaleDateString("en-US",{month:"long"}),year:Ve.getFullYear().toString()}},xe=()=>{const Ve=new Date;return Ve.setMonth(Ve.getMonth()-1),{month:Ve.toLocaleDateString("en-US",{month:"long"}),year:Ve.getFullYear().toString()}},Le=Ve=>{x(Ve),v(!0)},ke=Ve=>{x(Ve),_(!0)},fe=async(Ve,Me)=>{try{const{error:ht}=await ae.from("orders").update(Me).eq("id",Ve);if(ht)throw ht;et({title:"Success",description:"Order updated successfully"}),de()}catch(ht){et({title:"Error",description:ht.message,variant:"destructive"})}},ye=Ve=>{X?(L(Ve),q(!0)):ct(Ve)},qe=async()=>{if(!(!V||!P)){q(!1),J(V.id);try{const Ve=Dqe(V,I,U),Me=await Oqe(P,Ve);Me.success&&Me.data?(await ae.from("orders").update({shiprocket_order_id:Me.data.order_id?.toString(),shiprocket_shipment_id:Me.data.shipment_id?.toString(),status:"processing"}).eq("id",V.id),et({title:"Order Created in Shiprocket",description:"Opening Shiprocket dashboard..."}),window.open(`https://app.shiprocket.in/seller/orders/details/${Me.data.order_id}`,"_blank"),de()):et({title:"Shiprocket Error",description:Me.error||"Failed to create order in Shiprocket",variant:"destructive"})}catch(Ve){et({title:"Error",description:Ve.message||"Failed to ship order",variant:"destructive"})}finally{J(null),L(null)}}},Qe=async()=>{V&&(q(!1),await ct(V),L(null))},ct=async Ve=>{await fe(Ve.id,{status:"delivered"})},Ye=async Ve=>{await fe(Ve.id,{status:"cancelled"})},me=Ve=>Ve.toLowerCase()==="cod"||Ve.toLowerCase()==="cash on delivery"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400",Se=()=>e.some(Ve=>{const Me=Ve.coupon_code&&Ve.coupon_code.trim()!=="",ht=Ve.automatic_discount_id&&Ve.automatic_discount_id.trim()!=="",Ce=Me&&ht,st=Ve.status!=="cancelled"&&Ve.status!=="delivered";return Ce&&st}),_e=()=>{oe(!0),localStorage.setItem("doubleDiscountWarningDismissed","true")};j.useEffect(()=>{Se()?localStorage.getItem("doubleDiscountWarningDismissed")==="true"&&oe(!0):(oe(!1),localStorage.removeItem("doubleDiscountWarningDismissed"))},[e]);const Je=ne(),tt=e.filter(Ve=>{const Me=new Date;return new Date(Ve.created_at).toDateString()===Me.toDateString()});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Orders Management",S!==null&&w>0&&s.jsxs("span",{className:"text-muted-foreground text-xl ml-2",children:["(Showing ",Math.min(e.length,S)," of ",w,")"]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage customer orders (Auto-cleanup: Orders older than 2 months)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{onClick:()=>{const Ve=xe();le(Ve.month,Ve.year)},variant:"outline",size:"sm",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export Previous Month"]}),s.jsxs(we,{onClick:()=>{const Ve=We();le(Ve.month,Ve.year)},variant:"outline",size:"sm",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export Current Month"]}),s.jsxs(we,{onClick:de,variant:"outline",size:"sm",children:[s.jsx(No,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(He,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(aa,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),s.jsx(He,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Xa,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:tt.length})]})]})}),s.jsx(He,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Sync"}),s.jsx("p",{className:"text-sm font-medium",children:f.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),Se()&&!Q&&s.jsxs(Hn,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-950",children:[s.jsx(hi,{className:"h-4 w-4 text-yellow-600"}),s.jsx(Gn,{className:"ml-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:" Orders with Multiple Discounts Detected"}),s.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mt-1",children:"Some orders have both coupon and automatic discount applied. Please review these orders carefully before processing."})]}),s.jsx(we,{onClick:_e,size:"sm",className:"ml-4 flex-shrink-0",variant:"outline",children:"Mark as Read"})]})})]}),S!==null&&w>S&&s.jsxs(Hn,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[s.jsx(hi,{className:"h-4 w-4 text-amber-600"}),s.jsx(Gn,{className:"ml-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:[A," Plan Limit"]}),s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-1",children:["You can only view ",S," orders. ",w-S," more ",w-S===1?"order is":"orders are"," hidden."]})]}),s.jsxs(we,{onClick:()=>t("/admin/subscription"),size:"sm",className:"ml-4 flex-shrink-0",children:[s.jsx(Kbe,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})]})})]}),s.jsxs(He,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx(lt,{placeholder:"Search by name, phone, or order number...",value:i,onChange:Ve=>o(Ve.target.value),className:"flex-1"}),s.jsxs(zr,{value:u,onValueChange:d,children:[s.jsx(Lr,{className:"w-full md:w-[180px]",children:s.jsx(qr,{placeholder:"Filter by date"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Time"}),s.jsx(ut,{value:"today",children:"Today"}),s.jsx(ut,{value:"yesterday",children:"Yesterday"}),s.jsx(ut,{value:"last7days",children:"Last 7 Days"}),s.jsx(ut,{value:"last30days",children:"Last 30 Days"})]})]}),s.jsxs(zr,{value:l,onValueChange:c,children:[s.jsx(Lr,{className:"w-full md:w-[180px]",children:s.jsx(qr,{placeholder:"Filter by status"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"new",children:"New"}),s.jsx(ut,{value:"processing",children:"Processing"}),s.jsx(ut,{value:"delivered",children:"Delivered"}),s.jsx(ut,{value:"cancelled",children:"Cancelled"})]})]})]}),n?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):Je.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orders found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Order #"}),s.jsx(At,{children:"Date & Time"}),s.jsx(At,{children:"Customer"}),s.jsx(At,{children:"Phone"}),s.jsx(At,{children:"Items"}),s.jsx(At,{children:"Amount"}),s.jsx(At,{children:"Status"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:Je.map(Ve=>{const Me=Ve.coupon_code&&Ve.coupon_code.trim()!=="",ht=Ve.automatic_discount_id&&Ve.automatic_discount_id.trim()!=="",Ce=Me&&ht;return s.jsxs(rn,{className:Ce?"bg-red-100 dark:bg-red-950":"",children:[s.jsx(_t,{className:"font-medium",children:s.jsxs("div",{className:"flex flex-col gap-0.5",children:[se(Ve),s.jsx("span",{children:Ve.order_number})]})}),s.jsx(_t,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:Z(Ve.created_at)}),s.jsx("div",{className:"text-muted-foreground",children:Oe(Ve.created_at)})]})}),s.jsx(_t,{children:Ve.customer_name}),s.jsx(_t,{children:Ve.customer_phone}),s.jsx(_t,{children:s.jsxs("div",{className:"text-sm",children:[Array.isArray(Ve.items)?Ve.items.length:0," item",Array.isArray(Ve.items)&&Ve.items.length!==1?"s":""]})}),s.jsx(_t,{className:`font-medium ${me(Ve.payment_method)}`,children:re(Ve.total)}),s.jsx(_t,{children:ue(Ve.status)}),s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>Le(Ve),title:"View Details",children:s.jsx(ra,{className:"h-4 w-4"})}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>ke(Ve),title:"Edit Order",children:s.jsx(Lf,{className:"h-4 w-4"})}),Ve.status!=="delivered"&&Ve.status!=="cancelled"&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>ye(Ve),title:X?"Ship Order":"Mark as Delivered",className:"text-blue-600 hover:text-blue-700",disabled:Y===Ve.id,children:Y===Ve.id?s.jsx(pr,{className:"h-4 w-4 animate-spin"}):s.jsx(Of,{className:"h-4 w-4"})}),Ve.status!=="cancelled"&&s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>Ye(Ve),title:"Cancel Order",className:"text-destructive hover:text-destructive",children:s.jsx(C5,{className:"h-4 w-4"})})]})})]},Ve.id)})})]})}),Je.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:["Showing ",Je.length," order",Je.length!==1?"s":""]})]}),s.jsx(Pqe,{order:h,open:g,onClose:()=>v(!1)}),s.jsx(Tqe,{order:h,open:b,onClose:()=>_(!1),onSave:fe}),s.jsx(ss,{open:z,onOpenChange:q,children:s.jsxs(ts,{className:"sm:max-w-md",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-2",children:[s.jsx(Of,{className:"h-5 w-5"}),"Ship Order"]}),s.jsx(ja,{children:V&&s.jsxs("span",{children:["Order #",V.order_number,"  ",V.customer_name]})})]}),s.jsxs("div",{className:"grid gap-3 py-4",children:[O&&s.jsxs(we,{onClick:qe,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:s.jsx(Of,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Ship via Shiprocket"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Create shipment with courier partner"})]})]}),s.jsxs(we,{onClick:Qe,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900",children:s.jsx(rs,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Manual Delivery"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as delivered (self-delivery)"})]})]})]})]})})]})};var eO,gY;function Zc(){if(gY)return eO;gY=1;var t=Array.isArray;return eO=t,eO}var tO,xY;function Fhe(){if(xY)return tO;xY=1;var t=typeof ck=="object"&&ck&&ck.Object===Object&&ck;return tO=t,tO}var rO,vY;function Jh(){if(vY)return rO;vY=1;var t=Fhe(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return rO=r,rO}var nO,yY;function fS(){if(yY)return nO;yY=1;var t=Jh(),e=t.Symbol;return nO=e,nO}var sO,bY;function Rqe(){if(bY)return sO;bY=1;var t=fS(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return sO=i,sO}var aO,wY;function Iqe(){if(wY)return aO;wY=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return aO=r,aO}var iO,_Y;function kp(){if(_Y)return iO;_Y=1;var t=fS(),e=Rqe(),r=Iqe(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return iO=o,iO}var oO,jY;function Cp(){if(jY)return oO;jY=1;function t(e){return e!=null&&typeof e=="object"}return oO=t,oO}var lO,NY;function kw(){if(NY)return lO;NY=1;var t=kp(),e=Cp(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return lO=n,lO}var cO,SY;function l$(){if(SY)return cO;SY=1;var t=Zc(),e=kw(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return cO=a,cO}var uO,kY;function Cg(){if(kY)return uO;kY=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return uO=t,uO}var dO,CY;function c$(){if(CY)return dO;CY=1;var t=kp(),e=Cg(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return dO=o,dO}var fO,AY;function Fqe(){if(AY)return fO;AY=1;var t=Jh(),e=t["__core-js_shared__"];return fO=e,fO}var hO,EY;function Mqe(){if(EY)return hO;EY=1;var t=Fqe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return hO=r,hO}var mO,PY;function Mhe(){if(PY)return mO;PY=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return mO=r,mO}var pO,TY;function Lqe(){if(TY)return pO;TY=1;var t=c$(),e=Mqe(),r=Cg(),n=Mhe(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!r(m)||e(m))return!1;var h=t(m)?d:i;return h.test(n(m))}return pO=f,pO}var gO,OY;function $qe(){if(OY)return gO;OY=1;function t(e,r){return e?.[r]}return gO=t,gO}var xO,DY;function ry(){if(DY)return xO;DY=1;var t=Lqe(),e=$qe();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return xO=r,xO}var vO,RY;function EE(){if(RY)return vO;RY=1;var t=ry(),e=t(Object,"create");return vO=e,vO}var yO,IY;function Bqe(){if(IY)return yO;IY=1;var t=EE();function e(){this.__data__=t?t(null):{},this.size=0}return yO=e,yO}var bO,FY;function Uqe(){if(FY)return bO;FY=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return bO=t,bO}var wO,MY;function zqe(){if(MY)return wO;MY=1;var t=EE(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return wO=a,wO}var _O,LY;function qqe(){if(LY)return _O;LY=1;var t=EE(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return _O=n,_O}var jO,$Y;function Vqe(){if($Y)return jO;$Y=1;var t=EE(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return jO=r,jO}var NO,BY;function Wqe(){if(BY)return NO;BY=1;var t=Bqe(),e=Uqe(),r=zqe(),n=qqe(),a=Vqe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,NO=i,NO}var SO,UY;function Hqe(){if(UY)return SO;UY=1;function t(){this.__data__=[],this.size=0}return SO=t,SO}var kO,zY;function u$(){if(zY)return kO;zY=1;function t(e,r){return e===r||e!==e&&r!==r}return kO=t,kO}var CO,qY;function PE(){if(qY)return CO;qY=1;var t=u$();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return CO=e,CO}var AO,VY;function Gqe(){if(VY)return AO;VY=1;var t=PE(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return AO=n,AO}var EO,WY;function Yqe(){if(WY)return EO;WY=1;var t=PE();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return EO=e,EO}var PO,HY;function Kqe(){if(HY)return PO;HY=1;var t=PE();function e(r){return t(this.__data__,r)>-1}return PO=e,PO}var TO,GY;function Xqe(){if(GY)return TO;GY=1;var t=PE();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return TO=e,TO}var OO,YY;function TE(){if(YY)return OO;YY=1;var t=Hqe(),e=Gqe(),r=Yqe(),n=Kqe(),a=Xqe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,OO=i,OO}var DO,KY;function d$(){if(KY)return DO;KY=1;var t=ry(),e=Jh(),r=t(e,"Map");return DO=r,DO}var RO,XY;function Jqe(){if(XY)return RO;XY=1;var t=Wqe(),e=TE(),r=d$();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return RO=n,RO}var IO,JY;function Zqe(){if(JY)return IO;JY=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return IO=t,IO}var FO,ZY;function OE(){if(ZY)return FO;ZY=1;var t=Zqe();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return FO=e,FO}var MO,QY;function Qqe(){if(QY)return MO;QY=1;var t=OE();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return MO=e,MO}var LO,eK;function eVe(){if(eK)return LO;eK=1;var t=OE();function e(r){return t(this,r).get(r)}return LO=e,LO}var $O,tK;function tVe(){if(tK)return $O;tK=1;var t=OE();function e(r){return t(this,r).has(r)}return $O=e,$O}var BO,rK;function rVe(){if(rK)return BO;rK=1;var t=OE();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return BO=e,BO}var UO,nK;function f$(){if(nK)return UO;nK=1;var t=Jqe(),e=Qqe(),r=eVe(),n=tVe(),a=rVe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,UO=i,UO}var zO,sK;function Lhe(){if(sK)return zO;sK=1;var t=f$(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,zO=r,zO}var qO,aK;function nVe(){if(aK)return qO;aK=1;var t=Lhe(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return qO=r,qO}var VO,iK;function sVe(){if(iK)return VO;iK=1;var t=nVe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return VO=n,VO}var WO,oK;function h$(){if(oK)return WO;oK=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return WO=t,WO}var HO,lK;function aVe(){if(lK)return HO;lK=1;var t=fS(),e=h$(),r=Zc(),n=kw(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return HO=o,HO}var GO,cK;function $he(){if(cK)return GO;cK=1;var t=aVe();function e(r){return r==null?"":t(r)}return GO=e,GO}var YO,uK;function Bhe(){if(uK)return YO;uK=1;var t=Zc(),e=l$(),r=sVe(),n=$he();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return YO=a,YO}var KO,dK;function DE(){if(dK)return KO;dK=1;var t=kw();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return KO=e,KO}var XO,fK;function m$(){if(fK)return XO;fK=1;var t=Bhe(),e=DE();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return XO=r,XO}var JO,hK;function Uhe(){if(hK)return JO;hK=1;var t=m$();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return JO=e,JO}var iVe=Uhe();const $u=us(iVe);var ZO,mK;function oVe(){if(mK)return ZO;mK=1;function t(e){return e==null}return ZO=t,ZO}var lVe=oVe();const Cn=us(lVe);var QO,pK;function cVe(){if(pK)return QO;pK=1;var t=kp(),e=Zc(),r=Cp(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return QO=a,QO}var uVe=cVe();const Ov=us(uVe);var dVe=c$();const vn=us(dVe);var fVe=Cg();const Cw=us(fVe);var eD={exports:{}},Ps={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gK;function hVe(){if(gK)return Ps;gK=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case t:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case f:case i:return v;default:return b}}case e:return b}}}return Ps.ContextConsumer=o,Ps.ContextProvider=i,Ps.Element=t,Ps.ForwardRef=c,Ps.Fragment=r,Ps.Lazy=m,Ps.Memo=f,Ps.Portal=e,Ps.Profiler=a,Ps.StrictMode=n,Ps.Suspense=u,Ps.SuspenseList=d,Ps.isAsyncMode=function(){return!1},Ps.isConcurrentMode=function(){return!1},Ps.isContextConsumer=function(v){return g(v)===o},Ps.isContextProvider=function(v){return g(v)===i},Ps.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Ps.isForwardRef=function(v){return g(v)===c},Ps.isFragment=function(v){return g(v)===r},Ps.isLazy=function(v){return g(v)===m},Ps.isMemo=function(v){return g(v)===f},Ps.isPortal=function(v){return g(v)===e},Ps.isProfiler=function(v){return g(v)===a},Ps.isStrictMode=function(v){return g(v)===n},Ps.isSuspense=function(v){return g(v)===u},Ps.isSuspenseList=function(v){return g(v)===d},Ps.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===x||v.getModuleId!==void 0)},Ps.typeOf=g,Ps}var xK;function mVe(){return xK||(xK=1,eD.exports=hVe()),eD.exports}var pVe=mVe(),tD,vK;function zhe(){if(vK)return tD;vK=1;var t=kp(),e=Cp(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return tD=n,tD}var rD,yK;function gVe(){if(yK)return rD;yK=1;var t=zhe();function e(r){return t(r)&&r!=+r}return rD=e,rD}var xVe=gVe();const hS=us(xVe);var vVe=zhe();const yVe=us(vVe);var fc=function(e){return e===0?0:e>0?1:-1},Mx=function(e){return Ov(e)&&e.indexOf("%")===e.length-1},ir=function(e){return yVe(e)&&!hS(e)},bVe=function(e){return Cn(e)},jo=function(e){return ir(e)||Ov(e)},wVe=0,Aw=function(e){var r=++wVe;return"".concat(e||"").concat(r)},hc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ir(e)&&!Ov(e))return n;var i;if(Mx(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return hS(i)&&(i=n),a&&i>r&&(i=r),i},b0=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},_Ve=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Su=function(e,r){return ir(e)&&ir(r)?function(n){return e+n*(r-e)}:function(){return r}};function dC(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$u(n,e))===r})}var jVe=function(e,r){return ir(e)&&ir(r)?e-r:Ov(e)&&Ov(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function lb(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function E8(t){"@babel/helpers - typeof";return E8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E8(t)}var NVe=["viewBox","children"],SVe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bK=["points","pathLength"],nD={svg:NVe,polygon:bK,polyline:bK},p$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fC=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Cw(n))return null;var a={};return Object.keys(n).forEach(function(i){p$.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},kVe=function(e,r,n){return function(a){return e(r,n,a),null}},Dv=function(e,r,n){if(!Cw(e)||E8(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];p$.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=kVe(o,r,n))}),a},CVe=["children"],AVe=["children"];function wK(t,e){if(t==null)return{};var r=EVe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P8(t){"@babel/helpers - typeof";return P8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P8(t)}var _K={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},tp=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jK=null,sD=null,g$=function t(e){if(e===jK&&Array.isArray(sD))return sD;var r=[];return j.Children.forEach(e,function(n){Cn(n)||(pVe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),sD=r,jK=e,r};function Bu(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return tp(a)}):n=[tp(e)],g$(t).forEach(function(a){var i=$u(a,"type.displayName")||$u(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function vu(t,e){var r=Bu(t,e);return r&&r[0]}var NK=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ir(n)||n<=0||!ir(a)||a<=0)},PVe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TVe=function(e){return e&&e.type&&Ov(e.type)&&PVe.indexOf(e.type)>=0},OVe=function(e){return e&&P8(e)==="object"&&"clipDot"in e},DVe=function(e,r,n,a){var i,o=(i=nD?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!vn(e)&&(a&&o.includes(r)||SVe.includes(r))||n&&p$.includes(r)},Qr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(j.isValidElement(e)&&(a=e.props),!Cw(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;DVe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},T8=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return SK(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!SK(i,o))return!1}return!0},SK=function(e,r){if(Cn(e)&&Cn(r))return!0;if(!Cn(e)&&!Cn(r)){var n=e.props||{},a=n.children,i=wK(n,CVe),o=r.props||{},l=o.children,c=wK(o,AVe);return a&&l?lb(i,c)&&T8(a,l):!a&&!l?lb(i,c):!1}return!1},kK=function(e,r){var n=[],a={};return g$(e).forEach(function(i,o){if(TVe(i))n.push(i);else if(i){var l=tp(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},RVe=function(e){var r=e&&e.type;return r&&_K[r]?_K[r]:null},IVe=function(e,r){return g$(r).indexOf(e)},FVe=["children","width","height","viewBox","className","style","title","desc"];function O8(){return O8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O8.apply(this,arguments)}function MVe(t,e){if(t==null)return{};var r=LVe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D8(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=MVe(t,FVe),d=a||{width:r,height:n,x:0,y:0},f=Pn("recharts-surface",i);return Ne.createElement("svg",O8({},Qr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Ne.createElement("title",null,l),Ne.createElement("desc",null,c),e)}var $Ve=["children","className"];function R8(){return R8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R8.apply(this,arguments)}function BVe(t,e){if(t==null)return{};var r=UVe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _s=Ne.forwardRef(function(t,e){var r=t.children,n=t.className,a=BVe(t,$Ve),i=Pn("recharts-layer",n);return Ne.createElement("g",R8({className:i},Qr(a,!0),{ref:e}),r)}),If=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},aD,CK;function zVe(){if(CK)return aD;CK=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return aD=t,aD}var iD,AK;function qVe(){if(AK)return iD;AK=1;var t=zVe();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return iD=e,iD}var oD,EK;function qhe(){if(EK)return oD;EK=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(u){return l.test(u)}return oD=c,oD}var lD,PK;function VVe(){if(PK)return lD;PK=1;function t(e){return e.split("")}return lD=t,lD}var cD,TK;function WVe(){if(TK)return cD;TK=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",x=u+"?",g="["+i+"]?",v="(?:"+h+"(?:"+[d,f,m].join("|")+")"+g+x+")*",b=g+x+v,_="(?:"+[d+l+"?",l,f,m,o].join("|")+")",w=RegExp(c+"(?="+c+")|"+_+b,"g");function N(S){return S.match(w)||[]}return cD=N,cD}var uD,OK;function HVe(){if(OK)return uD;OK=1;var t=VVe(),e=qhe(),r=WVe();function n(a){return e(a)?r(a):t(a)}return uD=n,uD}var dD,DK;function GVe(){if(DK)return dD;DK=1;var t=qVe(),e=qhe(),r=HVe(),n=$he();function a(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[i]()+u}}return dD=a,dD}var fD,RK;function YVe(){if(RK)return fD;RK=1;var t=GVe(),e=t("toUpperCase");return fD=e,fD}var KVe=YVe();const RE=us(KVe);function ha(t){return function(){return t}}const Vhe=Math.cos,hC=Math.sin,Kf=Math.sqrt,mC=Math.PI,IE=2*mC,I8=Math.PI,F8=2*I8,wx=1e-6,XVe=F8-wx;function Whe(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function JVe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Whe;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class ZVe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Whe:JVe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,d=o-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>wx)if(!(Math.abs(f*c-u*d)>wx)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-o,x=a-l,g=c*c+u*u,v=h*h+x*x,b=Math.sqrt(g),_=Math.sqrt(m),w=i*Math.tan((I8-Math.acos((g+m-v)/(2*b*_)))/2),N=w/_,S=w/b;Math.abs(N-1)>wx&&this._append`L${e+N*d},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*h>d*x)},${this._x1=e+S*c},${this._y1=r+S*u}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>wx||Math.abs(this._y1-d)>wx)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%F8+F8),m>XVe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>wx&&this._append`A${n},${n},0,${+(m>=I8)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function x$(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new ZVe(e)}function v$(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hhe(t){this._context=t}Hhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function FE(t){return new Hhe(t)}function Ghe(t){return t[0]}function Yhe(t){return t[1]}function Khe(t,e){var r=ha(!0),n=null,a=FE,i=null,o=x$(l);t=typeof t=="function"?t:t===void 0?Ghe:ha(t),e=typeof e=="function"?e:e===void 0?Yhe:ha(e);function l(c){var u,d=(c=v$(c)).length,f,m=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ha(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ha(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ha(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function n5(t,e,r){var n=null,a=ha(!0),i=null,o=FE,l=null,c=x$(u);t=typeof t=="function"?t:t===void 0?Ghe:ha(+t),e=typeof e=="function"?e:ha(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Yhe:ha(+r);function u(f){var m,h,x,g=(f=v$(f)).length,v,b=!1,_,w=new Array(g),N=new Array(g);for(i==null&&(l=o(_=c())),m=0;m<=g;++m){if(!(m<g&&a(v=f[m],m,f))===b)if(b=!b)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=h;--x)l.point(w[x],N[x]);l.lineEnd(),l.areaEnd()}b&&(w[m]=+t(v,m,f),N[m]=+e(v,m,f),l.point(n?+n(v,m,f):w[m],r?+r(v,m,f):N[m]))}if(_)return l=null,_+""||null}function d(){return Khe().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ha(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ha(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ha(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ha(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ha(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ha(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ha(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Xhe{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function QVe(t){return new Xhe(t,!0)}function eWe(t){return new Xhe(t,!1)}const y$={draw(t,e){const r=Kf(e/mC);t.moveTo(r,0),t.arc(0,0,r,0,IE)}},tWe={draw(t,e){const r=Kf(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Jhe=Kf(1/3),rWe=Jhe*2,nWe={draw(t,e){const r=Kf(e/rWe),n=r*Jhe;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},sWe={draw(t,e){const r=Kf(e),n=-r/2;t.rect(n,n,r,r)}},aWe=.8908130915292852,Zhe=hC(mC/10)/hC(7*mC/10),iWe=hC(IE/10)*Zhe,oWe=-Vhe(IE/10)*Zhe,lWe={draw(t,e){const r=Kf(e*aWe),n=iWe*r,a=oWe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=IE*i/5,l=Vhe(o),c=hC(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},hD=Kf(3),cWe={draw(t,e){const r=-Kf(e/(hD*3));t.moveTo(0,r*2),t.lineTo(-hD*r,-r),t.lineTo(hD*r,-r),t.closePath()}},dd=-.5,fd=Kf(3)/2,M8=1/Kf(12),uWe=(M8/2+1)*3,dWe={draw(t,e){const r=Kf(e/uWe),n=r/2,a=r*M8,i=n,o=r*M8+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(dd*n-fd*a,fd*n+dd*a),t.lineTo(dd*i-fd*o,fd*i+dd*o),t.lineTo(dd*l-fd*c,fd*l+dd*c),t.lineTo(dd*n+fd*a,dd*a-fd*n),t.lineTo(dd*i+fd*o,dd*o-fd*i),t.lineTo(dd*l+fd*c,dd*c-fd*l),t.closePath()}};function fWe(t,e){let r=null,n=x$(a);t=typeof t=="function"?t:ha(t||y$),e=typeof e=="function"?e:ha(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:ha(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:ha(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function pC(){}function gC(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Qhe(t){this._context=t}Qhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hWe(t){return new Qhe(t)}function eme(t){this._context=t}eme.prototype={areaStart:pC,areaEnd:pC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mWe(t){return new eme(t)}function tme(t){this._context=t}tme.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pWe(t){return new tme(t)}function rme(t){this._context=t}rme.prototype={areaStart:pC,areaEnd:pC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gWe(t){return new rme(t)}function IK(t){return t<0?-1:1}function FK(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(IK(i)+IK(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function MK(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function mD(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function xC(t){this._context=t}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mD(this,this._t0,MK(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mD(this,MK(this,r=FK(this,t,e)),r);break;default:mD(this,this._t0,r=FK(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nme(t){this._context=new sme(t)}(nme.prototype=Object.create(xC.prototype)).point=function(t,e){xC.prototype.point.call(this,e,t)};function sme(t){this._context=t}sme.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function xWe(t){return new xC(t)}function vWe(t){return new nme(t)}function ame(t){this._context=t}ame.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=LK(t),a=LK(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LK(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function yWe(t){return new ame(t)}function ME(t,e){this._context=t,this._t=e}ME.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function bWe(t){return new ME(t,.5)}function wWe(t){return new ME(t,0)}function _We(t){return new ME(t,1)}function Tb(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function L8(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function jWe(t,e){return t[e]}function NWe(t){const e=[];return e.key=t,e}function SWe(){var t=ha([]),e=L8,r=Tb,n=jWe;function a(i){var o=Array.from(t.apply(this,arguments),NWe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=v$(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ha(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ha(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?L8:typeof i=="function"?i:ha(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Tb,a):r},a}function kWe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Tb(t,e)}}function CWe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Tb(t,e)}}function AWe(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,x=0;x<l;++x){var g=t[e[x]],v=g[n][1]||0,b=g[n-1][1]||0;h+=v-b}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Tb(t,e)}}function Bj(t){"@babel/helpers - typeof";return Bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bj(t)}var EWe=["type","size","sizeType"];function $8(){return $8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$8.apply(this,arguments)}function $K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$K(Object(r),!0).forEach(function(n){PWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PWe(t,e,r){return e=TWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TWe(t){var e=OWe(t,"string");return Bj(e)=="symbol"?e:e+""}function OWe(t,e){if(Bj(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bj(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DWe(t,e){if(t==null)return{};var r=RWe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ime={symbolCircle:y$,symbolCross:tWe,symbolDiamond:nWe,symbolSquare:sWe,symbolStar:lWe,symbolTriangle:cWe,symbolWye:dWe},IWe=Math.PI/180,FWe=function(e){var r="symbol".concat(RE(e));return ime[r]||y$},MWe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*IWe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LWe=function(e,r){ime["symbol".concat(RE(e))]=r},b$=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=DWe(e,EWe),u=BK(BK({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=FWe(n),b=fWe().type(v).size(MWe(i,l,n));return b()},f=u.className,m=u.cx,h=u.cy,x=Qr(u,!0);return m===+m&&h===+h&&i===+i?Ne.createElement("path",$8({},x,{className:Pn("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};b$.registerSymbol=LWe;function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}function B8(){return B8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B8.apply(this,arguments)}function UK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UK(Object(r),!0).forEach(function(n){Uj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lme(n.key),n)}}function zWe(t,e,r){return e&&UWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qWe(t,e,r){return e=vC(e),VWe(t,ome()?Reflect.construct(e,r||[],vC(t).constructor):e.apply(t,r))}function VWe(t,e){if(e&&(Ob(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WWe(t)}function WWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ome(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ome=function(){return!!t})()}function vC(t){return vC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vC(t)}function HWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U8(t,e)}function U8(t,e){return U8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U8(t,e)}function Uj(t,e,r){return e=lme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lme(t){var e=GWe(t,"string");return Ob(e)=="symbol"?e:e+""}function GWe(t,e){if(Ob(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hd=32,w$=(function(t){function e(){return BWe(this,e),qWe(this,e,arguments)}return HWe(e,t),zWe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=hd/2,o=hd/6,l=hd/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:hd,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(hd,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hd/8,"h").concat(hd,"v").concat(hd*3/4,"h").concat(-hd,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(n.legendIcon)){var u=$We({},n);return delete u.legendIcon,Ne.cloneElement(n.legendIcon,u)}return Ne.createElement(b$,{fill:c,cx:i,cy:i,size:hd,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:hd,height:hd},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,x){var g=h.formatter||c,v=Pn(Uj(Uj({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=vn(h.value)?null:h.value;If(!vn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=h.inactive?u:h.color;return Ne.createElement("li",B8({className:v,style:f,key:"legend-item-".concat(x)},Dv(n.props,h,x)),Ne.createElement(D8,{width:o,height:o,viewBox:d,style:m},n.renderIcon(h)),Ne.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(b,h,x):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ne.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);Uj(w$,"displayName","Legend");Uj(w$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pD,zK;function YWe(){if(zK)return pD;zK=1;var t=TE();function e(){this.__data__=new t,this.size=0}return pD=e,pD}var gD,qK;function KWe(){if(qK)return gD;qK=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return gD=t,gD}var xD,VK;function XWe(){if(VK)return xD;VK=1;function t(e){return this.__data__.get(e)}return xD=t,xD}var vD,WK;function JWe(){if(WK)return vD;WK=1;function t(e){return this.__data__.has(e)}return vD=t,vD}var yD,HK;function ZWe(){if(HK)return yD;HK=1;var t=TE(),e=d$(),r=f$(),n=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return yD=a,yD}var bD,GK;function cme(){if(GK)return bD;GK=1;var t=TE(),e=YWe(),r=KWe(),n=XWe(),a=JWe(),i=ZWe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,bD=o,bD}var wD,YK;function QWe(){if(YK)return wD;YK=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return wD=e,wD}var _D,KK;function eHe(){if(KK)return _D;KK=1;function t(e){return this.__data__.has(e)}return _D=t,_D}var jD,XK;function ume(){if(XK)return jD;XK=1;var t=f$(),e=QWe(),r=eHe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,jD=n,jD}var ND,JK;function dme(){if(JK)return ND;JK=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return ND=t,ND}var SD,ZK;function fme(){if(ZK)return SD;ZK=1;function t(e,r){return e.has(r)}return SD=t,SD}var kD,QK;function hme(){if(QK)return kD;QK=1;var t=ume(),e=dme(),r=fme(),n=1,a=2;function i(o,l,c,u,d,f){var m=c&n,h=o.length,x=l.length;if(h!=x&&!(m&&x>h))return!1;var g=f.get(o),v=f.get(l);if(g&&v)return g==l&&v==o;var b=-1,_=!0,w=c&a?new t:void 0;for(f.set(o,l),f.set(l,o);++b<h;){var N=o[b],S=l[b];if(u)var C=m?u(S,N,b,l,o,f):u(N,S,b,o,l,f);if(C!==void 0){if(C)continue;_=!1;break}if(w){if(!e(l,function(A,R){if(!r(w,R)&&(N===A||d(N,A,c,u,f)))return w.push(R)})){_=!1;break}}else if(!(N===S||d(N,S,c,u,f))){_=!1;break}}return f.delete(o),f.delete(l),_}return kD=i,kD}var CD,eX;function tHe(){if(eX)return CD;eX=1;var t=Jh(),e=t.Uint8Array;return CD=e,CD}var AD,tX;function rHe(){if(tX)return AD;tX=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return AD=t,AD}var ED,rX;function _$(){if(rX)return ED;rX=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return ED=t,ED}var PD,nX;function nHe(){if(nX)return PD;nX=1;var t=fS(),e=tHe(),r=u$(),n=hme(),a=rHe(),i=_$(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",h="[object RegExp]",x="[object Set]",g="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w=t?t.prototype:void 0,N=w?w.valueOf:void 0;function S(C,A,R,O,D,P,E){switch(R){case _:if(C.byteLength!=A.byteLength||C.byteOffset!=A.byteOffset)return!1;C=C.buffer,A=A.buffer;case b:return!(C.byteLength!=A.byteLength||!P(new e(C),new e(A)));case c:case u:case m:return r(+C,+A);case d:return C.name==A.name&&C.message==A.message;case h:case g:return C==A+"";case f:var I=a;case x:var M=O&o;if(I||(I=i),C.size!=A.size&&!M)return!1;var U=E.get(C);if(U)return U==A;O|=l,E.set(C,A);var W=n(I(C),I(A),O,D,P,E);return E.delete(C),W;case v:if(N)return N.call(C)==N.call(A)}return!1}return PD=S,PD}var TD,sX;function mme(){if(sX)return TD;sX=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return TD=t,TD}var OD,aX;function sHe(){if(aX)return OD;aX=1;var t=mme(),e=Zc();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return OD=r,OD}var DD,iX;function aHe(){if(iX)return DD;iX=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return DD=t,DD}var RD,oX;function iHe(){if(oX)return RD;oX=1;function t(){return[]}return RD=t,RD}var ID,lX;function oHe(){if(lX)return ID;lX=1;var t=aHe(),e=iHe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return ID=i,ID}var FD,cX;function lHe(){if(cX)return FD;cX=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return FD=t,FD}var MD,uX;function cHe(){if(uX)return MD;uX=1;var t=kp(),e=Cp(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return MD=n,MD}var LD,dX;function j$(){if(dX)return LD;dX=1;var t=cHe(),e=Cp(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return LD=i,LD}var e2={exports:{}},$D,fX;function uHe(){if(fX)return $D;fX=1;function t(){return!1}return $D=t,$D}e2.exports;var hX;function pme(){return hX||(hX=1,(function(t,e){var r=Jh(),n=uHe(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(e2,e2.exports)),e2.exports}var BD,mX;function N$(){if(mX)return BD;mX=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return BD=r,BD}var UD,pX;function S$(){if(pX)return UD;pX=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return UD=e,UD}var zD,gX;function dHe(){if(gX)return zD;gX=1;var t=kp(),e=S$(),r=Cp(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",h="[object Set]",x="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",O="[object Uint16Array]",D="[object Uint32Array]",P={};P[_]=P[w]=P[N]=P[S]=P[C]=P[A]=P[R]=P[O]=P[D]=!0,P[n]=P[a]=P[v]=P[i]=P[b]=P[o]=P[l]=P[c]=P[u]=P[d]=P[f]=P[m]=P[h]=P[x]=P[g]=!1;function E(I){return r(I)&&e(I.length)&&!!P[t(I)]}return zD=E,zD}var qD,xX;function gme(){if(xX)return qD;xX=1;function t(e){return function(r){return e(r)}}return qD=t,qD}var t2={exports:{}};t2.exports;var vX;function fHe(){return vX||(vX=1,(function(t,e){var r=Fhe(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(t2,t2.exports)),t2.exports}var VD,yX;function xme(){if(yX)return VD;yX=1;var t=dHe(),e=gme(),r=fHe(),n=r&&r.isTypedArray,a=n?e(n):t;return VD=a,VD}var WD,bX;function hHe(){if(bX)return WD;bX=1;var t=lHe(),e=j$(),r=Zc(),n=pme(),a=N$(),i=xme(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),m=!f&&e(u),h=!f&&!m&&n(u),x=!f&&!m&&!h&&i(u),g=f||m||h||x,v=g?t(u.length,String):[],b=v.length;for(var _ in u)(d||l.call(u,_))&&!(g&&(_=="length"||h&&(_=="offset"||_=="parent")||x&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||a(_,b)))&&v.push(_);return v}return WD=c,WD}var HD,wX;function mHe(){if(wX)return HD;wX=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return HD=e,HD}var GD,_X;function vme(){if(_X)return GD;_X=1;function t(e,r){return function(n){return e(r(n))}}return GD=t,GD}var YD,jX;function pHe(){if(jX)return YD;jX=1;var t=vme(),e=t(Object.keys,Object);return YD=e,YD}var KD,NX;function gHe(){if(NX)return KD;NX=1;var t=mHe(),e=pHe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return KD=a,KD}var XD,SX;function mS(){if(SX)return XD;SX=1;var t=c$(),e=S$();function r(n){return n!=null&&e(n.length)&&!t(n)}return XD=r,XD}var JD,kX;function LE(){if(kX)return JD;kX=1;var t=hHe(),e=gHe(),r=mS();function n(a){return r(a)?t(a):e(a)}return JD=n,JD}var ZD,CX;function xHe(){if(CX)return ZD;CX=1;var t=sHe(),e=oHe(),r=LE();function n(a){return t(a,r,e)}return ZD=n,ZD}var QD,AX;function vHe(){if(AX)return QD;AX=1;var t=xHe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,u,d){var f=l&e,m=t(i),h=m.length,x=t(o),g=x.length;if(h!=g&&!f)return!1;for(var v=h;v--;){var b=m[v];if(!(f?b in o:n.call(o,b)))return!1}var _=d.get(i),w=d.get(o);if(_&&w)return _==o&&w==i;var N=!0;d.set(i,o),d.set(o,i);for(var S=f;++v<h;){b=m[v];var C=i[b],A=o[b];if(c)var R=f?c(A,C,b,o,i,d):c(C,A,b,i,o,d);if(!(R===void 0?C===A||u(C,A,l,c,d):R)){N=!1;break}S||(S=b=="constructor")}if(N&&!S){var O=i.constructor,D=o.constructor;O!=D&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof D=="function"&&D instanceof D)&&(N=!1)}return d.delete(i),d.delete(o),N}return QD=a,QD}var e6,EX;function yHe(){if(EX)return e6;EX=1;var t=ry(),e=Jh(),r=t(e,"DataView");return e6=r,e6}var t6,PX;function bHe(){if(PX)return t6;PX=1;var t=ry(),e=Jh(),r=t(e,"Promise");return t6=r,t6}var r6,TX;function yme(){if(TX)return r6;TX=1;var t=ry(),e=Jh(),r=t(e,"Set");return r6=r,r6}var n6,OX;function wHe(){if(OX)return n6;OX=1;var t=ry(),e=Jh(),r=t(e,"WeakMap");return n6=r,n6}var s6,DX;function _He(){if(DX)return s6;DX=1;var t=yHe(),e=d$(),r=bHe(),n=yme(),a=wHe(),i=kp(),o=Mhe(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",h=o(t),x=o(e),g=o(r),v=o(n),b=o(a),_=i;return(t&&_(new t(new ArrayBuffer(1)))!=m||e&&_(new e)!=l||r&&_(r.resolve())!=u||n&&_(new n)!=d||a&&_(new a)!=f)&&(_=function(w){var N=i(w),S=N==c?w.constructor:void 0,C=S?o(S):"";if(C)switch(C){case h:return m;case x:return l;case g:return u;case v:return d;case b:return f}return N}),s6=_,s6}var a6,RX;function jHe(){if(RX)return a6;RX=1;var t=cme(),e=hme(),r=nHe(),n=vHe(),a=_He(),i=Zc(),o=pme(),l=xme(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,h=m.hasOwnProperty;function x(g,v,b,_,w,N){var S=i(g),C=i(v),A=S?d:a(g),R=C?d:a(v);A=A==u?f:A,R=R==u?f:R;var O=A==f,D=R==f,P=A==R;if(P&&o(g)){if(!o(v))return!1;S=!0,O=!1}if(P&&!O)return N||(N=new t),S||l(g)?e(g,v,b,_,w,N):r(g,v,A,b,_,w,N);if(!(b&c)){var E=O&&h.call(g,"__wrapped__"),I=D&&h.call(v,"__wrapped__");if(E||I){var M=E?g.value():g,U=I?v.value():v;return N||(N=new t),w(M,U,b,_,N)}}return P?(N||(N=new t),n(g,v,b,_,w,N)):!1}return a6=x,a6}var i6,IX;function k$(){if(IX)return i6;IX=1;var t=jHe(),e=Cp();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,l)}return i6=r,i6}var o6,FX;function NHe(){if(FX)return o6;FX=1;var t=cme(),e=k$(),r=1,n=2;function a(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var m=l[u];if(f&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=l[u];var h=m[0],x=i[h],g=m[1];if(f&&m[2]){if(x===void 0&&!(h in i))return!1}else{var v=new t;if(c)var b=c(x,g,h,i,o,v);if(!(b===void 0?e(g,x,r|n,c,v):b))return!1}}return!0}return o6=a,o6}var l6,MX;function bme(){if(MX)return l6;MX=1;var t=Cg();function e(r){return r===r&&!t(r)}return l6=e,l6}var c6,LX;function SHe(){if(LX)return c6;LX=1;var t=bme(),e=LE();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,t(l)]}return a}return c6=r,c6}var u6,$X;function wme(){if($X)return u6;$X=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return u6=t,u6}var d6,BX;function kHe(){if(BX)return d6;BX=1;var t=NHe(),e=SHe(),r=wme();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return d6=n,d6}var f6,UX;function CHe(){if(UX)return f6;UX=1;function t(e,r){return e!=null&&r in Object(e)}return f6=t,f6}var h6,zX;function AHe(){if(zX)return h6;zX=1;var t=Bhe(),e=j$(),r=Zc(),n=N$(),a=S$(),i=DE();function o(l,c,u){c=t(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var h=i(c[d]);if(!(m=l!=null&&u(l,h)))break;l=l[h]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&a(f)&&n(h,f)&&(r(l)||e(l)))}return h6=o,h6}var m6,qX;function EHe(){if(qX)return m6;qX=1;var t=CHe(),e=AHe();function r(n,a){return n!=null&&e(n,a,t)}return m6=r,m6}var p6,VX;function PHe(){if(VX)return p6;VX=1;var t=k$(),e=Uhe(),r=EHe(),n=l$(),a=bme(),i=wme(),o=DE(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(m){var h=e(m,d);return h===void 0&&h===f?r(m,d):t(f,h,l|c)}}return p6=u,p6}var g6,WX;function Ew(){if(WX)return g6;WX=1;function t(e){return e}return g6=t,g6}var x6,HX;function THe(){if(HX)return x6;HX=1;function t(e){return function(r){return r?.[e]}}return x6=t,x6}var v6,GX;function OHe(){if(GX)return v6;GX=1;var t=m$();function e(r){return function(n){return t(n,r)}}return v6=e,v6}var y6,YX;function DHe(){if(YX)return y6;YX=1;var t=THe(),e=OHe(),r=l$(),n=DE();function a(i){return r(i)?t(n(i)):e(i)}return y6=a,y6}var b6,KX;function Zh(){if(KX)return b6;KX=1;var t=kHe(),e=PHe(),r=Ew(),n=Zc(),a=DHe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return b6=i,b6}var w6,XX;function _me(){if(XX)return w6;XX=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return w6=t,w6}var _6,JX;function RHe(){if(JX)return _6;JX=1;function t(e){return e!==e}return _6=t,_6}var j6,ZX;function IHe(){if(ZX)return j6;ZX=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return j6=t,j6}var N6,QX;function FHe(){if(QX)return N6;QX=1;var t=_me(),e=RHe(),r=IHe();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return N6=n,N6}var S6,eJ;function MHe(){if(eJ)return S6;eJ=1;var t=FHe();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return S6=e,S6}var k6,tJ;function LHe(){if(tJ)return k6;tJ=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return k6=t,k6}var C6,rJ;function $He(){if(rJ)return C6;rJ=1;function t(){}return C6=t,C6}var A6,nJ;function BHe(){if(nJ)return A6;nJ=1;var t=yme(),e=$He(),r=_$(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return A6=a,A6}var E6,sJ;function UHe(){if(sJ)return E6;sJ=1;var t=ume(),e=MHe(),r=LHe(),n=fme(),a=BHe(),i=_$(),o=200;function l(c,u,d){var f=-1,m=e,h=c.length,x=!0,g=[],v=g;if(d)x=!1,m=r;else if(h>=o){var b=u?null:a(c);if(b)return i(b);x=!1,m=n,v=new t}else v=u?[]:g;e:for(;++f<h;){var _=c[f],w=u?u(_):_;if(_=d||_!==0?_:0,x&&w===w){for(var N=v.length;N--;)if(v[N]===w)continue e;u&&v.push(w),g.push(_)}else m(v,w,d)||(v!==g&&v.push(w),g.push(_))}return g}return E6=l,E6}var P6,aJ;function zHe(){if(aJ)return P6;aJ=1;var t=Zh(),e=UHe();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return P6=r,P6}var qHe=zHe();const iJ=us(qHe);function jme(t,e,r){return e===!0?iJ(t,r):vn(e)?iJ(t,e):t}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}var VHe=["ref"];function oJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oJ(Object(r),!0).forEach(function(n){$E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sme(n.key),n)}}function HHe(t,e,r){return e&&lJ(t.prototype,e),r&&lJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GHe(t,e,r){return e=yC(e),YHe(t,Nme()?Reflect.construct(e,r||[],yC(t).constructor):e.apply(t,r))}function YHe(t,e){if(e&&(Db(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KHe(t)}function KHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nme=function(){return!!t})()}function yC(t){return yC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yC(t)}function XHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z8(t,e)}function z8(t,e){return z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z8(t,e)}function $E(t,e,r){return e=Sme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sme(t){var e=JHe(t,"string");return Db(e)=="symbol"?e:e+""}function JHe(t,e){if(Db(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Db(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZHe(t,e){if(t==null)return{};var r=QHe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eGe(t){return t.value}function tGe(t,e){if(Ne.isValidElement(t))return Ne.cloneElement(t,e);if(typeof t=="function")return Ne.createElement(t,e);e.ref;var r=ZHe(e,VHe);return Ne.createElement(w$,r)}var cJ=1,z0=(function(t){function e(){var r;WHe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=GHe(this,e,[].concat(a)),$E(r,"lastBoundingBox",{width:-1,height:-1}),r}return XHe(e,t),HHe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>cJ||Math.abs(a.height-this.lastBoundingBox.height)>cJ)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rm({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Rm(Rm({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Rm(Rm({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},tGe(i,Rm(Rm({},this.props),{},{payload:jme(d,u,eGe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Rm(Rm({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ir(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(j.PureComponent);$E(z0,"displayName","Legend");$E(z0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var T6,uJ;function rGe(){if(uJ)return T6;uJ=1;var t=fS(),e=j$(),r=Zc(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return T6=a,T6}var O6,dJ;function kme(){if(dJ)return O6;dJ=1;var t=mme(),e=rGe();function r(n,a,i,o,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,l):t(l,d):o||(l[l.length]=d)}return l}return O6=r,O6}var D6,fJ;function nGe(){if(fJ)return D6;fJ=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++i];if(n(o[u],u,o)===!1)break}return r}}return D6=t,D6}var R6,hJ;function sGe(){if(hJ)return R6;hJ=1;var t=nGe(),e=t();return R6=e,R6}var I6,mJ;function Cme(){if(mJ)return I6;mJ=1;var t=sGe(),e=LE();function r(n,a){return n&&t(n,a,e)}return I6=r,I6}var F6,pJ;function aGe(){if(pJ)return F6;pJ=1;var t=mS();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return F6=e,F6}var M6,gJ;function C$(){if(gJ)return M6;gJ=1;var t=Cme(),e=aGe(),r=e(t);return M6=r,M6}var L6,xJ;function Ame(){if(xJ)return L6;xJ=1;var t=C$(),e=mS();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++i]=a(l,c,u)}),o}return L6=r,L6}var $6,vJ;function iGe(){if(vJ)return $6;vJ=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return $6=t,$6}var B6,yJ;function oGe(){if(yJ)return B6;yJ=1;var t=kw();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return B6=e,B6}var U6,bJ;function lGe(){if(bJ)return U6;bJ=1;var t=oGe();function e(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++i<c;){var d=t(o[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return U6=e,U6}var z6,wJ;function cGe(){if(wJ)return z6;wJ=1;var t=h$(),e=m$(),r=Zh(),n=Ame(),a=iGe(),i=gme(),o=lGe(),l=Ew(),c=Zc();function u(d,f,m){f.length?f=t(f,function(g){return c(g)?function(v){return e(v,g.length===1?g[0]:g)}:g}):f=[l];var h=-1;f=t(f,i(r));var x=n(d,function(g,v,b){var _=t(f,function(w){return w(g)});return{criteria:_,index:++h,value:g}});return a(x,function(g,v){return o(g,v,m)})}return z6=u,z6}var q6,_J;function uGe(){if(_J)return q6;_J=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return q6=t,q6}var V6,jJ;function dGe(){if(jJ)return V6;jJ=1;var t=uGe(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=i(u),t(n,this,d)}}return V6=r,V6}var W6,NJ;function fGe(){if(NJ)return W6;NJ=1;function t(e){return function(){return e}}return W6=t,W6}var H6,SJ;function Eme(){if(SJ)return H6;SJ=1;var t=ry(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return H6=e,H6}var G6,kJ;function hGe(){if(kJ)return G6;kJ=1;var t=fGe(),e=Eme(),r=Ew(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return G6=n,G6}var Y6,CJ;function mGe(){if(CJ)return Y6;CJ=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Y6=n,Y6}var K6,AJ;function pGe(){if(AJ)return K6;AJ=1;var t=hGe(),e=mGe(),r=e(t);return K6=r,K6}var X6,EJ;function gGe(){if(EJ)return X6;EJ=1;var t=Ew(),e=dGe(),r=pGe();function n(a,i){return r(e(a,i,t),a+"")}return X6=n,X6}var J6,PJ;function BE(){if(PJ)return J6;PJ=1;var t=u$(),e=mS(),r=N$(),n=Cg();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return J6=a,J6}var Z6,TJ;function xGe(){if(TJ)return Z6;TJ=1;var t=kme(),e=cGe(),r=gGe(),n=BE(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Z6=a,Z6}var vGe=xGe();const A$=us(vGe);function zj(t){"@babel/helpers - typeof";return zj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zj(t)}function q8(){return q8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q8.apply(this,arguments)}function yGe(t,e){return jGe(t)||_Ge(t,e)||wGe(t,e)||bGe()}function bGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wGe(t,e){if(t){if(typeof t=="string")return OJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OJ(t,e)}}function OJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Ge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jGe(t){if(Array.isArray(t))return t}function DJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DJ(Object(r),!0).forEach(function(n){NGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NGe(t,e,r){return e=SGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SGe(t){var e=kGe(t,"string");return zj(e)=="symbol"?e:e+""}function kGe(t,e){if(zj(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zj(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CGe(t){return Array.isArray(t)&&jo(t[0])&&jo(t[1])?t.join(" ~ "):t}var AGe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,x=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,_=b===void 0?!1:b,w=function(){if(d&&d.length){var E={padding:0,margin:0},I=(m?A$(d,m):d).map(function(M,U){if(M.type==="none")return null;var W=Q6({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),Y=M.formatter||f||CGe,J=M.value,z=M.name,q=J,V=z;if(Y&&q!=null&&V!=null){var L=Y(J,z,M,U,d);if(Array.isArray(L)){var X=yGe(L,2);q=X[0],V=X[1]}else q=L}return Ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},jo(V)?Ne.createElement("span",{className:"recharts-tooltip-item-name"},V):null,jo(V)?Ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ne.createElement("span",{className:"recharts-tooltip-item-value"},q),Ne.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return Ne.createElement("ul",{className:"recharts-tooltip-item-list",style:E},I)}return null},N=Q6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=Q6({margin:0},u),C=!Cn(g),A=C?g:"",R=Pn("recharts-default-tooltip",h),O=Pn("recharts-tooltip-label",x);C&&v&&d!==void 0&&d!==null&&(A=v(g,d));var D=_?{role:"status","aria-live":"assertive"}:{};return Ne.createElement("div",q8({className:R,style:N},D),Ne.createElement("p",{className:O,style:S},Ne.isValidElement(A)?A:"".concat(A)),w())};function qj(t){"@babel/helpers - typeof";return qj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qj(t)}function s5(t,e,r){return e=EGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EGe(t){var e=PGe(t,"string");return qj(e)=="symbol"?e:e+""}function PGe(t,e){if(qj(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qj(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j_="recharts-tooltip-wrapper",TGe={visibility:"hidden"};function OGe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Pn(j_,s5(s5(s5(s5({},"".concat(j_,"-right"),ir(r)&&e&&ir(e.x)&&r>=e.x),"".concat(j_,"-left"),ir(r)&&e&&ir(e.x)&&r<e.x),"".concat(j_,"-bottom"),ir(n)&&e&&ir(e.y)&&n>=e.y),"".concat(j_,"-top"),ir(n)&&e&&ir(e.y)&&n<e.y))}function RJ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&ir(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return o[n]?d:f;if(o[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,g=c[n]+u;return x>g?Math.max(d,c[n]):Math.max(f,c[n])}function DGe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function RGe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=RJ({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=RJ({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=DGe({translateX:d,translateY:f,useTranslate3d:l})):u=TGe,{cssProperties:u,cssClasses:OGe({translateX:d,translateY:f,coordinate:r})}}function Rb(t){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(t)}function IJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IJ(Object(r),!0).forEach(function(n){W8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tme(n.key),n)}}function MGe(t,e,r){return e&&FGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LGe(t,e,r){return e=bC(e),$Ge(t,Pme()?Reflect.construct(e,r||[],bC(t).constructor):e.apply(t,r))}function $Ge(t,e){if(e&&(Rb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BGe(t)}function BGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pme=function(){return!!t})()}function bC(t){return bC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bC(t)}function UGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V8(t,e)}function V8(t,e){return V8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V8(t,e)}function W8(t,e,r){return e=Tme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tme(t){var e=zGe(t,"string");return Rb(e)=="symbol"?e:e+""}function zGe(t,e){if(Rb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MJ=1,qGe=(function(t){function e(){var r;IGe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=LGe(this,e,[].concat(a)),W8(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),W8(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return UGe(e,t),MGe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>MJ||Math.abs(n.height-this.state.lastBoundingBox.height)>MJ)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,x=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,w=RGe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),N=w.cssClasses,S=w.cssProperties,C=FJ(FJ({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return Ne.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(R){n.wrapperNode=R}},u)}}])})(j.PureComponent),VGe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ny={isSsr:VGe()};function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function LJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LJ(Object(r),!0).forEach(function(n){E$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dme(n.key),n)}}function GGe(t,e,r){return e&&HGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YGe(t,e,r){return e=wC(e),KGe(t,Ome()?Reflect.construct(e,r||[],wC(t).constructor):e.apply(t,r))}function KGe(t,e){if(e&&(Ib(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XGe(t)}function XGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ome(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ome=function(){return!!t})()}function wC(t){return wC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wC(t)}function JGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H8(t,e)}function H8(t,e){return H8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H8(t,e)}function E$(t,e,r){return e=Dme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dme(t){var e=ZGe(t,"string");return Ib(e)=="symbol"?e:e+""}function ZGe(t,e){if(Ib(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QGe(t){return t.dataKey}function eYe(t,e){return Ne.isValidElement(t)?Ne.cloneElement(t,e):typeof t=="function"?Ne.createElement(t,e):Ne.createElement(AGe,e)}var Bc=(function(t){function e(){return WGe(this,e),YGe(this,e,arguments)}return JGe(e,t),GGe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,x=a.payload,g=a.payloadUniqBy,v=a.position,b=a.reverseDirection,_=a.useTranslate3d,w=a.viewBox,N=a.wrapperStyle,S=x??[];f&&S.length&&(S=jme(x.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,QGe));var C=S.length>0;return Ne.createElement(qGe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:C,offset:h,position:v,reverseDirection:b,useTranslate3d:_,viewBox:w,wrapperStyle:N},eYe(u,$J($J({},this.props),{},{payload:S})))}}])})(j.PureComponent);E$(Bc,"displayName","Tooltip");E$(Bc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ny.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var eR,BJ;function tYe(){if(BJ)return eR;BJ=1;var t=Jh(),e=function(){return t.Date.now()};return eR=e,eR}var tR,UJ;function rYe(){if(UJ)return tR;UJ=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return tR=e,tR}var rR,zJ;function nYe(){if(zJ)return rR;zJ=1;var t=rYe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return rR=r,rR}var nR,qJ;function Rme(){if(qJ)return nR;qJ=1;var t=nYe(),e=Cg(),r=kw(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return nR=c,nR}var sR,VJ;function sYe(){if(VJ)return sR;VJ=1;var t=Cg(),e=tYe(),r=Rme(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,f,m,h,x,g,v=0,b=!1,_=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(b=!!u.leading,_="maxWait"in u,m=_?a(r(u.maxWait)||0,c):m,w="trailing"in u?!!u.trailing:w);function N(I){var M=d,U=f;return d=f=void 0,v=I,h=l.apply(U,M),h}function S(I){return v=I,x=setTimeout(R,c),b?N(I):h}function C(I){var M=I-g,U=I-v,W=c-M;return _?i(W,m-U):W}function A(I){var M=I-g,U=I-v;return g===void 0||M>=c||M<0||_&&U>=m}function R(){var I=e();if(A(I))return O(I);x=setTimeout(R,C(I))}function O(I){return x=void 0,w&&d?N(I):(d=f=void 0,h)}function D(){x!==void 0&&clearTimeout(x),v=0,d=g=f=x=void 0}function P(){return x===void 0?h:O(e())}function E(){var I=e(),M=A(I);if(d=arguments,f=this,g=I,M){if(x===void 0)return S(g);if(_)return clearTimeout(x),x=setTimeout(R,c),N(g)}return x===void 0&&(x=setTimeout(R,c)),h}return E.cancel=D,E.flush=P,E}return sR=o,sR}var aR,WJ;function aYe(){if(WJ)return aR;WJ=1;var t=sYe(),e=Cg(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return aR=n,aR}var iYe=aYe();const Ime=us(iYe);function Vj(t){"@babel/helpers - typeof";return Vj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vj(t)}function HJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HJ(Object(r),!0).forEach(function(n){oYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oYe(t,e,r){return e=lYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lYe(t){var e=cYe(t,"string");return Vj(e)=="symbol"?e:e+""}function cYe(t,e){if(Vj(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vj(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uYe(t,e){return mYe(t)||hYe(t,e)||fYe(t,e)||dYe()}function dYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fYe(t,e){if(t){if(typeof t=="string")return GJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GJ(t,e)}}function GJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mYe(t){if(Array.isArray(t))return t}var F2=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,x=t.debounce,g=x===void 0?0:x,v=t.id,b=t.className,_=t.onResize,w=t.style,N=w===void 0?{}:w,S=j.useRef(null),C=j.useRef();C.current=_,j.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=j.useState({containerWidth:a.width,containerHeight:a.height}),R=uYe(A,2),O=R[0],D=R[1],P=j.useCallback(function(I,M){D(function(U){var W=Math.round(I),Y=Math.round(M);return U.containerWidth===W&&U.containerHeight===Y?U:{containerWidth:W,containerHeight:Y}})},[]);j.useEffect(function(){var I=function(z){var q,V=z[0].contentRect,L=V.width,X=V.height;P(L,X),(q=C.current)===null||q===void 0||q.call(C,L,X)};g>0&&(I=Ime(I,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),U=S.current.getBoundingClientRect(),W=U.width,Y=U.height;return P(W,Y),M.observe(S.current),function(){M.disconnect()}},[P,g]);var E=j.useMemo(function(){var I=O.containerWidth,M=O.containerHeight;if(I<0||M<0)return null;If(Mx(o)||Mx(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),If(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Mx(o)?I:o,W=Mx(c)?M:c;r&&r>0&&(U?W=U/r:W&&(U=W*r),m&&W>m&&(W=m)),If(U>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,W,o,c,d,f,r);var Y=!Array.isArray(h)&&tp(h.type).endsWith("Chart");return Ne.Children.map(h,function(J){return Ne.isValidElement(J)?j.cloneElement(J,a5({width:U,height:W},Y?{style:a5({height:"100%",width:"100%",maxHeight:W,maxWidth:U},J.props.style)}:{})):J})},[r,h,c,m,f,d,O,o]);return Ne.createElement("div",{id:v?"".concat(v):void 0,className:Pn("recharts-responsive-container",b),style:a5(a5({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},E)}),UE=function(e){return null};UE.displayName="Cell";function Wj(t){"@babel/helpers - typeof";return Wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wj(t)}function YJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YJ(Object(r),!0).forEach(function(n){pYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pYe(t,e,r){return e=gYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gYe(t){var e=xYe(t,"string");return Wj(e)=="symbol"?e:e+""}function xYe(t,e){if(Wj(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wj(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o1={widthCache:{},cacheCount:0},vYe=2e3,yYe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KJ="recharts_measurement_span";function bYe(t){var e=G8({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var M2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ny.isSsr)return{width:0,height:0};var n=bYe(r),a=JSON.stringify({text:e,copyStyle:n});if(o1.widthCache[a])return o1.widthCache[a];try{var i=document.getElementById(KJ);i||(i=document.createElement("span"),i.setAttribute("id",KJ),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=G8(G8({},yYe),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return o1.widthCache[a]=c,++o1.cacheCount>vYe&&(o1.cacheCount=0,o1.widthCache={}),c}catch{return{width:0,height:0}}},wYe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hj(t){"@babel/helpers - typeof";return Hj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hj(t)}function _C(t,e){return SYe(t)||NYe(t,e)||jYe(t,e)||_Ye()}function _Ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jYe(t,e){if(t){if(typeof t=="string")return XJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XJ(t,e)}}function XJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SYe(t){if(Array.isArray(t))return t}function kYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AYe(n.key),n)}}function CYe(t,e,r){return e&&JJ(t.prototype,e),r&&JJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AYe(t){var e=EYe(t,"string");return Hj(e)=="symbol"?e:e+""}function EYe(t,e){if(Hj(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hj(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PYe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TYe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fme={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OYe=Object.keys(Fme),E1="NaN";function DYe(t,e){return t*Fme[e]}var i5=(function(){function t(e,r){kYe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!PYe.test(r)&&(this.num=NaN,this.unit=""),OYe.includes(r)&&(this.num=DYe(e,r),this.unit="px")}return CYe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=TYe.exec(r))!==null&&n!==void 0?n:[],i=_C(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function Mme(t){if(t.includes(E1))return E1;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ZJ.exec(e))!==null&&r!==void 0?r:[],a=_C(n,4),i=a[1],o=a[2],l=a[3],c=i5.parse(i??""),u=i5.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return E1;e=e.replace(ZJ,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=QJ.exec(e))!==null&&f!==void 0?f:[],h=_C(m,4),x=h[1],g=h[2],v=h[3],b=i5.parse(x??""),_=i5.parse(v??""),w=g==="+"?b.add(_):b.subtract(_);if(w.isNaN())return E1;e=e.replace(QJ,w.toString())}return e}var eZ=/\(([^()]*)\)/;function RYe(t){for(var e=t;e.includes("(");){var r=eZ.exec(e),n=_C(r,2),a=n[1];e=e.replace(eZ,Mme(a))}return e}function IYe(t){var e=t.replace(/\s+/g,"");return e=RYe(e),e=Mme(e),e}function FYe(t){try{return IYe(t)}catch{return E1}}function iR(t){var e=FYe(t.slice(5,-1));return e===E1?"":e}var MYe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LYe=["dx","dy","angle","className","breakAll"];function Y8(){return Y8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y8.apply(this,arguments)}function tZ(t,e){if(t==null)return{};var r=$Ye(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Ye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rZ(t,e){return qYe(t)||zYe(t,e)||UYe(t,e)||BYe()}function BYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UYe(t,e){if(t){if(typeof t=="string")return nZ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nZ(t,e)}}function nZ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qYe(t){if(Array.isArray(t))return t}var Lme=/[ \f\n\r\t\v\u2028\u2029]+/,$me=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Cn(r)||(n?i=r.toString().split(""):i=r.toString().split(Lme));var o=i.map(function(c){return{word:c,width:M2(c,a).width}}),l=n?0:M2("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},VYe=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ir(o),f=l,m=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(W,Y){var J=Y.word,z=Y.width,q=W[W.length-1];if(q&&(a==null||i||q.width+z+n<Number(a)))q.words.push(J),q.width+=z+n;else{var V={words:[J],width:z};W.push(V)}return W},[])},h=m(r),x=function(U){return U.reduce(function(W,Y){return W.width>Y.width?W:Y})};if(!d)return h;for(var g="",v=function(U){var W=f.slice(0,U),Y=$me({breakAll:u,style:c,children:W+g}).wordsWithComputedWidth,J=m(Y),z=J.length>o||x(J).width>Number(a);return[z,J]},b=0,_=f.length-1,w=0,N;b<=_&&w<=f.length-1;){var S=Math.floor((b+_)/2),C=S-1,A=v(C),R=rZ(A,2),O=R[0],D=R[1],P=v(S),E=rZ(P,1),I=E[0];if(!O&&!I&&(b=S+1),O&&I&&(_=S-1),!O&&I){N=D;break}w++}return N||h},sZ=function(e){var r=Cn(e)?[]:e.toString().split(Lme);return[{words:r}]},WYe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!ny.isSsr){var c,u,d=$me({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return sZ(a);return VYe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return sZ(a)},aZ="#808080",Rv=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,x=e.verticalAnchor,g=x===void 0?"end":x,v=e.fill,b=v===void 0?aZ:v,_=tZ(e,MYe),w=j.useMemo(function(){return WYe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),N=_.dx,S=_.dy,C=_.angle,A=_.className,R=_.breakAll,O=tZ(_,LYe);if(!jo(n)||!jo(i))return null;var D=n+(ir(N)?N:0),P=i+(ir(S)?S:0),E;switch(g){case"start":E=iR("calc(".concat(u,")"));break;case"middle":E=iR("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=iR("calc(".concat(w.length-1," * -").concat(l,")"));break}var I=[];if(f){var M=w[0].width,U=_.width;I.push("scale(".concat((ir(U)?U/M:1)/M,")"))}return C&&I.push("rotate(".concat(C,", ").concat(D,", ").concat(P,")")),I.length&&(O.transform=I.join(" ")),Ne.createElement("text",Y8({},Qr(O,!0),{x:D,y:P,className:Pn("recharts-text",A),textAnchor:h,fill:b.includes("url")?aZ:b}),w.map(function(W,Y){var J=W.words.join(R?"":" ");return Ne.createElement("tspan",{x:D,dy:Y===0?E:l,key:"".concat(J,"-").concat(Y)},J)}))};function q0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HYe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P$(t){let e,r,n;t.length!==2?(e=q0,r=(l,c)=>q0(t(l),c),n=(l,c)=>t(l)-c):(e=t===q0||t===HYe?t:GYe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function GYe(){return 0}function Bme(t){return t===null?NaN:+t}function*YYe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const KYe=P$(q0),pS=KYe.right;P$(Bme).center;class iZ extends Map{constructor(e,r=ZYe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(oZ(this,e))}has(e){return super.has(oZ(this,e))}set(e,r){return super.set(XYe(this,e),r)}delete(e){return super.delete(JYe(this,e))}}function oZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function XYe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function JYe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ZYe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function QYe(t=q0){if(t===q0)return Ume;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Ume(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eKe=Math.sqrt(50),tKe=Math.sqrt(10),rKe=Math.sqrt(2);function jC(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=eKe?10:i>=tKe?5:i>=rKe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?jC(t,e,r*2):[l,c,u]}function K8(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?jC(e,t,r):jC(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function X8(t,e,r){return e=+e,t=+t,r=+r,jC(t,e,r)[2]}function J8(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?X8(e,t,r):X8(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function lZ(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cZ(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zme(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?Ume:QYe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),x=Math.min(n,Math.floor(e+(c-u)*f/c+m));zme(t,e,h,x,a)}const i=t[e];let o=r,l=n;for(N_(t,r,e),a(t[n],i)>0&&N_(t,r,n);o<l;){for(N_(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?N_(t,r,l):(++l,N_(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function N_(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function nKe(t,e,r){if(t=Float64Array.from(YYe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return cZ(t);if(e>=1)return lZ(t);var n,a=(n-1)*e,i=Math.floor(a),o=lZ(zme(t,i).subarray(0,i+1)),l=cZ(t.subarray(i+1));return o+(l-o)*(a-i)}}function sKe(t,e,r=Bme){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function aKe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Wd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ap(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Z8=Symbol("implicit");function T$(){var t=new iZ,e=[],r=[],n=Z8;function a(i){let o=t.get(i);if(o===void 0){if(n!==Z8)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new iZ;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return T$(e,r).unknown(n)},Wd.apply(a,arguments),a}function Gj(){var t=T$().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,x=h?a:n,g=h?n:a;i=(g-x)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),x+=(g-x-i*(m-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=aKe(m).map(function(b){return x+i*b});return r(h?v.reverse():v)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Gj(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Wd.apply(f(),arguments)}function qme(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qme(e())},t}function L2(){return qme(Gj.apply(null,arguments).paddingInner(1))}function O$(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Vme(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gS(){}var Yj=.7,NC=1/Yj,cb="\\s*([+-]?\\d+)\\s*",Kj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iKe=/^#([0-9a-f]{3,8})$/,oKe=new RegExp(`^rgb\\(${cb},${cb},${cb}\\)$`),lKe=new RegExp(`^rgb\\(${Ih},${Ih},${Ih}\\)$`),cKe=new RegExp(`^rgba\\(${cb},${cb},${cb},${Kj}\\)$`),uKe=new RegExp(`^rgba\\(${Ih},${Ih},${Ih},${Kj}\\)$`),dKe=new RegExp(`^hsl\\(${Kj},${Ih},${Ih}\\)$`),fKe=new RegExp(`^hsla\\(${Kj},${Ih},${Ih},${Kj}\\)$`),uZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O$(gS,Xj,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dZ,formatHex:dZ,formatHex8:hKe,formatHsl:mKe,formatRgb:fZ,toString:fZ});function dZ(){return this.rgb().formatHex()}function hKe(){return this.rgb().formatHex8()}function mKe(){return Wme(this).formatHsl()}function fZ(){return this.rgb().formatRgb()}function Xj(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=iKe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?hZ(e):r===3?new Uc(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?o5(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?o5(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oKe.exec(t))?new Uc(e[1],e[2],e[3],1):(e=lKe.exec(t))?new Uc(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cKe.exec(t))?o5(e[1],e[2],e[3],e[4]):(e=uKe.exec(t))?o5(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dKe.exec(t))?gZ(e[1],e[2]/100,e[3]/100,1):(e=fKe.exec(t))?gZ(e[1],e[2]/100,e[3]/100,e[4]):uZ.hasOwnProperty(t)?hZ(uZ[t]):t==="transparent"?new Uc(NaN,NaN,NaN,0):null}function hZ(t){return new Uc(t>>16&255,t>>8&255,t&255,1)}function o5(t,e,r,n){return n<=0&&(t=e=r=NaN),new Uc(t,e,r,n)}function pKe(t){return t instanceof gS||(t=Xj(t)),t?(t=t.rgb(),new Uc(t.r,t.g,t.b,t.opacity)):new Uc}function Q8(t,e,r,n){return arguments.length===1?pKe(t):new Uc(t,e,r,n??1)}function Uc(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}O$(Uc,Q8,Vme(gS,{brighter(t){return t=t==null?NC:Math.pow(NC,t),new Uc(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yj:Math.pow(Yj,t),new Uc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Uc(nv(this.r),nv(this.g),nv(this.b),SC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mZ,formatHex:mZ,formatHex8:gKe,formatRgb:pZ,toString:pZ}));function mZ(){return`#${Lx(this.r)}${Lx(this.g)}${Lx(this.b)}`}function gKe(){return`#${Lx(this.r)}${Lx(this.g)}${Lx(this.b)}${Lx((isNaN(this.opacity)?1:this.opacity)*255)}`}function pZ(){const t=SC(this.opacity);return`${t===1?"rgb(":"rgba("}${nv(this.r)}, ${nv(this.g)}, ${nv(this.b)}${t===1?")":`, ${t})`}`}function SC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nv(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lx(t){return t=nv(t),(t<16?"0":"")+t.toString(16)}function gZ(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new kf(t,e,r,n)}function Wme(t){if(t instanceof kf)return new kf(t.h,t.s,t.l,t.opacity);if(t instanceof gS||(t=Xj(t)),!t)return new kf;if(t instanceof kf)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new kf(o,l,c,t.opacity)}function xKe(t,e,r,n){return arguments.length===1?Wme(t):new kf(t,e,r,n??1)}function kf(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}O$(kf,xKe,Vme(gS,{brighter(t){return t=t==null?NC:Math.pow(NC,t),new kf(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yj:Math.pow(Yj,t),new kf(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Uc(oR(t>=240?t-240:t+120,a,n),oR(t,a,n),oR(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new kf(xZ(this.h),l5(this.s),l5(this.l),SC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=SC(this.opacity);return`${t===1?"hsl(":"hsla("}${xZ(this.h)}, ${l5(this.s)*100}%, ${l5(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xZ(t){return t=(t||0)%360,t<0?t+360:t}function l5(t){return Math.max(0,Math.min(1,t||0))}function oR(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const D$=t=>()=>t;function vKe(t,e){return function(r){return t+r*e}}function yKe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function bKe(t){return(t=+t)==1?Hme:function(e,r){return r-e?yKe(e,r,t):D$(isNaN(e)?r:e)}}function Hme(t,e){var r=e-t;return r?vKe(t,r):D$(isNaN(t)?e:t)}const vZ=(function t(e){var r=bKe(e);function n(a,i){var o=r((a=Q8(a)).r,(i=Q8(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Hme(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n})(1);function wKe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function _Ke(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jKe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Pw(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function NKe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function kC(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function SKe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Pw(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var eM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lR=new RegExp(eM.source,"g");function kKe(t){return function(){return t}}function CKe(t){return function(e){return t(e)+""}}function AKe(t,e){var r=eM.lastIndex=lR.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=eM.exec(t))&&(a=lR.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:kC(n,a)})),r=lR.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?CKe(c[0].x):kKe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Pw(t,e){var r=typeof e,n;return e==null||r==="boolean"?D$(e):(r==="number"?kC:r==="string"?(n=Xj(e))?(e=n,vZ):AKe:e instanceof Xj?vZ:e instanceof Date?NKe:_Ke(e)?wKe:Array.isArray(e)?jKe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SKe:kC)(t,e)}function R$(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function EKe(t,e){e===void 0&&(e=t,t=Pw);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function PKe(t){return function(){return t}}function CC(t){return+t}var yZ=[0,1];function mc(t){return t}function tM(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:PKe(isNaN(e)?NaN:.5)}function TKe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function OKe(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=tM(a,n),i=r(o,i)):(n=tM(n,a),i=r(i,o)),function(l){return i(n(l))}}function DKe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=tM(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=pS(t,l,1,n)-1;return i[c](a[c](l))}}function xS(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zE(){var t=yZ,e=yZ,r=Pw,n,a,i,o=mc,l,c,u;function d(){var m=Math.min(t.length,e.length);return o!==mc&&(o=TKe(t[0],t[m-1])),l=m>2?DKe:OKe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(t.map(n),e,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(e,t.map(n),kC)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,CC),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=R$,d()},f.clamp=function(m){return arguments.length?(o=m?!0:mc,d()):o!==mc},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,d()}}function I$(){return zE()(mc,mc)}function RKe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function AC(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fb(t){return t=AC(Math.abs(t)),t?t[1]:NaN}function IKe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function FKe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var MKe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jj(t){if(!(e=MKe.exec(t)))throw new Error("invalid format: "+t);var e;return new F$({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jj.prototype=F$.prototype;function F$(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F$.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LKe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Gme;function $Ke(t,e){var r=AC(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(Gme=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+AC(t,Math.max(0,e+i-1))[0]}function bZ(t,e){var r=AC(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wZ={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RKe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bZ(t*100,e),r:bZ,s:$Ke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _Z(t){return t}var jZ=Array.prototype.map,NZ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BKe(t){var e=t.grouping===void 0||t.thousands===void 0?_Z:IKe(jZ.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?_Z:FKe(jZ.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Jj(f);var m=f.fill,h=f.align,x=f.sign,g=f.symbol,v=f.zero,b=f.width,_=f.comma,w=f.precision,N=f.trim,S=f.type;S==="n"?(_=!0,S="g"):wZ[S]||(w===void 0&&(w=12),N=!0,S="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=g==="$"?n:/[%p]/.test(S)?o:"",R=wZ[S],O=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(P){var E=C,I=A,M,U,W;if(S==="c")I=R(P)+I,P="";else{P=+P;var Y=P<0||1/P<0;if(P=isNaN(P)?c:R(Math.abs(P),w),N&&(P=LKe(P)),Y&&+P==0&&x!=="+"&&(Y=!1),E=(Y?x==="("?x:l:x==="-"||x==="("?"":x)+E,I=(S==="s"?NZ[8+Gme/3]:"")+I+(Y&&x==="("?")":""),O){for(M=-1,U=P.length;++M<U;)if(W=P.charCodeAt(M),48>W||W>57){I=(W===46?a+P.slice(M+1):P.slice(M))+I,P=P.slice(0,M);break}}}_&&!v&&(P=e(P,1/0));var J=E.length+P.length+I.length,z=J<b?new Array(b-J+1).join(m):"";switch(_&&v&&(P=e(z+P,z.length?b-I.length:1/0),z=""),h){case"<":P=E+P+I+z;break;case"=":P=E+z+P+I;break;case"^":P=z.slice(0,J=z.length>>1)+E+P+I+z.slice(J);break;default:P=z+E+P+I;break}return i(P)}return D.toString=function(){return f+""},D}function d(f,m){var h=u((f=Jj(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Fb(m)/3)))*3,g=Math.pow(10,-x),v=NZ[8+x/3];return function(b){return h(g*b)+v}}return{format:u,formatPrefix:d}}var c5,M$,Yme;UKe({thousands:",",grouping:[3],currency:["$",""]});function UKe(t){return c5=BKe(t),M$=c5.format,Yme=c5.formatPrefix,c5}function zKe(t){return Math.max(0,-Fb(Math.abs(t)))}function qKe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fb(e)/3)))*3-Fb(Math.abs(t)))}function VKe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fb(e)-Fb(t))+1}function Kme(t,e,r,n){var a=J8(t,e,r),i;switch(n=Jj(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=qKe(a,o))&&(n.precision=i),Yme(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=VKe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=zKe(a))&&(n.precision=i-(n.type==="%")*2);break}}return M$(n)}function Ag(t){var e=t.domain;return t.ticks=function(r){var n=e();return K8(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return Kme(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=X8(o,l,r),u===c)return n[a]=o,n[i]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function EC(){var t=I$();return t.copy=function(){return xS(t,EC())},Wd.apply(t,arguments),Ag(t)}function Xme(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,CC),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Xme(t).unknown(e)},t=arguments.length?Array.from(t,CC):[0,1],Ag(r)}function Jme(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function SZ(t){return Math.log(t)}function kZ(t){return Math.exp(t)}function WKe(t){return-Math.log(-t)}function HKe(t){return-Math.exp(-t)}function GKe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function YKe(t){return t===10?GKe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function KKe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CZ(t){return(e,r)=>-t(-e,r)}function L$(t){const e=t(SZ,kZ),r=e.domain;let n=10,a,i;function o(){return a=KKe(n),i=YKe(n),r()[0]<0?(a=CZ(a),i=CZ(i),t(WKe,HKe)):t(SZ,kZ),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),x,g;const v=l==null?10:+l;let b=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(x=1;x<n;++x)if(g=m<0?x/i(-m):x*i(m),!(g<u)){if(g>d)break;b.push(g)}}else for(;m<=h;++m)for(x=n-1;x>=1;--x)if(g=m>0?x/i(-m):x*i(m),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=K8(u,d,v))}else b=K8(m,h,Math.min(h-m,v)).map(i);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Jj(c)).precision==null&&(c.trim=!0),c=M$(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(Jme(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function Zme(){const t=L$(zE()).domain([1,10]);return t.copy=()=>xS(t,Zme()).base(t.base()),Wd.apply(t,arguments),t}function AZ(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function EZ(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $$(t){var e=1,r=t(AZ(e),EZ(e));return r.constant=function(n){return arguments.length?t(AZ(e=+n),EZ(e)):e},Ag(r)}function Qme(){var t=$$(zE());return t.copy=function(){return xS(t,Qme()).constant(t.constant())},Wd.apply(t,arguments)}function PZ(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function XKe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function JKe(t){return t<0?-t*t:t*t}function B$(t){var e=t(mc,mc),r=1;function n(){return r===1?t(mc,mc):r===.5?t(XKe,JKe):t(PZ(r),PZ(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ag(e)}function U$(){var t=B$(zE());return t.copy=function(){return xS(t,U$()).exponent(t.exponent())},Wd.apply(t,arguments),t}function ZKe(){return U$.apply(null,arguments).exponent(.5)}function TZ(t){return Math.sign(t)*t*t}function QKe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function epe(){var t=I$(),e=[0,1],r=!1,n;function a(i){var o=QKe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(TZ(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,CC)).map(TZ)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return epe(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Wd.apply(a,arguments),Ag(a)}function tpe(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=sKe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[pS(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(q0),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return tpe().domain(t).range(e).unknown(n)},Wd.apply(i,arguments)}function rpe(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[pS(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return rpe().domain([t,e]).range(a).unknown(i)},Wd.apply(Ag(o),arguments)}function npe(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[pS(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return npe().domain(t).range(e).unknown(r)},Wd.apply(a,arguments)}const cR=new Date,uR=new Date;function ko(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},a.filter=i=>ko(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(cR.setTime(+i),uR.setTime(+o),t(cR),t(uR),Math.floor(r(cR,uR))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const PC=ko(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);PC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ko(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):PC);PC.range;const Gm=1e3,Pd=Gm*60,Ym=Pd*60,pp=Ym*24,z$=pp*7,OZ=pp*30,dR=pp*365,$x=ko(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gm)},(t,e)=>(e-t)/Gm,t=>t.getUTCSeconds());$x.range;const q$=ko(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gm)},(t,e)=>{t.setTime(+t+e*Pd)},(t,e)=>(e-t)/Pd,t=>t.getMinutes());q$.range;const V$=ko(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pd)},(t,e)=>(e-t)/Pd,t=>t.getUTCMinutes());V$.range;const W$=ko(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gm-t.getMinutes()*Pd)},(t,e)=>{t.setTime(+t+e*Ym)},(t,e)=>(e-t)/Ym,t=>t.getHours());W$.range;const H$=ko(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ym)},(t,e)=>(e-t)/Ym,t=>t.getUTCHours());H$.range;const vS=ko(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pd)/pp,t=>t.getDate()-1);vS.range;const qE=ko(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pp,t=>t.getUTCDate()-1);qE.range;const spe=ko(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pp,t=>Math.floor(t/pp));spe.range;function sy(t){return ko(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Pd)/z$)}const VE=sy(0),TC=sy(1),eXe=sy(2),tXe=sy(3),Mb=sy(4),rXe=sy(5),nXe=sy(6);VE.range;TC.range;eXe.range;tXe.range;Mb.range;rXe.range;nXe.range;function ay(t){return ko(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/z$)}const WE=ay(0),OC=ay(1),sXe=ay(2),aXe=ay(3),Lb=ay(4),iXe=ay(5),oXe=ay(6);WE.range;OC.range;sXe.range;aXe.range;Lb.range;iXe.range;oXe.range;const G$=ko(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());G$.range;const Y$=ko(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Y$.range;const gp=ko(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ko(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});gp.range;const xp=ko(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ko(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});xp.range;function ape(t,e,r,n,a,i){const o=[[$x,1,Gm],[$x,5,5*Gm],[$x,15,15*Gm],[$x,30,30*Gm],[i,1,Pd],[i,5,5*Pd],[i,15,15*Pd],[i,30,30*Pd],[a,1,Ym],[a,3,3*Ym],[a,6,6*Ym],[a,12,12*Ym],[n,1,pp],[n,2,2*pp],[r,1,z$],[e,1,OZ],[e,3,3*OZ],[t,1,dR]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),x=h?h.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,h=P$(([,,v])=>v).right(o,m);if(h===o.length)return t.every(J8(u/dR,d/dR,f));if(h===0)return PC.every(Math.max(J8(u,d,f),1));const[x,g]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return x.every(g)}return[l,c]}const[lXe,cXe]=ape(xp,Y$,WE,spe,H$,V$),[uXe,dXe]=ape(gp,G$,VE,vS,W$,q$);function fR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function S_(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function fXe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=k_(a),d=C_(a),f=k_(i),m=C_(i),h=k_(o),x=C_(o),g=k_(l),v=C_(l),b=k_(c),_=C_(c),w={a:Y,A:J,b:z,B:q,c:null,d:LZ,e:LZ,f:IXe,g:WXe,G:GXe,H:OXe,I:DXe,j:RXe,L:ipe,m:FXe,M:MXe,p:V,q:L,Q:UZ,s:zZ,S:LXe,u:$Xe,U:BXe,V:UXe,w:zXe,W:qXe,x:null,X:null,y:VXe,Y:HXe,Z:YXe,"%":BZ},N={a:X,A:K,b:Q,B:oe,c:null,d:$Z,e:$Z,f:ZXe,g:lJe,G:uJe,H:KXe,I:XXe,j:JXe,L:lpe,m:QXe,M:eJe,p:ce,q:de,Q:UZ,s:zZ,S:tJe,u:rJe,U:nJe,V:sJe,w:aJe,W:iJe,x:null,X:null,y:oJe,Y:cJe,Z:dJe,"%":BZ},S={a:D,A:P,b:E,B:I,c:M,d:FZ,e:FZ,f:AXe,g:IZ,G:RZ,H:MZ,I:MZ,j:NXe,L:CXe,m:jXe,M:SXe,p:O,q:_Xe,Q:PXe,s:TXe,S:kXe,u:xXe,U:vXe,V:yXe,w:gXe,W:bXe,x:U,X:W,y:IZ,Y:RZ,Z:wXe,"%":EXe};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),N.x=C(r,N),N.X=C(n,N),N.c=C(e,N);function C(ne,ue){return function(se){var Z=[],Oe=-1,re=0,le=ne.length,We,xe,Le;for(se instanceof Date||(se=new Date(+se));++Oe<le;)ne.charCodeAt(Oe)===37&&(Z.push(ne.slice(re,Oe)),(xe=DZ[We=ne.charAt(++Oe)])!=null?We=ne.charAt(++Oe):xe=We==="e"?" ":"0",(Le=ue[We])&&(We=Le(se,xe)),Z.push(We),re=Oe+1);return Z.push(ne.slice(re,Oe)),Z.join("")}}function A(ne,ue){return function(se){var Z=S_(1900,void 0,1),Oe=R(Z,ne,se+="",0),re,le;if(Oe!=se.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ue&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(re=hR(S_(Z.y,0,1)),le=re.getUTCDay(),re=le>4||le===0?OC.ceil(re):OC(re),re=qE.offset(re,(Z.V-1)*7),Z.y=re.getUTCFullYear(),Z.m=re.getUTCMonth(),Z.d=re.getUTCDate()+(Z.w+6)%7):(re=fR(S_(Z.y,0,1)),le=re.getDay(),re=le>4||le===0?TC.ceil(re):TC(re),re=vS.offset(re,(Z.V-1)*7),Z.y=re.getFullYear(),Z.m=re.getMonth(),Z.d=re.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),le="Z"in Z?hR(S_(Z.y,0,1)).getUTCDay():fR(S_(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(le+5)%7:Z.w+Z.U*7-(le+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,hR(Z)):fR(Z)}}function R(ne,ue,se,Z){for(var Oe=0,re=ue.length,le=se.length,We,xe;Oe<re;){if(Z>=le)return-1;if(We=ue.charCodeAt(Oe++),We===37){if(We=ue.charAt(Oe++),xe=S[We in DZ?ue.charAt(Oe++):We],!xe||(Z=xe(ne,se,Z))<0)return-1}else if(We!=se.charCodeAt(Z++))return-1}return Z}function O(ne,ue,se){var Z=u.exec(ue.slice(se));return Z?(ne.p=d.get(Z[0].toLowerCase()),se+Z[0].length):-1}function D(ne,ue,se){var Z=h.exec(ue.slice(se));return Z?(ne.w=x.get(Z[0].toLowerCase()),se+Z[0].length):-1}function P(ne,ue,se){var Z=f.exec(ue.slice(se));return Z?(ne.w=m.get(Z[0].toLowerCase()),se+Z[0].length):-1}function E(ne,ue,se){var Z=b.exec(ue.slice(se));return Z?(ne.m=_.get(Z[0].toLowerCase()),se+Z[0].length):-1}function I(ne,ue,se){var Z=g.exec(ue.slice(se));return Z?(ne.m=v.get(Z[0].toLowerCase()),se+Z[0].length):-1}function M(ne,ue,se){return R(ne,e,ue,se)}function U(ne,ue,se){return R(ne,r,ue,se)}function W(ne,ue,se){return R(ne,n,ue,se)}function Y(ne){return o[ne.getDay()]}function J(ne){return i[ne.getDay()]}function z(ne){return c[ne.getMonth()]}function q(ne){return l[ne.getMonth()]}function V(ne){return a[+(ne.getHours()>=12)]}function L(ne){return 1+~~(ne.getMonth()/3)}function X(ne){return o[ne.getUTCDay()]}function K(ne){return i[ne.getUTCDay()]}function Q(ne){return c[ne.getUTCMonth()]}function oe(ne){return l[ne.getUTCMonth()]}function ce(ne){return a[+(ne.getUTCHours()>=12)]}function de(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ue=C(ne+="",w);return ue.toString=function(){return ne},ue},parse:function(ne){var ue=A(ne+="",!1);return ue.toString=function(){return ne},ue},utcFormat:function(ne){var ue=C(ne+="",N);return ue.toString=function(){return ne},ue},utcParse:function(ne){var ue=A(ne+="",!0);return ue.toString=function(){return ne},ue}}}var DZ={"-":"",_:" ",0:"0"},Xo=/^\s*\d+/,hXe=/^%/,mXe=/[\\^$*+?|[\]().{}]/g;function Ns(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function pXe(t){return t.replace(mXe,"\\$&")}function k_(t){return new RegExp("^(?:"+t.map(pXe).join("|")+")","i")}function C_(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function gXe(t,e,r){var n=Xo.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function xXe(t,e,r){var n=Xo.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function vXe(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function yXe(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function bXe(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function RZ(t,e,r){var n=Xo.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function IZ(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wXe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _Xe(t,e,r){var n=Xo.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function jXe(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function FZ(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function NXe(t,e,r){var n=Xo.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function MZ(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function SXe(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function kXe(t,e,r){var n=Xo.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function CXe(t,e,r){var n=Xo.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function AXe(t,e,r){var n=Xo.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EXe(t,e,r){var n=hXe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function PXe(t,e,r){var n=Xo.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function TXe(t,e,r){var n=Xo.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function LZ(t,e){return Ns(t.getDate(),e,2)}function OXe(t,e){return Ns(t.getHours(),e,2)}function DXe(t,e){return Ns(t.getHours()%12||12,e,2)}function RXe(t,e){return Ns(1+vS.count(gp(t),t),e,3)}function ipe(t,e){return Ns(t.getMilliseconds(),e,3)}function IXe(t,e){return ipe(t,e)+"000"}function FXe(t,e){return Ns(t.getMonth()+1,e,2)}function MXe(t,e){return Ns(t.getMinutes(),e,2)}function LXe(t,e){return Ns(t.getSeconds(),e,2)}function $Xe(t){var e=t.getDay();return e===0?7:e}function BXe(t,e){return Ns(VE.count(gp(t)-1,t),e,2)}function ope(t){var e=t.getDay();return e>=4||e===0?Mb(t):Mb.ceil(t)}function UXe(t,e){return t=ope(t),Ns(Mb.count(gp(t),t)+(gp(t).getDay()===4),e,2)}function zXe(t){return t.getDay()}function qXe(t,e){return Ns(TC.count(gp(t)-1,t),e,2)}function VXe(t,e){return Ns(t.getFullYear()%100,e,2)}function WXe(t,e){return t=ope(t),Ns(t.getFullYear()%100,e,2)}function HXe(t,e){return Ns(t.getFullYear()%1e4,e,4)}function GXe(t,e){var r=t.getDay();return t=r>=4||r===0?Mb(t):Mb.ceil(t),Ns(t.getFullYear()%1e4,e,4)}function YXe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ns(e/60|0,"0",2)+Ns(e%60,"0",2)}function $Z(t,e){return Ns(t.getUTCDate(),e,2)}function KXe(t,e){return Ns(t.getUTCHours(),e,2)}function XXe(t,e){return Ns(t.getUTCHours()%12||12,e,2)}function JXe(t,e){return Ns(1+qE.count(xp(t),t),e,3)}function lpe(t,e){return Ns(t.getUTCMilliseconds(),e,3)}function ZXe(t,e){return lpe(t,e)+"000"}function QXe(t,e){return Ns(t.getUTCMonth()+1,e,2)}function eJe(t,e){return Ns(t.getUTCMinutes(),e,2)}function tJe(t,e){return Ns(t.getUTCSeconds(),e,2)}function rJe(t){var e=t.getUTCDay();return e===0?7:e}function nJe(t,e){return Ns(WE.count(xp(t)-1,t),e,2)}function cpe(t){var e=t.getUTCDay();return e>=4||e===0?Lb(t):Lb.ceil(t)}function sJe(t,e){return t=cpe(t),Ns(Lb.count(xp(t),t)+(xp(t).getUTCDay()===4),e,2)}function aJe(t){return t.getUTCDay()}function iJe(t,e){return Ns(OC.count(xp(t)-1,t),e,2)}function oJe(t,e){return Ns(t.getUTCFullYear()%100,e,2)}function lJe(t,e){return t=cpe(t),Ns(t.getUTCFullYear()%100,e,2)}function cJe(t,e){return Ns(t.getUTCFullYear()%1e4,e,4)}function uJe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Lb(t):Lb.ceil(t),Ns(t.getUTCFullYear()%1e4,e,4)}function dJe(){return"+0000"}function BZ(){return"%"}function UZ(t){return+t}function zZ(t){return Math.floor(+t/1e3)}var l1,upe,dpe;fJe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fJe(t){return l1=fXe(t),upe=l1.format,l1.parse,dpe=l1.utcFormat,l1.utcParse,l1}function hJe(t){return new Date(t)}function mJe(t){return t instanceof Date?+t:+new Date(+t)}function K$(t,e,r,n,a,i,o,l,c,u){var d=I$(),f=d.invert,m=d.domain,h=u(".%L"),x=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),_=u("%b %d"),w=u("%B"),N=u("%Y");function S(C){return(c(C)<C?h:l(C)<C?x:o(C)<C?g:i(C)<C?v:n(C)<C?a(C)<C?b:_:r(C)<C?w:N)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,mJe)):m().map(hJe)},d.ticks=function(C){var A=m();return t(A[0],A[A.length-1],C??10)},d.tickFormat=function(C,A){return A==null?S:u(A)},d.nice=function(C){var A=m();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?m(Jme(A,C)):d},d.copy=function(){return xS(d,K$(t,e,r,n,a,i,o,l,c,u))},d}function pJe(){return Wd.apply(K$(uXe,dXe,gp,G$,VE,vS,W$,q$,$x,upe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gJe(){return Wd.apply(K$(lXe,cXe,xp,Y$,WE,qE,H$,V$,$x,dpe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function HE(){var t=0,e=1,r,n,a,i,o=mc,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,x;return arguments.length?([h,x]=m,o=f(h,x),u):[o(0),o(1)]}}return u.range=d(Pw),u.rangeRound=d(R$),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Eg(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fpe(){var t=Ag(HE()(mc));return t.copy=function(){return Eg(t,fpe())},Ap.apply(t,arguments)}function hpe(){var t=L$(HE()).domain([1,10]);return t.copy=function(){return Eg(t,hpe()).base(t.base())},Ap.apply(t,arguments)}function mpe(){var t=$$(HE());return t.copy=function(){return Eg(t,mpe()).constant(t.constant())},Ap.apply(t,arguments)}function X$(){var t=B$(HE());return t.copy=function(){return Eg(t,X$()).exponent(t.exponent())},Ap.apply(t,arguments)}function xJe(){return X$.apply(null,arguments).exponent(.5)}function ppe(){var t=[],e=mc;function r(n){if(n!=null&&!isNaN(n=+n))return e((pS(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(q0),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>nKe(t,i/n))},r.copy=function(){return ppe(e).domain(t)},Ap.apply(r,arguments)}function GE(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,u=mc,d,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,a=d(t=+t),i=d(e=+e),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function x(g){return function(v){var b,_,w;return arguments.length?([b,_,w]=v,u=EKe(g,[b,_,w]),h):[u(0),u(.5),u(1)]}}return h.range=x(Pw),h.rangeRound=x(R$),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return d=g,a=g(t),i=g(e),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function gpe(){var t=Ag(GE()(mc));return t.copy=function(){return Eg(t,gpe())},Ap.apply(t,arguments)}function xpe(){var t=L$(GE()).domain([.1,1,10]);return t.copy=function(){return Eg(t,xpe()).base(t.base())},Ap.apply(t,arguments)}function vpe(){var t=$$(GE());return t.copy=function(){return Eg(t,vpe()).constant(t.constant())},Ap.apply(t,arguments)}function J$(){var t=B$(GE());return t.copy=function(){return Eg(t,J$()).exponent(t.exponent())},Ap.apply(t,arguments)}function vJe(){return J$.apply(null,arguments).exponent(.5)}const qZ=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gj,scaleDiverging:gpe,scaleDivergingLog:xpe,scaleDivergingPow:J$,scaleDivergingSqrt:vJe,scaleDivergingSymlog:vpe,scaleIdentity:Xme,scaleImplicit:Z8,scaleLinear:EC,scaleLog:Zme,scaleOrdinal:T$,scalePoint:L2,scalePow:U$,scaleQuantile:tpe,scaleQuantize:rpe,scaleRadial:epe,scaleSequential:fpe,scaleSequentialLog:hpe,scaleSequentialPow:X$,scaleSequentialQuantile:ppe,scaleSequentialSqrt:xJe,scaleSequentialSymlog:mpe,scaleSqrt:ZKe,scaleSymlog:Qme,scaleThreshold:npe,scaleTime:pJe,scaleUtc:gJe,tickFormat:Kme},Symbol.toStringTag,{value:"Module"}));var mR,VZ;function YE(){if(VZ)return mR;VZ=1;var t=kw();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,d=l}return d}return mR=e,mR}var pR,WZ;function ype(){if(WZ)return pR;WZ=1;function t(e,r){return e>r}return pR=t,pR}var gR,HZ;function yJe(){if(HZ)return gR;HZ=1;var t=YE(),e=ype(),r=Ew();function n(a){return a&&a.length?t(a,r,e):void 0}return gR=n,gR}var bJe=yJe();const KE=us(bJe);var xR,GZ;function bpe(){if(GZ)return xR;GZ=1;function t(e,r){return e<r}return xR=t,xR}var vR,YZ;function wJe(){if(YZ)return vR;YZ=1;var t=YE(),e=bpe(),r=Ew();function n(a){return a&&a.length?t(a,r,e):void 0}return vR=n,vR}var _Je=wJe();const XE=us(_Je);var yR,KZ;function jJe(){if(KZ)return yR;KZ=1;var t=h$(),e=Zh(),r=Ame(),n=Zc();function a(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return yR=a,yR}var bR,XZ;function NJe(){if(XZ)return bR;XZ=1;var t=kme(),e=jJe();function r(n,a){return t(e(n,a),1)}return bR=r,bR}var SJe=NJe();const kJe=us(SJe);var wR,JZ;function CJe(){if(JZ)return wR;JZ=1;var t=k$();function e(r,n){return t(r,n)}return wR=e,wR}var AJe=CJe();const yS=us(AJe);var Tw=1e9,EJe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q$,Ia=!0,$d="[DecimalError] ",sv=$d+"Invalid argument: ",Z$=$d+"Exponent out of range: ",Ow=Math.floor,_x=Math.pow,PJe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ou,Bo=1e7,wa=7,wpe=9007199254740991,DC=Ow(wpe/wa),Er={};Er.absoluteValue=Er.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Er.comparedTo=Er.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Er.decimalPlaces=Er.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*wa;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Er.dividedBy=Er.div=function(t){return rp(this,new this.constructor(t))};Er.dividedToIntegerBy=Er.idiv=function(t){var e=this,r=e.constructor;return sa(rp(e,new r(t),0,1),r.precision)};Er.equals=Er.eq=function(t){return!this.cmp(t)};Er.exponent=function(){return no(this)};Er.greaterThan=Er.gt=function(t){return this.cmp(t)>0};Er.greaterThanOrEqualTo=Er.gte=function(t){return this.cmp(t)>=0};Er.isInteger=Er.isint=function(){return this.e>this.d.length-2};Er.isNegative=Er.isneg=function(){return this.s<0};Er.isPositive=Er.ispos=function(){return this.s>0};Er.isZero=function(){return this.s===0};Er.lessThan=Er.lt=function(t){return this.cmp(t)<0};Er.lessThanOrEqualTo=Er.lte=function(t){return this.cmp(t)<1};Er.logarithm=Er.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ou))throw Error($d+"NaN");if(r.s<1)throw Error($d+(r.s?"NaN":"-Infinity"));return r.eq(Ou)?new n(0):(Ia=!1,e=rp(Zj(r,i),Zj(t,i),i),Ia=!0,sa(e,a))};Er.minus=Er.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Npe(e,t):_pe(e,(t.s=-t.s,t))};Er.modulo=Er.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error($d+"NaN");return r.s?(Ia=!1,e=rp(r,t,0,1).times(t),Ia=!0,r.minus(e)):sa(new n(r),a)};Er.naturalExponential=Er.exp=function(){return jpe(this)};Er.naturalLogarithm=Er.ln=function(){return Zj(this)};Er.negated=Er.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Er.plus=Er.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_pe(e,t):Npe(e,(t.s=-t.s,t))};Er.precision=Er.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sv+t);if(e=no(a)+1,n=a.d.length-1,r=n*wa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Er.squareRoot=Er.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($d+"NaN")}for(t=no(l),Ia=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Ah(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ow((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(rp(l,i,o+2)).times(.5),Ah(i.d).slice(0,o)===(e=Ah(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(sa(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return Ia=!0,sa(n,r)};Er.times=Er.mul=function(t){var e,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*m[a-n-1]+e,i[a--]=l%Bo|0,e=l/Bo|0;i[a]=(i[a]+e)%Bo|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Ia?sa(t,f.precision):t};Er.toDecimalPlaces=Er.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Vh(t,0,Tw),e===void 0?e=n.rounding:Vh(e,0,8),sa(r,t+no(r)+1,e))};Er.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Iv(n,!0):(Vh(t,0,Tw),e===void 0?e=a.rounding:Vh(e,0,8),n=sa(new a(n),t+1,e),r=Iv(n,!0,t+1)),r};Er.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Iv(a):(Vh(t,0,Tw),e===void 0?e=i.rounding:Vh(e,0,8),n=sa(new i(a),t+no(a)+1,e),r=Iv(n.abs(),!1,t+no(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Er.toInteger=Er.toint=function(){var t=this,e=t.constructor;return sa(new e(t),no(t)+1,e.rounding)};Er.toNumber=function(){return+this};Er.toPower=Er.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ou);if(l=new c(l),!l.s){if(t.s<1)throw Error($d+"Infinity");return l}if(l.eq(Ou))return l;if(n=c.precision,t.eq(Ou))return sa(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=d<0?-d:d)<=wpe){for(a=new c(Ou),e=Math.ceil(n/wa+4),Ia=!1;r%2&&(a=a.times(l),QZ(a.d,e)),r=Ow(r/2),r!==0;)l=l.times(l),QZ(l.d,e);return Ia=!0,t.s<0?new c(Ou).div(a):sa(a,n)}}else if(i<0)throw Error($d+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ia=!1,a=t.times(Zj(l,n+u)),Ia=!0,a=jpe(a),a.s=i,a};Er.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=no(a),n=Iv(a,r<=i.toExpNeg||r>=i.toExpPos)):(Vh(t,1,Tw),e===void 0?e=i.rounding:Vh(e,0,8),a=sa(new i(a),t,e),r=no(a),n=Iv(a,t<=r||r<=i.toExpNeg,t)),n};Er.toSignificantDigits=Er.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Vh(t,1,Tw),e===void 0?e=n.rounding:Vh(e,0,8)),sa(new n(r),t,e)};Er.toString=Er.valueOf=Er.val=Er.toJSON=Er[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=no(t),r=t.constructor;return Iv(t,e<=r.toExpNeg||e>=r.toExpPos)};function _pe(t,e){var r,n,a,i,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ia?sa(e,f):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/wa),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Bo|0,c[i]%=Bo;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Ia?sa(e,f):e}function Vh(t,e,r){if(t!==~~t||t<e||t>r)throw Error(sv+t)}function Ah(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=wa-n.length,r&&(i+=v0(r)),i+=n;o=t[e],n=o+"",r=wa-n.length,r&&(i+=v0(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var rp=(function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Bo|0,o=i/Bo|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Bo+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,h,x,g,v,b,_,w,N,S,C,A,R,O=n.constructor,D=n.s==a.s?1:-1,P=n.d,E=a.d;if(!n.s)return new O(n);if(!a.s)throw Error($d+"Division by zero");for(c=n.e-a.e,A=E.length,S=P.length,h=new O(D),x=h.d=[],u=0;E[u]==(P[u]||0);)++u;if(E[u]>(P[u]||0)&&--c,i==null?_=i=O.precision:o?_=i+(no(n)-no(a))+1:_=i,_<0)return new O(0);if(_=_/wa+2|0,u=0,A==1)for(d=0,E=E[0],_++;(u<S||d)&&_--;u++)w=d*Bo+(P[u]||0),x[u]=w/E|0,d=w%E|0;else{for(d=Bo/(E[0]+1)|0,d>1&&(E=t(E,d),P=t(P,d),A=E.length,S=P.length),N=A,g=P.slice(0,A),v=g.length;v<A;)g[v++]=0;R=E.slice(),R.unshift(0),C=E[0],E[1]>=Bo/2&&++C;do d=0,l=e(E,g,A,v),l<0?(b=g[0],A!=v&&(b=b*Bo+(g[1]||0)),d=b/C|0,d>1?(d>=Bo&&(d=Bo-1),f=t(E,d),m=f.length,v=g.length,l=e(f,g,m,v),l==1&&(d--,r(f,A<m?R:E,m))):(d==0&&(l=d=1),f=E.slice()),m=f.length,m<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=e(E,g,A,v),l<1&&(d++,r(g,A<v?R:E,v))),v=g.length):l===0&&(d++,g=[0]),x[u++]=d,l&&g[0]?g[v++]=P[N]||0:(g=[P[N]],v=1);while((N++<S||g[0]!==void 0)&&_--)}return x[0]||x.shift(),h.e=c,sa(h,o?i+no(h)+1:i)}})();function jpe(t,e){var r,n,a,i,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(no(t)>16)throw Error(Z$+no(t));if(!t.s)return new d(Ou);for(Ia=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(_x(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ou),d.precision=l;;){if(a=sa(a.times(t),l),r=r.times(++c),o=i.plus(rp(a,r,l)),Ah(o.d).slice(0,l)===Ah(i.d).slice(0,l)){for(;u--;)i=sa(i.times(i),l);return d.precision=f,e==null?(Ia=!0,sa(i,f)):i}i=o}}function no(t){for(var e=t.e*wa,r=t.d[0];r>=10;r/=10)e++;return e}function _R(t,e,r){if(e>t.LN10.sd())throw Ia=!0,r&&(t.precision=r),Error($d+"LN10 precision limit exceeded");return sa(new t(t.LN10),e)}function v0(t){for(var e="";t--;)e+="0";return e}function Zj(t,e){var r,n,a,i,o,l,c,u,d,f=1,m=10,h=t,x=h.d,g=h.constructor,v=g.precision;if(h.s<1)throw Error($d+(h.s?"NaN":"-Infinity"));if(h.eq(Ou))return new g(0);if(e==null?(Ia=!1,u=v):u=e,h.eq(10))return e==null&&(Ia=!0),_R(g,u);if(u+=m,g.precision=u,r=Ah(x),n=r.charAt(0),i=no(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Ah(h.d),n=r.charAt(0),f++;i=no(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return c=_R(g,u+2,v).times(i+""),h=Zj(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=v,e==null?(Ia=!0,sa(h,v)):h;for(l=o=h=rp(h.minus(Ou),h.plus(Ou),u),d=sa(h.times(h),u),a=3;;){if(o=sa(o.times(d),u),c=l.plus(rp(o,new g(a),u)),Ah(c.d).slice(0,u)===Ah(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(_R(g,u+2,v).times(i+""))),l=rp(l,new g(f),u),g.precision=v,e==null?(Ia=!0,sa(l,v)):l;l=c,a+=2}}function ZZ(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Ow(r/wa),t.d=[],n=(r+1)%wa,r<0&&(n+=wa),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=wa;n<a;)t.d.push(+e.slice(n,n+=wa));e=e.slice(n),n=wa-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Ia&&(t.e>DC||t.e<-DC))throw Error(Z$+r)}else t.s=0,t.e=0,t.d=[0];return t}function sa(t,e,r){var n,a,i,o,l,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=wa,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/wa),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=wa,a=n-wa+o}if(r!==void 0&&(i=_x(10,o-a-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/_x(10,o-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=no(t),f.length=1,e=e-i-1,f[0]=_x(10,(wa-e%wa)%wa),t.e=Ow(-e/wa)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=_x(10,wa-n),f[d]=a>0?(u/_x(10,o-a)%_x(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Bo&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=Bo)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ia&&(t.e>DC||t.e<-DC))throw Error(Z$+no(t));return t}function Npe(t,e){var r,n,a,i,o,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Ia?sa(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/wa),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Bo-1;--c[i],c[a]+=Bo}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ia?sa(e,h):e):new m(0)}function Iv(t,e,r){var n,a=no(t),i=Ah(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+v0(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+v0(-a-1)+i,r&&(n=r-o)>0&&(i+=v0(n))):a>=o?(i+=v0(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+v0(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=v0(n))),t.s<0?"-"+i:i}function QZ(t,e){if(t.length>e)return t.length=e,!0}function Spe(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sv+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ZZ(o,i.toString())}else if(typeof i!="string")throw Error(sv+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,PJe.test(i))ZZ(o,i);else throw Error(sv+i)}if(a.prototype=Er,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Spe,a.config=a.set=TJe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function TJe(t){if(!t||typeof t!="object")throw Error($d+"Object expected");var e,r,n,a=["precision",1,Tw,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Ow(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(sv+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sv+r+": "+n);return this}var Q$=Spe(EJe);Ou=new Q$(1);const Xs=Q$;function OJe(t){return FJe(t)||IJe(t)||RJe(t)||DJe()}function DJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJe(t,e){if(t){if(typeof t=="string")return rM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(t,e)}}function IJe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FJe(t){if(Array.isArray(t))return rM(t)}function rM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var MJe=function(e){return e},kpe={},Cpe=function(e){return e===kpe},eQ=function(e){return function r(){return arguments.length===0||arguments.length===1&&Cpe(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},LJe=function t(e,r){return e===1?r:eQ(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==kpe}).length;return o>=e?r.apply(void 0,a):t(e-o,eQ(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Cpe(f)?c.shift():f});return r.apply(void 0,OJe(d).concat(c))}))})},JE=function(e){return LJe(e.length,e)},nM=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},$Je=JE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),BJe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return MJe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},sM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Ape=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function UJe(t){var e;return t===0?e=1:e=Math.floor(new Xs(t).abs().log(10).toNumber())+1,e}function zJe(t,e,r){for(var n=new Xs(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var qJe=JE(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),VJe=JE(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),WJe=JE(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ZE={rangeStep:zJe,getDigitCount:UJe,interpolateNumber:qJe,uninterpolateNumber:VJe,uninterpolateTruncation:WJe};function aM(t){return YJe(t)||GJe(t)||Epe(t)||HJe()}function HJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YJe(t){if(Array.isArray(t))return iM(t)}function Qj(t,e){return JJe(t)||XJe(t,e)||Epe(t,e)||KJe()}function KJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(t,e){if(t){if(typeof t=="string")return iM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iM(t,e)}}function iM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XJe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function JJe(t){if(Array.isArray(t))return t}function Ppe(t){var e=Qj(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Tpe(t,e,r){if(t.lte(0))return new Xs(0);var n=ZE.getDigitCount(t.toNumber()),a=new Xs(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new Xs(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Xs(Math.ceil(c))}function ZJe(t,e,r){var n=1,a=new Xs(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Xs(10).pow(ZE.getDigitCount(t)-1),a=new Xs(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Xs(Math.floor(t)))}else t===0?a=new Xs(Math.floor((e-1)/2)):r||(a=new Xs(Math.floor(t)));var o=Math.floor((e-1)/2),l=BJe($Je(function(c){return a.add(new Xs(c-o).mul(n)).toNumber()}),nM);return l(0,e)}function Ope(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xs(0),tickMin:new Xs(0),tickMax:new Xs(0)};var i=Tpe(new Xs(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Xs(0):(o=new Xs(t).add(e).div(2),o=o.sub(new Xs(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Xs(e).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Ope(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Xs(l).mul(i)),tickMax:o.add(new Xs(c).mul(i))})}function QJe(t){var e=Qj(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Ppe([r,n]),c=Qj(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(aM(nM(0,a-1).map(function(){return 1/0}))):[].concat(aM(nM(0,a-1).map(function(){return-1/0})),[d]);return r>n?sM(f):f}if(u===d)return ZJe(u,a,i);var m=Ope(u,d,o,i),h=m.step,x=m.tickMin,g=m.tickMax,v=ZE.rangeStep(x,g.add(new Xs(.1).mul(h)),h);return r>n?sM(v):v}function eZe(t,e){var r=Qj(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Ppe([n,a]),l=Qj(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=Tpe(new Xs(u).sub(c).div(d-1),i,0),m=[].concat(aM(ZE.rangeStep(new Xs(c),new Xs(u).sub(new Xs(.99).mul(f)),f)),[u]);return n>a?sM(m):m}var tZe=Ape(QJe),rZe=Ape(eZe),nZe="Invariant failed";function Fv(t,e){throw new Error(nZe)}var sZe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RC.apply(this,arguments)}function aZe(t,e){return cZe(t)||lZe(t,e)||oZe(t,e)||iZe()}function iZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oZe(t,e){if(t){if(typeof t=="string")return tQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tQ(t,e)}}function tQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cZe(t){if(Array.isArray(t))return t}function uZe(t,e){if(t==null)return{};var r=dZe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dZe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ipe(n.key),n)}}function mZe(t,e,r){return e&&hZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pZe(t,e,r){return e=IC(e),gZe(t,Dpe()?Reflect.construct(e,r||[],IC(t).constructor):e.apply(t,r))}function gZe(t,e){if(e&&($b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZe(t)}function xZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dpe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dpe=function(){return!!t})()}function IC(t){return IC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IC(t)}function vZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oM(t,e)}function oM(t,e){return oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oM(t,e)}function Rpe(t,e,r){return e=Ipe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ipe(t){var e=yZe(t,"string");return $b(e)=="symbol"?e:e+""}function yZe(t,e){if($b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bS=(function(t){function e(){return fZe(this,e),pZe(this,e,arguments)}return vZe(e,t),mZe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=uZe(n,sZe),h=Qr(m,!1);this.props.direction==="x"&&d.type!=="number"&&Fv();var x=c.map(function(g){var v=u(g,l),b=v.x,_=v.y,w=v.value,N=v.errorVal;if(!N)return null;var S=[],C,A;if(Array.isArray(N)){var R=aZe(N,2);C=R[0],A=R[1]}else C=A=N;if(i==="vertical"){var O=d.scale,D=_+a,P=D+o,E=D-o,I=O(w-C),M=O(w+A);S.push({x1:M,y1:P,x2:M,y2:E}),S.push({x1:I,y1:D,x2:M,y2:D}),S.push({x1:I,y1:P,x2:I,y2:E})}else if(i==="horizontal"){var U=f.scale,W=b+a,Y=W-o,J=W+o,z=U(w-C),q=U(w+A);S.push({x1:Y,y1:q,x2:J,y2:q}),S.push({x1:W,y1:z,x2:W,y2:q}),S.push({x1:Y,y1:z,x2:J,y2:z})}return Ne.createElement(_s,RC({className:"recharts-errorBar",key:"bar-".concat(S.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},h),S.map(function(V){return Ne.createElement("line",RC({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return Ne.createElement(_s,{className:"recharts-errorBars"},x)}}])})(Ne.Component);Rpe(bS,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Rpe(bS,"displayName","ErrorBar");function eN(t){"@babel/helpers - typeof";return eN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eN(t)}function rQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rQ(Object(r),!0).forEach(function(n){bZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bZe(t,e,r){return e=wZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wZe(t){var e=_Ze(t,"string");return eN(e)=="symbol"?e:e+""}function _Ze(t,e){if(eN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fpe=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=vu(r,z0);if(!o)return null;var l=z0.defaultProps,c=l!==void 0?dx(dx({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,x=h.sectors||h.data||[];return d.concat(x.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?dx(dx({},m),f.props):{},x=h.dataKey,g=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:x,type:c.iconType||v||"square",color:eB(f),value:g||x,payload:h}}),dx(dx(dx({},c),z0.getWithHeight(o,a)),{},{payload:u,item:o})};function tN(t){"@babel/helpers - typeof";return tN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tN(t)}function nQ(t){return kZe(t)||SZe(t)||NZe(t)||jZe()}function jZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NZe(t,e){if(t){if(typeof t=="string")return lM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lM(t,e)}}function SZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kZe(t){if(Array.isArray(t))return lM(t)}function lM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sQ(Object(r),!0).forEach(function(n){ub(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ub(t,e,r){return e=CZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CZe(t){var e=AZe(t,"string");return tN(e)=="symbol"?e:e+""}function AZe(t,e){if(tN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wo(t,e,r){return Cn(t)||Cn(e)?r:jo(e)?$u(t,e,r):vn(e)?e(t):r}function $2(t,e,r,n){var a=kJe(t,function(l){return wo(l,e)});if(r==="number"){var i=a.filter(function(l){return ir(l)||parseFloat(l)});return i.length?[XE(i),KE(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Cn(l)}):a;return o.map(function(l){return jo(l)||l instanceof Date?l:""})}var EZe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(fc(f-d)!==fc(m-f)){var x=[];if(fc(m-f)===fc(c[1]-c[0])){h=m;var g=f+c[1]-c[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{h=d;var v=m+c[1]-c[0];x[0]=Math.min(f,(v+f)/2),x[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){o=a[u].index;break}}else{var _=Math.min(d,m),w=Math.max(d,m);if(e>(_+f)/2&&e<=(w+f)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},eB=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?di(di({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},PZe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var x=d[f[m]],g=x.items,v=x.cateAxisId,b=g.filter(function(A){return tp(A.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,w=_!==void 0?di(di({},_),b[0].props):b[0].props,N=w.barSize,S=w[v];o[S]||(o[S]=[]);var C=Cn(N)?r:N;o[S].push({item:b[0],stackList:b.slice(1),barSize:Cn(C)?void 0:hc(C,n,0)})}}return o},TZe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=hc(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,x=o.reduce(function(N,S){return N+S.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&h>0&&(m=!0,h*=.9,x=c*h);var g=(a-x)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(N,S){var C={item:S.item,position:{offset:v.offset+v.size+u,size:m?h:S.barSize}},A=[].concat(nQ(N),[C]);return v=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){A.push({item:R,position:v})}),A},f)}else{var b=hc(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var _=(a-2*b-(c-1)*u)/c;_>1&&(_>>=0);var w=l===+l?Math.min(_,l):_;d=o.reduce(function(N,S,C){var A=[].concat(nQ(N),[{item:S.item,position:{offset:b+(_+u)*C+(_-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){A.push({item:R,position:A[A.length-1].position})}),A},f)}return d},OZe=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Fpe({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&h!=="center"&&ir(e[h]))return di(di({},e),{},ub({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&x!=="middle"&&ir(e[x]))return di(di({},e),{},ub({},x,e[x]+(m||0)))}return e},DZe=function(e,r,n){return Cn(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Mpe=function(e,r,n,a,i){var o=r.props.children,l=Bu(o,bS).filter(function(u){return DZe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=wo(d,n);if(Cn(f))return u;var m=Array.isArray(f)?[XE(f),KE(f)]:[f,f],h=c.reduce(function(x,g){var v=wo(d,g,0),b=m[0]-Math.abs(Array.isArray(v)?v[0]:v),_=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},RZe=function(e,r,n,a,i){var o=r.map(function(l){return Mpe(e,l,n,i,a)}).filter(function(l){return!Cn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Lpe=function(e,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Mpe(e,c,u,a)||$2(e,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},$pe=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Bpe=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Km=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&l?.length>=2?fc(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!hS(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},jR=new WeakMap,u5=function(e,r){if(typeof r!="function")return e;jR.has(e)||jR.set(e,new WeakMap);var n=jR.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Upe=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Gj(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:EC(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:L2(),realScaleType:"point"}:i==="category"?{scale:Gj(),realScaleType:"band"}:{scale:EC(),realScaleType:"linear"};if(Ov(a)){var c="scale".concat(RE(a));return{scale:(qZ[c]||L2)(),realScaleType:qZ[c]?c:"point"}}return vn(a)?{scale:a}:{scale:L2(),realScaleType:"point"}},aQ=1e-4,zpe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-aQ,o=Math.max(a[0],a[1])+aQ,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},IZe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},FZe=function(e,r){if(!r||r.length!==2||!ir(r[0])||!ir(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!ir(e[0])||e[0]<n)&&(i[0]=n),(!ir(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},MZe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=hS(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},LZe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=hS(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},$Ze={sign:MZe,expand:kWe,none:Tb,silhouette:CWe,wiggle:AWe,positive:LZe},BZe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=$Ze[n],o=SWe().keys(a).value(function(l,c){return+wo(l,c,0)}).order(L8).offset(i);return o(e)},UZe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var h,x=(h=m.type)!==null&&h!==void 0&&h.defaultProps?di(di({},m.type.defaultProps),m.props):m.props,g=x.stackId,v=x.hide;if(v)return f;var b=x[n],_=f[b]||{hasStack:!1,stackGroups:{}};if(jo(g)){var w=_.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(m),_.hasStack=!0,_.stackGroups[g]=w}else _.stackGroups[Aw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return di(di({},f),{},ub({},b,_))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var x={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,v){var b=h.stackGroups[v];return di(di({},g),{},ub({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:BZe(e,b.items,i)}))},x)}return di(di({},f),{},ub({},m,h))},d)},qpe=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=tZe(u,i,l);return e.domain([XE(d),KE(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),m=rZe(f,i,l);return{niceTicks:m}}return null};function iQ(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Cn(a[e.dataKey])){var l=dC(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=wo(a,Cn(o)?e.dataKey:o);return Cn(c)?null:e.scale(c)}var oQ=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=wo(o,r.dataKey,r.domain[l]);return Cn(c)?null:r.scale(c)-i/2+a},zZe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},qZe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?di(di({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(jo(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},VZe=function(e){return e.reduce(function(r,n){return[XE(n.concat([r[0]]).filter(ir)),KE(n.concat([r[1]]).filter(ir))]},[1/0,-1/0])},Vpe=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,d){var f=VZe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lQ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cQ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cM=function(e,r,n){if(vn(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ir(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(lQ.test(e[0])){var i=+lQ.exec(e[0])[1];a[0]=r[0]-i}else vn(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ir(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(cQ.test(e[1])){var o=+cQ.exec(e[1])[1];a[1]=r[1]+o}else vn(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},FC=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=A$(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},uQ=function(e,r,n){return!e||!e.length||yS(e,$u(n,"type.defaultProps.domain"))?r:e},Wpe=function(e,r){var n=e.type.defaultProps?di(di({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return di(di({},Qr(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:eB(e),value:wo(r,a),type:c,payload:r,chartType:u,hide:d})};function rN(t){"@babel/helpers - typeof";return rN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rN(t)}function dQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dQ(Object(r),!0).forEach(function(n){Hpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hpe(t,e,r){return e=WZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WZe(t){var e=HZe(t,"string");return rN(e)=="symbol"?e:e+""}function HZe(t,e){if(rN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GZe(t,e){return JZe(t)||XZe(t,e)||KZe(t,e)||YZe()}function YZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KZe(t,e){if(t){if(typeof t=="string")return fQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fQ(t,e)}}function fQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JZe(t){if(Array.isArray(t))return t}var MC=Math.PI/180,ZZe=function(e){return e*180/Math.PI},pa=function(e,r,n,a){return{x:e+Math.cos(-MC*a)*n,y:r+Math.sin(-MC*a)*n}},Gpe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},QZe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=hc(e.cx,o,o/2),f=hc(e.cy,l,l/2),m=Gpe(o,l,n),h=hc(e.innerRadius,m,0),x=hc(e.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(v,b){var _=r[b],w=_.domain,N=_.reversed,S;if(Cn(_.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[h,x]),N&&(S=[S[1],S[0]]);else{S=_.range;var C=S,A=GZe(C,2);c=A[0],u=A[1]}var R=Upe(_,i),O=R.realScaleType,D=R.scale;D.domain(w).range(S),zpe(D);var P=qpe(D,Mm(Mm({},_),{},{realScaleType:O})),E=Mm(Mm(Mm({},_),P),{},{range:S,radius:x,realScaleType:O,scale:D,cx:d,cy:f,innerRadius:h,outerRadius:x,startAngle:c,endAngle:u});return Mm(Mm({},v),{},Hpe({},b,E))},{})},eQe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},tQe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=eQe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:ZZe(u),angleInRadian:u}},rQe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},nQe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},hQ=function(e,r){var n=e.x,a=e.y,i=tQe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=rQe(r),f=d.startAngle,m=d.endAngle,h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?Mm(Mm({},r),{},{radius:o,angle:nQe(h,r)}):null},Ype=function(e){return!j.isValidElement(e)&&!vn(e)&&typeof e!="boolean"?e.className:""};function nN(t){"@babel/helpers - typeof";return nN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nN(t)}var sQe=["offset"];function aQe(t){return cQe(t)||lQe(t)||oQe(t)||iQe()}function iQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQe(t,e){if(t){if(typeof t=="string")return uM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uM(t,e)}}function lQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cQe(t){if(Array.isArray(t))return uM(t)}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uQe(t,e){if(t==null)return{};var r=dQe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mQ(Object(r),!0).forEach(function(n){fQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fQe(t,e,r){return e=hQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQe(t){var e=mQe(t,"string");return nN(e)=="symbol"?e:e+""}function mQe(t,e){if(nN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sN.apply(this,arguments)}var pQe=function(e){var r=e.value,n=e.formatter,a=Cn(e.children)?r:e.children;return vn(n)?n(a):a},gQe=function(e,r){var n=fc(r-e),a=Math.min(Math.abs(r-e),360);return n*a},xQe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,x=c.endAngle,g=c.clockWise,v=(f+m)/2,b=gQe(h,x),_=b>=0?1:-1,w,N;a==="insideStart"?(w=h+_*o,N=g):a==="insideEnd"?(w=x-_*o,N=!g):a==="end"&&(w=x+_*o,N=g),N=b<=0?N:!N;var S=pa(u,d,v,w),C=pa(u,d,v,w+(N?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),R=Cn(e.id)?Aw("recharts-radial-line-"):e.id;return Ne.createElement("text",sN({},n,{dominantBaseline:"central",className:Pn("recharts-radial-bar-label",l)}),Ne.createElement("defs",null,Ne.createElement("path",{id:R,d:A})),Ne.createElement("textPath",{xlinkHref:"#".concat(R)},r))},vQe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var h=pa(o,l,u+n,m),x=h.x,g=h.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=pa(o,l,v,m),_=b.x,w=b.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},yQe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",x=f>0?"start":"end",g=u>=0?1:-1,v=g*a,b=g>0?"end":"start",_=g>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return ho(ho({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return ho(ho({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return ho(ho({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return ho(ho({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?ho({x:l+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},A):i==="insideRight"?ho({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},A):i==="insideTop"?ho({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},A):i==="insideBottom"?ho({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},A):i==="insideTopLeft"?ho({x:l+v,y:c+m,textAnchor:_,verticalAnchor:x},A):i==="insideTopRight"?ho({x:l+u-v,y:c+m,textAnchor:b,verticalAnchor:x},A):i==="insideBottomLeft"?ho({x:l+v,y:c+d-m,textAnchor:_,verticalAnchor:h},A):i==="insideBottomRight"?ho({x:l+u-v,y:c+d-m,textAnchor:b,verticalAnchor:h},A):Cw(i)&&(ir(i.x)||Mx(i.x))&&(ir(i.y)||Mx(i.y))?ho({x:l+hc(i.x,u),y:c+hc(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):ho({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},bQe=function(e){return"cx"in e&&ir(e.cx)};function Vo(t){var e=t.offset,r=e===void 0?5:e,n=uQe(t,sQe),a=ho({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||Cn(l)&&Cn(c)&&!j.isValidElement(u)&&!vn(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var h;if(vn(u)){if(h=j.createElement(u,a),j.isValidElement(h))return h}else h=pQe(a);var x=bQe(i),g=Qr(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return xQe(a,h,g);var v=x?vQe(a):yQe(a);return Ne.createElement(Rv,sN({className:Pn("recharts-label",f)},g,v,{breakAll:m}),h)}Vo.displayName="Label";var Kpe=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,x=e.left,g=e.width,v=e.height,b=e.clockWise,_=e.labelViewBox;if(_)return _;if(ir(g)&&ir(v)){if(ir(f)&&ir(m))return{x:f,y:m,width:g,height:v};if(ir(h)&&ir(x))return{x:h,y:x,width:g,height:v}}return ir(f)&&ir(m)?{x:f,y:m,width:0,height:0}:ir(r)&&ir(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},wQe=function(e,r){return e?e===!0?Ne.createElement(Vo,{key:"label-implicit",viewBox:r}):jo(e)?Ne.createElement(Vo,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===Vo?j.cloneElement(e,{key:"label-implicit",viewBox:r}):Ne.createElement(Vo,{key:"label-implicit",content:e,viewBox:r}):vn(e)?Ne.createElement(Vo,{key:"label-implicit",content:e,viewBox:r}):Cw(e)?Ne.createElement(Vo,sN({viewBox:r},e,{key:"label-implicit"})):null:null},_Qe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=Kpe(e),o=Bu(a,Vo).map(function(c,u){return j.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=wQe(e.label,r||i);return[l].concat(aQe(o))};Vo.parseViewBox=Kpe;Vo.renderCallByParent=_Qe;var NR,pQ;function jQe(){if(pQ)return NR;pQ=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return NR=t,NR}var NQe=jQe();const SQe=us(NQe);function aN(t){"@babel/helpers - typeof";return aN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aN(t)}var kQe=["valueAccessor"],CQe=["data","dataKey","clockWise","id","textBreakAll"];function AQe(t){return OQe(t)||TQe(t)||PQe(t)||EQe()}function EQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQe(t,e){if(t){if(typeof t=="string")return dM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dM(t,e)}}function TQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OQe(t){if(Array.isArray(t))return dM(t)}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LC.apply(this,arguments)}function gQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gQ(Object(r),!0).forEach(function(n){DQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DQe(t,e,r){return e=RQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RQe(t){var e=IQe(t,"string");return aN(e)=="symbol"?e:e+""}function IQe(t,e){if(aN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(aN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vQ(t,e){if(t==null)return{};var r=FQe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var MQe=function(e){return Array.isArray(e.value)?SQe(e.value):e.value};function np(t){var e=t.valueAccessor,r=e===void 0?MQe:e,n=vQ(t,kQe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=vQ(n,CQe);return!a||!a.length?null:Ne.createElement(_s,{className:"recharts-label-list"},a.map(function(d,f){var m=Cn(i)?r(d,f):wo(d&&d.payload,i),h=Cn(l)?{}:{id:"".concat(l,"-").concat(f)};return Ne.createElement(Vo,LC({},Qr(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Vo.parseViewBox(Cn(o)?d:xQ(xQ({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}np.displayName="LabelList";function LQe(t,e){return t?t===!0?Ne.createElement(np,{key:"labelList-implicit",data:e}):Ne.isValidElement(t)||vn(t)?Ne.createElement(np,{key:"labelList-implicit",data:e,content:t}):Cw(t)?Ne.createElement(np,LC({data:e},t,{key:"labelList-implicit"})):null:null}function $Qe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Bu(n,np).map(function(o,l){return j.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=LQe(t.label,e);return[i].concat(AQe(a))}np.renderCallByParent=$Qe;function iN(t){"@babel/helpers - typeof";return iN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iN(t)}function fM(){return fM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fM.apply(this,arguments)}function yQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yQ(Object(r),!0).forEach(function(n){BQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BQe(t,e,r){return e=UQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UQe(t){var e=zQe(t,"string");return iN(e)=="symbol"?e:e+""}function zQe(t,e){if(iN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qQe=function(e,r){var n=fc(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},d5=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/MC,m=u?i:i+o*f,h=pa(r,n,d,m),x=pa(r,n,a,m),g=u?i-o*f:i,v=pa(r,n,d*Math.cos(f*MC),g);return{center:h,circleTangency:x,lineTangency:v,theta:f}},Xpe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=qQe(o,l),u=o+c,d=pa(r,n,i,o),f=pa(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=pa(r,n,a,o),x=pa(r,n,a,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},VQe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=fc(d-u),m=d5({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,x=m.lineTangency,g=m.theta,v=d5({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,_=v.lineTangency,w=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Xpe({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var C=d5({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=C.circleTangency,R=C.lineTangency,O=C.theta,D=d5({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=D.circleTangency,E=D.lineTangency,I=D.theta,M=c?Math.abs(u-d):Math.abs(u-d)-O-I;if(M<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},WQe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jpe=function(e){var r=bQ(bQ({},WQe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var h=Pn("recharts-sector",m),x=o-i,g=hc(l,x,0,!0),v;return g>0&&Math.abs(d-f)<360?v=VQe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Xpe({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Ne.createElement("path",fM({},Qr(r,!0),{className:h,d:v,role:"img"}))};function oN(t){"@babel/helpers - typeof";return oN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oN(t)}function hM(){return hM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hM.apply(this,arguments)}function wQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wQ(Object(r),!0).forEach(function(n){HQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HQe(t,e,r){return e=GQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GQe(t){var e=YQe(t,"string");return oN(e)=="symbol"?e:e+""}function YQe(t,e){if(oN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jQ={curveBasisClosed:mWe,curveBasisOpen:pWe,curveBasis:hWe,curveBumpX:QVe,curveBumpY:eWe,curveLinearClosed:gWe,curveLinear:FE,curveMonotoneX:xWe,curveMonotoneY:vWe,curveNatural:yWe,curveStep:bWe,curveStepAfter:_We,curveStepBefore:wWe},f5=function(e){return e.x===+e.x&&e.y===+e.y},A_=function(e){return e.x},E_=function(e){return e.y},KQe=function(e,r){if(vn(e))return e;var n="curve".concat(RE(e));return(n==="curveMonotone"||n==="curveBump")&&r?jQ["".concat(n).concat(r==="vertical"?"Y":"X")]:jQ[n]||FE},XQe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=KQe(n,l),f=u?i.filter(function(g){return f5(g)}):i,m;if(Array.isArray(o)){var h=u?o.filter(function(g){return f5(g)}):o,x=f.map(function(g,v){return _Q(_Q({},g),{},{base:h[v]})});return l==="vertical"?m=n5().y(E_).x1(A_).x0(function(g){return g.base.x}):m=n5().x(A_).y1(E_).y0(function(g){return g.base.y}),m.defined(f5).curve(d),m(x)}return l==="vertical"&&ir(o)?m=n5().y(E_).x1(A_).x0(o):ir(o)?m=n5().x(A_).y1(E_).y0(o):m=Khe().x(A_).y(E_),m.defined(f5).curve(d),m(f)},$C=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?XQe(e):a;return j.createElement("path",hM({},Qr(e,!1),fC(e),{className:Pn("recharts-curve",r),d:o,ref:i}))},SR={exports:{}},kR,NQ;function JQe(){if(NQ)return kR;NQ=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kR=t,kR}var CR,SQ;function ZQe(){if(SQ)return CR;SQ=1;var t=JQe();function e(){}function r(){}return r.resetWarningCache=e,CR=function(){function n(o,l,c,u,d,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},CR}var kQ;function QQe(){return kQ||(kQ=1,SR.exports=ZQe()()),SR.exports}var eet=QQe();const Ts=us(eet);var tet=Object.getOwnPropertyNames,ret=Object.getOwnPropertySymbols,net=Object.prototype.hasOwnProperty;function CQ(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function h5(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function AQ(t){return tet(t).concat(ret(t))}var set=Object.hasOwn||(function(t,e){return net.call(t,e)});function iy(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var aet="__v",iet="__o",oet="_owner",EQ=Object.getOwnPropertyDescriptor,PQ=Object.keys;function cet(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function uet(t,e){return iy(t.getTime(),e.getTime())}function det(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function fet(t,e){return t===e}function TQ(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=o.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var het=iy;function met(t,e,r){var n=PQ(t),a=n.length;if(PQ(e).length!==a)return!1;for(;a-- >0;)if(!Zpe(t,e,r,n[a]))return!1;return!0}function P_(t,e,r){var n=AQ(t),a=n.length;if(AQ(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!Zpe(t,e,r,i)||(o=EQ(t,i),l=EQ(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function pet(t,e){return iy(t.valueOf(),e.valueOf())}function get(t,e){return t.source===e.source&&t.flags===e.flags}function OQ(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function xet(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function vet(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Zpe(t,e,r,n){return(n===oet||n===iet||n===aet)&&(t.$$typeof||e.$$typeof)?!0:set(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var yet="[object Arguments]",bet="[object Boolean]",wet="[object Date]",_et="[object Error]",jet="[object Map]",Net="[object Number]",ket="[object Object]",Cet="[object RegExp]",Aet="[object Set]",Eet="[object String]",Pet="[object URL]",Tet=Array.isArray,DQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RQ=Object.assign,Oet=Object.prototype.toString.call.bind(Object.prototype.toString);function Det(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(x,g,v){if(x===g)return!0;if(x==null||g==null)return!1;var b=typeof x;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(x,g,v):b==="function"?a(x,g,v):!1;var _=x.constructor;if(_!==g.constructor)return!1;if(_===Object)return l(x,g,v);if(Tet(x))return e(x,g,v);if(DQ!=null&&DQ(x))return f(x,g,v);if(_===Date)return r(x,g,v);if(_===RegExp)return u(x,g,v);if(_===Map)return i(x,g,v);if(_===Set)return d(x,g,v);var w=Oet(x);return w===wet?r(x,g,v):w===Cet?u(x,g,v):w===jet?i(x,g,v):w===Aet?d(x,g,v):w===ket?typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,v):w===Pet?m(x,g,v):w===_et?n(x,g,v):w===yet?l(x,g,v):w===bet||w===Net||w===Eet?c(x,g,v):!1}}function Ret(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?P_:cet,areDatesEqual:uet,areErrorsEqual:det,areFunctionsEqual:fet,areMapsEqual:n?CQ(TQ,P_):TQ,areNumbersEqual:het,areObjectsEqual:n?P_:met,arePrimitiveWrappersEqual:pet,areRegExpsEqual:get,areSetsEqual:n?CQ(OQ,P_):OQ,areTypedArraysEqual:n?P_:xet,areUrlsEqual:vet};if(r&&(a=RQ({},a,r(a))),e){var i=h5(a.areArraysEqual),o=h5(a.areMapsEqual),l=h5(a.areObjectsEqual),c=h5(a.areSetsEqual);a=RQ({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Iet(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function Fet(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Met=Pg();Pg({strict:!0});Pg({circular:!0});Pg({circular:!0,strict:!0});Pg({createInternalComparator:function(){return iy}});Pg({strict:!0,createInternalComparator:function(){return iy}});Pg({circular:!0,createInternalComparator:function(){return iy}});Pg({circular:!0,createInternalComparator:function(){return iy},strict:!0});function Pg(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=Ret(t),c=Det(l),u=n?n(c):Iet(c);return Fet({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Let(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function IQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Let(a)};requestAnimationFrame(n)}function mM(t){"@babel/helpers - typeof";return mM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mM(t)}function $et(t){return qet(t)||zet(t)||Uet(t)||Bet()}function Bet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uet(t,e){if(t){if(typeof t=="string")return FQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FQ(t,e)}}function FQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qet(t){if(Array.isArray(t))return t}function Vet(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=$et(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IQ(a.bind(null,u),c);return}a(c),IQ(a.bind(null,u));return}mM(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function lN(t){"@babel/helpers - typeof";return lN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lN(t)}function MQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MQ(Object(r),!0).forEach(function(n){Qpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qpe(t,e,r){return e=Wet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wet(t){var e=Het(t,"string");return lN(e)==="symbol"?e:String(e)}function Het(t,e){if(lN(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lN(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Get=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Yet=function(e){return e},Ket=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},B2=function(e,r){return Object.keys(r).reduce(function(n,a){return LQ(LQ({},n),{},Qpe({},a,e(a,r[a])))},{})},$Q=function(e,r,n){return e.map(function(a){return"".concat(Ket(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Xet(t,e){return Qet(t)||Zet(t,e)||e0e(t,e)||Jet()}function Jet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zet(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Qet(t){if(Array.isArray(t))return t}function ett(t){return ntt(t)||rtt(t)||e0e(t)||ttt()}function ttt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(t,e){if(t){if(typeof t=="string")return pM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(t,e)}}function rtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ntt(t){if(Array.isArray(t))return pM(t)}function pM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var BC=1e-4,t0e=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},r0e=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},BQ=function(e,r){return function(n){var a=t0e(e,r);return r0e(a,n)}},stt=function(e,r){return function(n){var a=t0e(e,r),i=[].concat(ett(a.map(function(o,l){return o*l}).slice(1)),[0]);return r0e(i,n)}},UQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Xet(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=BQ(a,o),m=BQ(i,l),h=stt(a,o),x=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,w=_,N=0;N<8;++N){var S=f(w)-_,C=h(w);if(Math.abs(S-_)<BC||C<BC)return m(w);w=x(w-S/C)}return m(w)};return g.isStepper=!1,g},att=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(d,f,m){var h=-(d-f)*n,x=m*i,g=m+(h-x)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<BC&&Math.abs(g)<BC?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},itt=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UQ(a);case"spring":return att();default:if(a.split("(")[0]==="cubic-bezier")return UQ(a)}return typeof a=="function"?a:null};function cN(t){"@babel/helpers - typeof";return cN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cN(t)}function zQ(t){return ctt(t)||ltt(t)||n0e(t)||ott()}function ott(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ltt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ctt(t){if(Array.isArray(t))return xM(t)}function qQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qQ(Object(r),!0).forEach(function(n){gM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gM(t,e,r){return e=utt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function utt(t){var e=dtt(t,"string");return cN(e)==="symbol"?e:String(e)}function dtt(t,e){if(cN(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cN(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ftt(t,e){return ptt(t)||mtt(t,e)||n0e(t,e)||htt()}function htt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n0e(t,e){if(t){if(typeof t=="string")return xM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xM(t,e)}}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mtt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ptt(t){if(Array.isArray(t))return t}var UC=function(e,r,n){return e+(r-e)*n},vM=function(e){var r=e.from,n=e.to;return r!==n},gtt=function t(e,r,n){var a=B2(function(i,o){if(vM(o)){var l=e(o.from,o.to,o.velocity),c=ftt(l,2),u=c[0],d=c[1];return nl(nl({},o),{},{from:u,velocity:d})}return o},r);return n<1?B2(function(i,o){return vM(o)?nl(nl({},o),{},{velocity:UC(o.velocity,a[i].velocity,n),from:UC(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const xtt=(function(t,e,r,n,a){var i=Get(t,e),o=i.reduce(function(v,b){return nl(nl({},v),{},gM({},b,[t[b],e[b]]))},{}),l=i.reduce(function(v,b){return nl(nl({},v),{},gM({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return B2(function(b,_){return _.from},l)},h=function(){return!Object.values(l).filter(vM).length},x=function(b){u||(u=b);var _=b-u,w=_/r.dt;l=gtt(r,l,w),a(nl(nl(nl({},t),e),m())),u=b,h()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var _=(b-d)/n,w=B2(function(S,C){return UC.apply(void 0,zQ(C).concat([r(_)]))},o);if(a(nl(nl(nl({},t),e),w)),_<1)c=requestAnimationFrame(f);else{var N=B2(function(S,C){return UC.apply(void 0,zQ(C).concat([r(1)]))},o);a(nl(nl(nl({},t),e),N))}};return f=r.isStepper?x:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}var vtt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ytt(t,e){if(t==null)return{};var r=btt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function btt(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function AR(t){return Ntt(t)||jtt(t)||_tt(t)||wtt()}function wtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _tt(t,e){if(t){if(typeof t=="string")return yM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(t,e)}}function jtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ntt(t){if(Array.isArray(t))return yM(t)}function yM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VQ(Object(r),!0).forEach(function(n){r2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r2(t,e,r){return e=s0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Stt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ktt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s0e(n.key),n)}}function Ctt(t,e,r){return e&&ktt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t){var e=Att(t,"string");return Bb(e)==="symbol"?e:String(e)}function Att(t,e){if(Bb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ett(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bM(t,e)}function bM(t,e){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bM(t,e)}function Ptt(t){var e=Ttt();return function(){var n=zC(t),a;if(e){var i=zC(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return wM(this,a)}}function wM(t,e){if(e&&(Bb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _M(t)}function _M(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ttt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zC(t){return zC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zC(t)}var Wh=(function(t){Ett(r,t);var e=Ptt(r);function r(n,a){var i;Stt(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(_M(i)),i.changeStyle=i.changeStyle.bind(_M(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),wM(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},wM(i);i.state={style:c?r2({},c,u):u}}else i.state={style:{}};return i}return Ctt(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?r2({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(Met(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?f:a.to;if(this.state&&m){var v={style:c?r2({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(v)}this.runAnimation(gf(gf({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=xtt(o,l,itt(u),c,this.changeStyle),x=function(){i.stopJSAnimation=h()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(g,v,b){if(b===0)return g;var _=v.duration,w=v.easing,N=w===void 0?"ease":w,S=v.style,C=v.properties,A=v.onAnimationEnd,R=b>0?o[b-1]:v,O=C||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(AR(g),[i.runJSAnimation.bind(i,{from:R.style,to:S,duration:_,easing:N}),_]);var D=$Q(O,_,N),P=gf(gf(gf({},R.style),S),{},{transition:D});return[].concat(AR(g),[P,_,A]).filter(Yet)};return this.manager.start([c].concat(AR(o.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Vet());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?r2({},l,c):c,v=$Q(Object.keys(g),o,u);x.start([d,i,gf(gf({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=ytt(a,vtt),u=j.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(h){var x=h.props,g=x.style,v=g===void 0?{}:g,b=x.className,_=j.cloneElement(h,gf(gf({},c),{},{style:gf(gf({},v),d),className:b}));return _};return u===1?f(j.Children.only(i)):Ne.createElement("div",null,j.Children.map(i,function(m){return f(m)}))}}]),r})(j.PureComponent);Wh.displayName="Animate";Wh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wh.propTypes={from:Ts.oneOfType([Ts.object,Ts.string]),to:Ts.oneOfType([Ts.object,Ts.string]),attributeName:Ts.string,duration:Ts.number,begin:Ts.number,easing:Ts.oneOfType([Ts.string,Ts.func]),steps:Ts.arrayOf(Ts.shape({duration:Ts.number.isRequired,style:Ts.object.isRequired,easing:Ts.oneOfType([Ts.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ts.func]),properties:Ts.arrayOf("string"),onAnimationEnd:Ts.func})),children:Ts.oneOfType([Ts.node,Ts.func]),isActive:Ts.bool,canBegin:Ts.bool,onAnimationEnd:Ts.func,shouldReAnimate:Ts.bool,onAnimationStart:Ts.func,onAnimationReStart:Ts.func};function uN(t){"@babel/helpers - typeof";return uN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uN(t)}function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qC.apply(this,arguments)}function Ott(t,e){return Ftt(t)||Itt(t,e)||Rtt(t,e)||Dtt()}function Dtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rtt(t,e){if(t){if(typeof t=="string")return WQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WQ(t,e)}}function WQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Itt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ftt(t){if(Array.isArray(t))return t}function HQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HQ(Object(r),!0).forEach(function(n){Mtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mtt(t,e,r){return e=Ltt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ltt(t){var e=$tt(t,"string");return uN(e)=="symbol"?e:e+""}function $tt(t,e){if(uN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YQ=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(e,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*x,`
            L `).concat(e+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-c*x,",").concat(r+a,`
            L `).concat(e+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*x," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Btt=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},Utt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tB=function(e){var r=GQ(GQ({},Utt),e),n=j.useRef(),a=j.useState(-1),i=Ott(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Pn("recharts-rectangle",h);return _?Ne.createElement(Wh,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:x,isActive:_},function(N){var S=N.width,C=N.height,A=N.x,R=N.y;return Ne.createElement(Wh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:x},Ne.createElement("path",qC({},Qr(r,!0),{className:w,d:YQ(A,R,S,C,m),ref:n})))}):Ne.createElement("path",qC({},Qr(r,!0),{className:w,d:YQ(c,u,d,f,m)}))},ztt=["points","className","baseLinePoints","connectNulls"];function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(this,arguments)}function qtt(t,e){if(t==null)return{};var r=Vtt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vtt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KQ(t){return Ytt(t)||Gtt(t)||Htt(t)||Wtt()}function Wtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Htt(t,e){if(t){if(typeof t=="string")return jM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(t,e)}}function Gtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ytt(t){if(Array.isArray(t))return jM(t)}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var XQ=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ktt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){XQ(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),XQ(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},U2=function(e,r){var n=Ktt(e);r&&(n=[n.reduce(function(i,o){return[].concat(KQ(i),KQ(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Xtt=function(e,r,n){var a=U2(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(U2(r.reverse(),n).slice(1))},Jtt=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=qtt(e,ztt);if(!r||!r.length)return null;var l=Pn("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Xtt(r,a,i);return Ne.createElement("g",{className:l},Ne.createElement("path",P1({},Qr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Ne.createElement("path",P1({},Qr(o,!0),{fill:"none",d:U2(r,i)})):null,c?Ne.createElement("path",P1({},Qr(o,!0),{fill:"none",d:U2(a,i)})):null)}var d=U2(r,i);return Ne.createElement("path",P1({},Qr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function NM(){return NM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NM.apply(this,arguments)}var QE=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=Pn("recharts-dot",i);return r===+r&&n===+n&&a===+a?j.createElement("circle",NM({},Qr(e,!1),fC(e),{className:o,cx:r,cy:n,r:a})):null};function dN(t){"@babel/helpers - typeof";return dN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dN(t)}var Ztt=["x","y","top","left","width","height","className"];function SM(){return SM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SM.apply(this,arguments)}function JQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qtt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(r),!0).forEach(function(n){ert(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ert(t,e,r){return e=trt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function trt(t){var e=rrt(t,"string");return dN(e)=="symbol"?e:e+""}function rrt(t,e){if(dN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nrt(t,e){if(t==null)return{};var r=srt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function srt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var art=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},irt=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,x=e.className,g=nrt(e,Ztt),v=Qtt({x:n,y:i,top:l,left:u,width:f,height:h},g);return!ir(n)||!ir(i)||!ir(f)||!ir(h)||!ir(l)||!ir(u)?null:Ne.createElement("path",SM({},Qr(v,!0),{className:Pn("recharts-cross",x),d:art(n,i,f,h,l,u)}))},ER,ZQ;function ort(){if(ZQ)return ER;ZQ=1;var t=YE(),e=ype(),r=Zh();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return ER=n,ER}var lrt=ort();const crt=us(lrt);var PR,QQ;function urt(){if(QQ)return PR;QQ=1;var t=YE(),e=Zh(),r=bpe();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return PR=n,PR}var drt=urt();const frt=us(drt);var hrt=["cx","cy","angle","ticks","axisLine"],mrt=["ticks","tick","angle","tickFormatter","stroke"];function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z2.apply(this,arguments)}function eee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eee(Object(r),!0).forEach(function(n){eP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tee(t,e){if(t==null)return{};var r=prt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function prt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function grt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ree(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i0e(n.key),n)}}function xrt(t,e,r){return e&&ree(t.prototype,e),r&&ree(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vrt(t,e,r){return e=VC(e),yrt(t,a0e()?Reflect.construct(e,r||[],VC(t).constructor):e.apply(t,r))}function yrt(t,e){if(e&&(Ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return brt(t)}function brt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a0e=function(){return!!t})()}function VC(t){return VC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VC(t)}function wrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kM(t,e)}function kM(t,e){return kM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kM(t,e)}function eP(t,e,r){return e=i0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i0e(t){var e=_rt(t,"string");return Ub(e)=="symbol"?e:e+""}function _rt(t,e){if(Ub(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ub(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tP=(function(t){function e(){return grt(this,e),vrt(this,e,arguments)}return wrt(e,t),xrt(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return pa(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=crt(l,function(d){return d.coordinate||0}),u=frt(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=tee(n,hrt),d=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),f=pa(a,i,d[0],o),m=pa(a,i,d[1],o),h=fx(fx(fx({},Qr(u,!1)),{},{fill:"none"},Qr(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return Ne.createElement("line",z2({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=tee(a,mrt),f=this.getTickTextAnchor(),m=Qr(d,!1),h=Qr(o,!1),x=i.map(function(g,v){var b=n.getTickValueCoord(g),_=fx(fx(fx(fx({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:v},b),{},{payload:g});return Ne.createElement(_s,z2({className:Pn("recharts-polar-radius-axis-tick",Ype(o)),key:"tick-".concat(g.coordinate)},Dv(n.props,g,v)),e.renderTickItem(o,_,c?c(g.value,v):g.value))});return Ne.createElement(_s,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:Ne.createElement(_s,{className:Pn("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Vo.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ne.isValidElement(n)?o=Ne.cloneElement(n,a):vn(n)?o=n(a):o=Ne.createElement(Rv,z2({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(j.PureComponent);eP(tP,"displayName","PolarRadiusAxis");eP(tP,"axisType","radiusAxis");eP(tP,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Px.apply(this,arguments)}function nee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nee(Object(r),!0).forEach(function(n){rP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function see(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l0e(n.key),n)}}function Nrt(t,e,r){return e&&see(t.prototype,e),r&&see(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Srt(t,e,r){return e=WC(e),krt(t,o0e()?Reflect.construct(e,r||[],WC(t).constructor):e.apply(t,r))}function krt(t,e){if(e&&(zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Crt(t)}function Crt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o0e=function(){return!!t})()}function WC(t){return WC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},WC(t)}function Art(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CM(t,e)}function CM(t,e){return CM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CM(t,e)}function rP(t,e,r){return e=l0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l0e(t){var e=Ert(t,"string");return zb(e)=="symbol"?e:e+""}function Ert(t,e){if(zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Prt=Math.PI/180,aee=1e-5,nP=(function(t){function e(){return jrt(this,e),Srt(this,e,arguments)}return Art(e,t),Nrt(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=pa(i,o,l,n.coordinate),m=pa(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Prt),o;return i>aee?o=a==="outer"?"start":"end":i<-aee?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=hx(hx({},Qr(this.props,!1)),{},{fill:"none"},Qr(l,!1));if(c==="circle")return Ne.createElement(QE,Px({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return pa(a,i,o,m.coordinate)});return Ne.createElement(Jtt,Px({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Qr(this.props,!1),f=Qr(o,!1),m=hx(hx({},d),{},{fill:"none"},Qr(l,!1)),h=i.map(function(x,g){var v=n.getTickLineCoord(x),b=n.getTickTextAnchor(x),_=hx(hx(hx({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:x,x:v.x2,y:v.y2});return Ne.createElement(_s,Px({className:Pn("recharts-polar-angle-axis-tick",Ype(o)),key:"tick-".concat(x.coordinate)},Dv(n.props,x,g)),l&&Ne.createElement("line",Px({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&e.renderTickItem(o,_,c?c(x.value,g):x.value))});return Ne.createElement(_s,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:Ne.createElement(_s,{className:Pn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ne.isValidElement(n)?o=Ne.cloneElement(n,a):vn(n)?o=n(a):o=Ne.createElement(Rv,Px({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(j.PureComponent);rP(nP,"displayName","PolarAngleAxis");rP(nP,"axisType","angleAxis");rP(nP,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TR,iee;function Trt(){if(iee)return TR;iee=1;var t=vme(),e=t(Object.getPrototypeOf,Object);return TR=e,TR}var OR,oee;function Ort(){if(oee)return OR;oee=1;var t=kp(),e=Trt(),r=Cp(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return OR=u,OR}var Drt=Ort();const Rrt=us(Drt);var DR,lee;function Irt(){if(lee)return DR;lee=1;var t=kp(),e=Cp(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return DR=n,DR}var Frt=Irt();const Mrt=us(Frt);function fN(t){"@babel/helpers - typeof";return fN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fN(t)}function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HC.apply(this,arguments)}function Lrt(t,e){return zrt(t)||Urt(t,e)||Brt(t,e)||$rt()}function $rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Brt(t,e){if(t){if(typeof t=="string")return cee(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cee(t,e)}}function cee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Urt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zrt(t){if(Array.isArray(t))return t}function uee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uee(Object(r),!0).forEach(function(n){qrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qrt(t,e,r){return e=Vrt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vrt(t){var e=Wrt(t,"string");return fN(e)=="symbol"?e:e+""}function Wrt(t,e){if(fN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fee=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},Hrt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Grt=function(e){var r=dee(dee({},Hrt),e),n=j.useRef(),a=j.useState(-1),i=Lrt(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var _=Pn("recharts-trapezoid",h);return b?Ne.createElement(Wh,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:x,isActive:b},function(w){var N=w.upperWidth,S=w.lowerWidth,C=w.height,A=w.x,R=w.y;return Ne.createElement(Wh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},Ne.createElement("path",HC({},Qr(r,!0),{className:_,d:fee(A,R,N,S,C),ref:n})))}):Ne.createElement("g",null,Ne.createElement("path",HC({},Qr(r,!0),{className:_,d:fee(c,u,d,f,m)})))},Yrt=["option","shapeType","propTransformer","activeClassName","isActive"];function hN(t){"@babel/helpers - typeof";return hN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hN(t)}function Krt(t,e){if(t==null)return{};var r=Xrt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xrt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hee(Object(r),!0).forEach(function(n){Jrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jrt(t,e,r){return e=Zrt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zrt(t){var e=Qrt(t,"string");return hN(e)=="symbol"?e:e+""}function Qrt(t,e){if(hN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ent(t,e){return GC(GC({},e),t)}function tnt(t,e){return t==="symbols"}function mee(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Ne.createElement(tB,r);case"trapezoid":return Ne.createElement(Grt,r);case"sector":return Ne.createElement(Jpe,r);case"symbols":if(tnt(e))return Ne.createElement(b$,r);break;default:return null}}function rnt(t){return j.isValidElement(t)?t.props:t}function c0e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?ent:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Krt(t,Yrt),u;if(j.isValidElement(e))u=j.cloneElement(e,GC(GC({},c),rnt(e)));else if(vn(e))u=e(c);else if(Rrt(e)&&!Mrt(e)){var d=a(e,c);u=Ne.createElement(mee,{shapeType:r,elementProps:d})}else{var f=c;u=Ne.createElement(mee,{shapeType:r,elementProps:f})}return l?Ne.createElement(_s,{className:o},u):u}function sP(t,e){return e!=null&&"trapezoids"in t.props}function aP(t,e){return e!=null&&"sectors"in t.props}function mN(t,e){return e!=null&&"points"in t.props}function nnt(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function snt(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ant(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function int(t,e){var r;return sP(t,e)?r=nnt:aP(t,e)?r=snt:mN(t,e)&&(r=ant),r}function ont(t,e){var r;return sP(t,e)?r="trapezoids":aP(t,e)?r="sectors":mN(t,e)&&(r="points"),r}function lnt(t,e){if(sP(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(aP(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mN(t,e)?e.payload:{}}function cnt(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=ont(r,e),i=lnt(r,e),o=n.filter(function(c,u){var d=yS(i,c),f=r.props[a].filter(function(x){var g=int(r,e);return g(x,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(o[o.length-1]);return l}var e4;function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T1.apply(this,arguments)}function pee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pee(Object(r),!0).forEach(function(n){kd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function unt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d0e(n.key),n)}}function dnt(t,e,r){return e&&gee(t.prototype,e),r&&gee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fnt(t,e,r){return e=YC(e),hnt(t,u0e()?Reflect.construct(e,r||[],YC(t).constructor):e.apply(t,r))}function hnt(t,e){if(e&&(qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mnt(t)}function mnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u0e=function(){return!!t})()}function YC(t){return YC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YC(t)}function pnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AM(t,e)}function AM(t,e){return AM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AM(t,e)}function kd(t,e,r){return e=d0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d0e(t){var e=gnt(t,"string");return qb(e)=="symbol"?e:e+""}function gnt(t,e){if(qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ep=(function(t){function e(r){var n;return unt(this,e),n=fnt(this,e,[r]),kd(n,"pieRef",null),kd(n,"sectorRefs",[]),kd(n,"id",Aw("recharts-pie-")),kd(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),vn(a)&&a()}),kd(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),vn(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return pnt(e,t),dnt(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Qr(this.props,!1),f=Qr(o,!1),m=Qr(l,!1),h=o&&o.offsetRadius||20,x=n.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,_=pa(g.cx,g.cy,g.outerRadius+h,b),w=fa(fa(fa(fa({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,g.cx)},_),N=fa(fa(fa(fa({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:v,points:[pa(g.cx,g.cy,g.outerRadius,b),_]}),S=c;return Cn(c)&&Cn(u)?S="value":Cn(c)&&(S=u),Ne.createElement(_s,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,w,wo(g,S)))});return Ne.createElement(_s,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,x=fa(fa({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Ne.createElement(_s,T1({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Dv(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),Ne.createElement(c0e,T1({option:h,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return Ne.createElement(Wh,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,v=[],b=i&&i[0],_=b.startAngle;return i.forEach(function(w,N){var S=m&&m[N],C=N>0?$u(w,"paddingAngle",0):0;if(S){var A=Su(S.endAngle-S.startAngle,w.endAngle-w.startAngle),R=fa(fa({},w),{},{startAngle:_+C,endAngle:_+A(g)+C});v.push(R),_=R.endAngle}else{var O=w.endAngle,D=w.startAngle,P=Su(0,O-D),E=P(g),I=fa(fa({},w),{},{startAngle:_+C,endAngle:_+E+C});v.push(I),_=I.endAngle}}),Ne.createElement(_s,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!yS(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!ir(u)||!ir(d)||!ir(f)||!ir(m))return null;var g=Pn("recharts-pie",l);return Ne.createElement(_s,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Vo.renderCallByParent(this.props,null,!1),(!h||x)&&np.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Ne.isValidElement(n))return Ne.cloneElement(n,a);if(vn(n))return n(a);var o=Pn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ne.createElement($C,T1({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(Ne.isValidElement(n))return Ne.cloneElement(n,a);var o=i;if(vn(n)&&(o=n(a),Ne.isValidElement(o)))return o;var l=Pn("recharts-pie-label-text",typeof n!="boolean"&&!vn(n)?n.className:"");return Ne.createElement(Rv,T1({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(j.PureComponent);e4=Ep;kd(Ep,"displayName","Pie");kd(Ep,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ny.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});kd(Ep,"parseDeltaAngle",function(t,e){var r=fc(e-t),n=Math.min(Math.abs(e-t),360);return r*n});kd(Ep,"getRealPieData",function(t){var e=t.data,r=t.children,n=Qr(t,!1),a=Bu(r,UE);return e&&e.length?e.map(function(i,o){return fa(fa(fa({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return fa(fa({},n),i.props)}):[]});kd(Ep,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=Gpe(a,i),l=n+hc(t.cx,a,a/2),c=r+hc(t.cy,i,i/2),u=hc(t.innerRadius,o,0),d=hc(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});kd(Ep,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?fa(fa({},e.type.defaultProps),e.props):e.props,a=e4.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),x=e4.parseCoordinateOfPie(n,r),g=e4.parseDeltaAngle(o,l),v=Math.abs(g),b=u;Cn(u)&&Cn(f)?(If(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Cn(u)&&(If(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var _=a.filter(function(R){return wo(R,b,0)!==0}).length,w=(v>=360?_:_-1)*c,N=v-_*h-w,S=a.reduce(function(R,O){var D=wo(O,b,0);return R+(ir(D)?D:0)},0),C;if(S>0){var A;C=a.map(function(R,O){var D=wo(R,b,0),P=wo(R,d,O),E=(ir(D)?D:0)/S,I;O?I=A.endAngle+fc(g)*c*(D!==0?1:0):I=o;var M=I+fc(g)*((D!==0?h:0)+E*N),U=(I+M)/2,W=(x.innerRadius+x.outerRadius)/2,Y=[{name:P,value:D,payload:R,dataKey:b,type:m}],J=pa(x.cx,x.cy,W,U);return A=fa(fa(fa({percent:E,cornerRadius:i,name:P,tooltipPayload:Y,midAngle:U,middleRadius:W,tooltipPosition:J},R),x),{},{value:wo(R,b),startAngle:I,endAngle:M,payload:R,paddingAngle:fc(g)*c}),A})}return fa(fa({},x),{},{sectors:C,data:a})});var RR,xee;function xnt(){if(xee)return RR;xee=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var l=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return RR=r,RR}var IR,vee;function f0e(){if(vee)return IR;vee=1;var t=Rme(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return IR=n,IR}var FR,yee;function vnt(){if(yee)return FR;yee=1;var t=xnt(),e=BE(),r=f0e();function n(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return FR=n,FR}var MR,bee;function ynt(){if(bee)return MR;bee=1;var t=vnt(),e=t();return MR=e,MR}var bnt=ynt();const KC=us(bnt);function pN(t){"@babel/helpers - typeof";return pN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pN(t)}function wee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _ee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wee(Object(r),!0).forEach(function(n){h0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h0e(t,e,r){return e=wnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wnt(t){var e=_nt(t,"string");return pN(e)=="symbol"?e:e+""}function _nt(t,e){if(pN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jnt=["Webkit","Moz","O","ms"],Nnt=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=jnt.reduce(function(i,o){return _ee(_ee({},i),{},h0e({},o+n,r))},{});return a[e]=r,a};function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XC.apply(this,arguments)}function jee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jee(Object(r),!0).forEach(function(n){pu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Snt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p0e(n.key),n)}}function knt(t,e,r){return e&&Nee(t.prototype,e),r&&Nee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cnt(t,e,r){return e=JC(e),Ant(t,m0e()?Reflect.construct(e,r||[],JC(t).constructor):e.apply(t,r))}function Ant(t,e){if(e&&(Vb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ent(t)}function Ent(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m0e=function(){return!!t})()}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},JC(t)}function Pnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EM(t,e)}function EM(t,e){return EM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EM(t,e)}function pu(t,e,r){return e=p0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p0e(t){var e=Tnt(t,"string");return Vb(e)=="symbol"?e:e+""}function Tnt(t,e){if(Vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ont=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=L2().domain(KC(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},See=function(e){return e.changedTouches&&!!e.changedTouches.length},Wb=(function(t){function e(r){var n;return Snt(this,e),n=Cnt(this,e,[r]),pu(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),pu(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),pu(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),pu(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pu(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pu(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pu(n,"handleSlideDragStart",function(a){var i=See(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Pnt(e,t),knt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),h=e.getIndexInRange(o,f),x=e.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=wo(i[n],l,n);return vn(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,x=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==m||v.endIndex!==h)&&x&&x(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=See(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,x=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},_=n.pageX-i;_>0?_=Math.min(_,f+m-h-u):_<0&&(_=Math.max(_,f-u)),b[o]=u+_;var w=this.getIndex(b),N=w.startIndex,S=w.endIndex,C=function(){var R=v.length-1;return o==="startX"&&(l>c?N%g===0:S%g===0)||l<c&&S===R||o==="endX"&&(l>c?S%g===0:N%g===0)||l>c&&S===R};this.setState(pu(pu({},o,u+_),"brushMoveStartX",n.pageX),function(){x&&C()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(pu({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Ne.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?Ne.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,x=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),_=LR(LR({},Qr(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=h||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return Ne.createElement(_s,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,_))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return Ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,x={pointerEvents:"none",fill:u};return Ne.createElement(_s,{className:"recharts-brush-texts"},Ne.createElement(Rv,XC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},x),this.getTextOfTick(a)),Ne.createElement(Rv,XC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,x=m.endX,g=m.isTextActive,v=m.isSlideMoving,b=m.isTravellerMoving,_=m.isTravellerFocused;if(!a||!a.length||!ir(l)||!ir(c)||!ir(u)||!ir(d)||u<=0||d<=0)return null;var w=Pn("recharts-brush",i),N=Ne.Children.count(o)===1,S=Nnt("userSelect","none");return Ne.createElement(_s,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,x),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||b||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return Ne.createElement(Ne.Fragment,null,Ne.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ne.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Ne.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ne.isValidElement(n)?i=Ne.cloneElement(n,a):vn(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return LR({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Ont({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(j.PureComponent);pu(Wb,"displayName","Brush");pu(Wb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $R,kee;function Dnt(){if(kee)return $R;kee=1;var t=C$();function e(r,n){var a;return t(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return $R=e,$R}var BR,Cee;function Rnt(){if(Cee)return BR;Cee=1;var t=dme(),e=Zh(),r=Dnt(),n=Zc(),a=BE();function i(o,l,c){var u=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,e(l,3))}return BR=i,BR}var Int=Rnt();const Fnt=us(Int);var Fh=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},UR,Aee;function Mnt(){if(Aee)return UR;Aee=1;var t=Eme();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return UR=e,UR}var zR,Eee;function Lnt(){if(Eee)return zR;Eee=1;var t=Mnt(),e=Cme(),r=Zh();function n(a,i){var o={};return i=r(i,3),e(a,function(l,c,u){t(o,c,i(l,c,u))}),o}return zR=n,zR}var $nt=Lnt();const Bnt=us($nt);var qR,Pee;function Unt(){if(Pee)return qR;Pee=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return qR=t,qR}var VR,Tee;function znt(){if(Tee)return VR;Tee=1;var t=C$();function e(r,n){var a=!0;return t(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return VR=e,VR}var WR,Oee;function qnt(){if(Oee)return WR;Oee=1;var t=Unt(),e=znt(),r=Zh(),n=Zc(),a=BE();function i(o,l,c){var u=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return WR=i,WR}var Vnt=qnt();const g0e=us(Vnt);var Wnt=["x","y"];function gN(t){"@babel/helpers - typeof";return gN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gN(t)}function PM(){return PM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PM.apply(this,arguments)}function Dee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function T_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dee(Object(r),!0).forEach(function(n){Hnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hnt(t,e,r){return e=Gnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gnt(t){var e=Ynt(t,"string");return gN(e)=="symbol"?e:e+""}function Ynt(t,e){if(gN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Knt(t,e){if(t==null)return{};var r=Xnt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jnt(t,e){var r=t.x,n=t.y,a=Knt(t,Wnt),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),m=parseInt(f,10);return T_(T_(T_(T_(T_({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function Ree(t){return Ne.createElement(c0e,PM({shapeType:"rectangle",propTransformer:Jnt,activeClassName:"recharts-active-bar"},t))}var Znt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=ir(n)||bVe(n);return i?e(n,a):(i||Fv(),r)}},Qnt=["value","background"],x0e;function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function est(t,e){if(t==null)return{};var r=tst(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tst(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZC.apply(this,arguments)}function Iee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Iee(Object(r),!0).forEach(function(n){R0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y0e(n.key),n)}}function nst(t,e,r){return e&&Fee(t.prototype,e),r&&Fee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sst(t,e,r){return e=QC(e),ast(t,v0e()?Reflect.construct(e,r||[],QC(t).constructor):e.apply(t,r))}function ast(t,e){if(e&&(Hb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ist(t)}function ist(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v0e=function(){return!!t})()}function QC(t){return QC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},QC(t)}function ost(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TM(t,e)}function TM(t,e){return TM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TM(t,e)}function R0(t,e,r){return e=y0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y0e(t){var e=lst(t,"string");return Hb(e)=="symbol"?e:e+""}function lst(t,e){if(Hb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ku=(function(t){function e(){var r;rst(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=sst(this,e,[].concat(a)),R0(r,"state",{isAnimationFinished:!1}),R0(r,"id",Aw("recharts-bar-")),R0(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),R0(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ost(e,t),nst(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Qr(this.props,!1);return n&&n.map(function(f,m){var h=m===c,x=h?u:o,g=Hi(Hi(Hi({},d),f),{},{isActive:h,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ne.createElement(_s,ZC({className:"recharts-bar-rectangle"},Dv(a.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),Ne.createElement(Ree,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return Ne.createElement(Wh,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,g=i.map(function(v,b){var _=m&&m[b];if(_){var w=Su(_.x,v.x),N=Su(_.y,v.y),S=Su(_.width,v.width),C=Su(_.height,v.height);return Hi(Hi({},v),{},{x:w(x),y:N(x),width:S(x),height:C(x)})}if(o==="horizontal"){var A=Su(0,v.height),R=A(x);return Hi(Hi({},v),{},{y:v.y+v.height-R,height:R})}var O=Su(0,v.width),D=O(x);return Hi(Hi({},v),{},{width:D})});return Ne.createElement(_s,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!yS(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Qr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=est(u,Qnt);if(!f)return null;var h=Hi(Hi(Hi(Hi(Hi({},m),{},{fill:"#eee"},f),c),Dv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Ne.createElement(Ree,ZC({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Bu(d,bS);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,h=function(v,b){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:wo(v,b)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(_s,x,f.map(function(g){return Ne.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,h=n.isAnimationActive,x=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=Pn("recharts-bar",o),_=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=_||w,S=Cn(g)?this.id:g;return Ne.createElement(_s,{className:b},_||w?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(S)},Ne.createElement("rect",{x:_?u:u-f/2,y:w?d:d-m/2,width:_?f:f*2,height:w?m:m*2}))):null,Ne.createElement(_s,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!h||v)&&np.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(j.PureComponent);x0e=ku;R0(ku,"displayName","Bar");R0(ku,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ny.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});R0(ku,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,h=IZe(n,r);if(!h)return null;var x=e.layout,g=r.type.defaultProps,v=g!==void 0?Hi(Hi({},g),r.props):r.props,b=v.dataKey,_=v.children,w=v.minPointSize,N=x==="horizontal"?o:i,S=u?N.scale.domain():null,C=zZe({numericAxis:N}),A=Bu(_,UE),R=f.map(function(O,D){var P,E,I,M,U,W;u?P=FZe(u[d+D],S):(P=wo(O,b),Array.isArray(P)||(P=[C,P]));var Y=Znt(w,x0e.defaultProps.minPointSize)(P[1],D);if(x==="horizontal"){var J,z=[o.scale(P[0]),o.scale(P[1])],q=z[0],V=z[1];E=oQ({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:O,index:D}),I=(J=V??q)!==null&&J!==void 0?J:void 0,M=h.size;var L=q-V;if(U=Number.isNaN(L)?0:L,W={x:E,y:o.y,width:M,height:o.height},Math.abs(Y)>0&&Math.abs(U)<Math.abs(Y)){var X=fc(U||Y)*(Math.abs(Y)-Math.abs(U));I-=X,U+=X}}else{var K=[i.scale(P[0]),i.scale(P[1])],Q=K[0],oe=K[1];if(E=Q,I=oQ({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:O,index:D}),M=oe-Q,U=h.size,W={x:i.x,y:I,width:i.width,height:U},Math.abs(Y)>0&&Math.abs(M)<Math.abs(Y)){var ce=fc(M||Y)*(Math.abs(Y)-Math.abs(M));M+=ce}}return Hi(Hi(Hi({},O),{},{x:E,y:I,width:M,height:U,value:u?P:P[1],payload:O,background:W},A&&A[D]&&A[D].props),{},{tooltipPayload:[Wpe(r,O)],tooltipPosition:{x:E+M/2,y:I+U/2}})});return Hi({data:R,layout:x},m)});function xN(t){"@babel/helpers - typeof";return xN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xN(t)}function cst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b0e(n.key),n)}}function ust(t,e,r){return e&&Mee(t.prototype,e),r&&Mee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lee(Object(r),!0).forEach(function(n){iP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iP(t,e,r){return e=b0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b0e(t){var e=dst(t,"string");return xN(e)=="symbol"?e:e+""}function dst(t,e){if(xN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w0e=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!vu(u,ku);return d.reduce(function(h,x){var g=r[x],v=g.orientation,b=g.domain,_=g.padding,w=_===void 0?{}:_,N=g.mirror,S=g.reversed,C="".concat(v).concat(N?"Mirror":""),A,R,O,D,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var E=b[1]-b[0],I=1/0,M=g.categoricalDomain.sort(jVe);if(M.forEach(function(K,Q){Q>0&&(I=Math.min((K||0)-(M[Q-1]||0),I))}),Number.isFinite(I)){var U=I/E,W=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=U*W/2),g.padding==="no-gap"){var Y=hc(e.barCategoryGap,U*W),J=U*W/2;A=J-Y-(J-Y)/W*Y}}}a==="xAxis"?R=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:a==="yAxis"?R=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:R=g.range,S&&(R=[R[1],R[0]]);var z=Upe(g,i,m),q=z.scale,V=z.realScaleType;q.domain(b).range(R),zpe(q);var L=qpe(q,_f(_f({},g),{},{realScaleType:V}));a==="xAxis"?(P=v==="top"&&!N||v==="bottom"&&N,O=n.left,D=f[C]-P*g.height):a==="yAxis"&&(P=v==="left"&&!N||v==="right"&&N,O=f[C]-P*g.width,D=n.top);var X=_f(_f(_f({},g),L),{},{realScaleType:V,x:O,y:D,scale:q,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return X.bandSize=FC(X,L),!g.hide&&a==="xAxis"?f[C]+=(P?-1:1)*X.height:g.hide||(f[C]+=(P?-1:1)*X.width),_f(_f({},h),{},iP({},x,X))},{})},_0e=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},fst=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return _0e({x:r,y:n},{x:a,y:i})},j0e=(function(){function t(e){cst(this,t),this.scale=e}return ust(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();iP(j0e,"EPS",1e-4);var rB=function(e){var r=Object.keys(e).reduce(function(n,a){return _f(_f({},n),{},iP({},a,j0e.create(e[a])))},{});return _f(_f({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Bnt(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return g0e(a,function(i,o){return r[o].isInRange(i)})}})};function hst(t){return(t%180+180)%180}var mst=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=hst(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},HR,$ee;function pst(){if($ee)return HR;$ee=1;var t=Zh(),e=mS(),r=LE();function n(a){return function(i,o,l){var c=Object(i);if(!e(i)){var u=t(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=a(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return HR=n,HR}var GR,Bee;function gst(){if(Bee)return GR;Bee=1;var t=f0e();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return GR=e,GR}var YR,Uee;function xst(){if(Uee)return YR;Uee=1;var t=_me(),e=Zh(),r=gst(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(o,3),u)}return YR=a,YR}var KR,zee;function vst(){if(zee)return KR;zee=1;var t=pst(),e=xst(),r=t(e);return KR=r,KR}var yst=vst();const bst=us(yst);var wst=Lhe();const _st=us(wst);var jst=_st(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nB=j.createContext(void 0),sB=j.createContext(void 0),N0e=j.createContext(void 0),S0e=j.createContext({}),k0e=j.createContext(void 0),C0e=j.createContext(0),A0e=j.createContext(0),qee=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=jst(i);return Ne.createElement(nB.Provider,{value:n},Ne.createElement(sB.Provider,{value:a},Ne.createElement(S0e.Provider,{value:i},Ne.createElement(N0e.Provider,{value:d},Ne.createElement(k0e.Provider,{value:o},Ne.createElement(C0e.Provider,{value:u},Ne.createElement(A0e.Provider,{value:c},l)))))))},Nst=function(){return j.useContext(k0e)},E0e=function(e){var r=j.useContext(nB);r==null&&Fv();var n=r[e];return n==null&&Fv(),n},Sst=function(){var e=j.useContext(nB);return b0(e)},kst=function(){var e=j.useContext(sB),r=bst(e,function(n){return g0e(n.domain,Number.isFinite)});return r||b0(e)},P0e=function(e){var r=j.useContext(sB);r==null&&Fv();var n=r[e];return n==null&&Fv(),n},Cst=function(){var e=j.useContext(N0e);return e},Ast=function(){return j.useContext(S0e)},aB=function(){return j.useContext(A0e)},iB=function(){return j.useContext(C0e)};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function Est(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O0e(n.key),n)}}function Tst(t,e,r){return e&&Pst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ost(t,e,r){return e=eA(e),Dst(t,T0e()?Reflect.construct(e,r||[],eA(t).constructor):e.apply(t,r))}function Dst(t,e){if(e&&(Gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rst(t)}function Rst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T0e=function(){return!!t})()}function eA(t){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eA(t)}function Ist(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OM(t,e)}function OM(t,e){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OM(t,e)}function Vee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vee(Object(r),!0).forEach(function(n){oB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oB(t,e,r){return e=O0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O0e(t){var e=Fst(t,"string");return Gb(e)=="symbol"?e:e+""}function Fst(t,e){if(Gb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mst(t,e){return Ust(t)||Bst(t,e)||$st(t,e)||Lst()}function Lst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $st(t,e){if(t){if(typeof t=="string")return Hee(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hee(t,e)}}function Hee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bst(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ust(t){if(Array.isArray(t))return t}function DM(){return DM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DM.apply(this,arguments)}var zst=function(e,r){var n;return Ne.isValidElement(e)?n=Ne.cloneElement(e,r):vn(e)?n=e(r):n=Ne.createElement("line",DM({},r,{className:"recharts-reference-line-line"})),n},qst=function(e,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,h=i.height;if(n){var x=u.y,g=e.y.apply(x,{position:o});if(Fh(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var b=u.x,_=e.x.apply(b,{position:o});if(Fh(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+h},{x:_,y:f}];return l==="top"?w.reverse():w}if(a){var N=u.segment,S=N.map(function(C){return e.apply(C,{position:o})});return Fh(u,"discard")&&Fnt(S,function(C){return!e.isInRange(C)})?null:S}return null};function Vst(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Nst(),d=E0e(a),f=P0e(i),m=Cst();if(!u||!m)return null;If(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=rB({x:d.scale,y:f.scale}),x=jo(e),g=jo(r),v=n&&n.length===2,b=qst(h,x,g,v,m,t.position,d.orientation,f.orientation,t);if(!b)return null;var _=Mst(b,2),w=_[0],N=w.x,S=w.y,C=_[1],A=C.x,R=C.y,O=Fh(t,"hidden")?"url(#".concat(u,")"):void 0,D=Wee(Wee({clipPath:O},Qr(t,!0)),{},{x1:N,y1:S,x2:A,y2:R});return Ne.createElement(_s,{className:Pn("recharts-reference-line",l)},zst(o,D),Vo.renderCallByParent(t,fst({x1:N,y1:S,x2:A,y2:R})))}var lB=(function(t){function e(){return Est(this,e),Ost(this,e,arguments)}return Ist(e,t),Tst(e,[{key:"render",value:function(){return Ne.createElement(Vst,this.props)}}])})(Ne.Component);oB(lB,"displayName","ReferenceLine");oB(lB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function RM(){return RM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RM.apply(this,arguments)}function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function Gee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gee(Object(r),!0).forEach(function(n){oP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R0e(n.key),n)}}function Gst(t,e,r){return e&&Hst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yst(t,e,r){return e=tA(e),Kst(t,D0e()?Reflect.construct(e,r||[],tA(t).constructor):e.apply(t,r))}function Kst(t,e){if(e&&(Yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xst(t)}function Xst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D0e=function(){return!!t})()}function tA(t){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tA(t)}function Jst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}function IM(t,e){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IM(t,e)}function oP(t,e,r){return e=R0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R0e(t){var e=Zst(t,"string");return Yb(e)=="symbol"?e:e+""}function Zst(t,e){if(Yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qst=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=rB({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Fh(e,"discard")&&!o.isInRange(l)?null:l},lP=(function(t){function e(){return Wst(this,e),Yst(this,e,arguments)}return Jst(e,t),Gst(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=jo(a),d=jo(i);if(If(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Qst(this.props);if(!f)return null;var m=f.x,h=f.y,x=this.props,g=x.shape,v=x.className,b=Fh(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=Yee(Yee({clipPath:b},Qr(this.props,!0)),{},{cx:m,cy:h});return Ne.createElement(_s,{className:Pn("recharts-reference-dot",v)},e.renderDot(g,_),Vo.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])})(Ne.Component);oP(lP,"displayName","ReferenceDot");oP(lP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});oP(lP,"renderDot",function(t,e){var r;return Ne.isValidElement(t)?r=Ne.cloneElement(t,e):vn(t)?r=t(e):r=Ne.createElement(QE,RM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function FM(){return FM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FM.apply(this,arguments)}function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function Kee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kee(Object(r),!0).forEach(function(n){cP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F0e(n.key),n)}}function rat(t,e,r){return e&&tat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nat(t,e,r){return e=rA(e),sat(t,I0e()?Reflect.construct(e,r||[],rA(t).constructor):e.apply(t,r))}function sat(t,e){if(e&&(Kb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aat(t)}function aat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I0e=function(){return!!t})()}function rA(t){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rA(t)}function iat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MM(t,e)}function MM(t,e){return MM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MM(t,e)}function cP(t,e,r){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F0e(t){var e=oat(t,"string");return Kb(e)=="symbol"?e:e+""}function oat(t,e){if(Kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lat=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=rB({x:d.scale,y:f.scale}),h={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Fh(i,"discard")&&(!m.isInRange(h)||!m.isInRange(x))?null:_0e(h,x)},uP=(function(t){function e(){return eat(this,e),nat(this,e,arguments)}return iat(e,t),rat(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;If(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=jo(a),m=jo(i),h=jo(o),x=jo(l),g=this.props.shape;if(!f&&!m&&!h&&!x&&!g)return null;var v=lat(f,m,h,x,this.props);if(!v&&!g)return null;var b=Fh(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Ne.createElement(_s,{className:Pn("recharts-reference-area",c)},e.renderRect(g,Xee(Xee({clipPath:b},Qr(this.props,!0)),v)),Vo.renderCallByParent(this.props,v))}}])})(Ne.Component);cP(uP,"displayName","ReferenceArea");cP(uP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cP(uP,"renderRect",function(t,e){var r;return Ne.isValidElement(t)?r=Ne.cloneElement(t,e):vn(t)?r=t(e):r=Ne.createElement(tB,FM({},e,{className:"recharts-reference-area-rect"})),r});function M0e(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function cat(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return mst(n,r)}function uat(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function nA(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function dat(t,e){return M0e(t,e+1)}function fat(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var x=n?.[c];if(x===void 0)return{v:M0e(n,u)};var g=c,v,b=function(){return v===void 0&&(v=r(x,g)),v},_=x.coordinate,w=c===0||nA(t,_,b,d,l);w||(c=0,d=o,u+=1),w&&(d=_+t*(b()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function vN(t){"@babel/helpers - typeof";return vN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vN(t)}function Jee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function El(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jee(Object(r),!0).forEach(function(n){hat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hat(t,e,r){return e=mat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mat(t){var e=pat(t,"string");return vN(e)=="symbol"?e:e+""}function pat(t,e){if(vN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gat(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(m){var h=i[m],x,g=function(){return x===void 0&&(x=r(h,m)),x};if(m===o-1){var v=t*(h.coordinate+t*g()/2-c);i[m]=h=El(El({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else i[m]=h=El(El({},h),{},{tickCoord:h.coordinate});var b=nA(t,h.tickCoord,g,l,c);b&&(c=h.tickCoord-t*(g()/2+a),i[m]=El(El({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function xat(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var d=n[l-1],f=r(d,l-1),m=t*(d.coordinate+t*f/2-u);o[l-1]=d=El(El({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var h=nA(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+a),o[l-1]=El(El({},d),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(_){var w=o[_],N,S=function(){return N===void 0&&(N=r(w,_)),N};if(_===0){var C=t*(w.coordinate-t*S()/2-c);o[_]=w=El(El({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else o[_]=w=El(El({},w),{},{tickCoord:w.coordinate});var A=nA(t,w.tickCoord,S,c,u);A&&(c=w.tickCoord+t*(S()/2+a),o[_]=El(El({},w),{},{isShow:!0}))},v=0;v<x;v++)g(v);return o}function cB(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(ir(c)||ny.isSsr)return dat(a,typeof c=="number"&&ir(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",x=d&&h==="width"?M2(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,N){var S=vn(u)?u(w.value,N):w.value;return h==="width"?cat(M2(S,{fontSize:e,letterSpacing:r}),x,f):M2(S,{fontSize:e,letterSpacing:r})[h]},v=a.length>=2?fc(a[1].coordinate-a[0].coordinate):1,b=uat(i,v,h);return c==="equidistantPreserveStart"?fat(v,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=xat(v,b,g,a,o,c==="preserveStartEnd"):m=gat(v,b,g,a,o),m.filter(function(_){return _.isShow}))}var vat=["viewBox"],yat=["viewBox"],bat=["ticks"];function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(this,arguments)}function Zee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zee(Object(r),!0).forEach(function(n){uB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XR(t,e){if(t==null)return{};var r=wat(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$0e(n.key),n)}}function jat(t,e,r){return e&&Qee(t.prototype,e),r&&Qee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nat(t,e,r){return e=sA(e),Sat(t,L0e()?Reflect.construct(e,r||[],sA(t).constructor):e.apply(t,r))}function Sat(t,e){if(e&&(Xb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kat(t)}function kat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L0e=function(){return!!t})()}function sA(t){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sA(t)}function Cat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LM(t,e)}function LM(t,e){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LM(t,e)}function uB(t,e,r){return e=$0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $0e(t){var e=Aat(t,"string");return Xb(e)=="symbol"?e:e+""}function Aat(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dw=(function(t){function e(r){var n;return _at(this,e),n=Nat(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Cat(e,t),jat(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=XR(n,vat),l=this.props,c=l.viewBox,u=XR(l,yat);return!lb(i,c)||!lb(o,u)||!lb(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,h,x,g,v,b,_,w=f?-1:1,N=n.tickSize||d,S=ir(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=x=n.coordinate,v=o+ +!f*c,g=v-w*N,_=g-w*m,b=S;break;case"left":g=v=n.coordinate,x=i+ +!f*l,h=x-w*N,b=h-w*m,_=S;break;case"right":g=v=n.coordinate,x=i+ +f*l,h=x+w*N,b=h+w*m,_=S;break;default:h=x=n.coordinate,v=o+ +f*c,g=v+w*N,_=g+w*m,b=S;break}return{line:{x1:h,y1:g,x2:x,y2:v},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=fo(fo(fo({},Qr(this.props,!1)),Qr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=fo(fo({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=fo(fo({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return Ne.createElement("line",O1({},f,{className:Pn("recharts-cartesian-axis-line",$u(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=cB(fo(fo({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Qr(this.props,!1),b=Qr(d,!1),_=fo(fo({},v),{},{fill:"none"},Qr(c,!1)),w=h.map(function(N,S){var C=o.getTickLineCoord(N),A=C.line,R=C.tick,O=fo(fo(fo(fo({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),R),{},{index:S,payload:N,visibleTicksCount:h.length,tickFormatter:f});return Ne.createElement(_s,O1({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Dv(o.props,N,S)),c&&Ne.createElement("line",O1({},_,A,{className:Pn("recharts-cartesian-axis-tick-line",$u(c,"className"))})),d&&e.renderTickItem(d,O,"".concat(vn(f)?f(N.value,S):N.value).concat(m||"")))});return Ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,h=XR(f,bat),x=m;return vn(c)&&(x=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!x||!x.length?null:Ne.createElement(_s,{className:Pn("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Vo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Pn(a.className,"recharts-cartesian-axis-tick-value");return Ne.isValidElement(n)?o=Ne.cloneElement(n,fo(fo({},a),{},{className:l})):vn(n)?o=n(fo(fo({},a),{},{className:l})):o=Ne.createElement(Rv,O1({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);uB(Dw,"displayName","CartesianAxis");uB(Dw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Eat=["x1","y1","x2","y2","key"],Pat=["offset"];function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function ete(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ete(Object(r),!0).forEach(function(n){Tat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ete(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tat(t,e,r){return e=Oat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oat(t){var e=Dat(t,"string");return Mv(e)=="symbol"?e:e+""}function Dat(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bx.apply(this,arguments)}function tte(t,e){if(t==null)return{};var r=Rat(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Iat=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return Ne.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function B0e(t,e){var r;if(Ne.isValidElement(t))r=Ne.cloneElement(t,e);else if(vn(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=tte(e,Eat),u=Qr(c,!1);u.offset;var d=tte(u,Pat);r=Ne.createElement("line",Bx({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Fat(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rl(Rl({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return B0e(a,u)});return Ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Mat(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rl(Rl({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return B0e(a,u)});return Ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Lat(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var x=!d[h+1],g=x?a+o-m:d[h+1]-m;if(g<=0)return null;var v=h%e.length;return Ne.createElement("rect",{key:"react-".concat(h),y:m,x:n,height:g,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $at(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var x=!d[h+1],g=x?i+l-m:d[h+1]-m;if(g<=0)return null;var v=h%n.length;return Ne.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Bat=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return Bpe(cB(Rl(Rl(Rl({},Dw.defaultProps),n),{},{ticks:Km(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Uat=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return Bpe(cB(Rl(Rl(Rl({},Dw.defaultProps),n),{},{ticks:Km(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},c1={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function yN(t){var e,r,n,a,i,o,l=aB(),c=iB(),u=Ast(),d=Rl(Rl({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:c1.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:c1.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:c1.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:c1.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:c1.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:c1.verticalFill,x:ir(t.x)?t.x:u.left,y:ir(t.y)?t.y:u.top,width:ir(t.width)?t.width:u.width,height:ir(t.height)?t.height:u.height}),f=d.x,m=d.y,h=d.width,x=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,_=Sst(),w=kst();if(!ir(h)||h<=0||!ir(x)||x<=0||!ir(f)||f!==+f||!ir(m)||m!==+m)return null;var N=d.verticalCoordinatesGenerator||Bat,S=d.horizontalCoordinatesGenerator||Uat,C=d.horizontalPoints,A=d.verticalPoints;if((!C||!C.length)&&vn(S)){var R=v&&v.length,O=S({yAxis:w?Rl(Rl({},w),{},{ticks:R?v:w.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);If(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mv(O),"]")),Array.isArray(O)&&(C=O)}if((!A||!A.length)&&vn(N)){var D=b&&b.length,P=N({xAxis:_?Rl(Rl({},_),{},{ticks:D?b:_.ticks}):void 0,width:l,height:c,offset:u},D?!0:g);If(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mv(P),"]")),Array.isArray(P)&&(A=P)}return Ne.createElement("g",{className:"recharts-cartesian-grid"},Ne.createElement(Iat,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Ne.createElement(Fat,Bx({},d,{offset:u,horizontalPoints:C,xAxis:_,yAxis:w})),Ne.createElement(Mat,Bx({},d,{offset:u,verticalPoints:A,xAxis:_,yAxis:w})),Ne.createElement(Lat,Bx({},d,{horizontalPoints:C})),Ne.createElement($at,Bx({},d,{verticalPoints:A})))}yN.displayName="CartesianGrid";var zat=["type","layout","connectNulls","ref"],qat=["key"];function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function rte(t,e){if(t==null)return{};var r=Vat(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q2.apply(this,arguments)}function nte(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nte(Object(r),!0).forEach(function(n){jf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nte(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u1(t){return Yat(t)||Gat(t)||Hat(t)||Wat()}function Wat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hat(t,e){if(t){if(typeof t=="string")return $M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $M(t,e)}}function Gat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yat(t){if(Array.isArray(t))return $M(t)}function $M(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ste(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z0e(n.key),n)}}function Xat(t,e,r){return e&&ste(t.prototype,e),r&&ste(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jat(t,e,r){return e=aA(e),Zat(t,U0e()?Reflect.construct(e,r||[],aA(t).constructor):e.apply(t,r))}function Zat(t,e){if(e&&(Jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qat(t)}function Qat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U0e=function(){return!!t})()}function aA(t){return aA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aA(t)}function eit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BM(t,e)}function BM(t,e){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BM(t,e)}function jf(t,e,r){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z0e(t){var e=tit(t,"string");return Jb(e)=="symbol"?e:e+""}function tit(t,e){if(Jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wS=(function(t){function e(){var r;Kat(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Jat(this,e,[].concat(a)),jf(r,"state",{isAnimationFinished:!0,totalLength:0}),jf(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),jf(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,_){return b+_});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,h=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>f){h=[].concat(u1(c.slice(0,x)),[f-g]);break}var v=h.length%2===0?[0,m]:[m];return[].concat(u1(e.repeat(c,d)),u1(h),v).map(function(b){return"".concat(b,"px")}).join(", ")}),jf(r,"id",Aw("recharts-line-")),jf(r,"pathRef",function(o){r.mainCurve=o}),jf(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),jf(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return eit(e,t),Xat(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Bu(d,bS);if(!f)return null;var m=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:wo(g.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(_s,h,f.map(function(x){return Ne.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Qr(this.props,!1),m=Qr(c,!0),h=u.map(function(g,v){var b=hu(hu(hu({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,b)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ne.createElement(_s,q2({className:"recharts-line-dots",key:"dots"},x),h)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=rte(l,zat),m=hu(hu(hu({},Qr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return Ne.createElement($C,q2({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=o.animateNewValues,g=o.width,v=o.height,b=this.state,_=b.prevPoints,w=b.totalLength;return Ne.createElement(Wh,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(_){var C=_.length/l.length,A=l.map(function(E,I){var M=Math.floor(I*C);if(_[M]){var U=_[M],W=Su(U.x,E.x),Y=Su(U.y,E.y);return hu(hu({},E),{},{x:W(S),y:Y(S)})}if(x){var J=Su(g*2,E.x),z=Su(v/2,E.y);return hu(hu({},E),{},{x:J(S),y:z(S)})}return hu(hu({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(A,n,a)}var R=Su(0,w),O=R(S),D;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});D=i.getStrokeDasharray(O,w,P)}else D=i.generateSimpleStrokeDasharray(w,O);return i.renderCurveStatically(l,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!yS(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,m=a.left,h=a.width,x=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,_=l.length===1,w=Pn("recharts-line",c),N=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,C=N||S,A=Cn(v)?this.id:v,R=(n=Qr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=R.r,D=O===void 0?3:O,P=R.strokeWidth,E=P===void 0?2:P,I=OVe(o)?o:{},M=I.clipDot,U=M===void 0?!0:M,W=D*2+E;return Ne.createElement(_s,{className:w},N||S?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(A)},Ne.createElement("rect",{x:N?m:m-h/2,y:S?f:f-x/2,width:N?h:h*2,height:S?x:x*2})),!U&&Ne.createElement("clipPath",{id:"clipPath-dots-".concat(A)},Ne.createElement("rect",{x:m-W/2,y:f-W/2,width:h+W,height:x+W}))):null,!_&&this.renderCurve(C,A),this.renderErrorBar(C,A),(_||o)&&this.renderDots(C,U,A),(!g||b)&&np.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(u1(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(u1(o),u1(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Ne.isValidElement(n))i=Ne.cloneElement(n,a);else if(vn(n))i=n(a);else{var o=a.key,l=rte(a,qat),c=Pn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ne.createElement(QE,q2({key:o},l,{className:c}))}return i}}])})(j.PureComponent);jf(wS,"displayName","Line");jf(wS,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ny.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});jf(wS,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(m,h){var x=wo(m,o);return d==="horizontal"?{x:iQ({axis:r,ticks:a,bandSize:l,entry:m,index:h}),y:Cn(x)?null:n.scale(x),value:x,payload:m}:{x:Cn(x)?null:r.scale(x),y:iQ({axis:n,ticks:i,bandSize:l,entry:m,index:h}),value:x,payload:m}});return hu({points:f,layout:d},u)});function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function rit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nit(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W0e(n.key),n)}}function sit(t,e,r){return e&&nit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ait(t,e,r){return e=iA(e),iit(t,q0e()?Reflect.construct(e,r||[],iA(t).constructor):e.apply(t,r))}function iit(t,e){if(e&&(Zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oit(t)}function oit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q0e=function(){return!!t})()}function iA(t){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iA(t)}function lit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}function UM(t,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UM(t,e)}function V0e(t,e,r){return e=W0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W0e(t){var e=cit(t,"string");return Zb(e)=="symbol"?e:e+""}function cit(t,e){if(Zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zM(){return zM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zM.apply(this,arguments)}function uit(t){var e=t.xAxisId,r=aB(),n=iB(),a=E0e(e);return a==null?null:j.createElement(Dw,zM({},a,{className:Pn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Km(o,!0)}}))}var hg=(function(t){function e(){return rit(this,e),ait(this,e,arguments)}return lit(e,t),sit(e,[{key:"render",value:function(){return j.createElement(uit,this.props)}}])})(j.Component);V0e(hg,"displayName","XAxis");V0e(hg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}function dit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fit(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y0e(n.key),n)}}function hit(t,e,r){return e&&fit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mit(t,e,r){return e=oA(e),pit(t,H0e()?Reflect.construct(e,r||[],oA(t).constructor):e.apply(t,r))}function pit(t,e){if(e&&(Qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return git(t)}function git(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H0e=function(){return!!t})()}function oA(t){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oA(t)}function xit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qM(t,e)}function qM(t,e){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qM(t,e)}function G0e(t,e,r){return e=Y0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y0e(t){var e=vit(t,"string");return Qb(e)=="symbol"?e:e+""}function vit(t,e){if(Qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VM(){return VM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VM.apply(this,arguments)}var yit=function(e){var r=e.yAxisId,n=aB(),a=iB(),i=P0e(r);return i==null?null:j.createElement(Dw,VM({},i,{className:Pn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Km(l,!0)}}))},mg=(function(t){function e(){return dit(this,e),mit(this,e,arguments)}return xit(e,t),hit(e,[{key:"render",value:function(){return j.createElement(yit,this.props)}}])})(j.Component);G0e(mg,"displayName","YAxis");G0e(mg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ate(t){return jit(t)||_it(t)||wit(t)||bit()}function bit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wit(t,e){if(t){if(typeof t=="string")return WM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(t,e)}}function _it(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jit(t){if(Array.isArray(t))return WM(t)}function WM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var HM=function(e,r,n,a,i){var o=Bu(e,lB),l=Bu(e,lP),c=[].concat(ate(o),ate(l)),u=Bu(e,uP),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,v){if(v.props[d]===n&&Fh(v.props,"extendDomain")&&ir(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},m)),u.length){var h="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(g,v){if(v.props[d]===n&&Fh(v.props,"extendDomain")&&ir(v.props[h])&&ir(v.props[x])){var b=v.props[h],_=v.props[x];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,v){return ir(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},m)),m},JR={exports:{}},ite;function Nit(){return ite||(ite=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,x=new Array(h);m<h;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,x){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,x),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var N=v.length,S;for(w=0;w<N;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,m);break;default:if(!_)for(S=1,_=new Array(b-1);S<b;S++)_[S-1]=arguments[S];v[w].fn.apply(v[w].context,_)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var x=this._events[h];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,h);else{for(var g=0,v=[],b=x.length;g<b;g++)(x[g].fn!==d||m&&!x[g].once||f&&x[g].context!==f)&&v.push(x[g]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(JR)),JR.exports}var Sit=Nit();const kit=us(Sit);var ZR=new kit,QR="recharts.syncMouseEvents";function bN(t){"@babel/helpers - typeof";return bN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bN(t)}function Cit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ait(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K0e(n.key),n)}}function Eit(t,e,r){return e&&Ait(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eI(t,e,r){return e=K0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K0e(t){var e=Pit(t,"string");return bN(e)=="symbol"?e:e+""}function Pit(t,e){if(bN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tit=(function(){function t(){Cit(this,t),eI(this,"activeIndex",0),eI(this,"coordinateList",[]),eI(this,"layout","horizontal")}return Eit(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function Oit(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&ir(n)&&ir(a))return!0}return!1}function Dit(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function X0e(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=pa(e,r,n,a),l=pa(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Rit(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=pa(l,c,u,f),h=pa(l,c,d,f);n=m.x,a=m.y,i=h.x,o=h.y}else return X0e(e);return[{x:n,y:a},{x:i,y:o}]}function wN(t){"@babel/helpers - typeof";return wN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wN(t)}function ote(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function m5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ote(Object(r),!0).forEach(function(n){Iit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ote(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iit(t,e,r){return e=Fit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fit(t){var e=Mit(t,"string");return wN(e)=="symbol"?e:e+""}function Mit(t,e){if(wN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lit(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,g=$C;if(m==="ScatterChart")x=o,g=irt;else if(m==="BarChart")x=Dit(f,o,c,d),g=tB;else if(f==="radial"){var v=X0e(o),b=v.cx,_=v.cy,w=v.radius,N=v.startAngle,S=v.endAngle;x={cx:b,cy:_,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},g=Jpe}else x={points:Rit(f,o,c)},g=$C;var C=m5(m5(m5(m5({stroke:"#ccc",pointerEvents:"none"},c),x),Qr(h,!1)),{},{payload:l,payloadIndex:u,className:Pn("recharts-tooltip-cursor",h.className)});return j.isValidElement(h)?j.cloneElement(h,C):j.createElement(g,C)}var $it=["item"],Bit=["children","className","width","height","style","compact","title","desc"];function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D1.apply(this,arguments)}function lte(t,e){return qit(t)||zit(t,e)||Z0e(t,e)||Uit()}function Uit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zit(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qit(t){if(Array.isArray(t))return t}function cte(t,e){if(t==null)return{};var r=Vit(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hit(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q0e(n.key),n)}}function Git(t,e,r){return e&&Hit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yit(t,e,r){return e=lA(e),Kit(t,J0e()?Reflect.construct(e,r||[],lA(t).constructor):e.apply(t,r))}function Kit(t,e){if(e&&(ew(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xit(t)}function Xit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J0e=function(){return!!t})()}function lA(t){return lA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lA(t)}function Jit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GM(t,e)}function GM(t,e){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GM(t,e)}function tw(t){return eot(t)||Qit(t)||Z0e(t)||Zit()}function Zit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z0e(t,e){if(t){if(typeof t=="string")return YM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YM(t,e)}}function Qit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eot(t){if(Array.isArray(t))return YM(t)}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ute(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ute(Object(r),!0).forEach(function(n){nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ute(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nn(t,e,r){return e=Q0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q0e(t){var e=tot(t,"string");return ew(e)=="symbol"?e:e+""}function tot(t,e){if(ew(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rot={xAxis:["bottom","top"],yAxis:["left","right"]},not={width:"100%",height:"100%"},ege={x:0,y:0};function p5(t){return t}var sot=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},aot=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return Rt(Rt(Rt({},a),pa(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Rt(Rt(Rt({},a),pa(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return ege},dP=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(tw(l),tw(u)):l},[]);return o.length>0?o:e&&e.length&&ir(a)&&ir(i)?e.slice(a,i+1):[]};function tge(t){return t==="number"?[0,"auto"]:void 0}var KM=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=dP(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=dC(h,o.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(tw(c),[Wpe(u,m)]):c},[])},dte=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=sot(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=EZe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=KM(e,r,d,f),h=aot(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},iot=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=$pe(d,i);return n.reduce(function(x,g){var v,b=g.type.defaultProps!==void 0?Rt(Rt({},g.type.defaultProps),g.props):g.props,_=b.type,w=b.dataKey,N=b.allowDataOverflow,S=b.allowDuplicatedCategory,C=b.scale,A=b.ticks,R=b.includeHidden,O=b[o];if(x[O])return x;var D=dP(e.data,{graphicalItems:a.filter(function(L){var X,K=o in L.props?L.props[o]:(X=L.type.defaultProps)===null||X===void 0?void 0:X[o];return K===O}),dataStartIndex:c,dataEndIndex:u}),P=D.length,E,I,M;Oit(b.domain,N,_)&&(E=cM(b.domain,null,N),h&&(_==="number"||C!=="auto")&&(M=$2(D,w,"category")));var U=tge(_);if(!E||E.length===0){var W,Y=(W=b.domain)!==null&&W!==void 0?W:U;if(w){if(E=$2(D,w,_),_==="category"&&h){var J=_Ve(E);S&&J?(I=E,E=KC(0,P)):S||(E=uQ(Y,E,g).reduce(function(L,X){return L.indexOf(X)>=0?L:[].concat(tw(L),[X])},[]))}else if(_==="category")S?E=E.filter(function(L){return L!==""&&!Cn(L)}):E=uQ(Y,E,g).reduce(function(L,X){return L.indexOf(X)>=0||X===""||Cn(X)?L:[].concat(tw(L),[X])},[]);else if(_==="number"){var z=RZe(D,a.filter(function(L){var X,K,Q=o in L.props?L.props[o]:(X=L.type.defaultProps)===null||X===void 0?void 0:X[o],oe="hide"in L.props?L.props.hide:(K=L.type.defaultProps)===null||K===void 0?void 0:K.hide;return Q===O&&(R||!oe)}),w,i,d);z&&(E=z)}h&&(_==="number"||C!=="auto")&&(M=$2(D,w,"category"))}else h?E=KC(0,P):l&&l[O]&&l[O].hasStack&&_==="number"?E=m==="expand"?[0,1]:Vpe(l[O].stackGroups,c,u):E=Lpe(D,a.filter(function(L){var X=o in L.props?L.props[o]:L.type.defaultProps[o],K="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return X===O&&(R||!K)}),_,d,!0);if(_==="number")E=HM(f,E,O,i,A),Y&&(E=cM(Y,E,N));else if(_==="category"&&Y){var q=Y,V=E.every(function(L){return q.indexOf(L)>=0});V&&(E=q)}}return Rt(Rt({},x),{},nn({},O,Rt(Rt({},b),{},{axisType:i,domain:E,categoricalDomain:M,duplicateDomain:I,originalDomain:(v=b.domain)!==null&&v!==void 0?v:U,isCategorical:h,layout:d})))},{})},oot=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=dP(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,x=$pe(d,i),g=-1;return n.reduce(function(v,b){var _=b.type.defaultProps!==void 0?Rt(Rt({},b.type.defaultProps),b.props):b.props,w=_[o],N=tge("number");if(!v[w]){g++;var S;return x?S=KC(0,h):l&&l[w]&&l[w].hasStack?(S=Vpe(l[w].stackGroups,c,u),S=HM(f,S,w,i)):(S=cM(N,Lpe(m,n.filter(function(C){var A,R,O=o in C.props?C.props[o]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[o],D="hide"in C.props?C.props.hide:(R=C.type.defaultProps)===null||R===void 0?void 0:R.hide;return O===w&&!D}),"number",d),a.defaultProps.allowDataOverflow),S=HM(f,S,w,i)),Rt(Rt({},v),{},nn({},w,Rt(Rt({axisType:i},a.defaultProps),{},{hide:!0,orientation:$u(rot,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:N,isCategorical:x,layout:d})))}return v},{})},lot=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Bu(d,i),h={};return m&&m.length?h=iot(e,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=oot(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},cot=function(e){var r=b0(e),n=Km(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:A$(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:FC(r,n)}},fte=function(e){var r=e.children,n=e.defaultShowTooltip,a=vu(r,Wb),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},uot=function(e){return!e||!e.length?!1:e.some(function(r){var n=tp(r&&r.type);return n&&n.indexOf("Bar")>=0})},hte=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dot=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=vu(f,Wb),x=vu(f,z0),g=Object.keys(c).reduce(function(S,C){var A=c[C],R=A.orientation;return!A.mirror&&!A.hide?Rt(Rt({},S),{},nn({},R,S[R]+A.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,C){var A=o[C],R=A.orientation;return!A.mirror&&!A.hide?Rt(Rt({},S),{},nn({},R,$u(S,"".concat(R))+A.height)):S},{top:m.top||0,bottom:m.bottom||0}),b=Rt(Rt({},v),g),_=b.bottom;h&&(b.bottom+=h.props.height||Wb.defaultProps.height),x&&r&&(b=OZe(b,a,n,r));var w=u-b.left-b.right,N=d-b.top-b.bottom;return Rt(Rt({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(N,0)})},fot=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},dB=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(b,_){var w=_.graphicalItems,N=_.stackGroups,S=_.offset,C=_.updateId,A=_.dataStartIndex,R=_.dataEndIndex,O=b.barSize,D=b.layout,P=b.barGap,E=b.barCategoryGap,I=b.maxBarSize,M=hte(D),U=M.numericAxisName,W=M.cateAxisName,Y=uot(w),J=[];return w.forEach(function(z,q){var V=dP(b.data,{graphicalItems:[z],dataStartIndex:A,dataEndIndex:R}),L=z.type.defaultProps!==void 0?Rt(Rt({},z.type.defaultProps),z.props):z.props,X=L.dataKey,K=L.maxBarSize,Q=L["".concat(U,"Id")],oe=L["".concat(W,"Id")],ce={},de=c.reduce(function(ye,qe){var Qe=_["".concat(qe.axisType,"Map")],ct=L["".concat(qe.axisType,"Id")];Qe&&Qe[ct]||qe.axisType==="zAxis"||Fv();var Ye=Qe[ct];return Rt(Rt({},ye),{},nn(nn({},qe.axisType,Ye),"".concat(qe.axisType,"Ticks"),Km(Ye)))},ce),ne=de[W],ue=de["".concat(W,"Ticks")],se=N&&N[Q]&&N[Q].hasStack&&qZe(z,N[Q].stackGroups),Z=tp(z.type).indexOf("Bar")>=0,Oe=FC(ne,ue),re=[],le=Y&&PZe({barSize:O,stackGroups:N,totalSize:fot(de,W)});if(Z){var We,xe,Le=Cn(K)?I:K,ke=(We=(xe=FC(ne,ue,!0))!==null&&xe!==void 0?xe:Le)!==null&&We!==void 0?We:0;re=TZe({barGap:P,barCategoryGap:E,bandSize:ke!==Oe?ke:Oe,sizeList:le[oe],maxBarSize:Le}),ke!==Oe&&(re=re.map(function(ye){return Rt(Rt({},ye),{},{position:Rt(Rt({},ye.position),{},{offset:ye.position.offset-ke/2})})}))}var fe=z&&z.type&&z.type.getComposedData;fe&&J.push({props:Rt(Rt({},fe(Rt(Rt({},de),{},{displayedData:V,props:b,dataKey:X,item:z,bandSize:Oe,barPosition:re,offset:S,stackedData:se,layout:D,dataStartIndex:A,dataEndIndex:R}))),{},nn(nn(nn({key:z.key||"item-".concat(q)},U,de[U]),W,de[W]),"animationId",C)),childIndex:IVe(z,b.children),item:z})}),J},h=function(b,_){var w=b.props,N=b.dataStartIndex,S=b.dataEndIndex,C=b.updateId;if(!NK({props:w}))return null;var A=w.children,R=w.layout,O=w.stackOffset,D=w.data,P=w.reverseStackOrder,E=hte(R),I=E.numericAxisName,M=E.cateAxisName,U=Bu(A,n),W=UZe(D,U,"".concat(I,"Id"),"".concat(M,"Id"),O,P),Y=c.reduce(function(L,X){var K="".concat(X.axisType,"Map");return Rt(Rt({},L),{},nn({},K,lot(w,Rt(Rt({},X),{},{graphicalItems:U,stackGroups:X.axisType===I&&W,dataStartIndex:N,dataEndIndex:S}))))},{}),J=dot(Rt(Rt({},Y),{},{props:w,graphicalItems:U}),_?.legendBBox);Object.keys(Y).forEach(function(L){Y[L]=d(w,Y[L],J,L.replace("Map",""),r)});var z=Y["".concat(M,"Map")],q=cot(z),V=m(w,Rt(Rt({},Y),{},{dataStartIndex:N,dataEndIndex:S,updateId:C,graphicalItems:U,stackGroups:W,offset:J}));return Rt(Rt({formattedGraphicalItems:V,graphicalItems:U,offset:J,stackGroups:W},q),Y)},x=(function(v){function b(_){var w,N,S;return Wit(this,b),S=Yit(this,b,[_]),nn(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nn(S,"accessibilityManager",new Tit),nn(S,"handleLegendBBoxUpdate",function(C){if(C){var A=S.state,R=A.dataStartIndex,O=A.dataEndIndex,D=A.updateId;S.setState(Rt({legendBBox:C},h({props:S.props,dataStartIndex:R,dataEndIndex:O,updateId:D},Rt(Rt({},S.state),{},{legendBBox:C}))))}}),nn(S,"handleReceiveSyncEvent",function(C,A,R){if(S.props.syncId===C){if(R===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),nn(S,"handleBrushChange",function(C){var A=C.startIndex,R=C.endIndex;if(A!==S.state.dataStartIndex||R!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return Rt({dataStartIndex:A,dataEndIndex:R},h({props:S.props,dataStartIndex:A,dataEndIndex:R,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:R})}}),nn(S,"handleMouseEnter",function(C){var A=S.getMouseInfo(C);if(A){var R=Rt(Rt({},A),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var O=S.props.onMouseEnter;vn(O)&&O(R,C)}}),nn(S,"triggeredAfterMouseMove",function(C){var A=S.getMouseInfo(C),R=A?Rt(Rt({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(R),S.triggerSyncEvent(R);var O=S.props.onMouseMove;vn(O)&&O(R,C)}),nn(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),nn(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),nn(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),nn(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var R=S.props.onMouseLeave;vn(R)&&R(A,C)}),nn(S,"handleOuterEvent",function(C){var A=RVe(C),R=$u(S.props,"".concat(A));if(A&&vn(R)){var O,D;/.*touch.*/i.test(A)?D=S.getMouseInfo(C.changedTouches[0]):D=S.getMouseInfo(C),R((O=D)!==null&&O!==void 0?O:{},C)}}),nn(S,"handleClick",function(C){var A=S.getMouseInfo(C);if(A){var R=Rt(Rt({},A),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var O=S.props.onClick;vn(O)&&O(R,C)}}),nn(S,"handleMouseDown",function(C){var A=S.props.onMouseDown;if(vn(A)){var R=S.getMouseInfo(C);A(R,C)}}),nn(S,"handleMouseUp",function(C){var A=S.props.onMouseUp;if(vn(A)){var R=S.getMouseInfo(C);A(R,C)}}),nn(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),nn(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),nn(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),nn(S,"handleDoubleClick",function(C){var A=S.props.onDoubleClick;if(vn(A)){var R=S.getMouseInfo(C);A(R,C)}}),nn(S,"handleContextMenu",function(C){var A=S.props.onContextMenu;if(vn(A)){var R=S.getMouseInfo(C);A(R,C)}}),nn(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&ZR.emit(QR,S.props.syncId,C,S.eventEmitterSymbol)}),nn(S,"applySyncEvent",function(C){var A=S.props,R=A.layout,O=A.syncMethod,D=S.state.updateId,P=C.dataStartIndex,E=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(Rt({dataStartIndex:P,dataEndIndex:E},h({props:S.props,dataStartIndex:P,dataEndIndex:E,updateId:D},S.state)));else if(C.activeTooltipIndex!==void 0){var I=C.chartX,M=C.chartY,U=C.activeTooltipIndex,W=S.state,Y=W.offset,J=W.tooltipTicks;if(!Y)return;if(typeof O=="function")U=O(J,C);else if(O==="value"){U=-1;for(var z=0;z<J.length;z++)if(J[z].value===C.activeLabel){U=z;break}}var q=Rt(Rt({},Y),{},{x:Y.left,y:Y.top}),V=Math.min(I,q.x+q.width),L=Math.min(M,q.y+q.height),X=J[U]&&J[U].value,K=KM(S.state,S.props.data,U),Q=J[U]?{x:R==="horizontal"?J[U].coordinate:V,y:R==="horizontal"?L:J[U].coordinate}:ege;S.setState(Rt(Rt({},C),{},{activeLabel:X,activeCoordinate:Q,activePayload:K,activeTooltipIndex:U}))}else S.setState(C)}),nn(S,"renderCursor",function(C){var A,R=S.state,O=R.isTooltipActive,D=R.activeCoordinate,P=R.activePayload,E=R.offset,I=R.activeTooltipIndex,M=R.tooltipAxisBandSize,U=S.getTooltipEventType(),W=(A=C.props.active)!==null&&A!==void 0?A:O,Y=S.props.layout,J=C.key||"_recharts-cursor";return Ne.createElement(Lit,{key:J,activeCoordinate:D,activePayload:P,activeTooltipIndex:I,chartName:r,element:C,isActive:W,layout:Y,offset:E,tooltipAxisBandSize:M,tooltipEventType:U})}),nn(S,"renderPolarAxis",function(C,A,R){var O=$u(C,"type.axisType"),D=$u(S.state,"".concat(O,"Map")),P=C.type.defaultProps,E=P!==void 0?Rt(Rt({},P),C.props):C.props,I=D&&D[E["".concat(O,"Id")]];return j.cloneElement(C,Rt(Rt({},I),{},{className:Pn(O,I.className),key:C.key||"".concat(A,"-").concat(R),ticks:Km(I,!0)}))}),nn(S,"renderPolarGrid",function(C){var A=C.props,R=A.radialLines,O=A.polarAngles,D=A.polarRadius,P=S.state,E=P.radiusAxisMap,I=P.angleAxisMap,M=b0(E),U=b0(I),W=U.cx,Y=U.cy,J=U.innerRadius,z=U.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(O)?O:Km(U,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(D)?D:Km(M,!0).map(function(q){return q.coordinate}),cx:W,cy:Y,innerRadius:J,outerRadius:z,key:C.key||"polar-grid",radialLines:R})}),nn(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,A=S.props,R=A.children,O=A.width,D=A.height,P=S.props.margin||{},E=O-(P.left||0)-(P.right||0),I=Fpe({children:R,formattedGraphicalItems:C,legendWidth:E,legendContent:u});if(!I)return null;var M=I.item,U=cte(I,$it);return j.cloneElement(M,Rt(Rt({},U),{},{chartWidth:O,chartHeight:D,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),nn(S,"renderTooltip",function(){var C,A=S.props,R=A.children,O=A.accessibilityLayer,D=vu(R,Bc);if(!D)return null;var P=S.state,E=P.isTooltipActive,I=P.activeCoordinate,M=P.activePayload,U=P.activeLabel,W=P.offset,Y=(C=D.props.active)!==null&&C!==void 0?C:E;return j.cloneElement(D,{viewBox:Rt(Rt({},W),{},{x:W.left,y:W.top}),active:Y,label:U,payload:Y?M:[],coordinate:I,accessibilityLayer:O})}),nn(S,"renderBrush",function(C){var A=S.props,R=A.margin,O=A.data,D=S.state,P=D.offset,E=D.dataStartIndex,I=D.dataEndIndex,M=D.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:u5(S.handleBrushChange,C.props.onChange),data:O,x:ir(C.props.x)?C.props.x:P.left,y:ir(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(R.bottom||0),width:ir(C.props.width)?C.props.width:P.width,startIndex:E,endIndex:I,updateId:"brush-".concat(M)})}),nn(S,"renderReferenceElement",function(C,A,R){if(!C)return null;var O=S,D=O.clipPathId,P=S.state,E=P.xAxisMap,I=P.yAxisMap,M=P.offset,U=C.type.defaultProps||{},W=C.props,Y=W.xAxisId,J=Y===void 0?U.xAxisId:Y,z=W.yAxisId,q=z===void 0?U.yAxisId:z;return j.cloneElement(C,{key:C.key||"".concat(A,"-").concat(R),xAxis:E[J],yAxis:I[q],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:D})}),nn(S,"renderActivePoints",function(C){var A=C.item,R=C.activePoint,O=C.basePoint,D=C.childIndex,P=C.isRange,E=[],I=A.props.key,M=A.item.type.defaultProps!==void 0?Rt(Rt({},A.item.type.defaultProps),A.item.props):A.item.props,U=M.activeDot,W=M.dataKey,Y=Rt(Rt({index:D,dataKey:W,cx:R.x,cy:R.y,r:4,fill:eB(A.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Qr(U,!1)),fC(U));return E.push(b.renderActiveDot(U,Y,"".concat(I,"-activePoint-").concat(D))),O?E.push(b.renderActiveDot(U,Rt(Rt({},Y),{},{cx:O.x,cy:O.y}),"".concat(I,"-basePoint-").concat(D))):P&&E.push(null),E}),nn(S,"renderGraphicChild",function(C,A,R){var O=S.filterFormatItem(C,A,R);if(!O)return null;var D=S.getTooltipEventType(),P=S.state,E=P.isTooltipActive,I=P.tooltipAxis,M=P.activeTooltipIndex,U=P.activeLabel,W=S.props.children,Y=vu(W,Bc),J=O.props,z=J.points,q=J.isRange,V=J.baseLine,L=O.item.type.defaultProps!==void 0?Rt(Rt({},O.item.type.defaultProps),O.item.props):O.item.props,X=L.activeDot,K=L.hide,Q=L.activeBar,oe=L.activeShape,ce=!!(!K&&E&&Y&&(X||Q||oe)),de={};D!=="axis"&&Y&&Y.props.trigger==="click"?de={onClick:u5(S.handleItemMouseEnter,C.props.onClick)}:D!=="axis"&&(de={onMouseLeave:u5(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:u5(S.handleItemMouseEnter,C.props.onMouseEnter)});var ne=j.cloneElement(C,Rt(Rt({},O.props),de));function ue(qe){return typeof I.dataKey=="function"?I.dataKey(qe.payload):null}if(ce)if(M>=0){var se,Z;if(I.dataKey&&!I.allowDuplicatedCategory){var Oe=typeof I.dataKey=="function"?ue:"payload.".concat(I.dataKey.toString());se=dC(z,Oe,U),Z=q&&V&&dC(V,Oe,U)}else se=z?.[M],Z=q&&V&&V[M];if(oe||Q){var re=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[j.cloneElement(C,Rt(Rt(Rt({},O.props),de),{},{activeIndex:re})),null,null]}if(!Cn(se))return[ne].concat(tw(S.renderActivePoints({item:O,activePoint:se,basePoint:Z,childIndex:M,isRange:q})))}else{var le,We=(le=S.getItemByXY(S.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:ne},xe=We.graphicalItem,Le=xe.item,ke=Le===void 0?C:Le,fe=xe.childIndex,ye=Rt(Rt(Rt({},O.props),de),{},{activeIndex:fe});return[j.cloneElement(ke,ye),null,null]}return q?[ne,null,null]:[ne,null]}),nn(S,"renderCustomized",function(C,A,R){return j.cloneElement(C,Rt(Rt({key:"recharts-customized-".concat(R)},S.props),S.state))}),nn(S,"renderMap",{CartesianGrid:{handler:p5,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:p5},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:p5},YAxis:{handler:p5},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:Aw("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Ime(S.triggeredAfterMouseMove,(N=_.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return Jit(b,v),Git(b,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,S=w.data,C=w.height,A=w.layout,R=vu(N,Bc);if(R){var O=R.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,P=KM(this.state,S,O,D),E=this.state.tooltipTicks[O].coordinate,I=(this.state.offset.top+C)/2,M=A==="horizontal",U=M?{x:E,y:I}:{y:E,x:I},W=this.state.formattedGraphicalItems.find(function(J){var z=J.item;return z.type.name==="Scatter"});W&&(U=Rt(Rt({},U),W.props.points[O].tooltipPosition),P=W.props.points[O].tooltipPayload);var Y={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:P,activeCoordinate:U};this.setState(Y),this.renderCursor(R),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){T8([vu(w.children,Bc)],[vu(this.props.children,Bc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=vu(this.props.children,Bc);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),C=wYe(S),A={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},R=S.width/N.offsetWidth||1,O=this.inRange(A.chartX,A.chartY,R);if(!O)return null;var D=this.state,P=D.xAxisMap,E=D.yAxisMap,I=this.getTooltipEventType(),M=dte(this.state,this.props.data,this.props.layout,O);if(I!=="axis"&&P&&E){var U=b0(P).scale,W=b0(E).scale,Y=U&&U.invert?U.invert(A.chartX):null,J=W&&W.invert?W.invert(A.chartY):null;return Rt(Rt({},A),{},{xValue:Y,yValue:J},M)}return M?Rt(Rt({},A),M):null}},{key:"inRange",value:function(w,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=w/S,R=N/S;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,D=A>=O.left&&A<=O.left+O.width&&R>=O.top&&R<=O.top+O.height;return D?{x:A,y:R}:null}var P=this.state,E=P.angleAxisMap,I=P.radiusAxisMap;if(E&&I){var M=b0(E);return hQ({x:A,y:R},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),S=vu(w,Bc),C={};S&&N==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=fC(this.props,this.handleOuterEvent);return Rt(Rt({},A),C)}},{key:"addListener",value:function(){ZR.on(QR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ZR.removeListener(QR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,S){for(var C=this.state.formattedGraphicalItems,A=0,R=C.length;A<R;A++){var O=C[A];if(O.item===w||O.props.key===w.key||N===tp(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,S=N.left,C=N.top,A=N.height,R=N.width;return Ne.createElement("defs",null,Ne.createElement("clipPath",{id:w},Ne.createElement("rect",{x:S,y:C,height:A,width:R})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,S){var C=lte(S,2),A=C[0],R=C[1];return Rt(Rt({},N),{},nn({},A,R.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,S){var C=lte(S,2),A=C[0],R=C[1];return Rt(Rt({},N),{},nn({},A,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,S=N.formattedGraphicalItems,C=N.activeItem;if(S&&S.length)for(var A=0,R=S.length;A<R;A++){var O=S[A],D=O.props,P=O.item,E=P.type.defaultProps!==void 0?Rt(Rt({},P.type.defaultProps),P.props):P.props,I=tp(P.type);if(I==="Bar"){var M=(D.data||[]).find(function(J){return Btt(w,J)});if(M)return{graphicalItem:O,payload:M}}else if(I==="RadialBar"){var U=(D.data||[]).find(function(J){return hQ(w,J)});if(U)return{graphicalItem:O,payload:U}}else if(sP(O,C)||aP(O,C)||mN(O,C)){var W=cnt({graphicalItem:O,activeTooltipItem:C,itemData:E.data}),Y=E.activeIndex===void 0?W:E.activeIndex;return{graphicalItem:Rt(Rt({},O),{},{childIndex:Y}),payload:mN(O,C)?E.data[W]:O.props.data[W]}}}return null}},{key:"render",value:function(){var w=this;if(!NK(this))return null;var N=this.props,S=N.children,C=N.className,A=N.width,R=N.height,O=N.style,D=N.compact,P=N.title,E=N.desc,I=cte(N,Bit),M=Qr(I,!1);if(D)return Ne.createElement(qee,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement(D8,D1({},M,{width:A,height:R,title:P,desc:E}),this.renderClipPath(),kK(S,this.renderMap)));if(this.props.accessibilityLayer){var U,W;M.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,M.role=(W=this.props.role)!==null&&W!==void 0?W:"application",M.onKeyDown=function(J){w.accessibilityManager.keyboardEvent(J)},M.onFocus=function(){w.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return Ne.createElement(qee,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement("div",D1({className:Pn("recharts-wrapper",C),style:Rt({position:"relative",cursor:"default",width:A,height:R},O)},Y,{ref:function(z){w.container=z}}),Ne.createElement(D8,D1({},M,{width:A,height:R,title:P,desc:E,style:not}),this.renderClipPath(),kK(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);nn(x,"displayName",r),nn(x,"defaultProps",Rt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),nn(x,"getDerivedStateFromProps",function(v,b){var _=v.dataKey,w=v.data,N=v.children,S=v.width,C=v.height,A=v.layout,R=v.stackOffset,O=v.margin,D=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var E=fte(v);return Rt(Rt(Rt({},E),{},{updateId:0},h(Rt(Rt({props:v},E),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:C,prevLayout:A,prevStackOffset:R,prevMargin:O,prevChildren:N})}if(_!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||C!==b.prevHeight||A!==b.prevLayout||R!==b.prevStackOffset||!lb(O,b.prevMargin)){var I=fte(v),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},U=Rt(Rt({},dte(b,w,A)),{},{updateId:b.updateId+1}),W=Rt(Rt(Rt({},I),M),U);return Rt(Rt(Rt({},W),h(Rt({props:v},W),b)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:C,prevLayout:A,prevStackOffset:R,prevMargin:O,prevChildren:N})}if(!T8(N,b.prevChildren)){var Y,J,z,q,V=vu(N,Wb),L=V&&(Y=(J=V.props)===null||J===void 0?void 0:J.startIndex)!==null&&Y!==void 0?Y:D,X=V&&(z=(q=V.props)===null||q===void 0?void 0:q.endIndex)!==null&&z!==void 0?z:P,K=L!==D||X!==P,Q=!Cn(w),oe=Q&&!K?b.updateId:b.updateId+1;return Rt(Rt({updateId:oe},h(Rt(Rt({props:v},b),{},{updateId:oe,dataStartIndex:L,dataEndIndex:X}),b)),{},{prevChildren:N,dataStartIndex:L,dataEndIndex:X})}return null}),nn(x,"renderActiveDot",function(v,b,_){var w;return j.isValidElement(v)?w=j.cloneElement(v,b):vn(v)?w=v(b):w=Ne.createElement(QE,b),Ne.createElement(_s,{className:"recharts-active-dot",key:_},w)});var g=j.forwardRef(function(b,_){return Ne.createElement(x,D1({},b,{ref:_}))});return g.displayName=x.displayName,g},hot=dB({chartName:"LineChart",GraphicalChild:wS,axisComponents:[{axisType:"xAxis",AxisComp:hg},{axisType:"yAxis",AxisComp:mg}],formatAxisMap:w0e}),XM=dB({chartName:"BarChart",GraphicalChild:ku,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hg},{axisType:"yAxis",AxisComp:mg}],formatAxisMap:w0e}),mot=dB({chartName:"PieChart",GraphicalChild:Ep,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:nP},{axisType:"radiusAxis",AxisComp:tP}],formatAxisMap:QZe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function js(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Vf(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function pot(t,e){const r=js(t);return isNaN(e)?Vf(t,NaN):(r.setDate(r.getDate()+e),r)}function got(t,e){const r=js(t);if(isNaN(e))return Vf(t,NaN);if(!e)return r;const n=r.getDate(),a=Vf(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const rge=6048e5,xot=864e5,nge=6e4,sge=36e5,g5=43200,mte=1440;let vot={};function _S(){return vot}function _N(t,e){const r=_S(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=js(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function cA(t){return _N(t,{weekStartsOn:1})}function age(t){const e=js(t),r=e.getFullYear(),n=Vf(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=cA(n),i=Vf(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=cA(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function pte(t){const e=js(t);return e.setHours(0,0,0,0),e}function uA(t){const e=js(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ige(t,e){const r=pte(t),n=pte(e),a=+r-uA(r),i=+n-uA(n);return Math.round((a-i)/xot)}function yot(t){const e=age(t),r=Vf(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),cA(r)}function t4(t,e){const r=js(t),n=js(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function bot(t){return Vf(t,Date.now())}function wot(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _ot(t){if(!wot(t)&&typeof t!="number")return!1;const e=js(t);return!isNaN(Number(e))}function jot(t,e){const r=js(t),n=js(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function dA(t,e){const r=js(t),n=js(e),a=gte(r,n),i=Math.abs(ige(r,n));r.setDate(r.getDate()-a*i);const o=+(gte(r,n)===-a),l=a*(i-o);return l===0?0:l}function gte(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Not(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Sot(t,e){return+js(t)-+js(e)}function kot(t){const e=js(t);return e.setHours(23,59,59,999),e}function oge(t){const e=js(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Cot(t){const e=js(t);return+kot(e)==+oge(e)}function Aot(t,e){const r=js(t),n=js(e),a=t4(r,n),i=Math.abs(jot(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=t4(r,n)===-a;Cot(js(t))&&i===1&&t4(t,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Eot(t,e,r){const n=Sot(t,e)/1e3;return Not(r?.roundingMethod)(n)}function xte(t){const e=js(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Pot(t){const e=js(t),r=Vf(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Tot={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Oot=(t,e,r)=>{let n;const a=Tot[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function tI(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Dot={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rot={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Iot={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fot={date:tI({formats:Dot,defaultWidth:"full"}),time:tI({formats:Rot,defaultWidth:"full"}),dateTime:tI({formats:Iot,defaultWidth:"full"})},Mot={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lot=(t,e,r,n)=>Mot[t];function O_(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const $ot={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bot={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uot={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zot={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wot=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hot={ordinalNumber:Wot,era:O_({values:$ot,defaultWidth:"wide"}),quarter:O_({values:Bot,defaultWidth:"wide",argumentCallback:t=>t-1}),month:O_({values:Uot,defaultWidth:"wide"}),day:O_({values:zot,defaultWidth:"wide"}),dayPeriod:O_({values:qot,defaultWidth:"wide",formattingValues:Vot,defaultFormattingWidth:"wide"})};function D_(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Yot(l,f=>f.test(o)):Got(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Got(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Yot(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Kot(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Xot=/^(\d+)(th|st|nd|rd)?/i,Jot=/\d+/i,Zot={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qot={any:[/^b/i,/^(a|c)/i]},elt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tlt={any:[/1/i,/2/i,/3/i,/4/i]},rlt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nlt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},slt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},alt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ilt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},olt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},llt={ordinalNumber:Kot({matchPattern:Xot,parsePattern:Jot,valueCallback:t=>parseInt(t,10)}),era:D_({matchPatterns:Zot,defaultMatchWidth:"wide",parsePatterns:Qot,defaultParseWidth:"any"}),quarter:D_({matchPatterns:elt,defaultMatchWidth:"wide",parsePatterns:tlt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:D_({matchPatterns:rlt,defaultMatchWidth:"wide",parsePatterns:nlt,defaultParseWidth:"any"}),day:D_({matchPatterns:slt,defaultMatchWidth:"wide",parsePatterns:alt,defaultParseWidth:"any"}),dayPeriod:D_({matchPatterns:ilt,defaultMatchWidth:"any",parsePatterns:olt,defaultParseWidth:"any"})},lge={code:"en-US",formatDistance:Oot,formatLong:Fot,formatRelative:Lot,localize:Hot,match:llt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function clt(t){const e=js(t);return ige(e,Pot(e))+1}function ult(t){const e=js(t),r=+cA(e)-+yot(e);return Math.round(r/rge)+1}function cge(t,e){const r=js(t),n=r.getFullYear(),a=_S(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Vf(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=_N(o,e),c=Vf(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=_N(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function dlt(t,e){const r=_S(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=cge(t,e),i=Vf(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),_N(i,e)}function flt(t,e){const r=js(t),n=+_N(r,e)-+dlt(r,e);return Math.round(n/rge)+1}function Bs(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const f0={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Bs(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Bs(r+1,2)},d(t,e){return Bs(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Bs(t.getHours()%12||12,e.length)},H(t,e){return Bs(t.getHours(),e.length)},m(t,e){return Bs(t.getMinutes(),e.length)},s(t,e){return Bs(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Bs(a,e.length)}},d1={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vte={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return f0.y(t,e)},Y:function(t,e,r,n){const a=cge(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Bs(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Bs(i,e.length)},R:function(t,e){const r=age(t);return Bs(r,e.length)},u:function(t,e){const r=t.getFullYear();return Bs(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Bs(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Bs(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return f0.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Bs(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=flt(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Bs(a,e.length)},I:function(t,e,r){const n=ult(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Bs(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):f0.d(t,e)},D:function(t,e,r){const n=clt(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Bs(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Bs(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Bs(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Bs(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=d1.noon:n===0?a=d1.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=d1.evening:n>=12?a=d1.afternoon:n>=4?a=d1.morning:a=d1.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return f0.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):f0.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Bs(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Bs(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):f0.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):f0.s(t,e)},S:function(t,e){return f0.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return bte(n);case"XXXX":case"XX":return jx(n);case"XXXXX":case"XXX":default:return jx(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return bte(n);case"xxxx":case"xx":return jx(n);case"xxxxx":case"xxx":default:return jx(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yte(n,":");case"OOOO":default:return"GMT"+jx(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yte(n,":");case"zzzz":default:return"GMT"+jx(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Bs(n,e.length)},T:function(t,e,r){const n=t.getTime();return Bs(n,e.length)}};function yte(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Bs(i,2)}function bte(t,e){return t%60===0?(t>0?"-":"+")+Bs(Math.abs(t)/60,2):jx(t,e)}function jx(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Bs(Math.trunc(n/60),2),i=Bs(n%60,2);return r+a+e+i}const wte=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uge=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hlt=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wte(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",wte(n,e)).replace("{{time}}",uge(a,e))},mlt={p:uge,P:hlt},plt=/^D+$/,glt=/^Y+$/,xlt=["D","DD","YY","YYYY"];function vlt(t){return plt.test(t)}function ylt(t){return glt.test(t)}function blt(t,e,r){const n=wlt(t,e,r);if(console.warn(n),xlt.includes(t))throw new RangeError(n)}function wlt(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _lt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jlt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nlt=/^'([^]*?)'?$/,Slt=/''/g,klt=/[a-zA-Z]/;function yn(t,e,r){const n=_S(),a=n.locale??lge,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=js(t);if(!_ot(l))throw new RangeError("Invalid time value");let c=e.match(jlt).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=mlt[f];return m(d,a.formatLong)}return d}).join("").match(_lt).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:Clt(d)};if(vte[f])return{isToken:!0,value:d};if(f.match(klt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(ylt(f)||vlt(f))&&blt(f,e,String(t));const m=vte[f[0]];return m(l,f,a.localize,u)}).join("")}function Clt(t){const e=t.match(Nlt);return e?e[1].replace(Slt,"'"):t}function Alt(t,e,r){const n=_S(),a=r?.locale??n.locale??lge,i=2520,o=t4(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=js(e),u=js(t)):(c=js(t),u=js(e));const d=Eot(u,c),f=(uA(u)-uA(c))/1e3,m=Math.round((d-f)/60);let h;if(m<2)return r?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<mte){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<g5){const x=Math.round(m/mte);return a.formatDistance("xDays",x,l)}else if(m<g5*2)return h=Math.round(m/g5),a.formatDistance("aboutXMonths",h,l)}if(h=Aot(u,c),h<12){const x=Math.round(m/g5);return a.formatDistance("xMonths",x,l)}else{const x=h%12,g=Math.trunc(h/12);return x<3?a.formatDistance("aboutXYears",g,l):x<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function db(t,e){return Alt(t,bot(t),e)}function Elt(t,e){const n=Dlt(t);let a;if(n.date){const c=Rlt(n.date,2);a=Ilt(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=Flt(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Mlt(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const x5={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Plt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tlt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Olt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dlt(t){const e={},r=t.split(x5.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],x5.timeZoneDelimiter.test(e.date)&&(e.date=t.split(x5.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=x5.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Rlt(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function Ilt(t,e){if(e===null)return new Date(NaN);const r=t.match(Plt);if(!r)return new Date(NaN);const n=!!r[4],a=R_(r[1]),i=R_(r[2])-1,o=R_(r[3]),l=R_(r[4]),c=R_(r[5])-1;if(n)return zlt(e,l,c)?Llt(e,l,c):new Date(NaN);{const u=new Date(0);return!Blt(e,i,o)||!Ult(e,a)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(a,o)),u)}}function R_(t){return t?parseInt(t):1}function Flt(t){const e=t.match(Tlt);if(!e)return NaN;const r=rI(e[1]),n=rI(e[2]),a=rI(e[3]);return qlt(r,n,a)?r*sge+n*nge+a*1e3:NaN}function rI(t){return t&&parseFloat(t.replace(",","."))||0}function Mlt(t){if(t==="Z")return 0;const e=t.match(Olt);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Vlt(n,a)?r*(n*sge+a*nge):NaN}function Llt(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const $lt=[31,null,31,30,31,30,31,31,30,31,30,31];function dge(t){return t%400===0||t%4===0&&t%100!==0}function Blt(t,e,r){return e>=0&&e<=11&&r>=1&&r<=($lt[e]||(dge(t)?29:28))}function Ult(t,e){return e>=1&&e<=(dge(t)?366:365)}function zlt(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function qlt(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Vlt(t,e){return e>=0&&e<=59}function Wlt(t,e){return got(t,-e)}const fB=j.createContext({});function hB(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const mB=typeof window<"u",fge=mB?j.useLayoutEffect:j.useEffect,fP=j.createContext(null);function pB(t,e){t.indexOf(e)===-1&&t.push(e)}function gB(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const vp=(t,e,r)=>r>e?e:r<t?t:r;let xB=()=>{};const yp={},hge=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mge(t){return typeof t=="object"&&t!==null}const pge=t=>/^0[^.\s]+$/u.test(t);function vB(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fd=t=>t,Hlt=(t,e)=>r=>e(t(r)),jS=(...t)=>t.reduce(Hlt),jN=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class yB{constructor(){this.subscriptions=[]}add(e){return pB(this.subscriptions,e),()=>gB(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mh=t=>t*1e3,Td=t=>t/1e3;function gge(t,e){return e?t*(1e3/e):0}const xge=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Glt=1e-7,Ylt=12;function Klt(t,e,r,n,a){let i,o,l=0;do o=e+(r-e)/2,i=xge(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Glt&&++l<Ylt);return o}function NS(t,e,r,n){if(t===e&&r===n)return Fd;const a=i=>Klt(i,0,1,t,r);return i=>i===0||i===1?i:xge(a(i),e,n)}const vge=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yge=t=>e=>1-t(1-e),bge=NS(.33,1.53,.69,.99),bB=yge(bge),wge=vge(bB),_ge=t=>(t*=2)<1?.5*bB(t):.5*(2-Math.pow(2,-10*(t-1))),wB=t=>1-Math.sin(Math.acos(t)),jge=yge(wB),Nge=vge(wB),Xlt=NS(.42,0,1,1),Jlt=NS(0,0,.58,1),Sge=NS(.42,0,.58,1),Zlt=t=>Array.isArray(t)&&typeof t[0]!="number",kge=t=>Array.isArray(t)&&typeof t[0]=="number",Qlt={linear:Fd,easeIn:Xlt,easeInOut:Sge,easeOut:Jlt,circIn:wB,circInOut:Nge,circOut:jge,backIn:bB,backInOut:wge,backOut:bge,anticipate:_ge},ect=t=>typeof t=="string",_te=t=>{if(kge(t)){xB(t.length===4);const[e,r,n,a]=t;return NS(e,r,n,a)}else if(ect(t))return Qlt[t];return t},v5=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tct(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const x=m&&a?r:n;return f&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const rct=40;function Cge(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=v5.reduce((w,N)=>(w[N]=tct(i),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:h,postRender:x}=o,g=()=>{const w=yp.useManualTiming?a.timestamp:performance.now();r=!1,yp.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,rct),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),m.process(a),h.process(a),x.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(g))},v=()=>{r=!0,n=!0,a.isProcessing||t(g)};return{schedule:v5.reduce((w,N)=>{const S=o[N];return w[N]=(C,A=!1,R=!1)=>(r||v(),S.schedule(C,A,R)),w},{}),cancel:w=>{for(let N=0;N<v5.length;N++)o[v5[N]].cancel(w)},state:a,steps:o}}const{schedule:Fa,cancel:pg,state:sl,steps:nI}=Cge(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fd,!0);let r4;function nct(){r4=void 0}const zc={now:()=>(r4===void 0&&zc.set(sl.isProcessing||yp.useManualTiming?sl.timestamp:performance.now()),r4),set:t=>{r4=t,queueMicrotask(nct)}},Age=t=>e=>typeof e=="string"&&e.startsWith(t),_B=Age("--"),sct=Age("var(--"),jB=t=>sct(t)?act.test(t.split("/*")[0].trim()):!1,act=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rw={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},NN={...Rw,transform:t=>vp(0,1,t)},y5={...Rw,default:1},V2=t=>Math.round(t*1e5)/1e5,NB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ict(t){return t==null}const oct=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,SB=(t,e)=>r=>!!(typeof r=="string"&&oct.test(r)&&r.startsWith(t)||e&&!ict(r)&&Object.prototype.hasOwnProperty.call(r,e)),Ege=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(NB);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},lct=t=>vp(0,255,t),sI={...Rw,transform:t=>Math.round(lct(t))},Ux={test:SB("rgb","red"),parse:Ege("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+sI.transform(t)+", "+sI.transform(e)+", "+sI.transform(r)+", "+V2(NN.transform(n))+")"};function cct(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const JM={test:SB("#"),parse:cct,transform:Ux.transform},SS=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),g0=SS("deg"),Lh=SS("%"),cn=SS("px"),uct=SS("vh"),dct=SS("vw"),jte={...Lh,parse:t=>Lh.parse(t)/100,transform:t=>Lh.transform(t*100)},R1={test:SB("hsl","hue"),parse:Ege("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Lh.transform(V2(e))+", "+Lh.transform(V2(r))+", "+V2(NN.transform(n))+")"},Ji={test:t=>Ux.test(t)||JM.test(t)||R1.test(t),parse:t=>Ux.test(t)?Ux.parse(t):R1.test(t)?R1.parse(t):JM.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ux.transform(t):R1.transform(t),getAnimatableNone:t=>{const e=Ji.parse(t);return e.alpha=0,Ji.transform(e)}},fct=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hct(t){return isNaN(t)&&typeof t=="string"&&(t.match(NB)?.length||0)+(t.match(fct)?.length||0)>0}const Pge="number",Tge="color",mct="var",pct="var(",Nte="${}",gct=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function SN(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(gct,c=>(Ji.test(c)?(n.color.push(i),a.push(Tge),r.push(Ji.parse(c))):c.startsWith(pct)?(n.var.push(i),a.push(mct),r.push(c)):(n.number.push(i),a.push(Pge),r.push(parseFloat(c))),++i,Nte)).split(Nte);return{values:r,split:l,indexes:n,types:a}}function Oge(t){return SN(t).values}function Dge(t){const{split:e,types:r}=SN(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===Pge?i+=V2(a[o]):l===Tge?i+=Ji.transform(a[o]):i+=a[o]}return i}}const xct=t=>typeof t=="number"?0:Ji.test(t)?Ji.getAnimatableNone(t):t;function vct(t){const e=Oge(t);return Dge(t)(e.map(xct))}const gg={test:hct,parse:Oge,createTransformer:Dge,getAnimatableNone:vct};function aI(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function yct({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=aI(c,l,t+1/3),i=aI(c,l,t),o=aI(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function fA(t,e){return r=>r>0?e:t}const Ya=(t,e,r)=>t+(e-t)*r,iI=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},bct=[JM,Ux,R1],wct=t=>bct.find(e=>e.test(t));function Ste(t){const e=wct(t);if(!e)return!1;let r=e.parse(t);return e===R1&&(r=yct(r)),r}const kte=(t,e)=>{const r=Ste(t),n=Ste(e);if(!r||!n)return fA(t,e);const a={...r};return i=>(a.red=iI(r.red,n.red,i),a.green=iI(r.green,n.green,i),a.blue=iI(r.blue,n.blue,i),a.alpha=Ya(r.alpha,n.alpha,i),Ux.transform(a))},ZM=new Set(["none","hidden"]);function _ct(t,e){return ZM.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function jct(t,e){return r=>Ya(t,e,r)}function kB(t){return typeof t=="number"?jct:typeof t=="string"?jB(t)?fA:Ji.test(t)?kte:kct:Array.isArray(t)?Rge:typeof t=="object"?Ji.test(t)?kte:Nct:fA}function Rge(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>kB(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Nct(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=kB(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Sct(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],l=t.values[o]??0;r[a]=l,n[i]++}return r}const kct=(t,e)=>{const r=gg.createTransformer(e),n=SN(t),a=SN(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ZM.has(t)&&!a.values.length||ZM.has(e)&&!n.values.length?_ct(t,e):jS(Rge(Sct(n,a),a.values),r):fA(t,e)};function Ige(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ya(t,e,r):kB(t)(t,e)}const Cct=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Fa.update(e,r),stop:()=>pg(e),now:()=>sl.isProcessing?sl.timestamp:zc.now()}},Fge=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},hA=2e4;function CB(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<hA;)e+=r,n=t.next(e);return e>=hA?1/0:e}function Act(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(CB(n),hA);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Td(a)}}const Ect=5;function Mge(t,e,r){const n=Math.max(e-Ect,0);return gge(r-t(n),e-n)}const ci={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oI=.001;function Pct({duration:t=ci.duration,bounce:e=ci.bounce,velocity:r=ci.velocity,mass:n=ci.mass}){let a,i,o=1-e;o=vp(ci.minDamping,ci.maxDamping,o),t=vp(ci.minDuration,ci.maxDuration,Td(t)),o<1?(a=u=>{const d=u*o,f=d*t,m=d-r,h=QM(u,o),x=Math.exp(-f);return oI-m/h*x},i=u=>{const f=u*o*t,m=f*r+r,h=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-f),g=QM(Math.pow(u,2),o);return(-a(u)+oI>0?-1:1)*((m-h)*x)/g}):(a=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-oI+d*f},i=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const l=5/t,c=Oct(a,i,l);if(t=Mh(t),isNaN(c))return{stiffness:ci.stiffness,damping:ci.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const Tct=12;function Oct(t,e,r){let n=r;for(let a=1;a<Tct;a++)n=n-t(n)/e(n);return n}function QM(t,e){return t*Math.sqrt(1-e*e)}const Dct=["duration","bounce"],Rct=["stiffness","damping","mass"];function Cte(t,e){return e.some(r=>t[r]!==void 0)}function Ict(t){let e={velocity:ci.velocity,stiffness:ci.stiffness,damping:ci.damping,mass:ci.mass,isResolvedFromDuration:!1,...t};if(!Cte(t,Rct)&&Cte(t,Dct))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*vp(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ci.mass,stiffness:a,damping:i}}else{const r=Pct(t);e={...e,...r,mass:ci.mass},e.isResolvedFromDuration=!0}return e}function mA(t=ci.visualDuration,e=ci.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:h}=Ict({...r,velocity:-Td(r.velocity||0)}),x=m||0,g=u/(2*Math.sqrt(c*d)),v=o-i,b=Td(Math.sqrt(c/d)),_=Math.abs(v)<5;n||(n=_?ci.restSpeed.granular:ci.restSpeed.default),a||(a=_?ci.restDelta.granular:ci.restDelta.default);let w;if(g<1){const S=QM(b,g);w=C=>{const A=Math.exp(-g*b*C);return o-A*((x+g*b*v)/S*Math.sin(S*C)+v*Math.cos(S*C))}}else if(g===1)w=S=>o-Math.exp(-b*S)*(v+(x+b*v)*S);else{const S=b*Math.sqrt(g*g-1);w=C=>{const A=Math.exp(-g*b*C),R=Math.min(S*C,300);return o-A*((x+g*b*v)*Math.sinh(R)+S*v*Math.cosh(R))/S}}const N={calculatedDuration:h&&f||null,next:S=>{const C=w(S);if(h)l.done=S>=f;else{let A=S===0?x:0;g<1&&(A=S===0?Mh(x):Mge(w,S,C));const R=Math.abs(A)<=n,O=Math.abs(o-C)<=a;l.done=R&&O}return l.value=l.done?o:C,l},toString:()=>{const S=Math.min(CB(N),hA),C=Fge(A=>N.next(S*A).value,S,30);return S+"ms "+C},toTransition:()=>{}};return N}mA.applyToOptions=t=>{const e=Act(t,100,mA);return t.ease=e.ease,t.duration=Mh(e.duration),t.type="keyframes",t};function eL({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},h=R=>l!==void 0&&R<l||c!==void 0&&R>c,x=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let g=r*e;const v=f+g,b=o===void 0?v:o(v);b!==v&&(g=b-f);const _=R=>-g*Math.exp(-R/n),w=R=>b+_(R),N=R=>{const O=_(R),D=w(R);m.done=Math.abs(O)<=u,m.value=m.done?b:D};let S,C;const A=R=>{h(m.value)&&(S=R,C=mA({keyframes:[m.value,x(m.value)],velocity:Mge(w,R,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:R=>{let O=!1;return!C&&S===void 0&&(O=!0,N(R),A(R)),S!==void 0&&R>=S?C.next(R-S):(!O&&N(R),m)}}}function Fct(t,e,r){const n=[],a=r||yp.mix||Ige,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Fd:e;l=jS(c,l)}n.push(l)}return n}function Mct(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(xB(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Fct(e,n,a),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const m=jN(t[f],t[f+1],d);return l[f](m)};return r?d=>u(vp(t[0],t[i-1],d)):u}function Lct(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=jN(0,e,n);t.push(Ya(r,1,a))}}function $ct(t){const e=[0];return Lct(e,t.length-1),e}function Bct(t,e){return t.map(r=>r*e)}function Uct(t,e){return t.map(()=>e||Sge).splice(0,t.length-1)}function W2({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Zlt(n)?n.map(_te):_te(n),i={done:!1,value:e[0]},o=Bct(r&&r.length===e.length?r:$ct(e),t),l=Mct(o,e,{ease:Array.isArray(a)?a:Uct(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const zct=t=>t!==null;function AB(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(zct),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const qct={decay:eL,inertia:eL,tween:W2,keyframes:W2,spring:mA};function Lge(t){typeof t.type=="string"&&(t.type=qct[t.type])}class EB{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Vct=t=>t/100;class PB extends EB{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==zc.now()&&this.tick(zc.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Lge(e);const{type:r=W2,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||W2;c!==W2&&typeof l[0]!="number"&&(this.mixKeyframes=jS(Vct,Ige(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=CB(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:h,type:x,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,N=n;if(f){const R=Math.min(this.currentTime,a)/l;let O=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(m==="reverse"?(D=1-D,h&&(D-=h/l)):m==="mirror"&&(N=o)),w=vp(0,1,D)*l}const S=_?{done:!1,value:d[0]}:N.next(w);i&&(S.value=i(S.value));let{done:C}=S;!_&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return A&&x!==eL&&(S.value=AB(d,this.options,v,this.speed)),g&&g(S.value),A&&this.finish(),S}then(e,r){return this.finished.then(e,r)}get duration(){return Td(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Td(e)}get time(){return Td(this.currentTime)}set time(e){e=Mh(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zc.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Td(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Cct,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zc.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Wct(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const zx=t=>t*180/Math.PI,tL=t=>{const e=zx(Math.atan2(t[1],t[0]));return rL(e)},Hct={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tL,rotateZ:tL,skewX:t=>zx(Math.atan(t[1])),skewY:t=>zx(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rL=t=>(t=t%360,t<0&&(t+=360),t),Ate=tL,Ete=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Pte=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Gct={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ete,scaleY:Pte,scale:t=>(Ete(t)+Pte(t))/2,rotateX:t=>rL(zx(Math.atan2(t[6],t[5]))),rotateY:t=>rL(zx(Math.atan2(-t[2],t[0]))),rotateZ:Ate,rotate:Ate,skewX:t=>zx(Math.atan(t[4])),skewY:t=>zx(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nL(t){return t.includes("scale")?1:0}function sL(t,e){if(!t||t==="none")return nL(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Gct,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Hct,a=l}if(!a)return nL(e);const i=n[e],o=a[1].split(",").map(Kct);return typeof i=="function"?i(o):o[i]}const Yct=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return sL(r,e)};function Kct(t){return parseFloat(t.trim())}const Iw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fw=new Set(Iw),Tte=t=>t===Rw||t===cn,Xct=new Set(["x","y","z"]),Jct=Iw.filter(t=>!Xct.has(t));function Zct(t){const e=[];return Jct.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const av={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sL(e,"x"),y:(t,{transform:e})=>sL(e,"y")};av.translateX=av.x;av.translateY=av.y;const iv=new Set;let aL=!1,iL=!1,oL=!1;function $ge(){if(iL){const t=Array.from(iv).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Zct(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}iL=!1,aL=!1,iv.forEach(t=>t.complete(oL)),iv.clear()}function Bge(){iv.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iL=!0)})}function Qct(){oL=!0,Bge(),$ge(),oL=!1}class TB{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(iv.add(this),aL||(aL=!0,Fa.read(Bge),Fa.resolveKeyframes($ge))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Wct(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),iv.delete(this)}cancel(){this.state==="scheduled"&&(iv.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eut=t=>t.startsWith("--");function tut(t,e,r){eut(e)?t.style.setProperty(e,r):t.style[e]=r}const rut=vB(()=>window.ScrollTimeline!==void 0),nut={};function sut(t,e){const r=vB(t);return()=>nut[e]??r()}const Uge=sut(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),n2=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Ote={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:n2([0,.65,.55,1]),circOut:n2([.55,0,1,.45]),backIn:n2([.31,.01,.66,-.59]),backOut:n2([.33,1.53,.69,.99])};function zge(t,e){if(t)return typeof t=="function"?Uge()?Fge(t,e):"ease-out":kge(t)?n2(t):Array.isArray(t)?t.map(r=>zge(r,e)||Ote.easeOut):Ote[t]}function aut(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const f=zge(l,a);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(d,m)}function qge(t){return typeof t=="function"&&"applyToOptions"in t}function iut({type:t,...e}){return qge(t)&&Uge()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class out extends EB{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,xB(typeof e.type!="string");const u=iut(e);this.animation=aut(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=AB(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):tut(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Td(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Td(e)}get time(){return Td(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mh(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rut()?(this.animation.timeline=e,Fd):r(this)}}const Vge={anticipate:_ge,backInOut:wge,circInOut:Nge};function lut(t){return t in Vge}function cut(t){typeof t.ease=="string"&&lut(t.ease)&&(t.ease=Vge[t.ease])}const Dte=10;class uut extends out{constructor(e){cut(e),Lge(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new PB({...o,autoplay:!1}),c=Mh(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Dte).value,l.sample(c).value,Dte),l.stop()}}const Rte=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gg.test(t)||t==="0")&&!t.startsWith("url("));function dut(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function fut(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Rte(a,e),l=Rte(i,e);return!o||!l?!1:dut(t)||(r==="spring"||qge(r))&&n}function lL(t){t.duration=0,t.type="keyframes"}const hut=new Set(["opacity","clipPath","filter","transform"]),mut=vB(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function put(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return mut()&&r&&hut.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const gut=40;class xut extends EB{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zc.now();const m={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},h=d?.KeyframeResolver||TB;this.keyframeResolver=new h(l,(x,g,v)=>this.onKeyframesResolved(x,g,m,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=zc.now(),fut(e,i,o,l)||((yp.instantAnimations||!c)&&d?.(AB(e,n,r)),e[0]=e[e.length-1],lL(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>gut?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},h=!u&&put(m)?new uut({...m,element:m.motionValue.owner.current}):new PB(m);h.finished.then(()=>this.notifyFinished()).catch(Fd),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Qct()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const vut=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yut(t){const e=vut.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function Wge(t,e,r=1){const[n,a]=yut(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return hge(o)?parseFloat(o):o}return jB(a)?Wge(a,e,r+1):a}function OB(t,e){return t?.[e]??t?.default??t}const Hge=new Set(["width","height","top","left","right","bottom",...Iw]),but={test:t=>t==="auto",parse:t=>t},Gge=t=>e=>e.test(t),Yge=[Rw,cn,Lh,g0,dct,uct,but],Ite=t=>Yge.find(Gge(t));function wut(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pge(t):!0}const _ut=new Set(["brightness","contrast","saturate","opacity"]);function jut(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(NB)||[];if(!n)return t;const a=r.replace(n,"");let i=_ut.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const Nut=/\b([a-z-]*)\(.*?\)/gu,cL={...gg,getAnimatableNone:t=>{const e=t.match(Nut);return e?e.map(jut).join(" "):t}},Fte={...Rw,transform:Math.round},Sut={rotate:g0,rotateX:g0,rotateY:g0,rotateZ:g0,scale:y5,scaleX:y5,scaleY:y5,scaleZ:y5,skew:g0,skewX:g0,skewY:g0,distance:cn,translateX:cn,translateY:cn,translateZ:cn,x:cn,y:cn,z:cn,perspective:cn,transformPerspective:cn,opacity:NN,originX:jte,originY:jte,originZ:cn},DB={borderWidth:cn,borderTopWidth:cn,borderRightWidth:cn,borderBottomWidth:cn,borderLeftWidth:cn,borderRadius:cn,radius:cn,borderTopLeftRadius:cn,borderTopRightRadius:cn,borderBottomRightRadius:cn,borderBottomLeftRadius:cn,width:cn,maxWidth:cn,height:cn,maxHeight:cn,top:cn,right:cn,bottom:cn,left:cn,padding:cn,paddingTop:cn,paddingRight:cn,paddingBottom:cn,paddingLeft:cn,margin:cn,marginTop:cn,marginRight:cn,marginBottom:cn,marginLeft:cn,backgroundPositionX:cn,backgroundPositionY:cn,...Sut,zIndex:Fte,fillOpacity:NN,strokeOpacity:NN,numOctaves:Fte},kut={...DB,color:Ji,backgroundColor:Ji,outlineColor:Ji,fill:Ji,stroke:Ji,borderColor:Ji,borderTopColor:Ji,borderRightColor:Ji,borderBottomColor:Ji,borderLeftColor:Ji,filter:cL,WebkitFilter:cL},Kge=t=>kut[t];function Xge(t,e){let r=Kge(t);return r!==cL&&(r=gg),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Cut=new Set(["auto","none","0"]);function Aut(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!Cut.has(i)&&SN(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=Xge(r,a)}class Eut extends TB{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),jB(u))){const d=Wge(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Hge.has(n)||e.length!==2)return;const[a,i]=e,o=Ite(a),l=Ite(i);if(o!==l)if(Tte(o)&&Tte(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else av[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||wut(e[a]))&&n.push(a);n.length&&Aut(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=av[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=av[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Put(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=r?.[t]??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Jge=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Zge(t){return mge(t)&&"offsetHeight"in t}const Mte=30,Tut=t=>!isNaN(parseFloat(t));class Out{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=zc.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=zc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Tut(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new yB);const n=this.events[e].add(r);return e==="change"?()=>{n(),Fa.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mte)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Mte);return gge(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rw(t,e){return new Out(t,e)}const{schedule:RB}=Cge(queueMicrotask,!1),bf={x:!1,y:!1};function Qge(){return bf.x||bf.y}function Dut(t){return t==="x"||t==="y"?bf[t]?null:(bf[t]=!0,()=>{bf[t]=!1}):bf.x||bf.y?null:(bf.x=bf.y=!0,()=>{bf.x=bf.y=!1})}function exe(t,e){const r=Put(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function Lte(t){return!(t.pointerType==="touch"||Qge())}function Rut(t,e,r={}){const[n,a,i]=exe(t,r),o=l=>{if(!Lte(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{Lte(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const txe=(t,e)=>e?t===e?!0:txe(t,e.parentElement):!1,IB=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Iut=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fut(t){return Iut.has(t.tagName)||t.tabIndex!==-1}const n4=new WeakSet;function $te(t){return e=>{e.key==="Enter"&&t(e)}}function lI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Mut=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=$te(()=>{if(n4.has(r))return;lI(r,"down");const a=$te(()=>{lI(r,"up")}),i=()=>lI(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Bte(t){return IB(t)&&!Qge()}function Lut(t,e,r={}){const[n,a,i]=exe(t,r),o=l=>{const c=l.currentTarget;if(!Bte(l))return;n4.add(c);const u=e(c,l),d=(h,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),n4.has(c)&&n4.delete(c),Bte(h)&&typeof u=="function"&&u(h,{success:x})},f=h=>{d(h,c===window||c===document||r.useGlobalTarget||txe(c,h.target))},m=h=>{d(h,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),Zge(l)&&(l.addEventListener("focus",u=>Mut(u,a)),!Fut(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function rxe(t){return mge(t)&&"ownerSVGElement"in t}function $ut(t){return rxe(t)&&t.tagName==="svg"}const Ll=t=>!!(t&&t.getVelocity),But=[...Yge,Ji,gg],Uut=t=>But.find(Gge(t)),FB=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ute(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zut(...t){return e=>{let r=!1;const n=t.map(a=>{const i=Ute(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Ute(t[a],null)}}}}function qut(...t){return j.useCallback(zut(...t),t)}class Vut extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Zge(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wut({children:t,isPresent:e,anchorX:r,root:n}){const a=j.useId(),i=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=j.useContext(FB),c=qut(i,t?.ref);return j.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:h}=o.current;if(e||!i.current||!u||!d)return;const x=r==="left"?`left: ${m}`:`right: ${h}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const v=n??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[e]),s.jsx(Vut,{isPresent:e,childRef:i,sizeRef:o,children:j.cloneElement(t,{ref:c})})}const Hut=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=hB(Gut),d=j.useId();let f=!0,m=j.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:r,custom:a,onExitComplete:h=>{u.set(h,!0);for(const x of u.values())if(!x)return;n&&n()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[r,u,n]);return i&&f&&(m={...m}),j.useMemo(()=>{u.forEach((h,x)=>u.set(x,!1))},[r]),j.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Wut,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(fP.Provider,{value:m,children:t})};function Gut(){return new Map}function nxe(t=!0){const e=j.useContext(fP);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=j.useId();j.useEffect(()=>{if(t)return a(i)},[t]);const o=j.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const b5=t=>t.key||"";function zte(t){const e=[];return j.Children.forEach(t,r=>{j.isValidElement(r)&&e.push(r)}),e}const qte=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=nxe(o),f=j.useMemo(()=>zte(t),[t]),m=o&&!u?[]:f.map(b5),h=j.useRef(!0),x=j.useRef(f),g=hB(()=>new Map),[v,b]=j.useState(f),[_,w]=j.useState(f);fge(()=>{h.current=!1,x.current=f;for(let C=0;C<_.length;C++){const A=b5(_[C]);m.includes(A)?g.delete(A):g.get(A)!==!0&&g.set(A,!1)}},[_,m.length,m.join("-")]);const N=[];if(f!==v){let C=[...f];for(let A=0;A<_.length;A++){const R=_[A],O=b5(R);m.includes(O)||(C.splice(A,0,R),N.push(R))}return i==="wait"&&N.length&&(C=N),w(zte(C)),b(f),null}const{forceRender:S}=j.useContext(fB);return s.jsx(s.Fragment,{children:_.map(C=>{const A=b5(C),R=o&&!u?!1:f===_||m.includes(A),O=()=>{if(g.has(A))g.set(A,!0);else return;let D=!0;g.forEach(P=>{P||(D=!1)}),D&&(S?.(),w(x.current),o&&d?.(),n&&n())};return s.jsx(Hut,{isPresent:R,initial:!h.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:R?void 0:O,anchorX:l,children:C},A)})})},sxe=j.createContext({strict:!1}),Vte={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nw={};for(const t in Vte)nw[t]={isEnabled:e=>Vte[t].some(r=>!!e[r])};function Yut(t){for(const e in t)nw[e]={...nw[e],...t[e]}}const Kut=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pA(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Kut.has(t)}let axe=t=>!pA(t);function Xut(t){typeof t=="function"&&(axe=e=>e.startsWith("on")?!pA(e):t(e))}try{Xut(require("@emotion/is-prop-valid").default)}catch{}function Jut(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(axe(a)||r===!0&&pA(a)||!e&&!pA(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const hP=j.createContext({});function mP(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kN(t){return typeof t=="string"||Array.isArray(t)}const MB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LB=["initial",...MB];function pP(t){return mP(t.animate)||LB.some(e=>kN(t[e]))}function ixe(t){return!!(pP(t)||t.variants)}function Zut(t,e){if(pP(t)){const{initial:r,animate:n}=t;return{initial:r===!1||kN(r)?r:void 0,animate:kN(n)?n:void 0}}return t.inherit!==!1?e:{}}function Qut(t){const{initial:e,animate:r}=Zut(t,j.useContext(hP));return j.useMemo(()=>({initial:e,animate:r}),[Wte(e),Wte(r)])}function Wte(t){return Array.isArray(t)?t.join(" "):t}const CN={};function edt(t){for(const e in t)CN[e]=t[e],_B(e)&&(CN[e].isCSSVariable=!0)}function oxe(t,{layout:e,layoutId:r}){return Fw.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!CN[t]||t==="opacity")}const tdt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rdt=Iw.length;function ndt(t,e,r){let n="",a=!0;for(let i=0;i<rdt;i++){const o=Iw[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Jge(l,DB[o]);if(!c){a=!1;const d=tdt[o]||o;n+=`${d}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function $B(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Fw.has(c)){o=!0;continue}else if(_B(c)){a[c]=u;continue}else{const d=Jge(u,DB[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(e.transform||(o||r?n.transform=ndt(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const BB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lxe(t,e,r){for(const n in e)!Ll(e[n])&&!oxe(n,r)&&(t[n]=e[n])}function sdt({transformTemplate:t},e){return j.useMemo(()=>{const r=BB();return $B(r,e,t),Object.assign({},r.vars,r.style)},[e])}function adt(t,e){const r=t.style||{},n={};return lxe(n,r,t),Object.assign(n,sdt(t,e)),n}function idt(t,e){const r={},n=adt(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const odt={offset:"stroke-dashoffset",array:"stroke-dasharray"},ldt={offset:"strokeDashoffset",array:"strokeDasharray"};function cdt(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?odt:ldt;t[i.offset]=cn.transform(-n);const o=cn.transform(e),l=cn.transform(r);t[i.array]=`${o} ${l}`}function cxe(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if($B(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&cdt(f,a,i,o,!1)}const uxe=()=>({...BB(),attrs:{}}),dxe=t=>typeof t=="string"&&t.toLowerCase()==="svg";function udt(t,e,r,n){const a=j.useMemo(()=>{const i=uxe();return cxe(i,e,dxe(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};lxe(i,t.style,t),a.style={...i,...a.style}}return a}const ddt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UB(t){return typeof t!="string"||t.includes("-")?!1:!!(ddt.indexOf(t)>-1||/[A-Z]/u.test(t))}function fdt(t,e,r,{latestValues:n},a,i=!1){const l=(UB(t)?udt:idt)(e,n,a,t),c=Jut(e,typeof t=="string",i),u=t!==j.Fragment?{...c,...l,ref:r}:{},{children:d}=e,f=j.useMemo(()=>Ll(d)?d.get():d,[d]);return j.createElement(t,{...u,children:f})}function Hte(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function zB(t,e,r,n){if(typeof e=="function"){const[a,i]=Hte(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=Hte(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function s4(t){return Ll(t)?t.get():t}function hdt({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:mdt(r,n,a,t),renderState:e()}}function mdt(t,e,r,n){const a={},i=n(t,{});for(const m in i)a[m]=s4(i[m]);let{initial:o,animate:l}=t;const c=pP(t),u=ixe(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!mP(f)){const m=Array.isArray(f)?f:[f];for(let h=0;h<m.length;h++){const x=zB(t,m[h]);if(x){const{transitionEnd:g,transition:v,...b}=x;for(const _ in b){let w=b[_];if(Array.isArray(w)){const N=d?w.length-1:0;w=w[N]}w!==null&&(a[_]=w)}for(const _ in g)a[_]=g[_]}}}return a}const fxe=t=>(e,r)=>{const n=j.useContext(hP),a=j.useContext(fP),i=()=>hdt(t,e,n,a);return r?i():hB(i)};function qB(t,e,r){const{style:n}=t,a={};for(const i in n)(Ll(n[i])||e.style&&Ll(e.style[i])||oxe(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const pdt=fxe({scrapeMotionValuesFromProps:qB,createRenderState:BB});function hxe(t,e,r){const n=qB(t,e,r);for(const a in t)if(Ll(t[a])||Ll(e[a])){const i=Iw.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const gdt=fxe({scrapeMotionValuesFromProps:hxe,createRenderState:uxe}),xdt=Symbol.for("motionComponentSymbol");function I1(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vdt(t,e,r){return j.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):I1(r)&&(r.current=n))},[e])}const VB=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ydt="framerAppearId",mxe="data-"+VB(ydt),pxe=j.createContext({});function bdt(t,e,r,n,a){const{visualElement:i}=j.useContext(hP),o=j.useContext(sxe),l=j.useContext(fP),c=j.useContext(FB).reducedMotion,u=j.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=j.useContext(pxe);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&wdt(u.current,r,a,f);const m=j.useRef(!1);j.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const h=r[mxe],x=j.useRef(!!h&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return fge(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(h)}),x.current=!1),d.enteringChildren=void 0)}),d}function wdt(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:gxe(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&I1(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function gxe(t){if(t)return t.options.allowProjection!==!1?t.projection:gxe(t.parent)}function cI(t,{forwardMotionProps:e=!1}={},r,n){r&&Yut(r);const a=UB(t)?gdt:pdt;function i(l,c){let u;const d={...j.useContext(FB),...l,layoutId:_dt(l)},{isStatic:f}=d,m=Qut(l),h=a(l,f);if(!f&&mB){jdt();const x=Ndt(d);u=x.MeasureLayout,m.visualElement=bdt(t,h,d,n,x.ProjectionNode)}return s.jsxs(hP.Provider,{value:m,children:[u&&m.visualElement?s.jsx(u,{visualElement:m.visualElement,...d}):null,fdt(t,l,vdt(h,m.visualElement,c),h,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=j.forwardRef(i);return o[xdt]=t,o}function _dt({layoutId:t}){const e=j.useContext(fB).id;return e&&t!==void 0?e+"-"+t:t}function jdt(t,e){j.useContext(sxe).strict}function Ndt(t){const{drag:e,layout:r}=nw;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Sdt(t,e){if(typeof Proxy>"u")return cI;const r=new Map,n=(i,o)=>cI(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,cI(o,void 0,t,e)),r.get(o))})}function xxe({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function kdt({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Cdt(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function uI(t){return t===void 0||t===1}function uL({scale:t,scaleX:e,scaleY:r}){return!uI(t)||!uI(e)||!uI(r)}function Nx(t){return uL(t)||vxe(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vxe(t){return Gte(t.x)||Gte(t.y)}function Gte(t){return t&&t!=="0%"}function gA(t,e,r){const n=t-r,a=e*n;return r+a}function Yte(t,e,r,n,a){return a!==void 0&&(t=gA(t,a,n)),gA(t,r,n)+e}function dL(t,e=0,r=1,n,a){t.min=Yte(t.min,e,r,n,a),t.max=Yte(t.max,e,r,n,a)}function yxe(t,{x:e,y:r}){dL(t.x,e.translate,e.scale,e.originPoint),dL(t.y,r.translate,r.scale,r.originPoint)}const Kte=.999999999999,Xte=1.0000000000001;function Adt(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&M1(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yxe(t,o)),n&&Nx(i.latestValues)&&M1(t,i.latestValues))}e.x<Xte&&e.x>Kte&&(e.x=1),e.y<Xte&&e.y>Kte&&(e.y=1)}function F1(t,e){t.min=t.min+e,t.max=t.max+e}function Jte(t,e,r,n,a=.5){const i=Ya(t.min,t.max,a);dL(t,e,r,i,n)}function M1(t,e){Jte(t.x,e.x,e.scaleX,e.scale,e.originX),Jte(t.y,e.y,e.scaleY,e.scale,e.originY)}function bxe(t,e){return xxe(Cdt(t.getBoundingClientRect(),e))}function Edt(t,e,r){const n=bxe(t,r),{scroll:a}=e;return a&&(F1(n.x,a.offset.x),F1(n.y,a.offset.y)),n}const Zte=()=>({translate:0,scale:1,origin:0,originPoint:0}),L1=()=>({x:Zte(),y:Zte()}),Qte=()=>({min:0,max:0}),Ci=()=>({x:Qte(),y:Qte()}),fL={current:null},wxe={current:!1};function Pdt(){if(wxe.current=!0,!!mB)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fL.current=t.matches;t.addEventListener("change",e),e()}else fL.current=!1}const Tdt=new WeakMap;function Odt(t,e,r){for(const n in e){const a=e[n],i=r[n];if(Ll(a))t.addValue(n,a);else if(Ll(i))t.addValue(n,rw(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,rw(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const ere=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ddt{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=TB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=zc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Fa.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=pP(r),this.isVariantNode=ixe(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const h=f[m];c[m]!==void 0&&Ll(h)&&h.set(c[m])}}mount(e){this.current=e,Tdt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),wxe.current||Pdt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fL.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pg(this.notifyUpdate),pg(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Fw.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Fa.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nw){const r=nw[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ci()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ere.length;n++){const a=ere[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Odt(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=rw(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(hge(n)||pge(n))?n=parseFloat(n):!Uut(n)&&gg.test(r)&&(n=Xge(e,r)),this.setBaseTarget(e,Ll(n)?n.get():n)),Ll(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=zB(this.props,r,this.presenceContext?.custom);i&&(n=i[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ll(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new yB),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){RB.render(this.render)}}class _xe extends Ddt{constructor(){super(...arguments),this.KeyframeResolver=Eut}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ll(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function jxe(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function Rdt(t){return window.getComputedStyle(t)}class Idt extends _xe{constructor(){super(...arguments),this.type="html",this.renderInstance=jxe}readValueFromInstance(e,r){if(Fw.has(r))return this.projection?.isProjecting?nL(r):Yct(e,r);{const n=Rdt(e),a=(_B(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return bxe(e,r)}build(e,r,n){$B(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return qB(e,r,n)}}const Nxe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fdt(t,e,r,n){jxe(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(Nxe.has(a)?a:VB(a),e.attrs[a])}class Mdt extends _xe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ci}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Fw.has(r)){const n=Kge(r);return n&&n.default||0}return r=Nxe.has(r)?r:VB(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return hxe(e,r,n)}build(e,r,n){cxe(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){Fdt(e,r,n,a)}mount(e){this.isSVGTag=dxe(e.tagName),super.mount(e)}}const Ldt=(t,e)=>UB(t)?new Mdt(e):new Idt(e,{allowProjection:t!==j.Fragment});function fb(t,e,r){const n=t.getProps();return zB(n,e,r!==void 0?r:n.custom,t)}const hL=t=>Array.isArray(t);function $dt(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,rw(r))}function Bdt(t){return hL(t)?t[t.length-1]||0:t}function Udt(t,e){const r=fb(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Bdt(i[o]);$dt(t,o,l)}}function zdt(t){return!!(Ll(t)&&t.add)}function mL(t,e){const r=t.getValue("willChange");if(zdt(r))return r.add(e);if(!r&&yp.WillChange){const n=new yp.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Sxe(t){return t.props[mxe]}const qdt=t=>t!==null;function Vdt(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(qdt),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Wdt={type:"spring",stiffness:500,damping:25,restSpeed:10},Hdt=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Gdt={type:"keyframes",duration:.8},Ydt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kdt=(t,{keyframes:e})=>e.length>2?Gdt:Fw.has(t)?t.startsWith("scale")?Hdt(e[1]):Wdt:Ydt;function Xdt({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const WB=(t,e,r,n={},a,i)=>o=>{const l=OB(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Mh(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};Xdt(l)||Object.assign(d,Kdt(t,d)),d.duration&&(d.duration=Mh(d.duration)),d.repeatDelay&&(d.repeatDelay=Mh(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(lL(d),d.delay===0&&(f=!0)),(yp.instantAnimations||yp.skipAnimations)&&(f=!0,lL(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const m=Vdt(d.keyframes,l);if(m!==void 0){Fa.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new PB(d):new xut(d)};function Jdt({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function kxe(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),m=l[d];if(m===void 0||u&&Jdt(u,d))continue;const h={delay:r,...OB(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===x&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=Sxe(t);if(b){const _=window.MotionHandoffAnimation(b,d,Fa);_!==null&&(h.startTime=_,g=!0)}}mL(t,d),f.start(WB(d,f,m,t.shouldReduceMotion&&Hge.has(d)?{type:!1}:h,t,g));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Fa.update(()=>{o&&Udt(t,o)})}),c}function Cxe(t,e,r,n=0,a=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function pL(t,e,r={}){const n=fb(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(kxe(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return Zdt(t,e,c,u,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Zdt(t,e,r=0,n=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(pL(c,e,{...o,delay:r+(typeof n=="function"?0:n)+Cxe(t.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Qdt(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>pL(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=pL(t,e,r);else{const a=typeof e=="function"?fb(t,e,r.custom):e;n=Promise.all(kxe(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function Axe(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const eft=LB.length;function Exe(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Exe(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<eft;r++){const n=LB[r],a=t.props[n];(kN(a)||a===!1)&&(e[n]=a)}return e}const tft=[...MB].reverse(),rft=MB.length;function nft(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Qdt(t,r,n)))}function sft(t){let e=nft(t),r=tre(),n=!0;const a=c=>(u,d)=>{const f=fb(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:h,...x}=f;u={...u,...x,...h}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=Exe(t.parent)||{},f=[],m=new Set;let h={},x=1/0;for(let v=0;v<rft;v++){const b=tft[v],_=r[b],w=u[b]!==void 0?u[b]:d[b],N=kN(w),S=b===c?_.isActive:null;S===!1&&(x=v);let C=w===d[b]&&w!==u[b]&&N;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...h},!_.isActive&&S===null||!w&&!_.prevProp||mP(w)||typeof w=="boolean")continue;const A=aft(_.prevProp,w);let R=A||b===c&&_.isActive&&!C&&N||v>x&&N,O=!1;const D=Array.isArray(w)?w:[w];let P=D.reduce(a(b),{});S===!1&&(P={});const{prevResolvedValues:E={}}=_,I={...E,...P},M=Y=>{R=!0,m.has(Y)&&(O=!0,m.delete(Y)),_.needsAnimating[Y]=!0;const J=t.getValue(Y);J&&(J.liveStyle=!1)};for(const Y in I){const J=P[Y],z=E[Y];if(h.hasOwnProperty(Y))continue;let q=!1;hL(J)&&hL(z)?q=!Axe(J,z):q=J!==z,q?J!=null?M(Y):m.add(Y):J!==void 0&&m.has(Y)?M(Y):_.protectedKeys[Y]=!0}_.prevProp=w,_.prevResolvedValues=P,_.isActive&&(h={...h,...P}),n&&t.blockInitialAnimation&&(R=!1);const U=C&&A;R&&(!U||O)&&f.push(...D.map(Y=>{const J={type:b};if(typeof Y=="string"&&n&&!U&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,q=fb(z,Y);if(z.enteringChildren&&q){const{delayChildren:V}=q.transition||{};J.delay=Cxe(z.enteringChildren,t,V)}}return{animation:Y,options:J}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const b=fb(t,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(v.transition=b.transition)}m.forEach(b=>{const _=t.getBaseTarget(b),w=t.getValue(b);w&&(w.liveStyle=!0),v[b]=_??null}),f.push({animation:v})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),n=!1,g?e(f):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=tre()}}}function aft(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Axe(e,t):!1}function mx(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tre(){return{animate:mx(!0),whileInView:mx(),whileHover:mx(),whileTap:mx(),whileDrag:mx(),whileFocus:mx(),exit:mx()}}class Tg{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ift extends Tg{constructor(e){super(e),e.animationState||(e.animationState=sft(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mP(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let oft=0;class lft extends Tg{constructor(){super(...arguments),this.id=oft++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cft={animation:{Feature:ift},exit:{Feature:lft}};function AN(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function kS(t){return{point:{x:t.pageX,y:t.pageY}}}const uft=t=>e=>IB(e)&&t(e,kS(e));function H2(t,e,r,n){return AN(t,e,uft(r),n)}const Pxe=1e-4,dft=1-Pxe,fft=1+Pxe,Txe=.01,hft=0-Txe,mft=0+Txe;function pc(t){return t.max-t.min}function pft(t,e,r){return Math.abs(t-e)<=r}function rre(t,e,r,n=.5){t.origin=n,t.originPoint=Ya(e.min,e.max,t.origin),t.scale=pc(r)/pc(e),t.translate=Ya(r.min,r.max,t.origin)-t.originPoint,(t.scale>=dft&&t.scale<=fft||isNaN(t.scale))&&(t.scale=1),(t.translate>=hft&&t.translate<=mft||isNaN(t.translate))&&(t.translate=0)}function G2(t,e,r,n){rre(t.x,e.x,r.x,n?n.originX:void 0),rre(t.y,e.y,r.y,n?n.originY:void 0)}function nre(t,e,r){t.min=r.min+e.min,t.max=t.min+pc(e)}function gft(t,e,r){nre(t.x,e.x,r.x),nre(t.y,e.y,r.y)}function sre(t,e,r){t.min=e.min-r.min,t.max=t.min+pc(e)}function Y2(t,e,r){sre(t.x,e.x,r.x),sre(t.y,e.y,r.y)}function yd(t){return[t("x"),t("y")]}const Oxe=({current:t})=>t?t.ownerDocument.defaultView:null,are=(t,e)=>Math.abs(t-e);function xft(t,e){const r=are(t.x,e.x),n=are(t.y,e.y);return Math.sqrt(r**2+n**2)}class Dxe{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=fI(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,x=xft(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!x)return;const{point:g}=m,{timestamp:v}=sl;this.history.push({...g,timestamp:v});const{onStart:b,onMove:_}=this.handlers;h||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=dI(h,this.transformPagePoint),Fa.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:x,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=fI(m.type==="pointercancel"?this.lastMoveEventInfo:dI(h,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,b),g&&g(m,b)},!IB(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=kS(e),c=dI(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=sl;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(e,fI(c,this.history)),this.removeListeners=jS(H2(this.contextWindow,"pointermove",this.handlePointerMove),H2(this.contextWindow,"pointerup",this.handlePointerUp),H2(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pg(this.updatePoint)}}function dI(t,e){return e?{point:e(t.point)}:t}function ire(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fI({point:t},e){return{point:t,delta:ire(t,Rxe(e)),offset:ire(t,vft(e)),velocity:yft(e,.1)}}function vft(t){return t[0]}function Rxe(t){return t[t.length-1]}function yft(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=Rxe(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Mh(e)));)r--;if(!n)return{x:0,y:0};const i=Td(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bft(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ya(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ya(r,t,n.max):Math.min(t,r)),t}function ore(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function wft(t,{top:e,left:r,bottom:n,right:a}){return{x:ore(t.x,r,a),y:ore(t.y,e,n)}}function lre(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function _ft(t,e){return{x:lre(t.x,e.x),y:lre(t.y,e.y)}}function jft(t,e){let r=.5;const n=pc(t),a=pc(e);return a>n?r=jN(e.min,e.max-n,t.min):n>a&&(r=jN(t.min,t.max-a,e.min)),vp(0,1,r)}function Nft(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const gL=.35;function Sft(t=gL){return t===!1?t=0:t===!0&&(t=gL),{x:cre(t,"left","right"),y:cre(t,"top","bottom")}}function cre(t,e,r){return{min:ure(t,e),max:ure(t,r)}}function ure(t,e){return typeof t=="number"?t:t[e]||0}const kft=new WeakMap;class Cft{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ci(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(kS(f).point)},o=(f,m)=>{const{drag:h,dragPropagation:x,onDragStart:g}=this.getProps();if(h&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Dut(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yd(b=>{let _=this.getAxisMotionValue(b).get()||0;if(Lh.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[b];N&&(_=pc(N)*(parseFloat(_)/100))}}this.originPoint[b]=_}),g&&Fa.postRender(()=>g(f,m)),mL(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:h,dragDirectionLock:x,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=m;if(x&&this.currentDirection===null){this.currentDirection=Aft(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),v&&v(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>yd(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Dxe(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Oxe(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Fa.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!w5(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=bft(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&I1(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=wft(n.layoutBox,e):this.constraints=!1,this.elastic=Sft(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&yd(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Nft(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!I1(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Edt(n,a.root,this.visualElement.getTransformPagePoint());let o=_ft(a.layout.layoutBox,i);if(r){const l=r(kdt(o));this.hasMutatedConstraints=!!l,l&&(o=xxe(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=yd(d=>{if(!w5(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=a?200:1e6,h=a?40:1e7,x={type:"inertia",velocity:n?e[d]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return mL(this.visualElement,e),n.start(WB(e,n,0,r,this.visualElement,!1))}stopAnimation(){yd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yd(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){yd(r=>{const{drag:n}=this.getProps();if(!w5(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Ya(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!I1(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};yd(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=jft({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),yd(o=>{if(!w5(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ya(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;kft.set(this.visualElement,this);const e=this.visualElement.current,r=H2(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();I1(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Fa.read(n);const o=AN(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(yd(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=gL,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function w5(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Aft(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Eft extends Tg{constructor(e){super(e),this.removeGroupControls=Fd,this.removeListeners=Fd,this.controls=new Cft(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fd}unmount(){this.removeGroupControls(),this.removeListeners()}}const dre=t=>(e,r)=>{t&&Fa.postRender(()=>t(e,r))};class Pft extends Tg{constructor(){super(...arguments),this.removePointerDownListener=Fd}onPointerDown(e){this.session=new Dxe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Oxe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:dre(e),onStart:dre(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Fa.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=H2(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const a4={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fre(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const I_={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(cn.test(t))t=parseFloat(t);else return t;const r=fre(t,e.target.x),n=fre(t,e.target.y);return`${r}% ${n}%`}},Tft={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=gg.parse(t);if(a.length>5)return n;const i=gg.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const u=Ya(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let hI=!1;class Oft extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;edt(Dft),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),hI&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),a4.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,hI=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Fa.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),RB.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;hI=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ixe(t){const[e,r]=nxe(),n=j.useContext(fB);return s.jsx(Oft,{...t,layoutGroup:n,switchLayoutGroup:j.useContext(pxe),isPresent:e,safeToRemove:r})}const Dft={borderRadius:{...I_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:I_,borderTopRightRadius:I_,borderBottomLeftRadius:I_,borderBottomRightRadius:I_,boxShadow:Tft};function Rft(t,e,r){const n=Ll(t)?t:rw(t);return n.start(WB("",n,e,r)),n.animation}const Ift=(t,e)=>t.depth-e.depth;class Fft{constructor(){this.children=[],this.isDirty=!1}add(e){pB(this.children,e),this.isDirty=!0}remove(e){gB(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ift),this.isDirty=!1,this.children.forEach(e)}}function Mft(t,e){const r=zc.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(pg(n),t(i-e))};return Fa.setup(n,!0),()=>pg(n)}const Fxe=["TopLeft","TopRight","BottomLeft","BottomRight"],Lft=Fxe.length,hre=t=>typeof t=="string"?parseFloat(t):t,mre=t=>typeof t=="number"||cn.test(t);function $ft(t,e,r,n,a,i){a?(t.opacity=Ya(0,r.opacity??1,Bft(n)),t.opacityExit=Ya(e.opacity??1,0,Uft(n))):i&&(t.opacity=Ya(e.opacity??1,r.opacity??1,n));for(let o=0;o<Lft;o++){const l=`border${Fxe[o]}Radius`;let c=pre(e,l),u=pre(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||mre(c)===mre(u)?(t[l]=Math.max(Ya(hre(c),hre(u),n),0),(Lh.test(u)||Lh.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Ya(e.rotate||0,r.rotate||0,n))}function pre(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Bft=Mxe(0,.5,jge),Uft=Mxe(.5,.95,Fd);function Mxe(t,e,r){return n=>n<t?0:n>e?1:r(jN(t,e,n))}function gre(t,e){t.min=e.min,t.max=e.max}function md(t,e){gre(t.x,e.x),gre(t.y,e.y)}function xre(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vre(t,e,r,n,a){return t-=e,t=gA(t,1/r,n),a!==void 0&&(t=gA(t,1/a,n)),t}function zft(t,e=0,r=1,n=.5,a,i=t,o=t){if(Lh.test(e)&&(e=parseFloat(e),e=Ya(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ya(i.min,i.max,n);t===i&&(l-=e),t.min=vre(t.min,e,r,l,a),t.max=vre(t.max,e,r,l,a)}function yre(t,e,[r,n,a],i,o){zft(t,e[r],e[n],e[a],e.scale,i,o)}const qft=["x","scaleX","originX"],Vft=["y","scaleY","originY"];function bre(t,e,r,n){yre(t.x,e,qft,r?r.x:void 0,n?n.x:void 0),yre(t.y,e,Vft,r?r.y:void 0,n?n.y:void 0)}function wre(t){return t.translate===0&&t.scale===1}function Lxe(t){return wre(t.x)&&wre(t.y)}function _re(t,e){return t.min===e.min&&t.max===e.max}function Wft(t,e){return _re(t.x,e.x)&&_re(t.y,e.y)}function jre(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $xe(t,e){return jre(t.x,e.x)&&jre(t.y,e.y)}function Nre(t){return pc(t.x)/pc(t.y)}function Sre(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Hft{constructor(){this.members=[]}add(e){pB(this.members,e),e.scheduleRender()}remove(e){if(gB(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gft(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:h,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),h&&(n+=`skewX(${h}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const mI=["","X","Y","Z"],Yft=1e3;let Kft=0;function pI(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Bxe(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Sxe(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Fa,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Bxe(n)}function Uxe({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e?.()){this.id=Kft++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zft),this.nodes.forEach(rht),this.nodes.forEach(nht),this.nodes.forEach(Qft)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fft)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yB),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=rxe(o)&&!$ut(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;Fa.read(()=>{f=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,d&&d(),d=Mft(m,250),a4.hasAnimatedSinceResize&&(a4.hasAnimatedSinceResize=!1,this.nodes.forEach(Are)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||lht,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!$xe(this.targetLayout,h),_=!f&&m;if(this.options.layoutRoot||this.resumeFrom||_||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...OB(x,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,_)}else f||Are(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sht),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bxe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kre);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cre);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tht),this.nodes.forEach(Xft),this.nodes.forEach(Jft)):this.nodes.forEach(Cre),this.clearAllSnapshots();const l=zc.now();sl.delta=vp(0,1e3/60,l-sl.timestamp),sl.timestamp=l,sl.isProcessing=!0,nI.update.process(sl),nI.preRender.process(sl),nI.render.process(sl),sl.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,RB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eht),this.sharedNodes.forEach(aht)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pc(this.snapshot.measuredBox.x)&&!pc(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Lxe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Nx(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),cht(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ci();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(uht))){const{scroll:u}=this.root;u&&(F1(l.x,u.offset.x),F1(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Ci();if(md(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&md(l,o),F1(l.x,d.offset.x),F1(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Ci();md(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&M1(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Nx(d.latestValues)&&M1(c,d.latestValues)}return Nx(this.latestValues)&&M1(c,this.latestValues),c}removeTransform(o){const l=Ci();md(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Nx(u.latestValues))continue;uL(u.latestValues)&&u.updateSnapshot();const d=Ci(),f=u.measurePageBox();md(d,f),bre(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Nx(this.latestValues)&&bre(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sl.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=sl.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Y2(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),md(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ci(),this.targetWithTransforms=Ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gft(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):md(this.target,this.layout.layoutBox),yxe(this.target,this.targetDelta)):md(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Y2(this.relativeTargetOrigin,this.target,m.target),md(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uL(this.parent.latestValues)||vxe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===sl.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;md(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Adt(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ci());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xre(this.prevProjectionDelta.x,this.projectionDelta.x),xre(this.prevProjectionDelta.y,this.projectionDelta.y)),G2(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Sre(this.projectionDelta.x,this.prevProjectionDelta.x)||!Sre(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=L1(),this.projectionDelta=L1(),this.projectionDeltaWithTransform=L1()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=L1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ci(),h=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=h!==x,v=this.getStack(),b=!v||v.members.length<=1,_=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(oht));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const S=N/1e3;Ere(f.x,o.x,S),Ere(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Y2(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iht(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&Wft(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ci()),md(w,this.relativeTarget)),g&&(this.animationValues=d,$ft(d,u,this.latestValues,S,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fa.update(()=>{a4.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rw(0)),this.currentAnimation=Rft(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yft),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&zxe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ci();const f=pc(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=pc(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}md(l,c),M1(l,d),G2(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Hft),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&pI("z",o,u,this.animationValues);for(let d=0;d<mI.length;d++)pI(`rotate${mI[d]}`,o,u,this.animationValues),pI(`skew${mI[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=s4(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=s4(l?.pointerEvents)||""),this.hasProjected&&!Nx(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Gft(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:h}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in CN){if(d[x]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:b}=CN[x],_=f==="none"?d[x]:g(d[x],u);if(v){const w=v.length;for(let N=0;N<w;N++)o[v[N]]=_}else b?this.options.visualElement.renderState.vars[x]=_:o[x]=_}this.options.layoutId&&(o.pointerEvents=u===this?s4(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(kre),this.root.sharedNodes.clear()}}}function Xft(t){t.updateLayout()}function Jft(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:a}=t.options,i=e.source!==t.layout.source;a==="size"?yd(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],m=pc(f);f.min=r[d].min,f.max=f.min+m}):zxe(a,e.layoutBox,r)&&yd(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],m=pc(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=L1();G2(o,r,e.layoutBox);const l=L1();i?G2(l,t.applyTransform(n,!0),e.measuredBox):G2(l,r,e.layoutBox);const c=!Lxe(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const h=Ci();Y2(h,e.layoutBox,f.layoutBox);const x=Ci();Y2(x,r,m.layoutBox),$xe(h,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=h,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Zft(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qft(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eht(t){t.clearSnapshot()}function kre(t){t.clearMeasurements()}function Cre(t){t.isLayoutDirty=!1}function tht(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Are(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rht(t){t.resolveTargetDelta()}function nht(t){t.calcProjection()}function sht(t){t.resetSkewAndRotation()}function aht(t){t.removeLeadSnapshot()}function Ere(t,e,r){t.translate=Ya(e.translate,0,r),t.scale=Ya(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Pre(t,e,r,n){t.min=Ya(e.min,r.min,n),t.max=Ya(e.max,r.max,n)}function iht(t,e,r,n){Pre(t.x,e.x,r.x,n),Pre(t.y,e.y,r.y,n)}function oht(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lht={duration:.45,ease:[.4,0,.1,1]},Tre=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ore=Tre("applewebkit/")&&!Tre("chrome/")?Math.round:Fd;function Dre(t){t.min=Ore(t.min),t.max=Ore(t.max)}function cht(t){Dre(t.x),Dre(t.y)}function zxe(t,e,r){return t==="position"||t==="preserve-aspect"&&!pft(Nre(e),Nre(r),.2)}function uht(t){return t!==t.root&&t.scroll?.wasRoot}const dht=Uxe({attachResizeListener:(t,e)=>AN(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gI={current:void 0},qxe=Uxe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gI.current){const t=new dht({});t.mount(window),t.setOptions({layoutScroll:!0}),gI.current=t}return gI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fht={pan:{Feature:Pft},drag:{Feature:Eft,ProjectionNode:qxe,MeasureLayout:Ixe}};function Rre(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Fa.postRender(()=>i(e,kS(e)))}class hht extends Tg{mount(){const{current:e}=this.node;e&&(this.unmount=Rut(e,(r,n)=>(Rre(this.node,n,"Start"),a=>Rre(this.node,a,"End"))))}unmount(){}}class mht extends Tg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jS(AN(this.node.current,"focus",()=>this.onFocus()),AN(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ire(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Fa.postRender(()=>i(e,kS(e)))}class pht extends Tg{mount(){const{current:e}=this.node;e&&(this.unmount=Lut(e,(r,n)=>(Ire(this.node,n,"Start"),(a,{success:i})=>Ire(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xL=new WeakMap,xI=new WeakMap,ght=t=>{const e=xL.get(t.target);e&&e(t)},xht=t=>{t.forEach(ght)};function vht({root:t,...e}){const r=t||document;xI.has(r)||xI.set(r,{});const n=xI.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(xht,{root:t,...e})),n[a]}function yht(t,e,r){const n=vht(e);return xL.set(t,r),n.observe(t),()=>{xL.delete(t),n.unobserve(t)}}const bht={some:0,all:1};class wht extends Tg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:bht[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return yht(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(_ht(e,r))&&this.startObserver()}unmount(){}}function _ht({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const jht={inView:{Feature:wht},tap:{Feature:pht},focus:{Feature:mht},hover:{Feature:hht}},Nht={layout:{ProjectionNode:qxe,MeasureLayout:Ixe}},Sht={...cft,...jht,...fht,...Nht},Ys=Sdt(Sht,Ldt),Fre=()=>{const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState("30"),[u,d]=j.useState(!1),[f,m]=j.useState("revenue");j.useEffect(()=>{h()},[l]);const h=async()=>{try{const{data:{session:C}}=await ae.auth.getSession();if(!C){t("/admin/login");return}const{data:A,error:R}=await ae.from("subscriptions").select("plan_id, status, subscription_plans(enable_analytics)").eq("user_id",C.user.id).maybeSingle();if(!A||R){a(!1),r(!1);return}const O=A?.subscription_plans?.enable_analytics||!1,D=["active","trial"].includes(A?.status);if(!O||!D){a(!1),r(!1);return}a(!0),await x()}catch(C){et({title:"Error",description:C.message,variant:"destructive"}),r(!1)}},x=async()=>{try{r(!0);const{data:{user:C}}=await ae.auth.getUser();if(!C)return;const{data:A,error:R}=await ae.from("stores").select("id").eq("user_id",C.id).single();if(!A)return;const O=new Date;O.setDate(O.getDate()-parseInt(l));const D=new Date;D.setDate(D.getDate()-parseInt(l)*2);const{data:P,error:E}=await ae.from("orders").select("*").eq("store_id",A.id).gte("created_at",O.toISOString());if(E)throw E;const{data:I}=await ae.from("orders").select("*").eq("store_id",A.id).gte("created_at",D.toISOString()).lt("created_at",O.toISOString()),M=P?.reduce((Q,oe)=>Q+oe.total,0)||0,U=P?.length||0,W=U>0?M/U:0,Y=I?.reduce((Q,oe)=>Q+oe.total,0)||0,J=I?.length||0,z=J>0?Y/J:0,q=new Map;P?.forEach(Q=>{const oe=yn(Elt(Q.created_at),"MMM dd"),ce=q.get(oe)||{revenue:0,orders:0};ce.revenue+=Q.total,ce.orders+=1,q.set(oe,ce)});const V=Array.from(q.entries()).map(([Q,oe])=>({date:Q,revenue:oe.revenue})).sort((Q,oe)=>new Date(Q.date).getTime()-new Date(oe.date).getTime()),L=Array.from(q.entries()).map(([Q,oe])=>({date:Q,orders:oe.orders})).sort((Q,oe)=>new Date(Q.date).getTime()-new Date(oe.date).getTime()),X=new Map;P?.forEach(Q=>{Array.isArray(Q.items)&&Q.items.forEach(oe=>{const ce=X.get(oe.productId)||{name:oe.productName,quantity:0,revenue:0};ce.quantity+=oe.quantity,ce.revenue+=oe.price*oe.quantity,X.set(oe.productId,ce)})});const K=Array.from(X.values()).sort((Q,oe)=>oe.revenue-Q.revenue).slice(0,10);o({totalRevenue:M,ordersCount:U,averageOrderValue:W,topProducts:K,revenueByDay:V,ordersByDay:L,previousRevenue:Y,previousOrdersCount:J,previousAverageOrderValue:z})}catch(C){et({title:"Error",description:C.message,variant:"destructive"})}finally{r(!1)}},g=async()=>{d(!0),await x(),d(!1)},v=(C,A)=>A===0?{percent:0,isPositive:C>0}:{percent:(C-A)/A*100,isPositive:C>=A},b=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(C);if(e)return s.jsxs(Ys.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Ys.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block",children:s.jsx(No,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading analytics..."})]});if(!n)return s.jsxs(Ys.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center py-12",children:[s.jsx(aa,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Not Available"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need a subscription plan with analytics enabled to access this feature."})]});const _=v(i?.totalRevenue||0,i?.previousRevenue||0),w=v(i?.ordersCount||0,i?.previousOrdersCount||0),N=v(i?.averageOrderValue||0,i?.previousAverageOrderValue||0),S=[...i?.topProducts||[]].sort((C,A)=>f==="revenue"?A.revenue-C.revenue:A.quantity-C.quantity);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ys.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-between border-b pb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor your store performance and sales trends"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Ys.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[s.jsx(Ys.div,{animate:u?{rotate:360}:{rotate:0},transition:{duration:u?1:.3,repeat:u?1/0:0},children:s.jsx(No,{className:"h-4 w-4"})}),"Refresh"]}),s.jsxs(zr,{value:l,onValueChange:c,children:[s.jsxs(Lr,{className:"w-[180px]",children:[s.jsx(Uu,{className:"h-4 w-4 mr-2"}),s.jsx(qr,{})]}),s.jsxs($r,{children:[s.jsx(ut,{value:"7",children:"Last 7 Days"}),s.jsx(ut,{value:"30",children:"Last 30 Days"}),s.jsx(ut,{value:"90",children:"Last 90 Days"}),s.jsx(ut,{value:"365",children:"Last Year"})]})]})]})]}),s.jsxs(Ys.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Ys.div,{whileHover:{y:-4},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl",children:s.jsx(yo,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs(Ys.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${_.isPositive?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[_.isPositive?s.jsx(k5,{className:"h-4 w-4"}):s.jsx(jT,{className:"h-4 w-4"}),Math.abs(_.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:b(i?.totalRevenue||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})}),s.jsx(Ys.div,{whileHover:{y:-4,boxShadow:"0 20px 25px rgba(0,0,0,0.1)"},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl",children:s.jsx(X0,{className:"h-6 w-6 text-blue-600"})}),s.jsxs(Ys.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${w.isPositive?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[w.isPositive?s.jsx(k5,{className:"h-4 w-4"}):s.jsx(jT,{className:"h-4 w-4"}),Math.abs(w.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:i?.ordersCount||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})}),s.jsx(Ys.div,{whileHover:{y:-4,boxShadow:"0 20px 25px rgba(0,0,0,0.1)"},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-50 to-violet-100 dark:from-violet-900/20 dark:to-violet-800/20 rounded-xl",children:s.jsx($l,{className:"h-6 w-6 text-violet-600"})}),s.jsxs(Ys.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${N.isPositive?"bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[N.isPositive?s.jsx(k5,{className:"h-4 w-4"}):s.jsx(jT,{className:"h-4 w-4"}),Math.abs(N.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avg Order Value"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:b(i?.averageOrderValue||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})})]}),s.jsx(Ys.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:s.jsxs(He,{className:"border-slate-200 dark:border-slate-800",children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-xl",children:"Revenue Trend"})}),s.jsx(Xe,{children:i?.revenueByDay&&i.revenueByDay.length>0?s.jsx(F2,{width:"100%",height:300,children:s.jsxs(hot,{data:i.revenueByDay,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),s.jsx(yN,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(hg,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(mg,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Bc,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#f1f5f9"},formatter:C=>b(C)}),s.jsx(wS,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,dot:!1,fill:"url(#colorRevenue)",isAnimationActive:!0})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No data available for this period"})})]})}),s.jsx(Ys.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},children:s.jsxs(He,{className:"border-slate-200 dark:border-slate-800",children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-xl",children:"Order Volume"})}),s.jsx(Xe,{children:i?.ordersByDay&&i.ordersByDay.length>0?s.jsx(F2,{width:"100%",height:300,children:s.jsxs(XM,{data:i.ordersByDay,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),s.jsx(yN,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(hg,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(mg,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Bc,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#f1f5f9"}}),s.jsx(ku,{dataKey:"orders",fill:"url(#colorOrders)",radius:[8,8,0,0],isAnimationActive:!0})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No data available for this period"})})]})}),s.jsx(Ys.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:s.jsxs(He,{className:"border-slate-200 dark:border-slate-800",children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[s.jsx(Nt,{className:"text-xl",children:"Top Products"}),s.jsxs(Ys.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(f==="revenue"?"quantity":"revenue"),className:"inline-flex items-center gap-2 px-3 py-1 text-sm rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[s.jsx(zbe,{className:"h-4 w-4"}),"Sort by ",f==="revenue"?"Quantity":"Revenue"]})]}),s.jsx(Xe,{children:S&&S.length>0?s.jsx("div",{className:"space-y-2",children:S.map((C,A)=>s.jsxs(Ys.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+A*.05},whileHover:{x:4,backgroundColor:"var(--slate-50)"},className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-800 transition-all",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:C.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.quantity," units sold"]})]}),s.jsxs(Ys.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6+A*.05},className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-emerald-600",children:b(C.revenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(C.revenue/(i?.totalRevenue||1)*100).toFixed(1),"%"]})]})]},A))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales data available for this period"})})]})})]})};function kht(){const[t,e]=j.useState([]),[r,n]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState(!0),[c,u]=j.useState(!1),[d,f]=j.useState(null),[m,h]=j.useState(null),[x,g]=j.useState(!1),[v,b]=j.useState(null),[_,w]=j.useState(null),[N,S]=j.useState(!1),[C,A]=j.useState([]),[R,O]=j.useState(!1),[D,P]=j.useState(new Set),[E,I]=j.useState("vps"),[M,U]=j.useState(""),[W,Y]=j.useState(null),[J,z]=j.useState(""),[q,V]=j.useState(null),[L,X]=j.useState("");j.useEffect(()=>{K()},[]);const K=async()=>{try{l(!0);const{data:{user:se}}=await ae.auth.getUser();if(!se)return;const{data:Z}=await ae.from("stores").select("id, slug, google_access_token").eq("user_id",se.id).single();if(!Z)return;b(Z.id),w(Z.slug),O(!!Z.google_access_token);const{data:Oe,error:re}=await ae.from("categories").select("*").eq("store_id",Z.id).order("name");if(re)throw re;e(Oe||[])}catch(se){et({title:"Error",description:se.message,variant:"destructive"})}finally{l(!1)}},Q=async()=>{if(!r.trim()){U("Category name is required"),document.getElementById("categoryName")?.focus();return}if(U(""),!v){et({title:"Error",description:"Store not found",variant:"destructive"});return}try{u(!0);let se=a.trim();if(W&&E==="vps"){const{data:{session:Oe}}=await ae.auth.getSession();if(!Oe)throw new Error("Not authenticated");const{data:{user:re}}=await ae.auth.getUser();if(!re)throw new Error("User not found");const{data:le,error:We}=await ae.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",re.id).single();if(We||!le)throw new Error("Store not found");const xe=W.size/1024/1024,Le=le.storage_used_mb||0,ke=le.storage_limit_mb||100;if(Le+xe>ke)throw new Error(`Storage limit reached. You have ${(ke-Le).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);A([{name:W.name,progress:10}]);const fe=new FormData;fe.append("file",W),fe.append("type","categories"),_&&fe.append("store_slug",_);const ye=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:fe}),qe=await ye.json();if(!ye.ok||!qe.success)throw new Error(qe.error||"Failed to upload image");se=qe.imageUrl;const Qe=qe.fileId||W.name,{error:ct}=await ae.from("media_library").insert({store_id:le.id,file_url:se,file_name:Qe,file_size_mb:xe,file_type:"categories"});ct&&console.error("Failed to add to media library:",ct);const{error:Ye}=await ae.from("stores").update({storage_used_mb:Le+xe}).eq("id",le.id);Ye&&console.error("Failed to update storage usage:",Ye),A([])}se||(se=Y3e());const{error:Z}=await ae.from("categories").insert([{name:r.trim(),store_id:v,image_url:se}]);if(Z)throw Z;J&&URL.revokeObjectURL(J),Y(null),z(""),et({title:"Success",description:"Category added successfully"}),n(""),i(""),U(""),K()}catch(se){et({title:"Error",description:se.message,variant:"destructive"})}finally{u(!1),A([])}},oe=async()=>{if(d)try{if(d.image_url&&d.image_url.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:d.image_url})}),await ae.from("media_library").delete().eq("file_url",d.image_url),console.log("Category image deleted from VPS and media library:",d.image_url)}catch(Z){console.error("Failed to delete image:",Z)}const{error:se}=await ae.from("categories").delete().eq("id",d.id);if(se)throw se;et({title:"Success",description:"Category deleted successfully"}),K()}catch(se){et({title:"Error",description:se.message,variant:"destructive"})}finally{f(null)}},ce=se=>{h({...se,newName:se.name,newImageUrl:se.image_url||""})},de=async()=>{if(m){if(!m.newName.trim()){et({title:"Error",description:"Category name cannot be empty",variant:"destructive"});return}try{g(!0);let se=m.newImageUrl.trim();if(q&&E==="vps"){const{data:{session:re}}=await ae.auth.getSession();if(!re)throw new Error("Not authenticated");const{data:{user:le}}=await ae.auth.getUser();if(!le)throw new Error("User not found");const{data:We,error:xe}=await ae.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",le.id).single();if(xe||!We)throw new Error("Store not found");const Le=q.size/1024/1024,ke=We.storage_used_mb||0,fe=We.storage_limit_mb||100;if(ke+Le>fe)throw new Error(`Storage limit reached. You have ${(fe-ke).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);A([{name:q.name,progress:10}]);const ye=new FormData;ye.append("file",q),ye.append("type","categories"),_&&ye.append("store_slug",_);const qe=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:ye}),Qe=await qe.json();if(!qe.ok||!Qe.success)throw new Error(Qe.error||"Failed to upload image");se=Qe.imageUrl;const ct=Qe.fileId||q.name,{error:Ye}=await ae.from("media_library").insert({store_id:We.id,file_url:se,file_name:ct,file_size_mb:Le,file_type:"categories"});Ye&&console.error("Failed to add to media library:",Ye);const{error:me}=await ae.from("stores").update({storage_used_mb:ke+Le}).eq("id",We.id);me&&console.error("Failed to update storage usage:",me),A([])}const Z=m.image_url;if(Z&&Z!==se&&Z.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:Z})}),await ae.from("media_library").delete().eq("file_url",Z),console.log("Old category image deleted from VPS and media library:",Z)}catch(re){console.error("Failed to delete old image:",re)}const{error:Oe}=await ae.from("categories").update({name:m.newName.trim(),image_url:se||null}).eq("id",m.id);if(Oe)throw Oe;L&&URL.revokeObjectURL(L),V(null),X(""),et({title:"Success",description:"Category updated successfully"}),h(null),K()}catch(se){et({title:"Error",description:se.message,variant:"destructive"})}finally{g(!1),A([])}}},ne=(se,Z)=>{if(!se.trim()){et({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let Oe=se.trim();if(Oe.includes("drive.google.com")){const re=Oe.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);re&&(Oe=`https://drive.google.com/thumbnail?id=${re[1]||re[2]}&sz=w1000`,et({title:" Google Drive Link Converted",description:"URL converted to direct image format. Preview shown below."}))}Z&&m?h(re=>re?{...re,newImageUrl:Oe}:null):(i(Oe),setTimeout(()=>{const re=document.querySelector("[data-image-preview]");re&&re.scrollIntoView({behavior:"smooth",block:"nearest"})},100))},ue=async(se,Z=!1)=>{let Oe=se.target.files?.[0];if(Oe){if(!Oe.type.startsWith("image/")){et({title:"Invalid file type",description:`${Oe.name} is not a valid image file`,variant:"destructive"});return}try{if(E==="vps"){try{const Le=(Oe.size/1024/1024).toFixed(2),ke=await Z7(Oe,5),fe=(ke.size/1024/1024).toFixed(2);console.log(`Image compressed: ${Le}MB  ${fe}MB`),Oe=ke}catch(Le){console.error("Compression failed:",Le),et({title:"Compression failed",description:`Failed to compress ${Oe.name}, using original`,variant:"destructive"})}const xe=URL.createObjectURL(Oe);Z?(L&&URL.revokeObjectURL(L),V(Oe),X(xe),m&&h(Le=>Le?{...Le,newImageUrl:xe}:null)):(J&&URL.revokeObjectURL(J),Y(Oe),z(xe),i(xe)),et({title:"Image ready",description:`${Oe.name} will be uploaded when you save the category`});return}S(!0),A([{name:Oe.name,progress:0}]);const{data:{session:re}}=await ae.auth.getSession();if(!re)throw new Error("Not authenticated");A([{name:Oe.name,progress:10}]);const le=new FormData;le.append("file",Oe),le.append("type","categories");const We=setInterval(()=>{A(xe=>xe.map(Le=>Le.progress<90?{...Le,progress:Le.progress+10}:Le))},200);try{const xe=await ae.functions.invoke("upload-to-drive",{body:le,headers:{Authorization:`Bearer ${re.access_token}`}});if(clearInterval(We),xe.error)throw new Error(xe.error.message||"Failed to upload image");xe.data?.imageUrl&&(A([{name:Oe.name,progress:100}]),await new Promise(Le=>setTimeout(Le,500)),Z&&m?h(Le=>Le?{...Le,newImageUrl:xe.data.imageUrl}:null):(i(xe.data.imageUrl),setTimeout(()=>{const Le=document.querySelector("[data-image-preview]");Le&&Le.scrollIntoView({behavior:"smooth",block:"nearest"})},100)),et({title:" Image uploaded successfully!",description:`${Oe.name} is ready to use. Preview shown below.`}))}catch(xe){throw clearInterval(We),xe}}catch(re){console.error("Upload error:",re);let le=re.message||"";if(re.context?.body)try{const We=JSON.parse(re.context.body);le=We.error||We.message||le}catch(We){console.error("Could not parse error body:",We)}le.toLowerCase().includes("storage limit")?et({title:"Storage Limit Reached",description:le,variant:"destructive",duration:6e3}):le.toLowerCase().includes("drive")&&le.toLowerCase().includes("not connected")?et({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first.",variant:"destructive",duration:6e3}):le.toLowerCase().includes("token")||le.toLowerCase().includes("expired")?et({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):et({title:"Upload Failed",description:le||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),A([]),se.target.value=""}}};return s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Category Management"})}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(Be,{htmlFor:"categoryName",className:"text-base font-medium",children:["Category Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(lt,{id:"categoryName",placeholder:"Enter category name...",value:r,onChange:se=>{n(se.target.value),M&&U("")},onKeyPress:se=>se.key==="Enter"&&!se.shiftKey&&Q(),className:`mt-2 ${M?"border-destructive focus-visible:ring-destructive":""}`,"aria-invalid":!!M,"aria-describedby":M?"name-error":void 0}),M&&s.jsxs("p",{id:"name-error",className:"text-sm text-destructive mt-1.5 flex items-center gap-1",children:[s.jsx(_o,{className:"w-4 h-4"}),M]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Be,{className:"text-base font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"vps",checked:E==="vps",onChange:se=>I(se.target.value),className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"VPS Server"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"drive",checked:E==="drive",onChange:se=>I(se.target.value),className:"w-4 h-4 text-primary",disabled:!R}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})," ",!R&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:E==="vps"?"Images compressed to max 5MB and stored on server":"Images uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-sm font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${N?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"categoryImageUpload",accept:"image/*",onChange:se=>ue(se,!1),className:"hidden",disabled:N||!R}),s.jsx("label",{htmlFor:"categoryImageUpload",className:`block p-6 text-center ${N||!R?"cursor-not-allowed":"cursor-pointer"}`,children:N&&C.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin"}),s.jsx("span",{className:"font-medium text-foreground",children:"Uploading..."})]}),C.map((se,Z)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[se.progress<100?s.jsx(pr,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(rs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:se.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:se.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[se.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${se.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${se.progress}%`}})})]},Z))]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(Af,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:R?"Click to upload image":"Google Drive Not Connected"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R?"PNG, JPG images. Will be uploaded to your Google Drive.":"Connect Google Drive in Store Settings to enable uploads"})]})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-sm font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{placeholder:"https://drive.google.com/file/d/... (optional)",value:a,onChange:se=>i(se.target.value),onKeyPress:se=>{se.key==="Enter"&&(se.preventDefault(),ne(a,!1))},className:"flex-1"}),s.jsx(we,{type:"button",variant:"secondary",onClick:()=>ne(a,!1),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted to a direct image URL."})]}),a&&s.jsxs("div",{"data-image-preview":!0,className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(""),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(so,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:B0(a)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:se=>{se.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:a})]})]})]})]}),s.jsxs(we,{onClick:Q,disabled:c,className:"w-full",children:[c?s.jsx(pr,{className:"h-4 w-4 animate-spin"}):s.jsx(Yo,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Add Category"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(Be,{className:"text-base font-medium",children:["Your Categories (",t.length,")"]})}),o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pr,{className:"w-8 h-8 mx-auto mb-3 text-primary animate-spin"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading categories..."})]}):t.length===0?s.jsx("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(aa,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"No categories yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first category using the form above"})]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(se=>s.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-lg hover:border-primary/50 transition-all duration-300",children:[s.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[s.jsx("img",{src:B0(se.image_url||"")||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",alt:se.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:Z=>{Z.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}}),s.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[s.jsxs(we,{size:"sm",variant:"secondary",onClick:()=>ce(se),className:"shadow-lg",title:"Edit category",children:[s.jsx(II,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>f(se),className:"shadow-lg",title:"Delete category",children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate group-hover:text-primary transition-colors",children:se.name}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Category"})]}),s.jsxs("div",{className:"sm:hidden border-t p-2 flex gap-2",children:[s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>ce(se),className:"flex-1",children:[s.jsx(II,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>f(se),className:"flex-1 text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(Ds,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},se.id))})]}),s.jsx(ng,{open:!!d,onOpenChange:()=>f(null),children:s.jsxs(lp,{children:[s.jsxs(cp,{children:[s.jsx(dp,{children:"Delete Category"}),s.jsxs(fp,{children:['Are you sure you want to delete the category "',d?.name,'"? This action cannot be undone.']})]}),s.jsxs(up,{children:[s.jsx(ag,{children:"Cancel"}),s.jsx(sg,{onClick:oe,className:"bg-destructive",children:"Delete"})]})]})}),s.jsx(ng,{open:!!m,onOpenChange:()=>h(null),children:s.jsxs(lp,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(cp,{children:[s.jsx(dp,{children:"Edit Category"}),s.jsx(fp,{children:"Update the category name and image."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Name"}),s.jsx(lt,{placeholder:"Enter category name...",value:m?.newName||"",onChange:se=>h(Z=>Z?{...Z,newName:se.target.value}:null)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{className:"text-xs font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"vps",checked:E==="vps",onChange:se=>I(se.target.value),className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-xs",children:"VPS Server"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"drive",checked:E==="drive",onChange:se=>I(se.target.value),className:"w-4 h-4 text-primary",disabled:!R}),s.jsxs("span",{className:"text-xs",children:["Google Drive ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})," ",!R&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-xs font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${N?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"editCategoryImageUpload",accept:"image/*",onChange:se=>ue(se,!0),className:"hidden",disabled:N||!R}),s.jsx("label",{htmlFor:"editCategoryImageUpload",className:`block p-4 text-center ${N||!R?"cursor-not-allowed":"cursor-pointer"}`,children:N&&C.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(pr,{className:"w-4 h-4 text-primary animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Uploading..."})]}),C.map((se,Z)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-2 border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[se.progress<100?s.jsx(pr,{className:"w-4 h-4 text-primary animate-spin flex-shrink-0"}):s.jsx(rs,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-foreground truncate",children:se.name})}),s.jsxs("span",{className:"text-xs font-medium text-primary",children:[se.progress,"%"]})]}),s.jsx("div",{className:"mt-1.5 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${se.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${se.progress}%`}})})]},Z))]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Af,{className:"w-6 h-6 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-xs font-medium",children:R?"Click to upload":"Google Drive Not Connected"})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{className:"text-xs font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{placeholder:"https://drive.google.com/file/d/...",value:m?.newImageUrl||"",onChange:se=>h(Z=>Z?{...Z,newImageUrl:se.target.value}:null),onKeyPress:se=>{se.key==="Enter"&&(se.preventDefault(),ne(m?.newImageUrl||"",!0))},className:"flex-1"}),s.jsx(we,{type:"button",variant:"secondary",onClick:()=>ne(m?.newImageUrl||"",!0),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted."})]}),m?.newImageUrl&&s.jsxs("div",{className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(se=>se?{...se,newImageUrl:""}:null),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(so,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:B0(m.newImageUrl)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:se=>{se.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:m.newImageUrl})]})]})]})]})]}),s.jsxs(up,{children:[s.jsx(ag,{children:"Cancel"}),s.jsxs(sg,{onClick:de,disabled:x,children:[x?s.jsx(pr,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update"]})]})]})})]})]})}const Mre=()=>{const t=en();j.useEffect(()=>{e()},[]);const e=async()=>{const{data:{session:r}}=await ae.auth.getSession();r||t("/admin/login")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your product categories"})]}),s.jsx(kht,{})]})},Lre=()=>{const t=en(),[e,r]=j.useState(null),[n,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(0),[u,d]=j.useState(!1),[f,m]=j.useState(null),[h,x]=j.useState(null);j.useEffect(()=>{g()},[]),j.useEffect(()=>{if(!h)return;const O=()=>{const P=new Date,E=h.getTime()-P.getTime();if(E<=0){m({days:0,hours:0,minutes:0,seconds:0});return}const I=Math.floor(E/(1e3*60*60*24)),M=Math.floor(E%(1e3*60*60*24)/(1e3*60*60)),U=Math.floor(E%(1e3*60*60)/(1e3*60)),W=Math.floor(E%(1e3*60)/1e3);m({days:I,hours:M,minutes:U,seconds:W})};O();const D=setInterval(O,1e3);return()=>clearInterval(D)},[h]);const g=async()=>{try{const{data:{user:O}}=await ae.auth.getUser();if(!O){t("/auth");return}const{data:D}=await ae.from("stores").select("id").eq("user_id",O.id).single();if(D){const{count:Y}=await ae.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",D.id);c(Y||0)}const{data:P,error:E}=await ae.from("subscriptions").select(`
          *,
          subscription_plans (*)
        `).eq("user_id",O.id).order("updated_at",{ascending:!1});let I=null;if(P&&P.length>0){const Y=new Date,J=P.filter(q=>!(q.status==="cancelled"||q.status==="expired"||q.current_period_end&&new Date(q.current_period_end)<Y)),z=J.filter(q=>q.status==="active");z.length>0?I=z[0]:I=J[0]}if(E&&E.code!=="PGRST116")throw E;if(I){const Y={...I,subscription_plans:{...I.subscription_plans,features:Array.isArray(I.subscription_plans.features)?I.subscription_plans.features:[]}};r(Y),I.current_period_end?x(new Date(I.current_period_end)):I.trial_ends_at&&x(new Date(I.trial_ends_at))}const{data:M,error:U}=await ae.from("subscription_plans").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(U)throw U;const W=(M||[]).map(Y=>({...Y,features:Array.isArray(Y.features)?Y.features:[]}));a(W)}catch(O){console.error("Error fetching subscription data:",O),Mt.error("Failed to load subscription data")}finally{o(!1)}},v=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O),b=O=>O?new Date(O).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",_=()=>{if(!e)return 0;const O=e.subscription_plans?.whatsapp_orders_limit;if(O===null||O===0)return 0;const D=e.whatsapp_orders_used||0,P=D/O*100;return console.log("WhatsApp Usage:",{used:D,limit:O,percentage:P}),Math.min(P,100)},w=()=>{if(!e)return 0;const O=e.subscription_plans?.website_orders_limit;if(O===null||O===0)return 0;const D=e.website_orders_used||0,P=D/O*100;return console.log("Website Usage:",{used:D,limit:O,percentage:P}),Math.min(P,100)},N=O=>O>=96?"bg-red-600":O>=81?"bg-orange-500":O>=51?"bg-yellow-500":"bg-green-500",S=O=>O>=100?{level:"error",message:"Limit reached - Upgrade now!"}:O>=90?{level:"warning",message:"Almost at limit"}:O>=80?{level:"caution",message:"Running low on orders"}:null,C=async()=>{d(!0);try{await g(),Mt.success("Refreshed! Order usage updated successfully.")}catch(O){console.error("Error refreshing:",O),Mt.error("Failed to refresh data. Please try again.")}finally{d(!1)}},A=()=>{t("/pricing")},R=()=>e?.current_period_end?new Date(e.current_period_end)<new Date:!1;return i?s.jsx("div",{className:"pt-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading subscription details..."})}):s.jsxs("div",{className:"space-y-8 p-6 md:p-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Subscription"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription plan"})]}),e&&f&&h&&!R()&&s.jsx(He,{className:`border-l-4 ${e.status==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:s.jsx(Xe,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xa,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${e.status==="trial"?"text-warning":"text-primary"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:e.status==="trial"?"Trial Status":"Subscription Status"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.status==="trial"?"Your free trial ends in ":"Your subscription renews in ",s.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[f.days,"d ",f.hours,"h ",f.minutes,"m ",f.seconds,"s"]})]})]})]})})}),e&&R()&&s.jsxs(Hn,{variant:"destructive",className:"border-destructive/50 bg-destructive/10",children:[s.jsx(hi,{className:"h-5 w-5"}),s.jsxs(Gn,{className:"ml-2",children:[s.jsx("span",{className:"font-semibold",children:"Your subscription has expired!"})," ","Your store cannot accept new orders. Please upgrade your plan to continue using our services."]})]}),e&&s.jsxs(He,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:e.subscription_plans.name}),s.jsx(er,{variant:R()?"destructive":e.status==="active"?"default":"secondary",children:R()?"Expired":e.status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(e.billing_cycle==="yearly"&&e.subscription_plans.yearly_price?e.subscription_plans.yearly_price:e.subscription_plans.monthly_price)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",e.billing_cycle==="yearly"?"year":"month"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(aa,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Billing:"})," ",e.billing_cycle==="yearly"?"Yearly":"Monthly"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uu,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Expires:"})," ",b(e.current_period_end)]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Order Usage"}),s.jsxs(we,{size:"sm",variant:"outline",onClick:C,disabled:u,children:[s.jsx(No,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.subscription_plans.whatsapp_orders_limit!==null&&(()=>{const O=_(),D=S(O);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"WhatsApp Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e.subscription_plans.whatsapp_orders_limit===0?`${e.whatsapp_orders_used||0} / Unlimited`:`${e.whatsapp_orders_used||0} / ${e.subscription_plans.whatsapp_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${N(O)}`,style:{width:`${O}%`}})})}),D&&s.jsxs(Hn,{variant:D.level==="error"?"destructive":"default",className:`mt-2 ${D.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":D.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx(Gn,{className:"ml-2 text-sm font-medium",children:D.message})]})]})})(),e.subscription_plans.website_orders_limit!==null&&(()=>{const O=w(),D=S(O);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Website Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e.subscription_plans.website_orders_limit===0?`${e.website_orders_used||0} / Unlimited`:`${e.website_orders_used||0} / ${e.subscription_plans.website_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${N(O)}`,style:{width:`${O}%`}})})}),D&&s.jsxs(Hn,{variant:D.level==="error"?"destructive":"default",className:`mt-2 ${D.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":D.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx(Gn,{className:"ml-2 text-sm font-medium",children:D.message})]})]})})()]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.next_billing_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Uu,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Next billing: ",b(e.next_billing_at)]})]})}),e.trial_ends_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(aa,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Trial ends: ",b(e.trial_ends_at)]})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Plan Features"}),s.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.subscription_plans.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:e.subscription_plans.max_products===0?"Unlimited Products":`Max ${e.subscription_plans.max_products} Product${e.subscription_plans.max_products===1?"":"s"}`})]}),e.subscription_plans.features.filter(O=>{if(!O||typeof O!="string"||O.trim()==="")return!1;const D=O.toLowerCase();return!D.includes("analytics")&&!D.includes("email")&&!D.includes("notification")&&!D.includes("location")&&!D.includes("tracking")&&!D.includes("product")&&!D.includes("support")&&!D.includes("whatsapp order")&&!D.includes("website order")}).map((O,D)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O})]},D)),e.subscription_plans.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),e.subscription_plans.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),e.subscription_plans.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Available Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>{const D=e?.plan_id===O.id;return s.jsxs(He,{className:`p-6 flex flex-col ${D?"border-primary":"border-border"}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-1",children:O.name}),O.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:O.description})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(O.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"/month"})]}),s.jsxs("ul",{className:"space-y-2 mb-6 flex-1",children:[O.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.max_products===0?"Unlimited Products":`Max ${O.max_products} Product${O.max_products===1?"":"s"}`})]}),O.features.filter(P=>{if(!P||typeof P!="string"||P.trim()==="")return!1;const E=P.toLowerCase();return!E.includes("analytics")&&!E.includes("email")&&!E.includes("notification")&&!E.includes("location")&&!E.includes("tracking")&&!E.includes("product")&&!E.includes("support")&&!E.includes("whatsapp order")&&!E.includes("website order")}).map((P,E)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P})]},E)),O.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),O.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),O.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]}),O.whatsapp_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.whatsapp_orders_limit===0?"Unlimited WhatsApp orders/month":`${O.whatsapp_orders_limit} WhatsApp order${O.whatsapp_orders_limit===1?"":"s"}/month`})]}),O.website_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.website_orders_limit===0?"Unlimited Website orders/month":`${O.website_orders_limit} Website order${O.website_orders_limit===1?"":"s"}/month`})]})]}),s.jsx(we,{className:"w-full",variant:D?"outline":"default",disabled:D,onClick:A,children:D?"Current Plan":s.jsxs(s.Fragment,{children:["Upgrade Now ",s.jsx(k5,{className:"w-4 h-4 ml-2"})]})})]},O.id)})})]})]})},$re=()=>{const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(""),[l,c]=j.useState(""),[u,d]=j.useState(null),[f,m]=j.useState(!1),[h,x]=j.useState(!1),[g,v]=j.useState(null),[b,_]=j.useState(null),[w,N]=j.useState({alternate_names:"",seo_description:"",business_phone:"",business_email:"",street_address:"",city:"",state:"",postal_code:"",country:"IN",opening_hours:"",price_range:""});j.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:{session:D}}=await ae.auth.getSession();if(!D){t("/auth");return}const{data:P,error:E}=await ae.from("stores").select("*").eq("user_id",D.user.id).single();if(E||!P){et({variant:"destructive",title:"Error",description:"Could not load store data"});return}const{data:I}=await ae.from("profiles").select("phone, email").eq("user_id",D.user.id).single();d(P.id),o(P.name||""),c(P.slug||""),N({alternate_names:P.alternate_names||"",price_range:P.price_range||"",opening_hours:P.opening_hours||"",city:P.city||"",state:P.state||"",postal_code:P.postal_code||"",country:P.country||"IN",seo_description:P.seo_description||P.description||"",business_phone:P.business_phone||I?.phone||P.whatsapp_number||"",business_email:P.business_email||I?.email||"",street_address:P.street_address||P.address||""})}catch(D){console.error("Error loading store data:",D)}finally{r(!1)}},C=async()=>{if(u){a(!0);try{const{error:D}=await ae.from("stores").update({alternate_names:w.alternate_names,seo_description:w.seo_description,business_phone:w.business_phone,business_email:w.business_email,street_address:w.street_address,city:w.city,state:w.state,postal_code:w.postal_code,country:w.country,opening_hours:w.opening_hours,price_range:w.price_range}).eq("id",u);if(D)throw D;et({title:"SEO Settings Saved",description:"Your SEO settings have been updated successfully. Changes may take a few days to reflect in search results."})}catch(D){et({variant:"destructive",title:"Error",description:D.message||"Failed to save SEO settings"})}finally{a(!1)}}},A=()=>{if(!i)return;const D=i,P=[],E=D.replace(/([a-z])([A-Z])/g,"$1 $2");E!==D&&P.push(E);const I=D.replace(/\s+/g,"");I!==D&&P.push(I);const M=D.replace(/a/gi,"aa").replace(/e/gi,"ee");M!==D&&!P.includes(M)&&P.push(E.replace(/a/gi,"aa"));const U=[...new Set(P)].filter(W=>W!==D);N(W=>({...W,alternate_names:U.join(", ")})),et({title:"Variations Generated",description:`Generated ${U.length} name variations`})},R=async()=>{if(!u){et({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{m(!0),v(null),et({title:"Submitting Sitemap",description:"Submitting your sitemap to Google Search Console..."});const{data:{session:D}}=await ae.auth.getSession();if(!D)throw new Error("Not authenticated. Please login again.");const E=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D.access_token}`},body:JSON.stringify({storeId:u})})).json();if(E.success)v(E.results?.[0]||{success:!0}),et({title:"Sitemap Submitted!",description:"Your sitemap has been submitted to Google. It may take a few days to appear in search results."});else throw new Error(E.error||"Failed to submit sitemap")}catch(D){console.error("Error submitting sitemap:",D),v({success:!1,error:D.message}),et({variant:"destructive",title:"Submission Failed",description:D.message||"Failed to submit sitemap to Google"})}finally{m(!1)}},O=async()=>{if(!u){et({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{x(!0),_(null),et({title:"Requesting Indexing",description:"Requesting immediate indexing from Google. This is faster than sitemap submission."});const{data:{session:D}}=await ae.auth.getSession();if(!D)throw new Error("Not authenticated. Please login again.");const E=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D.access_token}`},body:JSON.stringify({storeId:u})})).json();if(E.success)_(E.results?.[0]||{success:!0}),et({title:"Indexing Requested!",description:"Successfully requested indexing. Your store should appear in Google within hours."});else throw new Error(E.error||"Failed to request indexing")}catch(D){console.error("Error requesting indexing:",D),_({success:!1,error:D.message}),et({variant:"destructive",title:"Indexing Failed",description:D.message||"Failed to request indexing from Google"})}finally{x(!1)}};return e?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx(Tx,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Vl,{className:"w-6 h-6"}),"SEO Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Optimize your store for search engines like Google"})]}),s.jsx(we,{onClick:C,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zu,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(He,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Xe,{className:"flex items-start gap-3 pt-4",children:[s.jsx(Cf,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"How SEO helps your store"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:['These settings help Google understand your business better. When someone searches for "',i,'" or similar terms, Google will show rich information about your store including address, phone, and hours.']})]})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Y0,{className:"w-5 h-5"}),"Basic Information"]}),s.jsx(hn,{children:"Help customers find your store with different search terms"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"storeName",children:"Store Name"}),s.jsx(lt,{id:"storeName",value:i,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Change this in Settings  Store Details"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Be,{htmlFor:"alternateNames",className:"flex items-center gap-2",children:["Also Known As",s.jsxs(w1,{children:[s.jsx(_1,{children:s.jsx(Cf,{className:"w-3.5 h-3.5 text-muted-foreground"})}),s.jsx(Ox,{className:"max-w-xs",children:s.jsx("p",{children:"Add variations of your store name that customers might search for. Separate with commas."})})]})]}),s.jsxs(we,{type:"button",variant:"ghost",size:"sm",onClick:A,className:"h-7 text-xs",children:[s.jsx(dw,{className:"w-3 h-3 mr-1"}),"Auto Generate"]})]}),s.jsx(lt,{id:"alternateNames",placeholder:"Sasu Masale, Sasu Masaale, SasuMasaale",value:w.alternate_names,onChange:D=>N(P=>({...P,alternate_names:D.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Example: If store is "SasuMasale", add "Sasu Masale, Sasu Masaale"'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"seoDescription",children:["SEO Description",s.jsx(er,{variant:"secondary",className:"ml-2 text-xs",children:"Important"})]}),s.jsx(Ii,{id:"seoDescription",placeholder:"Fresh Indian spices store offering premium quality masale. Buy garam masala, turmeric, and more...",value:w.seo_description,onChange:D=>N(P=>({...P,seo_description:D.target.value})),rows:3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.seo_description.length,"/160 characters (recommended)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"priceRange",children:"Price Range"}),s.jsxs("select",{id:"priceRange",value:w.price_range,onChange:D=>N(P=>({...P,price_range:D.target.value})),className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",children:[s.jsx("option",{value:"",children:" - Budget Friendly"}),s.jsx("option",{value:"",children:" - Moderate"}),s.jsx("option",{value:"",children:" - Premium"}),s.jsx("option",{value:"",children:" - Luxury"})]})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"w-5 h-5"}),"Contact Information"]}),s.jsx(hn,{children:"Help customers reach you directly from Google search"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"businessPhone",className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"w-4 h-4"}),"Business Phone"]}),s.jsx(lt,{id:"businessPhone",placeholder:"+91-9876543210",value:w.business_phone,onChange:D=>N(P=>({...P,business_phone:D.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"businessEmail",className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"w-4 h-4"}),"Business Email"]}),s.jsx(lt,{id:"businessEmail",type:"email",placeholder:"contact@yourstore.com",value:w.business_email,onChange:D=>N(P=>({...P,business_email:D.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"openingHours",className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"w-4 h-4"}),"Opening Hours"]}),s.jsx(lt,{id:"openingHours",placeholder:"Mon-Sat: 9AM-9PM, Sun: 10AM-6PM",value:w.opening_hours,onChange:D=>N(P=>({...P,opening_hours:D.target.value}))})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(K0,{className:"w-5 h-5"}),"Business Address"]}),s.jsx(hn,{children:"Appears on Google Maps and local search results"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"streetAddress",children:"Street Address"}),s.jsx(lt,{id:"streetAddress",placeholder:"123 Spice Market, Main Road",value:w.street_address,onChange:D=>N(P=>({...P,street_address:D.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"city",children:"City"}),s.jsx(lt,{id:"city",placeholder:"Mumbai",value:w.city,onChange:D=>N(P=>({...P,city:D.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"state",children:"State"}),s.jsx(lt,{id:"state",placeholder:"Maharashtra",value:w.state,onChange:D=>N(P=>({...P,state:D.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"postalCode",children:"Postal Code"}),s.jsx(lt,{id:"postalCode",placeholder:"400001",value:w.postal_code,onChange:D=>N(P=>({...P,postal_code:D.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"country",children:"Country"}),s.jsx(lt,{id:"country",placeholder:"IN",value:w.country,onChange:D=>N(P=>({...P,country:D.target.value}))})]})]})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"w-5 h-5"}),"Google Search Preview"]}),s.jsx(hn,{children:"How your store might appear in Google search results"})]}),s.jsx(Xe,{children:s.jsxs("div",{className:"bg-white dark:bg-zinc-900 border rounded-lg p-4 max-w-xl",children:[s.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:[l,".digitaldukandar.in"]}),s.jsxs("div",{className:"text-lg text-blue-600 dark:text-blue-400 font-medium hover:underline cursor-pointer",children:[i,w.alternate_names?` (${w.alternate_names.split(",")[0]?.trim()})`:""," - Online Store"]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:w.seo_description||`Shop at ${i}. Quality products at great prices.`}),(w.business_phone||w.city)&&s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[w.business_phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tf,{className:"w-3 h-3"}),w.business_phone]}),w.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(K0,{className:"w-3 h-3"}),w.city,", ",w.state]})]})]})})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(No,{className:"w-5 h-5"}),"Google Indexing"]}),s.jsx(hn,{children:"Submit your store to Google for faster indexing"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Cf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Two ways to get indexed:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-blue-800 dark:text-blue-200",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Submit Sitemap:"})," Traditional method, takes 3-7 days"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Request Indexing:"})," Faster method using Google Indexing API, appears within hours"]})]})]})]})]})}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:"Submit Sitemap"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Submit your sitemap to Google Search Console (slower but comprehensive)"})]}),s.jsx(we,{onClick:R,disabled:f,variant:"outline",className:"w-full",children:f?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Submit Sitemap"]})}),g&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${g.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[g.success?s.jsx(fi,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(ma,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:g.success?s.jsx("p",{className:"font-medium",children:"Submitted successfully!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Submission failed"}),g.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:g.error})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:["Request Indexing",s.jsx(er,{variant:"secondary",className:"text-xs",children:"Faster"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Request immediate indexing via Google Indexing API (appears within hours)"})]}),s.jsx(we,{onClick:O,disabled:h,className:"w-full",children:h?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Requesting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(EA,{className:"w-4 h-4 mr-2"}),"Request Indexing"]})}),b&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${b.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[b.success?s.jsx(fi,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(ma,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:b.success?s.jsx("p",{className:"font-medium",children:"Indexing requested!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Request failed"}),b.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:b.error})]})})]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-2",children:"Note:"}),s.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Sitemap is automatically submitted when you create/update your store"}),s.jsx("li",{children:'Use "Request Indexing" when you make important changes and need Google to re-crawl quickly'}),s.jsx("li",{children:"You can use both methods - they complement each other"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(we,{onClick:C,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zu,{className:"w-4 h-4 mr-2"}),"Save SEO Settings"]})})})]})})},Bre=()=>{const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(""),[l,c]=j.useState(null),[u,d]=j.useState({facebook_url:"",instagram_url:"",twitter_url:"",youtube_url:"",linkedin_url:""});j.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{session:b}}=await ae.auth.getSession();if(!b){t("/auth");return}const{data:_,error:w}=await ae.from("stores").select("*").eq("user_id",b.user.id).single();if(w||!_){et({variant:"destructive",title:"Error",description:"Could not load store data"});return}c(_.id),o(_.name||"");const N=_.social_links;d({facebook_url:_.facebook_url||N?.facebook||"",instagram_url:_.instagram_url||N?.instagram||"",twitter_url:_.twitter_url||N?.twitter||"",youtube_url:_.youtube_url||"",linkedin_url:_.linkedin_url||""})}catch(b){console.error("Error loading store data:",b)}finally{r(!1)}},m=async()=>{if(l){a(!0);try{const{error:b}=await ae.from("stores").update({facebook_url:u.facebook_url||null,instagram_url:u.instagram_url||null,twitter_url:u.twitter_url||null,youtube_url:u.youtube_url||null,linkedin_url:u.linkedin_url||null}).eq("id",l);if(b)throw b;et({title:"Social Media Settings Saved",description:"Your social media links have been updated successfully."})}catch(b){et({variant:"destructive",title:"Error",description:b.message||"Failed to save social media settings"})}finally{a(!1)}}},h=b=>{if(!b)return!0;try{return new URL(b),!0}catch{return!1}},x=b=>b?h(b)?"valid":"invalid":null;if(e)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})});const g=[{key:"facebook_url",name:"Facebook",icon:EL,placeholder:"https://facebook.com/yourstore",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30"},{key:"instagram_url",name:"Instagram",icon:Od,placeholder:"https://instagram.com/yourstore",color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30"},{key:"twitter_url",name:"Twitter / X",icon:PL,placeholder:"https://twitter.com/yourstore",color:"text-sky-500",bgColor:"bg-sky-100 dark:bg-sky-900/30"},{key:"youtube_url",name:"YouTube",icon:Hne,placeholder:"https://youtube.com/@yourstore",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900/30"},{key:"linkedin_url",name:"LinkedIn",icon:zne,placeholder:"https://linkedin.com/company/yourstore",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"}],v=Object.values(u).filter(b=>b&&h(b)).length;return s.jsx(Tx,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx($1,{className:"w-6 h-6"}),"Social Media"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your social profiles to increase visibility"})]}),s.jsx(we,{onClick:m,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zu,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(He,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Xe,{className:"flex items-center justify-between pt-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Cf,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Why Social Media Matters"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Social links appear in Google search results and help customers find and trust your store. Connected profiles also improve your SEO ranking."})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:v}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connected"})]})]})}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx($1,{className:"w-5 h-5"}),"Social Media Profiles"]}),s.jsx(hn,{children:"Add your social media profile URLs. These will appear on your store and in search results."})]}),s.jsx(Xe,{className:"space-y-6",children:g.map(b=>{const _=u[b.key],w=x(_);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:b.key,className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 rounded-md ${b.bgColor}`,children:s.jsx(b.icon,{className:`w-4 h-4 ${b.color}`})}),b.name,w==="valid"&&s.jsxs(er,{variant:"secondary",className:"ml-2 text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx(rs,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{id:b.key,placeholder:b.placeholder,value:_,onChange:N=>d(S=>({...S,[b.key]:N.target.value})),className:w==="invalid"?"border-red-500":""}),_&&h(_)&&s.jsxs(w1,{children:[s.jsx(_1,{asChild:!0,children:s.jsx(we,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(_,"_blank"),children:s.jsx(zo,{className:"w-4 h-4"})})}),s.jsx(Ox,{children:"Open in new tab"})]})]}),w==="invalid"&&s.jsx("p",{className:"text-xs text-red-500",children:"Please enter a valid URL"})]},b.key)})})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx($1,{className:"w-5 h-5"}),"Preview"]}),s.jsx(hn,{children:"How your social links will appear on your store footer"})]}),s.jsx(Xe,{children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Follow ",i," on social media:"]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:g.map(b=>{const _=u[b.key],w=_&&h(_);return s.jsx("div",{className:`p-3 rounded-lg transition-all ${w?`${b.bgColor} cursor-pointer hover:scale-105`:"bg-muted/50 opacity-50"}`,children:s.jsx(b.icon,{className:`w-5 h-5 ${w?b.color:"text-muted-foreground"}`})},b.key)})}),v===0&&s.jsx("p",{className:"text-sm text-muted-foreground mt-4 italic",children:"No social profiles connected yet. Add URLs above to display them here."})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(we,{onClick:m,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zu,{className:"w-4 h-4 mr-2"}),"Save Social Media Settings"]})})})]})})},Ure=()=>{const t=en(),[e]=xw(),[r,n]=j.useState(!0),[a,i]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState(!1),[d,f]=j.useState(null),[m,h]=j.useState(null),[x,g]=j.useState({enabled:!1,default_message:"Thanks for your message! We'll get back to you soon.",rules:[]}),[v,b]=j.useState({enabled:!1,default_reply:"Thanks for your comment!"}),[_,w]=j.useState({enabled:!1,display_mode:"auto",max_reels:6,manual_reels:[],show_on_homepage:!0,section_title:"Follow Us on Instagram"}),[N,S]=j.useState(""),[C,A]=j.useState(!1),[R,O]=j.useState(""),[D,P]=j.useState("");j.useEffect(()=>{const K=e.get("status"),Q=e.get("message");K==="success"?(Mt.success(Q||"Instagram connected successfully!"),t("/admin/growth/instagram",{replace:!0})):K==="error"&&(Mt.error(Q||"Failed to connect Instagram"),t("/admin/growth/instagram",{replace:!0})),E()},[e]);const E=async()=>{try{n(!0);const{data:{user:K}}=await ae.auth.getUser();if(!K){t("/auth");return}const{data:Q,error:oe}=await ae.from("stores").select("id, instagram_connected, instagram_username, instagram_token_expiry, auto_reply_settings, comment_auto_reply_settings, instagram_reels_settings").eq("user_id",K.id).single();if(oe){console.error("Error loading store:",oe),Mt.error("Failed to load settings");return}l(Q.id),u(Q.instagram_connected||!1),f(Q.instagram_username),h(Q.instagram_token_expiry),Q.auto_reply_settings&&g(Q.auto_reply_settings),Q.comment_auto_reply_settings&&b(Q.comment_auto_reply_settings),Q.instagram_reels_settings&&w(Q.instagram_reels_settings)}catch(K){console.error("Error:",K),Mt.error("Failed to load settings")}finally{n(!1)}},I=()=>{if(!o){Mt.error("Store not found");return}const K=`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=connect&store_id=${o}`;window.location.href=K},M=async()=>{if(o)try{(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=disconnect&store_id=${o}`)).ok?(u(!1),f(null),h(null),Mt.success("Instagram disconnected")):Mt.error("Failed to disconnect")}catch(K){console.error("Error disconnecting:",K),Mt.error("Failed to disconnect Instagram")}},U=async()=>{if(o)try{i(!0);const{error:K}=await ae.from("stores").update({auto_reply_settings:JSON.parse(JSON.stringify(x)),comment_auto_reply_settings:JSON.parse(JSON.stringify(v)),instagram_reels_settings:JSON.parse(JSON.stringify(_))}).eq("id",o);if(K)throw K;Mt.success("Settings saved successfully!")}catch(K){console.error("Error saving:",K),Mt.error("Failed to save settings")}finally{i(!1)}},W=()=>{if(!N.trim()){Mt.error("Please enter a reel URL");return}if(!N.includes("instagram.com/reel/")&&!N.includes("instagram.com/p/")){Mt.error("Invalid URL. Please use format: https://www.instagram.com/reel/xxx");return}if(_.manual_reels.some(Q=>Q.url===N.trim())){Mt.error("This reel is already added");return}const K={url:N.trim(),added_at:new Date().toISOString()};w(Q=>({...Q,manual_reels:[...Q.manual_reels,K]})),S(""),Mt.success("Reel added")},Y=K=>{w(Q=>({...Q,manual_reels:Q.manual_reels.filter(oe=>oe.url!==K)}))},J=async()=>{if(o)try{A(!0);const Q=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?action=refresh&store_id=${o}`,{method:"POST"})).json();Q.success?Mt.success(`Refreshed ${Q.count} reels from Instagram`):Mt.error(Q.error||"Failed to refresh reels")}catch(K){console.error("Error refreshing reels:",K),Mt.error("Failed to refresh reels")}finally{A(!1)}},z=K=>{const Q=K.match(/\/(reel|p)\/([A-Za-z0-9_-]+)/);return Q?Q[2]:K},q=()=>{if(!R.trim()||!D.trim()){Mt.error("Please enter keywords and reply message");return}const K=R.split(",").map(oe=>oe.trim()).filter(oe=>oe),Q={id:Date.now().toString(),keywords:K,reply:D.trim()};g(oe=>({...oe,rules:[...oe.rules,Q]})),O(""),P(""),Mt.success("Rule added")},V=K=>{g(Q=>({...Q,rules:Q.rules.filter(oe=>oe.id!==K)}))},L=()=>m?(new Date(m).getTime()-Date.now())/(1e3*60*60*24)<7:!1,X=async()=>{if(o)try{const Q=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=refresh&store_id=${o}`)).json();Q.success?(h(Q.expires_at),Mt.success("Token refreshed successfully!")):Mt.error(Q.error||"Failed to refresh token")}catch(K){console.error("Error refreshing token:",K),Mt.error("Failed to refresh token")}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Instagram Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your Instagram Business account and configure auto-replies"})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Od,{className:"w-5 h-5"}),"Instagram Connection"]}),s.jsx(hn,{children:"Connect your Instagram Business account to enable auto-replies"})]}),s.jsx(Xe,{children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx(On,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Connected"}),d&&s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["@",d]})]}),s.jsx(we,{variant:"outline",size:"sm",onClick:M,children:"Disconnect"})]}),m&&s.jsxs("div",{className:`p-3 rounded-lg ${L()?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200":"bg-muted"}`,children:[s.jsxs("p",{className:"text-sm",children:["Token expires: ",new Date(m).toLocaleDateString(),L()&&s.jsx("span",{className:"text-yellow-600 ml-2",children:"(Expiring soon!)"})]}),s.jsx(we,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:X,children:"Refresh Token"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[s.jsx(so,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Not Connected"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your Instagram to enable features"})]})]}),s.jsxs(we,{onClick:I,className:"w-full sm:w-auto",children:[s.jsx(Od,{className:"w-4 h-4 mr-2"}),"Connect Instagram"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll need an Instagram Business or Creator account connected to a Facebook Page."})]})})]}),c&&s.jsxs(s.Fragment,{children:[s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(qx,{className:"w-5 h-5"}),"DM Auto-Reply"]}),s.jsx(hn,{children:"Automatically reply to direct messages"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{children:"Enable Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to incoming DMs"})]}),s.jsx(Fn,{checked:x.enabled,onCheckedChange:K=>g(Q=>({...Q,enabled:K}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Default Reply Message"}),s.jsx(Ii,{value:x.default_message,onChange:K=>g(Q=>({...Q,default_message:K.target.value})),placeholder:"Thanks for your message! We'll get back to you soon.",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This message is sent when no keyword rules match"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Be,{children:"Keyword Rules"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set specific replies for messages containing certain keywords"}),x.rules.length>0&&s.jsx("div",{className:"space-y-2",children:x.rules.map(K=>s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Keywords: ",K.keywords.join(", ")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:K.reply})]}),s.jsx(we,{variant:"ghost",size:"icon",onClick:()=>V(K.id),children:s.jsx(Ds,{className:"w-4 h-4 text-destructive"})})]},K.id))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(lt,{value:R,onChange:K=>O(K.target.value),placeholder:"Keywords (comma separated): price, cost, how much"}),s.jsx(Ii,{value:D,onChange:K=>P(K.target.value),placeholder:"Reply message for these keywords...",rows:2}),s.jsxs(we,{variant:"outline",size:"sm",onClick:q,children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(qbe,{className:"w-5 h-5"}),"Comment Auto-Reply"]}),s.jsx(hn,{children:"Automatically reply to comments on your posts"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{children:"Enable Comment Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to new comments"})]}),s.jsx(Fn,{checked:v.enabled,onCheckedChange:K=>b(Q=>({...Q,enabled:K}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Default Comment Reply"}),s.jsx(Ii,{value:v.default_reply,onChange:K=>b(Q=>({...Q,default_reply:K.target.value})),placeholder:"Thanks for your comment!",rows:2})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Qbe,{className:"w-5 h-5"}),"Instagram Reels on Store"]}),s.jsx(hn,{children:"Display your Instagram Reels on your store's homepage"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{children:"Show Reels on Store"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Instagram Reels to customers"})]}),s.jsx(Fn,{checked:_.enabled,onCheckedChange:K=>w(Q=>({...Q,enabled:K}))})]}),_.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Section Title"}),s.jsx(lt,{value:_.section_title,onChange:K=>w(Q=>({...Q,section_title:K.target.value})),placeholder:"Follow Us on Instagram"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Display Mode"}),s.jsxs(zr,{value:_.display_mode,onValueChange:K=>w(Q=>({...Q,display_mode:K})),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"auto",children:"Auto-fetch from Instagram"}),s.jsx(ut,{value:"manual",children:"Manual URLs only"}),s.jsx(ut,{value:"both",children:"Both (Auto + Manual)"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.display_mode==="auto"&&"Automatically fetch your latest reels from Instagram",_.display_mode==="manual"&&"Only show reels you manually add",_.display_mode==="both"&&"Combine auto-fetched reels with manual ones"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Maximum Reels to Show"}),s.jsxs(zr,{value:_.max_reels.toString(),onValueChange:K=>w(Q=>({...Q,max_reels:parseInt(K)})),children:[s.jsx(Lr,{className:"w-24",children:s.jsx(qr,{})}),s.jsx($r,{children:[3,4,6,8,9,12].map(K=>s.jsx(ut,{value:K.toString(),children:K},K))})]})]}),(_.display_mode==="auto"||_.display_mode==="both")&&s.jsx("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-Fetch Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetch your latest reels from Instagram"})]}),s.jsx(we,{variant:"outline",size:"sm",onClick:J,disabled:C,children:C?s.jsx(pr,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),(_.display_mode==="manual"||_.display_mode==="both")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Be,{children:"Manual Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add specific reels you want to display on your store"}),_.manual_reels.length>0&&s.jsx("div",{className:"space-y-2",children:_.manual_reels.map(K=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[s.jsx(Od,{className:"w-4 h-4 text-pink-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:z(K.url)}),s.jsxs("a",{href:K.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-primary flex items-center gap-1",children:["View ",s.jsx(zo,{className:"w-3 h-3"})]})]}),s.jsx(we,{variant:"ghost",size:"icon",onClick:()=>Y(K.url),children:s.jsx(Ds,{className:"w-4 h-4 text-destructive"})})]},K.url))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(lt,{value:N,onChange:K=>S(K.target.value),placeholder:"https://www.instagram.com/reel/ABC123..."}),s.jsxs(we,{variant:"outline",size:"sm",onClick:W,children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Add Reel"]})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(we,{onClick:U,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Settings"})})]})]})},i4=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array(8).fill(0).map(()=>t[Math.floor(Math.random()*t.length)]).join("")},Cht=async t=>{const{data:e,error:r}=await ae.from("coupon_usage").select("id",{count:"exact"}).eq("coupon_id",t);if(r)throw r;return e?.length||0},Aht=async t=>{try{const{data:e}=await ae.from("coupons").select("id",{count:"exact"}).eq("store_id",t),{data:r}=await ae.from("coupons").select("id",{count:"exact"}).eq("store_id",t).eq("status","active"),{data:n}=await ae.from("coupon_usage").select("discount_applied").in("coupon_id",(await ae.from("coupons").select("id").eq("store_id",t)).data?.map(i=>i.id)||[]),a=n?.reduce((i,o)=>i+(o.discount_applied||0),0)||0;return{totalCoupons:e?.length||0,activeCoupons:r?.length||0,totalUsage:n?.length||0,totalDiscountGiven:a}}catch(e){return console.error("Error getting coupon stats:",e),{totalCoupons:0,activeCoupons:0,totalUsage:0,totalDiscountGiven:0}}},Eht=async t=>{try{const{data:e,error:r}=await ae.from("coupon_usage").select(`
        id,
        order_id,
        customer_phone,
        customer_email,
        discount_applied,
        used_at,
        orders (order_number)
      `).eq("coupon_id",t).order("used_at",{ascending:!1});if(r)throw r;return(e||[]).map(n=>({id:n.id,order_id:n.order_id,customer_phone:n.customer_phone,customer_email:n.customer_email,discount_applied:n.discount_applied,used_at:n.used_at,order_number:n.orders?.order_number}))}catch(e){return console.error("Error getting coupon usage details:",e),[]}},Pht=async t=>{try{const{data:e}=await ae.from("automatic_discounts").select("id",{count:"exact"}).eq("store_id",t),{data:r}=await ae.from("automatic_discounts").select("id",{count:"exact"}).eq("store_id",t).eq("status","active");return{totalRules:e?.length||0,activeRules:r?.length||0}}catch(e){return console.error("Error getting auto discount stats:",e),{totalRules:0,activeRules:0}}};var gP="Checkbox",[Tht]=bi(gP),[Oht,HB]=Tht(gP);function Dht(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[m,h]=ql({prop:r,defaultProp:a??!1,onChange:c,caller:gP}),[x,g]=j.useState(null),[v,b]=j.useState(null),_=j.useRef(!1),w=x?!!o||!!x.closest("form"):!0,N={checked:m,disabled:i,setChecked:h,control:x,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:V0(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:b};return s.jsx(Oht,{scope:e,...N,children:Rht(f)?f(N):n})}var Vxe="CheckboxTrigger",Wxe=j.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:x}=HB(Vxe,t),g=Yr(a,d),v=j.useRef(c);return j.useEffect(()=>{const b=i?.form;if(b){const _=()=>f(v.current);return b.addEventListener("reset",_),()=>b.removeEventListener("reset",_)}},[i,f]),s.jsx(xr.button,{type:"button",role:"checkbox","aria-checked":V0(c)?"mixed":c,"aria-required":u,"data-state":Xxe(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:Xt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Xt(r,b=>{f(_=>V0(_)?!0:!_),x&&h&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});Wxe.displayName=Vxe;var GB=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return s.jsx(Dht,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(Wxe,{...f,ref:e,__scopeCheckbox:r}),m&&s.jsx(Kxe,{__scopeCheckbox:r})]})})});GB.displayName=gP;var Hxe="CheckboxIndicator",Gxe=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=HB(Hxe,r);return s.jsx(ao,{present:n||V0(i.checked)||i.checked===!0,children:s.jsx(xr.span,{"data-state":Xxe(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});Gxe.displayName=Hxe;var Yxe="CheckboxBubbleInput",Kxe=j.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:h}=HB(Yxe,t),x=Yr(r,h),g=JN(i),v=MN(n);j.useEffect(()=>{const _=m;if(!_)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,C=!a.current;if(g!==i&&S){const A=new Event("click",{bubbles:C});_.indeterminate=V0(i),S.call(_,V0(i)?!1:i),_.dispatchEvent(A)}},[m,g,i,a]);const b=j.useRef(V0(i)?!1:i);return s.jsx(xr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:x,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kxe.displayName=Yxe;function Rht(t){return typeof t=="function"}function V0(t){return t==="indeterminate"}function Xxe(t){return V0(t)?"indeterminate":t?"checked":"unchecked"}const ro=j.forwardRef(({className:t,...e},r)=>s.jsx(GB,{ref:r,className:Gt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(Gxe,{className:Gt("flex items-center justify-center text-current"),children:s.jsx(On,{className:"h-4 w-4"})})}));ro.displayName=GB.displayName;var xP="Tabs",[Iht]=bi(xP,[vw]),Jxe=vw(),[Fht,YB]=Iht(xP),Zxe=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=bg(l),[f,m]=ql({prop:n,onChange:a,defaultProp:i??"",caller:xP});return s.jsx(Fht,{scope:r,baseId:Vc(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(xr.div,{dir:d,"data-orientation":o,...u,ref:e})})});Zxe.displayName=xP;var Qxe="TabsList",eve=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=YB(Qxe,r),o=Jxe(r);return s.jsx(O7,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(xr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});eve.displayName=Qxe;var tve="TabsTrigger",rve=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=YB(tve,r),l=Jxe(r),c=ave(o.baseId,n),u=ive(o.baseId,n),d=n===o.value;return s.jsx(D7,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(xr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:Xt(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Xt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Xt(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});rve.displayName=tve;var nve="TabsContent",sve=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,l=YB(nve,r),c=ave(l.baseId,n),u=ive(l.baseId,n),d=n===l.value,f=j.useRef(d);return j.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ao,{present:a||d,children:({present:m})=>s.jsx(xr.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});sve.displayName=nve;function ave(t,e){return`${t}-trigger-${e}`}function ive(t,e){return`${t}-content-${e}`}var Mht=Zxe,ove=eve,lve=rve,cve=sve;const Wf=Mht,Bd=j.forwardRef(({className:t,...e},r)=>s.jsx(ove,{ref:r,className:Gt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Bd.displayName=ove.displayName;const Un=j.forwardRef(({className:t,...e},r)=>s.jsx(lve,{ref:r,className:Gt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Un.displayName=lve.displayName;const zn=j.forwardRef(({className:t,...e},r)=>s.jsx(cve,{ref:r,className:Gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));zn.displayName=cve.displayName;function Lht({open:t,onClose:e,onSave:r,storeId:n,couponToEdit:a}){const[i,o]=j.useState(!1),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState([]),[h,x]=j.useState([]),[g,v]=j.useState({code:i4(),description:"",discount_type:"percentage",discount_value:0,max_discount:void 0,min_order_value:void 0,start_date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],usage_limit_total:void 0,usage_limit_per_customer:void 0,applicable_to:"all",customer_type:"all",is_first_order:!1,order_type:"all",status:"active"});j.useEffect(()=>{t&&(b(),_(),a?(v({...a,start_date:a.start_date.split("T")[0],expiry_date:a.expiry_date.split("T")[0]}),w(),N()):(v({code:i4(),description:"",discount_type:"percentage",discount_value:0,max_discount:void 0,min_order_value:void 0,start_date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],usage_limit_total:void 0,usage_limit_per_customer:void 0,applicable_to:"all",customer_type:"all",is_first_order:!1,order_type:"all",status:"active"}),m([]),x([])))},[t,a]);const b=async()=>{const{data:C}=await ae.from("products").select("id, name").eq("store_id",n).order("name");C&&c(C)},_=async()=>{const{data:C}=await ae.from("categories").select("id, name").eq("store_id",n).order("name");C&&d(C)},w=async()=>{if(!a)return;const{data:C}=await ae.from("coupon_products").select("product_id").eq("coupon_id",a.id).eq("is_excluded",!1);C&&m(C.map(A=>A.product_id))},N=async()=>{if(!a)return;const{data:C}=await ae.from("coupon_categories").select("category_id").eq("coupon_id",a.id);C&&x(C.map(A=>A.category_id))},S=async()=>{if(!g.code||g.code.trim()===""){et({variant:"destructive",title:"Error",description:"Coupon code is required"});return}if(!g.discount_value||g.discount_value<=0){et({variant:"destructive",title:"Error",description:"Discount value must be greater than 0"});return}if(g.discount_type==="percentage"&&g.discount_value>100){et({variant:"destructive",title:"Error",description:"Percentage discount cannot exceed 100%"});return}if(new Date(g.start_date)>new Date(g.expiry_date)){et({variant:"destructive",title:"Error",description:"Expiry date must be after start date"});return}if(g.applicable_to==="products"&&f.length===0){et({variant:"destructive",title:"Error",description:"Please select at least one product"});return}if(g.applicable_to==="categories"&&h.length===0){et({variant:"destructive",title:"Error",description:"Please select at least one category"});return}o(!0);try{await r({...g,store_id:n,selectedProducts:f,selectedCategories:h}),e()}finally{o(!1)}};return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsxs(ts,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(as,{children:s.jsx(is,{children:a?"Edit Coupon":"Create New Coupon"})}),s.jsxs(Wf,{defaultValue:"basic",className:"w-full",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4",children:[s.jsx(Un,{value:"basic",children:"Basic"}),s.jsx(Un,{value:"validity",children:"Validity"}),s.jsx(Un,{value:"targeting",children:"Targeting"}),s.jsx(Un,{value:"conditions",children:"Conditions"})]}),s.jsxs(zn,{value:"basic",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"code",children:"Coupon Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{id:"code",value:g.code||"",onChange:C=>v({...g,code:C.target.value.toUpperCase()}),placeholder:"SUMMER20"}),s.jsx(we,{variant:"outline",size:"icon",onClick:()=>v({...g,code:i4()}),children:s.jsx(No,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-generated or enter custom code (alphanumeric only)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Ii,{id:"description",placeholder:"Summer sale coupon - 20% off",value:g.description||"",onChange:C=>v({...g,description:C.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"discountType",children:"Discount Type"}),s.jsxs(zr,{value:g.discount_type,onValueChange:C=>v({...g,discount_type:C}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"flat",children:"Flat ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"discountValue",children:["Discount Value ",g.discount_type==="percentage"?"(%)":"()"]}),s.jsx(lt,{id:"discountValue",type:"number",min:"0",step:"0.01",value:g.discount_value||"",onChange:C=>v({...g,discount_value:parseFloat(C.target.value)||0})})]})]}),g.discount_type==="percentage"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"maxDiscount",children:"Maximum Discount Cap (Optional, )"}),s.jsx(lt,{id:"maxDiscount",type:"number",min:"0",step:"0.01",placeholder:"500",value:g.max_discount||"",onChange:C=>v({...g,max_discount:C.target.value?parseFloat(C.target.value):void 0})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum discount amount for percentage-based coupons"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"minOrderValue",children:"Minimum Order Value (Optional, )"}),s.jsx(lt,{id:"minOrderValue",type:"number",min:"0",step:"0.01",placeholder:"1000",value:g.min_order_value||"",onChange:C=>v({...g,min_order_value:C.target.value?parseFloat(C.target.value):void 0})})]})]}),s.jsxs(zn,{value:"validity",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"startDate",children:"Start Date"}),s.jsx(lt,{id:"startDate",type:"date",value:g.start_date||"",onChange:C=>v({...g,start_date:C.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(lt,{id:"expiryDate",type:"date",value:g.expiry_date||"",onChange:C=>v({...g,expiry_date:C.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"usageLimitTotal",children:"Total Usage Limit (Optional)"}),s.jsx(lt,{id:"usageLimitTotal",type:"number",min:"1",placeholder:"100",value:g.usage_limit_total||"",onChange:C=>v({...g,usage_limit_total:C.target.value?parseInt(C.target.value):void 0})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum times this coupon can be used in total"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"usageLimitPerCustomer",children:"Usage Limit Per Customer (Optional)"}),s.jsx(lt,{id:"usageLimitPerCustomer",type:"number",min:"1",placeholder:"1",value:g.usage_limit_per_customer||"",onChange:C=>v({...g,usage_limit_per_customer:C.target.value?parseInt(C.target.value):void 0})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum times a single customer can use this coupon"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"status",children:"Status"}),s.jsxs(zr,{value:g.status,onValueChange:C=>v({...g,status:C}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"active",children:"Active"}),s.jsx(ut,{value:"disabled",children:"Disabled"}),s.jsx(ut,{value:"expired",children:"Expired"})]})]})]})]}),s.jsxs(zn,{value:"targeting",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"applicableTo",children:"Applicable To"}),s.jsxs(zr,{value:g.applicable_to,onValueChange:C=>v({...g,applicable_to:C}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Products"}),s.jsx(ut,{value:"products",children:"Specific Products"}),s.jsx(ut,{value:"categories",children:"Specific Categories"})]})]})]}),g.applicable_to==="products"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Select Products"}),s.jsx("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:l.map(C=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ro,{id:`product-${C.id}`,checked:f.includes(C.id),onCheckedChange:A=>{m(A?[...f,C.id]:f.filter(R=>R!==C.id))}}),s.jsx(Be,{htmlFor:`product-${C.id}`,className:"cursor-pointer",children:C.name})]},C.id))})]}),g.applicable_to==="categories"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Select Categories"}),s.jsx("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:u.map(C=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ro,{id:`category-${C.id}`,checked:h.includes(C.id),onCheckedChange:A=>{x(A?[...h,C.id]:h.filter(R=>R!==C.id))}}),s.jsx(Be,{htmlFor:`category-${C.id}`,className:"cursor-pointer",children:C.name})]},C.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"customerType",children:"Customer Type"}),s.jsxs(zr,{value:g.customer_type,onValueChange:C=>v({...g,customer_type:C}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Customers"}),s.jsx(ut,{value:"new",children:"New Customers Only"}),s.jsx(ut,{value:"returning",children:"Returning Customers Only"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ro,{id:"isFirstOrder",checked:g.is_first_order,onCheckedChange:C=>v({...g,is_first_order:C})}),s.jsx(Be,{htmlFor:"isFirstOrder",className:"cursor-pointer",children:"First Order Only"})]})]}),s.jsxs(zn,{value:"conditions",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"orderType",children:"Order Type"}),s.jsxs(zr,{value:g.order_type,onValueChange:C=>v({...g,order_type:C}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Orders"}),s.jsx(ut,{value:"online",children:"Online Payment Only"}),s.jsx(ut,{value:"cod",children:"Cash on Delivery Only"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"font-medium text-sm",children:"Coupon Summary"}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsxs("li",{children:[" ",g.discount_type==="percentage"?"%":"",g.discount_value," discount",g.discount_type==="percentage"&&g.max_discount&&` (max ${g.max_discount})`]}),g.min_order_value&&s.jsxs("li",{children:[" Minimum order: ",g.min_order_value]}),s.jsxs("li",{children:[" Valid from ",g.start_date," to ",g.expiry_date]}),s.jsxs("li",{children:[" Applicable to: ",g.applicable_to]})]})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:e,disabled:i,children:"Cancel"}),s.jsx(we,{onClick:S,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):a?"Update Coupon":"Create Coupon"})]})]})})}function $ht({open:t,onClose:e,onSave:r,storeId:n,discountToEdit:a}){const[i,o]=j.useState(!1),[l,c]=j.useState([]),[u,d]=j.useState({rule_name:"",rule_description:"",rule_type:"tiered_value",order_type:"all",status:"active",start_date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]}),[f,m]=j.useState([]),[h,x]=j.useState([]);j.useEffect(()=>{t&&(g(),a?(d({rule_name:a.rule_name,rule_description:a.rule_description,rule_type:a.rule_type,order_type:a.order_type,status:a.status,start_date:a.start_date.split("T")[0],expiry_date:a.expiry_date.split("T")[0]}),v()):(d({rule_name:"",rule_description:"",rule_type:"tiered_value",order_type:"all",status:"active",start_date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]}),m([]),x([])))},[t,a]);const g=async()=>{try{const{data:A}=await ae.from("categories").select("id, name").eq("store_id",n).order("name");A&&c(A)}catch(A){console.error("Error loading categories:",A)}},v=async()=>{if(a)try{if(a.rule_type==="tiered_value"){const{data:A}=await ae.from("discount_tiers").select("*").eq("discount_id",a.id).order("tier_order");A&&m(A)}if(["new_customer","returning_customer","category","quantity"].includes(a.rule_type)){const{data:A}=await ae.from("discount_rules").select("*").eq("discount_id",a.id);A&&x(A)}}catch(A){console.error("Error loading tiers/rules:",A)}},b=async()=>{if(!u.rule_name||u.rule_name.trim()===""){et({variant:"destructive",title:"Error",description:"Rule name is required"});return}if(u.rule_type==="tiered_value"&&f.length===0){et({variant:"destructive",title:"Error",description:"Please add at least one tier"});return}if(["new_customer","returning_customer"].includes(u.rule_type||"")&&h.length===0){et({variant:"destructive",title:"Error",description:"Please set discount amount"});return}if(u.rule_type==="category"&&h.length===0){et({variant:"destructive",title:"Error",description:"Please select at least one category"});return}if(u.rule_type==="quantity"&&h.length===0){et({variant:"destructive",title:"Error",description:"Please set quantity and discount"});return}if(new Date(u.start_date)>new Date(u.expiry_date)){et({variant:"destructive",title:"Error",description:"Expiry date must be after start date"});return}o(!0);try{await r({...u,store_id:n,tiers:f,rules:h}),e()}finally{o(!1)}},_=()=>{const A={tier_order:f.length+1,discount_type:"percentage",discount_value:0};m([...f,A])},w=A=>{m(f.filter((R,O)=>O!==A))},N=(A,R,O)=>{const D=[...f];D[A][R]=O,m(D)},S=()=>{const A={rule_type:u.rule_type==="category"?"category_id":"min_quantity",rule_value:"",discount_type:"percentage",discount_value:0};x([...h,A])},C=(A,R,O)=>{const D=[...h];D[A][R]=O,x(D)};return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsxs(ts,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(as,{children:s.jsx(is,{children:a?"Edit Automatic Discount":"Create Automatic Discount"})}),s.jsxs(Wf,{defaultValue:"basic",className:"w-full",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4",children:[s.jsx(Un,{value:"basic",children:"Basic"}),s.jsx(Un,{value:"discount",children:"Discount"}),s.jsx(Un,{value:"payment",children:"Payment"}),s.jsx(Un,{value:"validity",children:"Validity"})]}),s.jsxs(zn,{value:"basic",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"ruleName",children:"Rule Name"}),s.jsx(lt,{id:"ruleName",value:u.rule_name||"",onChange:A=>d({...u,rule_name:A.target.value}),placeholder:"e.g., Order Volume Discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Ii,{id:"description",value:u.rule_description||"",onChange:A=>d({...u,rule_description:A.target.value}),placeholder:"Describe this discount rule",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"ruleType",children:"Discount Type"}),s.jsxs(zr,{value:u.rule_type,onValueChange:A=>{d({...u,rule_type:A}),m([]),x([])},children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"tiered_value",children:"Tiered by Order Value"}),s.jsx(ut,{value:"new_customer",children:"New Customer Discount"}),s.jsx(ut,{value:"returning_customer",children:"Returning Customer Bonus"}),s.jsx(ut,{value:"category",children:"Specific Category"}),s.jsx(ut,{value:"quantity",children:"Quantity Based"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose when this discount applies"})]})]}),s.jsxs(zn,{value:"discount",className:"space-y-4",children:[u.rule_type==="tiered_value"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Be,{children:"Discount Tiers"}),s.jsxs(we,{size:"sm",variant:"outline",onClick:_,children:[s.jsx(Yo,{className:"w-4 h-4 mr-1"}),"Add Tier"]})]}),f.map((A,R)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-3 relative",children:[s.jsx(we,{variant:"ghost",size:"icon",className:"absolute top-2 right-2",onClick:()=>w(R),children:s.jsx(so,{className:"w-4 h-4"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Minimum Order Value ()"}),s.jsx(lt,{type:"number",min:"0",step:"10",value:A.min_order_value||"",onChange:O=>N(R,"min_order_value",parseFloat(O.target.value)||void 0),placeholder:"500"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Type"}),s.jsxs(zr,{value:A.discount_type,onValueChange:O=>N(R,"discount_type",O),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"flat",children:"Flat ()"})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Value"}),s.jsx(lt,{type:"number",min:"0",step:"0.01",value:A.discount_value||"",onChange:O=>N(R,"discount_value",parseFloat(O.target.value)||0),placeholder:A.discount_type==="percentage"?"10":"100"})]})]})]},R))]}),["new_customer","returning_customer"].includes(u.rule_type||"")&&s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"p-4 border rounded-lg space-y-3",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Discount Type"}),s.jsxs(zr,{value:h[0]?.discount_type||"percentage",onValueChange:A=>C(0,"discount_type",A),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"flat",children:"Flat ()"})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Discount Value"}),s.jsx(lt,{type:"number",min:"0",step:"0.01",value:h[0]?.discount_value||"",onChange:A=>h.length===0?S():C(0,"discount_value",parseFloat(A.target.value)||0),placeholder:h[0]?.discount_type==="percentage"?"15":"200"})]})]})})}),u.rule_type==="category"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Be,{children:"Select Categories"}),s.jsx("div",{className:"border rounded-lg p-3 space-y-2 max-h-40 overflow-y-auto",children:l.map(A=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ro,{id:`cat-${A.id}`,checked:h.some(R=>R.rule_value===A.id),onCheckedChange:R=>{if(R){const O={rule_type:"category_id",rule_value:A.id,discount_type:"percentage",discount_value:5};x([...h,O])}else x(h.filter(O=>O.rule_value!==A.id))}}),s.jsx(Be,{htmlFor:`cat-${A.id}`,className:"cursor-pointer",children:A.name})]},A.id))}),h.length>0&&s.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[s.jsx(Be,{className:"text-sm",children:"Discount for Selected Categories"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(zr,{value:h[0]?.discount_type,onValueChange:A=>C(0,"discount_type",A),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"flat",children:"Flat ()"})]})]}),s.jsx(lt,{type:"number",min:"0",step:"0.01",value:h[0]?.discount_value||"",onChange:A=>C(0,"discount_value",parseFloat(A.target.value)||0)})]})]})]}),u.rule_type==="quantity"&&s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"p-4 border rounded-lg space-y-3",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Minimum Items"}),s.jsx(lt,{type:"number",min:"1",value:h[0]?.rule_value||"",onChange:A=>h.length===0?(()=>{const R={rule_type:"min_quantity",rule_value:A.target.value,discount_type:"percentage",discount_value:0};x([R])})():C(0,"rule_value",A.target.value),placeholder:"3"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Type"}),s.jsxs(zr,{value:h[0]?.discount_type||"percentage",onValueChange:A=>C(0,"discount_type",A),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"flat",children:"Flat ()"})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"text-xs",children:"Value"}),s.jsx(lt,{type:"number",min:"0",step:"0.01",value:h[0]?.discount_value||"",onChange:A=>C(0,"discount_value",parseFloat(A.target.value)||0),placeholder:"10"})]})]})})})]}),s.jsxs(zn,{value:"payment",className:"space-y-4",children:[s.jsx(Be,{children:"Apply To"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",id:"all",name:"order_type",value:"all",checked:u.order_type==="all",onChange:A=>d({...u,order_type:A.target.value}),className:"cursor-pointer"}),s.jsx(Be,{htmlFor:"all",className:"cursor-pointer",children:"All Payment Methods (Online & COD)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",id:"online",name:"order_type",value:"online",checked:u.order_type==="online",onChange:A=>d({...u,order_type:A.target.value}),className:"cursor-pointer"}),s.jsx(Be,{htmlFor:"online",className:"cursor-pointer",children:"Online Payment Only (Razorpay, PhonePe)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",id:"cod",name:"order_type",value:"cod",checked:u.order_type==="cod",onChange:A=>d({...u,order_type:A.target.value}),className:"cursor-pointer"}),s.jsx(Be,{htmlFor:"cod",className:"cursor-pointer",children:"Cash on Delivery Only"})]})]})]}),s.jsxs(zn,{value:"validity",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"startDate",children:"Start Date"}),s.jsx(lt,{id:"startDate",type:"date",value:u.start_date||"",onChange:A=>d({...u,start_date:A.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(lt,{id:"expiryDate",type:"date",value:u.expiry_date||"",onChange:A=>d({...u,expiry_date:A.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"status",children:"Status"}),s.jsxs(zr,{value:u.status,onValueChange:A=>d({...u,status:A}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"active",children:"Active"}),s.jsx(ut,{value:"disabled",children:"Disabled"})]})]})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:e,disabled:i,children:"Cancel"}),s.jsx(we,{onClick:b,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):a?"Update Discount":"Create Discount"})]})]})})}function Bht({couponCode:t,couponId:e,open:r,onClose:n}){const[a,i]=j.useState([]),[o,l]=j.useState(!1);j.useEffect(()=>{r&&e&&c()},[r,e]);const c=async()=>{l(!0);try{const d=await Eht(e);i(d)}catch(d){console.error("Error loading usage details:",d),i([])}finally{l(!1)}},u=d=>new Date(d).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsx(ss,{open:r,onOpenChange:n,children:s.jsxs(ts,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(as,{children:s.jsxs(is,{children:["Coupon Usage - ",t]})}),o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})}):a.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No usage records for this coupon yet"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Order #"}),s.jsx(At,{children:"Customer Phone"}),s.jsx(At,{children:"Customer Email"}),s.jsx(At,{children:"Discount Applied"}),s.jsx(At,{children:"Used At"})]})}),s.jsx(Qa,{children:a.map(d=>s.jsxs(rn,{children:[s.jsx(_t,{className:"font-medium",children:d.order_number||"-"}),s.jsx(_t,{className:"text-sm",children:d.customer_phone||"-"}),s.jsx(_t,{className:"text-sm",children:d.customer_email||"-"}),s.jsxs(_t,{className:"text-sm",children:["",d.discount_applied.toFixed(2)]}),s.jsx(_t,{className:"text-sm",children:u(d.used_at)})]},d.id))})]})})]})})}const zre=()=>{const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(""),[l,c]=j.useState(!0),[u,d]=j.useState([]),[f,m]=j.useState([]),[h,x]=j.useState(""),[g,v]=j.useState("all"),[b,_]=j.useState(1),[w,N]=j.useState({}),[S,C]=j.useState({totalCoupons:0,activeCoupons:0,totalUsage:0,totalDiscountGiven:0}),[A,R]=j.useState(!1),[O,D]=j.useState(null),[P,E]=j.useState(!1),[I,M]=j.useState(null),[U,W]=j.useState([]),[Y,J]=j.useState([]),[z,q]=j.useState(""),[V,L]=j.useState("all"),[X,K]=j.useState(1),[Q,oe]=j.useState({totalRules:0,activeRules:0}),[ce,de]=j.useState(!1),[ne,ue]=j.useState(null),se=10;j.useEffect(()=>{Z()},[]),j.useEffect(()=>{i&&(re(),le(),ye(),qe())},[i]),j.useEffect(()=>{We()},[u,h,g]),j.useEffect(()=>{Qe()},[U,z,V]);const Z=async()=>{try{const{data:{session:Ue}}=await ae.auth.getSession();if(!Ue){t("/auth");return}const{data:Ke}=await ae.from("stores").select("id").eq("user_id",Ue.user.id).maybeSingle();Ke&&o(Ke.id)}catch(Ue){console.error("Error loading store data:",Ue)}finally{r(!1)}},Oe=async Ue=>{try{const Ke={};for(const at of Ue){const St=await Cht(at);Ke[at]=St}N(Ke)}catch(Ke){console.error("Error loading coupon usage counts:",Ke)}},re=async()=>{try{const{data:Ue,error:Ke}=await ae.from("coupons").select("*").eq("store_id",i).order("created_at",{ascending:!1});if(Ke)throw Ke;d(Ue||[]),Ue&&Ue.length>0&&await Oe(Ue.map(at=>at.id))}catch(Ue){et({variant:"destructive",title:"Error",description:Ue.message||"Failed to load coupons"})}},le=async()=>{try{const Ue=await Aht(i);C(Ue)}catch(Ue){console.error("Error loading coupon stats:",Ue)}},We=()=>{let Ue=u.filter(Ke=>{const at=Ke.code.toLowerCase().includes(h.toLowerCase())||(Ke.description||"").toLowerCase().includes(h.toLowerCase()),St=g==="all"||Ke.status===g;return at&&St});m(Ue),_(1)},xe=async Ue=>{a(!0);try{const{selectedProducts:Ke,selectedCategories:at,...St}=Ue;if(O){const{error:qt}=await ae.from("coupons").update(St).eq("id",O.id);if(qt)throw qt;await ae.from("coupon_products").delete().eq("coupon_id",O.id),await ae.from("coupon_categories").delete().eq("coupon_id",O.id),Ke?.length>0&&await ae.from("coupon_products").insert(Ke.map(Ut=>({coupon_id:O.id,product_id:Ut,is_excluded:!1}))),at?.length>0&&await ae.from("coupon_categories").insert(at.map(Ut=>({coupon_id:O.id,category_id:Ut}))),et({title:"Coupon Updated",description:"Coupon has been updated successfully"})}else{const{data:qt,error:Ut}=await ae.from("coupons").insert(St).select().single();if(Ut)throw Ut;Ke?.length>0&&await ae.from("coupon_products").insert(Ke.map(Qt=>({coupon_id:qt.id,product_id:Qt,is_excluded:!1}))),at?.length>0&&await ae.from("coupon_categories").insert(at.map(Qt=>({coupon_id:qt.id,category_id:Qt}))),et({title:"Coupon Created",description:`Coupon "${qt.code}" has been created successfully`})}D(null),await re(),await le()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to save coupon"})}finally{a(!1)}},Le=async Ue=>{if(confirm("Are you sure you want to delete this coupon?"))try{const{error:Ke}=await ae.from("coupons").delete().eq("id",Ue);if(Ke)throw Ke;et({title:"Coupon Deleted",description:"Coupon has been deleted successfully"}),await re(),await le()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to delete coupon"})}},ke=async Ue=>{try{const Ke=i4(),{error:at}=await ae.from("coupons").insert({...Ue,id:void 0,code:Ke,created_at:void 0,updated_at:void 0});if(at)throw at;et({title:"Coupon Duplicated",description:`New coupon created with code "${Ke}"`}),await re()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to duplicate coupon"})}},fe=async Ue=>{try{const Ke=Ue.status==="active"?"disabled":"active",{error:at}=await ae.from("coupons").update({status:Ke}).eq("id",Ue.id);if(at)throw at;et({title:"Coupon Updated",description:`Coupon has been ${Ke}`}),await re()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to update coupon"})}},ye=async()=>{try{const{data:Ue,error:Ke}=await ae.from("automatic_discounts").select("*").eq("store_id",i).order("created_at",{ascending:!1});if(Ke)throw Ke;W(Ue||[])}catch(Ue){et({variant:"destructive",title:"Error",description:Ue.message||"Failed to load auto-discounts"})}},qe=async()=>{try{const Ue=await Pht(i);oe(Ue)}catch(Ue){console.error("Error loading auto-discount stats:",Ue)}},Qe=()=>{let Ue=U.filter(Ke=>{const at=Ke.rule_name.toLowerCase().includes(z.toLowerCase())||(Ke.rule_description||"").toLowerCase().includes(z.toLowerCase()),St=V==="all"||Ke.status===V;return at&&St});J(Ue),K(1)},ct=async Ue=>{a(!0);try{const{tiers:Ke,rules:at,...St}=Ue;if(ne){const{error:qt}=await ae.from("automatic_discounts").update(St).eq("id",ne.id);if(qt)throw qt;St.rule_type==="tiered_value"&&(await ae.from("discount_tiers").delete().eq("discount_id",ne.id),Ke?.length>0&&await ae.from("discount_tiers").insert(Ke.map(Ut=>({discount_id:ne.id,tier_order:Ut.tier_order,min_order_value:Ut.min_order_value,discount_type:Ut.discount_type,discount_value:Ut.discount_value})))),await ae.from("discount_rules").delete().eq("discount_id",ne.id),at?.length>0&&await ae.from("discount_rules").insert(at.map(Ut=>({discount_id:ne.id,rule_type:Ut.rule_type,rule_value:Ut.rule_value,discount_type:Ut.discount_type,discount_value:Ut.discount_value}))),et({title:"Auto-Discount Updated",description:"Automatic discount has been updated successfully"})}else{const{data:qt,error:Ut}=await ae.from("automatic_discounts").insert(St).select().single();if(Ut)throw Ut;St.rule_type==="tiered_value"&&Ke?.length>0&&await ae.from("discount_tiers").insert(Ke.map(Qt=>({discount_id:qt.id,tier_order:Qt.tier_order,min_order_value:Qt.min_order_value,discount_type:Qt.discount_type,discount_value:Qt.discount_value}))),at?.length>0&&await ae.from("discount_rules").insert(at.map(Qt=>({discount_id:qt.id,rule_type:Qt.rule_type,rule_value:Qt.rule_value,discount_type:Qt.discount_type,discount_value:Qt.discount_value}))),et({title:"Auto-Discount Created",description:`Discount "${qt.rule_name}" has been created successfully`})}ue(null),await ye(),await qe()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to save auto-discount"})}finally{a(!1)}},Ye=async Ue=>{if(confirm("Are you sure you want to delete this discount?"))try{const{error:Ke}=await ae.from("automatic_discounts").delete().eq("id",Ue);if(Ke)throw Ke;et({title:"Auto-Discount Deleted",description:"Automatic discount has been deleted successfully"}),await ye(),await qe()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to delete auto-discount"})}},me=async Ue=>{try{const{error:Ke}=await ae.from("automatic_discounts").insert({...Ue,id:void 0,rule_name:`${Ue.rule_name} (Copy)`,created_at:void 0,updated_at:void 0});if(Ke)throw Ke;et({title:"Auto-Discount Duplicated",description:`New discount created: "${Ue.rule_name} (Copy)"`}),await ye()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to duplicate auto-discount"})}},Se=async Ue=>{try{const Ke=Ue.status==="active"?"disabled":"active",{error:at}=await ae.from("automatic_discounts").update({status:Ke}).eq("id",Ue.id);if(at)throw at;et({title:"Auto-Discount Updated",description:`Discount has been ${Ke}`}),await ye()}catch(Ke){et({variant:"destructive",title:"Error",description:Ke.message||"Failed to update auto-discount"})}},_e=Ue=>{switch(Ue){case"active":return"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-400";case"disabled":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400";case"expired":return"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}},Je=Ue=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Ue),tt=Ue=>{switch(Ue){case"tiered_value":return"Tiered by Value";case"new_customer":return"New Customer";case"returning_customer":return"Returning Customer";case"category":return"Category";case"quantity":return"Quantity";default:return Ue}},Ve=Ue=>{switch(Ue){case"all":return"All Methods";case"online":return"Online";case"cod":return"COD";default:return Ue}};if(e)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})});const Me=f.slice((b-1)*se,b*se),ht=Math.ceil(f.length/se),Ce=Y.slice((X-1)*se,X*se),st=Math.ceil(Y.length/se);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 border-l-4 border-orange-500 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(_o,{className:"w-6 h-6 text-orange-600 dark:text-orange-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-200 mb-1",children:"Important Notice"}),s.jsx("p",{className:"text-orange-800 dark:text-orange-300 text-sm leading-relaxed",children:"Before confirming every order, please verify the product amount and any revenue loss due to discounts and coupons. The platform will not be responsible for losses caused by discounts/coupons. Check every discount/coupon applied order properly."})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(b1,{className:"w-6 h-6"}),"Discounts & Coupons"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:l?"Manage coupon codes for your store":"Create automatic discount rules"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex gap-1 bg-muted p-1 rounded-lg border",children:[s.jsxs(we,{variant:l?"default":"ghost",size:"sm",onClick:()=>c(!0),className:"gap-1",children:[s.jsx(b1,{className:"w-4 h-4"}),"Coupons"]}),s.jsxs(we,{variant:l?"ghost":"default",size:"sm",onClick:()=>c(!1),className:"gap-1",children:[s.jsx($l,{className:"w-4 h-4"}),"Discounts"]})]}),s.jsxs(we,{onClick:()=>{l?(D(null),R(!0)):(ue(null),de(!0))},children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),l?"Create Coupon":"Create Discount"]})]})]}),l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsxs(Nt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(b1,{className:"w-4 h-4"}),"Total Coupons"]})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold",children:S.totalCoupons})})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsxs(Nt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(o4,{className:"w-4 h-4"}),"Active Coupons"]})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:S.activeCoupons})})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsxs(Nt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(ov,{className:"w-4 h-4"}),"Total Usage"]})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold",children:S.totalUsage})})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsxs(Nt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(iwe,{className:"w-4 h-4"}),"Total Discount Given"]})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold text-white",children:Je(S.totalDiscountGiven)})})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Filter & Search"})}),s.jsx(Xe,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Vl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(lt,{placeholder:"Search by code or description...",value:h,onChange:Ue=>x(Ue.target.value),className:"pl-8"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(zr,{value:g,onValueChange:v,children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"active",children:"Active"}),s.jsx(ut,{value:"disabled",children:"Disabled"}),s.jsx(ut,{value:"expired",children:"Expired"})]})]})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Coupons"})}),s.jsx(Xe,{children:f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(b1,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No coupons found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Code"}),s.jsx(At,{children:"Discount"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Valid Until"}),s.jsx(At,{children:"Usage"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:Me.map(Ue=>s.jsxs(rn,{children:[s.jsx(_t,{className:"font-medium",children:Ue.code}),s.jsxs(_t,{children:[Ue.discount_type==="percentage"?`${Ue.discount_value}%`:`${Ue.discount_value}`,Ue.max_discount&&Ue.discount_type==="percentage"&&s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(max ",Ue.max_discount,")"]})]}),s.jsx(_t,{children:s.jsx(er,{className:_e(Ue.status),children:Ue.status})}),s.jsx(_t,{className:"text-sm",children:new Date(Ue.expiry_date).toLocaleDateString()}),s.jsx(_t,{className:"text-sm",children:Ue.usage_limit_total?`${w[Ue.id]||0}/${Ue.usage_limit_total}`:"Unlimited"}),s.jsx(_t,{className:"text-right",children:s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsx(we,{variant:"ghost",size:"icon",children:s.jsx($z,{className:"w-4 h-4"})})}),s.jsxs(Md,{align:"end",children:[s.jsxs(es,{onClick:()=>{D(Ue),R(!0)},children:[s.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs(es,{onClick:()=>{M(Ue),E(!0)},children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),"View Usage"]}),s.jsxs(es,{onClick:()=>ke(Ue),children:[s.jsx(Cu,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),s.jsxs(es,{onClick:()=>fe(Ue),children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),Ue.status==="active"?"Disable":"Enable"]}),s.jsxs(es,{onClick:()=>Le(Ue.id),className:"text-destructive",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},Ue.id))})]})}),ht>1&&s.jsx("div",{className:"mt-6",children:s.jsx(yj,{children:s.jsxs(bj,{children:[b>1&&s.jsx(ju,{children:s.jsx(wj,{onClick:()=>_(b-1)})}),Array.from({length:ht},(Ue,Ke)=>Ke+1).map(Ue=>s.jsx(ju,{children:s.jsx(vv,{onClick:()=>_(Ue),isActive:b===Ue,children:Ue})},Ue)),b<ht&&s.jsx(ju,{children:s.jsx(_j,{onClick:()=>_(b+1)})})]})})})]})})]})]}),!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsxs(Nt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx($l,{className:"w-4 h-4"}),"Total Rules"]})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold",children:Q.totalRules})})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsxs(Nt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(o4,{className:"w-4 h-4"}),"Active Rules"]})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Q.activeRules})})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Filter & Search"})}),s.jsx(Xe,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Vl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(lt,{placeholder:"Search by rule name or description...",value:z,onChange:Ue=>q(Ue.target.value),className:"pl-8"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(zr,{value:V,onValueChange:L,children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"active",children:"Active"}),s.jsx(ut,{value:"disabled",children:"Disabled"})]})]})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Automatic Discount Rules"})}),s.jsx(Xe,{children:Y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($l,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No discount rules found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Rule Name"}),s.jsx(At,{children:"Type"}),s.jsx(At,{children:"Payment"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Valid Until"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:Ce.map(Ue=>s.jsxs(rn,{children:[s.jsx(_t,{className:"font-medium",children:Ue.rule_name}),s.jsx(_t,{className:"text-sm",children:tt(Ue.rule_type)}),s.jsx(_t,{className:"text-sm",children:Ve(Ue.order_type)}),s.jsx(_t,{children:s.jsx(er,{className:_e(Ue.status),children:Ue.status})}),s.jsx(_t,{className:"text-sm",children:new Date(Ue.expiry_date).toLocaleDateString()}),s.jsx(_t,{className:"text-right",children:s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsx(we,{variant:"ghost",size:"icon",children:s.jsx($z,{className:"w-4 h-4"})})}),s.jsxs(Md,{align:"end",children:[s.jsxs(es,{onClick:()=>{ue(Ue),de(!0)},children:[s.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs(es,{onClick:()=>me(Ue),children:[s.jsx(Cu,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),s.jsxs(es,{onClick:()=>Se(Ue),children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),Ue.status==="active"?"Disable":"Enable"]}),s.jsxs(es,{onClick:()=>Ye(Ue.id),className:"text-destructive",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},Ue.id))})]})}),st>1&&s.jsx("div",{className:"mt-6",children:s.jsx(yj,{children:s.jsxs(bj,{children:[X>1&&s.jsx(ju,{children:s.jsx(wj,{onClick:()=>K(X-1)})}),Array.from({length:st},(Ue,Ke)=>Ke+1).map(Ue=>s.jsx(ju,{children:s.jsx(vv,{onClick:()=>K(Ue),isActive:X===Ue,children:Ue})},Ue)),X<st&&s.jsx(ju,{children:s.jsx(_j,{onClick:()=>K(X+1)})})]})})})]})})]})]})]}),s.jsx(Lht,{open:A,onClose:()=>{R(!1),D(null)},onSave:xe,storeId:i,couponToEdit:O}),s.jsx($ht,{open:ce,onClose:()=>{de(!1),ue(null)},onSave:ct,storeId:i,discountToEdit:ne}),s.jsx(Bht,{couponCode:I?.code||"",couponId:I?.id||"",open:P,onClose:()=>{E(!1),M(null)}})]})},uve=()=>new Promise(t=>{if(window.Razorpay){t(!0);return}const e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!1,e.onload=()=>t(!0),e.onerror=()=>t(!1),document.head.appendChild(e)}),Uht=async(t,e,r)=>{try{const{data:n,error:a}=await ae.functions.invoke("create-razorpay-order",{body:{amount:Math.round(t*100),currency:e,storeId:r}});if(a)throw a;return!n.orderId||!n.orderId.startsWith("order_")?(console.error("Invalid Razorpay order ID:",n.orderId),{orderId:"",error:"Invalid order ID format"}):(console.log(" Razorpay order created:",n.orderId),{orderId:n.orderId})}catch(n){return console.error("Error creating Razorpay order:",n),{orderId:"",error:n.message||"Failed to create order"}}},zht=async(t,e,r)=>{try{if(!await uve())return{success:!1,error:"Failed to load Razorpay SDK"};if(!t.orderId||!t.orderId.startsWith("order_"))return console.error("CRITICAL ERROR: Invalid Razorpay Order ID format:",t.orderId),{success:!1,error:"Invalid Order ID. Please try again."};console.log(" Opening Razorpay with order_id:",t.orderId);const a={key:e.key_id,amount:Math.round(t.amount*100),currency:t.currency,name:"Your Store Name",description:`Order #${t.orderNumber}`,order_id:String(t.orderId),prefill:{name:t.customerName,email:t.customerEmail||"",contact:t.customerPhone},theme:{color:"#3b82f6"},handler:function(o){console.log(" Razorpay handler response:",o),console.log("razorpay_payment_id:",o.razorpay_payment_id),console.log("razorpay_order_id:",o.razorpay_order_id),console.log("razorpay_signature:",o.razorpay_signature),r.onSuccess(o)},modal:{ondismiss:function(){r.onDismiss&&r.onDismiss()}}},i=new window.Razorpay(a);return i.on("payment.failed",function(o){r.onFailure({code:o.error.code,description:o.error.description,reason:o.error.reason})}),i.open(),{success:!0}}catch(n){return console.error("Razorpay checkout error:",n),{success:!1,error:n.message||"Payment failed"}}},qht=async(t,e,r,n)=>{try{const{data:a,error:i}=await ae.functions.invoke("verify-razorpay-payment",{body:{razorpay_order_id:t,razorpay_payment_id:e,razorpay_signature:r,storeId:n}});if(i)throw i;return{verified:a.verified}}catch(a){return console.error("Error verifying Razorpay payment:",a),{verified:!1,error:a.message}}},dve=t=>{if(t.is_free)return[];const e=[],r=t.pricing_model||"onetime";return(r==="onetime"||r==="mixed")&&e.push({type:"onetime",price:t.price_onetime||t.price,quota:t.quota_onetime||15,label:"One-time Purchase",description:`${t.quota_onetime||15} API calls per month, lifetime access`}),(r==="monthly"||r==="mixed")&&e.push({type:"monthly",price:t.price_monthly||0,quota:t.quota_monthly||30,label:"Monthly Subscription",description:`${t.quota_monthly||30} API calls per month, auto-renew`}),(r==="yearly"||r==="mixed")&&e.push({type:"yearly",price:t.price_yearly||0,quota:t.quota_yearly||50,label:"Yearly Subscription",description:`${t.quota_yearly||50} API calls per month, billed annually`}),e},fve=async(t,e)=>{try{const{data:r,error:n}=await ae.from("marketplace_purchases").select("*").eq("store_id",t).eq("feature_slug",e).eq("status","active").maybeSingle();if(n)throw n;return{purchased:!!r,purchase:r}}catch(r){return console.error("Error checking existing purchase:",r),{purchased:!1}}},Vht=async(t,e,r,n,a)=>{try{const o=dve(t).find(f=>f.type===e);if(!o)return{success:!1,error:"Invalid pricing option"};const{purchased:l}=await fve(r,t.slug);if(l)return{success:!1,error:"Feature already purchased"};if(!await uve())return{success:!1,error:"Failed to load payment gateway"};console.log(" Calling marketplace-payment edge function with:",{action:"create_order",feature_slug:t.slug,pricing_type:e,store_id:r,user_id:n});const{data:u,error:d}=await ae.functions.invoke("marketplace-payment",{body:{action:"create_order",feature_slug:t.slug,pricing_type:e,store_id:r,user_id:n}});return console.log(" Edge function response:",{orderData:u,orderError:d}),d||!u?.success?(console.error(" Edge function error:",d),console.error(" Order data:",u),{success:!1,error:u?.error||d?.message||"Failed to create payment order"}):new Promise(f=>{const m={key:u.key_id,amount:u.amount,currency:u.currency,name:"Marketplace",description:`${t.name} - ${o.label}`,order_id:u.order_id,prefill:{name:a.name,email:a.email,contact:a.phone},theme:{color:"#3B82F6"},handler:async function(x){try{const{data:g,error:v}=await ae.functions.invoke("marketplace-payment",{body:{action:"verify_payment",razorpay_order_id:x.razorpay_order_id,razorpay_payment_id:x.razorpay_payment_id,razorpay_signature:x.razorpay_signature,feature_slug:t.slug,pricing_type:e,store_id:r,user_id:n}});if(v||!g?.success){f({success:!1,error:g?.error||v?.message||"Payment verification failed"});return}f({success:!0,purchase:g.purchase})}catch(g){f({success:!1,error:g.message||"Payment processing failed"})}},modal:{ondismiss:function(){f({success:!1,error:"Payment cancelled by user"})}}},h=new window.Razorpay(m);h.on("payment.failed",function(x){f({success:!1,error:x.error.description||"Payment failed"})}),h.open()})}catch(i){return console.error("Purchase error:",i),{success:!1,error:i.message||"Failed to process purchase"}}},Wht=async(t,e,r)=>{try{const n=[...r,e],{error:a}=await ae.from("stores").update({enabled_features:n}).eq("id",t);if(a)throw a;return{success:!0}}catch(n){return console.error("Error enabling free feature:",n),{success:!1,error:n.message||"Failed to enable feature"}}},Hht=({open:t,onOpenChange:e,feature:r,storeId:n,userId:a,customerDetails:i,onSuccess:o})=>{const{toast:l}=ga(),[c,u]=j.useState(null),[d,f]=j.useState(!1),m=dve(r),h=async()=>{if(!c){l({title:"Select a plan",description:"Please select a pricing option to continue",variant:"destructive"});return}f(!0);try{const v=await Vht(r,c,n,a,i);v.success?(l({title:"Purchase Successful!",description:`${r.name} has been added to your account`}),o(),e(!1)):l({title:"Purchase Failed",description:v.error||"Unable to complete purchase",variant:"destructive"})}catch(v){l({title:"Error",description:v.message||"An unexpected error occurred",variant:"destructive"})}finally{f(!1)}},x=v=>{switch(v){case"onetime":return s.jsx(EA,{className:"h-5 w-5"});case"monthly":return s.jsx(Uu,{className:"h-5 w-5"});case"yearly":return s.jsx(Ks,{className:"h-5 w-5"})}},g=v=>v==="yearly"?s.jsx(er,{variant:"secondary",className:"ml-2 bg-green-100 text-green-700",children:"Best Value"}):v==="onetime"?s.jsx(er,{variant:"secondary",className:"ml-2",children:"Lifetime"}):null;return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsxs(ts,{className:"sm:max-w-[600px]",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"text-2xl",children:["Purchase ",r.name]}),s.jsx(ja,{className:"text-base",children:r.description})]}),s.jsx("div",{className:"space-y-4 py-4",children:m.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No pricing options available"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3",children:m.map(v=>s.jsx(He,{className:`cursor-pointer transition-all ${c===v.type?"border-primary border-2 shadow-md":"border hover:border-primary/50"}`,onClick:()=>u(v.type),children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:`p-2 rounded-lg ${c===v.type?"bg-primary text-primary-foreground":"bg-muted"}`,children:x(v.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-base",children:v.label}),g(v.type)]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsxs("span",{className:"text-2xl font-bold",children:["",v.price]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:v.type==="onetime"?"one-time":v.type==="monthly"?"/month":"/year"})]})]})]}),s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${c===v.type?"border-primary bg-primary":"border-muted-foreground"}`,children:c===v.type&&s.jsx(On,{className:"h-3 w-3 text-primary-foreground"})})]})})},v.type))}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"What's included:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(On,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("span",{children:["Full access to ",r.name]})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(On,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Priority support"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(On,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Regular updates and improvements"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(On,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Secure payment via Razorpay"})]})]})]})]})}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[s.jsx(we,{variant:"outline",onClick:()=>e(!1),disabled:d,children:"Cancel"}),s.jsx(we,{onClick:h,disabled:!c||d,className:"min-w-[120px]",children:d?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]})]})})},Ght=t=>({Truck:Of,BarChart3:ov,MessageSquare:IN,Mail:Mf,Target:AA,Package:aa})[t]||aa,_5=t=>({shipping:"/admin/shipping",analytics:"/admin/analytics","live-chat":"/admin/live-chat","email-marketing":"/admin/email-marketing",ads:"/admin/ads"})[t]||`/admin/${t}`,qre=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState(!0),[c,u]=j.useState(null),[d,f]=j.useState(null),[m,h]=j.useState([]),[x,g]=j.useState(""),[v,b]=j.useState("all"),[_,w]=j.useState(!1),[N,S]=j.useState(null),[C,A]=j.useState(null),[R,O]=j.useState({name:"",email:"",phone:""});j.useEffect(()=>{D(),P()},[]);const D=async()=>{try{const{data:{session:J}}=await ae.auth.getSession();if(!J)return;A(J.user.id);const{data:z,error:q}=await ae.from("stores").select("id, enabled_features").eq("user_id",J.user.id).single();if(q)throw q;z&&(n({id:z.id,enabled_features:z.enabled_features||[]}),h(z.enabled_features||[]));const{data:V}=await ae.from("profiles").select("full_name, email, phone").eq("user_id",J.user.id).maybeSingle();O(V?{name:V.full_name||J.user.email||"",email:V.email||J.user.email||"",phone:V.phone||""}:{name:J.user.email||"",email:J.user.email||"",phone:""})}catch(J){console.error("Failed to fetch store data:",J)}},P=async()=>{try{const{data:J,error:z}=await ae.from("marketplace_features").select("*").eq("is_active",!0).order("menu_order");if(z)throw z;i(J||[])}catch{e({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{l(!1)}},E=J=>m.includes(J),I=j.useMemo(()=>a.filter(J=>{const z=x===""||J.name.toLowerCase().includes(x.toLowerCase())||J.description?.toLowerCase().includes(x.toLowerCase());let q=!0;switch(v){case"free":q=J.is_free;break;case"paid":q=!J.is_free;break;case"added":q=m.includes(J.slug);break;default:q=!0}return z&&q}),[a,x,v,m]),M=[{value:"all",label:"All"},{value:"free",label:"Free"},{value:"paid",label:"Paid"},{value:"added",label:"Added"}],U=async J=>{if(m.includes(J.slug)){t(_5(J.slug));return}if(!r){e({title:"Error",description:"Store data not found",variant:"destructive"});return}u(J.slug);try{if(J.is_free){const q=await Wht(r.id,J.slug,m);if(q.success){const V=[...m,J.slug];h(V),n({...r,enabled_features:V}),e({title:"Feature Added",description:`${J.name} has been added to your store`}),t(_5(J.slug))}else throw new Error(q.error)}else{const{purchased:q}=await fve(r.id,J.slug);if(q){const V=[...m,J.slug],{error:L}=await ae.from("stores").update({enabled_features:V}).eq("id",r.id);if(L)throw L;h(V),n({...r,enabled_features:V}),e({title:"Feature Enabled",description:`${J.name} has been enabled`}),t(_5(J.slug))}else S(J),w(!0)}}catch(q){console.error("Failed to add feature:",q),e({title:"Error",description:q.message||"Failed to add feature. Please try again.",variant:"destructive"})}finally{u(null)}},W=async(J,z)=>{if(z.stopPropagation(),!r){e({title:"Error",description:"Store data not found",variant:"destructive"});return}f(J.slug);try{const q=m.filter(L=>L!==J.slug),{error:V}=await ae.from("stores").update({enabled_features:q}).eq("id",r.id);if(V)throw V;h(q),n({...r,enabled_features:q}),e({title:"Feature Removed",description:`${J.name} has been removed from your store`})}catch(q){console.error("Failed to remove feature:",q),e({title:"Error",description:"Failed to remove feature. Please try again.",variant:"destructive"})}finally{f(null)}},Y=async()=>{if(!(!N||!r))try{const J=[...m,N.slug],{error:z}=await ae.from("stores").update({enabled_features:J}).eq("id",r.id);if(z)throw z;h(J),n({...r,enabled_features:J}),t(_5(N.slug))}catch(J){console.error("Failed to enable feature after payment:",J),e({title:"Warning",description:"Payment successful but failed to enable feature. Please contact support.",variant:"destructive"})}};return o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Marketplace"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover and add features to enhance your store"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(lt,{placeholder:"Search features...",value:x,onChange:J=>g(J.target.value),className:"pl-9"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:M.map(J=>s.jsx(we,{variant:v===J.value?"default":"outline",size:"sm",onClick:()=>b(J.value),children:J.label},J.value))})]}),I.length===0?s.jsx(He,{children:s.jsxs(Xe,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(aa,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:x||v!=="all"?"No matching features":"No features available"}),s.jsx("p",{className:"text-muted-foreground",children:x||v!=="all"?"Try adjusting your search or filter":"Check back later for new features"}),(x||v!=="all")&&s.jsx(we,{variant:"outline",className:"mt-4",onClick:()=>{g(""),b("all")},children:"Clear filters"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(J=>{const z=Ght(J.icon),q=E(J.slug);return s.jsxs(He,{className:`transition-all duration-200 hover:shadow-lg ${q?"border-primary/50":""}`,children:[s.jsx(jt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:`p-3 rounded-xl ${q?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(z,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[q&&s.jsxs(er,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Added"]}),J.is_free?s.jsx(er,{variant:"secondary",children:"Free"}):s.jsxs(er,{children:["",J.price]})]})]})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Nt,{className:"text-lg mb-1",children:J.name}),s.jsx(hn,{className:"line-clamp-2",children:J.description})]}),q?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{className:"flex-1",onClick:()=>U(J),variant:"outline",children:["Configure",s.jsx(eo,{className:"h-4 w-4 ml-2"})]}),s.jsx(we,{variant:"destructive",size:"icon",onClick:V=>W(J,V),disabled:d===J.slug,children:d===J.slug?s.jsx(pr,{className:"h-4 w-4 animate-spin"}):s.jsx(Ds,{className:"h-4 w-4"})})]}):s.jsx(we,{onClick:()=>U(J),className:"w-full",disabled:c===J.slug,children:c===J.slug?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Add Feature"]})})]})]},J.id)})}),s.jsx(He,{className:"bg-muted/50",children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(aa,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"How Marketplace Works"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Add Feature" to add it to your store. Free features are added instantly. Paid features require payment before activation.'})]})]})})}),N&&r&&C&&s.jsx(Hht,{open:_,onOpenChange:w,feature:N,storeId:r.id,userId:C,customerDetails:R,onSuccess:Y})]})},Vre=()=>{const{toast:t}=ga(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,m]=j.useState([]),[h,x]=j.useState(null),[g,v]=j.useState(!1),[b,_]=j.useState(!1),[w,N]=j.useState({email:"",password:""}),[S,C]=j.useState({length:10,breadth:10,height:10,weight:.5});j.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:{session:I}}=await ae.auth.getSession();if(!I)return;const{data:M}=await ae.from("stores").select("id, shiprocket_email, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",I.user.id).single();if(M){if(x(M.id),v(M.shipping_popup_enabled||!1),M.shiprocket_email&&N(U=>({...U,email:M.shiprocket_email})),M.shiprocket_token){c(!0);const U=await Q5(M.shiprocket_token);U.success&&U.locations&&m(U.locations)}M.package_length&&C(U=>({...U,length:M.package_length})),M.package_breadth&&C(U=>({...U,breadth:M.package_breadth})),M.package_height&&C(U=>({...U,height:M.package_height})),M.package_weight&&C(U=>({...U,weight:M.package_weight}))}}catch(I){console.error("Error loading shipping settings:",I)}finally{r(!1)}},R=async()=>{if(!w.email||!w.password){t({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}o(!0);try{const I=await mY(w.email,w.password);if(I.success&&I.token){t({title:"Connection Successful",description:"Shiprocket credentials are valid"});const M=await Q5(I.token);M.success&&M.locations&&m(M.locations)}else t({title:"Connection Failed",description:I.error||"Invalid credentials",variant:"destructive"})}catch(I){t({title:"Error",description:I.message||"Failed to test connection",variant:"destructive"})}finally{o(!1)}},O=async()=>{if(!w.email||!w.password){t({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}a(!0);try{const I=await mY(w.email,w.password);if(I.success&&I.token){const{error:M}=await ae.from("stores").update({shiprocket_email:w.email,shiprocket_token:I.token}).eq("id",h);if(M)throw M;c(!0);const U=await Q5(I.token);U.success&&U.locations&&m(U.locations),t({title:"Connected",description:"Shiprocket has been connected to your store"})}else t({title:"Connection Failed",description:I.error||"Invalid credentials",variant:"destructive"})}catch(I){t({title:"Error",description:I.message||"Failed to connect to Shiprocket",variant:"destructive"})}finally{a(!1)}},D=async()=>{try{const{error:I}=await ae.from("stores").update({shiprocket_email:null,shiprocket_token:null}).eq("id",h);if(I)throw I;c(!1),N({email:"",password:""}),m([]),t({title:"Disconnected",description:"Shiprocket has been disconnected from your store"})}catch(I){t({title:"Error",description:I.message||"Failed to disconnect",variant:"destructive"})}},P=async I=>{_(!0);try{const{error:M}=await ae.from("stores").update({shipping_popup_enabled:I}).eq("id",h);if(M)throw M;v(I),t({title:I?"Shipping Enabled":"Shipping Disabled",description:I?"Shipping popup will appear in Orders":"Orders will be marked as delivered directly"})}catch(M){t({title:"Error",description:M.message||"Failed to update setting",variant:"destructive"})}finally{_(!1)}},E=async()=>{a(!0);try{const{error:I}=await ae.from("stores").update({package_length:S.length,package_breadth:S.breadth,package_height:S.height,package_weight:S.weight}).eq("id",h);if(I)throw I;t({title:"Saved",description:"Package defaults have been saved"})}catch(I){t({title:"Error",description:I.message||"Failed to save package defaults",variant:"destructive"})}finally{a(!1)}};return e?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Of,{className:"h-6 w-6"}),"Shipping"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect Shiprocket to manage shipping for your orders"})]}),l&&s.jsxs(er,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),s.jsx(He,{children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${g?"bg-green-100 dark:bg-green-900":"bg-muted"}`,children:s.jsx(Vne,{className:`h-6 w-6 ${g?"text-green-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Shipping Feature"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g?"Enabled - Shipping popup will appear in Orders":"Disabled - Orders will be marked as delivered directly"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${g?"text-green-600":"text-muted-foreground"}`,children:g?"Enabled":"Disabled"}),s.jsx(Fn,{checked:g,onCheckedChange:P,disabled:b})]})]})})}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[l?s.jsx(rs,{className:"h-5 w-5 text-green-600"}):s.jsx(Of,{className:"h-5 w-5"}),l?"Shiprocket Connected":"Connect to Shiprocket"]}),s.jsx(hn,{children:l?"Your store is connected to Shiprocket. You can now create shipments for your orders.":"Enter your Shiprocket API credentials to connect your account"})]}),s.jsxs(Xe,{className:"space-y-4",children:[!l&&s.jsxs(Hn,{children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsxs(Gn,{children:["Don't have a Shiprocket account?"," ",s.jsx("a",{href:"https://www.shiprocket.in/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Sign up here"}),". Then go to Settings  API  Configure to create API credentials."]})]}),l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(He,{children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(aa,{className:"h-8 w-8 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pickup Locations"})]})})}),s.jsx(He,{children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Of,{className:"h-8 w-8 mx-auto text-blue-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Ready"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Status"})]})})}),s.jsx(He,{children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rs,{className:"h-8 w-8 mx-auto text-green-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Active"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection"})]})})})]}),f.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Pickup Locations"}),s.jsx("div",{className:"space-y-2",children:f.map(I=>s.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium",children:I.pickup_location}),s.jsxs("p",{className:"text-muted-foreground",children:[I.address,", ",I.city,", ",I.state," - ",I.pin_code]})]},I.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:"outline",onClick:()=>window.open("https://app.shiprocket.in/","_blank"),children:[s.jsx(zo,{className:"h-4 w-4 mr-2"}),"Open Shiprocket Dashboard"]}),s.jsx(we,{variant:"destructive",onClick:D,children:"Disconnect"})]})]}):s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Shiprocket API Email"}),s.jsx(lt,{id:"email",type:"email",placeholder:"your-api-user@email.com",value:w.email,onChange:I=>N({...w,email:I.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the API user email from Settings  API  Configure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"password",children:"Shiprocket API Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(lt,{id:"password",type:u?"text":"password",placeholder:"",value:w.password,onChange:I=>N({...w,password:I.target.value})}),s.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>d(!u),children:u?s.jsx(px,{className:"h-4 w-4"}):s.jsx(ra,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check your email for the API password from Shiprocket"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:"outline",onClick:R,disabled:i,children:[i&&s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Test Connection"]}),s.jsxs(we,{onClick:O,disabled:n,children:[n&&s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Connect Shiprocket"]})]})]})]})]}),l&&s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Default Package Dimensions"}),s.jsx(hn,{children:"Set default package dimensions for your shipments (can be changed per order)"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"length",children:"Length (cm)"}),s.jsx(lt,{id:"length",type:"number",value:S.length,onChange:I=>C({...S,length:parseFloat(I.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"breadth",children:"Breadth (cm)"}),s.jsx(lt,{id:"breadth",type:"number",value:S.breadth,onChange:I=>C({...S,breadth:parseFloat(I.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"height",children:"Height (cm)"}),s.jsx(lt,{id:"height",type:"number",value:S.height,onChange:I=>C({...S,height:parseFloat(I.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"weight",children:"Weight (kg)"}),s.jsx(lt,{id:"weight",type:"number",step:"0.1",value:S.weight,onChange:I=>C({...S,weight:parseFloat(I.target.value)||0})})]})]}),s.jsxs(we,{onClick:E,disabled:n,children:[n&&s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Defaults"]})]})]}),s.jsx(He,{className:"bg-muted/50",children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(vo,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you can do with Shipping"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Create shipments directly from your orders"}),s.jsx("li",{children:" Get real-time tracking updates"}),s.jsx("li",{children:" Compare shipping rates from multiple couriers"}),s.jsx("li",{children:" Print shipping labels with one click"}),s.jsx("li",{children:" Automatic order status updates"})]})]})]})})})]})},vP="ai-designer";async function Yht(t){const{data:e,error:r}=await ae.functions.invoke(vP,{body:{action:"get_token_balance",store_id:t}});if(r)throw r;if(!e.success)throw new Error(e.error);return{tokens_remaining:e.tokens_remaining,expires_at:e.expires_at,has_tokens:e.has_tokens}}async function Kht(t,e,r){const{data:n,error:a}=await ae.functions.invoke(vP,{body:{action:"apply_design",store_id:t,design:e,history_id:r}});if(a)throw a;if(!n.success)throw new Error(n.error)}async function Xht(t){const{data:e,error:r}=await ae.functions.invoke(vP,{body:{action:"reset_design",store_id:t}});if(r)throw r;if(!e.success)throw new Error(e.error)}async function Jht(t,e,r){const{data:n,error:a}=await ae.functions.invoke(vP,{body:{action:"chat",store_id:t,user_id:e,messages:r}});if(a)throw a;if(!n.success)throw new Error(n.error);return{type:n.type,message:n.message,design:n.design||void 0,history_id:n.history_id,tokens_remaining:n.tokens_remaining,is_destructive:n.is_destructive||!1,destructive_info:n.destructive_info||null}}async function Zht(t){const{data:e}=await ae.from("store_design_state").select("current_design").eq("store_id",t).maybeSingle();return e?.current_design||null}function hve(t){console.log("[AI-DEBUG] buildDesignCSS input  css_variables:",t.css_variables,"dark_vars:",t.dark_css_variables,"overrides length:",t.css_overrides?.length);const e=Object.entries(t.css_variables||{}).map(([a,i])=>`  --${a}: ${i};`).join(`
`),r=Object.entries(t.dark_css_variables||{}).map(([a,i])=>`  --${a}: ${i};`).join(`
`);let n=`:root {
${e}
}`;return r&&(n+=`
.dark {
${r}
}`),t.css_overrides&&(n+=`
/* AI CSS Overrides */
${t.css_overrides}`),n}const Qht=t=>t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),emt=t=>{const e=new Date,r=new Date(e);r.setDate(r.getDate()-1);const n=t.toDateString()===e.toDateString(),a=t.toDateString()===r.toDateString();return n?"Today":a?"Yesterday":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==e.getFullYear()?"numeric":void 0})},tmt=(t,e)=>{if(!t.timestamp)return!1;if(!e||!e.timestamp)return!0;const r=t.timestamp.toDateString(),n=e.timestamp.toDateString();return r!==n},Wre=()=>{const t=en(),e=j.useRef(null),r=j.useRef(null),n=j.useRef(null),a=j.useRef(null),i=j.useRef(!0),o=j.useRef(null),l=j.useRef(null),[c,u]=j.useState(null),[d,f]=j.useState(null),[m,h]=j.useState(null),[x,g]=j.useState({tokens_remaining:0,expires_at:null,has_tokens:!1}),[v,b]=j.useState([]),[_,w]=j.useState(""),[N,S]=j.useState(!1),[C,A]=j.useState(!1),[R,O]=j.useState(!1),[D,P]=j.useState(!1),[E,I]=j.useState(null),[M,U]=j.useState(),[W,Y]=j.useState(null),[J,z]=j.useState(null),[q,V]=j.useState("chat"),[L,X]=j.useState(!0);j.useEffect(()=>(Q(),()=>{l.current&&clearTimeout(l.current)}),[]),j.useLayoutEffect(()=>{if(L||v.length===0||!i.current)return;const Le=requestAnimationFrame(()=>{const ke=n.current;ke&&(ke.scrollTop=ke.scrollHeight),i.current=!1});return()=>cancelAnimationFrame(Le)},[L,v]),j.useEffect(()=>{if(L||v.length===0||i.current)return;const Le=setTimeout(()=>{const ke=n.current;ke&&(ke.scrollTop=ke.scrollHeight)},100);return()=>clearTimeout(Le)},[v]);const K=async Le=>{try{const{data:ke,error:fe}=await ae.from("ai_designer_history").select("id, prompt, ai_response, ai_css_overrides, applied, created_at").eq("store_id",Le).order("created_at",{ascending:!0});if(fe)return console.error("Failed to load chat history:",fe),b([{id:"welcome",role:"ai",content:`Hi! I'm your AI Designer. I can help you redesign your store's colors, layout, and style.

Try asking me:
 "Give me design suggestions"
 "Make it look modern and minimal"
 "Change colors to green theme"
 "What sections can you customize?"`}]),null;const ye=[];let qe=null;return ye.push({id:"welcome",role:"ai",content:`Hi! I'm your AI Designer. I can help you redesign your store's colors, layout, and style.

Try asking me:
 "Give me design suggestions"
 "Make it look modern and minimal"
 "Change colors to green theme"
 "What sections can you customize?"`}),ke&&ke.length>0&&ke.forEach(Qe=>{const ct=new Date(Qe.created_at);ye.push({id:`user-${Qe.id}`,role:"user",content:Qe.prompt,timestamp:ct});const Ye=typeof Qe.ai_response=="string"?JSON.parse(Qe.ai_response):Qe.ai_response,me=Ye.css_variables&&Object.keys(Ye.css_variables).length>0;if(Ye.type==="text"||!Ye.type&&!me){const _e=Ye.message||Ye.summary||"";_e&&ye.push({id:`ai-${Qe.id}`,role:"ai",content:_e,timestamp:ct})}else Qe.ai_css_overrides&&(Ye.css_overrides=Qe.ai_css_overrides),ye.push({id:`ai-${Qe.id}`,role:"ai",content:Ye.summary||"Design generated",design:Ye,historyId:Qe.id,timestamp:ct}),me&&(qe=Ye)}),b(ye),qe}catch(ke){return console.error("Error loading chat history:",ke),b([{id:"welcome",role:"ai",content:`Hi! I'm your AI Designer. I can help you redesign your store's colors, layout, and style.

Try asking me:
 "Give me design suggestions"
 "Make it look modern and minimal"
 "Change colors to green theme"
 "What sections can you customize?"`}]),null}},Q=async()=>{try{const{data:{session:Le}}=await ae.auth.getSession();if(!Le){t("/auth");return}f(Le.user.id);const{data:ke}=await ae.from("stores").select("id, name, slug, subdomain").eq("user_id",Le.user.id).single();if(!ke){Mt.error("Store not found");return}u(ke.id);const fe=window.location.hostname,qe=ke.subdomain&&fe.startsWith(ke.subdomain+".")?`${window.location.origin}/`:`${window.location.origin}/${ke.slug}`;h(qe);const[Qe,ct]=await Promise.all([Yht(ke.id),Zht(ke.id)]);g(Qe);const Ye=await K(ke.id);ct?(z(ct),o.current=ct,Y(ct),localStorage.removeItem(`ai_designer_reset_${ke.id}`)):Ye&&(localStorage.getItem(`ai_designer_reset_${ke.id}`)||(o.current=Ye,Y(Ye),I(Ye)))}catch(Le){Mt.error("Failed to load AI Designer"),console.error(Le)}finally{X(!1)}},oe=Le=>Le.filter(ke=>ke.id!=="welcome"&&!ke.isLoading).map(ke=>{if(ke.role==="user")return{role:"user",content:ke.content};const fe=ke.design?`[Design proposed: ${(ke.design.changes_list||[]).slice(0,5).join("; ")||ke.design.summary||"visual updates"}]`:ke.content;return!fe||fe==="Text conversation"?null:{role:"assistant",content:fe}}).filter(ke=>ke!==null),ce=async()=>{if(!c||!d)return;const Le=_.trim();if(!Le)return;const ke=`user-${Date.now()}`,fe=`loading-${Date.now()}`,qe={id:ke,role:"user",content:Le,timestamp:new Date},Qe={id:fe,role:"ai",content:"",isLoading:!0};b(ct=>[...ct,qe,Qe]),w(""),S(!0);try{const ct=oe([...v,qe]),Ye=await Jht(c,d,ct);console.log("[AI-DEBUG] chatWithAI result:",JSON.stringify({type:Ye.type,hasDesign:!!Ye.design,message:Ye.message?.slice(0,80),css_variables:Ye.design?.css_variables,css_overrides_length:Ye.design?.css_overrides?.length}));const me={id:`ai-${Date.now()}`,role:"ai",content:Ye.message,design:Ye.design,historyId:Ye.history_id,timestamp:new Date,isDestructive:Ye.is_destructive||!1,destructiveInfo:Ye.destructive_info||void 0};b(Se=>Se.map(_e=>_e.id===fe?me:_e)),Ye.type==="design"&&Ye.design&&(I(Ye.design),U(Ye.history_id),o.current=Ye.design,Y(Ye.design),re(Ye.design),Ye.tokens_remaining!==void 0&&g(Se=>({...Se,tokens_remaining:Ye.tokens_remaining,has_tokens:Ye.tokens_remaining>0})))}catch(ct){b(Ye=>Ye.filter(me=>me.id!==fe)),ct.message?.includes("No tokens")?Mt.error("No tokens remaining. Please buy tokens."):ct.message?.includes("Edge Function")||ct.message?.includes("non-2xx")||ct.message?.includes("status code")||ct.message?.includes("Failed to fetch")?Mt.error("Unable to connect to AI. Please try again in a moment."):Mt.error(ct.message||"Something went wrong. Please try again later.")}finally{S(!1),a.current?.focus()}},de=Le=>{Le.key==="Enter"&&!Le.shiftKey&&(Le.preventDefault(),ce())},ne=(Le,ke)=>{I(Le),U(ke),o.current=Le,Y(Le),re(Le),Mt.success("Design loaded into preview. Click Publish to go live.")},ue=(Le,ke)=>{const fe=[],ye=Le?.css_variables||{},qe=ke.css_variables||{},Qe={primary:"Primary color",background:"Background color",foreground:"Text color",card:"Card background",muted:"Muted background","muted-foreground":"Secondary text color",border:"Border color",radius:"Border radius"};for(const[Se,_e]of Object.entries(Qe))qe[Se]!==void 0&&qe[Se]!==ye[Se]&&fe.push(`${_e}: \`${qe[Se]}\``);for(const Se of Object.keys(qe))!Qe[Se]&&qe[Se]!==ye[Se]&&fe.push(`CSS variable \`${Se}\`: updated`);const ct=Le?.layout||{},Ye=ke.layout||{};return Ye.product_grid_cols&&Ye.product_grid_cols!==ct.product_grid_cols&&fe.push(`Product grid: ${Ye.product_grid_cols} columns`),Ye.section_padding&&Ye.section_padding!==ct.section_padding&&fe.push(`Section spacing: ${Ye.section_padding}`),Ye.hero_style&&Ye.hero_style!==ct.hero_style&&fe.push(`Hero banner style: ${Ye.hero_style}`),ke.css_overrides&&ke.css_overrides!==Le?.css_overrides&&fe.push("Custom CSS overrides: applied"),fe.length===0?" Design is live on your store! No visible differences from the previous design were detected.":` Design confirmed live on your store!

**Changes now active:**
${fe.map(Se=>` ${Se}`).join(`
`)}

All ${fe.length} change${fe.length===1?"":"s"} verified. Want to adjust anything?`},se=async()=>{if(!c||!E){Mt.error("No design to publish. Ask AI to generate a design first.");return}A(!0);const Le=J;try{await Kht(c,E,M);const ke=E;z(ke),I(null),U(void 0),localStorage.removeItem(`ai_designer_reset_${c}`),Mt.success("Design published to your live store!");const fe=ue(Le,ke);b(ye=>[...ye,{id:`publish-confirm-${Date.now()}`,role:"ai",content:fe,timestamp:new Date}])}catch(ke){Mt.error(ke.message||"Failed to publish design")}finally{A(!1)}},Z=async()=>{if(c){O(!0);try{await Xht(c),z(null),I(null),U(void 0),o.current=null,Y(null),localStorage.setItem(`ai_designer_reset_${c}`,"1"),e.current?.contentWindow?e.current.contentWindow.location.reload():re(null),Mt.success("Store reset to platform default design.")}catch(Le){Mt.error(Le.message||"Failed to reset design")}finally{O(!1)}}},Oe=Le=>Le?new Date(Le).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):null,re=Le=>{try{const ke=e.current;if(console.log("[AI-DEBUG] injectCSSIntoIframe called, design:",!!Le,"iframe:",!!ke,"contentDocument:",!!ke?.contentDocument,"head:",!!ke?.contentDocument?.head),!ke?.contentDocument?.head){console.warn("[AI-DEBUG] Cannot inject  iframe head not accessible");return}const fe=ke.contentDocument.getElementById("ai-preview-styles");if(fe&&fe.remove(),!Le)return;const ye=hve(Le);console.log("[AI-DEBUG] Generated CSS length:",ye.length,`
`,ye.slice(0,300));const qe=ke.contentDocument.createElement("style");qe.id="ai-preview-styles",qe.textContent=ye,ke.contentDocument.head.appendChild(qe),console.log("[AI-DEBUG] CSS injected successfully into iframe head")}catch(ke){console.error("[AI-DEBUG] CSS injection failed (likely cross-origin):",ke)}},le=()=>{console.log("[AI-DEBUG] iframe onLoad fired, previewDesign in ref:",!!o.current),re(o.current),l.current&&clearTimeout(l.current),[500,1500,3e3].forEach(ke=>{setTimeout(()=>re(o.current),ke)})};if(L)return s.jsx("div",{className:"flex items-center justify-center py-24",children:s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})});const We=s.jsxs("div",{className:"flex flex-col h-full",style:{minHeight:"560px"},children:[s.jsxs("div",{ref:n,className:"flex-1 overflow-y-auto px-3 py-3 space-y-4",style:{maxHeight:"480px"},children:[v.map((Le,ke)=>{const fe=ke>0?v[ke-1]:void 0,ye=tmt(Le,fe);return s.jsxs("div",{children:[ye&&Le.timestamp&&s.jsx("div",{className:"flex justify-center my-4",children:s.jsx("div",{className:"bg-muted/60 px-3 py-1 rounded-full",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:emt(Le.timestamp)})})}),s.jsxs("div",{className:`flex gap-2.5 ${Le.role==="user"?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${Le.role==="user"?"bg-primary text-primary-foreground":"bg-muted border border-border"}`,children:Le.role==="user"?s.jsx(lv,{className:"w-3.5 h-3.5"}):s.jsx(Vbe,{className:"w-3.5 h-3.5 text-primary"})}),s.jsxs("div",{className:`max-w-[80%] ${Le.role==="user"?"items-end":"items-start"} flex flex-col gap-2`,children:[s.jsx("div",{className:`rounded-2xl px-3.5 py-2.5 text-sm leading-relaxed ${Le.role==="user"?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted border border-border text-foreground rounded-tl-sm"}`,children:Le.isLoading?s.jsxs("div",{className:"flex items-center gap-1.5 py-0.5",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"300ms"}})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"whitespace-pre-wrap",children:Le.content}),Le.timestamp&&s.jsx("div",{className:"flex justify-end mt-1",children:s.jsx("span",{className:`text-[10px] ${Le.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:Qht(Le.timestamp)})})]})}),Le.design&&!Le.isLoading&&s.jsxs("div",{className:`w-full bg-card border rounded-xl p-3 space-y-2 ${Le.isDestructive?"border-orange-400":"border-border"}`,children:[Le.isDestructive&&Le.destructiveInfo&&s.jsxs("div",{className:"flex items-start gap-2 bg-orange-50 border border-orange-200 rounded-lg px-2.5 py-2",children:[s.jsx(_o,{className:"w-3.5 h-3.5 text-orange-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs text-orange-700",children:[s.jsx("span",{className:"font-semibold",children:"Large change detected"}),"  ",Le.destructiveInfo.message]})]}),Le.design.css_variables&&Object.keys(Le.design.css_variables).length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(Le.design.css_variables).filter(([qe])=>qe!=="--radius").map(([qe,Qe])=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-border flex-shrink-0",style:{background:`hsl(${Qe})`}}),s.jsx("span",{className:"text-[10px] text-muted-foreground font-mono",children:qe.replace("--","")})]},qe))}),Le.design.changes_list&&Le.design.changes_list.length>0&&s.jsx("ul",{className:"space-y-0.5",children:Le.design.changes_list.map((qe,Qe)=>s.jsxs("li",{className:"text-xs text-muted-foreground flex items-start gap-1",children:[s.jsx(rs,{className:"w-3 h-3 text-primary flex-shrink-0 mt-0.5"}),qe]},Qe))}),s.jsxs(we,{size:"sm",variant:"outline",className:"w-full text-xs h-7",onClick:()=>ne(Le.design,Le.historyId),children:[s.jsx(ra,{className:"w-3 h-3 mr-1"}),"Load into Preview"]})]})]})]})]},Le.id)}),s.jsx("div",{ref:r})]}),!x.has_tokens&&s.jsxs("div",{className:"mx-3 mb-2 flex items-center gap-2 p-2.5 rounded-lg bg-destructive/10 border border-destructive/20",children:[s.jsx(_o,{className:"w-4 h-4 text-destructive flex-shrink-0"}),s.jsxs("p",{className:"text-xs text-destructive",children:["No tokens."," ",s.jsx("button",{onClick:()=>t("/admin/buy-tokens"),className:"underline font-medium",children:"Buy tokens"})," ","to generate designs."]})]}),s.jsxs("div",{className:"border-t border-border px-3 py-2.5 flex gap-2 items-end",children:[s.jsx("textarea",{ref:a,value:_,onChange:Le=>w(Le.target.value),onKeyDown:de,placeholder:x.has_tokens?"Ask for suggestions or describe a design (Enter to send)":"Buy tokens to generate designs",disabled:N,rows:2,className:"flex-1 resize-none rounded-lg border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:opacity-50",style:{minHeight:"40px",maxHeight:"120px"}}),s.jsx(we,{size:"icon",onClick:ce,disabled:N||!_.trim(),className:"h-9 w-9 flex-shrink-0",children:N?s.jsx(pr,{className:"w-4 h-4 animate-spin"}):s.jsx(awe,{className:"w-4 h-4"})})]})]}),xe=s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:W?"Live preview with AI design":"Live store preview"}),W&&s.jsx(er,{variant:"outline",className:"text-primary border-primary text-xs",children:"AI Applied"})]}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>e.current?.contentWindow?.location.reload(),title:"Reload preview",children:s.jsx(No,{className:"w-3.5 h-3.5"})})]}),s.jsx("div",{className:"flex-1 rounded-lg overflow-hidden border border-border",style:{minHeight:"600px"},children:m?s.jsx("iframe",{ref:e,src:m,className:"w-full h-full",style:{minHeight:"600px"},onLoad:le,title:"Store Preview"}):s.jsxs("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:[s.jsx(pr,{className:"w-5 h-5 animate-spin mr-2"}),"Loading preview..."]})})]});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(dw,{className:"w-6 h-6 text-primary"}),"AI Designer"]}),s.jsx("p",{className:"text-muted-foreground",children:"Chat with AI to redesign your store's look and feel"})]}),s.jsx(He,{children:s.jsx(Xe,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10",children:s.jsx(zm,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-bold text-foreground",children:x.tokens_remaining}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"tokens remaining"}),x.has_tokens?s.jsx(er,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:"Active"}):s.jsx(er,{variant:"destructive",className:"text-xs",children:"No Tokens"})]}),x.expires_at&&s.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[s.jsx(Uu,{className:"w-3 h-3 text-muted-foreground"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",Oe(x.expires_at)]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>t("/admin/buy-tokens"),children:[s.jsx(zm,{className:"w-4 h-4 mr-1.5"}),"Buy Tokens"]}),s.jsxs(we,{size:"sm",onClick:se,disabled:!E||C,children:[C?s.jsx(pr,{className:"w-4 h-4 mr-1.5 animate-spin"}):s.jsx(Af,{className:"w-4 h-4 mr-1.5"}),"Publish Changes"]}),s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>P(!0),disabled:R,children:[R?s.jsx(pr,{className:"w-4 h-4 mr-1.5 animate-spin"}):s.jsx(Wz,{className:"w-4 h-4 mr-1.5"}),"Reset to Default"]})]})]})})}),s.jsxs("div",{className:"flex md:hidden gap-2",children:[s.jsxs(we,{variant:q==="chat"?"default":"outline",size:"sm",className:"flex-1",onClick:()=>V("chat"),children:[s.jsx(IN,{className:"w-4 h-4 mr-1.5"}),"AI Chat"]}),s.jsxs(we,{variant:q==="preview"?"default":"outline",size:"sm",className:"flex-1",onClick:()=>V("preview"),children:[s.jsx(ra,{className:"w-4 h-4 mr-1.5"}),"Preview"]})]}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-2 gap-4",style:{minHeight:"600px"},children:[s.jsx(He,{className:"flex flex-col overflow-hidden",children:s.jsx(Xe,{className:"p-0 flex-1 flex flex-col",children:We})}),s.jsx("div",{children:xe})]}),s.jsx("div",{className:"md:hidden",style:{minHeight:"500px"},children:q==="chat"?s.jsx(He,{className:"flex flex-col overflow-hidden",children:s.jsx(Xe,{className:"p-0 flex-1 flex flex-col",children:We})}):xe}),s.jsx(ng,{open:D,onOpenChange:P,children:s.jsxs(lp,{children:[s.jsxs(cp,{children:[s.jsxs(dp,{className:"flex items-center gap-2",children:[s.jsx(Wz,{className:"w-5 h-5 text-destructive"}),"Reset to Default Design?"]}),s.jsxs(fp,{children:["This will remove all AI-applied customizations and restore your store to the",s.jsx("strong",{children:" platform default design"}),"  the standard look every new store starts with.",s.jsx("br",{}),s.jsx("br",{}),"Your chat history and generated designs will not be deleted. You can re-apply any design from the chat at any time."]})]}),s.jsxs(up,{children:[s.jsx(ag,{children:"Cancel"}),s.jsx(sg,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:Z,children:"Yes, Reset to Default"})]})]})})]})},Hre=()=>{const t=en(),[e,r]=j.useState([]),[n,a]=j.useState(!0),[i,o]=j.useState(null),[l,c]=j.useState(null),[u,d]=j.useState(null),[f,m]=j.useState({name:"",email:"",phone:""});j.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{session:w}}=await ae.auth.getSession();if(!w){t("/auth");return}d(w.user.id);const[N,S,C]=await Promise.all([ae.from("stores").select("id, user_id").eq("user_id",w.user.id).single(),ae.from("profiles").select("full_name, email, phone").eq("user_id",w.user.id).maybeSingle(),ae.from("ai_token_packages").select("*").eq("is_active",!0).order("display_order")]);N.data&&c(N.data),S.data&&m({name:S.data.full_name||w.user.email||"",email:S.data.email||w.user.email||"",phone:S.data.phone||""}),C.data&&r(C.data)}catch{Mt.error("Failed to load token packages")}finally{a(!1)}},x=async w=>{if(!(!l||!u)){o(w.id);try{const{data:N,error:S}=await ae.functions.invoke("ai-designer",{body:{action:"create_payment_order",store_id:l.id,package_id:w.id,amount:w.price,currency:"INR"}});if(S||!N?.success||!N?.order_id)throw new Error(N?.error||"Failed to create payment order");new window.Razorpay({key:N.razorpay_key_id,amount:N.amount,currency:"INR",name:"AI Designer Tokens",description:`${w.name}  ${w.tokens_included} tokens`,order_id:N.order_id,prefill:{name:f.name,email:f.email,contact:f.phone},theme:{color:"#3b82f6"},handler:async A=>{await g(A,w)},modal:{ondismiss:()=>{o(null)}}}).open()}catch(N){Mt.error(N.message||"Failed to initiate payment"),o(null)}}},g=async(w,N)=>{if(!(!l||!u))try{const{data:S}=await ae.from("ai_token_settings").select("token_expiry_enabled, token_expiry_duration, token_expiry_unit").eq("id","00000000-0000-0000-0000-000000000001").single();let C=null;if(S?.token_expiry_enabled){const R=new Date;S.token_expiry_unit==="years"?R.setFullYear(R.getFullYear()+(S.token_expiry_duration||1)):R.setMonth(R.getMonth()+(S.token_expiry_duration||12)),C=R.toISOString()}const{error:A}=await ae.from("ai_token_purchases").insert({store_id:l.id,user_id:u,package_id:N.id,tokens_purchased:N.tokens_included,tokens_remaining:N.tokens_included,tokens_used:0,amount_paid:N.price,payment_id:w.razorpay_payment_id,expires_at:C,status:"active"});if(A)throw A;Mt.success(`${N.tokens_included} tokens added to your account!`),t("/admin/ai-designer")}catch(S){Mt.error("Payment recorded but failed to add tokens. Please contact support."),console.error(S)}finally{o(null)}},v=w=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(w),b=w=>(w.price/w.tokens_included).toFixed(2),_=w=>w.name.toLowerCase()==="pro";return n?s.jsx("div",{className:"flex items-center justify-center py-24",children:s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>t("/admin/ai-designer"),className:"mb-4",children:[s.jsx(Ud,{className:"w-4 h-4 mr-1.5"}),"Back to AI Designer"]}),s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(zm,{className:"w-6 h-6 text-primary"}),"Buy AI Designer Tokens"]}),s.jsx("p",{className:"text-muted-foreground",children:"Purchase tokens to use the AI Designer. Each design generation uses 1 token."})]}),s.jsx(He,{className:"bg-primary/5 border-primary/20",children:s.jsx(Xe,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(dw,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"How tokens work"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-3.5 h-3.5 text-primary flex-shrink-0"}),"Each AI design generation uses 1 token"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-3.5 h-3.5 text-primary flex-shrink-0"}),"Tokens expire based on platform settings (typically 12 months)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-3.5 h-3.5 text-primary flex-shrink-0"}),"Publish applies the design to your live store instantly"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-3.5 h-3.5 text-primary flex-shrink-0"}),"Reset to default is always free  no tokens needed"]})]})]})]})})}),e.length===0?s.jsx(He,{children:s.jsxs(Xe,{className:"flex flex-col items-center py-12",children:[s.jsx(zm,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No packages available"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Check back later for token packages."})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(w=>s.jsxs(He,{className:`relative flex flex-col transition-all duration-200 hover:shadow-lg ${_(w)?"border-primary shadow-md":""}`,children:[_(w)&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx(er,{className:"px-3",children:"Most Popular"})}),s.jsxs(jt,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:`p-2.5 rounded-xl ${_(w)?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(zm,{className:"w-5 h-5"})}),s.jsxs(er,{variant:"secondary",className:"text-xs",children:["",b(w),"/token"]})]}),s.jsx(Nt,{className:"text-xl mt-3",children:w.name}),w.description&&s.jsx(hn,{children:w.description})]}),s.jsxs(Xe,{className:"flex flex-col flex-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-3xl font-bold text-foreground",children:v(w.price)}),s.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[w.tokens_included.toLocaleString("en-IN")," design generations"]})]}),s.jsxs("ul",{className:"space-y-2 flex-1",children:[s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0"}),w.tokens_included," AI design generations"]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0"}),"Publish to live store instantly"]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0"}),"Reset to default anytime (free)"]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(On,{className:"w-4 h-4 text-primary flex-shrink-0"}),"Full CSS & layout control"]})]}),s.jsx(we,{className:"w-full mt-auto",variant:_(w)?"default":"outline",onClick:()=>x(w),disabled:i===w.id,children:i===w.id?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zm,{className:"w-4 h-4 mr-2"}),"Buy ",w.name]})})]})]},w.id))})]})},Gre="00000000-0000-0000-0000-000000000001",rmt=()=>{const{toast:t}=ga(),[e,r]=j.useState([]),[n,a]=j.useState({token_expiry_enabled:!0,token_expiry_duration:12,token_expiry_unit:"months"}),[i,o]=j.useState({total_revenue:0,total_tokens_sold:0,total_tokens_used:0,active_stores:0}),[l,c]=j.useState(!0),[u,d]=j.useState(!1),[f,m]=j.useState(!1),[h,x]=j.useState(null),[g,v]=j.useState(!1),[b,_]=j.useState(null),[w,N]=j.useState({name:"",description:"",tokens_included:"",price:"",display_order:"0",is_active:!0});j.useEffect(()=>{S()},[]);const S=async()=>{try{const[E,I,M]=await Promise.all([ae.from("ai_token_packages").select("*").order("display_order"),ae.from("ai_token_settings").select("*").eq("id",Gre).single(),ae.from("ai_token_purchases").select("tokens_purchased, tokens_used, amount_paid, store_id, status")]);if(E.data&&r(E.data),I.data&&a({token_expiry_enabled:I.data.token_expiry_enabled??!0,token_expiry_duration:I.data.token_expiry_duration??12,token_expiry_unit:I.data.token_expiry_unit??"months"}),M.data){const U=M.data,W=U.reduce((q,V)=>q+Number(V.amount_paid||0),0),Y=U.reduce((q,V)=>q+Number(V.tokens_purchased||0),0),J=U.reduce((q,V)=>q+Number(V.tokens_used||0),0),z=new Set(U.filter(q=>q.status==="active").map(q=>q.store_id)).size;o({total_revenue:W,total_tokens_sold:Y,total_tokens_used:J,active_stores:z})}}catch{t({title:"Error",description:"Failed to load data",variant:"destructive"})}finally{c(!1)}},C=async()=>{d(!0);try{const{error:E}=await ae.from("ai_token_settings").upsert({id:Gre,token_expiry_enabled:n.token_expiry_enabled,token_expiry_duration:n.token_expiry_duration,token_expiry_unit:n.token_expiry_unit,updated_at:new Date().toISOString()},{onConflict:"id"});if(E)throw E;t({title:"Saved",description:"Token expiry settings saved"})}catch(E){t({title:"Error",description:E.message,variant:"destructive"})}finally{d(!1)}},A=()=>{x(null),N({name:"",description:"",tokens_included:"",price:"",display_order:String(e.length+1),is_active:!0}),m(!0)},R=E=>{x(E),N({name:E.name,description:E.description||"",tokens_included:String(E.tokens_included),price:String(E.price),display_order:String(E.display_order),is_active:E.is_active}),m(!0)},O=async()=>{if(!w.name||!w.tokens_included||!w.price){t({title:"Error",description:"Name, tokens, and price are required",variant:"destructive"});return}v(!0);try{const E={name:w.name,description:w.description||null,tokens_included:parseInt(w.tokens_included),price:parseFloat(w.price),display_order:parseInt(w.display_order)||0,is_active:w.is_active,updated_at:new Date().toISOString()};if(h){const{error:I}=await ae.from("ai_token_packages").update(E).eq("id",h.id);if(I)throw I;t({title:"Updated",description:"Package updated successfully"})}else{const{error:I}=await ae.from("ai_token_packages").insert(E);if(I)throw I;t({title:"Created",description:"Package created successfully"})}m(!1),await S()}catch(E){t({title:"Error",description:E.message,variant:"destructive"})}finally{v(!1)}},D=async E=>{_(E);try{const{error:I}=await ae.from("ai_token_packages").delete().eq("id",E);if(I)throw I;t({title:"Deleted",description:"Package deleted"}),r(M=>M.filter(U=>U.id!==E))}catch(I){t({title:"Error",description:I.message,variant:"destructive"})}finally{_(null)}},P=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(E);return l?s.jsx("div",{className:"flex items-center justify-center py-24",children:s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(zm,{className:"w-6 h-6 text-primary"}),"AI Token Pricing"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage token packages, expiry settings, and view analytics"})]}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Revenue",value:P(i.total_revenue),icon:yo,color:"text-green-600"},{label:"Tokens Sold",value:i.total_tokens_sold.toLocaleString("en-IN"),icon:zm,color:"text-primary"},{label:"Tokens Used",value:i.total_tokens_used.toLocaleString("en-IN"),icon:EA,color:"text-orange-500"},{label:"Active Stores",value:i.active_stores,icon:Ho,color:"text-purple-600"}].map(E=>s.jsx(He,{children:s.jsx(Xe,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(E.icon,{className:`w-4 h-4 ${E.color}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:E.label}),s.jsx("p",{className:"text-lg font-bold text-foreground",children:E.value})]})]})})},E.label))}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Nt,{children:"Token Packages"}),s.jsx(hn,{children:"Configure packages available for store owners to purchase"})]}),s.jsxs(we,{onClick:A,size:"sm",children:[s.jsx(Yo,{className:"w-4 h-4 mr-1.5"}),"Add Package"]})]})}),s.jsx(Xe,{children:e.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No packages yet. Add one above."}):s.jsx("div",{className:"space-y-3",children:e.map(E=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${E.is_active?"border-border":"border-border bg-muted/30 opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(zm,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-foreground",children:E.name}),!E.is_active&&s.jsx(er,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.tokens_included.toLocaleString("en-IN")," tokens  ",P(E.price),s.jsxs("span",{className:"ml-2 text-xs",children:["(",(E.price/E.tokens_included).toFixed(2),"/token)"]})]}),E.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:E.description})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(we,{variant:"outline",size:"icon",onClick:()=>R(E),children:s.jsx(II,{className:"w-4 h-4"})}),s.jsx(we,{variant:"destructive",size:"icon",onClick:()=>D(E.id),disabled:b===E.id,children:b===E.id?s.jsx(pr,{className:"w-4 h-4 animate-spin"}):s.jsx(Ds,{className:"w-4 h-4"})})]})]},E.id))})})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Token Expiry Settings"}),s.jsx(hn,{children:"Control when purchased tokens expire for store owners"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"font-medium",children:"Enable Token Expiry"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When disabled, tokens never expire"})]}),s.jsx(Fn,{checked:n.token_expiry_enabled,onCheckedChange:E=>a(I=>({...I,token_expiry_enabled:E}))})]}),n.token_expiry_enabled&&s.jsxs("div",{className:"flex gap-4 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Be,{className:"text-sm mb-1.5 block",children:"Duration"}),s.jsx(lt,{type:"number",min:"1",value:n.token_expiry_duration,onChange:E=>a(I=>({...I,token_expiry_duration:parseInt(E.target.value)||1})),className:"max-w-[120px]"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Be,{className:"text-sm mb-1.5 block",children:"Unit"}),s.jsxs(zr,{value:n.token_expiry_unit,onValueChange:E=>a(I=>({...I,token_expiry_unit:E})),children:[s.jsx(Lr,{className:"max-w-[140px]",children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"months",children:"Months"}),s.jsx(ut,{value:"years",children:"Years"})]})]})]})]}),s.jsxs(we,{onClick:C,disabled:u,children:[u?s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(zu,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]}),s.jsx(ss,{open:f,onOpenChange:m,children:s.jsxs(ts,{children:[s.jsx(as,{children:s.jsx(is,{children:h?"Edit Package":"Add Token Package"})}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm mb-1.5 block",children:"Package Name *"}),s.jsx(lt,{placeholder:"e.g. Basic, Pro, Enterprise",value:w.name,onChange:E=>N(I=>({...I,name:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm mb-1.5 block",children:"Description"}),s.jsx(lt,{placeholder:"e.g. 100 AI design generations",value:w.description,onChange:E=>N(I=>({...I,description:E.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm mb-1.5 block",children:"Tokens Included *"}),s.jsx(lt,{type:"number",min:"1",placeholder:"100",value:w.tokens_included,onChange:E=>N(I=>({...I,tokens_included:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm mb-1.5 block",children:"Price () *"}),s.jsx(lt,{type:"number",min:"1",placeholder:"199",value:w.price,onChange:E=>N(I=>({...I,price:E.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm mb-1.5 block",children:"Display Order"}),s.jsx(lt,{type:"number",min:"0",value:w.display_order,onChange:E=>N(I=>({...I,display_order:E.target.value}))})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[s.jsx(Fn,{checked:w.is_active,onCheckedChange:E=>N(I=>({...I,is_active:E}))}),s.jsx(Be,{className:"text-sm",children:"Active"})]})]}),w.tokens_included&&w.price&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Price per token: ",(parseFloat(w.price)/parseInt(w.tokens_included)).toFixed(2)]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsxs(we,{onClick:O,disabled:g,className:"flex-1",children:[g?s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(zu,{className:"w-4 h-4 mr-2"}),h?"Update Package":"Create Package"]}),s.jsx(we,{variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})})]})},nmt=()=>{const[t,e]=j.useState(!0),[r,n]=j.useState({totalRequests:0,successRate:0,avgLatency:0,totalTokens:0,activeStores:0,cssSanitizedCount:0,publishedDesigns:0}),[a,i]=j.useState([]);j.useEffect(()=>{o()},[]);const o=async()=>{try{e(!0);const l=new Date;l.setDate(l.getDate()-30);const{data:c,error:u}=await ae.from("ai_designer_metrics").select("*").gte("created_at",l.toISOString());if(u)throw u;if(c&&c.length>0){const d=c.length,f=c.filter(w=>w.success).length,m=c.reduce((w,N)=>w+(N.latency_ms||0),0),h=c.reduce((w,N)=>w+(N.tokens_consumed||0),0),x=new Set(c.map(w=>w.store_id)).size,g=c.filter(w=>w.css_sanitized).length,v=c.filter(w=>w.design_published).length;n({totalRequests:d,successRate:f/d*100,avgLatency:m/d,totalTokens:h,activeStores:x,cssSanitizedCount:g,publishedDesigns:v});const b=new Map;c.forEach(w=>{if(!w.model_used)return;b.has(w.model_used)||b.set(w.model_used,{count:0,latency:[],success:0});const N=b.get(w.model_used);N.count++,w.latency_ms&&N.latency.push(w.latency_ms),w.success&&N.success++});const _=Array.from(b.entries()).map(([w,N])=>({model:w,count:N.count,avgLatency:N.latency.length>0?N.latency.reduce((S,C)=>S+C,0)/N.latency.length:0,successRate:N.success/N.count*100}));i(_.sort((w,N)=>N.count-w.count))}}catch(l){console.error("Failed to load analytics:",l),et({title:"Error",description:l.message||"Failed to load analytics",variant:"destructive"})}finally{e(!1)}};return t?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"AI Designer Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Performance metrics and usage statistics (Last 30 days)"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Total Requests"}),s.jsx(o4,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.totalRequests.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI design requests"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Success Rate"}),s.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[r.successRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Successful responses"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Avg Latency"}),s.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[(r.avgLatency/1e3).toFixed(1),"s"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Response time"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Active Stores"}),s.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.activeStores}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Using AI Designer"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Tokens Consumed"}),s.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.totalTokens.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total AI tokens used"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Published Designs"}),s.jsx($l,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.publishedDesigns}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Designs applied to stores"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Security Blocks"}),s.jsx(bp,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.cssSanitizedCount}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Malicious CSS blocked"})]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"AI Model Performance"})}),s.jsx(Xe,{children:a.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No model data available"}):s.jsx("div",{className:"space-y-4",children:a.map(l=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:l.model}),s.jsxs(er,{variant:"outline",children:[l.count," requests"]})]}),s.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Avg Latency: ",(l.avgLatency/1e3).toFixed(2),"s"]}),s.jsxs("span",{children:["Success Rate: ",l.successRate.toFixed(1),"%"]})]})]})},l.model))})})]})]})},Yre=()=>{const{toast:t}=ga(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(null),[f,m]=j.useState(!1),[h,x]=j.useState(""),[g,v]=j.useState(""),[b,_]=j.useState("carousel"),[w,N]=j.useState(null),[S,C]=j.useState({}),[A,R]=j.useState(null);j.useEffect(()=>{O()},[]);const O=async()=>{try{const{data:{session:z}}=await ae.auth.getSession();if(!z)return;const{data:q}=await ae.from("stores").select("id, google_place_id, google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("user_id",z.user.id).single();if(q){d(q.id),m(q.google_reviews_enabled||!1),x(q.google_place_id||""),v(q.google_maps_url||""),_(q.google_reviews_display_type||"carousel");const{data:V}=await ae.from("marketplace_purchases").select("*").eq("store_id",q.id).eq("feature_slug","google-reviews").eq("status","active").single();if(V){const L=V.quota_limit||15,X=V.calls_used||0;R({used:X,limit:L,remaining:L-X,period:"monthly"}),q.google_place_id&&D(q.id)}else t({title:"Google Reviews Not Purchased",description:"Please purchase Google Reviews from the Marketplace to use this feature.",variant:"destructive"})}}catch(z){console.error("Error loading settings:",z)}finally{r(!1)}},D=async z=>{try{const{data:q,error:V}=await ae.from("google_reviews_cache").select("*").eq("store_id",z).single();q&&!V&&N(q)}catch(q){console.error("Error loading cached reviews:",q)}},P=async z=>{o(!0);try{const{error:q}=await ae.from("stores").update({google_reviews_enabled:z}).eq("id",u);if(q)throw q;m(z),t({title:z?"Google Reviews Enabled":"Google Reviews Disabled",description:z?"Reviews will display on your store":"Reviews are hidden from your store"})}catch(q){t({title:"Error",description:q.message||"Failed to update setting",variant:"destructive"})}finally{o(!1)}},E=async()=>{if(!h.trim()){t({title:"Error",description:"Please enter a Google Place ID",variant:"destructive"});return}a(!0);try{const{error:z}=await ae.from("stores").update({google_place_id:h.trim()}).eq("id",u);if(z)throw z;const{data:q,error:V}=await ae.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:h.trim()}});if(V)throw V;if(q.success)N(q.data),q.quota&&R(q.quota),t({title:"Success",description:`Reviews fetched successfully. ${q.quota?.remaining||0} calls remaining this ${q.quota?.period||"period"}.`});else throw new Error(q.error||"Failed to fetch reviews")}catch(z){t({title:"Error",description:z.message||"Failed to fetch reviews",variant:"destructive"})}finally{a(!1)}},I=async()=>{if(!h){t({title:"Error",description:"Please save a Place ID first",variant:"destructive"});return}a(!0);try{const{data:z,error:q}=await ae.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:h}});if(q)throw q;if(z.success)N(z.data),z.quota&&R(z.quota),t({title:"Success",description:`Reviews refreshed successfully. ${z.quota?.remaining||0} calls remaining this ${z.quota?.period||"period"}.`});else throw new Error(z.error||"Failed to refresh reviews")}catch(z){t({title:"Error",description:z.message||"Failed to refresh reviews",variant:"destructive"})}finally{a(!1)}},M=async z=>{c(!0);try{const{error:q}=await ae.from("stores").update({google_reviews_display_type:z}).eq("id",u);if(q)throw q;_(z),t({title:"Success",description:`Display type changed to ${{carousel:"Carousel (Auto-scroll)",column:"Column (Side-by-side)","google-widget":"Google Widget (All Reviews)"}[z]}`})}catch(q){t({title:"Error",description:q.message||"Failed to save display type",variant:"destructive"})}finally{c(!1)}},U=async()=>{if(console.log("Saving Google Maps URL:",g),console.log("Store ID:",u),!g.trim()){t({title:"Error",description:"Please enter a Google Maps URL",variant:"destructive"});return}if(!u){t({title:"Error",description:"Store ID not found. Please refresh the page.",variant:"destructive"});return}c(!0);try{const{error:z,data:q}=await ae.from("stores").update({google_maps_url:g.trim()}).eq("id",u).select();if(console.log("Update result:",{error:z,data:q}),z)throw z;t({title:"Success ",description:"Google Maps URL saved successfully! Your store will now show reviews."})}catch(z){console.error("Save error:",z),t({title:"Error",description:z.message||"Failed to save URL",variant:"destructive"})}finally{c(!1)}},W=z=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(q=>s.jsx(gc,{className:`h-4 w-4 ${q<=z?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},q))}),Y=z=>{const q=z.trim().split(" ");return q.length===1?q[0].substring(0,2).toUpperCase():(q[0][0]+q[q.length-1][0]).toUpperCase()},J=z=>{const q=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],V=z.split("").reduce((L,X)=>L+X.charCodeAt(0),0);return q[V%q.length]};return e?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(gc,{className:"h-6 w-6"}),"Google Reviews"]}),s.jsx("p",{className:"text-muted-foreground",children:"Display Google reviews on your store to build trust"})]}),w&&s.jsxs(er,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),w.total_reviews," Reviews"]})]}),s.jsx(He,{children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${f?"bg-yellow-100 dark:bg-yellow-900":"bg-muted"}`,children:s.jsx(Vne,{className:`h-6 w-6 ${f?"text-yellow-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Google Reviews Display"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Reviews are visible on your store":"Reviews are hidden from your store"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${f?"text-green-600":"text-muted-foreground"}`,children:f?"Enabled":"Disabled"}),s.jsx(Fn,{checked:f,onCheckedChange:P,disabled:i})]})]})})}),f&&s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Display Type"}),s.jsx(hn,{children:"Choose how reviews are displayed on your store"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{htmlFor:"display-type",children:"Review Display Style"}),s.jsxs(zr,{value:b,onValueChange:z=>M(z),children:[s.jsx(Lr,{id:"display-type",disabled:l,children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"carousel",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Carousel (Auto-scroll)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Smooth left-sliding auto-scroll with 5 reviews"})]})}),s.jsx(ut,{value:"column",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Column (Side-by-side)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Grid layout with 5 reviews max"})]})}),s.jsx(ut,{value:"google-widget",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Google Widget (All Reviews)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Links to all reviews on Google Maps"})]})})]})]})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:b==="carousel"?" Carousel Mode":b==="column"?" Column Mode":" Google Widget"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b==="carousel"?"Reviews will smoothly auto-scroll left, displaying 5 cards at a time. Mobile visitors can swipe to see more reviews.":b==="column"?"Reviews will be displayed in a responsive grid layout. Desktop shows 3 columns, tablet shows 2 columns, mobile shows 1 column.":"Displays a button linking to your Google Business Profile showing all reviews. Shows complete review count and authentic ratings."})]}),b==="google-widget"&&s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[s.jsxs(Hn,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[s.jsx(_o,{className:"h-4 w-4 text-green-600"}),s.jsxs(Gn,{className:"text-green-800 dark:text-green-200",children:[s.jsx("strong",{children:"Google Widget Mode:"})," No Place ID or API needed! Just paste your Google Maps link below. Your store will display reviews from the cache (if available) or show a link to Google."]})]}),s.jsx(Be,{htmlFor:"google_maps_url",children:"Google Maps URL"}),s.jsx(lt,{id:"google_maps_url",type:"url",placeholder:"https://maps.app.goo.gl/xxxxx or full Google Maps URL",value:g,onChange:z=>v(z.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the Google Maps link from your business profile (e.g., https://maps.app.goo.gl/1FiEnfPeVMheDDdz5)"}),s.jsxs(we,{onClick:U,disabled:l,className:"w-full md:w-auto",children:[l&&s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),l?"Saving...":"Save Google Maps URL"]})]})]})]}),A&&s.jsx(He,{children:s.jsxs(Xe,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${A.remaining>0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:s.jsx(No,{className:`h-6 w-6 ${A.remaining>0?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"API Calls Quota"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.used," of ",A.limit," calls used this ",A.period==="monthly"?"month":"year"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[A.remaining,"/",A.limit]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Remaining"})]})]}),A.remaining===0&&s.jsxs(Hn,{className:"mt-4 border-red-200 bg-red-50 dark:bg-red-900/20",children:[s.jsx(_o,{className:"h-4 w-4 text-red-600"}),s.jsxs(Gn,{className:"text-red-600",children:["You've reached your API call limit. Upgrade your plan or wait for the next ",A.period==="monthly"?"month":"year"," to refresh reviews."]})]})]})}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{children:["Google Place ID ",b==="google-widget"&&s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"(Optional for Widget mode)"})]}),s.jsx(hn,{children:b==="google-widget"?"Optional: Fetch reviews to display them on your store. Or skip this and just use the Google Maps URL below.":"Enter your Google Place ID to fetch reviews from Google"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs(Hn,{children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsxs(Gn,{children:[s.jsx("strong",{children:"How to find your Place ID:"}),s.jsx("div",{className:"mt-3 space-y-3",children:s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Google Place ID Finder (Easiest Method)"}),s.jsxs("p",{className:"text-xs mb-2",children:[s.jsx("strong",{children:"Official Google Tool:"})," ",s.jsx("a",{href:"https://developers.google.com/maps/documentation/javascript/examples/places-placeid-finder",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"Place ID Finder (CLICK HERE)"})]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"Open the link above"}),s.jsx("li",{children:"Type your business name in the search box"}),s.jsx("li",{children:"Click on your business marker on the map"}),s.jsx("li",{children:'The Place ID appears in the info box (starts with "ChIJ...")'}),s.jsx("li",{children:"Copy it!"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx("strong",{children:"Example:"})," ChIJN1t_tDeuEmsRUsoyG83frY4"]})]})})]})]}),s.jsxs(Hn,{className:"border-amber-200 bg-amber-50 dark:bg-amber-900/20",children:[s.jsx(_o,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Gn,{className:"text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Google API Limitation:"}),' Google Places API returns a maximum of 5 reviews, sorted by relevance (not date). New reviews may take time to appear as Google rotates which reviews it considers "most helpful". This is a Google limitation, not our system.']})]}),s.jsxs("div",{className:"space-y-2 max-w-md",children:[s.jsx(Be,{htmlFor:"place_id",children:"Google Place ID"}),s.jsx(lt,{id:"place_id",type:"text",placeholder:"ChIJN1t_tDeuEmsRUsoyG83frY4",value:h,onChange:z=>x(z.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: ChIJN1t_tDeuEmsRUsoyG83frY4"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{onClick:E,disabled:n||A?.remaining===0,children:[n&&s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),w?"Update Place ID":"Save & Fetch Reviews"]}),w&&s.jsxs(we,{variant:"outline",onClick:I,disabled:n||A?.remaining===0,children:[s.jsx(No,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh Reviews"]})]}),A?.remaining===0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["API quota exceeded. Cannot fetch reviews until next ",A.period==="monthly"?"month":"year","."]})]})]}),w&&s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Reviews Preview"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-normal text-muted-foreground",children:["Last updated: ",new Date(w.last_fetched).toLocaleDateString()]})]}),s.jsxs(hn,{children:["Showing ",w.reviews?.length||0," of ",w.total_reviews," total reviews"]})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:w.average_rating}),W(w.average_rating)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Based on ",w.total_reviews," Google reviews"]})]}),s.jsx("div",{className:"space-y-3",children:w.reviews?.slice(0,5).map((z,q)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[z.profile_photo_url&&!S[q]?s.jsx("img",{src:z.profile_photo_url,alt:z.author_name,className:"h-10 w-10 rounded-full object-cover border-2 border-white shadow-md",onError:()=>C(V=>({...V,[q]:!0})),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 rounded-full bg-gradient-to-br ${J(z.author_name)} flex items-center justify-center border-2 border-white shadow-md`,children:s.jsx("span",{className:"text-white font-bold text-xs",children:Y(z.author_name)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:z.author_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:z.relative_time_description})]}),W(z.rating)]})]}),z.text&&s.jsx("p",{className:"text-sm text-muted-foreground",children:z.text})]},q))}),w.reviews?.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+ ",w.reviews.length-5," more reviews"]})]})]}),s.jsx(He,{className:"bg-muted/50",children:s.jsx(Xe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:s.jsx(gc,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you get with Google Reviews"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Display authentic Google reviews on your store"}),s.jsx("li",{children:" Build trust and credibility with customers"}),s.jsx("li",{children:" Automatic daily review updates (cached for cost savings)"}),s.jsx("li",{children:" Multiple display widgets (carousel, grid, badge, list)"}),s.jsx("li",{children:" Professional Google-branded design"}),s.jsx("li",{children:" Mobile-responsive layouts"})]})]})]})})})]})};function smt(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var KB="ScrollArea",[mve]=bi(KB),[amt,Hd]=mve(KB),pve=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=j.useState(null),[u,d]=j.useState(null),[f,m]=j.useState(null),[h,x]=j.useState(null),[g,v]=j.useState(null),[b,_]=j.useState(0),[w,N]=j.useState(0),[S,C]=j.useState(!1),[A,R]=j.useState(!1),O=Yr(e,P=>c(P)),D=bg(a);return s.jsx(amt,{scope:r,type:n,dir:D,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:N,children:s.jsx(xr.div,{dir:D,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});pve.displayName=KB;var gve="ScrollAreaViewport",xve=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,o=Hd(gve,r),l=j.useRef(null),c=Yr(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(xr.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});xve.displayName=gve;var Qh="ScrollAreaScrollbar",XB=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Hd(Qh,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(imt,{...n,ref:e,forceMount:r}):a.type==="scroll"?s.jsx(omt,{...n,ref:e,forceMount:r}):a.type==="auto"?s.jsx(vve,{...n,ref:e,forceMount:r}):a.type==="always"?s.jsx(JB,{...n,ref:e}):null});XB.displayName=Qh;var imt=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Hd(Qh,t.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ao,{present:r||i,children:s.jsx(vve,{"data-state":i?"visible":"hidden",...n,ref:e})})}),omt=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Hd(Qh,t.__scopeScrollArea),i=t.orientation==="horizontal",o=bP(()=>c("SCROLL_END"),100),[l,c]=smt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),j.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(ao,{present:r||l!=="hidden",children:s.jsx(JB,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Xt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Xt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vve=j.forwardRef((t,e)=>{const r=Hd(Qh,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=j.useState(!1),l=t.orientation==="horizontal",c=bP(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return sw(r.viewport,c),sw(r.content,c),s.jsx(ao,{present:n||i,children:s.jsx(JB,{"data-state":i?"visible":"hidden",...a,ref:e})})}),JB=j.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=Hd(Qh,t.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=jve(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return hmt(m,o.current,l,h)}return r==="horizontal"?s.jsx(lmt,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=Kre(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(cmt,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=Kre(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),lmt=j.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Hd(Qh,t.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Yr(e,c,i.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(bve,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yP(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),Sve(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vA(o.paddingLeft),paddingEnd:vA(o.paddingRight)}})}})}),cmt=j.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Hd(Qh,t.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Yr(e,c,i.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(bve,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yP(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),Sve(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vA(o.paddingTop),paddingEnd:vA(o.paddingBottom)}})}})}),[umt,yve]=mve(Qh),bve=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=t,h=Hd(Qh,r),[x,g]=j.useState(null),v=Yr(e,O=>g(O)),b=j.useRef(null),_=j.useRef(""),w=h.viewport,N=n.content-n.viewport,S=mi(d),C=mi(c),A=bP(f,10);function R(O){if(b.current){const D=O.clientX-b.current.left,P=O.clientY-b.current.top;u({x:D,y:P})}}return j.useEffect(()=>{const O=D=>{const P=D.target;x?.contains(P)&&S(D,N)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,x,N,S]),j.useEffect(C,[n,C]),sw(x,A),sw(h.content,A),s.jsx(umt,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:mi(i),onThumbPointerUp:mi(o),onThumbPositionChange:C,onThumbPointerDown:mi(l),children:s.jsx(xr.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:Xt(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),b.current=x.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),R(O))}),onPointerMove:Xt(t.onPointerMove,R),onPointerUp:Xt(t.onPointerUp,O=>{const D=O.target;D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=_.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),xA="ScrollAreaThumb",wve=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=yve(xA,t.__scopeScrollArea);return s.jsx(ao,{present:r||a.hasThumb,children:s.jsx(dmt,{ref:e,...n})})}),dmt=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Hd(xA,r),o=yve(xA,r),{onThumbPositionChange:l}=o,c=Yr(e,f=>o.onThumbChange(f)),u=j.useRef(void 0),d=bP(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const h=mmt(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),s.jsx(xr.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Xt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:Xt(t.onPointerUp,o.onThumbPointerUp)})});wve.displayName=xA;var ZB="ScrollAreaCorner",_ve=j.forwardRef((t,e)=>{const r=Hd(ZB,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(fmt,{...t,ref:e}):null});_ve.displayName=ZB;var fmt=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=Hd(ZB,r),[i,o]=j.useState(0),[l,c]=j.useState(0),u=!!(i&&l);return sw(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),sw(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(xr.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vA(t){return t?parseInt(t,10):0}function jve(t,e){const r=t/e;return isNaN(r)?0:r}function yP(t){const e=jve(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function hmt(t,e,r,n="ltr"){const a=yP(r),i=a/2,o=e||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Nve([c,u],f)(t)}function Kre(t,e,r="ltr"){const n=yP(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=vj(t,c);return Nve([0,o],[0,l])(u)}function Nve(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Sve(t,e){return t>0&&t<e}var mmt=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&e(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function bP(t,e){const r=mi(t),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function sw(t,e){const r=mi(e);vi(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var kve=pve,pmt=xve,gmt=_ve;const Cve=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(kve,{ref:n,className:Gt("relative overflow-hidden",t),...r,children:[s.jsx(pmt,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(Ave,{}),s.jsx(gmt,{})]}));Cve.displayName=kve.displayName;const Ave=j.forwardRef(({className:t,orientation:e="vertical",...r},n)=>s.jsx(XB,{ref:n,orientation:e,className:Gt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:s.jsx(wve,{className:"relative flex-1 rounded-full bg-border"})}));Ave.displayName=XB.displayName;var wP="Popover",[Eve]=bi(wP,[xg]),CS=xg(),[xmt,Og]=Eve(wP),Pve=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=CS(e),c=j.useRef(null),[u,d]=j.useState(!1),[f,m]=ql({prop:n,defaultProp:a??!1,onChange:i,caller:wP});return s.jsx(DA,{...l,children:s.jsx(xmt,{scope:e,contentId:Vc(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:o,children:r})})};Pve.displayName=wP;var Tve="PopoverAnchor",vmt=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Og(Tve,r),i=CS(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(LN,{...i,...n,ref:e})});vmt.displayName=Tve;var Ove="PopoverTrigger",Dve=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Og(Ove,r),i=CS(r),o=Yr(e,a.triggerRef),l=s.jsx(xr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Lve(a.open),...n,ref:o,onClick:Xt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(LN,{asChild:!0,...i,children:l})});Dve.displayName=Ove;var QB="PopoverPortal",[ymt,bmt]=Eve(QB,{forceMount:void 0}),Rve=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=Og(QB,e);return s.jsx(ymt,{scope:e,forceMount:r,children:s.jsx(ao,{present:r||i.open,children:s.jsx(cw,{asChild:!0,container:a,children:n})})})};Rve.displayName=QB;var aw="PopoverContent",Ive=j.forwardRef((t,e)=>{const r=bmt(aw,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=Og(aw,t.__scopePopover);return s.jsx(ao,{present:n||i.open,children:i.modal?s.jsx(_mt,{...a,ref:e}):s.jsx(jmt,{...a,ref:e})})});Ive.displayName=aw;var wmt=H0("PopoverContent.RemoveScroll"),_mt=j.forwardRef((t,e)=>{const r=Og(aw,t.__scopePopover),n=j.useRef(null),a=Yr(e,n),i=j.useRef(!1);return j.useEffect(()=>{const o=n.current;if(o)return JA(o)},[]),s.jsx(zN,{as:wmt,allowPinchZoom:!0,children:s.jsx(Fve,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xt(t.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Xt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Xt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),jmt=j.forwardRef((t,e)=>{const r=Og(aw,t.__scopePopover),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(Fve,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Fve=j.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=Og(aw,r),h=CS(r);return KA(),s.jsx(UN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($v,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(RA,{"data-state":Lve(m.open),role:"dialog",id:m.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Mve="PopoverClose",Nmt=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Og(Mve,r);return s.jsx(xr.button,{type:"button",...n,ref:e,onClick:Xt(t.onClick,()=>a.onOpenChange(!1))})});Nmt.displayName=Mve;var Smt="PopoverArrow",kmt=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=CS(r);return s.jsx(IA,{...a,...n,ref:e})});kmt.displayName=Smt;function Lve(t){return t?"open":"closed"}var Cmt=Pve,Amt=Dve,Emt=Rve,$ve=Ive;const Pmt=Cmt,Tmt=Amt,Bve=j.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>s.jsx(Emt,{children:s.jsx($ve,{ref:a,align:e,sideOffset:r,className:Gt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Bve.displayName=$ve.displayName;const W0=({src:t,alt:e,className:r,fallback:n="/placeholder.svg",...a})=>{const[i,o]=j.useState(n),[l,c]=j.useState(!0),[u,d]=j.useState(!1),f=j.useRef(null),m=B0(t)||t;return j.useEffect(()=>{if(!f.current)return;const h=new IntersectionObserver(x=>{x.forEach(g=>{g.isIntersecting&&(d(!0),h.disconnect())})},{rootMargin:"50px"});return h.observe(f.current),()=>{h.disconnect()}},[]),j.useEffect(()=>{if(!u)return;const h=new Image;h.src=m,h.onload=()=>{o(m),c(!1)},h.onerror=()=>{o(n),c(!1)}},[m,u,n]),s.jsx("img",{ref:f,src:i,alt:e,className:Gt("transition-opacity duration-300",l?"opacity-50":"opacity-100",r),loading:"lazy",...a})},Omt=()=>{const{cart:t,cartCount:e,cartTotal:r,removeItem:n}=UA(),[a,i]=j.useState(void 0);j.useEffect(()=>{t.length>0&&t[0].storeId&&(async()=>{const{data:f}=await ae.from("stores").select("slug").eq("id",t[0].storeId).maybeSingle();f&&i(f.slug)})()},[t]);const o=Uh(),l=o?"/products":a?`/${a}/products`:"/products",c=o?"/cart":a?`/${a}/cart`:"/cart",u=o?"/checkout":a?`/${a}/checkout`:"/checkout";return s.jsxs(Pmt,{children:[s.jsx(Tmt,{asChild:!0,children:s.jsxs(we,{variant:"outline",size:"icon",className:"relative","data-cart-icon":!0,children:[s.jsx(X0,{className:"w-4 h-4"}),e>0&&s.jsx(er,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:e})]})}),s.jsxs(Bve,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Shopping Cart"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e," items"]})]}),t.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(X0,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your cart is empty"}),s.jsx(hr,{to:l,children:s.jsx(we,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Cve,{className:"h-80",children:s.jsx("div",{className:"p-4 space-y-4",children:t.map(d=>s.jsx(He,{className:"overflow-hidden",children:s.jsx(Xe,{className:"p-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(W0,{src:d.productImage,alt:d.productName,className:"w-16 h-16 object-cover rounded flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:d.productName}),d.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d.variant}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("span",{className:"text-sm font-semibold text-primary",children:["",d.price,"  ",d.quantity]}),s.jsx(we,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(d.productId,d.variant),children:s.jsx(so,{className:"w-4 h-4"})})]})]})]})})},`${d.productId}-${d.variant}`))})}),s.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(hr,{to:c,className:"w-full",children:s.jsx(we,{variant:"outline",className:"w-full min-h-[44px]",children:"View Cart"})}),s.jsx(hr,{to:u,className:"w-full",children:s.jsx(we,{className:"w-full min-h-[44px]",children:"Checkout"})})]})]})]})]})]})},Uve=async t=>{const e=await yA(t),r=bA(e);return!(!e||e.trim()===""||r==="919876543210"||r==="9876543210"||r.length<10)},yA=async t=>{try{if(t){const{data:n}=await ae.from("stores").select("whatsapp_number").eq("id",t).single();return n?.whatsapp_number||"919876543210"}const{data:{user:e}}=await ae.auth.getUser();if(!e)return"919876543210";const{data:r}=await ae.from("stores").select("whatsapp_number").eq("user_id",e.id).single();return r?.whatsapp_number||"919876543210"}catch(e){return console.error("Error fetching WhatsApp number:",e),"919876543210"}},bA=t=>t.replace(/[^0-9+]/g,""),zve=t=>{const e=new Date().toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"});let r=` *NEW ORDER REQUEST*
`;if(r+=` ${e}

`,r+=` *CUSTOMER DETAILS*
`,r+=`Name: ${t.customerName}
`,r+=`Phone: ${t.phone}
`,t.email&&(r+=`Email: ${t.email}
`),r+=`
 *DELIVERY ADDRESS*
`,r+=`${t.address}
`,t.landmark&&(r+=`Landmark: ${t.landmark}
`),r+=`PIN Code: ${t.pincode}
`,r+=`Preferred Time: ${t.deliveryTime}
`,t.latitude&&t.longitude){const n=`https://www.google.com/maps?q=${t.latitude},${t.longitude}`;r+=` Location: ${n}
`}return r+=`
`,r+=` *ORDER ITEMS*
`,r+=`
`,t.cart.forEach((n,a)=>{r+=`${a+1}. ${n.productName}
`,n.variant&&(r+=`   Variant: ${n.variant}
`),n.sku&&(r+=`   SKU: ${n.sku}
`),r+=`   Qty: ${n.quantity}  ${n.price.toFixed(2)}
`,r+=`   Subtotal: ${(n.quantity*n.price).toFixed(2)}

`}),r+=`
`,r+=` *PAYMENT SUMMARY*
`,r+=`Subtotal: ${t.subtotal.toFixed(2)}
`,r+=`Delivery: ${t.deliveryCharge.toFixed(2)}
`,r+=`*Total Amount: ${t.total.toFixed(2)}*

`,t.paymentMethod==="online"?(r+=` *PAYMENT COMPLETED*
`,r+=` Payment Method: Online Payment (${t.paymentGateway||"Gateway"})
`,t.orderNumber&&(r+=` Order Number: ${t.orderNumber}
`),t.transactionId&&(r+=` Transaction ID: ${t.transactionId}
`),r+=` Payment Status: PAID

`,r+="Order is confirmed and payment received. Please process this order. Thank you! "):(r+=` Payment Method: Cash on Delivery (COD)

`,r+="Please confirm this order. Thank you! "),r},Dmt=()=>` Hi! I have a question about your products/services.

Could you please help me?

Thank you! `,qve=async(t,e,r,n=!1)=>{if(!await Uve(r))return{success:!1,error:"WhatsApp number is not configured. Please contact the store owner to set up a valid WhatsApp number in admin settings."};const a=await yA(r),i=bA(a);if(i==="919876543210"||i==="9876543210")return{success:!1,error:"Invalid WhatsApp number. The default number 9876543210 is not allowed. Please contact the store owner to set up a valid WhatsApp number."};const o=encodeURIComponent(t),l=`https://wa.me/${i}?text=${o}`;if(n)if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const u=`whatsapp://send?phone=${i}&text=${o}`;window.location.href=u}else window.location.href=l;else{const c=document.createElement("a");c.href=l,c.target="_blank",c.rel="noopener noreferrer",c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}return{success:!0}},qc=({storeSlug:t,storeId:e})=>{const[r,n]=j.useState(!1),[a,i]=j.useState(""),o=en(),{toast:l}=ga(),c=Uh(),u=c?"/":t?`/${t}`:"/home",d=c?"/products":t?`/${t}/products`:"/products",f=c?"/categories":t?`/${t}/categories`:"/categories",m=x=>{x.preventDefault(),a.trim()&&(o(`${d}?search=${encodeURIComponent(a)}`),i(""))},h=async()=>{const x=Dmt(),g=await qve(x,void 0,e);g.success||l({title:"WhatsApp Not Configured",description:g.error,variant:"destructive"})};return s.jsxs("header",{className:"sticky top-0 z-50 bg-background border-b border-border shadow-sm",children:[s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs(hr,{to:u,className:"flex items-center gap-2 group",children:[s.jsx(pv,{size:24,className:"transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"}),s.jsx("span",{className:"text-xl font-bold text-foreground hidden sm:block transition-colors duration-300 group-hover:text-primary",children:"MyStore"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsx(hr,{to:u,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Home"}),s.jsx(hr,{to:d,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Products"}),s.jsx(hr,{to:f,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Categories"}),s.jsx(hr,{to:`${u}#about`,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"About"})]}),s.jsx("form",{onSubmit:m,className:"hidden lg:flex flex-1 max-w-md",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(lt,{type:"text",placeholder:"Search products...",value:a,onChange:x=>i(x.target.value),className:"pr-10"}),s.jsx(we,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(Vl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{variant:"outline",size:"icon",onClick:h,className:"hidden sm:flex min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",children:s.jsx(Tf,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"})}),s.jsx(dl,{}),s.jsx(Omt,{}),s.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",onClick:()=>n(!r),children:r?s.jsx(so,{className:"w-5 h-5 animate-in spin-in-180 duration-300"}):s.jsx(RN,{className:"w-5 h-5 animate-in fade-in duration-300"})})]})]}),s.jsx("form",{onSubmit:m,className:"lg:hidden mt-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(lt,{type:"text",placeholder:"Search products...",value:a,onChange:x=>i(x.target.value),className:"pr-10"}),s.jsx(we,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(Vl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-border bg-background animate-in slide-in-from-top-2 duration-300",children:s.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[s.jsx(hr,{to:u,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300",onClick:()=>n(!1),children:"Home"}),s.jsx(hr,{to:d,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-75",onClick:()=>n(!1),children:"Products"}),s.jsx(hr,{to:f,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-150",onClick:()=>n(!1),children:"Categories"}),s.jsx(hr,{to:`${u}#about`,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-200",onClick:()=>n(!1),children:"About"}),s.jsxs(we,{onClick:h,className:"w-full min-h-[48px] animate-in fade-in slide-in-from-bottom-2 duration-300 delay-300 group",children:[s.jsx(Tf,{className:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12"}),"Contact on WhatsApp"]})]})})]})},Xm=()=>s.jsx("footer",{className:"bg-muted border-t border-border mt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(pv,{size:28}),s.jsx("h3",{className:"font-bold text-foreground",children:"MyStore"})]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Your trusted online store for quality products at great prices. We deliver happiness to your doorstep."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(K0,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"123 Store Street, City, State 12345"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"+91 1234567890"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"contact@mystore.com"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(EL,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(Od,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(PL,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-8 pt-8 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," MyStore. All rights reserved."]})})]})});function s2(t){const{productName:e,storeName:r,category:n,variant:a,imageIndex:i}=t,o=[];if(o.push(e),a&&o.push(a),i!==void 0&&i>0){const u=["front view","side view","back view","detail view","alternate view"][i]||"additional view";o.push(u)}n&&o.push(`in ${n}`),r&&o.push(`at ${r}`);let l=o.join(" - ");return l.length>125&&(l=l.substring(0,122)+"..."),l}function Rmt(t){const{storeName:e,imageType:r,description:n}=t;switch(r){case"logo":return`${e} logo`;case"banner":return n?`${e} - ${n}`:`${e} banner`;case"hero":return n?`${e} - ${n}`:`${e} hero image`;case"thumbnail":return`${e} thumbnail`;default:return`${e} image`}}function Imt(t,e){return e?`${t} category at ${e}`:`${t} category`}const iw=({id:t,slug:e,name:r,category:n,priceRange:a,price_range:i,images:o,status:l,storeSlug:c})=>{const u=en(),[d,f]=j.useState(!1),m=o&&o.length>0?o[0]:"/placeholder.svg",h=a||i||"Price on request",x=e||t,v=Uh()?`/products/${x}`:c?`/${c}/products/${x}`:`/products/${x}`,b=_=>{_.preventDefault(),!d&&(f(!0),setTimeout(()=>{u(v)},700))};return s.jsx(Ys.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},animate:d?{scale:.95}:{scale:1},onClick:b,className:"cursor-pointer","data-ai":"product-card",children:s.jsxs(He,{className:"group hover:shadow-lg transition-all duration-300 overflow-hidden",children:[s.jsx(Xe,{className:"p-0",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[s.jsx(W0,{src:m,alt:s2({productName:r,storeName:c,category:n||void 0}),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l==="draft"&&s.jsx(er,{className:"absolute top-2 right-2",variant:"secondary",children:"Coming Soon"})]})}),s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:n}),s.jsx("h3",{className:"font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:r}),s.jsx("p",{className:"text-lg font-bold text-primary",children:h})]}),s.jsx(cae,{className:"p-4 pt-0",children:s.jsx(we,{className:"w-full min-h-[44px]",variant:"outline",children:"View Details"})})]})})},eU=({name:t,image_url:e,productCount:r=0,slug:n})=>{const a=en(),[i,o]=j.useState(!1),c=Uh()?`/products?category=${encodeURIComponent(t)}`:n?`/${n}/products?category=${encodeURIComponent(t)}`:`/products?category=${encodeURIComponent(t)}`,u=["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop"],f=e?B0(e):(()=>{const h=t.split("").reduce((x,g)=>x+g.charCodeAt(0),0);return u[h%u.length]})(),m=()=>{i||(o(!0),setTimeout(()=>{a(c)},700))};return s.jsx("div",{className:"block p-2 cursor-pointer","data-ai":"category-card",onClick:m,children:s.jsx(Ys.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},className:"group h-full",animate:i?{scale:.95}:{scale:1},children:s.jsx(He,{className:"relative h-full border-2 border-transparent bg-card/50 backdrop-blur-sm hover:bg-card hover:border-primary transition-all duration-500 shadow-md hover:shadow-[0_5px_40px_-20px_rgba(0,0,0,0.4)] rounded-2xl",children:s.jsx(Xe,{className:"p-0 relative",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-xl",children:[s.jsx(W0,{src:f,alt:Imt(t),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-90 group-hover:brightness-100"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/40 to-transparent opacity-80 group-hover:opacity-70 transition-opacity duration-500"}),s.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 transform translate-y-0 transition-transform duration-500",children:[s.jsx("h3",{className:"font-bold text-base md:text-lg text-foreground drop-shadow-lg transition-colors duration-300",children:t}),r!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 opacity-90 group-hover:text-primary transition-colors duration-300",children:[r," ",r===1?"product":"products"]})]})]})})})})})},_P=({size:t="md",className:e,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return s.jsxs("div",{className:Gt("flex flex-col items-center justify-center gap-3",e),children:[s.jsx(pr,{className:Gt("animate-spin text-primary",n[t])}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},Fmt=({text:t="Loading..."})=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(_P,{size:"lg",text:t})});function Mmt(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xre(t){return Mmt(t)||Array.isArray(t)}function Lmt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function tU(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!Xre(l)||!Xre(c)?l===c:tU(l,c)})}function Jre(t){return t.concat().sort((e,r)=>e.name>r.name?1:-1).map(e=>e.options)}function $mt(t,e){if(t.length!==e.length)return!1;const r=Jre(t),n=Jre(e);return r.every((a,i)=>{const o=n[i];return tU(a,o)})}function rU(t){return typeof t=="number"}function vL(t){return typeof t=="string"}function jP(t){return typeof t=="boolean"}function Zre(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ka(t){return Math.abs(t)}function nU(t){return Math.sign(t)}function K2(t,e){return Ka(t-e)}function Bmt(t,e){if(t===0||e===0||Ka(t)<=Ka(e))return 0;const r=K2(Ka(t),Ka(e));return Ka(r/t)}function Umt(t){return Math.round(t*100)/100}function EN(t){return PN(t).map(Number)}function Ff(t){return t[AS(t)]}function AS(t){return Math.max(0,t.length-1)}function sU(t,e){return e===AS(t)}function Qre(t,e=0){return Array.from(Array(t),(r,n)=>e+n)}function PN(t){return Object.keys(t)}function Vve(t,e){return[t,e].reduce((r,n)=>(PN(n).forEach(a=>{const i=r[a],o=n[a],l=Zre(i)&&Zre(o);r[a]=l?Vve(i,o):o}),r),{})}function yL(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function zmt(t,e){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return e-c}function o(c,u){return vL(t)?r[t](c):t(e,c,u)}return{measure:o}}function TN(){let t=[];function e(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return t.push(c),n}function r(){t=t.filter(a=>a())}const n={add:e,clear:r};return n}function qmt(t,e,r,n){const a=TN(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(t,"visibilitychange",()=>{t.hidden&&x()})}function d(){h(),a.clear()}function f(v){if(!c)return;o||(o=v,r(),r());const b=v-o;for(o=v,l+=b;l>=i;)r(),l-=i;const _=l/i;n(_),c&&(c=e.requestAnimationFrame(f))}function m(){c||(c=e.requestAnimationFrame(f))}function h(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function x(){o=null,l=0}return{init:u,destroy:d,start:m,stop:h,update:r,render:n}}function Vmt(t,e){const r=e==="rtl",n=t==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(x){const{height:g,width:v}=x;return n?g:v}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(x){return x*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function Lv(t=0,e=0){const r=Ka(t-e);function n(u){return u<t}function a(u){return u>e}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?t:e:u}function l(u){return r?u-r*Math.ceil((u-e)/r):u}return{length:r,max:e,min:t,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function Wve(t,e,r){const{constrain:n}=Lv(0,t),a=t+1;let i=o(e);function o(m){return r?Ka((a+m)%a):n(m)}function l(){return i}function c(m){return i=o(m),f}function u(m){return d().set(l()+m)}function d(){return Wve(t,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function Wmt(t,e,r,n,a,i,o,l,c,u,d,f,m,h,x,g,v,b,_){const{cross:w,direction:N}=t,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},A=TN(),R=TN(),O=Lv(50,225).constrain(h.measure(20)),D={mouse:300,touch:400},P={mouse:500,touch:600},E=x?43:25;let I=!1,M=0,U=0,W=!1,Y=!1,J=!1,z=!1;function q(Z){if(!_)return;function Oe(le){(jP(_)||_(Z,le))&&oe(le)}const re=e;A.add(re,"dragstart",le=>le.preventDefault(),C).add(re,"touchmove",()=>{},C).add(re,"touchend",()=>{}).add(re,"touchstart",Oe).add(re,"mousedown",Oe).add(re,"touchcancel",de).add(re,"contextmenu",de).add(re,"click",ne,!0)}function V(){A.clear(),R.clear()}function L(){const Z=z?r:e;R.add(Z,"touchmove",ce,C).add(Z,"touchend",de).add(Z,"mousemove",ce,C).add(Z,"mouseup",de)}function X(Z){const Oe=Z.nodeName||"";return S.includes(Oe)}function K(){return(x?P:D)[z?"mouse":"touch"]}function Q(Z,Oe){const re=f.add(nU(Z)*-1),le=d.byDistance(Z,!x).distance;return x||Ka(Z)<O?le:v&&Oe?le*.5:d.byIndex(re.get(),0).distance}function oe(Z){const Oe=yL(Z,n);z=Oe,J=x&&Oe&&!Z.buttons&&I,I=K2(a.get(),o.get())>=2,!(Oe&&Z.button!==0)&&(X(Z.target)||(W=!0,i.pointerDown(Z),u.useFriction(0).useDuration(0),a.set(o),L(),M=i.readPoint(Z),U=i.readPoint(Z,w),m.emit("pointerDown")))}function ce(Z){if(!yL(Z,n)&&Z.touches.length>=2)return de(Z);const re=i.readPoint(Z),le=i.readPoint(Z,w),We=K2(re,M),xe=K2(le,U);if(!Y&&!z&&(!Z.cancelable||(Y=We>xe,!Y)))return de(Z);const Le=i.pointerMove(Z);We>g&&(J=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(N(Le)),Z.preventDefault()}function de(Z){const re=d.byDistance(0,!1).index!==f.get(),le=i.pointerUp(Z)*K(),We=Q(N(le),re),xe=Bmt(le,We),Le=E-10*xe,ke=b+xe/50;Y=!1,W=!1,R.clear(),u.useDuration(Le).useFriction(ke),c.distance(We,!x),z=!1,m.emit("pointerUp")}function ne(Z){J&&(Z.stopPropagation(),Z.preventDefault(),J=!1)}function ue(){return W}return{init:q,destroy:V,pointerDown:ue}}function Hmt(t,e){let n,a;function i(f){return f.timeStamp}function o(f,m){const x=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(yL(f,e)?f:f.touches[0])[x]}function l(f){return n=f,a=f,o(f)}function c(f){const m=o(f)-o(a),h=i(f)-i(n)>170;return a=f,h&&(n=f),m}function u(f){if(!n||!a)return 0;const m=o(a)-o(n),h=i(f)-i(n),x=i(f)-i(a)>170,g=m/h;return h&&!x&&Ka(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function Gmt(){function t(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:t}}function Ymt(t){function e(n){return t*(n/100)}return{measure:e}}function Kmt(t,e,r,n,a,i,o){const l=[t].concat(n);let c,u,d=[],f=!1;function m(v){return a.measureSize(o.measure(v))}function h(v){if(!i)return;u=m(t),d=n.map(m);function b(_){for(const w of _){if(f)return;const N=w.target===t,S=n.indexOf(w.target),C=N?u:d[S],A=m(N?t:n[S]);if(Ka(A-C)>=.5){v.reInit(),e.emit("resize");break}}}c=new ResizeObserver(_=>{(jP(i)||i(v,_))&&b(_)}),r.requestAnimationFrame(()=>{l.forEach(_=>c.observe(_))})}function x(){f=!0,c&&c.disconnect()}return{init:h,destroy:x}}function Xmt(t,e,r,n,a,i){let o=0,l=0,c=a,u=i,d=t.get(),f=0;function m(){const C=n.get()-t.get(),A=!c;let R=0;return A?(o=0,r.set(n),t.set(n),R=C):(r.set(t),o+=C/c,o*=u,d+=o,t.add(o),R=d-f),l=nU(R),f=d,S}function h(){const C=n.get()-e.get();return Ka(C)<.001}function x(){return c}function g(){return l}function v(){return o}function b(){return w(a)}function _(){return N(i)}function w(C){return c=C,S}function N(C){return u=C,S}const S={direction:g,duration:x,velocity:v,seek:m,settled:h,useBaseFriction:_,useBaseDuration:b,useFriction:N,useDuration:w};return S}function Jmt(t,e,r,n,a){const i=a.measure(10),o=a.measure(50),l=Lv(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(r.get())||!t.reachedAny(e.get()))}function d(h){if(!u())return;const x=t.reachedMin(e.get())?"min":"max",g=Ka(t[x]-e.get()),v=r.get()-e.get(),b=l.constrain(g/o);r.subtract(v*b),!h&&Ka(v)<i&&(r.set(t.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(h){c=!h}return{shouldConstrain:u,constrain:d,toggleActive:f}}function Zmt(t,e,r,n,a){const i=Lv(-e+t,0),o=f(),l=d(),c=m();function u(x,g){return K2(x,g)<=1}function d(){const x=o[0],g=Ff(o),v=o.lastIndexOf(x),b=o.indexOf(g)+1;return Lv(v,b)}function f(){return r.map((x,g)=>{const{min:v,max:b}=i,_=i.constrain(x),w=!g,N=sU(r,g);return w?b:N||u(v,_)?v:u(b,_)?b:_}).map(x=>parseFloat(x.toFixed(3)))}function m(){if(e<=t+a)return[i.max];if(n==="keepSnaps")return o;const{min:x,max:g}=l;return o.slice(x,g)}return{snapsContained:c,scrollContainLimit:l}}function Qmt(t,e,r){const n=e[0],a=r?n-t:Ff(e);return{limit:Lv(a,n)}}function ept(t,e,r,n){const i=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=Lv(i,o);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function d(m){if(!u(m))return;const h=t*(m*-1);n.forEach(x=>x.add(h))}return{loop:d}}function tpt(t){const{max:e,length:r}=t;function n(i){const o=i-e;return r?o/-r:0}return{get:n}}function rpt(t,e,r,n,a){const{startEdge:i,endEdge:o}=t,{groupSlides:l}=a,c=f().map(e.measure),u=m(),d=h();function f(){return l(n).map(g=>Ff(g)[o]-g[0][i]).map(Ka)}function m(){return n.map(g=>r[i]-g[i]).map(g=>-Ka(g))}function h(){return l(u).map(g=>g[0]).map((g,v)=>g+c[v])}return{snaps:u,snapsAligned:d}}function npt(t,e,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const m=o(i),h=!t||e==="keepSnaps";return r.length===1?[i]:h?m:m.slice(l,c).map((x,g,v)=>{const b=!g,_=sU(v,g);if(b){const w=Ff(v[0])+1;return Qre(w)}if(_){const w=AS(i)-Ff(v)[0]+1;return Qre(w,Ff(v)[0])}return x})}return{slideRegistry:u}}function spt(t,e,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(x){return x.concat().sort((g,v)=>Ka(g)-Ka(v))[0]}function u(x){const g=t?o(x):l(x),v=e.map((_,w)=>({diff:d(_-g,0),index:w})).sort((_,w)=>Ka(_.diff)-Ka(w.diff)),{index:b}=v[0];return{index:b,distance:g}}function d(x,g){const v=[x,x+r,x-r];if(!t)return x;if(!g)return c(v);const b=v.filter(_=>nU(_)===g);return b.length?c(b):Ff(v)-r}function f(x,g){const v=e[x]-a.get(),b=d(v,g);return{index:x,distance:b}}function m(x,g){const v=a.get()+x,{index:b,distance:_}=u(v),w=!t&&i(v);if(!g||w)return{index:b,distance:x};const N=e[b]-_,S=x+d(N,0);return{index:b,distance:S}}return{byDistance:m,byIndex:f,shortcut:d}}function apt(t,e,r,n,a,i,o){function l(f){const m=f.distance,h=f.index!==e.get();i.add(m),m&&(n.duration()?t.start():(t.update(),t.render(1),t.update())),h&&(r.set(e.get()),e.set(f.index),o.emit("select"))}function c(f,m){const h=a.byDistance(f,m);l(h)}function u(f,m){const h=e.clone().set(f),x=a.byIndex(h.get(),m);l(x)}return{distance:c,index:u}}function ipt(t,e,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(h){if(!l)return;function x(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const _=r.findIndex(w=>w.includes(g));rU(_)&&(a.useDuration(0),n.index(_,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),e.forEach((g,v)=>{i.add(g,"focus",b=>{(jP(l)||l(h,b))&&x(v)},c)})}function f(h){h.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function a2(t){let e=t;function r(){return e}function n(c){e=o(c)}function a(c){e+=o(c)}function i(c){e-=o(c)}function o(c){return rU(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function Hve(t,e){const r=t.scroll==="x"?o:l,n=e.style;let a=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const h=Umt(t.direction(m));h!==a&&(n.transform=r(h),a=h)}function u(m){i=!m}function d(){i||(n.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function opt(t,e,r,n,a,i,o,l,c){const d=EN(a),f=EN(a).reverse(),m=b().concat(_());function h(A,R){return A.reduce((O,D)=>O-a[D],R)}function x(A,R){return A.reduce((O,D)=>h(O,R)>0?O.concat([D]):O,[])}function g(A){return i.map((R,O)=>({start:R-n[O]+.5+A,end:R+e-.5+A}))}function v(A,R,O){const D=g(R);return A.map(P=>{const E=O?0:-r,I=O?r:0,M=O?"end":"start",U=D[P][M];return{index:P,loopPoint:U,slideLocation:a2(-1),translate:Hve(t,c[P]),target:()=>l.get()>U?E:I}})}function b(){const A=o[0],R=x(f,A);return v(R,r,!1)}function _(){const A=e-o[0]-1,R=x(d,A);return v(R,-r,!0)}function w(){return m.every(({index:A})=>{const R=d.filter(O=>O!==A);return h(R,e)<=.1})}function N(){m.forEach(A=>{const{target:R,translate:O,slideLocation:D}=A,P=R();P!==D.get()&&(O.to(P),D.set(P))})}function S(){m.forEach(A=>A.translate.clear())}return{canLoop:w,clear:S,loop:N,loopPoints:m}}function lpt(t,e,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(jP(r)||r(c,d))&&u(d)}),n.observe(t,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function cpt(t,e,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(x=>{c||(x.forEach(g=>{const v=e.indexOf(g.target);a[v]=g}),i=null,o=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:n}),e.forEach(x=>l.observe(x))}function d(){l&&l.disconnect(),c=!0}function f(x){return PN(a).reduce((g,v)=>{const b=parseInt(v),{isIntersecting:_}=a[b];return(x&&_||!x&&!_)&&g.push(b),g},[])}function m(x=!0){if(x&&i)return i;if(!x&&o)return o;const g=f(x);return x&&(i=g),x||(o=g),g}return{init:u,destroy:d,get:m}}function upt(t,e,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=t,u=r[0]&&a,d=x(),f=g(),m=r.map(o),h=v();function x(){if(!u)return 0;const _=r[0];return Ka(e[l]-_[l])}function g(){if(!u)return 0;const _=i.getComputedStyle(Ff(n));return parseFloat(_.getPropertyValue(`margin-${c}`))}function v(){return r.map((_,w,N)=>{const S=!w,C=sU(N,w);return S?m[w]+d:C?m[w]+f:N[w+1][l]-_[l]}).map(Ka)}return{slideSizes:m,slideSizesWithGaps:h,startGap:d,endGap:f}}function dpt(t,e,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=t,m=rU(r);function h(b,_){return EN(b).filter(w=>w%_===0).map(w=>b.slice(w,w+_))}function x(b){return b.length?EN(b).reduce((_,w,N)=>{const S=Ff(_)||0,C=S===0,A=w===AS(b),R=a[u]-i[S][u],O=a[u]-i[w][d],D=!n&&C?f(o):0,P=!n&&A?f(l):0,E=Ka(O-P-(R+D));return N&&E>e+c&&_.push(w),A&&_.push(b.length),_},[]).map((_,w,N)=>{const S=Math.max(N[w-1]||0);return b.slice(S,_)}):[]}function g(b){return m?h(b,r):x(b)}return{groupSlides:g}}function fpt(t,e,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:m,dragFree:h,dragThreshold:x,inViewThreshold:g,slidesToScroll:v,skipSnaps:b,containScroll:_,watchResize:w,watchSlides:N,watchDrag:S,watchFocus:C}=i,A=2,R=Gmt(),O=R.measure(e),D=r.map(R.measure),P=Vmt(c,u),E=P.measureSize(O),I=Ymt(E),M=zmt(l,E),U=!f&&!!_,W=f||!!_,{slideSizes:Y,slideSizesWithGaps:J,startGap:z,endGap:q}=upt(P,O,D,r,W,a),V=dpt(P,E,v,f,O,D,z,q,A),{snaps:L,snapsAligned:X}=rpt(P,M,O,D,V),K=-Ff(L)+Ff(J),{snapsContained:Q,scrollContainLimit:oe}=Zmt(E,K,X,_,A),ce=U?Q:X,{limit:de}=Qmt(K,ce,f),ne=Wve(AS(ce),d,f),ue=ne.clone(),se=EN(r),Z=({dragHandler:tt,scrollBody:Ve,scrollBounds:Me,options:{loop:ht}})=>{ht||Me.constrain(tt.pointerDown()),Ve.seek()},Oe=({scrollBody:tt,translate:Ve,location:Me,offsetLocation:ht,previousLocation:Ce,scrollLooper:st,slideLooper:Ue,dragHandler:Ke,animation:at,eventHandler:St,scrollBounds:qt,options:{loop:Ut}},Qt)=>{const Vt=tt.settled(),wr=!qt.shouldConstrain(),dr=Ut?Vt:Vt&&wr,br=dr&&!Ke.pointerDown();br&&at.stop();const Cr=Me.get()*Qt+Ce.get()*(1-Qt);ht.set(Cr),Ut&&(st.loop(tt.direction()),Ue.loop()),Ve.to(ht.get()),br&&St.emit("settle"),dr||St.emit("scroll")},re=qmt(n,a,()=>Z(Je),tt=>Oe(Je,tt)),le=.68,We=ce[ne.get()],xe=a2(We),Le=a2(We),ke=a2(We),fe=a2(We),ye=Xmt(xe,ke,Le,fe,m,le),qe=spt(f,ce,K,de,fe),Qe=apt(re,ne,ue,ye,qe,fe,o),ct=tpt(de),Ye=TN(),me=cpt(e,r,o,g),{slideRegistry:Se}=npt(U,_,ce,oe,V,se),_e=ipt(t,r,Se,Qe,ye,Ye,o,C),Je={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:O,slideRects:D,animation:re,axis:P,dragHandler:Wmt(P,t,n,a,fe,Hmt(P,a),xe,re,Qe,ye,qe,ne,o,I,h,x,b,le,S),eventStore:Ye,percentOfView:I,index:ne,indexPrevious:ue,limit:de,location:xe,offsetLocation:ke,previousLocation:Le,options:i,resizeHandler:Kmt(e,o,a,r,P,w,R),scrollBody:ye,scrollBounds:Jmt(de,ke,fe,ye,I),scrollLooper:ept(K,de,ke,[xe,ke,Le,fe]),scrollProgress:ct,scrollSnapList:ce.map(ct.get),scrollSnaps:ce,scrollTarget:qe,scrollTo:Qe,slideLooper:opt(P,E,K,Y,J,L,ce,ke,r),slideFocus:_e,slidesHandler:lpt(e,o,N),slidesInView:me,slideIndexes:se,slideRegistry:Se,slidesToScroll:V,target:fe,translate:Hve(P,e)};return Je}function hpt(){let t={},e;function r(u){e=u}function n(u){return t[u]||[]}function a(u){return n(u).forEach(d=>d(e,u)),c}function i(u,d){return t[u]=n(u).concat([d]),c}function o(u,d){return t[u]=n(u).filter(f=>f!==d),c}function l(){t={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const mpt={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function ppt(t){function e(i,o){return Vve(i,o||{})}function r(i){const o=i.breakpoints||{},l=PN(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>e(c,u),{});return e(i,l)}function n(i){return i.map(o=>PN(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:r,optionsMediaQueries:n}}function gpt(t){let e=[];function r(i,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(i,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){e=e.filter(i=>i.destroy())}return{init:r,destroy:n}}function wA(t,e,r){const n=t.ownerDocument,a=n.defaultView,i=ppt(a),o=gpt(i),l=TN(),c=hpt(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:m,off:h,emit:x}=c,g=P;let v=!1,b,_=u(mpt,wA.globalOptions),w=u(_),N=[],S,C,A;function R(){const{container:se,slides:Z}=w;C=(vL(se)?t.querySelector(se):se)||t.children[0];const re=vL(Z)?C.querySelectorAll(Z):Z;A=[].slice.call(re||C.children)}function O(se){const Z=fpt(t,C,A,n,a,se,c);if(se.loop&&!Z.slideLooper.canLoop()){const Oe=Object.assign({},se,{loop:!1});return O(Oe)}return Z}function D(se,Z){v||(_=u(_,se),w=d(_),N=Z||N,R(),b=O(w),f([_,...N.map(({options:Oe})=>Oe)]).forEach(Oe=>l.add(Oe,"change",P)),w.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(ue),b.eventHandler.init(ue),b.resizeHandler.init(ue),b.slidesHandler.init(ue),b.options.loop&&b.slideLooper.loop(),C.offsetParent&&A.length&&b.dragHandler.init(ue),S=o.init(ue,N)))}function P(se,Z){const Oe=V();E(),D(u({startIndex:Oe},se),Z),c.emit("reInit")}function E(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),o.destroy(),l.clear()}function I(){v||(v=!0,l.clear(),E(),c.emit("destroy"),c.clear())}function M(se,Z,Oe){!w.active||v||(b.scrollBody.useBaseFriction().useDuration(Z===!0?0:w.duration),b.scrollTo.index(se,Oe||0))}function U(se){const Z=b.index.add(1).get();M(Z,se,-1)}function W(se){const Z=b.index.add(-1).get();M(Z,se,1)}function Y(){return b.index.add(1).get()!==V()}function J(){return b.index.add(-1).get()!==V()}function z(){return b.scrollSnapList}function q(){return b.scrollProgress.get(b.offsetLocation.get())}function V(){return b.index.get()}function L(){return b.indexPrevious.get()}function X(){return b.slidesInView.get()}function K(){return b.slidesInView.get(!1)}function Q(){return S}function oe(){return b}function ce(){return t}function de(){return C}function ne(){return A}const ue={canScrollNext:Y,canScrollPrev:J,containerNode:de,internalEngine:oe,destroy:I,off:h,on:m,emit:x,plugins:Q,previousScrollSnap:L,reInit:g,rootNode:ce,scrollNext:U,scrollPrev:W,scrollProgress:q,scrollSnapList:z,scrollTo:M,selectedScrollSnap:V,slideNodes:ne,slidesInView:X,slidesNotInView:K};return D(e,r),setTimeout(()=>c.emit("init"),0),ue}wA.globalOptions=void 0;function aU(t={},e=[]){const r=j.useRef(t),n=j.useRef(e),[a,i]=j.useState(),[o,l]=j.useState(),c=j.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return j.useEffect(()=>{tU(r.current,t)||(r.current=t,c())},[t,c]),j.useEffect(()=>{$mt(n.current,e)||(n.current=e,c())},[e,c]),j.useEffect(()=>{if(Lmt()&&o){wA.globalOptions=aU.globalOptions;const u=wA(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}aU.globalOptions=void 0;const Gve=j.createContext(null);function NP(){const t=j.useContext(Gve);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const iU=j.forwardRef(({orientation:t="horizontal",opts:e,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=aU({...e,axis:t==="horizontal"?"x":"y"},n),[d,f]=j.useState(!1),[m,h]=j.useState(!1),x=j.useCallback(_=>{_&&(f(_.canScrollPrev()),h(_.canScrollNext()))},[]),g=j.useCallback(()=>{u?.scrollPrev()},[u]),v=j.useCallback(()=>{u?.scrollNext()},[u]),b=j.useCallback(_=>{_.key==="ArrowLeft"?(_.preventDefault(),g()):_.key==="ArrowRight"&&(_.preventDefault(),v())},[g,v]);return j.useEffect(()=>{!u||!r||r(u)},[u,r]),j.useEffect(()=>{if(u)return x(u),u.on("reInit",x),u.on("select",x),()=>{u?.off("select",x)}},[u,x]),s.jsx(Gve.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||(e?.axis==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:b,className:Gt("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});iU.displayName="Carousel";const oU=j.forwardRef(({className:t,...e},r)=>{const{carouselRef:n,orientation:a}=NP();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:Gt("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});oU.displayName="CarouselContent";const _A=j.forwardRef(({className:t,...e},r)=>{const{orientation:n}=NP();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Gt("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",t),...e})});_A.displayName="CarouselItem";const lU=j.forwardRef(({className:t,variant:e="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=NP();return s.jsxs(we,{ref:a,variant:e,size:r,className:Gt("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...n,children:[s.jsx(Ud,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});lU.displayName="CarouselPrevious";const cU=j.forwardRef(({className:t,variant:e="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=NP();return s.jsxs(we,{ref:a,variant:e,size:r,className:Gt("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...n,children:[s.jsx(eo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});cU.displayName="CarouselNext";const xpt={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function vpt(t,e){const r=t.scrollSnapList();return typeof e=="number"?r.map(()=>e):e(r,t)}function ypt(t,e){const r=t.rootNode();return e&&e(r)||r}function uU(t={}){let e,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(M,U){r=M;const{mergeOptions:W,optionsAtMedia:Y}=U,J=W(xpt,uU.globalOptions),z=W(J,t);if(e=Y(z),r.scrollSnapList().length<=1)return;d=e.jump,n=!1,a=vpt(r,e.delay);const{eventStore:q,ownerDocument:V}=r.internalEngine(),L=!!r.internalEngine().options.watchDrag,X=ypt(r,e.rootNode);q.add(V,"visibilitychange",b),L&&r.on("pointerDown",w),L&&!e.stopOnInteraction&&r.on("pointerUp",N),e.stopOnMouseEnter&&q.add(X,"mouseenter",S),e.stopOnMouseEnter&&!e.stopOnInteraction&&q.add(X,"mouseleave",C),e.stopOnFocusIn&&r.on("slideFocusStart",v),e.stopOnFocusIn&&!e.stopOnInteraction&&q.add(r.containerNode(),"focusout",g),e.playOnInit&&g()}function m(){r.off("pointerDown",w).off("pointerUp",N).off("slideFocusStart",v),v(),n=!0,l=!1}function h(){const{ownerWindow:M}=r.internalEngine();M.clearTimeout(o),o=M.setTimeout(P,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function x(){const{ownerWindow:M}=r.internalEngine();M.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function g(){if(!n){if(_()){u=!0;return}l||r.emit("autoplay:play"),h(),l=!0}}function v(){n||(l&&r.emit("autoplay:stop"),x(),l=!1)}function b(){if(_())return u=l,v();u&&g()}function _(){const{ownerDocument:M}=r.internalEngine();return M.visibilityState==="hidden"}function w(){c||v()}function N(){c||g()}function S(){c=!0,v()}function C(){c=!1,g()}function A(M){typeof M<"u"&&(d=M),g()}function R(){l&&v()}function O(){l&&g()}function D(){return l}function P(){const{index:M}=r.internalEngine(),U=M.clone().add(1).get(),W=r.scrollSnapList().length-1,Y=e.stopOnLastSnap&&U===W;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),Y)return v();g()}function E(){if(!i)return null;const M=a[r.selectedScrollSnap()],U=new Date().getTime()-i;return M-U}return{name:"autoplay",options:t,init:f,destroy:m,play:A,stop:R,reset:O,isPlaying:D,timeUntilNext:E}}uU.globalOptions=void 0;const Yve=({bannerUrls:t,storeName:e,logoUrl:r,storeDescription:n})=>{const[a,i]=j.useState([]);return j.useEffect(()=>{const o=t.map(l=>B0(l)||l).filter(Boolean);i(o)},[t]),a.length?s.jsx("section",{className:"relative",children:s.jsxs(iU,{className:"w-full",plugins:[uU({delay:4e3,stopOnInteraction:!1})],opts:{loop:!0},children:[s.jsx(oU,{children:a.map((o,l)=>s.jsx(_A,{children:s.jsx("div",{className:"relative h-[300px] md:h-[380px] lg:h-[450px]",children:s.jsx(W0,{src:o,alt:Rmt({storeName:e,imageType:"banner",description:n||void 0}),className:"absolute inset-0 w-full h-full object-fill"})})},l))}),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(lU,{className:"left-4 bg-white/20 border-white/30 text-white hover:bg-white/30"}),s.jsx(cU,{className:"right-4 bg-white/20 border-white/30 text-white hover:bg-white/30"})]})]})}):s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r&&s.jsx("img",{src:B0(r)||r,alt:e,className:"h-24 w-24 mx-auto mb-6 rounded-full object-cover border-4 border-background shadow-lg"}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:e}),n&&s.jsx("p",{className:"text-xl text-muted-foreground",children:n})]})})})},vI=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],bpt=()=>{const{data:t,isLoading:e}=Vje({queryKey:["home-data"],queryFn:async()=>{const{data:l}=await ae.from("stores").select("id, name, description, logo_url, hero_banner_url, hero_banner_urls").eq("slug","demo").eq("is_active",!0).maybeSingle();if(!l)return{allProducts:[],featuredProducts:[],newArrivals:[],categories:vI};const[c,u]=await Promise.all([xj(l.id),ae.from("categories").select("*").eq("store_id",l.id).order("name").then(f=>f.data)]),d=[...c].sort((f,m)=>new Date(m.created_at||"").getTime()-new Date(f.created_at||"").getTime());return{allProducts:c,featuredProducts:c.slice(0,4),newArrivals:d.slice(0,4),categories:u&&u.length>0?u:vI,store:l}},staleTime:3e5,gcTime:6e5}),{allProducts:r=[],featuredProducts:n=[],newArrivals:a=[],categories:i=vI,store:o}=t||{};return e?s.jsx(Fmt,{text:"Loading store..."}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{}),s.jsxs("main",{className:"flex-1",children:[o&&s.jsx(Yve,{bannerUrls:o.hero_banner_urls&&o.hero_banner_urls.length>0?o.hero_banner_urls:o.hero_banner_url?[o.hero_banner_url]:[],storeName:o.name||"MyStore",logoUrl:o.logo_url,storeDescription:o.description}),!o&&s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Welcome to MyStore"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Discover quality products at unbeatable prices. Shop now!"})]})})}),s.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:i.map((l,c)=>{const u=r.filter(d=>d.category===l.name).length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",style:{animationDelay:`${c*100}ms`},children:s.jsx(eU,{name:l.name,image_url:l.image_url,productCount:u})},l.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(hr,{to:"/products",children:s.jsxs(we,{variant:"outline",children:["View All",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]}),n.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>s.jsx(iw,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),a.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(l=>s.jsx(iw,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore thousands of products and great deals"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(hr,{to:"/products",children:s.jsxs(we,{size:"lg",variant:"secondary",children:["Browse Products",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})}),s.jsx(hr,{to:"/pricing",children:s.jsxs(we,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["View Pricing Plans",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]})]})})]}),s.jsx(Xm,{})]})},ON=({storeName:t,storeDescription:e,whatsappNumber:r,phone:n,email:a,address:i,facebookUrl:o,instagramUrl:l,twitterUrl:c,youtubeUrl:u,linkedinUrl:d,socialLinks:f,policies:m})=>{const{slug:h}=wp(),x=h?`/${h}/policies`:"/policies",g=h?`/${h}`:"",v={facebook:o||f?.facebook||null,instagram:l||f?.instagram||null,twitter:c||f?.twitter||null,youtube:u||null,linkedin:d||null},b=Object.values(v).some(_=>_);return s.jsx("footer",{"data-ai":"section-footer",className:"bg-muted border-t border-border",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-foreground mb-4",children:["About ",t]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:e||"Your trusted online store for quality products at great prices."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(hr,{to:g||"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(hr,{to:`${g}/products`,className:"text-muted-foreground hover:text-primary transition-colors",children:"All Products"})}),s.jsx("li",{children:s.jsx(hr,{to:`${g}/categories`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Categories"})}),s.jsx("li",{children:s.jsx(hr,{to:`${g}/cart`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shopping Cart"})}),s.jsx("li",{children:s.jsx(hr,{to:"/sitemap.xml",className:"text-muted-foreground hover:text-primary transition-colors",children:"Sitemap"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(hr,{to:`${x}#terms`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx(hr,{to:`${x}#return-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx(hr,{to:`${x}#shipping-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(hr,{to:`${x}#privacy-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[n&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:n})]}),r&&n!==r&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"w-4 h-4 flex-shrink-0"}),s.jsxs("span",{children:["WhatsApp: ",r]})]}),a&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:a})]}),i&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(K0,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:i})]})]}),b&&s.jsxs("div",{className:"flex gap-3 mt-4",children:[v.facebook&&s.jsx("a",{href:v.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Facebook",children:s.jsx(EL,{className:"w-4 h-4"})}),v.instagram&&s.jsx("a",{href:v.instagram,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Instagram",children:s.jsx(Od,{className:"w-4 h-4"})}),v.twitter&&s.jsx("a",{href:v.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Twitter",children:s.jsx(PL,{className:"w-4 h-4"})}),v.youtube&&s.jsx("a",{href:v.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"YouTube",children:s.jsx(Hne,{className:"w-4 h-4"})}),v.linkedin&&s.jsx("a",{href:v.linkedin,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"LinkedIn",children:s.jsx(zne,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-4 pt-4 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," ",t,". All rights reserved."]})})]})})};var Kve=["PageUp","PageDown"],Xve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Jve={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Mw="Slider",[bL,wpt,_pt]=lw(Mw),[Zve]=bi(Mw,[_pt]),[jpt,SP]=Zve(Mw),Qve=j.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:h=!1,form:x,...g}=t,v=j.useRef(new Set),b=j.useRef(0),w=o==="horizontal"?Npt:Spt,[N=[],S]=ql({prop:d,defaultProp:u,onChange:P=>{[...v.current][b.current]?.focus(),f(P)}}),C=j.useRef(N);function A(P){const E=Ppt(N,P);D(P,E)}function R(P){D(P,b.current)}function O(){const P=C.current[b.current];N[b.current]!==P&&m(N)}function D(P,E,{commit:I}={commit:!1}){const M=Rpt(i),U=Ipt(Math.round((P-n)/i)*i+n,M),W=vj(U,[n,a]);S((Y=[])=>{const J=Apt(Y,W,E);if(Dpt(J,c*i)){b.current=J.indexOf(W);const z=String(J)!==String(Y);return z&&I&&m(J),z?J:Y}else return Y})}return s.jsx(jpt,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:b,thumbs:v.current,values:N,orientation:o,form:x,children:s.jsx(bL.Provider,{scope:t.__scopeSlider,children:s.jsx(bL.Slot,{scope:t.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Xt(g.onPointerDown,()=>{l||(C.current=N)}),min:n,max:a,inverted:h,onSlideStart:l?void 0:A,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&D(n,0,{commit:!0}),onEndKeyDown:()=>!l&&D(a,N.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:E})=>{if(!l){const U=Kve.includes(P.key)||P.shiftKey&&Xve.includes(P.key)?10:1,W=b.current,Y=N[W],J=i*U*E;D(Y+J,W,{commit:!0})}}})})})})});Qve.displayName=Mw;var[eye,tye]=Zve(Mw,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Npt=j.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,m]=j.useState(null),h=Yr(e,w=>m(w)),x=j.useRef(void 0),g=bg(a),v=g==="ltr",b=v&&!i||!v&&i;function _(w){const N=x.current||f.getBoundingClientRect(),S=[0,N.width],A=dU(S,b?[r,n]:[n,r]);return x.current=N,A(w-N.left)}return s.jsx(eye,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(rye,{dir:g,"data-orientation":"horizontal",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const N=_(w.clientX);o?.(N)},onSlideMove:w=>{const N=_(w.clientX);l?.(N)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:w=>{const S=Jve[b?"from-left":"from-right"].includes(w.key);u?.({event:w,direction:S?-1:1})}})})}),Spt=j.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=j.useRef(null),f=Yr(e,d),m=j.useRef(void 0),h=!a;function x(g){const v=m.current||d.current.getBoundingClientRect(),b=[0,v.height],w=dU(b,h?[n,r]:[r,n]);return m.current=v,w(g-v.top)}return s.jsx(eye,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:s.jsx(rye,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=x(g.clientY);i?.(v)},onSlideMove:g=>{const v=x(g.clientY);o?.(v)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:g=>{const b=Jve[h?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:b?-1:1})}})})}),rye=j.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=SP(Mw,r);return s.jsx(xr.span,{...u,ref:e,onKeyDown:Xt(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Kve.concat(Xve).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Xt(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:Xt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Xt(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),nye="SliderTrack",sye=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=SP(nye,r);return s.jsx(xr.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});sye.displayName=nye;var wL="SliderRange",aye=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=SP(wL,r),i=tye(wL,r),o=j.useRef(null),l=Yr(e,o),c=a.values.length,u=a.values.map(m=>lye(m,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(xr.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});aye.displayName=wL;var _L="SliderThumb",iye=j.forwardRef((t,e)=>{const r=wpt(t.__scopeSlider),[n,a]=j.useState(null),i=Yr(e,l=>a(l)),o=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(kpt,{...t,ref:i,index:o})}),kpt=j.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,o=SP(_L,r),l=tye(_L,r),[c,u]=j.useState(null),d=Yr(e,_=>u(_)),f=c?o.form||!!c.closest("form"):!0,m=MN(c),h=o.values[n],x=h===void 0?0:lye(h,o.min,o.max),g=Ept(n,o.values.length),v=m?.[l.size],b=v?Tpt(v,x,l.direction):0;return j.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${b}px)`},children:[s.jsx(bL.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(xr.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:h===void 0?{display:"none"}:t.style,onFocus:Xt(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(oye,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},n)]})});iye.displayName=_L;var Cpt="RadioBubbleInput",oye=j.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const a=j.useRef(null),i=Yr(a,n),o=JN(e);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),s.jsx(xr.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});oye.displayName=Cpt;function Apt(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,i)=>a-i)}function lye(t,e,r){const i=100/(r-e)*(t-e);return vj(i,[0,100])}function Ept(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Ppt(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function Tpt(t,e,r){const n=t/2,i=dU([0,50],[0,n]);return(n-i(e)*r)*r}function Opt(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Dpt(t,e){if(e>0){const r=Opt(t);return Math.min(...r)>=e}return!0}function dU(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Rpt(t){return(String(t).split(".")[1]||"").length}function Ipt(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var cye=Qve,Fpt=sye,Mpt=aye,Lpt=iye;const uye=j.forwardRef(({className:t,...e},r)=>s.jsxs(cye,{ref:r,className:Gt("relative flex w-full touch-none select-none items-center",t),...e,children:[s.jsx(Fpt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(Mpt,{className:"absolute h-full bg-primary"})}),s.jsx(Lpt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));uye.displayName=cye.displayName;const dye=({title:t="Something went wrong",message:e,onRetry:r,className:n})=>s.jsxs(Hn,{variant:"destructive",className:n,children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx(H7,{children:t}),s.jsxs(Gn,{className:"flex flex-col gap-3",children:[s.jsx("span",{children:e}),r&&s.jsxs(we,{variant:"outline",size:"sm",onClick:r,className:"w-fit",children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}),yI=({slug:t}={})=>{const[e,r]=xw(),{slug:n}=wp(),a=t||n;en();const[i,o]=j.useState([]),[l,c]=j.useState(!0),[u,d]=j.useState(null),[f,m]=j.useState([]),[h,x]=j.useState([]),[g,v]=j.useState([]),[b,_]=j.useState([0,1e4]),[w,N]=j.useState("newest"),[S,C]=j.useState(!1),[A,R]=j.useState(null),[O,D]=j.useState(null),[P,E]=j.useState(null),I=Uh();j.useEffect(()=>{(async()=>{if(a)try{c(!0),d(null);const{data:J}=await ae.from("stores").select("*").eq("slug",a).eq("is_active",!0).maybeSingle();if(J){R(J.id),D(J);const{data:z}=await ae.from("profiles").select("phone, email").eq("user_id",J.user_id).maybeSingle();z&&E(z);const q=await xj(J.id);o(q)}}catch(J){d(J instanceof Error?J.message:"Failed to load products")}finally{c(!1)}})()},[a]);const M=async()=>{if(A)try{const Y=await xj(A);o(Y)}catch(Y){d(Y instanceof Error?Y.message:"Failed to reload products")}};j.useEffect(()=>{const Y=[...new Set(i.map(J=>J.category))].filter(Boolean);x(Y)},[i]),j.useEffect(()=>{const Y=e.get("category");Y&&h.includes(Y)&&v([Y]);const J=()=>{M()};return window.addEventListener("focus",J),()=>window.removeEventListener("focus",J)},[e,h,M]),j.useEffect(()=>{if(!i||i.length===0){m([]);return}let Y=[...i];A&&(Y=Y.filter(q=>q.store_id===A));const J=e.get("search");J&&(Y=Y.filter(q=>q.name.toLowerCase().includes(J.toLowerCase())));const z=e.get("category");switch(z?Y=Y.filter(q=>q.category===z):g.length>0&&(Y=Y.filter(q=>g.includes(q.category))),(b[0]>0||b[1]<1e4)&&(Y=Y.filter(q=>{const V=q.basePrice||(q.variants?.length?Math.min(...q.variants.map(X=>X.price)):0);return(q.variants?.length?Math.max(...q.variants.map(X=>X.price)):q.basePrice||0)>=b[0]&&V<=b[1]})),w){case"price-low":Y.sort((q,V)=>{const L=q.basePrice||(q.variants?.length?q.variants[0].price:0),X=V.basePrice||(V.variants?.length?V.variants[0].price:0);return L-X});break;case"price-high":Y.sort((q,V)=>{const L=q.basePrice||(q.variants?.length?q.variants[0].price:0);return(V.basePrice||(V.variants?.length?V.variants[0].price:0))-L});break;case"name":Y.sort((q,V)=>q.name.localeCompare(V.name));break}m(Y)},[i,g,b,w,e,A]);const U=Y=>{const J=new URLSearchParams(e);J.delete("category"),r(J),v(z=>z.includes(Y)?z.filter(q=>q!==Y):[...z,Y])},W=()=>{const Y=new URLSearchParams(e);Y.delete("category"),r(Y),v([]),_([0,1e4]),N("newest")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:a}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:l?s.jsx("div",{className:"py-20",children:s.jsx(_P,{size:"lg",text:"Loading products..."})}):u?s.jsx("div",{className:"py-20",children:s.jsx(dye,{title:"Failed to load products",message:u,onRetry:M})}):s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:`lg:w-64 ${S?"block":"hidden lg:block"}`,children:s.jsx(He,{className:"sticky top-24",children:s.jsxs(Xe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[s.jsx(DI,{className:"w-5 h-5"}),"Filters"]}),s.jsx(we,{variant:"ghost",size:"sm",onClick:W,className:"text-xs",children:"Clear All"})]}),h.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx(Be,{className:"text-sm font-semibold mb-3 block",children:"Categories"}),s.jsx("div",{className:"space-y-3",children:h.map(Y=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ro,{id:Y,checked:g.includes(Y),onCheckedChange:()=>U(Y)}),s.jsx("label",{htmlFor:Y,className:"text-sm text-muted-foreground cursor-pointer",children:Y})]},Y))})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-semibold mb-3 block",children:"Price Range"}),s.jsxs("div",{className:"px-2",children:[s.jsx(uye,{min:0,max:1e4,step:100,value:b,onValueChange:_,className:"mb-4"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["",b[0]]}),s.jsxs("span",{children:["",b[1]]})]})]})]})]})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"All Products"}),s.jsxs("p",{className:"text-muted-foreground",children:["Showing ",f.length," products"]})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsxs(we,{variant:"outline",onClick:()=>C(!S),className:"lg:hidden flex-1",children:[s.jsx(DI,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsxs(zr,{value:w,onValueChange:N,children:[s.jsx(Lr,{className:"w-full sm:w-[180px]",children:s.jsx(qr,{placeholder:"Sort by"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"newest",children:"Newest"}),s.jsx(ut,{value:"price-low",children:"Price: Low to High"}),s.jsx(ut,{value:"price-high",children:"Price: High to Low"}),s.jsx(ut,{value:"name",children:"Name: A-Z"})]})]})]})]}),f.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(Y=>s.jsx(iw,{...Y,storeSlug:I?void 0:a},Y.id))}):s.jsxs(He,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found matching your filters"}),s.jsx(we,{onClick:W,variant:"outline",children:"Clear Filters"})]})]})]})}),O?s.jsx(ON,{storeName:O.name,storeDescription:O.description,whatsappNumber:O.whatsapp_number,phone:P?.phone,email:P?.email,address:O.address,facebookUrl:O.facebook_url,instagramUrl:O.instagram_url,twitterUrl:O.twitter_url,youtubeUrl:O.youtube_url,linkedinUrl:O.linkedin_url,socialLinks:O.social_links,policies:O.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})};function fU({title:t,description:e,canonical:r,image:n="https://digitaldukandar.in/placeholder.svg",type:a="website",keywords:i=[],author:o,price:l,currency:c="INR",availability:u}){const d=e.slice(0,160),f=t.slice(0,60);return s.jsxs(zA,{children:[s.jsx("title",{children:f}),s.jsx("meta",{name:"title",content:f}),s.jsx("meta",{name:"description",content:d}),i.length>0&&s.jsx("meta",{name:"keywords",content:i.join(", ")}),o&&s.jsx("meta",{name:"author",content:o}),s.jsx("link",{rel:"icon",type:"image/png",href:n}),s.jsx("link",{rel:"apple-touch-icon",href:n}),r&&s.jsx("link",{rel:"canonical",href:r}),s.jsx("meta",{property:"og:type",content:a}),s.jsx("meta",{property:"og:title",content:f}),s.jsx("meta",{property:"og:description",content:d}),s.jsx("meta",{property:"og:image",content:n}),r&&s.jsx("meta",{property:"og:url",content:r}),s.jsx("meta",{property:"og:site_name",content:"YesGive Shop"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:f}),s.jsx("meta",{name:"twitter:description",content:d}),s.jsx("meta",{name:"twitter:image",content:n}),a==="product"&&l&&s.jsxs(s.Fragment,{children:[s.jsx("meta",{property:"product:price:amount",content:l.toString()}),s.jsx("meta",{property:"product:price:currency",content:c}),u&&s.jsx("meta",{property:"product:availability",content:u==="in stock"?"in stock":"out of stock"})]}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{name:"theme-color",content:"#000000"}),s.jsx("link",{rel:"preconnect",href:"https://vexeuxsvckpfvuxqchqu.supabase.co"})]})}function fye(t){const{storeSlug:e,subdomain:r,customDomain:n,path:a=""}=t;return n&&n.trim()?`${n.startsWith("http")?n:`https://${n}`}${a}`:r&&r.trim()?`https://${r}.digitaldukandar.in${a}`:`https://digitaldukandar.in/${e}${a}`}function hye(t,e,r){return fye({storeSlug:t,subdomain:e,customDomain:r,path:""})}function $pt(t,e,r,n){return fye({storeSlug:t,subdomain:r,customDomain:n,path:`/products/${e}`})}const F_=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],bI=({slug:t}={})=>{const{slug:e}=wp(),r=t||e,[n,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(null),[u,d]=j.useState("Store");return j.useEffect(()=>{(async()=>{try{o(!0);let m=null;if(r){const{data:h}=await ae.from("stores").select("id, name").eq("slug",r).eq("is_active",!0).maybeSingle();if(h)m=h.id,c(h.id),d(h.name);else{a(F_),o(!1);return}}else{const{data:{user:h}}=await ae.auth.getUser();if(h){const{data:x}=await ae.from("stores").select("id, name").eq("user_id",h.id).eq("is_active",!0).maybeSingle();x&&(m=x.id,c(x.id),d(x.name))}}if(m)try{const{data:h,error:x}=await ae.from("categories").select("*").eq("store_id",m).order("created_at",{ascending:!0});if(x)throw x;const g=await Promise.all((h||[]).map(async v=>{const{count:b,error:_}=await ae.from("products").select("*",{count:"exact",head:!0}).eq("store_id",m).eq("category",v.name).eq("status","published");return console.log(`Category "${v.name}": ${b} products`,{error:_}),{id:v.id,name:v.name,image_url:v.image_url,store_id:v.store_id,productCount:b||0}}));console.log("Categories with counts:",g),a(g.length>0?g:F_)}catch(h){console.error("Error fetching categories:",h),a(F_)}else a(F_)}catch(m){console.error("Error loading categories:",m),a(F_)}finally{o(!1)}})()},[r]),i?s.jsxs(s.Fragment,{children:[s.jsx(qc,{storeSlug:r,storeId:l}),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(_P,{size:"lg",text:"Loading categories..."})}),s.jsx(Xm,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(fU,{title:`Categories - ${u} | Browse Our Collections`,description:`Explore all product categories at ${u}. Find exactly what you're looking for in our organized collections.`,canonical:hye(r||"",null,null),keywords:n.map(f=>f.name).concat([u,"categories","shop by category"]),type:"website"}),s.jsx(qc,{storeSlug:r,storeId:l}),s.jsx("main",{className:"flex-1",children:s.jsx("section",{className:"bg-gradient-to-b from-muted/30 to-background py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",children:n.map(f=>s.jsx(eU,{name:f.name,image_url:f.image_url,productCount:f.productCount,slug:r},f.id))})]})})}),s.jsx(Xm,{})]})};var hU="Radio",[Bpt,mye]=bi(hU),[Upt,zpt]=Bpt(hU),pye=j.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[f,m]=j.useState(null),h=Yr(e,v=>m(v)),x=j.useRef(!1),g=f?u||!!f.closest("form"):!0;return s.jsxs(Upt,{scope:r,checked:a,disabled:o,children:[s.jsx(xr.button,{type:"button",role:"radio","aria-checked":a,"data-state":yye(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:h,onClick:Xt(t.onClick,v=>{a||c?.(),g&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),g&&s.jsx(vye,{control:f,bubbles:!x.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});pye.displayName=hU;var gye="RadioIndicator",xye=j.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=zpt(gye,r);return s.jsx(ao,{present:n||i.checked,children:s.jsx(xr.span,{"data-state":yye(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});xye.displayName=gye;var qpt="RadioBubbleInput",vye=j.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=j.useRef(null),l=Yr(o,i),c=JN(r),u=MN(e);return j.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const x=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(x)}},[c,r,n]),s.jsx(xr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vye.displayName=qpt;function yye(t){return t?"checked":"unchecked"}var Vpt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kP="RadioGroup",[Wpt]=bi(kP,[vw,mye]),bye=vw(),wye=mye(),[Hpt,Gpt]=Wpt(kP),_ye=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=t,h=bye(r),x=bg(u),[g,v]=ql({prop:i,defaultProp:a??null,onChange:f,caller:kP});return s.jsx(Hpt,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(O7,{asChild:!0,...h,orientation:c,dir:x,loop:d,children:s.jsx(xr.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:e})})})});_ye.displayName=kP;var jye="RadioGroupItem",Nye=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=Gpt(jye,r),o=i.disabled||n,l=bye(r),c=wye(r),u=j.useRef(null),d=Yr(e,u),f=i.value===a.value,m=j.useRef(!1);return j.useEffect(()=>{const h=g=>{Vpt.includes(g.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",x)}},[]),s.jsx(D7,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(pye,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Xt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Xt(a.onFocus,()=>{m.current&&u.current?.click()})})})});Nye.displayName=jye;var Ypt="RadioGroupIndicator",Sye=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=wye(r);return s.jsx(xye,{...a,...n,ref:e})});Sye.displayName=Ypt;var kye=_ye,Cye=Nye,Kpt=Sye;const mU=j.forwardRef(({className:t,...e},r)=>s.jsx(kye,{className:Gt("grid gap-2",t),...e,ref:r}));mU.displayName=kye.displayName;const X2=j.forwardRef(({className:t,...e},r)=>s.jsx(Cye,{ref:r,className:Gt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(Kpt,{className:"flex items-center justify-center",children:s.jsx($ne,{className:"h-2.5 w-2.5 fill-current text-current"})})}));X2.displayName=Cye.displayName;function Xpt(t){const{product:e,store:r,url:n,availability:a="InStock"}=t,i=e.base_price||e.basePrice,o=e.price_range||e.priceRange,l=e.sku||e.baseSku||e.id,c=e.images&&e.images.length>0?e.images[0]:null;return{"@context":"https://schema.org/","@type":"Product",name:e.name,description:e.description||`${e.name} available at ${r.name}`,sku:l,...c&&{image:e.images.filter(d=>d).map(d=>d.startsWith("http")?d:`${window.location.origin}${d}`)},...e.category&&{category:e.category},offers:{"@type":"Offer",url:n,priceCurrency:"USD",...i&&{price:i.toFixed(2)},...o&&!i&&{price:o},availability:`https://schema.org/${a}`,seller:{"@type":"Organization",name:r.name}}}}function Aye(t){const{store:e,url:r,email:n}=t,a=e.seo_description||e.description,i=e.business_phone||e.whatsapp_number,o=e.business_email||n,l={"@context":"https://schema.org","@type":"Store",name:e.name,url:r,...a&&{description:a},...e.logo_url&&{image:e.logo_url.startsWith("http")?e.logo_url:`${window.location.origin}${e.logo_url}`},...i&&{telephone:i},...o&&{email:o}};if(e.alternate_names){const u=e.alternate_names.split(",").map(d=>d.trim()).filter(d=>d.length>0);u.length>0&&(l.alternateName=u)}e.street_address||e.city||e.state?l.address={"@type":"PostalAddress",...e.street_address&&{streetAddress:e.street_address},...e.city&&{addressLocality:e.city},...e.state&&{addressRegion:e.state},...e.postal_code&&{postalCode:e.postal_code},...e.country&&{addressCountry:e.country}}:e.address&&(l.address={"@type":"PostalAddress",streetAddress:e.address}),e.opening_hours&&(l.openingHours=e.opening_hours),e.price_range&&(l.priceRange=e.price_range);const c=[];return e.facebook_url&&c.push(e.facebook_url),e.instagram_url&&c.push(e.instagram_url),e.twitter_url&&c.push(e.twitter_url),e.social_links&&c.length===0&&(e.social_links.facebook&&c.push(e.social_links.facebook),e.social_links.instagram&&c.push(e.social_links.instagram),e.social_links.twitter&&c.push(e.social_links.twitter)),c.length>0&&(l.sameAs=c),l}function Eye(t){const{items:e}=t;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((n,a)=>({"@type":"ListItem",position:a+1,name:n.name,...n.url&&{item:n.url}}))}}function Jpt(t){j.useEffect(()=>{if(!t)return;const{product:e,store:r,availability:n="InStock",email:a,breadcrumbs:i}=t,o=window.location.href,l=Xpt({product:e,store:r,url:o,availability:n}),c=Aye({store:r,url:`${window.location.origin}/${r.slug}`,email:a}),u=document.createElement("script");u.id="product-schema",u.type="application/ld+json",u.textContent=JSON.stringify(l);const d=document.createElement("script");d.id="organization-schema",d.type="application/ld+json",d.textContent=JSON.stringify(c);const f=document.getElementById("product-schema"),m=document.getElementById("organization-schema");if(f&&f.remove(),m&&m.remove(),document.head.appendChild(u),document.head.appendChild(d),i&&i.length>0){const h=Eye({items:i}),x=document.createElement("script");x.id="breadcrumb-schema",x.type="application/ld+json",x.textContent=JSON.stringify(h);const g=document.getElementById("breadcrumb-schema");return g&&g.remove(),document.head.appendChild(x),()=>{const v=document.getElementById("breadcrumb-schema");v&&v.remove()}}return()=>{const h=document.getElementById("product-schema"),x=document.getElementById("organization-schema");h&&h.remove(),x&&x.remove()}},[t])}function Zpt(t){j.useEffect(()=>{if(!t)return;const{store:e,email:r,breadcrumbs:n}=t,a=window.location.href,i=Aye({store:e,url:a,email:r}),o=document.createElement("script");o.id="organization-schema",o.type="application/ld+json",o.textContent=JSON.stringify(i);const l=document.getElementById("organization-schema");if(l&&l.remove(),document.head.appendChild(o),n&&n.length>0){const c=Eye({items:n}),u=document.createElement("script");u.id="breadcrumb-schema",u.type="application/ld+json",u.textContent=JSON.stringify(c);const d=document.getElementById("breadcrumb-schema");return d&&d.remove(),document.head.appendChild(u),()=>{const f=document.getElementById("breadcrumb-schema");f&&f.remove()}}return()=>{const c=document.getElementById("organization-schema");c&&c.remove()}},[t])}const wI=({slug:t}={})=>{const e=wp(),r=t?e.slug:e.productSlug,n=t||e.slug,a=en(),{toast:i}=ga(),{addToCart:o,triggerFlyAnimation:l}=UA(),[c,u]=j.useState(null),d=j.useRef(null),f=j.useRef(null),[m,h]=j.useState(""),[x,g]=j.useState(1),[v,b]=j.useState(0),[_,w]=j.useState(!0),[N,S]=j.useState(n),[C,A]=j.useState(null),[R,O]=j.useState([]),[D,P]=j.useState(null),[E,I]=j.useState(null),[M,U]=j.useState(!1),W=Uh();if(j.useEffect(()=>{(async()=>{if(!r){a("/products");return}try{w(!0);let Oe=null;if(n){const{data:We}=await ae.from("stores").select("id").eq("slug",n).maybeSingle();We?.id&&(Oe=We.id,A(We.id))}let re=await RPe(r,Oe||void 0);if(!re&&(re=await z5(r),re&&re.slug)){const xe=Uh()?`/products/${re.slug}`:N?`/${N}/products/${re.slug}`:`/products/${re.slug}`;a(xe,{replace:!0});return}if(!re){i({title:"Product not found",description:"This product doesn't exist or has been removed.",variant:"destructive"}),a("/products");return}u(re);const le=re.store_id;if(le){const{data:We}=await ae.from("stores").select("*").eq("id",le).single();if(We){S(We.slug),P(We);const{data:ye}=await ae.from("profiles").select("phone, email").eq("user_id",We.user_id).maybeSingle();ye&&I(ye)}const Le=(await xj(le)).filter(ye=>ye.id!==re.id),ke=Le.filter(ye=>ye.category===re.category),fe=ke.length>0?ke:Le;O(fe)}}catch(Oe){console.error("Error loading product:",Oe),i({title:"Error",description:"Failed to load product details",variant:"destructive"}),a("/products")}finally{w(!1)}})()},[r,a,i,N,W]),j.useEffect(()=>{m&&f.current&&f.current.classList.remove("animate-pulse")},[m]),Jpt(c&&D?{product:{id:c.id,name:c.name,description:c.description,images:c.images,base_price:c.base_price||c.basePrice,price_range:c.price_range||c.priceRange,sku:c.sku||c.baseSku,category:c.category,variants:c.variants,status:c.status},store:{id:D.id,name:D.name,slug:D.slug,description:D.description,logo_url:D.logo_url,address:D.address,whatsapp_number:D.whatsapp_number,social_links:D.social_links},availability:c.status==="published"?"InStock":"OutOfStock",email:E?.email,breadcrumbs:[{name:"Home",url:W?window.location.origin:`${window.location.origin}/${N}`},{name:"Products",url:W?`${window.location.origin}/products`:`${window.location.origin}/${N}/products`},{name:c.name,url:window.location.href}]}:null),_)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:N,storeId:c?.store_id||c?.storeId}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(_P,{size:"lg",text:"Loading product..."})}),D?s.jsx(ON,{storeName:D.name,storeDescription:D.description,whatsappNumber:D.whatsapp_number,phone:E?.phone,email:E?.email,address:D.address,facebookUrl:D.facebook_url,instagramUrl:D.instagram_url,twitterUrl:D.twitter_url,youtubeUrl:D.youtube_url,linkedinUrl:D.linkedin_url,socialLinks:D.social_links,policies:D.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]});if(!c)return null;const Y=c.variants?.find(Z=>Z.name===m),z=c.variants&&c.variants.length>0&&!m,q=Y?Y.price:c.basePrice||c.base_price||0,V=c.images&&c.images.length>0?c.images:["/placeholder.svg"],L=c.videoUrl||c.video_url,X=c.baseSku||c.sku,Q=L?(Z=>Z.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||null)(L):null,oe=Q?`https://img.youtube.com/vi/${Q}/hqdefault.jpg`:null,ce=N?`/${N}`:"/home",de=N?`/${N}/products`:"/products",ne=Z=>{g(Math.max(0,x+Z))},ue=()=>{if(!c)return;if(c.variants&&c.variants.length>0&&!m){i({title:"Please select a variant",description:"Redirecting to variant section...",variant:"destructive"}),setTimeout(()=>{f.current&&(f.current.scrollIntoView({behavior:"smooth",block:"center"}),f.current.classList.add("animate-pulse"))},1e3);return}const Z=c.store_id;if(!Z){i({title:"Error",description:"Unable to add product to cart. Store information is missing.",variant:"destructive"});return}d.current&&l(V[0],d.current),o({productId:c.id,productName:c.name,productImage:V[0],variant:m||void 0,price:q,quantity:x,sku:Y?.sku||X,storeId:Z}),U(!0)},se=()=>{navigator.share?navigator.share({title:c.name,text:`Check out ${c.name} on MyStore`,url:window.location.href}):(i({title:"Link copied",description:"Product link has been copied to clipboard"}),navigator.clipboard.writeText(window.location.href))};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(fU,{title:`${c.name} - ${D?.name||"Store"} | Buy Online`,description:c.description?.slice(0,160)||`Shop ${c.name} from ${D?.name}. ${Y?`Price: ${Y.price}`:c.base_price?`Starting from ${c.base_price}`:""}`,canonical:$pt(N||"",c.id,D?.subdomain,D?.custom_domain),image:V[0],type:"product",price:Y?.price||c.base_price,availability:c.status==="published"?"in stock":"out of stock",keywords:[c.name,c.category,D?.name||"store","buy online"]}),s.jsx(qc,{storeSlug:N,storeId:c.store_id||c.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 pb-32 md:pb-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(hr,{to:ce,className:"hover:text-foreground",children:"Home"}),s.jsx($h,{className:"w-4 h-4"}),s.jsx(hr,{to:de,className:"hover:text-foreground",children:"Products"}),s.jsx($h,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:c.name})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"lg:hidden mb-4",children:[s.jsxs(iU,{className:"w-full",opts:{loop:!0},children:[s.jsxs(oU,{children:[V.map((Z,Oe)=>s.jsx(_A,{children:s.jsx(He,{className:"overflow-hidden",children:s.jsx(Xe,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx(W0,{src:Z,alt:s2({productName:c.name,category:c.category,imageIndex:Oe}),className:"w-full h-full object-contain"})})})})},Oe)),L&&s.jsx(_A,{children:s.jsx(He,{className:"overflow-hidden",children:s.jsx(Xe,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${L.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||L}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})},"video")]}),(V.length>1||L)&&s.jsxs(s.Fragment,{children:[s.jsx(lU,{className:"left-2"}),s.jsx(cU,{className:"right-2"})]})]}),(V.length>1||L)&&s.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[V.map((Z,Oe)=>s.jsx("button",{onClick:()=>b(Oe),className:`w-2 h-2 rounded-full transition-colors ${v===Oe?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":`View image ${Oe+1}`},Oe)),L&&s.jsx("button",{onClick:()=>b(V.length),className:`w-2 h-2 rounded-full transition-colors ${v===V.length?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":"View video"},"video-dot")]})]}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsx(He,{className:"overflow-hidden mb-4",children:s.jsx(Xe,{className:"p-0",children:s.jsx("div",{ref:d,className:"aspect-square bg-muted",children:v<V.length?s.jsx(W0,{src:V[v],alt:s2({productName:c.name,category:c.category,imageIndex:v}),className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${L?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||L}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})}),(V.length>1||L)&&s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[V.map((Z,Oe)=>s.jsx("button",{onClick:()=>b(Oe),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] ${v===Oe?"border-primary":"border-transparent hover:border-border"}`,children:s.jsx(W0,{src:Z,alt:s2({productName:c.name,category:c.category,imageIndex:Oe}),className:"w-full h-full object-contain"})},Oe)),L&&oe&&s.jsxs("button",{onClick:()=>b(V.length),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] relative ${v===V.length?"border-primary":"border-transparent hover:border-border"}`,children:[s.jsx("img",{src:oe,alt:`${c.name} - Product video`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]},"video-thumb")]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(er,{variant:"secondary",className:"mb-2",children:c.category}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:c.name}),s.jsx("p",{className:"text-muted-foreground",children:c.description})]}),c.variants&&c.variants.length>0?s.jsx(He,{ref:f,className:`mb-6 ${m?"":"ring-2 ring-primary/50 ring-offset-2"}`,children:s.jsxs(Xe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(Be,{className:"text-base font-semibold",children:["Select Variant ",!m&&s.jsx("span",{className:"text-destructive",children:"*"})]}),!m&&s.jsx(er,{variant:"destructive",className:"text-xs",children:"Required"})]}),s.jsx(mU,{value:m,onValueChange:h,children:s.jsx("div",{className:"space-y-3",children:c.variants.map(Z=>s.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${m===Z.name?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent"}`,onClick:()=>h(Z.name),children:[s.jsx(X2,{value:Z.name,id:Z.name,className:"min-w-[20px] min-h-[20px]"}),s.jsx(Be,{htmlFor:Z.name,className:"flex-1 cursor-pointer font-normal",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:Z.name}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["",Z.price]})]})})]},Z.name))})}),m?s.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected: ",m," - ",q]})}):s.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please select a variant to continue"]})})]})}):s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-3xl font-bold text-primary",children:c.price_range||c.priceRange||`${c.basePrice||c.base_price||0}`})}),s.jsxs("div",{className:"mb-6",children:[s.jsx(Be,{className:"text-base font-semibold mb-3 block",children:"Quantity"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx(we,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>ne(-1),disabled:x<=1||z,children:s.jsx(qne,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-16 text-center font-semibold text-lg",children:x}),s.jsx(we,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>ne(1),disabled:z,children:s.jsx(Yo,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",s.jsx("span",{className:"text-lg font-bold text-foreground",children:z?"":`${(q*x).toFixed(2)}`})]})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 hidden md:block",children:[s.jsxs(we,{onClick:ue,className:"w-full min-h-[48px]",size:"lg",disabled:x===0,children:[s.jsx(X0,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),s.jsxs(we,{onClick:se,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx($1,{className:"w-4 h-4 mr-2"}),"Share Product"]})]}),s.jsx("div",{className:"mb-6 md:hidden",children:s.jsxs(we,{onClick:se,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx($1,{className:"w-4 h-4 mr-2"}),"Share Product"]})}),s.jsx(He,{children:s.jsxs(Xe,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Product Details"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Category:"}),s.jsx("dd",{className:"font-medium",children:c.category})]}),X&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"SKU:"}),s.jsx("dd",{className:"font-medium",children:X})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Availability:"}),s.jsx("dd",{className:"font-medium text-success",children:"In Stock"})]})]})]})})]})]}),R.length>0&&s.jsxs("div",{className:"mt-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"More Products"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map(Z=>s.jsx(iw,{id:Z.id,slug:Z.slug,name:Z.name,category:Z.category,priceRange:Z.price_range,images:Z.images,status:Z.status,storeSlug:W?void 0:N},Z.id))})]})]}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background border-t border-border shadow-lg z-50 safe-area-inset-bottom",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:z?"Select variant":c.variants&&c.variants.length>0&&m?`${m}`:c.name}),s.jsx("p",{className:"text-lg font-bold text-primary",children:z?"":`${(q*x).toFixed(2)}`})]}),s.jsxs(we,{onClick:ue,size:"lg",className:"min-h-[48px] px-6 font-semibold",disabled:x===0,children:[s.jsx(X0,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})}),M&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-end sm:items-center justify-center p-4",onClick:()=>U(!1),children:s.jsxs("div",{className:"bg-background rounded-t-2xl sm:rounded-2xl w-full max-w-md p-6 space-y-4 animate-in slide-in-from-bottom sm:slide-in-from-bottom-0 duration-300",onClick:Z=>Z.stopPropagation(),children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:V[0],alt:s2({productName:c.name,category:c.category,imageIndex:0}),className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate",children:c.name}),m&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",m]}),s.jsxs("p",{className:"text-sm font-medium text-primary",children:["",q,"  ",x]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),s.jsx("span",{className:"font-semibold",children:x})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",(q*x).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-green-600 dark:text-green-400",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-950 flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"font-semibold",children:"Added to cart"})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx(we,{onClick:()=>{U(!1),a(W?"/cart":`/${N}/cart`)},className:"w-full min-h-[48px] font-semibold",children:"View Cart"}),s.jsx(we,{onClick:()=>U(!1),variant:"outline",className:"w-full min-h-[48px]",children:"Continue Shopping"})]})]})}),D?s.jsx(ON,{storeName:D.name,storeDescription:D.description,whatsappNumber:D.whatsapp_number,phone:E?.phone,email:E?.email,address:D.address,facebookUrl:D.facebook_url,instagramUrl:D.instagram_url,twitterUrl:D.twitter_url,youtubeUrl:D.youtube_url,linkedinUrl:D.linkedin_url,socialLinks:D.social_links,policies:D.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})},_I=({slug:t}={})=>{const{slug:e}=wp(),r=t||e,{cart:n,cartTotal:a,updateQuantity:i,removeItem:o}=UA(),[l,c]=j.useState(r),u=Uh();j.useEffect(()=>{r?c(r):n.length>0&&n[0].storeId&&(async()=>{const{data:x}=await ae.from("stores").select("slug").eq("id",n[0].storeId).maybeSingle();x&&c(x.slug)})()},[r,n]);const d=u?"/":l?`/${l}`:"/home",f=u?"/products":l?`/${l}/products`:"/products",m=u?"/checkout":l?`/${l}/checkout`:"/checkout";return n.length===0?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:l,storeId:n[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(FI,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to your cart to see them here"}),s.jsx(hr,{to:f,children:s.jsx(we,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Xm,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:l,storeId:n[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(hr,{to:d,className:"hover:text-foreground",children:"Home"}),s.jsx($h,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Shopping Cart"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Shopping Cart"}),s.jsx("div",{className:"space-y-4",children:n.map(h=>s.jsx(He,{children:s.jsx(Xe,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(W0,{src:h.productImage,alt:h.productName,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:h.productName}),h.variant&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",h.variant]}),h.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",h.sku]})]}),s.jsx(we,{variant:"ghost",size:"icon",onClick:()=>o(h.productId,h.variant),children:s.jsx(so,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg w-fit",children:[s.jsx(we,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(h.productId,h.variant,h.quantity-1),disabled:h.quantity<=1,children:s.jsx(qne,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-14 text-center font-semibold text-lg",children:h.quantity}),s.jsx(we,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(h.productId,h.variant,h.quantity+1),children:s.jsx(Yo,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",h.price," each"]}),s.jsxs("p",{className:"text-xl font-bold text-primary",children:["",h.price*h.quantity]})]})]})]})]})})},`${h.productId}-${h.variant}`))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(He,{className:"sticky top-24",children:s.jsxs(Xe,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsxs("span",{children:["Subtotal (",n.reduce((h,x)=>h+x.quantity,0)," items)"]}),s.jsxs("span",{children:["",a]})]}),s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]}),s.jsxs("div",{className:"border-t border-border pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",a]})]})]}),s.jsx(we,{asChild:!0,className:"w-full min-h-[48px]",size:"lg",children:s.jsx(hr,{to:m,children:"Proceed to Checkout"})}),s.jsx(we,{asChild:!0,variant:"outline",className:"w-full min-h-[44px] mt-3",children:s.jsx(hr,{to:f,children:"Continue Shopping"})})]})})})]})]}),s.jsx(Xm,{})]})};function Qpt({onLocationSelect:t,enabled:e=!0}){const[r,n]=j.useState(!1),a=()=>{if(!e){et({title:"Feature Not Available",description:"Location sharing is not enabled in your current subscription plan",variant:"destructive"});return}if(!navigator.geolocation){et({title:"Not Supported",description:"Geolocation is not supported by your browser",variant:"destructive"});return}n(!0),navigator.geolocation.getCurrentPosition(i=>{const{latitude:o,longitude:l}=i.coords;t(o,l),et({title:"Location Captured",description:"Your location has been added to the order"}),n(!1)},i=>{let o="Failed to get location";i.code===i.PERMISSION_DENIED&&(o="Location permission denied. Please enable location access in your browser settings."),et({title:"Location Error",description:o,variant:"destructive"}),n(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return e?s.jsx(we,{type:"button",variant:"outline",onClick:a,disabled:r,className:"w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Location..."]}):s.jsxs(s.Fragment,{children:[s.jsx(K0,{className:"h-4 w-4 mr-2"}),"Share My Current Location"]})}):null}const e0t=async(t,e)=>{try{const{data:r,error:n}=await ae.functions.invoke("create-phonepe-payment",{body:{amount:Math.round(t.amount*100),orderId:t.orderNumber,dbOrderId:t.orderId,customerName:t.customerName,customerPhone:t.customerPhone,customerEmail:t.customerEmail,storeId:e}});if(n)throw n;return r.paymentUrl?(window.location.href=r.paymentUrl,{success:!0,gatewayOrderId:r.merchantTransactionId}):{success:!1,error:"No payment URL received"}}catch(r){return console.error("PhonePe payment error:",r),{success:!1,error:r.message||"Failed to initiate PhonePe payment"}}},t0t=(t,e)=>{const r=[];return t.razorpay?.enabled&&t.razorpay.key_id&&r.push({id:"razorpay",name:"Razorpay",icon:"",color:"bg-blue-500",enabled:!0}),t.phonepe?.enabled&&t.phonepe.merchant_id&&r.push({id:"phonepe",name:"PhonePe",icon:"",color:"bg-purple-500",enabled:!0}),t.cashfree?.enabled&&t.cashfree.app_id&&r.push({id:"cashfree",name:"Cashfree",icon:"",color:"bg-green-500",enabled:!0}),t.payu?.enabled&&t.payu.merchant_key&&r.push({id:"payu",name:"PayU",icon:"",color:"bg-orange-500",enabled:!0}),t.paytm?.enabled&&t.paytm.merchant_id&&r.push({id:"paytm",name:"Paytm",icon:"",color:"bg-sky-500",enabled:!0}),t.stripe?.enabled&&t.stripe.publishable_key&&r.push({id:"stripe",name:"Stripe",icon:"",color:"bg-indigo-500",enabled:!0}),(e==="online_and_cod"||r.length===0)&&r.push({id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}),r},r0t=Hv({fullName:gs().trim().min(2,"Name must be at least 2 characters").max(100),phone:gs().trim().regex(/^[6-9]\d{9}$/,"Enter a valid 10-digit phone number"),email:gs().trim().email("Invalid email address").optional().or(H3e("")),address:gs().trim().min(10,"Address must be at least 10 characters").max(200),landmark:gs().trim().max(100).optional(),pincode:gs().trim().regex(/^\d{6}$/,"Enter a valid 6-digit PIN code"),deliveryTime:fE(["morning","evening","anytime"],{required_error:"Please select a delivery time"})}),jI=({slug:t}={})=>{const{slug:e}=wp(),r=t||e,n=en(),{cart:a,cartTotal:i,clearCart:o}=UA(),{toast:l}=ga(),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[m,h]=j.useState(!1),[x,g]=j.useState(null),[v,b]=j.useState(null),[_,w]=j.useState(!1),N=j.useRef(null),[S,C]=j.useState(!0),[A,R]=j.useState(r),[O,D]=j.useState(!1),[P,E]=j.useState(null),[I,M]=j.useState([]),[U,W]=j.useState(""),[Y,J]=j.useState("online_and_cod"),[z,q]=j.useState({}),[V,L]=j.useState(!1),[X,K]=j.useState(""),[Q,oe]=j.useState(null),[ce,de]=j.useState(0),[ne,ue]=j.useState(!1),[se,Z]=j.useState(""),[Oe,re]=j.useState(null),[le,We]=j.useState(0),[xe,Le]=j.useState(!1),ke=QN({resolver:eS(r0t),defaultValues:{fullName:"",phone:"",email:"",address:"",landmark:"",pincode:"",deliveryTime:"anytime"}}),fe=async()=>{try{if(a.length===0)return;const Me=a[0].storeId,{data:ht}=await ae.from("stores").select("payment_mode, payment_gateway_credentials").eq("id",Me).maybeSingle();if(ht){const Ce=ht.payment_mode||"online_and_cod",st=ht.payment_gateway_credentials||{};J(Ce),q(st);const Ue=t0t(st,Ce);M(Ue),Ue.length>0&&W(Ue[0].id)}}catch(Me){console.error("Error loading payment settings:",Me),M([{id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}]),W("cod")}},ye=async Me=>{try{L(!0);const ht=a[0]?.storeId;if(!ht||!z.razorpay?.key_id)throw new Error("Payment configuration error");const{orderId:Ce,error:st}=await Uht(Me.amount,Me.currency,ht);if(st)throw new Error(st);const Ue=await zht({...Me,orderId:Ce},{key_id:z.razorpay.key_id},{onSuccess:async Ke=>{console.log("Razorpay Success Response:",Ke);const at=new URLSearchParams({gateway:"razorpay",orderId:Me.orderId,storeId:ht,paymentId:Ke.razorpay_payment_id,razorpayOrderId:Ke.razorpay_order_id,signature:Ke.razorpay_signature,storeSlug:A||""});o(),L(!1),window.location.href=`/payment-success?${at.toString()}`},onFailure:Ke=>{l({title:"Payment failed",description:Ke.description||"Please try again.",variant:"destructive"}),L(!1)},onDismiss:()=>{L(!1)}});if(!Ue.success&&Ue.error)throw new Error(Ue.error)}catch(ht){console.error("Razorpay payment error:",ht),l({title:"Payment failed",description:ht.message||"Failed to process payment. Please try again.",variant:"destructive"}),L(!1)}},qe=async Me=>{try{L(!0);const ht=a[0]?.storeId;if(!ht)throw new Error("Payment configuration error");await ae.from("orders").update({payment_status:"pending",payment_gateway:"phonepe"}).eq("id",Me.orderId);const Ce=await e0t(Me,ht);if(!Ce.success)throw new Error(Ce.error||"Failed to initiate PhonePe payment")}catch(ht){console.error("PhonePe payment error:",ht),l({title:"Payment failed",description:ht.message||"Failed to process payment. Please try again.",variant:"destructive"}),L(!1)}};j.useEffect(()=>{ct(),Qe(),fe(),r?R(r):a.length>0&&a[0].storeId&&(async()=>{const{data:ht}=await ae.from("stores").select("slug").eq("id",a[0].storeId).maybeSingle();ht&&R(ht.slug)})()},[r,a]),j.useEffect(()=>{me()},[a,U,Q,X]);const Qe=async()=>{try{if(C(!0),a.length===0){C(!1);return}const Me=a[0]?.storeId;if(!Me||Me.trim()===""){console.error("Cart storeId is invalid:",Me),b("Unable to process your order. Please clear your cart and add products again from the store."),C(!1);return}const{data:ht}=await ae.from("stores").select("id, user_id, whatsapp_number").eq("id",Me).maybeSingle();if(!ht){b("Store not found."),C(!1);return}const{data:Ce}=await ae.from("subscriptions").select(`
          status,
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          subscription_plans (
            name,
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",ht.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),st=Ce&&Ce.length>0?Ce[0]:null;if(!st){b("This store has no active subscription. Orders are currently unavailable."),C(!1);return}if(!["active","trial"].includes(st.status)){b("This store's subscription is not active. Orders are currently unavailable."),C(!1);return}const Ue=new Date,Ke=st.current_period_end?new Date(st.current_period_end):null;if(Ke&&Ke<Ue){b("This store's subscription has expired. Orders are currently unavailable."),C(!1);return}if(st.subscription_plans){const at=st.subscription_plans.whatsapp_orders_limit,St=st.whatsapp_orders_used||0,qt=st.subscription_plans.website_orders_limit,Ut=st.website_orders_used||0;if(at===null&&qt===null){b("Ordering is not available in this store's plan."),C(!1);return}const Qt=at!==null&&(at===0||St<at),Vt=qt!==null&&(qt===0||Ut<qt);if(!Qt&&!Vt){const wr=at!==null?"whatsapp":"website",dr=wr==="whatsapp"?St:Ut,br=wr==="whatsapp"?at:qt;E({planName:st.subscription_plans.name||"Current Plan",ordersUsed:dr,ordersLimit:br||0,storeWhatsApp:ht.whatsapp_number}),D(!0),C(!1);return}}b(null),C(!1)}catch(Me){console.error("Error checking subscription:",Me),b("Unable to verify store subscription. Please try again later."),C(!1)}},ct=async()=>{try{if(a.length>0&&a[0].storeId){const Me=a[0].storeId,{data:ht}=await ae.from("stores").select("id, user_id, force_location_sharing").eq("id",Me).maybeSingle();if(!ht){f(!0),h(!1),console.log("No store found, enabling location by default");return}const{data:Ce}=await ae.from("subscriptions").select("plan_id, subscription_plans(enable_location_sharing)").eq("user_id",ht.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Ue=(Ce&&Ce.length>0?Ce[0]:null)?.subscription_plans?.enable_location_sharing||!1,Ke=ht.force_location_sharing||!1;f(Ue),h(Ke),console.log("Location feature enabled:",Ue,"forced:",Ke,"for store:",ht.id)}else f(!1)}catch(Me){console.error("Error checking location feature:",Me),f(!1)}},Ye=(Me,ht)=>{g({latitude:Me,longitude:ht}),w(!1)},me=async()=>{if(Q||X.trim()){re(null),We(0);return}if(!(a.length===0||!U))try{Le(!0);const Me=a[0].storeId,ht=ke.getValues("phone"),Ce=ke.getValues("email"),st=a.map(at=>({id:at.id,name:at.name,price:at.price,quantity:at.quantity,categoryId:at.categoryId,storeId:at.storeId})),Ke=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/validate-auto-discount",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c"},body:JSON.stringify({storeId:Me,cartItems:st,cartTotal:i,selectedPaymentMethod:U,customerPhone:ht,customerEmail:Ce||void 0})})).json();Ke.applicable?(re(Ke),We(Ke.discount)):(re(null),We(0))}catch(Me){console.error("Error loading auto discount:",Me),re(null),We(0)}finally{Le(!1)}},Se=async()=>{if(!X.trim()){Z("Please enter a coupon code");return}ue(!0),Z("");try{const Me=a[0]?.storeId;if(!Me){Z("Store information not available"),ue(!1);return}const ht=ke.getValues("fullName"),Ce=ke.getValues("phone"),st=ke.getValues("email"),Ke=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c"},body:JSON.stringify({couponCode:X,storeId:Me,cartTotal:i,customerPhone:Ce,customerEmail:st||void 0})})).json();if(!Ke.valid){Z(Ke.error||"Invalid coupon code"),oe(null),de(0),ue(!1);return}oe(Ke.coupon),de(Ke.discount),Z(""),re(null),We(0),l({title:"Coupon Applied",description:`Discount of ${Ke.discount.toFixed(2)} applied successfully!`})}catch(Me){Z(Me.message||"Failed to apply coupon"),oe(null),de(0)}finally{ue(!1)}},_e=()=>{K(""),oe(null),de(0),Z("")};if(S)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:A,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx("div",{className:"max-w-md mx-auto text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Checking availability..."})})}),s.jsx(Xm,{})]});if(v)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:A,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(FI,{className:"w-24 h-24 mx-auto mb-6 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Orders Unavailable"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:v}),s.jsx(hr,{to:A?`/${A}`:"/home",children:s.jsx(we,{size:"lg",children:"Back to Home"})})]})}),s.jsx(Xm,{})]});if(a.length===0)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:A,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(FI,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to proceed to checkout"}),s.jsx(hr,{to:A?`/${A}/products`:"/products",children:s.jsx(we,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Xm,{})]});const Je=async Me=>{if(u(!0),m&&!x){N.current?.scrollIntoView({behavior:"smooth",block:"center"}),w(!0),u(!1);return}const ht={morning:"Morning (9 AM - 12 PM)",evening:"Evening (4 PM - 7 PM)",anytime:"Anytime"}[Me.deliveryTime];try{const Ce=a[0]?.storeId;if(!Ce||Ce.trim()===""){l({title:"Cart Error",description:"Your cart contains invalid items. Please clear your cart and add products again.",variant:"destructive"}),u(!1);return}const{data:st}=await ae.from("stores").select("id, user_id").eq("id",Ce).maybeSingle();if(!st)throw new Error("Store not found");const{data:Ue}=await ae.from("subscriptions").select(`
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          status,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",st.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Ke=Ue&&Ue.length>0?Ue[0]:null;if(Ke){const wr=new Date,dr=Ke.current_period_end?new Date(Ke.current_period_end):null;if(dr&&dr<wr)throw new Error("Your subscription has expired. Please upgrade your plan to continue accepting orders.");const br=U!=="cod";if(Ke?.subscription_plans)if(br){const Cr=Ke.subscription_plans.website_orders_limit,or=Ke.website_orders_used||0;if(Cr===null)throw new Error("Online ordering is not available in your current plan.");if(Cr>0&&or>=Cr)throw new Error("Website order limit reached for this month. Please contact the store or try COD.")}else{const Cr=Ke.subscription_plans.whatsapp_orders_limit,or=Ke.whatsapp_orders_used||0;if(Cr===null)throw new Error("WhatsApp ordering is not available in your current plan.");if(Cr>0&&or>=Cr)throw new Error("WhatsApp order limit reached for this month. Please try online payment.")}}const at=`ORD${Date.now().toString().slice(-8)}`,St=ce>0?ce:le,qt=i-St,Ut={store_id:st.id,order_number:at,customer_name:Me.fullName,customer_phone:Me.phone,customer_email:Me.email||null,delivery_address:Me.address,delivery_landmark:Me.landmark||null,delivery_pincode:Me.pincode,delivery_time:ht,delivery_latitude:x?.latitude||null,delivery_longitude:x?.longitude||null,items:a,subtotal:i,discount_amount:St,coupon_code:Q?.code||null,automatic_discount_id:Q?null:Oe?.id||null,delivery_charge:0,total:qt,status:"new",payment_method:U,payment_status:"pending",payment_gateway:U==="cod"?"cod":U},{data:Qt,error:Vt}=await ae.from("orders").insert(Ut).select("id").single();if(Vt)throw Vt;if(Q&&ce>0)try{await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/record-coupon-usage",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c"},body:JSON.stringify({couponCode:Q.code,storeId:Ce,orderId:Qt.id,customerPhone:Me.phone,customerEmail:Me.email||void 0,discountApplied:ce})})}catch(wr){console.error("Error recording coupon usage:",wr)}if(U==="razorpay")await ye({orderId:Qt.id,orderNumber:at,customerName:Me.fullName,customerEmail:Me.email,customerPhone:Me.phone,amount:qt,currency:"INR"});else if(U==="phonepe")await qe({orderId:Qt.id,orderNumber:at,customerName:Me.fullName,customerEmail:Me.email,customerPhone:Me.phone,amount:qt,currency:"INR"});else{const wr={customerName:Me.fullName,phone:Me.phone,email:Me.email||void 0,address:Me.address,landmark:Me.landmark||void 0,pincode:Me.pincode,deliveryTime:ht,latitude:x?.latitude,longitude:x?.longitude,cart:a,subtotal:i,discount:ce,deliveryCharge:0,total:qt},dr=zve(wr),br=await qve(dr,void 0,Ce);if(!br.success){l({title:"WhatsApp Not Configured",description:br.error,variant:"destructive"}),u(!1);return}l({title:"Order placed successfully!",description:"We'll contact you shortly on WhatsApp to confirm your order."}),o(),setTimeout(()=>{n(A?`/${A}`:"/home")},2e3)}u(!1)}catch(Ce){console.error("Checkout error:",Ce),l({title:"Order failed",description:Ce.message||"Failed to place order. Please try again.",variant:"destructive"}),u(!1)}},tt=A?`/${A}`:"/home",Ve=A?`/${A}/cart`:"/cart";return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:A,storeId:a[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(hr,{to:tt,className:"hover:text-foreground",children:"Home"}),s.jsx($h,{className:"w-4 h-4"}),s.jsx(hr,{to:Ve,className:"hover:text-foreground",children:"Cart"}),s.jsx($h,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Checkout"})]}),s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(tS,{...ke,children:s.jsxs("form",{onSubmit:ke.handleSubmit(Je),className:"space-y-6",children:[s.jsx(He,{children:s.jsxs(Xe,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(pn,{control:ke.control,name:"fullName",render:({field:Me})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Full Name *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"Enter your full name",...Me})}),s.jsx($n,{})]})}),s.jsx(pn,{control:ke.control,name:"phone",render:({field:Me})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Phone Number *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"10-digit mobile number",...Me})}),s.jsx($n,{})]})}),s.jsx(pn,{control:ke.control,name:"email",render:({field:Me})=>s.jsxs(un,{className:"md:col-span-2",children:[s.jsx(gn,{children:"Email (Optional)"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"your.email@example.com",...Me})}),s.jsx($n,{})]})})]})]})}),s.jsx(He,{children:s.jsxs(Xe,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(pn,{control:ke.control,name:"address",render:({field:Me})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Complete Address *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"House/Flat No., Street, Area",...Me})}),s.jsx($n,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(pn,{control:ke.control,name:"landmark",render:({field:Me})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Landmark (Optional)"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"Nearby location",...Me})}),s.jsx($n,{})]})}),s.jsx(pn,{control:ke.control,name:"pincode",render:({field:Me})=>s.jsxs(un,{children:[s.jsx(gn,{children:"PIN Code *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"6-digit PIN code",...Me})}),s.jsx($n,{})]})})]}),s.jsx(pn,{control:ke.control,name:"deliveryTime",render:({field:Me})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Preferred Delivery Time *"}),s.jsx(dn,{children:s.jsxs(mU,{onValueChange:Me.onChange,defaultValue:Me.value,className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(X2,{value:"morning",id:"morning"}),s.jsx(Be,{htmlFor:"morning",className:"flex-1 cursor-pointer font-normal",children:"Morning (9 AM - 12 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(X2,{value:"evening",id:"evening"}),s.jsx(Be,{htmlFor:"evening",className:"flex-1 cursor-pointer font-normal",children:"Evening (4 PM - 7 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(X2,{value:"anytime",id:"anytime"}),s.jsx(Be,{htmlFor:"anytime",className:"flex-1 cursor-pointer font-normal",children:"Anytime"})]})]})}),s.jsx($n,{})]})}),d&&s.jsxs("div",{ref:N,className:`space-y-3 p-4 rounded-lg border transition-all duration-300 ${m&&!x?"animate-pulse-border":""} ${_?"animate-attention-shake border-destructive bg-destructive/5 shadow-lg shadow-destructive/20":"bg-card/50 backdrop-blur-sm hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"text-base font-medium",children:"Share Your Location"}),m?s.jsx(Ys.span,{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full bg-primary/10 text-primary border border-primary/20",initial:{scale:0,x:-10},animate:{scale:1,x:0},transition:{type:"spring",stiffness:500,damping:15},children:"Required"}):s.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-muted text-muted-foreground",children:"Optional"})]}),m&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"We need your location for accurate delivery"]}),s.jsx(Qpt,{onLocationSelect:Ye,enabled:d}),s.jsx(qte,{mode:"wait",children:x&&s.jsxs(Ys.div,{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-950/30 px-3 py-2 rounded-md",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:500,damping:25},children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Location captured successfully"]})}),s.jsx(qte,{children:_&&!x&&s.jsxs(Ys.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 text-sm text-destructive bg-destructive/10 px-3 py-2 rounded-md border border-destructive/20",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Please share your location to continue - it's required for delivery"]})})]})]})]})}),s.jsx(He,{children:s.jsxs(Xe,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),I.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"Loading payment options..."})}):s.jsx("div",{className:"space-y-3",children:I.map(Me=>s.jsxs(Ys.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.01},whileTap:{scale:.99},className:`relative cursor-pointer rounded-xl border-2 transition-all duration-300 overflow-hidden ${U===Me.id?"border-primary bg-gradient-to-br from-primary/10 via-primary/5 to-transparent shadow-lg shadow-primary/20":"border-border hover:border-primary/40 bg-card hover:shadow-md"}`,onClick:()=>W(Me.id),children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 sm:p-5",children:[s.jsxs("div",{className:`relative w-14 h-14 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md transition-transform duration-300 ${U===Me.id?"scale-105":""} ${Me.color}`,children:[Me.id==="razorpay"&&s.jsx(Ks,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),Me.id==="phonepe"&&s.jsx(Hz,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),Me.id==="cod"&&s.jsx(Yz,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-lg tracking-tight",children:[Me.id==="razorpay"&&"Paynow",Me.id==="phonepe"&&"Paynow",Me.id==="cod"&&"Cash on Delivery"]}),(Me.id==="razorpay"||Me.id==="phonepe")&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure"]})]}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground leading-tight",children:[Me.id==="razorpay"&&"Pay with cards, UPI, net banking & wallets",Me.id==="phonepe"&&"Pay with UPI, cards & bank accounts",Me.id==="cod"&&"Pay cash when your order arrives"]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${U===Me.id?"border-primary bg-primary shadow-md":"border-muted-foreground/30 hover:border-primary/50"}`,children:U===Me.id&&s.jsx(Ys.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:20},className:"w-3 h-3 rounded-full bg-white"})})})]}),U===Me.id&&s.jsx(Ys.div,{layoutId:"payment-indicator",className:"absolute inset-0 rounded-xl border-2 border-primary pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:500,damping:30}})]},Me.id))}),U&&s.jsx(Ys.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-accent/50 rounded-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 text-primary flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsxs("span",{className:"text-muted-foreground",children:[U==="cod"&&"No advance payment required. Pay cash when your order is delivered.",(U==="razorpay"||U==="phonepe")&&"Your payment is secure and encrypted. Complete payment to confirm your order."]})]})})]})}),s.jsx(we,{type:"submit",size:"lg",className:"w-full md:w-auto",disabled:c||V,children:V?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):s.jsx(s.Fragment,{children:U==="cod"?s.jsxs(s.Fragment,{children:[s.jsx(qx,{className:"w-5 h-5 mr-2"}),"Place Order via WhatsApp"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Proceed to Payment"]})})})]})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(He,{className:"sticky top-24",children:s.jsxs(Xe,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:a.map(Me=>s.jsxs("div",{className:"flex gap-3 pb-3 border-b border-border last:border-0",children:[s.jsx("img",{src:Me.productImage,alt:Me.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:Me.productName}),Me.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:Me.variant}),s.jsxs("p",{className:"text-sm font-semibold text-primary",children:["",Me.price,"  ",Me.quantity]})]})]},`${Me.productId}-${Me.variant}`))}),s.jsxs("div",{className:"mb-4 pb-4 border-b border-border space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b1,{className:"w-4 h-4 text-primary"}),s.jsx(Be,{className:"text-sm font-medium",children:"Apply Coupon"})]}),Q?s.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:Q.code})]}),s.jsx("button",{onClick:_e,className:"p-1 hover:bg-green-100 dark:hover:bg-green-900/30 rounded",children:s.jsx(so,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{placeholder:"Enter coupon code",value:X,onChange:Me=>{K(Me.target.value.toUpperCase()),Z("")},disabled:ne,className:"text-sm"}),s.jsx(we,{size:"sm",variant:"outline",onClick:Se,disabled:ne||xe||!X.trim(),children:ne?s.jsx(pr,{className:"w-4 h-4 animate-spin"}):"Apply"})]}),se&&s.jsx("p",{className:"text-xs text-destructive",children:se})]}),s.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",a.reduce((Me,ht)=>Me+ht.quantity,0)," items)"]}),s.jsxs("span",{children:["",i.toFixed(2)]})]}),(ce>0||le>0)&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Q?"Coupon Discount":Oe?"Automatic Discount":"Discount",Oe&&!Q&&s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",Oe.ruleName,")"]})]}),s.jsxs("span",{className:"text-destructive font-medium",children:["-",(ce>0?ce:le).toFixed(2)," ",Q?.discount_type==="percentage"&&s.jsxs("span",{className:"text-xs ml-1",children:["(",Q.discount_value,"%)"]}),Oe&&!Q&&Oe.discountType==="percentage"&&s.jsxs("span",{className:"text-xs ml-1",children:["(",Oe.discountPercentage,"%)"]})]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",(i-(ce>0?ce:le)).toFixed(2)]})]}),s.jsx("div",{className:"bg-accent p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[U==="razorpay"&&s.jsxs(s.Fragment,{children:[s.jsx(Ks,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via Razorpay"})]}),U==="phonepe"&&s.jsxs(s.Fragment,{children:[s.jsx(Hz,{className:"w-4 h-4 text-purple-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via PhonePe"})]}),U==="cod"&&s.jsxs(s.Fragment,{children:[s.jsx(Yz,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash on Delivery"})]}),!U&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select payment method"})]})})]})})})]})]}),s.jsx(Xm,{}),s.jsx(ss,{open:O,onOpenChange:D,children:s.jsxs(ts,{className:"sm:max-w-md",children:[s.jsxs(as,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(hi,{className:"h-5 w-5"}),s.jsx(is,{children:"Order Limit Reached"})]}),s.jsxs(ja,{className:"pt-3 space-y-3",children:[s.jsx("p",{className:"text-base",children:"This store has reached its monthly order limit"}),P&&s.jsxs("div",{className:"bg-accent p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"font-semibold",children:P.planName})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Orders Used:"}),s.jsxs("span",{className:"font-semibold",children:[P.ordersUsed," of ",P.ordersLimit]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The store owner needs to upgrade their plan to accept more orders."})]})]}),s.jsxs(to,{className:"flex-col sm:flex-row gap-2",children:[P?.storeWhatsApp&&s.jsxs(we,{onClick:()=>{window.open(`https://wa.me/${P.storeWhatsApp}`,"_blank")},variant:"default",className:"w-full sm:w-auto",children:[s.jsx(qx,{className:"h-4 w-4 mr-2"}),"Contact Store Owner"]}),s.jsx(we,{onClick:()=>{D(!1),n(A?`/${A}`:"/")},variant:"outline",className:"w-full sm:w-auto",children:"Back to Store"})]})]})}),s.jsx("style",{children:`
        @keyframes pulse-border {
          0%, 100% { border-color: hsl(var(--border)); }
          50% { border-color: hsl(var(--primary) / 0.5); }
        }

        @keyframes attention-shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
          20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .animate-pulse-border {
          animation: pulse-border 2s ease-in-out infinite;
        }

        .animate-attention-shake {
          animation: attention-shake 0.6s ease-in-out;
        }
      `})]})};function NI(){const[t]=xw(),e=en(),[r,n]=j.useState("verifying"),[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState(""),[m,h]=j.useState(""),[x,g]=j.useState(!1),[v,b]=j.useState(!1),_=j.useRef(!1),w=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),N=async(A,R)=>{if(!_.current){_.current=!0;try{if(!await Uve(R)){b(!0);return}const D=await yA(R),P=bA(D),E=encodeURIComponent(A);if(w){const I=/Android/i.test(navigator.userAgent),M=/iPhone|iPad|iPod/i.test(navigator.userAgent);if(I){const U=`intent://send/${P}#Intent;scheme=whatsapp;package=com.whatsapp;action=android.intent.action.SENDTO;S.android.intent.extra.TEXT=${E};end`;try{window.location.href=U}catch{window.location.href=`whatsapp://send?phone=${P}&text=${E}`}}else M?window.location.href=`whatsapp://send?phone=${P}&text=${E}`:window.location.href=`whatsapp://send?phone=${P}&text=${E}`;g(!0),setTimeout(()=>{b(!0)},3e3)}else{const I=`https://wa.me/${P}?text=${E}`;window.open(I,"_blank","noopener,noreferrer"),g(!0),b(!0)}}catch(O){console.error("WhatsApp auto-open error:",O),b(!0)}}};j.useEffect(()=>{(async()=>{const R=t.get("gateway"),O=t.get("orderId"),D=t.get("storeId"),P=t.get("storeSlug");if(f(D||""),h(P||""),!R||!O||!D){n("failed");return}try{let E=!1,I="";if(R==="razorpay"){const Y=t.get("razorpayOrderId"),J=t.get("paymentId"),z=t.get("signature");if(!Y||!J||!z)throw new Error("Missing Razorpay payment details");E=(await qht(Y,J,z,D)).verified,I=J,E&&await ae.from("orders").update({payment_status:"completed",payment_id:J,payment_gateway:"razorpay",gateway_order_id:Y,payment_response:{razorpay_payment_id:J,razorpay_order_id:Y,razorpay_signature:z}}).eq("id",O)}if(!E){n("failed");return}const{data:M,error:U}=await ae.from("orders").select("*").eq("id",O).single();if(U||!M)throw new Error("Failed to fetch order details");const W=zve({customerName:M.customer_name,phone:M.customer_phone,email:M.customer_email,address:M.delivery_address,landmark:M.delivery_landmark,pincode:M.delivery_pincode,deliveryTime:M.delivery_time,latitude:M.delivery_latitude,longitude:M.delivery_longitude,cart:M.items,subtotal:M.subtotal,deliveryCharge:M.delivery_charge||0,total:M.total,paymentMethod:"online",paymentGateway:"Razorpay",transactionId:I,orderNumber:M.order_number});u(W),i(M.order_number),l(I),n("success"),setTimeout(()=>{N(W,D)},500)}catch(E){console.error("Payment processing error:",E),n("failed")}})()},[t]);const S=async()=>{if(!c||!d)return;const A=await yA(d),R=bA(A),O=encodeURIComponent(c);w?window.location.href=`whatsapp://send?phone=${R}&text=${O}`:window.open(`https://wa.me/${R}?text=${O}`,"_blank")},C=()=>{e(m?`/${m}`:"/home")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[r==="verifying"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx(pr,{className:"h-20 w-20 text-blue-600 mx-auto animate-spin mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Payment"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your payment..."})]}),r==="success"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-white mb-4",children:s.jsx(Xa,{className:"h-12 w-12 text-amber-600"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Payment Received"}),s.jsx("p",{className:"text-amber-100 text-lg",children:"Confirm on WhatsApp to complete your order"})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-green-600 font-medium",children:"Payment"})]}),s.jsx("div",{className:"absolute left-[15%] right-[52%] top-5 h-1 bg-green-500"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center ring-4 ring-amber-200",style:{animation:"pop 2s ease-in-out infinite"},children:s.jsx(aa,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-amber-600 font-bold",children:"Confirm"})]}),s.jsx("div",{className:"absolute left-[52%] right-[15%] top-5 h-1 bg-gray-200"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(Of,{className:"w-6 h-6 text-gray-400"})}),s.jsx("span",{className:"text-xs mt-2 text-gray-400 font-medium",children:"Shipped"})]})]})}),s.jsxs("div",{className:"p-8 space-y-5",children:[s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Order Number"}),s.jsx("span",{className:"text-gray-900 font-bold",children:a})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Transaction ID"}),s.jsxs("span",{className:"text-gray-900 font-mono text-sm",children:[o.slice(0,20),"..."]})]})]}),!v&&x&&s.jsx("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-2xl p-5 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-800 font-medium",children:[s.jsx(pr,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Opening WhatsApp..."})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{onClick:S,size:"lg",className:"w-full h-16 text-lg font-bold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl transition-all duration-200 animate-[pop_2s_ease-in-out_infinite]",style:{animation:"pop 2s ease-in-out infinite"},children:[s.jsx("img",{src:"/whatsapp-icon.png",alt:"WhatsApp",className:"w-7 h-7 mr-3"}),"Confirm My Order"]}),s.jsx("p",{className:"text-center text-sm text-gray-500",children:"Click to confirm order & send details via WhatsApp"})]}),s.jsx("style",{children:`
                @keyframes pop {
                  0%, 100% { transform: scale(1); }
                  50% { transform: scale(1.03); }
                }
              `}),s.jsx("div",{className:"text-center pt-2",children:s.jsx("button",{onClick:C,className:"text-sm text-gray-400 hover:text-gray-600 underline",children:"Return to store"})})]})]}),r==="failed"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 mb-6",children:s.jsx(ma,{className:"h-12 w-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Verification Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue verifying your payment."}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"If the amount was deducted from your account, please contact our support with your transaction details."}),s.jsxs(we,{onClick:C,size:"lg",variant:"outline",className:"w-full",children:[s.jsx(Bne,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})]})})}const n0t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState("monthly"),[c,u]=j.useState(null),d=en(),{toast:f}=ga();j.useEffect(()=>{h(),m()},[]);const m=()=>{const b=document.createElement("script");b.src="https://checkout.razorpay.com/v1/checkout.js",b.async=!0,document.body.appendChild(b)},h=async()=>{try{n(!0),i(null);const{data:b,error:_}=await ae.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price",{ascending:!0});if(_)throw _;e(b||[])}catch(b){console.error("Error fetching plans:",b),i("Failed to load pricing plans. Please try again later.")}finally{n(!1)}},x=b=>{const _=[];return b.max_products?_.push(`Up to ${b.max_products.toLocaleString()} products`):_.push("Unlimited products"),b.whatsapp_orders_limit!==null&&(b.whatsapp_orders_limit===0?_.push("Unlimited WhatsApp orders"):_.push(`${b.whatsapp_orders_limit.toLocaleString()} WhatsApp orders/month`)),b.website_orders_limit!==null&&(b.website_orders_limit===0?_.push("Unlimited website orders"):_.push(`${b.website_orders_limit.toLocaleString()} website orders/month`)),b.enable_location_sharing&&_.push("Location sharing for deliveries"),b.enable_analytics&&_.push("Advanced analytics dashboard"),b.enable_order_emails&&_.push("Email notifications"),b.trial_days>0&&_.push(`${b.trial_days}-day free trial`),_},g=async b=>{try{u(b.id);const{data:{user:_}}=await ae.auth.getUser();if(!_){d("/auth");return}const{data:w}=await ae.from("subscriptions").select("*").eq("user_id",_.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),N=w&&w.length>0?w[0]:null;if(N&&N.status==="active"){f({title:"Already subscribed",description:"You already have an active subscription",variant:"destructive"});return}const S=o==="yearly"&&b.yearly_price?b.yearly_price:b.monthly_price,{data:C,error:A}=await ae.functions.invoke("razorpay-payment",{body:{action:"create_order",plan_id:b.id,billing_cycle:o,user_id:_.id}});if(A||!C.success)throw new Error(C?.error||"Failed to create payment order");const{data:R}=await ae.from("profiles").select("full_name, email, phone").eq("user_id",_.id).maybeSingle(),O={key:C.key_id,amount:C.amount,currency:C.currency,name:"StoreBuilder",description:`${b.name} - ${o==="yearly"?"Yearly":"Monthly"} Subscription`,order_id:C.order_id,prefill:{name:R?.full_name||_.email,email:R?.email||_.email,contact:R?.phone||""},theme:{color:"#3B82F6"},handler:async function(P){console.log(" Payment completed, verifying...",{order_id:P.razorpay_order_id,payment_id:P.razorpay_payment_id});try{f({title:"Verifying payment...",description:"Please wait while we confirm your payment"});let E=0,I=null,M=null;for(;E<3;){const U=await ae.functions.invoke("razorpay-payment",{body:{action:"verify_payment",razorpay_order_id:P.razorpay_order_id,razorpay_payment_id:P.razorpay_payment_id,razorpay_signature:P.razorpay_signature,subscription_id:C.subscription_id,user_id:_.id}});if(I=U.data,M=U.error,!M&&I?.success){console.log(" Payment verified successfully");break}E++,console.warn(` Verification attempt ${E} failed, retrying...`),E<3&&await new Promise(W=>setTimeout(W,1e3*E))}if(M||!I?.success)throw console.error(" Payment verification failed after 3 attempts:",{error:M,data:I}),new Error(I?.error||"Payment verification failed");f({title:"Payment successful! ",description:"Your subscription has been activated. Redirecting..."}),setTimeout(()=>{d("/admin/dashboard")},1500)}catch(E){console.error(" Payment verification error:",E),f({title:"Payment verification failed",description:E.message||"Please contact support with your payment details",variant:"destructive"}),setTimeout(()=>{d("/admin/dashboard")},3e3)}finally{u(null)}},modal:{ondismiss:function(){u(null)}}};new window.Razorpay(O).open()}catch(_){console.error("Payment error:",_),f({title:"Payment failed",description:_.message||"Unable to process payment",variant:"destructive"})}finally{u(null)}};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})});if(a)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(dye,{message:a,onRetry:h})});const v={"@context":"https://schema.org","@type":"WebPage",name:"Pricing Plans - DigitalDukandar",description:"Affordable e-commerce platform pricing for Indian businesses. Start with free 14-day trial. Plans starting from 299/month with unlimited products, WhatsApp integration & analytics.",url:"https://digitaldukandar.in/pricing"};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(zA,{children:[s.jsx("title",{children:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"title",content:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month. Unlimited products, WhatsApp orders, custom domain, analytics. No hidden fees. Cancel anytime."}),s.jsx("meta",{name:"keywords",content:"online store pricing India, e-commerce platform cost, affordable store builder, WhatsApp store pricing, small business e-commerce plans, digital store subscription India"}),s.jsx("link",{rel:"canonical",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{property:"og:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{name:"twitter:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-20 flex items-center justify-between",children:[s.jsxs(hr,{to:"/",className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-2xl blur-sm opacity-70 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"relative w-11 h-11 bg-gradient-to-br from-primary via-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all",children:s.jsx(L_,{className:"w-6 h-6 text-primary-foreground"})})]}),s.jsx("span",{className:"font-playfair font-bold text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"StoreBuilder"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsx(hr,{to:"/",children:s.jsx(we,{variant:"ghost",size:"sm",children:"Back to Home"})}),s.jsx(hr,{to:"/auth",children:s.jsxs(we,{size:"sm",children:["Get Started",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Transparent Pricing"})}),s.jsx("h1",{className:"font-playfair text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6",children:"Choose Your Perfect Plan"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Simple, transparent pricing for your online store. Start free, upgrade as you grow."})]}),s.jsx("div",{className:"flex justify-center mb-12",children:s.jsxs("div",{className:"inline-flex items-center gap-3 bg-muted p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>l("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="monthly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Monthly"}),s.jsxs("button",{onClick:()=>l("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="yearly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["Yearly",s.jsx(er,{variant:"secondary",className:"ml-2 bg-primary/10 text-primary",children:"Save 20%"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(b=>{const _=o==="yearly"&&b.yearly_price?b.yearly_price:b.monthly_price,w=x(b);return s.jsxs(He,{className:`relative p-8 transition-all duration-300 bg-card ${b.is_popular?"border-2 border-primary shadow-2xl scale-105":"border hover:shadow-lg hover:-translate-y-1"}`,children:[b.is_popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx(er,{className:"bg-primary text-primary-foreground px-4 py-1.5 text-sm font-semibold shadow-lg",children:b.badge_text||"Most Popular"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold text-foreground mb-4 tracking-tight",children:b.name}),b.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:b.description}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[s.jsxs("span",{className:"text-5xl font-semibold text-foreground tracking-tight",children:["",_.toLocaleString()]}),s.jsxs("span",{className:"text-lg text-muted-foreground font-medium",children:["/",o==="monthly"?"month":"year"]})]}),o==="yearly"&&b.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",Math.round(b.yearly_price/12).toLocaleString(),"/month billed annually"]})]}),s.jsx(we,{size:"lg",className:`w-full font-semibold mb-8 ${b.is_popular?"shadow-lg":""}`,variant:b.is_popular?"default":"outline",onClick:()=>g(b),disabled:c===b.id,children:c===b.id?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Get Started",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-4",children:"Everything included:"}),w.map((N,S)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(On,{className:"w-3 h-3 text-green-500"})}),s.jsx("span",{className:"text-sm text-foreground font-medium leading-relaxed",children:N})]},S))]})]},b.id)})}),s.jsx("div",{className:"mt-20 text-center",children:s.jsxs("div",{className:"inline-flex flex-wrap justify-center items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Secure payment processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Instant activation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Cancel anytime"})]})]})})]})}),s.jsx("footer",{className:"border-t border-border/50 bg-muted/20 py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:" 2024 StoreBuilder. All rights reserved."})})})]})};function s0t(){const t=en(),{toast:e}=ga(),[r,n]=xw(),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1);j.useEffect(()=>{const x=r.get("ref");if(x&&(console.log("[Auth] Referral code captured:",x),sessionStorage.setItem("referral_code",x)),r.get("error")==="account_deleted"&&(u(!0),n({})),r.get("code")!==null){console.log("[Auth] OAuth callback detected - waiting for session to be established"),f(!0);return}ae.auth.getSession().then(async({data:{session:_}})=>{if(console.log("[Auth] Checking existing session:",_?"Found":"None"),_){const{data:{user:w},error:N}=await ae.auth.getUser();if(N||!w){console.log("[Auth] User verification failed - account may be deleted:",N?.message),await ae.auth.signOut(),window.location.href="/?error=account_deleted";return}l(!0),console.log("[Auth] Checking for helper with ID:",_.user.id);const{data:S,error:C}=await ae.from("helpers").select("*").eq("id",_.user.id).maybeSingle();if(console.log("[Auth] Helper query result:",{helperData:S,helperError:C}),S){console.log("[Auth] Helper found - redirecting to helper dashboard"),t("/helper/dashboard"),i(!1);return}const{data:A,error:R}=await ae.from("stores").select("*").eq("user_id",_.user.id).maybeSingle();console.log("[Auth] Store query error:",R),console.log("[Auth] Store found:",A?"Yes":"No",A),A?(console.log("[Auth] Redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(e({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),t("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),t("/onboarding/store-setup")),i(!1)}});const{data:{subscription:b}}=ae.auth.onAuthStateChange((_,w)=>{console.log("[Auth] Auth state changed:",_,w?"Session exists":"No session"),f(!1),_==="SIGNED_IN"&&w&&(l(!0),setTimeout(async()=>{try{const{data:{user:N},error:S}=await ae.auth.getUser();if(S||!N){console.log("[Auth] SIGNED_IN - User verification failed - account may be deleted:",S?.message),await ae.auth.signOut(),window.location.href="/?error=account_deleted";return}console.log("[Auth] SIGNED_IN - Checking for helper with ID:",w.user.id);const{data:C,error:A}=await ae.from("helpers").select("*").eq("id",w.user.id).maybeSingle();if(console.log("[Auth] SIGNED_IN - Helper query result:",{helperData:C,helperError:A}),C){console.log("[Auth] Helper found - redirecting to helper dashboard"),e({title:"Welcome back!",description:"Redirecting to your helper dashboard."}),t("/helper/dashboard");return}const{data:R,error:O}=await ae.from("stores").select("*").eq("user_id",w.user.id).maybeSingle();console.log("[Auth] After sign in - Query error:",O),console.log("[Auth] After sign in - Store found:",R?"Yes":"No",R);const D=w.provider_token,P=w.provider_refresh_token;if(R&&D){console.log("[Auth] Saving Google Drive tokens to store");const E={google_access_token:D};if(P){const I=new Date(Date.now()+36e5);E.google_refresh_token=P,E.google_token_expiry=I.toISOString()}await ae.from("stores").update(E).eq("id",R.id)}R?(console.log("[Auth] Existing user - redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(e({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),t("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),e({title:"Welcome!",description:"Let's set up your store."}),t("/onboarding/store-setup"))}catch(N){console.error("[Auth] Error checking store:",N),e({variant:"destructive",title:"Error",description:"Failed to verify account. Please try again."})}},0))});return()=>b.unsubscribe()},[t,e]);const m=async()=>{try{i(!0),console.log("[Auth] Starting Google sign in...");const{error:x}=await ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth`,scopes:"https://www.googleapis.com/auth/drive.file"}});x?(console.error("[Auth] Sign in error:",x),e({variant:"destructive",title:"Error",description:x.message})):console.log("[Auth] OAuth redirect initiated")}catch(x){console.error("[Auth] Unexpected error:",x),e({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{i(!1)}},h=async()=>{try{i(!0);const{error:x}=await ae.auth.signOut();if(x)throw x;e({title:"Signed out",description:"You have been signed out successfully."}),window.location.reload()}catch(x){e({variant:"destructive",title:"Error",description:x.message})}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-4",children:[c&&s.jsx(Hn,{variant:"destructive",className:"border-2 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_o,{className:"h-6 w-6 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(H7,{className:"text-lg font-semibold mb-2",children:"Account Deleted"}),s.jsx(Gn,{className:"text-base",children:"Your account has been deleted by the administrator. All your data has been removed from the system."})]}),s.jsx(we,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>u(!1),children:s.jsx(ma,{className:"h-5 w-5"})})]})}),s.jsxs(He,{className:"w-full",children:[s.jsxs(jt,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(pv,{size:48})}),s.jsx(Nt,{className:"text-2xl font-bold text-center",children:"Sign In"}),s.jsx(hn,{className:"text-center",children:"Sign in to access your dashboard"})]}),s.jsx(Xe,{className:"space-y-4",children:d?s.jsxs("div",{className:"text-center space-y-4 py-4",children:[s.jsx(pr,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing sign in..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2 py-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"You're already signed in"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Redirecting to your dashboard..."})]}),s.jsx(we,{onClick:h,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing out..."]}):"Sign out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(we,{onClick:m,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}const a0t=`
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .menu-item-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .menu-item-hover:hover {
    transform: translateX(4px);
  }
`,i0t=()=>{const[t,e]=j.useState("store-signup"),[r,n]=j.useState(""),[a,i]=j.useState(!0),o=[{id:"store-signup",title:"Store Signup",icon:"",content:{title:"Create Your Store - Quick Start Guide",description:"Get started in minutes! Follow this step-by-step guide to create your online store and start selling.",sections:[{heading:"Why Sign Up with DigitalDukandar?",content:[" No coding required - Build your store without technical skills"," Free to start - 14-day free trial, no credit card needed"," WhatsApp integrated - Customers order via WhatsApp directly"," Pre-loaded store - Get demo products and categories automatically"," Instant subdomain - Your store goes live immediately at yourstore.yesgive.shop"," Google Drive integration - Store your product images in Google Drive"," Multi-payment support - Accept both Online and Cash on Delivery"," Easy analytics - Track sales, orders, and customer insights"," Referral program - Earn commissions by referring other sellers"," Professional support - 24/7 help available"]},{heading:"What You'll Need",content:[" Google Account (for sign-in and Google Drive storage)"," Store Name (what customers will see)"," WhatsApp Business Number (customers order via WhatsApp)"," Internet connection"," 5 minutes to set up"]},{heading:"Step 1: Open Menu & Get Started",content:["On your mobile or desktop:","","1. Open yesgive.shop","2. Click the 3-bar Menu icon () at top left","3. Click 'Get Started' button","4. Click 'Sign in with Google'","5. Select your Google account","6. Approve Google account access",""," Takes less than 1 minute"]},{heading:"Step 2: Fill Store Details",content:["After Google sign-in, you'll see the Store Setup form. Fill in:",""," Store Name (Required)","   What customers will see as your business name","   Examples: 'Fresh Fruits Market', 'Fashion Hub', 'Electronics Store'","   Can be 2-50 characters","   Tip: Your store URL is auto-generated from this name","   You can change this later in settings",""," Store Description (Optional)","   Brief description of your business","   What you sell and why customers should choose you","   Max 500 characters","   Examples: 'Fresh organic vegetables delivered daily'","   Leave blank if you'll add this later",""," WhatsApp Number (Required)","   This is the number where you WILL RECEIVE ORDERS","   Customers will message this number to place orders","   Select your country code (India: +91, USA: +1, UK: +44, UAE: +971)","   Enter your 10-digit phone number","   Make sure you have WhatsApp installed on this number","   Example: Country: India (+91), Phone: 9876543210",""," Store URL (Auto-generated - Read-only)","   Your unique web address automatically generated from store name","   Example: 'Fresh Fruits Market'  freshfruits.yesgive.shop","   Only lowercase letters and numbers","   This CANNOT be changed later, so choose your store name carefully!","   You'll see a  (available) or  (taken) indicator"]},{heading:"Step 3: Click 'Continue'",content:["After filling all required details:","","1. Review your information (especially Store Name - it determines your URL)","2. Verify your WhatsApp number is correct","3. Click the 'Continue' button","","What happens automatically:","   Your store is created instantly","   Store URL is registered (yourstore.digitaldukandar.in)","   Demo products are added (15+ sample products)","   Demo categories are added","   14-day free trial is activated",""," Takes less than 2 minutes total"]},{heading:"Step 4: Google Drive Setup",content:["After clicking Continue in Step 3, a NEW PAGE opens for Google Drive setup.","","What Google Drive does:","   Store all your product images in Google Drive","   Free cloud storage (up to 15GB for images)","   Automatic backup of your images","   Easy image management and organization","   Access images from anywhere","","How to connect Google Drive:","  1. On the new Google Drive page, click 'Connect Google Drive' button","  2. Select your Google account","  3. Approve permissions (allow access to Google Drive)","  4. Connection is complete","  5. Click 'Continue' to go to your admin panel","","Or you can skip:","   Click 'Skip' or 'Continue' without connecting","   You can connect anytime from Store Settings later","   Optional but recommended for convenience",""," Takes less than 1 minute (or 5 seconds to skip)"]},{heading:"Step 5: Access Your Admin Panel",content:["Congratulations!  You're in your Store Admin Panel!","","Your store is NOW LIVE at: yourstore.digitaldukandar.in","","Your store automatically comes pre-loaded with:","   15+ Demo Products - Sample products ready to show customers","   Demo Categories - Electronics, Fashion, Home & Living, etc.","   Everything is ready - No setup needed!","","What you can do right now:","   Manage Products - Edit, add, or delete products","   Manage Categories - Create and organize product categories","   View Analytics - Track sales, visitors, and orders","   Manage Orders - See customer orders and process them","   Set Discounts - Create coupons and automatic discounts","   Store Settings - Update store info, logo, colors, banner","   Growth Tools - Setup SEO, social media, marketing","   WhatsApp Orders - Customers can order via the WhatsApp number you provided",""," Your store is ready! Customers can now find you at yourstore.digitaldukandar.in"]},{heading:"Common Questions About Signup",content:["Q: Is signup really free?","A: Yes! 14-day free trial with full features. No credit card required. You only pay after trial if you want to continue.","","Q: Do I need technical skills?","A: No! The platform is designed for non-technical users. All done through simple forms and menus.","","Q: Can I change my store URL?","A: No, once created it cannot be changed. That's why we recommend choosing carefully. The URL shows in all customer emails and WhatsApp messages.","","Q: What if my store URL is already taken?","A: Modify your store name to make the URL unique. The system will automatically generate a new one and show if it's available.","","Q: Can I have multiple stores?","A: Yes! Create separate accounts (with different Google accounts) for multiple stores. Each gets its own dashboard.","","Q: What language is the store in?","A: Currently available in English. Multi-language support coming soon!","","Q: Do I need WhatsApp Business Account?","A: No, regular WhatsApp works fine. You just share the number with customers and they message you.","","Q: Can I edit store details later?","A: Yes! Most details can be changed in Store Settings. Only the store URL cannot be changed.","","Q: When does the free trial expire?","A: 14 days from the date you create your store. You'll get email reminders before it expires.","","Q: What payment methods can customers use?","A: Online payments and Cash on Delivery. You can choose which methods to accept in settings.","","Q: Are my products visible immediately?","A: Yes! Once you add a product, it appears on your store instantly. Customers can see it and order via WhatsApp.","","Q: Is customer data secure?","A: Yes. We use enterprise-grade encryption and follow international security standards. Your data is safe with us."]},{heading:"Need Help?",content:[" Check our documentation for detailed guides on each feature"," Contact support via WhatsApp or email"," Check your welcome email for quick start tips"," Watch our video tutorials (coming soon)"," Browse the FAQ section in your dashboard","","We're here to help! Don't hesitate to reach out with questions."]}]}},{id:"discount-coupon",title:"Discount & Coupon",icon:"",content:{title:"Discount & Coupon System",description:"Learn how to use our powerful discount and coupon system to boost sales and customer loyalty.",sections:[{heading:"Overview",content:"DigitalDukandar provides two complementary discount systems to help you maximize revenue and customer satisfaction: Manual Coupons and Automatic Discounts. Each system serves unique business needs and can be used strategically to drive different business outcomes. Together, they create a powerful tool for revenue optimization, customer acquisition, and loyalty building."},{heading:"Business Benefits",content:[" Increased Conversion Rates","Strategic discounts remove price barriers that prevent purchases. Studies show that 40% of cart abandonments are due to unexpected costs. By offering clear, automatic discounts, you reduce friction and encourage checkout completion. Price-sensitive customers are more likely to complete purchases when they see immediate savings.",""," Customer Retention & Loyalty","Returning customers are 50% more likely to buy and spend 31% more per transaction than new customers. Automatic returning customer discounts reward loyal buyers and incentivize repeat purchases. Manual coupons in email campaigns keep existing customers engaged with personalized offers.",""," Average Order Value (AOV) Growth","Tiered discounts encourage larger purchases. For example, offering 5% off at 500 and 15% off at 2500 motivates customers to add more items to reach higher tiers. This directly increases your revenue per transaction. A 10% increase in AOV can result in 25-30% profit growth.",""," New Customer Acquisition","First-time purchase hesitation is a major barrier. Welcome discounts (15-20% off) reduce purchase anxiety and convert first-time browsers into customers. New customers acquired with discounts have a 90% probability of making a second purchase within 30 days when managed properly.",""," Inventory Management","Excess inventory ties up capital and storage space. Category-based and quantity-based discounts help move slow-moving stock quickly. Instead of marking down prices permanently, use time-limited automatic discounts to clear inventory while maintaining margins on best-sellers.",""," Payment Method Optimization","Online payments improve cash flow and reduce payment failure rates. By offering better discounts for online payments vs. COD, you encourage customers to choose faster, more reliable payment methods. This reduces churn due to failed COD collections.",""," Competitive Advantage","Manual discount systems require tracking spreadsheets and manual code creation. Automatic discounts respond instantly to business needs without manual intervention. You can launch new promotional strategies in minutes, not days, staying ahead of competitors.",""," Reduced Cart Abandonment","Automatic discounts are applied at checkout, providing a pleasant surprise that recovers abandoned carts. Instead of offering fixed pricing that leads customers to shop elsewhere, dynamic discounts show personalized value based on their order.",""," Data-Driven Decision Making","Track which discount types drive conversions vs. which just lower margins. See exactly how each discount type performs, which customer segments respond best, and optimize your strategy based on real data. This prevents over-discounting and protects profitability."]},{heading:"Services & Features",content:[" Manual Coupons","Create custom discount codes that customers manually enter at checkout. You control when coupons are active, who can use them, and how they're distributed. Perfect for email campaigns, social media promotions, influencer partnerships, and seasonal sales. Each coupon has its own code, discount amount, expiry date, and usage tracking.",""," Automatic Discounts","Intelligent rules that automatically apply discounts based on customer behavior and order criteria. No customer action requireddiscounts appear instantly at checkout. Create once, apply to every relevant transaction. Types: tiered by order value, new customer, returning customer, category-based, quantity-based.",""," Real-Time Server-Side Validation","All discount calculations happen on secure servers, not client browsers. This prevents discount manipulation, ensures accuracy, and protects your system from fraud. Every checkout runs validation to check eligibility across all active rules in milliseconds.",""," 5 Discount Types for Every Business Need","Tiered by Value (incentivize larger orders), New Customer (reduce first-purchase friction), Returning Customer (reward loyalty), Category-Based (promote specific products), Quantity-Based (encourage bulk purchases). Mix and match strategies to create sophisticated promotional campaigns.",""," Payment Method Filtering","Apply discounts to specific payment methods: ALL (both COD & Online), ONLINE ONLY (encourage digital payments), COD ONLY (encourage cash orders). This lets you incentivize preferred payment methods without uniform discounting.",""," Highest Discount Priority Engine","When multiple discount rules apply to a single order, the system automatically selects the highest discount amount. No customer confusion, no manual calculation. Example: If a returning customer qualifies for both a 10% loyalty discount AND a 5% category discount, they get 10%.",""," Intelligent Expiry Management","Set start and end dates for all discounts. Automatic discounts have defined active periods so they don't run indefinitely. Coupons have individual expiry dates. The system automatically disables expired discounts with no manual action needed.",""," Comprehensive Performance Tracking","See in real-time: How many discounts were applied, total discount amount given, customer segments using each discount, revenue impact. Analytics dashboard shows which discounts drive actual conversions vs. which just commoditize pricing.",""," Customer Eligibility Validation","For new/returning customer discounts: System checks customer history via email and phone number. Automatically determines if they're new or returning without any manual verification.",""," No Coupon/Discount Duplication","System prevents fraud by blocking duplicate coupon usage and complex rule combinations that could be exploited. Each transaction gets one discount (coupon takes priority if applied)."]},{heading:"Manual Coupons",content:["What are they?: Coupon codes that customers must manually find and apply at checkout","When to use: Limited-time promotions, email campaigns, social media contests, affiliate partnerships","How to create:","   Go to Discount & Coupon page in admin dashboard","   Click 'Create Coupon' button","   Set coupon code (e.g., SAVE20)","   Choose discount type: Percentage or Fixed amount","   Set expiry date","   Publish and share with customers","Best practices: Keep codes memorable, set appropriate validity periods, track redemption rates"]},{heading:"Automatic Discounts",content:["What are they?: Smart rules that automatically apply discounts without customer action","When to use: Always-on promotions, customer loyalty programs, seasonal sales, inventory clearance","Discount Types:","   Tiered by Value: Different discounts at different order amounts","   New Customer: Welcome discount for first-time buyers","   Returning Customer: Loyalty bonus for repeat customers","   Category-Based: Discounts on specific product categories","   Quantity-Based: Bulk purchase incentives"]},{heading:"How Automatic Discounts Work",content:["Setup: Create discount rules in the Discount & Coupon admin page","Validation: During checkout, our system validates all applicable rules","Selection: If multiple rules apply, the highest discount amount wins automatically","Application: Discount is shown to customer before payment","Exclusion: If customer applies a manual coupon, automatic discounts are disabled","Priority: Always: Coupon > Automatic Discount"]},{heading:"Tiered Discount Example",content:["Use case: Encourage larger purchases","Setup:","   Tier 1: Orders 500-999  5% off","   Tier 2: Orders 1000-2499  10% off","   Tier 3: Orders 2500+  15% off","Result: Customer buying 3000 worth automatically gets 15% (450) discount"]},{heading:"New Customer Discount Example",content:["Use case: Reduce friction for first-time purchases","Setup: 20% off for customers with no previous orders","Validation: System checks customer email/phone against order history","Result: First-time customers see discount automatically, encouraging purchase"]},{heading:"Category-Based Discount Example",content:["Use case: Promote specific product categories","Setup: 25% off all 'Electronics' category products","Scope: Discount applies only to items in that category","Result: Customers buying electronics get automatic discount; other categories unaffected"]},{heading:"Quantity-Based Discount Example",content:["Use case: Bulk purchase incentives","Setup: Buy 5+ items  Get 10% off entire order","Validation: System counts total items in cart","Result: Customer with 6+ items automatically receives discount"]},{heading:"Best Practices",content:["Balance Margins: Ensure discounts don't erode profitability","Test First: Use limited testing before full rollout","Clear Communication: Help customers understand how they're getting discounts","Monitor Performance: Track which discounts drive conversions vs. just lower margins","Seasonal Strategy: Adjust discounts based on demand and inventory levels","Avoid Over-Complexity: Too many overlapping rules confuse customers and your system","Set Expiry Dates: Automatic discounts should have defined active periods","Combine Strategically: Mix coupon and automatic discount strategies for maximum impact"]},{heading:"Payment Method Integration",content:["When creating discounts, you can specify payment method applicability:","   All: Works for both COD and Online payments","   Online Only: Encourages digital payment adoption","   COD Only: Encourages cash-on-delivery purchases","Use case: Offer better discounts for online payments to improve cash flow"]},{heading:"Common Questions",content:["Q: Can I use both coupons and automatic discounts?","A: Yes! They work together. If no coupon is applied, automatic discounts activate.","","Q: What happens if multiple automatic discounts apply?","A: The system automatically selects the one with the highest discount amount.","","Q: Can customers combine multiple coupons?","A: No, only one coupon code per order. But they might qualify for automatic discounts too.","","Q: How often should I change my discounts?","A: Review monthly based on sales data. Adjust based on seasonality and inventory.","","Q: Are discounts deducted from my revenue in reports?","A: Yes, all reports show net revenue after discount deduction for accurate tracking."]}]}},{id:"products",title:"Products Management",icon:"",content:{title:"Products Management",description:"Coming soon: Learn how to manage your product catalog effectively.",sections:[{heading:"Coming Soon",content:"This section is under development. Check back soon for comprehensive product management guides."}]},disabled:!0},{id:"orders",title:"Orders & Shipping",icon:"",content:{title:"Orders & Shipping",description:"Coming soon: Master order processing and shipping management.",sections:[{heading:"Coming Soon",content:"This section is under development. Check back soon for comprehensive order and shipping guides."}]},disabled:!0},{id:"analytics",title:"Analytics",icon:"",content:{title:"Analytics",description:"Coming soon: Understand your business metrics and growth.",sections:[{heading:"Coming Soon",content:"This section is under development. Check back soon for comprehensive analytics guides."}]},disabled:!0},{id:"seo",title:"SEO & Growth",icon:"",content:{title:"SEO & Growth",description:"Coming soon: Optimize your store for search engines and growth.",sections:[{heading:"Coming Soon",content:"This section is under development. Check back soon for comprehensive SEO and growth guides."}]},disabled:!0},{id:"helper",title:"Helper Program",icon:"",content:{title:"Helper Program",description:"Coming soon: Build your referral and helper network.",sections:[{heading:"Coming Soon",content:"This section is under development. Check back soon for comprehensive helper program guides."}]},disabled:!0}],l=o.find(u=>u.id===t),c=j.useMemo(()=>{if(!r.trim())return o;const u=r.toLowerCase();return o.filter(d=>d.title.toLowerCase().includes(u)||d.content.title.toLowerCase().includes(u)||d.content.description.toLowerCase().includes(u)||d.content.sections.some(f=>f.heading.toLowerCase().includes(u)||typeof f.content=="string"&&f.content.toLowerCase().includes(u)||Array.isArray(f.content)&&f.content.some(m=>m.toLowerCase().includes(u))))},[r,o]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[s.jsx("style",{children:a0t}),s.jsxs(zA,{children:[s.jsx("title",{children:"Guide | DigitalDukandar"}),s.jsx("meta",{name:"description",content:"Comprehensive guides and documentation for DigitalDukandar platform."}),s.jsx("meta",{name:"keywords",content:"guide, documentation, help, tutorials, discounts, coupons"}),s.jsx("meta",{property:"og:title",content:"Guide | DigitalDukandar"}),s.jsx("meta",{property:"og:description",content:"Comprehensive guides and documentation for DigitalDukandar platform."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{name:"twitter:card",content:"summary"}),s.jsx("meta",{name:"twitter:title",content:"Guide | DigitalDukandar"}),s.jsx("meta",{name:"twitter:description",content:"Comprehensive guides and documentation for DigitalDukandar platform."})]}),s.jsx("header",{className:"border-b border-border/30 bg-background/95 backdrop-blur-xl sticky top-0 z-50 shadow-lg shadow-black/5",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:s.jsxs("div",{className:"flex items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[s.jsx("button",{onClick:()=>i(!a),className:"p-3 hover:bg-primary/10 rounded-xl transition-all duration-300 border border-border/50 hover:border-primary/30 hover:shadow-md","aria-label":"Toggle sidebar",title:a?"Close sidebar":"Open sidebar",children:s.jsx(RN,{className:"w-5 h-5 text-foreground"})}),s.jsxs("div",{className:"select-none flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Lz,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Documentation"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 hidden sm:block",children:"Comprehensive platform guides"})]})]})]}),s.jsxs("div",{className:"relative flex-1 max-w-xl",children:[s.jsx(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(lt,{type:"text",placeholder:"Search documentation...",value:r,onChange:u=>n(u.target.value),className:"pl-11 h-12 bg-muted/50 border-border/50 focus:border-primary/50 text-sm w-full rounded-xl shadow-sm"})]}),s.jsxs(hr,{to:"/",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-all duration-300 flex-shrink-0 px-4 py-2.5 rounded-xl hover:bg-primary/10 border border-transparent hover:border-primary/20",title:"Back to home",children:[s.jsx(Ud,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Back"})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 lg:px-8 pt-8 min-h-[calc(100vh-140px)]",children:s.jsxs("div",{className:"flex gap-8 pb-8 h-full",children:[s.jsx("aside",{className:Gt("w-72 lg:w-80 flex-shrink-0 transition-all duration-300 ease-in-out",a?"block":"hidden"),children:s.jsxs("div",{className:"sticky top-[120px] space-y-3 max-h-[calc(100vh-140px)] overflow-y-auto pr-3 hide-scrollbar",children:[s.jsx("div",{className:"mb-4",children:s.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground px-4 mb-3",children:"Guide Topics"})}),c.map((u,d)=>s.jsxs("button",{onClick:()=>{e(u.id)},disabled:u.disabled,className:Gt("w-full text-left px-5 py-4 rounded-xl transition-all duration-300 flex items-center justify-between group menu-item-hover","animate-fade-in-up",t===u.id?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground shadow-lg shadow-primary/20 scale-[1.02]":"hover:bg-muted/80 text-foreground/90 hover:text-foreground border border-border/30 hover:border-border/50 hover:shadow-md",u.disabled&&"opacity-50 cursor-not-allowed hover:transform-none"),style:{animationDelay:`${d*.05}s`},children:[s.jsxs("span",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:u.icon}),s.jsx("span",{className:"font-medium text-[15px]",children:u.title})]}),u.disabled?s.jsx(_0,{className:"w-3.5 h-3.5 opacity-50"}):t===u.id?s.jsx($h,{className:"w-4 h-4 ml-auto transition-transform group-hover:translate-x-1"}):null]},u.id)),r&&c.length===0&&s.jsxs("div",{className:"mt-8 p-6 text-center text-sm text-muted-foreground border-2 border-dashed border-muted-foreground/20 rounded-xl bg-muted/30",children:[s.jsx(Vl,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsxs("p",{children:['No results found for "',r,'"']})]})]})}),s.jsx("main",{className:"flex-1 min-w-0 overflow-y-auto hide-scrollbar",style:{maxHeight:"calc(100vh - 160px)"},children:l?s.jsxs("article",{className:"max-w-4xl space-y-10 animate-fade-in-up pb-12",children:[s.jsxs("div",{className:"border-b border-border/40 pb-8 pt-4",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-4 bg-gradient-to-r from-foreground via-foreground to-foreground/60 bg-clip-text text-transparent",children:l.content.title}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground leading-relaxed",children:l.content.description})]}),l.disabled?s.jsxs("div",{className:"bg-gradient-to-br from-muted/40 to-muted/20 border-2 border-dashed border-muted-foreground/20 rounded-2xl p-16 text-center",children:[s.jsx("div",{className:"inline-flex p-4 bg-muted/50 rounded-full mb-4",children:s.jsx(_0,{className:"w-12 h-12 text-muted-foreground"})}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-md mx-auto",children:"This guide is under development. Check back later for detailed documentation."})]}):s.jsx("div",{className:"space-y-12",children:l.content.sections.map((u,d)=>s.jsxs("section",{className:"scroll-mt-32",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground pt-4 pb-2 border-l-4 border-primary pl-6",children:u.heading}),Array.isArray(u.content)?s.jsx("div",{className:"space-y-4 pl-6",children:u.content.map((f,m)=>{if(f==="")return s.jsx("div",{className:"h-6"},m);const h=f.startsWith("  "),x=f.includes("Q:")||f.includes("A:"),g=f.replace(/^  /,"");return s.jsx("p",{className:Gt("text-foreground/90 leading-relaxed text-base",h&&"ml-8 pl-4 border-l-2 border-muted-foreground/20",x&&"font-semibold mt-4 text-foreground"),children:g},m)})}):s.jsx("p",{className:"text-foreground/90 leading-relaxed text-base whitespace-pre-wrap pl-6",children:u.content})]},d))}),!l.disabled&&s.jsxs("div",{className:"mt-20 bg-gradient-to-br from-primary/15 via-primary/10 to-primary/5 rounded-2xl p-10 border border-primary/20 shadow-xl shadow-primary/5",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4 text-foreground",children:"Still have questions?"}),s.jsx("p",{className:"text-muted-foreground text-lg mb-8 max-w-2xl",children:"Need help with specific features? Visit your admin dashboard or contact our support team for personalized assistance."}),s.jsx(hr,{to:"/auth",children:s.jsxs(we,{className:"gap-2 h-12 px-6 text-base shadow-lg hover:shadow-xl transition-all duration-300",children:["Go to Dashboard",s.jsx($h,{className:"w-5 h-5"})]})})]})]}):s.jsxs("div",{className:"text-center py-32",children:[s.jsx("div",{className:"inline-flex p-6 bg-muted/50 rounded-full mb-6",children:s.jsx(Lz,{className:"w-16 h-16 text-muted-foreground"})}),s.jsx("p",{className:"text-muted-foreground text-xl",children:"Select a guide from the sidebar to get started"})]})})]})})]})};function o0t(){const t=en(),{toast:e}=ga(),[r,n]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),m="superadmin.digitaldukandar.in";j.useEffect(()=>{const x=window.location.hostname,g=x.endsWith(".lovable.app")||x.endsWith(".lovable.dev")||x.endsWith(".lovableproject.com");!(x===m)&&!(x==="localhost"||x==="127.0.0.1")&&!g&&f(!0)},[]);const h=async x=>{x.preventDefault(),u(!0);try{const{data:g,error:v}=await ae.auth.signInWithPassword({email:r,password:a});if(v)throw v;if(!g.user)throw new Error("Login failed");const{data:b,error:_}=await ae.from("user_roles").select("role").eq("user_id",g.user.id).eq("role","super_admin");if(_)throw _;if(!b||b.length===0)throw await ae.auth.signOut(),new Error("You do not have super admin access");const{data:w}=await ae.from("profiles").select("full_name").eq("user_id",g.user.id).single();sessionStorage.setItem("superadmin_session",JSON.stringify({id:g.user.id,email:g.user.email,fullName:w?.full_name||"Super Admin",loginAt:new Date().toISOString()})),o&&localStorage.setItem("superadmin_remember","true"),e({title:"Login Successful",description:"Welcome back to Super Admin Panel"}),t("/superadmin/dashboard")}catch(g){console.error("Login error:",g),e({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials or insufficient permissions"})}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:s.jsxs(He,{className:"w-full max-w-md",children:[s.jsxs(jt,{className:"space-y-4 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(bp,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(Nt,{className:"text-3xl font-bold",children:"Super Admin"}),s.jsx(hn,{className:"mt-2",children:d?"Access Restricted":"Enter your credentials to access the admin panel"})]})]}),s.jsx(Xe,{children:d?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-destructive font-medium",children:"Unauthorized Domain Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This super admin panel can only be accessed from authorized domains."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current domain: ",s.jsx("span",{className:"font-mono",children:window.location.hostname})]})]}):s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Email Address"}),s.jsx(lt,{id:"email",type:"email",placeholder:"admin@example.com",value:r,onChange:x=>n(x.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"password",children:"Password"}),s.jsx(lt,{id:"password",type:"password",placeholder:"",value:a,onChange:x=>i(x.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{id:"remember",checked:o,onCheckedChange:x=>l(x),disabled:c}),s.jsx(Be,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx(we,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}function M_({className:t,...e}){return s.jsx("div",{className:Gt("animate-pulse rounded-md bg-muted",t),...e})}function l0t(){const[t,e]=j.useState([]),[r,n]=j.useState(!0);j.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:o,error:l}=await ae.from("subscription_plans").select("id, name, enable_location_sharing, enable_analytics, enable_order_emails").order("display_order");if(l)throw l;e(o||[])}catch(o){et({title:"Error",description:o.message,variant:"destructive"})}finally{n(!1)}},i=async(o,l,c)=>{try{const{error:u}=await ae.from("subscription_plans").update({[l]:c}).eq("id",o);if(u)throw u;et({title:"Success",description:"Feature setting updated"}),a()}catch(u){et({title:"Error",description:u.message,variant:"destructive"})}};return r?s.jsx(He,{children:s.jsx(Xe,{className:"p-6 text-center",children:s.jsx(pr,{className:"h-8 w-8 animate-spin mx-auto"})})}):s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Feature Management"})}),s.jsx(Xe,{children:s.jsx("div",{className:"space-y-6",children:t.map(o=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:o.name}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Be,{htmlFor:`location-${o.id}`,className:"cursor-pointer",children:"Location Sharing"}),s.jsx(Fn,{id:`location-${o.id}`,checked:o.enable_location_sharing,onCheckedChange:l=>i(o.id,"enable_location_sharing",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Be,{htmlFor:`analytics-${o.id}`,className:"cursor-pointer",children:"Analytics"}),s.jsx(Fn,{id:`analytics-${o.id}`,checked:o.enable_analytics,onCheckedChange:l=>i(o.id,"enable_analytics",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Order Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for new orders"})]}),s.jsx(Fn,{checked:o.enable_order_emails,onCheckedChange:l=>i(o.id,"enable_order_emails",l)})]})]})]},o.id))})})]})}function c0t(){const{toast:t}=ga(),[e,r]=j.useState(null),[n,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[u,d]=j.useState(!0);j.useEffect(()=>{f();const x=setInterval(f,6e4);return()=>clearInterval(x)},[]);const f=async()=>{try{const{data:x}=await ae.from("profiles").select("created_at, user_id"),g=x?.length||0,{data:v}=await ae.from("user_roles").select("user_id").eq("role","super_admin"),b=new Set(v?.map(Se=>Se.user_id)||[]),_=(x||[]).filter(Se=>!b.has(Se.user_id)),w=_.length,N=new Date;N.setHours(0,0,0,0);const S=_.filter(Se=>new Date(Se.created_at)>=N).length,C=new Date;C.setDate(C.getDate()-30);const A=new Date;A.setDate(A.getDate()-7);const{data:R}=await ae.from("stores").select("id, user_id, last_admin_visit, created_at"),{data:O}=await ae.from("orders").select("store_id").gte("created_at",C.toISOString()),D=new Set(O?.map(Se=>Se.store_id)||[]),E=(R||[]).filter(Se=>!b.has(Se.user_id)&&(D.has(Se.id)||Se.last_admin_visit&&new Date(Se.last_admin_visit)>=A)).length,I=(R||[]).filter(Se=>!b.has(Se.user_id)).length,M=I>0?E/I*100:0,U=new Date;U.setDate(1),U.setHours(0,0,0,0);const W=new Date(U);W.setMonth(W.getMonth()-1);const{data:Y}=await ae.from("transactions").select("total_amount").eq("status","success").gte("created_at",U.toISOString()),J=Y?.reduce((Se,_e)=>Se+(_e.total_amount||0),0)||0,{data:z}=await ae.from("transactions").select("total_amount").eq("status","success").gte("created_at",W.toISOString()).lt("created_at",U.toISOString()),q=z?.reduce((Se,_e)=>Se+(_e.total_amount||0),0)||0,V=q>0?(J-q)/q*100:J>0?100:0,L=new Date;L.setDate(L.getDate()-60);const X=_.filter(Se=>new Date(Se.created_at)>=C).length,K=_.filter(Se=>{const _e=new Date(Se.created_at);return _e>=L&&_e<C}).length,Q=K>0?(X-K)/K*100:X>0?100:0;r({totalUsers:w,todayUsers:S,activeStores:E,activePercentage:M,monthlyRevenue:J,revenueGrowth:V,newSignups:X,signupGrowth:Q});const{data:oe}=await ae.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price"),{data:ce}=await ae.from("subscriptions").select("plan_id, user_id, status").in("status",["trial","active"]),de=(ce||[]).filter(Se=>!b.has(Se.user_id)),ne=new Map;de.forEach(Se=>{const _e=ne.get(Se.plan_id)||0;ne.set(Se.plan_id,_e+1)});const ue=["bg-gray-500","bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"],se=de.length,Z=(oe||[]).map((Se,_e)=>{const Je=ne.get(Se.id)||0;return{plan:Se.name,users:Je,percentage:se>0?Je/se*100:0,revenue:Je*(Se.monthly_price||0),color:ue[_e%ue.length]}});Z.sort((Se,_e)=>_e.users-Se.users),a(Z);const Oe=[],re=_.sort((Se,_e)=>new Date(_e.created_at).getTime()-new Date(Se.created_at).getTime()).slice(0,5),{data:le}=await ae.from("profiles").select("user_id, email, full_name, created_at").in("user_id",re.map(Se=>Se.user_id));le?.forEach(Se=>{Oe.push({id:`signup-${Se.user_id}`,type:"signup",description:`New user registered: ${Se.full_name||"Unknown"}`,userEmail:Se.email,timestamp:Se.created_at,icon:"user-plus"})});const{data:We}=await ae.from("subscriptions").select(`
          id,
          user_id,
          status,
          created_at,
          updated_at,
          subscription_plans(name)
        `).order("updated_at",{ascending:!1}).limit(5),xe=We?.map(Se=>Se.user_id)||[],{data:Le}=await ae.from("profiles").select("user_id, email, full_name").in("user_id",xe),ke=new Map(Le?.map(Se=>[Se.user_id,Se])||[]);We?.forEach(Se=>{if(!b.has(Se.user_id)){const _e=ke.get(Se.user_id);Oe.push({id:`sub-${Se.id}`,type:Se.status==="active"?"upgrade":"subscription",description:`Subscription ${Se.status}: ${Se.subscription_plans?.name||"Plan"}`,userEmail:_e?.email||null,timestamp:Se.updated_at,icon:"trending-up"})}}),Oe.sort((Se,_e)=>new Date(_e.timestamp).getTime()-new Date(Se.timestamp).getTime()),o(Oe.slice(0,10));const fe=performance.now(),{data:ye}=await ae.from("profiles").select("user_id").limit(1),qe=performance.now()-fe,Qe=qe<100?"healthy":qe<500?"degraded":"down",{data:ct}=await ae.from("platform_settings").select("razorpay_key_id").single(),Ye=ct?.razorpay_key_id?"active":"inactive",{count:me}=await ae.from("orders").select("*",{count:"exact",head:!0});c({database:{status:Qe,responseTime:Math.round(qe)},api:{status:"operational",uptime:99.98},payment:{status:Ye,provider:"Razorpay"},storage:{totalUsers:w,totalStores:I,totalOrders:me||0}}),d(!1)}catch(x){console.error("Dashboard load error:",x),t({variant:"destructive",title:"Error Loading Data",description:x.message}),d(!1)}},m=x=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(x),h=x=>{const g=new Date,v=new Date(x),b=g.getTime()-v.getTime(),_=Math.floor(b/6e4),w=Math.floor(b/36e5),N=Math.floor(b/864e5);return _<1?"Just now":_<60?`${_}m ago`:w<24?`${w}h ago`:`${N}d ago`};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u?Array(4).fill(0).map((x,g)=>s.jsx(M_,{className:"h-32"},g)):e&&s.jsxs(s.Fragment,{children:[s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-3xl font-bold",children:e.totalUsers.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx($l,{className:"h-4 w-4 text-green-500"}),"+",e.todayUsers," today"]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Active Stores"})}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-3xl font-bold",children:e.activeStores.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(rs,{className:"h-4 w-4 text-green-500"}),e.activePercentage.toFixed(1),"% active"]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"})}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-3xl font-bold",children:m(e.monthlyRevenue)}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx($l,{className:"h-4 w-4 text-green-500"}),"+",e.revenueGrowth,"% from last month"]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"New Signups (30 days)"})}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-3xl font-bold",children:e.newSignups}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx($l,{className:"h-4 w-4 text-green-500"}),"+",e.signupGrowth,"% growth"]})]})]})]})}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Subscriptions by Plan"})}),s.jsx(Xe,{className:"space-y-4",children:u?s.jsx(M_,{className:"h-40"}):n.length>0?s.jsxs(s.Fragment,{children:[n.map(x=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:x.plan}),s.jsxs("span",{className:"text-muted-foreground",children:[x.users," users (",x.percentage.toFixed(1),"%)",x.revenue>0&&` - ${m(x.revenue)}/mo`]})]}),s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${x.color} transition-all`,style:{width:`${Math.max(x.percentage,2)}%`}})})]},x.plan)),s.jsxs("div",{className:"pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Total Subscribers"}),s.jsxs("span",{className:"text-muted-foreground",children:[n.reduce((x,g)=>x+g.users,0)," users"]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("span",{className:"font-medium",children:"Total MRR"}),s.jsx("span",{className:"text-muted-foreground",children:m(n.reduce((x,g)=>x+g.revenue,0))})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subscription plans available"})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Monthly Recurring Revenue"})}),s.jsxs(Xe,{children:[u?s.jsx(M_,{className:"h-64"}):s.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed rounded-lg",children:s.jsx("p",{className:"text-muted-foreground",children:"Revenue chart will be displayed here"})}),e&&s.jsxs("div",{className:"mt-4 flex gap-6 text-sm",children:[s.jsxs("span",{children:["Current MRR: ",s.jsx("strong",{children:m(e.monthlyRevenue)})]}),s.jsxs("span",{children:["ARR: ",s.jsx("strong",{children:m(e.monthlyRevenue*12)})]})]})]})]}),s.jsx(l0t,{}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Recent Activity"})}),s.jsx(Xe,{children:u?s.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((x,g)=>s.jsx(M_,{className:"h-16"},g))}):i.length>0?s.jsxs("div",{className:"space-y-4",children:[i.map(x=>s.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[s.jsx("div",{className:"p-2 bg-muted rounded-lg",children:s.jsx(o4,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:x.description}),x.userEmail&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:x.userEmail})]}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:h(x.timestamp)})]},x.id)),s.jsxs(we,{variant:"ghost",className:"w-full",children:["View All Activity",s.jsx($h,{className:"ml-2 h-4 w-4"})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"System Status"})}),s.jsx(Xe,{children:u?s.jsx(M_,{className:"h-32"}):l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${l.database.status==="healthy"?"bg-green-500":l.database.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Database"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:l.database.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.database.responseTime,"ms"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${l.api.status==="operational"?"bg-green-500":l.api.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"API"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:l.api.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.api.uptime,"% uptime"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${l.payment.status==="active"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Payment Gateway"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:l.payment.status}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.payment.provider})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Storage"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.storage.totalOrders.toLocaleString()," orders"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.storage.totalUsers," users, ",l.storage.totalStores," stores"]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString(),"  Auto-refresh every 60s"]})})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"System health data unavailable"})})]})]})}var SI={exports:{}},kI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ene;function u0t(){if(ene)return kI;ene=1;var t=NA();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(f,m){var h=m(),x=n({inst:{value:h,getSnapshot:m}}),g=x[0].inst,v=x[1];return i(function(){g.value=h,g.getSnapshot=m,c(g)&&v({inst:g})},[f,h,m]),a(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),o(h),h}function c(f){var m=f.getSnapshot;f=f.value;try{var h=m();return!r(f,h)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return kI.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,kI}var tne;function d0t(){return tne||(tne=1,SI.exports=u0t()),SI.exports}var f0t=d0t();function h0t(){return f0t.useSyncExternalStore(m0t,()=>!0,()=>!1)}function m0t(){return()=>{}}var pU="Avatar",[p0t]=bi(pU),[g0t,Pye]=p0t(pU),Tye=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=j.useState("idle");return s.jsx(g0t,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(xr.span,{...n,ref:e})})});Tye.displayName=pU;var Oye="AvatarImage",Dye=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,o=Pye(Oye,r),l=x0t(n,i),c=mi(u=>{a(u),o.onImageLoadingStatusChange(u)});return vi(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(xr.img,{...i,ref:e,src:n}):null});Dye.displayName=Oye;var Rye="AvatarFallback",Iye=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=Pye(Rye,r),[o,l]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(xr.span,{...a,ref:e}):null});Iye.displayName=Rye;function rne(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function x0t(t,{referrerPolicy:e,crossOrigin:r}){const n=h0t(),a=j.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=j.useState(()=>rne(i,t));return vi(()=>{l(rne(i,t))},[i,t]),vi(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,e]),o}var Fye=Tye,Mye=Dye,Lye=Iye;const $ye=j.forwardRef(({className:t,...e},r)=>s.jsx(Fye,{ref:r,className:Gt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));$ye.displayName=Fye.displayName;const v0t=j.forwardRef(({className:t,...e},r)=>s.jsx(Mye,{ref:r,className:Gt("aspect-square h-full w-full",t),...e}));v0t.displayName=Mye.displayName;const Bye=j.forwardRef(({className:t,...e},r)=>s.jsx(Lye,{ref:r,className:Gt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Bye.displayName=Lye.displayName;function y0t({subscription:t,open:e,onClose:r,onSuccess:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(!0),c=async()=>{try{if(i(!0),console.log("Subscription object:",t),console.log("Subscription ID:",t?.id),!t?.id)throw new Error("Subscription ID is missing. Please refresh the page and try again.");const f=new Date,m=new Date;t.billing_cycle==="yearly"?m.setFullYear(m.getFullYear()+1):m.setMonth(m.getMonth()+1);const h={status:"active",current_period_start:f.toISOString(),current_period_end:m.toISOString(),next_billing_at:m.toISOString(),updated_at:new Date().toISOString()};o&&(h.whatsapp_orders_used=0,h.website_orders_used=0);const{error:x}=await ae.from("subscriptions").update(h).eq("id",t.id);if(x)throw x;et({title:"Success",description:"Subscription renewed successfully"}),n(),r()}catch(f){console.error("Error renewing subscription:",f),et({title:"Error",description:f.message||"Failed to renew subscription",variant:"destructive"})}finally{i(!1)}};if(!t)return null;const u=t.status==="expired"||t.status==="pending_payment",d={whatsapp:t.whatsapp_orders_used||0,website:t.website_orders_used||0};return s.jsx(ss,{open:e,onOpenChange:r,children:s.jsxs(ts,{className:"sm:max-w-[500px]",children:[s.jsxs(as,{children:[s.jsx(is,{children:"Renew Subscription"}),s.jsx(ja,{children:"Manually renew the subscription for this user"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Hn,{className:u?"border-red-500":"",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx(Gn,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Plan:"}),s.jsx("span",{children:t.plan?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx("span",{className:"capitalize",children:t.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Current Period End:"}),s.jsx("span",{children:t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"N/A"})]})]})})]}),s.jsx(Hn,{children:s.jsx(Gn,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Current Order Usage:"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"WhatsApp Orders:"}),s.jsx("span",{className:"font-mono",children:d.whatsapp})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Website Orders:"}),s.jsx("span",{className:"font-mono",children:d.website})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-md border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{htmlFor:"reset-counters",className:"font-medium",children:"Reset Order Counters"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset WhatsApp and Website order counts to 0"})]}),s.jsx(Fn,{id:"reset-counters",checked:o,onCheckedChange:l})]}),s.jsxs(Hn,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[s.jsx(rs,{className:"h-4 w-4 text-green-600"}),s.jsxs(Gn,{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"After Renewal:"}),s.jsxs("ul",{className:"text-green-800 dark:text-green-200 space-y-1",children:[s.jsx("li",{children:" Status will be set to 'active'"}),s.jsxs("li",{children:[" New period: ",new Date().toLocaleDateString()," -"," ",t.billing_cycle==="yearly"?new Date(Date.now()+365*24*60*60*1e3).toLocaleDateString():new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]}),o&&s.jsx("li",{children:" Order counters will be reset to 0"}),!o&&s.jsx("li",{children:" Order counters will remain unchanged"})]})]})]})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:r,disabled:a,children:"Cancel"}),s.jsxs(we,{onClick:c,disabled:a,children:[a&&s.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),"Renew Subscription"]})]})]})})}function Uye({open:t,onOpenChange:e,userId:r,userEmail:n,currentSubscription:a,onSuccess:i}){const[o,l]=j.useState([]),[c,u]=j.useState(""),[d,f]=j.useState("monthly"),[m,h]=j.useState("trial"),[x,g]=j.useState(14),[v,b]=j.useState(!1);j.useEffect(()=>{t&&_()},[t]);const _=async()=>{try{const{data:S,error:C}=await ae.from("subscription_plans").select("id, name, trial_days").eq("is_active",!0).order("display_order");if(C)throw C;l(S||[])}catch(S){et({title:"Error",description:S.message,variant:"destructive"})}},w=S=>{u(S);const C=o.find(A=>A.id===S);C&&g(C.trial_days||14)},N=async()=>{if(!c){et({title:"Error",description:"Please select a plan",variant:"destructive"});return}try{b(!0);const S=new Date;let C=new Date;m==="trial"?C.setDate(C.getDate()+x):m==="active"?d==="monthly"?C.setMonth(C.getMonth()+1):C.setFullYear(C.getFullYear()+1):C=new Date(S.getTime()-864e5);const A=m==="trial"?new Date(S.getTime()+x*864e5):null,R=m==="active"?new Date(C.getTime()):null,{data:O}=await ae.from("subscriptions").select("id").eq("user_id",r).maybeSingle(),D={plan_id:c,billing_cycle:d,status:m,current_period_start:S.toISOString(),current_period_end:C.toISOString(),trial_ends_at:A?.toISOString()||null,next_billing_at:R?.toISOString()||null,started_at:S.toISOString()};if(O){const{error:P}=await ae.from("subscriptions").update({...D,updated_at:S.toISOString()}).eq("id",O.id);if(P)throw P}else{const{error:P}=await ae.from("subscriptions").insert({user_id:r,...D});if(P)throw P}et({title:"Success",description:`Subscription plan assigned to ${n}`}),i(),e(!1)}catch(S){et({title:"Error",description:S.message,variant:"destructive"})}finally{b(!1)}};return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsxs(ts,{className:"max-w-md",children:[s.jsxs(as,{children:[s.jsx(is,{children:"Assign Subscription Plan"}),s.jsxs(ja,{children:["Assign or update subscription plan for ",n,a&&s.jsxs("span",{className:"block mt-2 text-sm",children:["Current: ",a.plan.name," (",a.status,")"]})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Select Plan"}),s.jsxs(zr,{value:c,onValueChange:w,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Choose a plan"})}),s.jsx($r,{children:o.map(S=>s.jsx(ut,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Status"}),s.jsxs(zr,{value:m,onValueChange:h,children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"trial",children:"Trial"}),s.jsx(ut,{value:"active",children:"Active"}),s.jsx(ut,{value:"expired",children:"Expired"}),s.jsx(ut,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Billing Cycle"}),s.jsxs(zr,{value:d,onValueChange:f,children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"monthly",children:"Monthly"}),s.jsx(ut,{value:"yearly",children:"Yearly"})]})]})]}),m==="trial"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Trial Days"}),s.jsx(lt,{type:"number",value:x,onChange:S=>g(parseInt(S.target.value)),min:0})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(we,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),s.jsx(we,{onClick:N,disabled:v,children:v?"Assigning...":"Assign Plan"})]})]})})}function b0t({user:t,open:e,onClose:r,onRefresh:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState("");j.useEffect(()=>{if(!t?.subscription)return;const g=()=>{const b=t.subscription.status==="trial"?t.subscription.trial_ends_at:t.subscription.current_period_end;if(!b)return"";const _=new Date().getTime(),N=new Date(b).getTime()-_;if(N<=0)return"Expired";const S=Math.floor(N/(1e3*60*60*24)),C=Math.floor(N%(1e3*60*60*24)/(1e3*60*60)),A=Math.floor(N%(1e3*60*60)/(1e3*60)),R=Math.floor(N%(1e3*60)/1e3);return`${S}d ${C}h ${A}m ${R}s`};f(g());const v=setInterval(()=>{f(g())},1e3);return()=>clearInterval(v)},[t?.subscription]);const m=g=>{navigator.clipboard.writeText(g),et({title:"Copied",description:"Copied to clipboard"})},h=async()=>{try{console.log("Attempting to login as user:",t.id,t.email);const{data:g,error:v}=await ae.functions.invoke("login-as-user",{body:{user_id:t.id}});if(console.log("Edge function response:",{data:g,error:v}),v){if(console.error("Edge function error:",v),v.context?.body){const b=await v.context.text();console.error("Response body:",b);try{const _=JSON.parse(b);if(_.error)throw new Error(_.error)}catch(_){console.error("Could not parse response:",_)}}throw v}if(g?.error)throw console.error("Error from edge function:",g.error),new Error(g.error);if(g?.access_token){const{data:b}=await ae.auth.getSession();if(b.session){const _={...b.session,saved_at:Date.now(),user_id:b.session.user.id,reason:"impersonation"};localStorage.setItem("superadmin_session",JSON.stringify(_))}await ae.auth.setSession({access_token:g.access_token,refresh_token:g.refresh_token}),et({title:"Success",description:`Logged in as ${t.email}`}),window.location.href="/admin/dashboard"}else throw new Error("No access token received from edge function")}catch(g){console.error("Login as user error:",g),et({title:"Error",description:g.message||"Failed to login as user",variant:"destructive"})}},x=async()=>{if(!t.subscription){et({title:"Error",description:"No active subscription to cancel",variant:"destructive"});return}if(confirm(`Are you sure you want to cancel the subscription for ${t.email}?

Plan: ${t.subscription.plan.name}
Status: ${t.subscription.status}

This action will cancel their subscription immediately.`))try{u(!0);const{error:v}=await ae.from("subscriptions").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",t.subscription.id);if(v)throw v;et({title:"Success",description:`Subscription cancelled for ${t.email}`}),n(),setTimeout(()=>{r()},1e3)}catch(v){console.error("Cancel subscription error:",v),et({title:"Error",description:v.message||"Failed to cancel subscription",variant:"destructive"})}finally{u(!1)}};return s.jsxs(ss,{open:e,onOpenChange:r,children:[s.jsxs(ts,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","aria-describedby":void 0,children:[s.jsx(as,{children:s.jsxs(is,{children:["User Details - ",t.email]})}),s.jsxs(Wf,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4",children:[s.jsx(Un,{value:"overview",children:"Overview"}),s.jsx(Un,{value:"subscription",children:"Subscription"}),s.jsx(Un,{value:"store",children:"Store Details"}),s.jsx(Un,{value:"activity",children:"Activity Log"})]}),s.jsxs(zn,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Account Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"User ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-mono text-sm",children:[t.id.slice(0,8),"..."]}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>m(t.id),children:s.jsx(Cu,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:t.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:t.full_name||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:t.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Joined"}),s.jsx("p",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString()})]}),t.store?.whatsapp_number&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:t.store.whatsapp_number}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>m(t.store.whatsapp_number),children:s.jsx(Cu,{className:"w-4 h-4"})})]})]})]})]}),t.store&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Store Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:t.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Slug"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:t.store.slug}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>window.open(`/${t.store.slug}`,"_blank"),children:s.jsx(zo,{className:"w-4 h-4"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(we,{onClick:h,children:[s.jsx(bp,{className:"w-4 h-4 mr-2"}),"Login as User"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Reset Password"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsxs(we,{variant:"destructive",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),s.jsx(zn,{value:"subscription",className:"space-y-6",children:t.subscription?s.jsxs(s.Fragment,{children:[d&&d!=="Expired"&&s.jsx("div",{className:`relative overflow-hidden rounded-lg border ${t.subscription.status==="trial"?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30":"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30"} backdrop-blur-sm`,children:s.jsxs("div",{className:"p-4 flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${t.subscription.status==="trial"?"bg-blue-500/20":"bg-green-500/20"}`,children:s.jsx(Xa,{className:`w-6 h-6 ${t.subscription.status==="trial"?"text-blue-400":"text-green-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t.subscription.status==="trial"?"Trial Period":"Active Subscription"}),s.jsx(er,{variant:"outline",className:`text-xs ${t.subscription.status==="trial"?"border-blue-500/50 text-blue-400":"border-green-500/50 text-green-400"}`,children:t.subscription.status==="trial"?"Trial":"Paid"})]}),s.jsx("p",{className:"text-xl font-semibold mb-1",children:t.subscription.status==="trial"?`Ends in ${d}`:`Renews in ${d}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.subscription.status==="trial"?"Trial will expire on "+new Date(t.subscription.trial_ends_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Next billing on "+new Date(t.subscription.current_period_end).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Current Subscription"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Plan"}),s.jsx(er,{variant:"outline",children:t.subscription.plan.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(er,{className:t.subscription.status==="active"?"bg-green-500":t.subscription.status==="trial"?"bg-orange-500":"bg-gray-500",children:t.subscription.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Billing Cycle"}),s.jsx("p",{className:"font-medium capitalize",children:t.subscription.billing_cycle})]}),t.subscription.started_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Started On"}),s.jsx("p",{className:"font-medium",children:new Date(t.subscription.started_at).toLocaleDateString()})]}),t.subscription.current_period_start&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period Start"}),s.jsx("p",{className:"font-medium",children:new Date(t.subscription.current_period_start).toLocaleDateString()})]}),t.subscription.current_period_end&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period End"}),s.jsx("p",{className:"font-medium",children:new Date(t.subscription.current_period_end).toLocaleDateString()})]}),t.subscription.trial_ends_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Ends"}),s.jsx("p",{className:"font-medium",children:new Date(t.subscription.trial_ends_at).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{onClick:()=>i(!0),variant:"default",children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Renew Subscription"]}),s.jsx(we,{variant:"outline",onClick:()=>l(!0),children:"Change Plan"}),s.jsx(we,{variant:"destructive",onClick:x,disabled:c,children:c?"Cancelling...":"Cancel Subscription"})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No active subscription"})})}),s.jsx(zn,{value:"store",className:"space-y-6",children:t.store?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:t.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Slug"}),s.jsx("p",{className:"font-medium",children:t.store.slug})]})]}),s.jsx(we,{children:"Edit Store Settings"})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No store created"})})}),s.jsx(zn,{value:"activity",className:"space-y-4",children:s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Activity log will be shown here"})})})]})]}),t.subscription&&s.jsx(y0t,{subscription:t.subscription,open:a,onClose:()=>i(!1),onSuccess:n}),s.jsx(Uye,{open:o,onOpenChange:l,userId:t.id,userEmail:t.email,currentSubscription:t.subscription,onSuccess:n})]})}function w0t({user:t,open:e,onClose:r,onSuccess:n}){const[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(!1),d=async()=>{try{u(!0),et({title:"Feature Not Available",description:"Account suspension requires database migration. Coming soon.",variant:"destructive"}),r()}catch(f){et({title:"Error",description:f.message,variant:"destructive"})}finally{u(!1)}};return s.jsx(ss,{open:e,onOpenChange:r,children:s.jsxs(ts,{children:[s.jsx(as,{children:s.jsx(is,{children:"Suspend Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[s.jsx(_o,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Warning"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Suspending this account will prevent the user from logging in and make their store inaccessible."})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",t.email]}),t.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",t.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"reason",children:"Reason for Suspension"}),s.jsxs(zr,{value:a,onValueChange:i,children:[s.jsx(Lr,{id:"reason",children:s.jsx(qr,{placeholder:"Select a reason"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"violation",children:"Policy Violation"}),s.jsx(ut,{value:"non-payment",children:"Non-payment"}),s.jsx(ut,{value:"fraud",children:"Fraudulent Activity"}),s.jsx(ut,{value:"spam",children:"Spam"}),s.jsx(ut,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"notes",children:"Internal Notes"}),s.jsx(Ii,{id:"notes",placeholder:"Add any additional notes about this suspension...",value:o,onChange:f=>l(f.target.value),rows:4})]})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:r,disabled:c,children:"Cancel"}),s.jsx(we,{variant:"destructive",onClick:d,disabled:!a||c,children:c?"Suspending...":"Confirm Suspend"})]})]})})}function _0t({user:t,open:e,onClose:r,onSuccess:n}){const[a,i]=j.useState(""),[o,l]=j.useState(!1);j.useEffect(()=>{e||(i(""),l(!1))},[e]);const c=async()=>{if(a!=="DELETE"){et({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{if(l(!0),t.store?.id){const{data:f}=await ae.from("stores").select("id").eq("id",t.store.id).maybeSingle();if(!f){et({title:"Already Deleted",description:`${t.email}'s store has already been deleted`,variant:"default"}),l(!1),i(""),r(),setTimeout(()=>{n()},100);return}}const{data:u,error:d}=await ae.functions.invoke("delete-user-account",{body:{userId:t.id}});if(d)throw d;if(!u.success)throw new Error(u.error||"Failed to delete user account");et({title:"Account Completely Deleted",description:`${t.email}'s account, all data, and authentication records have been permanently deleted`}),l(!1),i(""),r(),setTimeout(()=>{n()},100)}catch(u){l(!1),et({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"})}};return s.jsx(ss,{open:e,onOpenChange:u=>{!u&&!o&&r()},children:s.jsxs(ts,{children:[s.jsx(as,{children:s.jsx(is,{children:"Delete Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(hi,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"Permanent Action"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This action cannot be undone. All data will be permanently deleted."})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"What will be deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Authentication credentials (cannot login anymore)"}),s.jsx("li",{children:"User account and profile"}),s.jsx("li",{children:"Store data and settings"}),s.jsx("li",{children:"All products"}),s.jsx("li",{children:"Subscription history"}),s.jsx("li",{children:"All transactions"}),s.jsx("li",{children:"Files and assets"})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",t.email]}),t.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",t.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"confirmation",children:["Type ",s.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm"]}),s.jsx(lt,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here"})]})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:()=>{o||(i(""),r())},disabled:o,children:"Cancel"}),s.jsx(we,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,children:o?"Deleting...":"Permanently Delete"})]})]})})}function j0t(){const t=en(),[e,r]=j.useState([]),[n,a]=j.useState({totalUsers:0,activeStores:0,trialUsers:0,paidUsers:0,expired:0,cancelled:0,inactiveStores:0,noStore:0}),[i,o]=j.useState(!0),[l,c]=j.useState(""),[u,d]=j.useState("all"),[f,m]=j.useState("all"),[h,x]=j.useState("all"),[g,v]=j.useState("newest"),[b,_]=j.useState([]),[w,N]=j.useState(1),[S,C]=j.useState(50),[A,R]=j.useState(0),[O,D]=j.useState(1),[P,E]=j.useState(null),[I,M]=j.useState(!1),[U,W]=j.useState(!1),[Y,J]=j.useState(!1),[z,q]=j.useState(!1),[V,L]=j.useState(!1);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){X(),K();return}const{data:{user:We}}=await ae.auth.getUser();if(!We){et({title:"Access Denied",description:"You need admin privileges to access this area",variant:"destructive"}),t("/superadmin/login");return}const{data:xe,error:Le}=await ae.from("user_roles").select("role").eq("user_id",We.id).eq("role","super_admin");if(Le||!xe||xe.length===0){et({title:"Access Denied",description:Le?.message||"You need admin privileges to access this area",variant:"destructive"}),t("/superadmin/login");return}X(),K()})()},[t]);const X=async(re=w)=>{try{o(!0);const{data:{session:le}}=await ae.auth.getSession();if(!le?.access_token)throw new Error("Not authenticated");const We=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/get-all-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le.access_token}`},body:JSON.stringify({page:re,perPage:S})});if(!We.ok){const Le=await We.json();throw new Error(Le.error||"Failed to fetch users")}const xe=await We.json();r(xe.users||[]),R(xe.pagination?.totalCount||0),D(xe.pagination?.totalPages||1),N(xe.pagination?.page||1),xe.pagination?.totalCount!==void 0&&a(Le=>({...Le,totalUsers:xe.pagination.totalCount}))}catch(le){console.error("Error fetching users:",le),et({title:"Error",description:le.message,variant:"destructive"})}finally{o(!1)}},K=async()=>{try{const{data:re}=await ae.from("profiles").select("user_id"),{data:le}=await ae.from("user_roles").select("user_id").eq("role","super_admin"),We=new Set(le?.map(Je=>Je.user_id)||[]),xe=(re||[]).filter(Je=>!We.has(Je.user_id)).length,{count:Le}=await ae.from("stores").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:ke}=await ae.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","trial"),{count:fe}=await ae.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active"),{count:ye}=await ae.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","expired"),{count:qe}=await ae.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","cancelled"),Qe=new Date;Qe.setDate(Qe.getDate()-60);const{data:ct}=await ae.from("stores").select("id, last_admin_visit");let Ye=0;if(ct)for(const Je of ct){const{data:tt}=await ae.from("orders").select("id").eq("store_id",Je.id).gte("created_at",Qe.toISOString()).limit(1),Ve=tt&&tt.length>0,Me=Je.last_admin_visit&&new Date(Je.last_admin_visit)>=Qe;!Ve&&!Me&&Ye++}const{data:me}=await ae.from("stores").select("user_id"),Se=new Set(me?.map(Je=>Je.user_id)||[]),_e=(re||[]).filter(Je=>!Se.has(Je.user_id)&&!We.has(Je.user_id)).length;a({totalUsers:xe,activeStores:Le||0,trialUsers:ke||0,paidUsers:fe||0,expired:ye||0,cancelled:qe||0,inactiveStores:Ye,noStore:_e})}catch(re){console.error("Error fetching stats:",re)}},Q=e.filter(re=>{const le=re.email.toLowerCase().includes(l.toLowerCase())||re.store?.name?.toLowerCase().includes(l.toLowerCase())||re.store?.slug?.toLowerCase().includes(l.toLowerCase()),We=u==="all"||re.subscription?.plan?.name?.toLowerCase()===u.toLowerCase(),xe=f==="all"||re.subscription?.status===f;return le&&We&&xe&&(()=>{if(h==="all")return!0;if(h==="no-store")return!re.store;if(h==="inactive"){if(!re.store)return!1;const ke=new Date;ke.setDate(ke.getDate()-60);const fe=re.lastOrderDate&&new Date(re.lastOrderDate)>=ke,ye=re.store.last_admin_visit&&new Date(re.store.last_admin_visit)>=ke;return!fe&&!ye}if(h==="active"){if(!re.store)return!1;const ke=new Date;ke.setDate(ke.getDate()-60);const fe=re.lastOrderDate&&new Date(re.lastOrderDate)>=ke,ye=re.store.last_admin_visit&&new Date(re.store.last_admin_visit)>=ke;return fe||ye}return!0})()}),ce=[...Q].sort((re,le)=>{switch(g){case"newest":return new Date(le.created_at).getTime()-new Date(re.created_at).getTime();case"oldest":return new Date(re.created_at).getTime()-new Date(le.created_at).getTime();case"name":return(re.full_name||re.email).localeCompare(le.full_name||le.email);default:return 0}}),de=re=>{re>=1&&re<=O&&re!==w&&X(re)},ne=re=>{_(re?ce.map(le=>le.id):[])},ue=(re,le)=>{_(le?[...b,re]:b.filter(We=>We!==re))},se=async()=>{try{const re=await Oh(()=>Promise.resolve().then(()=>Cfe),void 0),le=await Promise.all(Q.map(async ke=>{let fe=null;if(ke.store?.id){const{data:ye}=await ae.from("stores").select("whatsapp_number, description, hero_banner_url, logo_url, custom_domain, social_links").eq("id",ke.store.id).single();fe=ye}return{"User ID":ke.id,Email:ke.email,"Full Name":ke.full_name||"N/A",Phone:ke.phone||"N/A","Store Name":ke.store?.name||"No Store","Store Slug":ke.store?.slug||"N/A","Store WhatsApp":fe?.whatsapp_number||"N/A","Store Description":fe?.description||"N/A","Custom Domain":fe?.custom_domain||"N/A","Store Logo":fe?.logo_url||"N/A","Hero Banner":fe?.hero_banner_url||"N/A","Social Links":fe?.social_links?JSON.stringify(fe.social_links):"N/A","Total Orders":ke.orderCount,"Total Revenue":`${ke.totalRevenue}`,"Last Order Date":ke.lastOrderDate?new Date(ke.lastOrderDate).toLocaleString():"No orders","Last Admin Visit":ke.store?.last_admin_visit?new Date(ke.store.last_admin_visit).toLocaleString():"No visits","Subscription Plan":ke.subscription?.plan?.name||"Free","Plan Status":ke.subscription?.status||"None","Billing Cycle":ke.subscription?.billing_cycle||"N/A","Trial Ends":ke.subscription?.trial_ends_at?new Date(ke.subscription.trial_ends_at).toLocaleDateString():"N/A","Joined Date":new Date(ke.created_at).toLocaleString()}})),We=re.utils.json_to_sheet(le),xe=[{wch:36},{wch:30},{wch:20},{wch:15},{wch:25},{wch:20},{wch:15},{wch:40},{wch:25},{wch:50},{wch:50},{wch:30},{wch:12},{wch:15},{wch:20},{wch:20},{wch:15},{wch:12},{wch:12},{wch:15},{wch:20}];We["!cols"]=xe;const Le=re.utils.book_new();re.utils.book_append_sheet(Le,We,"Users"),re.writeFile(Le,`users_export_${new Date().toISOString().split("T")[0]}.xlsx`),et({title:"Success",description:`Exported ${le.length} users to Excel`})}catch(re){et({title:"Export Failed",description:re.message,variant:"destructive"})}},Z=async()=>{try{q(!0);const re=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/sync-missing-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(!re.ok)throw new Error("Failed to sync profiles");const le=await re.json();et({title:"Success",description:le.message+(le.count>0?` (${le.count} profiles synced)`:"")}),le.count>0&&X()}catch(re){et({title:"Error",description:re.message,variant:"destructive"})}finally{q(!1)}},Oe=re=>{if(!re)return s.jsx(er,{variant:"secondary",children:"No Plan"});const{status:le,trial_ends_at:We}=re;if(le==="active")return s.jsx(er,{className:"bg-green-500",children:"Active"});if(le==="trial"){const xe=We?Math.ceil((new Date(We).getTime()-new Date().getTime())/864e5):0;return s.jsxs(er,{variant:"outline",className:"border-orange-500 text-orange-500",children:["Trial (",xe,"d left)"]})}else{if(le==="expired")return s.jsx(er,{variant:"destructive",children:"Expired"});if(le==="cancelled")return s.jsx(er,{variant:"secondary",children:"Cancelled"})}return s.jsx(er,{variant:"secondary",children:le})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Users & Stores Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all users and their stores"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(we,{children:[s.jsx(Wne,{className:"w-4 h-4 mr-2"}),"Manually Add User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.totalUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Stores"}),s.jsx("p",{className:"text-2xl font-bold",children:n.activeStores})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-yellow-500 cursor-pointer",onClick:()=>x("no-store"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No Store"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.noStore}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Not created store"})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.trialUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.paidUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),s.jsx("p",{className:"text-2xl font-bold",children:n.expired})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),s.jsx("p",{className:"text-2xl font-bold",children:n.cancelled})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-orange-500 cursor-pointer",onClick:()=>x("inactive"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Stores"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:n.inactiveStores}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No activity in 60 days"})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(lt,{placeholder:"Search by email, store name, or slug",value:l,onChange:re=>c(re.target.value),className:"w-full"})}),s.jsxs(zr,{value:u,onValueChange:d,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"All Plans"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Plans"}),s.jsx(ut,{value:"free",children:"Free"}),s.jsx(ut,{value:"starter",children:"Starter"}),s.jsx(ut,{value:"pro",children:"Pro"}),s.jsx(ut,{value:"enterprise",children:"Enterprise"})]})]}),s.jsxs(zr,{value:f,onValueChange:m,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"All Status"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"active",children:"Active"}),s.jsx(ut,{value:"trial",children:"Trial"}),s.jsx(ut,{value:"expired",children:"Expired"}),s.jsx(ut,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(zr,{value:h,onValueChange:re=>x(re),children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Activity"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Users"}),s.jsx(ut,{value:"no-store",children:"No Store Created"}),s.jsx(ut,{value:"active",children:"Active (recent orders)"}),s.jsx(ut,{value:"inactive",children:"Inactive (60+ days)"})]})]}),s.jsxs(zr,{value:g,onValueChange:v,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Sort by"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"newest",children:"Newest First"}),s.jsx(ut,{value:"oldest",children:"Oldest First"}),s.jsx(ut,{value:"name",children:"Name A-Z"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:"outline",onClick:()=>{X(),K()},disabled:i,children:[s.jsx(No,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh Data"]}),s.jsxs(we,{variant:"outline",onClick:Z,disabled:z,children:[s.jsx(No,{className:`w-4 h-4 mr-2 ${z?"animate-spin":""}`}),"Sync Profiles"]}),s.jsxs(we,{variant:"outline",onClick:se,children:[s.jsx(ll,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),b.length>0&&s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium",children:[b.length," users selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:"outline",size:"sm",children:[s.jsx(ll,{className:"w-4 h-4 mr-2"}),"Export Selected"]}),s.jsx(we,{variant:"outline",size:"sm",children:"Change Plan"}),s.jsx(we,{variant:"outline",size:"sm",children:"Suspend"}),s.jsxs(we,{variant:"outline",size:"sm",children:[s.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>_([]),children:"Deselect All"})]})]}),s.jsxs("div",{className:"bg-card rounded-lg border",children:[s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{className:"w-12",children:s.jsx(ro,{checked:ce.length>0&&b.length===ce.length,onCheckedChange:ne})}),s.jsx(At,{children:"User Info"}),s.jsx(At,{children:"Store Info"}),s.jsx(At,{children:"Revenue"}),s.jsx(At,{children:"Plan"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Created Date"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:i?s.jsx(rn,{children:s.jsx(_t,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):ce.length===0?s.jsx(rn,{children:s.jsx(_t,{colSpan:8,className:"text-center py-8",children:"No users found"})}):ce.map(re=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsx(ro,{checked:b.includes(re.id),onCheckedChange:le=>ue(re.id,le)})}),s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($ye,{children:s.jsx(Bye,{children:re.email[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:re.email}),re.full_name&&s.jsx("p",{className:"text-sm text-muted-foreground",children:re.full_name}),re.phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:re.phone})]})]})}),s.jsx(_t,{children:re.store?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:re.store.name}),(()=>{const le=new Date;le.setDate(le.getDate()-60);const We=re.lastOrderDate&&new Date(re.lastOrderDate)>=le,xe=re.store.last_admin_visit&&new Date(re.store.last_admin_visit)>=le;if(!We&&!xe){const ke=[re.lastOrderDate,re.store.last_admin_visit].filter(Boolean).map(ye=>new Date(ye)).sort((ye,qe)=>qe.getTime()-ye.getTime())[0],fe=ke?Math.floor((Date.now()-ke.getTime())/(1e3*60*60*24)):null;return s.jsxs(er,{variant:"outline",className:"border-orange-500 text-orange-500 text-xs",children:["Inactive ",fe?`${fe}d`:""]})}return null})()]}),s.jsxs("a",{href:`/${re.store.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[re.store.slug,s.jsx(zo,{className:"h-3 w-3"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[re.orderCount," orders",re.lastOrderDate&&s.jsxs(s.Fragment,{children:["  Last: ",db(new Date(re.lastOrderDate),{addSuffix:!0})]}),!re.lastOrderDate&&s.jsx(s.Fragment,{children:"  No orders yet"})]}),re.store.last_admin_visit&&s.jsxs("p",{children:["Admin visit: ",db(new Date(re.store.last_admin_visit),{addSuffix:!0})]}),!re.store.last_admin_visit&&s.jsx("p",{children:"No admin visits tracked"})]})]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(er,{variant:"outline",className:"border-yellow-500 text-yellow-600 bg-yellow-50",children:"No Store Created"})})}),s.jsxs(_t,{children:[s.jsxs("p",{className:"font-medium",children:["",re.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"total revenue"})]}),s.jsxs(_t,{children:[s.jsx(er,{variant:"outline",children:re.subscription?.plan?.name||"Free"}),re.subscription&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:re.subscription.billing_cycle})]}),s.jsx(_t,{children:Oe(re.subscription)}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(re.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:db(new Date(re.created_at),{addSuffix:!0})})]})}),s.jsx(_t,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(we,{variant:"ghost",size:"sm",onClick:()=>{E(re),M(!0)},children:s.jsx(ra,{className:"w-4 h-4"})}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsx(we,{variant:"ghost",size:"sm",children:s.jsx(Jbe,{className:"w-4 h-4"})})}),s.jsxs(Md,{align:"end",children:[s.jsxs(es,{onClick:()=>{E(re),M(!0)},children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs(es,{onClick:()=>{E(re),L(!0)},children:[s.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Assign Plan"]}),re.store&&s.jsxs(es,{onClick:()=>window.open(`/${re.store.slug}`,"_blank"),children:[s.jsx(zo,{className:"w-4 h-4 mr-2"}),"Visit Store"]}),s.jsxs(es,{onClick:async()=>{const le=prompt("Enter email subject:");if(!le)return;const We=prompt("Enter email message:");if(We)try{const{error:xe}=await ae.functions.invoke("send-user-email",{body:{to:re.email,subject:le,message:We}});if(xe)throw xe;et({title:"Email sent",description:`Email sent successfully to ${re.email}`})}catch(xe){et({title:"Error",description:xe.message,variant:"destructive"})}},children:[s.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(es,{onClick:()=>{E(re),W(!0)},children:"Suspend Account"}),s.jsxs(es,{onClick:()=>{E(re),J(!0)},className:"text-destructive",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},re.id))})]}),O>1&&s.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(w-1)*S+1,"-",Math.min(w*S,A)," of"," ",A," users"]}),s.jsx(yj,{children:s.jsxs(bj,{children:[s.jsx(ju,{children:s.jsx(wj,{onClick:()=>de(w-1),className:w===1?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{const re=[];let We=Math.max(1,w-Math.floor(2.5)),xe=Math.min(O,We+5-1);xe-We+1<5&&(We=Math.max(1,xe-5+1));for(let Le=We;Le<=xe;Le++)re.push(s.jsx(ju,{children:s.jsx(vv,{onClick:()=>de(Le),isActive:w===Le,className:"cursor-pointer",children:Le})},Le));return re})(),s.jsx(ju,{children:s.jsx(_j,{onClick:()=>de(w+1),className:w===O?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]}),P&&s.jsxs(s.Fragment,{children:[s.jsx(b0t,{user:P,open:I,onClose:()=>{M(!1),E(null)},onRefresh:X}),s.jsx(w0t,{user:P,open:U,onClose:()=>{W(!1),E(null)},onSuccess:X}),s.jsx(_0t,{user:P,open:Y,onClose:()=>{J(!1),E(null)},onSuccess:X}),s.jsx(Uye,{userId:P.id,userEmail:P.email,currentSubscription:P.subscription,open:V,onOpenChange:re=>{L(re),re||E(null)},onSuccess:X})]})]})}function N0t({open:t,onOpenChange:e,helperId:r,helperName:n}){const[a,i]=j.useState(!0),[o,l]=j.useState(null),[c,u]=j.useState(null),[d,f]=j.useState([]),[m,h]=j.useState({total_earned:0,store_referrals:0,product_sales:0,network_bonus:0}),[x,g]=j.useState(null),[v,b]=j.useState(null);j.useEffect(()=>{t&&r&&_()},[t,r]);const _=async()=>{i(!0);try{await Promise.all([w(),N(),S(),C()])}catch(P){console.error("Error loading helper data:",P),Mt.error("Failed to load helper details")}finally{i(!1)}},w=async()=>{const{data:P,error:E}=await ae.from("helpers").select("*").eq("id",r).single();if(E)throw E;l(P)},N=async()=>{const{data:P,error:E}=await ae.from("helper_applications").select("*").eq("user_id",r).single();if(E){console.warn("No application found for helper");return}if(u(P),P.recruited_by_helper_id){const{data:I}=await ae.from("helpers").select("full_name").eq("id",P.recruited_by_helper_id).single();I&&g(I.full_name)}if(P.approved_by_admin){const{data:I}=await ae.from("profiles").select("full_name").eq("user_id",P.approved_by_admin).single();I&&b(I.full_name)}},S=async()=>{const{data:P,error:E}=await ae.from("store_referrals").select(`
        store_id,
        store_owner_name,
        created_at,
        stores (
          name,
          slug
        )
      `).eq("helper_id",r);if(E){console.error("Error loading recruited stores:",E);return}const I=(P||[]).map(M=>({store_id:M.store_id,store_name:M.stores?.name||"Unknown Store",store_slug:M.stores?.slug||"",store_owner_name:M.store_owner_name,created_at:M.created_at}));f(I)},C=async()=>{const{data:P,error:E}=await ae.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status").eq("earning_helper_id",r);if(E){console.error("Error loading commission data:",E);return}let I=0,M=0,U=0,W=0;(P||[]).forEach(Y=>{const J=Y.amount||0;I+=J,Y.commission_type==="store_referral"?M+=J:Y.commission_type==="product_sale"?U+=J:Y.commission_type==="network_bonus"&&(W+=J)}),h({total_earned:I,store_referrals:M,product_sales:U,network_bonus:W})},A=(P,E)=>{navigator.clipboard.writeText(P),Mt.success(`${E} copied to clipboard!`)},R=()=>{const P=`/helper/dashboard?impersonate=${r}`;window.open(P,"_blank")},O=()=>{Mt.info("PDF export feature coming soon!")};if(a||!o)return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsx(ts,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper details..."})]})})})});const D=Math.floor((new Date().getTime()-new Date(o.created_at).getTime())/(1e3*60*60*24));return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsxs(ts,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(as,{children:s.jsxs(is,{className:"flex items-center gap-2",children:[s.jsx(lv,{className:"h-5 w-5"}),"Helper Details - ",n]})}),s.jsxs(Wf,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4",children:[s.jsx(Un,{value:"overview",children:"Overview"}),s.jsx(Un,{value:"performance",children:"Performance"}),s.jsxs(Un,{value:"stores",children:["Recruited Stores (",d.length,")"]}),s.jsx(Un,{value:"activity",children:"Activity"})]}),s.jsxs(zn,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-sm flex items-center gap-2",children:[s.jsx(lv,{className:"h-4 w-4"}),"Personal Information"]})}),s.jsxs(Xe,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:o.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:o.email}),s.jsx(we,{size:"sm",variant:"ghost",onClick:()=>A(o.email,"Email"),children:s.jsx(Cu,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:o.phone}),s.jsx(we,{size:"sm",variant:"ghost",onClick:()=>A(o.phone,"Phone"),children:s.jsx(Cu,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helper ID"}),s.jsx("p",{className:"font-mono text-sm",children:o.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),s.jsx(er,{variant:o.status==="Active"?"default":"destructive",children:o.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Referral Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono font-medium",children:o.referral_code}),s.jsx(we,{size:"sm",variant:"ghost",onClick:()=>A(o.referral_code,"Referral Code"),children:s.jsx(Cu,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),"Bank Account Details"]})}),s.jsx(Xe,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Name"}),s.jsx("p",{className:"font-medium",children:c.bank_account_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_account_number}),s.jsx(we,{size:"sm",variant:"ghost",onClick:()=>A(c.bank_account_number,"Account Number"),children:s.jsx(Cu,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"IFSC Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_ifsc_code}),s.jsx(we,{size:"sm",variant:"ghost",onClick:()=>A(c.bank_ifsc_code,"IFSC Code"),children:s.jsx(Cu,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank Name"}),s.jsx("p",{className:"font-medium",children:c.bank_name})]}),s.jsx("div",{className:"pt-2",children:s.jsx(er,{variant:"outline",className:"bg-green-50",children:" Verified"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No bank details available"})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-sm flex items-center gap-2",children:[s.jsx(Eh,{className:"h-4 w-4"}),"Application Information"]})}),s.jsx(Xe,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Applied On"}),s.jsx("p",{className:"font-medium text-sm",children:yn(new Date(c.created_at),"PPp")})]}),c.approved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved On"}),s.jsx("p",{className:"font-medium text-sm",children:yn(new Date(c.approved_at),"PPp")})]}),v&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved By"}),s.jsx("p",{className:"font-medium",children:v})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:c.why_helper||"Not provided"})]}),x&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recruited By"}),s.jsx("p",{className:"font-medium",children:x})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No application details available"})})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-sm",children:"Quick Statistics"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",m.total_earned.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total Earned"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stores Recruited"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:D}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days Active"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[o.direct_commission_rate,"% / ",o.network_commission_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct / Network Rate"})]})]})})]})]}),s.jsxs(zn,{value:"performance",className:"space-y-4",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-sm flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4"}),"Commission Breakdown"]})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vx,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Store Referrals"})]}),s.jsxs("span",{className:"font-bold text-blue-600",children:["",m.store_referrals.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Product Sales"})]}),s.jsxs("span",{className:"font-bold text-green-600",children:["",m.product_sales.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm",children:"Network Bonus"})]}),s.jsxs("span",{className:"font-bold text-purple-600",children:["",m.network_bonus.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded-lg border-2 border-primary",children:[s.jsx("span",{className:"font-semibold",children:"Total Earned"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",m.total_earned.toLocaleString()]})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-sm",children:"Status History"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Active"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[yn(new Date(o.created_at),"PPp"),v&&` (Approved by ${v})`]})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Application Received"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:yn(new Date(c.created_at),"PPp")})]})]})]})})]})]}),s.jsx(zn,{value:"stores",className:"space-y-4",children:s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{className:"text-sm flex items-center gap-2",children:[s.jsx(Vx,{className:"h-4 w-4"}),"Recruited Stores (",d.length," Total)"]}),d.length>0&&s.jsxs(er,{variant:"outline",children:["Avg. Commission: ",d.length>0?Math.round(m.store_referrals/d.length):0]})]})}),s.jsx(Xe,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Vx,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No recruited stores yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Helper hasn't referred any stores"})]}):s.jsx("div",{className:"space-y-3",children:d.map((P,E)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-semibold",children:[E+1,". ",P.store_name]}),s.jsx(er,{variant:"outline",className:"text-xs",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Owner: ",P.store_owner_name," | Joined:"," ",yn(new Date(P.created_at),"PP")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>window.open(`/store/${P.store_id}`,"_blank"),children:[s.jsx(ra,{className:"h-3 w-3 mr-1"}),"View Store"]}),P.store_slug&&s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>window.open(`https://${P.store_slug}.digitaldukandar.in`,"_blank"),children:[s.jsx(zo,{className:"h-3 w-3 mr-1"}),"Visit Website"]})]})]})})},P.store_id))})})]})}),s.jsx(zn,{value:"activity",className:"space-y-4",children:s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-sm flex items-center gap-2",children:[s.jsx(Uu,{className:"h-4 w-4"}),"Recent Activity"]})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-3",children:[d.slice(0,5).map(P=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsxs("p",{children:["Recruited store ",s.jsxs("span",{className:"font-semibold",children:['"',P.store_name,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:yn(new Date(P.created_at),"PPp")})]})]},P.store_id)),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Approved as helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.approved_at?yn(new Date(c.approved_at),"PPp"):"N/A"})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Applied for helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:yn(new Date(c.created_at),"PPp")})]})]})]})})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end mt-4 pt-4 border-t",children:[s.jsxs(we,{variant:"outline",onClick:R,children:[s.jsx(ra,{className:"h-4 w-4 mr-2"}),"View as Helper"]}),s.jsxs(we,{variant:"outline",onClick:O,children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsx(we,{variant:"outline",onClick:()=>e(!1),children:"Close"})]})]})})}function S0t(){const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState("pending"),[i,o]=j.useState(""),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState(!1),[h,x]=j.useState(!1),[g,v]=j.useState(!1),[b,_]=j.useState(!1),[w,N]=j.useState(!1),[S,C]=j.useState(null),[A,R]=j.useState(null),[O,D]=j.useState(""),[P,E]=j.useState({direct_rate:10,network_rate:5,reason:""});j.useEffect(()=>{I()},[]);const I=async()=>{if(!sessionStorage.getItem("superadmin_session")){t("/superadmin/login");return}await M(),r(!1)},M=async()=>{await Promise.all([U(),W()])},U=async()=>{try{const{data:de,error:ne}=await ae.from("helper_applications").select("*").order("created_at",{ascending:!1});if(ne)throw ne;c(de||[])}catch(de){console.error("Error loading applications:",de),Mt.error("Failed to load applications")}},W=async()=>{try{const{data:de,error:ne}=await ae.from("helpers").select("*").order("created_at",{ascending:!1});if(ne)throw ne;d(de||[])}catch(de){console.error("Error loading helpers:",de),Mt.error("Failed to load helpers")}},J={total:l.filter(de=>de.application_status!=="Approved").length+u.length,pending:l.filter(de=>de.application_status==="Pending").length,approved:u.filter(de=>de.status==="Active").length,rejected:l.filter(de=>de.application_status==="Rejected").length,suspended:u.filter(de=>de.status==="Suspended").length},z=()=>{let de=[];switch(n){case"pending":de=l.filter(ne=>ne.application_status==="Pending").map(ne=>({...ne,type:"application"}));break;case"approved":de=u.map(ne=>({...ne,type:"helper"}));break;case"rejected":de=l.filter(ne=>ne.application_status==="Rejected").map(ne=>({...ne,type:"application"}));break;case"all":de=[...l.filter(ne=>ne.application_status!=="Approved").map(ne=>({...ne,type:"application"})),...u.map(ne=>({...ne,type:"helper"}))];break}return i&&(de=de.filter(ne=>ne.full_name?.toLowerCase().includes(i.toLowerCase())||ne.email?.toLowerCase().includes(i.toLowerCase())||ne.phone?.includes(i))),de},q=async de=>{try{const{data:ne,error:ue}=await ae.rpc("approve_helper_application",{p_application_id:de.id});if(ue)throw console.error("Error calling approve RPC:",ue),new Error(ue.message||"Failed to approve helper");const se=ne;if(!se?.success)throw console.error("Approve helper failed:",ne),new Error(se?.error||"Approval operation failed");Mt.success(`Helper approved! Referral code: ${se.referralCode}`),await M()}catch(ne){console.error("Error approving application:",ne),Mt.error(ne.message||"Failed to approve application")}},V=async()=>{if(!O.trim()||!S){Mt.error("Please provide a rejection reason");return}try{const{error:de}=await ae.from("helper_applications").update({application_status:"Rejected",rejection_reason:O}).eq("id",S.id);if(de)throw de;Mt.success("Application rejected"),v(!1),D(""),C(null),await M()}catch(de){console.error("Error rejecting application:",de),Mt.error("Failed to reject application")}},L=async de=>{try{const{error:ne}=await ae.from("helper_applications").update({application_status:"Pending",rejection_reason:null}).eq("id",de.id);if(ne)throw ne;Mt.success("Application moved to pending"),await M()}catch(ne){console.error("Error reconsidering application:",ne),Mt.error("Failed to reconsider application")}},X=async de=>{try{const ne=de.status==="Active"?"Suspended":"Active",{error:ue}=await ae.from("helpers").update({status:ne}).eq("id",de.id);if(ue)throw ue;Mt.success(`Helper ${ne.toLowerCase()}`),await M()}catch(ne){console.error("Error updating helper status:",ne),Mt.error("Failed to update helper status")}},K=async()=>{if(!(!S&&!A))try{const de=S?.user_id||A?.id,ne=S?"application":"helper";if(!de){Mt.error("Cannot delete: User ID not found");return}const{data:ue,error:se}=await ae.functions.invoke("delete-helper",{body:{userId:de,deleteType:ne}});if(se){if(se.message?.includes("BLOCKED")||se.message?.includes("store owner")){Mt.error(` ${se.message}`,{duration:8e3}),_(!1);return}throw new Error(se.message||"Failed to delete")}if(!ue?.success){if(ue?.error?.includes("BLOCKED")||ue?.error?.includes("store owner")){Mt.error(` ${ue.error}`,{duration:8e3}),_(!1);return}throw new Error(ue?.error||"Delete operation failed")}S?await ae.from("helper_applications").delete().eq("id",S.id):A&&await ae.from("helpers").delete().eq("id",A.id),Mt.success("Deleted successfully"),_(!1),C(null),R(null),await M()}catch(de){console.error("Error deleting:",de),Mt.error(de.message||"Failed to delete")}},Q=async()=>{if(!P.reason||!A){Mt.error("Please provide a reason for changing rates");return}try{const{error:de}=await ae.from("helpers").update({direct_commission_rate:P.direct_rate,network_commission_rate:P.network_rate,updated_at:new Date().toISOString()}).eq("id",A.id);if(de)throw de;Mt.success("Commission rates updated successfully"),N(!1),await M()}catch(de){console.error("Error updating rates:",de),Mt.error("Failed to update commission rates")}},oe=de=>{let ne="",ue="";if(de.type==="application")switch(ne=de.application_status,ne){case"Pending":ue="bg-yellow-500";break;case"Rejected":ue="bg-red-500";break;case"Approved":ue="bg-green-500";break;default:ue="bg-gray-500"}else switch(ne=de.status,ne){case"Active":ue="bg-green-500";break;case"Suspended":ue="bg-orange-500";break;default:ue="bg-gray-500"}return s.jsx(er,{className:ue,children:ne})};if(e)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper management..."})]})});const ce=z();return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Ho,{className:"h-8 w-8"}),"Helper Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all helper applications and approved helpers in one place"})]}),s.jsx(we,{onClick:()=>t("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("all"),children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full",children:s.jsx(Ho,{className:"h-5 w-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:J.total})]})]})})}),s.jsx(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("pending"),children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-full",children:s.jsx(Eh,{className:"h-5 w-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:J.pending})]})]})})}),s.jsx(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("approved"),children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:s.jsx(fi,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:J.approved})]})]})})}),s.jsx(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("rejected"),children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500/10 rounded-full",children:s.jsx(ma,{className:"h-5 w-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:J.rejected})]})]})})}),s.jsx(He,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-full",children:s.jsx(C5,{className:"h-5 w-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspended"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:J.suspended})]})]})})})]}),s.jsx(He,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(lt,{placeholder:"Search by name, email, or phone...",value:i,onChange:de=>o(de.target.value),className:"pl-10"})]})})}),s.jsxs(Wf,{value:n,onValueChange:a,className:"space-y-4",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Un,{value:"pending",className:"gap-2",children:[s.jsx(Eh,{className:"h-4 w-4"}),"Pending ",s.jsx(er,{variant:"secondary",className:"ml-1",children:J.pending})]}),s.jsxs(Un,{value:"approved",className:"gap-2",children:[s.jsx(fi,{className:"h-4 w-4"}),"Approved ",s.jsx(er,{variant:"secondary",className:"ml-1",children:J.approved+J.suspended})]}),s.jsxs(Un,{value:"rejected",className:"gap-2",children:[s.jsx(ma,{className:"h-4 w-4"}),"Rejected ",s.jsx(er,{variant:"secondary",className:"ml-1",children:J.rejected})]}),s.jsxs(Un,{value:"all",className:"gap-2",children:[s.jsx(Ho,{className:"h-4 w-4"}),"All ",s.jsx(er,{variant:"secondary",className:"ml-1",children:J.total})]})]}),s.jsx(zn,{value:"pending",children:s.jsx(He,{children:s.jsx(Xe,{className:"p-0",children:ce.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Eh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Name"}),s.jsx(At,{children:"Email"}),s.jsx(At,{children:"Phone"}),s.jsx(At,{children:"Applied On"}),s.jsx(At,{children:"Status"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:ce.map(de=>{const ne=de;return s.jsxs(rn,{children:[s.jsx(_t,{className:"font-medium",children:ne.full_name}),s.jsx(_t,{children:ne.email}),s.jsx(_t,{children:ne.phone}),s.jsx(_t,{children:yn(new Date(ne.created_at),"PP")}),s.jsx(_t,{children:oe(de)}),s.jsx(_t,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>{C(ne),m(!0)},children:[s.jsx(ra,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(we,{size:"sm",variant:"default",onClick:()=>q(ne),children:[s.jsx(fi,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>{C(ne),v(!0)},children:[s.jsx(ma,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>{C(ne),_(!0)},children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},ne.id)})})]})})})})}),s.jsx(zn,{value:"approved",children:s.jsx(He,{children:s.jsx(Xe,{className:"p-0",children:ce.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No approved helpers"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Helper ID"}),s.jsx(At,{children:"Name"}),s.jsx(At,{children:"Email"}),s.jsx(At,{children:"Phone"}),s.jsx(At,{children:"Referral Code"}),s.jsx(At,{children:"Commission Rates"}),s.jsx(At,{children:"Status"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:ce.map(de=>{const ne=de;return s.jsxs(rn,{children:[s.jsxs(_t,{className:"font-mono",children:[ne.id.slice(0,8),"..."]}),s.jsx(_t,{className:"font-medium",children:ne.full_name}),s.jsx(_t,{children:ne.email}),s.jsx(_t,{children:ne.phone}),s.jsx(_t,{className:"font-mono",children:ne.referral_code}),s.jsx(_t,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Direct: ",ne.direct_commission_rate,"%"]}),s.jsxs("div",{children:["Network: ",ne.network_commission_rate,"%"]})]})}),s.jsx(_t,{children:oe(de)}),s.jsx(_t,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(we,{size:"sm",variant:ne.status==="Active"?"destructive":"default",onClick:()=>X(ne),children:ne.status==="Active"?s.jsxs(s.Fragment,{children:[s.jsx(C5,{className:"h-4 w-4 mr-1"}),"Suspend"]}):s.jsxs(s.Fragment,{children:[s.jsx(MI,{className:"h-4 w-4 mr-1"}),"Activate"]})}),s.jsx(we,{size:"sm",variant:"destructive",onClick:()=>{R(ne),_(!0)},children:s.jsx(Ds,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})})})}),s.jsx(zn,{value:"rejected",children:s.jsx(He,{children:s.jsx(Xe,{className:"p-0",children:ce.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ma,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No rejected applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Name"}),s.jsx(At,{children:"Email"}),s.jsx(At,{children:"Phone"}),s.jsx(At,{children:"Rejected On"}),s.jsx(At,{children:"Reason"}),s.jsx(At,{children:"Status"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:ce.map(de=>{const ne=de;return s.jsxs(rn,{children:[s.jsx(_t,{className:"font-medium",children:ne.full_name}),s.jsx(_t,{children:ne.email}),s.jsx(_t,{children:ne.phone}),s.jsx(_t,{children:yn(new Date(ne.created_at),"PP")}),s.jsx(_t,{className:"max-w-xs truncate",children:ne.rejection_reason||"No reason provided"}),s.jsx(_t,{children:oe(de)}),s.jsx(_t,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>{C(ne),m(!0)},children:[s.jsx(ra,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(we,{size:"sm",variant:"default",onClick:()=>L(ne),children:[s.jsx(fi,{className:"h-4 w-4 mr-1"}),"Reconsider"]}),s.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>{C(ne),_(!0)},children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},ne.id)})})]})})})})}),s.jsx(zn,{value:"all",children:s.jsx(He,{children:s.jsx(Xe,{className:"p-0",children:ce.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ho,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No helpers or applications found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Type"}),s.jsx(At,{children:"Name"}),s.jsx(At,{children:"Email"}),s.jsx(At,{children:"Phone"}),s.jsx(At,{children:"Date"}),s.jsx(At,{children:"Status"}),s.jsx(At,{className:"text-right",children:"Actions"})]})}),s.jsx(Qa,{children:ce.map(de=>{const ne=de.type==="helper",ue=ne?de:null,se=ne?null:de;return s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsx(er,{variant:"outline",children:ne?"Helper":"Application"})}),s.jsx(_t,{className:"font-medium",children:de.full_name}),s.jsx(_t,{children:de.email}),s.jsx(_t,{children:de.phone}),s.jsx(_t,{children:yn(new Date(de.created_at),"PP")}),s.jsx(_t,{children:oe(de)}),s.jsx(_t,{className:"text-right",children:s.jsx("div",{className:"flex gap-2 justify-end",children:ne?s.jsxs(s.Fragment,{children:[s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>{R(ue),x(!0)},children:[s.jsx(ra,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsx(we,{size:"sm",variant:"outline",onClick:()=>{R(ue),E({direct_rate:ue.direct_commission_rate,network_rate:ue.network_commission_rate,reason:""}),N(!0)},children:s.jsx(Lf,{className:"h-4 w-4"})}),s.jsx(we,{size:"sm",variant:ue.status==="Active"?"destructive":"default",onClick:()=>X(ue),children:ue.status==="Active"?s.jsx(C5,{className:"h-4 w-4"}):s.jsx(MI,{className:"h-4 w-4"})}),s.jsx(we,{size:"sm",variant:"destructive",onClick:()=>{R(ue),_(!0)},children:s.jsx(Ds,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(we,{size:"sm",variant:"outline",onClick:()=>{C(se),m(!0)},children:s.jsx(ra,{className:"h-4 w-4"})}),se.application_status==="Pending"&&s.jsxs(s.Fragment,{children:[s.jsx(we,{size:"sm",variant:"default",onClick:()=>q(se),children:s.jsx(fi,{className:"h-4 w-4"})}),s.jsx(we,{size:"sm",variant:"destructive",onClick:()=>{C(se),v(!0)},children:s.jsx(ma,{className:"h-4 w-4"})})]}),se.application_status==="Rejected"&&s.jsx(we,{size:"sm",variant:"default",onClick:()=>L(se),children:s.jsx(fi,{className:"h-4 w-4"})}),s.jsx(we,{size:"sm",variant:"destructive",onClick:()=>{C(se),_(!0)},children:s.jsx(Ds,{className:"h-4 w-4"})})]})})})]},ne?ue.id:se.id)})})]})})})})})]}),s.jsx(ss,{open:f,onOpenChange:m,children:s.jsxs(ts,{className:"max-w-2xl",children:[s.jsxs(as,{children:[s.jsx(is,{children:"Application Details"}),s.jsxs(ja,{children:[S?.full_name," - ",S?.email]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{children:"Full Name"}),s.jsx("p",{className:"text-sm",children:S.full_name})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Email"}),s.jsx("p",{className:"text-sm",children:S.email})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Phone"}),s.jsx("p",{className:"text-sm",children:S.phone})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Applied On"}),s.jsx("p",{className:"text-sm",children:yn(new Date(S.created_at),"PPP")})]})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:S.why_helper||"Not provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{children:"Bank Account Name"}),s.jsx("p",{className:"text-sm",children:S.bank_account_name})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Bank Name"}),s.jsx("p",{className:"text-sm",children:S.bank_name})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Account Number"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_account_number})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"IFSC Code"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_ifsc_code})]})]}),S.rejection_reason&&s.jsxs("div",{children:[s.jsx(Be,{children:"Rejection Reason"}),s.jsx("p",{className:"text-sm mt-1 text-red-500",children:S.rejection_reason})]})]})]})}),s.jsx(ss,{open:g,onOpenChange:v,children:s.jsxs(ts,{children:[s.jsxs(as,{children:[s.jsx(is,{children:"Reject Application"}),s.jsxs(ja,{children:["Provide a reason for rejecting ",S?.full_name,"'s application"]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Be,{children:"Rejection Reason *"}),s.jsx(Ii,{value:O,onChange:de=>D(de.target.value),placeholder:"Enter the reason for rejection...",className:"mt-2"})]})}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(we,{variant:"destructive",onClick:V,children:"Reject Application"})]})]})}),s.jsx(ss,{open:w,onOpenChange:N,children:s.jsxs(ts,{children:[s.jsxs(as,{children:[s.jsx(is,{children:"Edit Commission Rates"}),s.jsxs(ja,{children:["Update commission rates for ",A?.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{children:"Direct Commission Rate (%)"}),s.jsx(lt,{type:"number",value:P.direct_rate,onChange:de=>E({...P,direct_rate:parseFloat(de.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Network Commission Rate (%)"}),s.jsx(lt,{type:"number",value:P.network_rate,onChange:de=>E({...P,network_rate:parseFloat(de.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Reason for Change *"}),s.jsx(Ii,{value:P.reason,onChange:de=>E({...P,reason:de.target.value}),placeholder:"Explain why rates are being changed..."})]})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(we,{onClick:Q,children:"Save Changes"})]})]})}),s.jsx(ng,{open:b,onOpenChange:_,children:s.jsxs(lp,{children:[s.jsxs(cp,{children:[s.jsx(dp,{children:" Permanently Delete?"}),s.jsxs(fp,{children:["This will permanently delete"," ",s.jsx("strong",{children:S?.full_name||A?.full_name})," and ALL related data:",s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[A?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Helper account and profile"}),s.jsx("li",{children:"All store referrals"}),s.jsx("li",{children:"All commission records"}),s.jsx("li",{children:"All network connections"})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Application record"}),s.jsx("li",{children:"Profile information"})]}),s.jsx("li",{children:"User authentication account"})]}),s.jsx("p",{className:"mt-3 font-bold text-destructive",children:"This action cannot be undone!"})]})]}),s.jsxs(up,{children:[s.jsx(ag,{children:"Cancel"}),s.jsx(sg,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Permanently"})]})]})}),A&&s.jsx(N0t,{open:h,onOpenChange:x,helperId:A.id,helperName:A.full_name})]})})}function k0t(){const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState([]),[h,x]=j.useState(!1),[g,v]=j.useState("direct"),[b,_]=j.useState({payment_date:yn(new Date,"yyyy-MM-dd"),payment_reference:""}),[w,N]=j.useState({direct:{total:0,count:0,oldestDays:0},network:{total:0,count:0,oldestDays:0},paid:{total:0,count:0}});j.useEffect(()=>{S()},[]);const S=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){t("/superadmin/login");return}await C(),r(!1)}catch(E){console.error("Error checking super admin access:",E),t("/superadmin/login")}},C=async()=>{try{const{data:E,error:I}=await ae.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("direct_commission_amount",0).order("created_at",{ascending:!0});if(I)throw I;const M=(E||[]).map(oe=>({id:oe.id,helper_name:oe.helper?.full_name||"N/A",helper_id:oe.helper?.id||"N/A",store_owner_name:oe.store_referral?.store_owner_name||"N/A",plan_name:oe.store_referral?.subscription_plan||"N/A",plan_amount:oe.store_referral?.subscription_amount||0,commission_amount:oe.direct_commission_amount,earned_date:oe.created_at,days_pending:dA(new Date,new Date(oe.created_at))}));a(M);const{data:U,error:W}=await ae.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("network_commission_amount",0).order("created_at",{ascending:!0});if(W)throw W;const Y=(U||[]).map(oe=>({id:oe.id,helper_name:oe.helper?.full_name||"N/A",helper_id:oe.helper?.id||"N/A",store_owner_name:oe.store_referral?.store_owner_name||"N/A",plan_name:oe.store_referral?.subscription_plan||"N/A",plan_amount:oe.store_referral?.subscription_amount||0,commission_amount:oe.network_commission_amount,earned_date:oe.created_at,days_pending:dA(new Date,new Date(oe.created_at))}));o(Y);const{data:J,error:z}=await ae.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Paid").order("payment_date",{ascending:!1}).limit(100);if(z)throw z;const q=(J||[]).map(oe=>({id:oe.id,helper_name:oe.helper?.full_name||"N/A",helper_id:oe.helper?.id||"N/A",store_owner_name:oe.store_referral?.store_owner_name||"N/A",plan_name:oe.store_referral?.subscription_plan||"N/A",plan_amount:oe.store_referral?.subscription_amount||0,commission_amount:(oe.direct_commission_amount||0)+(oe.network_commission_amount||0),earned_date:oe.created_at,days_pending:0,payment_date:oe.payment_date,payment_reference:oe.payment_reference}));c(q);const V=M.reduce((oe,ce)=>oe+ce.commission_amount,0),L=M.length>0?Math.max(...M.map(oe=>oe.days_pending)):0,X=Y.reduce((oe,ce)=>oe+ce.commission_amount,0),K=Y.length>0?Math.max(...Y.map(oe=>oe.days_pending)):0,Q=q.reduce((oe,ce)=>oe+ce.commission_amount,0);N({direct:{total:V,count:M.length,oldestDays:L},network:{total:X,count:Y.length,oldestDays:K},paid:{total:Q,count:q.length}})}catch(E){console.error("Error loading commissions:",E),Mt.error("Failed to load commissions")}},A=(E,I)=>{E==="direct"?d(I?n.map(M=>M.id):[]):m(I?i.map(M=>M.id):[])},R=(E,I,M)=>{E==="direct"?d(M?[...u,I]:u.filter(U=>U!==I)):m(M?[...f,I]:f.filter(U=>U!==I))},O=async()=>{const E=g==="direct"?u:f;if(E.length===0){Mt.error("Please select at least one commission");return}if(!b.payment_reference){Mt.error("Please enter payment reference");return}try{const{error:I}=await ae.from("network_commissions").update({commission_status:"Paid",payment_date:b.payment_date,payment_reference:b.payment_reference,updated_at:new Date().toISOString()}).in("id",E);if(I)throw I;Mt.success(`Successfully marked ${E.length} commission(s) as paid`),x(!1),d([]),m([]),_({payment_date:yn(new Date,"yyyy-MM-dd"),payment_reference:""}),await C()}catch(I){console.error("Error marking commissions as paid:",I),Mt.error("Failed to mark commissions as paid")}},D=E=>{try{let I=[],M="";E==="direct"?(I=n,M="Pending Direct Commissions"):E==="network"?(I=i,M="Pending Network Commissions"):(I=l,M="Paid Commissions");const U=I.map(z=>({"Helper Name":z.helper_name,"Helper ID":z.helper_id,"Store Owner":z.store_owner_name,Plan:z.plan_name,"Plan Amount":`${z.plan_amount.toLocaleString()}`,"Commission Amount":`${z.commission_amount.toLocaleString()}`,"Earned Date":yn(new Date(z.earned_date),"PPP"),...E==="paid"?{"Payment Date":z.payment_date?yn(new Date(z.payment_date),"PPP"):"N/A","Payment Reference":z.payment_reference||"N/A"}:{"Days Pending":z.days_pending}})),W=Qi.book_new(),Y=Qi.json_to_sheet(U);Qi.book_append_sheet(W,Y,M);const J=`${M.toLowerCase().replace(/ /g,"_")}_${yn(new Date,"yyyy-MM-dd")}.xlsx`;Ev(W,J),Mt.success("Export successful!")}catch(I){console.error("Error exporting:",I),Mt.error("Failed to export data")}},P=()=>{try{const E=[{Category:"Pending Direct Commissions",Count:w.direct.count,Amount:`${w.direct.total.toLocaleString()}`},{Category:"Pending Network Commissions",Count:w.network.count,Amount:`${w.network.total.toLocaleString()}`},{Category:"Total Pending",Count:w.direct.count+w.network.count,Amount:`${(w.direct.total+w.network.total).toLocaleString()}`},{Category:"",Count:"",Amount:""},{Category:"Paid Commissions (Last 100)",Count:w.paid.count,Amount:`${w.paid.total.toLocaleString()}`}],I=Qi.book_new(),M=Qi.json_to_sheet(E);Qi.book_append_sheet(I,M,"Payment Report");const U=`payment_report_${yn(new Date,"yyyy-MM-dd")}.xlsx`;Ev(I,U),Mt.success("Payment report generated!")}catch(E){console.error("Error generating report:",E),Mt.error("Failed to generate report")}};return e?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commissions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(yo,{className:"h-8 w-8"}),"Commission Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage pending and paid commission payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:"outline",onClick:P,children:[s.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsx(we,{onClick:()=>t("/superadmin/dashboard"),children:"Back to Dashboard"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(He,{children:s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Direct"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",w.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.direct.count," payments"]})]})}),s.jsx(He,{children:s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Network"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",w.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.network.count," payments"]})]})}),s.jsx(He,{children:s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pending"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-500",children:["",(w.direct.total+w.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.direct.count+w.network.count," payments"]})]})}),s.jsx(He,{children:s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid (Last 100)"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",w.paid.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.paid.count," payments"]})]})})]}),s.jsxs(Wf,{defaultValue:"direct",onValueChange:E=>v(E),children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4",children:[s.jsxs(Un,{value:"direct",children:["Pending Direct (",w.direct.count,")"]}),s.jsxs(Un,{value:"network",children:["Pending Network (",w.network.count,")"]}),s.jsxs(Un,{value:"paid",children:["Paid History (",w.paid.count,")"]}),s.jsx(Un,{value:"reports",children:"Reports"})]}),s.jsx(zn,{value:"direct",className:"space-y-4",children:s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Nt,{children:"Pending Direct Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",w.direct.total.toLocaleString()," | Oldest: ",w.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>D("direct"),disabled:n.length===0,children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(we,{size:"sm",onClick:()=>{v("direct"),x(!0)},disabled:u.length===0,children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",u.length,")"]})]})]})}),s.jsx(Xe,{className:"p-0",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending direct commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{className:"w-12",children:s.jsx(ro,{checked:u.length===n.length,onCheckedChange:E=>A("direct",E)})}),s.jsx(At,{children:"Helper"}),s.jsx(At,{children:"Store Owner"}),s.jsx(At,{children:"Plan"}),s.jsx(At,{children:"Plan Amount"}),s.jsx(At,{children:"Commission"}),s.jsx(At,{children:"Earned Date"}),s.jsx(At,{children:"Days Pending"})]})}),s.jsx(Qa,{children:n.map(E=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsx(ro,{checked:u.includes(E.id),onCheckedChange:I=>R("direct",E.id,I)})}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:E.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.helper_id})]})}),s.jsx(_t,{children:E.store_owner_name}),s.jsx(_t,{children:E.plan_name}),s.jsxs(_t,{children:["",E.plan_amount.toLocaleString()]}),s.jsxs(_t,{className:"font-bold text-green-500",children:["",E.commission_amount.toLocaleString()]}),s.jsx(_t,{children:yn(new Date(E.earned_date),"PP")}),s.jsx(_t,{children:s.jsxs(er,{variant:E.days_pending>30?"destructive":"secondary",children:[E.days_pending," days"]})})]},E.id))})]})})})]})}),s.jsx(zn,{value:"network",className:"space-y-4",children:s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Nt,{children:"Pending Network Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",w.network.total.toLocaleString()," | Oldest: ",w.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>D("network"),disabled:i.length===0,children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(we,{size:"sm",onClick:()=>{v("network"),x(!0)},disabled:f.length===0,children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",f.length,")"]})]})]})}),s.jsx(Xe,{className:"p-0",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending network commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{className:"w-12",children:s.jsx(ro,{checked:f.length===i.length,onCheckedChange:E=>A("network",E)})}),s.jsx(At,{children:"Helper"}),s.jsx(At,{children:"Store Owner"}),s.jsx(At,{children:"Plan"}),s.jsx(At,{children:"Plan Amount"}),s.jsx(At,{children:"Commission"}),s.jsx(At,{children:"Earned Date"}),s.jsx(At,{children:"Days Pending"})]})}),s.jsx(Qa,{children:i.map(E=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsx(ro,{checked:f.includes(E.id),onCheckedChange:I=>R("network",E.id,I)})}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:E.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.helper_id})]})}),s.jsx(_t,{children:E.store_owner_name}),s.jsx(_t,{children:E.plan_name}),s.jsxs(_t,{children:["",E.plan_amount.toLocaleString()]}),s.jsxs(_t,{className:"font-bold text-blue-500",children:["",E.commission_amount.toLocaleString()]}),s.jsx(_t,{children:yn(new Date(E.earned_date),"PP")}),s.jsx(_t,{children:s.jsxs(er,{variant:E.days_pending>30?"destructive":"secondary",children:[E.days_pending," days"]})})]},E.id))})]})})})]})}),s.jsx(zn,{value:"paid",className:"space-y-4",children:s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Nt,{children:"Paid Commissions (Last 100)"}),s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>D("paid"),disabled:l.length===0,children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsx(Xe,{className:"p-0",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No paid commissions yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Helper"}),s.jsx(At,{children:"Store Owner"}),s.jsx(At,{children:"Plan"}),s.jsx(At,{children:"Commission"}),s.jsx(At,{children:"Earned Date"}),s.jsx(At,{children:"Payment Date"}),s.jsx(At,{children:"Reference"})]})}),s.jsx(Qa,{children:l.map(E=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:E.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.helper_id})]})}),s.jsx(_t,{children:E.store_owner_name}),s.jsx(_t,{children:E.plan_name}),s.jsxs(_t,{className:"font-bold text-green-500",children:["",E.commission_amount.toLocaleString()]}),s.jsx(_t,{children:yn(new Date(E.earned_date),"PP")}),s.jsx(_t,{children:E.payment_date&&yn(new Date(E.payment_date),"PP")}),s.jsx(_t,{className:"text-sm",children:E.payment_reference})]},E.id))})]})})})]})}),s.jsx(zn,{value:"reports",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Pending Commissions Summary"})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",w.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.direct.count," payments"]})]}),s.jsx(Xa,{className:"h-8 w-8 text-yellow-500"})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Network Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",w.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.network.count," payments"]})]}),s.jsx(Xa,{className:"h-8 w-8 text-yellow-500"})]}),s.jsx("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-500",children:["",(w.direct.total+w.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs",children:[w.direct.count+w.network.count," payments"]})]})})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:"Payment Analytics"})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Direct)"}),s.jsxs("span",{className:"font-semibold",children:[w.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Network)"}),s.jsxs("span",{className:"font-semibold",children:[w.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Paid (Last 100)"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",w.paid.total.toLocaleString()]})]})]}),s.jsxs(we,{className:"w-full mt-4",onClick:P,children:[s.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Download Full Report"]})]})]})]})})]})]}),s.jsx(ss,{open:h,onOpenChange:x,children:s.jsxs(ts,{children:[s.jsxs(as,{children:[s.jsx(is,{children:"Mark Commissions as Paid"}),s.jsxs(ja,{children:["Mark ",g==="direct"?u.length:f.length," selected commission(s) as paid"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Payment Date"}),s.jsx(lt,{type:"date",value:b.payment_date,onChange:E=>_({...b,payment_date:E.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Payment Reference / Transaction ID *"}),s.jsx(lt,{value:b.payment_reference,onChange:E=>_({...b,payment_reference:E.target.value}),placeholder:"Enter transaction ID or reference number"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3",children:s.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[s.jsx(fi,{className:"inline w-4 h-4 mr-2"}),'This will update the commission status to "Paid" and record the payment details.']})})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(we,{onClick:O,children:"Mark as Paid"})]})]})})]})}var Xf="Accordion",C0t=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[gU,A0t,E0t]=lw(Xf),[CP]=bi(Xf,[E0t,tce]),xU=tce(),zye=Ne.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,i=n;return s.jsx(gU.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?s.jsx(D0t,{...i,ref:e}):s.jsx(O0t,{...a,ref:e})})});zye.displayName=Xf;var[qye,P0t]=CP(Xf),[Vye,T0t]=CP(Xf,{collapsible:!1}),O0t=Ne.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=t,[l,c]=ql({prop:r,defaultProp:n??"",onChange:a,caller:Xf});return s.jsx(qye,{scope:t.__scopeAccordion,value:Ne.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ne.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(Vye,{scope:t.__scopeAccordion,collapsible:i,children:s.jsx(Wye,{...o,ref:e})})})}),D0t=Ne.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=t,[o,l]=ql({prop:r,defaultProp:n??[],onChange:a,caller:Xf}),c=Ne.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=Ne.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return s.jsx(qye,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(Vye,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(Wye,{...i,ref:e})})})}),[R0t,AP]=CP(Xf),Wye=Ne.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=t,l=Ne.useRef(null),c=Yr(l,e),u=A0t(r),f=bg(a)==="ltr",m=Xt(t.onKeyDown,h=>{if(!C0t.includes(h.key))return;const x=h.target,g=u().filter(R=>!R.ref.current?.disabled),v=g.findIndex(R=>R.ref.current===x),b=g.length;if(v===-1)return;h.preventDefault();let _=v;const w=0,N=b-1,S=()=>{_=v+1,_>N&&(_=w)},C=()=>{_=v-1,_<w&&(_=N)};switch(h.key){case"Home":_=w;break;case"End":_=N;break;case"ArrowRight":i==="horizontal"&&(f?S():C());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?C():S());break;case"ArrowUp":i==="vertical"&&C();break}const A=_%b;g[A].ref.current?.focus()});return s.jsx(R0t,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(gU.Slot,{scope:r,children:s.jsx(xr.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),jA="AccordionItem",[I0t,vU]=CP(jA),Hye=Ne.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,i=AP(jA,r),o=P0t(jA,r),l=xU(r),c=Vc(),u=n&&o.value.includes(n)||!1,d=i.disabled||t.disabled;return s.jsx(I0t,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(sce,{"data-orientation":i.orientation,"data-state":Zye(u),...l,...a,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});Hye.displayName=jA;var Gye="AccordionHeader",Yye=Ne.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=AP(Xf,r),i=vU(Gye,r);return s.jsx(xr.h3,{"data-orientation":a.orientation,"data-state":Zye(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Yye.displayName=Gye;var jL="AccordionTrigger",Kye=Ne.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=AP(Xf,r),i=vU(jL,r),o=T0t(jL,r),l=xU(r);return s.jsx(gU.ItemSlot,{scope:r,children:s.jsx(XPe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:e})})});Kye.displayName=jL;var Xye="AccordionContent",Jye=Ne.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=AP(Xf,r),i=vU(Xye,r),o=xU(r);return s.jsx(JPe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Jye.displayName=Xye;function Zye(t){return t?"open":"closed"}var F0t=zye,M0t=Hye,L0t=Yye,Qye=Kye,e1e=Jye;const $0t=F0t,t1e=j.forwardRef(({className:t,...e},r)=>s.jsx(M0t,{ref:r,className:Gt("border-b",t),...e}));t1e.displayName="AccordionItem";const r1e=j.forwardRef(({className:t,children:e,...r},n)=>s.jsx(L0t,{className:"flex",children:s.jsxs(Qye,{ref:n,className:Gt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,s.jsx(Jm,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));r1e.displayName=Qye.displayName;const n1e=j.forwardRef(({className:t,children:e,...r},n)=>s.jsx(e1e,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:Gt("pb-4 pt-0",t),children:e})}));n1e.displayName=e1e.displayName;function B0t(){const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[l,c]=j.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[u,d]=j.useState("monthly"),[f,m]=j.useState([]),[h,x]=j.useState({}),[g,v]=j.useState(!0),[b,_]=j.useState(!1),[w,N]=j.useState(!0),[S,C]=j.useState(!0),[A,R]=j.useState(500),[O,D]=j.useState("monthly"),[P,E]=j.useState("1st"),[I,M]=j.useState(-1),[U,W]=j.useState("HELP"),[Y,J]=j.useState(!0),[z,q]=j.useState([]),[V,L]=j.useState(!1),[X,K]=j.useState({}),[Q,oe]=j.useState(!1),[ce,de]=j.useState({commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]}),[ne,ue]=j.useState(null),se=me=>{x(Se=>({...Se,[me]:{...Se[me],enabled:!Se[me].enabled}}))},Z=(me,Se,_e,Je)=>{x(tt=>({...tt,[me]:{...tt[me],[Se]:{...tt[me][Se],[_e]:Je}}}))},Oe=(me,Se,_e)=>{let Je="";switch(me){case"networkMonthlyOnetimeValue":case"networkYearlyOnetimeValue":_e==="percentage"&&(Se<0||Se>100)?Je="Percentage must be between 0-100%":_e==="fixed"&&Se<0&&(Je="Amount cannot be negative");break;case"networkMonthlyRecurringValue":case"networkYearlyRecurringValue":_e==="percentage"&&(Se<0||Se>100)?Je="Percentage must be between 0-100%":_e==="fixed"&&Se<0&&(Je="Amount cannot be negative");break;case"networkMonthlyRecurringDuration":case"networkYearlyRecurringDuration":(Se<1||Se>24)&&(Je="Duration must be between 1-24 months");break;case"minPayoutThreshold":Se<0&&(Je="Minimum payout cannot be negative");break;case"referralCodePrefix":!Se||Se.trim()===""?Je="Referral code prefix is required":Se.length>6&&(Je="Prefix must be 6 characters or less");break;case"maxHelpersPerRecruiter":Se<-1&&(Je="Value must be -1 (unlimited) or greater");break}return K(tt=>{const Ve={...tt};return Je?Ve[me]=Je:delete Ve[me],Ve}),Je===""};j.useEffect(()=>{re()},[]);const re=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){t("/superadmin/login");return}await xe(),r(!1)}catch(me){console.error("Error checking super admin access:",me),t("/superadmin/login")}},le=async()=>{try{const{data:me,error:Se}=await ae.from("subscription_plans").select("id, name, slug, monthly_price, yearly_price, is_active").eq("is_active",!0).order("display_order");if(Se)throw Se;const _e=me||[];m(_e);const Je={};_e.forEach(tt=>{Je[tt.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),x(Je)}catch(me){console.error("Error fetching subscription plans:",me),Mt.error("Failed to load subscription plans")}},We=async()=>{try{const{data:me,error:Se}=await ae.from("commission_audit").select("*").order("created_at",{ascending:!1}).limit(50);if(Se){if(Se.message.includes("does not exist")){console.info("Audit trail table not yet created"),q([]);return}throw Se}q(me||[])}catch(me){console.error("Error fetching audit records:",me),String(me).includes("does not exist")||Mt.error("Failed to load audit trail")}},xe=async()=>{try{await le();const{data:me,error:Se}=await ae.from("commission_settings").select("*").eq("is_active",!0).single();if(Se){console.error("Error loading commission settings:",Se),Mt.error("Failed to load commission settings");return}if(me){v(me.enable_multi_tier),_(me.auto_approve_applications),N(me.send_welcome_email),C(me.send_commission_notifications),R(me.min_payout_threshold),D(me.payment_schedule),E(me.payment_day),M(me.max_helpers_per_recruiter),W(me.referral_code_prefix),J(me.auto_generate_codes);const{data:_e,error:Je}=await ae.from("network_commission").select("*").eq("settings_id",me.id);let tt={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},Ve={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12};!Je&&_e&&_e.forEach(st=>{const Ue={model:st.commission_model,onetimeType:st.onetime_type,onetimeValue:st.onetime_value,recurringType:st.recurring_type,recurringValue:st.recurring_value,recurringDuration:st.recurring_duration};st.subscription_type==="monthly"?(o(Ue),tt=Ue):st.subscription_type==="yearly"&&(c(Ue),Ve=Ue)});const{data:Me,error:ht}=await ae.from("plan_commission").select("*").eq("settings_id",me.id);let Ce={};if(!ht&&Me){const st={};f.forEach(Ue=>{st[Ue.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),Me.forEach(Ue=>{st[Ue.plan_id]||(st[Ue.plan_id]={enabled:Ue.enabled,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}});const Ke={model:Ue.commission_model,onetimeType:Ue.onetime_type,onetimeValue:Ue.onetime_value,recurringType:Ue.recurring_type,recurringValue:Ue.recurring_value,recurringDuration:Ue.recurring_duration};Ue.subscription_type==="monthly"?(st[Ue.plan_id].monthly=Ke,st[Ue.plan_id].enabled=Ue.enabled):Ue.subscription_type==="yearly"&&(st[Ue.plan_id].yearly=Ke)}),Ce=st,x(st)}Mt.success("Settings loaded successfully"),ue({networkMonthly:tt,networkYearly:Ve,planCommissions:JSON.parse(JSON.stringify(Ce)),enableMultiTier:me.enable_multi_tier,autoApproveApplications:me.auto_approve_applications,sendWelcomeEmail:me.send_welcome_email,sendCommissionNotifications:me.send_commission_notifications,minPayoutThreshold:me.min_payout_threshold,paymentSchedule:me.payment_schedule,paymentDay:me.payment_day,maxHelpersPerRecruiter:me.max_helpers_per_recruiter,referralCodePrefix:me.referral_code_prefix,autoGenerateCodes:me.auto_generate_codes})}}catch(me){console.error("Error loading settings:",me),Mt.error("Failed to load settings")}},Le=()=>{const me=[];return(i.model==="onetime"||i.model==="hybrid")&&(i.onetimeType==="percentage"&&(i.onetimeValue<0||i.onetimeValue>100)&&me.push("Network Monthly: One-time percentage must be between 0-100%"),i.onetimeType==="fixed"&&i.onetimeValue<0&&me.push("Network Monthly: One-time fixed amount cannot be negative")),(i.model==="recurring"||i.model==="hybrid")&&(i.recurringType==="percentage"&&(i.recurringValue<0||i.recurringValue>100)&&me.push("Network Monthly: Recurring percentage must be between 0-100%"),i.recurringType==="fixed"&&i.recurringValue<0&&me.push("Network Monthly: Recurring fixed amount cannot be negative"),(i.recurringDuration<1||i.recurringDuration>24)&&me.push("Network Monthly: Duration must be between 1-24 months")),(l.model==="onetime"||l.model==="hybrid")&&(l.onetimeType==="percentage"&&(l.onetimeValue<0||l.onetimeValue>100)&&me.push("Network Yearly: One-time percentage must be between 0-100%"),l.onetimeType==="fixed"&&l.onetimeValue<0&&me.push("Network Yearly: One-time fixed amount cannot be negative")),(l.model==="recurring"||l.model==="hybrid")&&(l.recurringType==="percentage"&&(l.recurringValue<0||l.recurringValue>100)&&me.push("Network Yearly: Recurring percentage must be between 0-100%"),l.recurringType==="fixed"&&l.recurringValue<0&&me.push("Network Yearly: Recurring fixed amount cannot be negative"),(l.recurringDuration<1||l.recurringDuration>24)&&me.push("Network Yearly: Duration must be between 1-24 months")),Object.entries(h).forEach(([Se,_e])=>{if(_e.enabled){const tt=f.find(ht=>ht.id===Se)?.name||"Unknown Plan";(_e.monthly.model==="onetime"||_e.monthly.model==="hybrid")&&(_e.monthly.onetimeType==="percentage"&&(_e.monthly.onetimeValue<0||_e.monthly.onetimeValue>100)&&me.push(`${tt} (Monthly): One-time percentage must be between 0-100%`),_e.monthly.onetimeType==="fixed"&&_e.monthly.onetimeValue<0&&me.push(`${tt} (Monthly): One-time fixed amount cannot be negative`)),(_e.monthly.model==="recurring"||_e.monthly.model==="hybrid")&&(_e.monthly.recurringType==="percentage"&&(_e.monthly.recurringValue<0||_e.monthly.recurringValue>100)&&me.push(`${tt} (Monthly): Recurring percentage must be between 0-100%`),_e.monthly.recurringType==="fixed"&&_e.monthly.recurringValue<0&&me.push(`${tt} (Monthly): Recurring fixed amount cannot be negative`),(_e.monthly.recurringDuration<1||_e.monthly.recurringDuration>24)&&me.push(`${tt} (Monthly): Duration must be between 1-24 months`)),(_e.yearly.model==="onetime"||_e.yearly.model==="hybrid")&&(_e.yearly.onetimeType==="percentage"&&(_e.yearly.onetimeValue<0||_e.yearly.onetimeValue>100)&&me.push(`${tt} (Yearly): One-time percentage must be between 0-100%`),_e.yearly.onetimeType==="fixed"&&_e.yearly.onetimeValue<0&&me.push(`${tt} (Yearly): One-time fixed amount cannot be negative`)),(_e.yearly.model==="recurring"||_e.yearly.model==="hybrid")&&(_e.yearly.recurringType==="percentage"&&(_e.yearly.recurringValue<0||_e.yearly.recurringValue>100)&&me.push(`${tt} (Yearly): Recurring percentage must be between 0-100%`),_e.yearly.recurringType==="fixed"&&_e.yearly.recurringValue<0&&me.push(`${tt} (Yearly): Recurring fixed amount cannot be negative`),(_e.yearly.recurringDuration<1||_e.yearly.recurringDuration>24)&&me.push(`${tt} (Yearly): Duration must be between 1-24 months`));const Ve=_e.monthly.model==="onetime"&&_e.monthly.onetimeValue>0||_e.monthly.model==="recurring"&&_e.monthly.recurringValue>0||_e.monthly.model==="hybrid"&&(_e.monthly.onetimeValue>0||_e.monthly.recurringValue>0),Me=_e.yearly.model==="onetime"&&_e.yearly.onetimeValue>0||_e.yearly.model==="recurring"&&_e.yearly.recurringValue>0||_e.yearly.model==="hybrid"&&(_e.yearly.onetimeValue>0||_e.yearly.recurringValue>0);!Ve&&!Me&&me.push(`${tt}: Commission is enabled but all values are 0 - helpers will not earn anything`)}}),A<0&&me.push("Minimum Payout Threshold cannot be negative"),(!U||U.trim()==="")&&me.push("Referral Code Prefix cannot be empty"),U.length>6&&me.push("Referral Code Prefix must be 6 characters or less"),I<-1&&me.push("Max Helpers Per Recruiter must be -1 (unlimited) or a positive number"),{isValid:me.length===0,errors:me}},ke=(me,Se)=>{const _e={...Se};return me==="onetime"?(_e.recurring_value=0,_e.recurring_duration=12):me==="recurring"&&(_e.onetime_value=0),_e},fe=()=>{if(!ne)return{commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]};const me={commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]},Se=(Je,tt)=>Je==="percentage"?`${tt}%`:`${tt}`,_e={onetime:"One-time",recurring:"Recurring",hybrid:"Hybrid"};if(JSON.stringify(i)!==JSON.stringify(ne.networkMonthly)&&(i.model!==ne.networkMonthly.model&&me.commissionModel.push(`Monthly: ${_e[ne.networkMonthly.model]}  ${_e[i.model]}`),i.onetimeValue!==ne.networkMonthly.onetimeValue&&me.commissionRates.push(`Monthly One-time: ${Se(ne.networkMonthly.onetimeType,ne.networkMonthly.onetimeValue)}  ${Se(i.onetimeType,i.onetimeValue)}`),i.recurringValue!==ne.networkMonthly.recurringValue&&me.commissionRates.push(`Monthly Recurring: ${Se(ne.networkMonthly.recurringType,ne.networkMonthly.recurringValue)}  ${Se(i.recurringType,i.recurringValue)}`),i.recurringDuration!==ne.networkMonthly.recurringDuration&&me.commissionRates.push(`Monthly Duration: ${ne.networkMonthly.recurringDuration}  ${i.recurringDuration} months`)),JSON.stringify(l)!==JSON.stringify(ne.networkYearly)&&(l.model!==ne.networkYearly.model&&me.commissionModel.push(`Yearly: ${_e[ne.networkYearly.model]}  ${_e[l.model]}`),l.onetimeValue!==ne.networkYearly.onetimeValue&&me.commissionRates.push(`Yearly One-time: ${Se(ne.networkYearly.onetimeType,ne.networkYearly.onetimeValue)}  ${Se(l.onetimeType,l.onetimeValue)}`),l.recurringValue!==ne.networkYearly.recurringValue&&me.commissionRates.push(`Yearly Recurring: ${Se(ne.networkYearly.recurringType,ne.networkYearly.recurringValue)}  ${Se(l.recurringType,l.recurringValue)}`)),Object.keys(h).forEach(Je=>{const tt=f.find(ht=>ht.id===Je);if(!tt)return;const Ve=h[Je],Me=ne.planCommissions?.[Je];Me&&(Ve.enabled!==Me.enabled&&me.featureToggles.push(`${tt.name}: ${Ve.enabled?"Enabled":"Disabled"}`),JSON.stringify(Ve.monthly)!==JSON.stringify(Me.monthly)&&(Ve.monthly.model!==Me.monthly.model&&me.commissionModel.push(`${tt.name} Monthly: ${_e[Me.monthly.model]}  ${_e[Ve.monthly.model]}`),Ve.monthly.onetimeValue!==Me.monthly.onetimeValue&&me.commissionRates.push(`${tt.name} Monthly: ${Se(Me.monthly.onetimeType,Me.monthly.onetimeValue)}  ${Se(Ve.monthly.onetimeType,Ve.monthly.onetimeValue)}`)),JSON.stringify(Ve.yearly)!==JSON.stringify(Me.yearly)&&(Ve.yearly.onetimeValue!==Me.yearly.onetimeValue||Ve.yearly.recurringValue!==Me.yearly.recurringValue)&&me.commissionRates.push(`${tt.name} Yearly: Commission updated`))}),g!==ne.enableMultiTier&&me.featureToggles.push(`Multi-Tier Program: ${g?"Enabled":"Disabled"}`),b!==ne.autoApproveApplications&&me.featureToggles.push(`Auto-approve Applications: ${b?"Enabled":"Disabled"}`),w!==ne.sendWelcomeEmail&&me.featureToggles.push(`Welcome Email: ${w?"Enabled":"Disabled"}`),S!==ne.sendCommissionNotifications&&me.featureToggles.push(`Commission Notifications: ${S?"Enabled":"Disabled"}`),A!==ne.minPayoutThreshold&&me.paymentSettings.push(`Minimum Payout: ${ne.minPayoutThreshold}  ${A}`),O!==ne.paymentSchedule&&me.paymentSettings.push(`Schedule: ${ne.paymentSchedule}  ${O}`),P!==ne.paymentDay&&me.paymentSettings.push(`Payment Day: ${ne.paymentDay}  ${P}`),I!==ne.maxHelpersPerRecruiter){const Je=ne.maxHelpersPerRecruiter===-1?"Unlimited":ne.maxHelpersPerRecruiter,tt=I===-1?"Unlimited":I;me.recruitmentSettings.push(`Max Helpers: ${Je}  ${tt}`)}return U!==ne.referralCodePrefix&&me.recruitmentSettings.push(`Code Prefix: ${ne.referralCodePrefix}  ${U}`),me},ye=async()=>{if(Object.keys(X).length>0){Mt.error("Please fix all field errors before saving",{description:"Check the red-highlighted fields above",duration:4e3});return}const Se=Le();if(!Se.isValid){Se.errors.forEach((_e,Je)=>{setTimeout(()=>{Mt.error(_e,{duration:5e3})},Je*100)});return}a(!0);try{const{data:_e}=await ae.from("commission_settings").select("id, version").eq("is_active",!0).single(),Je=_e?_e.version+1:1;_e&&await ae.from("commission_settings").update({is_active:!1}).eq("id",_e.id);const{data:tt,error:Ve}=await ae.from("commission_settings").insert({version:Je,enable_multi_tier:g,auto_approve_applications:b,send_welcome_email:w,send_commission_notifications:S,min_payout_threshold:A,payment_schedule:O,payment_day:P,max_helpers_per_recruiter:I,referral_code_prefix:U,auto_generate_codes:Y,is_active:!0}).select().single();if(Ve)throw Ve;const Me=ke(i.model,{onetime_type:i.onetimeType,onetime_value:i.onetimeValue,recurring_type:i.recurringType,recurring_value:i.recurringValue,recurring_duration:i.recurringDuration}),{error:ht}=await ae.from("network_commission").insert({settings_id:tt.id,subscription_type:"monthly",commission_model:i.model,...Me});if(ht)throw ht;const Ce=ke(l.model,{onetime_type:l.onetimeType,onetime_value:l.onetimeValue,recurring_type:l.recurringType,recurring_value:l.recurringValue,recurring_duration:l.recurringDuration}),{error:st}=await ae.from("network_commission").insert({settings_id:tt.id,subscription_type:"yearly",commission_model:l.model,...Ce});if(st)throw st;for(const[Ke,at]of Object.entries(h)){const St=ke(at.monthly.model,{onetime_type:at.monthly.onetimeType,onetime_value:at.monthly.onetimeValue,recurring_type:at.monthly.recurringType,recurring_value:at.monthly.recurringValue,recurring_duration:at.monthly.recurringDuration}),{error:qt}=await ae.from("plan_commission").insert({settings_id:tt.id,plan_id:Ke,subscription_type:"monthly",enabled:at.enabled,commission_model:at.monthly.model,...St});if(qt)throw qt;const Ut=ke(at.yearly.model,{onetime_type:at.yearly.onetimeType,onetime_value:at.yearly.onetimeValue,recurring_type:at.yearly.recurringType,recurring_value:at.yearly.recurringValue,recurring_duration:at.yearly.recurringDuration}),{error:Qt}=await ae.from("plan_commission").insert({settings_id:tt.id,plan_id:Ke,subscription_type:"yearly",enabled:at.enabled,commission_model:at.yearly.model,...Ut});if(Qt)throw Qt}const Ue=fe();de(Ue),oe(!0),Mt.success(`Settings saved successfully! (Version ${Je})`),a(!1),ue({networkMonthly:{...i},networkYearly:{...l},planCommissions:JSON.parse(JSON.stringify(h)),enableMultiTier:g,autoApproveApplications:b,sendWelcomeEmail:w,sendCommissionNotifications:S,minPayoutThreshold:A,paymentSchedule:O,paymentDay:P,maxHelpersPerRecruiter:I,referralCodePrefix:U,autoGenerateCodes:Y})}catch(_e){console.error("Error saving settings:",_e),Mt.error("Failed to save settings"),a(!1)}};if(e)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})});const qe=[{label:"1 month",value:1},{label:"3 months",value:3},{label:"6 months",value:6},{label:"12 months",value:12},{label:"24 months",value:24}],Qe=100,ct=1e3,Ye=(me,Se=!1)=>{const _e=Se?ct:Qe,Je=Se?l:i;if(Je.model==="onetime")return me===1?Je.onetimeType==="percentage"?_e*Je.onetimeValue/100:Je.onetimeValue:0;if(Je.model==="recurring")return me<=Je.recurringDuration?Je.recurringType==="percentage"?_e*Je.recurringValue/100:Je.recurringValue:0;{const tt=me===1?Je.onetimeType==="percentage"?_e*Je.onetimeValue/100:Je.onetimeValue:0,Ve=me>1&&me<=Je.recurringDuration+1?Je.recurringType==="percentage"?_e*Je.recurringValue/100:Je.recurringValue:0;return tt+Ve}};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(vo,{className:"h-8 w-8"}),"Commission Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure commission rates, payment settings, and helper program rules"})]}),s.jsx(we,{onClick:()=>t("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Network Commission Settings"}),s.jsx(hn,{children:"Commission when helper recruits a another helper (multi-tier)"})]}),s.jsx(Xe,{children:s.jsxs(Wf,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Un,{value:"monthly",children:"Monthly Subscription"}),s.jsx(Un,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(zn,{value:"monthly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-onetime",name:"network-monthly-model",checked:i.model==="onetime",onChange:()=>o(me=>({...me,model:"onetime"})),className:"h-4 w-4"}),s.jsx(Be,{htmlFor:"network-monthly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-recurring",name:"network-monthly-model",checked:i.model==="recurring",onChange:()=>o(me=>({...me,model:"recurring"})),className:"h-4 w-4"}),s.jsx(Be,{htmlFor:"network-monthly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-hybrid",name:"network-monthly-model",checked:i.model==="hybrid",onChange:()=>o(me=>({...me,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(Be,{htmlFor:"network-monthly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Commission Type"}),s.jsxs(zr,{value:i.onetimeType,onValueChange:me=>o(Se=>({...Se,onetimeType:me})),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:i.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:i.onetimeValue,onChange:me=>{const Se=me.target.value===""?0:Number(me.target.value);o(_e=>({..._e,onetimeValue:Se})),Oe("networkMonthlyOnetimeValue",Se,i.onetimeType)},onBlur:()=>Oe("networkMonthlyOnetimeValue",i.onetimeValue,i.onetimeType),min:0,max:i.onetimeType==="percentage"?100:void 0,className:X.networkMonthlyOnetimeValue?"border-red-500 focus-visible:ring-red-500":""}),X.networkMonthlyOnetimeValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",X.networkMonthlyOnetimeValue]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store completes onboarding and first subscription payment"})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Commission Type"}),s.jsxs(zr,{value:i.recurringType,onValueChange:me=>o(Se=>({...Se,recurringType:me})),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:i.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:i.recurringValue,onChange:me=>{const Se=me.target.value===""?0:Number(me.target.value);o(_e=>({..._e,recurringValue:Se})),Oe("networkMonthlyRecurringValue",Se,i.recurringType)},onBlur:()=>Oe("networkMonthlyRecurringValue",i.recurringValue,i.recurringType),min:0,max:i.recurringType==="percentage"?100:void 0,className:X.networkMonthlyRecurringValue?"border-red-500 focus-visible:ring-red-500":""}),X.networkMonthlyRecurringValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",X.networkMonthlyRecurringValue]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Duration (Months)"}),s.jsxs(zr,{value:i.recurringDuration.toString(),onValueChange:me=>o(Se=>({...Se,recurringDuration:parseInt(me)})),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsx($r,{children:qe.map(me=>s.jsx(ut,{value:me.value.toString(),children:me.label},me.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid monthly for the specified duration while store remains active"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Cf,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:["Earnings Preview (Store pays ",Qe,"/month):"]}),s.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 space-y-1",children:[s.jsxs("p",{children:[" Month 1: ",Ye(1,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 2: ",Ye(2,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 12: ",Ye(12,!1).toFixed(2)]}),i.recurringDuration>12&&s.jsxs("p",{children:[" Month ",i.recurringDuration+1,": ",Ye(i.recurringDuration+1,!1).toFixed(2)]})]})]})]})})]}),s.jsxs(zn,{value:"yearly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Be,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-onetime",name:"network-yearly-model",checked:l.model==="onetime",onChange:()=>c(me=>({...me,model:"onetime"})),className:"h-4 w-4"}),s.jsx(Be,{htmlFor:"network-yearly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-recurring",name:"network-yearly-model",checked:l.model==="recurring",onChange:()=>c(me=>({...me,model:"recurring"})),className:"h-4 w-4"}),s.jsx(Be,{htmlFor:"network-yearly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-hybrid",name:"network-yearly-model",checked:l.model==="hybrid",onChange:()=>c(me=>({...me,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(Be,{htmlFor:"network-yearly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Commission Type"}),s.jsxs(zr,{value:l.onetimeType,onValueChange:me=>c(Se=>({...Se,onetimeType:me})),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:l.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:l.onetimeValue,onChange:me=>c(Se=>({...Se,onetimeValue:me.target.value===""?0:Number(me.target.value)})),min:0,max:l.onetimeType==="percentage"?100:void 0})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store purchases yearly subscription (higher to incentivize yearly sales)"})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Commission Type"}),s.jsxs(zr,{value:l.recurringType,onValueChange:me=>c(Se=>({...Se,recurringType:me})),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:l.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:l.recurringValue,onChange:me=>c(Se=>({...Se,recurringValue:me.target.value===""?0:Number(me.target.value)})),min:0,max:l.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Duration (Years)"}),s.jsxs(zr,{value:l.recurringDuration.toString(),onValueChange:me=>c(Se=>({...Se,recurringDuration:parseInt(me)})),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsx($r,{children:qe.map(me=>s.jsxs(ut,{value:me.value.toString(),children:[me.label," ",me.value>1?"years":"year"]},me.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid yearly for the specified duration while store renews subscription"})]}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Cf,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:["Earnings Preview (Store pays ",ct,"/year):"]}),s.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-200 space-y-1",children:[s.jsxs("p",{children:[" Year 1: ",Ye(1,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 2: ",Ye(2,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 12: ",Ye(12,!0).toFixed(2)]}),l.recurringDuration>12&&s.jsxs("p",{children:[" Year ",l.recurringDuration+1,": ",Ye(l.recurringDuration+1,!0).toFixed(2)]})]})]})]})})]})]})})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Plan-Specific Commission"}),s.jsx(hn,{children:"Customize commission rates for specific subscription plans. When disabled, global settings apply."})]}),s.jsx(Xe,{children:f.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(vo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No subscription plans found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please create subscription plans first before configuring plan-specific commissions."})]}):s.jsx($0t,{type:"multiple",className:"w-full",children:f.map(me=>{const Se=h[me.id];return Se?s.jsxs(t1e,{value:me.id,children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx(r1e,{className:"flex-1 hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`font-semibold ${Se.enabled?"":"text-red-600 dark:text-red-400"}`,children:me.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["",me.monthly_price,"/month  ",me.yearly_price,"/year"]})]})}),s.jsxs("div",{className:"flex items-center gap-2 pr-4",children:[s.jsx(Fn,{checked:Se.enabled,onCheckedChange:()=>se(me.id)}),s.jsx("span",{className:`text-sm ${Se.enabled?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:Se.enabled?"Enabled":"Disabled"})]})]}),s.jsx(n1e,{children:Se.enabled?s.jsxs(Wf,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Un,{value:"monthly",children:"Monthly Subscription"}),s.jsx(Un,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(zn,{value:"monthly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(_e=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${me.id}-monthly-${_e}`,name:`${me.id}-monthly-model`,checked:Se.monthly.model===_e,onChange:()=>Z(me.id,"monthly","model",_e),className:"h-4 w-4"}),s.jsxs(Be,{htmlFor:`${me.id}-monthly-${_e}`,className:"font-normal cursor-pointer",children:["Model ",_e==="onetime"?"1":_e==="recurring"?"2":"3",":",_e==="onetime"?" One-time Only":_e==="recurring"?" Recurring Only":" Hybrid"]})]},_e))})]}),(Se.monthly.model==="onetime"||Se.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Type"}),s.jsxs(zr,{value:Se.monthly.onetimeType,onValueChange:_e=>Z(me.id,"monthly","onetimeType",_e),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:Se.monthly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:Se.monthly.onetimeValue,onChange:_e=>Z(me.id,"monthly","onetimeValue",_e.target.value===""?0:Number(_e.target.value)),min:0,max:Se.monthly.onetimeType==="percentage"?100:void 0})]})]})]}),(Se.monthly.model==="recurring"||Se.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Type"}),s.jsxs(zr,{value:Se.monthly.recurringType,onValueChange:_e=>Z(me.id,"monthly","recurringType",_e),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:Se.monthly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:Se.monthly.recurringValue,onChange:_e=>Z(me.id,"monthly","recurringValue",_e.target.value===""?0:Number(_e.target.value)),min:0,max:Se.monthly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Duration (Months)"}),s.jsxs(zr,{value:Se.monthly.recurringDuration.toString(),onValueChange:_e=>Z(me.id,"monthly","recurringDuration",parseInt(_e)),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsx($r,{children:qe.map(_e=>s.jsx(ut,{value:_e.value.toString(),children:_e.label},_e.value))})]})]})]})]})]}),s.jsxs(zn,{value:"yearly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(_e=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${me.id}-yearly-${_e}`,name:`${me.id}-yearly-model`,checked:Se.yearly.model===_e,onChange:()=>Z(me.id,"yearly","model",_e),className:"h-4 w-4"}),s.jsxs(Be,{htmlFor:`${me.id}-yearly-${_e}`,className:"font-normal cursor-pointer",children:["Model ",_e==="onetime"?"1":_e==="recurring"?"2":"3",":",_e==="onetime"?" One-time Only":_e==="recurring"?" Recurring Only":" Hybrid"]})]},_e))})]}),(Se.yearly.model==="onetime"||Se.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Type"}),s.jsxs(zr,{value:Se.yearly.onetimeType,onValueChange:_e=>Z(me.id,"yearly","onetimeType",_e),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:Se.yearly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:Se.yearly.onetimeValue,onChange:_e=>Z(me.id,"yearly","onetimeValue",_e.target.value===""?0:Number(_e.target.value)),min:0,max:Se.yearly.onetimeType==="percentage"?100:void 0})]})]})]}),(Se.yearly.model==="recurring"||Se.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Be,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Type"}),s.jsxs(zr,{value:Se.yearly.recurringType,onValueChange:_e=>Z(me.id,"yearly","recurringType",_e),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"percentage",children:"Percentage (%)"}),s.jsx(ut,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:Se.yearly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(lt,{type:"number",value:Se.yearly.recurringValue,onChange:_e=>Z(me.id,"yearly","recurringValue",_e.target.value===""?0:Number(_e.target.value)),min:0,max:Se.yearly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Duration (Years)"}),s.jsxs(zr,{value:Se.yearly.recurringDuration.toString(),onValueChange:_e=>Z(me.id,"yearly","recurringDuration",parseInt(_e)),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsx($r,{children:qe.map(_e=>s.jsxs(ut,{value:_e.value.toString(),children:[_e.label," ",_e.value>1?"years":"year"]},_e.value))})]})]})]})]})]})]}):s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-900 dark:text-red-100 font-semibold",children:" Commission Disabled"}),s.jsxs("p",{className:"text-red-700 dark:text-red-300 text-sm mt-2",children:["Helpers will receive ",s.jsx("strong",{children:"NO commission"})," for recruiting store owners on this plan. Enable commission above to set rates."]})]})})]},me.id):null})})})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Feature Controls"}),s.jsx(hn,{children:"Enable or disable helper program features"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{children:"Enable Multi-Tier Helper Program"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow helpers to recruit other helpers and earn network commissions"})]}),s.jsx(Fn,{checked:g,onCheckedChange:v})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{children:"Auto-approve Helper Applications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve all helper applications without manual review"})]}),s.jsx(Fn,{checked:b,onCheckedChange:_})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{children:"Send Helper Welcome Email"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send welcome email when helper application is approved"})]}),s.jsx(Fn,{checked:w,onCheckedChange:N})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{children:"Send Commission Earned Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify helpers when they earn new commissions"})]}),s.jsx(Fn,{checked:S,onCheckedChange:C})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Payment Settings"}),s.jsx(hn,{children:"Configure payment schedules and thresholds"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Minimum Payout Threshold ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(lt,{type:"number",value:A,onChange:me=>{const Se=parseFloat(me.target.value);R(Se),Oe("minPayoutThreshold",Se)},onBlur:()=>Oe("minPayoutThreshold",A),min:0,className:X.minPayoutThreshold?"border-red-500 focus-visible:ring-red-500":""}),X.minPayoutThreshold&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",X.minPayoutThreshold]})]}),!X.minPayoutThreshold&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helpers must earn at least this amount before payment is processed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Payment Schedule"}),s.jsxs(zr,{value:O,onValueChange:D,children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"weekly",children:"Weekly"}),s.jsx(ut,{value:"biweekly",children:"Bi-weekly"}),s.jsx(ut,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Payment Day"}),s.jsxs(zr,{value:P,onValueChange:E,children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsx($r,{children:O==="weekly"?s.jsxs(s.Fragment,{children:[s.jsx(ut,{value:"monday",children:"Every Monday"}),s.jsx(ut,{value:"tuesday",children:"Every Tuesday"}),s.jsx(ut,{value:"wednesday",children:"Every Wednesday"}),s.jsx(ut,{value:"thursday",children:"Every Thursday"}),s.jsx(ut,{value:"friday",children:"Every Friday"})]}):O==="biweekly"?s.jsxs(s.Fragment,{children:[s.jsx(ut,{value:"1st-15th",children:"1st and 15th of month"}),s.jsx(ut,{value:"monday",children:"Every other Monday"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ut,{value:"1st",children:"1st of month"}),s.jsx(ut,{value:"15th",children:"15th of month"}),s.jsx(ut,{value:"last",children:"Last day of month"})]})})]})]})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Helper Recruitment Settings"}),s.jsx(hn,{children:"Configure helper recruitment rules and referral codes"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Maximum Helpers Per Recruiter"}),s.jsx(lt,{type:"number",value:I===-1?"":I,onChange:me=>M(me.target.value?parseInt(me.target.value):-1),placeholder:"Leave empty for unlimited",min:0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty or enter -1 for unlimited recruitment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Referral Code Prefix"}),s.jsxs("div",{className:"relative",children:[s.jsx(lt,{value:U,onChange:me=>{const Se=me.target.value.toUpperCase();W(Se),Oe("referralCodePrefix",Se)},onBlur:()=>Oe("referralCodePrefix",U),placeholder:"HELP",maxLength:6,className:X.referralCodePrefix?"border-red-500 focus-visible:ring-red-500":""}),X.referralCodePrefix&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",X.referralCodePrefix]})]}),!X.referralCodePrefix&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix for auto-generated referral codes (e.g., HELP001, HELP002)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{children:"Auto-generate Referral Codes"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate unique referral codes for new helpers"})]}),s.jsx(Fn,{checked:Y,onCheckedChange:J})]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Bz,{className:"h-5 w-5"}),"Audit Trail"]}),s.jsx(hn,{children:"Track all changes to commission settings"})]}),s.jsxs(we,{variant:"outline",onClick:()=>{L(!V),V||We()},children:[V?"Hide":"Show"," History"]})]})}),V&&s.jsx(Xe,{children:z.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(Bz,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No audit records yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Changes to commission settings will appear here"})]}):s.jsx("div",{className:"space-y-3",children:z.map(me=>{let Se="",_e="";return me.table_name==="plan_commission"&&me.new_value?.plan_id?(Se=f.find(tt=>tt.id===me.new_value.plan_id)?.name||"Unknown Plan",_e=me.new_value.subscription_type?` - ${me.new_value.subscription_type.charAt(0).toUpperCase()+me.new_value.subscription_type.slice(1)}`:""):me.table_name==="network_commission"&&me.new_value?.subscription_type&&(_e=` - ${me.new_value.subscription_type.charAt(0).toUpperCase()+me.new_value.subscription_type.slice(1)}`),s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${me.action==="created"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":me.action==="updated"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":me.action==="deleted"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:me.action.toUpperCase()}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[me.table_name.replace(/_/g," ").replace(/\b\w/g,Je=>Je.toUpperCase()),Se&&` - "${Se}"${_e}`,!Se&&_e]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Uu,{className:"h-3 w-3"}),new Date(me.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(lv,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:me.changed_by_email||"Unknown User"})]}),me.field_changed&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Field:"})," ",s.jsx("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded",children:me.field_changed})]}),(me.old_value||me.new_value)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[me.old_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Previous Values:"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-3 text-xs space-y-1",children:Object.entries(me.old_value).map(([Je,tt])=>{if(["id","created_at","settings_id","plan_id"].includes(Je))return null;const Ve=Je.split("_").map(ht=>ht.charAt(0).toUpperCase()+ht.slice(1)).join(" ");let Me=tt;if(Je==="commission_model")Me=tt==="onetime"?"One-time":tt==="recurring"?"Recurring":"Hybrid";else if(Je==="subscription_type")Me=tt.charAt(0).toUpperCase()+tt.slice(1);else if(Je.includes("_type")&&(tt==="percentage"||tt==="fixed"))Me=tt==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Je.includes("_value")&&Je.includes("onetime")){const ht=Je.replace("value","type");Me=me.old_value[ht]==="percentage"?`${tt}%`:`${tt}`}else if(Je.includes("_value")&&Je.includes("recurring")){const ht=Je.replace("value","type");Me=me.old_value[ht]==="percentage"?`${tt}%`:`${tt}`}else Je.includes("duration")?Me=`${tt} months`:typeof tt=="boolean"&&(Me=tt?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-red-200 dark:border-red-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Ve,":"]}),s.jsx("span",{className:"font-medium",children:String(Me)})]},Je)})})]}),me.new_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"New Values:"}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3 text-xs space-y-1",children:Object.entries(me.new_value).map(([Je,tt])=>{if(["id","created_at","settings_id","plan_id"].includes(Je))return null;const Ve=Je.split("_").map(ht=>ht.charAt(0).toUpperCase()+ht.slice(1)).join(" ");let Me=tt;if(Je==="commission_model")Me=tt==="onetime"?"One-time":tt==="recurring"?"Recurring":"Hybrid";else if(Je==="subscription_type")Me=tt.charAt(0).toUpperCase()+tt.slice(1);else if(Je.includes("_type")&&(tt==="percentage"||tt==="fixed"))Me=tt==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Je.includes("_value")&&Je.includes("onetime")){const ht=Je.replace("value","type");Me=me.new_value[ht]==="percentage"?`${tt}%`:`${tt}`}else if(Je.includes("_value")&&Je.includes("recurring")){const ht=Je.replace("value","type");Me=me.new_value[ht]==="percentage"?`${tt}%`:`${tt}`}else Je.includes("duration")?Me=`${tt} months`:typeof tt=="boolean"&&(Me=tt?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-green-200 dark:border-green-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Ve,":"]}),s.jsx("span",{className:"font-medium",children:String(Me)})]},Je)})})]})]}),me.change_reason&&s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reason:"})," ",s.jsx("span",{className:"italic",children:me.change_reason})]})]},me.id)})})})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Object.keys(X).length>0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[s.jsx("span",{children:""})," Fix ",Object.keys(X).length," error",Object.keys(X).length>1?"s":""," before saving"]}),s.jsxs(we,{size:"lg",onClick:ye,disabled:n||Object.keys(X).length>0,className:Object.keys(X).length>0?"opacity-50 cursor-not-allowed":"",children:[s.jsx(zu,{className:"h-5 w-5 mr-2"}),n?"Saving...":"Save All Settings"]})]}),s.jsx(ss,{open:Q,onOpenChange:oe,children:s.jsxs(ts,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsxs(is,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(rs,{className:"h-6 w-6 text-green-600"}),"Settings Saved Successfully"]}),s.jsxs(ja,{className:"text-base",children:[ce.commissionModel.length+ce.commissionRates.length+ce.featureToggles.length+ce.paymentSettings.length+ce.recruitmentSettings.length," changes applied to your commission settings"]})]}),s.jsx("div",{className:"mt-6 space-y-6",children:ce.commissionModel.length+ce.commissionRates.length+ce.featureToggles.length+ce.paymentSettings.length+ce.recruitmentSettings.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Cf,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No changes detected"})]}):s.jsxs(s.Fragment,{children:[ne&&(JSON.stringify(i)!==JSON.stringify(ne.networkMonthly)||JSON.stringify(l)!==JSON.stringify(ne.networkYearly))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),ne&&ne.planCommissions&&Object.keys(h).some(me=>{const Se=ne.planCommissions[me];return Se&&JSON.stringify(h[me])!==JSON.stringify(Se)})&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(h).map(me=>{const Se=f.find(tt=>tt.id===me),_e=h[me],Je=ne?.planCommissions?.[me];return!Se||!Je||JSON.stringify(_e)===JSON.stringify(Je)?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:Se.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${_e.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:_e.enabled?"Enabled":"Disabled"})]}),_e.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:_e.monthly.model==="onetime"?"One-time":_e.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(_e.monthly.model==="onetime"||_e.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:_e.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.monthly.onetimeType==="percentage"?`${_e.monthly.onetimeValue}%`:`${_e.monthly.onetimeValue}`})]})]}),(_e.monthly.model==="recurring"||_e.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:_e.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.monthly.recurringType==="percentage"?`${_e.monthly.recurringValue}%`:`${_e.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[_e.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:_e.yearly.model==="onetime"?"One-time":_e.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(_e.yearly.model==="onetime"||_e.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:_e.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.yearly.onetimeType==="percentage"?`${_e.yearly.onetimeValue}%`:`${_e.yearly.onetimeValue}`})]})]}),(_e.yearly.model==="recurring"||_e.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:_e.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.yearly.recurringType==="percentage"?`${_e.yearly.recurringValue}%`:`${_e.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[_e.yearly.recurringDuration," months"]})]})]})]})]})]})]},me)})})]}),(ce.commissionModel.length>0||ce.commissionRates.length>0)&&(!ne||JSON.stringify(i)===JSON.stringify(ne.networkMonthly)&&JSON.stringify(l)===JSON.stringify(ne.networkYearly)&&!Object.keys(h).some(me=>{const Se=ne.planCommissions?.[me];return Se&&JSON.stringify(h[me])!==JSON.stringify(Se)}))&&s.jsxs(s.Fragment,{children:[(ce.commissionModel.some(me=>me.startsWith("Monthly:")||me.startsWith("Yearly:"))||ce.commissionRates.some(me=>me.startsWith("Monthly")||me.startsWith("Yearly")))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),Object.keys(h).filter(me=>{const Se=f.find(_e=>_e.id===me);return Se&&(ce.commissionModel.some(_e=>_e.includes(Se.name))||ce.commissionRates.some(_e=>_e.includes(Se.name))||ce.featureToggles.some(_e=>_e.includes(Se.name)))}).length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(h).map(me=>{const Se=f.find(Je=>Je.id===me),_e=h[me];return!Se||!(ce.commissionModel.some(Je=>Je.includes(Se.name))||ce.commissionRates.some(Je=>Je.includes(Se.name))||ce.featureToggles.some(Je=>Je.includes(Se.name)))?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:Se.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${_e.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:_e.enabled?"Enabled":"Disabled"})]}),_e.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:_e.monthly.model==="onetime"?"One-time":_e.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(_e.monthly.model==="onetime"||_e.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:_e.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.monthly.onetimeType==="percentage"?`${_e.monthly.onetimeValue}%`:`${_e.monthly.onetimeValue}`})]})]}),(_e.monthly.model==="recurring"||_e.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:_e.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.monthly.recurringType==="percentage"?`${_e.monthly.recurringValue}%`:`${_e.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[_e.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:_e.yearly.model==="onetime"?"One-time":_e.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(_e.yearly.model==="onetime"||_e.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:_e.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.yearly.onetimeType==="percentage"?`${_e.yearly.onetimeValue}%`:`${_e.yearly.onetimeValue}`})]})]}),(_e.yearly.model==="recurring"||_e.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:_e.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:_e.yearly.recurringType==="percentage"?`${_e.yearly.recurringValue}%`:`${_e.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[_e.yearly.recurringDuration," months"]})]})]})]})]})]})]},me)})})]})]}),(ce.featureToggles.length>0||ce.paymentSettings.length>0||ce.recruitmentSettings.length>0)&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Other Settings Updated"})}),s.jsxs("div",{className:"p-4 space-y-4",children:[ce.featureToggles.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Feature Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:ce.featureToggles.map((me,Se)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(rs,{className:"h-4 w-4 text-green-600"}),me]},Se))})]}),ce.paymentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Payment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:ce.paymentSettings.map((me,Se)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(rs,{className:"h-4 w-4 text-green-600"}),me]},Se))})]}),ce.recruitmentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Recruitment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:ce.recruitmentSettings.map((me,Se)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(rs,{className:"h-4 w-4 text-green-600"}),me]},Se))})]})]})]})]})}),s.jsx("div",{className:"mt-6 flex justify-end border-t pt-4",children:s.jsx(we,{onClick:()=>oe(!1),size:"lg",children:"Close"})})]})})]})})}const U0t=()=>{const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState(null),[i,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState([]),[h,x]=j.useState({start:"",end:""}),[g,v]=j.useState({applications:!0,approvals:!0,referrals:!0,commissions:!0,payments:!0,networkStats:!0}),[b,_]=j.useState("month");j.useEffect(()=>{w()},[]);const w=async()=>{if(!(sessionStorage.getItem("isSuperAdmin")==="true")){Mt.error("Access denied. Super Admin only."),t("/superadmin/login");return}await N()},N=async()=>{r(!0);try{await Promise.all([S(),C(),A(),R(),O()])}catch(I){console.error("Error loading analytics data:",I),Mt.error("Failed to load analytics data")}finally{r(!1)}},S=async()=>{const{data:I}=await ae.from("helper_applications").select("id, application_status"),M=I?.length||0,U=I?.filter(fe=>fe.application_status==="Pending").length||0,W=I?.filter(fe=>fe.application_status==="Rejected").length||0,{data:Y}=await ae.from("helpers").select("id, status"),J=Y?.length||0,z=Y?.filter(fe=>fe.status==="Active").length||0,q=Y?.filter(fe=>fe.status==="Suspended").length||0,{data:V}=await ae.from("store_referrals").select("id, trial_status, subscription_purchased"),L=V?.length||0,X=V?.filter(fe=>fe.trial_status==="Active").length||0,K=V?.filter(fe=>fe.subscription_purchased===!0).length||0,Q=L>0?K/L*100:0,{data:oe}=await ae.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status, created_at"),ce=oe?.reduce((fe,ye)=>fe+(ye.direct_commission_amount||0)+(ye.network_commission_amount||0),0)||0,de=oe?.reduce((fe,ye)=>fe+(ye.direct_commission_amount||0),0)||0,ne=oe?.reduce((fe,ye)=>fe+(ye.network_commission_amount||0),0)||0,ue=oe?.filter(fe=>fe.commission_status==="Earned-Pending").reduce((fe,ye)=>fe+(ye.direct_commission_amount||0)+(ye.network_commission_amount||0),0)||0,se=xte(new Date),Z=oe?.filter(fe=>fe.commission_status==="Paid"&&new Date(fe.created_at)>=se).reduce((fe,ye)=>fe+(ye.direct_commission_amount||0)+(ye.network_commission_amount||0),0)||0,{data:Oe}=await ae.from("helpers").select("id, recruited_by_helper_id"),re=Oe?.filter(fe=>fe.recruited_by_helper_id)||[],le=new Set(re.map(fe=>fe.recruited_by_helper_id)).size,We=new Map;re.forEach(fe=>{const ye=We.get(fe.recruited_by_helper_id)||0;We.set(fe.recruited_by_helper_id,ye+1)});const xe=We.size>0?Math.max(...Array.from(We.values())):0,Le=le>0?re.length/le:0,ke=oe?.filter(fe=>fe.commission_status==="Paid").reduce((fe,ye)=>fe+(ye.network_commission_amount||0),0)||0;a({helperProgram:{totalApplications:M,pendingApplications:U,approvedHelpers:J,rejectedApplications:W,activeHelpers:z,suspendedHelpers:q},referralPerformance:{totalReferrals:L,onTrial:X,convertedToPaid:K,conversionRate:Q},commissionOverview:{totalEarned:ce,directCommissions:de,networkCommissions:ne,pendingPayment:ue,paidThisMonth:Z},networkGrowth:{totalNetworks:le,largestNetwork:xe,averageNetworkSize:Le,networkCommissionsPaid:ke}})},C=async()=>{const I=[];for(let M=11;M>=0;M--){const U=Wlt(new Date,M),W=xte(U),Y=oge(U),{data:J}=await ae.from("helper_applications").select("id, application_status, created_at").gte("created_at",W.toISOString()).lte("created_at",Y.toISOString()),z=J?.length||0,q=J?.filter(Q=>Q.application_status==="Approved").length||0,V=J?.filter(Q=>Q.application_status==="Rejected").length||0,{data:L}=await ae.from("network_commissions").select("direct_commission_amount, network_commission_amount").gte("date_earned",W.toISOString()).lte("date_earned",Y.toISOString()),X=L?.reduce((Q,oe)=>Q+(oe.direct_commission_amount||0),0)||0,K=L?.reduce((Q,oe)=>Q+(oe.network_commission_amount||0),0)||0;I.push({month:yn(U,"MMM yyyy"),applications:z,approved:q,rejected:V,directCommissions:X,networkCommissions:K,total:X+K})}o(I)},A=async()=>{const{data:I}=await ae.from("helpers").select("id, full_name, created_at");if(!I)return;const U=(await Promise.all(I.map(async W=>{const{data:Y}=await ae.from("store_referrals").select("id").eq("helper_id",W.id),{data:J}=await ae.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",W.id),z=J?.reduce((L,X)=>L+(X.direct_commission_amount||0),0)||0,q=J?.reduce((L,X)=>L+(X.network_commission_amount||0),0)||0,{data:V}=await ae.from("helpers").select("id").eq("recruited_by_helper_id",W.id);return{id:W.id,name:W.full_name,directCommissions:z,referralCount:Y?.length||0,networkSize:V?.length||0,totalEarnings:z+q,joinedDate:W.created_at}}))).sort((W,Y)=>Y.totalEarnings-W.totalEarnings).slice(0,20);c(U)},R=async()=>{const{data:I}=await ae.from("helpers").select("id");if(!I)return;const M=await Promise.all(I.map(async V=>{const{data:L}=await ae.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",V.id);return L?.reduce((X,K)=>X+(K.direct_commission_amount||0)+(K.network_commission_amount||0),0)||0}));M.sort((V,L)=>L-V);const U=M.length,W=Math.ceil(U*.1),Y=Math.ceil(U*.4),J=M.slice(0,W),z=M.slice(W,W+Y),q=M.slice(W+Y);d([{name:"Top 10%",value:J.length,earnings:J.reduce((V,L)=>V+L,0)},{name:"Middle 40%",value:z.length,earnings:z.reduce((V,L)=>V+L,0)},{name:"Bottom 50%",value:q.length,earnings:q.reduce((V,L)=>V+L,0)}])},O=async()=>{const{data:I}=await ae.from("helper_applications").select("id, status"),{data:M}=await ae.from("helpers").select("id"),U=await Promise.all((M||[]).map(async W=>{const{data:Y}=await ae.from("store_referrals").select("id, subscription_purchased").eq("helper_id",W.id),J=Y?.some(q=>q.subscription_purchased===!0),{data:z}=await ae.from("helpers").select("id").eq("recruited_by_helper_id",W.id);return{hasReferrals:(Y?.length||0)>0,hasPaidReferrals:J,hasRecruited:(z?.length||0)>0}}));m([{stage:"Applications Submitted",count:I?.length||0,percentage:100},{stage:"Applications Approved",count:M?.length||0,percentage:I?.length?(M?.length||0)/I.length*100:0},{stage:"Helpers with Referrals",count:U.filter(W=>W.hasReferrals).length,percentage:M?.length?U.filter(W=>W.hasReferrals).length/M.length*100:0},{stage:"Helpers with Paid Referrals",count:U.filter(W=>W.hasPaidReferrals).length,percentage:M?.length?U.filter(W=>W.hasPaidReferrals).length/M.length*100:0},{stage:"Helpers who Recruited",count:U.filter(W=>W.hasRecruited).length,percentage:M?.length?U.filter(W=>W.hasRecruited).length/M.length*100:0}])},D=()=>{try{const I=l.map((Y,J)=>({Rank:J+1,"Helper Name":Y.name,"Helper ID":Y.id,"Direct Commissions":`${Y.directCommissions.toLocaleString()}`,"Referral Count":Y.referralCount,"Network Size":Y.networkSize,"Total Earnings":`${Y.totalEarnings.toLocaleString()}`,"Joined Date":yn(new Date(Y.joinedDate),"PPP")})),M=Qi.json_to_sheet(I),U=Qi.book_new();Qi.book_append_sheet(U,M,"Top Performers");const W=`top_helpers_${yn(new Date,"yyyy-MM-dd")}.xlsx`;Ev(U,W),Mt.success("Report exported successfully!")}catch{Mt.error("Failed to export report")}},P=()=>{if(!h.start||!h.end){Mt.error("Please select date range");return}Mt.success("Custom report generated!")},E=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return e?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ov,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reports & Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive insights into helper program performance"})]}),s.jsx(er,{variant:"default",className:"text-sm px-3 py-1",children:"Super Admin"})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[s.jsx(Ho,{className:"h-5 w-5 text-blue-500"}),"Helper Program Stats"]})}),s.jsxs(Xe,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total applications:"}),s.jsx("span",{className:"font-semibold",children:n?.helperProgram.totalApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:n?.helperProgram.pendingApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.approvedHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rejected:"}),s.jsx("span",{className:"font-semibold text-red-600",children:n?.helperProgram.rejectedApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.activeHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Suspended:"}),s.jsx("span",{className:"font-semibold text-orange-600",children:n?.helperProgram.suspendedHelpers})]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[s.jsx(MI,{className:"h-5 w-5 text-green-500"}),"Referral Performance"]})}),s.jsxs(Xe,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total referrals:"}),s.jsx("span",{className:"font-semibold",children:n?.referralPerformance.totalReferrals})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Currently on trial:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:n?.referralPerformance.onTrial})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Converted to paid:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.referralPerformance.convertedToPaid})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversion rate:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[n?.referralPerformance.conversionRate.toFixed(1),"%"]})]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5 text-green-500"}),"Commission Overview"]})}),s.jsxs(Xe,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total earned:"}),s.jsxs("span",{className:"font-bold",children:["",n?.commissionOverview.totalEarned.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Direct:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Network:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending payment:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid this month:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[s.jsx(RI,{className:"h-5 w-5 text-purple-500"}),"Network Growth"]})}),s.jsxs(Xe,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest network:"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[n?.networkGrowth.largestNetwork," helpers"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Network commissions:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Performance Charts"}),s.jsx(hn,{children:"Visual representation of key metrics over time"})]}),s.jsx(Xe,{children:s.jsxs(Wf,{defaultValue:"applications",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4",children:[s.jsx(Un,{value:"applications",children:"Applications"}),s.jsx(Un,{value:"commissions",children:"Commissions"}),s.jsx(Un,{value:"distribution",children:"Distribution"}),s.jsx(Un,{value:"funnel",children:"Funnel"})]}),s.jsx(zn,{value:"applications",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications Over Time"}),s.jsx(F2,{width:"100%",height:400,children:s.jsxs(XM,{data:i,children:[s.jsx(yN,{strokeDasharray:"3 3"}),s.jsx(hg,{dataKey:"month"}),s.jsx(mg,{}),s.jsx(Bc,{}),s.jsx(z0,{}),s.jsx(ku,{dataKey:"applications",fill:"#8884d8",name:"Total Applications"}),s.jsx(ku,{dataKey:"approved",fill:"#82ca9d",name:"Approved"}),s.jsx(ku,{dataKey:"rejected",fill:"#ff8042",name:"Rejected"})]})})]})}),s.jsx(zn,{value:"commissions",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Commission Payouts"}),s.jsx(F2,{width:"100%",height:400,children:s.jsxs(XM,{data:i,children:[s.jsx(yN,{strokeDasharray:"3 3"}),s.jsx(hg,{dataKey:"month"}),s.jsx(mg,{}),s.jsx(Bc,{}),s.jsx(z0,{}),s.jsx(ku,{dataKey:"directCommissions",fill:"#0088FE",name:"Direct Commissions"}),s.jsx(ku,{dataKey:"networkCommissions",fill:"#00C49F",name:"Network Commissions"}),s.jsx(ku,{dataKey:"total",fill:"#FFBB28",name:"Total"})]})})]})}),s.jsx(zn,{value:"distribution",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Helper Performance Distribution"}),s.jsx(F2,{width:"100%",height:400,children:s.jsxs(mot,{children:[s.jsx(Ep,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:I=>`${I.name}: ${I.value} helpers`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:u.map((I,M)=>s.jsx(UE,{fill:E[M%E.length]},`cell-${M}`))}),s.jsx(Bc,{})]})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:u.map((I,M)=>s.jsx(He,{children:s.jsxs(Xe,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:E[M%E.length]}}),s.jsx("span",{className:"font-semibold",children:I.name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.value," helpers"]}),s.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",I.earnings?.toLocaleString()," earned"]})]})},M))})]})}),s.jsx(zn,{value:"funnel",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conversion Funnel"}),s.jsx("div",{className:"space-y-3",children:f.map((I,M)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-semibold",children:I.stage}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.percentage.toFixed(1),"%"]}),s.jsx("span",{className:"font-bold",children:I.count})]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-8 relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-full flex items-center justify-center text-white text-sm font-semibold transition-all",style:{width:`${I.percentage}%`},children:I.percentage>20&&`${I.count} helpers`})})]},M))})]})})]})})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Detailed Reports"}),s.jsx(hn,{children:"In-depth analysis and performance reports"})]}),s.jsx(Xe,{children:s.jsxs(Wf,{defaultValue:"top-performers",children:[s.jsxs(Bd,{className:"grid w-full grid-cols-4",children:[s.jsx(Un,{value:"top-performers",children:"Top Performers"}),s.jsx(Un,{value:"network",children:"Network Analytics"}),s.jsx(Un,{value:"payments",children:"Payment Reports"}),s.jsx(Un,{value:"applications",children:"Applications"})]}),s.jsxs(zn,{value:"top-performers",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Top 20 Performing Helpers"}),s.jsxs(we,{onClick:D,children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{className:"w-16",children:"Rank"}),s.jsx(At,{children:"Helper Name"}),s.jsx(At,{children:"Direct Commissions"}),s.jsx(At,{children:"Referral Count"}),s.jsx(At,{children:"Network Size"}),s.jsx(At,{children:"Total Earnings"}),s.jsx(At,{children:"Joined Date"})]})}),s.jsx(Qa,{children:l.map((I,M)=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsxs(er,{variant:M<3?"default":"secondary",children:["#",M+1]})}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:I.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:I.id})]})}),s.jsxs(_t,{className:"font-semibold",children:["",I.directCommissions.toLocaleString()]}),s.jsx(_t,{children:I.referralCount}),s.jsx(_t,{children:I.networkSize}),s.jsxs(_t,{className:"font-bold text-green-600",children:["",I.totalEarnings.toLocaleString()]}),s.jsx(_t,{className:"text-sm text-muted-foreground",children:yn(new Date(I.joinedDate),"PP")})]},I.id))})]})})]}),s.jsxs(zn,{value:"network",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Helper Network Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Network Distribution"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average Size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.largestNetwork})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Network Commissions"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Paid:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Growth Metrics"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active Recruiters:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Recruitment Rate:"}),s.jsxs("span",{className:"font-semibold",children:[n?.helperProgram.approvedHelpers&&n?.networkGrowth.totalNetworks?(n.networkGrowth.totalNetworks/n.helperProgram.approvedHelpers*100).toFixed(1):0,"%"]})]})]})})]})]})]}),s.jsxs(zn,{value:"payments",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Reports"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Commission Type Breakdown"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Direct Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.directCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Network Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.networkCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Payment Status"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Paid This Month"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Pending Payment"}),s.jsxs("span",{className:"font-bold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]})]})]}),s.jsxs(zn,{value:"applications",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Application Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Total Applications"})}),s.jsx(Xe,{children:s.jsx("p",{className:"text-3xl font-bold",children:n?.helperProgram.totalApplications})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Approval Rate"})}),s.jsx(Xe,{children:s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.approvedHelpers/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Rejection Rate"})}),s.jsx(Xe,{children:s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.rejectedApplications/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-base",children:"Pending Review"})}),s.jsx(Xe,{children:s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?.helperProgram.pendingApplications})})]})]})]})]})})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Custom Report Builder"}),s.jsx(hn,{children:"Generate custom reports based on your requirements"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Start Date"}),s.jsx("input",{type:"date",value:h.start,onChange:I=>x({...h,start:I.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"End Date"}),s.jsx("input",{type:"date",value:h.end,onChange:I=>x({...h,end:I.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Select Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{id:"metric-applications",checked:g.applications,onCheckedChange:I=>v({...g,applications:I})}),s.jsx("label",{htmlFor:"metric-applications",className:"text-sm",children:"Applications"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{id:"metric-approvals",checked:g.approvals,onCheckedChange:I=>v({...g,approvals:I})}),s.jsx("label",{htmlFor:"metric-approvals",className:"text-sm",children:"Approvals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{id:"metric-referrals",checked:g.referrals,onCheckedChange:I=>v({...g,referrals:I})}),s.jsx("label",{htmlFor:"metric-referrals",className:"text-sm",children:"Referrals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{id:"metric-commissions",checked:g.commissions,onCheckedChange:I=>v({...g,commissions:I})}),s.jsx("label",{htmlFor:"metric-commissions",className:"text-sm",children:"Commissions"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{id:"metric-payments",checked:g.payments,onCheckedChange:I=>v({...g,payments:I})}),s.jsx("label",{htmlFor:"metric-payments",className:"text-sm",children:"Payments"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{id:"metric-network",checked:g.networkStats,onCheckedChange:I=>v({...g,networkStats:I})}),s.jsx("label",{htmlFor:"metric-network",className:"text-sm",children:"Network Stats"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Group By"}),s.jsxs(zr,{value:b,onValueChange:_,children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"day",children:"By Day"}),s.jsx(ut,{value:"week",children:"By Week"}),s.jsx(ut,{value:"month",children:"By Month"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(we,{onClick:P,className:"flex-1",children:[s.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export to Excel"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export to PDF"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})]})]})]})]})]})},z0t=Hv({name:gs().min(1,"Name is required"),slug:gs().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase with hyphens only"),description:gs().optional(),monthly_price:l0.number().min(0,"Price must be 0 or greater"),yearly_price:l0.number().min(0,"Price must be 0 or greater").optional(),max_products:l0.number().optional(),enable_whatsapp_orders:hh().default(!1),whatsapp_orders_limit:l0.number().optional(),enable_website_orders:hh().default(!1),website_orders_limit:l0.number().optional(),trial_days:l0.number().min(0).default(14),is_active:hh().default(!0),is_popular:hh().default(!1),badge_text:gs().optional(),badge_color:gs().optional(),display_order:l0.number().default(0),enable_location_sharing:hh().default(!1),enable_analytics:hh().default(!1),enable_custom_domain:hh().default(!1),enable_order_emails:hh().default(!1),enable_ai_voice:hh().default(!1),google_reviews_calls_limit:l0.number().min(0).default(15),google_reviews_period:fE(["monthly","yearly"]).default("monthly")}),q0t=({open:t,onOpenChange:e,onSubmit:r,defaultValues:n,mode:a})=>{const i=QN({resolver:eS(z0t),defaultValues:{name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"}});j.useEffect(()=>{t&&n?i.reset(n):t&&!n&&i.reset({name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"})},[t,n,i]);const o=async l=>{await r(l),i.reset()};return s.jsx(ss,{open:t,onOpenChange:e,children:s.jsxs(ts,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsx(is,{children:a==="add"?"Add New Plan":"Edit Plan"}),s.jsx(ja,{children:a==="add"?"Create a new subscription plan with custom features.":"Update the subscription plan details and features."})]}),s.jsx(tS,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Basic Information"}),s.jsx(pn,{control:i.control,name:"name",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Plan Name"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"e.g., Free, Pro, Business",...l})}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"slug",render:({field:l})=>s.jsxs(un,{children:[s.jsxs(gn,{className:"flex items-center gap-2",children:["Slug",s.jsx(Tx,{children:s.jsxs(w1,{children:[s.jsx(_1,{asChild:!0,children:s.jsx(Cf,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ox,{children:s.jsx("p",{className:"max-w-xs",children:"Unique identifier used in URLs and code. Must be lowercase with hyphens only."})})]})})]}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"e.g., free, pro, business",...l})}),s.jsx(tl,{children:"Lowercase letters, numbers, and hyphens only"}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"description",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Description"}),s.jsx(dn,{children:s.jsx(Ii,{placeholder:"Brief description of the plan",...l,value:l.value||""})}),s.jsx($n,{})]})})]}),s.jsx(Ax,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(pn,{control:i.control,name:"monthly_price",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Monthly Price ()"}),s.jsx(dn,{children:s.jsx(lt,{type:"number",placeholder:"0",...l})}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"yearly_price",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Yearly Price ()"}),s.jsx(dn,{children:s.jsx(lt,{type:"number",placeholder:"0",...l,value:l.value||""})}),s.jsx($n,{})]})})]})]}),s.jsx(Ax,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Limits & Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(pn,{control:i.control,name:"max_products",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Max Products"}),s.jsx(dn,{children:s.jsx(lt,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(tl,{children:"Empty = Unlimited"}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"trial_days",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Trial Days"}),s.jsx(dn,{children:s.jsx(lt,{type:"number",...l})}),s.jsx($n,{})]})})]}),s.jsx(pn,{control:i.control,name:"display_order",render:({field:l})=>s.jsxs(un,{children:[s.jsxs(gn,{className:"flex items-center gap-2",children:["Display Order",s.jsx(Tx,{children:s.jsxs(w1,{children:[s.jsx(_1,{asChild:!0,children:s.jsx(Cf,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ox,{children:s.jsx("p",{className:"max-w-xs",children:"Controls the order in which plans appear on the pricing page. Lower numbers (0, 1, 2...) appear first."})})]})})]}),s.jsx(dn,{children:s.jsx(lt,{type:"number",...l})}),s.jsx(tl,{children:"Lower numbers appear first"}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"enable_whatsapp_orders",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"WhatsApp Orders Limit"}),s.jsx(tl,{children:"Set a monthly limit for WhatsApp orders"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_whatsapp_orders")&&s.jsx(pn,{control:i.control,name:"whatsapp_orders_limit",render:({field:l})=>s.jsxs(un,{children:[s.jsxs(gn,{className:"flex items-center gap-2",children:["WhatsApp Orders per Month",s.jsx(Tx,{children:s.jsxs(w1,{children:[s.jsx(_1,{asChild:!0,children:s.jsx(Cf,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ox,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via WhatsApp per billing period."})})]})})]}),s.jsx(dn,{children:s.jsx(lt,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(tl,{children:"Empty = Unlimited"}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"enable_website_orders",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"Website Orders Limit"}),s.jsx(tl,{children:"Set a monthly limit for website orders"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_website_orders")&&s.jsx(pn,{control:i.control,name:"website_orders_limit",render:({field:l})=>s.jsxs(un,{children:[s.jsxs(gn,{className:"flex items-center gap-2",children:["Website Orders per Month",s.jsx(Tx,{children:s.jsxs(w1,{children:[s.jsx(_1,{asChild:!0,children:s.jsx(Cf,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ox,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via website per billing period."})})]})})]}),s.jsx(dn,{children:s.jsx(lt,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(tl,{children:"Empty = Unlimited"}),s.jsx($n,{})]})})]}),s.jsx(Ax,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Features"}),s.jsx(pn,{control:i.control,name:"enable_location_sharing",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"Location Sharing"}),s.jsx(tl,{children:"Allow users to share delivery locations"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(pn,{control:i.control,name:"enable_analytics",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"Analytics"}),s.jsx(tl,{children:"Access to analytics dashboard and reports"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(pn,{control:i.control,name:"enable_custom_domain",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"Custom Domain"}),s.jsx(tl,{children:"Allow store owners to connect their own domain"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(pn,{control:i.control,name:"enable_order_emails",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"Order Email Notifications"}),s.jsx(tl,{children:"Send email notifications to store owners when new orders arrive"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(pn,{control:i.control,name:"enable_ai_voice",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"AI Voice Assistant"}),s.jsx(tl,{children:"Allow store owners to add ElevenLabs AI voice embed code"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsx(Ax,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Google Reviews API Quota"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(pn,{control:i.control,name:"google_reviews_calls_limit",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"API Calls Limit"}),s.jsx(dn,{children:s.jsx(lt,{type:"number",placeholder:"15",...l})}),s.jsx(tl,{children:"Number of API calls allowed per period"}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"google_reviews_period",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Period"}),s.jsx(dn,{children:s.jsxs("select",{className:"w-full h-10 px-3 rounded-md border border-input bg-background",...l,children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"})]})}),s.jsx(tl,{children:"Quota reset period"}),s.jsx($n,{})]})})]})]}),s.jsx(Ax,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Badge & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(pn,{control:i.control,name:"badge_text",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Badge Text"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"e.g., Most Popular",...l,value:l.value||""})}),s.jsx($n,{})]})}),s.jsx(pn,{control:i.control,name:"badge_color",render:({field:l})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Badge Color"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"e.g., blue, green",...l,value:l.value||""})}),s.jsx($n,{})]})})]}),s.jsx(pn,{control:i.control,name:"is_popular",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"Mark as Popular"}),s.jsx(tl,{children:"Highlight this plan with a special border"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(pn,{control:i.control,name:"is_active",render:({field:l})=>s.jsxs(un,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(gn,{className:"text-base",children:"Active"}),s.jsx(tl,{children:"Make this plan available to users"})]}),s.jsx(dn,{children:s.jsx(Fn,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(we,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),s.jsx(we,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Saving...":a==="add"?"Create Plan":"Update Plan"})]})]})})]})})},V0t=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState([]),[a,i]=j.useState(!0),[o,l]=j.useState(!1),[c,u]=j.useState("add"),[d,f]=j.useState(null),[m,h]=j.useState(!1),[x,g]=j.useState(null),[v,b]=j.useState(0),[_,w]=j.useState(!1);j.useEffect(()=>{(async()=>{const{data:{user:E}}=await ae.auth.getUser();if(!E&&!sessionStorage.getItem("superadmin_session")){t("/superadmin/login");return}if(E){const{data:I}=await ae.from("user_roles").select("role").eq("user_id",E.id).eq("role","super_admin");if(!I||I.length===0){t("/superadmin/login");return}}N()})()},[t]);const N=async()=>{try{const{data:P,error:E}=await ae.from("subscription_plans").select("*").order("display_order");if(E)throw E;n(P||[])}catch{e({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{i(!1)}},S=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P),C=()=>{u("add"),f(null),l(!0)},A=P=>{u("edit");const E={...P,enable_whatsapp_orders:P.whatsapp_orders_limit!==null,enable_website_orders:P.website_orders_limit!==null};f(E),l(!0)},R=async P=>{g(P),w(!0),h(!0);try{const{count:E,error:I}=await ae.from("subscriptions").select("*",{count:"exact",head:!0}).eq("plan_id",P).in("status",["active","trial"]);if(I)throw I;b(E||0)}catch(E){console.error("Error checking active subscribers:",E),b(0)}finally{w(!1)}},O=async()=>{if(x){if(v>0){e({title:"Cannot Delete Plan",description:`This plan has ${v} active subscriber${v>1?"s":""}. Please deactivate the plan instead or migrate users to another plan first.`,variant:"destructive"}),h(!1),g(null);return}try{const{error:P}=await ae.from("subscription_plans").delete().eq("id",x);if(P)throw P;n(r.filter(E=>E.id!==x)),e({title:"Success",description:"Plan deleted successfully"})}catch{e({title:"Error",description:"Failed to delete plan",variant:"destructive"}),N()}finally{h(!1),g(null),b(0)}}},D=async P=>{try{const E={...P,whatsapp_orders_limit:P.enable_whatsapp_orders?P.whatsapp_orders_limit||0:null,website_orders_limit:P.enable_website_orders?P.website_orders_limit||0:null};if(delete E.enable_whatsapp_orders,delete E.enable_website_orders,c==="add"){const{data:I,error:M}=await ae.from("subscription_plans").insert([E]).select().single();if(M)throw M;n([...r,I]),e({title:"Success",description:"Plan created successfully"})}else if(d){const{data:I,error:M}=await ae.from("subscription_plans").update(E).eq("id",d.id).select().single();if(M)throw M;n(r.map(U=>U.id===d.id?I:U)),e({title:"Success",description:"Plan updated successfully"})}l(!1)}catch{e({title:"Error",description:`Failed to ${c} plan`,variant:"destructive"}),N()}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Plans"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscription plans and pricing"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(we,{onClick:C,children:[s.jsx(Yo,{className:"mr-2 h-4 w-4"}),"Add Plan"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading plans..."}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(P=>s.jsxs(He,{className:P.is_popular?"border-primary":"",children:[s.jsxs(jt,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Nt,{children:P.name}),s.jsx(hn,{className:"mt-2",children:P.description})]}),P.is_popular&&s.jsx(er,{variant:"default",children:"Popular"})]}),P.badge_text&&s.jsx(er,{variant:"outline",className:"w-fit",children:P.badge_text})]}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold",children:S(P.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"}),P.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[S(P.yearly_price),"/year"]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:["Max Products: ",P.max_products===0||P.max_products===null?"Unlimited":P.max_products]}),s.jsxs("p",{children:["WhatsApp Orders: ",P.whatsapp_orders_limit===0||P.whatsapp_orders_limit===null?"Unlimited":P.whatsapp_orders_limit]}),s.jsxs("p",{children:["Website Orders: ",P.website_orders_limit===0||P.website_orders_limit===null?"Unlimited":P.website_orders_limit]}),s.jsxs("p",{children:["Status: ",P.is_active?"Active":"Inactive"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[P.enable_location_sharing&&s.jsx(er,{variant:"secondary",children:"Location"}),P.enable_analytics&&s.jsx(er,{variant:"secondary",children:"Analytics"}),P.enable_custom_domain&&s.jsx(er,{variant:"secondary",children:"Custom Domain"}),P.enable_ai_voice&&s.jsx(er,{variant:"secondary",children:"AI Voice"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(we,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>A(P),children:[s.jsx(Lf,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(we,{variant:"outline",size:"sm",onClick:()=>R(P.id),children:s.jsx(Ds,{className:"h-4 w-4"})})]})]})})]},P.id))})}),s.jsx(q0t,{open:o,onOpenChange:l,onSubmit:D,mode:c,defaultValues:d||void 0}),s.jsx(ng,{open:m,onOpenChange:h,children:s.jsxs(lp,{children:[s.jsxs(cp,{children:[s.jsx(dp,{children:_?"Checking Active Subscribers...":"Delete Subscription Plan"}),s.jsx(fp,{className:"space-y-3",children:_?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{children:"Checking for active subscribers..."})]}):s.jsx(s.Fragment,{children:v>0?s.jsxs("div",{className:"rounded-lg border-2 border-destructive bg-destructive/10 p-4",children:[s.jsx("p",{className:"font-semibold text-destructive",children:" Cannot Delete This Plan"}),s.jsxs("p",{className:"mt-2 text-sm",children:["This plan currently has"," ",s.jsx("span",{className:"font-bold",children:v})," ","active subscriber",v>1?"s":"","."]}),s.jsxs("p",{className:"mt-2 text-sm",children:[s.jsx("strong",{children:"Recommended:"}),' Use the "Active" toggle to deactivate this plan instead. This will hide it from new users while keeping existing subscriptions working.']})]}):s.jsxs("div",{className:"rounded-lg border border-green-500 bg-green-50 p-4 dark:bg-green-950",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Safe to Delete"}),s.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["This plan has ",s.jsx("span",{className:"font-bold",children:"0 active subscribers"}),"."]}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this subscription plan? This action cannot be undone."})]})})})]}),s.jsxs(up,{children:[s.jsx(ag,{children:"Cancel"}),s.jsx(sg,{onClick:O,disabled:_||v>0,className:v>0?"bg-gray-400 hover:bg-gray-400":"bg-destructive hover:bg-destructive/90",children:v>0?"Cannot Delete":"Delete Plan"})]})]})})]})},W0t=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState([]),[a,i]=j.useState(!0);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:m}}=await ae.auth.getUser();if(!m){t("/superadmin/login");return}const{data:h}=await ae.from("user_roles").select("role").eq("user_id",m.id).eq("role","super_admin");if(!h||h.length===0){t("/superadmin/login");return}o()})()},[t]);const o=async()=>{try{const{data:d,error:f}=await ae.from("transactions").select("*").order("created_at",{ascending:!1});if(f)throw f;const m=[...new Set(d?.map(g=>g.user_id)||[])],{data:h}=await ae.from("profiles").select("user_id, email, full_name").in("user_id",m),x=d?.map(g=>({...g,profiles:h?.find(v=>v.user_id===g.user_id)||{email:"",full_name:""}}))||[];n(x)}catch{e({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{i(!1)}},l=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),c=d=>new Date(d).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=d=>{const f={completed:"default",pending:"secondary",failed:"destructive"};return s.jsx(er,{variant:f[d]||"secondary",children:d})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Transactions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View all payment transactions"})]}),s.jsx(dl,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading transactions..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Invoice"}),s.jsx(At,{children:"User"}),s.jsx(At,{children:"Amount"}),s.jsx(At,{children:"Gateway"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Date"})]})}),s.jsx(Qa,{children:r.length===0?s.jsx(rn,{children:s.jsx(_t,{colSpan:6,className:"text-center text-muted-foreground",children:"No transactions found"})}):r.map(d=>s.jsxs(rn,{children:[s.jsx(_t,{className:"font-medium",children:d.invoice_number||"N/A"}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.profiles?.email})]})}),s.jsx(_t,{children:l(d.total_amount)}),s.jsx(_t,{children:d.payment_gateway}),s.jsx(_t,{children:u(d.status)}),s.jsx(_t,{children:c(d.created_at)})]},d.id))})]})})})]})};function H0t(){const t=en(),[e,r]=j.useState(!0),[n,a]=j.useState({totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[i,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState(""),[h,x]=j.useState("all"),[g,v]=j.useState("30"),[b,_]=j.useState(!1);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){w();return}const{data:{user:E}}=await ae.auth.getUser();if(!E){et({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),t("/superadmin/login");return}const{data:I}=await ae.from("user_roles").select("role").eq("user_id",E.id).eq("role","super_admin");if(!I||I.length===0){et({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),t("/superadmin/login");return}w()})()},[t]);const w=async()=>{try{r(!0);const{data:D,error:P}=await ae.from("subscriptions").select(`
          id,
          user_id,
          plan_id,
          status,
          billing_cycle,
          created_at,
          current_period_end,
          trial_ends_at,
          subscription_plans (
            name,
            monthly_price,
            yearly_price
          )
        `).order("created_at",{ascending:!1});if(P)throw P;const E=[...new Set(D?.map(se=>se.user_id)||[])],{data:I}=await ae.from("profiles").select("user_id, email, full_name").in("user_id",E),M=D?.map(se=>({...se,profiles:I?.find(Z=>Z.user_id===se.user_id)||{email:"",full_name:null}}))||[];o(M);const U=M.filter(se=>se.status==="pending_payment");d(U);const{data:W,error:Y}=await ae.from("transactions").select("*").order("created_at",{ascending:!1}).limit(100);if(Y)throw Y;const J=[...new Set(W?.map(se=>se.user_id)||[])],{data:z}=await ae.from("profiles").select("user_id, email, full_name").in("user_id",J),q=W?.map(se=>({...se,profiles:z?.find(Z=>Z.user_id===se.user_id)||{email:"",full_name:null}}))||[];c(q);const V=new Date,L=new Date(V.getTime()-720*60*60*1e3),X=new Date(V.getTime()-1440*60*60*1e3),K=q.filter(se=>se.status==="success"||se.status==="completed").reduce((se,Z)=>se+(Z.total_amount||0),0),Q=q.filter(se=>(se.status==="success"||se.status==="completed")&&new Date(se.created_at)>=L).reduce((se,Z)=>se+(Z.total_amount||0),0),oe=q.filter(se=>(se.status==="success"||se.status==="completed")&&new Date(se.created_at)>=X&&new Date(se.created_at)<L).reduce((se,Z)=>se+(Z.total_amount||0),0),ce=oe>0?(Q-oe)/oe*100:0,de=M.filter(se=>se.status==="active").length,ne=U.length,ue=q.filter(se=>se.status==="failed").length;a({totalRevenue:K,monthlyRevenue:Q,revenueGrowth:ce,activeSubscriptions:de,pendingPayments:ne,failedPayments:ue})}catch(D){et({title:"Error",description:D.message,variant:"destructive"})}finally{r(!1)}},N=async()=>{try{_(!0);const D=new Date(Date.now()-1440*60*1e3),{error:P}=await ae.from("subscriptions").delete().eq("status","pending_payment").lt("created_at",D.toISOString());if(P)throw P;et({title:"Success",description:"Old pending payments cleaned up successfully"}),w()}catch(D){et({title:"Error",description:D.message,variant:"destructive"})}finally{_(!1)}},S=async()=>{try{const D=await Oh(()=>Promise.resolve().then(()=>Cfe),void 0),P=C.map(M=>({Invoice:M.invoice_number||"N/A","User Email":M.profiles?.email||"N/A","User Name":M.profiles?.full_name||"N/A",Amount:`${M.total_amount}`,Gateway:M.payment_gateway,Method:M.payment_method||"N/A",Status:M.status,Date:new Date(M.created_at).toLocaleString()})),E=D.utils.json_to_sheet(P),I=D.utils.book_new();D.utils.book_append_sheet(I,E,"Transactions"),D.writeFile(I,`transactions_${new Date().toISOString().split("T")[0]}.xlsx`),et({title:"Success",description:`Exported ${P.length} transactions`})}catch(D){et({title:"Error",description:D.message,variant:"destructive"})}},C=l.filter(D=>{const P=D.profiles?.email?.toLowerCase().includes(f.toLowerCase())||D.invoice_number?.toLowerCase().includes(f.toLowerCase()),E=h==="all"||D.status===h,I=parseInt(g),M=new Date(Date.now()-I*24*60*60*1e3),U=new Date(D.created_at)>=M;return P&&E&&U}),A=i.filter(D=>{const P=D.profiles?.email?.toLowerCase().includes(f.toLowerCase())||D.subscription_plans?.name?.toLowerCase().includes(f.toLowerCase()),E=h==="all"||D.status===h;return P&&E}),R=D=>{const E={success:{variant:"default",icon:fi,label:"Success"},completed:{variant:"default",icon:fi,label:"Completed"},pending:{variant:"secondary",icon:Xa,label:"Pending"},pending_payment:{variant:"outline",icon:hi,label:"Pending Payment"},failed:{variant:"destructive",icon:ma,label:"Failed"},active:{variant:"default",icon:fi,label:"Active"},trial:{variant:"secondary",icon:Xa,label:"Trial"},expired:{variant:"destructive",icon:ma,label:"Expired"},cancelled:{variant:"outline",icon:ma,label:"Cancelled"}}[D]||{variant:"secondary",icon:Xa,label:D},I=E.icon;return s.jsxs(er,{variant:E.variant,className:"flex items-center gap-1 w-fit",children:[s.jsx(I,{className:"w-3 h-3"}),E.label]})},O=D=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(D);return e?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(No,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Loading billing data..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card sticky top-0 z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Billing & Revenue"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscriptions, transactions, and revenue"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dl,{}),s.jsxs(we,{variant:"outline",onClick:w,children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O(n.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Monthly Revenue"}),s.jsx($l,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O(n.monthlyRevenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.revenueGrowth>=0?"+":"",n.revenueGrowth.toFixed(1),"% from last month"]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.activeSubscriptions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Pending Payments"}),s.jsx(hi,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.pendingPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Failed Payments"}),s.jsx(ma,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.failedPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unsuccessful transactions"})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium",children:"Total Subscriptions"}),s.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscriptions"})]})]})]}),n.pendingPayments>0&&s.jsxs(He,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[s.jsxs(jt,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-5 w-5 text-orange-500"}),s.jsxs(Nt,{className:"text-orange-700 dark:text-orange-300",children:[n.pendingPayments," Pending Payment",n.pendingPayments>1?"s":""]})]}),s.jsxs(we,{variant:"destructive",size:"sm",onClick:N,disabled:b,children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),b?"Cleaning...":"Clean Old (>24h)"]})]}),s.jsx(hn,{className:"text-orange-600 dark:text-orange-400",children:"These subscriptions are awaiting payment. Old pending payments (>24 hours) are automatically cleaned up every hour."})]}),u.length>0&&s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-2",children:[u.slice(0,5).map(D=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:D.profiles?.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.subscription_plans?.name," - ",O(D.billing_cycle==="yearly"&&D.subscription_plans?.yearly_price?D.subscription_plans.yearly_price:D.subscription_plans?.monthly_price||0)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:db(new Date(D.created_at),{addSuffix:!0})})})]},D.id)),u.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",u.length-5," more pending"]})]})})]}),s.jsxs(Wf,{defaultValue:"transactions",className:"w-full",children:[s.jsxs(Bd,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsx(Un,{value:"transactions",children:"Transactions"}),s.jsx(Un,{value:"subscriptions",children:"Subscriptions"})]}),s.jsx(zn,{value:"transactions",className:"space-y-4",children:s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Nt,{children:"Transaction History"}),s.jsx(hn,{children:"View and manage all payment transactions"})]}),s.jsxs(we,{variant:"outline",onClick:S,children:[s.jsx(ll,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(lt,{placeholder:"Search by email or invoice...",value:f,onChange:D=>m(D.target.value),className:"pl-10"})]}),s.jsxs(zr,{value:h,onValueChange:x,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Status"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"success",children:"Success"}),s.jsx(ut,{value:"completed",children:"Completed"}),s.jsx(ut,{value:"pending",children:"Pending"}),s.jsx(ut,{value:"failed",children:"Failed"})]})]}),s.jsxs(zr,{value:g,onValueChange:v,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Date Range"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"7",children:"Last 7 days"}),s.jsx(ut,{value:"30",children:"Last 30 days"}),s.jsx(ut,{value:"90",children:"Last 90 days"}),s.jsx(ut,{value:"365",children:"Last year"}),s.jsx(ut,{value:"9999",children:"All time"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Invoice"}),s.jsx(At,{children:"User"}),s.jsx(At,{children:"Amount"}),s.jsx(At,{children:"Gateway"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Date"})]})}),s.jsx(Qa,{children:C.length===0?s.jsx(rn,{children:s.jsx(_t,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No transactions found"})}):C.map(D=>s.jsxs(rn,{children:[s.jsx(_t,{className:"font-medium",children:D.invoice_number||"N/A"}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:D.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.profiles?.email})]})}),s.jsx(_t,{className:"font-medium",children:O(D.total_amount)}),s.jsx(_t,{children:s.jsx(er,{variant:"outline",children:D.payment_gateway})}),s.jsx(_t,{children:R(D.status)}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(D.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:db(new Date(D.created_at),{addSuffix:!0})})]})})]},D.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",C.length," of ",l.length," transactions"]})]})]})}),s.jsx(zn,{value:"subscriptions",className:"space-y-4",children:s.jsxs(He,{children:[s.jsx(jt,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(Nt,{children:"All Subscriptions"}),s.jsx(hn,{children:"Manage all user subscriptions"})]})})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(lt,{placeholder:"Search by email or plan...",value:f,onChange:D=>m(D.target.value),className:"pl-10"})]}),s.jsxs(zr,{value:h,onValueChange:x,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Status"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"active",children:"Active"}),s.jsx(ut,{value:"trial",children:"Trial"}),s.jsx(ut,{value:"pending_payment",children:"Pending Payment"}),s.jsx(ut,{value:"expired",children:"Expired"}),s.jsx(ut,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"User"}),s.jsx(At,{children:"Plan"}),s.jsx(At,{children:"Amount"}),s.jsx(At,{children:"Billing Cycle"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Period End"})]})}),s.jsx(Qa,{children:A.length===0?s.jsx(rn,{children:s.jsx(_t,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No subscriptions found"})}):A.map(D=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:D.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.profiles?.email})]})}),s.jsx(_t,{children:s.jsx(er,{variant:"outline",children:D.subscription_plans?.name})}),s.jsx(_t,{className:"font-medium",children:O(D.billing_cycle==="yearly"&&D.subscription_plans?.yearly_price?D.subscription_plans.yearly_price:D.subscription_plans?.monthly_price||0)}),s.jsx(_t,{children:s.jsx(er,{variant:"secondary",children:D.billing_cycle})}),s.jsx(_t,{children:R(D.status)}),s.jsx(_t,{children:D.current_period_end?s.jsxs("div",{children:[s.jsx("p",{children:new Date(D.current_period_end).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:db(new Date(D.current_period_end),{addSuffix:!0})})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},D.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",A.length," of ",i.length," subscriptions"]})]})]})})]})]})]})}const G0t=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState([]),[a,i]=j.useState(!0);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:u}}=await ae.auth.getUser();if(!u){t("/superadmin/login");return}const{data:d}=await ae.from("user_roles").select("role").eq("user_id",u.id).eq("role","super_admin");if(!d||d.length===0){t("/superadmin/login");return}o()})()},[t]);const o=async()=>{try{const{data:l,error:c}=await ae.from("stores").select("id, name, slug, custom_domain, user_id").not("custom_domain","is",null).order("name");if(c)throw c;const u=[...new Set(l?.map(m=>m.user_id)||[])],{data:d}=await ae.from("profiles").select("user_id, email, full_name").in("user_id",u),f=l?.map(m=>({id:m.id,name:m.name,slug:m.slug,custom_domain:m.custom_domain,profiles:d?.find(h=>h.user_id===m.user_id)||{email:"",full_name:""}}))||[];n(f)}catch{e({title:"Error",description:"Failed to load custom domains",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Custom Domains"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage custom domains for stores"})]}),s.jsx(dl,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading domains..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Store"}),s.jsx(At,{children:"Owner"}),s.jsx(At,{children:"Domain"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Actions"})]})}),s.jsx(Qa,{children:r.length===0?s.jsx(rn,{children:s.jsx(_t,{colSpan:5,className:"text-center text-muted-foreground",children:"No custom domains found"})}):r.map(l=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.slug})]})}),s.jsx(_t,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.profiles?.email})]})}),s.jsx(_t,{children:s.jsxs("a",{href:`https://${l.custom_domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[l.custom_domain,s.jsx(zo,{className:"h-3 w-3"})]})}),s.jsx(_t,{children:s.jsx(er,{variant:"default",children:"Active"})}),s.jsx(_t,{children:s.jsx(we,{variant:"outline",size:"sm",onClick:()=>e({title:"Coming soon",description:"Domain management features"}),children:"Manage"})})]},l.id))})]})})})]})},nne="00000000-0000-0000-0000-000000000000",Y0t=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState({sender_email:"",sender_name:"",platform_name:"",auto_cleanup_orders:!1,orders_cleanup_months:6,auto_cleanup_active_logs:!1,active_logs_cleanup_months:6,auto_cleanup_inactive_logs:!1,inactive_logs_cleanup_months:6,razorpay_key_id:"",razorpay_key_secret:"",razorpay_test_mode:!1,openrouter_api_key:"",openrouter_model:"",openrouter_fallback_model:""}),[a,i]=j.useState(!1),[o,l]=j.useState(!0),[c,u]=j.useState(!1),[d,f]=j.useState([]),[m,h]=j.useState(""),[x,g]=j.useState(""),[v,b]=j.useState(""),[_,w]=j.useState(""),[N,S]=j.useState(!1),[C,A]=j.useState(!1);j.useEffect(()=>{const P=async()=>{if(sessionStorage.getItem("superadmin_session")){await Promise.all([E(),I()]);return}const{data:{user:U}}=await ae.auth.getUser();if(!U){t("/superadmin/login");return}const{data:W}=await ae.from("user_roles").select("role").eq("user_id",U.id).eq("role","super_admin");!W||W.length===0?t("/superadmin/login"):await Promise.all([E(),I()])},E=async()=>{const{data:M}=await ae.from("subscription_plans").select("*").eq("is_active",!0).order("display_order");if(M){f(M);const U=M.find(W=>W.is_default_plan);U&&h(U.id)}},I=async()=>{try{const{data:M,error:U}=await ae.from("platform_settings").select("*").eq("id",nne).single();if(U)throw U;M&&n({sender_email:M.sender_email||"",sender_name:M.sender_name||"",platform_name:M.platform_name||"",auto_cleanup_orders:M.auto_cleanup_orders||!1,orders_cleanup_months:M.orders_cleanup_months||6,auto_cleanup_active_logs:M.auto_cleanup_active_logs||!1,active_logs_cleanup_months:M.active_logs_cleanup_months||6,auto_cleanup_inactive_logs:M.auto_cleanup_inactive_logs||!1,inactive_logs_cleanup_months:M.inactive_logs_cleanup_months||6,razorpay_key_id:M.razorpay_key_id||"",razorpay_key_secret:M.razorpay_key_secret||"",razorpay_test_mode:M.razorpay_test_mode||!1,openrouter_api_key:M.openrouter_api_key||"",openrouter_model:M.openrouter_model||"",openrouter_fallback_model:M.openrouter_fallback_model||""})}catch(M){console.error("Error loading settings:",M),e({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{l(!1)}};P()},[t,e]);const R=async()=>{i(!0);try{const{error:P}=await ae.from("platform_settings").update({sender_email:r.sender_email,sender_name:r.sender_name,platform_name:r.platform_name,auto_cleanup_orders:r.auto_cleanup_orders,orders_cleanup_months:r.orders_cleanup_months,auto_cleanup_active_logs:r.auto_cleanup_active_logs,active_logs_cleanup_months:r.active_logs_cleanup_months,auto_cleanup_inactive_logs:r.auto_cleanup_inactive_logs,inactive_logs_cleanup_months:r.inactive_logs_cleanup_months,razorpay_key_id:r.razorpay_key_id,razorpay_key_secret:r.razorpay_key_secret,razorpay_test_mode:r.razorpay_test_mode,openrouter_api_key:r.openrouter_api_key,openrouter_model:r.openrouter_model,openrouter_fallback_model:r.openrouter_fallback_model}).eq("id",nne);if(P)throw P;m&&(await ae.from("subscription_plans").update({is_default_plan:!1}).neq("id",m),await ae.from("subscription_plans").update({is_default_plan:!0}).eq("id",m)),e({title:"Settings saved",description:"Platform settings have been updated successfully."})}catch(P){console.error("Save error:",P),e({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{i(!1)}},O=async P=>{u(!0);try{const E={ordersMonths:9999,activeLogsMonths:9999,inactiveLogsMonths:9999,cleanupOrders:P==="all"||P==="orders",cleanupActiveLogs:P==="all"||P==="activeLogs",cleanupInactiveLogs:P==="all"||P==="inactiveLogs"},{data:I,error:M}=await ae.functions.invoke("cleanup-old-orders",{body:E});if(M)throw M;const U=[];I.results.orders?.deleted&&U.push(`${I.results.orders.deleted} orders`),I.results.activeLogs?.deleted&&U.push(`${I.results.activeLogs.deleted} active logs`),I.results.inactiveLogs?.deleted&&U.push(`${I.results.inactiveLogs.deleted} inactive logs`),e({title:"Cleanup completed",description:`Successfully deleted: ${U.join(", ")}`})}catch(E){e({title:"Cleanup failed",description:E.message||"Failed to cleanup data.",variant:"destructive"})}finally{u(!1)}},D=async()=>{if(!x||!v||!_){e({title:"Validation Error",description:"All fields are required",variant:"destructive"});return}if(v!==_){e({title:"Validation Error",description:"New password and confirm password do not match",variant:"destructive"});return}if(v.length<8){e({title:"Validation Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}S(!0);try{const{data:{user:P}}=await ae.auth.getUser();if(!P?.email)throw new Error("User not authenticated");const{error:E}=await ae.auth.signInWithPassword({email:P.email,password:x});if(E)throw new Error("Current password is incorrect");const{error:I}=await ae.auth.updateUser({password:v});if(I)throw I;g(""),b(""),w(""),e({title:"Password Changed",description:"Your password has been updated successfully"})}catch(P){e({title:"Error",description:P.message||"Failed to change password",variant:"destructive"})}finally{S(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Platform Settings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-wide settings"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(we,{onClick:R,disabled:a,children:[s.jsx(zu,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Email Settings"}),s.jsx(hn,{children:"Configure the sender information for emails sent to users"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"senderEmail",children:"Sender Email"}),s.jsx(lt,{id:"senderEmail",type:"email",placeholder:"onboarding@resend.dev",value:r.sender_email,onChange:P=>n({...r,sender_email:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This email will be used as the sender when sending emails to users"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"senderName",children:"Sender Name"}),s.jsx(lt,{id:"senderName",type:"text",placeholder:"Super Admin",value:r.sender_name,onChange:P=>n({...r,sender_name:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'The name that will appear in the "From" field of emails'})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"General Settings"}),s.jsx(hn,{children:"Configure general platform settings"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"platformName",children:"Platform Name"}),s.jsx(lt,{id:"platformName",type:"text",placeholder:"Vendy Platform",value:r.platform_name,onChange:P=>n({...r,platform_name:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The name of your platform"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"defaultPlan",children:"Default Subscription Plan"}),s.jsxs(zr,{value:m,onValueChange:h,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Select default plan for new stores"})}),s.jsx($r,{children:d.map(P=>s.jsxs(ut,{value:P.id,children:[P.name," - ",P.monthly_price>0?`${P.monthly_price}/mo`:"Free"]},P.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This plan will be automatically assigned to new store owners"})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Account Security"}),s.jsx(hn,{children:"Change your super admin password"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(lt,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:x,onChange:P=>g(P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"newPassword",children:"New Password"}),s.jsx(lt,{id:"newPassword",type:"password",placeholder:"Enter new password (min 8 characters)",value:v,onChange:P=>b(P.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(lt,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:_,onChange:P=>w(P.target.value)})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(we,{onClick:D,disabled:N||!x||!v||!_,className:"w-full",children:[s.jsx(_0,{className:"mr-2 h-4 w-4"}),N?"Changing Password...":"Change Password"]})})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Razorpay Payment Gateway"}),s.jsx(hn,{children:"Configure Razorpay API credentials for subscription payments"})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"razorpayKeyId",children:"Razorpay API Key ID"}),s.jsx(lt,{id:"razorpayKeyId",type:"text",placeholder:"rzp_live_xxxxxxxxxxxxxx or rzp_test_xxxxxxxxxxxxxx",value:r.razorpay_key_id,onChange:P=>n({...r,razorpay_key_id:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key ID (starts with rzp_live_ for production or rzp_test_ for testing)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"razorpayKeySecret",children:"Razorpay API Key Secret"}),s.jsx(lt,{id:"razorpayKeySecret",type:"password",placeholder:"Enter your Razorpay Key Secret",value:r.razorpay_key_secret,onChange:P=>n({...r,razorpay_key_secret:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key Secret (keep this secure and never share)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{htmlFor:"razorpayTestMode",children:"Test Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable only if using test credentials (rzp_test_)"})]}),s.jsx(Fn,{id:"razorpayTestMode",checked:r.razorpay_test_mode,onCheckedChange:P=>n({...r,razorpay_test_mode:P})})]}),s.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-foreground",children:[s.jsx("strong",{children:" Production Credentials:"})," Use your LIVE Razorpay credentials (rzp_live_) to accept real payments. These credentials will process actual subscription payments from store owners. Keep them secure and ensure your Razorpay account is properly configured with bank details."]})})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"AI Designer  OpenRouter API"}),s.jsx(hn,{children:"API key for AI Designer (Kimi K2.5 via OpenRouter). Used server-side only."})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"openrouterApiKey",children:"OpenRouter API Key"}),s.jsx(lt,{id:"openrouterApiKey",type:"password",placeholder:"sk-or-v1-...",value:r.openrouter_api_key,onChange:P=>n({...r,openrouter_api_key:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get your API key from openrouter.ai/keys  stored securely, never exposed to clients."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"openrouterModel",children:"Primary AI Model ID"}),s.jsx(lt,{id:"openrouterModel",type:"text",placeholder:"moonshotai/kimi-k2",value:r.openrouter_model,onChange:P=>n({...r,openrouter_model:P.target.value})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Primary OpenRouter model ID for AI Designer (e.g. ",s.jsx("span",{className:"font-mono",children:"moonshotai/kimi-k2"}),"). Find model IDs at openrouter.ai/models."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"openrouterFallbackModel",children:"Secondary Fallback Model ID"}),s.jsx(lt,{id:"openrouterFallbackModel",type:"text",placeholder:"openai/gpt-4o",value:r.openrouter_fallback_model,onChange:P=>n({...r,openrouter_fallback_model:P.target.value})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Fallback model if primary fails (e.g. ",s.jsx("span",{className:"font-mono",children:"openai/gpt-4o"}),"). Leave blank for no fallback."]})]})]})]}),s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Data Cleanup Management"}),s.jsx(hn,{children:"Configure automatic cleanup settings and manually clean data"})]}),s.jsx(Xe,{children:s.jsxs(q5,{open:C,onOpenChange:A,children:[s.jsx(V5,{asChild:!0,children:s.jsxs(we,{variant:"outline",className:"w-full justify-between mb-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4"}),C?"Hide Cleanup Settings":"Show Cleanup Settings"]}),C?s.jsx(Lne,{className:"h-4 w-4"}):s.jsx(Jm,{className:"h-4 w-4"})]})}),s.jsxs(W5,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Orders Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{htmlFor:"autoCleanupOrders",children:"Auto Cleanup Orders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old orders"})]}),s.jsx(Fn,{id:"autoCleanupOrders",checked:r.auto_cleanup_orders,onCheckedChange:P=>n({...r,auto_cleanup_orders:P})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"ordersCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(lt,{id:"ordersCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.orders_cleanup_months,onChange:P=>n({...r,orders_cleanup_months:parseInt(P.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete orders older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Active Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{htmlFor:"autoCleanupActiveLogs",children:"Auto Cleanup Active Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old active store logs"})]}),s.jsx(Fn,{id:"autoCleanupActiveLogs",checked:r.auto_cleanup_active_logs,onCheckedChange:P=>n({...r,auto_cleanup_active_logs:P})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"activeLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(lt,{id:"activeLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.active_logs_cleanup_months,onChange:P=>n({...r,active_logs_cleanup_months:parseInt(P.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete active logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Inactive Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Be,{htmlFor:"autoCleanupInactiveLogs",children:"Auto Cleanup Inactive Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old inactive store logs"})]}),s.jsx(Fn,{id:"autoCleanupInactiveLogs",checked:r.auto_cleanup_inactive_logs,onCheckedChange:P=>n({...r,auto_cleanup_inactive_logs:P})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"inactiveLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(lt,{id:"inactiveLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.inactive_logs_cleanup_months,onChange:P=>n({...r,inactive_logs_cleanup_months:parseInt(P.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete inactive logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Manual Cleanup Actions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a cleanup action to execute immediately"}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"destructive",className:"w-full",disabled:c,children:[s.jsx(Ds,{className:"mr-2 h-4 w-4"}),c?"Cleaning up...":"Select Cleanup Action",s.jsx(Jm,{className:"ml-2 h-4 w-4"})]})}),s.jsxs(Md,{className:"w-full",align:"center",children:[s.jsxs(es,{onClick:()=>O("orders"),disabled:c||!r.auto_cleanup_orders,className:"cursor-pointer",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Cleanup Orders Only"]}),s.jsxs(es,{onClick:()=>O("activeLogs"),disabled:c||!r.auto_cleanup_active_logs,className:"cursor-pointer",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Cleanup Active Logs Only"]}),s.jsxs(es,{onClick:()=>O("inactiveLogs"),disabled:c||!r.auto_cleanup_inactive_logs,className:"cursor-pointer",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Cleanup Inactive Logs Only"]}),s.jsxs(es,{onClick:()=>O("all"),disabled:c||!r.auto_cleanup_orders||!r.auto_cleanup_active_logs||!r.auto_cleanup_inactive_logs,className:"cursor-pointer text-destructive",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Cleanup All Data"]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable the corresponding auto-cleanup toggle above to activate each cleanup action"})]})]})]})})]})]})})]})},K0t="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",X0t="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google";function J0t(){const[t,e]=j.useState(!1),[r,n]=j.useState([]),[a,i]=j.useState(!1),[o,l]=j.useState([]),{toast:c}=ga(),u=async()=>{try{e(!0),n([]),c({title:"Submitting sitemaps...",description:"This may take a few minutes for all stores."});const{data:{session:f}}=await ae.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const h=await(await fetch(K0t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(h.success)n(h.results),c({title:"Sitemaps submitted!",description:`Successfully processed ${h.processed} stores.`});else throw new Error(h.error||"Failed to submit sitemaps")}catch(f){console.error("Error submitting sitemaps:",f),c({title:"Error",description:f.message||"Failed to submit sitemaps",variant:"destructive"})}finally{e(!1)}},d=async()=>{try{i(!0),l([]),c({title:"Indexing URLs...",description:"Submitting URLs to Google for immediate indexing. This may take a few minutes."});const{data:{session:f}}=await ae.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const h=await(await fetch(X0t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(h.success)l(h.results),c({title:"URLs indexed!",description:`Successfully: ${h.successful} | Failed: ${h.failed} | Total: ${h.processed}`});else throw new Error(h.error||"Failed to index URLs")}catch(f){console.error("Error indexing URLs:",f),c({title:"Error",description:f.message||"Failed to index URLs",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Google Search Console Sitemap Manager"}),s.jsx(hn,{children:"Automatically submit sitemaps for all stores to Google Search Console"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool will automatically submit sitemaps for all stores with subdomains or custom domains to Google Search Console. New stores will automatically get their sitemaps submitted."}),s.jsx(we,{onClick:u,disabled:t,className:"w-full",children:t?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Sitemaps..."]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{className:"mr-2 h-4 w-4"}),"Submit All Sitemaps to Google"]})})]}),r.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Submission Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:f.domain}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:f.sitemapUrl}),f.message&&s.jsx("p",{className:"text-xs mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(fi,{className:"h-5 w-5 text-green-500"}):s.jsx(ma,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Automatically submits sitemaps when new stores are created"}),s.jsx("li",{children:"Automatically re-submits when subdomain or custom domain changes"}),s.jsx("li",{children:"Uses Google Search Console API for instant submission"}),s.jsx("li",{children:"No manual work needed for each store"}),s.jsx("li",{children:"Tracks submission status in database"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Create Google Cloud Project"}),s.jsx("li",{children:"Enable Google Search Console API"}),s.jsx("li",{children:"Create Service Account and download JSON key"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase environment variables:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]})]})]}),s.jsxs(He,{className:"mt-6",children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Google Indexing API - Immediate URL Indexing"}),s.jsx(hn,{children:"Submit URLs for immediate indexing in Google Search (faster than sitemap submission)"})]}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool uses the Google Web Search Indexing API to request immediate indexing of store homepages only. Unlike sitemaps which can take days or weeks, this API can get your pages indexed within hours."}),s.jsx(we,{onClick:d,disabled:a,className:"w-full",variant:"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}),"Indexing URLs..."]}):s.jsxs(s.Fragment,{children:[s.jsx(EA,{className:"mr-2 h-4 w-4"}),"Index All URLs to Google"]})})]}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Indexing Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:o.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:f.url}),f.message&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(fi,{className:"h-5 w-5 text-green-500"}):s.jsx(ma,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Submits URLs directly to Google for immediate indexing"}),s.jsx("li",{children:"Much faster than sitemap submission (hours vs days/weeks)"}),s.jsx("li",{children:"Indexes only store homepages (not product pages)"}),s.jsx("li",{children:"Processes up to 20 stores at a time to avoid rate limits"}),s.jsx("li",{children:"Rate limited to prevent API quota issues"})]})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Enable Google Web Search Indexing API in Google Cloud"}),s.jsx("li",{children:"Create Service Account for indexing"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase secrets:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-amber-800",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-700 space-y-1 list-disc list-inside mt-2",children:[s.jsx("li",{children:"This is for immediate indexing of important updates"}),s.jsx("li",{children:"Google has daily quotas - use wisely for critical pages"}),s.jsx("li",{children:"Sitemap submission is still important for comprehensive crawling"}),s.jsx("li",{children:"Don't spam this - Google may penalize excessive usage"})]})]})]})]})]})}const Z0t=[{value:"Truck",label:"Truck (Shipping)",icon:Of},{value:"BarChart3",label:"Chart (Analytics)",icon:ov},{value:"MessageSquare",label:"Chat (Live Chat)",icon:IN},{value:"Mail",label:"Mail (Email)",icon:Mf},{value:"Target",label:"Target (Ads)",icon:AA},{value:"Package",label:"Package (Default)",icon:aa}],Q0t=t=>({Truck:Of,BarChart3:ov,MessageSquare:IN,Mail:Mf,Target:AA,Package:aa})[t]||aa,egt=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState([]),[a,i]=j.useState(!0),[o,l]=j.useState(!1),[c,u]=j.useState("add"),[d,f]=j.useState(null),[m,h]=j.useState(!1),[x,g]=j.useState(null),[v,b]=j.useState(!1),[_,w]=j.useState({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:0,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"});j.useEffect(()=>{(async()=>{const{data:{user:P}}=await ae.auth.getUser();if(!P&&!sessionStorage.getItem("superadmin_session")){t("/superadmin/login");return}if(P){const{data:E}=await ae.from("user_roles").select("role").eq("user_id",P.id).eq("role","super_admin");if(!E||E.length===0){t("/superadmin/login");return}}N()})()},[t]);const N=async()=>{try{const{data:D,error:P}=await ae.from("marketplace_features").select("*").order("menu_order");if(P)throw P;n(D||[])}catch{e({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{i(!1)}},S=()=>{u("add"),f(null),w({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:r.length+1,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"}),l(!0)},C=D=>{u("edit"),f(D),w({name:D.name,slug:D.slug,description:D.description||"",icon:D.icon,is_free:D.is_free,price:D.price,is_active:D.is_active,menu_order:D.menu_order,pricing_model:D.pricing_model||"onetime",price_onetime:D.price_onetime||0,price_monthly:D.price_monthly||0,price_yearly:D.price_yearly||0,quota_onetime:D.quota_onetime||15,quota_monthly:D.quota_monthly||30,quota_yearly:D.quota_yearly||50,quota_period:D.quota_period||"monthly"}),l(!0)},A=async()=>{if(!_.name||!_.slug){e({title:"Error",description:"Name and slug are required",variant:"destructive"});return}b(!0);try{if(c==="add"){const{error:D}=await ae.from("marketplace_features").insert({name:_.name,slug:_.slug.toLowerCase().replace(/\s+/g,"-"),description:_.description,icon:_.icon,is_free:_.is_free,price:_.is_free?0:_.price,is_active:_.is_active,menu_order:_.menu_order,pricing_model:_.pricing_model,price_onetime:_.price_onetime,price_monthly:_.price_monthly,price_yearly:_.price_yearly,quota_onetime:_.quota_onetime,quota_monthly:_.quota_monthly,quota_yearly:_.quota_yearly,quota_period:_.quota_period});if(D)throw D;e({title:"Success",description:"Feature added to marketplace"})}else{const{error:D}=await ae.from("marketplace_features").update({name:_.name,slug:_.slug.toLowerCase().replace(/\s+/g,"-"),description:_.description,icon:_.icon,is_free:_.is_free,price:_.is_free?0:_.price,is_active:_.is_active,menu_order:_.menu_order,pricing_model:_.pricing_model,price_onetime:_.price_onetime,price_monthly:_.price_monthly,price_yearly:_.price_yearly,quota_onetime:_.quota_onetime,quota_monthly:_.quota_monthly,quota_yearly:_.quota_yearly,quota_period:_.quota_period}).eq("id",d?.id);if(D)throw D;e({title:"Success",description:"Feature updated successfully"})}l(!1),N()}catch(D){e({title:"Error",description:D.message||"Failed to save feature",variant:"destructive"})}finally{b(!1)}},R=async()=>{if(x)try{const{error:D}=await ae.from("marketplace_features").delete().eq("id",x);if(D)throw D;e({title:"Success",description:"Feature deleted from marketplace"}),h(!1),g(null),N()}catch(D){e({title:"Error",description:D.message||"Failed to delete feature",variant:"destructive"})}},O=D=>D.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Marketplace Features"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage features available to store owners"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dl,{}),s.jsxs(we,{onClick:S,children:[s.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?s.jsx(He,{children:s.jsxs(Xe,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(aa,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No features yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first marketplace feature"}),s.jsxs(we,{onClick:S,children:[s.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(D=>{const P=Q0t(D.icon);return s.jsxs(He,{className:D.is_active?"":"opacity-60",children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(P,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Nt,{className:"text-lg",children:D.name}),s.jsx("code",{className:"text-xs text-muted-foreground",children:D.slug})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(we,{variant:"ghost",size:"icon",onClick:()=>C(D),children:s.jsx(Lf,{className:"h-4 w-4"})}),s.jsx(we,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{g(D.id),h(!0)},children:s.jsx(Ds,{className:"h-4 w-4"})})]})]})}),s.jsxs(Xe,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:D.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[D.is_free?s.jsx(er,{variant:"secondary",children:"Free"}):s.jsxs(er,{variant:"default",children:["",D.price]}),D.is_active?s.jsx(er,{variant:"outline",className:"text-green-600 border-green-600",children:"Active"}):s.jsx(er,{variant:"outline",className:"text-red-600 border-red-600",children:"Inactive"})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Order: ",D.menu_order]})]})]})]},D.id)})})}),s.jsx(ss,{open:o,onOpenChange:l,children:s.jsxs(ts,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(as,{children:[s.jsx(is,{children:c==="add"?"Add Feature":"Edit Feature"}),s.jsx(ja,{children:c==="add"?"Add a new feature to the marketplace":"Update feature details"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"name",children:"Feature Name"}),s.jsx(lt,{id:"name",value:_.name,onChange:D=>{w({..._,name:D.target.value,slug:c==="add"?O(D.target.value):_.slug})},placeholder:"e.g., Shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"slug",children:"Slug (URL identifier)"}),s.jsx(lt,{id:"slug",value:_.slug,onChange:D=>w({..._,slug:D.target.value}),placeholder:"e.g., shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"description",children:"Description"}),s.jsx(Ii,{id:"description",value:_.description,onChange:D=>w({..._,description:D.target.value}),placeholder:"Describe what this feature does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"icon",children:"Icon"}),s.jsxs(zr,{value:_.icon,onValueChange:D=>w({..._,icon:D}),children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Select an icon"})}),s.jsx($r,{children:Z0t.map(D=>{const P=D.icon;return s.jsx(ut,{value:D.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{className:"h-4 w-4"}),D.label]})},D.value)})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Be,{htmlFor:"is_free",children:"Free Feature"}),s.jsx(Fn,{id:"is_free",checked:_.is_free,onCheckedChange:D=>w({..._,is_free:D})})]}),!_.is_free&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"price",children:"Price ()"}),s.jsx(lt,{id:"price",type:"number",value:_.price,onChange:D=>w({..._,price:parseFloat(D.target.value)||0}),placeholder:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Be,{htmlFor:"is_active",children:"Active"}),s.jsx(Fn,{id:"is_active",checked:_.is_active,onCheckedChange:D=>w({..._,is_active:D})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"menu_order",children:"Menu Order"}),s.jsx(lt,{id:"menu_order",type:"number",value:_.menu_order,onChange:D=>w({..._,menu_order:parseInt(D.target.value)||0}),placeholder:"1"})]}),_.slug==="google-reviews"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Google Reviews Pricing & API Quota"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"pricing_model",children:"Pricing Model"}),s.jsxs(zr,{value:_.pricing_model,onValueChange:D=>w({..._,pricing_model:D}),children:[s.jsx(Lr,{children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"onetime",children:"One-time Only"}),s.jsx(ut,{value:"monthly",children:"Monthly Only"}),s.jsx(ut,{value:"yearly",children:"Yearly Only"}),s.jsx(ut,{value:"mixed",children:"Mixed (All Options)"})]})]})]}),(_.pricing_model==="onetime"||_.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"price_onetime",children:"One-time Price ()"}),s.jsx(lt,{id:"price_onetime",type:"number",value:_.price_onetime,onChange:D=>w({..._,price_onetime:parseFloat(D.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"quota_onetime",children:"API Calls/Month"}),s.jsx(lt,{id:"quota_onetime",type:"number",value:_.quota_onetime,onChange:D=>w({..._,quota_onetime:parseInt(D.target.value)||0})})]})]}),(_.pricing_model==="monthly"||_.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"price_monthly",children:"Monthly Price ()"}),s.jsx(lt,{id:"price_monthly",type:"number",value:_.price_monthly,onChange:D=>w({..._,price_monthly:parseFloat(D.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"quota_monthly",children:"API Calls/Month"}),s.jsx(lt,{id:"quota_monthly",type:"number",value:_.quota_monthly,onChange:D=>w({..._,quota_monthly:parseInt(D.target.value)||0})})]})]}),(_.pricing_model==="yearly"||_.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"price_yearly",children:"Yearly Price ()"}),s.jsx(lt,{id:"price_yearly",type:"number",value:_.price_yearly,onChange:D=>w({..._,price_yearly:parseFloat(D.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"quota_yearly",children:"API Calls/Month"}),s.jsx(lt,{id:"quota_yearly",type:"number",value:_.quota_yearly,onChange:D=>w({..._,quota_yearly:parseInt(D.target.value)||0})})]})]})]})})]}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(we,{onClick:A,disabled:v,children:[v&&s.jsx(pr,{className:"h-4 w-4 mr-2 animate-spin"}),c==="add"?"Add Feature":"Save Changes"]})]})]})}),s.jsx(ng,{open:m,onOpenChange:h,children:s.jsxs(lp,{children:[s.jsxs(cp,{children:[s.jsx(dp,{children:"Delete Feature?"}),s.jsx(fp,{children:"This will remove the feature from the marketplace. Store owners who have enabled this feature will lose access."})]}),s.jsxs(up,{children:[s.jsx(ag,{children:"Cancel"}),s.jsx(sg,{onClick:R,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})};function tgt(){const[t,e]=j.useState(!1),[r,n]=j.useState(!1),a=zd();return j.useEffect(()=>{(async()=>{console.log("[SuperAdminGuard] Checking session...");try{const{data:{session:o}}=await ae.auth.getSession();if(o?.user){console.log("[SuperAdminGuard] Current user:",o.user.id);const{data:c}=await ae.from("user_roles").select("role").eq("user_id",o.user.id).eq("role","super_admin").maybeSingle();if(c){console.log("[SuperAdminGuard] Valid superadmin session found"),n(!0),e(!0);return}}const l=localStorage.getItem("superadmin_session");if(console.log("[SuperAdminGuard] Stored session found:",!!l),l)try{const c=JSON.parse(l);if(!c.access_token||!c.refresh_token){console.warn("[SuperAdminGuard] Invalid stored session structure"),localStorage.removeItem("superadmin_session"),n(!1),e(!0);return}const u=c.saved_at||0,d=(Date.now()-u)/(1e3*60*60);if(d>24){console.warn("[SuperAdminGuard] Stored session too old:",d,"hours"),localStorage.removeItem("superadmin_session"),n(!1),e(!0);return}console.log("[SuperAdminGuard] Restoring superadmin session...");const{error:f}=await ae.auth.setSession({access_token:c.access_token,refresh_token:c.refresh_token});if(f){console.error("[SuperAdminGuard] Session restoration failed:",f),localStorage.removeItem("superadmin_session"),n(!1),e(!0);return}localStorage.removeItem("superadmin_session"),await new Promise(h=>setTimeout(h,100));const{data:{session:m}}=await ae.auth.getSession();if(m?.user){const{data:h}=await ae.from("user_roles").select("role").eq("user_id",m.user.id).eq("role","super_admin").maybeSingle();if(h){console.log("[SuperAdminGuard] Session restored and verified successfully"),n(!0),e(!0);return}}console.warn("[SuperAdminGuard] Restored session is not superadmin"),n(!1),e(!0);return}catch(c){console.error("[SuperAdminGuard] Error during restoration:",c),localStorage.removeItem("superadmin_session"),n(!1),e(!0);return}console.log("[SuperAdminGuard] No valid superadmin session"),n(!1),e(!0)}catch(o){console.error("[SuperAdminGuard] Unexpected error:",o),n(!1),e(!0)}})()},[a.key]),t?r?s.jsx(MNe,{}):s.jsx(FNe,{to:"/superadmin/login",replace:!0}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Restoring admin session..."})]})})}function rc({children:t}){const e=en(),r=zd(),[n,a]=j.useState(!0),[i,o]=j.useState("Super Admin");j.useEffect(()=>{(async()=>{const d=sessionStorage.getItem("superadmin_session");if(d){const x=JSON.parse(d);o(x.fullName);return}const{data:{user:f}}=await ae.auth.getUser();if(!f){e("/superadmin/login");return}const{data:m}=await ae.from("user_roles").select("role").eq("user_id",f.id).eq("role","super_admin");if(!m||m.length===0){et({title:"Access Denied",description:"You need super admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:h}=await ae.from("profiles").select("full_name, email").eq("user_id",f.id).single();o(h?.full_name||h?.email||f.email||"Super Admin")})()},[e]);const l=()=>{sessionStorage.removeItem("superadmin_session"),localStorage.removeItem("superadmin_remember"),et({title:"Logged Out",description:"You have been logged out successfully"}),e("/superadmin/login")},c=[{name:"Dashboard",href:"/superadmin/dashboard",icon:Bne,current:r.pathname==="/superadmin/dashboard"},{name:"Users & Stores",href:"/superadmin/users",icon:Ho,current:r.pathname==="/superadmin/users"},{name:"Helper Management",href:"/superadmin/helpers",icon:Ho,current:r.pathname==="/superadmin/helpers"},{name:"Commission Management",href:"/superadmin/commissions",icon:yo,current:r.pathname==="/superadmin/commissions"},{name:"Commission Settings",href:"/superadmin/commission-settings",icon:vo,current:r.pathname==="/superadmin/commission-settings"},{name:"Reports & Analytics",href:"/superadmin/reports-analytics",icon:ov,current:r.pathname==="/superadmin/reports-analytics"},{name:"Subscription Plans",href:"/superadmin/subscription-plans",icon:Ks,current:r.pathname==="/superadmin/subscription-plans"},{name:"Transactions",href:"/superadmin/transactions",icon:yo,current:r.pathname==="/superadmin/transactions"},{name:"Billing & Revenue",href:"/superadmin/billing",icon:Ks,current:r.pathname==="/superadmin/billing"},{name:"Custom Domains",href:"/superadmin/custom-domains",icon:Y0,current:r.pathname==="/superadmin/custom-domains"},{name:"SEO & Sitemaps",href:"/superadmin/sitemaps",icon:Eh,current:r.pathname==="/superadmin/sitemaps"},{name:"Marketplace",href:"/superadmin/marketplace",icon:aa,current:r.pathname==="/superadmin/marketplace"},{name:"AI Token Pricing",href:"/superadmin/ai-token-pricing",icon:dw,current:r.pathname==="/superadmin/ai-token-pricing"},{name:"AI Designer Analytics",href:"/superadmin/ai-designer-analytics",icon:ov,current:r.pathname==="/superadmin/ai-designer-analytics"},{name:"Platform Settings",href:"/superadmin/settings",icon:vo,current:r.pathname==="/superadmin/settings"}];return s.jsxs("div",{className:"min-h-screen bg-background",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>a(!n),className:"p-2 hover:bg-muted rounded-lg transition-colors","aria-label":"Toggle menu",children:s.jsx(RN,{className:"w-6 h-6"})}),s.jsx(bp,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"YourPlatform - Super Admin"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden md:inline",children:i})]})}),s.jsxs(Md,{align:"end",className:"w-56",children:[s.jsxs(es,{onClick:()=>window.open("/","_blank"),children:[s.jsx(Y0,{className:"mr-2 h-4 w-4"}),"View Platform Site"]}),s.jsxs(es,{children:[s.jsx(vo,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Vv,{}),s.jsxs(es,{onClick:l,className:"text-destructive",children:[s.jsx(Bv,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:`
            fixed inset-y-0 left-0 top-16 z-50 w-64 bg-card border-r min-h-screen p-4
            transform transition-transform duration-300 ease-out shadow-xl
            ${n?"translate-x-0":"-translate-x-full"}
          `,children:s.jsx("nav",{className:"space-y-2",children:c.map(u=>s.jsxs(we,{variant:u.current?"default":"ghost",className:"w-full justify-start",onClick:()=>{e(u.href),window.innerWidth<1024&&a(!1)},children:[s.jsx(u.icon,{className:"mr-2 h-4 w-4"}),u.name]},u.name))})}),s.jsx("main",{className:`
            flex-1 min-h-screen transition-all duration-300 ease-out
            ${n?"ml-64":"ml-0"}
          `,children:t})]})]})}function Qn({children:t}){const e=en(),[r,n]=j.useState("loading"),[a,i]=j.useState(!1);return j.useEffect(()=>{let o=!1;return(async()=>{try{const{data:{session:c}}=await ae.auth.getSession();if(!c){console.log("[StoreGuard] No session - redirecting to auth"),e("/auth",{replace:!0});return}console.log("[StoreGuard] Session found, checking store...");const{data:u,error:d}=await ae.from("stores").select("id").eq("user_id",c.user.id).maybeSingle();if(o)return;if(d){console.error("[StoreGuard] Error checking store:",d),n("deleted"),i(!0);return}if(!u){console.log("[StoreGuard] Store not found - store was deleted"),n("deleted"),i(!0);return}console.log("[StoreGuard] Store found - access granted"),n("ok"),i(!0)}catch(c){console.error("[StoreGuard] Error in checkStore:",c),o||(n("deleted"),i(!0))}})(),()=>{o=!0}},[e]),r==="loading"?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(pr,{className:"w-10 h-10 animate-spin text-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your store..."})]})}):r==="deleted"&&a?s.jsx(ss,{open:!0,onOpenChange:()=>{},children:s.jsxs(ts,{className:"sm:max-w-md",children:[s.jsxs(as,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(hi,{className:"h-8 w-8 text-red-600"})})}),s.jsx(is,{className:"text-center text-xl font-bold",children:"Your Store Has Been Deleted"}),s.jsx(ja,{className:"text-center pt-4",children:"Your store has been deleted by the platform admin. You will be redirected to create a new store or you can logout."})]}),s.jsxs("div",{className:"space-y-3 flex flex-col pt-4",children:[s.jsx(we,{onClick:()=>{e("/onboarding/store-setup",{replace:!0})},className:"w-full",children:"Create New Store"}),s.jsx(we,{variant:"outline",onClick:async()=>{await ae.auth.signOut(),e("/auth",{replace:!0})},className:"w-full",children:"Logout"})]})]})}):r==="ok"?s.jsx(s.Fragment,{children:t}):null}const rgt=[{name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation and superior sound quality. Perfect for music lovers and professionals.",category:"Electronics",base_price:2999,price_range:"2,999 - 3,499",stock:50,status:"published",images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80","https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800&q=80"],variants:[{name:"Black",price:2999,sku:"WH-BLK"},{name:"White",price:3199,sku:"WH-WHT"},{name:"Blue",price:3499,sku:"WH-BLU"}]},{name:"Smart Watch",description:"Feature-rich smartwatch with fitness tracking, heart rate monitor, and notification support. Stay connected on the go.",category:"Electronics",base_price:4999,price_range:"4,999 - 5,999",stock:30,status:"published",images:["https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80","https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=800&q=80"],variants:[{name:"Black Band",price:4999,sku:"SW-BLK"},{name:"Sport Band",price:5499,sku:"SW-SPT"},{name:"Leather Band",price:5999,sku:"SW-LTH"}]},{name:"Classic T-Shirt",description:"Comfortable cotton t-shirt perfect for everyday wear. Made from premium quality fabric that lasts.",category:"Fashion",base_price:599,price_range:"599 - 699",stock:100,status:"published",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800&q=80","https://images.unsplash.com/photo-1503341504253-dff4815485f1?w=800&q=80"],variants:[{name:"Small",price:599,sku:"TS-S"},{name:"Medium",price:599,sku:"TS-M"},{name:"Large",price:649,sku:"TS-L"},{name:"XL",price:699,sku:"TS-XL"}]},{name:"Denim Jeans",description:"Stylish and durable denim jeans with a perfect fit. Essential wardrobe staple for any occasion.",category:"Fashion",base_price:1499,price_range:"1,499 - 1,799",stock:75,status:"published",images:["https://images.unsplash.com/photo-1542272604-787c3835535d?w=800&q=80","https://images.unsplash.com/photo-1475178626620-a4d074967452?w=800&q=80"],variants:[{name:"30",price:1499,sku:"DJ-30"},{name:"32",price:1599,sku:"DJ-32"},{name:"34",price:1699,sku:"DJ-34"},{name:"36",price:1799,sku:"DJ-36"}]},{name:"Leather Wallet",description:"Genuine leather wallet with multiple card slots and compartments. Sleek design meets functionality.",category:"Accessories",base_price:899,price_range:"899 - 1,099",stock:60,status:"published",images:["https://images.unsplash.com/photo-1627123424574-724758594e93?w=800&q=80","https://images.unsplash.com/photo-1608666619878-e5f5c9c6ff04?w=800&q=80"],variants:[{name:"Brown",price:899,sku:"LW-BRN"},{name:"Black",price:999,sku:"LW-BLK"},{name:"Tan",price:1099,sku:"LW-TAN"}]},{name:"Sunglasses",description:"UV protection sunglasses with polarized lenses. Stylish eyewear for sunny days.",category:"Accessories",base_price:1299,price_range:"1,299 - 1,599",stock:45,status:"published",images:["https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&q=80","https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=800&q=80"],variants:[{name:"Classic Black",price:1299,sku:"SG-BLK"},{name:"Aviator Gold",price:1499,sku:"SG-GLD"},{name:"Sport Blue",price:1599,sku:"SG-BLU"}]},{name:"Coffee Maker",description:"Automatic coffee maker for perfect brew every time. Start your morning right with fresh coffee.",category:"Home & Kitchen",base_price:3499,price_range:"3,499",stock:25,status:"published",images:["https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=800&q=80"],variants:[]},{name:"Yoga Mat",description:"Non-slip yoga mat with extra cushioning. Perfect for yoga, pilates, and home workouts.",category:"Sports",base_price:799,price_range:"799 - 999",stock:80,status:"published",images:["https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=800&q=80"],variants:[{name:"Purple",price:799,sku:"YM-PUR"},{name:"Blue",price:899,sku:"YM-BLU"},{name:"Pink",price:999,sku:"YM-PNK"}]}],ngt=[{name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&q=80"},{name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&q=80"},{name:"Accessories",image_url:"https://images.unsplash.com/photo-1523293182086-7651a899d37f?w=400&q=80"},{name:"Home & Kitchen",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400&q=80"},{name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&q=80"},{name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&q=80"}],sgt=t=>t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),agt=async t=>{try{console.log("Seeding demo data for store:",t);const e=ngt.map(i=>({...i,store_id:t})),{error:r}=await ae.from("categories").insert(e);r&&console.error("Error inserting demo categories:",r);const n=rgt.map(i=>({...i,store_id:t,slug:sgt(i.name)}));console.log(`[SEED] Inserting ${n.length} demo products with slugs...`);const{error:a}=await ae.from("products").insert(n);return a?(console.error("[SEED] Error inserting demo products:",a),!1):(console.log(`[SEED]  Successfully seeded ${n.length} demo products`),console.log("Demo data seeded successfully"),!0)}catch(e){return console.error("Error seeding demo data:",e),!1}},igt=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(""),[c,u]=j.useState(!1),[d,f]=j.useState(""),[m,h]=j.useState({storeName:"",storeSlug:"",description:"",whatsappNumber:"",countryCode:"+91"}),[x,g]=j.useState("idle");j.useEffect(()=>{v();const C=sessionStorage.getItem("storeSetupFormData");if(C)try{const A=JSON.parse(C);h(A),sessionStorage.removeItem("storeSetupFormData")}catch(A){console.error("Error restoring form data:",A)}},[t]);const v=async()=>{const{data:{user:C}}=await ae.auth.getUser();if(!C){e({title:"Authentication required",description:"Please log in to continue with onboarding",variant:"destructive"}),t("/auth");return}const{data:A}=await ae.from("helpers").select("id, full_name, status").eq("id",C.id).maybeSingle();if(A){f("You are registered as a helper. Helpers cannot create stores. Please contact support if you need assistance."),u(!0),setTimeout(()=>t("/helper/dashboard"),3e3);return}const{data:R}=await ae.from("helper_applications").select("id, application_status").eq("user_id",C.id).maybeSingle();if(R){f("You have applied or are registered as a helper. Helpers cannot create stores."),u(!0),setTimeout(()=>t("/application-status"),3e3);return}const{data:O}=await ae.from("profiles").select("full_name").eq("user_id",C.id).maybeSingle();l(O?.full_name||C.email||"Guest")},b=C=>C.toLowerCase().trim().replace(/[^a-z0-9]/g,"").substring(0,30),_=C=>{h(A=>({...A,storeName:C,storeSlug:b(C)})),C&&w(b(C))},w=async C=>{if(C.length<3){g("idle");return}i(!0);const{data:A}=await ae.from("stores").select("slug").eq("slug",C).maybeSingle();g(A?"taken":"available"),i(!1)},N=()=>m.storeName.length>=2&&m.storeName.length<=50&&m.storeSlug.length>=3&&m.storeSlug.length<=30&&x==="available"&&m.whatsappNumber.length>=10,S=async()=>{if(N()){n(!0);try{const{data:{user:C}}=await ae.auth.getUser();if(!C)throw new Error("No user found");const{data:{session:A}}=await ae.auth.getSession(),R=A?.provider_token,O=A?.provider_refresh_token,D=R?new Date(Date.now()+3600*1e3).toISOString():null,{data:P,error:E}=await ae.from("stores").insert({user_id:C.id,name:m.storeName,slug:m.storeSlug,subdomain:m.storeSlug,description:m.description||null,whatsapp_number:`${m.countryCode}${m.whatsappNumber}`,google_access_token:R||null,google_refresh_token:O||null,google_token_expiry:D}).select();if(E)throw E;const I=P&&P.length>0?P[0].id:null;I&&await agt(I);const M=sessionStorage.getItem("referral_code");if(M&&I){console.log("[StoreSetup] Processing referral code:",M);const{data:W}=await ae.from("helpers").select("id").eq("referral_code",M).eq("status","Active").maybeSingle();if(W){const{data:Y}=await ae.from("profiles").select("full_name, email, phone").eq("user_id",C.id).maybeSingle(),J=new Date;J.setDate(J.getDate()+14);const{error:z}=await ae.from("store_referrals").insert({helper_id:W.id,store_id:I,store_owner_name:Y?.full_name||m.storeName,store_owner_email:Y?.email||C.email||"",store_owner_phone:m.whatsappNumber,trial_start_date:new Date().toISOString().split("T")[0],trial_end_date:J.toISOString().split("T")[0],trial_status:"Active",subscription_purchased:!1,commission_status:"Not Applicable"});z?console.error("[StoreSetup] Error creating referral record:",z):console.log("[StoreSetup] Referral record created successfully"),sessionStorage.removeItem("referral_code")}else console.log("[StoreSetup] No active helper found for referral code:",M)}const{data:U}=await ae.from("subscription_plans").select("*").eq("is_default_plan",!0).maybeSingle();if(U){const W=new Date;W.setDate(W.getDate()+(U.trial_days||14)),await ae.from("subscriptions").insert({user_id:C.id,plan_id:U.id,status:"trial",trial_ends_at:W.toISOString(),current_period_start:new Date().toISOString(),current_period_end:W.toISOString()})}e({title:"Store created!",description:"Your store is ready with demo products."}),t("/onboarding/google-drive")}catch(C){e({title:"Error",description:C.message,variant:"destructive"})}finally{n(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-1/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2].map(C=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${C===1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:C}),C<2&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${C<1?"bg-primary":"bg-muted"}`})]},C))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 1 of 2"})]}),s.jsx("div",{className:"container max-w-2xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(Vx,{className:"w-8 h-8 text-primary"})}),s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome, ",o,"! "]}),s.jsx("p",{className:"text-muted-foreground",children:"Let's set up your online store"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"storeName",children:["Store Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(lt,{id:"storeName",placeholder:"My Awesome Store",value:m.storeName,onChange:C=>_(C.target.value),maxLength:50}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed to your customers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"storeSlug",children:["Store Domain ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(lt,{id:"storeSlug",value:m.storeSlug,readOnly:!0,disabled:!0,maxLength:30,className:"pr-8 bg-muted cursor-not-allowed"}),a&&s.jsx(pr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"}),!a&&x==="available"&&s.jsx(On,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}),!a&&x==="taken"&&s.jsx(so,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-destructive"})]})}),x==="available"&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(On,{className:"w-3 h-3"})," Available"]}),x==="taken"&&s.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[s.jsx(so,{className:"w-3 h-3"})," Already taken"]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:" 3-30 characters"}),s.jsx("p",{children:" Lowercase letters and numbers only"}),s.jsx("p",{children:" Must start with letter"}),s.jsx("p",{children:" Auto-generated from store name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"description",children:"Store Description"}),s.jsx(Ii,{id:"description",placeholder:"Tell customers about your store...",value:m.description,onChange:C=>h(A=>({...A,description:C.target.value})),maxLength:500,rows:4}),s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[m.description.length,"/500"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"whatsapp",children:["WhatsApp Business Number ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(zr,{value:m.countryCode,onValueChange:C=>h(A=>({...A,countryCode:C})),children:[s.jsx(Lr,{className:"w-24",children:s.jsx(qr,{})}),s.jsxs($r,{children:[s.jsx(ut,{value:"+91",children:" +91"}),s.jsx(ut,{value:"+1",children:" +1"}),s.jsx(ut,{value:"+44",children:" +44"}),s.jsx(ut,{value:"+971",children:" +971"})]})]}),s.jsx(lt,{id:"whatsapp",type:"tel",placeholder:"9876543210",value:m.whatsappNumber,onChange:C=>h(A=>({...A,whatsappNumber:C.target.value.replace(/\D/g,"")})),className:"flex-1"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers will place orders via WhatsApp to this number"})]})]}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-8 pt-6 border-t",children:s.jsx(we,{onClick:S,disabled:!N()||r,className:"w-full sm:w-auto",children:r?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):"Continue"})})]})}),s.jsx(ss,{open:c,onOpenChange:u,children:s.jsxs(ts,{className:"sm:max-w-md",children:[s.jsxs(as,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(ma,{className:"h-8 w-8 text-red-600"})})}),s.jsx(is,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(ja,{className:"text-center text-base pt-4",children:d})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(we,{onClick:()=>u(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})},ogt=()=>{const t=en(),{toast:e}=ga(),[r,n]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(!0),[c,u]=j.useState(null);j.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:g}}=await ae.auth.getUser();if(!g){t("/onboarding/store-setup");return}const{data:{session:v}}=await ae.auth.getSession(),b=v?.provider_token,_=v?.provider_refresh_token,{data:w,error:N}=await ae.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",g.id).single();if(N||!w){console.error("Store not found"),t("/onboarding/store-setup");return}if(u(w.id),b&&!w.google_access_token){const S={google_access_token:b};if(_){const C=new Date(Date.now()+36e5).toISOString();S.google_refresh_token=_,S.google_token_expiry=C}await ae.from("stores").update(S).eq("id",w.id)}await f()}catch(g){console.error("Error loading store:",g),l(!1)}},f=async()=>{try{const{data:{session:g}}=await ae.auth.getSession();if(!g){n(!1),l(!1);return}const{data:v,error:b}=await ae.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${g.access_token}`}});if(b){console.error("Drive verification error:",b),n(!1),l(!1);return}if(v?.connected){n(!0);const{data:{session:_}}=await ae.auth.getSession();_?.provider_token&&e({title:"Google Drive Connected",description:"You can now upload images from your device."})}else n(!1),console.log("Drive not connected:",v?.reason)}catch(g){console.error("Error verifying Drive connection:",g),n(!1)}finally{l(!1)}},m=async()=>{i(!0);try{const{error:g}=await ae.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:`${window.location.origin}/onboarding/google-drive`,queryParams:{access_type:"offline",prompt:"consent"}}});if(g)throw g}catch(g){e({title:"Connection Failed",description:g.message,variant:"destructive"}),i(!1)}},h=async()=>{try{t("/admin/dashboard")}catch(g){e({title:"Error",description:g.message,variant:"destructive"})}},x=[{title:"Unlimited Storage",description:"No storage limits on product images"},{title:"Automatic Backup",description:"Your images are safely backed up by Google"},{title:"Easy Management",description:"View and organize images directly in Google Drive"},{title:"Fast Delivery",description:"Images served through Google's CDN for quick loading"},{title:"No VPS Costs",description:"Save on server storage and bandwidth costs"},{title:"Version Control",description:"Google Drive keeps previous versions of your images"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-2/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2].map(g=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${g<=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:g}),g<2&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${g<2?"bg-primary":"bg-muted"}`})]},g))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 2 of 2"})]}),s.jsx("div",{className:"container max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-4",children:s.jsx(w0,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Connect Google Drive"}),s.jsx("span",{className:"inline-block px-3 py-1 bg-amber-100 text-amber-800 text-xs font-semibold rounded-full",children:"Recommended"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Store and manage product images securely in your Google Drive (optional)"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:x.map((g,v)=>s.jsxs("div",{className:"flex gap-3 p-4 rounded-lg bg-muted/50 border",children:[s.jsx(rs,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:g.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g.description})]})]},v))}),s.jsxs(He,{className:`admin-card ${r?"border-green-500 border-2":"border-amber-500 border-2"}`,children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${r?"bg-green-500/10":"bg-blue-500/10"}`,children:s.jsx(w0,{className:`w-5 h-5 ${r?"text-green-600":"text-blue-600"}`})}),"Connection Status (Optional)"]})}),s.jsx(Xe,{className:"space-y-4",children:s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${r?"border-green-500 bg-green-50 dark:bg-green-950":"border-border bg-muted/50"}`,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:`font-medium text-sm ${r?"text-green-700 dark:text-green-400":""}`,children:o?"Checking...":r?" Connected":"Not Connected"}),s.jsx("p",{className:`text-xs ${r?"text-green-600 dark:text-green-500":"text-muted-foreground"}`,children:r?"Your Google Drive is ready for image uploads":"Optional: Connect to enable Google Drive storage, or continue with VPS storage"})]}),s.jsx(we,{onClick:m,disabled:a||o,variant:r?"outline":"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):r?s.jsxs(s.Fragment,{children:[s.jsx(w0,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(w0,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t",children:[s.jsxs(we,{variant:"ghost",onClick:()=>t("/onboarding/store-setup"),className:"order-2 sm:order-1",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(we,{onClick:h,disabled:o,className:"w-full sm:w-auto order-1 sm:order-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 animate-spin mr-2"}),"Checking..."]}):"Continue"})]})]})})]})},lgt=({storeId:t,settings:e,instagramUsername:r})=>{const[n,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(null);j.useEffect(()=>{e?.enabled?u():o(!1)},[t,e?.enabled]);const u=async()=>{try{o(!0),c(null);const f=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?store_id=${t}`)).json();f.success?a(f.reels||[]):(console.log("Failed to fetch reels:",f.error),e?.manual_reels?.length&&a(e.manual_reels.map(m=>({id:m.url,type:"manual",permalink:m.url,thumbnail_url:m.thumbnail_url,caption:m.caption}))))}catch(d){console.error("Error fetching reels:",d),e?.manual_reels?.length&&a(e.manual_reels.map(f=>({id:f.url,type:"manual",permalink:f.url,thumbnail_url:f.thumbnail_url,caption:f.caption})))}finally{o(!1)}};return e?.enabled?i?s.jsx("section",{className:"py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Od,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:e?.section_title||"Follow Us on Instagram"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((d,f)=>s.jsx("div",{className:"aspect-[9/16] bg-muted animate-pulse rounded-lg"},f))})]})}):n.length===0?null:s.jsx("section",{className:"py-12 px-4 bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Od,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:e?.section_title||"Follow Us on Instagram"})]}),r&&s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-pink-500 transition-colors inline-flex items-center gap-1",children:["@",r,s.jsx(zo,{className:"w-3 h-3"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4",children:n.slice(0,e?.max_reels||6).map(d=>s.jsx(cgt,{reel:d},d.id))}),r&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-medium rounded-full hover:opacity-90 transition-opacity",children:[s.jsx(Od,{className:"w-5 h-5"}),"Follow on Instagram"]})})]})}):null},cgt=({reel:t})=>{const[e,r]=j.useState(!1);return s.jsxs("a",{href:t.permalink,target:"_blank",rel:"noopener noreferrer",className:"relative aspect-[9/16] rounded-lg overflow-hidden bg-muted group cursor-pointer",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[t.thumbnail_url?s.jsx("img",{src:t.thumbnail_url,alt:t.caption||"Instagram Reel",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500/20 via-pink-500/20 to-orange-500/20",children:s.jsx(Od,{className:"w-12 h-12 text-pink-500/50"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx(nwe,{className:"w-6 h-6 text-pink-500 ml-1",fill:"currentColor"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"w-6 h-6 rounded bg-black/50 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"})})})}),t.caption&&s.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent transition-opacity ${e?"opacity-100":"opacity-0"}`,children:s.jsx("p",{className:"text-white text-xs line-clamp-2",children:t.caption})})]})},sne=({averageRating:t,totalReviews:e,variant:r="default"})=>r==="compact"?s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full shadow-sm",children:[s.jsx(gc,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.toFixed(1)}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",e,")"]})]}):s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gc,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t.toFixed(1)})]}),s.jsx("div",{className:"border-l border-gray-300 dark:border-gray-600 h-6"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 leading-tight",children:"Google reviews"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 leading-tight",children:[e," reviews"]})]})]}),ugt=({reviews:t,autoPlay:e=!0,autoPlayInterval:r=5e3})=>{const[n,a]=j.useState({}),i=m=>{a(h=>({...h,[m]:!0}))},o=m=>{const h=m.trim().split(" ");return h.length===1?h[0].substring(0,2).toUpperCase():(h[0][0]+h[h.length-1][0]).toUpperCase()},l=m=>{const h=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],x=m.split("").reduce((g,v)=>g+v.charCodeAt(0),0);return h[x%h.length]},c=m=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(h=>s.jsx(gc,{className:`h-4 w-4 ${h<=m?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},h))});if(!t||t.length===0)return null;const u=[...t,...t],f=30*1e3;return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"review-marquee-container overflow-hidden",children:s.jsx("div",{className:"review-marquee-track flex gap-4",style:{animationDuration:`${f}ms`,animationPlayState:e?"running":"paused"},children:u.map((m,h)=>s.jsx(He,{className:"review-card flex-shrink-0 w-full sm:w-[calc(50%-0.5rem)] md:w-[calc(33.333%-0.667rem)] lg:w-[calc(20%-0.8rem)] border-0 shadow-md hover:shadow-lg transition-shadow",children:s.jsxs(Xe,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate flex-1",children:m.author_name})}),c(m.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[m.profile_photo_url&&!n[h%t.length]?s.jsx("img",{src:m.profile_photo_url,alt:m.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(h%t.length),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(m.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(m.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:m.relative_time_description})]}),m.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',m.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},`${h}-${m.author_name}`))})}),s.jsx("div",{className:"text-center mt-4 md:hidden",children:s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Swipe to see more reviews "})})]})},dgt=({reviews:t,maxReviews:e=6})=>{const[r,n]=j.useState({}),a=u=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(d=>s.jsx(gc,{className:`h-4 w-4 ${d<=u?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},d))}),i=u=>{n(d=>({...d,[u]:!0}))},o=u=>{const d=u.trim().split(" ");return d.length===1?d[0].substring(0,2).toUpperCase():(d[0][0]+d[d.length-1][0]).toUpperCase()},l=u=>{const d=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],f=u.split("").reduce((m,h)=>m+h.charCodeAt(0),0);return d[f%d.length]};if(!t||t.length===0)return null;const c=t.slice(0,e);return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:c.map((u,d)=>s.jsx(He,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:s.jsxs(Xe,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate",children:u.author_name}),a(u.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[u.profile_photo_url&&!r[d]?s.jsx("img",{src:u.profile_photo_url,alt:u.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(d),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(u.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(u.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:u.relative_time_description})]}),u.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',u.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},d))})},fgt=({reviews:t,maxReviews:e=5,showAllReviews:r=!1})=>{const[n,a]=j.useState({}),i=d=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>s.jsx(gc,{className:`h-4 w-4 ${f<=d?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},f))}),o=d=>{a(f=>({...f,[d]:!0}))},l=d=>{const f=d.trim().split(" ");return f.length===1?f[0].substring(0,2).toUpperCase():(f[0][0]+f[f.length-1][0]).toUpperCase()},c=d=>{const f=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],m=d.split("").reduce((h,x)=>h+x.charCodeAt(0),0);return f[m%f.length]};if(!t||t.length===0)return null;const u=r?t:t.slice(0,e);return s.jsxs("div",{className:"space-y-4",children:[u.map((d,f)=>s.jsx("div",{className:"p-4 md:p-6 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[d.profile_photo_url&&!n[f]?s.jsx("img",{src:d.profile_photo_url,alt:d.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover",onError:()=>o(f),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${c(d.author_name)} flex items-center justify-center`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:l(d.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:d.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.relative_time_description}),s.jsx("div",{className:"mt-1",children:i(d.rating)})]})]}),s.jsx("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded",children:s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})})]}),d.text&&s.jsx("p",{className:"text-sm md:text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:d.text})]})},f)),!r&&t.length>e&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center pt-2",children:["+ ",t.length-e," more reviews"]})]})},hgt=({storeId:t,googleMapsUrl:e})=>{const[r,n]=j.useState([]),[a,i]=j.useState(0),[o,l]=j.useState(0),[c,u]=j.useState({}),[d,f]=j.useState(!0);j.useEffect(()=>{m()},[t]);const m=async()=>{try{const{data:b,error:_}=await ae.from("google_reviews_cache").select("*").eq("store_id",t).single();if(_){console.error("Error loading reviews:",_);return}b&&(n(b.reviews||[]),i(b.average_rating||0),l(b.total_reviews||0))}catch(b){console.error("Error in loadReviews:",b)}finally{f(!1)}},h=b=>{u(_=>({..._,[b]:!0}))},x=b=>{const _=b.trim().split(" ");return _.length===1?_[0].substring(0,2).toUpperCase():(_[0][0]+_[_.length-1][0]).toUpperCase()},g=b=>{const _=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],w=b.split("").reduce((N,S)=>N+S.charCodeAt(0),0);return _[w%_.length]},v=b=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(_=>s.jsx(gc,{className:`h-4 w-4 ${_<=b?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},_))});return d?s.jsx("div",{className:"text-center py-12",children:"Loading reviews..."}):!r||r.length===0?s.jsx("div",{className:"w-full max-w-2xl mx-auto",children:s.jsx(He,{className:"border-0 shadow-xl overflow-hidden",children:s.jsxs(Xe,{className:"p-0",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsxs("svg",{className:"h-10 w-10",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"white",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"white",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"white",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"white",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-2xl md:text-3xl font-bold",children:"Customer Reviews"})]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"See what our customers are saying"})]}),s.jsx("div",{className:"p-8 bg-white dark:bg-gray-800 text-center",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(b=>s.jsx(gc,{className:"h-8 w-8 fill-yellow-400 text-yellow-400"},b))})}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Read authentic reviews from our verified customers"}),s.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-lg transition-all hover:shadow-lg",children:[s.jsx("span",{children:"View All Reviews on Google"}),s.jsx(zo,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verified by Google  100% Authentic Customer Feedback"})]})})]})})}):s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(b=>s.jsx(gc,{className:`h-6 w-6 ${b<=Math.round(a)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},b))}),s.jsx("span",{className:"text-xl font-bold",children:a.toFixed(1)})]}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Based on ",o," Google reviews"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.map((b,_)=>s.jsx(He,{className:"hover:shadow-xl transition-shadow border-0 shadow-md",children:s.jsxs(Xe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[b.profile_photo_url&&!c[_]?s.jsx("img",{src:b.profile_photo_url,alt:b.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>h(_),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${g(b.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:x(b.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:b.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.relative_time_description})]})]}),s.jsx("div",{className:"mb-3",children:v(b.rating)}),b.text&&s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-4 leading-relaxed",children:['"',b.text,'"']}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]})]})},_))}),s.jsxs("div",{className:"text-center",children:[s.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all hover:shadow-lg",children:[s.jsxs("span",{children:["View All ",o," Reviews on Google"]}),s.jsx(zo,{className:"h-5 w-5"})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:["Verified by Google  ",o," authentic customer reviews"]})]})]})},mgt=({storeId:t,variant:e,maxReviews:r,autoPlay:n=!0,showAllReviews:a=!1})=>{const[i,o]=j.useState(null),[l,c]=j.useState(!0),[u,d]=j.useState(!1),[f,m]=j.useState("carousel"),[h,x]=j.useState(null);j.useEffect(()=>{g()},[t]);const g=async()=>{try{const{data:b}=await ae.from("stores").select("google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("id",t).single();if(!b?.google_reviews_enabled){d(!1),c(!1);return}d(!0),m(b.google_reviews_display_type||"carousel"),x(b.google_maps_url||null);try{const{data:_,error:w}=await ae.from("google_reviews_cache").select("*").eq("store_id",t).single();_&&o({average_rating:_.average_rating||0,total_reviews:_.total_reviews||0,reviews:_.reviews||[]}),w&&console.warn("Warning loading reviews (continuing):",w)}catch(_){console.warn("Cache load error (continuing):",_)}}catch(b){console.error("Error in loadReviews:",b)}finally{c(!1)}};if(l||!u)return null;const v=e||(f==="google-widget"?"google-widget":f==="carousel"?"carousel":"grid");if(v==="google-widget"){if(!h)return null}else if(!i||i.reviews.length===0)return null;switch(v){case"badge":return s.jsx(sne,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"default"});case"badge-compact":return s.jsx(sne,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"compact"});case"carousel":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real reviews from Google"})]}),s.jsx(ugt,{reviews:i.reviews,autoPlay:n})]});case"grid":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," reviews"]})]})]}),s.jsx(dgt,{reviews:i.reviews,maxReviews:r})]});case"list":return s.jsxs("div",{className:"py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," Google reviews"]})]})]}),s.jsx(fgt,{reviews:i.reviews,maxReviews:r,showAllReviews:a})]});case"google-widget":return h?s.jsx("div",{className:"py-8 md:py-12",children:s.jsx(hgt,{storeId:t,googleMapsUrl:h})}):null;default:return null}};na.registerPlugin(Tn);function j5({children:t,className:e="",animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}){const u=j.useRef(null);return j.useEffect(()=>{if(!u.current)return;const d=u.current;let f={opacity:0};switch(r){case"fadeSlideUp":f={opacity:0,y:i};break;case"fadeSlideDown":f={opacity:0,y:-i};break;case"fadeSlideLeft":f={opacity:0,x:i};break;case"fadeSlideRight":f={opacity:0,x:-i};break;case"fadeIn":f={opacity:0};break;case"scaleUp":f={opacity:0,scale:.8};break;case"slideUp":f={y:i};break}return na.set(d,f),na.to(d,{opacity:1,x:0,y:0,scale:1,duration:n,delay:a,ease:"power2.out",scrollTrigger:{trigger:d,start:`top ${100-o*100}%`,toggleActions:"play none none none"},stagger:l>0?l:void 0,...c}),()=>{Tn.getAll().forEach(m=>{m.trigger===d&&m.kill()})}},[r,n,a,i,o,l,c]),s.jsx("div",{ref:u,className:e,children:t})}na.registerPlugin(Tn);function CI(t={}){const e=j.useRef(null),{animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}=t;return j.useEffect(()=>{const u=e.current;if(!u)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){na.set(u,{opacity:1,x:0,y:0,scale:1}),u.children.length>0&&na.set(Array.from(u.children),{opacity:1,x:0,y:0,scale:1});return}const f={fadeIn:{from:{opacity:0},to:{opacity:1,duration:n,delay:a}},slideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideDown:{from:{opacity:0,y:-i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideLeft:{from:{opacity:0,x:i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},slideRight:{from:{opacity:0,x:-i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},scale:{from:{opacity:0,scale:.8},to:{opacity:1,scale:1,duration:n,delay:a,ease:"back.out(1.2)"}},fadeSlideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}}},m=f[r]||f.fadeSlideUp,h=l>0&&u.children.length>0,x=h?Array.from(u.children):u;na.set(x,m.from);const g=na.context(()=>{u.getBoundingClientRect().top<window.innerHeight*.9?na.to(x,{...m.to,stagger:h?l:0,...c}):Tn.create({trigger:u,start:"top 90%",once:!0,onEnter:()=>{na.to(x,{...m.to,stagger:h?l:0,...c})}})});return()=>{g.revert(),Tn.getAll().forEach(v=>{v.trigger===u&&v.kill()})}},[r,n,a,i,o,l,c]),e}const ane=({slug:t}={})=>{const{slug:e}=wp(),r=t||e,[n,a]=j.useState(null),[i,o]=j.useState(null),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState([]),[h,x]=j.useState([]),[g,v]=j.useState(!0),[b,_]=j.useState(!1),[w,N]=j.useState(null),S=CI({animation:"slideUp",duration:.6,stagger:.1,delay:.2}),C=CI({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),A=CI({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),R=Uh(),O=R?"/products":`/${r}/products`;j.useEffect(()=>{D()},[r]),j.useEffect(()=>{if(!n?.id)return;(async()=>{try{const{data:U}=await ae.from("store_design_state").select("current_design").eq("store_id",n.id).maybeSingle();if(U?.current_design){N(U.current_design);const W=hve(U.current_design);let Y=document.getElementById("ai-designer-styles");Y||(Y=document.createElement("style"),Y.id="ai-designer-styles",document.head.appendChild(Y)),Y.textContent=W}else{N(null);const W=document.getElementById("ai-designer-styles");W&&W.remove()}}catch(U){console.error("Failed to load AI design:",U)}})()},[n?.id]),j.useEffect(()=>{if(!n?.ai_voice_embed_code)return;if(document.querySelector('script[src*="elevenlabs"]')){_(!0);return}const U=document.createElement("script");return U.src="https://unpkg.com/@elevenlabs/convai-widget-embed",U.async=!0,U.type="text/javascript",U.onload=()=>{console.log("ElevenLabs widget script loaded successfully"),_(!0)},U.onerror=W=>{console.error("Failed to load ElevenLabs widget script:",W)},document.body.appendChild(U),()=>{U.parentNode&&U.parentNode.removeChild(U)}},[n?.ai_voice_embed_code]),Zpt(n&&i?{store:{id:n.id,name:n.name,slug:n.slug,description:n.description,logo_url:n.logo_url,address:n.address,whatsapp_number:n.whatsapp_number,social_links:n.social_links,alternate_names:n.alternate_names,seo_description:n.seo_description,business_phone:n.business_phone,business_email:n.business_email,street_address:n.street_address,city:n.city,state:n.state,postal_code:n.postal_code,country:n.country,opening_hours:n.opening_hours,facebook_url:n.facebook_url,instagram_url:n.instagram_url,twitter_url:n.twitter_url,price_range:n.price_range},email:i.email||void 0,breadcrumbs:[{name:"Home",url:window.location.origin},{name:n.name,url:window.location.href}]}:null);const D=async()=>{try{v(!0);const M=Uh();let U=ae.from("stores").select("*").eq("is_active",!0);M&&r?r.includes(".")?U=U.or(`custom_domain.eq.${r},subdomain.eq.${r}`):U=U.or(`subdomain.eq.${r},slug.eq.${r}`):U=U.eq("slug",r);const{data:W,error:Y}=await U.maybeSingle();if(Y)throw Y;if(!W){et({title:"Store not found",description:"The store you're looking for doesn't exist or is inactive.",variant:"destructive"});return}a({...W,social_links:W.social_links,policies:W.policies,instagram_reels_settings:W.instagram_reels_settings});const{data:J}=await ae.from("profiles").select("phone, email").eq("user_id",W.user_id).maybeSingle();J&&o(J);const{data:z,error:q}=await ae.from("categories").select("*").eq("store_id",W.id).order("name");q?console.error("Error fetching categories:",q):z&&x(z);const V=await xj(W.id);c(V),d(V.slice(0,16));const L=[...V].sort((X,K)=>new Date(K.created_at||"").getTime()-new Date(X.created_at||"").getTime());m(L.slice(0,4))}catch(M){console.error("Error loading store:",M),et({title:"Error",description:M.message,variant:"destructive"})}finally{v(!1)}};if(g)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(pr,{className:"h-8 w-8 animate-spin"})});if(!n)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Store Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The store you're looking for doesn't exist."}),s.jsx(hr,{to:"/",children:s.jsx(we,{children:"Go Home"})})]});const P=(()=>{const M=w?.layout?.product_grid_cols;return M==="2"?"grid grid-cols-2 sm:grid-cols-2 gap-6":M==="3"?"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-3 gap-6":"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6"})(),E=(()=>{const M=w?.layout?.section_padding;return M==="compact"?"py-8":M==="spacious"?"py-24":"py-16"})(),I=(()=>{const M=w?.layout?.section_padding;return M==="compact"?"py-10":M==="spacious"?"py-28":"py-20"})();return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(fU,{title:`${n.name} - Online Store | Shop Quality Products`,description:n.description||`Browse ${n.name}'s collection of quality products. ${h.length>0?"Explore categories: "+h.map(M=>M.name).slice(0,3).join(", "):""}`,canonical:hye(n.slug,n.subdomain,n.custom_domain),image:n.logo_url||n.hero_banner_url||"https://digitaldukandar.in/logo.png",keywords:h.map(M=>M.name).concat([n.name,"online store","shop"]),type:"website"}),s.jsx(qc,{storeSlug:n.slug,storeId:n.id}),s.jsxs("main",{className:"flex-1",children:[s.jsx("section",{"data-ai":"section-hero",children:s.jsx(Yve,{bannerUrls:n.hero_banner_urls&&n.hero_banner_urls.length>0?n.hero_banner_urls:n.hero_banner_url?[n.hero_banner_url]:[],storeName:n.name,logoUrl:n.logo_url,storeDescription:n.description})}),h.length>0&&s.jsx("section",{"data-ai":"section-categories",className:`${I} bg-gradient-to-b from-muted/30 to-background relative overflow-hidden`,children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsx(j5,{animation:"fadeSlideUp",duration:.8,children:s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]})}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{ref:S,className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:h.map((M,U)=>{const W=l.filter(Y=>Y.category===M.name&&Y.status==="published").length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",children:s.jsx(eU,{name:M.name,image_url:M.image_url,productCount:W,slug:R?void 0:n?.slug})},M.id)})})})]})}),s.jsx("section",{"data-ai":"section-featured",className:`${E} bg-background`,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(j5,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(hr,{to:O,children:s.jsxs(we,{variant:"outline",children:["See All",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]})}),u.length>0?s.jsx("div",{ref:C,className:P,children:u.map(M=>s.jsx(iw,{id:M.id,slug:M.slug,name:M.name,category:M.category,priceRange:M.price_range||"",images:M.images,status:M.status,storeSlug:R?void 0:n.slug},M.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),n.instagram_reels_settings?.enabled&&n.instagram_reels_settings?.show_on_homepage&&s.jsx("section",{"data-ai":"section-reels",children:s.jsx(lgt,{storeId:n.id,settings:n.instagram_reels_settings,instagramUsername:n.instagram_username||void 0})}),s.jsx("section",{"data-ai":"section-reviews",className:`${E} bg-muted/30`,children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(mgt,{storeId:n.id,autoPlay:!0})})}),f.length>0&&s.jsx("section",{"data-ai":"section-new-arrivals",className:`${E}`,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(j5,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx(hr,{to:O,children:s.jsxs(we,{variant:"outline",children:["See All",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("div",{ref:A,className:P,children:f.map(M=>s.jsx(iw,{id:M.id,slug:M.slug,name:M.name,category:M.category,priceRange:M.price_range||"",images:M.images,status:M.status,storeSlug:R?void 0:n.slug},M.id))})]})}),s.jsx("section",{"data-ai":"section-cta",className:"py-20 bg-primary text-primary-foreground mb-0",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(j5,{animation:"scaleUp",duration:.8,children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore our full collection of amazing products"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(hr,{to:O,children:s.jsxs(we,{size:"lg",variant:"secondary",children:["Browse All Products",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})}),n.whatsapp_number&&s.jsx("a",{href:`https://wa.me/${n.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(we,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["Contact on WhatsApp",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]})]})})})]}),s.jsx(ON,{storeName:n.name,storeDescription:n.description,whatsappNumber:n.whatsapp_number,phone:i?.phone,email:i?.email,address:n.address,facebookUrl:n.facebook_url,instagramUrl:n.instagram_url,twitterUrl:n.twitter_url,youtubeUrl:n.youtube_url,linkedinUrl:n.linkedin_url,socialLinks:n.social_links,policies:n.policies}),n.ai_voice_embed_code&&b&&(()=>{const M=n.ai_voice_embed_code.match(/agent-id="([^"]+)"/),U=M?M[1]:null;return U?s.jsx("elevenlabs-convai",{"agent-id":U,style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999}}):(console.error("No agent-id found in ai_voice_embed_code"),null)})()]})},ine=({slug:t}={})=>{const{slug:e}=wp(),r=t||e,n=en(),[a,i]=j.useState(!0),[o,l]=j.useState(null),[c,u]=j.useState(null);j.useEffect(()=>{d()},[r]),j.useEffect(()=>{if(window.location.hash){const m=document.querySelector(window.location.hash);m&&setTimeout(()=>{m.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[a]);const d=async()=>{try{i(!0);const{data:m,error:h}=await ae.from("stores").select("*").eq("slug",r).eq("is_active",!0).single();if(h||!m){Mt.error("Store not found"),n("/");return}l(m);const{data:x}=await ae.from("profiles").select("phone, email").eq("user_id",m.user_id).single();x&&u(x)}catch(m){console.error("Error loading store:",m),Mt.error("Failed to load store information")}finally{i(!1)}};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(pr,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return null;const f=o.policies||{};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qc,{storeSlug:r}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[s.jsxs(we,{variant:"ghost",onClick:()=>n(`/${r}`),className:"mb-6",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Store Policies"}),s.jsx("p",{className:"text-muted-foreground",children:"Learn about our policies and terms of service"})]}),s.jsx("section",{id:"terms",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Terms & Conditions"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.termsConditions||"Terms and conditions will be available soon."})]})}),s.jsx("section",{id:"return-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Return Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.returnPolicy||"Return policy will be available soon."})]})}),s.jsx("section",{id:"shipping-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Shipping Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.shippingPolicy||"Shipping policy will be available soon."})]})}),s.jsx("section",{id:"privacy-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Privacy Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.privacyPolicy||"Privacy policy will be available soon."})]})}),f.deliveryAreas&&s.jsx("section",{id:"delivery-areas",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Delivery Areas"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.deliveryAreas})]})}),o.address&&s.jsx("section",{id:"address",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Store Address"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:o.address})]})})]})]}),s.jsx(ON,{storeName:o.name,storeDescription:o.description,whatsappNumber:o.whatsapp_number,phone:c?.phone,email:c?.email,address:o.address,facebookUrl:o.facebook_url,instagramUrl:o.instagram_url,twitterUrl:o.twitter_url,youtubeUrl:o.youtube_url,linkedinUrl:o.linkedin_url,socialLinks:o.social_links,policies:o.policies})]})},pgt=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(hr,{to:"/",children:s.jsxs(we,{variant:"ghost",size:"sm",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['Welcome to Digital Dukandar ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website ',s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"})," and use our multi-vendor store platform services."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Personal Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Register for an account (name, email address, phone number)"}),s.jsx("li",{children:"Create a store or product listing"}),s.jsx("li",{children:"Make a purchase through our platform"}),s.jsx("li",{children:"Contact our customer support"}),s.jsx("li",{children:"Sign in using Google OAuth (email, profile picture, name)"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"2.2 Automatically Collected Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you visit our website, we automatically collect certain information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Device information (browser type, operating system)"}),s.jsx("li",{children:"IP address and location data"}),s.jsx("li",{children:"Usage data (pages visited, time spent on pages)"}),s.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To process transactions and deliver products/services"}),s.jsx("li",{children:"To send order confirmations and updates"}),s.jsx("li",{children:"To provide customer support"}),s.jsx("li",{children:"To improve our platform and user experience"}),s.jsx("li",{children:"To send promotional communications (with your consent)"}),s.jsx("li",{children:"To comply with legal obligations"}),s.jsx("li",{children:"To detect and prevent fraud or abuse"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing and Disclosure"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may share your information in the following situations:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"With Store Owners:"})," When you make a purchase, we share your order details with the relevant store owner"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Providers:"})," We may share data with third-party service providers (payment processors, hosting services, analytics providers)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We do not sell your personal information to third parties."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Your Privacy Rights"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the following rights regarding your personal information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Cookies and Tracking Technologies"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your experience on our platform. Cookies help us remember your preferences, analyze site usage, and provide personalized content. You can control cookie settings through your browser preferences."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Third-Party Services"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our platform integrates with third-party services:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Google OAuth:"})," For authentication (subject to Google's Privacy Policy)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase:"})," For database and authentication services"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"WhatsApp:"})," For order notifications"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"These services have their own privacy policies, and we encourage you to review them."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our services are not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Data Transfers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. We encourage you to review this Privacy Policy periodically.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),ggt=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(hr,{to:"/",children:s.jsxs(we,{variant:"ghost",size:"sm",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["By accessing or using Digital Dukandar's services available at ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"}),' ("Platform"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our Platform.']})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"YesGive is a multi-vendor e-commerce platform that enables:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Store owners to create and manage online stores"}),s.jsx("li",{children:"Product listing and inventory management"}),s.jsx("li",{children:"Order processing through WhatsApp and website checkouts"}),s.jsx("li",{children:"Customer management and analytics"}),s.jsx("li",{children:"Subscription-based access to platform features"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Account Creation"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features, you must create an account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate, current, and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Notify us immediately of any unauthorized access"}),s.jsx("li",{children:"Be responsible for all activities under your account"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"3.2 Account Types"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Store Owners:"})," Can create stores, manage products, and process orders"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Customers:"})," Can browse stores, place orders, and manage their profiles"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Super Admin:"})," Platform administrators with full access"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Subscription Plans and Payments"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.1 Subscription Tiers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We offer various subscription plans (Free, Basic, Pro, Enterprise) with different features and limits. Plan details are available on our Pricing page."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.2 Payment Terms"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Subscriptions are billed monthly or yearly in advance"}),s.jsx("li",{children:"Payments are non-refundable except as required by law"}),s.jsx("li",{children:"You authorize automatic renewal unless cancelled before the renewal date"}),s.jsx("li",{children:"We reserve the right to change pricing with 30 days' notice"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"4.3 Free Trials"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Free trial periods are subject to terms disclosed at sign-up. We may require payment information upfront but won't charge until the trial ends unless you cancel."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Store Owner Responsibilities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"As a store owner, you agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate product descriptions and pricing"}),s.jsx("li",{children:"Honor all orders placed through your store"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"}),s.jsx("li",{children:"Not sell prohibited items (illegal goods, counterfeit products, etc.)"}),s.jsx("li",{children:"Handle customer data responsibly and securely"}),s.jsx("li",{children:"Respond to customer inquiries in a timely manner"}),s.jsx("li",{children:"Process refunds and returns according to your stated policies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You may not use our Platform to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate any laws or regulations"}),s.jsx("li",{children:"Infringe on intellectual property rights"}),s.jsx("li",{children:"Transmit harmful code, viruses, or malware"}),s.jsx("li",{children:"Engage in fraudulent activities or scams"}),s.jsx("li",{children:"Harass, abuse, or harm other users"}),s.jsx("li",{children:"Scrape or copy content without permission"}),s.jsx("li",{children:"Interfere with the Platform's operation"}),s.jsx("li",{children:"Create fake accounts or impersonate others"}),s.jsx("li",{children:"Manipulate prices, reviews, or ratings"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Content and Intellectual Property"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.1 Your Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You retain ownership of content you upload (products, images, descriptions). By uploading content, you grant us a license to display, store, and distribute it as necessary to provide our services."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.2 Our Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Platform, including its design, features, and code, is protected by copyright and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Order Processing and Transactions"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"8.1 Order Placement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Orders placed through the Platform constitute an offer to purchase. Store owners reserve the right to accept or decline orders."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.2 Payment Processing"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Currently, orders are processed via Cash on Delivery (COD) or direct WhatsApp communication. Future payment integrations may be added."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.3 Disputes"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"YesGive acts as a platform provider. Disputes regarding orders, refunds, or product quality should be resolved directly between customers and store owners. We may assist in mediation but are not responsible for transaction outcomes."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Termination"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may suspend or terminate your account if you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate these Terms"}),s.jsx("li",{children:"Engage in fraudulent or illegal activities"}),s.jsx("li",{children:"Fail to pay subscription fees"}),s.jsx("li",{children:"Create risk or legal liability for us"})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You may cancel your account at any time through account settings. Upon termination, you lose access to your store and data."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Disclaimers and Limitations of Liability"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"10.1 Service Availability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We strive for 99.9% uptime but do not guarantee uninterrupted service. We are not liable for downtime, data loss, or service interruptions."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.2 No Warranty"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Platform is provided "as is" without warranties of any kind, express or implied. We do not guarantee that the service will be error-free or secure.'}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.3 Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To the maximum extent permitted by law, YesGive shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Indemnification"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to indemnify and hold YesGive harmless from any claims, damages, or expenses arising from your use of the Platform, violation of these Terms, or infringement of any rights."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may modify these Terms at any time. Changes will be effective upon posting. Continued use of the Platform constitutes acceptance of modified Terms. Material changes will be communicated via email or platform notifications."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Governing Law and Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"These Terms are governed by the laws of India. Any disputes shall be resolved through:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Informal negotiation (30 days)"}),s.jsx("li",{children:"Binding arbitration (if negotiation fails)"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For questions about these Terms, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Severability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If any provision of these Terms is found to be unenforceable, the remaining provisions will continue in full effect."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Entire Agreement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and YesGive regarding use of the Platform."})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),xgt=Hv({full_name:gs().min(2,"Name must be at least 2 characters"),email:gs().email("Invalid email address"),phone:gs().regex(/^\d{10}$/,"Phone number must be 10 digits"),why_helper:gs().optional(),bank_account_name:gs().min(2,"Account holder name is required"),bank_account_number:gs().min(8,"Invalid account number"),bank_ifsc_code:gs().regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),bank_name:gs().min(2,"Bank name is required"),terms:hh().refine(t=>t===!0,"You must agree to terms and conditions")});function vgt(){const[t]=xw(),[e,r]=j.useState(!1),[n,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,m]=j.useState(null),[h,x]=j.useState(!1),[g,v]=j.useState(""),b=t.get("ref"),_=QN({resolver:eS(xgt),defaultValues:{full_name:"",email:"",phone:"",why_helper:"",bank_account_name:"",bank_account_number:"",bank_ifsc_code:"",bank_name:"",terms:!1}});j.useEffect(()=>{(async()=>{const{data:{session:C}}=await ae.auth.getSession();if(C?.user){const A=C.user;A.app_metadata?.provider==="google"&&(d(!0),m(A.id),_.setValue("email",A.email||""),_.setValue("full_name",A.user_metadata?.full_name||A.user_metadata?.name||""),Mt.info("Signed in with Google! Please complete the remaining fields."))}})()},[]),j.useEffect(()=>{b&&ae.from("helpers").select("full_name").eq("referral_code",b).single().then(({data:S})=>{S&&o(S.full_name)})},[b]);const w=async()=>{try{c(!0),console.log("[BecomeHelper] Starting Google sign up...");const S=b?`${window.location.origin}/become-helper?ref=${b}`:`${window.location.origin}/become-helper`,{error:C}=await ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:S}});C?(console.error("[BecomeHelper] Google sign up error:",C),Mt.error(C.message||"Failed to sign up with Google")):console.log("[BecomeHelper] Google OAuth redirect initiated")}catch(S){console.error("[BecomeHelper] Unexpected error:",S),Mt.error(S.message||"An unexpected error occurred")}finally{c(!1)}},N=async S=>{try{const{data:C}=await ae.from("stores").select("id, name, user_id").eq("user_id",await ae.from("profiles").select("user_id").eq("email",S.email).maybeSingle().then(({data:U})=>U?.user_id)).maybeSingle();if(C){v(`This email (${S.email}) is already registered as a store owner of "${C.name}". Store owners cannot become helpers. Please use a different email.`),x(!0);return}const{data:A}=await ae.from("profiles").select("user_id").eq("email",S.email).maybeSingle();if(A){const{data:U}=await ae.from("stores").select("id, name").eq("user_id",A.user_id).maybeSingle();if(U){v(`This email is registered as store owner of "${U.name}". Store owners cannot become helpers. Please use a different email.`),x(!0);return}}const{data:R}=await ae.from("stores").select("id, name, whatsapp_number").eq("whatsapp_number",S.phone).maybeSingle();if(R){v(`This phone number is already registered for store "${R.name}". Store owners cannot become helpers. Please use a different phone number.`),x(!0);return}const{data:O}=await ae.from("helper_applications").select("email").eq("email",S.email).maybeSingle();if(O){Mt.error("This email is already registered as a helper");return}const{data:D}=await ae.from("helper_applications").select("phone").eq("phone",S.phone).maybeSingle();if(D){Mt.error("This phone number is already registered as a helper");return}if(!u||!f){Mt.error("Please sign in with Google first to submit your application");return}const P=f;let E=null;if(b){const{data:U}=await ae.from("helpers").select("id").eq("referral_code",b).single();U&&(E=U.id)}const{data:I,error:M}=await ae.from("helper_applications").insert({user_id:P,full_name:S.full_name,email:S.email,phone:S.phone,why_helper:S.why_helper,bank_account_name:S.bank_account_name,bank_account_number:S.bank_account_number,bank_ifsc_code:S.bank_ifsc_code,bank_name:S.bank_name,recruited_by_helper_id:E}).select().single();if(M)throw M;a(I.id.slice(0,8).toUpperCase()),r(!0),Mt.success("Account created! Application submitted successfully!")}catch(C){console.error("Error submitting application:",C),Mt.error(C.message||"Failed to submit application. Please try again.")}};return e?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(He,{className:"max-w-2xl w-full",children:[s.jsxs(jt,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-4",children:s.jsx(fi,{className:"w-10 h-10 text-white"})}),s.jsx(Nt,{className:"text-3xl",children:"Application Submitted Successfully! "}),s.jsx(hn,{className:"text-lg mt-4",children:"We'll review your application within 2-3 business days and notify you via email"})]}),s.jsxs(Xe,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Application ID"}),s.jsxs("p",{className:"text-2xl font-bold",children:["#",n]})]}),s.jsx(hr,{to:"/application-status",children:s.jsx(we,{className:"w-full",children:"Check Application Status"})})]})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground py-16 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Join Our Helper Program & Earn Commissions"}),s.jsx("p",{className:"text-xl opacity-90 mb-8",children:"Help businesses grow and earn money for every paying customer you bring"}),i&&s.jsx("div",{className:"bg-primary-foreground text-primary p-4 rounded-lg inline-block mb-8",children:s.jsxs("p",{className:"font-semibold",children:["You're applying via ",s.jsxs("span",{className:"text-primary",children:[i,"'s"]})," referral"]})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(yo,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Earn 10% commission on every subscription you refer"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Ho,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Build your own helper network and earn additional 5%"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(K0,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Flexible working - work from anywhere"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(fi,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"No investment required - completely free to join"})]})]})]})}),s.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4",children:s.jsxs(He,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Application Form"}),s.jsx(hn,{children:"Fill in your details to become a helper"})]}),s.jsxs(Xe,{children:[!u&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Please sign in with Google to continue with your application"}),s.jsx(we,{type:"button",onClick:w,disabled:l,variant:"outline",className:"w-full",size:"lg",children:l?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing up..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),u&&s.jsx(tS,{..._,children:s.jsxs("form",{onSubmit:_.handleSubmit(N),className:"space-y-6",children:[s.jsx(pn,{control:_.control,name:"full_name",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Full Name *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"Enter your full name",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx($n,{})]})}),s.jsx(pn,{control:_.control,name:"email",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Email Address *"}),s.jsx(dn,{children:s.jsx(lt,{type:"email",placeholder:"Enter your email",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx($n,{})]})}),s.jsx(pn,{control:_.control,name:"phone",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"UPI Phone Number *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"Enter 10-digit phone number",...S})}),s.jsx($n,{})]})}),s.jsx(pn,{control:_.control,name:"why_helper",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Why do you want to become a helper?"}),s.jsx(dn,{children:s.jsx(Ii,{placeholder:"Tell us why you want to join our helper program",className:"min-h-32",...S})}),s.jsx($n,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Bank Account Details"}),s.jsx(pn,{control:_.control,name:"bank_account_name",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Account Holder Name *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"As per bank records",...S})}),s.jsx($n,{})]})}),s.jsx(pn,{control:_.control,name:"bank_account_number",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Account Number *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"Enter account number",...S})}),s.jsx($n,{})]})}),s.jsx(pn,{control:_.control,name:"bank_ifsc_code",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"IFSC Code *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"e.g., SBIN0001234",...S})}),s.jsx($n,{})]})}),s.jsx(pn,{control:_.control,name:"bank_name",render:({field:S})=>s.jsxs(un,{children:[s.jsx(gn,{children:"Bank Name *"}),s.jsx(dn,{children:s.jsx(lt,{placeholder:"Enter your bank name",...S})}),s.jsx($n,{})]})})]}),s.jsx(pn,{control:_.control,name:"terms",render:({field:S})=>s.jsxs(un,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(dn,{children:s.jsx(ro,{checked:S.value,onCheckedChange:S.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(gn,{children:"I agree to terms and conditions *"}),s.jsx($n,{})]})]})}),s.jsx(we,{type:"submit",className:"w-full",size:"lg",children:"Apply Now"})]})})]})]})}),s.jsx(ss,{open:h,onOpenChange:x,children:s.jsxs(ts,{className:"sm:max-w-md",children:[s.jsxs(as,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(ma,{className:"h-8 w-8 text-red-600"})})}),s.jsx(is,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(ja,{className:"text-center text-base pt-4",children:g})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(we,{onClick:()=>x(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})}function ygt(){const[t,e]=j.useState(""),[r,n]=j.useState(null),[a,i]=j.useState(!1),[o,l]=j.useState(!1),c=async()=>{if(!t.trim()){Mt.error("Please enter an email or phone number");return}i(!0),l(!0);try{const{data:d,error:f}=await ae.from("helper_applications").select("*").or(`email.eq.${t},phone.eq.${t}`).single();if(f||!d){n(null);return}n(d)}catch(d){console.error("Error searching application:",d),Mt.error("Failed to search application")}finally{i(!1)}},u=d=>{switch(d){case"Pending":return s.jsxs(er,{className:"bg-yellow-500 text-white",children:[s.jsx(Xa,{className:"w-4 h-4 mr-1"}),"Application Pending"]});case"Approved":return s.jsxs(er,{className:"bg-green-500 text-white",children:[s.jsx(fi,{className:"w-4 h-4 mr-1"}),"Application Approved!"]});case"Rejected":return s.jsxs(er,{className:"bg-red-500 text-white",children:[s.jsx(ma,{className:"w-4 h-4 mr-1"}),"Application Not Approved"]});default:return null}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Check Application Status"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Enter your email or phone number to check your helper application status"})]}),s.jsxs(He,{className:"mb-8",children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Search Your Application"}),s.jsx(hn,{children:"Enter the email or phone number you used to apply"})]}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(lt,{placeholder:"Enter email or phone number",value:t,onChange:d=>e(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),s.jsxs(we,{onClick:c,disabled:a,children:[s.jsx(Vl,{className:"w-4 h-4 mr-2"}),a?"Searching...":"Check Status"]})]})})]}),o&&!a&&s.jsx(s.Fragment,{children:r?s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Nt,{children:"Application Details"}),u(r.application_status)]})}),s.jsxs(Xe,{className:"space-y-6",children:[r.application_status==="Pending"&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg mb-2 text-yellow-900 dark:text-yellow-100",children:"Your application is under review. We'll notify you within 2-3 business days."}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Application ID:"})," ",r.id.slice(0,8).toUpperCase()]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Applied on:"})," ",yn(new Date(r.created_at),"PPP")]})]})]}),r.application_status==="Approved"&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Congratulations! Your application has been approved."}),s.jsx("div",{className:"mt-4 space-y-2 text-sm text-green-800 dark:text-green-200",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"Approved on:"})," ",r.approved_at?yn(new Date(r.approved_at),"PPP"):"N/A"]})}),s.jsx(hr,{to:"/auth",children:s.jsx(we,{className:"mt-4 w-full",children:"Login to Dashboard"})})]}),r.application_status==="Rejected"&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-4",children:"Your application was not approved at this time."}),r.rejection_reason&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-1 text-red-900 dark:text-red-100",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r.rejection_reason})]}),s.jsxs("div",{className:"space-y-2 text-sm text-red-800 dark:text-red-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Rejected on:"})," ",yn(new Date(r.created_at),"PPP")]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Can reapply on:"})," ",yn(pot(new Date(r.created_at),30),"PPP")]})]}),s.jsx("p",{className:"mt-4 text-sm text-red-700 dark:text-red-300",children:"You can reapply after 30 days from rejection date"})]})]})]}):s.jsx(He,{children:s.jsxs(Xe,{className:"py-12 text-center",children:[s.jsx(ma,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Application Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find an application with this email or phone number"}),s.jsx(hr,{to:"/become-helper",children:s.jsx(we,{children:"Apply Now"})})]})})})]})})}function bgt(){const t=en(),{toast:e}=ga(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState({directReferrals:{total:0,trial:0,paid:0,conversionRate:0},helperNetwork:{total:0,pending:0,approved:0,suspended:0},directCommission:{total:0,pending:0,paid:0},networkCommission:{total:0,pending:0,paid:0}});j.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:x}}=await ae.auth.getUser();if(!x){t("/auth");return}const{data:g,error:v}=await ae.from("helpers").select("*").eq("email",x.email).single();if(v||!g){const{data:b}=await ae.from("helper_applications").select("*").eq("email",x.email).single();if(b){if(b.application_status==="Pending"){t("/application-status");return}else if(b.application_status==="Rejected"){e({title:"Application Rejected",description:b.rejection_reason||"Your application was not approved",variant:"destructive"}),t("/application-status");return}}else{t("/become-helper");return}}if(g.status==="Suspended"){e({title:"Account Suspended",description:"Your helper account has been suspended. Please contact support.",variant:"destructive"});return}i(g),await u(g.id),n(!1)}catch(x){console.error("Error checking helper access:",x),t("/auth")}},u=async x=>{try{const{data:g}=await ae.from("store_referrals").select("*").eq("helper_id",x),v=g?.length||0,b=g?.filter(W=>!W.subscription_purchased).length||0,_=g?.filter(W=>W.subscription_purchased).length||0,w=v>0?_/v*100:0,{data:N}=await ae.from("helpers").select("*, helper_applications!inner(*)").eq("recruited_by_helper_id",x),S=N?.length||0,{data:C}=await ae.from("helper_applications").select("*").eq("recruited_by_helper_id",x).eq("application_status","Pending"),A=N?.filter(W=>W.status==="Active").length||0,R=N?.filter(W=>W.status==="Suspended").length||0,{data:O}=await ae.from("network_commissions").select("*").eq("earning_helper_id",x),D=O?.reduce((W,Y)=>W+(Y.direct_commission_amount||0),0)||0,P=O?.reduce((W,Y)=>W+(Y.network_commission_amount||0),0)||0,E=O?.filter(W=>W.commission_status.includes("Pending")).reduce((W,Y)=>W+(Y.direct_commission_amount||0),0)||0,I=O?.filter(W=>W.commission_status==="Paid").reduce((W,Y)=>W+(Y.direct_commission_amount||0),0)||0,M=O?.filter(W=>W.commission_status.includes("Pending")).reduce((W,Y)=>W+(Y.network_commission_amount||0),0)||0,U=O?.filter(W=>W.commission_status==="Paid").reduce((W,Y)=>W+(Y.network_commission_amount||0),0)||0;l({directReferrals:{total:v,trial:b,paid:_,conversionRate:Math.round(w)},helperNetwork:{total:S,pending:C?.length||0,approved:A,suspended:R},directCommission:{total:D,pending:E,paid:I},networkCommission:{total:P,pending:M,paid:U}})}catch(g){console.error("Error loading stats:",g)}},d=(x,g)=>{navigator.clipboard.writeText(x),Mt.success(`${g} link copied to clipboard!`)},f=async()=>{await ae.auth.signOut(),e({title:"Logged Out",description:"You have been logged out successfully"}),t("/")};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});if(!a)return null;const m=`${window.location.origin}/auth?ref=${a.referral_code}`,h=`${window.location.origin}/become-helper?ref=${a.referral_code}`;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bp,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Helper Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5"}),s.jsx("span",{children:a.full_name})]})}),s.jsxs(Md,{align:"end",className:"w-56",children:[s.jsxs(es,{onClick:()=>t("/helper/profile"),children:[s.jsx(vo,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Vv,{}),s.jsxs(es,{onClick:f,className:"text-destructive",children:[s.jsx(Bv,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold",children:["Welcome back, ",a.full_name,"!"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs(er,{variant:"outline",className:"font-mono",children:["ID: ",a.referral_code]}),s.jsx(er,{className:a.status==="Active"?"bg-green-500":"bg-yellow-500",children:a.status})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Direct Referrals"}),s.jsx(Ho,{className:"h-5 w-5 text-blue-500"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:o.directReferrals.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.directReferrals.trial," on trial"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.directReferrals.paid," paid customers"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-3 w-3"}),s.jsxs("span",{children:["Conversion: ",o.directReferrals.conversionRate,"%"]})]})]})]})]}),s.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Helper Network"}),s.jsx(Y0,{className:"h-5 w-5 text-purple-500"})]}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:o.helperNetwork.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.helperNetwork.pending," pending approval"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.helperNetwork.approved," approved & active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"h-3 w-3 text-red-500"}),s.jsxs("span",{children:[o.helperNetwork.suspended," suspended"]})]})]})]})]}),s.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Direct Commission"}),s.jsx(yo,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(Xe,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500 mb-2",children:["",o.directCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.directCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.directCommission.paid.toLocaleString()," paid"]})]})]})]})]}),s.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(jt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Network Commission"}),s.jsx(zz,{className:"h-5 w-5 text-orange-500"})]}),s.jsxs(Xe,{children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:["",o.networkCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.networkCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.networkCommission.paid.toLocaleString()," paid"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("/helper/my-referrals"),children:s.jsx(Xe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Store Referrals"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.directReferrals.total," store owners you've referred"]})]}),s.jsx(eo,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("/helper/my-helper-network"),children:s.jsx(Xe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Helper Network"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.helperNetwork.total," helpers you've recruited"]})]}),s.jsx(eo,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("/helper/commission-history"),children:s.jsx(Xe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Commission History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View earnings & payment details"})]}),s.jsx(eo,{className:"h-6 w-6 text-primary"})]})})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(zz,{className:"h-5 w-5"}),"Your Referral Links"]})}),s.jsxs(Xe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Store Owner Referral Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to refer store owners"})]}),s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(Vz,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:m}),s.jsxs(we,{onClick:()=>d(m,"Store referral"),className:"gap-2",children:[s.jsx(Cu,{className:"h-4 w-4"}),"Copy"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Helper Recruitment Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to recruit helpers"})]}),s.jsxs(we,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(Vz,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:h}),s.jsxs(we,{onClick:()=>d(h,"Helper recruitment"),className:"gap-2",children:[s.jsx(Cu,{className:"h-4 w-4"}),"Copy"]})]})]})]})]})]})]})}function wgt(){const t=en(),{toast:e}=ga(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState([]),[d,f]=j.useState(""),[m,h]=j.useState("all"),[x,g]=j.useState(""),[v,b]=j.useState(""),[_,w]=j.useState({totalReferrals:0,onTrial:0,convertedToPaid:0,conversionRate:0,totalCommission:0,pendingPayment:0,alreadyPaid:0});j.useEffect(()=>{N()},[]),j.useEffect(()=>{C()},[o,d,m,x,v]);const N=async()=>{try{const{data:{user:D}}=await ae.auth.getUser();if(!D){t("/auth");return}const{data:P,error:E}=await ae.from("helpers").select("*").eq("email",D.email).single();if(E||!P){t("/helper/dashboard");return}i(P),await S(P.id),n(!1)}catch(D){console.error("Error checking helper access:",D),t("/auth")}},S=async D=>{try{const{data:P,error:E}=await ae.from("store_referrals").select("*").eq("helper_id",D).order("signup_date",{ascending:!1});if(E)throw E;const I=P?.length||0,M=P?.filter(L=>L.trial_status==="Active"&&!L.subscription_purchased).length||0,U=P?.filter(L=>L.subscription_purchased).length||0,W=I>0?U/I*100:0,{data:Y}=await ae.from("network_commissions").select("*").eq("earning_helper_id",D).in("store_referral_id",P?.map(L=>L.id)||[]),J=Y?.reduce((L,X)=>L+(X.direct_commission_amount||0),0)||0,z=Y?.filter(L=>L.commission_status.includes("Pending")).reduce((L,X)=>L+(X.direct_commission_amount||0),0)||0,q=Y?.filter(L=>L.commission_status==="Paid").reduce((L,X)=>L+(X.direct_commission_amount||0),0)||0;w({totalReferrals:I,onTrial:M,convertedToPaid:U,conversionRate:Math.round(W),totalCommission:J,pendingPayment:z,alreadyPaid:q});const V=P?.map(L=>{const X=Y?.find(K=>K.store_referral_id===L.id);return{...L,commissionEarned:X?.direct_commission_amount||0,commissionStatus:X?.commission_status||"Not Earned",paymentDate:X?.payment_date||null}})||[];l(V),u(V)}catch(P){console.error("Error loading referrals:",P),Mt.error("Failed to load referrals")}},C=()=>{let D=[...o];d&&(D=D.filter(P=>P.store_owner_name?.toLowerCase().includes(d.toLowerCase())||P.store_owner_email?.toLowerCase().includes(d.toLowerCase()))),m==="paid"?D=D.filter(P=>P.subscription_purchased):m==="trial"&&(D=D.filter(P=>!P.subscription_purchased)),x&&(D=D.filter(P=>new Date(P.signup_date)>=new Date(x))),v&&(D=D.filter(P=>new Date(P.signup_date)<=new Date(v))),u(D)},A=D=>{if(D.subscription_purchased)return{label:"Purchased",color:"bg-green-500",icon:rs};if(D.trial_status==="Active"){const P=D.trial_end_date?dA(new Date(D.trial_end_date),new Date):0;return P>0?{label:`Active Trial (${P}d left)`,color:"bg-yellow-500",icon:Xa}:{label:"Trial Expired",color:"bg-red-500",icon:ma}}return{label:"Trial Expired",color:"bg-red-500",icon:ma}},R=D=>D==="Paid"?s.jsx(er,{className:"bg-blue-500",children:"Paid"}):D.includes("Pending")?s.jsx(er,{className:"bg-yellow-500",children:"Pending"}):D.includes("Earned")?s.jsx(er,{className:"bg-green-500",children:"Earned"}):s.jsx(er,{variant:"outline",children:"Not Earned"}),O=async()=>{await ae.auth.signOut(),e({title:"Logged Out",description:"You have been logged out successfully"}),t("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading referrals..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(hr,{to:"/helper/dashboard",children:s.jsxs(we,{variant:"ghost",size:"sm",children:[s.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bp,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Referrals"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Md,{align:"end",className:"w-56",children:[s.jsxs(es,{children:[s.jsx(vo,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Vv,{}),s.jsxs(es,{onClick:O,className:"text-destructive",children:[s.jsx(Bv,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Total Referrals"})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-3xl font-bold",children:_.totalReferrals})})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"On Trial / Paid"})}),s.jsxs(Xe,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[s.jsx("span",{className:"text-yellow-500",children:_.onTrial})," / ",s.jsx("span",{className:"text-green-500",children:_.convertedToPaid})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Conversion: ",_.conversionRate,"%"]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",_.totalCommission.toLocaleString()]})})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",_.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",_.alreadyPaid.toLocaleString()]})]})]})})]})]}),s.jsx(He,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(lt,{placeholder:"Search by name or email...",value:d,onChange:D=>f(D.target.value),className:"pl-10"})]}),s.jsxs(zr,{value:m,onValueChange:h,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Filter by status"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"Show All"}),s.jsx(ut,{value:"paid",children:"Show Only Paid"}),s.jsx(ut,{value:"trial",children:"Show Only Trials"})]})]}),s.jsx(lt,{type:"date",placeholder:"From date",value:x,onChange:D=>g(D.target.value)}),s.jsx(lt,{type:"date",placeholder:"To date",value:v,onChange:D=>b(D.target.value)})]})})}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{children:["Store Referrals (",c.length,")"]})}),s.jsx(Xe,{children:c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ho,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No referrals found"})]}):s.jsx("div",{className:"space-y-4",children:c.map(D=>{const P=A(D),E=P.icon;return s.jsx(He,{className:"hover:shadow-md transition-shadow",children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:D.store_owner_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:D.store_owner_email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:D.store_owner_phone}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx(Uu,{className:"inline w-3 h-3 mr-1"}),"Signed up: ",yn(new Date(D.signup_date),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Status"}),s.jsxs(er,{className:`${P.color} flex items-center gap-1 w-fit`,children:[s.jsx(E,{className:"w-3 h-3"}),P.label]}),D.subscription_purchased&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsxs("div",{className:"text-muted-foreground",children:["Plan: ",D.subscription_plan]}),s.jsxs("div",{className:"text-muted-foreground",children:["Amount: ",D.subscription_amount?.toLocaleString()]}),D.purchase_date&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Purchased: ",yn(new Date(D.purchase_date),"PP")]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500",children:["",D.commissionEarned.toLocaleString()]}),s.jsx("div",{className:"mt-2",children:R(D.commissionStatus)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Payment"}),D.paymentDate?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:"Paid on:"}),s.jsx("div",{className:"font-medium",children:yn(new Date(D.paymentDate),"PPP")})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not paid yet"})]})]})})},D.id)})})})]})]})]})}function _gt(){const t=en(),{toast:e}=ga(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState({totalRecruited:0,pendingApproval:0,active:0,suspended:0,totalNetworkCommission:0,pendingCommission:0,paidCommission:0,bestPerformer:{name:"",earned:0}});j.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:v}}=await ae.auth.getUser();if(!v){t("/auth");return}const{data:b,error:_}=await ae.from("helpers").select("*").eq("email",v.email).single();if(_||!b){t("/helper/dashboard");return}i(b),await f(b.id),n(!1)}catch(v){console.error("Error checking helper access:",v),t("/auth")}},f=async v=>{try{const{data:b,error:_}=await ae.from("helpers").select(`
          *,
          helper_applications!inner(application_status)
        `).eq("recruited_by_helper_id",v).order("created_at",{ascending:!1});if(_)throw _;const w=await Promise.all((b||[]).map(async E=>{const{data:I}=await ae.from("store_referrals").select("id").eq("helper_id",E.id),{data:M}=await ae.from("network_commissions").select("direct_commission_amount, commission_status").eq("earning_helper_id",E.id),U=M?.reduce((z,q)=>z+(q.direct_commission_amount||0),0)||0,{data:W}=await ae.from("network_commissions").select("network_commission_amount, commission_status").eq("earning_helper_id",E.id).eq("recruiting_helper_id",v),Y=W?.reduce((z,q)=>z+(q.network_commission_amount||0),0)||0;let J="Not Earned";if(W&&W.length>0){const z=W.some(V=>V.commission_status.includes("Pending"));W.every(V=>V.commission_status==="Paid")?J="Paid":z?J="Pending":J="Earned"}return{...E,store_referrals_count:I?.length||0,total_commission_earned:U,network_commission_to_recruiter:Y,commission_status:J,application_status:E.helper_applications?.application_status||"Pending"}}));l(w);const N=w.length,S=w.filter(E=>E.application_status==="Pending").length,C=w.filter(E=>E.status==="Active").length,A=w.filter(E=>E.status==="Suspended").length,R=w.reduce((E,I)=>E+I.network_commission_to_recruiter,0),O=w.filter(E=>E.commission_status==="Pending").reduce((E,I)=>E+I.network_commission_to_recruiter,0),D=w.filter(E=>E.commission_status==="Paid").reduce((E,I)=>E+I.network_commission_to_recruiter,0),P=w.reduce((E,I)=>I.network_commission_to_recruiter>E.earned?{name:I.full_name,earned:I.network_commission_to_recruiter}:E,{name:"",earned:0});u({totalRecruited:N,pendingApproval:S,active:C,suspended:A,totalNetworkCommission:R,pendingCommission:O,paidCommission:D,bestPerformer:P})}catch(b){console.error("Error loading recruited helpers:",b),Mt.error("Failed to load network data")}},m=(v,b)=>b==="Pending"?s.jsxs(er,{className:"bg-yellow-500",children:[s.jsx(Xa,{className:"w-3 h-3 mr-1"}),"Pending Approval"]}):v==="Active"?s.jsxs(er,{className:"bg-green-500",children:[s.jsx(rs,{className:"w-3 h-3 mr-1"}),"Active"]}):v==="Suspended"?s.jsxs(er,{className:"bg-red-500",children:[s.jsx(ma,{className:"w-3 h-3 mr-1"}),"Suspended"]}):s.jsx(er,{variant:"outline",children:"Unknown"}),h=v=>v==="Paid"?s.jsx(er,{className:"bg-blue-500",children:"Paid"}):v==="Pending"?s.jsx(er,{className:"bg-yellow-500",children:"Pending"}):v==="Earned"?s.jsx(er,{className:"bg-green-500",children:"Earned"}):s.jsx(er,{variant:"outline",children:"Not Earned"}),x=(v,b)=>{navigator.clipboard.writeText(v),Mt.success(`${b} copied to clipboard!`)},g=async()=>{await ae.auth.signOut(),e({title:"Logged Out",description:"You have been logged out successfully"}),t("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading network..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(hr,{to:"/helper/dashboard",children:s.jsxs(we,{variant:"ghost",size:"sm",children:[s.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(RI,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Helper Network"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Md,{align:"end",className:"w-56",children:[s.jsxs(es,{children:[s.jsx(vo,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Vv,{}),s.jsxs(es,{onClick:g,className:"text-destructive",children:[s.jsx(Bv,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Network Size"})}),s.jsxs(Xe,{children:[s.jsx("div",{className:"text-3xl font-bold",children:c.totalRecruited}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Pending: ",c.pendingApproval," | Active: ",c.active]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Total Network Commission"})}),s.jsxs(Xe,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",c.totalNetworkCommission.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["From ",c.active," active helpers"]})]})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Commission Status"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",c.pendingCommission.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",c.paidCommission.toLocaleString()]})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{className:"pb-2",children:s.jsx(Nt,{className:"text-sm font-medium text-muted-foreground",children:"Best Performer"})}),s.jsx(Xe,{children:c.bestPerformer.name?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold text-lg truncate",children:c.bestPerformer.name}),s.jsxs("p",{className:"text-sm text-green-500",children:["Earned you ",c.bestPerformer.earned.toLocaleString()]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet"})})]})]}),o.length===0?s.jsx(He,{children:s.jsx(Xe,{className:"py-16",children:s.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[s.jsx(RI,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Build Your Helper Network"}),s.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"You haven't recruited any helpers yet. Start building your network to earn 5% network commission on their earnings!"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(yo,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Passive Income"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 5% of everything your recruited helpers earn"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx($l,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Unlimited Potential"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No limit on how many helpers you can recruit"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(OI,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Build Your Team"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a strong network and grow together"})]})]}),s.jsxs("div",{className:"bg-primary/5 border-2 border-primary/20 rounded-lg p-6",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center justify-center gap-2",children:[s.jsx(Une,{className:"h-5 w-5"}),"Your Helper Recruitment Link"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-4 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(we,{onClick:()=>x(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this link with people interested in becoming helpers"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"bg-primary/5 border-primary/20",children:s.jsxs(Xe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(G0,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",children:["You (",a?.full_name," - ",a?.helper_id,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Network Builder | ",o.length," Helper",o.length!==1?"s":""," Recruited"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-3 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(we,{size:"sm",onClick:()=>x(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Your Recruited Helpers (",o.length,")"]}),o.map((v,b)=>s.jsx(He,{className:"hover:shadow-md transition-shadow",children:s.jsx(Xe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ho,{className:"h-4 w-4 text-primary"})}),b<o.length-1&&s.jsx("div",{className:"w-0.5 h-full bg-primary/20 mt-2"})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:v.full_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.id," | ",v.referral_code]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx(Uu,{className:"inline w-3 h-3 mr-1"}),"Joined: ",yn(new Date(v.created_at),"PPP")]}),s.jsx("div",{className:"mt-2",children:m(v.status,v.application_status)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Their Performance"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bp,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Store Referrals:"}),s.jsx("span",{className:"font-semibold",children:v.store_referrals_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Their Earnings:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",v.total_commission_earned.toLocaleString()]})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Your Network Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500 mb-2",children:["",v.network_commission_to_recruiter.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["5% of their ",v.total_commission_earned.toLocaleString()]}),h(v.commission_status)]}),s.jsx("div",{className:"flex items-center",children:s.jsxs(we,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(zo,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})})]})})},v.id))]})]})]})]})}function jgt(){const t=en(),{toast:e}=ga(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState([]),[d,f]=j.useState([]),[m,h]=j.useState([]),[x,g]=j.useState(""),[v,b]=j.useState(""),[_,w]=j.useState("all"),[N,S]=j.useState("all"),[C,A]=j.useState({direct:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},network:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},grand:{total:0,pending:0,paid:0,nextPaymentDate:""}});j.useEffect(()=>{R()},[]),j.useEffect(()=>{D()},[o,c,x,v,_,N]);const R=async()=>{try{const{data:{user:M}}=await ae.auth.getUser();if(!M){t("/auth");return}const{data:U,error:W}=await ae.from("helpers").select("*").eq("email",M.email).single();if(W||!U){t("/helper/dashboard");return}i(U),await O(U.id),n(!1)}catch(M){console.error("Error checking helper access:",M),t("/auth")}},O=async M=>{try{const{data:U,error:W}=await ae.from("network_commissions").select(`
          *,
          store_referral:store_referrals(
            store_owner_name,
            store_owner_email,
            subscription_plan,
            subscription_amount
          )
        `).eq("earning_helper_id",M).order("created_at",{ascending:!1});if(W)throw W;const Y=[],J=[];for(const se of U||[])if(se.direct_commission_amount>0&&Y.push({id:se.id,date_earned:se.created_at,store_owner_name:se.store_referral?.store_owner_name||"N/A",subscription_plan:se.store_referral?.subscription_plan||"N/A",plan_amount:se.store_referral?.subscription_amount||0,commission_amount:se.direct_commission_amount,commission_status:se.commission_status,payment_date:se.payment_date,payment_reference:se.payment_reference}),se.network_commission_amount>0&&se.recruiting_helper_id){const{data:Z}=await ae.from("helpers").select("full_name").eq("id",se.earning_helper_id).single();J.push({id:se.id,date_earned:se.created_at,helper_name:Z?.full_name||"N/A",customer_name:se.store_referral?.store_owner_name||"N/A",helper_commission:se.direct_commission_amount,network_commission:se.network_commission_amount,commission_status:se.commission_status,payment_date:se.payment_date,payment_reference:se.payment_reference})}l(Y),u(J);const z=Y.reduce((se,Z)=>se+Z.commission_amount,0),q=Y.filter(se=>se.commission_status.includes("Pending")).reduce((se,Z)=>se+Z.commission_amount,0),V=Y.filter(se=>se.commission_status==="Paid").reduce((se,Z)=>se+Z.commission_amount,0),L=Y.filter(se=>se.commission_status.includes("Pending")).length,X=Y.filter(se=>se.commission_status==="Paid").length,K=J.reduce((se,Z)=>se+Z.network_commission,0),Q=J.filter(se=>se.commission_status.includes("Pending")).reduce((se,Z)=>se+Z.network_commission,0),oe=J.filter(se=>se.commission_status==="Paid").reduce((se,Z)=>se+Z.network_commission,0),ce=J.filter(se=>se.commission_status.includes("Pending")).length,de=J.filter(se=>se.commission_status==="Paid").length,ne=[...Y,...J].filter(se=>se.commission_status.includes("Pending")&&se.payment_date).map(se=>new Date(se.payment_date).getTime()).sort((se,Z)=>se-Z),ue=ne.length>0?yn(new Date(ne[0]),"PPP"):"TBD";A({direct:{total:z,pending:q,paid:V,pendingCount:L,paidCount:X},network:{total:K,pending:Q,paid:oe,pendingCount:ce,paidCount:de},grand:{total:z+K,pending:q+Q,paid:V+oe,nextPaymentDate:ue}})}catch(U){console.error("Error loading commissions:",U),Mt.error("Failed to load commission history")}},D=()=>{let M=[...o],U=[...c];x&&(M=M.filter(W=>new Date(W.date_earned)>=new Date(x)),U=U.filter(W=>new Date(W.date_earned)>=new Date(x))),v&&(M=M.filter(W=>new Date(W.date_earned)<=new Date(v)),U=U.filter(W=>new Date(W.date_earned)<=new Date(v))),_==="pending"?(M=M.filter(W=>W.commission_status.includes("Pending")),U=U.filter(W=>W.commission_status.includes("Pending"))):_==="paid"&&(M=M.filter(W=>W.commission_status==="Paid"),U=U.filter(W=>W.commission_status==="Paid")),N==="direct"?U=[]:N==="network"&&(M=[]),f(M),h(U)},P=M=>M==="Paid"?s.jsxs(er,{className:"bg-green-500",children:[s.jsx(rs,{className:"w-3 h-3 mr-1"}),"Paid"]}):M.includes("Pending")?s.jsxs(er,{className:"bg-yellow-500",children:[s.jsx(Xa,{className:"w-3 h-3 mr-1"}),"Pending"]}):s.jsx(er,{variant:"outline",children:M}),E=()=>{try{const M=d.map(q=>({"Date Earned":yn(new Date(q.date_earned),"PPP"),"Store Owner":q.store_owner_name,"Subscription Plan":q.subscription_plan,"Plan Amount":`${q.plan_amount.toLocaleString()}`,"Your Commission (10%)":`${q.commission_amount.toLocaleString()}`,Status:q.commission_status,"Payment Date":q.payment_date?yn(new Date(q.payment_date),"PPP"):"N/A","Payment Reference":q.payment_reference||"N/A"})),U=m.map(q=>({"Date Earned":yn(new Date(q.date_earned),"PPP"),"Helper Name":q.helper_name,"Their Customer":q.customer_name,"Their Commission":`${q.helper_commission.toLocaleString()}`,"Your Network Commission (5%)":`${q.network_commission.toLocaleString()}`,Status:q.commission_status,"Payment Date":q.payment_date?yn(new Date(q.payment_date),"PPP"):"N/A","Payment Reference":q.payment_reference||"N/A"})),W=Qi.book_new();if(M.length>0){const q=Qi.json_to_sheet(M);Qi.book_append_sheet(W,q,"Direct Commissions")}if(U.length>0){const q=Qi.json_to_sheet(U);Qi.book_append_sheet(W,q,"Network Commissions")}const Y=[{Category:"Direct Commissions",Total:`${C.direct.total.toLocaleString()}`,Pending:`${C.direct.pending.toLocaleString()}`,Paid:`${C.direct.paid.toLocaleString()}`},{Category:"Network Commissions",Total:`${C.network.total.toLocaleString()}`,Pending:`${C.network.pending.toLocaleString()}`,Paid:`${C.network.paid.toLocaleString()}`},{Category:"GRAND TOTAL",Total:`${C.grand.total.toLocaleString()}`,Pending:`${C.grand.pending.toLocaleString()}`,Paid:`${C.grand.paid.toLocaleString()}`}],J=Qi.json_to_sheet(Y);Qi.book_append_sheet(W,J,"Summary");const z=`commission_history_${yn(new Date,"yyyy-MM-dd")}.xlsx`;Ev(W,z),Mt.success("Commission history exported successfully!")}catch(M){console.error("Error exporting to Excel:",M),Mt.error("Failed to export commission history")}},I=async()=>{await ae.auth.signOut(),e({title:"Logged Out",description:"You have been logged out successfully"}),t("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commission history..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(hr,{to:"/helper/dashboard",children:s.jsxs(we,{variant:"ghost",size:"sm",children:[s.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Commission History"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Md,{align:"end",className:"w-56",children:[s.jsxs(es,{children:[s.jsx(vo,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Vv,{}),s.jsxs(es,{onClick:I,className:"text-destructive",children:[s.jsx(Bv,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(He,{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border-green-500/20",children:s.jsx(Xe,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Earned"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",C.grand.total.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct + Network"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-500",children:["",C.grand.pending.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting payment"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Paid"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-500",children:["",C.grand.paid.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Received"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Next Payment"}),s.jsx("p",{className:"text-xl font-bold",children:C.grand.nextPaymentDate}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expected date"})]})]})})}),s.jsx(He,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(lt,{type:"date",placeholder:"From date",value:x,onChange:M=>g(M.target.value)}),s.jsx(lt,{type:"date",placeholder:"To date",value:v,onChange:M=>b(M.target.value)}),s.jsxs(zr,{value:_,onValueChange:w,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Status"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Status"}),s.jsx(ut,{value:"pending",children:"Pending Only"}),s.jsx(ut,{value:"paid",children:"Paid Only"})]})]}),s.jsxs(zr,{value:N,onValueChange:S,children:[s.jsx(Lr,{children:s.jsx(qr,{placeholder:"Type"})}),s.jsxs($r,{children:[s.jsx(ut,{value:"all",children:"All Types"}),s.jsx(ut,{value:"direct",children:"Direct Only"}),s.jsx(ut,{value:"network",children:"Network Only"})]})]}),s.jsxs(we,{onClick:E,className:"w-full",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]})})}),N!=="network"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Direct Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Store Owners You Referred)"})]}),s.jsx(He,{className:"bg-green-500/5 border-green-500/20",children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Direct Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",C.direct.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.direct.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.pendingCount," customer",C.direct.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-blue-500",children:["",C.direct.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.paidCount," customer",C.direct.paidCount!==1?"s":""]})]})]})})}),s.jsx(He,{children:s.jsx(Xe,{className:"p-0",children:d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No direct commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Date Earned"}),s.jsx(At,{children:"Store Owner"}),s.jsx(At,{children:"Subscription Plan"}),s.jsx(At,{children:"Plan Amount"}),s.jsx(At,{children:"Your Commission (10%)"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Payment Date"}),s.jsx(At,{children:"Reference"})]})}),s.jsx(Qa,{children:d.map(M=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uu,{className:"h-4 w-4 text-muted-foreground"}),yn(new Date(M.date_earned),"PP")]})}),s.jsx(_t,{className:"font-medium",children:M.store_owner_name}),s.jsx(_t,{children:M.subscription_plan}),s.jsxs(_t,{children:["",M.plan_amount.toLocaleString()]}),s.jsxs(_t,{className:"font-bold text-green-500",children:["",M.commission_amount.toLocaleString()]}),s.jsx(_t,{children:P(M.commission_status)}),s.jsx(_t,{children:M.payment_date?yn(new Date(M.payment_date),"PP"):"-"}),s.jsx(_t,{className:"text-sm text-muted-foreground",children:M.payment_reference||"-"})]},M.id))})]})})})})]}),N!=="direct"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Network Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Helpers You Recruited)"})]}),s.jsx(He,{className:"bg-blue-500/5 border-blue-500/20",children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Network Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",C.network.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.network.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.pendingCount," helper",C.network.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",C.network.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.paidCount," helper",C.network.paidCount!==1?"s":""]})]})]})})}),s.jsx(He,{children:s.jsx(Xe,{className:"p-0",children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No network commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ja,{children:[s.jsx(Za,{children:s.jsxs(rn,{children:[s.jsx(At,{children:"Date Earned"}),s.jsx(At,{children:"Helper Name"}),s.jsx(At,{children:"Their Customer"}),s.jsx(At,{children:"Their Commission"}),s.jsx(At,{children:"Your Network Commission (5%)"}),s.jsx(At,{children:"Status"}),s.jsx(At,{children:"Payment Date"}),s.jsx(At,{children:"Reference"})]})}),s.jsx(Qa,{children:m.map(M=>s.jsxs(rn,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uu,{className:"h-4 w-4 text-muted-foreground"}),yn(new Date(M.date_earned),"PP")]})}),s.jsx(_t,{className:"font-medium",children:M.helper_name}),s.jsx(_t,{children:M.customer_name}),s.jsxs(_t,{children:["",M.helper_commission.toLocaleString()]}),s.jsxs(_t,{className:"font-bold text-blue-500",children:["",M.network_commission.toLocaleString()]}),s.jsx(_t,{children:P(M.commission_status)}),s.jsx(_t,{children:M.payment_date?yn(new Date(M.payment_date),"PP"):"-"}),s.jsx(_t,{className:"text-sm text-muted-foreground",children:M.payment_reference||"-"})]},M.id))})]})})})})]})]})]})}function Ngt(){const t=en(),{toast:e}=ga(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[m,h]=j.useState(null),[x,g]=j.useState({full_name:"",phone:""}),[v,b]=j.useState({account_holder_name:"",account_number:"",ifsc_code:"",bank_name:""}),[_,w]=j.useState(""),[N,S]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,A]=j.useState({memberSince:"",daysActive:0,totalEarnings:0,rank:"Bronze",badges:[]});j.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{user:W}}=await ae.auth.getUser();if(!W){t("/auth");return}const{data:Y,error:J}=await ae.from("helpers").select("*").eq("email",W.email).single();if(J||!Y){t("/helper/dashboard");return}if(i(Y),g({full_name:Y.full_name,phone:Y.phone}),Y.application_id){const{data:z}=await ae.from("helper_applications").select("bank_account_name, bank_account_number, bank_ifsc_code, bank_name").eq("id",Y.application_id).single();z&&b({account_holder_name:z.bank_account_name||"",account_number:z.bank_account_number||"",ifsc_code:z.bank_ifsc_code||"",bank_name:z.bank_name||""})}await O(Y.id,Y.created_at),n(!1)}catch(W){console.error("Error checking helper access:",W),t("/auth")}},O=async(W,Y)=>{try{const J=dA(new Date,new Date(Y)),{data:z}=await ae.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",W),q=z?.reduce((X,K)=>X+(K.direct_commission_amount||0)+(K.network_commission_amount||0),0)||0;let V="Bronze";const L=[];q>=1e5?(V="Gold",L.push("Gold Member","Top Performer","Network Builder")):q>=5e4?(V="Silver",L.push("Silver Member","Rising Star")):(V="Bronze",J>=30&&L.push("Consistent Helper"),q>0&&L.push("First Earnings")),A({memberSince:yn(new Date(Y),"PPP"),daysActive:J,totalEarnings:q,rank:V,badges:L})}catch(J){console.error("Error loading performance:",J)}},D=async()=>{try{const{error:W}=await ae.from("helpers").update({full_name:x.full_name,phone:x.phone,updated_at:new Date().toISOString()}).eq("id",a.id);if(W)throw W;i({...a,full_name:x.full_name,phone:x.phone}),l(!1),Mt.success("Profile updated successfully!")}catch(W){console.error("Error updating profile:",W),Mt.error("Failed to update profile")}},P=()=>{h(v),f(!0)},E=async()=>{try{const{data:{user:W}}=await ae.auth.getUser();if(!W?.email)throw new Error("User not found");const{error:Y}=await ae.auth.signInWithPassword({email:W.email,password:_});if(Y){Mt.error("Incorrect password");return}const{error:J}=await ae.from("helper_applications").update({bank_account_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}).eq("id",a.application_id);if(J)throw J;i({...a,bank_account_holder_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}),u(!1),f(!1),w(""),h(null),Mt.success("Bank details updated successfully!")}catch(W){console.error("Error updating bank details:",W),Mt.error("Failed to update bank details")}},I=async()=>{if(N.newPassword!==N.confirmPassword){Mt.error("New passwords do not match");return}if(N.newPassword.length<6){Mt.error("Password must be at least 6 characters");return}try{const{data:{user:W}}=await ae.auth.getUser();if(!W?.email)throw new Error("User not found");const{error:Y}=await ae.auth.signInWithPassword({email:W.email,password:N.currentPassword});if(Y){Mt.error("Current password is incorrect");return}const{error:J}=await ae.auth.updateUser({password:N.newPassword});if(J)throw J;S({currentPassword:"",newPassword:"",confirmPassword:""}),Mt.success("Password changed successfully!")}catch(W){console.error("Error changing password:",W),Mt.error("Failed to change password")}},M=W=>{const Y={Bronze:"bg-orange-500",Silver:"bg-gray-400",Gold:"bg-yellow-500"};return s.jsxs(er,{className:`${Y[W]} text-white text-lg px-4 py-1`,children:[s.jsx(OI,{className:"w-4 h-4 mr-2"}),W]})},U=async()=>{await ae.auth.signOut(),e({title:"Logged Out",description:"You have been logged out successfully"}),t("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(hr,{to:"/helper/dashboard",children:s.jsxs(we,{variant:"ghost",size:"sm",children:[s.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vo,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Profile & Settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dl,{}),s.jsxs(Uf,{children:[s.jsx(zf,{asChild:!0,children:s.jsxs(we,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(Md,{align:"end",className:"w-56",children:[s.jsxs(es,{children:[s.jsx(vo,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Vv,{}),s.jsxs(es,{onClick:U,className:"text-destructive",children:[s.jsx(Bv,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsx("main",{className:"container mx-auto p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5"}),"Profile Information"]}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>{l(!1),g({full_name:a.full_name,phone:a.phone})},children:[s.jsx(so,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(we,{size:"sm",onClick:D,children:[s.jsx(zu,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>l(!0),children:[s.jsx(Lf,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Xe,{className:"space-y-4",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Full Name"}),s.jsx(lt,{value:x.full_name,onChange:W=>g({...x,full_name:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Phone"}),s.jsx(lt,{value:x.phone,onChange:W=>g({...x,phone:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Email (Cannot be changed)"}),s.jsx(lt,{value:a.email,disabled:!0})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Full Name"}),s.jsx("p",{className:"font-semibold",children:a.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Mf,{className:"h-4 w-4"}),a.email]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Tf,{className:"h-4 w-4"}),a.phone]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Helper ID"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(bp,{className:"h-4 w-4"}),a.helper_id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Referral Code"}),s.jsx("p",{className:"font-semibold text-primary",children:a.referral_code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Joined Date"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Uu,{className:"h-4 w-4"}),yn(new Date(a.created_at),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(er,{className:a.status==="Active"?"bg-green-500":"bg-red-500",children:a.status})]})]})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5"}),"Bank Details"]}),c?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>{u(!1),b({account_holder_name:a.bank_account_holder_name||"",account_number:a.bank_account_number||"",ifsc_code:a.bank_ifsc_code||"",bank_name:a.bank_name||""})},children:[s.jsx(so,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(we,{size:"sm",onClick:P,children:[s.jsx(zu,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(we,{size:"sm",variant:"outline",onClick:()=>u(!0),children:[s.jsx(Lf,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Xe,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Account Holder Name"}),s.jsx(lt,{value:v.account_holder_name,onChange:W=>b({...v,account_holder_name:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Account Number"}),s.jsx(lt,{value:v.account_number,onChange:W=>b({...v,account_number:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"IFSC Code"}),s.jsx(lt,{value:v.ifsc_code,onChange:W=>b({...v,ifsc_code:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Bank Name"}),s.jsx(lt,{value:v.bank_name,onChange:W=>b({...v,bank_name:W.target.value})})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.bank_account_holder_name?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Holder Name"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_holder_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Number"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_number?`****${a.bank_account_number.slice(-4)}`:"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"IFSC Code"}),s.jsx("p",{className:"font-semibold",children:a.bank_ifsc_code||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Bank Name"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Hbe,{className:"h-4 w-4"}),a.bank_name||"Not provided"]})]})]}):s.jsxs("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:[s.jsx(Ks,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No bank details added yet"})]})})})]}),s.jsxs(He,{children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(_0,{className:"h-5 w-5"}),"Change Password"]})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Current Password"}),s.jsx(lt,{type:"password",value:N.currentPassword,onChange:W=>S({...N,currentPassword:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"New Password"}),s.jsx(lt,{type:"password",value:N.newPassword,onChange:W=>S({...N,newPassword:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Confirm New Password"}),s.jsx(lt,{type:"password",value:N.confirmPassword,onChange:W=>S({...N,confirmPassword:W.target.value})})]}),s.jsx(we,{onClick:I,children:"Update Password"})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(He,{className:"bg-gradient-to-br from-primary/10 to-purple-500/10",children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-5 w-5"}),"Your Performance"]})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsx("div",{className:"text-center py-4",children:M(C.rank)}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Member Since"}),s.jsx("span",{className:"font-semibold",children:C.memberSince})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Days Active"}),s.jsxs("span",{className:"font-semibold text-blue-500",children:[C.daysActive," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),s.jsxs("span",{className:"font-bold text-green-500 text-lg",children:["",C.totalEarnings.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),s.jsx("span",{className:"font-semibold",children:C.rank})]})]}),C.badges.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(OI,{className:"h-4 w-4"}),"Achievement Badges"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.badges.map((W,Y)=>s.jsxs(er,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(rs,{className:"h-3 w-3"}),W]},Y))})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Rank Progression"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bronze"}),s.jsx("span",{className:"text-muted-foreground",children:"0+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Silver"}),s.jsx("span",{className:"text-muted-foreground",children:"50,000+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Gold"}),s.jsx("span",{className:"text-muted-foreground",children:"100,000+"})]})]})]})]})]})})]})}),s.jsx(ss,{open:d,onOpenChange:f,children:s.jsxs(ts,{children:[s.jsxs(as,{children:[s.jsx(is,{children:"Verify Password"}),s.jsx(ja,{children:"Please enter your password to confirm bank details update"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Password"}),s.jsx(lt,{type:"password",value:_,onChange:W=>w(W.target.value),placeholder:"Enter your password"})]})}),s.jsxs(to,{children:[s.jsx(we,{variant:"outline",onClick:()=>{f(!1),w(""),h(null)},children:"Cancel"}),s.jsx(we,{onClick:E,children:"Verify & Update"})]})]})})]})}function Sgt(){const t=en(),[e,r]=j.useState(!1),[n,a]=j.useState(!0);j.useEffect(()=>{const o=async c=>{try{console.log("[HelperLogin] Checking helper status for user:",c);const{data:u,error:d}=await ae.from("helpers").select("*").eq("id",c).maybeSingle();if(d){console.error("[HelperLogin] Error checking helper status:",d);return}if(u){console.log("[HelperLogin] Approved helper found, redirecting to dashboard"),Mt.success("Welcome back!"),t("/helper/dashboard");return}const{data:f,error:m}=await ae.from("helper_applications").select("*").eq("user_id",c).maybeSingle();if(m){console.error("[HelperLogin] Error checking application:",m);return}if(f){console.log("[HelperLogin] Application found with status:",f.application_status),f.application_status==="Pending"?Mt.info("Your application is under review"):f.application_status==="Rejected"?Mt.error("Your helper application was rejected"):Mt.info("Checking your application status..."),t("/application-status");return}console.log("[HelperLogin] No helper or application found"),Mt.error("You are not registered as a helper. Please apply to become a helper first."),await ae.auth.signOut()}catch(u){console.error("[HelperLogin] Error in session check:",u)}};ae.auth.getSession().then(async({data:{session:c}})=>{c&&(console.log("[HelperLogin] Existing session found"),await o(c.user.id)),a(!1)});const{data:{subscription:l}}=ae.auth.onAuthStateChange(async(c,u)=>{console.log("[HelperLogin] Auth state changed:",c),c==="SIGNED_IN"&&u&&(console.log("[HelperLogin] User signed in, checking helper status"),a(!0),setTimeout(async()=>{await o(u.user.id),a(!1)},100))});return()=>l.unsubscribe()},[t]);const i=async()=>{try{r(!0),console.log("[HelperLogin] Starting Google sign in for helper...");const{error:o}=await ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/helper/login`}});o?(console.error("[HelperLogin] Google sign in error:",o),Mt.error(o.message||"Failed to sign in with Google")):console.log("[HelperLogin] Google OAuth redirect initiated")}catch(o){console.error("[HelperLogin] Unexpected error:",o),Mt.error(o.message||"An unexpected error occurred")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"mb-4",children:s.jsx(hr,{to:"/",children:s.jsxs(we,{variant:"ghost",size:"sm",children:[s.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),s.jsxs(He,{className:"shadow-xl",children:[s.jsxs(jt,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ho,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx(Nt,{className:"text-2xl font-bold",children:"Helper Login"}),s.jsx(hn,{children:"Sign in to access your helper dashboard"})]}),s.jsx(Xe,{children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[s.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking your session..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(we,{onClick:i,disabled:e,variant:"outline",className:"w-full",size:"lg",children:e?s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Don't have a helper account?"}),s.jsx(hr,{to:"/become-helper",children:s.jsx(we,{variant:"link",className:"text-blue-600 dark:text-blue-400",children:"Apply to become a helper"})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Are you a store owner?"," ",s.jsx(hr,{to:"/auth",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Login here"})]})})]})})]}),s.jsx(He,{className:"mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:s.jsx(Xe,{className:"pt-4",children:s.jsxs("p",{className:"text-xs text-blue-900 dark:text-blue-200 text-center",children:[s.jsx("strong",{children:"Note:"})," This login is exclusively for helpers. Store owners should use the main login page."]})})})]})})}function one(){const[t,e]=j.useState(""),[r,n]=j.useState(!0);return j.useEffect(()=>{const a=async(l,c)=>{console.log("[SITEMAP] Generating store-specific sitemap for:",l);const{data:u,error:d}=await ae.from("stores").select("id, slug, subdomain, custom_domain, updated_at").or(`slug.eq.${l},subdomain.eq.${l},custom_domain.eq.${l}`).single();if(d||!u){console.error("[SITEMAP] Store not found:",d),e(`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
</urlset>`);return}let f="";u.custom_domain?f=`https://${u.custom_domain}`:u.subdomain?f=`https://${u.subdomain}.digitaldukandar.in`:f=`https://digitaldukandar.in/${u.slug}`;const{data:m,error:h}=await ae.from("products").select("id, name, slug, updated_at").eq("store_id",u.id).eq("status","published").order("created_at",{ascending:!1});h&&console.error("[SITEMAP] Error fetching products:",h),console.log("[SITEMAP] Store products found:",m?.length||0);let x=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Store Home -->
  <url>
    <loc>${f}</loc>
    <lastmod>${u.updated_at?new Date(u.updated_at).toISOString().split("T")[0]:c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Store Pages -->
  <url>
    <loc>${f}/products</loc>
    <lastmod>${c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>${f}/categories</loc>
    <lastmod>${c}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>${f}/policies</loc>
    <lastmod>${c}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>

  <!-- Individual Products (${m?.length||0} products) -->`;if(m&&m.length>0)for(const g of m){const v=g.slug||g.id,b=`${f}/products/${v}`,_=g.updated_at?new Date(g.updated_at).toISOString().split("T")[0]:c;x+=`
  <url>
    <loc>${b}</loc>
    <lastmod>${_}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.7</priority>
  </url>`}x+=`
</urlset>`,e(x)},i=async l=>{console.log("[SITEMAP] Generating platform-wide sitemap");const{data:c,error:u}=await ae.from("stores").select("slug, subdomain, custom_domain, updated_at").order("created_at",{ascending:!1});console.log("[SITEMAP] Stores query result:",{stores:c,error:u}),console.log("[SITEMAP] Number of stores:",c?.length||0);let d=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Platform Pages -->
  <url>
    <loc>https://digitaldukandar.in/</loc>
    <lastmod>${l}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/pricing</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/auth</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.6</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/become-helper</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.7</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/privacy-policy</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/terms-of-service</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>

  <!-- Store Pages (${c?.length||0} stores found) -->`;if(c&&c.length>0){console.log("[SITEMAP] Adding",c.length,"stores to sitemap");for(const f of c){let m="";f.custom_domain?(m=`https://${f.custom_domain}`,console.log(`[SITEMAP] Store ${f.slug}: using custom_domain -> ${m}`)):f.subdomain?(m=`https://${f.subdomain}.digitaldukandar.in`,console.log(`[SITEMAP] Store ${f.slug}: using subdomain -> ${m}`)):(m=`https://digitaldukandar.in/${f.slug}`,console.log(`[SITEMAP] Store ${f.slug}: using slug fallback -> ${m}`));const h=f.updated_at?new Date(f.updated_at).toISOString().split("T")[0]:l;d+=`
  <url>
    <loc>${m}</loc>
    <lastmod>${h}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>`}}d+=`
</urlset>`,e(d)};(async()=>{try{n(!0);const l=qA(),c=lae(),u=new Date().toISOString().split("T")[0];console.log("[SITEMAP] Domain Info:",l),console.log("[SITEMAP] Store Identifier:",c),l.isStoreSpecific&&c?await a(c,u):await i(u)}catch(l){console.error("[SITEMAP] Error generating sitemap:",l)}finally{n(!1)}})()},[]),j.useEffect(()=>{t&&document.querySelector('meta[http-equiv="Content-Type"]')?.setAttribute("content","application/xml")},[t]),r?s.jsx("div",{style:{padding:"20px"},children:"Generating sitemap..."}):s.jsx("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:t})}const kgt=new Cje,Cgt=()=>{const t=qA(),e=lae();return console.log("Domain Info:",t),console.log("Store Identifier:",e),s.jsx(Oje,{client:kgt,children:s.jsx(iae,{children:s.jsx(Hwe,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(Tx,{children:s.jsxs(sSe,{children:[s.jsx(qwe,{}),s.jsx(N_e,{}),s.jsxs(GNe,{children:[s.jsx(TSe,{}),s.jsx($Ne,{children:t.isStoreSpecific&&e?s.jsxs(s.Fragment,{children:[s.jsx(rr,{path:"/admin/dashboard",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(aW,{})})})}),s.jsx(rr,{path:"/admin/products",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(cW,{})})})}),s.jsx(rr,{path:"/admin/products/add",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(FW,{})})})}),s.jsx(rr,{path:"/admin/products/edit/:id",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(MW,{})})})}),s.jsx(rr,{path:"/admin/categories",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Mre,{})})})}),s.jsx(rr,{path:"/admin/orders",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(pY,{})})})}),s.jsx(rr,{path:"/admin/analytics",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Fre,{})})})}),s.jsx(rr,{path:"/admin/subscription",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Lre,{})})})}),s.jsx(rr,{path:"/admin/growth/discount-and-coupon",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(zre,{})})})}),s.jsx(rr,{path:"/admin/growth/seo",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx($re,{})})})}),s.jsx(rr,{path:"/admin/growth/social-media",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Bre,{})})})}),s.jsx(rr,{path:"/admin/growth/instagram",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Ure,{})})})}),s.jsx(rr,{path:"/admin/marketplace",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(qre,{})})})}),s.jsx(rr,{path:"/admin/shipping",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Vre,{})})})}),s.jsx(rr,{path:"/admin/google-reviews",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Yre,{})})})}),s.jsx(rr,{path:"/admin/settings",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(iW,{})})})}),s.jsx(rr,{path:"/admin/ai-designer",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Wre,{})})})}),s.jsx(rr,{path:"/admin/buy-tokens",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Hre,{})})})}),s.jsx(rr,{path:"/",element:s.jsx(ane,{slug:e})}),s.jsx(rr,{path:"/policies",element:s.jsx(ine,{slug:e})}),s.jsx(rr,{path:"/categories",element:s.jsx(bI,{slug:e})}),s.jsx(rr,{path:"/products",element:s.jsx(yI,{slug:e})}),s.jsx(rr,{path:"/products/:slug",element:s.jsx(wI,{slug:e})}),s.jsx(rr,{path:"/cart",element:s.jsx(_I,{slug:e})}),s.jsx(rr,{path:"/checkout",element:s.jsx(jI,{slug:e})}),s.jsx(rr,{path:"/payment-success",element:s.jsx(NI,{})}),s.jsx(rr,{path:"/sitemap.xml",element:s.jsx(one,{})}),s.jsx(rr,{path:"*",element:s.jsx(TV,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{path:"/",element:s.jsx(cAe,{})}),s.jsx(rr,{path:"/pricing",element:s.jsx(n0t,{})}),s.jsx(rr,{path:"/auth",element:s.jsx(s0t,{})}),s.jsx(rr,{path:"/guide",element:s.jsx(i0t,{})}),s.jsx(rr,{path:"/sitemap.xml",element:s.jsx(one,{})}),s.jsx(rr,{path:"/privacy-policy",element:s.jsx(pgt,{})}),s.jsx(rr,{path:"/terms-of-service",element:s.jsx(ggt,{})}),s.jsx(rr,{path:"/become-helper",element:s.jsx(vgt,{})}),s.jsx(rr,{path:"/application-status",element:s.jsx(ygt,{})}),s.jsx(rr,{path:"/helper/login",element:s.jsx(Sgt,{})}),s.jsx(rr,{path:"/helper/dashboard",element:s.jsx(bgt,{})}),s.jsx(rr,{path:"/helper/my-referrals",element:s.jsx(wgt,{})}),s.jsx(rr,{path:"/helper/my-helper-network",element:s.jsx(_gt,{})}),s.jsx(rr,{path:"/helper/commission-history",element:s.jsx(jgt,{})}),s.jsx(rr,{path:"/helper/profile",element:s.jsx(Ngt,{})}),s.jsx(rr,{path:"/admin/dashboard",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(aW,{})})})}),s.jsx(rr,{path:"/admin/products",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(cW,{})})})}),s.jsx(rr,{path:"/admin/products/add",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(FW,{})})})}),s.jsx(rr,{path:"/admin/products/edit/:id",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(MW,{})})})}),s.jsx(rr,{path:"/admin/categories",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Mre,{})})})}),s.jsx(rr,{path:"/admin/orders",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(pY,{})})})}),s.jsx(rr,{path:"/admin/analytics",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Fre,{})})})}),s.jsx(rr,{path:"/admin/subscription",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Lre,{})})})}),s.jsx(rr,{path:"/admin/growth/discount-and-coupon",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(zre,{})})})}),s.jsx(rr,{path:"/admin/growth/seo",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx($re,{})})})}),s.jsx(rr,{path:"/admin/growth/social-media",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Bre,{})})})}),s.jsx(rr,{path:"/admin/growth/instagram",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Ure,{})})})}),s.jsx(rr,{path:"/admin/marketplace",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(qre,{})})})}),s.jsx(rr,{path:"/admin/shipping",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Vre,{})})})}),s.jsx(rr,{path:"/admin/google-reviews",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Yre,{})})})}),s.jsx(rr,{path:"/admin/settings",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(iW,{})})})}),s.jsx(rr,{path:"/admin/ai-designer",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Wre,{})})})}),s.jsx(rr,{path:"/admin/buy-tokens",element:s.jsx(Qn,{children:s.jsx(Zn,{children:s.jsx(Hre,{})})})}),s.jsx(rr,{path:"/home",element:s.jsx(bpt,{})}),s.jsx(rr,{path:"/categories",element:s.jsx(bI,{})}),s.jsx(rr,{path:"/products",element:s.jsx(yI,{})}),s.jsx(rr,{path:"/products/:slug",element:s.jsx(wI,{})}),s.jsx(rr,{path:"/cart",element:s.jsx(_I,{})}),s.jsx(rr,{path:"/checkout",element:s.jsx(jI,{})}),s.jsx(rr,{path:"/payment-success",element:s.jsx(NI,{})}),s.jsx(rr,{path:"/superadmin/login",element:s.jsx(o0t,{})}),s.jsxs(rr,{path:"/superadmin",element:s.jsx(tgt,{}),children:[s.jsx(rr,{path:"dashboard",element:s.jsx(rc,{children:s.jsx(c0t,{})})}),s.jsx(rr,{path:"users",element:s.jsx(rc,{children:s.jsx(j0t,{})})}),s.jsx(rr,{path:"helpers",element:s.jsx(rc,{children:s.jsx(S0t,{})})}),s.jsx(rr,{path:"commissions",element:s.jsx(rc,{children:s.jsx(k0t,{})})}),s.jsx(rr,{path:"commission-settings",element:s.jsx(rc,{children:s.jsx(B0t,{})})}),s.jsx(rr,{path:"reports-analytics",element:s.jsx(rc,{children:s.jsx(U0t,{})})}),s.jsx(rr,{path:"subscription-plans",element:s.jsx(rc,{children:s.jsx(V0t,{})})}),s.jsx(rr,{path:"transactions",element:s.jsx(rc,{children:s.jsx(W0t,{})})}),s.jsx(rr,{path:"billing",element:s.jsx(rc,{children:s.jsx(H0t,{})})}),s.jsx(rr,{path:"custom-domains",element:s.jsx(rc,{children:s.jsx(G0t,{})})}),s.jsx(rr,{path:"settings",element:s.jsx(rc,{children:s.jsx(Y0t,{})})}),s.jsx(rr,{path:"sitemaps",element:s.jsx(rc,{children:s.jsx(J0t,{})})}),s.jsx(rr,{path:"marketplace",element:s.jsx(rc,{children:s.jsx(egt,{})})}),s.jsx(rr,{path:"ai-token-pricing",element:s.jsx(rc,{children:s.jsx(rmt,{})})}),s.jsx(rr,{path:"ai-designer-analytics",element:s.jsx(rc,{children:s.jsx(nmt,{})})})]}),s.jsx(rr,{path:"/onboarding/store-setup",element:s.jsx(igt,{})}),s.jsx(rr,{path:"/onboarding/google-drive",element:s.jsx(ogt,{})}),s.jsx(rr,{path:"/:slug",element:s.jsx(ane,{})}),s.jsx(rr,{path:"/:slug/policies",element:s.jsx(ine,{})}),s.jsx(rr,{path:"/:slug/categories",element:s.jsx(bI,{})}),s.jsx(rr,{path:"/:slug/products",element:s.jsx(yI,{})}),s.jsx(rr,{path:"/:slug/products/:productSlug",element:s.jsx(wI,{})}),s.jsx(rr,{path:"/:slug/cart",element:s.jsx(_I,{})}),s.jsx(rr,{path:"/:slug/checkout",element:s.jsx(jI,{})}),s.jsx(rr,{path:"/:slug/payment-success",element:s.jsx(NI,{})}),s.jsx(rr,{path:"*",element:s.jsx(TV,{})})]})})]})]})})})})})};W1e.createRoot(document.getElementById("root")).render(s.jsx(Cgt,{}));export{zs as _,ck as c,us as g};
