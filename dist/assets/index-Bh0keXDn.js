function wpe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _pe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var kE={exports:{}},nv={},CE={exports:{}},Ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mB;function jpe(){if(mB)return Ur;mB=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(Z){return Z===null||typeof Z!="object"?null:(Z=f&&Z[f]||Z["@@iterator"],typeof Z=="function"?Z:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(Z,L,J){this.props=Z,this.context=L,this.refs=g,this.updater=J||p}v.prototype.isReactComponent={},v.prototype.setState=function(Z,L){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,L,"setState")},v.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function _(){}_.prototype=v.prototype;function w(Z,L,J){this.props=Z,this.context=L,this.refs=g,this.updater=J||p}var b=w.prototype=new _;b.constructor=w,y(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(Z,L,J){var V,X={},ne=null,se=null;if(L!=null)for(V in L.ref!==void 0&&(se=L.ref),L.key!==void 0&&(ne=""+L.key),L)S.call(L,V)&&!k.hasOwnProperty(V)&&(X[V]=L[V]);var ue=arguments.length-2;if(ue===1)X.children=J;else if(1<ue){for(var W=Array(ue),ae=0;ae<ue;ae++)W[ae]=arguments[ae+2];X.children=W}if(Z&&Z.defaultProps)for(V in ue=Z.defaultProps,ue)X[V]===void 0&&(X[V]=ue[V]);return{$$typeof:e,type:Z,key:ne,ref:se,props:X,_owner:C.current}}function P(Z,L){return{$$typeof:e,type:Z.type,key:L,ref:Z.ref,props:Z.props,_owner:Z._owner}}function O(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function A(Z){var L={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(J){return L[J]})}var D=/\/+/g;function F(Z,L){return typeof Z=="object"&&Z!==null&&Z.key!=null?A(""+Z.key):L.toString(36)}function B(Z,L,J,V,X){var ne=typeof Z;(ne==="undefined"||ne==="boolean")&&(Z=null);var se=!1;if(Z===null)se=!0;else switch(ne){case"string":case"number":se=!0;break;case"object":switch(Z.$$typeof){case e:case t:se=!0}}if(se)return se=Z,X=X(se),Z=V===""?"."+F(se,0):V,E(X)?(J="",Z!=null&&(J=Z.replace(D,"$&/")+"/"),B(X,L,J,"",function(ae){return ae})):X!=null&&(O(X)&&(X=P(X,J+(!X.key||se&&se.key===X.key?"":(""+X.key).replace(D,"$&/")+"/")+Z)),L.push(X)),1;if(se=0,V=V===""?".":V+":",E(Z))for(var ue=0;ue<Z.length;ue++){ne=Z[ue];var W=V+F(ne,ue);se+=B(ne,L,J,W,X)}else if(W=m(Z),typeof W=="function")for(Z=W.call(Z),ue=0;!(ne=Z.next()).done;)ne=ne.value,W=V+F(ne,ue++),se+=B(ne,L,J,W,X);else if(ne==="object")throw L=String(Z),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return se}function z(Z,L,J){if(Z==null)return Z;var V=[],X=0;return B(Z,V,"","",function(ne){return L.call(J,ne,X++)}),V}function q(Z){if(Z._status===-1){var L=Z._result;L=L(),L.then(function(J){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=J)},function(J){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=J)}),Z._status===-1&&(Z._status=0,Z._result=L)}if(Z._status===1)return Z._result.default;throw Z._result}var G={current:null},Y={transition:null},M={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:Y,ReactCurrentOwner:C};function H(){throw Error("act(...) is not supported in production builds of React.")}return Ur.Children={map:z,forEach:function(Z,L,J){z(Z,function(){L.apply(this,arguments)},J)},count:function(Z){var L=0;return z(Z,function(){L++}),L},toArray:function(Z){return z(Z,function(L){return L})||[]},only:function(Z){if(!O(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Ur.Component=v,Ur.Fragment=r,Ur.Profiler=a,Ur.PureComponent=w,Ur.StrictMode=n,Ur.Suspense=c,Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,Ur.act=H,Ur.cloneElement=function(Z,L,J){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var V=y({},Z.props),X=Z.key,ne=Z.ref,se=Z._owner;if(L!=null){if(L.ref!==void 0&&(ne=L.ref,se=C.current),L.key!==void 0&&(X=""+L.key),Z.type&&Z.type.defaultProps)var ue=Z.type.defaultProps;for(W in L)S.call(L,W)&&!k.hasOwnProperty(W)&&(V[W]=L[W]===void 0&&ue!==void 0?ue[W]:L[W])}var W=arguments.length-2;if(W===1)V.children=J;else if(1<W){ue=Array(W);for(var ae=0;ae<W;ae++)ue[ae]=arguments[ae+2];V.children=ue}return{$$typeof:e,type:Z.type,key:X,ref:ne,props:V,_owner:se}},Ur.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:i,_context:Z},Z.Consumer=Z},Ur.createElement=R,Ur.createFactory=function(Z){var L=R.bind(null,Z);return L.type=Z,L},Ur.createRef=function(){return{current:null}},Ur.forwardRef=function(Z){return{$$typeof:l,render:Z}},Ur.isValidElement=O,Ur.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:q}},Ur.memo=function(Z,L){return{$$typeof:u,type:Z,compare:L===void 0?null:L}},Ur.startTransition=function(Z){var L=Y.transition;Y.transition={};try{Z()}finally{Y.transition=L}},Ur.unstable_act=H,Ur.useCallback=function(Z,L){return G.current.useCallback(Z,L)},Ur.useContext=function(Z){return G.current.useContext(Z)},Ur.useDebugValue=function(){},Ur.useDeferredValue=function(Z){return G.current.useDeferredValue(Z)},Ur.useEffect=function(Z,L){return G.current.useEffect(Z,L)},Ur.useId=function(){return G.current.useId()},Ur.useImperativeHandle=function(Z,L,J){return G.current.useImperativeHandle(Z,L,J)},Ur.useInsertionEffect=function(Z,L){return G.current.useInsertionEffect(Z,L)},Ur.useLayoutEffect=function(Z,L){return G.current.useLayoutEffect(Z,L)},Ur.useMemo=function(Z,L){return G.current.useMemo(Z,L)},Ur.useReducer=function(Z,L,J){return G.current.useReducer(Z,L,J)},Ur.useRef=function(Z){return G.current.useRef(Z)},Ur.useState=function(Z){return G.current.useState(Z)},Ur.useSyncExternalStore=function(Z,L,J){return G.current.useSyncExternalStore(Z,L,J)},Ur.useTransition=function(){return G.current.useTransition()},Ur.version="18.3.1",Ur}var pB;function KS(){return pB||(pB=1,CE.exports=jpe()),CE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gB;function Npe(){if(gB)return nv;gB=1;var e=KS(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:p,props:f,_owner:a.current}}return nv.Fragment=r,nv.jsx=o,nv.jsxs=o,nv}var xB;function Spe(){return xB||(xB=1,kE.exports=Npe()),kE.exports}var s=Spe(),l_={},EE={exports:{}},eo={},TE={exports:{}},AE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vB;function kpe(){return vB||(vB=1,(function(e){function t(Y,M){var H=Y.length;Y.push(M);e:for(;0<H;){var Z=H-1>>>1,L=Y[Z];if(0<a(L,M))Y[Z]=M,Y[H]=L,H=Z;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var M=Y[0],H=Y.pop();if(H!==M){Y[0]=H;e:for(var Z=0,L=Y.length,J=L>>>1;Z<J;){var V=2*(Z+1)-1,X=Y[V],ne=V+1,se=Y[ne];if(0>a(X,H))ne<L&&0>a(se,X)?(Y[Z]=se,Y[ne]=H,Z=ne):(Y[Z]=X,Y[V]=H,Z=V);else if(ne<L&&0>a(se,H))Y[Z]=se,Y[ne]=H,Z=ne;else break e}}return M}function a(Y,M){var H=Y.sortIndex-M.sortIndex;return H!==0?H:Y.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=Y)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function E(Y){if(g=!1,b(Y),!y)if(r(c)!==null)y=!0,q(S);else{var M=r(u);M!==null&&G(E,M.startTime-Y)}}function S(Y,M){y=!1,g&&(g=!1,_(R),R=-1),p=!0;var H=m;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||Y&&!A());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var L=Z(f.expirationTime<=M);M=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var V=r(u);V!==null&&G(E,V.startTime-M),J=!1}return J}finally{f=null,m=H,p=!1}}var C=!1,k=null,R=-1,P=5,O=-1;function A(){return!(e.unstable_now()-O<P)}function D(){if(k!==null){var Y=e.unstable_now();O=Y;var M=!0;try{M=k(!0,Y)}finally{M?F():(C=!1,k=null)}}else C=!1}var F;if(typeof w=="function")F=function(){w(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,z=B.port2;B.port1.onmessage=D,F=function(){z.postMessage(null)}}else F=function(){v(D,0)};function q(Y){k=Y,C||(C=!0,F())}function G(Y,M){R=v(function(){Y(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,q(S))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var H=m;m=M;try{return Y()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,M){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var H=m;m=Y;try{return M()}finally{m=H}},e.unstable_scheduleCallback=function(Y,M,H){var Z=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,Y){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,Y={id:d++,callback:M,priorityLevel:Y,startTime:H,expirationTime:L,sortIndex:-1},H>Z?(Y.sortIndex=H,t(u,Y),r(c)===null&&Y===r(u)&&(g?(_(R),R=-1):g=!0,G(E,H-Z))):(Y.sortIndex=L,t(c,Y),y||p||(y=!0,q(S))),Y},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(Y){var M=m;return function(){var H=m;m=M;try{return Y.apply(this,arguments)}finally{m=H}}}})(AE)),AE}var yB;function Cpe(){return yB||(yB=1,TE.exports=kpe()),TE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB;function Epe(){if(bB)return eo;bB=1;var e=KS(),t=Cpe();function r(h){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+h,N=1;N<arguments.length;N++)x+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(h,x){o(h,x),o(h+"Capture",x)}function o(h,x){for(a[h]=x,h=0;h<x.length;h++)n.add(x[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function p(h,x,N,T){if(N!==null&&N.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return T?!1:N!==null?!N.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,x,N,T){if(x===null||typeof x>"u"||p(h,x,N,T))return!0;if(T)return!1;if(N!==null)switch(N.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(h,x,N,T,I,U,re){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=T,this.attributeNamespace=I,this.mustUseProperty=N,this.propertyName=h,this.type=x,this.sanitizeURL=U,this.removeEmptyString=re}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new g(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var x=h[0];v[x]=new g(x,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new g(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new g(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new g(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new g(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new g(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new g(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new g(h,5,!1,h.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function w(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var x=h.replace(_,w);v[x]=new g(x,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var x=h.replace(_,w);v[x]=new g(x,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var x=h.replace(_,w);v[x]=new g(x,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!0,!0)});function b(h,x,N,T){var I=v.hasOwnProperty(x)?v[x]:null;(I!==null?I.type!==0:T||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,N,I,T)&&(N=null),T||I===null?m(x)&&(N===null?h.removeAttribute(x):h.setAttribute(x,""+N)):I.mustUseProperty?h[I.propertyName]=N===null?I.type===3?!1:"":N:(x=I.attributeName,T=I.attributeNamespace,N===null?h.removeAttribute(x):(I=I.type,N=I===3||I===4&&N===!0?"":""+N,T?h.setAttributeNS(T,x,N):h.setAttribute(x,N))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Y=Symbol.iterator;function M(h){return h===null||typeof h!="object"?null:(h=Y&&h[Y]||h["@@iterator"],typeof h=="function"?h:null)}var H=Object.assign,Z;function L(h){if(Z===void 0)try{throw Error()}catch(N){var x=N.stack.trim().match(/\n( *(at )?)/);Z=x&&x[1]||""}return`
`+Z+h}var J=!1;function V(h,x){if(!h||J)return"";J=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(We){var T=We}Reflect.construct(h,[],x)}else{try{x.call()}catch(We){T=We}h.call(x.prototype)}else{try{throw Error()}catch(We){T=We}h()}}catch(We){if(We&&T&&typeof We.stack=="string"){for(var I=We.stack.split(`
`),U=T.stack.split(`
`),re=I.length-1,je=U.length-1;1<=re&&0<=je&&I[re]!==U[je];)je--;for(;1<=re&&0<=je;re--,je--)if(I[re]!==U[je]){if(re!==1||je!==1)do if(re--,je--,0>je||I[re]!==U[je]){var Ce=`
`+I[re].replace(" at new "," at ");return h.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",h.displayName)),Ce}while(1<=re&&0<=je);break}}}finally{J=!1,Error.prepareStackTrace=N}return(h=h?h.displayName||h.name:"")?L(h):""}function X(h){switch(h.tag){case 5:return L(h.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return h=V(h.type,!1),h;case 11:return h=V(h.type.render,!1),h;case 1:return h=V(h.type,!0),h;default:return""}}function ne(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case k:return"Fragment";case C:return"Portal";case P:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case A:return(h.displayName||"Context")+".Consumer";case O:return(h._context.displayName||"Context")+".Provider";case D:var x=h.render;return h=h.displayName,h||(h=x.displayName||x.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case z:return x=h.displayName||null,x!==null?x:ne(h.type)||"Memo";case q:x=h._payload,h=h._init;try{return ne(h(x))}catch{}}return null}function se(h){var x=h.type;switch(h.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=x.render,h=h.displayName||h.name||"",x.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(x);case 8:return x===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function ue(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function W(h){var x=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function ae(h){var x=W(h)?"checked":"value",N=Object.getOwnPropertyDescriptor(h.constructor.prototype,x),T=""+h[x];if(!h.hasOwnProperty(x)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var I=N.get,U=N.set;return Object.defineProperty(h,x,{configurable:!0,get:function(){return I.call(this)},set:function(re){T=""+re,U.call(this,re)}}),Object.defineProperty(h,x,{enumerable:N.enumerable}),{getValue:function(){return T},setValue:function(re){T=""+re},stopTracking:function(){h._valueTracker=null,delete h[x]}}}}function oe(h){h._valueTracker||(h._valueTracker=ae(h))}function K(h){if(!h)return!1;var x=h._valueTracker;if(!x)return!0;var N=x.getValue(),T="";return h&&(T=W(h)?h.checked?"true":"false":h.value),h=T,h!==N?(x.setValue(h),!0):!1}function be(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function pe(h,x){var N=x.checked;return H({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??h._wrapperState.initialChecked})}function Ee(h,x){var N=x.defaultValue==null?"":x.defaultValue,T=x.checked!=null?x.checked:x.defaultChecked;N=ue(x.value!=null?x.value:N),h._wrapperState={initialChecked:T,initialValue:N,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Ae(h,x){x=x.checked,x!=null&&b(h,"checked",x,!1)}function fe(h,x){Ae(h,x);var N=ue(x.value),T=x.type;if(N!=null)T==="number"?(N===0&&h.value===""||h.value!=N)&&(h.value=""+N):h.value!==""+N&&(h.value=""+N);else if(T==="submit"||T==="reset"){h.removeAttribute("value");return}x.hasOwnProperty("value")?Ye(h,x.type,N):x.hasOwnProperty("defaultValue")&&Ye(h,x.type,ue(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(h.defaultChecked=!!x.defaultChecked)}function Je(h,x,N){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var T=x.type;if(!(T!=="submit"&&T!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+h._wrapperState.initialValue,N||x===h.value||(h.value=x),h.defaultValue=x}N=h.name,N!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,N!==""&&(h.name=N)}function Ye(h,x,N){(x!=="number"||be(h.ownerDocument)!==h)&&(N==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+N&&(h.defaultValue=""+N))}var ce=Array.isArray;function we(h,x,N,T){if(h=h.options,x){x={};for(var I=0;I<N.length;I++)x["$"+N[I]]=!0;for(N=0;N<h.length;N++)I=x.hasOwnProperty("$"+h[N].value),h[N].selected!==I&&(h[N].selected=I),I&&T&&(h[N].defaultSelected=!0)}else{for(N=""+ue(N),x=null,I=0;I<h.length;I++){if(h[I].value===N){h[I].selected=!0,T&&(h[I].defaultSelected=!0);return}x!==null||h[I].disabled||(x=h[I])}x!==null&&(x.selected=!0)}}function Oe(h,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},x,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function He(h,x){var N=x.value;if(N==null){if(N=x.children,x=x.defaultValue,N!=null){if(x!=null)throw Error(r(92));if(ce(N)){if(1<N.length)throw Error(r(93));N=N[0]}x=N}x==null&&(x=""),N=x}h._wrapperState={initialValue:ue(N)}}function Ge(h,x){var N=ue(x.value),T=ue(x.defaultValue);N!=null&&(N=""+N,N!==h.value&&(h.value=N),x.defaultValue==null&&h.defaultValue!==N&&(h.defaultValue=N)),T!=null&&(h.defaultValue=""+T)}function Ne(h){var x=h.textContent;x===h._wrapperState.initialValue&&x!==""&&x!==null&&(h.value=x)}function ee(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(h,x){return h==null||h==="http://www.w3.org/1999/xhtml"?ee(x):h==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var ge,Be=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,N,T,I){MSApp.execUnsafeLocalFunction(function(){return h(x,N,T,I)})}:h})(function(h,x){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=x;else{for(ge=ge||document.createElement("div"),ge.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=ge.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;x.firstChild;)h.appendChild(x.firstChild)}});function Ie(h,x){if(x){var N=h.firstChild;if(N&&N===h.lastChild&&N.nodeType===3){N.nodeValue=x;return}}h.textContent=x}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","ms","Moz","O"];Object.keys(de).forEach(function(h){Re.forEach(function(x){x=x+h.charAt(0).toUpperCase()+h.substring(1),de[x]=de[h]})});function rt(h,x,N){return x==null||typeof x=="boolean"||x===""?"":N||typeof x!="number"||x===0||de.hasOwnProperty(h)&&de[h]?(""+x).trim():x+"px"}function xt(h,x){h=h.style;for(var N in x)if(x.hasOwnProperty(N)){var T=N.indexOf("--")===0,I=rt(N,x[N],T);N==="float"&&(N="cssFloat"),T?h.setProperty(N,I):h[N]=I}}var at=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(h,x){if(x){if(at[h]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function Yt(h,x){if(h.indexOf("-")===-1)return typeof x.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=null;function Pt(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var fr=null,Ar=null,Fr=null;function Qr(h){if(h=Vx(h)){if(typeof fr!="function")throw Error(r(280));var x=h.stateNode;x&&(x=_1(x),fr(h.stateNode,h.type,x))}}function kn(h){Ar?Fr?Fr.push(h):Fr=[h]:Ar=h}function Mt(){if(Ar){var h=Ar,x=Fr;if(Fr=Ar=null,Qr(h),x)for(h=0;h<x.length;h++)Qr(x[h])}}function ar(h,x){return h(x)}function Pr(){}var zt=!1;function It(h,x,N){if(zt)return h(x,N);zt=!0;try{return ar(h,x,N)}finally{zt=!1,(Ar!==null||Fr!==null)&&(Pr(),Mt())}}function er(h,x){var N=h.stateNode;if(N===null)return null;var T=_1(N);if(T===null)return null;N=T[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(h=h.type,T=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(N&&typeof N!="function")throw Error(r(231,x,typeof N));return N}var vt=!1;if(l)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){vt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{vt=!1}function Ft(h,x,N,T,I,U,re,je,Ce){var We=Array.prototype.slice.call(arguments,3);try{x.apply(N,We)}catch(ft){this.onError(ft)}}var Qt=!1,Kn=null,te=!1,xe=null,he={onError:function(h){Qt=!0,Kn=h}};function me(h,x,N,T,I,U,re,je,Ce){Qt=!1,Kn=null,Ft.apply(he,arguments)}function ye(h,x,N,T,I,U,re,je,Ce){if(me.apply(this,arguments),Qt){if(Qt){var We=Kn;Qt=!1,Kn=null}else throw Error(r(198));te||(te=!0,xe=We)}}function ve(h){var x=h,N=h;if(h.alternate)for(;x.return;)x=x.return;else{h=x;do x=h,(x.flags&4098)!==0&&(N=x.return),h=x.return;while(h)}return x.tag===3?N:null}function Fe(h){if(h.tag===13){var x=h.memoizedState;if(x===null&&(h=h.alternate,h!==null&&(x=h.memoizedState)),x!==null)return x.dehydrated}return null}function qe(h){if(ve(h)!==h)throw Error(r(188))}function De(h){var x=h.alternate;if(!x){if(x=ve(h),x===null)throw Error(r(188));return x!==h?null:h}for(var N=h,T=x;;){var I=N.return;if(I===null)break;var U=I.alternate;if(U===null){if(T=I.return,T!==null){N=T;continue}break}if(I.child===U.child){for(U=I.child;U;){if(U===N)return qe(I),h;if(U===T)return qe(I),x;U=U.sibling}throw Error(r(188))}if(N.return!==T.return)N=I,T=U;else{for(var re=!1,je=I.child;je;){if(je===N){re=!0,N=I,T=U;break}if(je===T){re=!0,T=I,N=U;break}je=je.sibling}if(!re){for(je=U.child;je;){if(je===N){re=!0,N=U,T=I;break}if(je===T){re=!0,T=U,N=I;break}je=je.sibling}if(!re)throw Error(r(189))}}if(N.alternate!==T)throw Error(r(190))}if(N.tag!==3)throw Error(r(188));return N.stateNode.current===N?h:x}function Ue(h){return h=De(h),h!==null?Le(h):null}function Le(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var x=Le(h);if(x!==null)return x;h=h.sibling}return null}var st=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,Ct=t.unstable_shouldYield,gt=t.unstable_requestPaint,it=t.unstable_now,Ut=t.unstable_getCurrentPriorityLevel,Br=t.unstable_ImmediatePriority,mn=t.unstable_UserBlockingPriority,rs=t.unstable_NormalPriority,yo=t.unstable_LowPriority,ca=t.unstable_IdlePriority,ti=null,ls=null;function Ki(h){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(ti,h,void 0,(h.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:$he,Fhe=Math.log,Lhe=Math.LN2;function $he(h){return h>>>=0,h===0?32:31-(Fhe(h)/Lhe|0)|0}var s1=64,a1=4194304;function Nx(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function i1(h,x){var N=h.pendingLanes;if(N===0)return 0;var T=0,I=h.suspendedLanes,U=h.pingedLanes,re=N&268435455;if(re!==0){var je=re&~I;je!==0?T=Nx(je):(U&=re,U!==0&&(T=Nx(U)))}else re=N&~I,re!==0?T=Nx(re):U!==0&&(T=Nx(U));if(T===0)return 0;if(x!==0&&x!==T&&(x&I)===0&&(I=T&-T,U=x&-x,I>=U||I===16&&(U&4194240)!==0))return x;if((T&4)!==0&&(T|=N&16),x=h.entangledLanes,x!==0)for(h=h.entanglements,x&=T;0<x;)N=31-Os(x),I=1<<N,T|=h[N],x&=~I;return T}function Bhe(h,x){switch(h){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uhe(h,x){for(var N=h.suspendedLanes,T=h.pingedLanes,I=h.expirationTimes,U=h.pendingLanes;0<U;){var re=31-Os(U),je=1<<re,Ce=I[re];Ce===-1?((je&N)===0||(je&T)!==0)&&(I[re]=Bhe(je,x)):Ce<=x&&(h.expiredLanes|=je),U&=~je}}function Gk(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function W6(){var h=s1;return s1<<=1,(s1&4194240)===0&&(s1=64),h}function Kk(h){for(var x=[],N=0;31>N;N++)x.push(h);return x}function Sx(h,x,N){h.pendingLanes|=x,x!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,x=31-Os(x),h[x]=N}function Vhe(h,x){var N=h.pendingLanes&~x;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=x,h.mutableReadLanes&=x,h.entangledLanes&=x,x=h.entanglements;var T=h.eventTimes;for(h=h.expirationTimes;0<N;){var I=31-Os(N),U=1<<I;x[I]=0,T[I]=-1,h[I]=-1,N&=~U}}function Yk(h,x){var N=h.entangledLanes|=x;for(h=h.entanglements;N;){var T=31-Os(N),I=1<<T;I&x|h[T]&x&&(h[T]|=x),N&=~I}}var vn=0;function H6(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var G6,Xk,K6,Y6,X6,Jk=!1,o1=[],pd=null,gd=null,xd=null,kx=new Map,Cx=new Map,vd=[],zhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J6(h,x){switch(h){case"focusin":case"focusout":pd=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":xd=null;break;case"pointerover":case"pointerout":kx.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cx.delete(x.pointerId)}}function Ex(h,x,N,T,I,U){return h===null||h.nativeEvent!==U?(h={blockedOn:x,domEventName:N,eventSystemFlags:T,nativeEvent:U,targetContainers:[I]},x!==null&&(x=Vx(x),x!==null&&Xk(x)),h):(h.eventSystemFlags|=T,x=h.targetContainers,I!==null&&x.indexOf(I)===-1&&x.push(I),h)}function qhe(h,x,N,T,I){switch(x){case"focusin":return pd=Ex(pd,h,x,N,T,I),!0;case"dragenter":return gd=Ex(gd,h,x,N,T,I),!0;case"mouseover":return xd=Ex(xd,h,x,N,T,I),!0;case"pointerover":var U=I.pointerId;return kx.set(U,Ex(kx.get(U)||null,h,x,N,T,I)),!0;case"gotpointercapture":return U=I.pointerId,Cx.set(U,Ex(Cx.get(U)||null,h,x,N,T,I)),!0}return!1}function Z6(h){var x=eh(h.target);if(x!==null){var N=ve(x);if(N!==null){if(x=N.tag,x===13){if(x=Fe(N),x!==null){h.blockedOn=x,X6(h.priority,function(){K6(N)});return}}else if(x===3&&N.stateNode.current.memoizedState.isDehydrated){h.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}h.blockedOn=null}function l1(h){if(h.blockedOn!==null)return!1;for(var x=h.targetContainers;0<x.length;){var N=Qk(h.domEventName,h.eventSystemFlags,x[0],h.nativeEvent);if(N===null){N=h.nativeEvent;var T=new N.constructor(N.type,N);At=T,N.target.dispatchEvent(T),At=null}else return x=Vx(N),x!==null&&Xk(x),h.blockedOn=N,!1;x.shift()}return!0}function Q6(h,x,N){l1(h)&&N.delete(x)}function Whe(){Jk=!1,pd!==null&&l1(pd)&&(pd=null),gd!==null&&l1(gd)&&(gd=null),xd!==null&&l1(xd)&&(xd=null),kx.forEach(Q6),Cx.forEach(Q6)}function Tx(h,x){h.blockedOn===x&&(h.blockedOn=null,Jk||(Jk=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Whe)))}function Ax(h){function x(I){return Tx(I,h)}if(0<o1.length){Tx(o1[0],h);for(var N=1;N<o1.length;N++){var T=o1[N];T.blockedOn===h&&(T.blockedOn=null)}}for(pd!==null&&Tx(pd,h),gd!==null&&Tx(gd,h),xd!==null&&Tx(xd,h),kx.forEach(x),Cx.forEach(x),N=0;N<vd.length;N++)T=vd[N],T.blockedOn===h&&(T.blockedOn=null);for(;0<vd.length&&(N=vd[0],N.blockedOn===null);)Z6(N),N.blockedOn===null&&vd.shift()}var up=E.ReactCurrentBatchConfig,c1=!0;function Hhe(h,x,N,T){var I=vn,U=up.transition;up.transition=null;try{vn=1,Zk(h,x,N,T)}finally{vn=I,up.transition=U}}function Ghe(h,x,N,T){var I=vn,U=up.transition;up.transition=null;try{vn=4,Zk(h,x,N,T)}finally{vn=I,up.transition=U}}function Zk(h,x,N,T){if(c1){var I=Qk(h,x,N,T);if(I===null)gC(h,x,T,u1,N),J6(h,T);else if(qhe(I,h,x,N,T))T.stopPropagation();else if(J6(h,T),x&4&&-1<zhe.indexOf(h)){for(;I!==null;){var U=Vx(I);if(U!==null&&G6(U),U=Qk(h,x,N,T),U===null&&gC(h,x,T,u1,N),U===I)break;I=U}I!==null&&T.stopPropagation()}else gC(h,x,T,null,N)}}var u1=null;function Qk(h,x,N,T){if(u1=null,h=Pt(T),h=eh(h),h!==null)if(x=ve(h),x===null)h=null;else if(N=x.tag,N===13){if(h=Fe(x),h!==null)return h;h=null}else if(N===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;h=null}else x!==h&&(h=null);return u1=h,null}function e8(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ut()){case Br:return 1;case mn:return 4;case rs:case yo:return 16;case ca:return 536870912;default:return 16}default:return 16}}var yd=null,eC=null,d1=null;function t8(){if(d1)return d1;var h,x=eC,N=x.length,T,I="value"in yd?yd.value:yd.textContent,U=I.length;for(h=0;h<N&&x[h]===I[h];h++);var re=N-h;for(T=1;T<=re&&x[N-T]===I[U-T];T++);return d1=I.slice(h,1<T?1-T:void 0)}function f1(h){var x=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&x===13&&(h=13)):h=x,h===10&&(h=13),32<=h||h===13?h:0}function h1(){return!0}function r8(){return!1}function bo(h){function x(N,T,I,U,re){this._reactName=N,this._targetInst=I,this.type=T,this.nativeEvent=U,this.target=re,this.currentTarget=null;for(var je in h)h.hasOwnProperty(je)&&(N=h[je],this[je]=N?N(U):U[je]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?h1:r8,this.isPropagationStopped=r8,this}return H(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=h1)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=h1)},persist:function(){},isPersistent:h1}),x}var dp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tC=bo(dp),Px=H({},dp,{view:0,detail:0}),Khe=bo(Px),rC,nC,Ox,m1=H({},Px,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aC,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Ox&&(Ox&&h.type==="mousemove"?(rC=h.screenX-Ox.screenX,nC=h.screenY-Ox.screenY):nC=rC=0,Ox=h),rC)},movementY:function(h){return"movementY"in h?h.movementY:nC}}),n8=bo(m1),Yhe=H({},m1,{dataTransfer:0}),Xhe=bo(Yhe),Jhe=H({},Px,{relatedTarget:0}),sC=bo(Jhe),Zhe=H({},dp,{animationName:0,elapsedTime:0,pseudoElement:0}),Qhe=bo(Zhe),eme=H({},dp,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),tme=bo(eme),rme=H({},dp,{data:0}),s8=bo(rme),nme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ame={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ime(h){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(h):(h=ame[h])?!!x[h]:!1}function aC(){return ime}var ome=H({},Px,{key:function(h){if(h.key){var x=nme[h.key]||h.key;if(x!=="Unidentified")return x}return h.type==="keypress"?(h=f1(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?sme[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aC,charCode:function(h){return h.type==="keypress"?f1(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?f1(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),lme=bo(ome),cme=H({},m1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a8=bo(cme),ume=H({},Px,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aC}),dme=bo(ume),fme=H({},dp,{propertyName:0,elapsedTime:0,pseudoElement:0}),hme=bo(fme),mme=H({},m1,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),pme=bo(mme),gme=[9,13,27,32],iC=l&&"CompositionEvent"in window,Rx=null;l&&"documentMode"in document&&(Rx=document.documentMode);var xme=l&&"TextEvent"in window&&!Rx,i8=l&&(!iC||Rx&&8<Rx&&11>=Rx),o8=" ",l8=!1;function c8(h,x){switch(h){case"keyup":return gme.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u8(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var fp=!1;function vme(h,x){switch(h){case"compositionend":return u8(x);case"keypress":return x.which!==32?null:(l8=!0,o8);case"textInput":return h=x.data,h===o8&&l8?null:h;default:return null}}function yme(h,x){if(fp)return h==="compositionend"||!iC&&c8(h,x)?(h=t8(),d1=eC=yd=null,fp=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return i8&&x.locale!=="ko"?null:x.data;default:return null}}var bme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d8(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x==="input"?!!bme[h.type]:x==="textarea"}function f8(h,x,N,T){kn(T),x=y1(x,"onChange"),0<x.length&&(N=new tC("onChange","change",null,N,T),h.push({event:N,listeners:x}))}var Dx=null,Ix=null;function wme(h){A8(h,0)}function p1(h){var x=xp(h);if(K(x))return h}function _me(h,x){if(h==="change")return x}var h8=!1;if(l){var oC;if(l){var lC="oninput"in document;if(!lC){var m8=document.createElement("div");m8.setAttribute("oninput","return;"),lC=typeof m8.oninput=="function"}oC=lC}else oC=!1;h8=oC&&(!document.documentMode||9<document.documentMode)}function p8(){Dx&&(Dx.detachEvent("onpropertychange",g8),Ix=Dx=null)}function g8(h){if(h.propertyName==="value"&&p1(Ix)){var x=[];f8(x,Ix,h,Pt(h)),It(wme,x)}}function jme(h,x,N){h==="focusin"?(p8(),Dx=x,Ix=N,Dx.attachEvent("onpropertychange",g8)):h==="focusout"&&p8()}function Nme(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return p1(Ix)}function Sme(h,x){if(h==="click")return p1(x)}function kme(h,x){if(h==="input"||h==="change")return p1(x)}function Cme(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var Ll=typeof Object.is=="function"?Object.is:Cme;function Mx(h,x){if(Ll(h,x))return!0;if(typeof h!="object"||h===null||typeof x!="object"||x===null)return!1;var N=Object.keys(h),T=Object.keys(x);if(N.length!==T.length)return!1;for(T=0;T<N.length;T++){var I=N[T];if(!c.call(x,I)||!Ll(h[I],x[I]))return!1}return!0}function x8(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function v8(h,x){var N=x8(h);h=0;for(var T;N;){if(N.nodeType===3){if(T=h+N.textContent.length,h<=x&&T>=x)return{node:N,offset:x-h};h=T}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=x8(N)}}function y8(h,x){return h&&x?h===x?!0:h&&h.nodeType===3?!1:x&&x.nodeType===3?y8(h,x.parentNode):"contains"in h?h.contains(x):h.compareDocumentPosition?!!(h.compareDocumentPosition(x)&16):!1:!1}function b8(){for(var h=window,x=be();x instanceof h.HTMLIFrameElement;){try{var N=typeof x.contentWindow.location.href=="string"}catch{N=!1}if(N)h=x.contentWindow;else break;x=be(h.document)}return x}function cC(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x&&(x==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||x==="textarea"||h.contentEditable==="true")}function Eme(h){var x=b8(),N=h.focusedElem,T=h.selectionRange;if(x!==N&&N&&N.ownerDocument&&y8(N.ownerDocument.documentElement,N)){if(T!==null&&cC(N)){if(x=T.start,h=T.end,h===void 0&&(h=x),"selectionStart"in N)N.selectionStart=x,N.selectionEnd=Math.min(h,N.value.length);else if(h=(x=N.ownerDocument||document)&&x.defaultView||window,h.getSelection){h=h.getSelection();var I=N.textContent.length,U=Math.min(T.start,I);T=T.end===void 0?U:Math.min(T.end,I),!h.extend&&U>T&&(I=T,T=U,U=I),I=v8(N,U);var re=v8(N,T);I&&re&&(h.rangeCount!==1||h.anchorNode!==I.node||h.anchorOffset!==I.offset||h.focusNode!==re.node||h.focusOffset!==re.offset)&&(x=x.createRange(),x.setStart(I.node,I.offset),h.removeAllRanges(),U>T?(h.addRange(x),h.extend(re.node,re.offset)):(x.setEnd(re.node,re.offset),h.addRange(x)))}}for(x=[],h=N;h=h.parentNode;)h.nodeType===1&&x.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<x.length;N++)h=x[N],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Tme=l&&"documentMode"in document&&11>=document.documentMode,hp=null,uC=null,Fx=null,dC=!1;function w8(h,x,N){var T=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;dC||hp==null||hp!==be(T)||(T=hp,"selectionStart"in T&&cC(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Fx&&Mx(Fx,T)||(Fx=T,T=y1(uC,"onSelect"),0<T.length&&(x=new tC("onSelect","select",null,x,N),h.push({event:x,listeners:T}),x.target=hp)))}function g1(h,x){var N={};return N[h.toLowerCase()]=x.toLowerCase(),N["Webkit"+h]="webkit"+x,N["Moz"+h]="moz"+x,N}var mp={animationend:g1("Animation","AnimationEnd"),animationiteration:g1("Animation","AnimationIteration"),animationstart:g1("Animation","AnimationStart"),transitionend:g1("Transition","TransitionEnd")},fC={},_8={};l&&(_8=document.createElement("div").style,"AnimationEvent"in window||(delete mp.animationend.animation,delete mp.animationiteration.animation,delete mp.animationstart.animation),"TransitionEvent"in window||delete mp.transitionend.transition);function x1(h){if(fC[h])return fC[h];if(!mp[h])return h;var x=mp[h],N;for(N in x)if(x.hasOwnProperty(N)&&N in _8)return fC[h]=x[N];return h}var j8=x1("animationend"),N8=x1("animationiteration"),S8=x1("animationstart"),k8=x1("transitionend"),C8=new Map,E8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bd(h,x){C8.set(h,x),i(x,[h])}for(var hC=0;hC<E8.length;hC++){var mC=E8[hC],Ame=mC.toLowerCase(),Pme=mC[0].toUpperCase()+mC.slice(1);bd(Ame,"on"+Pme)}bd(j8,"onAnimationEnd"),bd(N8,"onAnimationIteration"),bd(S8,"onAnimationStart"),bd("dblclick","onDoubleClick"),bd("focusin","onFocus"),bd("focusout","onBlur"),bd(k8,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ome=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lx));function T8(h,x,N){var T=h.type||"unknown-event";h.currentTarget=N,ye(T,x,void 0,h),h.currentTarget=null}function A8(h,x){x=(x&4)!==0;for(var N=0;N<h.length;N++){var T=h[N],I=T.event;T=T.listeners;e:{var U=void 0;if(x)for(var re=T.length-1;0<=re;re--){var je=T[re],Ce=je.instance,We=je.currentTarget;if(je=je.listener,Ce!==U&&I.isPropagationStopped())break e;T8(I,je,We),U=Ce}else for(re=0;re<T.length;re++){if(je=T[re],Ce=je.instance,We=je.currentTarget,je=je.listener,Ce!==U&&I.isPropagationStopped())break e;T8(I,je,We),U=Ce}}}if(te)throw h=xe,te=!1,xe=null,h}function Yn(h,x){var N=x[_C];N===void 0&&(N=x[_C]=new Set);var T=h+"__bubble";N.has(T)||(P8(x,h,2,!1),N.add(T))}function pC(h,x,N){var T=0;x&&(T|=4),P8(N,h,T,x)}var v1="_reactListening"+Math.random().toString(36).slice(2);function $x(h){if(!h[v1]){h[v1]=!0,n.forEach(function(N){N!=="selectionchange"&&(Ome.has(N)||pC(N,!1,h),pC(N,!0,h))});var x=h.nodeType===9?h:h.ownerDocument;x===null||x[v1]||(x[v1]=!0,pC("selectionchange",!1,x))}}function P8(h,x,N,T){switch(e8(x)){case 1:var I=Hhe;break;case 4:I=Ghe;break;default:I=Zk}N=I.bind(null,x,N,h),I=void 0,!vt||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(I=!0),T?I!==void 0?h.addEventListener(x,N,{capture:!0,passive:I}):h.addEventListener(x,N,!0):I!==void 0?h.addEventListener(x,N,{passive:I}):h.addEventListener(x,N,!1)}function gC(h,x,N,T,I){var U=T;if((x&1)===0&&(x&2)===0&&T!==null)e:for(;;){if(T===null)return;var re=T.tag;if(re===3||re===4){var je=T.stateNode.containerInfo;if(je===I||je.nodeType===8&&je.parentNode===I)break;if(re===4)for(re=T.return;re!==null;){var Ce=re.tag;if((Ce===3||Ce===4)&&(Ce=re.stateNode.containerInfo,Ce===I||Ce.nodeType===8&&Ce.parentNode===I))return;re=re.return}for(;je!==null;){if(re=eh(je),re===null)return;if(Ce=re.tag,Ce===5||Ce===6){T=U=re;continue e}je=je.parentNode}}T=T.return}It(function(){var We=U,ft=Pt(N),pt=[];e:{var ct=C8.get(h);if(ct!==void 0){var Rt=tC,qt=h;switch(h){case"keypress":if(f1(N)===0)break e;case"keydown":case"keyup":Rt=lme;break;case"focusin":qt="focus",Rt=sC;break;case"focusout":qt="blur",Rt=sC;break;case"beforeblur":case"afterblur":Rt=sC;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=n8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Xhe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=dme;break;case j8:case N8:case S8:Rt=Qhe;break;case k8:Rt=hme;break;case"scroll":Rt=Khe;break;case"wheel":Rt=pme;break;case"copy":case"cut":case"paste":Rt=tme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=a8}var Wt=(x&4)!==0,Rs=!Wt&&h==="scroll",$e=Wt?ct!==null?ct+"Capture":null:ct;Wt=[];for(var Pe=We,Ve;Pe!==null;){Ve=Pe;var yt=Ve.stateNode;if(Ve.tag===5&&yt!==null&&(Ve=yt,$e!==null&&(yt=er(Pe,$e),yt!=null&&Wt.push(Bx(Pe,yt,Ve)))),Rs)break;Pe=Pe.return}0<Wt.length&&(ct=new Rt(ct,qt,null,N,ft),pt.push({event:ct,listeners:Wt}))}}if((x&7)===0){e:{if(ct=h==="mouseover"||h==="pointerover",Rt=h==="mouseout"||h==="pointerout",ct&&N!==At&&(qt=N.relatedTarget||N.fromElement)&&(eh(qt)||qt[hu]))break e;if((Rt||ct)&&(ct=ft.window===ft?ft:(ct=ft.ownerDocument)?ct.defaultView||ct.parentWindow:window,Rt?(qt=N.relatedTarget||N.toElement,Rt=We,qt=qt?eh(qt):null,qt!==null&&(Rs=ve(qt),qt!==Rs||qt.tag!==5&&qt.tag!==6)&&(qt=null)):(Rt=null,qt=We),Rt!==qt)){if(Wt=n8,yt="onMouseLeave",$e="onMouseEnter",Pe="mouse",(h==="pointerout"||h==="pointerover")&&(Wt=a8,yt="onPointerLeave",$e="onPointerEnter",Pe="pointer"),Rs=Rt==null?ct:xp(Rt),Ve=qt==null?ct:xp(qt),ct=new Wt(yt,Pe+"leave",Rt,N,ft),ct.target=Rs,ct.relatedTarget=Ve,yt=null,eh(ft)===We&&(Wt=new Wt($e,Pe+"enter",qt,N,ft),Wt.target=Ve,Wt.relatedTarget=Rs,yt=Wt),Rs=yt,Rt&&qt)t:{for(Wt=Rt,$e=qt,Pe=0,Ve=Wt;Ve;Ve=pp(Ve))Pe++;for(Ve=0,yt=$e;yt;yt=pp(yt))Ve++;for(;0<Pe-Ve;)Wt=pp(Wt),Pe--;for(;0<Ve-Pe;)$e=pp($e),Ve--;for(;Pe--;){if(Wt===$e||$e!==null&&Wt===$e.alternate)break t;Wt=pp(Wt),$e=pp($e)}Wt=null}else Wt=null;Rt!==null&&O8(pt,ct,Rt,Wt,!1),qt!==null&&Rs!==null&&O8(pt,Rs,qt,Wt,!0)}}e:{if(ct=We?xp(We):window,Rt=ct.nodeName&&ct.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&ct.type==="file")var Gt=_me;else if(d8(ct))if(h8)Gt=kme;else{Gt=Nme;var tr=jme}else(Rt=ct.nodeName)&&Rt.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Gt=Sme);if(Gt&&(Gt=Gt(h,We))){f8(pt,Gt,N,ft);break e}tr&&tr(h,ct,We),h==="focusout"&&(tr=ct._wrapperState)&&tr.controlled&&ct.type==="number"&&Ye(ct,"number",ct.value)}switch(tr=We?xp(We):window,h){case"focusin":(d8(tr)||tr.contentEditable==="true")&&(hp=tr,uC=We,Fx=null);break;case"focusout":Fx=uC=hp=null;break;case"mousedown":dC=!0;break;case"contextmenu":case"mouseup":case"dragend":dC=!1,w8(pt,N,ft);break;case"selectionchange":if(Tme)break;case"keydown":case"keyup":w8(pt,N,ft)}var rr;if(iC)e:{switch(h){case"compositionstart":var gr="onCompositionStart";break e;case"compositionend":gr="onCompositionEnd";break e;case"compositionupdate":gr="onCompositionUpdate";break e}gr=void 0}else fp?c8(h,N)&&(gr="onCompositionEnd"):h==="keydown"&&N.keyCode===229&&(gr="onCompositionStart");gr&&(i8&&N.locale!=="ko"&&(fp||gr!=="onCompositionStart"?gr==="onCompositionEnd"&&fp&&(rr=t8()):(yd=ft,eC="value"in yd?yd.value:yd.textContent,fp=!0)),tr=y1(We,gr),0<tr.length&&(gr=new s8(gr,h,null,N,ft),pt.push({event:gr,listeners:tr}),rr?gr.data=rr:(rr=u8(N),rr!==null&&(gr.data=rr)))),(rr=xme?vme(h,N):yme(h,N))&&(We=y1(We,"onBeforeInput"),0<We.length&&(ft=new s8("onBeforeInput","beforeinput",null,N,ft),pt.push({event:ft,listeners:We}),ft.data=rr))}A8(pt,x)})}function Bx(h,x,N){return{instance:h,listener:x,currentTarget:N}}function y1(h,x){for(var N=x+"Capture",T=[];h!==null;){var I=h,U=I.stateNode;I.tag===5&&U!==null&&(I=U,U=er(h,N),U!=null&&T.unshift(Bx(h,U,I)),U=er(h,x),U!=null&&T.push(Bx(h,U,I))),h=h.return}return T}function pp(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function O8(h,x,N,T,I){for(var U=x._reactName,re=[];N!==null&&N!==T;){var je=N,Ce=je.alternate,We=je.stateNode;if(Ce!==null&&Ce===T)break;je.tag===5&&We!==null&&(je=We,I?(Ce=er(N,U),Ce!=null&&re.unshift(Bx(N,Ce,je))):I||(Ce=er(N,U),Ce!=null&&re.push(Bx(N,Ce,je)))),N=N.return}re.length!==0&&h.push({event:x,listeners:re})}var Rme=/\r\n?/g,Dme=/\u0000|\uFFFD/g;function R8(h){return(typeof h=="string"?h:""+h).replace(Rme,`
`).replace(Dme,"")}function b1(h,x,N){if(x=R8(x),R8(h)!==x&&N)throw Error(r(425))}function w1(){}var xC=null,vC=null;function yC(h,x){return h==="textarea"||h==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var bC=typeof setTimeout=="function"?setTimeout:void 0,Ime=typeof clearTimeout=="function"?clearTimeout:void 0,D8=typeof Promise=="function"?Promise:void 0,Mme=typeof queueMicrotask=="function"?queueMicrotask:typeof D8<"u"?function(h){return D8.resolve(null).then(h).catch(Fme)}:bC;function Fme(h){setTimeout(function(){throw h})}function wC(h,x){var N=x,T=0;do{var I=N.nextSibling;if(h.removeChild(N),I&&I.nodeType===8)if(N=I.data,N==="/$"){if(T===0){h.removeChild(I),Ax(x);return}T--}else N!=="$"&&N!=="$?"&&N!=="$!"||T++;N=I}while(N);Ax(x)}function wd(h){for(;h!=null;h=h.nextSibling){var x=h.nodeType;if(x===1||x===3)break;if(x===8){if(x=h.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return h}function I8(h){h=h.previousSibling;for(var x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="$"||N==="$!"||N==="$?"){if(x===0)return h;x--}else N==="/$"&&x++}h=h.previousSibling}return null}var gp=Math.random().toString(36).slice(2),Nc="__reactFiber$"+gp,Ux="__reactProps$"+gp,hu="__reactContainer$"+gp,_C="__reactEvents$"+gp,Lme="__reactListeners$"+gp,$me="__reactHandles$"+gp;function eh(h){var x=h[Nc];if(x)return x;for(var N=h.parentNode;N;){if(x=N[hu]||N[Nc]){if(N=x.alternate,x.child!==null||N!==null&&N.child!==null)for(h=I8(h);h!==null;){if(N=h[Nc])return N;h=I8(h)}return x}h=N,N=h.parentNode}return null}function Vx(h){return h=h[Nc]||h[hu],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function xp(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function _1(h){return h[Ux]||null}var jC=[],vp=-1;function _d(h){return{current:h}}function Xn(h){0>vp||(h.current=jC[vp],jC[vp]=null,vp--)}function Bn(h,x){vp++,jC[vp]=h.current,h.current=x}var jd={},ri=_d(jd),Yi=_d(!1),th=jd;function yp(h,x){var N=h.type.contextTypes;if(!N)return jd;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===x)return T.__reactInternalMemoizedMaskedChildContext;var I={},U;for(U in N)I[U]=x[U];return T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=x,h.__reactInternalMemoizedMaskedChildContext=I),I}function Xi(h){return h=h.childContextTypes,h!=null}function j1(){Xn(Yi),Xn(ri)}function M8(h,x,N){if(ri.current!==jd)throw Error(r(168));Bn(ri,x),Bn(Yi,N)}function F8(h,x,N){var T=h.stateNode;if(x=x.childContextTypes,typeof T.getChildContext!="function")return N;T=T.getChildContext();for(var I in T)if(!(I in x))throw Error(r(108,se(h)||"Unknown",I));return H({},N,T)}function N1(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||jd,th=ri.current,Bn(ri,h),Bn(Yi,Yi.current),!0}function L8(h,x,N){var T=h.stateNode;if(!T)throw Error(r(169));N?(h=F8(h,x,th),T.__reactInternalMemoizedMergedChildContext=h,Xn(Yi),Xn(ri),Bn(ri,h)):Xn(Yi),Bn(Yi,N)}var mu=null,S1=!1,NC=!1;function $8(h){mu===null?mu=[h]:mu.push(h)}function Bme(h){S1=!0,$8(h)}function Nd(){if(!NC&&mu!==null){NC=!0;var h=0,x=vn;try{var N=mu;for(vn=1;h<N.length;h++){var T=N[h];do T=T(!0);while(T!==null)}mu=null,S1=!1}catch(I){throw mu!==null&&(mu=mu.slice(h+1)),st(Br,Nd),I}finally{vn=x,NC=!1}}return null}var bp=[],wp=0,k1=null,C1=0,Jo=[],Zo=0,rh=null,pu=1,gu="";function nh(h,x){bp[wp++]=C1,bp[wp++]=k1,k1=h,C1=x}function B8(h,x,N){Jo[Zo++]=pu,Jo[Zo++]=gu,Jo[Zo++]=rh,rh=h;var T=pu;h=gu;var I=32-Os(T)-1;T&=~(1<<I),N+=1;var U=32-Os(x)+I;if(30<U){var re=I-I%5;U=(T&(1<<re)-1).toString(32),T>>=re,I-=re,pu=1<<32-Os(x)+I|N<<I|T,gu=U+h}else pu=1<<U|N<<I|T,gu=h}function SC(h){h.return!==null&&(nh(h,1),B8(h,1,0))}function kC(h){for(;h===k1;)k1=bp[--wp],bp[wp]=null,C1=bp[--wp],bp[wp]=null;for(;h===rh;)rh=Jo[--Zo],Jo[Zo]=null,gu=Jo[--Zo],Jo[Zo]=null,pu=Jo[--Zo],Jo[Zo]=null}var wo=null,_o=null,ns=!1,$l=null;function U8(h,x){var N=rl(5,null,null,0);N.elementType="DELETED",N.stateNode=x,N.return=h,x=h.deletions,x===null?(h.deletions=[N],h.flags|=16):x.push(N)}function V8(h,x){switch(h.tag){case 5:var N=h.type;return x=x.nodeType!==1||N.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(h.stateNode=x,wo=h,_o=wd(x.firstChild),!0):!1;case 6:return x=h.pendingProps===""||x.nodeType!==3?null:x,x!==null?(h.stateNode=x,wo=h,_o=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(N=rh!==null?{id:pu,overflow:gu}:null,h.memoizedState={dehydrated:x,treeContext:N,retryLane:1073741824},N=rl(18,null,null,0),N.stateNode=x,N.return=h,h.child=N,wo=h,_o=null,!0):!1;default:return!1}}function CC(h){return(h.mode&1)!==0&&(h.flags&128)===0}function EC(h){if(ns){var x=_o;if(x){var N=x;if(!V8(h,x)){if(CC(h))throw Error(r(418));x=wd(N.nextSibling);var T=wo;x&&V8(h,x)?U8(T,N):(h.flags=h.flags&-4097|2,ns=!1,wo=h)}}else{if(CC(h))throw Error(r(418));h.flags=h.flags&-4097|2,ns=!1,wo=h}}}function z8(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;wo=h}function E1(h){if(h!==wo)return!1;if(!ns)return z8(h),ns=!0,!1;var x;if((x=h.tag!==3)&&!(x=h.tag!==5)&&(x=h.type,x=x!=="head"&&x!=="body"&&!yC(h.type,h.memoizedProps)),x&&(x=_o)){if(CC(h))throw q8(),Error(r(418));for(;x;)U8(h,x),x=wd(x.nextSibling)}if(z8(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="/$"){if(x===0){_o=wd(h.nextSibling);break e}x--}else N!=="$"&&N!=="$!"&&N!=="$?"||x++}h=h.nextSibling}_o=null}}else _o=wo?wd(h.stateNode.nextSibling):null;return!0}function q8(){for(var h=_o;h;)h=wd(h.nextSibling)}function _p(){_o=wo=null,ns=!1}function TC(h){$l===null?$l=[h]:$l.push(h)}var Ume=E.ReactCurrentBatchConfig;function zx(h,x,N){if(h=N.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(r(309));var T=N.stateNode}if(!T)throw Error(r(147,h));var I=T,U=""+h;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===U?x.ref:(x=function(re){var je=I.refs;re===null?delete je[U]:je[U]=re},x._stringRef=U,x)}if(typeof h!="string")throw Error(r(284));if(!N._owner)throw Error(r(290,h))}return h}function T1(h,x){throw h=Object.prototype.toString.call(x),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":h))}function W8(h){var x=h._init;return x(h._payload)}function H8(h){function x($e,Pe){if(h){var Ve=$e.deletions;Ve===null?($e.deletions=[Pe],$e.flags|=16):Ve.push(Pe)}}function N($e,Pe){if(!h)return null;for(;Pe!==null;)x($e,Pe),Pe=Pe.sibling;return null}function T($e,Pe){for($e=new Map;Pe!==null;)Pe.key!==null?$e.set(Pe.key,Pe):$e.set(Pe.index,Pe),Pe=Pe.sibling;return $e}function I($e,Pe){return $e=Od($e,Pe),$e.index=0,$e.sibling=null,$e}function U($e,Pe,Ve){return $e.index=Ve,h?(Ve=$e.alternate,Ve!==null?(Ve=Ve.index,Ve<Pe?($e.flags|=2,Pe):Ve):($e.flags|=2,Pe)):($e.flags|=1048576,Pe)}function re($e){return h&&$e.alternate===null&&($e.flags|=2),$e}function je($e,Pe,Ve,yt){return Pe===null||Pe.tag!==6?(Pe=bE(Ve,$e.mode,yt),Pe.return=$e,Pe):(Pe=I(Pe,Ve),Pe.return=$e,Pe)}function Ce($e,Pe,Ve,yt){var Gt=Ve.type;return Gt===k?ft($e,Pe,Ve.props.children,yt,Ve.key):Pe!==null&&(Pe.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===q&&W8(Gt)===Pe.type)?(yt=I(Pe,Ve.props),yt.ref=zx($e,Pe,Ve),yt.return=$e,yt):(yt=Q1(Ve.type,Ve.key,Ve.props,null,$e.mode,yt),yt.ref=zx($e,Pe,Ve),yt.return=$e,yt)}function We($e,Pe,Ve,yt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Ve.containerInfo||Pe.stateNode.implementation!==Ve.implementation?(Pe=wE(Ve,$e.mode,yt),Pe.return=$e,Pe):(Pe=I(Pe,Ve.children||[]),Pe.return=$e,Pe)}function ft($e,Pe,Ve,yt,Gt){return Pe===null||Pe.tag!==7?(Pe=dh(Ve,$e.mode,yt,Gt),Pe.return=$e,Pe):(Pe=I(Pe,Ve),Pe.return=$e,Pe)}function pt($e,Pe,Ve){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=bE(""+Pe,$e.mode,Ve),Pe.return=$e,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case S:return Ve=Q1(Pe.type,Pe.key,Pe.props,null,$e.mode,Ve),Ve.ref=zx($e,null,Pe),Ve.return=$e,Ve;case C:return Pe=wE(Pe,$e.mode,Ve),Pe.return=$e,Pe;case q:var yt=Pe._init;return pt($e,yt(Pe._payload),Ve)}if(ce(Pe)||M(Pe))return Pe=dh(Pe,$e.mode,Ve,null),Pe.return=$e,Pe;T1($e,Pe)}return null}function ct($e,Pe,Ve,yt){var Gt=Pe!==null?Pe.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return Gt!==null?null:je($e,Pe,""+Ve,yt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case S:return Ve.key===Gt?Ce($e,Pe,Ve,yt):null;case C:return Ve.key===Gt?We($e,Pe,Ve,yt):null;case q:return Gt=Ve._init,ct($e,Pe,Gt(Ve._payload),yt)}if(ce(Ve)||M(Ve))return Gt!==null?null:ft($e,Pe,Ve,yt,null);T1($e,Ve)}return null}function Rt($e,Pe,Ve,yt,Gt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return $e=$e.get(Ve)||null,je(Pe,$e,""+yt,Gt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case S:return $e=$e.get(yt.key===null?Ve:yt.key)||null,Ce(Pe,$e,yt,Gt);case C:return $e=$e.get(yt.key===null?Ve:yt.key)||null,We(Pe,$e,yt,Gt);case q:var tr=yt._init;return Rt($e,Pe,Ve,tr(yt._payload),Gt)}if(ce(yt)||M(yt))return $e=$e.get(Ve)||null,ft(Pe,$e,yt,Gt,null);T1(Pe,yt)}return null}function qt($e,Pe,Ve,yt){for(var Gt=null,tr=null,rr=Pe,gr=Pe=0,Ca=null;rr!==null&&gr<Ve.length;gr++){rr.index>gr?(Ca=rr,rr=null):Ca=rr.sibling;var an=ct($e,rr,Ve[gr],yt);if(an===null){rr===null&&(rr=Ca);break}h&&rr&&an.alternate===null&&x($e,rr),Pe=U(an,Pe,gr),tr===null?Gt=an:tr.sibling=an,tr=an,rr=Ca}if(gr===Ve.length)return N($e,rr),ns&&nh($e,gr),Gt;if(rr===null){for(;gr<Ve.length;gr++)rr=pt($e,Ve[gr],yt),rr!==null&&(Pe=U(rr,Pe,gr),tr===null?Gt=rr:tr.sibling=rr,tr=rr);return ns&&nh($e,gr),Gt}for(rr=T($e,rr);gr<Ve.length;gr++)Ca=Rt(rr,$e,gr,Ve[gr],yt),Ca!==null&&(h&&Ca.alternate!==null&&rr.delete(Ca.key===null?gr:Ca.key),Pe=U(Ca,Pe,gr),tr===null?Gt=Ca:tr.sibling=Ca,tr=Ca);return h&&rr.forEach(function(Rd){return x($e,Rd)}),ns&&nh($e,gr),Gt}function Wt($e,Pe,Ve,yt){var Gt=M(Ve);if(typeof Gt!="function")throw Error(r(150));if(Ve=Gt.call(Ve),Ve==null)throw Error(r(151));for(var tr=Gt=null,rr=Pe,gr=Pe=0,Ca=null,an=Ve.next();rr!==null&&!an.done;gr++,an=Ve.next()){rr.index>gr?(Ca=rr,rr=null):Ca=rr.sibling;var Rd=ct($e,rr,an.value,yt);if(Rd===null){rr===null&&(rr=Ca);break}h&&rr&&Rd.alternate===null&&x($e,rr),Pe=U(Rd,Pe,gr),tr===null?Gt=Rd:tr.sibling=Rd,tr=Rd,rr=Ca}if(an.done)return N($e,rr),ns&&nh($e,gr),Gt;if(rr===null){for(;!an.done;gr++,an=Ve.next())an=pt($e,an.value,yt),an!==null&&(Pe=U(an,Pe,gr),tr===null?Gt=an:tr.sibling=an,tr=an);return ns&&nh($e,gr),Gt}for(rr=T($e,rr);!an.done;gr++,an=Ve.next())an=Rt(rr,$e,gr,an.value,yt),an!==null&&(h&&an.alternate!==null&&rr.delete(an.key===null?gr:an.key),Pe=U(an,Pe,gr),tr===null?Gt=an:tr.sibling=an,tr=an);return h&&rr.forEach(function(bpe){return x($e,bpe)}),ns&&nh($e,gr),Gt}function Rs($e,Pe,Ve,yt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===k&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case S:e:{for(var Gt=Ve.key,tr=Pe;tr!==null;){if(tr.key===Gt){if(Gt=Ve.type,Gt===k){if(tr.tag===7){N($e,tr.sibling),Pe=I(tr,Ve.props.children),Pe.return=$e,$e=Pe;break e}}else if(tr.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===q&&W8(Gt)===tr.type){N($e,tr.sibling),Pe=I(tr,Ve.props),Pe.ref=zx($e,tr,Ve),Pe.return=$e,$e=Pe;break e}N($e,tr);break}else x($e,tr);tr=tr.sibling}Ve.type===k?(Pe=dh(Ve.props.children,$e.mode,yt,Ve.key),Pe.return=$e,$e=Pe):(yt=Q1(Ve.type,Ve.key,Ve.props,null,$e.mode,yt),yt.ref=zx($e,Pe,Ve),yt.return=$e,$e=yt)}return re($e);case C:e:{for(tr=Ve.key;Pe!==null;){if(Pe.key===tr)if(Pe.tag===4&&Pe.stateNode.containerInfo===Ve.containerInfo&&Pe.stateNode.implementation===Ve.implementation){N($e,Pe.sibling),Pe=I(Pe,Ve.children||[]),Pe.return=$e,$e=Pe;break e}else{N($e,Pe);break}else x($e,Pe);Pe=Pe.sibling}Pe=wE(Ve,$e.mode,yt),Pe.return=$e,$e=Pe}return re($e);case q:return tr=Ve._init,Rs($e,Pe,tr(Ve._payload),yt)}if(ce(Ve))return qt($e,Pe,Ve,yt);if(M(Ve))return Wt($e,Pe,Ve,yt);T1($e,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"?(Ve=""+Ve,Pe!==null&&Pe.tag===6?(N($e,Pe.sibling),Pe=I(Pe,Ve),Pe.return=$e,$e=Pe):(N($e,Pe),Pe=bE(Ve,$e.mode,yt),Pe.return=$e,$e=Pe),re($e)):N($e,Pe)}return Rs}var jp=H8(!0),G8=H8(!1),A1=_d(null),P1=null,Np=null,AC=null;function PC(){AC=Np=P1=null}function OC(h){var x=A1.current;Xn(A1),h._currentValue=x}function RC(h,x,N){for(;h!==null;){var T=h.alternate;if((h.childLanes&x)!==x?(h.childLanes|=x,T!==null&&(T.childLanes|=x)):T!==null&&(T.childLanes&x)!==x&&(T.childLanes|=x),h===N)break;h=h.return}}function Sp(h,x){P1=h,AC=Np=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&x)!==0&&(Ji=!0),h.firstContext=null)}function Qo(h){var x=h._currentValue;if(AC!==h)if(h={context:h,memoizedValue:x,next:null},Np===null){if(P1===null)throw Error(r(308));Np=h,P1.dependencies={lanes:0,firstContext:h}}else Np=Np.next=h;return x}var sh=null;function DC(h){sh===null?sh=[h]:sh.push(h)}function K8(h,x,N,T){var I=x.interleaved;return I===null?(N.next=N,DC(x)):(N.next=I.next,I.next=N),x.interleaved=N,xu(h,T)}function xu(h,x){h.lanes|=x;var N=h.alternate;for(N!==null&&(N.lanes|=x),N=h,h=h.return;h!==null;)h.childLanes|=x,N=h.alternate,N!==null&&(N.childLanes|=x),N=h,h=h.return;return N.tag===3?N.stateNode:null}var Sd=!1;function IC(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y8(h,x){h=h.updateQueue,x.updateQueue===h&&(x.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function vu(h,x){return{eventTime:h,lane:x,tag:0,payload:null,callback:null,next:null}}function kd(h,x,N){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(en&2)!==0){var I=T.pending;return I===null?x.next=x:(x.next=I.next,I.next=x),T.pending=x,xu(h,N)}return I=T.interleaved,I===null?(x.next=x,DC(T)):(x.next=I.next,I.next=x),T.interleaved=x,xu(h,N)}function O1(h,x,N){if(x=x.updateQueue,x!==null&&(x=x.shared,(N&4194240)!==0)){var T=x.lanes;T&=h.pendingLanes,N|=T,x.lanes=N,Yk(h,N)}}function X8(h,x){var N=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,N===T)){var I=null,U=null;if(N=N.firstBaseUpdate,N!==null){do{var re={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};U===null?I=U=re:U=U.next=re,N=N.next}while(N!==null);U===null?I=U=x:U=U.next=x}else I=U=x;N={baseState:T.baseState,firstBaseUpdate:I,lastBaseUpdate:U,shared:T.shared,effects:T.effects},h.updateQueue=N;return}h=N.lastBaseUpdate,h===null?N.firstBaseUpdate=x:h.next=x,N.lastBaseUpdate=x}function R1(h,x,N,T){var I=h.updateQueue;Sd=!1;var U=I.firstBaseUpdate,re=I.lastBaseUpdate,je=I.shared.pending;if(je!==null){I.shared.pending=null;var Ce=je,We=Ce.next;Ce.next=null,re===null?U=We:re.next=We,re=Ce;var ft=h.alternate;ft!==null&&(ft=ft.updateQueue,je=ft.lastBaseUpdate,je!==re&&(je===null?ft.firstBaseUpdate=We:je.next=We,ft.lastBaseUpdate=Ce))}if(U!==null){var pt=I.baseState;re=0,ft=We=Ce=null,je=U;do{var ct=je.lane,Rt=je.eventTime;if((T&ct)===ct){ft!==null&&(ft=ft.next={eventTime:Rt,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var qt=h,Wt=je;switch(ct=x,Rt=N,Wt.tag){case 1:if(qt=Wt.payload,typeof qt=="function"){pt=qt.call(Rt,pt,ct);break e}pt=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Wt.payload,ct=typeof qt=="function"?qt.call(Rt,pt,ct):qt,ct==null)break e;pt=H({},pt,ct);break e;case 2:Sd=!0}}je.callback!==null&&je.lane!==0&&(h.flags|=64,ct=I.effects,ct===null?I.effects=[je]:ct.push(je))}else Rt={eventTime:Rt,lane:ct,tag:je.tag,payload:je.payload,callback:je.callback,next:null},ft===null?(We=ft=Rt,Ce=pt):ft=ft.next=Rt,re|=ct;if(je=je.next,je===null){if(je=I.shared.pending,je===null)break;ct=je,je=ct.next,ct.next=null,I.lastBaseUpdate=ct,I.shared.pending=null}}while(!0);if(ft===null&&(Ce=pt),I.baseState=Ce,I.firstBaseUpdate=We,I.lastBaseUpdate=ft,x=I.shared.interleaved,x!==null){I=x;do re|=I.lane,I=I.next;while(I!==x)}else U===null&&(I.shared.lanes=0);oh|=re,h.lanes=re,h.memoizedState=pt}}function J8(h,x,N){if(h=x.effects,x.effects=null,h!==null)for(x=0;x<h.length;x++){var T=h[x],I=T.callback;if(I!==null){if(T.callback=null,T=N,typeof I!="function")throw Error(r(191,I));I.call(T)}}}var qx={},Sc=_d(qx),Wx=_d(qx),Hx=_d(qx);function ah(h){if(h===qx)throw Error(r(174));return h}function MC(h,x){switch(Bn(Hx,x),Bn(Wx,h),Bn(Sc,qx),h=x.nodeType,h){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:_e(null,"");break;default:h=h===8?x.parentNode:x,x=h.namespaceURI||null,h=h.tagName,x=_e(x,h)}Xn(Sc),Bn(Sc,x)}function kp(){Xn(Sc),Xn(Wx),Xn(Hx)}function Z8(h){ah(Hx.current);var x=ah(Sc.current),N=_e(x,h.type);x!==N&&(Bn(Wx,h),Bn(Sc,N))}function FC(h){Wx.current===h&&(Xn(Sc),Xn(Wx))}var cs=_d(0);function D1(h){for(var x=h;x!==null;){if(x.tag===13){var N=x.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var LC=[];function $C(){for(var h=0;h<LC.length;h++)LC[h]._workInProgressVersionPrimary=null;LC.length=0}var I1=E.ReactCurrentDispatcher,BC=E.ReactCurrentBatchConfig,ih=0,us=null,ua=null,Sa=null,M1=!1,Gx=!1,Kx=0,Vme=0;function ni(){throw Error(r(321))}function UC(h,x){if(x===null)return!1;for(var N=0;N<x.length&&N<h.length;N++)if(!Ll(h[N],x[N]))return!1;return!0}function VC(h,x,N,T,I,U){if(ih=U,us=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,I1.current=h===null||h.memoizedState===null?Hme:Gme,h=N(T,I),Gx){U=0;do{if(Gx=!1,Kx=0,25<=U)throw Error(r(301));U+=1,Sa=ua=null,x.updateQueue=null,I1.current=Kme,h=N(T,I)}while(Gx)}if(I1.current=$1,x=ua!==null&&ua.next!==null,ih=0,Sa=ua=us=null,M1=!1,x)throw Error(r(300));return h}function zC(){var h=Kx!==0;return Kx=0,h}function kc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sa===null?us.memoizedState=Sa=h:Sa=Sa.next=h,Sa}function el(){if(ua===null){var h=us.alternate;h=h!==null?h.memoizedState:null}else h=ua.next;var x=Sa===null?us.memoizedState:Sa.next;if(x!==null)Sa=x,ua=h;else{if(h===null)throw Error(r(310));ua=h,h={memoizedState:ua.memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},Sa===null?us.memoizedState=Sa=h:Sa=Sa.next=h}return Sa}function Yx(h,x){return typeof x=="function"?x(h):x}function qC(h){var x=el(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var T=ua,I=T.baseQueue,U=N.pending;if(U!==null){if(I!==null){var re=I.next;I.next=U.next,U.next=re}T.baseQueue=I=U,N.pending=null}if(I!==null){U=I.next,T=T.baseState;var je=re=null,Ce=null,We=U;do{var ft=We.lane;if((ih&ft)===ft)Ce!==null&&(Ce=Ce.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),T=We.hasEagerState?We.eagerState:h(T,We.action);else{var pt={lane:ft,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Ce===null?(je=Ce=pt,re=T):Ce=Ce.next=pt,us.lanes|=ft,oh|=ft}We=We.next}while(We!==null&&We!==U);Ce===null?re=T:Ce.next=je,Ll(T,x.memoizedState)||(Ji=!0),x.memoizedState=T,x.baseState=re,x.baseQueue=Ce,N.lastRenderedState=T}if(h=N.interleaved,h!==null){I=h;do U=I.lane,us.lanes|=U,oh|=U,I=I.next;while(I!==h)}else I===null&&(N.lanes=0);return[x.memoizedState,N.dispatch]}function WC(h){var x=el(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var T=N.dispatch,I=N.pending,U=x.memoizedState;if(I!==null){N.pending=null;var re=I=I.next;do U=h(U,re.action),re=re.next;while(re!==I);Ll(U,x.memoizedState)||(Ji=!0),x.memoizedState=U,x.baseQueue===null&&(x.baseState=U),N.lastRenderedState=U}return[U,T]}function Q8(){}function e$(h,x){var N=us,T=el(),I=x(),U=!Ll(T.memoizedState,I);if(U&&(T.memoizedState=I,Ji=!0),T=T.queue,HC(n$.bind(null,N,T,h),[h]),T.getSnapshot!==x||U||Sa!==null&&Sa.memoizedState.tag&1){if(N.flags|=2048,Xx(9,r$.bind(null,N,T,I,x),void 0,null),ka===null)throw Error(r(349));(ih&30)!==0||t$(N,x,I)}return I}function t$(h,x,N){h.flags|=16384,h={getSnapshot:x,value:N},x=us.updateQueue,x===null?(x={lastEffect:null,stores:null},us.updateQueue=x,x.stores=[h]):(N=x.stores,N===null?x.stores=[h]:N.push(h))}function r$(h,x,N,T){x.value=N,x.getSnapshot=T,s$(x)&&a$(h)}function n$(h,x,N){return N(function(){s$(x)&&a$(h)})}function s$(h){var x=h.getSnapshot;h=h.value;try{var N=x();return!Ll(h,N)}catch{return!0}}function a$(h){var x=xu(h,1);x!==null&&zl(x,h,1,-1)}function i$(h){var x=kc();return typeof h=="function"&&(h=h()),x.memoizedState=x.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yx,lastRenderedState:h},x.queue=h,h=h.dispatch=Wme.bind(null,us,h),[x.memoizedState,h]}function Xx(h,x,N,T){return h={tag:h,create:x,destroy:N,deps:T,next:null},x=us.updateQueue,x===null?(x={lastEffect:null,stores:null},us.updateQueue=x,x.lastEffect=h.next=h):(N=x.lastEffect,N===null?x.lastEffect=h.next=h:(T=N.next,N.next=h,h.next=T,x.lastEffect=h)),h}function o$(){return el().memoizedState}function F1(h,x,N,T){var I=kc();us.flags|=h,I.memoizedState=Xx(1|x,N,void 0,T===void 0?null:T)}function L1(h,x,N,T){var I=el();T=T===void 0?null:T;var U=void 0;if(ua!==null){var re=ua.memoizedState;if(U=re.destroy,T!==null&&UC(T,re.deps)){I.memoizedState=Xx(x,N,U,T);return}}us.flags|=h,I.memoizedState=Xx(1|x,N,U,T)}function l$(h,x){return F1(8390656,8,h,x)}function HC(h,x){return L1(2048,8,h,x)}function c$(h,x){return L1(4,2,h,x)}function u$(h,x){return L1(4,4,h,x)}function d$(h,x){if(typeof x=="function")return h=h(),x(h),function(){x(null)};if(x!=null)return h=h(),x.current=h,function(){x.current=null}}function f$(h,x,N){return N=N!=null?N.concat([h]):null,L1(4,4,d$.bind(null,x,h),N)}function GC(){}function h$(h,x){var N=el();x=x===void 0?null:x;var T=N.memoizedState;return T!==null&&x!==null&&UC(x,T[1])?T[0]:(N.memoizedState=[h,x],h)}function m$(h,x){var N=el();x=x===void 0?null:x;var T=N.memoizedState;return T!==null&&x!==null&&UC(x,T[1])?T[0]:(h=h(),N.memoizedState=[h,x],h)}function p$(h,x,N){return(ih&21)===0?(h.baseState&&(h.baseState=!1,Ji=!0),h.memoizedState=N):(Ll(N,x)||(N=W6(),us.lanes|=N,oh|=N,h.baseState=!0),x)}function zme(h,x){var N=vn;vn=N!==0&&4>N?N:4,h(!0);var T=BC.transition;BC.transition={};try{h(!1),x()}finally{vn=N,BC.transition=T}}function g$(){return el().memoizedState}function qme(h,x,N){var T=Ad(h);if(N={lane:T,action:N,hasEagerState:!1,eagerState:null,next:null},x$(h))v$(x,N);else if(N=K8(h,x,N,T),N!==null){var I=Ci();zl(N,h,T,I),y$(N,x,T)}}function Wme(h,x,N){var T=Ad(h),I={lane:T,action:N,hasEagerState:!1,eagerState:null,next:null};if(x$(h))v$(x,I);else{var U=h.alternate;if(h.lanes===0&&(U===null||U.lanes===0)&&(U=x.lastRenderedReducer,U!==null))try{var re=x.lastRenderedState,je=U(re,N);if(I.hasEagerState=!0,I.eagerState=je,Ll(je,re)){var Ce=x.interleaved;Ce===null?(I.next=I,DC(x)):(I.next=Ce.next,Ce.next=I),x.interleaved=I;return}}catch{}finally{}N=K8(h,x,I,T),N!==null&&(I=Ci(),zl(N,h,T,I),y$(N,x,T))}}function x$(h){var x=h.alternate;return h===us||x!==null&&x===us}function v$(h,x){Gx=M1=!0;var N=h.pending;N===null?x.next=x:(x.next=N.next,N.next=x),h.pending=x}function y$(h,x,N){if((N&4194240)!==0){var T=x.lanes;T&=h.pendingLanes,N|=T,x.lanes=N,Yk(h,N)}}var $1={readContext:Qo,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},Hme={readContext:Qo,useCallback:function(h,x){return kc().memoizedState=[h,x===void 0?null:x],h},useContext:Qo,useEffect:l$,useImperativeHandle:function(h,x,N){return N=N!=null?N.concat([h]):null,F1(4194308,4,d$.bind(null,x,h),N)},useLayoutEffect:function(h,x){return F1(4194308,4,h,x)},useInsertionEffect:function(h,x){return F1(4,2,h,x)},useMemo:function(h,x){var N=kc();return x=x===void 0?null:x,h=h(),N.memoizedState=[h,x],h},useReducer:function(h,x,N){var T=kc();return x=N!==void 0?N(x):x,T.memoizedState=T.baseState=x,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:x},T.queue=h,h=h.dispatch=qme.bind(null,us,h),[T.memoizedState,h]},useRef:function(h){var x=kc();return h={current:h},x.memoizedState=h},useState:i$,useDebugValue:GC,useDeferredValue:function(h){return kc().memoizedState=h},useTransition:function(){var h=i$(!1),x=h[0];return h=zme.bind(null,h[1]),kc().memoizedState=h,[x,h]},useMutableSource:function(){},useSyncExternalStore:function(h,x,N){var T=us,I=kc();if(ns){if(N===void 0)throw Error(r(407));N=N()}else{if(N=x(),ka===null)throw Error(r(349));(ih&30)!==0||t$(T,x,N)}I.memoizedState=N;var U={value:N,getSnapshot:x};return I.queue=U,l$(n$.bind(null,T,U,h),[h]),T.flags|=2048,Xx(9,r$.bind(null,T,U,N,x),void 0,null),N},useId:function(){var h=kc(),x=ka.identifierPrefix;if(ns){var N=gu,T=pu;N=(T&~(1<<32-Os(T)-1)).toString(32)+N,x=":"+x+"R"+N,N=Kx++,0<N&&(x+="H"+N.toString(32)),x+=":"}else N=Vme++,x=":"+x+"r"+N.toString(32)+":";return h.memoizedState=x},unstable_isNewReconciler:!1},Gme={readContext:Qo,useCallback:h$,useContext:Qo,useEffect:HC,useImperativeHandle:f$,useInsertionEffect:c$,useLayoutEffect:u$,useMemo:m$,useReducer:qC,useRef:o$,useState:function(){return qC(Yx)},useDebugValue:GC,useDeferredValue:function(h){var x=el();return p$(x,ua.memoizedState,h)},useTransition:function(){var h=qC(Yx)[0],x=el().memoizedState;return[h,x]},useMutableSource:Q8,useSyncExternalStore:e$,useId:g$,unstable_isNewReconciler:!1},Kme={readContext:Qo,useCallback:h$,useContext:Qo,useEffect:HC,useImperativeHandle:f$,useInsertionEffect:c$,useLayoutEffect:u$,useMemo:m$,useReducer:WC,useRef:o$,useState:function(){return WC(Yx)},useDebugValue:GC,useDeferredValue:function(h){var x=el();return ua===null?x.memoizedState=h:p$(x,ua.memoizedState,h)},useTransition:function(){var h=WC(Yx)[0],x=el().memoizedState;return[h,x]},useMutableSource:Q8,useSyncExternalStore:e$,useId:g$,unstable_isNewReconciler:!1};function Bl(h,x){if(h&&h.defaultProps){x=H({},x),h=h.defaultProps;for(var N in h)x[N]===void 0&&(x[N]=h[N]);return x}return x}function KC(h,x,N,T){x=h.memoizedState,N=N(T,x),N=N==null?x:H({},x,N),h.memoizedState=N,h.lanes===0&&(h.updateQueue.baseState=N)}var B1={isMounted:function(h){return(h=h._reactInternals)?ve(h)===h:!1},enqueueSetState:function(h,x,N){h=h._reactInternals;var T=Ci(),I=Ad(h),U=vu(T,I);U.payload=x,N!=null&&(U.callback=N),x=kd(h,U,I),x!==null&&(zl(x,h,I,T),O1(x,h,I))},enqueueReplaceState:function(h,x,N){h=h._reactInternals;var T=Ci(),I=Ad(h),U=vu(T,I);U.tag=1,U.payload=x,N!=null&&(U.callback=N),x=kd(h,U,I),x!==null&&(zl(x,h,I,T),O1(x,h,I))},enqueueForceUpdate:function(h,x){h=h._reactInternals;var N=Ci(),T=Ad(h),I=vu(N,T);I.tag=2,x!=null&&(I.callback=x),x=kd(h,I,T),x!==null&&(zl(x,h,T,N),O1(x,h,T))}};function b$(h,x,N,T,I,U,re){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,U,re):x.prototype&&x.prototype.isPureReactComponent?!Mx(N,T)||!Mx(I,U):!0}function w$(h,x,N){var T=!1,I=jd,U=x.contextType;return typeof U=="object"&&U!==null?U=Qo(U):(I=Xi(x)?th:ri.current,T=x.contextTypes,U=(T=T!=null)?yp(h,I):jd),x=new x(N,U),h.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=B1,h.stateNode=x,x._reactInternals=h,T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=I,h.__reactInternalMemoizedMaskedChildContext=U),x}function _$(h,x,N,T){h=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(N,T),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(N,T),x.state!==h&&B1.enqueueReplaceState(x,x.state,null)}function YC(h,x,N,T){var I=h.stateNode;I.props=N,I.state=h.memoizedState,I.refs={},IC(h);var U=x.contextType;typeof U=="object"&&U!==null?I.context=Qo(U):(U=Xi(x)?th:ri.current,I.context=yp(h,U)),I.state=h.memoizedState,U=x.getDerivedStateFromProps,typeof U=="function"&&(KC(h,x,U,N),I.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(x=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),x!==I.state&&B1.enqueueReplaceState(I,I.state,null),R1(h,N,I,T),I.state=h.memoizedState),typeof I.componentDidMount=="function"&&(h.flags|=4194308)}function Cp(h,x){try{var N="",T=x;do N+=X(T),T=T.return;while(T);var I=N}catch(U){I=`
Error generating stack: `+U.message+`
`+U.stack}return{value:h,source:x,stack:I,digest:null}}function XC(h,x,N){return{value:h,source:null,stack:N??null,digest:x??null}}function JC(h,x){try{console.error(x.value)}catch(N){setTimeout(function(){throw N})}}var Yme=typeof WeakMap=="function"?WeakMap:Map;function j$(h,x,N){N=vu(-1,N),N.tag=3,N.payload={element:null};var T=x.value;return N.callback=function(){G1||(G1=!0,fE=T),JC(h,x)},N}function N$(h,x,N){N=vu(-1,N),N.tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var I=x.value;N.payload=function(){return T(I)},N.callback=function(){JC(h,x)}}var U=h.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(N.callback=function(){JC(h,x),typeof T!="function"&&(Ed===null?Ed=new Set([this]):Ed.add(this));var re=x.stack;this.componentDidCatch(x.value,{componentStack:re!==null?re:""})}),N}function S$(h,x,N){var T=h.pingCache;if(T===null){T=h.pingCache=new Yme;var I=new Set;T.set(x,I)}else I=T.get(x),I===void 0&&(I=new Set,T.set(x,I));I.has(N)||(I.add(N),h=cpe.bind(null,h,x,N),x.then(h,h))}function k$(h){do{var x;if((x=h.tag===13)&&(x=h.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return h;h=h.return}while(h!==null);return null}function C$(h,x,N,T,I){return(h.mode&1)===0?(h===x?h.flags|=65536:(h.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(x=vu(-1,1),x.tag=2,kd(N,x,1))),N.lanes|=1),h):(h.flags|=65536,h.lanes=I,h)}var Xme=E.ReactCurrentOwner,Ji=!1;function ki(h,x,N,T){x.child=h===null?G8(x,null,N,T):jp(x,h.child,N,T)}function E$(h,x,N,T,I){N=N.render;var U=x.ref;return Sp(x,I),T=VC(h,x,N,T,U,I),N=zC(),h!==null&&!Ji?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~I,yu(h,x,I)):(ns&&N&&SC(x),x.flags|=1,ki(h,x,T,I),x.child)}function T$(h,x,N,T,I){if(h===null){var U=N.type;return typeof U=="function"&&!yE(U)&&U.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(x.tag=15,x.type=U,A$(h,x,U,T,I)):(h=Q1(N.type,null,T,x,x.mode,I),h.ref=x.ref,h.return=x,x.child=h)}if(U=h.child,(h.lanes&I)===0){var re=U.memoizedProps;if(N=N.compare,N=N!==null?N:Mx,N(re,T)&&h.ref===x.ref)return yu(h,x,I)}return x.flags|=1,h=Od(U,T),h.ref=x.ref,h.return=x,x.child=h}function A$(h,x,N,T,I){if(h!==null){var U=h.memoizedProps;if(Mx(U,T)&&h.ref===x.ref)if(Ji=!1,x.pendingProps=T=U,(h.lanes&I)!==0)(h.flags&131072)!==0&&(Ji=!0);else return x.lanes=h.lanes,yu(h,x,I)}return ZC(h,x,N,T,I)}function P$(h,x,N){var T=x.pendingProps,I=T.children,U=h!==null?h.memoizedState:null;if(T.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(Tp,jo),jo|=N;else{if((N&1073741824)===0)return h=U!==null?U.baseLanes|N:N,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:h,cachePool:null,transitions:null},x.updateQueue=null,Bn(Tp,jo),jo|=h,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=U!==null?U.baseLanes:N,Bn(Tp,jo),jo|=T}else U!==null?(T=U.baseLanes|N,x.memoizedState=null):T=N,Bn(Tp,jo),jo|=T;return ki(h,x,I,N),x.child}function O$(h,x){var N=x.ref;(h===null&&N!==null||h!==null&&h.ref!==N)&&(x.flags|=512,x.flags|=2097152)}function ZC(h,x,N,T,I){var U=Xi(N)?th:ri.current;return U=yp(x,U),Sp(x,I),N=VC(h,x,N,T,U,I),T=zC(),h!==null&&!Ji?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~I,yu(h,x,I)):(ns&&T&&SC(x),x.flags|=1,ki(h,x,N,I),x.child)}function R$(h,x,N,T,I){if(Xi(N)){var U=!0;N1(x)}else U=!1;if(Sp(x,I),x.stateNode===null)V1(h,x),w$(x,N,T),YC(x,N,T,I),T=!0;else if(h===null){var re=x.stateNode,je=x.memoizedProps;re.props=je;var Ce=re.context,We=N.contextType;typeof We=="object"&&We!==null?We=Qo(We):(We=Xi(N)?th:ri.current,We=yp(x,We));var ft=N.getDerivedStateFromProps,pt=typeof ft=="function"||typeof re.getSnapshotBeforeUpdate=="function";pt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(je!==T||Ce!==We)&&_$(x,re,T,We),Sd=!1;var ct=x.memoizedState;re.state=ct,R1(x,T,re,I),Ce=x.memoizedState,je!==T||ct!==Ce||Yi.current||Sd?(typeof ft=="function"&&(KC(x,N,ft,T),Ce=x.memoizedState),(je=Sd||b$(x,N,je,T,ct,Ce,We))?(pt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(x.flags|=4194308)):(typeof re.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=T,x.memoizedState=Ce),re.props=T,re.state=Ce,re.context=We,T=je):(typeof re.componentDidMount=="function"&&(x.flags|=4194308),T=!1)}else{re=x.stateNode,Y8(h,x),je=x.memoizedProps,We=x.type===x.elementType?je:Bl(x.type,je),re.props=We,pt=x.pendingProps,ct=re.context,Ce=N.contextType,typeof Ce=="object"&&Ce!==null?Ce=Qo(Ce):(Ce=Xi(N)?th:ri.current,Ce=yp(x,Ce));var Rt=N.getDerivedStateFromProps;(ft=typeof Rt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(je!==pt||ct!==Ce)&&_$(x,re,T,Ce),Sd=!1,ct=x.memoizedState,re.state=ct,R1(x,T,re,I);var qt=x.memoizedState;je!==pt||ct!==qt||Yi.current||Sd?(typeof Rt=="function"&&(KC(x,N,Rt,T),qt=x.memoizedState),(We=Sd||b$(x,N,We,T,ct,qt,Ce)||!1)?(ft||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(T,qt,Ce),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(T,qt,Ce)),typeof re.componentDidUpdate=="function"&&(x.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof re.componentDidUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=1024),x.memoizedProps=T,x.memoizedState=qt),re.props=T,re.state=qt,re.context=Ce,T=We):(typeof re.componentDidUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=1024),T=!1)}return QC(h,x,N,T,U,I)}function QC(h,x,N,T,I,U){O$(h,x);var re=(x.flags&128)!==0;if(!T&&!re)return I&&L8(x,N,!1),yu(h,x,U);T=x.stateNode,Xme.current=x;var je=re&&typeof N.getDerivedStateFromError!="function"?null:T.render();return x.flags|=1,h!==null&&re?(x.child=jp(x,h.child,null,U),x.child=jp(x,null,je,U)):ki(h,x,je,U),x.memoizedState=T.state,I&&L8(x,N,!0),x.child}function D$(h){var x=h.stateNode;x.pendingContext?M8(h,x.pendingContext,x.pendingContext!==x.context):x.context&&M8(h,x.context,!1),MC(h,x.containerInfo)}function I$(h,x,N,T,I){return _p(),TC(I),x.flags|=256,ki(h,x,N,T),x.child}var eE={dehydrated:null,treeContext:null,retryLane:0};function tE(h){return{baseLanes:h,cachePool:null,transitions:null}}function M$(h,x,N){var T=x.pendingProps,I=cs.current,U=!1,re=(x.flags&128)!==0,je;if((je=re)||(je=h!==null&&h.memoizedState===null?!1:(I&2)!==0),je?(U=!0,x.flags&=-129):(h===null||h.memoizedState!==null)&&(I|=1),Bn(cs,I&1),h===null)return EC(x),h=x.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((x.mode&1)===0?x.lanes=1:h.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(re=T.children,h=T.fallback,U?(T=x.mode,U=x.child,re={mode:"hidden",children:re},(T&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=re):U=e_(re,T,0,null),h=dh(h,T,N,null),U.return=x,h.return=x,U.sibling=h,x.child=U,x.child.memoizedState=tE(N),x.memoizedState=eE,h):rE(x,re));if(I=h.memoizedState,I!==null&&(je=I.dehydrated,je!==null))return Jme(h,x,re,T,je,I,N);if(U){U=T.fallback,re=x.mode,I=h.child,je=I.sibling;var Ce={mode:"hidden",children:T.children};return(re&1)===0&&x.child!==I?(T=x.child,T.childLanes=0,T.pendingProps=Ce,x.deletions=null):(T=Od(I,Ce),T.subtreeFlags=I.subtreeFlags&14680064),je!==null?U=Od(je,U):(U=dh(U,re,N,null),U.flags|=2),U.return=x,T.return=x,T.sibling=U,x.child=T,T=U,U=x.child,re=h.child.memoizedState,re=re===null?tE(N):{baseLanes:re.baseLanes|N,cachePool:null,transitions:re.transitions},U.memoizedState=re,U.childLanes=h.childLanes&~N,x.memoizedState=eE,T}return U=h.child,h=U.sibling,T=Od(U,{mode:"visible",children:T.children}),(x.mode&1)===0&&(T.lanes=N),T.return=x,T.sibling=null,h!==null&&(N=x.deletions,N===null?(x.deletions=[h],x.flags|=16):N.push(h)),x.child=T,x.memoizedState=null,T}function rE(h,x){return x=e_({mode:"visible",children:x},h.mode,0,null),x.return=h,h.child=x}function U1(h,x,N,T){return T!==null&&TC(T),jp(x,h.child,null,N),h=rE(x,x.pendingProps.children),h.flags|=2,x.memoizedState=null,h}function Jme(h,x,N,T,I,U,re){if(N)return x.flags&256?(x.flags&=-257,T=XC(Error(r(422))),U1(h,x,re,T)):x.memoizedState!==null?(x.child=h.child,x.flags|=128,null):(U=T.fallback,I=x.mode,T=e_({mode:"visible",children:T.children},I,0,null),U=dh(U,I,re,null),U.flags|=2,T.return=x,U.return=x,T.sibling=U,x.child=T,(x.mode&1)!==0&&jp(x,h.child,null,re),x.child.memoizedState=tE(re),x.memoizedState=eE,U);if((x.mode&1)===0)return U1(h,x,re,null);if(I.data==="$!"){if(T=I.nextSibling&&I.nextSibling.dataset,T)var je=T.dgst;return T=je,U=Error(r(419)),T=XC(U,T,void 0),U1(h,x,re,T)}if(je=(re&h.childLanes)!==0,Ji||je){if(T=ka,T!==null){switch(re&-re){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(T.suspendedLanes|re))!==0?0:I,I!==0&&I!==U.retryLane&&(U.retryLane=I,xu(h,I),zl(T,h,I,-1))}return vE(),T=XC(Error(r(421))),U1(h,x,re,T)}return I.data==="$?"?(x.flags|=128,x.child=h.child,x=upe.bind(null,h),I._reactRetry=x,null):(h=U.treeContext,_o=wd(I.nextSibling),wo=x,ns=!0,$l=null,h!==null&&(Jo[Zo++]=pu,Jo[Zo++]=gu,Jo[Zo++]=rh,pu=h.id,gu=h.overflow,rh=x),x=rE(x,T.children),x.flags|=4096,x)}function F$(h,x,N){h.lanes|=x;var T=h.alternate;T!==null&&(T.lanes|=x),RC(h.return,x,N)}function nE(h,x,N,T,I){var U=h.memoizedState;U===null?h.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:T,tail:N,tailMode:I}:(U.isBackwards=x,U.rendering=null,U.renderingStartTime=0,U.last=T,U.tail=N,U.tailMode=I)}function L$(h,x,N){var T=x.pendingProps,I=T.revealOrder,U=T.tail;if(ki(h,x,T.children,N),T=cs.current,(T&2)!==0)T=T&1|2,x.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=x.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&F$(h,N,x);else if(h.tag===19)F$(h,N,x);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===x)break e;for(;h.sibling===null;){if(h.return===null||h.return===x)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(Bn(cs,T),(x.mode&1)===0)x.memoizedState=null;else switch(I){case"forwards":for(N=x.child,I=null;N!==null;)h=N.alternate,h!==null&&D1(h)===null&&(I=N),N=N.sibling;N=I,N===null?(I=x.child,x.child=null):(I=N.sibling,N.sibling=null),nE(x,!1,I,N,U);break;case"backwards":for(N=null,I=x.child,x.child=null;I!==null;){if(h=I.alternate,h!==null&&D1(h)===null){x.child=I;break}h=I.sibling,I.sibling=N,N=I,I=h}nE(x,!0,N,null,U);break;case"together":nE(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function V1(h,x){(x.mode&1)===0&&h!==null&&(h.alternate=null,x.alternate=null,x.flags|=2)}function yu(h,x,N){if(h!==null&&(x.dependencies=h.dependencies),oh|=x.lanes,(N&x.childLanes)===0)return null;if(h!==null&&x.child!==h.child)throw Error(r(153));if(x.child!==null){for(h=x.child,N=Od(h,h.pendingProps),x.child=N,N.return=x;h.sibling!==null;)h=h.sibling,N=N.sibling=Od(h,h.pendingProps),N.return=x;N.sibling=null}return x.child}function Zme(h,x,N){switch(x.tag){case 3:D$(x),_p();break;case 5:Z8(x);break;case 1:Xi(x.type)&&N1(x);break;case 4:MC(x,x.stateNode.containerInfo);break;case 10:var T=x.type._context,I=x.memoizedProps.value;Bn(A1,T._currentValue),T._currentValue=I;break;case 13:if(T=x.memoizedState,T!==null)return T.dehydrated!==null?(Bn(cs,cs.current&1),x.flags|=128,null):(N&x.child.childLanes)!==0?M$(h,x,N):(Bn(cs,cs.current&1),h=yu(h,x,N),h!==null?h.sibling:null);Bn(cs,cs.current&1);break;case 19:if(T=(N&x.childLanes)!==0,(h.flags&128)!==0){if(T)return L$(h,x,N);x.flags|=128}if(I=x.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Bn(cs,cs.current),T)break;return null;case 22:case 23:return x.lanes=0,P$(h,x,N)}return yu(h,x,N)}var $$,sE,B$,U$;$$=function(h,x){for(var N=x.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===x)break;for(;N.sibling===null;){if(N.return===null||N.return===x)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},sE=function(){},B$=function(h,x,N,T){var I=h.memoizedProps;if(I!==T){h=x.stateNode,ah(Sc.current);var U=null;switch(N){case"input":I=pe(h,I),T=pe(h,T),U=[];break;case"select":I=H({},I,{value:void 0}),T=H({},T,{value:void 0}),U=[];break;case"textarea":I=Oe(h,I),T=Oe(h,T),U=[];break;default:typeof I.onClick!="function"&&typeof T.onClick=="function"&&(h.onclick=w1)}St(N,T);var re;N=null;for(We in I)if(!T.hasOwnProperty(We)&&I.hasOwnProperty(We)&&I[We]!=null)if(We==="style"){var je=I[We];for(re in je)je.hasOwnProperty(re)&&(N||(N={}),N[re]="")}else We!=="dangerouslySetInnerHTML"&&We!=="children"&&We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&We!=="autoFocus"&&(a.hasOwnProperty(We)?U||(U=[]):(U=U||[]).push(We,null));for(We in T){var Ce=T[We];if(je=I?.[We],T.hasOwnProperty(We)&&Ce!==je&&(Ce!=null||je!=null))if(We==="style")if(je){for(re in je)!je.hasOwnProperty(re)||Ce&&Ce.hasOwnProperty(re)||(N||(N={}),N[re]="");for(re in Ce)Ce.hasOwnProperty(re)&&je[re]!==Ce[re]&&(N||(N={}),N[re]=Ce[re])}else N||(U||(U=[]),U.push(We,N)),N=Ce;else We==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,je=je?je.__html:void 0,Ce!=null&&je!==Ce&&(U=U||[]).push(We,Ce)):We==="children"?typeof Ce!="string"&&typeof Ce!="number"||(U=U||[]).push(We,""+Ce):We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&(a.hasOwnProperty(We)?(Ce!=null&&We==="onScroll"&&Yn("scroll",h),U||je===Ce||(U=[])):(U=U||[]).push(We,Ce))}N&&(U=U||[]).push("style",N);var We=U;(x.updateQueue=We)&&(x.flags|=4)}},U$=function(h,x,N,T){N!==T&&(x.flags|=4)};function Jx(h,x){if(!ns)switch(h.tailMode){case"hidden":x=h.tail;for(var N=null;x!==null;)x.alternate!==null&&(N=x),x=x.sibling;N===null?h.tail=null:N.sibling=null;break;case"collapsed":N=h.tail;for(var T=null;N!==null;)N.alternate!==null&&(T=N),N=N.sibling;T===null?x||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function si(h){var x=h.alternate!==null&&h.alternate.child===h.child,N=0,T=0;if(x)for(var I=h.child;I!==null;)N|=I.lanes|I.childLanes,T|=I.subtreeFlags&14680064,T|=I.flags&14680064,I.return=h,I=I.sibling;else for(I=h.child;I!==null;)N|=I.lanes|I.childLanes,T|=I.subtreeFlags,T|=I.flags,I.return=h,I=I.sibling;return h.subtreeFlags|=T,h.childLanes=N,x}function Qme(h,x,N){var T=x.pendingProps;switch(kC(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(x),null;case 1:return Xi(x.type)&&j1(),si(x),null;case 3:return T=x.stateNode,kp(),Xn(Yi),Xn(ri),$C(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(E1(x)?x.flags|=4:h===null||h.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,$l!==null&&(pE($l),$l=null))),sE(h,x),si(x),null;case 5:FC(x);var I=ah(Hx.current);if(N=x.type,h!==null&&x.stateNode!=null)B$(h,x,N,T,I),h.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!T){if(x.stateNode===null)throw Error(r(166));return si(x),null}if(h=ah(Sc.current),E1(x)){T=x.stateNode,N=x.type;var U=x.memoizedProps;switch(T[Nc]=x,T[Ux]=U,h=(x.mode&1)!==0,N){case"dialog":Yn("cancel",T),Yn("close",T);break;case"iframe":case"object":case"embed":Yn("load",T);break;case"video":case"audio":for(I=0;I<Lx.length;I++)Yn(Lx[I],T);break;case"source":Yn("error",T);break;case"img":case"image":case"link":Yn("error",T),Yn("load",T);break;case"details":Yn("toggle",T);break;case"input":Ee(T,U),Yn("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!U.multiple},Yn("invalid",T);break;case"textarea":He(T,U),Yn("invalid",T)}St(N,U),I=null;for(var re in U)if(U.hasOwnProperty(re)){var je=U[re];re==="children"?typeof je=="string"?T.textContent!==je&&(U.suppressHydrationWarning!==!0&&b1(T.textContent,je,h),I=["children",je]):typeof je=="number"&&T.textContent!==""+je&&(U.suppressHydrationWarning!==!0&&b1(T.textContent,je,h),I=["children",""+je]):a.hasOwnProperty(re)&&je!=null&&re==="onScroll"&&Yn("scroll",T)}switch(N){case"input":oe(T),Je(T,U,!0);break;case"textarea":oe(T),Ne(T);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(T.onclick=w1)}T=I,x.updateQueue=T,T!==null&&(x.flags|=4)}else{re=I.nodeType===9?I:I.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ee(N)),h==="http://www.w3.org/1999/xhtml"?N==="script"?(h=re.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof T.is=="string"?h=re.createElement(N,{is:T.is}):(h=re.createElement(N),N==="select"&&(re=h,T.multiple?re.multiple=!0:T.size&&(re.size=T.size))):h=re.createElementNS(h,N),h[Nc]=x,h[Ux]=T,$$(h,x,!1,!1),x.stateNode=h;e:{switch(re=Yt(N,T),N){case"dialog":Yn("cancel",h),Yn("close",h),I=T;break;case"iframe":case"object":case"embed":Yn("load",h),I=T;break;case"video":case"audio":for(I=0;I<Lx.length;I++)Yn(Lx[I],h);I=T;break;case"source":Yn("error",h),I=T;break;case"img":case"image":case"link":Yn("error",h),Yn("load",h),I=T;break;case"details":Yn("toggle",h),I=T;break;case"input":Ee(h,T),I=pe(h,T),Yn("invalid",h);break;case"option":I=T;break;case"select":h._wrapperState={wasMultiple:!!T.multiple},I=H({},T,{value:void 0}),Yn("invalid",h);break;case"textarea":He(h,T),I=Oe(h,T),Yn("invalid",h);break;default:I=T}St(N,I),je=I;for(U in je)if(je.hasOwnProperty(U)){var Ce=je[U];U==="style"?xt(h,Ce):U==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&Be(h,Ce)):U==="children"?typeof Ce=="string"?(N!=="textarea"||Ce!=="")&&Ie(h,Ce):typeof Ce=="number"&&Ie(h,""+Ce):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?Ce!=null&&U==="onScroll"&&Yn("scroll",h):Ce!=null&&b(h,U,Ce,re))}switch(N){case"input":oe(h),Je(h,T,!1);break;case"textarea":oe(h),Ne(h);break;case"option":T.value!=null&&h.setAttribute("value",""+ue(T.value));break;case"select":h.multiple=!!T.multiple,U=T.value,U!=null?we(h,!!T.multiple,U,!1):T.defaultValue!=null&&we(h,!!T.multiple,T.defaultValue,!0);break;default:typeof I.onClick=="function"&&(h.onclick=w1)}switch(N){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return si(x),null;case 6:if(h&&x.stateNode!=null)U$(h,x,h.memoizedProps,T);else{if(typeof T!="string"&&x.stateNode===null)throw Error(r(166));if(N=ah(Hx.current),ah(Sc.current),E1(x)){if(T=x.stateNode,N=x.memoizedProps,T[Nc]=x,(U=T.nodeValue!==N)&&(h=wo,h!==null))switch(h.tag){case 3:b1(T.nodeValue,N,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&b1(T.nodeValue,N,(h.mode&1)!==0)}U&&(x.flags|=4)}else T=(N.nodeType===9?N:N.ownerDocument).createTextNode(T),T[Nc]=x,x.stateNode=T}return si(x),null;case 13:if(Xn(cs),T=x.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(ns&&_o!==null&&(x.mode&1)!==0&&(x.flags&128)===0)q8(),_p(),x.flags|=98560,U=!1;else if(U=E1(x),T!==null&&T.dehydrated!==null){if(h===null){if(!U)throw Error(r(318));if(U=x.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(r(317));U[Nc]=x}else _p(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;si(x),U=!1}else $l!==null&&(pE($l),$l=null),U=!0;if(!U)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=N,x):(T=T!==null,T!==(h!==null&&h.memoizedState!==null)&&T&&(x.child.flags|=8192,(x.mode&1)!==0&&(h===null||(cs.current&1)!==0?da===0&&(da=3):vE())),x.updateQueue!==null&&(x.flags|=4),si(x),null);case 4:return kp(),sE(h,x),h===null&&$x(x.stateNode.containerInfo),si(x),null;case 10:return OC(x.type._context),si(x),null;case 17:return Xi(x.type)&&j1(),si(x),null;case 19:if(Xn(cs),U=x.memoizedState,U===null)return si(x),null;if(T=(x.flags&128)!==0,re=U.rendering,re===null)if(T)Jx(U,!1);else{if(da!==0||h!==null&&(h.flags&128)!==0)for(h=x.child;h!==null;){if(re=D1(h),re!==null){for(x.flags|=128,Jx(U,!1),T=re.updateQueue,T!==null&&(x.updateQueue=T,x.flags|=4),x.subtreeFlags=0,T=N,N=x.child;N!==null;)U=N,h=T,U.flags&=14680066,re=U.alternate,re===null?(U.childLanes=0,U.lanes=h,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=re.childLanes,U.lanes=re.lanes,U.child=re.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=re.memoizedProps,U.memoizedState=re.memoizedState,U.updateQueue=re.updateQueue,U.type=re.type,h=re.dependencies,U.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),N=N.sibling;return Bn(cs,cs.current&1|2),x.child}h=h.sibling}U.tail!==null&&it()>Ap&&(x.flags|=128,T=!0,Jx(U,!1),x.lanes=4194304)}else{if(!T)if(h=D1(re),h!==null){if(x.flags|=128,T=!0,N=h.updateQueue,N!==null&&(x.updateQueue=N,x.flags|=4),Jx(U,!0),U.tail===null&&U.tailMode==="hidden"&&!re.alternate&&!ns)return si(x),null}else 2*it()-U.renderingStartTime>Ap&&N!==1073741824&&(x.flags|=128,T=!0,Jx(U,!1),x.lanes=4194304);U.isBackwards?(re.sibling=x.child,x.child=re):(N=U.last,N!==null?N.sibling=re:x.child=re,U.last=re)}return U.tail!==null?(x=U.tail,U.rendering=x,U.tail=x.sibling,U.renderingStartTime=it(),x.sibling=null,N=cs.current,Bn(cs,T?N&1|2:N&1),x):(si(x),null);case 22:case 23:return xE(),T=x.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(x.flags|=8192),T&&(x.mode&1)!==0?(jo&1073741824)!==0&&(si(x),x.subtreeFlags&6&&(x.flags|=8192)):si(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function epe(h,x){switch(kC(x),x.tag){case 1:return Xi(x.type)&&j1(),h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 3:return kp(),Xn(Yi),Xn(ri),$C(),h=x.flags,(h&65536)!==0&&(h&128)===0?(x.flags=h&-65537|128,x):null;case 5:return FC(x),null;case 13:if(Xn(cs),h=x.memoizedState,h!==null&&h.dehydrated!==null){if(x.alternate===null)throw Error(r(340));_p()}return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 19:return Xn(cs),null;case 4:return kp(),null;case 10:return OC(x.type._context),null;case 22:case 23:return xE(),null;case 24:return null;default:return null}}var z1=!1,ai=!1,tpe=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Ep(h,x){var N=h.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(T){ys(h,x,T)}else N.current=null}function aE(h,x,N){try{N()}catch(T){ys(h,x,T)}}var V$=!1;function rpe(h,x){if(xC=c1,h=b8(),cC(h)){if("selectionStart"in h)var N={start:h.selectionStart,end:h.selectionEnd};else e:{N=(N=h.ownerDocument)&&N.defaultView||window;var T=N.getSelection&&N.getSelection();if(T&&T.rangeCount!==0){N=T.anchorNode;var I=T.anchorOffset,U=T.focusNode;T=T.focusOffset;try{N.nodeType,U.nodeType}catch{N=null;break e}var re=0,je=-1,Ce=-1,We=0,ft=0,pt=h,ct=null;t:for(;;){for(var Rt;pt!==N||I!==0&&pt.nodeType!==3||(je=re+I),pt!==U||T!==0&&pt.nodeType!==3||(Ce=re+T),pt.nodeType===3&&(re+=pt.nodeValue.length),(Rt=pt.firstChild)!==null;)ct=pt,pt=Rt;for(;;){if(pt===h)break t;if(ct===N&&++We===I&&(je=re),ct===U&&++ft===T&&(Ce=re),(Rt=pt.nextSibling)!==null)break;pt=ct,ct=pt.parentNode}pt=Rt}N=je===-1||Ce===-1?null:{start:je,end:Ce}}else N=null}N=N||{start:0,end:0}}else N=null;for(vC={focusedElem:h,selectionRange:N},c1=!1,$t=x;$t!==null;)if(x=$t,h=x.child,(x.subtreeFlags&1028)!==0&&h!==null)h.return=x,$t=h;else for(;$t!==null;){x=$t;try{var qt=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(qt!==null){var Wt=qt.memoizedProps,Rs=qt.memoizedState,$e=x.stateNode,Pe=$e.getSnapshotBeforeUpdate(x.elementType===x.type?Wt:Bl(x.type,Wt),Rs);$e.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var Ve=x.stateNode.containerInfo;Ve.nodeType===1?Ve.textContent="":Ve.nodeType===9&&Ve.documentElement&&Ve.removeChild(Ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(yt){ys(x,x.return,yt)}if(h=x.sibling,h!==null){h.return=x.return,$t=h;break}$t=x.return}return qt=V$,V$=!1,qt}function Zx(h,x,N){var T=x.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var I=T=T.next;do{if((I.tag&h)===h){var U=I.destroy;I.destroy=void 0,U!==void 0&&aE(x,N,U)}I=I.next}while(I!==T)}}function q1(h,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&h)===h){var T=N.create;N.destroy=T()}N=N.next}while(N!==x)}}function iE(h){var x=h.ref;if(x!==null){var N=h.stateNode;switch(h.tag){case 5:h=N;break;default:h=N}typeof x=="function"?x(h):x.current=h}}function z$(h){var x=h.alternate;x!==null&&(h.alternate=null,z$(x)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(x=h.stateNode,x!==null&&(delete x[Nc],delete x[Ux],delete x[_C],delete x[Lme],delete x[$me])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function q$(h){return h.tag===5||h.tag===3||h.tag===4}function W$(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||q$(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function oE(h,x,N){var T=h.tag;if(T===5||T===6)h=h.stateNode,x?N.nodeType===8?N.parentNode.insertBefore(h,x):N.insertBefore(h,x):(N.nodeType===8?(x=N.parentNode,x.insertBefore(h,N)):(x=N,x.appendChild(h)),N=N._reactRootContainer,N!=null||x.onclick!==null||(x.onclick=w1));else if(T!==4&&(h=h.child,h!==null))for(oE(h,x,N),h=h.sibling;h!==null;)oE(h,x,N),h=h.sibling}function lE(h,x,N){var T=h.tag;if(T===5||T===6)h=h.stateNode,x?N.insertBefore(h,x):N.appendChild(h);else if(T!==4&&(h=h.child,h!==null))for(lE(h,x,N),h=h.sibling;h!==null;)lE(h,x,N),h=h.sibling}var Ua=null,Ul=!1;function Cd(h,x,N){for(N=N.child;N!==null;)H$(h,x,N),N=N.sibling}function H$(h,x,N){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(ti,N)}catch{}switch(N.tag){case 5:ai||Ep(N,x);case 6:var T=Ua,I=Ul;Ua=null,Cd(h,x,N),Ua=T,Ul=I,Ua!==null&&(Ul?(h=Ua,N=N.stateNode,h.nodeType===8?h.parentNode.removeChild(N):h.removeChild(N)):Ua.removeChild(N.stateNode));break;case 18:Ua!==null&&(Ul?(h=Ua,N=N.stateNode,h.nodeType===8?wC(h.parentNode,N):h.nodeType===1&&wC(h,N),Ax(h)):wC(Ua,N.stateNode));break;case 4:T=Ua,I=Ul,Ua=N.stateNode.containerInfo,Ul=!0,Cd(h,x,N),Ua=T,Ul=I;break;case 0:case 11:case 14:case 15:if(!ai&&(T=N.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){I=T=T.next;do{var U=I,re=U.destroy;U=U.tag,re!==void 0&&((U&2)!==0||(U&4)!==0)&&aE(N,x,re),I=I.next}while(I!==T)}Cd(h,x,N);break;case 1:if(!ai&&(Ep(N,x),T=N.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=N.memoizedProps,T.state=N.memoizedState,T.componentWillUnmount()}catch(je){ys(N,x,je)}Cd(h,x,N);break;case 21:Cd(h,x,N);break;case 22:N.mode&1?(ai=(T=ai)||N.memoizedState!==null,Cd(h,x,N),ai=T):Cd(h,x,N);break;default:Cd(h,x,N)}}function G$(h){var x=h.updateQueue;if(x!==null){h.updateQueue=null;var N=h.stateNode;N===null&&(N=h.stateNode=new tpe),x.forEach(function(T){var I=dpe.bind(null,h,T);N.has(T)||(N.add(T),T.then(I,I))})}}function Vl(h,x){var N=x.deletions;if(N!==null)for(var T=0;T<N.length;T++){var I=N[T];try{var U=h,re=x,je=re;e:for(;je!==null;){switch(je.tag){case 5:Ua=je.stateNode,Ul=!1;break e;case 3:Ua=je.stateNode.containerInfo,Ul=!0;break e;case 4:Ua=je.stateNode.containerInfo,Ul=!0;break e}je=je.return}if(Ua===null)throw Error(r(160));H$(U,re,I),Ua=null,Ul=!1;var Ce=I.alternate;Ce!==null&&(Ce.return=null),I.return=null}catch(We){ys(I,x,We)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)K$(x,h),x=x.sibling}function K$(h,x){var N=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Vl(x,h),Cc(h),T&4){try{Zx(3,h,h.return),q1(3,h)}catch(Wt){ys(h,h.return,Wt)}try{Zx(5,h,h.return)}catch(Wt){ys(h,h.return,Wt)}}break;case 1:Vl(x,h),Cc(h),T&512&&N!==null&&Ep(N,N.return);break;case 5:if(Vl(x,h),Cc(h),T&512&&N!==null&&Ep(N,N.return),h.flags&32){var I=h.stateNode;try{Ie(I,"")}catch(Wt){ys(h,h.return,Wt)}}if(T&4&&(I=h.stateNode,I!=null)){var U=h.memoizedProps,re=N!==null?N.memoizedProps:U,je=h.type,Ce=h.updateQueue;if(h.updateQueue=null,Ce!==null)try{je==="input"&&U.type==="radio"&&U.name!=null&&Ae(I,U),Yt(je,re);var We=Yt(je,U);for(re=0;re<Ce.length;re+=2){var ft=Ce[re],pt=Ce[re+1];ft==="style"?xt(I,pt):ft==="dangerouslySetInnerHTML"?Be(I,pt):ft==="children"?Ie(I,pt):b(I,ft,pt,We)}switch(je){case"input":fe(I,U);break;case"textarea":Ge(I,U);break;case"select":var ct=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!U.multiple;var Rt=U.value;Rt!=null?we(I,!!U.multiple,Rt,!1):ct!==!!U.multiple&&(U.defaultValue!=null?we(I,!!U.multiple,U.defaultValue,!0):we(I,!!U.multiple,U.multiple?[]:"",!1))}I[Ux]=U}catch(Wt){ys(h,h.return,Wt)}}break;case 6:if(Vl(x,h),Cc(h),T&4){if(h.stateNode===null)throw Error(r(162));I=h.stateNode,U=h.memoizedProps;try{I.nodeValue=U}catch(Wt){ys(h,h.return,Wt)}}break;case 3:if(Vl(x,h),Cc(h),T&4&&N!==null&&N.memoizedState.isDehydrated)try{Ax(x.containerInfo)}catch(Wt){ys(h,h.return,Wt)}break;case 4:Vl(x,h),Cc(h);break;case 13:Vl(x,h),Cc(h),I=h.child,I.flags&8192&&(U=I.memoizedState!==null,I.stateNode.isHidden=U,!U||I.alternate!==null&&I.alternate.memoizedState!==null||(dE=it())),T&4&&G$(h);break;case 22:if(ft=N!==null&&N.memoizedState!==null,h.mode&1?(ai=(We=ai)||ft,Vl(x,h),ai=We):Vl(x,h),Cc(h),T&8192){if(We=h.memoizedState!==null,(h.stateNode.isHidden=We)&&!ft&&(h.mode&1)!==0)for($t=h,ft=h.child;ft!==null;){for(pt=$t=ft;$t!==null;){switch(ct=$t,Rt=ct.child,ct.tag){case 0:case 11:case 14:case 15:Zx(4,ct,ct.return);break;case 1:Ep(ct,ct.return);var qt=ct.stateNode;if(typeof qt.componentWillUnmount=="function"){T=ct,N=ct.return;try{x=T,qt.props=x.memoizedProps,qt.state=x.memoizedState,qt.componentWillUnmount()}catch(Wt){ys(T,N,Wt)}}break;case 5:Ep(ct,ct.return);break;case 22:if(ct.memoizedState!==null){J$(pt);continue}}Rt!==null?(Rt.return=ct,$t=Rt):J$(pt)}ft=ft.sibling}e:for(ft=null,pt=h;;){if(pt.tag===5){if(ft===null){ft=pt;try{I=pt.stateNode,We?(U=I.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(je=pt.stateNode,Ce=pt.memoizedProps.style,re=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,je.style.display=rt("display",re))}catch(Wt){ys(h,h.return,Wt)}}}else if(pt.tag===6){if(ft===null)try{pt.stateNode.nodeValue=We?"":pt.memoizedProps}catch(Wt){ys(h,h.return,Wt)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===h)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===h)break e;for(;pt.sibling===null;){if(pt.return===null||pt.return===h)break e;ft===pt&&(ft=null),pt=pt.return}ft===pt&&(ft=null),pt.sibling.return=pt.return,pt=pt.sibling}}break;case 19:Vl(x,h),Cc(h),T&4&&G$(h);break;case 21:break;default:Vl(x,h),Cc(h)}}function Cc(h){var x=h.flags;if(x&2){try{e:{for(var N=h.return;N!==null;){if(q$(N)){var T=N;break e}N=N.return}throw Error(r(160))}switch(T.tag){case 5:var I=T.stateNode;T.flags&32&&(Ie(I,""),T.flags&=-33);var U=W$(h);lE(h,U,I);break;case 3:case 4:var re=T.stateNode.containerInfo,je=W$(h);oE(h,je,re);break;default:throw Error(r(161))}}catch(Ce){ys(h,h.return,Ce)}h.flags&=-3}x&4096&&(h.flags&=-4097)}function npe(h,x,N){$t=h,Y$(h)}function Y$(h,x,N){for(var T=(h.mode&1)!==0;$t!==null;){var I=$t,U=I.child;if(I.tag===22&&T){var re=I.memoizedState!==null||z1;if(!re){var je=I.alternate,Ce=je!==null&&je.memoizedState!==null||ai;je=z1;var We=ai;if(z1=re,(ai=Ce)&&!We)for($t=I;$t!==null;)re=$t,Ce=re.child,re.tag===22&&re.memoizedState!==null?Z$(I):Ce!==null?(Ce.return=re,$t=Ce):Z$(I);for(;U!==null;)$t=U,Y$(U),U=U.sibling;$t=I,z1=je,ai=We}X$(h)}else(I.subtreeFlags&8772)!==0&&U!==null?(U.return=I,$t=U):X$(h)}}function X$(h){for(;$t!==null;){var x=$t;if((x.flags&8772)!==0){var N=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ai||q1(5,x);break;case 1:var T=x.stateNode;if(x.flags&4&&!ai)if(N===null)T.componentDidMount();else{var I=x.elementType===x.type?N.memoizedProps:Bl(x.type,N.memoizedProps);T.componentDidUpdate(I,N.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var U=x.updateQueue;U!==null&&J8(x,U,T);break;case 3:var re=x.updateQueue;if(re!==null){if(N=null,x.child!==null)switch(x.child.tag){case 5:N=x.child.stateNode;break;case 1:N=x.child.stateNode}J8(x,re,N)}break;case 5:var je=x.stateNode;if(N===null&&x.flags&4){N=je;var Ce=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&N.focus();break;case"img":Ce.src&&(N.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var We=x.alternate;if(We!==null){var ft=We.memoizedState;if(ft!==null){var pt=ft.dehydrated;pt!==null&&Ax(pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ai||x.flags&512&&iE(x)}catch(ct){ys(x,x.return,ct)}}if(x===h){$t=null;break}if(N=x.sibling,N!==null){N.return=x.return,$t=N;break}$t=x.return}}function J$(h){for(;$t!==null;){var x=$t;if(x===h){$t=null;break}var N=x.sibling;if(N!==null){N.return=x.return,$t=N;break}$t=x.return}}function Z$(h){for(;$t!==null;){var x=$t;try{switch(x.tag){case 0:case 11:case 15:var N=x.return;try{q1(4,x)}catch(Ce){ys(x,N,Ce)}break;case 1:var T=x.stateNode;if(typeof T.componentDidMount=="function"){var I=x.return;try{T.componentDidMount()}catch(Ce){ys(x,I,Ce)}}var U=x.return;try{iE(x)}catch(Ce){ys(x,U,Ce)}break;case 5:var re=x.return;try{iE(x)}catch(Ce){ys(x,re,Ce)}}}catch(Ce){ys(x,x.return,Ce)}if(x===h){$t=null;break}var je=x.sibling;if(je!==null){je.return=x.return,$t=je;break}$t=x.return}}var spe=Math.ceil,W1=E.ReactCurrentDispatcher,cE=E.ReactCurrentOwner,tl=E.ReactCurrentBatchConfig,en=0,ka=null,qs=null,Va=0,jo=0,Tp=_d(0),da=0,Qx=null,oh=0,H1=0,uE=0,ev=null,Zi=null,dE=0,Ap=1/0,bu=null,G1=!1,fE=null,Ed=null,K1=!1,Td=null,Y1=0,tv=0,hE=null,X1=-1,J1=0;function Ci(){return(en&6)!==0?it():X1!==-1?X1:X1=it()}function Ad(h){return(h.mode&1)===0?1:(en&2)!==0&&Va!==0?Va&-Va:Ume.transition!==null?(J1===0&&(J1=W6()),J1):(h=vn,h!==0||(h=window.event,h=h===void 0?16:e8(h.type)),h)}function zl(h,x,N,T){if(50<tv)throw tv=0,hE=null,Error(r(185));Sx(h,N,T),((en&2)===0||h!==ka)&&(h===ka&&((en&2)===0&&(H1|=N),da===4&&Pd(h,Va)),Qi(h,T),N===1&&en===0&&(x.mode&1)===0&&(Ap=it()+500,S1&&Nd()))}function Qi(h,x){var N=h.callbackNode;Uhe(h,x);var T=i1(h,h===ka?Va:0);if(T===0)N!==null&&ht(N),h.callbackNode=null,h.callbackPriority=0;else if(x=T&-T,h.callbackPriority!==x){if(N!=null&&ht(N),x===1)h.tag===0?Bme(eB.bind(null,h)):$8(eB.bind(null,h)),Mme(function(){(en&6)===0&&Nd()}),N=null;else{switch(H6(T)){case 1:N=Br;break;case 4:N=mn;break;case 16:N=rs;break;case 536870912:N=ca;break;default:N=rs}N=lB(N,Q$.bind(null,h))}h.callbackPriority=x,h.callbackNode=N}}function Q$(h,x){if(X1=-1,J1=0,(en&6)!==0)throw Error(r(327));var N=h.callbackNode;if(Pp()&&h.callbackNode!==N)return null;var T=i1(h,h===ka?Va:0);if(T===0)return null;if((T&30)!==0||(T&h.expiredLanes)!==0||x)x=Z1(h,T);else{x=T;var I=en;en|=2;var U=rB();(ka!==h||Va!==x)&&(bu=null,Ap=it()+500,ch(h,x));do try{ope();break}catch(je){tB(h,je)}while(!0);PC(),W1.current=U,en=I,qs!==null?x=0:(ka=null,Va=0,x=da)}if(x!==0){if(x===2&&(I=Gk(h),I!==0&&(T=I,x=mE(h,I))),x===1)throw N=Qx,ch(h,0),Pd(h,T),Qi(h,it()),N;if(x===6)Pd(h,T);else{if(I=h.current.alternate,(T&30)===0&&!ape(I)&&(x=Z1(h,T),x===2&&(U=Gk(h),U!==0&&(T=U,x=mE(h,U))),x===1))throw N=Qx,ch(h,0),Pd(h,T),Qi(h,it()),N;switch(h.finishedWork=I,h.finishedLanes=T,x){case 0:case 1:throw Error(r(345));case 2:uh(h,Zi,bu);break;case 3:if(Pd(h,T),(T&130023424)===T&&(x=dE+500-it(),10<x)){if(i1(h,0)!==0)break;if(I=h.suspendedLanes,(I&T)!==T){Ci(),h.pingedLanes|=h.suspendedLanes&I;break}h.timeoutHandle=bC(uh.bind(null,h,Zi,bu),x);break}uh(h,Zi,bu);break;case 4:if(Pd(h,T),(T&4194240)===T)break;for(x=h.eventTimes,I=-1;0<T;){var re=31-Os(T);U=1<<re,re=x[re],re>I&&(I=re),T&=~U}if(T=I,T=it()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*spe(T/1960))-T,10<T){h.timeoutHandle=bC(uh.bind(null,h,Zi,bu),T);break}uh(h,Zi,bu);break;case 5:uh(h,Zi,bu);break;default:throw Error(r(329))}}}return Qi(h,it()),h.callbackNode===N?Q$.bind(null,h):null}function mE(h,x){var N=ev;return h.current.memoizedState.isDehydrated&&(ch(h,x).flags|=256),h=Z1(h,x),h!==2&&(x=Zi,Zi=N,x!==null&&pE(x)),h}function pE(h){Zi===null?Zi=h:Zi.push.apply(Zi,h)}function ape(h){for(var x=h;;){if(x.flags&16384){var N=x.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var T=0;T<N.length;T++){var I=N[T],U=I.getSnapshot;I=I.value;try{if(!Ll(U(),I))return!1}catch{return!1}}}if(N=x.child,x.subtreeFlags&16384&&N!==null)N.return=x,x=N;else{if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Pd(h,x){for(x&=~uE,x&=~H1,h.suspendedLanes|=x,h.pingedLanes&=~x,h=h.expirationTimes;0<x;){var N=31-Os(x),T=1<<N;h[N]=-1,x&=~T}}function eB(h){if((en&6)!==0)throw Error(r(327));Pp();var x=i1(h,0);if((x&1)===0)return Qi(h,it()),null;var N=Z1(h,x);if(h.tag!==0&&N===2){var T=Gk(h);T!==0&&(x=T,N=mE(h,T))}if(N===1)throw N=Qx,ch(h,0),Pd(h,x),Qi(h,it()),N;if(N===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=x,uh(h,Zi,bu),Qi(h,it()),null}function gE(h,x){var N=en;en|=1;try{return h(x)}finally{en=N,en===0&&(Ap=it()+500,S1&&Nd())}}function lh(h){Td!==null&&Td.tag===0&&(en&6)===0&&Pp();var x=en;en|=1;var N=tl.transition,T=vn;try{if(tl.transition=null,vn=1,h)return h()}finally{vn=T,tl.transition=N,en=x,(en&6)===0&&Nd()}}function xE(){jo=Tp.current,Xn(Tp)}function ch(h,x){h.finishedWork=null,h.finishedLanes=0;var N=h.timeoutHandle;if(N!==-1&&(h.timeoutHandle=-1,Ime(N)),qs!==null)for(N=qs.return;N!==null;){var T=N;switch(kC(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&j1();break;case 3:kp(),Xn(Yi),Xn(ri),$C();break;case 5:FC(T);break;case 4:kp();break;case 13:Xn(cs);break;case 19:Xn(cs);break;case 10:OC(T.type._context);break;case 22:case 23:xE()}N=N.return}if(ka=h,qs=h=Od(h.current,null),Va=jo=x,da=0,Qx=null,uE=H1=oh=0,Zi=ev=null,sh!==null){for(x=0;x<sh.length;x++)if(N=sh[x],T=N.interleaved,T!==null){N.interleaved=null;var I=T.next,U=N.pending;if(U!==null){var re=U.next;U.next=I,T.next=re}N.pending=T}sh=null}return h}function tB(h,x){do{var N=qs;try{if(PC(),I1.current=$1,M1){for(var T=us.memoizedState;T!==null;){var I=T.queue;I!==null&&(I.pending=null),T=T.next}M1=!1}if(ih=0,Sa=ua=us=null,Gx=!1,Kx=0,cE.current=null,N===null||N.return===null){da=1,Qx=x,qs=null;break}e:{var U=h,re=N.return,je=N,Ce=x;if(x=Va,je.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var We=Ce,ft=je,pt=ft.tag;if((ft.mode&1)===0&&(pt===0||pt===11||pt===15)){var ct=ft.alternate;ct?(ft.updateQueue=ct.updateQueue,ft.memoizedState=ct.memoizedState,ft.lanes=ct.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Rt=k$(re);if(Rt!==null){Rt.flags&=-257,C$(Rt,re,je,U,x),Rt.mode&1&&S$(U,We,x),x=Rt,Ce=We;var qt=x.updateQueue;if(qt===null){var Wt=new Set;Wt.add(Ce),x.updateQueue=Wt}else qt.add(Ce);break e}else{if((x&1)===0){S$(U,We,x),vE();break e}Ce=Error(r(426))}}else if(ns&&je.mode&1){var Rs=k$(re);if(Rs!==null){(Rs.flags&65536)===0&&(Rs.flags|=256),C$(Rs,re,je,U,x),TC(Cp(Ce,je));break e}}U=Ce=Cp(Ce,je),da!==4&&(da=2),ev===null?ev=[U]:ev.push(U),U=re;do{switch(U.tag){case 3:U.flags|=65536,x&=-x,U.lanes|=x;var $e=j$(U,Ce,x);X8(U,$e);break e;case 1:je=Ce;var Pe=U.type,Ve=U.stateNode;if((U.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||Ve!==null&&typeof Ve.componentDidCatch=="function"&&(Ed===null||!Ed.has(Ve)))){U.flags|=65536,x&=-x,U.lanes|=x;var yt=N$(U,je,x);X8(U,yt);break e}}U=U.return}while(U!==null)}sB(N)}catch(Gt){x=Gt,qs===N&&N!==null&&(qs=N=N.return);continue}break}while(!0)}function rB(){var h=W1.current;return W1.current=$1,h===null?$1:h}function vE(){(da===0||da===3||da===2)&&(da=4),ka===null||(oh&268435455)===0&&(H1&268435455)===0||Pd(ka,Va)}function Z1(h,x){var N=en;en|=2;var T=rB();(ka!==h||Va!==x)&&(bu=null,ch(h,x));do try{ipe();break}catch(I){tB(h,I)}while(!0);if(PC(),en=N,W1.current=T,qs!==null)throw Error(r(261));return ka=null,Va=0,da}function ipe(){for(;qs!==null;)nB(qs)}function ope(){for(;qs!==null&&!Ct();)nB(qs)}function nB(h){var x=oB(h.alternate,h,jo);h.memoizedProps=h.pendingProps,x===null?sB(h):qs=x,cE.current=null}function sB(h){var x=h;do{var N=x.alternate;if(h=x.return,(x.flags&32768)===0){if(N=Qme(N,x,jo),N!==null){qs=N;return}}else{if(N=epe(N,x),N!==null){N.flags&=32767,qs=N;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{da=6,qs=null;return}}if(x=x.sibling,x!==null){qs=x;return}qs=x=h}while(x!==null);da===0&&(da=5)}function uh(h,x,N){var T=vn,I=tl.transition;try{tl.transition=null,vn=1,lpe(h,x,N,T)}finally{tl.transition=I,vn=T}return null}function lpe(h,x,N,T){do Pp();while(Td!==null);if((en&6)!==0)throw Error(r(327));N=h.finishedWork;var I=h.finishedLanes;if(N===null)return null;if(h.finishedWork=null,h.finishedLanes=0,N===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var U=N.lanes|N.childLanes;if(Vhe(h,U),h===ka&&(qs=ka=null,Va=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||K1||(K1=!0,lB(rs,function(){return Pp(),null})),U=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||U){U=tl.transition,tl.transition=null;var re=vn;vn=1;var je=en;en|=4,cE.current=null,rpe(h,N),K$(N,h),Eme(vC),c1=!!xC,vC=xC=null,h.current=N,npe(N),gt(),en=je,vn=re,tl.transition=U}else h.current=N;if(K1&&(K1=!1,Td=h,Y1=I),U=h.pendingLanes,U===0&&(Ed=null),Ki(N.stateNode),Qi(h,it()),x!==null)for(T=h.onRecoverableError,N=0;N<x.length;N++)I=x[N],T(I.value,{componentStack:I.stack,digest:I.digest});if(G1)throw G1=!1,h=fE,fE=null,h;return(Y1&1)!==0&&h.tag!==0&&Pp(),U=h.pendingLanes,(U&1)!==0?h===hE?tv++:(tv=0,hE=h):tv=0,Nd(),null}function Pp(){if(Td!==null){var h=H6(Y1),x=tl.transition,N=vn;try{if(tl.transition=null,vn=16>h?16:h,Td===null)var T=!1;else{if(h=Td,Td=null,Y1=0,(en&6)!==0)throw Error(r(331));var I=en;for(en|=4,$t=h.current;$t!==null;){var U=$t,re=U.child;if(($t.flags&16)!==0){var je=U.deletions;if(je!==null){for(var Ce=0;Ce<je.length;Ce++){var We=je[Ce];for($t=We;$t!==null;){var ft=$t;switch(ft.tag){case 0:case 11:case 15:Zx(8,ft,U)}var pt=ft.child;if(pt!==null)pt.return=ft,$t=pt;else for(;$t!==null;){ft=$t;var ct=ft.sibling,Rt=ft.return;if(z$(ft),ft===We){$t=null;break}if(ct!==null){ct.return=Rt,$t=ct;break}$t=Rt}}}var qt=U.alternate;if(qt!==null){var Wt=qt.child;if(Wt!==null){qt.child=null;do{var Rs=Wt.sibling;Wt.sibling=null,Wt=Rs}while(Wt!==null)}}$t=U}}if((U.subtreeFlags&2064)!==0&&re!==null)re.return=U,$t=re;else e:for(;$t!==null;){if(U=$t,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Zx(9,U,U.return)}var $e=U.sibling;if($e!==null){$e.return=U.return,$t=$e;break e}$t=U.return}}var Pe=h.current;for($t=Pe;$t!==null;){re=$t;var Ve=re.child;if((re.subtreeFlags&2064)!==0&&Ve!==null)Ve.return=re,$t=Ve;else e:for(re=Pe;$t!==null;){if(je=$t,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:q1(9,je)}}catch(Gt){ys(je,je.return,Gt)}if(je===re){$t=null;break e}var yt=je.sibling;if(yt!==null){yt.return=je.return,$t=yt;break e}$t=je.return}}if(en=I,Nd(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(ti,h)}catch{}T=!0}return T}finally{vn=N,tl.transition=x}}return!1}function aB(h,x,N){x=Cp(N,x),x=j$(h,x,1),h=kd(h,x,1),x=Ci(),h!==null&&(Sx(h,1,x),Qi(h,x))}function ys(h,x,N){if(h.tag===3)aB(h,h,N);else for(;x!==null;){if(x.tag===3){aB(x,h,N);break}else if(x.tag===1){var T=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Ed===null||!Ed.has(T))){h=Cp(N,h),h=N$(x,h,1),x=kd(x,h,1),h=Ci(),x!==null&&(Sx(x,1,h),Qi(x,h));break}}x=x.return}}function cpe(h,x,N){var T=h.pingCache;T!==null&&T.delete(x),x=Ci(),h.pingedLanes|=h.suspendedLanes&N,ka===h&&(Va&N)===N&&(da===4||da===3&&(Va&130023424)===Va&&500>it()-dE?ch(h,0):uE|=N),Qi(h,x)}function iB(h,x){x===0&&((h.mode&1)===0?x=1:(x=a1,a1<<=1,(a1&130023424)===0&&(a1=4194304)));var N=Ci();h=xu(h,x),h!==null&&(Sx(h,x,N),Qi(h,N))}function upe(h){var x=h.memoizedState,N=0;x!==null&&(N=x.retryLane),iB(h,N)}function dpe(h,x){var N=0;switch(h.tag){case 13:var T=h.stateNode,I=h.memoizedState;I!==null&&(N=I.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(x),iB(h,N)}var oB;oB=function(h,x,N){if(h!==null)if(h.memoizedProps!==x.pendingProps||Yi.current)Ji=!0;else{if((h.lanes&N)===0&&(x.flags&128)===0)return Ji=!1,Zme(h,x,N);Ji=(h.flags&131072)!==0}else Ji=!1,ns&&(x.flags&1048576)!==0&&B8(x,C1,x.index);switch(x.lanes=0,x.tag){case 2:var T=x.type;V1(h,x),h=x.pendingProps;var I=yp(x,ri.current);Sp(x,N),I=VC(null,x,T,h,I,N);var U=zC();return x.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Xi(T)?(U=!0,N1(x)):U=!1,x.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,IC(x),I.updater=B1,x.stateNode=I,I._reactInternals=x,YC(x,T,h,N),x=QC(null,x,T,!0,U,N)):(x.tag=0,ns&&U&&SC(x),ki(null,x,I,N),x=x.child),x;case 16:T=x.elementType;e:{switch(V1(h,x),h=x.pendingProps,I=T._init,T=I(T._payload),x.type=T,I=x.tag=hpe(T),h=Bl(T,h),I){case 0:x=ZC(null,x,T,h,N);break e;case 1:x=R$(null,x,T,h,N);break e;case 11:x=E$(null,x,T,h,N);break e;case 14:x=T$(null,x,T,Bl(T.type,h),N);break e}throw Error(r(306,T,""))}return x;case 0:return T=x.type,I=x.pendingProps,I=x.elementType===T?I:Bl(T,I),ZC(h,x,T,I,N);case 1:return T=x.type,I=x.pendingProps,I=x.elementType===T?I:Bl(T,I),R$(h,x,T,I,N);case 3:e:{if(D$(x),h===null)throw Error(r(387));T=x.pendingProps,U=x.memoizedState,I=U.element,Y8(h,x),R1(x,T,null,N);var re=x.memoizedState;if(T=re.element,U.isDehydrated)if(U={element:T,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},x.updateQueue.baseState=U,x.memoizedState=U,x.flags&256){I=Cp(Error(r(423)),x),x=I$(h,x,T,N,I);break e}else if(T!==I){I=Cp(Error(r(424)),x),x=I$(h,x,T,N,I);break e}else for(_o=wd(x.stateNode.containerInfo.firstChild),wo=x,ns=!0,$l=null,N=G8(x,null,T,N),x.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(_p(),T===I){x=yu(h,x,N);break e}ki(h,x,T,N)}x=x.child}return x;case 5:return Z8(x),h===null&&EC(x),T=x.type,I=x.pendingProps,U=h!==null?h.memoizedProps:null,re=I.children,yC(T,I)?re=null:U!==null&&yC(T,U)&&(x.flags|=32),O$(h,x),ki(h,x,re,N),x.child;case 6:return h===null&&EC(x),null;case 13:return M$(h,x,N);case 4:return MC(x,x.stateNode.containerInfo),T=x.pendingProps,h===null?x.child=jp(x,null,T,N):ki(h,x,T,N),x.child;case 11:return T=x.type,I=x.pendingProps,I=x.elementType===T?I:Bl(T,I),E$(h,x,T,I,N);case 7:return ki(h,x,x.pendingProps,N),x.child;case 8:return ki(h,x,x.pendingProps.children,N),x.child;case 12:return ki(h,x,x.pendingProps.children,N),x.child;case 10:e:{if(T=x.type._context,I=x.pendingProps,U=x.memoizedProps,re=I.value,Bn(A1,T._currentValue),T._currentValue=re,U!==null)if(Ll(U.value,re)){if(U.children===I.children&&!Yi.current){x=yu(h,x,N);break e}}else for(U=x.child,U!==null&&(U.return=x);U!==null;){var je=U.dependencies;if(je!==null){re=U.child;for(var Ce=je.firstContext;Ce!==null;){if(Ce.context===T){if(U.tag===1){Ce=vu(-1,N&-N),Ce.tag=2;var We=U.updateQueue;if(We!==null){We=We.shared;var ft=We.pending;ft===null?Ce.next=Ce:(Ce.next=ft.next,ft.next=Ce),We.pending=Ce}}U.lanes|=N,Ce=U.alternate,Ce!==null&&(Ce.lanes|=N),RC(U.return,N,x),je.lanes|=N;break}Ce=Ce.next}}else if(U.tag===10)re=U.type===x.type?null:U.child;else if(U.tag===18){if(re=U.return,re===null)throw Error(r(341));re.lanes|=N,je=re.alternate,je!==null&&(je.lanes|=N),RC(re,N,x),re=U.sibling}else re=U.child;if(re!==null)re.return=U;else for(re=U;re!==null;){if(re===x){re=null;break}if(U=re.sibling,U!==null){U.return=re.return,re=U;break}re=re.return}U=re}ki(h,x,I.children,N),x=x.child}return x;case 9:return I=x.type,T=x.pendingProps.children,Sp(x,N),I=Qo(I),T=T(I),x.flags|=1,ki(h,x,T,N),x.child;case 14:return T=x.type,I=Bl(T,x.pendingProps),I=Bl(T.type,I),T$(h,x,T,I,N);case 15:return A$(h,x,x.type,x.pendingProps,N);case 17:return T=x.type,I=x.pendingProps,I=x.elementType===T?I:Bl(T,I),V1(h,x),x.tag=1,Xi(T)?(h=!0,N1(x)):h=!1,Sp(x,N),w$(x,T,I),YC(x,T,I,N),QC(null,x,T,!0,h,N);case 19:return L$(h,x,N);case 22:return P$(h,x,N)}throw Error(r(156,x.tag))};function lB(h,x){return st(h,x)}function fpe(h,x,N,T){this.tag=h,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rl(h,x,N,T){return new fpe(h,x,N,T)}function yE(h){return h=h.prototype,!(!h||!h.isReactComponent)}function hpe(h){if(typeof h=="function")return yE(h)?1:0;if(h!=null){if(h=h.$$typeof,h===D)return 11;if(h===z)return 14}return 2}function Od(h,x){var N=h.alternate;return N===null?(N=rl(h.tag,x,h.key,h.mode),N.elementType=h.elementType,N.type=h.type,N.stateNode=h.stateNode,N.alternate=h,h.alternate=N):(N.pendingProps=x,N.type=h.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=h.flags&14680064,N.childLanes=h.childLanes,N.lanes=h.lanes,N.child=h.child,N.memoizedProps=h.memoizedProps,N.memoizedState=h.memoizedState,N.updateQueue=h.updateQueue,x=h.dependencies,N.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},N.sibling=h.sibling,N.index=h.index,N.ref=h.ref,N}function Q1(h,x,N,T,I,U){var re=2;if(T=h,typeof h=="function")yE(h)&&(re=1);else if(typeof h=="string")re=5;else e:switch(h){case k:return dh(N.children,I,U,x);case R:re=8,I|=8;break;case P:return h=rl(12,N,x,I|2),h.elementType=P,h.lanes=U,h;case F:return h=rl(13,N,x,I),h.elementType=F,h.lanes=U,h;case B:return h=rl(19,N,x,I),h.elementType=B,h.lanes=U,h;case G:return e_(N,I,U,x);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case O:re=10;break e;case A:re=9;break e;case D:re=11;break e;case z:re=14;break e;case q:re=16,T=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return x=rl(re,N,x,I),x.elementType=h,x.type=T,x.lanes=U,x}function dh(h,x,N,T){return h=rl(7,h,T,x),h.lanes=N,h}function e_(h,x,N,T){return h=rl(22,h,T,x),h.elementType=G,h.lanes=N,h.stateNode={isHidden:!1},h}function bE(h,x,N){return h=rl(6,h,null,x),h.lanes=N,h}function wE(h,x,N){return x=rl(4,h.children!==null?h.children:[],h.key,x),x.lanes=N,x.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},x}function mpe(h,x,N,T,I){this.tag=x,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kk(0),this.expirationTimes=Kk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kk(0),this.identifierPrefix=T,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function _E(h,x,N,T,I,U,re,je,Ce){return h=new mpe(h,x,N,je,Ce),x===1?(x=1,U===!0&&(x|=8)):x=0,U=rl(3,null,null,x),h.current=U,U.stateNode=h,U.memoizedState={element:T,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},IC(U),h}function ppe(h,x,N){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:T==null?null:""+T,children:h,containerInfo:x,implementation:N}}function cB(h){if(!h)return jd;h=h._reactInternals;e:{if(ve(h)!==h||h.tag!==1)throw Error(r(170));var x=h;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Xi(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(h.tag===1){var N=h.type;if(Xi(N))return F8(h,N,x)}return x}function uB(h,x,N,T,I,U,re,je,Ce){return h=_E(N,T,!0,h,I,U,re,je,Ce),h.context=cB(null),N=h.current,T=Ci(),I=Ad(N),U=vu(T,I),U.callback=x??null,kd(N,U,I),h.current.lanes=I,Sx(h,I,T),Qi(h,T),h}function t_(h,x,N,T){var I=x.current,U=Ci(),re=Ad(I);return N=cB(N),x.context===null?x.context=N:x.pendingContext=N,x=vu(U,re),x.payload={element:h},T=T===void 0?null:T,T!==null&&(x.callback=T),h=kd(I,x,re),h!==null&&(zl(h,I,re,U),O1(h,I,re)),re}function r_(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function dB(h,x){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var N=h.retryLane;h.retryLane=N!==0&&N<x?N:x}}function jE(h,x){dB(h,x),(h=h.alternate)&&dB(h,x)}function gpe(){return null}var fB=typeof reportError=="function"?reportError:function(h){console.error(h)};function NE(h){this._internalRoot=h}n_.prototype.render=NE.prototype.render=function(h){var x=this._internalRoot;if(x===null)throw Error(r(409));t_(h,x,null,null)},n_.prototype.unmount=NE.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var x=h.containerInfo;lh(function(){t_(null,h,null,null)}),x[hu]=null}};function n_(h){this._internalRoot=h}n_.prototype.unstable_scheduleHydration=function(h){if(h){var x=Y6();h={blockedOn:null,target:h,priority:x};for(var N=0;N<vd.length&&x!==0&&x<vd[N].priority;N++);vd.splice(N,0,h),N===0&&Z6(h)}};function SE(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function s_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function hB(){}function xpe(h,x,N,T,I){if(I){if(typeof T=="function"){var U=T;T=function(){var We=r_(re);U.call(We)}}var re=uB(x,T,h,0,null,!1,!1,"",hB);return h._reactRootContainer=re,h[hu]=re.current,$x(h.nodeType===8?h.parentNode:h),lh(),re}for(;I=h.lastChild;)h.removeChild(I);if(typeof T=="function"){var je=T;T=function(){var We=r_(Ce);je.call(We)}}var Ce=_E(h,0,!1,null,null,!1,!1,"",hB);return h._reactRootContainer=Ce,h[hu]=Ce.current,$x(h.nodeType===8?h.parentNode:h),lh(function(){t_(x,Ce,N,T)}),Ce}function a_(h,x,N,T,I){var U=N._reactRootContainer;if(U){var re=U;if(typeof I=="function"){var je=I;I=function(){var Ce=r_(re);je.call(Ce)}}t_(x,re,h,I)}else re=xpe(N,x,h,I,T);return r_(re)}G6=function(h){switch(h.tag){case 3:var x=h.stateNode;if(x.current.memoizedState.isDehydrated){var N=Nx(x.pendingLanes);N!==0&&(Yk(x,N|1),Qi(x,it()),(en&6)===0&&(Ap=it()+500,Nd()))}break;case 13:lh(function(){var T=xu(h,1);if(T!==null){var I=Ci();zl(T,h,1,I)}}),jE(h,1)}},Xk=function(h){if(h.tag===13){var x=xu(h,134217728);if(x!==null){var N=Ci();zl(x,h,134217728,N)}jE(h,134217728)}},K6=function(h){if(h.tag===13){var x=Ad(h),N=xu(h,x);if(N!==null){var T=Ci();zl(N,h,x,T)}jE(h,x)}},Y6=function(){return vn},X6=function(h,x){var N=vn;try{return vn=h,x()}finally{vn=N}},fr=function(h,x,N){switch(x){case"input":if(fe(h,N),x=N.name,N.type==="radio"&&x!=null){for(N=h;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<N.length;x++){var T=N[x];if(T!==h&&T.form===h.form){var I=_1(T);if(!I)throw Error(r(90));K(T),fe(T,I)}}}break;case"textarea":Ge(h,N);break;case"select":x=N.value,x!=null&&we(h,!!N.multiple,x,!1)}},ar=gE,Pr=lh;var vpe={usingClientEntryPoint:!1,Events:[Vx,xp,_1,kn,Mt,gE]},rv={findFiberByHostInstance:eh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ype={bundleType:rv.bundleType,version:rv.version,rendererPackageName:rv.rendererPackageName,rendererConfig:rv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Ue(h),h===null?null:h.stateNode},findFiberByHostInstance:rv.findFiberByHostInstance||gpe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i_.isDisabled&&i_.supportsFiber)try{ti=i_.inject(ype),ls=i_}catch{}}return eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vpe,eo.createPortal=function(h,x){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!SE(x))throw Error(r(200));return ppe(h,x,null,N)},eo.createRoot=function(h,x){if(!SE(h))throw Error(r(299));var N=!1,T="",I=fB;return x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onRecoverableError!==void 0&&(I=x.onRecoverableError)),x=_E(h,1,!1,null,null,N,!1,T,I),h[hu]=x.current,$x(h.nodeType===8?h.parentNode:h),new NE(x)},eo.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var x=h._reactInternals;if(x===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=Ue(x),h=h===null?null:h.stateNode,h},eo.flushSync=function(h){return lh(h)},eo.hydrate=function(h,x,N){if(!s_(x))throw Error(r(200));return a_(null,h,x,!0,N)},eo.hydrateRoot=function(h,x,N){if(!SE(h))throw Error(r(405));var T=N!=null&&N.hydratedSources||null,I=!1,U="",re=fB;if(N!=null&&(N.unstable_strictMode===!0&&(I=!0),N.identifierPrefix!==void 0&&(U=N.identifierPrefix),N.onRecoverableError!==void 0&&(re=N.onRecoverableError)),x=uB(x,null,h,1,N??null,I,!1,U,re),h[hu]=x.current,$x(h),T)for(h=0;h<T.length;h++)N=T[h],I=N._getVersion,I=I(N._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[N,I]:x.mutableSourceEagerHydrationData.push(N,I);return new n_(x)},eo.render=function(h,x,N){if(!s_(x))throw Error(r(200));return a_(null,h,x,!1,N)},eo.unmountComponentAtNode=function(h){if(!s_(h))throw Error(r(40));return h._reactRootContainer?(lh(function(){a_(null,null,h,!1,function(){h._reactRootContainer=null,h[hu]=null})}),!0):!1},eo.unstable_batchedUpdates=gE,eo.unstable_renderSubtreeIntoContainer=function(h,x,N,T){if(!s_(N))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return a_(h,x,N,!1,T)},eo.version="18.3.1-next-f1338f8080-20240426",eo}var wB;function oJ(){if(wB)return EE.exports;wB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),EE.exports=Epe(),EE.exports}var _B;function Tpe(){if(_B)return l_;_B=1;var e=oJ();return l_.createRoot=e.createRoot,l_.hydrateRoot=e.hydrateRoot,l_}var Ape=Tpe(),j=KS();const le=Zr(j),K3=wpe({__proto__:null,default:le},[j]),Ppe=1,Ope=1e6;let PE=0;function Rpe(){return PE=(PE+1)%Number.MAX_SAFE_INTEGER,PE.toString()}const OE=new Map,jB=e=>{if(OE.has(e))return;const t=setTimeout(()=>{OE.delete(e),Kv({type:"REMOVE_TOAST",toastId:e})},Ope);OE.set(e,t)},Dpe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ppe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jB(r):e.toasts.forEach(n=>{jB(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},hj=[];let mj={toasts:[]};function Kv(e){mj=Dpe(mj,e),hj.forEach(t=>{t(mj)})}function Me({...e}){const t=Rpe(),r=a=>Kv({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Kv({type:"DISMISS_TOAST",toastId:t});return Kv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ps(){const[e,t]=j.useState(mj);return j.useEffect(()=>(hj.push(t),()=>{const r=hj.indexOf(t);r>-1&&hj.splice(r,1)}),[e]),{...e,toast:Me,dismiss:r=>Kv({type:"DISMISS_TOAST",toastId:r})}}var Y0=oJ();const lJ=Zr(Y0);function dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function NB(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function YS(...e){return t=>{let r=!1;const n=e.map(a=>{const i=NB(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():NB(e[a],null)}}}}function Zt(...e){return j.useCallback(YS(...e),e)}function Ipe(e,t){const r=j.createContext(t),n=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=j.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Vs(e,t=[]){let r=[];function n(i,o){const l=j.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:m,children:p,...y}=f,g=m?.[e]?.[c]||l,v=j.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,m){const p=m?.[e]?.[c]||l,y=j.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>j.createContext(o));return function(l){const c=l?.[e]||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Mpe(a,...t)]}function Mpe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function yf(e){const t=Fpe(e),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,l=j.Children.toArray(i),c=l.find(Lpe);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var cJ=yf("Slot");function Fpe(e){const t=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=Bpe(a),l=$pe(i,a.props);return a.type!==j.Fragment&&(l.ref=n?YS(n,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uJ=Symbol("radix.slottable");function dJ(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=uJ,t}function Lpe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uJ}function $pe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Bpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function X0(e){const t=e+"CollectionProvider",[r,n]=Vs(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:_}=g,w=le.useRef(null),b=le.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:b,collectionRef:w,children:_})};o.displayName=t;const l=e+"CollectionSlot",c=yf(l),u=le.forwardRef((g,v)=>{const{scope:_,children:w}=g,b=i(l,_),E=Zt(v,b.collectionRef);return s.jsx(c,{ref:E,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=yf(d),p=le.forwardRef((g,v)=>{const{scope:_,children:w,...b}=g,E=le.useRef(null),S=Zt(v,E),C=i(d,_);return le.useEffect(()=>(C.itemMap.set(E,{ref:E,...b}),()=>void C.itemMap.delete(E))),s.jsx(m,{[f]:"",ref:S,children:w})});p.displayName=d;function y(g){const v=i(e+"CollectionConsumer",g);return le.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,k)=>b.indexOf(C.ref.current)-b.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var Upe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tt=Upe.reduce((e,t)=>{const r=yf(`Primitive.${t}`),n=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Y3(e,t){e&&Y0.flushSync(()=>e.dispatchEvent(t))}function Ss(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>t.current?.(...r),[])}function Vpe(e,t=globalThis?.document){const r=Ss(e);j.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var zpe="DismissableLayer",hR="dismissableLayer.update",qpe="dismissableLayer.pointerDownOutside",Wpe="dismissableLayer.focusOutside",SB,fJ=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qm=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(fJ),[d,f]=j.useState(null),m=d?.ownerDocument??globalThis?.document,[,p]=j.useState({}),y=Zt(t,k=>f(k)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(v),w=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=_,S=Gpe(k=>{const R=k.target,P=[...u.branches].some(O=>O.contains(R));!E||P||(a?.(k),o?.(k),k.defaultPrevented||l?.())},m),C=Kpe(k=>{const R=k.target;[...u.branches].some(O=>O.contains(R))||(i?.(k),o?.(k),k.defaultPrevented||l?.())},m);return Vpe(k=>{w===u.layers.size-1&&(n?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SB=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),kB(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=SB)}},[d,m,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),kB())},[d,u]),j.useEffect(()=>{const k=()=>p({});return document.addEventListener(hR,k),()=>document.removeEventListener(hR,k)},[]),s.jsx(Tt.div,{...c,ref:y,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,C.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,S.onPointerDownCapture)})});qm.displayName=zpe;var Hpe="DismissableLayerBranch",hJ=j.forwardRef((e,t)=>{const r=j.useContext(fJ),n=j.useRef(null),a=Zt(t,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Tt.div,{...e,ref:a})});hJ.displayName=Hpe;function Gpe(e,t=globalThis?.document){const r=Ss(e),n=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){mJ(qpe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Kpe(e,t=globalThis?.document){const r=Ss(e),n=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!n.current&&mJ(Wpe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kB(){const e=new CustomEvent(hR);document.dispatchEvent(e)}function mJ(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Y3(a,i):a.dispatchEvent(i)}var Ype=qm,Xpe=hJ,Ts=globalThis?.document?j.useLayoutEffect:()=>{},Jpe="Portal",J0=j.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=j.useState(!1);Ts(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?lJ.createPortal(s.jsx(Tt.div,{...n,ref:t}),o):null});J0.displayName=Jpe;function Zpe(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var la=e=>{const{present:t,children:r}=e,n=Qpe(t),a=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=Zt(n.ref,ege(a));return typeof r=="function"||n.isPresent?j.cloneElement(a,{ref:i}):null};la.displayName="Presence";function Qpe(e){const[t,r]=j.useState(),n=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Zpe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=c_(n.current);i.current=l==="mounted"?u:"none"},[l]),Ts(()=>{const u=n.current,d=a.current;if(d!==e){const m=i.current,p=c_(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ts(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=c_(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(i.current=c_(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function c_(e){return e?.animationName||"none"}function ege(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tge=K3[" useInsertionEffect ".trim().toString()]||Ts;function ji({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=rge({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=j.useRef(e!==void 0);j.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=j.useCallback(d=>{if(l){const f=nge(d)?d(e):d;f!==e&&o.current?.(f)}else i(d)},[l,e,i,o]);return[c,u]}function rge({defaultProp:e,onChange:t}){const[r,n]=j.useState(e),a=j.useRef(r),i=j.useRef(t);return tge(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function nge(e){return typeof e=="function"}var pJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sge="VisuallyHidden",XS=j.forwardRef((e,t)=>s.jsx(Tt.span,{...e,ref:t,style:{...pJ,...e.style}}));XS.displayName=sge;var age=XS,X3="ToastProvider",[J3,ige,oge]=X0("Toast"),[gJ]=Vs("Toast",[oge]),[lge,JS]=gJ(X3),xJ=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=j.useState(null),[u,d]=j.useState(0),f=j.useRef(!1),m=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${X3}\`. Expected non-empty \`string\`.`),s.jsx(J3.Provider,{scope:t,children:s.jsx(lge,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>d(p=>p+1),[]),onToastRemove:j.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};xJ.displayName=X3;var vJ="ToastViewport",cge=["F8"],mR="toast.viewportPause",pR="toast.viewportResume",yJ=j.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=cge,label:a="Notifications ({hotkey})",...i}=e,o=JS(vJ,r),l=ige(r),c=j.useRef(null),u=j.useRef(null),d=j.useRef(null),f=j.useRef(null),m=Zt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;j.useEffect(()=>{const v=_=>{n.length!==0&&n.every(b=>_[b]||_.code===b)&&f.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),j.useEffect(()=>{const v=c.current,_=f.current;if(y&&v&&_){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(mR);_.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(pR);_.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!v.contains(C.relatedTarget)&&b()},S=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",E),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",E),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=j.useCallback(({tabbingDirection:v})=>{const w=l().map(b=>{const E=b.ref.current,S=[E,..._ge(E)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return j.useEffect(()=>{const v=f.current;if(v){const _=w=>{const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const S=document.activeElement,C=w.shiftKey;if(w.target===v&&C){u.current?.focus();return}const P=g({tabbingDirection:C?"backwards":"forwards"}),O=P.findIndex(A=>A===S);RE(P.slice(O+1))?w.preventDefault():C?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",_),()=>v.removeEventListener("keydown",_)}},[l,g]),s.jsxs(Xpe,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(gR,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});RE(v)}}),s.jsx(J3.Slot,{scope:r,children:s.jsx(Tt.ol,{tabIndex:-1,...i,ref:m})}),y&&s.jsx(gR,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});RE(v)}})]})});yJ.displayName=vJ;var bJ="ToastFocusProxy",gR=j.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=JS(bJ,r);return s.jsx(XS,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});gR.displayName=bJ;var dw="Toast",uge="toast.swipeStart",dge="toast.swipeMove",fge="toast.swipeCancel",hge="toast.swipeEnd",wJ=j.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ji({prop:n,defaultProp:a??!0,onChange:i,caller:dw});return s.jsx(la,{present:r||l,children:s.jsx(gge,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ss(e.onPause),onResume:Ss(e.onResume),onSwipeStart:dt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:dt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});wJ.displayName=dw;var[mge,pge]=gJ(dw,{onClose(){}}),gge=j.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=e,g=JS(dw,r),[v,_]=j.useState(null),w=Zt(t,B=>_(B)),b=j.useRef(null),E=j.useRef(null),S=a||g.duration,C=j.useRef(0),k=j.useRef(S),R=j.useRef(0),{onToastAdd:P,onToastRemove:O}=g,A=Ss(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),o()}),D=j.useCallback(B=>{!B||B===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(A,B))},[A]);j.useEffect(()=>{const B=g.viewport;if(B){const z=()=>{D(k.current),u?.()},q=()=>{const G=new Date().getTime()-C.current;k.current=k.current-G,window.clearTimeout(R.current),c?.()};return B.addEventListener(mR,q),B.addEventListener(pR,z),()=>{B.removeEventListener(mR,q),B.removeEventListener(pR,z)}}},[g.viewport,S,c,u,D]),j.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(S)},[i,S,g.isClosePausedRef,D]),j.useEffect(()=>(P(),()=>O()),[P,O]);const F=j.useMemo(()=>v?EJ(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(xge,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(mge,{scope:r,onClose:A,children:Y0.createPortal(s.jsx(J3.ItemSlot,{scope:r,children:s.jsx(Ype,{asChild:!0,onEscapeKeyDown:dt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:dt(e.onKeyDown,B=>{B.key==="Escape"&&(l?.(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:dt(e.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:dt(e.onPointerMove,B=>{if(!b.current)return;const z=B.clientX-b.current.x,q=B.clientY-b.current.y,G=!!E.current,Y=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=Y?M(0,z):0,Z=Y?0:M(0,q),L=B.pointerType==="touch"?10:2,J={x:H,y:Z},V={originalEvent:B,delta:J};G?(E.current=J,u_(dge,f,V,{discrete:!1})):CB(J,g.swipeDirection,L)?(E.current=J,u_(uge,d,V,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(z)>L||Math.abs(q)>L)&&(b.current=null)}),onPointerUp:dt(e.onPointerUp,B=>{const z=E.current,q=B.target;if(q.hasPointerCapture(B.pointerId)&&q.releasePointerCapture(B.pointerId),E.current=null,b.current=null,z){const G=B.currentTarget,Y={originalEvent:B,delta:z};CB(z,g.swipeDirection,g.swipeThreshold)?u_(hge,p,Y,{discrete:!0}):u_(fge,m,Y,{discrete:!0}),G.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),xge=e=>{const{__scopeToast:t,children:r,...n}=e,a=JS(dw,t),[i,o]=j.useState(!1),[l,c]=j.useState(!1);return bge(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(J0,{asChild:!0,children:s.jsx(XS,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},vge="ToastTitle",_J=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Tt.div,{...n,ref:t})});_J.displayName=vge;var yge="ToastDescription",jJ=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Tt.div,{...n,ref:t})});jJ.displayName=yge;var NJ="ToastAction",SJ=j.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(CJ,{altText:r,asChild:!0,children:s.jsx(Z3,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${NJ}\`. Expected non-empty \`string\`.`),null)});SJ.displayName=NJ;var kJ="ToastClose",Z3=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=pge(kJ,r);return s.jsx(CJ,{asChild:!0,children:s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,a.onClose)})})});Z3.displayName=kJ;var CJ=j.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function EJ(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),wge(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...EJ(n))}}),t}function u_(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Y3(a,i):a.dispatchEvent(i)}var CB=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function bge(e=()=>{}){const t=Ss(e);Ts(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function wge(e){return e.nodeType===e.ELEMENT_NODE}function _ge(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function RE(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var jge=xJ,TJ=yJ,AJ=wJ,PJ=_J,OJ=jJ,RJ=SJ,DJ=Z3;function IJ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=IJ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=IJ(e))&&(n&&(n+=" "),n+=t);return n}const EB=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,TB=Mr,Z0=(e,t)=>r=>{var n;if(t?.variants==null)return TB(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const m=EB(d)||EB(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,f,m]:u},[]);return TB(e,o,c,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MJ=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kge=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...Sge,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:MJ("lucide",a),...l},[...o.map(([u,d])=>j.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const r=j.forwardRef(({className:n,...a},i)=>j.createElement(kge,{ref:i,iconNode:t,className:MJ(`lucide-${Nge(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cge=mt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=mt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ege=mt("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=mt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=mt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=mt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tge=mt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=mt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Age=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=mt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pge=mt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=mt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=mt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=mt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=mt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=mt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=mt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=mt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=mt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oge=mt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=mt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=mt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=mt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=mt("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=mt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=mt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=mt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=mt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=mt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=mt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ige=mt("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mge=mt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=mt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=mt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=mt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=mt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=mt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=mt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=mt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=mt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=mt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=mt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lge=mt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=mt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=mt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=mt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=mt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=mt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=mt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=mt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=mt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=mt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=mt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=mt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=mt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=mt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=mt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=mt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=mt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=mt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=mt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sM="-",Bge=e=>{const t=Vge(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(sM);return l[0]===""&&l.length!==1&&l.shift(),HJ(l,t)||Uge(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},HJ=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?HJ(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(sM);return t.validators.find(({validator:o})=>o(i))?.classGroupId},$B=/^\[(.+)\]$/,Uge=e=>{if($B.test(e)){const t=$B.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Vge=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return qge(Object.entries(e.classGroups),r).forEach(([i,o])=>{NR(o,n,i,t)}),n},NR=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:BB(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(zge(a)){NR(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{NR(o,BB(t,i),r,n)})})},BB=(e,t)=>{let r=e;return t.split(sM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zge=e=>e.isThemeGetter,qge=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Wge=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},GJ="!",Hge=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let _=l[v];if(u===0){if(_===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(_==="/"){f=v;continue}}_==="["?u++:_==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(GJ),y=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Gge=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Kge=e=>({cache:Wge(e.cacheSize),parseClassName:Hge(e),...Bge(e)}),Yge=/\s+/,Xge=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Yge);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let y=!!p,g=n(y?m.substring(0,p):m);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=Gge(d).join(":"),_=f?v+GJ:v,w=_+g;if(i.includes(w))continue;i.push(w);const b=a(g,y);for(let E=0;E<b.length;++E){const S=b[E];i.push(_+S)}l=u+(l.length>0?" "+l:l)}return l};function Jge(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=KJ(t))&&(n&&(n+=" "),n+=r);return n}const KJ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=KJ(e[n]))&&(r&&(r+=" "),r+=t);return r};function Zge(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Kge(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Xge(c,r);return a(c,d),d}return function(){return i(Jge.apply(null,arguments))}}const Jn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YJ=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qge=/^\d+\/\d+$/,e0e=new Set(["px","full","screen"]),t0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wu=e=>Og(e)||e0e.has(e)||Qge.test(e),Dd=e=>ex(e,"length",h0e),Og=e=>!!e&&!Number.isNaN(Number(e)),DE=e=>ex(e,"number",Og),sv=e=>!!e&&Number.isInteger(Number(e)),i0e=e=>e.endsWith("%")&&Og(e.slice(0,-1)),Or=e=>YJ.test(e),Id=e=>t0e.test(e),o0e=new Set(["length","size","percentage"]),l0e=e=>ex(e,o0e,XJ),c0e=e=>ex(e,"position",XJ),u0e=new Set(["image","url"]),d0e=e=>ex(e,u0e,p0e),f0e=e=>ex(e,"",m0e),av=()=>!0,ex=(e,t,r)=>{const n=YJ.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},h0e=e=>r0e.test(e)&&!n0e.test(e),XJ=()=>!1,m0e=e=>s0e.test(e),p0e=e=>a0e.test(e),g0e=()=>{const e=Jn("colors"),t=Jn("spacing"),r=Jn("blur"),n=Jn("brightness"),a=Jn("borderColor"),i=Jn("borderRadius"),o=Jn("borderSpacing"),l=Jn("borderWidth"),c=Jn("contrast"),u=Jn("grayscale"),d=Jn("hueRotate"),f=Jn("invert"),m=Jn("gap"),p=Jn("gradientColorStops"),y=Jn("gradientColorStopPositions"),g=Jn("inset"),v=Jn("margin"),_=Jn("opacity"),w=Jn("padding"),b=Jn("saturate"),E=Jn("scale"),S=Jn("sepia"),C=Jn("skew"),k=Jn("space"),R=Jn("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Or,t],D=()=>[Or,t],F=()=>["",wu,Dd],B=()=>["auto",Og,Or],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Or],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Og,Or];return{cacheSize:500,separator:":",theme:{colors:[av],spacing:[wu,Dd],blur:["none","",Id,Or],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Id,Or],borderSpacing:D(),borderWidth:F(),contrast:Z(),grayscale:M(),hueRotate:Z(),invert:M(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[i0e,Dd],inset:A(),margin:A(),opacity:Z(),padding:D(),saturate:Z(),scale:Z(),sepia:M(),skew:Z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Or]}],container:["container"],columns:[{columns:[Id]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Or]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sv,Or]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Or]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",sv,Or]}],"grid-cols":[{"grid-cols":[av]}],"col-start-end":[{col:["auto",{span:["full",sv,Or]},Or]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[av]}],"row-start-end":[{row:["auto",{span:[sv,Or]},Or]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Or]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Or,t]}],"min-w":[{"min-w":[Or,t,"min","max","fit"]}],"max-w":[{"max-w":[Or,t,"none","full","min","max","fit","prose",{screen:[Id]},Id]}],h:[{h:[Or,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Or,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Or,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Or,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Id,Dd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",DE]}],"font-family":[{font:[av]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Or]}],"line-clamp":[{"line-clamp":["none",Og,DE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wu,Or]}],"list-image":[{"list-image":["none",Or]}],"list-style-type":[{list:["none","disc","decimal",Or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wu,Dd]}],"underline-offset":[{"underline-offset":["auto",wu,Or]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),c0e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d0e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[wu,Or]}],"outline-w":[{outline:[wu,Dd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[wu,Dd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Id,f0e]}],"shadow-color":[{shadow:[av]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Id,Or]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Or]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Or]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[sv,Or]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Or]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Or]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Or]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wu,Dd,DE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x0e=Zge(g0e);function ut(...e){return x0e(Mr(e))}const v0e=jge,JJ=j.forwardRef(({className:e,...t},r)=>s.jsx(TJ,{ref:r,className:ut("fixed top-4 right-4 z-[100] flex max-h-screen max-w-[420px] flex-col gap-2 p-4",e),...t}));JJ.displayName=TJ.displayName;const y0e=Z0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border-2 p-4 pr-8 shadow-xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border-emerald-400 bg-emerald-50 dark:bg-emerald-950 text-emerald-900 dark:text-emerald-100",destructive:"border-red-500 bg-red-50 dark:bg-red-950 text-red-900 dark:text-red-100"}},defaultVariants:{variant:"default"}}),ZJ=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(AJ,{ref:n,className:ut(y0e({variant:t}),e),...r}));ZJ.displayName=AJ.displayName;const b0e=j.forwardRef(({className:e,...t},r)=>s.jsx(RJ,{ref:r,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));b0e.displayName=RJ.displayName;const QJ=j.forwardRef(({className:e,...t},r)=>s.jsx(DJ,{ref:r,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(La,{className:"h-4 w-4"})}));QJ.displayName=DJ.displayName;const eZ=j.forwardRef(({className:e,...t},r)=>s.jsx(PJ,{ref:r,className:ut("text-sm font-semibold",e),...t}));eZ.displayName=PJ.displayName;const tZ=j.forwardRef(({className:e,...t},r)=>s.jsx(OJ,{ref:r,className:ut("text-sm opacity-90",e),...t}));tZ.displayName=OJ.displayName;function w0e(){const{toasts:e,dismiss:t}=Ps(),r=j.useRef(null);return j.useEffect(()=>{const n=a=>{e.length!==0&&r.current&&!r.current.contains(a.target)&&e.forEach(i=>{t(i.id)})};if(e.length>0){const a=setTimeout(()=>{document.addEventListener("click",n)},100);return()=>{clearTimeout(a),document.removeEventListener("click",n)}}},[e,t]),s.jsxs(v0e,{children:[e.map(function({id:n,title:a,description:i,action:o,...l}){return s.jsxs(ZJ,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[a&&s.jsx(eZ,{children:a}),i&&s.jsx(tZ,{children:i})]}),o,s.jsx(QJ,{})]},n)}),s.jsx(JJ,{ref:r})]})}var Vj=["light","dark"],aM="(prefers-color-scheme: dark)",_0e=typeof window>"u",iM=j.createContext(void 0),j0e={setTheme:e=>{},themes:[]},rZ=()=>{var e;return(e=j.useContext(iM))!=null?e:j0e},N0e=e=>j.useContext(iM)?e.children:j.createElement(k0e,{...e}),S0e=["light","dark"],k0e=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=S0e,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=j.useState(()=>UB(a,o)),[p,y]=j.useState(()=>UB(a)),g=c?Object.values(c):i,v=j.useCallback(E=>{let S=E;if(!S)return;E==="system"&&r&&(S=VB());let C=c?c[S]:S,k=t?E0e():null,R=document.documentElement;if(l==="class"?(R.classList.remove(...g),C&&R.classList.add(C)):C?R.setAttribute(l,C):R.removeAttribute(l),n){let P=Vj.includes(o)?o:null,O=Vj.includes(S)?S:P;R.style.colorScheme=O}k?.()},[]),_=j.useCallback(E=>{let S=typeof E=="function"?E(E):E;m(S);try{localStorage.setItem(a,S)}catch{}},[e]),w=j.useCallback(E=>{let S=VB(E);y(S),f==="system"&&r&&!e&&v("system")},[f,e]);j.useEffect(()=>{let E=window.matchMedia(aM);return E.addListener(w),w(E),()=>E.removeListener(w)},[w]),j.useEffect(()=>{let E=S=>{if(S.key!==a)return;let C=S.newValue||o;_(C)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[_]),j.useEffect(()=>{v(e??f)},[e,f]);let b=j.useMemo(()=>({theme:f,setTheme:_,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:r?[...i,"system"]:i,systemTheme:r?p:void 0}),[f,_,e,p,r,i]);return j.createElement(iM.Provider,{value:b},j.createElement(C0e,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},C0e=j.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Vj.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,v=!0)=>{let _=o?o[y]:y,w=g?y+"|| ''":`'${_}'`,b="";return a&&v&&!g&&Vj.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||_?b+=`c.add(${w})`:b+="null":_&&(b+=`d[s](n,${w})`),b},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${aM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return j.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),UB=(e,t)=>{if(_0e)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},E0e=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},VB=e=>(e||(e=window.matchMedia(aM)),e.matches?"dark":"light"),T0e=e=>{switch(e){case"success":return O0e;case"info":return D0e;case"warning":return R0e;case"error":return I0e;default:return null}},A0e=Array(12).fill(0),P0e=({visible:e,className:t})=>le.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},le.createElement("div",{className:"sonner-spinner"},A0e.map((r,n)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),O0e=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),R0e=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),D0e=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),I0e=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M0e=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),F0e=()=>{let[e,t]=le.useState(document.hidden);return le.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},SR=1,L0e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:SR++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],le.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(B0e(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||SR++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},no=new L0e,$0e=(e,t)=>{let r=t?.id||SR++;return no.addToast({title:e,...t,id:r}),r},B0e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",U0e=$0e,V0e=()=>no.toasts,z0e=()=>no.getActiveToasts(),ot=Object.assign(U0e,{success:no.success,info:no.info,warning:no.warning,error:no.error,custom:no.custom,message:no.message,promise:no.promise,dismiss:no.dismiss,loading:no.loading},{getHistory:V0e,getToasts:z0e});function q0e(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}q0e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function h_(e){return e.label!==void 0}var W0e=3,H0e="32px",G0e="16px",zB=4e3,K0e=356,Y0e=14,X0e=20,J0e=200;function ql(...e){return e.filter(Boolean).join(" ")}function Z0e(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Q0e=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:m,toast:p,unstyled:y,interacting:g,setHeights:v,visibleToasts:_,heights:w,index:b,toasts:E,expanded:S,removeToast:C,defaultRichColors:k,closeButton:R,style:P,cancelButtonStyle:O,actionButtonStyle:A,className:D="",descriptionClassName:F="",duration:B,position:z,gap:q,loadingIcon:G,expandByDefault:Y,classNames:M,icons:H,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:L}=e,[J,V]=le.useState(null),[X,ne]=le.useState(null),[se,ue]=le.useState(!1),[W,ae]=le.useState(!1),[oe,K]=le.useState(!1),[be,pe]=le.useState(!1),[Ee,Ae]=le.useState(!1),[fe,Je]=le.useState(0),[Ye,ce]=le.useState(0),we=le.useRef(p.duration||B||zB),Oe=le.useRef(null),He=le.useRef(null),Ge=b===0,Ne=b+1<=_,ee=p.type,_e=p.dismissible!==!1,ge=p.className||"",Be=p.descriptionClassName||"",Ie=le.useMemo(()=>w.findIndex(Mt=>Mt.toastId===p.id)||0,[w,p.id]),de=le.useMemo(()=>{var Mt;return(Mt=p.closeButton)!=null?Mt:R},[p.closeButton,R]),Re=le.useMemo(()=>p.duration||B||zB,[p.duration,B]),rt=le.useRef(0),xt=le.useRef(0),at=le.useRef(0),St=le.useRef(null),[Yt,At]=z.split("-"),Pt=le.useMemo(()=>w.reduce((Mt,ar,Pr)=>Pr>=Ie?Mt:Mt+ar.height,0),[w,Ie]),fr=F0e(),Ar=p.invert||m,Fr=ee==="loading";xt.current=le.useMemo(()=>Ie*q+Pt,[Ie,Pt]),le.useEffect(()=>{we.current=Re},[Re]),le.useEffect(()=>{ue(!0)},[]),le.useEffect(()=>{let Mt=He.current;if(Mt){let ar=Mt.getBoundingClientRect().height;return ce(ar),v(Pr=>[{toastId:p.id,height:ar,position:p.position},...Pr]),()=>v(Pr=>Pr.filter(zt=>zt.toastId!==p.id))}},[v,p.id]),le.useLayoutEffect(()=>{if(!se)return;let Mt=He.current,ar=Mt.style.height;Mt.style.height="auto";let Pr=Mt.getBoundingClientRect().height;Mt.style.height=ar,ce(Pr),v(zt=>zt.find(It=>It.toastId===p.id)?zt.map(It=>It.toastId===p.id?{...It,height:Pr}:It):[{toastId:p.id,height:Pr,position:p.position},...zt])},[se,p.title,p.description,v,p.id]);let Qr=le.useCallback(()=>{ae(!0),Je(xt.current),v(Mt=>Mt.filter(ar=>ar.toastId!==p.id)),setTimeout(()=>{C(p)},J0e)},[p,C,v,xt]);le.useEffect(()=>{if(p.promise&&ee==="loading"||p.duration===1/0||p.type==="loading")return;let Mt;return S||g||L&&fr?(()=>{if(at.current<rt.current){let ar=new Date().getTime()-rt.current;we.current=we.current-ar}at.current=new Date().getTime()})():we.current!==1/0&&(rt.current=new Date().getTime(),Mt=setTimeout(()=>{var ar;(ar=p.onAutoClose)==null||ar.call(p,p),Qr()},we.current)),()=>clearTimeout(Mt)},[S,g,p,ee,L,fr,Qr]),le.useEffect(()=>{p.delete&&Qr()},[Qr,p.delete]);function kn(){var Mt,ar,Pr;return H!=null&&H.loading?le.createElement("div",{className:ql(M?.loader,(Mt=p?.classNames)==null?void 0:Mt.loader,"sonner-loader"),"data-visible":ee==="loading"},H.loading):G?le.createElement("div",{className:ql(M?.loader,(ar=p?.classNames)==null?void 0:ar.loader,"sonner-loader"),"data-visible":ee==="loading"},G):le.createElement(P0e,{className:ql(M?.loader,(Pr=p?.classNames)==null?void 0:Pr.loader),visible:ee==="loading"})}return le.createElement("li",{tabIndex:0,ref:He,className:ql(D,ge,M?.toast,(t=p?.classNames)==null?void 0:t.toast,M?.default,M?.[ee],(r=p?.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":se,"data-promise":!!p.promise,"data-swiped":Ee,"data-removed":W,"data-visible":Ne,"data-y-position":Yt,"data-x-position":At,"data-index":b,"data-front":Ge,"data-swiping":oe,"data-dismissible":_e,"data-type":ee,"data-invert":Ar,"data-swipe-out":be,"data-swipe-direction":X,"data-expanded":!!(S||Y&&se),style:{"--index":b,"--toasts-before":b,"--z-index":E.length-b,"--offset":`${W?fe:xt.current}px`,"--initial-height":Y?"auto":`${Ye}px`,...P,...p.style},onDragEnd:()=>{K(!1),V(null),St.current=null},onPointerDown:Mt=>{Fr||!_e||(Oe.current=new Date,Je(xt.current),Mt.target.setPointerCapture(Mt.pointerId),Mt.target.tagName!=="BUTTON"&&(K(!0),St.current={x:Mt.clientX,y:Mt.clientY}))},onPointerUp:()=>{var Mt,ar,Pr,zt;if(be||!_e)return;St.current=null;let It=Number(((Mt=He.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),er=Number(((ar=He.current)==null?void 0:ar.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((Pr=Oe.current)==null?void 0:Pr.getTime()),Lt=J==="x"?It:er,Ft=Math.abs(Lt)/vt;if(Math.abs(Lt)>=X0e||Ft>.11){Je(xt.current),(zt=p.onDismiss)==null||zt.call(p,p),ne(J==="x"?It>0?"right":"left":er>0?"down":"up"),Qr(),pe(!0),Ae(!1);return}K(!1),V(null)},onPointerMove:Mt=>{var ar,Pr,zt,It;if(!St.current||!_e||((ar=window.getSelection())==null?void 0:ar.toString().length)>0)return;let er=Mt.clientY-St.current.y,vt=Mt.clientX-St.current.x,Lt=(Pr=e.swipeDirections)!=null?Pr:Z0e(z);!J&&(Math.abs(vt)>1||Math.abs(er)>1)&&V(Math.abs(vt)>Math.abs(er)?"x":"y");let Ft={x:0,y:0};J==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&er<0||Lt.includes("bottom")&&er>0)&&(Ft.y=er):J==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&vt<0||Lt.includes("right")&&vt>0)&&(Ft.x=vt),(Math.abs(Ft.x)>0||Math.abs(Ft.y)>0)&&Ae(!0),(zt=He.current)==null||zt.style.setProperty("--swipe-amount-x",`${Ft.x}px`),(It=He.current)==null||It.style.setProperty("--swipe-amount-y",`${Ft.y}px`)}},de&&!p.jsx?le.createElement("button",{"aria-label":Z,"data-disabled":Fr,"data-close-button":!0,onClick:Fr||!_e?()=>{}:()=>{var Mt;Qr(),(Mt=p.onDismiss)==null||Mt.call(p,p)},className:ql(M?.closeButton,(a=p?.classNames)==null?void 0:a.closeButton)},(i=H?.close)!=null?i:M0e):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:le.createElement(le.Fragment,null,ee||p.icon||p.promise?le.createElement("div",{"data-icon":"",className:ql(M?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||kn():null,p.type!=="loading"?p.icon||H?.[ee]||T0e(ee):null):null,le.createElement("div",{"data-content":"",className:ql(M?.content,(l=p?.classNames)==null?void 0:l.content)},le.createElement("div",{"data-title":"",className:ql(M?.title,(c=p?.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?le.createElement("div",{"data-description":"",className:ql(F,Be,M?.description,(u=p?.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&h_(p.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Mt=>{var ar,Pr;h_(p.cancel)&&_e&&((Pr=(ar=p.cancel).onClick)==null||Pr.call(ar,Mt),Qr())},className:ql(M?.cancelButton,(d=p?.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&h_(p.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:Mt=>{var ar,Pr;h_(p.action)&&((Pr=(ar=p.action).onClick)==null||Pr.call(ar,Mt),!Mt.defaultPrevented&&Qr())},className:ql(M?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function qB(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function exe(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?G0e:H0e;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var txe=j.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:y=W0e,toastOptions:g,dir:v=qB(),gap:_=Y0e,loadingIcon:w,icons:b,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:S}=e,[C,k]=le.useState([]),R=le.useMemo(()=>Array.from(new Set([n].concat(C.filter(L=>L.position).map(L=>L.position)))),[C,n]),[P,O]=le.useState([]),[A,D]=le.useState(!1),[F,B]=le.useState(!1),[z,q]=le.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=le.useRef(null),Y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=le.useRef(null),H=le.useRef(!1),Z=le.useCallback(L=>{k(J=>{var V;return(V=J.find(X=>X.id===L.id))!=null&&V.delete||no.dismiss(L.id),J.filter(({id:X})=>X!==L.id)})},[]);return le.useEffect(()=>no.subscribe(L=>{if(L.dismiss){k(J=>J.map(V=>V.id===L.id?{...V,delete:!0}:V));return}setTimeout(()=>{lJ.flushSync(()=>{k(J=>{let V=J.findIndex(X=>X.id===L.id);return V!==-1?[...J.slice(0,V),{...J[V],...L},...J.slice(V+1)]:[L,...J]})})})}),[]),le.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:J})=>{q(J?"dark":"light")})}catch{L.addListener(({matches:V})=>{try{q(V?"dark":"light")}catch(X){console.error(X)}})}},[d]),le.useEffect(()=>{C.length<=1&&D(!1)},[C]),le.useEffect(()=>{let L=J=>{var V,X;a.every(ne=>J[ne]||J.code===ne)&&(D(!0),(V=G.current)==null||V.focus()),J.code==="Escape"&&(document.activeElement===G.current||(X=G.current)!=null&&X.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[a]),le.useEffect(()=>{if(G.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,H.current=!1)}},[G.current]),le.createElement("section",{ref:t,"aria-label":`${E} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((L,J)=>{var V;let[X,ne]=L.split("-");return C.length?le.createElement("ol",{key:L,dir:v==="auto"?qB():v,tabIndex:-1,ref:G,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":X,"data-lifted":A&&C.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((V=P[0])==null?void 0:V.height)||0}px`,"--width":`${K0e}px`,"--gap":`${_}px`,...p,...exe(c,u)},onBlur:se=>{H.current&&!se.currentTarget.contains(se.relatedTarget)&&(H.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||H.current||(H.current=!0,M.current=se.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onDragEnd:()=>D(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},C.filter(se=>!se.position&&J===0||se.position===L).map((se,ue)=>{var W,ae;return le.createElement(Q0e,{key:se.id,icons:b,index:ue,toast:se,defaultRichColors:f,duration:(W=g?.duration)!=null?W:m,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(ae=g?.closeButton)!=null?ae:o,interacting:F,position:L,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:Z,toasts:C.filter(oe=>oe.position==se.position),heights:P.filter(oe=>oe.position==se.position),setHeights:O,expandByDefault:i,gap:_,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const rxe=({...e})=>{const{theme:t="system"}=rZ();return s.jsx(txe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var nxe=K3[" useId ".trim().toString()]||(()=>{}),sxe=0;function uo(e){const[t,r]=j.useState(nxe());return Ts(()=>{r(n=>n??String(sxe++))},[e]),t?`radix-${t}`:""}const axe=["top","right","bottom","left"],Nf=Math.min,Po=Math.max,zj=Math.round,m_=Math.floor,qc=e=>({x:e,y:e}),ixe={left:"right",right:"left",bottom:"top",top:"bottom"},oxe={start:"end",end:"start"};function kR(e,t,r){return Po(e,Nf(t,r))}function Hu(e,t){return typeof e=="function"?e(t):e}function Gu(e){return e.split("-")[0]}function tx(e){return e.split("-")[1]}function oM(e){return e==="x"?"y":"x"}function lM(e){return e==="y"?"height":"width"}const lxe=new Set(["top","bottom"]);function Fc(e){return lxe.has(Gu(e))?"y":"x"}function cM(e){return oM(Fc(e))}function cxe(e,t,r){r===void 0&&(r=!1);const n=tx(e),a=cM(e),i=lM(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=qj(o)),[o,qj(o)]}function uxe(e){const t=qj(e);return[CR(e),t,CR(t)]}function CR(e){return e.replace(/start|end/g,t=>oxe[t])}const WB=["left","right"],HB=["right","left"],dxe=["top","bottom"],fxe=["bottom","top"];function hxe(e,t,r){switch(e){case"top":case"bottom":return r?t?HB:WB:t?WB:HB;case"left":case"right":return t?dxe:fxe;default:return[]}}function mxe(e,t,r,n){const a=tx(e);let i=hxe(Gu(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(CR)))),i}function qj(e){return e.replace(/left|right|bottom|top/g,t=>ixe[t])}function pxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function nZ(e){return typeof e!="number"?pxe(e):{top:e,right:e,bottom:e,left:e}}function Wj(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function GB(e,t,r){let{reference:n,floating:a}=e;const i=Fc(t),o=cM(t),l=lM(o),c=Gu(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(tx(t)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const gxe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=GB(u,n,c),m=n,p={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:_}=l[g],{x:w,y:b,data:E,reset:S}=await _({x:d,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,f=b??f,p={...p,[v]:{...p[v],...E}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=GB(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:p}};async function Dy(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Hu(t,e),y=nZ(p),v=l[m?f==="floating"?"reference":"floating":f],_=Wj(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Wj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(_.top-S.top+y.top)/E.y,bottom:(S.bottom-_.bottom+y.bottom)/E.y,left:(_.left-S.left+y.left)/E.x,right:(S.right-_.right+y.right)/E.x}}const xxe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Hu(e,t)||{};if(u==null)return{};const f=nZ(d),m={x:r,y:n},p=cM(a),y=lM(p),g=await o.getDimensions(u),v=p==="y",_=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",E=i.reference[y]+i.reference[p]-m[p]-i.floating[y],S=m[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=C?C[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=l.floating[b]||i.floating[y]);const R=E/2-S/2,P=k/2-g[y]/2-1,O=Nf(f[_],P),A=Nf(f[w],P),D=O,F=k-g[y]-A,B=k/2-g[y]/2+R,z=kR(D,B,F),q=!c.arrow&&tx(a)!=null&&B!==z&&i.reference[y]/2-(B<D?O:A)-g[y]/2<0,G=q?B<D?B-D:B-F:0;return{[p]:m[p]+G,data:{[p]:z,centerOffset:B-z-G,...q&&{alignmentOffset:G}},reset:q}}}),vxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Hu(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=Gu(a),w=Fc(l),b=Gu(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(b||!g?[qj(l)]:uxe(l)),C=y!=="none";!m&&C&&S.push(...mxe(l,g,y,E));const k=[l,...S],R=await Dy(t,v),P=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(R[_]),f){const B=cxe(a,o,E);P.push(R[B[0]],R[B[1]])}if(O=[...O,{placement:a,overflows:P}],!P.every(B=>B<=0)){var A,D;const B=(((A=i.flip)==null?void 0:A.index)||0)+1,z=k[B];if(z&&(!(f==="alignment"?w!==Fc(z):!1)||O.every(Y=>Y.overflows[0]>0&&Fc(Y.placement)===w)))return{data:{index:B,overflows:O},reset:{placement:z}};let q=(D=O.filter(G=>G.overflows[0]<=0).sort((G,Y)=>G.overflows[1]-Y.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(p){case"bestFit":{var F;const G=(F=O.filter(Y=>{if(C){const M=Fc(Y.placement);return M===w||M==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(M=>M>0).reduce((M,H)=>M+H,0)]).sort((Y,M)=>Y[1]-M[1])[0])==null?void 0:F[0];G&&(q=G);break}case"initialPlacement":q=l;break}if(a!==q)return{reset:{placement:q}}}return{}}}};function KB(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YB(e){return axe.some(t=>e[t]>=0)}const yxe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Hu(e,t);switch(n){case"referenceHidden":{const i=await Dy(t,{...a,elementContext:"reference"}),o=KB(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YB(o)}}}case"escaped":{const i=await Dy(t,{...a,altBoundary:!0}),o=KB(i,r.floating);return{data:{escapedOffsets:o,escaped:YB(o)}}}default:return{}}}}},sZ=new Set(["left","top"]);async function bxe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Gu(r),l=tx(r),c=Fc(r)==="y",u=sZ.has(o)?-1:1,d=i&&c?-1:1,f=Hu(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const wxe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await bxe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},_xe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:_,y:w}=v;return{x:_,y:w}}},...c}=Hu(e,t),u={x:r,y:n},d=await Dy(t,c),f=Fc(Gu(a)),m=oM(f);let p=u[m],y=u[f];if(i){const v=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=p+d[v],b=p-d[_];p=kR(w,p,b)}if(o){const v=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=y+d[v],b=y-d[_];y=kR(w,y,b)}const g=l.fn({...t,[m]:p,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},jxe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Hu(e,t),d={x:r,y:n},f=Fc(a),m=oM(f);let p=d[m],y=d[f];const g=Hu(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",E=i.reference[m]-i.floating[b]+v.mainAxis,S=i.reference[m]+i.reference[b]-v.mainAxis;p<E?p=E:p>S&&(p=S)}if(u){var _,w;const b=m==="y"?"width":"height",E=sZ.has(Gu(a)),S=i.reference[f]-i.floating[b]+(E&&((_=o.offset)==null?void 0:_[f])||0)+(E?0:v.crossAxis),C=i.reference[f]+i.reference[b]+(E?0:((w=o.offset)==null?void 0:w[f])||0)-(E?v.crossAxis:0);y<S?y=S:y>C&&(y=C)}return{[m]:p,[f]:y}}}},Nxe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Hu(e,t),d=await Dy(t,u),f=Gu(a),m=tx(a),p=Fc(a)==="y",{width:y,height:g}=i.floating;let v,_;f==="top"||f==="bottom"?(v=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,v=m==="end"?"top":"bottom");const w=g-d.top-d.bottom,b=y-d.left-d.right,E=Nf(g-d[v],w),S=Nf(y-d[_],b),C=!t.middlewareData.shift;let k=E,R=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=w),C&&!m){const O=Po(d.left,0),A=Po(d.right,0),D=Po(d.top,0),F=Po(d.bottom,0);p?R=y-2*(O!==0||A!==0?O+A:Po(d.left,d.right)):k=g-2*(D!==0||F!==0?D+F:Po(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:k});const P=await o.getDimensions(l.floating);return y!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function QS(){return typeof window<"u"}function rx(e){return aZ(e)?(e.nodeName||"").toLowerCase():"#document"}function Uo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function su(e){var t;return(t=(aZ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aZ(e){return QS()?e instanceof Node||e instanceof Uo(e).Node:!1}function vc(e){return QS()?e instanceof Element||e instanceof Uo(e).Element:!1}function Zc(e){return QS()?e instanceof HTMLElement||e instanceof Uo(e).HTMLElement:!1}function XB(e){return!QS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Uo(e).ShadowRoot}const Sxe=new Set(["inline","contents"]);function fw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=yc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Sxe.has(a)}const kxe=new Set(["table","td","th"]);function Cxe(e){return kxe.has(rx(e))}const Exe=[":popover-open",":modal"];function e2(e){return Exe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Txe=["transform","translate","scale","rotate","perspective"],Axe=["transform","translate","scale","rotate","perspective","filter"],Pxe=["paint","layout","strict","content"];function uM(e){const t=dM(),r=vc(e)?yc(e):e;return Txe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Axe.some(n=>(r.willChange||"").includes(n))||Pxe.some(n=>(r.contain||"").includes(n))}function Oxe(e){let t=Sf(e);for(;Zc(t)&&!t0(t);){if(uM(t))return t;if(e2(t))return null;t=Sf(t)}return null}function dM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rxe=new Set(["html","body","#document"]);function t0(e){return Rxe.has(rx(e))}function yc(e){return Uo(e).getComputedStyle(e)}function t2(e){return vc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sf(e){if(rx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XB(e)&&e.host||su(e);return XB(t)?t.host:t}function iZ(e){const t=Sf(e);return t0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zc(t)&&fw(t)?t:iZ(t)}function Iy(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=iZ(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Uo(a);if(i){const l=ER(o);return t.concat(o,o.visualViewport||[],fw(a)?a:[],l&&r?Iy(l):[])}return t.concat(a,Iy(a,[],r))}function ER(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oZ(e){const t=yc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Zc(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=zj(r)!==i||zj(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function fM(e){return vc(e)?e:e.contextElement}function Rg(e){const t=fM(e);if(!Zc(t))return qc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=oZ(t);let o=(i?zj(r.width):r.width)/n,l=(i?zj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Dxe=qc(0);function lZ(e){const t=Uo(e);return!dM()||!t.visualViewport?Dxe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ixe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Uo(e)?!1:t}function um(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=fM(e);let o=qc(1);t&&(n?vc(n)&&(o=Rg(n)):o=Rg(e));const l=Ixe(i,r,n)?lZ(i):qc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const m=Uo(i),p=n&&vc(n)?Uo(n):n;let y=m,g=ER(y);for(;g&&n&&p!==y;){const v=Rg(g),_=g.getBoundingClientRect(),w=yc(g),b=_.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,E=_.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=E,y=Uo(g),g=ER(y)}}return Wj({width:d,height:f,x:c,y:u})}function hM(e,t){const r=t2(e).scrollLeft;return t?t.left+r:um(su(e)).left+r}function cZ(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:hM(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Mxe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=su(n),l=t?e2(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=qc(1);const d=qc(0),f=Zc(n);if((f||!f&&!i)&&((rx(n)!=="body"||fw(o))&&(c=t2(n)),Zc(n))){const p=um(n);u=Rg(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=o&&!f&&!i?cZ(o,c,!0):qc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Fxe(e){return Array.from(e.getClientRects())}function Lxe(e){const t=su(e),r=t2(e),n=e.ownerDocument.body,a=Po(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Po(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+hM(e);const l=-r.scrollTop;return yc(n).direction==="rtl"&&(o+=Po(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function $xe(e,t){const r=Uo(e),n=su(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=dM();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Bxe=new Set(["absolute","fixed"]);function Uxe(e,t){const r=um(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Zc(e)?Rg(e):qc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function JB(e,t,r){let n;if(t==="viewport")n=$xe(e,r);else if(t==="document")n=Lxe(su(e));else if(vc(t))n=Uxe(t,r);else{const a=lZ(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Wj(n)}function uZ(e,t){const r=Sf(e);return r===t||!vc(r)||t0(r)?!1:yc(r).position==="fixed"||uZ(r,t)}function Vxe(e,t){const r=t.get(e);if(r)return r;let n=Iy(e,[],!1).filter(l=>vc(l)&&rx(l)!=="body"),a=null;const i=yc(e).position==="fixed";let o=i?Sf(e):e;for(;vc(o)&&!t0(o);){const l=yc(o),c=uM(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Bxe.has(a.position)||fw(o)&&!c&&uZ(e,o))?n=n.filter(d=>d!==o):a=l,o=Sf(o)}return t.set(e,n),n}function zxe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?e2(t)?[]:Vxe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=JB(t,d,a);return u.top=Po(f.top,u.top),u.right=Nf(f.right,u.right),u.bottom=Nf(f.bottom,u.bottom),u.left=Po(f.left,u.left),u},JB(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qxe(e){const{width:t,height:r}=oZ(e);return{width:t,height:r}}function Wxe(e,t,r){const n=Zc(t),a=su(t),i=r==="fixed",o=um(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=qc(0);function u(){c.x=hM(a)}if(n||!n&&!i)if((rx(t)!=="body"||fw(a))&&(l=t2(t)),n){const p=um(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?cZ(a,l):qc(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function IE(e){return yc(e).position==="static"}function ZB(e,t){if(!Zc(e)||yc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return su(e)===r&&(r=r.ownerDocument.body),r}function dZ(e,t){const r=Uo(e);if(e2(e))return r;if(!Zc(e)){let a=Sf(e);for(;a&&!t0(a);){if(vc(a)&&!IE(a))return a;a=Sf(a)}return r}let n=ZB(e,t);for(;n&&Cxe(n)&&IE(n);)n=ZB(n,t);return n&&t0(n)&&IE(n)&&!uM(n)?r:n||Oxe(e)||r}const Hxe=async function(e){const t=this.getOffsetParent||dZ,r=this.getDimensions,n=await r(e.floating);return{reference:Wxe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Gxe(e){return yc(e).direction==="rtl"}const Kxe={convertOffsetParentRelativeRectToViewportRelativeRect:Mxe,getDocumentElement:su,getClippingRect:zxe,getOffsetParent:dZ,getElementRects:Hxe,getClientRects:Fxe,getDimensions:qxe,getScale:Rg,isElement:vc,isRTL:Gxe};function fZ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yxe(e,t){let r=null,n;const a=su(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const y=m_(f),g=m_(a.clientWidth-(d+m)),v=m_(a.clientHeight-(f+p)),_=m_(d),b={rootMargin:-y+"px "+-g+"px "+-v+"px "+-_+"px",threshold:Po(0,Nf(1,c))||1};let E=!0;function S(C){const k=C[0].intersectionRatio;if(k!==c){if(!E)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!fZ(u,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return o(!0),i}function Xxe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=fM(e),d=a||i?[...u?Iy(u):[],...Iy(t)]:[];d.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const f=u&&l?Yxe(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?um(e):null;c&&v();function v(){const _=um(e);g&&!fZ(g,_)&&r(),g=_,y=requestAnimationFrame(v)}return r(),()=>{var _;d.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f?.(),(_=p)==null||_.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Jxe=wxe,Zxe=_xe,Qxe=vxe,eve=Nxe,tve=yxe,QB=xxe,rve=jxe,nve=(e,t,r)=>{const n=new Map,a={platform:Kxe,...r},i={...a.platform,_c:n};return gxe(e,t,{...a,platform:i})};var sve=typeof document<"u",ave=function(){},gj=sve?j.useLayoutEffect:ave;function Hj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hj(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Hj(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function hZ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function e9(e,t){const r=hZ(e);return Math.round(t*r)/r}function ME(e){const t=j.useRef(e);return gj(()=>{t.current=e}),t}function ive(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=j.useState(n);Hj(m,n)||p(n);const[y,g]=j.useState(null),[v,_]=j.useState(null),w=j.useCallback(Y=>{Y!==C.current&&(C.current=Y,g(Y))},[]),b=j.useCallback(Y=>{Y!==k.current&&(k.current=Y,_(Y))},[]),E=i||y,S=o||v,C=j.useRef(null),k=j.useRef(null),R=j.useRef(d),P=c!=null,O=ME(c),A=ME(a),D=ME(u),F=j.useCallback(()=>{if(!C.current||!k.current)return;const Y={placement:t,strategy:r,middleware:m};A.current&&(Y.platform=A.current),nve(C.current,k.current,Y).then(M=>{const H={...M,isPositioned:D.current!==!1};B.current&&!Hj(R.current,H)&&(R.current=H,Y0.flushSync(()=>{f(H)}))})},[m,t,r,A,D]);gj(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[u]);const B=j.useRef(!1);gj(()=>(B.current=!0,()=>{B.current=!1}),[]),gj(()=>{if(E&&(C.current=E),S&&(k.current=S),E&&S){if(O.current)return O.current(E,S,F);F()}},[E,S,F,O,P]);const z=j.useMemo(()=>({reference:C,floating:k,setReference:w,setFloating:b}),[w,b]),q=j.useMemo(()=>({reference:E,floating:S}),[E,S]),G=j.useMemo(()=>{const Y={position:r,left:0,top:0};if(!q.floating)return Y;const M=e9(q.floating,d.x),H=e9(q.floating,d.y);return l?{...Y,transform:"translate("+M+"px, "+H+"px)",...hZ(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:H}},[r,l,q.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:F,refs:z,elements:q,floatingStyles:G}),[d,F,z,q,G])}const ove=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?QB({element:n.current,padding:a}).fn(r):{}:n?QB({element:n,padding:a}).fn(r):{}}}},lve=(e,t)=>({...Jxe(e),options:[e,t]}),cve=(e,t)=>({...Zxe(e),options:[e,t]}),uve=(e,t)=>({...rve(e),options:[e,t]}),dve=(e,t)=>({...Qxe(e),options:[e,t]}),fve=(e,t)=>({...eve(e),options:[e,t]}),hve=(e,t)=>({...tve(e),options:[e,t]}),mve=(e,t)=>({...ove(e),options:[e,t]});var pve="Arrow",mZ=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Tt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});mZ.displayName=pve;var gve=mZ;function hw(e){const[t,r]=j.useState(void 0);return Ts(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mM="Popper",[pZ,Lf]=Vs(mM),[xve,gZ]=pZ(mM),xZ=e=>{const{__scopePopper:t,children:r}=e,[n,a]=j.useState(null);return s.jsx(xve,{scope:t,anchor:n,onAnchorChange:a,children:r})};xZ.displayName=mM;var vZ="PopperAnchor",yZ=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=gZ(vZ,r),o=j.useRef(null),l=Zt(t,o);return j.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(Tt.div,{...a,ref:l})});yZ.displayName=vZ;var pM="PopperContent",[vve,yve]=pZ(pM),bZ=j.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,v=gZ(pM,r),[_,w]=j.useState(null),b=Zt(t,se=>w(se)),[E,S]=j.useState(null),C=hw(E),k=C?.width??0,R=C?.height??0,P=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],D=A.length>0,F={padding:O,boundary:A.filter(wve),altBoundary:D},{refs:B,floatingStyles:z,placement:q,isPositioned:G,middlewareData:Y}=ive({strategy:"fixed",placement:P,whileElementsMounted:(...se)=>Xxe(...se,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[lve({mainAxis:a+R,alignmentAxis:o}),c&&cve({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uve():void 0,...F}),c&&dve({...F}),fve({...F,apply:({elements:se,rects:ue,availableWidth:W,availableHeight:ae})=>{const{width:oe,height:K}=ue.reference,be=se.floating.style;be.setProperty("--radix-popper-available-width",`${W}px`),be.setProperty("--radix-popper-available-height",`${ae}px`),be.setProperty("--radix-popper-anchor-width",`${oe}px`),be.setProperty("--radix-popper-anchor-height",`${K}px`)}}),E&&mve({element:E,padding:l}),_ve({arrowWidth:k,arrowHeight:R}),m&&hve({strategy:"referenceHidden",...F})]}),[M,H]=jZ(q),Z=Ss(y);Ts(()=>{G&&Z?.()},[G,Z]);const L=Y.arrow?.x,J=Y.arrow?.y,V=Y.arrow?.centerOffset!==0,[X,ne]=j.useState();return Ts(()=>{_&&ne(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:G?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(vve,{scope:r,placedSide:M,onArrowChange:S,arrowX:L,arrowY:J,shouldHideArrow:V,children:s.jsx(Tt.div,{"data-side":M,"data-align":H,...g,ref:b,style:{...g.style,animation:G?void 0:"none"}})})})});bZ.displayName=pM;var wZ="PopperArrow",bve={top:"bottom",right:"left",bottom:"top",left:"right"},_Z=j.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=yve(wZ,n),o=bve[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(gve,{...a,ref:r,style:{...a.style,display:"block"}})})});_Z.displayName=wZ;function wve(e){return e!==null}var _ve=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=jZ(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(a.arrow?.x??0)+l/2,p=(a.arrow?.y??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${m}px`,g=`${-c}px`):u==="top"?(y=o?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:y,y:g}}}});function jZ(e){const[t,r="center"]=e.split("-");return[t,r]}var r2=xZ,mw=yZ,n2=bZ,s2=_Z,[a2]=Vs("Tooltip",[Lf]),i2=Lf(),NZ="TooltipProvider",jve=700,TR="tooltip.open",[Nve,gM]=a2(NZ),SZ=e=>{const{__scopeTooltip:t,delayDuration:r=jve,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Nve,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};SZ.displayName=NZ;var My="Tooltip",[Sve,o2]=a2(My),kZ=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=gM(My,e.__scopeTooltip),u=i2(t),[d,f]=j.useState(null),m=uo(),p=j.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,v=j.useRef(!1),[_,w]=ji({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(TR))):c.onClose(),i?.(k)},caller:My}),b=j.useMemo(()=>_?v.current?"delayed-open":"instant-open":"closed",[_]),E=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,w(!0)},[w]),S=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),C=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,w(!0),p.current=0},g)},[g,w]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(r2,{...u,children:s.jsx(Sve,{scope:t,contentId:m,open:_,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?C():E()},[c.isOpenDelayedRef,C,E]),onTriggerLeave:j.useCallback(()=>{y?S():(window.clearTimeout(p.current),p.current=0)},[S,y]),onOpen:E,onClose:S,disableHoverableContent:y,children:r})})};kZ.displayName=My;var AR="TooltipTrigger",CZ=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=o2(AR,r),i=gM(AR,r),o=i2(r),l=j.useRef(null),c=Zt(t,l,a.onTriggerChange),u=j.useRef(!1),d=j.useRef(!1),f=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(mw,{asChild:!0,...o,children:s.jsx(Tt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:dt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:dt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:dt(e.onBlur,a.onClose),onClick:dt(e.onClick,a.onClose)})})});CZ.displayName=AR;var kve="TooltipPortal",[Dit,Cve]=a2(kve,{forceMount:void 0}),r0="TooltipContent",EZ=j.forwardRef((e,t)=>{const r=Cve(r0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=o2(r0,e.__scopeTooltip);return s.jsx(la,{present:n||o.open,children:o.disableHoverableContent?s.jsx(TZ,{side:a,...i,ref:t}):s.jsx(Eve,{side:a,...i,ref:t})})}),Eve=j.forwardRef((e,t)=>{const r=o2(r0,e.__scopeTooltip),n=gM(r0,e.__scopeTooltip),a=j.useRef(null),i=Zt(t,a),[o,l]=j.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,m=j.useCallback(()=>{l(null),f(!1)},[f]),p=j.useCallback((y,g)=>{const v=y.currentTarget,_={x:y.clientX,y:y.clientY},w=Rve(_,v.getBoundingClientRect()),b=Dve(_,w),E=Ive(g.getBoundingClientRect()),S=Fve([...b,...E]);l(S),f(!0)},[f]);return j.useEffect(()=>()=>m(),[m]),j.useEffect(()=>{if(c&&d){const y=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),j.useEffect(()=>{if(o){const y=g=>{const v=g.target,_={x:g.clientX,y:g.clientY},w=c?.contains(v)||d?.contains(v),b=!Mve(_,o);w?m():b&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,m]),s.jsx(TZ,{...e,ref:i})}),[Tve,Ave]=a2(My,{isInside:!1}),Pve=dJ("TooltipContent"),TZ=j.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=o2(r0,r),u=i2(r),{onClose:d}=c;return j.useEffect(()=>(document.addEventListener(TR,d),()=>document.removeEventListener(TR,d)),[d]),j.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(qm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(n2,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Pve,{children:n}),s.jsx(Tve,{scope:r,isInside:!0,children:s.jsx(age,{id:c.contentId,role:"tooltip",children:a||n})})]})})});EZ.displayName=r0;var AZ="TooltipArrow",Ove=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=i2(r);return Ave(AZ,r).isInside?null:s.jsx(s2,{...a,...n,ref:t})});Ove.displayName=AZ;function Rve(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Dve(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Ive(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Mve(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function Fve(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Lve(t)}function Lve(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var $ve=SZ,Bve=kZ,Uve=CZ,PZ=EZ;const Dh=$ve,fg=Bve,hg=Uve,Ih=j.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(PZ,{ref:n,sideOffset:t,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ih.displayName=PZ.displayName;var pw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dm=typeof window>"u"||"Deno"in globalThis;function io(){}function Vve(e,t){return typeof e=="function"?e(t):e}function PR(e){return typeof e=="number"&&e>=0&&e!==1/0}function OZ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function of(e,t){return typeof e=="function"?e(t):e}function gl(e,t){return typeof e=="function"?e(t):e}function t9(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==xM(o,t.options))return!1}else if(!Ly(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function r9(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Fy(t.options.mutationKey)!==Fy(i))return!1}else if(!Ly(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function xM(e,t){return(t?.queryKeyHashFn||Fy)(e)}function Fy(e){return JSON.stringify(e,(t,r)=>RR(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ly(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ly(e[r],t[r])):!1}function RZ(e,t){if(e===t)return e;const r=n9(e)&&n9(t);if(r||RR(e)&&RR(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=RZ(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function OR(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function n9(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function RR(e){if(!s9(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!s9(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function s9(e){return Object.prototype.toString.call(e)==="[object Object]"}function zve(e){return new Promise(t=>{setTimeout(t,e)})}function DR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?RZ(e,t):t}function qve(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Wve(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var vM=Symbol();function DZ(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===vM?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Hve(e,t){return typeof e=="function"?e(...t):!!e}var Gve=class extends pw{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!dm&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},yM=new Gve,Kve=class extends pw{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!dm&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},Gj=new Kve;function IR(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Yve(e){return Math.min(1e3*2**e,3e4)}function IZ(e){return(e??"online")==="online"?Gj.isOnline():!0}var MZ=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function FE(e){return e instanceof MZ}function FZ(e){let t=!1,r=0,n=!1,a;const i=IR(),o=g=>{n||(m(new MZ(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>yM.isFocused()&&(e.networkMode==="always"||Gj.isOnline())&&e.canRun(),d=()=>IZ(e.networkMode)&&e.canRun(),f=g=>{n||(n=!0,e.onSuccess?.(g),a?.(),i.resolve(g))},m=g=>{n||(n=!0,e.onError?.(g),a?.(),i.reject(g))},p=()=>new Promise(g=>{a=v=>{(n||u())&&g(v)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(f).catch(_=>{if(n)return;const w=e.retry??(dm?0:3),b=e.retryDelay??Yve,E=typeof b=="function"?b(r,_):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,_);if(t||!S){m(_);return}r++,e.onFail?.(r,_),zve(E).then(()=>u()?void 0:p()).then(()=>{t?m(_):y()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var Xve=e=>setTimeout(e,0);function Jve(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Xve;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ka=Jve(),LZ=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PR(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dm?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Zve=class extends LZ{#t;#e;#r;#n;#s;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Qve(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=DR(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(io).catch(io):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>gl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>of(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!OZ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const c=DZ(this.options,t),d=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{FE(c)&&c.silent||this.#a({type:"error",error:c}),FE(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=FZ({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$Z(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return FE(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ka.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function $Z(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IZ(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Qve(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var eye=class extends pw{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??xM(n,t);let i=this.get(a);return i||(i=new Zve({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ka.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>t9(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>t9(e,r)):t}notify(e){Ka.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ka.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ka.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tye=class extends LZ{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||rye(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=FZ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ka.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function rye(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nye=class extends pw{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new tye({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=p_(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=p_(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=p_(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=p_(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ka.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>r9(t,r))}findAll(e={}){return this.getAll().filter(t=>r9(e,t))}notify(e){Ka.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ka.batch(()=>Promise.all(e.map(t=>t.continue().catch(io))))}};function p_(e){return e.options.scope?.id}function a9(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=DZ(t.options,t.fetchOptions),p=async(y,g,v)=>{if(d)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const w=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return f(C),C})(),b=await m(w),{maxPages:E}=t.options,S=v?Wve:qve;return{pages:S(y.pages,b,E),pageParams:S(y.pageParams,g,E)}};if(a&&i.length){const y=a==="backward",g=y?sye:i9,v={pages:i,pageParams:o},_=g(n,v);l=await p(v,_,y)}else{const y=e??i.length;do{const g=c===0?o[0]??n.initialPageParam:i9(n,l);if(c>0&&g==null)break;l=await p(l,g),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function i9(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function sye(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var aye=class{#t;#e;#r;#n;#s;#o;#i;#a;constructor(e={}){this.#t=e.queryCache||new eye,this.#e=e.mutationCache||new nye,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=yM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Gj.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(of(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,o=Vve(t,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ka.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Ka.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Ka.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ka.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(io).catch(io)}invalidateQueries(e,t={}){return Ka.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ka.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(io)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(io)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(of(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(io).catch(io)}fetchInfiniteQuery(e){return e.behavior=a9(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(io).catch(io)}ensureInfiniteQueryData(e){return e.behavior=a9(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gj.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Fy(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ly(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#s.set(Fy(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{Ly(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xM(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===vM&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},iye=class extends pw{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=IR(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#o;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),o9(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return MR(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return MR(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gl(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!OR(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&l9(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||gl(this.options.enabled,this.#e)!==gl(t.enabled,this.#e)||of(this.options.staleTime,this.#e)!==of(t.staleTime,this.#e))&&this.#g();const a=this.#x();n&&(this.#e!==r||gl(this.options.enabled,this.#e)!==gl(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return lye(this,r)&&(this.#n=r,this.#o=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(io)),t}#g(){this.#b();const e=of(this.options.staleTime,this.#e);if(dm||this.#n.isStale||!PR(e))return;const r=OZ(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(dm||gl(this.options.enabled,this.#e)===!1||!PR(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||yM.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#n,i=this.#s,o=this.#o,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},f=!1,m;if(t._optimisticResults){const R=this.hasListeners(),P=!R&&o9(e,t),O=R&&l9(e,r,t,n);(P||O)&&(d={...d,...$Z(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:g}=d;m=d.data;let v=!1;if(t.placeholderData!==void 0&&m===void 0&&g==="pending"){let R;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(R=a.data,v=!0):R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,R!==void 0&&(g="success",m=DR(a?.data,R,t),f=!0)}if(t.select&&m!==void 0&&!v)if(a&&m===i?.data&&t.select===this.#p)m=this.#f;else try{this.#p=t.select,m=t.select(m),m=DR(a?.data,m,t),this.#f=m,this.#a=null}catch(R){this.#a=R}this.#a&&(p=this.#a,m=this.#f,y=Date.now(),g="error");const _=d.fetchStatus==="fetching",w=g==="pending",b=g==="error",E=w&&_,S=m!==void 0,k={status:g,fetchStatus:d.fetchStatus,isPending:w,isSuccess:g==="success",isError:b,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:b&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&S,isStale:bM(e,t),refetch:this.refetch,promise:this.#i,isEnabled:gl(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=A=>{k.status==="error"?A.reject(k.error):k.data!==void 0&&A.resolve(k.data)},P=()=>{const A=this.#i=k.promise=IR();R(A)},O=this.#i;switch(O.status){case"pending":e.queryHash===r.queryHash&&R(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&P();break}}return k}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#e),OR(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){Ka.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function oye(e,t){return gl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function o9(e,t){return oye(e,t)||e.state.data!==void 0&&MR(e,t,t.refetchOnMount)}function MR(e,t,r){if(gl(t.enabled,e)!==!1&&of(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&bM(e,t)}return!1}function l9(e,t,r,n){return(e!==t||gl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&bM(e,r)}function bM(e,t){return gl(t.enabled,e)!==!1&&e.isStaleByTime(of(t.staleTime,e))}function lye(e,t){return!OR(e.getCurrentResult(),t)}var BZ=j.createContext(void 0),cye=e=>{const t=j.useContext(BZ);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uye=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(BZ.Provider,{value:e,children:t})),UZ=j.createContext(!1),dye=()=>j.useContext(UZ);UZ.Provider;function fye(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hye=j.createContext(fye()),mye=()=>j.useContext(hye),pye=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},gye=e=>{j.useEffect(()=>{e.clearReset()},[e])},xye=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Hve(r,[e.error,n])),vye=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},yye=(e,t)=>e.isLoading&&e.isFetching&&!t,bye=(e,t)=>e?.suspense&&t.isPending,c9=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function wye(e,t,r){const n=dye(),a=mye(),i=cye(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",vye(o),pye(o,a),gye(a);const l=!i.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(f=>{const m=d?c.subscribe(Ka.batchCalls(f)):io;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o)},[o,c]),bye(o,u))throw c9(o,c,a);if(xye({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!dm&&yye(u,n)&&(l?c9(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(io).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function _ye(e,t){return wye(e,iye)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}var Yd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yd||(Yd={}));const u9="popstate";function jye(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return FR("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Kj(a)}return Sye(t,r,null,e)}function Bs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function VZ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nye(){return Math.random().toString(36).substr(2,8)}function d9(e,t){return{usr:e.state,key:e.key,idx:t}}function FR(e,t,r,n){return r===void 0&&(r=null),$y({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nx(t):t,{state:r,key:t&&t.key||n||Nye()})}function Kj(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nx(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Sye(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Yd.Pop,c=null,u=d();u==null&&(u=0,o.replaceState($y({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Yd.Pop;let v=d(),_=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:_})}function m(v,_){l=Yd.Push;let w=FR(g.location,v,_);u=d()+1;let b=d9(w,u),E=g.createHref(w);try{o.pushState(b,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(E)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,_){l=Yd.Replace;let w=FR(g.location,v,_);u=d();let b=d9(w,u),E=g.createHref(w);o.replaceState(b,"",E),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let _=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:Kj(v);return w=w.replace(/ $/,"%20"),Bs(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(u9,f),c=v,()=>{a.removeEventListener(u9,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let _=y(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(v){return o.go(v)}};return g}var f9;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(f9||(f9={}));function kye(e,t,r){return r===void 0&&(r="/"),Cye(e,t,r)}function Cye(e,t,r,n){let a=typeof t=="string"?nx(t):t,i=wM(a.pathname||"/",r);if(i==null)return null;let o=zZ(e);Eye(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Bye(i);l=Fye(o[c],u)}return l}function zZ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Bs(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=lf([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Bs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zZ(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Iye(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of qZ(i.path))a(i,o,c)}),t}function qZ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=qZ(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Eye(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Mye(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Tye=/^:[\w-]+$/,Aye=3,Pye=2,Oye=1,Rye=10,Dye=-2,h9=e=>e==="*";function Iye(e,t){let r=e.split("/"),n=r.length;return r.some(h9)&&(n+=Dye),t&&(n+=Pye),r.filter(a=>!h9(a)).reduce((a,i)=>a+(Tye.test(i)?Aye:i===""?Oye:Rye),n)}function Mye(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Fye(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Lye({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:lf([i,f.pathname]),pathnameBase:qye(lf([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=lf([i,f.pathnameBase]))}return o}function Lye(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$ye(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function $ye(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),VZ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Bye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return VZ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wM(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Uye(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?nx(e):e;return{pathname:r?r.startsWith("/")?r:Vye(r,t):t,search:Wye(n),hash:Hye(a)}}function Vye(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function LE(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zye(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _M(e,t){let r=zye(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jM(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=nx(e):(a=$y({},e),Bs(!a.pathname||!a.pathname.includes("?"),LE("?","pathname","search",a)),Bs(!a.pathname||!a.pathname.includes("#"),LE("#","pathname","hash",a)),Bs(!a.search||!a.search.includes("#"),LE("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Uye(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const lf=e=>e.join("/").replace(/\/\/+/g,"/"),qye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const WZ=["post","put","patch","delete"];new Set(WZ);const Kye=["get",...WZ];new Set(Kye);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}const NM=j.createContext(null),Yye=j.createContext(null),$f=j.createContext(null),l2=j.createContext(null),au=j.createContext({outlet:null,matches:[],isDataRoute:!1}),HZ=j.createContext(null);function Xye(e,t){let{relative:r}=t===void 0?{}:t;sx()||Bs(!1);let{basename:n,navigator:a}=j.useContext($f),{hash:i,pathname:o,search:l}=KZ(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:lf([n,o])),a.createHref({pathname:c,search:l,hash:i})}function sx(){return j.useContext(l2)!=null}function iu(){return sx()||Bs(!1),j.useContext(l2).location}function GZ(e){j.useContext($f).static||j.useLayoutEffect(e)}function xr(){let{isDataRoute:e}=j.useContext(au);return e?dbe():Jye()}function Jye(){sx()||Bs(!1);let e=j.useContext(NM),{basename:t,future:r,navigator:n}=j.useContext($f),{matches:a}=j.useContext(au),{pathname:i}=iu(),o=JSON.stringify(_M(a,r.v7_relativeSplatPath)),l=j.useRef(!1);return GZ(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=jM(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:lf([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Zye=j.createContext(null);function Qye(e){let t=j.useContext(au).outlet;return t&&j.createElement(Zye.Provider,{value:e},t)}function sd(){let{matches:e}=j.useContext(au),t=e[e.length-1];return t?t.params:{}}function KZ(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext($f),{matches:a}=j.useContext(au),{pathname:i}=iu(),o=JSON.stringify(_M(a,n.v7_relativeSplatPath));return j.useMemo(()=>jM(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function ebe(e,t){return tbe(e,t)}function tbe(e,t,r,n){sx()||Bs(!1);let{navigator:a}=j.useContext($f),{matches:i}=j.useContext(au),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=iu(),d;if(t){var f;let v=typeof t=="string"?nx(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Bs(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=kye(e,{pathname:p}),g=ibe(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:lf([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:lf([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?j.createElement(l2.Provider,{value:{location:By({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yd.Pop}},g):g}function rbe(){let e=ube(),t=Gye(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,null)}const nbe=j.createElement(rbe,null);class sbe extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(au.Provider,{value:this.props.routeContext},j.createElement(HZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function abe(e){let{routeContext:t,match:r,children:n}=e,a=j.useContext(NM);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(au.Provider,{value:t},n)}function ibe(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||Bs(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,y=!1,g=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||nbe,c&&(u<0&&m===0?(fbe("route-fallback"),y=!0,v=null):u===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,m+1)),w=()=>{let b;return p?b=g:y?b=v:f.route.Component?b=j.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,j.createElement(abe,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(sbe,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var YZ=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(YZ||{}),XZ=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(XZ||{});function obe(e){let t=j.useContext(NM);return t||Bs(!1),t}function lbe(e){let t=j.useContext(Yye);return t||Bs(!1),t}function cbe(e){let t=j.useContext(au);return t||Bs(!1),t}function JZ(e){let t=cbe(),r=t.matches[t.matches.length-1];return r.route.id||Bs(!1),r.route.id}function ube(){var e;let t=j.useContext(HZ),r=lbe(),n=JZ();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dbe(){let{router:e}=obe(YZ.UseNavigateStable),t=JZ(XZ.UseNavigateStable),r=j.useRef(!1);return GZ(()=>{r.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,By({fromRouteId:t},i)))},[e,t])}const m9={};function fbe(e,t,r){m9[e]||(m9[e]=!0)}function hbe(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function mbe(e){let{to:t,replace:r,state:n,relative:a}=e;sx()||Bs(!1);let{future:i,static:o}=j.useContext($f),{matches:l}=j.useContext(au),{pathname:c}=iu(),u=xr(),d=jM(t,_M(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function pbe(e){return Qye(e.context)}function Ot(e){Bs(!1)}function gbe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Yd.Pop,navigator:i,static:o=!1,future:l}=e;sx()&&Bs(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:o,future:By({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=nx(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,g=j.useMemo(()=>{let v=wM(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:y},navigationType:a}},[c,d,f,m,p,y,a]);return g==null?null:j.createElement($f.Provider,{value:u},j.createElement(l2.Provider,{children:r,value:g}))}function xbe(e){let{children:t,location:r}=e;return ebe(LR(t),r)}new Promise(()=>{});function LR(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let i=[...t,a];if(n.type===j.Fragment){r.push.apply(r,LR(n.props.children,i));return}n.type!==Ot&&Bs(!1),!n.props.index||!n.props.children||Bs(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=LR(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $R(){return $R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$R.apply(this,arguments)}function vbe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ybe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bbe(e,t){return e.button===0&&(!t||t==="_self")&&!ybe(e)}function BR(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function wbe(e,t){let r=BR(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const _be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jbe="6";try{window.__reactRouterVersion=jbe}catch{}const Nbe="startTransition",p9=K3[Nbe];function Sbe(e){let{basename:t,children:r,future:n,window:a}=e,i=j.useRef();i.current==null&&(i.current=jye({window:a,v5Compat:!0}));let o=i.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=j.useCallback(f=>{u&&p9?p9(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>hbe(n),[n]),j.createElement(gbe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const kbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cbe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kt=j.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=vbe(t,_be),{basename:p}=j.useContext($f),y,g=!1;if(typeof u=="string"&&Cbe.test(u)&&(y=u,kbe))try{let b=new URL(window.location.href),E=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=wM(E.pathname,p);E.origin===b.origin&&S!=null?u=S+E.search+E.hash:g=!0}catch{}let v=Xye(u,{relative:a}),_=Ebe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||_(b)}return j.createElement("a",$R({},m,{href:y||v,onClick:g||i?n:w,ref:r,target:c}))});var g9;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(g9||(g9={}));var x9;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(x9||(x9={}));function Ebe(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=xr(),u=iu(),d=KZ(e,{relative:o});return j.useCallback(f=>{if(bbe(f,r)){f.preventDefault();let m=n!==void 0?n:Kj(u)===Kj(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function gw(e){let t=j.useRef(BR(e)),r=j.useRef(!1),n=iu(),a=j.useMemo(()=>wbe(n.search,r.current?null:t.current),[n.search]),i=xr(),o=j.useCallback((l,c)=>{const u=BR(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const SM="shopping_cart",c2=()=>{const e=localStorage.getItem(SM);return e?JSON.parse(e):[]},kM=e=>{localStorage.setItem(SM,JSON.stringify(e))},Tbe=e=>{const t=c2(),r=t.findIndex(n=>n.productId===e.productId&&n.variant===e.variant);return r>-1?t[r].quantity+=e.quantity:t.push(e),kM(t),t},Abe=(e,t,r)=>{const n=c2(),a=n.findIndex(i=>i.productId===e&&i.variant===t);return a>-1&&(r<=0?n.splice(a,1):n[a].quantity=r),kM(n),n},Pbe=(e,t)=>{const r=c2().filter(n=>!(n.productId===e&&n.variant===t));return kM(r),r},Obe=()=>{localStorage.removeItem(SM)},Rbe=e=>e.reduce((t,r)=>t+r.price*r.quantity,0),Dbe=e=>e.reduce((t,r)=>t+r.quantity,0),Ibe=({animationState:e,onComplete:t})=>{const[r,n]=j.useState(!1),{imageSrc:a,startRect:i,endRect:o}=e;j.useEffect(()=>{const u=setTimeout(()=>{n(!0)},10),d=setTimeout(()=>{t()},1500);return()=>{clearTimeout(u),clearTimeout(d)}},[t]);const l={position:"fixed",top:i.top,left:i.left,width:i.width,height:i.height,zIndex:9999,pointerEvents:"none",transition:"all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)",borderRadius:"8px",objectFit:"cover"},c={...l,top:o.top+o.height/2,left:o.left+o.width/2,width:0,height:0,transform:"rotate(360deg) scale(0.1)",opacity:.5};return s.jsx("img",{src:a,alt:"Flying product",style:r?c:l})},ZZ=j.createContext(void 0),Mbe=({children:e})=>{const[t,r]=j.useState([]),[n,a]=j.useState(null);j.useEffect(()=>{r(c2())},[]);const i=p=>{const y=Tbe(p);r(y)},o=(p,y)=>{const g=y.getBoundingClientRect(),v=document.querySelector("[data-cart-icon]");if(!v){console.warn("Cart icon not found for animation");return}const _=v.getBoundingClientRect();a({imageSrc:p,startRect:g,endRect:_})},l=()=>{a(null)},c=(p,y,g)=>{const v=Abe(p,y,g);r(v)},u=(p,y)=>{const g=Pbe(p,y);r(g)},d=()=>{Obe(),r([])},f=Dbe(t),m=Rbe(t);return s.jsxs(ZZ.Provider,{value:{cart:t,cartCount:f,cartTotal:m,addToCart:i,updateQuantity:c,removeItem:u,clearCart:d,triggerFlyAnimation:o},children:[e,n&&s.jsx(Ibe,{animationState:n,onComplete:l})]})},u2=()=>{const e=j.useContext(ZZ);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};var $E,v9;function Fbe(){if(v9)return $E;v9=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(i[c],o[c]))return!1;return!0}var d;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=i.entries();!(c=d.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(e&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!a(i[u[c]],o[u[c]]))return!1;return!0}return i!==i&&o!==o}return $E=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},$E}var Lbe=Fbe();const $be=Zr(Lbe);var BE,y9;function Bbe(){if(y9)return BE;y9=1;var e=function(t,r,n,a,i,o,l,c){if(!t){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,i,o,l,c],f=0;u=new Error(r.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return BE=e,BE}var Ube=Bbe();const b9=Zr(Ube);var UE,w9;function Vbe(){return w9||(w9=1,UE=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],m=r[d];if(i=n?n.call(a,f,m,d):void 0,i===!1||i===void 0&&f!==m)return!1}return!0}),UE}var zbe=Vbe();const qbe=Zr(zbe);var QZ=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(QZ||{}),VE={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},_9=Object.values(QZ),CM={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Wbe=Object.entries(CM).reduce((e,[t,r])=>(e[r]=t,e),{}),sc="data-rh",Dg={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ig=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},Hbe=e=>{let t=Ig(e,"title");const r=Ig(e,Dg.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Ig(e,Dg.DEFAULT_TITLE);return t||n||void 0},Gbe=e=>Ig(e,Dg.ON_CHANGE_CLIENT_STATE)||(()=>{}),zE=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),Kbe=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),Ybe=e=>console&&typeof console.warn=="function"&&console.warn(e),iv=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&Ybe(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const p=d[m],y=p.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},Xbe=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},Jbe=e=>({baseTag:Kbe(["href"],e),bodyAttributes:zE("bodyAttributes",e),defer:Ig(e,Dg.DEFER),encode:Ig(e,Dg.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:zE("htmlAttributes",e),linkTags:iv("link",["rel","href"],e),metaTags:iv("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:iv("noscript",["innerHTML"],e),onChangeClientState:Gbe(e),scriptTags:iv("script",["src","innerHTML"],e),styleTags:iv("style",["cssText"],e),title:Hbe(e),titleAttributes:zE("titleAttributes",e),prioritizeSeoTags:Xbe(e,Dg.PRIORITIZE_SEO_TAGS)}),eQ=e=>Array.isArray(e)?e.join(""):e,Zbe=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},qE=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(Zbe(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},j9=(e,t)=>({...e,[t]:void 0}),Qbe=["noscript","script","style"],UR=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),tQ=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),ewe=(e,t,r,n)=>{const a=tQ(r),i=eQ(t);return a?`<${e} ${sc}="true" ${a}>${UR(i,n)}</${e}>`:`<${e} ${sc}="true">${UR(i,n)}</${e}>`},twe=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof i[d]>"u"?d:`${d}="${UR(i[d],r)}"`;return u?`${u} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=Qbe.indexOf(e)===-1;return`${n}<${e} ${sc}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),rQ=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=CM[n];return r[a||n]=e[n],r},t),rwe=(e,t,r)=>{const n={key:t,[sc]:!0},a=rQ(r,n);return[le.createElement("title",a,t)]},xj=(e,t)=>t.map((r,n)=>{const a={key:n,[sc]:!0};return Object.keys(r).forEach(i=>{const l=CM[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),le.createElement(e,a)}),hl=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>rwe(e,t.title,t.titleAttributes),toString:()=>ewe(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>rQ(t),toString:()=>tQ(t)};default:return{toComponent:()=>xj(e,t),toString:()=>twe(e,t,r)}}},nwe=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=qE(e,VE.meta),i=qE(t,VE.link),o=qE(r,VE.script);return{priorityMethods:{toComponent:()=>[...xj("meta",a.priority),...xj("link",i.priority),...xj("script",o.priority)],toString:()=>`${hl("meta",a.priority,n)} ${hl("link",i.priority,n)} ${hl("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},swe=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:m}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:m}=nwe(e)),{priority:p,base:hl("base",t,n),bodyAttributes:hl("bodyAttributes",r,n),htmlAttributes:hl("htmlAttributes",a,n),link:hl("link",d,n),meta:hl("meta",f,n),noscript:hl("noscript",i,n),script:hl("script",m,n),style:hl("style",o,n),title:hl("title",{title:l,titleAttributes:c},n)}},VR=swe,g_=[],nQ=!!(typeof window<"u"&&window.document&&window.document.createElement),zR=class{instances=[];canUseDOM=nQ;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?g_:this.instances,add:e=>{(this.canUseDOM?g_:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?g_:this.instances).indexOf(e);(this.canUseDOM?g_:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=VR({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},awe={},sQ=le.createContext(awe),aQ=class iQ extends j.Component{static canUseDOM=nQ;helmetData;constructor(t){super(t),this.helmetData=new zR(this.props.context||{},iQ.canUseDOM)}render(){return le.createElement(sQ.Provider,{value:this.helmetData.value},this.props.children)}},Op=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${sc}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(sc,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):i.push(c)}),a.forEach(l=>l.parentNode?.removeChild(l)),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},qR=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(sc),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(sc):r.getAttribute(sc)!==o.join(",")&&r.setAttribute(sc,o.join(","))},iwe=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=eQ(e)),qR("title",t)},N9=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:m}=e;qR("body",n),qR("html",a),iwe(f,m);const p={baseTag:Op("base",r),linkTags:Op("link",i),metaTags:Op("meta",o),noscriptTags:Op("noscript",l),scriptTags:Op("script",u),styleTags:Op("style",d)},y={},g={};Object.keys(p).forEach(v=>{const{newTags:_,oldTags:w}=p[v];_.length&&(y[v]=_),w.length&&(g[v]=p[v].oldTags)}),t&&t(),c(e,y,g)},ov=null,owe=e=>{ov&&cancelAnimationFrame(ov),e.defer?ov=requestAnimationFrame(()=>{N9(e,()=>{ov=null})}):(N9(e),ov=null)},lwe=owe,S9=class extends j.Component{rendered=!1;shouldComponentUpdate(e){return!qbe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=Jbe(e.get().map(a=>{const i={...a.props};return delete i.context,i}));aQ.canUseDOM?lwe(n):VR&&(r=VR(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},EM=class extends j.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!$be(j9(this.props,"helmetData"),j9(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return b9(_9.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${_9.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),b9(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return le.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,u)=>(c[Wbe[u]||u]=i[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof zR)){const a=n;n=new zR(a.context,!0),delete r.helmetData}return n?le.createElement(S9,{...r,context:n.value}):le.createElement(sQ.Consumer,null,a=>le.createElement(S9,{...r,context:a}))}};function cwe(){const{pathname:e}=iu();return j.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const vj="digitaldukandar.in",k9=window.location.protocol;function d2(){const e=window.location.hostname;if(e.endsWith(".lovable.app")||e.endsWith(".lovableproject.com"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(".localhost")){const t=e.replace(".localhost","");return["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}if(e==="localhost"||e.startsWith("127.0.0.1"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(`.${vj}`)){const t=e.replace(`.${vj}`,"");return t===""||t==="www"?{type:"main",isStoreSpecific:!1}:["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}return e===vj?{type:"main",isStoreSpecific:!1}:{type:"custom",customDomain:e,isStoreSpecific:!0}}function oQ(){const e=d2();return e.isStoreSpecific&&(e.subdomain||e.customDomain)||null}function uwe(e,t){return t?`${k9}//${t}`:`${k9}//${e}.${vj}`}function Qc(){return d2().isStoreSpecific}const f2=Z0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?cJ:"button";return s.jsx(o,{className:ut(f2({variant:t,size:r,className:e})),ref:i,...a})});ie.displayName="Button";const Se=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Se.displayName="Card";const Ze=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("flex flex-col space-y-1.5 p-6",e),...t}));Ze.displayName="CardHeader";const Qe=j.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ut("text-2xl font-semibold leading-none tracking-tight",e),...t}));Qe.displayName="CardTitle";const Ir=j.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));Ir.displayName="CardDescription";const Te=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("p-6 pt-0",e),...t}));Te.displayName="CardContent";const lQ=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("flex items-center p-6 pt-0",e),...t}));lQ.displayName="CardFooter";function Nu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Vo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},n0={duration:.5,overwrite:!1,delay:0},TM,Za,as,_l=1e8,In=1/_l,WR=Math.PI*2,dwe=WR/4,fwe=0,uQ=Math.sqrt,hwe=Math.cos,mwe=Math.sin,$a=function(t){return typeof t=="string"},ks=function(t){return typeof t=="function"},Ku=function(t){return typeof t=="number"},AM=function(t){return typeof t>"u"},eu=function(t){return typeof t=="object"},fo=function(t){return t!==!1},PM=function(){return typeof window<"u"},x_=function(t){return ks(t)||$a(t)},dQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},bi=Array.isArray,pwe=/random\([^)]+\)/g,gwe=/,\s*/g,C9=/(?:-?\.?\d|\.)+/gi,fQ=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,mg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,WE=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,hQ=/[+-]=-?[.\d]+/,xwe=/[^,'"\[\]\s]+/gi,vwe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fs,Rc,HR,OM,Ho={},Yj={},mQ,pQ=function(t){return(Yj=s0(t,Ho))&&xo},RM=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},Uy=function(t,r){return!r&&console.warn(t)},gQ=function(t,r){return t&&(Ho[t]=r)&&Yj&&(Yj[t]=r)||Ho},Vy=function(){return 0},ywe={suppressEvents:!0,isStart:!0,kill:!1},yj={suppressEvents:!0,kill:!1},bwe={suppressEvents:!0},DM={},cf=[],GR={},xQ,To={},HE={},E9=30,bj=[],IM="",MM=function(t){var r=t[0],n,a;if(eu(r)||ks(r)||(t=[t]),!(n=(r._gsap||{}).harness)){for(a=bj.length;a--&&!bj[a].targetTest(r););n=bj[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new UQ(t[a],n)))||t.splice(a,1);return t},Gh=function(t){return t._gsap||MM(jl(t))[0]._gsap},vQ=function(t,r,n){return(n=t[r])&&ks(n)?t[r]():AM(n)&&t.getAttribute&&t.getAttribute(r)||n},ho=function(t,r){return(t=t.split(",")).forEach(r)||t},Ms=function(t){return Math.round(t*1e5)/1e5||0},ds=function(t){return Math.round(t*1e7)/1e7||0},Mg=function(t,r){var n=r.charAt(0),a=parseFloat(r.substr(2));return t=parseFloat(t),n==="+"?t+a:n==="-"?t-a:n==="*"?t*a:t/a},wwe=function(t,r){for(var n=r.length,a=0;t.indexOf(r[a])<0&&++a<n;);return a<n},Xj=function(){var t=cf.length,r=cf.slice(0),n,a;for(GR={},cf.length=0,n=0;n<t;n++)a=r[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},FM=function(t){return!!(t._initted||t._startAt||t.add)},yQ=function(t,r,n,a){cf.length&&!Za&&Xj(),t.render(r,n,!!(Za&&r<0&&FM(t))),cf.length&&!Za&&Xj()},bQ=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(xwe).length<2?r:$a(t)?t.trim():t},wQ=function(t){return t},Go=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},_we=function(t){return function(r,n){for(var a in n)a in r||a==="duration"&&t||a==="ease"||(r[a]=n[a])}},s0=function(t,r){for(var n in r)t[n]=r[n];return t},T9=function e(t,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=eu(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},Jj=function(t,r){var n={},a;for(a in t)a in r||(n[a]=t[a]);return n},Yv=function(t){var r=t.parent||fs,n=t.keyframes?_we(bi(t.keyframes)):Go;if(fo(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},jwe=function(t,r){for(var n=t.length,a=n===r.length;a&&n--&&t[n]===r[n];);return n<0},_Q=function(t,r,n,a,i){var o=t[a],l;if(i)for(l=r[i];o&&o[i]>l;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=t[n],t[n]=r),r._next?r._next._prev=r:t[a]=r,r._prev=o,r.parent=r._dp=t,r},h2=function(t,r,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var i=r._prev,o=r._next;i?i._next=o:t[n]===r&&(t[n]=o),o?o._prev=i:t[a]===r&&(t[a]=i),r._next=r._prev=r.parent=null},kf=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Kh=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Nwe=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},KR=function(t,r,n,a){return t._startAt&&(Za?t._startAt.revert(yj):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,a))},Swe=function e(t){return!t||t._ts&&e(t.parent)},A9=function(t){return t._repeat?a0(t._tTime,t=t.duration()+t._rDelay)*t:0},a0=function(t,r){var n=Math.floor(t=ds(t/r));return t&&n===t?n-1:n},Zj=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},m2=function(t){return t._end=ds(t._start+(t._tDur/Math.abs(t._ts||t._rts||In)||0))},p2=function(t,r){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=ds(n._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),m2(t),n._dirty||Kh(n,t)),t},jQ=function(t,r){var n;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(n=Zj(t.rawTime(),r),(!r._dur||xw(0,r.totalDuration(),n)-r._tTime>In)&&r.render(n,!0)),Kh(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-In}},Ic=function(t,r,n,a){return r.parent&&kf(r),r._start=ds((Ku(n)?n:n||t!==fs?dl(t,n,r):t._time)+r._delay),r._end=ds(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),_Q(t,r,"_first","_last",t._sort?"_start":0),YR(r)||(t._recent=r),a||jQ(t,r),t._ts<0&&p2(t,t._tTime),t},NQ=function(t,r){return(Ho.ScrollTrigger||RM("scrollTrigger",r))&&Ho.ScrollTrigger.create(r,t)},SQ=function(t,r,n,a,i){if($M(t,r,i),!t._initted)return 1;if(!n&&t._pt&&!Za&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&xQ!==Do.frame)return cf.push(t),t._lazy=[i,a],1},kwe=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},YR=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},Cwe=function(t,r,n,a){var i=t.ratio,o=r<0||!r&&(!t._start&&kwe(t)&&!(!t._initted&&YR(t))||(t._ts<0||t._dp._ts<0)&&!YR(t))?0:1,l=t._rDelay,c=0,u,d,f;if(l&&t._repeat&&(c=xw(0,t._tDur,r),d=a0(c,l),t._yoyo&&d&1&&(o=1-o),d!==a0(t._tTime,l)&&(i=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==i||Za||a||t._zTime===In||!r&&t._zTime){if(!t._initted&&SQ(t,r,a,n,c))return;for(f=t._zTime,t._zTime=r||(n?In:0),n||(n=r&&!f),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=c,u=t._pt;u;)u.r(o,u.d),u=u._next;r<0&&KR(t,r,n,!0),t._onUpdate&&!n&&$o(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&$o(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===o&&(o&&kf(t,1),!n&&!Za&&($o(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},Ewe=function(t,r,n){var a;if(n>r)for(a=t._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=t._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},i0=function(t,r,n,a){var i=t._repeat,o=ds(r)||0,l=t._tTime/t._tDur;return l&&!a&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:ds(o*(i+1)+t._rDelay*i):o,l>0&&!a&&p2(t,t._tTime=t._tDur*l),t.parent&&m2(t),n||Kh(t.parent,t),t},P9=function(t){return t instanceof Fi?Kh(t):i0(t,t._dur)},Twe={_start:0,endTime:Vy,totalDuration:Vy},dl=function e(t,r,n){var a=t.labels,i=t._recent||Twe,o=t.duration()>=_l?i.endTime(!1):t._dur,l,c,u;return $a(r)&&(isNaN(r)||r in a)?(c=r.charAt(0),u=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(l<0?i:n).totalDuration()/100:1)):l<0?(r in a||(a[r]=o),a[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),u&&n&&(c=c/100*(bi(n)?n[0]:n).totalDuration()),l>1?e(t,r.substr(0,l-1),n)+c:o+c)):r==null?o:+r},Xv=function(t,r,n){var a=Ku(r[1]),i=(a?2:1)+(t<2?0:1),o=r[i],l,c;if(a&&(o.duration=r[1]),o.parent=n,t){for(l=o,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=fo(c.vars.inherit)&&c.parent;o.immediateRender=fo(l.immediateRender),t<2?o.runBackwards=1:o.startAt=r[i-1]}return new ta(r[0],o,r[i+1])},Bf=function(t,r){return t||t===0?r(t):r},xw=function(t,r,n){return n<t?t:n>r?r:n},pi=function(t,r){return!$a(t)||!(r=vwe.exec(t))?"":r[1]},Awe=function(t,r,n){return Bf(n,function(a){return xw(t,r,a)})},XR=[].slice,kQ=function(t,r){return t&&eu(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&eu(t[0]))&&!t.nodeType&&t!==Rc},Pwe=function(t,r,n){return n===void 0&&(n=[]),t.forEach(function(a){var i;return $a(a)&&!r||kQ(a,1)?(i=n).push.apply(i,jl(a)):n.push(a)})||n},jl=function(t,r,n){return as&&!r&&as.selector?as.selector(t):$a(t)&&!n&&(HR||!o0())?XR.call((r||OM).querySelectorAll(t),0):bi(t)?Pwe(t,n):kQ(t)?XR.call(t,0):t?[t]:[]},JR=function(t){return t=jl(t)[0]||Uy("Invalid scope")||{},function(r){var n=t.current||t.nativeElement||t;return jl(r,n.querySelectorAll?n:n===t?Uy("Invalid scope")||OM.createElement("div"):t)}},CQ=function(t){return t.sort(function(){return .5-Math.random()})},EQ=function(t){if(ks(t))return t;var r=eu(t)?t:{each:t},n=Yh(r.ease),a=r.from||0,i=parseFloat(r.base)||0,o={},l=a>0&&a<1,c=isNaN(a)||l,u=r.axis,d=a,f=a;return $a(a)?d=f={center:.5,edges:.5,end:1}[a]||0:!l&&c&&(d=a[0],f=a[1]),function(m,p,y){var g=(y||r).length,v=o[g],_,w,b,E,S,C,k,R,P;if(!v){if(P=r.grid==="auto"?0:(r.grid||[1,_l])[1],!P){for(k=-_l;k<(k=y[P++].getBoundingClientRect().left)&&P<g;);P<g&&P--}for(v=o[g]=[],_=c?Math.min(P,g)*d-.5:a%P,w=P===_l?0:c?g*f/P-.5:a/P|0,k=0,R=_l,C=0;C<g;C++)b=C%P-_,E=w-(C/P|0),v[C]=S=u?Math.abs(u==="y"?E:b):uQ(b*b+E*E),S>k&&(k=S),S<R&&(R=S);a==="random"&&CQ(v),v.max=k-R,v.min=R,v.v=g=(parseFloat(r.amount)||parseFloat(r.each)*(P>g?g-1:u?u==="y"?g/P:P:Math.max(P,g/P))||0)*(a==="edges"?-1:1),v.b=g<0?i-g:i,v.u=pi(r.amount||r.each)||0,n=n&&g<0?LQ(n):n}return g=(v[m]-v.min)/v.max||0,ds(v.b+(n?n(g):g)*v.v)+v.u}},ZR=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var a=ds(Math.round(parseFloat(n)/t)*t*r);return(a-a%1)/r+(Ku(n)?0:pi(n))}},TQ=function(t,r){var n=bi(t),a,i;return!n&&eu(t)&&(a=n=t.radius||_l,t.values?(t=jl(t.values),(i=!Ku(t[0]))&&(a*=a)):t=ZR(t.increment)),Bf(r,n?ks(t)?function(o){return i=t(o),Math.abs(i-o)<=a?i:o}:function(o){for(var l=parseFloat(i?o.x:o),c=parseFloat(i?o.y:0),u=_l,d=0,f=t.length,m,p;f--;)i?(m=t[f].x-l,p=t[f].y-c,m=m*m+p*p):m=Math.abs(t[f]-l),m<u&&(u=m,d=f);return d=!a||u<=a?t[d]:o,i||d===o||Ku(o)?d:d+pi(o)}:ZR(t))},AQ=function(t,r,n,a){return Bf(bi(t)?!r:n===!0?!!(n=0):!a,function(){return bi(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(r-t+n*.99))/n)*n*a)/a})},Owe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduce(function(i,o){return o(i)},a)}},Rwe=function(t,r){return function(n){return t(parseFloat(n))+(r||pi(n))}},Dwe=function(t,r,n){return OQ(t,r,0,1,n)},PQ=function(t,r,n){return Bf(n,function(a){return t[~~r(a)]})},Iwe=function e(t,r,n){var a=r-t;return bi(t)?PQ(t,e(0,t.length),r):Bf(n,function(i){return(a+(i-t)%a)%a+t})},Mwe=function e(t,r,n){var a=r-t,i=a*2;return bi(t)?PQ(t,e(0,t.length-1),r):Bf(n,function(o){return o=(i+(o-t)%i)%i||0,t+(o>a?i-o:o)})},zy=function(t){return t.replace(pwe,function(r){var n=r.indexOf("[")+1,a=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(gwe);return AQ(n?a:+a[0],n?0:+a[1],+a[2]||1e-5)})},OQ=function(t,r,n,a,i){var o=r-t,l=a-n;return Bf(i,function(c){return n+((c-t)/o*l||0)})},Fwe=function e(t,r,n,a){var i=isNaN(t+r)?0:function(p){return(1-p)*t+p*r};if(!i){var o=$a(t),l={},c,u,d,f,m;if(n===!0&&(a=1)&&(n=null),o)t={p:t},r={p:r};else if(bi(t)&&!bi(r)){for(d=[],f=t.length,m=f-2,u=1;u<f;u++)d.push(e(t[u-1],t[u]));f--,i=function(y){y*=f;var g=Math.min(m,~~y);return d[g](y-g)},n=r}else a||(t=s0(bi(t)?[]:{},t));if(!d){for(c in r)LM.call(l,t,c,"get",r[c]);i=function(y){return VM(y,l)||(o?t.p:t)}}}return Bf(n,i)},O9=function(t,r,n){var a=t.labels,i=_l,o,l,c;for(o in a)l=a[o]-r,l<0==!!n&&l&&i>(l=Math.abs(l))&&(c=o,i=l);return c},$o=function(t,r,n){var a=t.vars,i=a[r],o=as,l=t._ctx,c,u,d;if(i)return c=a[r+"Params"],u=a.callbackScope||t,n&&cf.length&&Xj(),l&&(as=l),d=c?i.apply(u,c):i.call(u),as=o,d},Ev=function(t){return kf(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Za),t.progress()<1&&$o(t,"onInterrupt"),t},pg,RQ=[],DQ=function(t){if(t)if(t=!t.name&&t.default||t,PM()||t.headless){var r=t.name,n=ks(t),a=r&&!n&&t.init?function(){this._props=[]}:t,i={init:Vy,render:VM,add:LM,kill:Qwe,modifier:Zwe,rawVars:0},o={targetTest:0,get:0,getSetter:UM,aliases:{},register:0};if(o0(),t!==a){if(To[r])return;Go(a,Go(Jj(t,i),o)),s0(a.prototype,s0(i,Jj(t,o))),To[a.prop=r]=a,t.targetTest&&(bj.push(a),DM[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}gQ(r,a),t.register&&t.register(xo,a,mo)}else RQ.push(t)},Dn=255,Tv={aqua:[0,Dn,Dn],lime:[0,Dn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Dn],navy:[0,0,128],white:[Dn,Dn,Dn],olive:[128,128,0],yellow:[Dn,Dn,0],orange:[Dn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Dn,0,0],pink:[Dn,192,203],cyan:[0,Dn,Dn],transparent:[Dn,Dn,Dn,0]},GE=function(t,r,n){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(n-r)*t*6:t<.5?n:t*3<2?r+(n-r)*(2/3-t)*6:r)*Dn+.5|0},IQ=function(t,r,n){var a=t?Ku(t)?[t>>16,t>>8&Dn,t&Dn]:0:Tv.black,i,o,l,c,u,d,f,m,p,y;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Tv[t])a=Tv[t];else if(t.charAt(0)==="#"){if(t.length<6&&(i=t.charAt(1),o=t.charAt(2),l=t.charAt(3),t="#"+i+i+o+o+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&Dn,a&Dn,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&Dn,t&Dn]}else if(t.substr(0,3)==="hsl"){if(a=y=t.match(C9),!r)c=+a[0]%360/360,u=+a[1]/100,d=+a[2]/100,o=d<=.5?d*(u+1):d+u-d*u,i=d*2-o,a.length>3&&(a[3]*=1),a[0]=GE(c+1/3,i,o),a[1]=GE(c,i,o),a[2]=GE(c-1/3,i,o);else if(~t.indexOf("="))return a=t.match(fQ),n&&a.length<4&&(a[3]=1),a}else a=t.match(C9)||Tv.transparent;a=a.map(Number)}return r&&!y&&(i=a[0]/Dn,o=a[1]/Dn,l=a[2]/Dn,f=Math.max(i,o,l),m=Math.min(i,o,l),d=(f+m)/2,f===m?c=u=0:(p=f-m,u=d>.5?p/(2-f-m):p/(f+m),c=f===i?(o-l)/p+(o<l?6:0):f===o?(l-i)/p+2:(i-o)/p+4,c*=60),a[0]=~~(c+.5),a[1]=~~(u*100+.5),a[2]=~~(d*100+.5)),n&&a.length<4&&(a[3]=1),a},MQ=function(t){var r=[],n=[],a=-1;return t.split(uf).forEach(function(i){var o=i.match(mg)||[];r.push.apply(r,o),n.push(a+=o.length+1)}),r.c=n,r},R9=function(t,r,n){var a="",i=(t+a).match(uf),o=r?"hsla(":"rgba(",l=0,c,u,d,f;if(!i)return t;if(i=i.map(function(m){return(m=IQ(m,r,1))&&o+(r?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),n&&(d=MQ(t),c=n.c,c.join(a)!==d.c.join(a)))for(u=t.replace(uf,"1").split(mg),f=u.length-1;l<f;l++)a+=u[l]+(~c.indexOf(l)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:n).shift());if(!u)for(u=t.split(uf),f=u.length-1;l<f;l++)a+=u[l]+i[l];return a+u[f]},uf=(function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Tv)e+="|"+t+"\\b";return new RegExp(e+")","gi")})(),Lwe=/hsl[a]?\(/,FQ=function(t){var r=t.join(" "),n;if(uf.lastIndex=0,uf.test(r))return n=Lwe.test(r),t[1]=R9(t[1],n),t[0]=R9(t[0],n,MQ(t[1])),!0},qy,Do=(function(){var e=Date.now,t=500,r=33,n=e(),a=n,i=1e3/240,o=i,l=[],c,u,d,f,m,p,y=function g(v){var _=e()-a,w=v===!0,b,E,S,C;if((_>t||_<0)&&(n+=_-r),a+=_,S=a-n,b=S-o,(b>0||w)&&(C=++f.frame,m=S-f.time*1e3,f.time=S=S/1e3,o+=b+(b>=i?4:i-b),E=1),w||(c=u(g)),E)for(p=0;p<l.length;p++)l[p](S,m,C,v)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(v){return m/(1e3/(v||60))},wake:function(){mQ&&(!HR&&PM()&&(Rc=HR=window,OM=Rc.document||{},Ho.gsap=xo,(Rc.gsapVersions||(Rc.gsapVersions=[])).push(xo.version),pQ(Yj||Rc.GreenSockGlobals||!Rc.gsap&&Rc||{}),RQ.forEach(DQ)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(v){return setTimeout(v,o-f.time*1e3+1|0)},qy=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),qy=0,u=Vy},lagSmoothing:function(v,_){t=v||1/0,r=Math.min(_||33,t)},fps:function(v){i=1e3/(v||240),o=f.time*1e3+i},add:function(v,_,w){var b=_?function(E,S,C,k){v(E,S,C,k),f.remove(b)}:v;return f.remove(v),l[w?"unshift":"push"](b),o0(),b},remove:function(v,_){~(_=l.indexOf(v))&&l.splice(_,1)&&p>=_&&p--},_listeners:l},f})(),o0=function(){return!qy&&Do.wake()},Xr={},$we=/^[\d.\-M][\d.\-,\s]/,Bwe=/["']/g,Uwe=function(t){for(var r={},n=t.substr(1,t.length-3).split(":"),a=n[0],i=1,o=n.length,l,c,u;i<o;i++)c=n[i],l=i!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),r[a]=isNaN(u)?u.replace(Bwe,"").trim():+u,a=c.substr(l+1).trim();return r},Vwe=function(t){var r=t.indexOf("(")+1,n=t.indexOf(")"),a=t.indexOf("(",r);return t.substring(r,~a&&a<n?t.indexOf(")",n+1):n)},zwe=function(t){var r=(t+"").split("("),n=Xr[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Uwe(r[1])]:Vwe(t).split(",").map(bQ)):Xr._CE&&$we.test(t)?Xr._CE("",t):n},LQ=function(t){return function(r){return 1-t(1-r)}},$Q=function e(t,r){for(var n=t._first,a;n;)n instanceof Fi?e(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?e(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},Yh=function(t,r){return t&&(ks(t)?t:Xr[t]||zwe(t))||r},Hm=function(t,r,n,a){n===void 0&&(n=function(c){return 1-r(1-c)}),a===void 0&&(a=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var i={easeIn:r,easeOut:n,easeInOut:a},o;return ho(t,function(l){Xr[l]=Ho[l]=i,Xr[o=l.toLowerCase()]=n;for(var c in i)Xr[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Xr[l+"."+c]=i[c]}),i},BQ=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},KE=function e(t,r,n){var a=r>=1?r:1,i=(n||(t?.3:.45))/(r<1?r:1),o=i/WR*(Math.asin(1/a)||0),l=function(d){return d===1?1:a*Math.pow(2,-10*d)*mwe((d-o)*i)+1},c=t==="out"?l:t==="in"?function(u){return 1-l(1-u)}:BQ(l);return i=WR/i,c.config=function(u,d){return e(t,u,d)},c},YE=function e(t,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},a=t==="out"?n:t==="in"?function(i){return 1-n(1-i)}:BQ(n);return a.config=function(i){return e(t,i)},a};ho("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;Hm(e+",Power"+(r-1),t?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Xr.Linear.easeNone=Xr.none=Xr.Linear.easeIn;Hm("Elastic",KE("in"),KE("out"),KE());(function(e,t){var r=1/t,n=2*r,a=2.5*r,i=function(l){return l<r?e*l*l:l<n?e*Math.pow(l-1.5/t,2)+.75:l<a?e*(l-=2.25/t)*l+.9375:e*Math.pow(l-2.625/t,2)+.984375};Hm("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Hm("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)});Hm("Circ",function(e){return-(uQ(1-e*e)-1)});Hm("Sine",function(e){return e===1?1:-hwe(e*dwe)+1});Hm("Back",YE("in"),YE("out"),YE());Xr.SteppedEase=Xr.steps=Ho.SteppedEase={config:function(t,r){t===void 0&&(t=1);var n=1/t,a=t+(r?0:1),i=r?1:0,o=1-In;return function(l){return((a*xw(0,o,l)|0)+i)*n}}};n0.ease=Xr["quad.out"];ho("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return IM+=e+","+e+"Params,"});var UQ=function(t,r){this.id=fwe++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:vQ,this.set=r?r.getSetter:UM},Wy=(function(){function e(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,i0(this,+r.duration,1,1),this.data=r.data,as&&(this._ctx=as,as.data.push(this)),qy||Do.wake()}var t=e.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,i0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,a){if(o0(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(p2(this,n),!i._dp||i.parent||jQ(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ic(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===In||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),yQ(this,n,a)),this},t.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+A9(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},t.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+A9(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,a):this._repeat?a0(this._tTime,i)+1:1},t.timeScale=function(n,a){if(!arguments.length)return this._rts===-In?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?Zj(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-In?0:this._rts,this.totalTime(xw(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),m2(this),Nwe(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(o0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==In&&(this._tTime-=In)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=ds(n);var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Ic(a,this,this._start-this._delay),this}return this._start},t.endTime=function(n){return this._start+(fo(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Zj(a.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=bwe);var a=Za;return Za=n,FM(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Za=a,this},t.globalTime=function(n){for(var a=this,i=arguments.length?n:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,P9(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,P9(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,a){return this.totalTime(dl(this,n),fo(a))},t.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,fo(a)),this._dur||(this._zTime=-In),this},t.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},t.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-In:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-In,this},t.isActive=function(){var n=this.parent||this._dp,a=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=a&&i<this.endTime(!0)-In)},t.eventCallback=function(n,a,i){var o=this.vars;return arguments.length>1?(a?(o[n]=a,i&&(o[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=a)):delete o[n],this):o[n]},t.then=function(n){var a=this,i=a._prom;return new Promise(function(o){var l=ks(n)?n:wQ,c=function(){var d=a.then;a.then=null,i&&i(),ks(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=d),o(l),a.then=d};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?c():a._prom=c})},t.kill=function(){Ev(this)},e})();Go(Wy.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-In,_prom:0,_ps:!1,_rts:1});var Fi=(function(e){cQ(t,e);function t(n,a){var i;return n===void 0&&(n={}),i=e.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=fo(n.sortChildren),fs&&Ic(n.parent||fs,Nu(i),a),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&NQ(Nu(i),n.scrollTrigger),i}var r=t.prototype;return r.to=function(a,i,o){return Xv(0,arguments,this),this},r.from=function(a,i,o){return Xv(1,arguments,this),this},r.fromTo=function(a,i,o,l){return Xv(2,arguments,this),this},r.set=function(a,i,o){return i.duration=0,i.parent=this,Yv(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new ta(a,i,dl(this,o),1),this},r.call=function(a,i,o){return Ic(this,ta.delayedCall(0,a,i),o)},r.staggerTo=function(a,i,o,l,c,u,d){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new ta(a,o,dl(this,c)),this},r.staggerFrom=function(a,i,o,l,c,u,d){return o.runBackwards=1,Yv(o).immediateRender=fo(o.immediateRender),this.staggerTo(a,i,o,l,c,u,d)},r.staggerFromTo=function(a,i,o,l,c,u,d,f){return l.startAt=o,Yv(l).immediateRender=fo(l.immediateRender),this.staggerTo(a,i,l,c,u,d,f)},r.render=function(a,i,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=a<=0?0:ds(a),f=this._zTime<0!=a<0&&(this._initted||!u),m,p,y,g,v,_,w,b,E,S,C,k;if(this!==fs&&d>c&&a>=0&&(d=c),d!==this._tTime||o||f){if(l!==this._time&&u&&(d+=this._time-l,a+=this._time-l),m=d,E=this._start,b=this._ts,_=!b,f&&(u||(l=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(C=this._yoyo,v=u+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(v*100+a,i,o);if(m=ds(d%v),d===c?(g=this._repeat,m=u):(S=ds(d/v),g=~~S,g&&g===S&&(m=u,g--),m>u&&(m=u)),S=a0(this._tTime,v),!l&&this._tTime&&S!==g&&this._tTime-S*v-this._dur<=0&&(S=g),C&&g&1&&(m=u-m,k=1),g!==S&&!this._lock){var R=C&&S&1,P=R===(C&&g&1);if(g<S&&(R=!R),l=R?0:d%u?u:d,this._lock=1,this.render(l||(k?0:ds(g*v)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&$o(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1,S=g),l&&l!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,P&&(this._lock=2,l=R?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;$Q(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=Ewe(this,ds(l),ds(m)),w&&(d-=m-(m=w._start))),this._tTime=d,this._time=m,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&d&&u&&!i&&!S&&($o(this,"onStart"),this._tTime!==d))return this;if(m>=l&&a>=0)for(p=this._first;p;){if(y=p._next,(p._act||m>=p._start)&&p._ts&&w!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(m-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(m-p._start)*p._ts,i,o),m!==this._time||!this._ts&&!_){w=0,y&&(d+=this._zTime=-In);break}}p=y}else{p=this._last;for(var O=a<0?a:m;p;){if(y=p._prev,(p._act||O<=p._end)&&p._ts&&w!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(O-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(O-p._start)*p._ts,i,o||Za&&FM(p)),m!==this._time||!this._ts&&!_){w=0,y&&(d+=this._zTime=O?-In:In);break}}p=y}}if(w&&!i&&(this.pause(),w.render(m>=l?0:-In)._zTime=m>=l?1:-1,this._ts))return this._start=E,m2(this),this.render(a,i,o);this._onUpdate&&!i&&$o(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(E===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((a||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&kf(this,1),!i&&!(a<0&&!l)&&(d||l||!c)&&($o(this,d===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,i){var o=this;if(Ku(i)||(i=dl(this,i,a)),!(a instanceof Wy)){if(bi(a))return a.forEach(function(l){return o.add(l,i)}),this;if($a(a))return this.addLabel(a,i);if(ks(a))a=ta.delayedCall(0,a);else return this}return this!==a?Ic(this,a,i):this},r.getChildren=function(a,i,o,l){a===void 0&&(a=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-_l);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof ta?i&&c.push(u):(o&&c.push(u),a&&c.push.apply(c,u.getChildren(!0,i,o)))),u=u._next;return c},r.getById=function(a){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===a)return i[o]},r.remove=function(a){return $a(a)?this.removeLabel(a):ks(a)?this.killTweensOf(a):(a.parent===this&&h2(this,a),a===this._recent&&(this._recent=this._last),Kh(this))},r.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ds(Do.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),e.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},r.addLabel=function(a,i){return this.labels[a]=dl(this,i),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,i,o){var l=ta.delayedCall(0,i||Vy,o);return l.data="isPause",this._hasPause=1,Ic(this,l,dl(this,a))},r.removePause=function(a){var i=this._first;for(a=dl(this,a);i;)i._start===a&&i.data==="isPause"&&kf(i),i=i._next},r.killTweensOf=function(a,i,o){for(var l=this.getTweensOf(a,o),c=l.length;c--;)Xd!==l[c]&&l[c].kill(a,i);return this},r.getTweensOf=function(a,i){for(var o=[],l=jl(a),c=this._first,u=Ku(i),d;c;)c instanceof ta?wwe(c._targets,l)&&(u?(!Xd||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&o.push(c):(d=c.getTweensOf(l,i)).length&&o.push.apply(o,d),c=c._next;return o},r.tweenTo=function(a,i){i=i||{};var o=this,l=dl(o,a),c=i,u=c.startAt,d=c.onStart,f=c.onStartParams,m=c.immediateRender,p,y=ta.to(o,Go({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||In,onStart:function(){if(o.pause(),!p){var v=i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());y._dur!==v&&i0(y,v,0,1).render(y._time,!0,!0),p=1}d&&d.apply(y,f||[])}},i));return m?y.render(0):y},r.tweenFromTo=function(a,i,o){return this.tweenTo(i,Go({startAt:{time:dl(this,a)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),O9(this,dl(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),O9(this,dl(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+In)},r.shiftChildren=function(a,i,o){o===void 0&&(o=0);var l=this._first,c=this.labels,u;for(a=ds(a);l;)l._start>=o&&(l._start+=a,l._end+=a),l=l._next;if(i)for(u in c)c[u]>=o&&(c[u]+=a);return Kh(this)},r.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return e.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Kh(this)},r.totalDuration=function(a){var i=0,o=this,l=o._last,c=_l,u,d,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-a:a));if(o._dirty){for(f=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,Ic(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(i-=d,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=ds(d/o._ts),o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>i&&l._ts&&(i=l._end),l=u;i0(o,o===fs&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(a){if(fs._ts&&(yQ(fs,Zj(a,fs)),xQ=Do.frame),Do.frame>=E9){E9+=Vo.autoSleep||120;var i=fs._first;if((!i||!i._ts)&&Vo.autoSleep&&Do._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Do.sleep()}}},t})(Wy);Go(Fi.prototype,{_lock:0,_hasPause:0,_forcing:0});var qwe=function(t,r,n,a,i,o,l){var c=new mo(this._pt,t,r,0,1,GQ,null,i),u=0,d=0,f,m,p,y,g,v,_,w;for(c.b=n,c.e=a,n+="",a+="",(_=~a.indexOf("random("))&&(a=zy(a)),o&&(w=[n,a],o(w,t,r),n=w[0],a=w[1]),m=n.match(WE)||[];f=WE.exec(a);)y=f[0],g=a.substring(u,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),y!==m[d++]&&(v=parseFloat(m[d-1])||0,c._pt={_next:c._pt,p:g||d===1?g:",",s:v,c:y.charAt(1)==="="?Mg(v,y)-v:parseFloat(y)-v,m:p&&p<4?Math.round:0},u=WE.lastIndex);return c.c=u<a.length?a.substring(u,a.length):"",c.fp=l,(hQ.test(a)||_)&&(c.e=0),this._pt=c,c},LM=function(t,r,n,a,i,o,l,c,u,d){ks(a)&&(a=a(i||0,t,o));var f=t[r],m=n!=="get"?n:ks(f)?u?t[r.indexOf("set")||!ks(t["get"+r.substr(3)])?r:"get"+r.substr(3)](u):t[r]():f,p=ks(f)?u?Ywe:WQ:BM,y;if($a(a)&&(~a.indexOf("random(")&&(a=zy(a)),a.charAt(1)==="="&&(y=Mg(m,a)+(pi(m)||0),(y||y===0)&&(a=y))),!d||m!==a||QR)return!isNaN(m*a)&&a!==""?(y=new mo(this._pt,t,r,+m||0,a-(m||0),typeof f=="boolean"?Jwe:HQ,0,p),u&&(y.fp=u),l&&y.modifier(l,this,t),this._pt=y):(!f&&!(r in t)&&RM(r,a),qwe.call(this,t,r,m,a,p,c||Vo.stringFilter,u))},Wwe=function(t,r,n,a,i){if(ks(t)&&(t=Jv(t,i,r,n,a)),!eu(t)||t.style&&t.nodeType||bi(t)||dQ(t))return $a(t)?Jv(t,i,r,n,a):t;var o={},l;for(l in t)o[l]=Jv(t[l],i,r,n,a);return o},VQ=function(t,r,n,a,i,o){var l,c,u,d;if(To[t]&&(l=new To[t]).init(i,l.rawVars?r[t]:Wwe(r[t],a,i,o,n),n,a,o)!==!1&&(n._pt=c=new mo(n._pt,i,t,0,1,l.render,l,0,l.priority),n!==pg))for(u=n._ptLookup[n._targets.indexOf(i)],d=l._props.length;d--;)u[l._props[d]]=c;return l},Xd,QR,$M=function e(t,r,n){var a=t.vars,i=a.ease,o=a.startAt,l=a.immediateRender,c=a.lazy,u=a.onUpdate,d=a.runBackwards,f=a.yoyoEase,m=a.keyframes,p=a.autoRevert,y=t._dur,g=t._startAt,v=t._targets,_=t.parent,w=_&&_.data==="nested"?_.vars.targets:v,b=t._overwrite==="auto"&&!TM,E=t.timeline,S,C,k,R,P,O,A,D,F,B,z,q,G;if(E&&(!m||!i)&&(i="none"),t._ease=Yh(i,n0.ease),t._yEase=f?LQ(Yh(f===!0?i:f,n0.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!E&&!!a.runBackwards,!E||m&&!a.stagger){if(D=v[0]?Gh(v[0]).harness:0,q=D&&a[D.prop],S=Jj(a,DM),g&&(g._zTime<0&&g.progress(1),r<0&&d&&l&&!p?g.render(-1,!0):g.revert(d&&y?yj:ywe),g._lazy=0),o){if(kf(t._startAt=ta.set(v,Go({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!g&&fo(c),startAt:null,delay:0,onUpdate:u&&function(){return $o(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Za||!l&&!p)&&t._startAt.revert(yj),l&&y&&r<=0&&n<=0){r&&(t._zTime=r);return}}else if(d&&y&&!g){if(r&&(l=!1),k=Go({overwrite:!1,data:"isFromStart",lazy:l&&!g&&fo(c),immediateRender:l,stagger:0,parent:_},S),q&&(k[D.prop]=q),kf(t._startAt=ta.set(v,k)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Za?t._startAt.revert(yj):t._startAt.render(-1,!0)),t._zTime=r,!l)e(t._startAt,In,In);else if(!r)return}for(t._pt=t._ptCache=0,c=y&&fo(c)||c&&!y,C=0;C<v.length;C++){if(P=v[C],A=P._gsap||MM(v)[C]._gsap,t._ptLookup[C]=B={},GR[A.id]&&cf.length&&Xj(),z=w===v?C:w.indexOf(P),D&&(F=new D).init(P,q||S,t,z,w)!==!1&&(t._pt=R=new mo(t._pt,P,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(Y){B[Y]=R}),F.priority&&(O=1)),!D||q)for(k in S)To[k]&&(F=VQ(k,S,t,z,P,w))?F.priority&&(O=1):B[k]=R=LM.call(t,P,k,"get",S[k],z,w,0,a.stringFilter);t._op&&t._op[C]&&t.kill(P,t._op[C]),b&&t._pt&&(Xd=t,fs.killTweensOf(P,B,t.globalTime(r)),G=!t.parent,Xd=0),t._pt&&c&&(GR[A.id]=1)}O&&KQ(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!G,m&&r<=0&&E.render(_l,!0,!0)},Hwe=function(t,r,n,a,i,o,l,c){var u=(t._pt&&t._ptCache||(t._ptCache={}))[r],d,f,m,p;if(!u)for(u=t._ptCache[r]=[],m=t._ptLookup,p=t._targets.length;p--;){if(d=m[p][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return QR=1,t.vars[r]="+=0",$M(t,l),QR=0,c?Uy(r+" not eligible for reset"):1;u.push(d)}for(p=u.length;p--;)f=u[p],d=f._pt||f,d.s=(a||a===0)&&!i?a:d.s+(a||0)+o*d.c,d.c=n-d.s,f.e&&(f.e=Ms(n)+pi(f.e)),f.b&&(f.b=d.s+pi(f.b))},Gwe=function(t,r){var n=t[0]?Gh(t[0]).harness:0,a=n&&n.aliases,i,o,l,c;if(!a)return r;i=s0({},r);for(o in a)if(o in i)for(c=a[o].split(","),l=c.length;l--;)i[c[l]]=i[o];return i},Kwe=function(t,r,n,a){var i=r.ease||a||"power1.inOut",o,l;if(bi(r))l=n[t]||(n[t]=[]),r.forEach(function(c,u){return l.push({t:u/(r.length-1)*100,v:c,e:i})});else for(o in r)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(t),v:r[o],e:i})},Jv=function(t,r,n,a,i){return ks(t)?t.call(r,n,a,i):$a(t)&&~t.indexOf("random(")?zy(t):t},zQ=IM+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",qQ={};ho(zQ+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return qQ[e]=1});var ta=(function(e){cQ(t,e);function t(n,a,i,o){var l;typeof a=="number"&&(i.duration=a,a=i,i=null),l=e.call(this,o?a:Yv(a))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,m=c.stagger,p=c.overwrite,y=c.keyframes,g=c.defaults,v=c.scrollTrigger,_=c.yoyoEase,w=a.parent||fs,b=(bi(n)||dQ(n)?Ku(n[0]):"length"in a)?[n]:jl(n),E,S,C,k,R,P,O,A;if(l._targets=b.length?MM(b):Uy("GSAP target "+n+" not found. https://gsap.com",!Vo.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=p,y||m||x_(u)||x_(d)){if(a=l.vars,E=l.timeline=new Fi({data:"nested",defaults:g||{},targets:w&&w.data==="nested"?w.vars.targets:b}),E.kill(),E.parent=E._dp=Nu(l),E._start=0,m||x_(u)||x_(d)){if(k=b.length,O=m&&EQ(m),eu(m))for(R in m)~zQ.indexOf(R)&&(A||(A={}),A[R]=m[R]);for(S=0;S<k;S++)C=Jj(a,qQ),C.stagger=0,_&&(C.yoyoEase=_),A&&s0(C,A),P=b[S],C.duration=+Jv(u,Nu(l),S,P,b),C.delay=(+Jv(d,Nu(l),S,P,b)||0)-l._delay,!m&&k===1&&C.delay&&(l._delay=d=C.delay,l._start+=d,C.delay=0),E.to(P,C,O?O(S,P,b):0),E._ease=Xr.none;E.duration()?u=d=0:l.timeline=0}else if(y){Yv(Go(E.vars.defaults,{ease:"none"})),E._ease=Yh(y.ease||a.ease||"none");var D=0,F,B,z;if(bi(y))y.forEach(function(q){return E.to(b,q,">")}),E.duration();else{C={};for(R in y)R==="ease"||R==="easeEach"||Kwe(R,y[R],C,y.easeEach);for(R in C)for(F=C[R].sort(function(q,G){return q.t-G.t}),D=0,S=0;S<F.length;S++)B=F[S],z={ease:B.e,duration:(B.t-(S?F[S-1].t:0))/100*u},z[R]=B.v,E.to(b,z,D),D+=z.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||l.duration(u=E.duration())}else l.timeline=0;return p===!0&&!TM&&(Xd=Nu(l),fs.killTweensOf(b),Xd=0),Ic(w,Nu(l),i),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(f||!u&&!y&&l._start===ds(w._time)&&fo(f)&&Swe(Nu(l))&&w.data!=="nested")&&(l._tTime=-In,l.render(Math.max(0,-d)||0)),v&&NQ(Nu(l),v),l}var r=t.prototype;return r.render=function(a,i,o){var l=this._time,c=this._tDur,u=this._dur,d=a<0,f=a>c-In&&!d?c:a<In?0:a,m,p,y,g,v,_,w,b,E;if(!u)Cwe(this,a,i,o);else if(f!==this._tTime||!a||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=f,b=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+a,i,o);if(m=ds(f%g),f===c?(y=this._repeat,m=u):(v=ds(f/g),y=~~v,y&&y===v?(m=u,y--):m>u&&(m=u)),_=this._yoyo&&y&1,_&&(E=this._yEase,m=u-m),v=a0(this._tTime,g),m===l&&!o&&this._initted&&y===v)return this._tTime=f,this;y!==v&&(b&&this._yEase&&$Q(b,_),this.vars.repeatRefresh&&!_&&!this._lock&&m!==g&&this._initted&&(this._lock=o=1,this.render(ds(g*y),!0).invalidate()._lock=0))}if(!this._initted){if(SQ(this,d?a:m,o,i,f))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&y!==v))return this;if(u!==this._dur)return this.render(a,i,o)}if(this._tTime=f,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(E||this._ease)(m/u),this._from&&(this.ratio=w=1-w),!l&&f&&!i&&!v&&($o(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(w,p.d),p=p._next;b&&b.render(a<0?a:b._dur*b._ease(m/this._dur),i,o)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(d&&KR(this,a,i,o),$o(this,"onUpdate")),this._repeat&&y!==v&&this.vars.onRepeat&&!i&&this.parent&&$o(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&KR(this,a,!0,!0),(a||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&kf(this,1),!i&&!(d&&!l)&&(f||l||_)&&($o(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),e.prototype.invalidate.call(this,a)},r.resetTo=function(a,i,o,l,c){qy||Do.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||$M(this,u),d=this._ease(u/this._dur),Hwe(this,a,i,o,l,d,u,c)?this.resetTo(a,i,o,l,1):(p2(this,0),this.parent||_Q(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Ev(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Za),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,Xd&&Xd.vars.overwrite!==!0)._first||Ev(this),this.parent&&o!==this.timeline.totalDuration()&&i0(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=a?jl(a):l,u=this._ptLookup,d=this._pt,f,m,p,y,g,v,_;if((!i||i==="all")&&jwe(l,c))return i==="all"&&(this._pt=0),Ev(this);for(f=this._op=this._op||[],i!=="all"&&($a(i)&&(g={},ho(i,function(w){return g[w]=1}),i=g),i=Gwe(l,i)),_=l.length;_--;)if(~c.indexOf(l[_])){m=u[_],i==="all"?(f[_]=i,y=m,p={}):(p=f[_]=f[_]||{},y=i);for(g in y)v=m&&m[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&h2(this,v,"_pt"),delete m[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&d&&Ev(this),this},t.to=function(a,i){return new t(a,i,arguments[2])},t.from=function(a,i){return Xv(1,arguments)},t.delayedCall=function(a,i,o,l){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},t.fromTo=function(a,i,o){return Xv(2,arguments)},t.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(a,i)},t.killTweensOf=function(a,i,o){return fs.killTweensOf(a,i,o)},t})(Wy);Go(ta.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ho("staggerTo,staggerFrom,staggerFromTo",function(e){ta[e]=function(){var t=new Fi,r=XR.call(arguments,0);return r.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,r)}});var BM=function(t,r,n){return t[r]=n},WQ=function(t,r,n){return t[r](n)},Ywe=function(t,r,n,a){return t[r](a.fp,n)},Xwe=function(t,r,n){return t.setAttribute(r,n)},UM=function(t,r){return ks(t[r])?WQ:AM(t[r])&&t.setAttribute?Xwe:BM},HQ=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},Jwe=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},GQ=function(t,r){var n=r._pt,a="";if(!t&&r.b)a=r.b;else if(t===1&&r.e)a=r.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+a,n=n._next;a+=r.c}r.set(r.t,r.p,a,r)},VM=function(t,r){for(var n=r._pt;n;)n.r(t,n.d),n=n._next},Zwe=function(t,r,n,a){for(var i=this._pt,o;i;)o=i._next,i.p===a&&i.modifier(t,r,n),i=o},Qwe=function(t){for(var r=this._pt,n,a;r;)a=r._next,r.p===t&&!r.op||r.op===t?h2(this,r,"_pt"):r.dep||(n=1),r=a;return!n},e1e=function(t,r,n,a){a.mSet(t,r,a.m.call(a.tween,n,a.mt),a)},KQ=function(t){for(var r=t._pt,n,a,i,o;r;){for(n=r._next,a=i;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:o)?r._prev._next=r:i=r,(r._next=a)?a._prev=r:o=r,r=n}t._pt=i},mo=(function(){function e(r,n,a,i,o,l,c,u,d){this.t=n,this.s=i,this.c=o,this.p=a,this.r=l||HQ,this.d=c||this,this.set=u||BM,this.pr=d||0,this._next=r,r&&(r._prev=this)}var t=e.prototype;return t.modifier=function(n,a,i){this.mSet=this.mSet||this.set,this.set=e1e,this.m=n,this.mt=i,this.tween=a},e})();ho(IM+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return DM[e]=1});Ho.TweenMax=Ho.TweenLite=ta;Ho.TimelineLite=Ho.TimelineMax=Fi;fs=new Fi({sortChildren:!1,defaults:n0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Vo.stringFilter=FQ;var Xh=[],wj={},t1e=[],D9=0,r1e=0,XE=function(t){return(wj[t]||t1e).map(function(r){return r()})},eD=function(){var t=Date.now(),r=[];t-D9>2&&(XE("matchMediaInit"),Xh.forEach(function(n){var a=n.queries,i=n.conditions,o,l,c,u;for(l in a)o=Rc.matchMedia(a[l]).matches,o&&(c=1),o!==i[l]&&(i[l]=o,u=1);u&&(n.revert(),c&&r.push(n))}),XE("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),D9=t,XE("matchMedia"))},YQ=(function(){function e(r,n){this.selector=n&&JR(n),this.data=[],this._r=[],this.isReverted=!1,this.id=r1e++,r&&this.add(r)}var t=e.prototype;return t.add=function(n,a,i){ks(n)&&(i=a,a=n,n=ks);var o=this,l=function(){var u=as,d=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=JR(i)),as=o,f=a.apply(o,arguments),ks(f)&&o._r.push(f),as=u,o.selector=d,o.isReverted=!1,f};return o.last=l,n===ks?l(o,function(c){return o.add(null,c)}):n?o[n]=l:l},t.ignore=function(n){var a=as;as=null,n(this),as=a},t.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof e?n.push.apply(n,a.getTweens()):a instanceof ta&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,a){var i=this;if(n?(function(){for(var l=i.getTweens(),c=i.data.length,u;c--;)u=i.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),c=i.data.length;c--;)u=i.data[c],u instanceof Fi?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ta)&&u.revert&&u.revert(n);i._r.forEach(function(d){return d(n,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var o=Xh.length;o--;)Xh[o].id===this.id&&Xh.splice(o,1)},t.revert=function(n){this.kill(n||{})},e})(),n1e=(function(){function e(r){this.contexts=[],this.scope=r,as&&as.data.push(this)}var t=e.prototype;return t.add=function(n,a,i){eu(n)||(n={matches:n});var o=new YQ(0,i||this.scope),l=o.conditions={},c,u,d;as&&!o.selector&&(o.selector=as.selector),this.contexts.push(o),a=o.add("onMatch",a),o.queries=n;for(u in n)u==="all"?d=1:(c=Rc.matchMedia(n[u]),c&&(Xh.indexOf(o)<0&&Xh.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(eD):c.addEventListener("change",eD)));return d&&a(o,function(f){return o.add(null,f)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},e})(),Qj={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(a){return DQ(a)})},timeline:function(t){return new Fi(t)},getTweensOf:function(t,r){return fs.getTweensOf(t,r)},getProperty:function(t,r,n,a){$a(t)&&(t=jl(t)[0]);var i=Gh(t||{}).get,o=n?wQ:bQ;return n==="native"&&(n=""),t&&(r?o((To[r]&&To[r].get||i)(t,r,n,a)):function(l,c,u){return o((To[l]&&To[l].get||i)(t,l,c,u))})},quickSetter:function(t,r,n){if(t=jl(t),t.length>1){var a=t.map(function(d){return xo.quickSetter(d,r,n)}),i=a.length;return function(d){for(var f=i;f--;)a[f](d)}}t=t[0]||{};var o=To[r],l=Gh(t),c=l.harness&&(l.harness.aliases||{})[r]||r,u=o?function(d){var f=new o;pg._pt=0,f.init(t,n?d+n:d,pg,0,[t]),f.render(1,f),pg._pt&&VM(1,pg)}:l.set(t,c);return o?u:function(d){return u(t,c,n?d+n:d,l,1)}},quickTo:function(t,r,n){var a,i=xo.to(t,Go((a={},a[r]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),o=function(c,u,d){return i.resetTo(r,c,u,d)};return o.tween=i,o},isTweening:function(t){return fs.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Yh(t.ease,n0.ease)),T9(n0,t||{})},config:function(t){return T9(Vo,t||{})},registerEffect:function(t){var r=t.name,n=t.effect,a=t.plugins,i=t.defaults,o=t.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!To[l]&&!Ho[l]&&Uy(r+" effect requires "+l+" plugin.")}),HE[r]=function(l,c,u){return n(jl(l),Go(c||{},i),u)},o&&(Fi.prototype[r]=function(l,c,u){return this.add(HE[r](l,eu(c)?c:(u=c)&&{},this),u)})},registerEase:function(t,r){Xr[t]=Yh(r)},parseEase:function(t,r){return arguments.length?Yh(t,r):Xr},getById:function(t){return fs.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var n=new Fi(t),a,i;for(n.smoothChildTiming=fo(t.smoothChildTiming),fs.remove(n),n._dp=0,n._time=n._tTime=fs._time,a=fs._first;a;)i=a._next,(r||!(!a._dur&&a instanceof ta&&a.vars.onComplete===a._targets[0]))&&Ic(n,a,a._start-a._delay),a=i;return Ic(fs,n,0),n},context:function(t,r){return t?new YQ(t,r):as},matchMedia:function(t){return new n1e(t)},matchMediaRefresh:function(){return Xh.forEach(function(t){var r=t.conditions,n,a;for(a in r)r[a]&&(r[a]=!1,n=1);n&&t.revert()})||eD()},addEventListener:function(t,r){var n=wj[t]||(wj[t]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(t,r){var n=wj[t],a=n&&n.indexOf(r);a>=0&&n.splice(a,1)},utils:{wrap:Iwe,wrapYoyo:Mwe,distribute:EQ,random:AQ,snap:TQ,normalize:Dwe,getUnit:pi,clamp:Awe,splitColor:IQ,toArray:jl,selector:JR,mapRange:OQ,pipe:Owe,unitize:Rwe,interpolate:Fwe,shuffle:CQ},install:pQ,effects:HE,ticker:Do,updateRoot:Fi.updateRoot,plugins:To,globalTimeline:fs,core:{PropTween:mo,globals:gQ,Tween:ta,Timeline:Fi,Animation:Wy,getCache:Gh,_removeLinkedListItem:h2,reverting:function(){return Za},context:function(t){return t&&as&&(as.data.push(t),t._ctx=as),as},suppressOverwrites:function(t){return TM=t}}};ho("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Qj[e]=ta[e]});Do.add(Fi.updateRoot);pg=Qj.to({},{duration:0});var s1e=function(t,r){for(var n=t._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},a1e=function(t,r){var n=t._targets,a,i,o;for(a in r)for(i=n.length;i--;)o=t._ptLookup[i][a],o&&(o=o.d)&&(o._pt&&(o=s1e(o,a)),o&&o.modifier&&o.modifier(r[a],t,n[i],a))},JE=function(t,r){return{name:t,headless:1,rawVars:1,init:function(a,i,o){o._onInit=function(l){var c,u;if($a(i)&&(c={},ho(i,function(d){return c[d]=1}),i=c),r){c={};for(u in i)c[u]=r(i[u]);i=c}a1e(l,i)}}}},xo=Qj.registerPlugin({name:"attr",init:function(t,r,n,a,i){var o,l,c;this.tween=n;for(o in r)c=t.getAttribute(o)||"",l=this.add(t,"setAttribute",(c||0)+"",r[o],a,i,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(t,r){for(var n=r._pt;n;)Za?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,r){for(var n=r.length;n--;)this.add(t,n,t[n]||0,r[n],0,0,0,0,0,1)}},JE("roundProps",ZR),JE("modifiers"),JE("snap",TQ))||Qj;ta.version=Fi.version=xo.version="3.14.2";mQ=1;PM()&&o0();Xr.Power0;Xr.Power1;Xr.Power2;Xr.Power3;Xr.Power4;Xr.Linear;Xr.Quad;Xr.Cubic;Xr.Quart;Xr.Quint;Xr.Strong;Xr.Elastic;Xr.Back;Xr.SteppedEase;Xr.Bounce;Xr.Sine;Xr.Expo;Xr.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var I9,Jd,Fg,zM,Mh,M9,qM,i1e=function(){return typeof window<"u"},Yu={},_h=180/Math.PI,Lg=Math.PI/180,Rp=Math.atan2,F9=1e8,WM=/([A-Z])/g,o1e=/(left|right|width|margin|padding|x)/i,l1e=/[\s,\(]\S/,Lc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},tD=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},c1e=function(t,r){return r.set(r.t,r.p,t===1?r.e:Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},u1e=function(t,r){return r.set(r.t,r.p,t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},d1e=function(t,r){return r.set(r.t,r.p,t===1?r.e:t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},f1e=function(t,r){var n=r.s+r.c*t;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},XQ=function(t,r){return r.set(r.t,r.p,t?r.e:r.b,r)},JQ=function(t,r){return r.set(r.t,r.p,t!==1?r.b:r.e,r)},h1e=function(t,r,n){return t.style[r]=n},m1e=function(t,r,n){return t.style.setProperty(r,n)},p1e=function(t,r,n){return t._gsap[r]=n},g1e=function(t,r,n){return t._gsap.scaleX=t._gsap.scaleY=n},x1e=function(t,r,n,a,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},v1e=function(t,r,n,a,i){var o=t._gsap;o[r]=n,o.renderTransform(i,o)},hs="transform",po=hs+"Origin",y1e=function e(t,r){var n=this,a=this.target,i=a.style,o=a._gsap;if(t in Yu&&i){if(this.tfm=this.tfm||{},t!=="transform")t=Lc[t]||t,~t.indexOf(",")?t.split(",").forEach(function(l){return n.tfm[l]=Eu(a,l)}):this.tfm[t]=o.x?o[t]:Eu(a,t),t===po&&(this.tfm.zOrigin=o.zOrigin);else return Lc.transform.split(",").forEach(function(l){return e.call(n,l,r)});if(this.props.indexOf(hs)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(po,r,"")),t=hs}(i||r)&&this.props.push(t,r,i[t])},ZQ=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},b1e=function(){var t=this.props,r=this.target,n=r.style,a=r._gsap,i,o;for(i=0;i<t.length;i+=3)t[i+1]?t[i+1]===2?r[t[i]](t[i+2]):r[t[i]]=t[i+2]:t[i+2]?n[t[i]]=t[i+2]:n.removeProperty(t[i].substr(0,2)==="--"?t[i]:t[i].replace(WM,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)a[o]=this.tfm[o];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),i=qM(),(!i||!i.isStart)&&!n[hs]&&(ZQ(n),a.zOrigin&&n[po]&&(n[po]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},QQ=function(t,r){var n={target:t,props:[],revert:b1e,save:y1e};return t._gsap||xo.core.getCache(t),r&&t.style&&t.nodeType&&r.split(",").forEach(function(a){return n.save(a)}),n},eee,rD=function(t,r){var n=Jd.createElementNS?Jd.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Jd.createElement(t);return n&&n.style?n:Jd.createElement(t)},Bo=function e(t,r,n){var a=getComputedStyle(t);return a[r]||a.getPropertyValue(r.replace(WM,"-$1").toLowerCase())||a.getPropertyValue(r)||!n&&e(t,l0(r)||r,1)||""},L9="O,Moz,ms,Ms,Webkit".split(","),l0=function(t,r,n){var a=r||Mh,i=a.style,o=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(L9[o]+t in i););return o<0?null:(o===3?"ms":o>=0?L9[o]:"")+t},nD=function(){i1e()&&window.document&&(I9=window,Jd=I9.document,Fg=Jd.documentElement,Mh=rD("div")||{style:{}},rD("div"),hs=l0(hs),po=hs+"Origin",Mh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",eee=!!l0("perspective"),qM=xo.core.reverting,zM=1)},$9=function(t){var r=t.ownerSVGElement,n=rD("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),i;a.style.display="block",n.appendChild(a),Fg.appendChild(n);try{i=a.getBBox()}catch{}return n.removeChild(a),Fg.removeChild(n),i},B9=function(t,r){for(var n=r.length;n--;)if(t.hasAttribute(r[n]))return t.getAttribute(r[n])},tee=function(t){var r,n;try{r=t.getBBox()}catch{r=$9(t),n=1}return r&&(r.width||r.height)||n||(r=$9(t)),r&&!r.width&&!r.x&&!r.y?{x:+B9(t,["x","cx","x1"])||0,y:+B9(t,["y","cy","y1"])||0,width:0,height:0}:r},ree=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&tee(t))},Cf=function(t,r){if(r){var n=t.style,a;r in Yu&&r!==po&&(r=hs),n.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(a==="--"?r:r.replace(WM,"-$1").toLowerCase())):n.removeAttribute(r)}},Zd=function(t,r,n,a,i,o){var l=new mo(t._pt,r,n,0,1,o?JQ:XQ);return t._pt=l,l.b=a,l.e=i,t._props.push(n),l},U9={deg:1,rad:1,turn:1},w1e={grid:1,flex:1},Ef=function e(t,r,n,a){var i=parseFloat(n)||0,o=(n+"").trim().substr((i+"").length)||"px",l=Mh.style,c=o1e.test(r),u=t.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,m=a==="px",p=a==="%",y,g,v,_;if(a===o||!i||U9[a]||U9[o])return i;if(o!=="px"&&!m&&(i=e(t,r,n,"px")),_=t.getCTM&&ree(t),(p||o==="%")&&(Yu[r]||~r.indexOf("adius")))return y=_?t.getBBox()[c?"width":"height"]:t[d],Ms(p?i/y*f:i/100*y);if(l[c?"width":"height"]=f+(m?o:a),g=a!=="rem"&&~r.indexOf("adius")||a==="em"&&t.appendChild&&!u?t:t.parentNode,_&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===Jd||!g.appendChild)&&(g=Jd.body),v=g._gsap,v&&p&&v.width&&c&&v.time===Do.time&&!v.uncache)return Ms(i/v.width*f);if(p&&(r==="height"||r==="width")){var w=t.style[r];t.style[r]=f+a,y=t[d],w?t.style[r]=w:Cf(t,r)}else(p||o==="%")&&!w1e[Bo(g,"display")]&&(l.position=Bo(t,"position")),g===t&&(l.position="static"),g.appendChild(Mh),y=Mh[d],g.removeChild(Mh),l.position="absolute";return c&&p&&(v=Gh(g),v.time=Do.time,v.width=g[d]),Ms(m?y*i/f:y&&i?f/y*i:0)},Eu=function(t,r,n,a){var i;return zM||nD(),r in Lc&&r!=="transform"&&(r=Lc[r],~r.indexOf(",")&&(r=r.split(",")[0])),Yu[r]&&r!=="transform"?(i=Gy(t,a),i=r!=="transformOrigin"?i[r]:i.svg?i.origin:tN(Bo(t,po))+" "+i.zOrigin+"px"):(i=t.style[r],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=eN[r]&&eN[r](t,r,n)||Bo(t,r)||vQ(t,r)||(r==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?Ef(t,r,i,n)+n:i},_1e=function(t,r,n,a){if(!n||n==="none"){var i=l0(r,t,1),o=i&&Bo(t,i,1);o&&o!==n?(r=i,n=o):r==="borderColor"&&(n=Bo(t,"borderTopColor"))}var l=new mo(this._pt,t.style,r,0,1,GQ),c=0,u=0,d,f,m,p,y,g,v,_,w,b,E,S;if(l.b=n,l.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=Bo(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(g=t.style[r],t.style[r]=a,a=Bo(t,r)||a,g?t.style[r]=g:Cf(t,r)),d=[n,a],FQ(d),n=d[0],a=d[1],m=n.match(mg)||[],S=a.match(mg)||[],S.length){for(;f=mg.exec(a);)v=f[0],w=a.substring(c,f.index),y?y=(y+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(y=1),v!==(g=m[u++]||"")&&(p=parseFloat(g)||0,E=g.substr((p+"").length),v.charAt(1)==="="&&(v=Mg(p,v)+E),_=parseFloat(v),b=v.substr((_+"").length),c=mg.lastIndex-b.length,b||(b=b||Vo.units[r]||E,c===a.length&&(a+=b,l.e+=b)),E!==b&&(p=Ef(t,r,g,b)||0),l._pt={_next:l._pt,p:w||u===1?w:",",s:p,c:_-p,m:y&&y<4||r==="zIndex"?Math.round:0});l.c=c<a.length?a.substring(c,a.length):""}else l.r=r==="display"&&a==="none"?JQ:XQ;return hQ.test(a)&&(l.e=0),this._pt=l,l},V9={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},j1e=function(t){var r=t.split(" "),n=r[0],a=r[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(t=n,n=a,a=t),r[0]=V9[n]||n,r[1]=V9[a]||a,r.join(" ")},N1e=function(t,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,a=n.style,i=r.u,o=n._gsap,l,c,u;if(i==="all"||i===!0)a.cssText="",c=1;else for(i=i.split(","),u=i.length;--u>-1;)l=i[u],Yu[l]&&(c=1,l=l==="transformOrigin"?po:hs),Cf(n,l);c&&(Cf(n,hs),o&&(o.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Gy(n,1),o.uncache=1,ZQ(a)))}},eN={clearProps:function(t,r,n,a,i){if(i.data!=="isFromStart"){var o=t._pt=new mo(t._pt,r,n,0,0,N1e);return o.u=a,o.pr=-10,o.tween=i,t._props.push(n),1}}},Hy=[1,0,0,1,0,0],nee={},see=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},z9=function(t){var r=Bo(t,hs);return see(r)?Hy:r.substr(7).match(fQ).map(Ms)},HM=function(t,r){var n=t._gsap||Gh(t),a=t.style,i=z9(t),o,l,c,u;return n.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?Hy:i):(i===Hy&&!t.offsetParent&&t!==Fg&&!n.svg&&(c=a.display,a.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,l=t.nextElementSibling,Fg.appendChild(t)),i=z9(t),c?a.display=c:Cf(t,"display"),u&&(l?o.insertBefore(t,l):o?o.appendChild(t):Fg.removeChild(t))),r&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},sD=function(t,r,n,a,i,o){var l=t._gsap,c=i||HM(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,m=l.yOffset||0,p=c[0],y=c[1],g=c[2],v=c[3],_=c[4],w=c[5],b=r.split(" "),E=parseFloat(b[0])||0,S=parseFloat(b[1])||0,C,k,R,P;n?c!==Hy&&(k=p*v-y*g)&&(R=E*(v/k)+S*(-g/k)+(g*w-v*_)/k,P=E*(-y/k)+S*(p/k)-(p*w-y*_)/k,E=R,S=P):(C=tee(t),E=C.x+(~b[0].indexOf("%")?E/100*C.width:E),S=C.y+(~(b[1]||b[0]).indexOf("%")?S/100*C.height:S)),a||a!==!1&&l.smooth?(_=E-u,w=S-d,l.xOffset=f+(_*p+w*g)-_,l.yOffset=m+(_*y+w*v)-w):l.xOffset=l.yOffset=0,l.xOrigin=E,l.yOrigin=S,l.smooth=!!a,l.origin=r,l.originIsAbsolute=!!n,t.style[po]="0px 0px",o&&(Zd(o,l,"xOrigin",u,E),Zd(o,l,"yOrigin",d,S),Zd(o,l,"xOffset",f,l.xOffset),Zd(o,l,"yOffset",m,l.yOffset)),t.setAttribute("data-svg-origin",E+" "+S)},Gy=function(t,r){var n=t._gsap||new UQ(t);if("x"in n&&!r&&!n.uncache)return n;var a=t.style,i=n.scaleX<0,o="px",l="deg",c=getComputedStyle(t),u=Bo(t,po)||"0",d,f,m,p,y,g,v,_,w,b,E,S,C,k,R,P,O,A,D,F,B,z,q,G,Y,M,H,Z,L,J,V,X;return d=f=m=g=v=_=w=b=E=0,p=y=1,n.svg=!!(t.getCTM&&ree(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[hs]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[hs]!=="none"?c[hs]:"")),a.scale=a.rotate=a.translate="none"),k=HM(t,n.svg),n.svg&&(n.uncache?(Y=t.getBBox(),u=n.xOrigin-Y.x+"px "+(n.yOrigin-Y.y)+"px",G=""):G=!r&&t.getAttribute("data-svg-origin"),sD(t,G||u,!!G||n.originIsAbsolute,n.smooth!==!1,k)),S=n.xOrigin||0,C=n.yOrigin||0,k!==Hy&&(A=k[0],D=k[1],F=k[2],B=k[3],d=z=k[4],f=q=k[5],k.length===6?(p=Math.sqrt(A*A+D*D),y=Math.sqrt(B*B+F*F),g=A||D?Rp(D,A)*_h:0,w=F||B?Rp(F,B)*_h+g:0,w&&(y*=Math.abs(Math.cos(w*Lg))),n.svg&&(d-=S-(S*A+C*F),f-=C-(S*D+C*B))):(X=k[6],J=k[7],H=k[8],Z=k[9],L=k[10],V=k[11],d=k[12],f=k[13],m=k[14],R=Rp(X,L),v=R*_h,R&&(P=Math.cos(-R),O=Math.sin(-R),G=z*P+H*O,Y=q*P+Z*O,M=X*P+L*O,H=z*-O+H*P,Z=q*-O+Z*P,L=X*-O+L*P,V=J*-O+V*P,z=G,q=Y,X=M),R=Rp(-F,L),_=R*_h,R&&(P=Math.cos(-R),O=Math.sin(-R),G=A*P-H*O,Y=D*P-Z*O,M=F*P-L*O,V=B*O+V*P,A=G,D=Y,F=M),R=Rp(D,A),g=R*_h,R&&(P=Math.cos(R),O=Math.sin(R),G=A*P+D*O,Y=z*P+q*O,D=D*P-A*O,q=q*P-z*O,A=G,z=Y),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,_=180-_),p=Ms(Math.sqrt(A*A+D*D+F*F)),y=Ms(Math.sqrt(q*q+X*X)),R=Rp(z,q),w=Math.abs(R)>2e-4?R*_h:0,E=V?1/(V<0?-V:V):0),n.svg&&(G=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!see(Bo(t,hs)),G&&t.setAttribute("transform",G))),Math.abs(w)>90&&Math.abs(w)<270&&(i?(p*=-1,w+=g<=0?180:-180,g+=g<=0?180:-180):(y*=-1,w+=w<=0?180:-180)),r=r||n.uncache,n.x=d-((n.xPercent=d&&(!r&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-f)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+o,n.z=m+o,n.scaleX=Ms(p),n.scaleY=Ms(y),n.rotation=Ms(g)+l,n.rotationX=Ms(v)+l,n.rotationY=Ms(_)+l,n.skewX=w+l,n.skewY=b+l,n.transformPerspective=E+o,(n.zOrigin=parseFloat(u.split(" ")[2])||!r&&n.zOrigin||0)&&(a[po]=tN(u)),n.xOffset=n.yOffset=0,n.force3D=Vo.force3D,n.renderTransform=n.svg?k1e:eee?aee:S1e,n.uncache=0,n},tN=function(t){return(t=t.split(" "))[0]+" "+t[1]},ZE=function(t,r,n){var a=pi(r);return Ms(parseFloat(r)+parseFloat(Ef(t,"x",n+"px",a)))+a},S1e=function(t,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,aee(t,r)},fh="0deg",lv="0px",hh=") ",aee=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.z,u=n.rotation,d=n.rotationY,f=n.rotationX,m=n.skewX,p=n.skewY,y=n.scaleX,g=n.scaleY,v=n.transformPerspective,_=n.force3D,w=n.target,b=n.zOrigin,E="",S=_==="auto"&&t&&t!==1||_===!0;if(b&&(f!==fh||d!==fh)){var C=parseFloat(d)*Lg,k=Math.sin(C),R=Math.cos(C),P;C=parseFloat(f)*Lg,P=Math.cos(C),o=ZE(w,o,k*P*-b),l=ZE(w,l,-Math.sin(C)*-b),c=ZE(w,c,R*P*-b+b)}v!==lv&&(E+="perspective("+v+hh),(a||i)&&(E+="translate("+a+"%, "+i+"%) "),(S||o!==lv||l!==lv||c!==lv)&&(E+=c!==lv||S?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+hh),u!==fh&&(E+="rotate("+u+hh),d!==fh&&(E+="rotateY("+d+hh),f!==fh&&(E+="rotateX("+f+hh),(m!==fh||p!==fh)&&(E+="skew("+m+", "+p+hh),(y!==1||g!==1)&&(E+="scale("+y+", "+g+hh),w.style[hs]=E||"translate(0, 0)"},k1e=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.rotation,u=n.skewX,d=n.skewY,f=n.scaleX,m=n.scaleY,p=n.target,y=n.xOrigin,g=n.yOrigin,v=n.xOffset,_=n.yOffset,w=n.forceCSS,b=parseFloat(o),E=parseFloat(l),S,C,k,R,P;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=Lg,u*=Lg,S=Math.cos(c)*f,C=Math.sin(c)*f,k=Math.sin(c-u)*-m,R=Math.cos(c-u)*m,u&&(d*=Lg,P=Math.tan(u-d),P=Math.sqrt(1+P*P),k*=P,R*=P,d&&(P=Math.tan(d),P=Math.sqrt(1+P*P),S*=P,C*=P)),S=Ms(S),C=Ms(C),k=Ms(k),R=Ms(R)):(S=f,R=m,C=k=0),(b&&!~(o+"").indexOf("px")||E&&!~(l+"").indexOf("px"))&&(b=Ef(p,"x",o,"px"),E=Ef(p,"y",l,"px")),(y||g||v||_)&&(b=Ms(b+y-(y*S+g*k)+v),E=Ms(E+g-(y*C+g*R)+_)),(a||i)&&(P=p.getBBox(),b=Ms(b+a/100*P.width),E=Ms(E+i/100*P.height)),P="matrix("+S+","+C+","+k+","+R+","+b+","+E+")",p.setAttribute("transform",P),w&&(p.style[hs]=P)},C1e=function(t,r,n,a,i){var o=360,l=$a(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?_h:1),u=c-a,d=a+u+"deg",f,m;return l&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*F9)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*F9)%o-~~(u/o)*o)),t._pt=m=new mo(t._pt,r,n,a,u,c1e),m.e=d,m.u="deg",t._props.push(n),m},q9=function(t,r){for(var n in r)t[n]=r[n];return t},E1e=function(t,r,n){var a=q9({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,c,u,d,f,m,p,y;a.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[hs]=r,l=Gy(n,1),Cf(n,hs),n.setAttribute("transform",u)):(u=getComputedStyle(n)[hs],o[hs]=r,l=Gy(n,1),o[hs]=u);for(c in Yu)u=a[c],d=l[c],u!==d&&i.indexOf(c)<0&&(p=pi(u),y=pi(d),f=p!==y?Ef(n,c,u,y):parseFloat(u),m=parseFloat(d),t._pt=new mo(t._pt,l,c,f,m-f,tD),t._pt.u=y||0,t._props.push(c));q9(l,a)};ho("padding,margin,Width,Radius",function(e,t){var r="Top",n="Right",a="Bottom",i="Left",o=(t<3?[r,n,a,i]:[r+i,r+n,a+n,a+i]).map(function(l){return t<2?e+l:"border"+l+e});eN[t>1?"border"+e:e]=function(l,c,u,d,f){var m,p;if(arguments.length<4)return m=o.map(function(y){return Eu(l,y,u)}),p=m.join(" "),p.split(m[0]).length===5?m[0]:p;m=(d+"").split(" "),p={},o.forEach(function(y,g){return p[y]=m[g]=m[g]||m[(g-1)/2|0]}),l.init(c,p,f)}});var iee={name:"css",register:nD,targetTest:function(t){return t.style&&t.nodeType},init:function(t,r,n,a,i){var o=this._props,l=t.style,c=n.vars.startAt,u,d,f,m,p,y,g,v,_,w,b,E,S,C,k,R,P;zM||nD(),this.styles=this.styles||QQ(t),R=this.styles.props,this.tween=n;for(g in r)if(g!=="autoRound"&&(d=r[g],!(To[g]&&VQ(g,r,n,a,t,i)))){if(p=typeof d,y=eN[g],p==="function"&&(d=d.call(n,a,t,i),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=zy(d)),y)y(this,t,g,d,n)&&(k=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(g)+"").trim(),d+="",uf.lastIndex=0,uf.test(u)||(v=pi(u),_=pi(d),_?v!==_&&(u=Ef(t,g,u,_)+_):v&&(d+=v)),this.add(l,"setProperty",u,d,a,i,0,0,g),o.push(g),R.push(g,0,l[g]);else if(p!=="undefined"){if(c&&g in c?(u=typeof c[g]=="function"?c[g].call(n,a,t,i):c[g],$a(u)&&~u.indexOf("random(")&&(u=zy(u)),pi(u+"")||u==="auto"||(u+=Vo.units[g]||pi(Eu(t,g))||""),(u+"").charAt(1)==="="&&(u=Eu(t,g))):u=Eu(t,g),m=parseFloat(u),w=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),w&&(d=d.substr(2)),f=parseFloat(d),g in Lc&&(g==="autoAlpha"&&(m===1&&Eu(t,"visibility")==="hidden"&&f&&(m=0),R.push("visibility",0,l.visibility),Zd(this,l,"visibility",m?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=Lc[g],~g.indexOf(",")&&(g=g.split(",")[0]))),b=g in Yu,b){if(this.styles.save(g),P=d,p==="string"&&d.substring(0,6)==="var(--"){if(d=Bo(t,d.substring(4,d.indexOf(")"))),d.substring(0,5)==="calc("){var O=t.style.perspective;t.style.perspective=d,d=Bo(t,"perspective"),O?t.style.perspective=O:Cf(t,"perspective")}f=parseFloat(d)}if(E||(S=t._gsap,S.renderTransform&&!r.parseTransform||Gy(t,r.parseTransform),C=r.smoothOrigin!==!1&&S.smooth,E=this._pt=new mo(this._pt,l,hs,0,1,S.renderTransform,S,0,-1),E.dep=1),g==="scale")this._pt=new mo(this._pt,S,"scaleY",S.scaleY,(w?Mg(S.scaleY,w+f):f)-S.scaleY||0,tD),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){R.push(po,0,l[po]),d=j1e(d),S.svg?sD(t,d,0,C,0,this):(_=parseFloat(d.split(" ")[2])||0,_!==S.zOrigin&&Zd(this,S,"zOrigin",S.zOrigin,_),Zd(this,l,g,tN(u),tN(d)));continue}else if(g==="svgOrigin"){sD(t,d,1,C,0,this);continue}else if(g in nee){C1e(this,S,g,m,w?Mg(m,w+d):d);continue}else if(g==="smoothOrigin"){Zd(this,S,"smooth",S.smooth,d);continue}else if(g==="force3D"){S[g]=d;continue}else if(g==="transform"){E1e(this,d,t);continue}}else g in l||(g=l0(g)||g);if(b||(f||f===0)&&(m||m===0)&&!l1e.test(d)&&g in l)v=(u+"").substr((m+"").length),f||(f=0),_=pi(d)||(g in Vo.units?Vo.units[g]:v),v!==_&&(m=Ef(t,g,u,_)),this._pt=new mo(this._pt,b?S:l,g,m,(w?Mg(m,w+f):f)-m,!b&&(_==="px"||g==="zIndex")&&r.autoRound!==!1?f1e:tD),this._pt.u=_||0,b&&P!==d?(this._pt.b=u,this._pt.e=P,this._pt.r=d1e):v!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=u1e);else if(g in l)_1e.call(this,t,g,u,w?w+d:d);else if(g in t)this.add(t,g,u||t[g],w?w+d:d,a,i);else if(g!=="parseTransform"){RM(g,d);continue}b||(g in l?R.push(g,0,l[g]):typeof t[g]=="function"?R.push(g,2,t[g]()):R.push(g,1,u||t[g])),o.push(g)}}k&&KQ(this)},render:function(t,r){if(r.tween._time||!qM())for(var n=r._pt;n;)n.r(t,n.d),n=n._next;else r.styles.revert()},get:Eu,aliases:Lc,getSetter:function(t,r,n){var a=Lc[r];return a&&a.indexOf(",")<0&&(r=a),r in Yu&&r!==po&&(t._gsap.x||Eu(t,"x"))?n&&M9===n?r==="scale"?g1e:p1e:(M9=n||{})&&(r==="scale"?x1e:v1e):t.style&&!AM(t.style[r])?h1e:~r.indexOf("-")?m1e:UM(t,r)},core:{_removeProperty:Cf,_getMatrix:HM}};xo.utils.checkPrefix=l0;xo.core.getStyleSaver=QQ;(function(e,t,r,n){var a=ho(e+","+t+","+r,function(i){Yu[i]=1});ho(t,function(i){Vo.units[i]="deg",nee[i]=1}),Lc[a[13]]=e+","+t,ho(n,function(i){var o=i.split(":");Lc[o[1]]=a[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ho("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Vo.units[e]="px"});xo.registerPlugin(iee);var Mn=xo.registerPlugin(iee)||xo;Mn.core.Tween;function T1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A1e(e,t,r){return t&&T1e(e.prototype,t),e}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ja,_j,Io,Qd,ef,$g,oee,jh,Zv,lee,Pu,Gl,cee,uee=function(){return Ja||typeof window<"u"&&(Ja=window.gsap)&&Ja.registerPlugin&&Ja},dee=1,gg=[],zr=[],Wc=[],Qv=Date.now,aD=function(t,r){return r},P1e=function(){var t=Zv.core,r=t.bridge||{},n=t._scrollers,a=t._proxies;n.push.apply(n,zr),a.push.apply(a,Wc),zr=n,Wc=a,aD=function(o,l){return r[o](l)}},df=function(t,r){return~Wc.indexOf(t)&&Wc[Wc.indexOf(t)+1][r]},ey=function(t){return!!~lee.indexOf(t)},Ti=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:a!==!1,capture:!!i})},Ei=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},v_="scrollLeft",y_="scrollTop",iD=function(){return Pu&&Pu.isPressed||zr.cache++},rN=function(t,r){var n=function a(i){if(i||i===0){dee&&(Io.history.scrollRestoration="manual");var o=Pu&&Pu.isPressed;i=a.v=Math.round(i)||(Pu&&Pu.iOS?1:0),t(i),a.cacheID=zr.cache,o&&aD("ss",i)}else(r||zr.cache!==a.cacheID||aD("ref"))&&(a.cacheID=zr.cache,a.v=t());return a.v+a.offset};return n.offset=0,t&&n},Li={s:v_,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:rN(function(e){return arguments.length?Io.scrollTo(e,xa.sc()):Io.pageXOffset||Qd[v_]||ef[v_]||$g[v_]||0})},xa={s:y_,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Li,sc:rN(function(e){return arguments.length?Io.scrollTo(Li.sc(),e):Io.pageYOffset||Qd[y_]||ef[y_]||$g[y_]||0})},so=function(t,r){return(r&&r._ctx&&r._ctx.selector||Ja.utils.toArray)(t)[0]||(typeof t=="string"&&Ja.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},O1e=function(t,r){for(var n=r.length;n--;)if(r[n]===t||r[n].contains(t))return!0;return!1},Tf=function(t,r){var n=r.s,a=r.sc;ey(t)&&(t=Qd.scrollingElement||ef);var i=zr.indexOf(t),o=a===xa.sc?1:2;!~i&&(i=zr.push(t)-1),zr[i+o]||Ti(t,"scroll",iD);var l=zr[i+o],c=l||(zr[i+o]=rN(df(t,n),!0)||(ey(t)?a:rN(function(u){return arguments.length?t[n]=u:t[n]})));return c.target=t,l||(c.smooth=Ja.getProperty(t,"scrollBehavior")==="smooth"),c},oD=function(t,r,n){var a=t,i=t,o=Qv(),l=o,c=r||50,u=Math.max(500,c*3),d=function(y,g){var v=Qv();g||v-o>c?(i=a,a=y,l=o,o=v):n?a+=y:a=i+(y-i)/(v-l)*(o-l)},f=function(){i=a=n?0:a,l=o=0},m=function(y){var g=l,v=i,_=Qv();return(y||y===0)&&y!==a&&d(y),o===l||_-l>u?0:(a+(n?v:-v))/((n?_:o)-g)*1e3};return{update:d,reset:f,getVelocity:m}},cv=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},W9=function(t){var r=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(n)?r:n},fee=function(){Zv=Ja.core.globals().ScrollTrigger,Zv&&Zv.core&&P1e()},hee=function(t){return Ja=t||uee(),!_j&&Ja&&typeof document<"u"&&document.body&&(Io=window,Qd=document,ef=Qd.documentElement,$g=Qd.body,lee=[Io,Qd,ef,$g],Ja.utils.clamp,cee=Ja.core.context||function(){},jh="onpointerenter"in $g?"pointer":"mouse",oee=$s.isTouch=Io.matchMedia&&Io.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Io||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Gl=$s.eventTypes=("ontouchstart"in ef?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in ef?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return dee=0},500),fee(),_j=1),_j};Li.op=xa;zr.cache=0;var $s=(function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(n){_j||hee(Ja)||console.warn("Please gsap.registerPlugin(Observer)"),Zv||fee();var a=n.tolerance,i=n.dragMinimum,o=n.type,l=n.target,c=n.lineHeight,u=n.debounce,d=n.preventDefault,f=n.onStop,m=n.onStopDelay,p=n.ignore,y=n.wheelSpeed,g=n.event,v=n.onDragStart,_=n.onDragEnd,w=n.onDrag,b=n.onPress,E=n.onRelease,S=n.onRight,C=n.onLeft,k=n.onUp,R=n.onDown,P=n.onChangeX,O=n.onChangeY,A=n.onChange,D=n.onToggleX,F=n.onToggleY,B=n.onHover,z=n.onHoverEnd,q=n.onMove,G=n.ignoreCheck,Y=n.isNormalizer,M=n.onGestureStart,H=n.onGestureEnd,Z=n.onWheel,L=n.onEnable,J=n.onDisable,V=n.onClick,X=n.scrollSpeed,ne=n.capture,se=n.allowClicks,ue=n.lockAxis,W=n.onLockAxis;this.target=l=so(l)||ef,this.vars=n,p&&(p=Ja.utils.toArray(p)),a=a||1e-9,i=i||0,y=y||1,X=X||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(Io.getComputedStyle($g).lineHeight)||22);var ae,oe,K,be,pe,Ee,Ae,fe=this,Je=0,Ye=0,ce=n.passive||!d&&n.passive!==!1,we=Tf(l,Li),Oe=Tf(l,xa),He=we(),Ge=Oe(),Ne=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Gl[0]==="pointerdown",ee=ey(l),_e=l.ownerDocument||Qd,ge=[0,0,0],Be=[0,0,0],Ie=0,de=function(){return Ie=Qv()},Re=function(It,er){return(fe.event=It)&&p&&O1e(It.target,p)||er&&Ne&&It.pointerType!=="touch"||G&&G(It,er)},rt=function(){fe._vx.reset(),fe._vy.reset(),oe.pause(),f&&f(fe)},xt=function(){var It=fe.deltaX=W9(ge),er=fe.deltaY=W9(Be),vt=Math.abs(It)>=a,Lt=Math.abs(er)>=a;A&&(vt||Lt)&&A(fe,It,er,ge,Be),vt&&(S&&fe.deltaX>0&&S(fe),C&&fe.deltaX<0&&C(fe),P&&P(fe),D&&fe.deltaX<0!=Je<0&&D(fe),Je=fe.deltaX,ge[0]=ge[1]=ge[2]=0),Lt&&(R&&fe.deltaY>0&&R(fe),k&&fe.deltaY<0&&k(fe),O&&O(fe),F&&fe.deltaY<0!=Ye<0&&F(fe),Ye=fe.deltaY,Be[0]=Be[1]=Be[2]=0),(be||K)&&(q&&q(fe),K&&(v&&K===1&&v(fe),w&&w(fe),K=0),be=!1),Ee&&!(Ee=!1)&&W&&W(fe),pe&&(Z(fe),pe=!1),ae=0},at=function(It,er,vt){ge[vt]+=It,Be[vt]+=er,fe._vx.update(It),fe._vy.update(er),u?ae||(ae=requestAnimationFrame(xt)):xt()},St=function(It,er){ue&&!Ae&&(fe.axis=Ae=Math.abs(It)>Math.abs(er)?"x":"y",Ee=!0),Ae!=="y"&&(ge[2]+=It,fe._vx.update(It,!0)),Ae!=="x"&&(Be[2]+=er,fe._vy.update(er,!0)),u?ae||(ae=requestAnimationFrame(xt)):xt()},Yt=function(It){if(!Re(It,1)){It=cv(It,d);var er=It.clientX,vt=It.clientY,Lt=er-fe.x,Ft=vt-fe.y,Qt=fe.isDragging;fe.x=er,fe.y=vt,(Qt||(Lt||Ft)&&(Math.abs(fe.startX-er)>=i||Math.abs(fe.startY-vt)>=i))&&(K||(K=Qt?2:1),Qt||(fe.isDragging=!0),St(Lt,Ft))}},At=fe.onPress=function(zt){Re(zt,1)||zt&&zt.button||(fe.axis=Ae=null,oe.pause(),fe.isPressed=!0,zt=cv(zt),Je=Ye=0,fe.startX=fe.x=zt.clientX,fe.startY=fe.y=zt.clientY,fe._vx.reset(),fe._vy.reset(),Ti(Y?l:_e,Gl[1],Yt,ce,!0),fe.deltaX=fe.deltaY=0,b&&b(fe))},Pt=fe.onRelease=function(zt){if(!Re(zt,1)){Ei(Y?l:_e,Gl[1],Yt,!0);var It=!isNaN(fe.y-fe.startY),er=fe.isDragging,vt=er&&(Math.abs(fe.x-fe.startX)>3||Math.abs(fe.y-fe.startY)>3),Lt=cv(zt);!vt&&It&&(fe._vx.reset(),fe._vy.reset(),d&&se&&Ja.delayedCall(.08,function(){if(Qv()-Ie>300&&!zt.defaultPrevented){if(zt.target.click)zt.target.click();else if(_e.createEvent){var Ft=_e.createEvent("MouseEvents");Ft.initMouseEvent("click",!0,!0,Io,1,Lt.screenX,Lt.screenY,Lt.clientX,Lt.clientY,!1,!1,!1,!1,0,null),zt.target.dispatchEvent(Ft)}}})),fe.isDragging=fe.isGesturing=fe.isPressed=!1,f&&er&&!Y&&oe.restart(!0),K&&xt(),_&&er&&_(fe),E&&E(fe,vt)}},fr=function(It){return It.touches&&It.touches.length>1&&(fe.isGesturing=!0)&&M(It,fe.isDragging)},Ar=function(){return(fe.isGesturing=!1)||H(fe)},Fr=function(It){if(!Re(It)){var er=we(),vt=Oe();at((er-He)*X,(vt-Ge)*X,1),He=er,Ge=vt,f&&oe.restart(!0)}},Qr=function(It){if(!Re(It)){It=cv(It,d),Z&&(pe=!0);var er=(It.deltaMode===1?c:It.deltaMode===2?Io.innerHeight:1)*y;at(It.deltaX*er,It.deltaY*er,0),f&&!Y&&oe.restart(!0)}},kn=function(It){if(!Re(It)){var er=It.clientX,vt=It.clientY,Lt=er-fe.x,Ft=vt-fe.y;fe.x=er,fe.y=vt,be=!0,f&&oe.restart(!0),(Lt||Ft)&&St(Lt,Ft)}},Mt=function(It){fe.event=It,B(fe)},ar=function(It){fe.event=It,z(fe)},Pr=function(It){return Re(It)||cv(It,d)&&V(fe)};oe=fe._dc=Ja.delayedCall(m||.25,rt).pause(),fe.deltaX=fe.deltaY=0,fe._vx=oD(0,50,!0),fe._vy=oD(0,50,!0),fe.scrollX=we,fe.scrollY=Oe,fe.isDragging=fe.isGesturing=fe.isPressed=!1,cee(this),fe.enable=function(zt){return fe.isEnabled||(Ti(ee?_e:l,"scroll",iD),o.indexOf("scroll")>=0&&Ti(ee?_e:l,"scroll",Fr,ce,ne),o.indexOf("wheel")>=0&&Ti(l,"wheel",Qr,ce,ne),(o.indexOf("touch")>=0&&oee||o.indexOf("pointer")>=0)&&(Ti(l,Gl[0],At,ce,ne),Ti(_e,Gl[2],Pt),Ti(_e,Gl[3],Pt),se&&Ti(l,"click",de,!0,!0),V&&Ti(l,"click",Pr),M&&Ti(_e,"gesturestart",fr),H&&Ti(_e,"gestureend",Ar),B&&Ti(l,jh+"enter",Mt),z&&Ti(l,jh+"leave",ar),q&&Ti(l,jh+"move",kn)),fe.isEnabled=!0,fe.isDragging=fe.isGesturing=fe.isPressed=be=K=!1,fe._vx.reset(),fe._vy.reset(),He=we(),Ge=Oe(),zt&&zt.type&&At(zt),L&&L(fe)),fe},fe.disable=function(){fe.isEnabled&&(gg.filter(function(zt){return zt!==fe&&ey(zt.target)}).length||Ei(ee?_e:l,"scroll",iD),fe.isPressed&&(fe._vx.reset(),fe._vy.reset(),Ei(Y?l:_e,Gl[1],Yt,!0)),Ei(ee?_e:l,"scroll",Fr,ne),Ei(l,"wheel",Qr,ne),Ei(l,Gl[0],At,ne),Ei(_e,Gl[2],Pt),Ei(_e,Gl[3],Pt),Ei(l,"click",de,!0),Ei(l,"click",Pr),Ei(_e,"gesturestart",fr),Ei(_e,"gestureend",Ar),Ei(l,jh+"enter",Mt),Ei(l,jh+"leave",ar),Ei(l,jh+"move",kn),fe.isEnabled=fe.isPressed=fe.isDragging=!1,J&&J(fe))},fe.kill=fe.revert=function(){fe.disable();var zt=gg.indexOf(fe);zt>=0&&gg.splice(zt,1),Pu===fe&&(Pu=0)},gg.push(fe),Y&&ey(l)&&(Pu=fe),fe.enable(g)},A1e(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();$s.version="3.14.2";$s.create=function(e){return new $s(e)};$s.register=hee;$s.getAll=function(){return gg.slice()};$s.getById=function(e){return gg.filter(function(t){return t.vars.id===e})[0]};uee()&&Ja.registerPlugin($s);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Vt,ag,Vr,Vn,Oo,xn,GM,nN,Ky,ty,Av,b_,oi,g2,lD,Oi,H9,G9,ig,mee,QE,pee,Pi,cD,gee,xee,$d,uD,KM,Bg,YM,ry,dD,eT,w_=1,ci=Date.now,tT=ci(),El=0,Pv=0,K9=function(t,r,n){var a=Co(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return n["_"+r+"Clamp"]=a,a?t.substr(6,t.length-7):t},Y9=function(t,r){return r&&(!Co(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},R1e=function e(){return Pv&&requestAnimationFrame(e)},X9=function(){return g2=1},J9=function(){return g2=0},Dc=function(t){return t},Ov=function(t){return Math.round(t*1e5)/1e5||0},vee=function(){return typeof window<"u"},yee=function(){return Vt||vee()&&(Vt=window.gsap)&&Vt.registerPlugin&&Vt},fm=function(t){return!!~GM.indexOf(t)},bee=function(t){return(t==="Height"?YM:Vr["inner"+t])||Oo["client"+t]||xn["client"+t]},wee=function(t){return df(t,"getBoundingClientRect")||(fm(t)?function(){return Cj.width=Vr.innerWidth,Cj.height=YM,Cj}:function(){return Tu(t)})},D1e=function(t,r,n){var a=n.d,i=n.d2,o=n.a;return(o=df(t,"getBoundingClientRect"))?function(){return o()[a]}:function(){return(r?bee(i):t["client"+i])||0}},I1e=function(t,r){return!r||~Wc.indexOf(t)?wee(t):function(){return Cj}},$c=function(t,r){var n=r.s,a=r.d2,i=r.d,o=r.a;return Math.max(0,(n="scroll"+a)&&(o=df(t,n))?o()-wee(t)()[i]:fm(t)?(Oo[n]||xn[n])-bee(a):t[n]-t["offset"+a])},__=function(t,r){for(var n=0;n<ig.length;n+=3)(!r||~r.indexOf(ig[n+1]))&&t(ig[n],ig[n+1],ig[n+2])},Co=function(t){return typeof t=="string"},gi=function(t){return typeof t=="function"},Rv=function(t){return typeof t=="number"},Nh=function(t){return typeof t=="object"},uv=function(t,r,n){return t&&t.progress(r?0:1)&&n&&t.pause()},rT=function(t,r){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return r(t)}):r(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Dp=Math.abs,_ee="left",jee="top",XM="right",JM="bottom",Jh="width",Zh="height",ny="Right",sy="Left",ay="Top",iy="Bottom",Js="padding",vl="margin",c0="Width",ZM="Height",ga="px",yl=function(t){return Vr.getComputedStyle(t)},M1e=function(t){var r=yl(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},Z9=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},Tu=function(t,r){var n=r&&yl(t)[lD]!=="matrix(1, 0, 0, 1, 0, 0)"&&Vt.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=t.getBoundingClientRect();return n&&n.progress(0).kill(),a},sN=function(t,r){var n=r.d2;return t["offset"+n]||t["client"+n]||0},Nee=function(t){var r=[],n=t.labels,a=t.duration(),i;for(i in n)r.push(n[i]/a);return r},F1e=function(t){return function(r){return Vt.utils.snap(Nee(t),r)}},QM=function(t){var r=Vt.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(a,i){return a-i});return n?function(a,i,o){o===void 0&&(o=.001);var l;if(!i)return r(a);if(i>0){for(a-=o,l=0;l<n.length;l++)if(n[l]>=a)return n[l];return n[l-1]}else for(l=n.length,a+=o;l--;)if(n[l]<=a)return n[l];return n[0]}:function(a,i,o){o===void 0&&(o=.001);var l=r(a);return!i||Math.abs(l-a)<o||l-a<0==i<0?l:r(i<0?a-t:a+t)}},L1e=function(t){return function(r,n){return QM(Nee(t))(r,n.direction)}},j_=function(t,r,n,a){return n.split(",").forEach(function(i){return t(r,i,a)})},Aa=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:!a,capture:!!i})},Ta=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},N_=function(t,r,n){n=n&&n.wheelHandler,n&&(t(r,"wheel",n),t(r,"touchmove",n))},Q9={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},S_={toggleActions:"play",anticipatePin:0},aN={top:0,left:0,center:.5,bottom:1,right:1},jj=function(t,r){if(Co(t)){var n=t.indexOf("="),a=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(a*=r/100),t=t.substr(0,n-1)),t=a+(t in aN?aN[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},k_=function(t,r,n,a,i,o,l,c){var u=i.startColor,d=i.endColor,f=i.fontSize,m=i.indent,p=i.fontWeight,y=Vn.createElement("div"),g=fm(n)||df(n,"pinType")==="fixed",v=t.indexOf("scroller")!==-1,_=g?xn:n,w=t.indexOf("start")!==-1,b=w?u:d,E="border-color:"+b+";font-size:"+f+";color:"+b+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((v||c)&&g?"fixed;":"absolute;"),(v||c||!g)&&(E+=(a===xa?XM:JM)+":"+(o+parseFloat(m))+"px;"),l&&(E+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),y._isStart=w,y.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),y.style.cssText=E,y.innerText=r||r===0?t+"-"+r:t,_.children[0]?_.insertBefore(y,_.children[0]):_.appendChild(y),y._offset=y["offset"+a.op.d2],Nj(y,0,a,w),y},Nj=function(t,r,n,a){var i={display:"block"},o=n[a?"os2":"p2"],l=n[a?"p2":"os2"];t._isFlipped=a,i[n.a+"Percent"]=a?-100:0,i[n.a]=a?"1px":0,i["border"+o+c0]=1,i["border"+l+c0]=0,i[n.p]=r+"px",Vt.set(t,i)},Lr=[],fD={},Yy,eU=function(){return ci()-El>34&&(Yy||(Yy=requestAnimationFrame($u)))},Ip=function(){(!Pi||!Pi.isPressed||Pi.startX>xn.clientWidth)&&(zr.cache++,Pi?Yy||(Yy=requestAnimationFrame($u)):$u(),El||mm("scrollStart"),El=ci())},nT=function(){xee=Vr.innerWidth,gee=Vr.innerHeight},Dv=function(t){zr.cache++,(t===!0||!oi&&!pee&&!Vn.fullscreenElement&&!Vn.webkitFullscreenElement&&(!cD||xee!==Vr.innerWidth||Math.abs(Vr.innerHeight-gee)>Vr.innerHeight*.25))&&nN.restart(!0)},hm={},$1e=[],See=function e(){return Ta(Er,"scrollEnd",e)||Fh(!0)},mm=function(t){return hm[t]&&hm[t].map(function(r){return r()})||$1e},ko=[],kee=function(t){for(var r=0;r<ko.length;r+=5)(!t||ko[r+4]&&ko[r+4].query===t)&&(ko[r].style.cssText=ko[r+1],ko[r].getBBox&&ko[r].setAttribute("transform",ko[r+2]||""),ko[r+3].uncache=1)},Cee=function(){return zr.forEach(function(t){return gi(t)&&++t.cacheID&&(t.rec=t())})},eF=function(t,r){var n;for(Oi=0;Oi<Lr.length;Oi++)n=Lr[Oi],n&&(!r||n._ctx===r)&&(t?n.kill(1):n.revert(!0,!0));ry=!0,r&&kee(r),r||mm("revert")},Eee=function(t,r){zr.cache++,(r||!Ri)&&zr.forEach(function(n){return gi(n)&&n.cacheID++&&(n.rec=0)}),Co(t)&&(Vr.history.scrollRestoration=KM=t)},Ri,Qh=0,tU,B1e=function(){if(tU!==Qh){var t=tU=Qh;requestAnimationFrame(function(){return t===Qh&&Fh(!0)})}},Tee=function(){xn.appendChild(Bg),YM=!Pi&&Bg.offsetHeight||Vr.innerHeight,xn.removeChild(Bg)},rU=function(t){return Ky(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},Fh=function(t,r){if(Oo=Vn.documentElement,xn=Vn.body,GM=[Vr,Vn,Oo,xn],El&&!t&&!ry){Aa(Er,"scrollEnd",See);return}Tee(),Ri=Er.isRefreshing=!0,ry||Cee();var n=mm("refreshInit");mee&&Er.sort(),r||eF(),zr.forEach(function(a){gi(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),Lr.slice(0).forEach(function(a){return a.refresh()}),ry=!1,Lr.forEach(function(a){if(a._subPinOffset&&a.pin){var i=a.vars.horizontal?"offsetWidth":"offsetHeight",o=a.pin[i];a.revert(!0,1),a.adjustPinSpacing(a.pin[i]-o),a.refresh()}}),dD=1,rU(!0),Lr.forEach(function(a){var i=$c(a.scroller,a._dir),o=a.vars.end==="max"||a._endClamp&&a.end>i,l=a._startClamp&&a.start>=i;(o||l)&&a.setPositions(l?i-1:a.start,o?Math.max(l?i:a.start+1,i):a.end,!0)}),rU(!1),dD=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),zr.forEach(function(a){gi(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),Eee(KM,1),nN.pause(),Qh++,Ri=2,$u(2),Lr.forEach(function(a){return gi(a.vars.onRefresh)&&a.vars.onRefresh(a)}),Ri=Er.isRefreshing=!1,mm("refresh")},hD=0,Sj=1,oy,$u=function(t){if(t===2||!Ri&&!ry){Er.isUpdating=!0,oy&&oy.update(0);var r=Lr.length,n=ci(),a=n-tT>=50,i=r&&Lr[0].scroll();if(Sj=hD>i?-1:1,Ri||(hD=i),a&&(El&&!g2&&n-El>200&&(El=0,mm("scrollEnd")),Av=tT,tT=n),Sj<0){for(Oi=r;Oi-- >0;)Lr[Oi]&&Lr[Oi].update(0,a);Sj=1}else for(Oi=0;Oi<r;Oi++)Lr[Oi]&&Lr[Oi].update(0,a);Er.isUpdating=!1}Yy=0},mD=[_ee,jee,JM,XM,vl+iy,vl+ny,vl+ay,vl+sy,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],kj=mD.concat([Jh,Zh,"boxSizing","max"+c0,"max"+ZM,"position",vl,Js,Js+ay,Js+ny,Js+iy,Js+sy]),U1e=function(t,r,n){Ug(n);var a=t._gsap;if(a.spacerIsNative)Ug(a.spacerState);else if(t._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(t,r),i.removeChild(r))}t._gsap.swappedIn=!1},sT=function(t,r,n,a){if(!t._gsap.swappedIn){for(var i=mD.length,o=r.style,l=t.style,c;i--;)c=mD[i],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),l[JM]=l[XM]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Jh]=sN(t,Li)+ga,o[Zh]=sN(t,xa)+ga,o[Js]=l[vl]=l[jee]=l[_ee]="0",Ug(a),l[Jh]=l["max"+c0]=n[Jh],l[Zh]=l["max"+ZM]=n[Zh],l[Js]=n[Js],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},V1e=/([A-Z])/g,Ug=function(t){if(t){var r=t.t.style,n=t.length,a=0,i,o;for((t.t._gsap||Vt.core.getCache(t.t)).uncache=1;a<n;a+=2)o=t[a+1],i=t[a],o?r[i]=o:r[i]&&r.removeProperty(i.replace(V1e,"-$1").toLowerCase())}},C_=function(t){for(var r=kj.length,n=t.style,a=[],i=0;i<r;i++)a.push(kj[i],n[kj[i]]);return a.t=t,a},z1e=function(t,r,n){for(var a=[],i=t.length,o=n?8:0,l;o<i;o+=2)l=t[o],a.push(l,l in r?r[l]:t[o+1]);return a.t=t.t,a},Cj={left:0,top:0},nU=function(t,r,n,a,i,o,l,c,u,d,f,m,p,y){gi(t)&&(t=t(c)),Co(t)&&t.substr(0,3)==="max"&&(t=m+(t.charAt(4)==="="?jj("0"+t.substr(3),n):0));var g=p?p.time():0,v,_,w;if(p&&p.seek(0),isNaN(t)||(t=+t),Rv(t))p&&(t=Vt.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,m,t)),l&&Nj(l,n,a,!0);else{gi(r)&&(r=r(c));var b=(t||"0").split(" "),E,S,C,k;w=so(r,c)||xn,E=Tu(w)||{},(!E||!E.left&&!E.top)&&yl(w).display==="none"&&(k=w.style.display,w.style.display="block",E=Tu(w),k?w.style.display=k:w.style.removeProperty("display")),S=jj(b[0],E[a.d]),C=jj(b[1]||"0",n),t=E[a.p]-u[a.p]-d+S+i-C,l&&Nj(l,C,a,n-C<20||l._isStart&&C>20),n-=n-C}if(y&&(c[y]=t||-.001,t<0&&(t=0)),o){var R=t+n,P=o._isStart;v="scroll"+a.d2,Nj(o,R,a,P&&R>20||!P&&(f?Math.max(xn[v],Oo[v]):o.parentNode[v])<=R+1),f&&(u=Tu(l),f&&(o.style[a.op.p]=u[a.op.p]-a.op.m-o._offset+ga))}return p&&w&&(v=Tu(w),p.seek(m),_=Tu(w),p._caScrollDist=v[a.p]-_[a.p],t=t/p._caScrollDist*m),p&&p.seek(g),p?t:Math.round(t)},q1e=/(webkit|moz|length|cssText|inset)/i,sU=function(t,r,n,a){if(t.parentNode!==r){var i=t.style,o,l;if(r===xn){t._stOrig=i.cssText,l=yl(t);for(o in l)!+o&&!q1e.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=n,i.left=a}else i.cssText=t._stOrig;Vt.core.getCache(t).uncache=1,r.appendChild(t)}},Aee=function(t,r,n){var a=r,i=a;return function(o){var l=Math.round(t());return l!==a&&l!==i&&Math.abs(l-a)>3&&Math.abs(l-i)>3&&(o=l,n&&n()),i=a,a=Math.round(o),a}},E_=function(t,r,n){var a={};a[r.p]="+="+n,Vt.set(t,a)},aU=function(t,r){var n=Tf(t,r),a="_scroll"+r.p2,i=function o(l,c,u,d,f){var m=o.tween,p=c.onComplete,y={};u=u||n();var g=Aee(n,u,function(){m.kill(),o.tween=0});return f=d&&f||0,d=d||l-u,m&&m.kill(),c[a]=l,c.inherit=!1,c.modifiers=y,y[a]=function(){return g(u+d*m.ratio+f*m.ratio*m.ratio)},c.onUpdate=function(){zr.cache++,o.tween&&$u()},c.onComplete=function(){o.tween=0,p&&p.call(m)},m=o.tween=Vt.to(t,c),m};return t[a]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Aa(t,"wheel",n.wheelHandler),Er.isTouch&&Aa(t,"touchmove",n.wheelHandler),i},Er=(function(){function e(r,n){ag||e.register(Vt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),uD(this),this.init(r,n)}var t=e.prototype;return t.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Pv){this.update=this.refresh=this.kill=Dc;return}n=Z9(Co(n)||Rv(n)||n.nodeType?{trigger:n}:n,S_);var i=n,o=i.onUpdate,l=i.toggleClass,c=i.id,u=i.onToggle,d=i.onRefresh,f=i.scrub,m=i.trigger,p=i.pin,y=i.pinSpacing,g=i.invalidateOnRefresh,v=i.anticipatePin,_=i.onScrubComplete,w=i.onSnapComplete,b=i.once,E=i.snap,S=i.pinReparent,C=i.pinSpacer,k=i.containerAnimation,R=i.fastScrollEnd,P=i.preventOverlaps,O=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Li:xa,A=!f&&f!==0,D=so(n.scroller||Vr),F=Vt.core.getCache(D),B=fm(D),z=("pinType"in n?n.pinType:df(D,"pinType")||B&&"fixed")==="fixed",q=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],G=A&&n.toggleActions.split(" "),Y="markers"in n?n.markers:S_.markers,M=B?0:parseFloat(yl(D)["border"+O.p2+c0])||0,H=this,Z=n.onRefreshInit&&function(){return n.onRefreshInit(H)},L=D1e(D,B,O),J=I1e(D,B),V=0,X=0,ne=0,se=Tf(D,O),ue,W,ae,oe,K,be,pe,Ee,Ae,fe,Je,Ye,ce,we,Oe,He,Ge,Ne,ee,_e,ge,Be,Ie,de,Re,rt,xt,at,St,Yt,At,Pt,fr,Ar,Fr,Qr,kn,Mt,ar;if(H._startClamp=H._endClamp=!1,H._dir=O,v*=45,H.scroller=D,H.scroll=k?k.time.bind(k):se,oe=se(),H.vars=n,a=a||n.animation,"refreshPriority"in n&&(mee=1,n.refreshPriority===-9999&&(oy=H)),F.tweenScroll=F.tweenScroll||{top:aU(D,xa),left:aU(D,Li)},H.tweenTo=ue=F.tweenScroll[O.p],H.scrubDuration=function(vt){fr=Rv(vt)&&vt,fr?Pt?Pt.duration(vt):Pt=Vt.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:fr,paused:!0,onComplete:function(){return _&&_(H)}}):(Pt&&Pt.progress(1).kill(),Pt=0)},a&&(a.vars.lazy=!1,a._initted&&!H.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),H.animation=a.pause(),a.scrollTrigger=H,H.scrubDuration(f),Yt=0,c||(c=a.vars.id)),E&&((!Nh(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in xn.style&&Vt.set(B?[xn,Oo]:D,{scrollBehavior:"auto"}),zr.forEach(function(vt){return gi(vt)&&vt.target===(B?Vn.scrollingElement||Oo:D)&&(vt.smooth=!1)}),ae=gi(E.snapTo)?E.snapTo:E.snapTo==="labels"?F1e(a):E.snapTo==="labelsDirectional"?L1e(a):E.directional!==!1?function(vt,Lt){return QM(E.snapTo)(vt,ci()-X<500?0:Lt.direction)}:Vt.utils.snap(E.snapTo),Ar=E.duration||{min:.1,max:2},Ar=Nh(Ar)?ty(Ar.min,Ar.max):ty(Ar,Ar),Fr=Vt.delayedCall(E.delay||fr/2||.1,function(){var vt=se(),Lt=ci()-X<500,Ft=ue.tween;if((Lt||Math.abs(H.getVelocity())<10)&&!Ft&&!g2&&V!==vt){var Qt=(vt-be)/we,Kn=a&&!A?a.totalProgress():Qt,te=Lt?0:(Kn-At)/(ci()-Av)*1e3||0,xe=Vt.utils.clamp(-Qt,1-Qt,Dp(te/2)*te/.185),he=Qt+(E.inertia===!1?0:xe),me,ye,ve=E,Fe=ve.onStart,qe=ve.onInterrupt,De=ve.onComplete;if(me=ae(he,H),Rv(me)||(me=he),ye=Math.max(0,Math.round(be+me*we)),vt<=pe&&vt>=be&&ye!==vt){if(Ft&&!Ft._initted&&Ft.data<=Dp(ye-vt))return;E.inertia===!1&&(xe=me-Qt),ue(ye,{duration:Ar(Dp(Math.max(Dp(he-Kn),Dp(me-Kn))*.185/te/.05||0)),ease:E.ease||"power3",data:Dp(ye-vt),onInterrupt:function(){return Fr.restart(!0)&&qe&&qe(H)},onComplete:function(){H.update(),V=se(),a&&!A&&(Pt?Pt.resetTo("totalProgress",me,a._tTime/a._tDur):a.progress(me)),Yt=At=a&&!A?a.totalProgress():H.progress,w&&w(H),De&&De(H)}},vt,xe*we,ye-vt-xe*we),Fe&&Fe(H,ue.tween)}}else H.isActive&&V!==vt&&Fr.restart(!0)}).pause()),c&&(fD[c]=H),m=H.trigger=so(m||p!==!0&&p),ar=m&&m._gsap&&m._gsap.stRevert,ar&&(ar=ar(H)),p=p===!0?m:so(p),Co(l)&&(l={targets:m,className:l}),p&&(y===!1||y===vl||(y=!y&&p.parentNode&&p.parentNode.style&&yl(p.parentNode).display==="flex"?!1:Js),H.pin=p,W=Vt.core.getCache(p),W.spacer?Oe=W.pinState:(C&&(C=so(C),C&&!C.nodeType&&(C=C.current||C.nativeElement),W.spacerIsNative=!!C,C&&(W.spacerState=C_(C))),W.spacer=Ne=C||Vn.createElement("div"),Ne.classList.add("pin-spacer"),c&&Ne.classList.add("pin-spacer-"+c),W.pinState=Oe=C_(p)),n.force3D!==!1&&Vt.set(p,{force3D:!0}),H.spacer=Ne=W.spacer,St=yl(p),de=St[y+O.os2],_e=Vt.getProperty(p),ge=Vt.quickSetter(p,O.a,ga),sT(p,Ne,St),Ge=C_(p)),Y){Ye=Nh(Y)?Z9(Y,Q9):Q9,fe=k_("scroller-start",c,D,O,Ye,0),Je=k_("scroller-end",c,D,O,Ye,0,fe),ee=fe["offset"+O.op.d2];var Pr=so(df(D,"content")||D);Ee=this.markerStart=k_("start",c,Pr,O,Ye,ee,0,k),Ae=this.markerEnd=k_("end",c,Pr,O,Ye,ee,0,k),k&&(Mt=Vt.quickSetter([Ee,Ae],O.a,ga)),!z&&!(Wc.length&&df(D,"fixedMarkers")===!0)&&(M1e(B?xn:D),Vt.set([fe,Je],{force3D:!0}),rt=Vt.quickSetter(fe,O.a,ga),at=Vt.quickSetter(Je,O.a,ga))}if(k){var zt=k.vars.onUpdate,It=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){H.update(0,0,1),zt&&zt.apply(k,It||[])})}if(H.previous=function(){return Lr[Lr.indexOf(H)-1]},H.next=function(){return Lr[Lr.indexOf(H)+1]},H.revert=function(vt,Lt){if(!Lt)return H.kill(!0);var Ft=vt!==!1||!H.enabled,Qt=oi;Ft!==H.isReverted&&(Ft&&(Qr=Math.max(se(),H.scroll.rec||0),ne=H.progress,kn=a&&a.progress()),Ee&&[Ee,Ae,fe,Je].forEach(function(Kn){return Kn.style.display=Ft?"none":"block"}),Ft&&(oi=H,H.update(Ft)),p&&(!S||!H.isActive)&&(Ft?U1e(p,Ne,Oe):sT(p,Ne,yl(p),Re)),Ft||H.update(Ft),oi=Qt,H.isReverted=Ft)},H.refresh=function(vt,Lt,Ft,Qt){if(!((oi||!H.enabled)&&!Lt)){if(p&&vt&&El){Aa(e,"scrollEnd",See);return}!Ri&&Z&&Z(H),oi=H,ue.tween&&!Ft&&(ue.tween.kill(),ue.tween=0),Pt&&Pt.pause(),g&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren?a.getChildren(!0,!0,!1).forEach(function(Ki){return Ki.vars.immediateRender&&Ki.render(0,!0,!0)}):a.vars.immediateRender&&a.render(0,!0,!0)),H.isReverted||H.revert(!0,!0),H._subPinOffset=!1;var Kn=L(),te=J(),xe=k?k.duration():$c(D,O),he=we<=.01||!we,me=0,ye=Qt||0,ve=Nh(Ft)?Ft.end:n.end,Fe=n.endTrigger||m,qe=Nh(Ft)?Ft.start:n.start||(n.start===0||!m?0:p?"0 0":"0 100%"),De=H.pinnedContainer=n.pinnedContainer&&so(n.pinnedContainer,H),Ue=m&&Math.max(0,Lr.indexOf(H))||0,Le=Ue,st,ht,Ct,gt,it,Ut,Br,mn,rs,yo,ca,ti,ls;for(Y&&Nh(Ft)&&(ti=Vt.getProperty(fe,O.p),ls=Vt.getProperty(Je,O.p));Le-- >0;)Ut=Lr[Le],Ut.end||Ut.refresh(0,1)||(oi=H),Br=Ut.pin,Br&&(Br===m||Br===p||Br===De)&&!Ut.isReverted&&(yo||(yo=[]),yo.unshift(Ut),Ut.revert(!0,!0)),Ut!==Lr[Le]&&(Ue--,Le--);for(gi(qe)&&(qe=qe(H)),qe=K9(qe,"start",H),be=nU(qe,m,Kn,O,se(),Ee,fe,H,te,M,z,xe,k,H._startClamp&&"_startClamp")||(p?-.001:0),gi(ve)&&(ve=ve(H)),Co(ve)&&!ve.indexOf("+=")&&(~ve.indexOf(" ")?ve=(Co(qe)?qe.split(" ")[0]:"")+ve:(me=jj(ve.substr(2),Kn),ve=Co(qe)?qe:(k?Vt.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,be):be)+me,Fe=m)),ve=K9(ve,"end",H),pe=Math.max(be,nU(ve||(Fe?"100% 0":xe),Fe,Kn,O,se()+me,Ae,Je,H,te,M,z,xe,k,H._endClamp&&"_endClamp"))||-.001,me=0,Le=Ue;Le--;)Ut=Lr[Le]||{},Br=Ut.pin,Br&&Ut.start-Ut._pinPush<=be&&!k&&Ut.end>0&&(st=Ut.end-(H._startClamp?Math.max(0,Ut.start):Ut.start),(Br===m&&Ut.start-Ut._pinPush<be||Br===De)&&isNaN(qe)&&(me+=st*(1-Ut.progress)),Br===p&&(ye+=st));if(be+=me,pe+=me,H._startClamp&&(H._startClamp+=me),H._endClamp&&!Ri&&(H._endClamp=pe||-.001,pe=Math.min(pe,$c(D,O))),we=pe-be||(be-=.01)&&.001,he&&(ne=Vt.utils.clamp(0,1,Vt.utils.normalize(be,pe,Qr))),H._pinPush=ye,Ee&&me&&(st={},st[O.a]="+="+me,De&&(st[O.p]="-="+se()),Vt.set([Ee,Ae],st)),p&&!(dD&&H.end>=$c(D,O)))st=yl(p),gt=O===xa,Ct=se(),Be=parseFloat(_e(O.a))+ye,!xe&&pe>1&&(ca=(B?Vn.scrollingElement||Oo:D).style,ca={style:ca,value:ca["overflow"+O.a.toUpperCase()]},B&&yl(xn)["overflow"+O.a.toUpperCase()]!=="scroll"&&(ca.style["overflow"+O.a.toUpperCase()]="scroll")),sT(p,Ne,st),Ge=C_(p),ht=Tu(p,!0),mn=z&&Tf(D,gt?Li:xa)(),y?(Re=[y+O.os2,we+ye+ga],Re.t=Ne,Le=y===Js?sN(p,O)+we+ye:0,Le&&(Re.push(O.d,Le+ga),Ne.style.flexBasis!=="auto"&&(Ne.style.flexBasis=Le+ga)),Ug(Re),De&&Lr.forEach(function(Ki){Ki.pin===De&&Ki.vars.pinSpacing!==!1&&(Ki._subPinOffset=!0)}),z&&se(Qr)):(Le=sN(p,O),Le&&Ne.style.flexBasis!=="auto"&&(Ne.style.flexBasis=Le+ga)),z&&(it={top:ht.top+(gt?Ct-be:mn)+ga,left:ht.left+(gt?mn:Ct-be)+ga,boxSizing:"border-box",position:"fixed"},it[Jh]=it["max"+c0]=Math.ceil(ht.width)+ga,it[Zh]=it["max"+ZM]=Math.ceil(ht.height)+ga,it[vl]=it[vl+ay]=it[vl+ny]=it[vl+iy]=it[vl+sy]="0",it[Js]=st[Js],it[Js+ay]=st[Js+ay],it[Js+ny]=st[Js+ny],it[Js+iy]=st[Js+iy],it[Js+sy]=st[Js+sy],He=z1e(Oe,it,S),Ri&&se(0)),a?(rs=a._initted,QE(1),a.render(a.duration(),!0,!0),Ie=_e(O.a)-Be+we+ye,xt=Math.abs(we-Ie)>1,z&&xt&&He.splice(He.length-2,2),a.render(0,!0,!0),rs||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),QE(0)):Ie=we,ca&&(ca.value?ca.style["overflow"+O.a.toUpperCase()]=ca.value:ca.style.removeProperty("overflow-"+O.a));else if(m&&se()&&!k)for(ht=m.parentNode;ht&&ht!==xn;)ht._pinOffset&&(be-=ht._pinOffset,pe-=ht._pinOffset),ht=ht.parentNode;yo&&yo.forEach(function(Ki){return Ki.revert(!1,!0)}),H.start=be,H.end=pe,oe=K=Ri?Qr:se(),!k&&!Ri&&(oe<Qr&&se(Qr),H.scroll.rec=0),H.revert(!1,!0),X=ci(),Fr&&(V=-1,Fr.restart(!0)),oi=0,a&&A&&(a._initted||kn)&&a.progress()!==kn&&a.progress(kn||0,!0).render(a.time(),!0,!0),(he||ne!==H.progress||k||g||a&&!a._initted)&&(a&&!A&&(a._initted||ne||a.vars.immediateRender!==!1)&&a.totalProgress(k&&be<-.001&&!ne?Vt.utils.normalize(be,pe,0):ne,!0),H.progress=he||(oe-be)/we===ne?0:ne),p&&y&&(Ne._pinOffset=Math.round(H.progress*Ie)),Pt&&Pt.invalidate(),isNaN(ti)||(ti-=Vt.getProperty(fe,O.p),ls-=Vt.getProperty(Je,O.p),E_(fe,O,ti),E_(Ee,O,ti-(Qt||0)),E_(Je,O,ls),E_(Ae,O,ls-(Qt||0))),he&&!Ri&&H.update(),d&&!Ri&&!ce&&(ce=!0,d(H),ce=!1)}},H.getVelocity=function(){return(se()-K)/(ci()-Av)*1e3||0},H.endAnimation=function(){uv(H.callbackAnimation),a&&(Pt?Pt.progress(1):a.paused()?A||uv(a,H.direction<0,1):uv(a,a.reversed()))},H.labelToScroll=function(vt){return a&&a.labels&&(be||H.refresh()||be)+a.labels[vt]/a.duration()*we||0},H.getTrailing=function(vt){var Lt=Lr.indexOf(H),Ft=H.direction>0?Lr.slice(0,Lt).reverse():Lr.slice(Lt+1);return(Co(vt)?Ft.filter(function(Qt){return Qt.vars.preventOverlaps===vt}):Ft).filter(function(Qt){return H.direction>0?Qt.end<=be:Qt.start>=pe})},H.update=function(vt,Lt,Ft){if(!(k&&!Ft&&!vt)){var Qt=Ri===!0?Qr:H.scroll(),Kn=vt?0:(Qt-be)/we,te=Kn<0?0:Kn>1?1:Kn||0,xe=H.progress,he,me,ye,ve,Fe,qe,De,Ue;if(Lt&&(K=oe,oe=k?se():Qt,E&&(At=Yt,Yt=a&&!A?a.totalProgress():te)),v&&p&&!oi&&!w_&&El&&(!te&&be<Qt+(Qt-K)/(ci()-Av)*v?te=1e-4:te===1&&pe>Qt+(Qt-K)/(ci()-Av)*v&&(te=.9999)),te!==xe&&H.enabled){if(he=H.isActive=!!te&&te<1,me=!!xe&&xe<1,qe=he!==me,Fe=qe||!!te!=!!xe,H.direction=te>xe?1:-1,H.progress=te,Fe&&!oi&&(ye=te&&!xe?0:te===1?1:xe===1?2:3,A&&(ve=!qe&&G[ye+1]!=="none"&&G[ye+1]||G[ye],Ue=a&&(ve==="complete"||ve==="reset"||ve in a))),P&&(qe||Ue)&&(Ue||f||!a)&&(gi(P)?P(H):H.getTrailing(P).forEach(function(Ct){return Ct.endAnimation()})),A||(Pt&&!oi&&!w_?(Pt._dp._time-Pt._start!==Pt._time&&Pt.render(Pt._dp._time-Pt._start),Pt.resetTo?Pt.resetTo("totalProgress",te,a._tTime/a._tDur):(Pt.vars.totalProgress=te,Pt.invalidate().restart())):a&&a.totalProgress(te,!!(oi&&(X||vt)))),p){if(vt&&y&&(Ne.style[y+O.os2]=de),!z)ge(Ov(Be+Ie*te));else if(Fe){if(De=!vt&&te>xe&&pe+1>Qt&&Qt+1>=$c(D,O),S)if(!vt&&(he||De)){var Le=Tu(p,!0),st=Qt-be;sU(p,xn,Le.top+(O===xa?st:0)+ga,Le.left+(O===xa?0:st)+ga)}else sU(p,Ne);Ug(he||De?He:Ge),xt&&te<1&&he||ge(Be+(te===1&&!De?Ie:0))}}E&&!ue.tween&&!oi&&!w_&&Fr.restart(!0),l&&(qe||b&&te&&(te<1||!eT))&&Ky(l.targets).forEach(function(Ct){return Ct.classList[he||b?"add":"remove"](l.className)}),o&&!A&&!vt&&o(H),Fe&&!oi?(A&&(Ue&&(ve==="complete"?a.pause().totalProgress(1):ve==="reset"?a.restart(!0).pause():ve==="restart"?a.restart(!0):a[ve]()),o&&o(H)),(qe||!eT)&&(u&&qe&&rT(H,u),q[ye]&&rT(H,q[ye]),b&&(te===1?H.kill(!1,1):q[ye]=0),qe||(ye=te===1?1:3,q[ye]&&rT(H,q[ye]))),R&&!he&&Math.abs(H.getVelocity())>(Rv(R)?R:2500)&&(uv(H.callbackAnimation),Pt?Pt.progress(1):uv(a,ve==="reverse"?1:!te,1))):A&&o&&!oi&&o(H)}if(at){var ht=k?Qt/k.duration()*(k._caScrollDist||0):Qt;rt(ht+(fe._isFlipped?1:0)),at(ht)}Mt&&Mt(-Qt/k.duration()*(k._caScrollDist||0))}},H.enable=function(vt,Lt){H.enabled||(H.enabled=!0,Aa(D,"resize",Dv),B||Aa(D,"scroll",Ip),Z&&Aa(e,"refreshInit",Z),vt!==!1&&(H.progress=ne=0,oe=K=V=se()),Lt!==!1&&H.refresh())},H.getTween=function(vt){return vt&&ue?ue.tween:Pt},H.setPositions=function(vt,Lt,Ft,Qt){if(k){var Kn=k.scrollTrigger,te=k.duration(),xe=Kn.end-Kn.start;vt=Kn.start+xe*vt/te,Lt=Kn.start+xe*Lt/te}H.refresh(!1,!1,{start:Y9(vt,Ft&&!!H._startClamp),end:Y9(Lt,Ft&&!!H._endClamp)},Qt),H.update()},H.adjustPinSpacing=function(vt){if(Re&&vt){var Lt=Re.indexOf(O.d)+1;Re[Lt]=parseFloat(Re[Lt])+vt+ga,Re[1]=parseFloat(Re[1])+vt+ga,Ug(Re)}},H.disable=function(vt,Lt){if(vt!==!1&&H.revert(!0,!0),H.enabled&&(H.enabled=H.isActive=!1,Lt||Pt&&Pt.pause(),Qr=0,W&&(W.uncache=1),Z&&Ta(e,"refreshInit",Z),Fr&&(Fr.pause(),ue.tween&&ue.tween.kill()&&(ue.tween=0)),!B)){for(var Ft=Lr.length;Ft--;)if(Lr[Ft].scroller===D&&Lr[Ft]!==H)return;Ta(D,"resize",Dv),B||Ta(D,"scroll",Ip)}},H.kill=function(vt,Lt){H.disable(vt,Lt),Pt&&!Lt&&Pt.kill(),c&&delete fD[c];var Ft=Lr.indexOf(H);Ft>=0&&Lr.splice(Ft,1),Ft===Oi&&Sj>0&&Oi--,Ft=0,Lr.forEach(function(Qt){return Qt.scroller===H.scroller&&(Ft=1)}),Ft||Ri||(H.scroll.rec=0),a&&(a.scrollTrigger=null,vt&&a.revert({kill:!1}),Lt||a.kill()),Ee&&[Ee,Ae,fe,Je].forEach(function(Qt){return Qt.parentNode&&Qt.parentNode.removeChild(Qt)}),oy===H&&(oy=0),p&&(W&&(W.uncache=1),Ft=0,Lr.forEach(function(Qt){return Qt.pin===p&&Ft++}),Ft||(W.spacer=0)),n.onKill&&n.onKill(H)},Lr.push(H),H.enable(!1,!1),ar&&ar(H),a&&a.add&&!we){var er=H.update;H.update=function(){H.update=er,zr.cache++,be||pe||H.refresh()},Vt.delayedCall(.01,H.update),we=.01,be=pe=0}else H.refresh();p&&B1e()},e.register=function(n){return ag||(Vt=n||yee(),vee()&&window.document&&e.enable(),ag=Pv),ag},e.defaults=function(n){if(n)for(var a in n)S_[a]=n[a];return S_},e.disable=function(n,a){Pv=0,Lr.forEach(function(o){return o[a?"kill":"disable"](n)}),Ta(Vr,"wheel",Ip),Ta(Vn,"scroll",Ip),clearInterval(b_),Ta(Vn,"touchcancel",Dc),Ta(xn,"touchstart",Dc),j_(Ta,Vn,"pointerdown,touchstart,mousedown",X9),j_(Ta,Vn,"pointerup,touchend,mouseup",J9),nN.kill(),__(Ta);for(var i=0;i<zr.length;i+=3)N_(Ta,zr[i],zr[i+1]),N_(Ta,zr[i],zr[i+2])},e.enable=function(){if(Vr=window,Vn=document,Oo=Vn.documentElement,xn=Vn.body,Vt&&(Ky=Vt.utils.toArray,ty=Vt.utils.clamp,uD=Vt.core.context||Dc,QE=Vt.core.suppressOverwrites||Dc,KM=Vr.history.scrollRestoration||"auto",hD=Vr.pageYOffset||0,Vt.core.globals("ScrollTrigger",e),xn)){Pv=1,Bg=document.createElement("div"),Bg.style.height="100vh",Bg.style.position="absolute",Tee(),R1e(),$s.register(Vt),e.isTouch=$s.isTouch,$d=$s.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),cD=$s.isTouch===1,Aa(Vr,"wheel",Ip),GM=[Vr,Vn,Oo,xn],Vt.matchMedia?(e.matchMedia=function(u){var d=Vt.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Vt.addEventListener("matchMediaInit",function(){Cee(),eF()}),Vt.addEventListener("matchMediaRevert",function(){return kee()}),Vt.addEventListener("matchMedia",function(){Fh(0,1),mm("matchMedia")}),Vt.matchMedia().add("(orientation: portrait)",function(){return nT(),nT})):console.warn("Requires GSAP 3.11.0 or later"),nT(),Aa(Vn,"scroll",Ip);var n=xn.hasAttribute("style"),a=xn.style,i=a.borderTopStyle,o=Vt.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",l=Tu(xn),xa.m=Math.round(l.top+xa.sc())||0,Li.m=Math.round(l.left+Li.sc())||0,i?a.borderTopStyle=i:a.removeProperty("border-top-style"),n||(xn.setAttribute("style",""),xn.removeAttribute("style")),b_=setInterval(eU,250),Vt.delayedCall(.5,function(){return w_=0}),Aa(Vn,"touchcancel",Dc),Aa(xn,"touchstart",Dc),j_(Aa,Vn,"pointerdown,touchstart,mousedown",X9),j_(Aa,Vn,"pointerup,touchend,mouseup",J9),lD=Vt.utils.checkPrefix("transform"),kj.push(lD),ag=ci(),nN=Vt.delayedCall(.2,Fh).pause(),ig=[Vn,"visibilitychange",function(){var u=Vr.innerWidth,d=Vr.innerHeight;Vn.hidden?(H9=u,G9=d):(H9!==u||G9!==d)&&Dv()},Vn,"DOMContentLoaded",Fh,Vr,"load",Fh,Vr,"resize",Dv],__(Aa),Lr.forEach(function(u){return u.enable(0,1)}),c=0;c<zr.length;c+=3)N_(Ta,zr[c],zr[c+1]),N_(Ta,zr[c],zr[c+2])}},e.config=function(n){"limitCallbacks"in n&&(eT=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(b_)||(b_=a)&&setInterval(eU,a),"ignoreMobileResize"in n&&(cD=e.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(__(Ta)||__(Aa,n.autoRefreshEvents||"none"),pee=(n.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(n,a){var i=so(n),o=zr.indexOf(i),l=fm(i);~o&&zr.splice(o,l?6:2),a&&(l?Wc.unshift(Vr,a,xn,a,Oo,a):Wc.unshift(i,a))},e.clearMatchMedia=function(n){Lr.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},e.isInViewport=function(n,a,i){var o=(Co(n)?so(n):n).getBoundingClientRect(),l=o[i?Jh:Zh]*a||0;return i?o.right-l>0&&o.left+l<Vr.innerWidth:o.bottom-l>0&&o.top+l<Vr.innerHeight},e.positionInViewport=function(n,a,i){Co(n)&&(n=so(n));var o=n.getBoundingClientRect(),l=o[i?Jh:Zh],c=a==null?l/2:a in aN?aN[a]*l:~a.indexOf("%")?parseFloat(a)*l/100:parseFloat(a)||0;return i?(o.left+c)/Vr.innerWidth:(o.top+c)/Vr.innerHeight},e.killAll=function(n){if(Lr.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var a=hm.killAll||[];hm={},a.forEach(function(i){return i()})}},e})();Er.version="3.14.2";Er.saveStyles=function(e){return e?Ky(e).forEach(function(t){if(t&&t.style){var r=ko.indexOf(t);r>=0&&ko.splice(r,5),ko.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Vt.core.getCache(t),uD())}}):ko};Er.revert=function(e,t){return eF(!e,t)};Er.create=function(e,t){return new Er(e,t)};Er.refresh=function(e){return e?Dv(!0):(ag||Er.register())&&Fh(!0)};Er.update=function(e){return++zr.cache&&$u(e===!0?2:0)};Er.clearScrollMemory=Eee;Er.maxScroll=function(e,t){return $c(e,t?Li:xa)};Er.getScrollFunc=function(e,t){return Tf(so(e),t?Li:xa)};Er.getById=function(e){return fD[e]};Er.getAll=function(){return Lr.filter(function(e){return e.vars.id!=="ScrollSmoother"})};Er.isScrolling=function(){return!!El};Er.snapDirectional=QM;Er.addEventListener=function(e,t){var r=hm[e]||(hm[e]=[]);~r.indexOf(t)||r.push(t)};Er.removeEventListener=function(e,t){var r=hm[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)};Er.batch=function(e,t){var r=[],n={},a=t.interval||.016,i=t.batchMax||1e9,o=function(u,d){var f=[],m=[],p=Vt.delayedCall(a,function(){d(f,m),f=[],m=[]}).pause();return function(y){f.length||p.restart(!0),f.push(y.trigger),m.push(y),i<=f.length&&p.progress(1)}},l;for(l in t)n[l]=l.substr(0,2)==="on"&&gi(t[l])&&l!=="onRefreshInit"?o(l,t[l]):t[l];return gi(i)&&(i=i(),Aa(Er,"refresh",function(){return i=t.batchMax()})),Ky(e).forEach(function(c){var u={};for(l in n)u[l]=n[l];u.trigger=c,r.push(Er.create(u))}),r};var iU=function(t,r,n,a){return r>a?t(a):r<0&&t(0),n>a?(a-r)/(n-r):n<0?r/(r-n):1},aT=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+($s.isTouch?" pinch-zoom":""):"none",t===Oo&&e(xn,r)},T_={auto:1,scroll:1},W1e=function(t){var r=t.event,n=t.target,a=t.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,o=i._gsap||Vt.core.getCache(i),l=ci(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==xn&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(T_[(c=yl(i)).overflowY]||T_[c.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==n&&!fm(i)&&(T_[(c=yl(i)).overflowY]||T_[c.overflowX]),o._isScrollT=l}(o._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Pee=function(t,r,n,a){return $s.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&W1e,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&Aa(Vn,$s.eventTypes[0],lU,!1,!0)},onDisable:function(){return Ta(Vn,$s.eventTypes[0],lU,!0)}})},H1e=/(input|label|select|textarea)/i,oU,lU=function(t){var r=H1e.test(t.target.tagName);(r||oU)&&(t._gsapAllow=!0,oU=r)},G1e=function(t){Nh(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,n=r.normalizeScrollX,a=r.momentum,i=r.allowNestedScroll,o=r.onRelease,l,c,u=so(t.target)||Oo,d=Vt.core.globals().ScrollSmoother,f=d&&d.get(),m=$d&&(t.content&&so(t.content)||f&&t.content!==!1&&!f.smooth()&&f.content()),p=Tf(u,xa),y=Tf(u,Li),g=1,v=($s.isTouch&&Vr.visualViewport?Vr.visualViewport.scale*Vr.visualViewport.width:Vr.outerWidth)/Vr.innerWidth,_=0,w=gi(a)?function(){return a(l)}:function(){return a||2.8},b,E,S=Pee(u,t.type,!0,i),C=function(){return E=!1},k=Dc,R=Dc,P=function(){c=$c(u,xa),R=ty($d?1:0,c),n&&(k=ty(0,$c(u,Li))),b=Qh},O=function(){m._gsap.y=Ov(parseFloat(m._gsap.y)+p.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},A=function(){if(E){requestAnimationFrame(C);var Y=Ov(l.deltaY/2),M=R(p.v-Y);if(m&&M!==p.v+p.offset){p.offset=M-p.v;var H=Ov((parseFloat(m&&m._gsap.y)||0)-p.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+H+", 0, 1)",m._gsap.y=H+"px",p.cacheID=zr.cache,$u()}return!0}p.offset&&O(),E=!0},D,F,B,z,q=function(){P(),D.isActive()&&D.vars.scrollY>c&&(p()>c?D.progress(1)&&p(c):D.resetTo("scrollY",c))};return m&&Vt.set(m,{y:"+=0"}),t.ignoreCheck=function(G){return $d&&G.type==="touchmove"&&A()||g>1.05&&G.type!=="touchstart"||l.isGesturing||G.touches&&G.touches.length>1},t.onPress=function(){E=!1;var G=g;g=Ov((Vr.visualViewport&&Vr.visualViewport.scale||1)/v),D.pause(),G!==g&&aT(u,g>1.01?!0:n?!1:"x"),F=y(),B=p(),P(),b=Qh},t.onRelease=t.onGestureStart=function(G,Y){if(p.offset&&O(),!Y)z.restart(!0);else{zr.cache++;var M=w(),H,Z;n&&(H=y(),Z=H+M*.05*-G.velocityX/.227,M*=iU(y,H,Z,$c(u,Li)),D.vars.scrollX=k(Z)),H=p(),Z=H+M*.05*-G.velocityY/.227,M*=iU(p,H,Z,$c(u,xa)),D.vars.scrollY=R(Z),D.invalidate().duration(M).play(.01),($d&&D.vars.scrollY>=c||H>=c-1)&&Vt.to({},{onUpdate:q,duration:M})}o&&o(G)},t.onWheel=function(){D._ts&&D.pause(),ci()-_>1e3&&(b=0,_=ci())},t.onChange=function(G,Y,M,H,Z){if(Qh!==b&&P(),Y&&n&&y(k(H[2]===Y?F+(G.startX-G.x):y()+Y-H[1])),M){p.offset&&O();var L=Z[2]===M,J=L?B+G.startY-G.y:p()+M-Z[1],V=R(J);L&&J!==V&&(B+=V-J),p(V)}(M||Y)&&$u()},t.onEnable=function(){aT(u,n?!1:"x"),Er.addEventListener("refresh",q),Aa(Vr,"resize",q),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=y.smooth=!1),S.enable()},t.onDisable=function(){aT(u,!0),Ta(Vr,"resize",q),Er.removeEventListener("refresh",q),S.kill()},t.lockAxis=t.lockAxis!==!1,l=new $s(t),l.iOS=$d,$d&&!p()&&p(1),$d&&Vt.ticker.add(Dc),z=l._dc,D=Vt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Aee(p,p(),function(){return D.pause()})},onUpdate:$u,onComplete:z.vars.onComplete}),l};Er.sort=function(e){if(gi(e))return Lr.sort(e);var t=Vr.pageYOffset||0;return Er.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+Vr.innerHeight}),Lr.sort(e||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Er.observe=function(e){return new $s(e)};Er.normalizeScroll=function(e){if(typeof e>"u")return Pi;if(e===!0&&Pi)return Pi.enable();if(e===!1){Pi&&Pi.kill(),Pi=e;return}var t=e instanceof $s?e:G1e(e);return Pi&&Pi.target===t.target&&Pi.kill(),fm(t.target)&&(Pi=t),t};Er.core={_getVelocityProp:oD,_inputObserver:Pee,_scrollers:zr,_proxies:Wc,bridge:{ss:function(){El||mm("scrollStart"),El=ci()},ref:function(){return oi}}};yee()&&Vt.registerPlugin(Er);Mn.registerPlugin(Er);const K1e=()=>{const e=j.useRef(null),t=j.useRef(null),r=j.useRef(null);return j.useEffect(()=>{const n=i=>{i.preventDefault();const l=i.currentTarget.getAttribute("href");if(l&&l.startsWith("#")){const c=document.querySelector(l);if(c){const u=c.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:u,behavior:"smooth"})}}},a=document.querySelectorAll('a[href^="#"]');if(a.forEach(i=>{i.addEventListener("click",n)}),e.current){const i=e.current.querySelector(".hero-badge"),o=e.current.querySelector(".hero-heading"),l=e.current.querySelector(".hero-subheading"),c=e.current.querySelector(".hero-cta"),u=e.current.querySelector(".hero-trust");e.current.querySelectorAll(".hero-decorative").forEach((m,p)=>{Mn.to(m,{yPercent:p%2===0?30:-30,scrollTrigger:{trigger:e.current,start:"top top",end:"bottom top",scrub:1}})}),Mn.timeline({defaults:{ease:"power3.out"}}).fromTo(i,{opacity:0,y:-20},{opacity:1,y:0,duration:.8}).fromTo(o,{opacity:0,y:30,scale:.95},{opacity:1,y:0,scale:1,duration:1,stagger:.1},"-=0.4").fromTo(l,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.6").fromTo(c,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.4").fromTo(u,{opacity:0},{opacity:1,duration:.8},"-=0.4")}if(t.current&&t.current.querySelectorAll(".feature-card").forEach((o,l)=>{Mn.fromTo(o,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:.3,ease:"power3.out",scrollTrigger:{trigger:o,start:"top bottom",end:"bottom 20%",toggleActions:"play none none reverse"},delay:0}),o.addEventListener("mouseenter",()=>{Mn.to(o,{y:-10,duration:.3,ease:"power2.out"})}),o.addEventListener("mouseleave",()=>{Mn.to(o,{y:0,duration:.3,ease:"power2.out"})})}),r.current){const i=r.current.querySelectorAll(".step-card");Mn.fromTo(i,{opacity:0,x:-50,scale:.95},{opacity:1,x:0,scale:1,duration:.8,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:r.current,start:"top 70%",end:"bottom 20%",toggleActions:"play none none reverse"}})}return()=>{a.forEach(i=>{i.removeEventListener("click",n)}),Er.getAll().forEach(i=>i.kill())}},[]),{heroRef:e,featuresRef:t,stepsRef:r}},Y1e=()=>{const e=j.useRef(null);return j.useEffect(()=>{if(!e.current)return;e.current.querySelectorAll(".particle").forEach((r,n)=>{Mn.set(r,{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:Math.random()*.5+.5,opacity:Math.random()*.3+.1}),Mn.to(r,{y:`+=${Math.random()*200-100}`,x:`+=${Math.random()*200-100}`,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut",delay:Math.random()*2}),Mn.to(r,{rotation:Math.random()*360,duration:Math.random()*20+10,repeat:-1,ease:"none"}),Mn.to(r,{scale:`+=${Math.random()*.3}`,duration:Math.random()*3+2,repeat:-1,yoyo:!0,ease:"sine.inOut"})})},[]),s.jsx("div",{ref:e,className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:30}).map((t,r)=>s.jsx("div",{className:"particle absolute w-2 h-2 rounded-full",style:{background:`radial-gradient(circle, ${r%3===0?"rgba(59, 130, 246, 0.4)":r%3===1?"rgba(139, 92, 246, 0.4)":"rgba(236, 72, 153, 0.4)"}, transparent)`,filter:"blur(1px)"}},r))})},cU=({text:e,className:t="",delay:r=0,as:n="span",gradient:a=!1})=>{const i=j.useRef(null);return j.useEffect(()=>{if(!i.current)return;const o=e.split(" ");i.current.innerHTML=o.map(c=>`<span class="word inline-block mr-2">${c.split("").map(d=>`<span class="char inline-block ${a?"gradient-char":""}">${d===" "?"&nbsp;":d}</span>`).join("")}</span>`).join(" ");const l=i.current.querySelectorAll(".char");Mn.fromTo(l,{opacity:0,y:50,rotationX:-90},{opacity:1,y:0,rotationX:0,duration:.8,stagger:.02,ease:"back.out(1.7)",delay:r}),a&&Mn.to(l,{backgroundPosition:"200% center",duration:3,repeat:-1,ease:"none",stagger:{each:.1,repeat:-1}})},[e,r,a]),s.jsx(n,{ref:i,className:t})},iT=({color:e,size:t="md",position:r})=>{const n=j.useRef(null),a={blue:"from-blue-500/20 to-blue-600/10",purple:"from-purple-500/20 to-purple-600/10",pink:"from-pink-500/20 to-pink-600/10",green:"from-green-500/20 to-green-600/10"},i={sm:"w-64 h-64",md:"w-96 h-96",lg:"w-[600px] h-[600px]"};return j.useEffect(()=>{n.current&&(Mn.to(n.current,{scale:1.2,duration:8,repeat:-1,yoyo:!0,ease:"sine.inOut"}),Mn.to(n.current,{rotation:360,duration:20,repeat:-1,ease:"none"}),Mn.to(n.current,{x:"+=50",y:"+=30",duration:10,repeat:-1,yoyo:!0,ease:"sine.inOut"}))},[]),s.jsx("div",{ref:n,className:`absolute ${i[t]} bg-gradient-to-br ${a[e]} rounded-full blur-3xl opacity-30`,style:r})};var X1e=j.createContext(void 0);function Uf(e){const t=j.useContext(X1e);return e||t||"ltr"}var oT=0;function x2(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uU()),document.body.insertAdjacentElement("beforeend",e[1]??uU()),oT++,()=>{oT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),oT--}},[])}function uU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lT="focusScope.autoFocusOnMount",cT="focusScope.autoFocusOnUnmount",dU={bubbles:!1,cancelable:!0},J1e="FocusScope",vw=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),u=Ss(a),d=Ss(i),f=j.useRef(null),m=Zt(t,g=>c(g)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const E=b.target;l.contains(E)?f.current=E:Bd(f.current,{select:!0})},v=function(b){if(p.paused||!l)return;const E=b.relatedTarget;E!==null&&(l.contains(E)||Bd(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Bd(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(_);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,p.paused]),j.useEffect(()=>{if(l){hU.add(p);const g=document.activeElement;if(!l.contains(g)){const _=new CustomEvent(lT,dU);l.addEventListener(lT,u),l.dispatchEvent(_),_.defaultPrevented||(Z1e(n_e(Oee(l)),{select:!0}),document.activeElement===g&&Bd(l))}return()=>{l.removeEventListener(lT,u),setTimeout(()=>{const _=new CustomEvent(cT,dU);l.addEventListener(cT,d),l.dispatchEvent(_),_.defaultPrevented||Bd(g??document.body,{select:!0}),l.removeEventListener(cT,d),hU.remove(p)},0)}}},[l,u,d,p]);const y=j.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(v&&_){const w=g.currentTarget,[b,E]=Q1e(w);b&&E?!g.shiftKey&&_===E?(g.preventDefault(),r&&Bd(b,{select:!0})):g.shiftKey&&_===b&&(g.preventDefault(),r&&Bd(E,{select:!0})):_===w&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(Tt.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});vw.displayName=J1e;function Z1e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bd(n,{select:t}),document.activeElement!==r)return}function Q1e(e){const t=Oee(e),r=fU(t,e),n=fU(t.reverse(),e);return[r,n]}function Oee(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fU(e,t){for(const r of e)if(!e_e(r,{upTo:t}))return r}function e_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function t_e(e){return e instanceof HTMLInputElement&&"select"in e}function Bd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&t_e(e)&&t&&e.select()}}var hU=r_e();function r_e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=mU(e,t),e.unshift(t)},remove(t){e=mU(e,t),e[0]?.resume()}}}function mU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function n_e(e){return e.filter(t=>t.tagName!=="A")}var uT="rovingFocusGroup.onEntryFocus",s_e={bubbles:!1,cancelable:!0},yw="RovingFocusGroup",[pD,Ree,a_e]=X0(yw),[i_e,ax]=Vs(yw,[a_e]),[o_e,l_e]=i_e(yw),Dee=j.forwardRef((e,t)=>s.jsx(pD.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(pD.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(c_e,{...e,ref:t})})}));Dee.displayName=yw;var c_e=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=j.useRef(null),p=Zt(t,m),y=Uf(i),[g,v]=ji({prop:o,defaultProp:l??null,onChange:c,caller:yw}),[_,w]=j.useState(!1),b=Ss(u),E=Ree(r),S=j.useRef(!1),[C,k]=j.useState(0);return j.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(uT,b),()=>R.removeEventListener(uT,b)},[b]),s.jsx(o_e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:j.useCallback(R=>v(R),[v]),onItemShiftTab:j.useCallback(()=>w(!0),[]),onFocusableItemAdd:j.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:j.useCallback(()=>k(R=>R-1),[]),children:s.jsx(Tt.div,{tabIndex:_||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{S.current=!0}),onFocus:dt(e.onFocus,R=>{const P=!S.current;if(R.target===R.currentTarget&&P&&!_){const O=new CustomEvent(uT,s_e);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const A=E().filter(q=>q.focusable),D=A.find(q=>q.active),F=A.find(q=>q.id===g),z=[D,F,...A].filter(Boolean).map(q=>q.ref.current);Fee(z,d)}}S.current=!1}),onBlur:dt(e.onBlur,()=>w(!1))})})}),Iee="RovingFocusGroupItem",Mee=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=uo(),u=i||c,d=l_e(Iee,r),f=d.currentTabStopId===u,m=Ree(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=d;return j.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(pD.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Tt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:dt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const _=f_e(v,d.orientation,d.dir);if(_!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=m().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const E=b.indexOf(v.currentTarget);b=d.loop?h_e(b,E+1):b.slice(E+1)}setTimeout(()=>Fee(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});Mee.displayName=Iee;var u_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function f_e(e,t,r){const n=d_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return u_e[n]}function Fee(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function h_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var tF=Dee,rF=Mee,m_e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Mp=new WeakMap,A_=new WeakMap,P_={},dT=0,Lee=function(e){return e&&(e.host||Lee(e.parentNode))},p_e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Lee(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},g_e=function(e,t,r,n){var a=p_e(t,Array.isArray(e)?e:[e]);P_[r]||(P_[r]=new WeakMap);var i=P_[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),y=p!==null&&p!=="false",g=(Mp.get(m)||0)+1,v=(i.get(m)||0)+1;Mp.set(m,g),i.set(m,v),o.push(m),g===1&&y&&A_.set(m,!0),v===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(t),l.clear(),dT++,function(){o.forEach(function(f){var m=Mp.get(f)-1,p=i.get(f)-1;Mp.set(f,m),i.set(f,p),m||(A_.has(f)||f.removeAttribute(n),A_.delete(f)),p||f.removeAttribute(r)}),dT--,dT||(Mp=new WeakMap,Mp=new WeakMap,A_=new WeakMap,P_={})}},v2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=m_e(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),g_e(n,a,r,"aria-hidden")):function(){return null}},Mc=function(){return Mc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Mc.apply(this,arguments)};function $ee(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function x_e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ej="right-scroll-bar-position",Tj="width-before-scroll-bar",v_e="with-scroll-bars-hidden",y_e="--removed-body-scroll-bar-size";function fT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function b_e(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var w_e=typeof window<"u"?j.useLayoutEffect:j.useEffect,pU=new WeakMap;function __e(e,t){var r=b_e(null,function(n){return e.forEach(function(a){return fT(a,n)})});return w_e(function(){var n=pU.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||fT(l,null)}),i.forEach(function(l){a.has(l)||fT(l,o)})}pU.set(r,e)},[e]),r}function j_e(e){return e}function N_e(e,t){t===void 0&&(t=j_e);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function S_e(e){e===void 0&&(e={});var t=N_e(null);return t.options=Mc({async:!0,ssr:!1},e),t}var Bee=function(e){var t=e.sideCar,r=$ee(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Mc({},r))};Bee.isSideCarExport=!0;function k_e(e,t){return e.useMedium(t),Bee}var Uee=S_e(),hT=function(){},y2=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:hT,onWheelCapture:hT,onTouchMoveCapture:hT}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,y=e.noIsolation,g=e.inert,v=e.allowPinchZoom,_=e.as,w=_===void 0?"div":_,b=e.gapMode,E=$ee(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=__e([r,t]),k=Mc(Mc({},E),a);return j.createElement(j.Fragment,null,d&&j.createElement(S,{sideCar:Uee,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),o?j.cloneElement(j.Children.only(l),Mc(Mc({},k),{ref:C})):j.createElement(w,Mc({},k,{className:c,ref:C}),l))});y2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y2.classNames={fullWidth:Tj,zeroRight:Ej};var C_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E_e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=C_e();return t&&e.setAttribute("nonce",t),e}function T_e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A_e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var P_e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=E_e())&&(T_e(t,r),A_e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},O_e=function(){var e=P_e();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Vee=function(){var e=O_e(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},R_e={left:0,top:0,right:0,gap:0},mT=function(e){return parseInt(e||"",10)||0},D_e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[mT(r),mT(n),mT(a)]},I_e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return R_e;var t=D_e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},M_e=Vee(),Vg="data-scroll-locked",F_e=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(v_e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Vg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ej,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tj,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ej," .").concat(Ej,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tj," .").concat(Tj,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vg,`] {
    `).concat(y_e,": ").concat(l,`px;
  }
`)},gU=function(){var e=parseInt(document.body.getAttribute(Vg)||"0",10);return isFinite(e)?e:0},L_e=function(){j.useEffect(function(){return document.body.setAttribute(Vg,(gU()+1).toString()),function(){var e=gU()-1;e<=0?document.body.removeAttribute(Vg):document.body.setAttribute(Vg,e.toString())}},[])},$_e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;L_e();var i=j.useMemo(function(){return I_e(a)},[a]);return j.createElement(M_e,{styles:F_e(i,!t,a,r?"":"!important")})},gD=!1;if(typeof window<"u")try{var O_=Object.defineProperty({},"passive",{get:function(){return gD=!0,!0}});window.addEventListener("test",O_,O_),window.removeEventListener("test",O_,O_)}catch{gD=!1}var Fp=gD?{passive:!1}:!1,B_e=function(e){return e.tagName==="TEXTAREA"},zee=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!B_e(e)&&r[t]==="visible")},U_e=function(e){return zee(e,"overflowY")},V_e=function(e){return zee(e,"overflowX")},xU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=qee(e,n);if(a){var i=Wee(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},z_e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},q_e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},qee=function(e,t){return e==="v"?U_e(t):V_e(t)},Wee=function(e,t){return e==="v"?z_e(t):q_e(t)},W_e=function(e,t){return e==="h"&&t==="rtl"?-1:1},H_e=function(e,t,r,n,a){var i=W_e(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var p=Wee(e,l),y=p[0],g=p[1],v=p[2],_=g-v-i*y;(y||_)&&qee(e,l)&&(f+=_,m+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},R_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vU=function(e){return[e.deltaX,e.deltaY]},yU=function(e){return e&&"current"in e?e.current:e},G_e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K_e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Y_e=0,Lp=[];function X_e(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),a=j.useState(Y_e++)[0],i=j.useState(Vee)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=x_e([e.lockRef.current],(e.shards||[]).map(yU),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=R_(g),w=r.current,b="deltaX"in g?g.deltaX:w[0]-_[0],E="deltaY"in g?g.deltaY:w[1]-_[1],S,C=g.target,k=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in g&&k==="h"&&C.type==="range")return!1;var R=xU(k,C);if(!R)return!0;if(R?S=k:(S=k==="v"?"h":"v",R=xU(k,C)),!R)return!1;if(!n.current&&"changedTouches"in g&&(b||E)&&(n.current=S),!S)return!0;var P=n.current||S;return H_e(P,v,g,P==="h"?b:E)},[]),c=j.useCallback(function(g){var v=g;if(!(!Lp.length||Lp[Lp.length-1]!==i)){var _="deltaY"in v?vU(v):R_(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&G_e(S.delta,_)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(yU).filter(Boolean).filter(function(S){return S.contains(v.target)}),E=b.length>0?l(v,b[0]):!o.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=j.useCallback(function(g,v,_,w){var b={name:g,delta:v,target:_,should:w,shadowParent:J_e(_)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(E){return E!==b})},1)},[]),d=j.useCallback(function(g){r.current=R_(g),n.current=void 0},[]),f=j.useCallback(function(g){u(g.type,vU(g),g.target,l(g,e.lockRef.current))},[]),m=j.useCallback(function(g){u(g.type,R_(g),g.target,l(g,e.lockRef.current))},[]);j.useEffect(function(){return Lp.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Fp),document.addEventListener("touchmove",c,Fp),document.addEventListener("touchstart",d,Fp),function(){Lp=Lp.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Fp),document.removeEventListener("touchmove",c,Fp),document.removeEventListener("touchstart",d,Fp)}},[]);var p=e.removeScrollBar,y=e.inert;return j.createElement(j.Fragment,null,y?j.createElement(i,{styles:K_e(a)}):null,p?j.createElement($_e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function J_e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Z_e=k_e(Uee,X_e);var bw=j.forwardRef(function(e,t){return j.createElement(y2,Mc({},e,{ref:t,sideCar:Z_e}))});bw.classNames=y2.classNames;var xD=["Enter"," "],Q_e=["ArrowDown","PageUp","Home"],Hee=["ArrowUp","PageDown","End"],eje=[...Q_e,...Hee],tje={ltr:[...xD,"ArrowRight"],rtl:[...xD,"ArrowLeft"]},rje={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ww="Menu",[Xy,nje,sje]=X0(ww),[Gm,Gee]=Vs(ww,[sje,Lf,ax]),b2=Lf(),Kee=ax(),[aje,Km]=Gm(ww),[ije,_w]=Gm(ww),Yee=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=b2(t),[c,u]=j.useState(null),d=j.useRef(!1),f=Ss(i),m=Uf(a);return j.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(r2,{...l,children:s.jsx(aje,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(ije,{scope:t,onClose:j.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};Yee.displayName=ww;var oje="MenuAnchor",nF=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=b2(r);return s.jsx(mw,{...a,...n,ref:t})});nF.displayName=oje;var sF="MenuPortal",[lje,Xee]=Gm(sF,{forceMount:void 0}),Jee=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Km(sF,t);return s.jsx(lje,{scope:t,forceMount:r,children:s.jsx(la,{present:r||i.open,children:s.jsx(J0,{asChild:!0,container:a,children:n})})})};Jee.displayName=sF;var Tl="MenuContent",[cje,aF]=Gm(Tl),Zee=j.forwardRef((e,t)=>{const r=Xee(Tl,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Km(Tl,e.__scopeMenu),o=_w(Tl,e.__scopeMenu);return s.jsx(Xy.Provider,{scope:e.__scopeMenu,children:s.jsx(la,{present:n||i.open,children:s.jsx(Xy.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(uje,{...a,ref:t}):s.jsx(dje,{...a,ref:t})})})})}),uje=j.forwardRef((e,t)=>{const r=Km(Tl,e.__scopeMenu),n=j.useRef(null),a=Zt(t,n);return j.useEffect(()=>{const i=n.current;if(i)return v2(i)},[]),s.jsx(iF,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),dje=j.forwardRef((e,t)=>{const r=Km(Tl,e.__scopeMenu);return s.jsx(iF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fje=yf("MenuContent.ScrollLock"),iF=j.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=e,v=Km(Tl,r),_=_w(Tl,r),w=b2(r),b=Kee(r),E=nje(r),[S,C]=j.useState(null),k=j.useRef(null),R=Zt(t,k,v.onContentChange),P=j.useRef(0),O=j.useRef(""),A=j.useRef(0),D=j.useRef(null),F=j.useRef("right"),B=j.useRef(0),z=y?bw:j.Fragment,q=y?{as:fje,allowPinchZoom:!0}:void 0,G=M=>{const H=O.current+M,Z=E().filter(se=>!se.disabled),L=document.activeElement,J=Z.find(se=>se.ref.current===L)?.textValue,V=Z.map(se=>se.textValue),X=Nje(V,H,J),ne=Z.find(se=>se.textValue===X)?.ref.current;(function se(ue){O.current=ue,window.clearTimeout(P.current),ue!==""&&(P.current=window.setTimeout(()=>se(""),1e3))})(H),ne&&setTimeout(()=>ne.focus())};j.useEffect(()=>()=>window.clearTimeout(P.current),[]),x2();const Y=j.useCallback(M=>F.current===D.current?.side&&kje(M,D.current?.area),[]);return s.jsx(cje,{scope:r,searchRef:O,onItemEnter:j.useCallback(M=>{Y(M)&&M.preventDefault()},[Y]),onItemLeave:j.useCallback(M=>{Y(M)||(k.current?.focus(),C(null))},[Y]),onTriggerLeave:j.useCallback(M=>{Y(M)&&M.preventDefault()},[Y]),pointerGraceTimerRef:A,onPointerGraceIntentChange:j.useCallback(M=>{D.current=M},[]),children:s.jsx(z,{...q,children:s.jsx(vw,{asChild:!0,trapped:a,onMountAutoFocus:dt(i,M=>{M.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(qm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(tF,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:dt(c,M=>{_.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(n2,{role:"menu","aria-orientation":"vertical","data-state":mte(v.open),"data-radix-menu-content":"",dir:_.dir,...w,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:dt(g.onKeyDown,M=>{const Z=M.target.closest("[data-radix-menu-content]")===M.currentTarget,L=M.ctrlKey||M.altKey||M.metaKey,J=M.key.length===1;Z&&(M.key==="Tab"&&M.preventDefault(),!L&&J&&G(M.key));const V=k.current;if(M.target!==V||!eje.includes(M.key))return;M.preventDefault();const ne=E().filter(se=>!se.disabled).map(se=>se.ref.current);Hee.includes(M.key)&&ne.reverse(),_je(ne)}),onBlur:dt(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:dt(e.onPointerMove,Jy(M=>{const H=M.target,Z=B.current!==M.clientX;if(M.currentTarget.contains(H)&&Z){const L=M.clientX>B.current?"right":"left";F.current=L,B.current=M.clientX}}))})})})})})})});Zee.displayName=Tl;var hje="MenuGroup",oF=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Tt.div,{role:"group",...n,ref:t})});oF.displayName=hje;var mje="MenuLabel",Qee=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Tt.div,{...n,ref:t})});Qee.displayName=mje;var iN="MenuItem",bU="menu.itemSelect",w2=j.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=j.useRef(null),o=_w(iN,e.__scopeMenu),l=aF(iN,e.__scopeMenu),c=Zt(t,i),u=j.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(bU,{bubbles:!0,cancelable:!0});f.addEventListener(bU,p=>n?.(p),{once:!0}),Y3(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(ete,{...a,ref:c,disabled:r,onClick:dt(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:dt(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:dt(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||xD.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});w2.displayName=iN;var ete=j.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=aF(iN,r),l=Kee(r),c=j.useRef(null),u=Zt(t,c),[d,f]=j.useState(!1),[m,p]=j.useState("");return j.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx(Xy.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(rF,{asChild:!0,...l,focusable:!n,children:s.jsx(Tt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:dt(e.onPointerMove,Jy(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,Jy(y=>o.onItemLeave(y))),onFocus:dt(e.onFocus,()=>f(!0)),onBlur:dt(e.onBlur,()=>f(!1))})})})}),pje="MenuCheckboxItem",tte=j.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(ite,{scope:e.__scopeMenu,checked:r,children:s.jsx(w2,{role:"menuitemcheckbox","aria-checked":oN(r)?"mixed":r,...a,ref:t,"data-state":cF(r),onSelect:dt(a.onSelect,()=>n?.(oN(r)?!0:!r),{checkForDefaultPrevented:!1})})})});tte.displayName=pje;var rte="MenuRadioGroup",[gje,xje]=Gm(rte,{value:void 0,onValueChange:()=>{}}),nte=j.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ss(n);return s.jsx(gje,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(oF,{...a,ref:t})})});nte.displayName=rte;var ste="MenuRadioItem",ate=j.forwardRef((e,t)=>{const{value:r,...n}=e,a=xje(ste,e.__scopeMenu),i=r===a.value;return s.jsx(ite,{scope:e.__scopeMenu,checked:i,children:s.jsx(w2,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":cF(i),onSelect:dt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});ate.displayName=ste;var lF="MenuItemIndicator",[ite,vje]=Gm(lF,{checked:!1}),ote=j.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=vje(lF,r);return s.jsx(la,{present:n||oN(i.checked)||i.checked===!0,children:s.jsx(Tt.span,{...a,ref:t,"data-state":cF(i.checked)})})});ote.displayName=lF;var yje="MenuSeparator",lte=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Tt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});lte.displayName=yje;var bje="MenuArrow",cte=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=b2(r);return s.jsx(s2,{...a,...n,ref:t})});cte.displayName=bje;var wje="MenuSub",[Iit,ute]=Gm(wje),Iv="MenuSubTrigger",dte=j.forwardRef((e,t)=>{const r=Km(Iv,e.__scopeMenu),n=_w(Iv,e.__scopeMenu),a=ute(Iv,e.__scopeMenu),i=aF(Iv,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>d,[d]),j.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(nF,{asChild:!0,...u,children:s.jsx(ete,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":mte(r.open),...e,ref:YS(t,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,Jy(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:dt(e.onPointerLeave,Jy(f=>{d();const m=r.content?.getBoundingClientRect();if(m){const p=r.content?.dataset.side,y=p==="right",g=y?-5:5,v=m[y?"left":"right"],_=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:v,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,f=>{const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||tje[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});dte.displayName=Iv;var fte="MenuSubContent",hte=j.forwardRef((e,t)=>{const r=Xee(Tl,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Km(Tl,e.__scopeMenu),o=_w(Tl,e.__scopeMenu),l=ute(fte,e.__scopeMenu),c=j.useRef(null),u=Zt(t,c);return s.jsx(Xy.Provider,{scope:e.__scopeMenu,children:s.jsx(la,{present:n||i.open,children:s.jsx(Xy.Slot,{scope:e.__scopeMenu,children:s.jsx(iF,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:dt(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:dt(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=rje[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});hte.displayName=fte;function mte(e){return e?"open":"closed"}function oN(e){return e==="indeterminate"}function cF(e){return oN(e)?"indeterminate":e?"checked":"unchecked"}function _je(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function jje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Nje(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=jje(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Sje(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function kje(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Sje(r,t)}function Jy(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Cje=Yee,Eje=nF,Tje=Jee,Aje=Zee,Pje=oF,Oje=Qee,Rje=w2,Dje=tte,Ije=nte,Mje=ate,Fje=ote,Lje=lte,$je=cte,Bje=dte,Uje=hte,_2="DropdownMenu",[Vje]=Vs(_2,[Gee]),Gi=Gee(),[zje,pte]=Vje(_2),gte=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Gi(t),u=j.useRef(null),[d,f]=ji({prop:a,defaultProp:i??!1,onChange:o,caller:_2});return s.jsx(zje,{scope:t,triggerId:uo(),triggerRef:u,contentId:uo(),open:d,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(Cje,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};gte.displayName=_2;var xte="DropdownMenuTrigger",vte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=pte(xte,r),o=Gi(r);return s.jsx(Eje,{asChild:!0,...o,children:s.jsx(Tt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:YS(t,i.triggerRef),onPointerDown:dt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:dt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vte.displayName=xte;var qje="DropdownMenuPortal",yte=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gi(t);return s.jsx(Tje,{...n,...r})};yte.displayName=qje;var bte="DropdownMenuContent",wte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=pte(bte,r),i=Gi(r),o=j.useRef(!1);return s.jsx(Aje,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wte.displayName=bte;var Wje="DropdownMenuGroup",Hje=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Pje,{...a,...n,ref:t})});Hje.displayName=Wje;var Gje="DropdownMenuLabel",_te=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Oje,{...a,...n,ref:t})});_te.displayName=Gje;var Kje="DropdownMenuItem",jte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Rje,{...a,...n,ref:t})});jte.displayName=Kje;var Yje="DropdownMenuCheckboxItem",Nte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Dje,{...a,...n,ref:t})});Nte.displayName=Yje;var Xje="DropdownMenuRadioGroup",Jje=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Ije,{...a,...n,ref:t})});Jje.displayName=Xje;var Zje="DropdownMenuRadioItem",Ste=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Mje,{...a,...n,ref:t})});Ste.displayName=Zje;var Qje="DropdownMenuItemIndicator",kte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Fje,{...a,...n,ref:t})});kte.displayName=Qje;var eNe="DropdownMenuSeparator",Cte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Lje,{...a,...n,ref:t})});Cte.displayName=eNe;var tNe="DropdownMenuArrow",rNe=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx($je,{...a,...n,ref:t})});rNe.displayName=tNe;var nNe="DropdownMenuSubTrigger",Ete=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Bje,{...a,...n,ref:t})});Ete.displayName=nNe;var sNe="DropdownMenuSubContent",Tte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gi(r);return s.jsx(Uje,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tte.displayName=sNe;var aNe=gte,iNe=vte,oNe=yte,Ate=wte,Pte=_te,Ote=jte,Rte=Nte,Dte=Ste,Ite=kte,Mte=Cte,Fte=Ete,Lte=Tte;const ad=aNe,id=iNe,lNe=j.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(Fte,{ref:a,className:ut("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(bf,{className:"ml-auto h-4 w-4"})]}));lNe.displayName=Fte.displayName;const cNe=j.forwardRef(({className:e,...t},r)=>s.jsx(Lte,{ref:r,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));cNe.displayName=Lte.displayName;const ou=j.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(oNe,{children:s.jsx(Ate,{ref:n,sideOffset:t,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ou.displayName=Ate.displayName;const Fn=j.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Ote,{ref:n,className:ut("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Fn.displayName=Ote.displayName;const uNe=j.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(Rte,{ref:a,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ite,{children:s.jsx(Cn,{className:"h-4 w-4"})})}),t]}));uNe.displayName=Rte.displayName;const dNe=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Dte,{ref:n,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ite,{children:s.jsx(LJ,{className:"h-2 w-2 fill-current"})})}),t]}));dNe.displayName=Dte.displayName;const fNe=j.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Pte,{ref:n,className:ut("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));fNe.displayName=Pte.displayName;const Ym=j.forwardRef(({className:e,...t},r)=>s.jsx(Mte,{ref:r,className:ut("-mx-1 my-1 h-px bg-muted",e),...t}));Ym.displayName=Mte.displayName;function ei(){const{setTheme:e}=rZ();return s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"outline",size:"icon",className:"transition-all duration-300 hover:scale-110 hover:rotate-12",children:[s.jsx(FB,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(DB,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(ou,{align:"end",children:[s.jsxs(Fn,{onClick:()=>e("light"),children:[s.jsx(FB,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"})]}),s.jsxs(Fn,{onClick:()=>e("dark"),children:[s.jsx(DB,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"})]}),s.jsxs(Fn,{onClick:()=>e("system"),children:[s.jsx("span",{className:"mr-2 h-4 w-4",children:""}),s.jsx("span",{children:"System"})]})]})]})}const pm=({size:e=40,showBackground:t=!0,className:r=""})=>s.jsx("div",{className:`${t?"bg-blue-600 rounded-lg p-2":""} inline-flex items-center justify-center ${r}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.50",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:[s.jsx("path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5"}),s.jsx("path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244"}),s.jsx("path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05"})]})});var j2="Dialog",[$te,Bte]=Vs(j2),[hNe,wc]=$te(j2),Ute=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,d]=ji({prop:n,defaultProp:a??!1,onChange:i,caller:j2});return s.jsx(hNe,{scope:t,triggerRef:l,contentRef:c,contentId:uo(),titleId:uo(),descriptionId:uo(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};Ute.displayName=j2;var Vte="DialogTrigger",zte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=wc(Vte,r),i=Zt(t,a.triggerRef);return s.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":fF(a.open),...n,ref:i,onClick:dt(e.onClick,a.onOpenToggle)})});zte.displayName=Vte;var uF="DialogPortal",[mNe,qte]=$te(uF,{forceMount:void 0}),Wte=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=wc(uF,t);return s.jsx(mNe,{scope:t,forceMount:r,children:j.Children.map(n,o=>s.jsx(la,{present:r||i.open,children:s.jsx(J0,{asChild:!0,container:a,children:o})}))})};Wte.displayName=uF;var lN="DialogOverlay",Hte=j.forwardRef((e,t)=>{const r=qte(lN,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=wc(lN,e.__scopeDialog);return i.modal?s.jsx(la,{present:n||i.open,children:s.jsx(gNe,{...a,ref:t})}):null});Hte.displayName=lN;var pNe=yf("DialogOverlay.RemoveScroll"),gNe=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=wc(lN,r);return s.jsx(bw,{as:pNe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Tt.div,{"data-state":fF(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),gm="DialogContent",Gte=j.forwardRef((e,t)=>{const r=qte(gm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=wc(gm,e.__scopeDialog);return s.jsx(la,{present:n||i.open,children:i.modal?s.jsx(xNe,{...a,ref:t}):s.jsx(vNe,{...a,ref:t})})});Gte.displayName=gm;var xNe=j.forwardRef((e,t)=>{const r=wc(gm,e.__scopeDialog),n=j.useRef(null),a=Zt(t,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return v2(i)},[]),s.jsx(Kte,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault())})}),vNe=j.forwardRef((e,t)=>{const r=wc(gm,e.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(Kte,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Kte=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=wc(gm,r),c=j.useRef(null),u=Zt(t,c);return x2(),s.jsxs(s.Fragment,{children:[s.jsx(vw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(qm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":fF(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(bNe,{titleId:l.titleId}),s.jsx(_Ne,{contentRef:c,descriptionId:l.descriptionId})]})]})}),dF="DialogTitle",Yte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=wc(dF,r);return s.jsx(Tt.h2,{id:a.titleId,...n,ref:t})});Yte.displayName=dF;var Xte="DialogDescription",Jte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=wc(Xte,r);return s.jsx(Tt.p,{id:a.descriptionId,...n,ref:t})});Jte.displayName=Xte;var Zte="DialogClose",Qte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=wc(Zte,r);return s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>a.onOpenChange(!1))})});Qte.displayName=Zte;function fF(e){return e?"open":"closed"}var ere="DialogTitleWarning",[yNe,tre]=Ipe(ere,{contentName:gm,titleName:dF,docsSlug:"dialog"}),bNe=({titleId:e})=>{const t=tre(ere),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wNe="DialogDescriptionWarning",_Ne=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tre(wNe).contentName}}.`;return j.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},hF=Ute,rre=zte,mF=Wte,jw=Hte,Nw=Gte,Sw=Yte,kw=Jte,N2=Qte;const jNe=hF,NNe=rre,SNe=mF,nre=j.forwardRef(({className:e,...t},r)=>s.jsx(jw,{className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));nre.displayName=jw.displayName;const kNe=Z0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sre=j.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(SNe,{children:[s.jsx(nre,{}),s.jsxs(Nw,{ref:a,className:ut(kNe({side:e}),t),...n,children:[r,s.jsxs(N2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(La,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sre.displayName=Nw.displayName;const are=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col space-y-2 text-center sm:text-left",e),...t});are.displayName="SheetHeader";const ire=j.forwardRef(({className:e,...t},r)=>s.jsx(Sw,{ref:r,className:ut("text-lg font-semibold text-foreground",e),...t}));ire.displayName=Sw.displayName;const CNe=j.forwardRef(({className:e,...t},r)=>s.jsx(kw,{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));CNe.displayName=kw.displayName;const ENe=()=>{const[e,t]=j.useState(!1),{heroRef:r,featuresRef:n,stepsRef:a}=K1e(),i=[{icon:nM,title:"Lightning Fast Setup",description:"Launch your premium store in under 5 minutes. No technical expertise needed.",gradient:"from-amber-500 to-orange-500"},{icon:Rn,title:"Smart Inventory",description:"Manage your product catalog efficiently with our intuitive interface.",gradient:"from-emerald-500 to-teal-500"},{icon:_R,title:"WhatsApp Integration",description:"Connect with customers on their preferred messaging platform.",gradient:"from-green-500 to-emerald-600"},{icon:qu,title:"Enterprise Security",description:"Bank-level security with 99.9% uptime guarantee for peace of mind.",gradient:"from-blue-500 to-indigo-500"},{icon:Q0,title:"Advanced Analytics",description:"Make data-driven decisions with real-time insights and reports.",gradient:"from-purple-500 to-pink-500"},{icon:sg,title:"Premium Experience",description:"Deliver a luxurious shopping experience that converts visitors to customers.",gradient:"from-yellow-500 to-amber-500"}],o=[{number:"01",title:"Sign Up",description:"Create your account in seconds with Google"},{number:"02",title:"Add Products",description:"Build your product catalog easily"},{number:"03",title:"Customize",description:"Brand your store with colors and logo"},{number:"04",title:"Go Live",description:"Share your store link and start selling"}],l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"DigitalDukandar",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR",description:"Free 14-day trial, no credit card required"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"10000",bestRating:"5",worstRating:"1"},description:"Create your online store in minutes. Launch a professional e-commerce website with custom subdomain, WhatsApp integration, and powerful analytics. No coding required.",url:"https://digitaldukandar.in",image:"https://digitaldukandar.in/logo.png",provider:{"@type":"Organization",name:"DigitalDukandar",url:"https://digitaldukandar.in"}};return s.jsxs("div",{className:"min-h-screen bg-background font-inter",children:[s.jsxs(EM,{children:[s.jsx("title",{children:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"title",content:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"description",content:"Launch your professional online store in 5 minutes. Get free subdomain, WhatsApp integration, inventory management & analytics. No coding needed. Trusted by 10,000+ Indian entrepreneurs. Start free trial!"}),s.jsx("meta",{name:"keywords",content:"online store builder India, create online store, e-commerce platform India, free online store, sell online India, WhatsApp store, digital store maker, small business e-commerce, Indian online shopping platform, store builder no coding"}),s.jsx("link",{rel:"canonical",href:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{property:"og:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{property:"og:site_name",content:"DigitalDukandar"}),s.jsx("meta",{property:"og:locale",content:"en_IN"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{name:"twitter:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{name:"twitter:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),s.jsx("meta",{name:"googlebot",content:"index, follow"}),s.jsx("meta",{name:"language",content:"English"}),s.jsx("meta",{name:"geo.region",content:"IN"}),s.jsx("meta",{name:"geo.placename",content:"India"}),s.jsx("link",{rel:"sitemap",type:"application/xml",href:"/sitemap.xml"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(l)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8 h-16 sm:h-20 flex items-center justify-between gap-2",children:[s.jsxs(kt,{to:"/",className:"flex items-center gap-3 sm:gap-4 group flex-shrink-0","aria-label":"DigitalDukandar Home",children:[s.jsx(pm,{size:40,className:"transition-transform group-hover:scale-105"}),s.jsx("span",{className:"font-playfair font-bold text-2xl sm:text-3xl md:text-4xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#features",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),s.jsx(kt,{to:"/pricing",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(kt,{to:"/demo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Demo Store"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[s.jsx(ei,{}),s.jsxs(jNe,{open:e,onOpenChange:t,children:[s.jsx(NNe,{asChild:!0,children:s.jsx(ie,{variant:"ghost",size:"icon",className:"md:hidden h-11 w-11 min-h-[44px]","aria-label":"Open menu","aria-expanded":e,children:s.jsx(eM,{className:"h-5 w-5"})})}),s.jsxs(sre,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsx(are,{children:s.jsxs(ire,{className:"flex items-center gap-2",children:[s.jsx(sg,{className:"w-5 h-5 text-primary"}),"Menu"]})}),s.jsxs("nav",{className:"flex flex-col gap-4 mt-8","aria-label":"Mobile navigation",children:[s.jsx("a",{href:"#features",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"How It Works"}),s.jsx(kt,{to:"/pricing",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"For Helpers"}),s.jsx(kt,{to:"/demo",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Demo Store"}),s.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[s.jsx(kt,{to:"/auth",className:"w-full",children:s.jsx(ie,{variant:"outline",size:"lg",className:"w-full h-12 min-h-[48px]",children:"Login"})}),s.jsx(kt,{to:"/auth",className:"w-full",children:s.jsxs(ie,{size:"lg",className:"w-full h-12 min-h-[48px]",children:["Get Started Free",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]})]})]})]}),s.jsx(kt,{to:"/auth",className:"hidden md:inline-block",children:s.jsx(ie,{variant:"ghost",size:"sm",className:"font-medium h-11 px-4 text-sm min-h-[44px]",children:"Login"})}),s.jsx(kt,{to:"/auth",className:"hidden md:inline-block",children:s.jsxs(ie,{size:"sm",className:"shadow-lg hover:shadow-xl transition-all font-medium h-11 px-4 text-sm min-h-[44px]",children:["Get Started Free",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsxs("section",{ref:r,className:"relative overflow-hidden bg-gradient-to-b from-background via-primary/[0.02] to-background",children:[s.jsx(Y1e,{}),s.jsx(iT,{color:"blue",size:"lg",position:{top:"-20%",right:"-10%"}}),s.jsx(iT,{color:"purple",size:"md",position:{bottom:"-15%",left:"-5%"}}),s.jsx(iT,{color:"pink",size:"md",position:{top:"30%",left:"50%"}}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"hero-decorative absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"hero-decorative absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8 py-24 lg:py-36",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsxs("div",{className:"hero-badge inline-flex items-center gap-2 bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 text-primary px-5 py-2.5 rounded-full text-sm font-semibold mb-8 shadow-lg backdrop-blur-sm",children:[s.jsx(zJ,{className:"w-4 h-4 fill-primary"}),"Trusted by 10,000+ Entrepreneurs Worldwide",s.jsx(VJ,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"hero-heading mb-6",children:[s.jsx(cU,{text:"Free Online Store India",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-foreground leading-[1.1]",delay:.3}),s.jsx(cU,{text:"Launch in 5 Minutes",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold leading-[1.1] mt-2 bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent bg-[length:200%_100%] animate-gradient",delay:.6,gradient:!0})]}),s.jsx("p",{className:"hero-subheading text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed font-light",children:"Create your professional online store builder for small business India. Sell online with WhatsApp integration, custom domain, and powerful inventory management. No coding required - start your free e-commerce platform today!"}),s.jsxs("div",{className:"hero-cta flex flex-col sm:flex-row gap-5 justify-center items-center mb-12",children:[s.jsx(kt,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(ie,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl hover:shadow-primary/25 transition-all group font-semibold",children:[s.jsx(sg,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Start Building Free"]})}),s.jsx(kt,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(ie,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(cm,{className:"w-5 h-5 mr-2"}),"Explore Demo Store",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"hero-trust flex flex-wrap justify-center items-center gap-8 text-sm font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(Cn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"No credit card required"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(Cn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Setup in 5 minutes"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(Cn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Cancel anytime"})]})]}),s.jsxs("div",{className:"mt-16 flex justify-center items-center gap-3 text-sm text-muted-foreground animate-in fade-in duration-700 delay-700",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(c=>s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-background flex items-center justify-center",children:s.jsx(Dge,{className:"w-4 h-4 text-primary"})},c))}),s.jsx("span",{className:"font-medium",children:"Join thousands of successful store owners"})]})]})})]}),s.jsx("section",{ref:n,id:"features",className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Premium Features"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Everything You Need to Succeed"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Powerful features designed to help you launch, manage, and grow your online business with elegance and ease."})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((c,u)=>s.jsxs(Se,{className:"feature-card relative p-8 hover:shadow-2xl transition-all duration-500 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${c.gradient} rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300`,children:s.jsx(c.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description})]})]},u))})]})}),s.jsx("section",{ref:a,id:"how-it-works",className:"relative bg-gradient-to-b from-muted/30 via-muted/20 to-background py-24 lg:py-32",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Simple Process"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"How It Works"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Launch your luxury online store in four elegant steps"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-6",children:o.map((c,u)=>s.jsxs("div",{className:"step-card relative",children:[s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-3xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-primary via-primary to-primary/80 border-2 border-primary/30 rounded-3xl flex items-center justify-center shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300",children:s.jsx("span",{className:"font-playfair font-bold text-3xl text-primary-foreground",children:c.number})})]}),s.jsx("h3",{className:"font-playfair font-bold text-2xl mb-3 text-foreground",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description})]}),u<o.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-10 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-primary/40 via-primary/20 to-transparent"})]},u))})]})})}),s.jsxs("section",{id:"helper-program",className:"relative bg-gradient-to-b from-background via-green-500/5 to-background py-24 lg:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-green-500/10 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Helper Program"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Earn While Helping Others Succeed"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Join our helper program and earn generous commissions by helping store owners build their online businesses"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[s.jsxs(Se,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-emerald-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(Ya,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Earn Commission"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Get 10% direct commission + 5% network commission on every successful store signup"})]})]}),s.jsxs(Se,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(Bi,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Build Your Network"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Recruit other helpers and earn from their referrals too. Create passive income streams"})]})]}),s.jsxs(Se,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(ZS,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Flexible Work"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Work on your own schedule. Help businesses online from anywhere in the world"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center",children:[s.jsx(kt,{to:"/become-helper",className:"w-full sm:w-auto",children:s.jsxs(ie,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 transition-all group font-semibold",children:[s.jsx(qJ,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Apply to Become a Helper"]})}),s.jsx(kt,{to:"/application-status",className:"w-full sm:w-auto",children:s.jsxs(ie,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(qu,{className:"w-5 h-5 mr-2"}),"Check Application Status"]})})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already a helper? ",s.jsx(kt,{to:"/helper/login",className:"text-primary font-semibold hover:underline",children:"Login here"})]})})]})})]}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32 bg-muted/20",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Why DigitalDukandar is the Best Free Online Store Builder in India"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Trusted by over 10,000+ small businesses across India to sell online and grow their digital presence"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Built for Indian Entrepreneurs"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"e-commerce platform India"})," is designed specifically for local businesses. Accept payments in INR, integrate WhatsApp for customer communication, and reach customers across India with our ",s.jsx("strong",{children:"online store builder"})," made for the Indian market."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Completely Free to Start"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Start your ",s.jsx("strong",{children:"free online store"})," with our 14-day trial - no credit card required. Our ",s.jsx("strong",{children:"affordable pricing plans"})," start from just 299/month, making it the most cost-effective way to ",s.jsx("strong",{children:"sell online India"})," for small businesses."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" WhatsApp Store Integration"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Convert your business into a ",s.jsx("strong",{children:"WhatsApp store"})," instantly. Accept orders directly through WhatsApp - India's most popular messaging app. Perfect for ",s.jsx("strong",{children:"small business e-commerce"})," owners who want to meet customers where they are."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" No Coding Required"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"digital store maker"})," requires zero technical knowledge. Create a professional ",s.jsx("strong",{children:"online shopping website"})," in minutes with our easy drag-and-drop interface. Perfect for ",s.jsx("strong",{children:"store builder no coding"})," solutions in India."]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-10 rounded-2xl border border-primary/20 text-center",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold mb-4 text-foreground",children:"Start Your Free Online Store in India Today"}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:["Join 10,000+ successful Indian entrepreneurs using DigitalDukandar as their ",s.jsx("strong",{children:"e-commerce platform India"}),". Create your ",s.jsx("strong",{children:"online store builder for small business India"})," in just 5 minutes."]}),s.jsx(kt,{to:"/auth",children:s.jsxs(ie,{size:"lg",className:"h-14 px-10 text-base font-semibold shadow-xl",children:[s.jsx(sg,{className:"w-5 h-5 mr-2"}),"Create Free Online Store Now",s.jsx(ya,{className:"w-5 h-5 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(Se,{className:"relative overflow-hidden border-0 shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary/90"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),s.jsxs("div",{className:"relative p-10 lg:p-20 text-center text-primary-foreground",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Cl,{className:"w-16 h-16 mx-auto text-primary-foreground/90"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Ready to Launch Your Store?"}),s.jsx("p",{className:"text-xl md:text-2xl mb-10 opacity-95 max-w-3xl mx-auto leading-relaxed font-light",children:"Join thousands of successful entrepreneurs. Create your professional online store today and start selling in minutes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center mb-8",children:[s.jsx(kt,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(ie,{size:"lg",variant:"secondary",className:"w-full sm:w-auto h-14 shadow-2xl hover:shadow-primary-foreground/20 text-base px-10 font-semibold",children:[s.jsx(sg,{className:"w-5 h-5 mr-2"}),"Start Building Free",s.jsx(ya,{className:"w-5 h-5 ml-2"})]})}),s.jsx(kt,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(ie,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 bg-white/10 hover:bg-white/20 border-2 border-white/30 text-white text-base px-10 font-semibold backdrop-blur-sm",children:[s.jsx(cm,{className:"w-5 h-5 mr-2"}),"View Demo Store"]})})]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm font-medium opacity-90",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4"}),s.jsx("span",{children:"No credit card required"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4"}),s.jsx("span",{children:"Free 14-day trial"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel anytime"})]})]})]})]})})}),s.jsx("footer",{className:"border-t border-border/50 bg-gradient-to-b from-background to-muted/20",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pm,{size:32}),s.jsx("span",{className:"font-playfair font-bold text-xl sm:text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm font-medium text-muted-foreground",children:[s.jsx(kt,{to:"/home",className:"hover:text-foreground transition-colors",children:"Demo Store"}),s.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"}),s.jsx(kt,{to:"/pricing",className:"hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#how-it-works",className:"hover:text-foreground transition-colors",children:"How It Works"}),s.jsx("a",{href:"#helper-program",className:"hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(kt,{to:"/become-helper",className:"hover:text-foreground transition-colors",children:"Apply as Helper"}),s.jsx(kt,{to:"/application-status",className:"hover:text-foreground transition-colors",children:"Check Status"}),s.jsx(kt,{to:"/privacy-policy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),s.jsx(kt,{to:"/terms-of-service",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"/sitemap.xml",className:"hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Sitemap"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 StoreBuilder. All rights reserved."})]})})})]})},wU=()=>{const e=iu();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},TNe=Z0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tn=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ut(TNe({variant:t}),e),...r}));tn.displayName="Alert";const pF=j.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ut("mb-1 font-medium leading-none tracking-tight",e),...t}));pF.displayName="AlertTitle";const rn=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("text-sm [&_p]:leading-relaxed",e),...t}));rn.displayName="AlertDescription";const ANe="modulepreload",PNe=function(e){return"/"+e},_U={},Xm=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(r.map(d=>{if(d=PNe(d),d in _U)return;_U[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":ANe,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},ONe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xm(async()=>{const{default:n}=await Promise.resolve().then(()=>ix);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gF extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class jU extends gF{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class NU extends gF{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class SU extends gF{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vD;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vD||(vD={}));var RNe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class DNe{constructor(t,{headers:r={},customFetch:n,region:a=vD.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ONe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return RNe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(_=>{throw _.name==="AbortError"?_:new jU(_)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new NU(p);if(!p.ok)throw new SU(p);let g=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new jU(i)}:{data:null,error:i,response:i instanceof SU||i instanceof NU?i.context:void 0}}})}}var Ea={},$p={},Bp={},Up={},Vp={},zp={},INe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},u0=INe();const MNe=u0.fetch,ore=u0.fetch.bind(u0),lre=u0.Headers,FNe=u0.Request,LNe=u0.Response,ix=Object.freeze(Object.defineProperty({__proto__:null,Headers:lre,Request:FNe,Response:LNe,default:ore,fetch:MNe},Symbol.toStringTag,{value:"Module"})),$Ne=_pe(ix);var D_={},kU;function cre(){if(kU)return D_;kU=1,Object.defineProperty(D_,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return D_.default=e,D_}var CU;function ure(){if(CU)return zp;CU=1;var e=zp&&zp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zp,"__esModule",{value:!0});const t=e($Ne),r=e(cre());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,p;let y=null,g=null,v=null,_=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=C:g=JSON.parse(C))}const E=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(y={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,_=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const E=await u.text();try{y=JSON.parse(E),Array.isArray(y)&&u.status===404&&(g=[],y=null,_=200,w="OK")}catch{u.status===404&&E===""?(_=204,w="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((p=y?.details)===null||p===void 0)&&p.includes("0 rows"))&&(y=null,_=200,w="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:g,count:v,status:_,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return zp.default=n,zp}var EU;function dre(){if(EU)return Vp;EU=1;var e=Vp&&Vp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vp,"__esModule",{value:!0});const t=e(ure());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Vp.default=r,Vp}var TU;function xF(){if(TU)return Up;TU=1;var e=Up&&Up.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Up,"__esModule",{value:!0});const t=e(dre());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Up.default=r,Up}var AU;function fre(){if(AU)return Bp;AU=1;var e=Bp&&Bp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bp,"__esModule",{value:!0});const t=e(xF());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Bp.default=r,Bp}var PU;function BNe(){if(PU)return $p;PU=1;var e=$p&&$p.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($p,"__esModule",{value:!0});const t=e(fre()),r=e(xF());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(f="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return $p.default=n,$p}var OU;function UNe(){if(OU)return Ea;OU=1;var e=Ea&&Ea.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.PostgrestError=Ea.PostgrestBuilder=Ea.PostgrestTransformBuilder=Ea.PostgrestFilterBuilder=Ea.PostgrestQueryBuilder=Ea.PostgrestClient=void 0;const t=e(BNe());Ea.PostgrestClient=t.default;const r=e(fre());Ea.PostgrestQueryBuilder=r.default;const n=e(xF());Ea.PostgrestFilterBuilder=n.default;const a=e(dre());Ea.PostgrestTransformBuilder=a.default;const i=e(ure());Ea.PostgrestBuilder=i.default;const o=e(cre());return Ea.PostgrestError=o.default,Ea.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ea}var VNe=UNe();const zNe=Zr(VNe),{PostgrestClient:qNe,PostgrestQueryBuilder:Mit,PostgrestFilterBuilder:Fit,PostgrestTransformBuilder:Lit,PostgrestBuilder:$it,PostgrestError:Bit}=zNe;class WNe{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const HNe="2.75.0",GNe=`realtime-js/${HNe}`,KNe="1.0.0",yD=1e4,YNe=1e3,XNe=100;var ly;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ly||(ly={}));var ma;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ma||(ma={}));var Jl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jl||(Jl={}));var bD;(function(e){e.websocket="websocket"})(bD||(bD={}));var Ah;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ah||(Ah={}));class JNe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class hre{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Un||(Un={}));const RU=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=ZNe(o,e,t,a),i),{}):{}},ZNe=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?mre(i,o):wD(o)},mre=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rSe(t,r)}switch(e){case Un.bool:return QNe(t);case Un.float4:case Un.float8:case Un.int2:case Un.int4:case Un.int8:case Un.numeric:case Un.oid:return eSe(t);case Un.json:case Un.jsonb:return tSe(t);case Un.timestamp:return nSe(t);case Un.abstime:case Un.date:case Un.daterange:case Un.int4range:case Un.int8range:case Un.money:case Un.reltime:case Un.text:case Un.time:case Un.timestamptz:case Un.timetz:case Un.tsrange:case Un.tstzrange:return wD(t);default:return wD(t)}},wD=e=>e,QNe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eSe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tSe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rSe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>mre(t,l))}return e},nSe=e=>typeof e=="string"?e.replace(" ","T"):e,pre=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class pT{constructor(t,r,n={},a=yD){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var DU;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(DU||(DU={}));class cy{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cy.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=cy.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=cy.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IU;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IU||(IU={}));var uy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uy||(uy={}));var Su;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Su||(Su={}));class vF{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ma.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pT(this,Jl.join,this.params,this.timeout),this.rejoinTimer=new hre(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ma.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ma.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ma.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ma.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ma.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jl.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new cy(this),this.broadcastEndpointURL=pre(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ma.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[uy.PRESENCE]&&this.bindings[uy.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(Su.CHANNEL_ERROR,p)),this._onClose(()=>t?.(Su.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t?.(Su.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,_=[];for(let w=0;w<v;w++){const b=g[w],{filter:{event:E,schema:S,table:C,filter:k}}=b,R=p&&p[w];if(R&&R.event===E&&R.schema===S&&R.table===C&&R.filter===k)_.push(Object.assign(Object.assign({},b),{id:R.id}));else{this.unsubscribe(),this.state=ma.errored,t?.(Su.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Su.SUBSCRIBED);return}}).receive("error",p=>{this.state=ma.errored,t?.(Su.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(Su.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ma.joined&&t===uy.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ma.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new pT(this,Jl.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ma.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new pT(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>XNe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Jl;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,g,v,_,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const E=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return E&&((g=r.ids)===null||g===void 0?void 0:g.includes(E))&&(S==="*"||S?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(w=(_=p?.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((b=r?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:g,table:v,commit_timestamp:_,type:w,errors:b}=y;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:_,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(m,n)})}_isClosed(){return this.state===ma.closed}_isJoined(){return this.state===ma.joined}_isJoining(){return this.state===ma.joining}_isLeaving(){return this.state===ma.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vF.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jl.close,{},t)}_onError(t){this._on(Jl.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ma.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=RU(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=RU(t.columns,t.old_record)),r}}const gT=()=>{},I_={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sSe=[1e3,2e3,5e3,1e4],aSe=1e4,iSe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oSe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yD,this.transport=null,this.heartbeatIntervalMs=I_.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gT,this.ref=0,this.reconnectTimer=null,this.logger=gT,this.conn=null,this.sendBuffer=[],this.serializer=new JNe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Xm(async()=>{const{default:l}=await Promise.resolve().then(()=>ix);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${bD.websocket}`,this.httpEndpoint=pre(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WNe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KNe}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ly.connecting:return Ah.Connecting;case ly.open:return Ah.Open;case ly.closing:return Ah.Closing;default:return Ah.Closed}}isConnected(){return this.connectionState()===Ah.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new vF(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(YNe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},I_.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jl.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iSe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:GNe};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Jl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hre(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},I_.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:yD,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:I_.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:gT,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(f=>sSe[f-1]||aSe),this.encode=(u=t?.encode)!==null&&u!==void 0?u:((f,m)=>m(JSON.stringify(f))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class yF extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Zs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lSe extends yF{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _D extends yF{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var cSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xm(async()=>{const{default:n}=await Promise.resolve().then(()=>ix);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},uSe=()=>cSe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xm(()=>Promise.resolve().then(()=>ix),void 0)).Response:Response}),jD=e=>{if(Array.isArray(e))return e.map(r=>jD(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=jD(n)}),t},dSe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Jm=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const xT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fSe=(e,t,r)=>Jm(void 0,void 0,void 0,function*(){const n=yield uSe();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new lSe(xT(a),i,o))}).catch(a=>{t(new _D(xT(a),a))}):t(new _D(xT(e),e))}),hSe=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(dSe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Cw(e,t,r,n,a,i){return Jm(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,hSe(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>fSe(c,l,n))})})}function cN(e,t,r,n){return Jm(this,void 0,void 0,function*(){return Cw(e,"GET",t,r,n)})}function Oc(e,t,r,n,a){return Jm(this,void 0,void 0,function*(){return Cw(e,"POST",t,n,a,r)})}function ND(e,t,r,n,a){return Jm(this,void 0,void 0,function*(){return Cw(e,"PUT",t,n,a,r)})}function mSe(e,t,r,n){return Jm(this,void 0,void 0,function*(){return Cw(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xre(e,t,r,n,a){return Jm(this,void 0,void 0,function*(){return Cw(e,"DELETE",t,n,a,r)})}var pSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class gSe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return pSe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zs(t))return{data:null,error:t};throw t}})}}var xSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vSe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new gSe(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return xSe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zs(t))return{data:null,error:t};throw t}})}}var to=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ySe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MU={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bSe{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=gre(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return to(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},MU),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ND:Oc)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zs(i))return{data:null,error:i};throw i}})}upload(t,r,n){return to(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return to(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:MU.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ND(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return to(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Oc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new yF("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}update(t,r,n){return to(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return to(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}copy(t,r,n){return to(this,void 0,void 0,function*(){try{return{data:{path:(yield Oc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return to(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Oc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return to(this,void 0,void 0,function*(){try{const a=yield Oc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>cN(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new vSe(c,this.shouldThrowOnError)}info(t){return to(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield cN(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jD(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}exists(t){return to(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield mSe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n)&&n instanceof _D){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return to(this,void 0,void 0,function*(){try{return{data:yield xre(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}list(t,r,n){return to(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ySe),r),{prefix:t||""});return{data:yield Oc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}listV2(t,r){return to(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Oc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const wSe="2.75.0",_Se={"X-Client-Info":`storage-js/${wSe}`};var qp=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class jSe{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_Se),r),this.fetch=gre(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qp(this,void 0,void 0,function*(){try{return{data:yield cN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zs(t))return{data:null,error:t};throw t}})}getBucket(t){return qp(this,void 0,void 0,function*(){try{return{data:yield cN(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}createBucket(t){return qp(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Oc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return qp(this,void 0,void 0,function*(){try{return{data:yield ND(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}emptyBucket(t){return qp(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return qp(this,void 0,void 0,function*(){try{return{data:yield xre(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class NSe extends jSe{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new bSe(this.url,this.headers,t,this.fetch)}}const SSe="2.75.0";let Mv="";typeof Deno<"u"?Mv="deno":typeof document<"u"?Mv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mv="react-native":Mv="node";const kSe={"X-Client-Info":`supabase-js-${Mv}/${SSe}`},CSe={headers:kSe},ESe={schema:"public"},TSe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ASe={};var PSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const OSe=e=>{let t;return e?t=e:typeof fetch>"u"?t=ore:t=fetch,(...r)=>t(...r)},RSe=()=>typeof Headers>"u"?lre:Headers,DSe=(e,t,r)=>{const n=OSe(r),a=RSe();return(i,o)=>PSe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var ISe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function MSe(e){return e.endsWith("/")?e:e+"/"}function FSe(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ISe(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function LSe(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(MSe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vre="2.75.0",og=30*1e3,SD=3,vT=SD*og,$Se="http://localhost:9999",BSe="supabase.auth.token",USe={"X-Client-Info":`gotrue-js/${vre}`},kD="X-Supabase-Api-Version",yre={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VSe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zSe=600*1e3;class Zy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function nr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qSe extends Zy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function WSe(e){return nr(e)&&e.name==="AuthApiError"}class Ph extends Zy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vf extends Zy{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ud extends Vf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HSe(e){return nr(e)&&e.name==="AuthSessionMissingError"}class Wp extends Vf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class M_ extends Vf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class F_ extends Vf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GSe(e){return nr(e)&&e.name==="AuthImplicitGrantRedirectError"}class FU extends Vf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CD extends Vf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yT(e){return nr(e)&&e.name==="AuthRetryableFetchError"}class LU extends Vf{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ED extends Vf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$U=` 	
\r=`.split(""),KSe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$U.length;t+=1)e[$U[t].charCodeAt(0)]=-2;for(let t=0;t<uN.length;t+=1)e[uN[t].charCodeAt(0)]=t;return e})();function BU(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uN[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uN[n]),t.queuedBits-=6}}function bre(e,t,r){const n=KSe[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function UU(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{JSe(o,n,r)};for(let o=0;o<e.length;o+=1)bre(e.charCodeAt(o),a,i);return t.join("")}function YSe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XSe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}YSe(n,t)}}function JSe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zg(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)bre(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ZSe(e){const t=[];return XSe(e,r=>t.push(r)),new Uint8Array(t)}function Lh(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>BU(a,r,n)),BU(null,r,n),t.join("")}function QSe(e){return Math.round(Date.now()/1e3)+e}function e2e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const No=()=>typeof window<"u"&&typeof document<"u",mh={tested:!1,writable:!1},wre=()=>{if(!No())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mh.tested)return mh.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mh.tested=!0,mh.writable=!0}catch{mh.tested=!0,mh.writable=!1}return mh.writable};function t2e(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const _re=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xm(async()=>{const{default:n}=await Promise.resolve().then(()=>ix);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},r2e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lg=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ph=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Md=async(e,t)=>{await e.removeItem(t)};class S2{constructor(){this.promise=new S2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}S2.promiseConstructor=Promise;function bT(e){const t=e.split(".");if(t.length!==3)throw new ED("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!VSe.test(t[n]))throw new ED("JWT not in base64url format");return{header:JSON.parse(UU(t[0])),payload:JSON.parse(UU(t[1])),signature:zg(t[2]),raw:{header:t[0],payload:t[1]}}}async function n2e(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function s2e(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function a2e(e){return("0"+e.toString(16)).substr(-2)}function i2e(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,a2e).join("")}async function o2e(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function l2e(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await o2e(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hp(e,t,r=!1){const n=i2e();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await lg(e,`${t}-code-verifier`,a);const i=await l2e(n);return[i,n===i?"plain":"s256"]}const c2e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u2e(e){const t=e.headers.get(kD);if(!t||!t.match(c2e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function d2e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function f2e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h2e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gp(e){if(!h2e.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wT(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VU(e){return JSON.parse(JSON.stringify(e))}var m2e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Sh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p2e=[502,503,504];async function zU(e){var t;if(!r2e(e))throw new CD(Sh(e),0);if(p2e.includes(e.status))throw new CD(Sh(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ph(Sh(i),i)}let n;const a=u2e(e);if(a&&a.getTime()>=yre["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new LU(Sh(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ud}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new LU(Sh(r),e.status,r.weak_password.reasons);throw new qSe(Sh(r),e.status||500,n)}const g2e=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Sr(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[kD]||(i[kD]=yre["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await x2e(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function x2e(e,t,r,n,a,i){const o=g2e(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new CD(Sh(c),0)}if(l.ok||await zU(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await zU(c)}}function Kl(e){var t;let r=null;b2e(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=QSe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qU(e){const t=Kl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v2e(e){return{data:e,error:null}}function y2e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=m2e(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function WU(e){return e}function b2e(e){return e.access_token&&e.refresh_token&&e.expires_in}const _T=["global","local","others"];var w2e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class _2e{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=_re(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=_T[0]){if(_T.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_T.join(", ")}`);try{return await Sr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Sr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hd})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=w2e(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Sr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:y2e,redirectTo:r?.redirectTo})}catch(r){if(nr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Sr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hd})}catch(r){if(nr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Sr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:WU});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(nr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Gp(t);try{return await Sr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hd})}catch(r){if(nr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gp(t);try{return await Sr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hd})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gp(t);try{return await Sr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hd})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gp(t.userId);try{const{data:r,error:n}=await Sr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gp(t.userId),Gp(t.id);try{return{data:await Sr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Sr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:WU});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(nr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Sr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Sr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Sr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Sr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}}function HU(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Kp={debug:!!(globalThis&&wre()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jre extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class j2e extends jre{}async function N2e(e,t,r){Kp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Kp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Kp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Kp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Kp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new j2e(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kp.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function S2e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Nre(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function k2e(e){return parseInt(e,16)}function C2e(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function E2e(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Nre(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${g}`;let _=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(_+=`
Expiration Time: ${a.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),c&&(_+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}_+=w}return`${v}
${_}`}class Xs extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class dN extends Xs{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function T2e({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Xs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Xs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Xs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Xs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Xs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Xs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(kre(o)){if(i.rp.id!==o)return new Xs({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Xs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Xs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function A2e({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Xs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(kre(n)){if(r.rpId!==n)return new Xs({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Xs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Sre=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class P2e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const O2e=new P2e;function R2e(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Sre(e,["challenge","user","excludeCredentials"]),i=zg(t).buffer,o=Object.assign(Object.assign({},r),{id:zg(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zg(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function D2e(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Sre(e,["challenge","allowCredentials"]),a=zg(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:zg(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function I2e(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Lh(new Uint8Array(e.response.attestationObject)),clientDataJSON:Lh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function M2e(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Lh(new Uint8Array(a.authenticatorData)),clientDataJSON:Lh(new Uint8Array(a.clientDataJSON)),signature:Lh(new Uint8Array(a.signature)),userHandle:a.userHandle?Lh(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kre(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function GU(){var e,t;return!!(No()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function F2e(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dN("Browser returned unexpected credential type",t)}:{data:null,error:new dN("Empty credential response",t)}}catch(t){return{data:null,error:T2e({error:t,options:e})}}}async function L2e(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dN("Browser returned unexpected credential type",t)}:{data:null,error:new dN("Empty credential response",t)}}catch(t){return{data:null,error:A2e({error:t,options:e})}}}const $2e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},B2e={userVerification:"preferred",hints:["security-key"]};function fN(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=fN(l,o):n[i]=fN(o)}else n[i]=o}return n}function U2e(e,t){return fN($2e,e,t||{})}function V2e(e,t){return fN(B2e,e,t||{})}class z2e{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??O2e.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=U2e(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:f}=await F2e({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=V2e(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:f}=await L2e(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return nr(o)?{data:null,error:o}:{data:null,error:new Ph("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Zy("rpId is required for WebAuthn authentication")};try{if(!GU())return{data:null,error:new Ph("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return nr(o)?{data:null,error:o}:{data:null,error:new Ph("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Zy("rpId is required for WebAuthn registration")};try{if(!GU())return{data:null,error:new Ph("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return nr(o)?{data:null,error:o}:{data:null,error:new Ph("Unexpected error in register",o)}}}}S2e();const q2e={url:$Se,storageKey:BSe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:USe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function KU(e,t,r){return await r()}const Yp={};class Qy{get jwks(){var t,r;return(r=(t=Yp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yp[this.storageKey]=Object.assign(Object.assign({},Yp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yp[this.storageKey]=Object.assign(Object.assign({},Yp[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qy.nextInstanceID,Qy.nextInstanceID+=1,this.instanceID>0&&No()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},q2e),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new _2e({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_re(a.fetch),this.lock=a.lock||KU,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:No()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=N2e:this.lock=KU,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new z2e(this)},this.persistSession?(a.storage?this.storage=a.storage:wre()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=HU(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=HU(this.memoryStorage)),No()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vre}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=t2e(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),No()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),GSe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return nr(r)?{error:r}:{error:new Ph("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Kl}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(nr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Hp(this.storage,this.storageKey)),i=await Sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},xform:Kl})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await Sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(a=m?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Kl})}else throw new M_("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(nr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:qU})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:qU})}else throw new M_("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:g,wallet:v,statement:_,options:w}=t;let b;if(No())if(typeof v=="object")b=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const E=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Nre(S[0]);let k=(n=w?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const P=await b.request({method:"eth_chainId"});k=k2e(P)}const R={domain:E.host,address:C,statement:_,uri:E.href,version:"1",chainId:k,nonce:(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=E2e(R),y=await b.request({method:"personal_sign",params:[C2e(p),C]})}try{const{data:g,error:v}=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Kl});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Wp}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(nr(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,m,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:_,statement:w,options:b}=t;let E;if(No())if(typeof _=="object")E=_;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const S=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:v,error:_}=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Lh(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Kl});if(_)throw _;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Wp}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:_})}catch(v){if(nr(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await ph(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Kl});if(await Md(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(nr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Kl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Wp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hp(this.storage,this.storageKey));const{error:f}=await Sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new M_("You must provide either an email or phone number.")}catch(l){if(nr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Sr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Kl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(nr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Hp(this.storage,this.storageKey)),await Sr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:v2e})}catch(i){if(nr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ud;const{error:a}=await Sr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(nr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Sr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Sr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new M_("You must provide either an email or phone number and a type")}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ph(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vT:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ph(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=wT()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hd}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ud}:await Sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Hd})})}catch(r){if(nr(r))return HSe(r)&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ud;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hp(this.storage,this.storageKey));const{data:u,error:d}=await Sr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Hd});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ud;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=bT(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(nr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ud;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!No())throw new F_("No browser detected.");if(t.error||t.error_description||t.error_code)throw new F_(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new FU("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new F_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new FU("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new F_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=og&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(n){if(nr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ph(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(WSe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=e2e(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hp(this.storage,this.storageKey,!0));try{return await Sr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(nr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Sr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return No()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(nr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Kl}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Wp}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(a){if(nr(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Sr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await s2e(async a=>(a>0&&await n2e(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Sr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kl})),(a,i)=>{const o=200*Math.pow(2,a);return i&&yT(i)&&Date.now()+o-n<og})}catch(n){if(this._debug(r,"error",n),nr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),No()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ph(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ph(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await lg(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:wT()}else if(a&&!a.user&&!a.user){const o=await ph(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Md(this.storage,this.storageKey+"-user"),await lg(this.storage,this.storageKey,a)):a.user=wT()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vT;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vT}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),yT(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ud;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new S2;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ud;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),nr(i)){const o={data:null,error:i};return yT(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await lg(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=VU(a);await lg(this.storage,this.storageKey,i)}else{const a=VU(r);await lg(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Md(this.storage,this.storageKey),await Md(this.storage,this.storageKey+"-code-verifier"),await Md(this.storage,this.storageKey+"-user"),this.userStorage&&await Md(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&No()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),og);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/og);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${og}ms, refresh threshold is ${SD} ticks`),a<=SD&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jre)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!No()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hp(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Sr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Sr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?I2e(t.webauthn.credential_response):M2e(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Sr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(nr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Sr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:R2e(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:D2e(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(nr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+zSe>a)return n;const{data:i,error:o}=await Sr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=bT(n);r?.allowExpired||d2e(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=f2e(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,ZSe(`${l}.${c}`)))throw new ED("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}}}Qy.nextInstanceID=0;const W2e=Qy;class H2e extends W2e{constructor(t){super(t)}}var G2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class K2e{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=LSe(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:ESe,realtime:ASe,auth:Object.assign(Object.assign({},TSe),{storageKey:c}),global:CSe},d=FSe(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=DSe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new qNe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new NSe(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new DNe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return G2e(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H2e({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new oSe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y2e=(e,t,r)=>new K2e(e,t,r);function X2e(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}X2e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J2e="https://vexeuxsvckpfvuxqchqu.supabase.co",Z2e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c",Q=Y2e(J2e,Z2e,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});Q.auth.onAuthStateChange((e,t)=>{e==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):(e==="SIGNED_OUT"||!t&&e==="INITIAL_SESSION")&&localStorage.removeItem("supabase.auth.token")});Q.auth.getSession().catch(e=>{e?.message?.includes("Refresh Token")&&(console.warn("Clearing invalid refresh token"),Q.auth.signOut({scope:"local"}))});const Q2e=5,eke=48;function tke(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[a,i]=j.useState(0),o=()=>{const f=new Date;return f.setHours(f.getHours()-eke),f.toISOString()},l=f=>{const p=Math.floor((new Date().getTime()-f.getTime())/1e3);if(p<60)return"Just now";if(p<3600){const g=Math.floor(p/60);return`${g} ${g===1?"minute":"minutes"} ago`}if(p<86400){const g=Math.floor(p/3600);return`${g} ${g===1?"hour":"hours"} ago`}const y=Math.floor(p/86400);return`${y} ${y===1?"day":"days"} ago`},c=async()=>{try{const{data:{session:f}}=await Q.auth.getSession();if(!f){t([]),n(!1);return}const{data:m}=await Q.from("stores").select("id").eq("user_id",f.user.id).maybeSingle();if(!m){t([]),n(!1);return}const p=o(),y=[],{data:g}=await Q.from("orders").select("id, order_number, customer_name, created_at, status").eq("store_id",m.id).gte("created_at",p).order("created_at",{ascending:!1}).limit(10);g&&g.forEach(_=>{const w=new Date(_.created_at);y.push({id:`order-${_.id}`,title:"New Order Received",description:`Order #${_.order_number} from ${_.customer_name}`,time:l(w),unread:!0,type:"order",createdAt:w})});const{data:v}=await Q.from("products").select("id, name, stock, updated_at").eq("store_id",m.id).eq("status","published").lte("stock",Q2e).gt("stock",0).order("stock",{ascending:!0}).limit(5);v&&v.forEach(_=>{const w=new Date(_.updated_at||new Date);y.push({id:`stock-${_.id}`,title:"Product Stock Low",description:`${_.name} is running low (${_.stock} left)`,time:l(w),unread:!0,type:"stock",createdAt:w})}),y.sort((_,w)=>w.createdAt.getTime()-_.createdAt.getTime()),t(y),i(y.filter(_=>_.unread).length),n(!1)}catch(f){console.error("[useNotifications] Error fetching notifications:",f),n(!1)}};return j.useEffect(()=>{c();const f=Q.channel("notifications-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},()=>{c()}).subscribe(),m=Q.channel("notifications-products").on("postgres_changes",{event:"UPDATE",schema:"public",table:"products"},()=>{c()}).subscribe();return()=>{Q.removeChannel(f),Q.removeChannel(m)}},[]),{notifications:e,unreadCount:a,isLoading:r,markAsRead:f=>{t(m=>m.map(p=>p.id===f?{...p,unread:!1}:p)),i(m=>Math.max(0,m-1))},markAllAsRead:()=>{t(f=>f.map(m=>({...m,unread:!1}))),i(0)},refresh:c}}const vs=({children:e})=>{const t=xr(),r=iu(),[n,a]=j.useState(!1),[i,o]=j.useState("Your Store"),[l,c]=j.useState(""),[u,d]=j.useState(""),[f,m]=j.useState(!1),p=j.useRef(null),[y,g]=j.useState([]),[v,_]=j.useState(null),[w,b]=j.useState(!0),[E,S]=j.useState(null),[C,k]=j.useState(!0),[R,P]=j.useState([]),{notifications:O,unreadCount:A}=tke();j.useEffect(()=>{(async()=>{console.log("[AdminLayout] Checking authentication...");const{data:{session:G}}=await Q.auth.getSession();if(console.log("[AdminLayout] Session:",G?"Found":"None"),!G){console.log("[AdminLayout] No session - redirecting to auth"),t("/auth");return}console.log("[AdminLayout] User authenticated:",G.user.email),G.user.email&&c(G.user.email);let{data:Y,error:M}=await Q.from("profiles").select("full_name, email").eq("user_id",G.user.id).maybeSingle();if(!Y){console.log("[AdminLayout] Profile not found - creating profile for user");const{data:J,error:V}=await Q.from("profiles").insert({user_id:G.user.id,email:G.user.email||"",full_name:G.user.user_metadata?.full_name||G.user.user_metadata?.name||""}).select("full_name, email").single();V?console.error("[AdminLayout] Error creating profile:",V):(console.log("[AdminLayout] Profile created successfully"),Y=J)}Y?.full_name&&d(Y.full_name);const{data:H,error:Z}=await Q.from("stores").select("*").eq("user_id",G.user.id).maybeSingle();if(console.log("[AdminLayout] Store data:",H?"Found":"None",Z?`Error: ${Z.message}`:""),!H){console.log("[AdminLayout] No store found - redirecting to onboarding"),t("/onboarding/store-setup");return}H.name&&(console.log("[AdminLayout] Setting store name:",H.name),o(H.name)),H.enabled_features&&P(H.enabled_features);const{data:L}=await Q.from("subscriptions").select(`
          *,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",G.user.id).single();if(L){const J=new Date,V=L.current_period_end?new Date(L.current_period_end):null;if(V&&V<J&&S({expired:!0,expiresAt:V.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),L?.subscription_plans){const X=L.subscription_plans.whatsapp_orders_limit,ne=L.subscription_plans.website_orders_limit,se=L.whatsapp_orders_used||0,ue=L.website_orders_used||0,W=X&&X>0&&se>=X,ae=ne&&ne>0&&ue>=ne;(W||ae)&&_({whatsapp:W,website:ae,whatsappUsed:se,whatsappLimit:X||0,websiteUsed:ue,websiteLimit:ne||0})}}})();const{data:{subscription:q}}=Q.auth.onAuthStateChange(G=>{G==="SIGNED_OUT"&&t("/auth")});return()=>q.unsubscribe()},[t]),j.useEffect(()=>{const z=q=>{p.current&&!p.current.contains(q.target)&&m(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const D=async()=>{console.log("[AdminLayout] Logging out..."),await Q.auth.signOut(),console.log("[AdminLayout] User signed out"),Me({title:"Logged Out",description:"You have been successfully logged out"}),t("/")},F=z=>{g(q=>q.includes(z)?q.filter(G=>G!==z):[...q,z])},B=[{name:"Dashboard",href:"/admin/dashboard",icon:OB,current:r.pathname==="/admin/dashboard"},{name:"Products",href:"/admin/products",icon:Rn,current:r.pathname.startsWith("/admin/products")},{name:"Categories",href:"/admin/categories",icon:Rn,current:r.pathname==="/admin/categories"},{name:"Orders",href:"/admin/orders",icon:jf,current:r.pathname==="/admin/orders"},{name:"Analytics",href:"/admin/analytics",icon:OB,current:r.pathname==="/admin/analytics"},{name:"Growth",icon:$ge,isDropdown:!0,current:r.pathname.startsWith("/admin/growth"),subItems:[{name:"SEO",href:"/admin/growth/seo",icon:xc,current:r.pathname==="/admin/growth/seo"},{name:"Social Media",href:"/admin/growth/social-media",icon:Pg,current:r.pathname==="/admin/growth/social-media"},{name:"Instagram",href:"/admin/growth/instagram",icon:ic,current:r.pathname==="/admin/growth/instagram"}]},{name:"Subscription",href:"/admin/subscription",icon:ss,current:r.pathname==="/admin/subscription"},...R.includes("shipping")?[{name:"Shipping",href:"/admin/shipping",icon:lc,current:r.pathname==="/admin/shipping"}]:[],{name:"Marketplace",href:"/admin/marketplace",icon:Hh,current:r.pathname==="/admin/marketplace"},{name:"Settings",href:"/admin/settings",icon:va,current:r.pathname==="/admin/settings"}];return s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col
          transform transition-transform duration-300 ease-out shadow-xl lg:shadow-none
          ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pm,{size:24}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-semibold text-foreground text-sm truncate",children:i}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Admin Panel"})]})]}),s.jsx("button",{onClick:()=>a(!1),className:"lg:hidden p-1.5 hover:bg-muted rounded-md transition-colors touch-target",children:s.jsx(La,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto scrollbar-hide",children:B.map(z=>s.jsx("div",{children:z.isDropdown?s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>F(z.name),className:`w-full flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                      ${z.current?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(z.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:z.name})]}),s.jsx(Lu,{className:`w-4 h-4 transition-transform duration-200 ${y.includes(z.name)?"rotate-180":""}`})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-200 ${y.includes(z.name)?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"pl-4 mt-1 space-y-1",children:z.subItems?.map(q=>s.jsxs(kt,{to:q.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 touch-target
                            ${q.current?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                          `,children:[s.jsx(q.icon,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:q.name})]},q.name))})})]}):s.jsxs(kt,{to:z.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                    ${z.current?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-muted"}
                  `,children:[s.jsx(z.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:z.name})]})},z.name))}),s.jsx("div",{className:"p-3 border-t border-border",children:s.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-destructive hover:bg-destructive/10 transition-all duration-200 touch-target",children:[s.jsx(Wm,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-14 lg:h-16",children:[s.jsx("button",{onClick:()=>a(!n),className:"lg:hidden p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Toggle menu",children:s.jsx(eM,{className:"w-6 h-6 text-foreground"})}),s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(pm,{size:20}),s.jsx("span",{className:"font-semibold text-foreground text-sm truncate max-w-[120px]",children:i})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 ml-auto",children:[s.jsx(ei,{}),s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("button",{onClick:()=>m(!f),className:"relative p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Notifications",children:[s.jsx(AB,{className:"w-5 h-5 text-foreground"}),A>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary rounded-full ring-2 ring-card"})]}),f&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[calc(100vw-2rem)] bg-card border border-border rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground text-sm",children:"Notifications"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["You have ",A," unread notification",A!==1?"s":""]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-hide",children:O.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(AB,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications yet"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You'll see new orders and stock alerts here"})]}):O.map(z=>s.jsxs("div",{className:`p-4 hover:bg-muted transition-colors cursor-pointer border-b border-border last:border-0 ${z.unread?"bg-primary/5":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground flex-1",children:z.title}),z.unread&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-1 ml-2 flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:z.description}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:z.time})]},z.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-2 lg:pl-3 border-l border-border",children:[s.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-primary rounded-full flex items-center justify-center",children:s.jsx(e0,{className:"w-4 h-4 lg:w-5 lg:h-5 text-primary-foreground"})}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[180px]",children:u||l||"Admin User"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[180px]",children:u&&l?l:"Store Manager"})]})]})]})]})}),E&&C&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(tn,{className:"border-destructive bg-destructive/10",children:[s.jsx(ra,{className:"h-5 w-5 text-destructive"}),s.jsxs(rn,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Subscription Expired"}),s.jsxs("p",{className:"text-sm text-foreground",children:["Your subscription expired on ",E.expiresAt,". You cannot accept new orders until you renew your subscription."," ",s.jsx(ie,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Renew your subscription"})," ","to continue accepting orders."]})]}),s.jsx(ie,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>k(!1),children:s.jsx(Hn,{className:"h-4 w-4"})})]})]})})}),v&&w&&!E&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(tn,{className:"border-destructive bg-destructive/10",children:[s.jsx(ra,{className:"h-5 w-5 text-destructive"}),s.jsxs(rn,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Order Limit Reached"}),s.jsxs("p",{className:"text-sm text-foreground",children:[v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp (",v.whatsappUsed,"/",v.whatsappLimit,") and Website (",v.websiteUsed,"/",v.websiteLimit,") order limits. "]}),v.whatsapp&&!v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp order limit (",v.whatsappUsed,"/",v.whatsappLimit,"). "]}),!v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your Website order limit (",v.websiteUsed,"/",v.websiteLimit,"). "]}),s.jsx(ie,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Upgrade your plan"})," ","to continue receiving orders."]})]}),s.jsx(ie,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>b(!1),children:s.jsx(Hn,{className:"h-4 w-4"})})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto smooth-scroll",children:s.jsx("div",{className:"p-4 lg:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})})]})]})},bF=async()=>{const{data:{session:e}}=await Q.auth.getSession();if(!e?.user)return null;const{data:t}=await Q.from("stores").select("id").eq("user_id",e.user.id).maybeSingle();return t?.id||null},rke=()=>{console.log("Products are now stored in Supabase database")},TD=async()=>{const e=await bF();if(!e)return[];const{data:t,error:r}=await Q.from("products").select("*").eq("store_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching products:",r),[]):t||[]},eb=async e=>{if(!e){const n=await bF();if(!n)return[];e=n}const{data:t,error:r}=await Q.from("products").select("*").eq("store_id",e).eq("status","published").order("created_at",{ascending:!1});return r?(console.error("Error fetching published products:",r),[]):t||[]},Aj=async e=>{const{data:t,error:r}=await Q.from("products").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching product:",r),null):t},nke=async(e,t)=>{let r=Q.from("products").select("*").eq("slug",e);const{data:n,error:a}=await r.maybeSingle();return a?(console.error("Error fetching product by slug:",a),null):n},ske=async e=>{const t=await bF();if(!t)throw console.error("[PRODUCT] No store ID found for current user"),new Error("No store found for current user");console.log("[PRODUCT] Creating product for store:",t,"Name:",e.name,"Status:",e.status||"published");const{data:r,error:n}=await Q.from("products").insert([{store_id:t,name:e.name,slug:e.slug,description:e.description,category:e.category,base_price:e.basePrice||e.base_price,price_range:e.priceRange||e.price_range,stock:e.stock||0,sku:e.sku,status:e.status||"published",images:e.images||[],video_url:e.videoUrl||e.video_url,variants:e.variants||[]}]).select().single();if(n)throw console.error("[PRODUCT] Error adding product:",n),n;return console.log("[PRODUCT]  Product created successfully:",r.id,"Name:",r.name,"Status:",r.status),r},ake=async(e,t)=>{const r={};t.name!==void 0&&(r.name=t.name),t.description!==void 0&&(r.description=t.description),t.category!==void 0&&(r.category=t.category),(t.basePrice!==void 0||t.base_price!==void 0)&&(r.base_price=t.basePrice||t.base_price),(t.priceRange!==void 0||t.price_range!==void 0)&&(r.price_range=t.priceRange||t.price_range),t.stock!==void 0&&(r.stock=t.stock),t.sku!==void 0&&(r.sku=t.sku),t.status!==void 0&&(r.status=t.status),t.images!==void 0&&(r.images=t.images),(t.videoUrl!==void 0||t.video_url!==void 0)&&(r.video_url=t.videoUrl||t.video_url),t.variants!==void 0&&(r.variants=t.variants);const{data:n,error:a}=await Q.from("products").update(r).eq("id",e).select().single();if(a)throw console.error("Error updating product:",a),a;return n},ike=async e=>{if(!(!e||!e.includes("digitaldukandar.in/uploads/")))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e})}),await Q.from("media_library").delete().eq("file_url",e)}catch(t){console.error("Failed to delete image:",e,t)}},oke=async e=>{const{data:t}=await Q.from("products").select("images").eq("id",e).single();t?.images&&Array.isArray(t.images)&&await Promise.all(t.images.map(n=>ike(n)));const{error:r}=await Q.from("products").delete().eq("id",e);if(r)throw console.error("Error deleting product:",r),r},lke=()=>{const e=xr(),[t,r]=j.useState({totalProducts:0,activeProducts:0,totalOrders:0,totalCustomers:0}),[n,a]=j.useState("Your Store"),[i,o]=j.useState(""),[l,c]=j.useState(null),[u,d]=j.useState(null),[f,m]=j.useState(null),[p,y]=j.useState(null),[g,v]=j.useState([]);j.useEffect(()=>{rke(),(async()=>{const{data:{user:E}}=await Q.auth.getUser();if(!E)return;const{data:S}=await Q.from("stores").select("id, name, slug, subdomain, custom_domain").eq("user_id",E.id).maybeSingle();if(!S)return;const C=uwe(S.subdomain||S.slug,S.custom_domain);o(C);const[k,R,P,O]=await Promise.all([TD(),Q.from("subscriptions").select(`
            trial_ends_at,
            current_period_end,
            created_at,
            status,
            subscription_plans (trial_days)
          `).eq("user_id",E.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Q.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",S.id),Q.from("orders").select("customer_email, customer_phone").eq("store_id",S.id),Q.from("stores").update({last_admin_visit:new Date().toISOString()}).eq("id",S.id)]);S.name&&a(S.name);const A=R.data,D=A&&A.length>0?A[0]:null;if(D){let G=null;if(D.status==="trial"?D.trial_ends_at?G=new Date(D.trial_ends_at):D.subscription_plans?.trial_days&&(G=new Date(D.created_at),G.setDate(G.getDate()+D.subscription_plans.trial_days)):D.status==="active"&&D.current_period_end&&(G=new Date(D.current_period_end)),G){const Y=new Date,M=G.getTime()-Y.getTime(),H=Math.ceil(M/(1e3*60*60*24));H>0&&(c(H),d(G),m(D.status))}}const F=k.filter(G=>G.status==="published").length,B=P.count||0;let z=0;O.data&&(z=new Set(O.data.map(Y=>Y.customer_email||Y.customer_phone)).size),r({totalProducts:k.length,activeProducts:F,totalOrders:B,totalCustomers:z});const q=[{id:"1",action:"Product published",product:k[0]?.name||"Sample Product",time:"2 hours ago"},{id:"2",action:"New order received",product:k[1]?.name||"Sample Product",time:"5 hours ago"},{id:"3",action:"Product updated",product:k[2]?.name||"Sample Product",time:"1 day ago"}];v(q)})()},[]),j.useEffect(()=>{if(!u)return;const b=()=>{const S=new Date,C=u.getTime()-S.getTime();if(C<=0){y({days:0,hours:0,minutes:0,seconds:0});return}const k=Math.floor(C/(1e3*60*60*24)),R=Math.floor(C%(1e3*60*60*24)/(1e3*60*60)),P=Math.floor(C%(1e3*60*60)/(1e3*60)),O=Math.floor(C%(1e3*60)/1e3);y({days:k,hours:R,minutes:P,seconds:O})};b();const E=setInterval(b,1e3);return()=>clearInterval(E)},[u]);const _=[{title:"Add New Product",description:"Create a new product listing",icon:Wi,action:()=>e("/admin/products/add"),primary:!0},{title:"View All Products",description:"Manage your product catalog",icon:Ls,action:()=>e("/admin/products"),primary:!1}],w=[{title:"Total Products",value:t.totalProducts,change:"+12%",icon:Rn,color:"text-primary",bgColor:"bg-primary/10"},{title:"Active Products",value:t.activeProducts,change:"+8%",icon:Cl,color:"text-success",bgColor:"bg-success/10"},{title:"Total Orders",value:t.totalOrders,change:"+23%",icon:jf,color:"text-warning",bgColor:"bg-warning/10"},{title:"Customers",value:t.totalCustomers,change:"+16%",icon:Bi,color:"text-primary",bgColor:"bg-primary/10"}];return s.jsx(vs,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[l!==null&&l>0&&p&&f&&s.jsx(Se,{className:`border-l-4 ${f==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:s.jsxs(Te,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gs,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${f==="trial"?"text-warning":"text-primary"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:f==="trial"?"Trial Status":"Subscription Status"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[f==="trial"?"Your free trial ends in ":"Your subscription renews in ",s.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[p.days,"d ",p.hours,"h ",p.minutes,"m ",p.seconds,"s"]})]})]})]}),f==="trial"&&s.jsx("div",{className:"flex flex-wrap gap-2 sm:ml-auto",children:s.jsx(ie,{size:"sm",className:"whitespace-nowrap",onClick:()=>e("/admin/subscription"),children:"Upgrade Now"})})]})}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Welcome back! "}),s.jsxs("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:["Here's what's happening with ",s.jsx("span",{className:"font-medium text-primary",children:n})," today."]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map((b,E)=>s.jsx(Se,{className:"admin-stat-card group",children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:b.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:b.value}),s.jsxs("p",{className:"flex items-center text-xs lg:text-sm text-success mt-0.5 lg:mt-1",children:[s.jsx(xR,{className:"w-3 h-3 mr-1 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:[b.change," from last month"]})]})]}),s.jsx("div",{className:`p-2 lg:p-3 rounded-xl ${b.bgColor} group-hover:scale-110 transition-transform duration-200 flex-shrink-0 ml-2`,children:s.jsx(b.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${b.color}`})})]})})},E))}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-lg flex items-center gap-2",children:[s.jsx(jf,{className:"w-5 h-5"}),"Your Store URL"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm font-mono text-foreground break-all",children:i||"Loading..."})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ie,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{i&&(navigator.clipboard.writeText(i),Me({title:"Link copied!",description:"Store URL copied to clipboard"}))},children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),s.jsxs(ie,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{if(i){const b=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(i)}`;window.open(b,"_blank")}},children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Generate QR"]})]})]})]}),s.jsxs(Se,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-xl font-semibold",children:"Quick Actions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get started with these common tasks"})]}),s.jsx(Te,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:_.map((b,E)=>s.jsx(Se,{className:"admin-card cursor-pointer hover:shadow-lg transition-all duration-200 border-2 hover:border-primary/20",onClick:b.action,children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-start gap-3 lg:gap-4",children:[s.jsx("div",{className:`p-2 lg:p-3 rounded-lg flex-shrink-0 ${b.primary?"bg-primary/10":"bg-muted"}`,children:s.jsx(b.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${b.primary?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1 text-sm lg:text-base",children:b.title}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground mb-3",children:b.description}),s.jsxs(ie,{variant:b.primary?"default":"outline",size:"sm",className:`w-full sm:w-auto ${b.primary?"admin-button-primary":"admin-button-secondary"}`,onClick:S=>{S.stopPropagation(),b.action()},children:["Get Started",s.jsx(xR,{className:"w-4 h-4 ml-2"})]})]})]})})},E))})]}),s.jsxs(Se,{className:"border-l-4 border-l-primary",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(zJ,{className:"w-5 h-5 text-primary"}),"Getting Started"]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"2/4 complete"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"50%"}})})]}),s.jsxs(Te,{className:"space-y-3",children:[[{done:!0,text:"Create account"},{done:!0,text:"Set up store"},{done:!1,text:"Add first product"},{done:!1,text:"Customize store appearance"}].map((b,E)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted transition-colors",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${b.done?"bg-success text-success-foreground":"bg-muted border-2 border-border"}`,children:b.done&&s.jsx("span",{className:"text-xs",children:""})}),s.jsx("span",{className:`text-sm ${b.done?"text-muted-foreground line-through":"text-foreground"}`,children:b.text})]},E)),s.jsx(ie,{className:"w-full mt-4",size:"sm",children:"Complete Setup"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs(Se,{className:"lg:col-span-2",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-xl font-semibold",children:"Recent Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest updates from your store"})]}),s.jsx(Te,{className:"space-y-3",children:g.length>0?g.map(b=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 flex-shrink-0",children:s.jsx(gs,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:b.action}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:b.product}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:b.time})]})]},b.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Rn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recent activity to display"}),s.jsx("p",{className:"text-xs",children:"Start by adding your first product!"})]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-lg font-semibold",children:"Tips & Resources"})}),s.jsx(Te,{className:"space-y-3",children:[{icon:"",text:"Video Tutorials",color:"text-red-500"},{icon:"",text:"Help Documentation",color:"text-blue-500"},{icon:"",text:"Contact Support",color:"text-green-500"},{icon:"",text:"Best Practices Guide",color:"text-purple-500"}].map((b,E)=>s.jsxs(ie,{variant:"ghost",className:"w-full justify-start hover:bg-muted",size:"sm",children:[s.jsx("span",{className:"text-lg mr-3",children:b.icon}),s.jsx("span",{className:"text-sm",children:b.text})]},E))})]})]})]})})},ze=j.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ut("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ze.displayName="Input";var cke="Label",Cre=j.forwardRef((e,t)=>s.jsx(Tt.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Cre.displayName=cke;var Ere=Cre;const uke=Z0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=j.forwardRef(({className:e,...t},r)=>s.jsx(Ere,{ref:r,className:ut(uke(),e),...t}));ke.displayName=Ere.displayName;const _a=j.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));_a.displayName="Textarea";function Ew(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var k2="Switch",[dke]=Vs(k2),[fke,hke]=dke(k2),Tre=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,p]=j.useState(null),y=Zt(t,b=>p(b)),g=j.useRef(!1),v=m?d||!!m.closest("form"):!0,[_,w]=ji({prop:a,defaultProp:i??!1,onChange:u,caller:k2});return s.jsxs(fke,{scope:r,checked:_,disabled:l,children:[s.jsx(Tt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Rre(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:dt(e.onClick,b=>{w(E=>!E),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&s.jsx(Ore,{control:m,bubbles:!g.current,name:n,value:c,checked:_,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Tre.displayName=k2;var Are="SwitchThumb",Pre=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=hke(Are,r);return s.jsx(Tt.span,{"data-state":Rre(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Pre.displayName=Are;var mke="SwitchBubbleInput",Ore=j.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=j.useRef(null),l=Zt(o,i),c=Ew(r),u=hw(t);return j.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ore.displayName=mke;function Rre(e){return e?"checked":"unchecked"}var Dre=Tre,pke=Pre;const Gr=j.forwardRef(({className:e,...t},r)=>s.jsx(Dre,{className:ut("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-border transition-colors data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=unchecked]:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(pke,{className:ut("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gr.displayName=Dre.displayName;var C2="Collapsible",[gke,Ire]=Vs(C2),[xke,wF]=gke(C2),Mre=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=ji({prop:n,defaultProp:a??!1,onChange:o,caller:C2});return s.jsx(xke,{scope:r,disabled:i,contentId:uo(),open:c,onOpenToggle:j.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Tt.div,{"data-state":SF(c),"data-disabled":i?"":void 0,...l,ref:t})})});Mre.displayName=C2;var Fre="CollapsibleTrigger",_F=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=wF(Fre,r);return s.jsx(Tt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":SF(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:dt(e.onClick,a.onOpenToggle)})});_F.displayName=Fre;var jF="CollapsibleContent",NF=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=wF(jF,e.__scopeCollapsible);return s.jsx(la,{present:r||a.open,children:({present:i})=>s.jsx(vke,{...n,ref:t,present:i})})});NF.displayName=jF;var vke=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=wF(jF,r),[l,c]=j.useState(n),u=j.useRef(null),d=Zt(t,u),f=j.useRef(0),m=f.current,p=j.useRef(0),y=p.current,g=o.open||l,v=j.useRef(g),_=j.useRef(void 0);return j.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Ts(()=>{const w=u.current;if(w){_.current=_.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,p.current=b.width,v.current||(w.style.transitionDuration=_.current.transitionDuration,w.style.animationName=_.current.animationName),c(n)}},[o.open,n]),s.jsx(Tt.div,{"data-state":SF(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&a})});function SF(e){return e?"open":"closed"}var Lre=Mre,yke=_F,bke=NF;const Pj=Lre,Oj=_F,Rj=NF,Tn=hF,wke=mF,$re=j.forwardRef(({className:e,...t},r)=>s.jsx(jw,{ref:r,className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$re.displayName=jw.displayName;const jn=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(wke,{children:[s.jsx($re,{}),s.jsxs(Nw,{ref:n,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(N2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(La,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jn.displayName=Nw.displayName;const An=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});An.displayName="DialogHeader";const Ra=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ra.displayName="DialogFooter";const Pn=j.forwardRef(({className:e,...t},r)=>s.jsx(Sw,{ref:r,className:ut("text-lg font-semibold leading-none tracking-tight",e),...t}));Pn.displayName=Sw.displayName;const Ns=j.forwardRef(({className:e,...t},r)=>s.jsx(kw,{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));Ns.displayName=kw.displayName;function E2(){const[e,t]=j.useState({maxProducts:null,currentProducts:0,whatsappOrdersLimit:null,whatsappOrdersUsed:0,websiteOrdersLimit:null,websiteOrdersUsed:0,enableAnalytics:!1,enableLocationSharing:!1,enableCustomDomain:!1,enableAiVoice:!1,isLoading:!0,hasActiveSubscription:!1});j.useEffect(()=>{r();const c=Q.channel("subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{console.log("Subscription changed, reloading limits..."),r()}).subscribe(),u=Q.channel("plans-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscription_plans"},()=>{console.log("Subscription plan changed, reloading limits..."),r()}).subscribe();return()=>{c.unsubscribe(),u.unsubscribe()}},[]);const r=async()=>{try{const{data:{user:c}}=await Q.auth.getUser();if(!c){t(y=>({...y,isLoading:!1}));return}const{data:u}=await Q.from("subscriptions").select(`
          *,
          subscription_plans(
            max_products,
            whatsapp_orders_limit,
            website_orders_limit,
            enable_analytics,
            enable_location_sharing,
            enable_custom_domain,
            enable_ai_voice
          )
        `).eq("user_id",c.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),d=u&&u.length>0?u[0]:null;if(!d||!d.subscription_plans){t(y=>({...y,isLoading:!1,hasActiveSubscription:!1}));return}const{data:f}=await Q.from("stores").select("id").eq("user_id",c.id).single();let m=0;if(f){const{count:y}=await Q.from("products").select("*",{count:"exact",head:!0}).eq("store_id",f.id).eq("status","published");m=y||0}const p=d.subscription_plans;t({maxProducts:p.max_products,currentProducts:m,whatsappOrdersLimit:p.whatsapp_orders_limit,whatsappOrdersUsed:d.whatsapp_orders_used||0,websiteOrdersLimit:p.website_orders_limit,websiteOrdersUsed:d.website_orders_used||0,enableAnalytics:p.enable_analytics||!1,enableLocationSharing:p.enable_location_sharing||!1,enableCustomDomain:p.enable_custom_domain||!1,enableAiVoice:p.enable_ai_voice||!1,isLoading:!1,hasActiveSubscription:["active","trial"].includes(d.status)})}catch(c){console.error("Error loading subscription limits:",c),t(u=>({...u,isLoading:!1}))}};return{...e,canPublishProduct:()=>e.hasActiveSubscription?e.maxProducts===null?!0:e.currentProducts<e.maxProducts:!1,canPlaceWhatsAppOrder:()=>!e.hasActiveSubscription||e.whatsappOrdersLimit===null?!1:e.whatsappOrdersLimit===0?!0:e.whatsappOrdersUsed<e.whatsappOrdersLimit,canPlaceWebsiteOrder:()=>!e.hasActiveSubscription||e.websiteOrdersLimit===null?!1:e.websiteOrdersLimit===0?!0:e.websiteOrdersUsed<e.websiteOrdersLimit,getProductLimitMessage:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to publish products.";if(e.maxProducts===null)return null;const c=e.maxProducts-e.currentProducts;return c<=0?`Product limit reached (${e.currentProducts}/${e.maxProducts}). Upgrade your plan to publish more products.`:c<=3?`Warning: Only ${c} product slots remaining (${e.currentProducts}/${e.maxProducts}).`:null},getOrderLimitWarning:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to place orders.";const c=e.whatsappOrdersLimit,u=e.whatsappOrdersUsed,d=e.websiteOrdersLimit,f=e.websiteOrdersUsed;if(c===null&&d===null)return"Ordering features are not available in your current plan.";if(c!==null&&c>0){const m=c-u;if(m<=0)return`WhatsApp order limit reached (${u}/${c}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} WhatsApp order slots remaining (${u}/${c}).`}if(d!==null&&d>0){const m=d-f;if(m<=0)return`Website order limit reached (${f}/${d}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} website order slots remaining (${f}/${d}).`}return null},refresh:r}}const _ke=async e=>{try{const{data:t,error:r}=await Q.from("stores").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Store not found");const n=t,{data:a}=await Q.from("profiles").select("phone, email").eq("user_id",t.user_id).maybeSingle(),i=a,{data:o,error:l}=await Q.from("products").select("id, name, category, price_range, description, status").eq("store_id",e).eq("status","published").order("category",{ascending:!0}).order("name",{ascending:!0});if(l)throw l;const c=o||[],u=c.map(g=>g.id);let d=[];if(u.length>0){const{data:g,error:v}=await Q.from("product_variants").select("id, product_id, size, color, price, stock_quantity").in("product_id",u).order("price",{ascending:!0});!v&&g&&(d=g)}let f="";if(f+="=".repeat(80)+`
`,f+=`${n.name.toUpperCase()}
`,f+=`STORE INFORMATION FOR AI VOICE AGENT
`,f+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,f+="=".repeat(80)+`

`,f+="-".repeat(80)+`
`,f+=`STORE INFORMATION
`,f+="-".repeat(80)+`

`,f+=`Store Name: ${n.name}
`,n.description&&(f+=`
Description:
${n.description}
`),n.address&&(f+=`
Address:
${n.address}
`),n.whatsapp_number&&(f+=`
WhatsApp: ${n.whatsapp_number}
`),i?.phone&&(f+=`Phone: ${i.phone}
`),i?.email&&(f+=`Email: ${i.email}
`),n.social_links&&(f+=`
Social Media:
`,n.social_links.facebook&&(f+=`  Facebook: ${n.social_links.facebook}
`),n.social_links.instagram&&(f+=`  Instagram: ${n.social_links.instagram}
`),n.social_links.twitter&&(f+=`  Twitter: ${n.social_links.twitter}
`)),f+=`
`,f+="-".repeat(80)+`
`,f+=`STORE POLICIES
`,f+="-".repeat(80)+`

`,n.policies?.deliveryAreas&&(f+=`Delivery Areas:
${n.policies.deliveryAreas}

`),n.policies?.returnPolicy&&(f+=`Return Policy:
${n.policies.returnPolicy}

`),n.policies?.shippingPolicy&&(f+=`Shipping Policy:
${n.policies.shippingPolicy}

`),n.policies?.termsConditions&&(f+=`Terms & Conditions:
${n.policies.termsConditions}

`),f+="-".repeat(80)+`
`,f+=`PRODUCT CATALOG (${c.length} Products)
`,f+="-".repeat(80)+`

`,c.length>0){const g=c.reduce((v,_)=>{const w=_.category||"Uncategorized";return v[w]||(v[w]=[]),v[w].push(_),v},{});Object.entries(g).forEach(([v,_],w)=>{w>0&&(f+=`
`),f+=`
${"=".repeat(80)}
`,f+=`CATEGORY: ${v.toUpperCase()}
`,f+=`${"=".repeat(80)}

`,_.forEach((b,E)=>{f+=`${E+1}. ${b.name}
`,b.price_range&&(f+=`   Price: ${b.price_range}
`),b.description&&(f+=`   Description: ${b.description}
`);const S=d.filter(C=>C.product_id===b.id);S.length>0&&(f+=`   Available Variants:
`,S.forEach((C,k)=>{let R=`     ${k+1}) `;const P=[];C.size&&P.push(`Size: ${C.size}`),C.color&&P.push(`Color: ${C.color}`),P.push(`Price: Rs ${C.price}`),P.push(`Stock: ${C.stock_quantity}`),R+=P.join(", "),f+=R+`
`})),f+=`
`})})}else f+=`No products available.

`;f+=`
`+"=".repeat(80)+`
`,f+=`END OF STORE INFORMATION
`,f+="=".repeat(80)+`
`;const m=new Blob([f],{type:"text/plain;charset=utf-8"}),p=URL.createObjectURL(m),y=document.createElement("a");return y.href=p,y.download=`${n.slug}-store-info-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(p),{success:!0,filename:y.download}}catch(t){throw console.error("Error generating TXT:",t),t}};function jke({open:e,onClose:t,userEmail:r,storeName:n}){const[a,i]=j.useState(""),[o,l]=j.useState(!1);xr();const c=async()=>{if(a!=="DELETE"){Me({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:{user:u}}=await Q.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:f}=await Q.functions.invoke("delete-user-account",{body:{userId:u.id}});if(f)throw f;if(!d.success)throw new Error(d.error||"Failed to delete account");Me({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted"}),await Q.auth.signOut(),setTimeout(()=>{window.location.href="/"},2e3)}catch(u){Me({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"}),l(!1)}};return s.jsx(Tn,{open:e,onOpenChange:t,children:s.jsxs(jn,{className:"max-w-lg",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(ra,{className:"w-5 h-5"}),"Delete My Account Permanently"]}),s.jsx(Ns,{children:"This action is permanent and cannot be undone. All your data will be permanently deleted."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(ra,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:" Warning: This Cannot Be Undone!"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["This action is ",s.jsx("strong",{children:"permanent and irreversible"}),". All your data will be completely deleted from our servers."]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"The following will be permanently deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 pl-4",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your account"})," - You will not be able to log in anymore"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your store"})," - ",n||"Your store"," will be permanently removed"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All products"})," - Every product you've created"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All orders"})," - Complete order history"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Subscription data"})," - Billing history and subscription info"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Analytics data"})," - All performance metrics"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Uploaded files"})," - Images, documents, and assets"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Account: ",s.jsx("span",{className:"font-bold text-foreground",children:r})]}),n&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store: ",s.jsx("span",{className:"font-semibold",children:n})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs(ke,{htmlFor:"confirmation",className:"text-base",children:["Type ",s.jsx("span",{className:"font-bold text-destructive text-lg",children:"DELETE"})," to confirm permanent deletion"]}),s.jsx(ze,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here",className:"text-center font-semibold text-lg",autoComplete:"off"})]})]}),s.jsxs(Ra,{className:"gap-2",children:[s.jsx(ie,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:"Cancel"}),s.jsx(ie,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,className:"flex-1",children:o?"Deleting Forever...":"Delete My Account Forever"})]})]})})}const ff=e=>{if(!e)return null;if(e.includes("drive.google.com/thumbnail?")||e.includes("drive.google.com/uc?"))return e;const t=e.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);return t?`https://drive.google.com/thumbnail?id=${t[1]||t[2]}&sz=w1000`:e};async function kF(e,t=5){const r={maxSizeMB:t,maxWidthOrHeight:2048,initialQuality:.9,minQuality:.6,step:.05},n=e.size/1024/1024;if(n<=t)return console.log(`Image already under ${t}MB:`,n.toFixed(2)+"MB"),e;console.log(`Compressing image from ${n.toFixed(2)}MB to max ${t}MB`);try{const a=await Nke(e),i=await Ske(a),{width:o,height:l}=kke(i.width,i.height,r.maxWidthOrHeight),c=await Cke(i,o,l,e.name,e.type,r),u=c.size/1024/1024;return console.log(`Compression complete: ${n.toFixed(2)}MB  ${u.toFixed(2)}MB`),c}catch(a){return console.error("Image compression failed:",a),e}}function Nke(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=a=>t(a.target?.result),n.onerror=r,n.readAsDataURL(e)})}function Ske(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=r,n.src=e})}function kke(e,t,r){if(e<=r&&t<=r)return{width:e,height:t};const n=e/t;return e>t?{width:r,height:Math.round(r/n)}:{width:Math.round(r*n),height:r}}async function Cke(e,t,r,n,a,i){const o=document.createElement("canvas");o.width=t,o.height=r;const l=o.getContext("2d");if(!l)throw new Error("Failed to get canvas context");l.drawImage(e,0,0,t,r);let c=a;["image/jpeg","image/png","image/webp"].includes(a)||(c="image/jpeg");let u=i.initialQuality;const d=i.maxSizeMB*1024*1024;let f=null;for(;u>=i.minQuality;){if(f=await new Promise(p=>{o.toBlob(y=>p(y),c,u)}),!f)throw new Error("Failed to create blob from canvas");if(f.size<=d){console.log(`Compression successful at quality ${u.toFixed(2)}`);break}u-=i.step}if(!f)throw new Error("Failed to compress image");return new File([f],n,{type:c,lastModified:Date.now()})}const Eke=()=>{const[e,t]=j.useState(!1),[r,n]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[m,p]=j.useState(""),[y,g]=j.useState(!1),[v,_]=j.useState(!1),[w,b]=j.useState(!1),[E,S]=j.useState([]),[C,k]=j.useState("vps"),[R,P]=j.useState({razorpay_key_secret:!1,phonepe_salt_key:!1,cashfree_secret_key:!1,payu_merchant_salt:!1,paytm_merchant_key:!1,stripe_secret_key:!1}),[O,A]=j.useState(null),[D,F]=j.useState("idle"),[B,z]=j.useState(null),[q,G]=j.useState(!0),Y=E2(),[M,H]=j.useState({storeName:"",logoUrl:"",heroBannerUrls:[],phone:"",email:"",address:"",whatsappNumber:"",currency:"INR",currencySymbol:"",customDomain:"",aiVoiceEmbedCode:"",forceLocationSharing:!1,deliveryAreas:"",returnPolicy:"",shippingPolicy:"",termsConditions:"",privacyPolicy:"",razorpay_enabled:!1,razorpay_key_id:"",razorpay_key_secret:"",phonepe_enabled:!1,phonepe_merchant_id:"",phonepe_salt_key:"",phonepe_salt_index:"",cashfree_enabled:!1,cashfree_app_id:"",cashfree_secret_key:"",payu_enabled:!1,payu_merchant_key:"",payu_merchant_salt:"",paytm_enabled:!1,paytm_merchant_id:"",paytm_merchant_key:"",stripe_enabled:!1,stripe_publishable_key:"",stripe_secret_key:"",payment_mode:"online_and_cod"}),[Z,L]=j.useState(""),[J,V]=j.useState(0),[X,ne]=j.useState(100),[se,ue]=j.useState([]),[W,ae]=j.useState("all"),[oe,K]=j.useState(!1),[be,pe]=j.useState([]),[Ee,Ae]=j.useState([]),fe=j.useCallback(async()=>{try{const{data:{user:de}}=await Q.auth.getUser();if(!de)return;p(de.email||"");const{data:{session:Re}}=await Q.auth.getSession(),rt=Re?.provider_token,xt=Re?.provider_refresh_token,{data:at,error:St}=await Q.from("stores").select("*").eq("user_id",de.id).single();if(St&&console.error("Error loading store:",St),at?.id&&i(at.id),V(at?.storage_used_mb||0),ne(at?.storage_limit_mb||100),at&&rt){const Pt={google_access_token:rt};if(xt){const fr=new Date(Date.now()+36e5).toISOString();Pt.google_refresh_token=xt,Pt.google_token_expiry=fr}await Q.from("stores").update(Pt).eq("id",at.id),Me({title:"Google Drive Connected",description:"You can now upload images to Google Drive."}),g(!0)}else g(!!at?.google_access_token);const{data:Yt}=await Q.from("profiles").select("phone, email").eq("user_id",de.id).single(),At=at?.payment_gateway_credentials||{};H({storeName:at?.name||"",logoUrl:at?.logo_url||"",heroBannerUrls:at?.hero_banner_urls||[],phone:Yt?.phone||"",email:Yt?.email||"",address:at?.address||"",whatsappNumber:at?.whatsapp_number||"",currency:"INR",currencySymbol:"",customDomain:at?.custom_domain||"",aiVoiceEmbedCode:at?.ai_voice_embed_code||"",forceLocationSharing:at?.force_location_sharing||!1,deliveryAreas:at?.policies?.deliveryAreas||"",returnPolicy:at?.policies?.returnPolicy||"",shippingPolicy:at?.policies?.shippingPolicy||"",termsConditions:at?.policies?.termsConditions||"",privacyPolicy:at?.policies?.privacyPolicy||"",razorpay_enabled:At?.razorpay?.enabled||!1,razorpay_key_id:At?.razorpay?.key_id||"",razorpay_key_secret:At?.razorpay?.key_secret||"",phonepe_enabled:At?.phonepe?.enabled||!1,phonepe_merchant_id:At?.phonepe?.merchant_id||"",phonepe_salt_key:At?.phonepe?.salt_key||"",phonepe_salt_index:At?.phonepe?.salt_index||"",cashfree_enabled:At?.cashfree?.enabled||!1,cashfree_app_id:At?.cashfree?.app_id||"",cashfree_secret_key:At?.cashfree?.secret_key||"",payu_enabled:At?.payu?.enabled||!1,payu_merchant_key:At?.payu?.merchant_key||"",payu_merchant_salt:At?.payu?.merchant_salt||"",paytm_enabled:At?.paytm?.enabled||!1,paytm_merchant_id:At?.paytm?.merchant_id||"",paytm_merchant_key:At?.paytm?.merchant_key||"",stripe_enabled:At?.stripe?.enabled||!1,stripe_publishable_key:At?.stripe?.publishable_key||"",stripe_secret_key:At?.stripe?.secret_key||"",payment_mode:at?.payment_mode||"online_and_cod"})}catch(de){console.error("Error loading settings:",de)}finally{G(!1)}},[]);j.useEffect(()=>{fe(),Je()},[fe]);const Je=async()=>{try{K(!0);const{data:{user:de}}=await Q.auth.getUser();if(!de)return;const{data:Re}=await Q.from("stores").select("id").eq("user_id",de.id).single();if(!Re)return;const{data:rt,error:xt}=await Q.from("media_library").select("*").eq("store_id",Re.id).order("uploaded_at",{ascending:!1});if(xt)throw xt;ue(rt||[])}catch(de){console.error("Error loading media library:",de)}finally{K(!1)}},Ye=(de,Re)=>{H(rt=>({...rt,[de]:Re}))},ce=de=>{navigator.clipboard.writeText(de),Me({title:"URL Copied",description:"Image URL copied to clipboard"})},we=async de=>{try{const rt=await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:de})})).json();console.log("VPS delete response:",rt);const{error:xt}=await Q.from("media_library").delete().eq("file_url",de);xt&&console.error("Failed to delete from database:",xt);const{data:{user:at}}=await Q.auth.getUser();if(at){const{data:St}=await Q.from("stores").select("id, storage_used_mb").eq("user_id",at.id).single();if(St){const Yt=se.find(At=>At.file_url===de);if(Yt?.file_size_mb){const At=Math.max(0,(St.storage_used_mb||0)-Yt.file_size_mb);await Q.from("stores").update({storage_used_mb:At}).eq("id",St.id)}}}Me({title:"Image Deleted",description:"Image removed from media library"}),Je()}catch(Re){Me({title:"Delete Failed",description:Re.message||"Failed to delete image",variant:"destructive"})}};j.useEffect(()=>{if(q)return;const de=setTimeout(()=>{Oe()},2e3);return()=>clearTimeout(de)},[M,q]);const Oe=async()=>{try{F("saving");const{data:{user:de}}=await Q.auth.getUser();if(!de)return;const Re={name:M.storeName,logo_url:M.logoUrl||null,hero_banner_urls:M.heroBannerUrls.length>0?M.heroBannerUrls:null,whatsapp_number:M.whatsappNumber,address:M.address||null,policies:{deliveryAreas:M.deliveryAreas||null,returnPolicy:M.returnPolicy||null,shippingPolicy:M.shippingPolicy||null,termsConditions:M.termsConditions||null,privacyPolicy:M.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:M.razorpay_enabled,key_id:M.razorpay_key_id||null,key_secret:M.razorpay_key_secret||null},phonepe:{enabled:M.phonepe_enabled,merchant_id:M.phonepe_merchant_id||null,salt_key:M.phonepe_salt_key||null,salt_index:M.phonepe_salt_index||null},cashfree:{enabled:M.cashfree_enabled,app_id:M.cashfree_app_id||null,secret_key:M.cashfree_secret_key||null},payu:{enabled:M.payu_enabled,merchant_key:M.payu_merchant_key||null,merchant_salt:M.payu_merchant_salt||null},paytm:{enabled:M.paytm_enabled,merchant_id:M.paytm_merchant_id||null,merchant_key:M.paytm_merchant_key||null},stripe:{enabled:M.stripe_enabled,publishable_key:M.stripe_publishable_key||null,secret_key:M.stripe_secret_key||null}},payment_mode:M.payment_mode};Y.enableCustomDomain&&(Re.custom_domain=M.customDomain.trim().toLowerCase()||null),Y.enableAiVoice&&(Re.ai_voice_embed_code=M.aiVoiceEmbedCode.trim()||null),Y.enableLocationSharing&&(Re.force_location_sharing=M.forceLocationSharing);const{error:rt}=await Q.from("stores").update(Re).eq("user_id",de.id);if(rt)throw rt;(M.phone||M.email)&&await Q.from("profiles").update({phone:M.phone||null,email:M.email||null}).eq("user_id",de.id),F("saved"),z(new Date),setTimeout(()=>{F("idle")},3e3)}catch(de){console.error("Auto-save error:",de),F("error"),setTimeout(()=>{F("idle")},3e3)}},He=()=>{if(!Z.trim()){Me({variant:"destructive",title:"Invalid URL",description:"Please enter a valid image URL"});return}let de=Z.trim();if(de.includes("drive.google.com")){const Re=ff(de);Re&&(de=Re,Me({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}H(Re=>({...Re,heroBannerUrls:[...Re.heroBannerUrls,de]})),L("")},Ge=async de=>{const Re=M.heroBannerUrls[de];if(Re.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:Re})}),await Q.from("media_library").delete().eq("file_url",Re),console.log("Banner image deleted from VPS and media library:",Re)}catch(xt){console.error("Failed to delete banner:",xt)}const rt=M.heroBannerUrls.filter((xt,at)=>at!==de);H(xt=>({...xt,heroBannerUrls:rt}));try{const{data:{user:xt}}=await Q.auth.getUser();xt&&await Q.from("stores").update({hero_banner_urls:rt.length>0?rt:null}).eq("user_id",xt.id)}catch(xt){console.error("Failed to save banner changes:",xt)}setTimeout(()=>{Je()},500)},Ne=async de=>{const Re=Array.from(de.target.files||[]);if(Re.length===0)return;const rt=Re.filter(xt=>xt.type.startsWith("image/")?!0:(Me({title:"Invalid file type",description:`${xt.name} is not a valid image file`,variant:"destructive"}),!1));if(rt.length!==0){if(C==="drive"&&!y){Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below to upload images directly.",variant:"destructive",duration:5e3});return}try{if(C==="vps"){const at=[];for(const Yt of rt)try{const At=(Yt.size/1024/1024).toFixed(2),Pt=await kF(Yt,5),fr=(Pt.size/1024/1024).toFixed(2);console.log(`Banner compressed: ${At}MB  ${fr}MB`),at.push(Pt)}catch(At){console.error("Compression failed:",At),Me({title:"Compression failed",description:`Failed to compress ${Yt.name}, using original`,variant:"destructive"}),at.push(Yt)}pe(Yt=>[...Yt,...at]);const St=at.map(Yt=>URL.createObjectURL(Yt));Ae(Yt=>[...Yt,...St]),H(Yt=>({...Yt,heroBannerUrls:[...Yt.heroBannerUrls,...St]})),Me({title:"Banners ready",description:`${at.length} banner(s) will be uploaded when you save settings`});return}b(!0),S(rt.map(at=>({name:at.name,progress:0})));const{data:{session:xt}}=await Q.auth.getSession();if(!xt)throw new Error("Not authenticated");for(let at=0;at<rt.length;at++){const St=rt[at];S(Pt=>Pt.map((fr,Ar)=>Ar===at?{...fr,progress:10}:fr));const Yt=new FormData;Yt.append("file",St),Yt.append("type","banners");const At=setInterval(()=>{S(Pt=>Pt.map((fr,Ar)=>Ar===at&&fr.progress<90?{...fr,progress:fr.progress+10}:fr))},200);try{const Pt=await Q.functions.invoke("upload-to-drive",{body:Yt,headers:{Authorization:`Bearer ${xt.access_token}`}});if(clearInterval(At),Pt.error)throw S(fr=>fr.filter((Ar,Fr)=>Fr!==at)),new Error(Pt.error.message||"Failed to upload image");Pt.data?.imageUrl&&(S(fr=>fr.map((Ar,Fr)=>Fr===at?{...Ar,progress:100}:Ar)),await new Promise(fr=>setTimeout(fr,300)),S(fr=>fr.filter((Ar,Fr)=>Fr!==at)),H(fr=>({...fr,heroBannerUrls:[...fr.heroBannerUrls,Pt.data.imageUrl]})),Me({title:"Banner Uploaded",description:`${St.name} uploaded successfully`}))}catch(Pt){throw clearInterval(At),Pt}}Je(),fe()}catch(xt){let at=xt.message||"";if(xt.context?.body)try{const St=JSON.parse(xt.context.body);at=St.error||St.message||at}catch{}at.toLowerCase().includes("storage limit")?Me({title:"Storage Limit Reached",description:at,variant:"destructive",duration:6e3}):at.toLowerCase().includes("drive")&&at.toLowerCase().includes("not connected")?Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below first.",variant:"destructive",duration:6e3}):at.toLowerCase().includes("token")||at.toLowerCase().includes("expired")?Me({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect below.",variant:"destructive",duration:6e3}):Me({title:"Upload Failed",description:at||"Failed to upload to Google Drive. Try using the URL option instead.",variant:"destructive",duration:5e3})}finally{b(!1),S([]),de.target.value=""}}},ee=async()=>{if(!a){Me({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}n(!0);try{await _ke(a),Me({title:"File Generated Successfully",description:"Your store information TXT file has been downloaded."})}catch(de){console.error("Error generating file:",de),Me({variant:"destructive",title:"File Generation Failed",description:"There was an error generating your file. Please try again."})}finally{n(!1)}},_e=async()=>{try{_(!0);const{error:de}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin/settings`,scopes:"https://www.googleapis.com/auth/drive.file",queryParams:{access_type:"offline",prompt:"consent"}}});de&&(console.error("Google Drive connection error:",de),Me({variant:"destructive",title:"Connection Failed",description:de.message}))}catch(de){console.error("Error connecting Google Drive:",de),Me({variant:"destructive",title:"Connection Failed",description:"Failed to initiate Google Drive connection"})}finally{_(!1)}},ge=async de=>{de.preventDefault(),t(!0);try{if(!M.storeName.trim()){Me({variant:"destructive",title:"Validation Error",description:"Store name is required"}),t(!1);return}if(M.customDomain.trim()){if(!Y.enableCustomDomain){Me({variant:"destructive",title:"Feature Not Available",description:"Custom domain is only available for Pro, Premium, and Enterprise plans. Please upgrade your subscription."}),t(!1);return}const St=/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?(\.[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?)*\.[a-zA-Z]{2,}$/,Yt=M.customDomain.trim().toLowerCase();if(Yt.includes("http://")||Yt.includes("https://")){Me({variant:"destructive",title:"Invalid Domain Format",description:"Please enter domain without http:// or https:// (e.g., shop.yourdomain.com)"}),t(!1);return}if(!St.test(Yt)){Me({variant:"destructive",title:"Invalid Domain Format",description:"Please enter a valid domain name (e.g., shop.yourdomain.com)"}),t(!1);return}}const Re=M.whatsappNumber.replace(/[^0-9]/g,"");if(Re==="9876543210"||Re==="919876543210"){Me({variant:"destructive",title:"Invalid WhatsApp Number",description:"The default number 9876543210 is not allowed. Please enter your actual WhatsApp business number."}),t(!1);return}if(M.whatsappNumber.trim()&&Re.length<10){Me({variant:"destructive",title:"Invalid WhatsApp Number",description:"Please enter a valid WhatsApp number with at least 10 digits."}),t(!1);return}const{data:{user:rt}}=await Q.auth.getUser();if(!rt)throw new Error("User not authenticated");if(be.length>0&&C==="vps")try{const{data:St,error:Yt}=await Q.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",rt.id).single();if(Yt)throw Yt;if(!St)throw new Error("Store not found");const At=St.storage_used_mb||0,Pt=St.storage_limit_mb||100,fr=be.reduce((kn,Mt)=>kn+Mt.size/1024/1024,0);if(At+fr>Pt){Me({variant:"destructive",title:"Storage Limit Exceeded",description:`Cannot upload banners. You need ${fr.toFixed(2)}MB but only have ${(Pt-At).toFixed(2)}MB available. Delete some images from Media Library to free up space.`}),t(!1);return}const Ar=[];let Fr=0;for(let kn=0;kn<be.length;kn++){const Mt=be[kn],ar=new FormData;ar.append("file",Mt),ar.append("type","banners");const Pr=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:ar});if(!Pr.ok){const Qt=await Pr.text();throw new Error(`Upload failed: ${Qt}`)}const zt=await Pr.json();if(!zt.success)throw new Error(zt.error||"Upload failed");const It=zt.imageUrl,er=Mt.size/1024/1024,{error:vt}=await Q.from("media_library").insert({store_id:St.id,file_url:It,file_name:Mt.name,file_size_mb:er,file_type:"banners"});vt&&console.error("Error tracking banner in media library:",vt);const Lt=At+Fr+er,{error:Ft}=await Q.from("stores").update({storage_used_mb:Lt}).eq("id",St.id);Ft&&console.error("Error updating storage usage:",Ft),Ar.push(It),Fr+=er}const Qr=M.heroBannerUrls.map(kn=>{const Mt=Ee.indexOf(kn);return Mt!==-1&&Mt<Ar.length?Ar[Mt]:kn});M.heroBannerUrls=Qr,Ee.forEach(kn=>{kn.startsWith("blob:")&&URL.revokeObjectURL(kn)}),pe([]),Ae([]),Me({title:"Banners Uploaded",description:`Successfully uploaded ${Ar.length} banner(s) (${Fr.toFixed(2)}MB)`})}catch(St){console.error("Error uploading pending banners:",St),Me({variant:"destructive",title:"Upload Failed",description:St instanceof Error?St.message:"Failed to upload banner images"}),t(!1);return}const xt={name:M.storeName,logo_url:M.logoUrl||null,hero_banner_urls:M.heroBannerUrls.length>0?M.heroBannerUrls:null,whatsapp_number:M.whatsappNumber,address:M.address||null,policies:{deliveryAreas:M.deliveryAreas||null,returnPolicy:M.returnPolicy||null,shippingPolicy:M.shippingPolicy||null,termsConditions:M.termsConditions||null,privacyPolicy:M.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:M.razorpay_enabled,key_id:M.razorpay_key_id||null,key_secret:M.razorpay_key_secret||null},phonepe:{enabled:M.phonepe_enabled,merchant_id:M.phonepe_merchant_id||null,salt_key:M.phonepe_salt_key||null,salt_index:M.phonepe_salt_index||null},cashfree:{enabled:M.cashfree_enabled,app_id:M.cashfree_app_id||null,secret_key:M.cashfree_secret_key||null},payu:{enabled:M.payu_enabled,merchant_key:M.payu_merchant_key||null,merchant_salt:M.payu_merchant_salt||null},paytm:{enabled:M.paytm_enabled,merchant_id:M.paytm_merchant_id||null,merchant_key:M.paytm_merchant_key||null},stripe:{enabled:M.stripe_enabled,publishable_key:M.stripe_publishable_key||null,secret_key:M.stripe_secret_key||null}},payment_mode:M.payment_mode};Y.enableCustomDomain&&(xt.custom_domain=M.customDomain.trim().toLowerCase()||null),Y.enableAiVoice&&(xt.ai_voice_embed_code=M.aiVoiceEmbedCode.trim()||null),Y.enableLocationSharing&&(xt.force_location_sharing=M.forceLocationSharing);const{error:at}=await Q.from("stores").update(xt).eq("user_id",rt.id).select();if(at)throw at;if(M.phone||M.email){const{error:St}=await Q.from("profiles").update({phone:M.phone||null,email:M.email||null}).eq("user_id",rt.id);St&&console.error("Error updating profile:",St)}F("saved"),z(new Date),Me({title:"Settings Saved",description:"Your store settings have been updated successfully"})}catch{Me({variant:"destructive",title:"Save Failed",description:"There was an error saving your settings"})}finally{t(!1)}},Be=[{title:"Store Information",icon:Hh,fields:[{key:"storeName",label:"Store Name",placeholder:"My Awesome Store",required:!0},{key:"logoUrl",label:"Logo URL (Google Drive Link)",placeholder:"https://drive.google.com/..."}]},{title:"Contact Information",icon:oc,fields:[{key:"phone",label:"Phone Number",placeholder:"+1 (555) 123-4567"},{key:"email",label:"Email Address",placeholder:"contact@yourstore.com"},{key:"whatsappNumber",label:"WhatsApp Business Number",placeholder:"919876543210 (with country code, no spaces)"},{key:"address",label:"Store Address",placeholder:"123 Main St, City, State 12345",multiline:!0}]},{title:"Currency Settings",icon:Hh,fields:[{key:"currencySymbol",label:"Currency Symbol",placeholder:", $, , , etc."},{key:"currency",label:"Currency Code",placeholder:"INR, USD, EUR, GBP, etc."}]}],Ie=[{key:"deliveryAreas",label:"Delivery Areas",placeholder:"List areas where you deliver..."},{key:"returnPolicy",label:"Return Policy",placeholder:"Describe your return policy..."},{key:"shippingPolicy",label:"Shipping Policy",placeholder:"Describe your shipping terms..."},{key:"termsConditions",label:"Terms & Conditions",placeholder:"Your terms and conditions..."},{key:"privacyPolicy",label:"Privacy Policy",placeholder:"Describe how you collect, use, and protect customer data..."}];return s.jsx(vs,{children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Store Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure your store information and policies"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[D==="saving"&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Jt,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}),D==="saved"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(cn,{className:"w-4 h-4"}),s.jsxs("span",{children:["Saved",B&&` at ${B.toLocaleTimeString()}`]})]}),D==="error"&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[s.jsx(ra,{className:"w-4 h-4"}),s.jsx("span",{children:"Save failed"})]})]})]}),s.jsxs("form",{onSubmit:ge,className:"space-y-8",children:[Be.map((de,Re)=>s.jsxs(Se,{className:"admin-card",children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(de.icon,{className:"w-5 h-5 text-primary"})}),de.title]})}),s.jsx(Te,{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:de.fields.map((rt,xt)=>s.jsxs("div",{className:rt.multiline?"md:col-span-2":"",children:[s.jsxs(ke,{htmlFor:rt.key,className:"flex items-center gap-2",children:[rt.label,rt.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),rt.multiline?s.jsx(_a,{id:rt.key,placeholder:rt.placeholder,value:String(M[rt.key]||""),onChange:at=>Ye(rt.key,at.target.value),className:"admin-input min-h-[100px] mt-2",required:rt.required}):s.jsx(ze,{id:rt.key,type:"text",placeholder:rt.placeholder,value:String(M[rt.key]||""),onChange:at=>Ye(rt.key,at.target.value),className:"admin-input mt-2",required:rt.required})]},xt))})})]},Re)),s.jsx(Se,{className:"admin-card",children:s.jsxs(Pj,{children:[s.jsxs(Ze,{children:[s.jsx(Oj,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(ss,{className:"w-5 h-5 text-primary"})}),"Payment Gateway Configuration"]}),s.jsx(Lu,{className:"h-5 w-5 transition-transform duration-200 data-[state=open]:rotate-180"})]})}),s.jsx("p",{className:"text-muted-foreground mt-2 text-left",children:"Configure payment gateways for your store - click any card to set up"})]}),s.jsx(Rj,{children:s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(tn,{children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx(rn,{children:"Click on any payment gateway card below to configure credentials. Payments go directly to your account."})]}),(M.razorpay_enabled||M.phonepe_enabled||M.cashfree_enabled||M.payu_enabled||M.paytm_enabled||M.stripe_enabled)&&s.jsx("div",{className:"p-6 rounded-xl border-2 border-primary/20 bg-primary/5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-1",children:"Payment Methods at Checkout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which payment options customers will see during checkout"})]}),s.jsxs("div",{className:"inline-flex rounded-lg border-2 border-primary/20 p-1 bg-background",children:[s.jsx("button",{type:"button",onClick:()=>H(de=>({...de,payment_mode:"online_only"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${M.payment_mode==="online_only"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online Payment Only"}),s.jsx("button",{type:"button",onClick:()=>H(de=>({...de,payment_mode:"online_and_cod"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${M.payment_mode==="online_and_cod"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online + COD"})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"mt-0.5",children:M.payment_mode==="online_only"?s.jsx(ra,{className:"w-4 h-4 text-blue-600"}):s.jsx(cn,{className:"w-4 h-4 text-green-600"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M.payment_mode==="online_only"?s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online Payment Only:"})," Customers can only pay using configured payment gateways. Cash on Delivery will not be available."]}):s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online + COD:"})," Customers can choose to pay online or via Cash on Delivery. This gives maximum flexibility to your customers."]})})]})]})}),!(M.razorpay_enabled||M.phonepe_enabled||M.cashfree_enabled||M.payu_enabled||M.paytm_enabled||M.stripe_enabled)&&s.jsxs(tn,{className:"bg-amber-500/10 border-amber-500/20",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsxs(rn,{className:"text-amber-900 dark:text-amber-100",children:[s.jsx("strong",{children:"Cash on Delivery Only:"})," Configure at least one payment gateway below to enable online payments."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{onClick:()=>A("razorpay"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-blue-500/50 hover:-translate-y-1",style:{borderColor:M.razorpay_enabled?"#3b82f6":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:M.razorpay_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors",children:s.jsx(ss,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Razorpay"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Popular in India"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(va,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("phonepe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-purple-500/50 hover:-translate-y-1",style:{borderColor:M.phonepe_enabled?"#a855f7":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:M.phonepe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 group-hover:bg-purple-500/20 transition-colors",children:s.jsx(ss,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PhonePe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"UPI & Digital"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600 dark:text-purple-400 font-medium",children:[s.jsx(va,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("cashfree"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-green-500/50 hover:-translate-y-1",style:{borderColor:M.cashfree_enabled?"#22c55e":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:M.cashfree_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-500/10 group-hover:bg-green-500/20 transition-colors",children:s.jsx(ss,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Cashfree"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Payments & Payouts"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 font-medium",children:[s.jsx(va,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("payu"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-orange-500/50 hover:-translate-y-1",style:{borderColor:M.payu_enabled?"#f97316":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:M.payu_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-orange-500/10 group-hover:bg-orange-500/20 transition-colors",children:s.jsx(ss,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PayU"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Leading Solution"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600 dark:text-orange-400 font-medium",children:[s.jsx(va,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("paytm"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-sky-500/50 hover:-translate-y-1",style:{borderColor:M.paytm_enabled?"#0ea5e9":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:M.paytm_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-sky-500/10 group-hover:bg-sky-500/20 transition-colors",children:s.jsx(ss,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Paytm"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Wallet & Gateway"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-sky-600 dark:text-sky-400 font-medium",children:[s.jsx(va,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("stripe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-indigo-500/50 hover:-translate-y-1",style:{borderColor:M.stripe_enabled?"#6366f1":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:M.stripe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-indigo-500/10 group-hover:bg-indigo-500/20 transition-colors",children:s.jsx(ss,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Stripe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Global Platform"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:[s.jsx(va,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]})]}),s.jsxs(tn,{className:"bg-amber-500/5 border-amber-500/20",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsxs(rn,{className:"text-amber-600 dark:text-amber-400",children:[s.jsx("strong",{children:"Important:"})," Keep your API credentials secure. Payments go directly to your accounts. We recommend using test/sandbox credentials first before going live."]})]})]})})]})}),s.jsxs(Se,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(cm,{className:"w-5 h-5 text-primary"})}),"Custom Domain"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your own domain to your store"})]}),s.jsx(Te,{className:"space-y-4",children:Y.enableCustomDomain?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"customDomain",children:"Custom Domain"}),s.jsx(ze,{id:"customDomain",type:"text",placeholder:"yourdomain.com or www.yourdomain.com or shop.yourdomain.com",value:M.customDomain,onChange:de=>Ye("customDomain",de.target.value),className:"admin-input mt-2",disabled:!Y.enableCustomDomain}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Enter your domain: ",s.jsx("strong",{children:"yourdomain.com"})," (root), ",s.jsx("strong",{children:"www.yourdomain.com"}),", or ",s.jsx("strong",{children:"shop.yourdomain.com"})]})]}),M.customDomain&&(()=>{const Re=M.customDomain.trim().split("."),rt=Re.length===2,xt=rt?"@":Re[0];return s.jsxs(tn,{children:[s.jsx(cm,{className:"h-4 w-4"}),s.jsx(rn,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"DNS Configuration Required:"}),s.jsx("p",{className:"text-sm",children:rt?"For root domain, add an A record pointing to your server IP:":"For subdomain, add a CNAME record in your domain's DNS settings:"}),s.jsx("div",{className:"bg-muted p-2 rounded mt-2 font-mono text-xs",children:rt?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: A"}),s.jsx("div",{children:"Name: @ (or leave blank)"}),s.jsx("div",{children:"Value: Your Server IP"}),s.jsx("div",{className:"mt-2 text-muted-foreground",children:"Alternative: Use CNAME for www, then redirect @ to www"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: CNAME"}),s.jsxs("div",{children:["Name: ",xt]}),s.jsx("div",{children:"Value: yesgive.shop"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"DNS changes may take up to 48 hours to propagate."})]})})]})})()]}):s.jsxs(tn,{children:[s.jsx(dg,{className:"h-4 w-4"}),s.jsxs(rn,{children:["Custom domain is only available for Pro, Premium, and Enterprise plans.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(Se,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(_f,{className:"w-5 h-5 text-primary"})}),"Location Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Control how location sharing works for your customers"})]}),s.jsx(Te,{className:"space-y-4",children:Y.enableLocationSharing?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{htmlFor:"forceLocationSharing",className:"text-base font-medium cursor-pointer",children:"Force Location Sharing"}),M.forceLocationSharing&&s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:"Mandatory"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:M.forceLocationSharing?"Customers must share their location to place orders (mandatory)":"Location sharing is optional for customers (recommended)"})]}),s.jsx(Gr,{id:"forceLocationSharing",checked:M.forceLocationSharing,onCheckedChange:de=>H(Re=>({...Re,forceLocationSharing:de})),className:`ml-4 ${M.forceLocationSharing?"data-[state=checked]:bg-green-500":""}`})]}),s.jsxs(tn,{children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsxs(rn,{children:[s.jsx("strong",{children:"Important:"})," Forcing location sharing may reduce conversions. We recommend keeping it optional unless you have specific delivery area requirements."]})]})]}):s.jsxs(tn,{children:[s.jsx(dg,{className:"h-4 w-4"}),s.jsxs(rn,{children:["Location sharing is not available in your current plan.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(Se,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(f_,{className:"w-5 h-5 text-primary"})}),"Hero Banner Carousel (Multiple Images)"]}),s.jsx("p",{className:"text-muted-foreground",children:"Add multiple banner images for auto-sliding carousel (Recommended size: 1920x450px)"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"vps",checked:C==="vps",onChange:de=>k(de.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Fast & Reliable)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"drive",checked:C==="drive",onChange:de=>k(de.target.value),className:"w-4 h-4 text-primary",disabled:!y}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!y&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C==="vps"?"Banners will be compressed to max 5MB and stored on your server":"Banners will be uploaded to your connected Google Drive"})]}),C==="vps"&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{className:"text-sm font-medium",children:"VPS Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[J.toFixed(2)," MB / ",X," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${J>=X?"bg-destructive":J>=X*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(J/X*100,100)}%`}})}),J>=X&&s.jsxs("p",{className:"text-sm text-destructive font-medium flex items-center gap-1",children:[s.jsx(mc,{className:"w-4 h-4"}),"Storage limit reached. Delete images to free space."]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Limit: 20 images  5 MB = 100 MB total"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-medium",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${w?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"bannerUpload",accept:"image/*",multiple:!0,onChange:Ne,className:"hidden",disabled:w}),s.jsx("label",{htmlFor:"bannerUpload",className:`block p-6 text-center ${w?"cursor-not-allowed":"cursor-pointer"}`,children:w&&E.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",E.length," image",E.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:E.map((de,Re)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[de.progress<100?s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(cn,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:de.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[de.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${de.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${de.progress}%`}})})]},`uploading-${Re}`))})]}):s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Kd,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Click to upload banner images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y?"Images will be uploaded to your Google Drive":"Connect Google Drive below to enable uploads"})]})]})})]}),!y&&!w&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Connect your Google Drive account in the section below to upload images directly."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-medium",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{id:"newBannerUrl",type:"text",placeholder:"https://drive.google.com/file/d/...",value:Z,onChange:de=>L(de.target.value),onKeyPress:de=>de.key==="Enter"&&(de.preventDefault(),He()),className:"admin-input flex-1"}),s.jsx(ie,{type:"button",onClick:He,className:"admin-button-primary",children:s.jsx(Wi,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Paste a Google Drive share link. Make sure the file is set to "Anyone with the link can view".'})]}),M.heroBannerUrls.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ke,{className:"text-base font-medium",children:["Current Banner Images (",M.heroBannerUrls.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:M.heroBannerUrls.map((de,Re)=>s.jsx("div",{className:"relative group rounded-lg overflow-hidden border bg-muted",children:s.jsxs("div",{className:"aspect-[16/9] relative",children:[s.jsx("img",{src:de,alt:`Banner ${Re+1}`,className:"w-full h-full object-cover",onError:rt=>{rt.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="%23f0f0f0" width="100" height="100"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23999" font-size="12">Image Error</text></svg>'}}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:Re+1}),s.jsx(ie,{type:"button",variant:"destructive",size:"sm",onClick:()=>Ge(Re),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(La,{className:"w-4 h-4"})})]})},Re))})]}),M.heroBannerUrls.length===0&&E.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(f_,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No banner images added yet."}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images or paste URLs above to create a carousel."})]})]})]}),s.jsxs(Se,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(f_,{className:"w-5 h-5 text-primary"})}),"Media Library"]}),s.jsx("p",{className:"text-muted-foreground",children:"All VPS uploaded images"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{className:"text-sm font-medium",children:"Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[se.length," images  ",J.toFixed(2)," MB / ",X," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${J>=X?"bg-destructive":J>=X*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(J/X*100,100)}%`}})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:W==="all"?"default":"outline",size:"sm",onClick:()=>ae("all"),children:["All (",se.length,")"]}),s.jsxs(ie,{variant:W==="products"?"default":"outline",size:"sm",onClick:()=>ae("products"),children:["Products (",se.filter(de=>de.file_type==="products").length,")"]}),s.jsxs(ie,{variant:W==="categories"?"default":"outline",size:"sm",onClick:()=>ae("categories"),children:["Categories (",se.filter(de=>de.file_type==="categories").length,")"]}),s.jsxs(ie,{variant:W==="banners"?"default":"outline",size:"sm",onClick:()=>ae("banners"),children:["Banners (",se.filter(de=>de.file_type==="banners").length,")"]})]}),oe?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:se.filter(de=>W==="all"||de.file_type===W).map(de=>s.jsxs("div",{className:"group relative border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx("img",{src:de.file_url,alt:de.file_name,className:"w-full h-full object-cover",onError:Re=>{Re.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400"}})}),s.jsxs("div",{className:"p-2 bg-background border-t",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:de.file_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[de.file_size_mb.toFixed(2)," MB"]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:de.file_type})]}),s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[s.jsx(ie,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>ce(de.file_url),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),s.jsx(ie,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>we(de.file_url),children:s.jsx(Wn,{className:"w-4 h-4"})})]})]},de.id))}),se.filter(de=>W==="all"||de.file_type===W).length===0&&!oe&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(f_,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No images in media library"}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images to see them here"})]})]})]}),s.jsxs(Se,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(d_,{className:"w-5 h-5 text-primary"})}),"Google Drive Connection"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your Google Drive to upload product images directly"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{className:"text-base font-medium",children:"Status"}),y?s.jsxs("span",{className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2 py-1 rounded-full font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full font-medium",children:"Not Connected"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y?"You can upload images to Google Drive from product pages":"Connect your Google Drive account to enable image uploads"})]}),s.jsx(ie,{type:"button",onClick:_e,disabled:v,className:y?"admin-button":"admin-button-primary",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Kd,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):y?s.jsxs(s.Fragment,{children:[s.jsx(d_,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(d_,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]}),!y&&s.jsxs(tn,{children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsxs(rn,{children:[s.jsx("strong",{children:"Note:"}),` You'll be redirected to Google to grant Drive permissions. Make sure to allow "See and download files from your Google Drive" permission.`]})]}),y&&s.jsxs(tn,{className:"border-green-500/20 bg-green-500/5",children:[s.jsx(d_,{className:"h-4 w-4 text-green-600"}),s.jsx(rn,{className:"text-green-600 dark:text-green-400",children:"Your Google Drive is connected. You can now upload images directly when adding or editing products."})]})]})]}),s.jsx(Se,{className:"admin-card border-2 border-primary/20",children:s.jsxs(Pj,{open:c,onOpenChange:u,children:[s.jsx(Oj,{asChild:!0,children:s.jsxs(Ze,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ag,{className:"w-5 h-5 text-primary"})}),"AI Assistant",!Y.enableAiVoice&&s.jsx(dg,{className:"w-4 h-4 text-muted-foreground ml-2"}),s.jsx(Lu,{className:`ml-auto h-5 w-5 transition-transform duration-200 ${c?"transform rotate-180":""}`})]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure AI voice assistant and training data for your store"})]})}),s.jsx(Rj,{children:s.jsxs(Te,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(Ag,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"AI Voice Assistant"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Y.enableAiVoice?"Add ElevenLabs conversational AI to your store":"Upgrade to premium to enable"})]})]}),Y.enableAiVoice?s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{htmlFor:"aiVoiceEmbedCode",className:"text-base",children:"ElevenLabs Embed Code"}),s.jsx(_a,{id:"aiVoiceEmbedCode",placeholder:'<elevenlabs-convai agent-id="your_agent_id"></elevenlabs-convai><script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"><\/script>',value:M.aiVoiceEmbedCode,onChange:de=>Ye("aiVoiceEmbedCode",de.target.value),className:"admin-input min-h-[100px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste your ElevenLabs embed code to enable AI voice on your store"})]}):s.jsxs(tn,{children:[s.jsx(dg,{className:"h-4 w-4"}),s.jsx(rn,{children:"Premium feature - Upgrade your subscription to enable voice interactions"})]})]}),s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(zc,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Training Data Export"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download store data to train your AI agent"})]})]}),s.jsx("div",{className:"bg-background/50 p-4 rounded-lg border space-y-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(zc,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Export includes store info, policies, products, and variants - ready for AI training"})]})}),s.jsx(ie,{type:"button",onClick:ee,disabled:r||!a,className:"w-full admin-button-primary",size:"lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Kd,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating File..."]}):s.jsxs(s.Fragment,{children:[s.jsx($i,{className:"w-4 h-4 mr-2"}),"Download Training Data (TXT)"]})})]})]})})]})}),s.jsx(Pj,{open:o,onOpenChange:l,children:s.jsxs(Se,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsx(Oj,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ag,{className:"w-5 h-5 text-primary"})}),"Store Policies"]}),s.jsx(Lu,{className:`w-5 h-5 text-muted-foreground transition-transform duration-200 ${o?"transform rotate-180":""}`})]})}),s.jsx("p",{className:"text-muted-foreground text-left mt-2",children:"Define your store policies and terms"})]}),s.jsx(Rj,{children:s.jsx(Te,{className:"space-y-6",children:Ie.map((de,Re)=>s.jsxs("div",{children:[s.jsx(ke,{htmlFor:de.key,children:de.label}),s.jsx(_a,{id:de.key,placeholder:de.placeholder,value:String(M[de.key]||""),onChange:rt=>Ye(de.key,rt.target.value),className:"admin-input min-h-[120px] mt-2"})]},Re))})})]})}),s.jsx(Se,{className:"admin-card bg-muted/50",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Kd,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Image Upload Tips"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Upload images to Google Drive and use the sharing link"}),s.jsx("li",{children:' Make sure images are set to "Anyone with the link can view"'}),s.jsx("li",{children:" Recommended logo size: 200x80px (PNG/JPG)"}),s.jsx("li",{children:" Recommended hero banner: 1920x450px (JPG/PNG)"})]})]})]})})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ie,{type:"submit",className:"admin-button-primary min-w-[150px]",disabled:e,children:e?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]}),s.jsx(Tn,{open:O==="razorpay",onOpenChange:de=>!de&&A(null),children:s.jsxs(jn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(ss,{className:"w-5 h-5 text-blue-600"})}),"Configure Razorpay"]}),s.jsx(Ns,{children:"Enter your Razorpay API credentials to enable payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Razorpay"}),s.jsx(Gr,{checked:M.razorpay_enabled,onCheckedChange:de=>H(Re=>({...Re,razorpay_enabled:de}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"razorpay_key_id",children:"Key ID"}),s.jsx(ze,{id:"razorpay_key_id",type:"text",placeholder:"Enter your Razorpay Key ID",value:M.razorpay_key_id,onChange:de=>Ye("razorpay_key_id",de.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Razorpay Dashboard  Settings  API Keys"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"razorpay_key_secret",children:"Key Secret"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ze,{id:"razorpay_key_secret",type:R.razorpay_key_secret?"text":"password",placeholder:"",value:M.razorpay_key_secret,onChange:de=>Ye("razorpay_key_secret",de.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(de=>({...de,razorpay_key_secret:!de.razorpay_key_secret})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.razorpay_key_secret?s.jsx(wh,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(tn,{className:"bg-blue-500/5 border-blue-500/20",children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsxs(rn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://razorpay.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://razorpay.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com/docs"})]})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(ie,{type:"button",onClick:()=>{A(null),Me({title:"Razorpay Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Tn,{open:O==="phonepe",onOpenChange:de=>!de&&A(null),children:s.jsxs(jn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:s.jsx(ss,{className:"w-5 h-5 text-purple-600"})}),"Configure PhonePe"]}),s.jsx(Ns,{children:"Enter your PhonePe credentials to enable UPI payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable PhonePe"}),s.jsx(Gr,{checked:M.phonepe_enabled,onCheckedChange:de=>H(Re=>({...Re,phonepe_enabled:de}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"phonepe_merchant_id",children:"Merchant ID"}),s.jsx(ze,{id:"phonepe_merchant_id",type:"text",placeholder:"M123456789012345",value:M.phonepe_merchant_id,onChange:de=>Ye("phonepe_merchant_id",de.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PhonePe Business Dashboard"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"phonepe_salt_key",children:"Salt Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ze,{id:"phonepe_salt_key",type:R.phonepe_salt_key?"text":"password",placeholder:"",value:M.phonepe_salt_key,onChange:de=>Ye("phonepe_salt_key",de.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(de=>({...de,phonepe_salt_key:!de.phonepe_salt_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.phonepe_salt_key?s.jsx(wh,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"phonepe_salt_index",children:"Salt Index"}),s.jsx(ze,{id:"phonepe_salt_index",type:"text",placeholder:"1",value:M.phonepe_salt_index,onChange:de=>Ye("phonepe_salt_index",de.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usually 1 or 2, check your PhonePe dashboard"})]}),s.jsxs(tn,{className:"bg-purple-500/5 border-purple-500/20",children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsxs(rn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.phonepe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"business.phonepe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.phonepe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"developer.phonepe.com/docs"})]})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(ie,{type:"button",onClick:()=>{A(null),Me({title:"PhonePe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Tn,{open:O==="cashfree",onOpenChange:de=>!de&&A(null),children:s.jsxs(jn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(ss,{className:"w-5 h-5 text-green-600"})}),"Configure Cashfree"]}),s.jsx(Ns,{children:"Enter your Cashfree credentials for payments & payouts"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Cashfree"}),s.jsx(Gr,{checked:M.cashfree_enabled,onCheckedChange:de=>H(Re=>({...Re,cashfree_enabled:de}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"cashfree_app_id",children:"App ID"}),s.jsx(ze,{id:"cashfree_app_id",type:"text",placeholder:"12345abcdef67890ghij",value:M.cashfree_app_id,onChange:de=>Ye("cashfree_app_id",de.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Cashfree Dashboard  Credentials"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"cashfree_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ze,{id:"cashfree_secret_key",type:R.cashfree_secret_key?"text":"password",placeholder:"",value:M.cashfree_secret_key,onChange:de=>Ye("cashfree_secret_key",de.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(de=>({...de,cashfree_secret_key:!de.cashfree_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.cashfree_secret_key?s.jsx(wh,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(tn,{className:"bg-green-500/5 border-green-500/20",children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsxs(rn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"cashfree.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://docs.cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"docs.cashfree.com"})]})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(ie,{type:"button",onClick:()=>{A(null),Me({title:"Cashfree Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Tn,{open:O==="payu",onOpenChange:de=>!de&&A(null),children:s.jsxs(jn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:s.jsx(ss,{className:"w-5 h-5 text-orange-600"})}),"Configure PayU"]}),s.jsx(Ns,{children:"Enter your PayU merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable PayU"}),s.jsx(Gr,{checked:M.payu_enabled,onCheckedChange:de=>H(Re=>({...Re,payu_enabled:de}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"payu_merchant_key",children:"Merchant Key"}),s.jsx(ze,{id:"payu_merchant_key",type:"text",placeholder:"gtKFFx",value:M.payu_merchant_key,onChange:de=>Ye("payu_merchant_key",de.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PayU Dashboard  Settings  API Credentials"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"payu_merchant_salt",children:"Merchant Salt"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ze,{id:"payu_merchant_salt",type:R.payu_merchant_salt?"text":"password",placeholder:"",value:M.payu_merchant_salt,onChange:de=>Ye("payu_merchant_salt",de.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(de=>({...de,payu_merchant_salt:!de.payu_merchant_salt})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.payu_merchant_salt?s.jsx(wh,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(tn,{className:"bg-orange-500/5 border-orange-500/20",children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsxs(rn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"payu.in"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://devguide.payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"devguide.payu.in"})]})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(ie,{type:"button",onClick:()=>{A(null),Me({title:"PayU Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Tn,{open:O==="paytm",onOpenChange:de=>!de&&A(null),children:s.jsxs(jn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:s.jsx(ss,{className:"w-5 h-5 text-sky-600"})}),"Configure Paytm"]}),s.jsx(Ns,{children:"Enter your Paytm merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Paytm"}),s.jsx(Gr,{checked:M.paytm_enabled,onCheckedChange:de=>H(Re=>({...Re,paytm_enabled:de}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"paytm_merchant_id",children:"Merchant ID"}),s.jsx(ze,{id:"paytm_merchant_id",type:"text",placeholder:"YOUR_MID_HERE",value:M.paytm_merchant_id,onChange:de=>Ye("paytm_merchant_id",de.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Paytm Dashboard  Developer Settings"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"paytm_merchant_key",children:"Merchant Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ze,{id:"paytm_merchant_key",type:R.paytm_merchant_key?"text":"password",placeholder:"",value:M.paytm_merchant_key,onChange:de=>Ye("paytm_merchant_key",de.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(de=>({...de,paytm_merchant_key:!de.paytm_merchant_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.paytm_merchant_key?s.jsx(wh,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(tn,{className:"bg-sky-500/5 border-sky-500/20",children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsxs(rn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.paytm.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"business.paytm.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.paytm.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"developer.paytm.com/docs"})]})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(ie,{type:"button",onClick:()=>{A(null),Me({title:"Paytm Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Tn,{open:O==="stripe",onOpenChange:de=>!de&&A(null),children:s.jsxs(jn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:s.jsx(ss,{className:"w-5 h-5 text-indigo-600"})}),"Configure Stripe"]}),s.jsx(Ns,{children:"Enter your Stripe API keys for global payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-medium",children:"Enable Stripe"}),s.jsx(Gr,{checked:M.stripe_enabled,onCheckedChange:de=>H(Re=>({...Re,stripe_enabled:de}))})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"stripe_publishable_key",children:"Publishable Key"}),s.jsx(ze,{id:"stripe_publishable_key",type:"text",placeholder:"Enter your Stripe publishable key",value:M.stripe_publishable_key,onChange:de=>Ye("stripe_publishable_key",de.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Stripe Dashboard  Developers  API Keys (starts with pk_)"})]}),s.jsxs("div",{children:[s.jsx(ke,{htmlFor:"stripe_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ze,{id:"stripe_secret_key",type:R.stripe_secret_key?"text":"password",placeholder:"Enter your Stripe secret key",value:M.stripe_secret_key,onChange:de=>Ye("stripe_secret_key",de.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>P(de=>({...de,stripe_secret_key:!de.stripe_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.stripe_secret_key?s.jsx(wh,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly. (starts with sk_)"})]}),s.jsxs(tn,{className:"bg-indigo-500/5 border-indigo-500/20",children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsxs(rn,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://stripe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com/docs"})]})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(ie,{type:"button",onClick:()=>{A(null),Me({title:"Stripe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsxs(Se,{className:"admin-card border-2 border-destructive/50 bg-destructive/5",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3 text-destructive",children:[s.jsx("div",{className:"p-2 rounded-lg bg-destructive/20",children:s.jsx(ra,{className:"w-5 h-5 text-destructive"})}),"Danger Zone"]}),s.jsx("p",{className:"text-muted-foreground",children:"Irreversible and destructive actions"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-background rounded-lg border border-destructive/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Delete My Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account, store, and all associated data"})]}),s.jsxs(ie,{type:"button",variant:"destructive",onClick:()=>f(!0),className:"sm:ml-auto whitespace-nowrap",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})]}),s.jsx(jke,{open:d,onClose:()=>f(!1),userEmail:m,storeName:M.storeName})]})})},Tke=Z0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:e,variant:t,...r}){return s.jsx("div",{className:ut(Tke({variant:t}),e),...r})}function tb(e,[t,r]){return Math.min(r,Math.max(t,e))}var Ake=[" ","Enter","ArrowUp","ArrowDown"],Pke=[" ","Enter"],xm="Select",[T2,A2,Oke]=X0(xm),[ox]=Vs(xm,[Oke,Lf]),P2=Lf(),[Rke,zf]=ox(xm),[Dke,Ike]=ox(xm),Bre=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:y}=e,g=P2(t),[v,_]=j.useState(null),[w,b]=j.useState(null),[E,S]=j.useState(!1),C=Uf(u),[k,R]=ji({prop:n,defaultProp:a??!1,onChange:i,caller:xm}),[P,O]=ji({prop:o,defaultProp:l,onChange:c,caller:xm}),A=j.useRef(null),D=v?y||!!v.closest("form"):!0,[F,B]=j.useState(new Set),z=Array.from(F).map(q=>q.props.value).join(";");return s.jsx(r2,{...g,children:s.jsxs(Rke,{required:p,scope:t,trigger:v,onTriggerChange:_,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:uo(),value:P,onValueChange:O,open:k,onOpenChange:R,dir:C,triggerPointerDownPosRef:A,disabled:m,children:[s.jsx(T2.Provider,{scope:t,children:s.jsx(Dke,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(q=>{B(G=>new Set(G).add(q))},[]),onNativeOptionRemove:j.useCallback(q=>{B(G=>{const Y=new Set(G);return Y.delete(q),Y})},[]),children:r})}),D?s.jsxs(une,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:q=>O(q.target.value),disabled:m,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},z):null]})})};Bre.displayName=xm;var Ure="SelectTrigger",Vre=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=P2(r),o=zf(Ure,r),l=o.disabled||n,c=Zt(t,o.onTriggerChange),u=A2(r),d=j.useRef("touch"),[f,m,p]=fne(g=>{const v=u().filter(b=>!b.disabled),_=v.find(b=>b.value===o.value),w=hne(v,g,_);w!==void 0&&o.onValueChange(w.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(mw,{asChild:!0,...i,children:s.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dne(o.value)?"":void 0,...a,ref:c,onClick:dt(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:dt(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:dt(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&Ake.includes(g.key)&&(y(),g.preventDefault())})})})});Vre.displayName=Ure;var zre="SelectValue",qre=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=zf(zre,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Zt(t,c.onValueNodeChange);return Ts(()=>{u(d)},[u,d]),s.jsx(Tt.span,{...l,ref:f,style:{pointerEvents:"none"},children:dne(c.value)?s.jsx(s.Fragment,{children:o}):i})});qre.displayName=zre;var Mke="SelectIcon",Wre=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Tt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Wre.displayName=Mke;var Fke="SelectPortal",Hre=e=>s.jsx(J0,{asChild:!0,...e});Hre.displayName=Fke;var vm="SelectContent",Gre=j.forwardRef((e,t)=>{const r=zf(vm,e.__scopeSelect),[n,a]=j.useState();if(Ts(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Y0.createPortal(s.jsx(Kre,{scope:e.__scopeSelect,children:s.jsx(T2.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Yre,{...e,ref:t})});Gre.displayName=vm;var Yl=10,[Kre,qf]=ox(vm),Lke="SelectContentImpl",$ke=yf("SelectContent.RemoveScroll"),Yre=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,..._}=e,w=zf(vm,r),[b,E]=j.useState(null),[S,C]=j.useState(null),k=Zt(t,se=>E(se)),[R,P]=j.useState(null),[O,A]=j.useState(null),D=A2(r),[F,B]=j.useState(!1),z=j.useRef(!1);j.useEffect(()=>{if(b)return v2(b)},[b]),x2();const q=j.useCallback(se=>{const[ue,...W]=D().map(K=>K.ref.current),[ae]=W.slice(-1),oe=document.activeElement;for(const K of se)if(K===oe||(K?.scrollIntoView({block:"nearest"}),K===ue&&S&&(S.scrollTop=0),K===ae&&S&&(S.scrollTop=S.scrollHeight),K?.focus(),document.activeElement!==oe))return},[D,S]),G=j.useCallback(()=>q([R,b]),[q,R,b]);j.useEffect(()=>{F&&G()},[F,G]);const{onOpenChange:Y,triggerPointerDownPosRef:M}=w;j.useEffect(()=>{if(b){let se={x:0,y:0};const ue=ae=>{se={x:Math.abs(Math.round(ae.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(ae.pageY)-(M.current?.y??0))}},W=ae=>{se.x<=10&&se.y<=10?ae.preventDefault():b.contains(ae.target)||Y(!1),document.removeEventListener("pointermove",ue),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",W,{capture:!0})}}},[b,Y,M]),j.useEffect(()=>{const se=()=>Y(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[Y]);const[H,Z]=fne(se=>{const ue=D().filter(oe=>!oe.disabled),W=ue.find(oe=>oe.ref.current===document.activeElement),ae=hne(ue,se,W);ae&&setTimeout(()=>ae.ref.current.focus())}),L=j.useCallback((se,ue,W)=>{const ae=!z.current&&!W;(w.value!==void 0&&w.value===ue||ae)&&(P(se),ae&&(z.current=!0))},[w.value]),J=j.useCallback(()=>b?.focus(),[b]),V=j.useCallback((se,ue,W)=>{const ae=!z.current&&!W;(w.value!==void 0&&w.value===ue||ae)&&A(se)},[w.value]),X=n==="popper"?AD:Xre,ne=X===AD?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(Kre,{scope:r,content:b,viewport:S,onViewportChange:C,itemRefCallback:L,selectedItem:R,onItemLeave:J,itemTextRefCallback:V,focusSelectedItem:G,selectedItemText:O,position:n,isPositioned:F,searchRef:H,children:s.jsx(bw,{as:$ke,allowPinchZoom:!0,children:s.jsx(vw,{asChild:!0,trapped:w.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:dt(a,se=>{w.trigger?.focus({preventScroll:!0}),se.preventDefault()}),children:s.jsx(qm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(X,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:se=>se.preventDefault(),..._,...ne,onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:dt(_.onKeyDown,se=>{const ue=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ue&&se.key.length===1&&Z(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ae=D().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const oe=se.target,K=ae.indexOf(oe);ae=ae.slice(K+1)}setTimeout(()=>q(ae)),se.preventDefault()}})})})})})})});Yre.displayName=Lke;var Bke="SelectItemAlignedPosition",Xre=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=zf(vm,r),o=qf(vm,r),[l,c]=j.useState(null),[u,d]=j.useState(null),f=Zt(t,k=>d(k)),m=A2(r),p=j.useRef(!1),y=j.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:_,focusSelectedItem:w}=o,b=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&_){const k=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),O=_.getBoundingClientRect();if(i.dir!=="rtl"){const oe=O.left-R.left,K=P.left-oe,be=k.left-K,pe=k.width+be,Ee=Math.max(pe,R.width),Ae=window.innerWidth-Yl,fe=tb(K,[Yl,Math.max(Yl,Ae-Ee)]);l.style.minWidth=pe+"px",l.style.left=fe+"px"}else{const oe=R.right-O.right,K=window.innerWidth-P.right-oe,be=window.innerWidth-k.right-K,pe=k.width+be,Ee=Math.max(pe,R.width),Ae=window.innerWidth-Yl,fe=tb(K,[Yl,Math.max(Yl,Ae-Ee)]);l.style.minWidth=pe+"px",l.style.right=fe+"px"}const A=m(),D=window.innerHeight-Yl*2,F=g.scrollHeight,B=window.getComputedStyle(u),z=parseInt(B.borderTopWidth,10),q=parseInt(B.paddingTop,10),G=parseInt(B.borderBottomWidth,10),Y=parseInt(B.paddingBottom,10),M=z+q+F+Y+G,H=Math.min(v.offsetHeight*5,M),Z=window.getComputedStyle(g),L=parseInt(Z.paddingTop,10),J=parseInt(Z.paddingBottom,10),V=k.top+k.height/2-Yl,X=D-V,ne=v.offsetHeight/2,se=v.offsetTop+ne,ue=z+q+se,W=M-ue;if(ue<=V){const oe=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-g.offsetTop-g.offsetHeight,be=Math.max(X,ne+(oe?J:0)+K+G),pe=ue+be;l.style.height=pe+"px"}else{const oe=A.length>0&&v===A[0].ref.current;l.style.top="0px";const be=Math.max(V,z+g.offsetTop+(oe?L:0)+ne)+W;l.style.height=be+"px",g.scrollTop=ue-V+g.offsetTop}l.style.margin=`${Yl}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,v,_,i.dir,n]);Ts(()=>b(),[b]);const[E,S]=j.useState();Ts(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=j.useCallback(k=>{k&&y.current===!0&&(b(),w?.(),y.current=!1)},[b,w]);return s.jsx(Vke,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:s.jsx(Tt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Xre.displayName=Bke;var Uke="SelectPopperPosition",AD=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Yl,...i}=e,o=P2(r);return s.jsx(n2,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});AD.displayName=Uke;var[Vke,CF]=ox(vm,{}),PD="SelectViewport",Jre=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=qf(PD,r),o=CF(PD,r),l=Zt(t,i.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(T2.Slot,{scope:r,children:s.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:dt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Yl*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),_=Math.max(g,v);if(_<y){const w=_+p,b=Math.min(y,w),E=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Jre.displayName=PD;var Zre="SelectGroup",[zke,qke]=ox(Zre),Wke=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=uo();return s.jsx(zke,{scope:r,id:a,children:s.jsx(Tt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Wke.displayName=Zre;var Qre="SelectLabel",ene=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=qke(Qre,r);return s.jsx(Tt.div,{id:a.id,...n,ref:t})});ene.displayName=Qre;var hN="SelectItem",[Hke,tne]=ox(hN),rne=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=zf(hN,r),c=qf(hN,r),u=l.value===n,[d,f]=j.useState(i??""),[m,p]=j.useState(!1),y=Zt(t,w=>c.itemRefCallback?.(w,n,a)),g=uo(),v=j.useRef("touch"),_=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Hke,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:j.useCallback(w=>{f(b=>b||(w?.textContent??"").trim())},[]),children:s.jsx(T2.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Tt.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:dt(o.onFocus,()=>p(!0)),onBlur:dt(o.onBlur,()=>p(!1)),onClick:dt(o.onClick,()=>{v.current!=="mouse"&&_()}),onPointerUp:dt(o.onPointerUp,()=>{v.current==="mouse"&&_()}),onPointerDown:dt(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:dt(o.onPointerMove,w=>{v.current=w.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:dt(o.onKeyDown,w=>{c.searchRef?.current!==""&&w.key===" "||(Pke.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});rne.displayName=hN;var Fv="SelectItemText",nne=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=zf(Fv,r),l=qf(Fv,r),c=tne(Fv,r),u=Ike(Fv,r),[d,f]=j.useState(null),m=Zt(t,_=>f(_),c.onItemTextChange,_=>l.itemTextRefCallback?.(_,c.value,c.disabled)),p=d?.textContent,y=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Ts(()=>(g(y),()=>v(y)),[g,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(Tt.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Y0.createPortal(i.children,o.valueNode):null]})});nne.displayName=Fv;var sne="SelectItemIndicator",ane=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return tne(sne,r).isSelected?s.jsx(Tt.span,{"aria-hidden":!0,...n,ref:t}):null});ane.displayName=sne;var OD="SelectScrollUpButton",ine=j.forwardRef((e,t)=>{const r=qf(OD,e.__scopeSelect),n=CF(OD,e.__scopeSelect),[a,i]=j.useState(!1),o=Zt(t,n.onScrollButtonChange);return Ts(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(lne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ine.displayName=OD;var RD="SelectScrollDownButton",one=j.forwardRef((e,t)=>{const r=qf(RD,e.__scopeSelect),n=CF(RD,e.__scopeSelect),[a,i]=j.useState(!1),o=Zt(t,n.onScrollButtonChange);return Ts(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(lne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});one.displayName=RD;var lne=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=qf("SelectScrollButton",r),o=j.useRef(null),l=A2(r),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Ts(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:dt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:dt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:dt(a.onPointerLeave,()=>{c()})})}),Gke="SelectSeparator",cne=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Tt.div,{"aria-hidden":!0,...n,ref:t})});cne.displayName=Gke;var DD="SelectArrow",Kke=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=P2(r),i=zf(DD,r),o=qf(DD,r);return i.open&&o.position==="popper"?s.jsx(s2,{...a,...n,ref:t}):null});Kke.displayName=DD;var Yke="SelectBubbleInput",une=j.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=j.useRef(null),i=Zt(n,a),o=Ew(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Tt.select,{...r,style:{...pJ,...r.style},ref:i,defaultValue:t})});une.displayName=Yke;function dne(e){return e===""||e===void 0}function fne(e){const t=Ss(e),r=j.useRef(""),n=j.useRef(0),a=j.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function hne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Xke(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Xke(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Jke=Bre,mne=Vre,Zke=qre,Qke=Wre,eCe=Hre,pne=Gre,tCe=Jre,gne=ene,xne=rne,rCe=nne,nCe=ane,vne=ine,yne=one,bne=cne;const _r=Jke,jr=Zke,vr=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(mne,{ref:n,className:ut("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Qke,{asChild:!0,children:s.jsx(Lu,{className:"h-4 w-4 opacity-50"})})]}));vr.displayName=mne.displayName;const wne=j.forwardRef(({className:e,...t},r)=>s.jsx(vne,{ref:r,className:ut("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(FJ,{className:"h-4 w-4"})}));wne.displayName=vne.displayName;const _ne=j.forwardRef(({className:e,...t},r)=>s.jsx(yne,{ref:r,className:ut("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Lu,{className:"h-4 w-4"})}));_ne.displayName=yne.displayName;const yr=j.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(eCe,{children:s.jsxs(pne,{ref:a,className:ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(wne,{}),s.jsx(tCe,{className:ut("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(_ne,{})]})}));yr.displayName=pne.displayName;const sCe=j.forwardRef(({className:e,...t},r)=>s.jsx(gne,{ref:r,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));sCe.displayName=gne.displayName;const Ke=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(xne,{ref:n,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(nCe,{children:s.jsx(Cn,{className:"h-4 w-4"})})}),s.jsx(rCe,{children:t})]}));Ke.displayName=xne.displayName;const aCe=j.forwardRef(({className:e,...t},r)=>s.jsx(bne,{ref:r,className:ut("-mx-1 my-1 h-px bg-muted",e),...t}));aCe.displayName=bne.displayName;const EF=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:ut("mx-auto flex w-full justify-center",e),...t});EF.displayName="Pagination";const TF=j.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:ut("flex flex-row items-center gap-1",e),...t}));TF.displayName="PaginationContent";const em=j.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:ut("",e),...t}));em.displayName="PaginationItem";const Tw=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:ut(f2({variant:t?"outline":"ghost",size:r}),e),...n});Tw.displayName="PaginationLink";const AF=({className:e,...t})=>s.jsxs(Tw,{"aria-label":"Go to previous page",size:"default",className:ut("gap-1 pl-2.5",e),...t,children:[s.jsx(Age,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});AF.displayName="PaginationPrevious";const PF=({className:e,...t})=>s.jsxs(Tw,{"aria-label":"Go to next page",size:"default",className:ut("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(bf,{className:"h-4 w-4"})]});PF.displayName="PaginationNext";const sa=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ut("w-full caption-bottom text-sm",e),...t})}));sa.displayName="Table";const aa=j.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ut("[&_tr]:border-b",e),...t}));aa.displayName="TableHeader";const ia=j.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ut("[&_tr:last-child]:border-0",e),...t}));ia.displayName="TableBody";const iCe=j.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ut("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));iCe.displayName="TableFooter";const Nr=j.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ut("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Nr.displayName="TableRow";const et=j.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ut("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));et.displayName="TableHead";const Xe=j.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ut("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xe.displayName="TableCell";const oCe=j.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ut("mt-4 text-sm text-muted-foreground",e),...t}));oCe.displayName="TableCaption";const lCe=()=>{const e=xr(),t=E2(),[r,n]=j.useState([]),[a,i]=j.useState(""),[o,l]=j.useState([]),[c,u]=j.useState("all"),[d,f]=j.useState("all"),[m,p]=j.useState(1),y=10,g=async()=>{const k=(await TD()).map(R=>({...R,variantCount:R.variants?.length||0}));n(k),l(k)};j.useEffect(()=>{g();const k=P=>{P.key==="products"&&g()},R=()=>{g()};return window.addEventListener("storage",k),window.addEventListener("focus",R),()=>{window.removeEventListener("storage",k),window.removeEventListener("focus",R)}},[]),j.useEffect(()=>{let k=r.filter(R=>{const P=R.name.toLowerCase().includes(a.toLowerCase())||(R.sku||"").toLowerCase().includes(a.toLowerCase())||R.category.toLowerCase().includes(a.toLowerCase()),O=c==="all"||R.category===c,A=d==="all"||R.status===d;return P&&O&&A});l(k),p(1)},[r,a,c,d]);const v=k=>{switch(k){case"published":return"bg-success/10 text-success";case"draft":return"bg-warning/10 text-warning";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},_=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(k),w=async k=>{await oke(k);const R=(await TD()).map(P=>({...P,variantCount:P.variants?.length||0}));n(R),Me({title:"Product deleted",description:"Product removed from catalog"})},b=()=>[...new Set(r.map(R=>R.category))].sort(),E=Math.ceil(o.length/y),S=o.slice((m-1)*y,m*y),C=()=>{const k=[];let P=Math.max(1,m-Math.floor(2.5)),O=Math.min(E,P+5-1);O-P+1<5&&(P=Math.max(1,O-5+1));for(let A=P;A<=O;A++)k.push(A);return k};return s.jsx(vs,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Products"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Manage your product catalog"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs(ie,{onClick:()=>e("/admin/products/add"),className:"touch-target flex-1 sm:flex-initial",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Add Product"]})})]}),s.jsx(Se,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Products Used"}),s.jsxs("span",{className:"font-semibold text-foreground",children:[r.length," / ",t.maxProducts||""]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-success h-2 rounded-full transition-all",style:{width:`${Math.min(r.length/(t.maxProducts||r.length||1)*100,100)}%`}})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(Se,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Total Products"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.length})]}),s.jsx(Rn,{className:"w-6 h-6 lg:w-8 lg:h-8 text-primary flex-shrink-0 ml-2"})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Published"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(k=>k.status==="published").length})]}),s.jsx(Ls,{className:"w-6 h-6 lg:w-8 lg:h-8 text-success flex-shrink-0 ml-2"})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Drafts"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(k=>k.status==="draft").length})]}),s.jsx(Wu,{className:"w-6 h-6 lg:w-8 lg:h-8 text-warning flex-shrink-0 ml-2"})]})})})]}),s.jsx(Se,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(ze,{placeholder:"Search products by name, SKU, or category...",value:a,onChange:k=>i(k.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(_r,{value:c,onValueChange:u,children:[s.jsxs(vr,{className:"w-full sm:w-[180px]",children:[s.jsx(yR,{className:"w-4 h-4 mr-2"}),s.jsx(jr,{placeholder:"Category"})]}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Categories"}),b().map(k=>s.jsx(Ke,{value:k,children:k},k))]})]}),s.jsxs(_r,{value:d,onValueChange:f,children:[s.jsx(vr,{className:"w-full sm:w-[150px]",children:s.jsx(jr,{placeholder:"Status"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"published",children:"Published"}),s.jsx(Ke,{value:"draft",children:"Draft"}),s.jsx(Ke,{value:"inactive",children:"Inactive"})]})]})]})]})})}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{children:["Product List (",o.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",m," of ",E]})]})}),s.jsxs(Te,{children:[o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Rn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Start by adding your first product to your catalog":"Try adjusting your search criteria"}),r.length===0&&s.jsxs(ie,{onClick:()=>e("/admin/products/add"),children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6 lg:mx-0 lg:px-0",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{className:"hover:bg-transparent",children:[s.jsx(et,{className:"min-w-[200px]",children:"Product"}),s.jsx(et,{className:"hidden sm:table-cell",children:"Category"}),s.jsx(et,{className:"hidden md:table-cell",children:"Variants"}),s.jsx(et,{children:"Price"}),s.jsx(et,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(et,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:S.map(k=>s.jsxs(Nr,{className:"hover:bg-muted/50 transition-colors",children:[s.jsx(Xe,{className:"min-w-[200px]",children:s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Rn,{className:"w-4 h-4 lg:w-5 lg:h-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-foreground text-sm lg:text-base truncate",children:k.name}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground font-mono truncate",children:k.sku})]})]})}),s.jsx(Xe,{className:"hidden sm:table-cell",children:s.jsx(jt,{variant:"outline",className:"text-xs",children:k.category})}),s.jsx(Xe,{className:"hidden md:table-cell",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx(Ige,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:k.variantCount||0})]})}),s.jsx(Xe,{className:"font-semibold text-sm whitespace-nowrap",children:k.priceRange||(k.basePrice?_(k.basePrice):"")}),s.jsx(Xe,{className:"hidden lg:table-cell",children:s.jsx(jt,{className:v(k.status),variant:"outline",children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[s.jsx(ie,{variant:"ghost",size:"sm",title:"View Details",onClick:()=>window.open(`/products/${k.id}`,"_blank"),className:"h-8 w-8 p-0",children:s.jsx(Ls,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"ghost",size:"sm",title:"Edit Product",onClick:()=>e(`/admin/products/edit/${k.id}`),className:"h-8 w-8 p-0",children:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8 p-0",onClick:()=>w(k.id),title:"Delete Product",children:s.jsx(Wn,{className:"w-4 h-4"})})]})})]},k.id))})]})}),o.length>y&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(EF,{children:s.jsxs(TF,{children:[s.jsx(em,{children:s.jsx(AF,{onClick:()=>p(k=>Math.max(1,k-1)),className:m===1?"pointer-events-none opacity-50":"cursor-pointer"})}),C().map(k=>s.jsx(em,{children:s.jsx(Tw,{onClick:()=>p(k),isActive:m===k,className:"cursor-pointer",children:k})},k)),s.jsx(em,{children:s.jsx(PF,{onClick:()=>p(k=>Math.min(E,k+1)),className:m===E?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})]})})};var Aw=e=>e.type==="checkbox",$h=e=>e instanceof Date,Di=e=>e==null;const jne=e=>typeof e=="object";var Us=e=>!Di(e)&&!Array.isArray(e)&&jne(e)&&!$h(e),Nne=e=>Us(e)&&e.target?Aw(e.target)?e.target.checked:e.target.value:e,cCe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sne=(e,t)=>e.has(cCe(t)),uCe=e=>{const t=e.constructor&&e.constructor.prototype;return Us(t)&&t.hasOwnProperty("isPrototypeOf")},OF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pa(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(OF&&(e instanceof Blob||n))&&(r||Us(e)))if(t=r?[]:{},!r&&!uCe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=pa(e[a]));else return e;return t}var O2=e=>/^\w*$/.test(e),Fs=e=>e===void 0,RF=e=>Array.isArray(e)?e.filter(Boolean):[],DF=e=>RF(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(e,t,r)=>{if(!t||!Us(e))return r;const n=(O2(t)?[t]:DF(t)).reduce((a,i)=>Di(a)?a:a[i],e);return Fs(n)||n===e?Fs(e[t])?r:e[t]:n},Ao=e=>typeof e=="boolean",yn=(e,t,r)=>{let n=-1;const a=O2(t)?[t]:DF(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Us(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const mN={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ec={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_u={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IF=le.createContext(null);IF.displayName="HookFormContext";const R2=()=>le.useContext(IF),dCe=e=>{const{children:t,...r}=e;return le.createElement(IF.Provider,{value:r},t)};var kne=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ec.all&&(t._proxyFormState[o]=!n||ec.all),r&&(r[o]=!0),e[o]}});return a};const MF=typeof window<"u"?le.useLayoutEffect:le.useEffect;function fCe(e){const t=R2(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=le.useState(r._formState),c=le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return MF(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),le.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),le.useMemo(()=>kne(o,r,c.current,!1),[o,r])}var Bc=e=>typeof e=="string",Cne=(e,t,r,n,a)=>Bc(e)?(n&&t.watch.add(e),Et(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Et(r,i))):(n&&(t.watchAll=!0),r),ID=e=>Di(e)||!jne(e);function Au(e,t,r=new WeakSet){if(ID(e)||ID(t))return e===t;if($h(e)&&$h(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if($h(o)&&$h(l)||Us(o)&&Us(l)||Array.isArray(o)&&Array.isArray(l)?!Au(o,l,r):o!==l)return!1}}return!0}function hCe(e){const t=R2(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=le.useRef(a),u=le.useRef(l),d=le.useRef(void 0);u.current=l;const f=le.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=le.useState(u.current?u.current(f):f);return MF(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=Cne(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Au(v,d.current)||(p(v),d.current=v)}else p(g)}}}),[r,i,n,o]),le.useEffect(()=>r._removeUnmounted()),m}function mCe(e){const t=R2(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=Sne(a._names.array,r),c=le.useMemo(()=>Et(a._formValues,r,Et(a._defaultValues,r,o)),[a,r,o]),u=hCe({control:a,name:r,defaultValue:c,exact:!0}),d=fCe({control:a,name:r,exact:!0}),f=le.useRef(e),m=le.useRef(a.register(r,{...e.rules,value:u,...Ao(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Et(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Et(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Et(d.validatingFields,r)},error:{enumerable:!0,get:()=>Et(d.errors,r)}}),[d,r]),y=le.useCallback(w=>m.current.onChange({target:{value:Nne(w),name:r},type:mN.CHANGE}),[r]),g=le.useCallback(()=>m.current.onBlur({target:{value:Et(a._formValues,r),name:r},type:mN.BLUR}),[r,a._formValues]),v=le.useCallback(w=>{const b=Et(a._fields,r);b&&w&&(b._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:E=>w.setCustomValidity(E),reportValidity:()=>w.reportValidity()})},[a._fields,r]),_=le.useMemo(()=>({name:r,value:u,...Ao(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:g,ref:v}),[r,n,d.disabled,y,g,v,u]);return le.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Ao(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(E,S)=>{const C=Et(a._fields,E);C&&C._f&&(C._f.mount=S)};if(b(r,!0),w){const E=pa(Et(a._options.defaultValues,r));yn(a._defaultValues,r,E),Fs(Et(a._formValues,r))&&yn(a._formValues,r,E)}return!l&&a.register(r),()=>{(l?w&&!a._state.action:w)?a.unregister(r):b(r,!1)}},[r,a,l,i]),le.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),le.useMemo(()=>({field:_,formState:d,fieldState:p}),[_,d,p])}const pCe=e=>e.render(mCe(e));var Ene=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},dy=e=>Array.isArray(e)?e:[e],YU=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},ro=e=>Us(e)&&!Object.keys(e).length,FF=e=>e.type==="file",tc=e=>typeof e=="function",pN=e=>{if(!OF)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Tne=e=>e.type==="select-multiple",LF=e=>e.type==="radio",gCe=e=>LF(e)||Aw(e),jT=e=>pN(e)&&e.isConnected;function xCe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Fs(e)?n++:e[t[n++]];return e}function vCe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fs(e[t]))return!1;return!0}function Hs(e,t){const r=Array.isArray(t)?t:O2(t)?[t]:DF(t),n=r.length===1?e:xCe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Us(n)&&ro(n)||Array.isArray(n)&&vCe(n))&&Hs(e,r.slice(0,-1)),e}var Ane=e=>{for(const t in e)if(tc(e[t]))return!0;return!1};function gN(e,t={}){const r=Array.isArray(e);if(Us(e)||r)for(const n in e)Array.isArray(e[n])||Us(e[n])&&!Ane(e[n])?(t[n]=Array.isArray(e[n])?[]:{},gN(e[n],t[n])):Di(e[n])||(t[n]=!0);return t}function Pne(e,t,r){const n=Array.isArray(e);if(Us(e)||n)for(const a in e)Array.isArray(e[a])||Us(e[a])&&!Ane(e[a])?Fs(t)||ID(r[a])?r[a]=Array.isArray(e[a])?gN(e[a],[]):{...gN(e[a])}:Pne(e[a],Di(t)?{}:t[a],r[a]):r[a]=!Au(e[a],t[a]);return r}var dv=(e,t)=>Pne(e,t,gN(t));const XU={value:!1,isValid:!1},JU={value:!0,isValid:!0};var One=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fs(e[0].attributes.value)?Fs(e[0].value)||e[0].value===""?JU:{value:e[0].value,isValid:!0}:JU:XU}return XU},Rne=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Fs(e)?e:t?e===""?NaN:e&&+e:r&&Bc(e)?new Date(e):n?n(e):e;const ZU={isValid:!1,value:null};var Dne=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ZU):ZU;function QU(e){const t=e.ref;return FF(t)?t.files:LF(t)?Dne(e.refs).value:Tne(t)?[...t.selectedOptions].map(({value:r})=>r):Aw(t)?One(e.refs).value:Rne(Fs(t.value)?e.ref.value:t.value,e)}var yCe=(e,t,r,n)=>{const a={};for(const i of e){const o=Et(t,i);o&&yn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},xN=e=>e instanceof RegExp,fv=e=>Fs(e)?e:xN(e)?e.source:Us(e)?xN(e.value)?e.value.source:e.value:e,e7=e=>({isOnSubmit:!e||e===ec.onSubmit,isOnBlur:e===ec.onBlur,isOnChange:e===ec.onChange,isOnAll:e===ec.all,isOnTouch:e===ec.onTouched});const t7="AsyncFunction";var bCe=e=>!!e&&!!e.validate&&!!(tc(e.validate)&&e.validate.constructor.name===t7||Us(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===t7)),wCe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),r7=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const fy=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Et(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(fy(l,t))break}else if(Us(l)&&fy(l,t))break}}};function n7(e,t,r){const n=Et(e,r);if(n||O2(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Et(t,i),l=Et(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var _Ce=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return ro(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ec.all))},jCe=(e,t,r)=>!e||!t||e===t||dy(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),NCe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,SCe=(e,t)=>!RF(Et(e,t)).length&&Hs(e,t),kCe=(e,t,r)=>{const n=dy(Et(e,r));return yn(n,"root",t[r]),yn(e,r,n),e},Dj=e=>Bc(e);function s7(e,t,r="validate"){if(Dj(e)||Array.isArray(e)&&e.every(Dj)||Ao(e)&&!e)return{type:r,message:Dj(e)?e:"",ref:t}}var Xp=e=>Us(e)&&!xN(e)?e:{value:e,message:""},a7=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:y,name:g,valueAsNumber:v,mount:_}=e._f,w=Et(r,g);if(!_||t.has(g))return{};const b=l?l[0]:o,E=D=>{a&&b.reportValidity&&(b.setCustomValidity(Ao(D)?"":D||""),b.reportValidity())},S={},C=LF(o),k=Aw(o),R=C||k,P=(v||FF(o))&&Fs(o.value)&&Fs(w)||pN(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,O=Ene.bind(null,g,n,S),A=(D,F,B,z=_u.maxLength,q=_u.minLength)=>{const G=D?F:B;S[g]={type:D?z:q,message:G,ref:o,...O(D?z:q,G)}};if(i?!Array.isArray(w)||!w.length:c&&(!R&&(P||Di(w))||Ao(w)&&!w||k&&!One(l).isValid||C&&!Dne(l).isValid)){const{value:D,message:F}=Dj(c)?{value:!!c,message:c}:Xp(c);if(D&&(S[g]={type:_u.required,message:F,ref:b,...O(_u.required,F)},!n))return E(F),S}if(!P&&(!Di(f)||!Di(m))){let D,F;const B=Xp(m),z=Xp(f);if(!Di(w)&&!isNaN(w)){const q=o.valueAsNumber||w&&+w;Di(B.value)||(D=q>B.value),Di(z.value)||(F=q<z.value)}else{const q=o.valueAsDate||new Date(w),G=H=>new Date(new Date().toDateString()+" "+H),Y=o.type=="time",M=o.type=="week";Bc(B.value)&&w&&(D=Y?G(w)>G(B.value):M?w>B.value:q>new Date(B.value)),Bc(z.value)&&w&&(F=Y?G(w)<G(z.value):M?w<z.value:q<new Date(z.value))}if((D||F)&&(A(!!D,B.message,z.message,_u.max,_u.min),!n))return E(S[g].message),S}if((u||d)&&!P&&(Bc(w)||i&&Array.isArray(w))){const D=Xp(u),F=Xp(d),B=!Di(D.value)&&w.length>+D.value,z=!Di(F.value)&&w.length<+F.value;if((B||z)&&(A(B,D.message,F.message),!n))return E(S[g].message),S}if(p&&!P&&Bc(w)){const{value:D,message:F}=Xp(p);if(xN(D)&&!w.match(D)&&(S[g]={type:_u.pattern,message:F,ref:o,...O(_u.pattern,F)},!n))return E(F),S}if(y){if(tc(y)){const D=await y(w,r),F=s7(D,b);if(F&&(S[g]={...F,...O(_u.validate,F.message)},!n))return E(F.message),S}else if(Us(y)){let D={};for(const F in y){if(!ro(D)&&!n)break;const B=s7(await y[F](w,r),b,F);B&&(D={...B,...O(F,B.message)},E(B.message),n&&(S[g]=D))}if(!ro(D)&&(S[g]={ref:b,...D},!n))return S}}return E(!0),S};const CCe={mode:ec.onSubmit,reValidateMode:ec.onChange,shouldFocusError:!0};function ECe(e={}){let t={...CCe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:tc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Us(t.defaultValues)||Us(t.values)?pa(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:pa(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:YU(),state:YU()},p=t.criteriaMode===ec.all,y=ce=>we=>{clearTimeout(u),u=setTimeout(ce,we)},g=async ce=>{if(!t.disabled&&(d.isValid||f.isValid||ce)){const we=t.resolver?ro((await k()).errors):await P(n,!0);we!==r.isValid&&m.state.next({isValid:we})}},v=(ce,we)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ce||Array.from(l.mount)).forEach(Oe=>{Oe&&(we?yn(r.validatingFields,Oe,we):Hs(r.validatingFields,Oe))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ro(r.validatingFields)}))},_=(ce,we=[],Oe,He,Ge=!0,Ne=!0)=>{if(He&&Oe&&!t.disabled){if(o.action=!0,Ne&&Array.isArray(Et(n,ce))){const ee=Oe(Et(n,ce),He.argA,He.argB);Ge&&yn(n,ce,ee)}if(Ne&&Array.isArray(Et(r.errors,ce))){const ee=Oe(Et(r.errors,ce),He.argA,He.argB);Ge&&yn(r.errors,ce,ee),SCe(r.errors,ce)}if((d.touchedFields||f.touchedFields)&&Ne&&Array.isArray(Et(r.touchedFields,ce))){const ee=Oe(Et(r.touchedFields,ce),He.argA,He.argB);Ge&&yn(r.touchedFields,ce,ee)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=dv(a,i)),m.state.next({name:ce,isDirty:A(ce,we),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yn(i,ce,we)},w=(ce,we)=>{yn(r.errors,ce,we),m.state.next({errors:r.errors})},b=ce=>{r.errors=ce,m.state.next({errors:r.errors,isValid:!1})},E=(ce,we,Oe,He)=>{const Ge=Et(n,ce);if(Ge){const Ne=Et(i,ce,Fs(Oe)?Et(a,ce):Oe);Fs(Ne)||He&&He.defaultChecked||we?yn(i,ce,we?Ne:QU(Ge._f)):B(ce,Ne),o.mount&&g()}},S=(ce,we,Oe,He,Ge)=>{let Ne=!1,ee=!1;const _e={name:ce};if(!t.disabled){if(!Oe||He){(d.isDirty||f.isDirty)&&(ee=r.isDirty,r.isDirty=_e.isDirty=A(),Ne=ee!==_e.isDirty);const ge=Au(Et(a,ce),we);ee=!!Et(r.dirtyFields,ce),ge?Hs(r.dirtyFields,ce):yn(r.dirtyFields,ce,!0),_e.dirtyFields=r.dirtyFields,Ne=Ne||(d.dirtyFields||f.dirtyFields)&&ee!==!ge}if(Oe){const ge=Et(r.touchedFields,ce);ge||(yn(r.touchedFields,ce,Oe),_e.touchedFields=r.touchedFields,Ne=Ne||(d.touchedFields||f.touchedFields)&&ge!==Oe)}Ne&&Ge&&m.state.next(_e)}return Ne?_e:{}},C=(ce,we,Oe,He)=>{const Ge=Et(r.errors,ce),Ne=(d.isValid||f.isValid)&&Ao(we)&&r.isValid!==we;if(t.delayError&&Oe?(c=y(()=>w(ce,Oe)),c(t.delayError)):(clearTimeout(u),c=null,Oe?yn(r.errors,ce,Oe):Hs(r.errors,ce)),(Oe?!Au(Ge,Oe):Ge)||!ro(He)||Ne){const ee={...He,...Ne&&Ao(we)?{isValid:we}:{},errors:r.errors,name:ce};r={...r,...ee},m.state.next(ee)}},k=async ce=>{v(ce,!0);const we=await t.resolver(i,t.context,yCe(ce||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(ce),we},R=async ce=>{const{errors:we}=await k(ce);if(ce)for(const Oe of ce){const He=Et(we,Oe);He?yn(r.errors,Oe,He):Hs(r.errors,Oe)}else r.errors=we;return we},P=async(ce,we,Oe={valid:!0})=>{for(const He in ce){const Ge=ce[He];if(Ge){const{_f:Ne,...ee}=Ge;if(Ne){const _e=l.array.has(Ne.name),ge=Ge._f&&bCe(Ge._f);ge&&d.validatingFields&&v([He],!0);const Be=await a7(Ge,l.disabled,i,p,t.shouldUseNativeValidation&&!we,_e);if(ge&&d.validatingFields&&v([He]),Be[Ne.name]&&(Oe.valid=!1,we))break;!we&&(Et(Be,Ne.name)?_e?kCe(r.errors,Be,Ne.name):yn(r.errors,Ne.name,Be[Ne.name]):Hs(r.errors,Ne.name))}!ro(ee)&&await P(ee,we,Oe)}}return Oe.valid},O=()=>{for(const ce of l.unMount){const we=Et(n,ce);we&&(we._f.refs?we._f.refs.every(Oe=>!jT(Oe)):!jT(we._f.ref))&&se(ce)}l.unMount=new Set},A=(ce,we)=>!t.disabled&&(ce&&we&&yn(i,ce,we),!Au(H(),a)),D=(ce,we,Oe)=>Cne(ce,l,{...o.mount?i:Fs(we)?a:Bc(ce)?{[ce]:we}:we},Oe,we),F=ce=>RF(Et(o.mount?i:a,ce,t.shouldUnregister?Et(a,ce,[]):[])),B=(ce,we,Oe={})=>{const He=Et(n,ce);let Ge=we;if(He){const Ne=He._f;Ne&&(!Ne.disabled&&yn(i,ce,Rne(we,Ne)),Ge=pN(Ne.ref)&&Di(we)?"":we,Tne(Ne.ref)?[...Ne.ref.options].forEach(ee=>ee.selected=Ge.includes(ee.value)):Ne.refs?Aw(Ne.ref)?Ne.refs.forEach(ee=>{(!ee.defaultChecked||!ee.disabled)&&(Array.isArray(Ge)?ee.checked=!!Ge.find(_e=>_e===ee.value):ee.checked=Ge===ee.value||!!Ge)}):Ne.refs.forEach(ee=>ee.checked=ee.value===Ge):FF(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Ge,Ne.ref.type||m.state.next({name:ce,values:pa(i)})))}(Oe.shouldDirty||Oe.shouldTouch)&&S(ce,Ge,Oe.shouldTouch,Oe.shouldDirty,!0),Oe.shouldValidate&&M(ce)},z=(ce,we,Oe)=>{for(const He in we){if(!we.hasOwnProperty(He))return;const Ge=we[He],Ne=ce+"."+He,ee=Et(n,Ne);(l.array.has(ce)||Us(Ge)||ee&&!ee._f)&&!$h(Ge)?z(Ne,Ge,Oe):B(Ne,Ge,Oe)}},q=(ce,we,Oe={})=>{const He=Et(n,ce),Ge=l.array.has(ce),Ne=pa(we);yn(i,ce,Ne),Ge?(m.array.next({name:ce,values:pa(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Oe.shouldDirty&&m.state.next({name:ce,dirtyFields:dv(a,i),isDirty:A(ce,Ne)})):He&&!He._f&&!Di(Ne)?z(ce,Ne,Oe):B(ce,Ne,Oe),r7(ce,l)&&m.state.next({...r,name:ce}),m.state.next({name:o.mount?ce:void 0,values:pa(i)})},G=async ce=>{o.mount=!0;const we=ce.target;let Oe=we.name,He=!0;const Ge=Et(n,Oe),Ne=ge=>{He=Number.isNaN(ge)||$h(ge)&&isNaN(ge.getTime())||Au(ge,Et(i,Oe,ge))},ee=e7(t.mode),_e=e7(t.reValidateMode);if(Ge){let ge,Be;const Ie=we.type?QU(Ge._f):Nne(ce),de=ce.type===mN.BLUR||ce.type===mN.FOCUS_OUT,Re=!wCe(Ge._f)&&!t.resolver&&!Et(r.errors,Oe)&&!Ge._f.deps||NCe(de,Et(r.touchedFields,Oe),r.isSubmitted,_e,ee),rt=r7(Oe,l,de);yn(i,Oe,Ie),de?(Ge._f.onBlur&&Ge._f.onBlur(ce),c&&c(0)):Ge._f.onChange&&Ge._f.onChange(ce);const xt=S(Oe,Ie,de),at=!ro(xt)||rt;if(!de&&m.state.next({name:Oe,type:ce.type,values:pa(i)}),Re)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?de&&g():de||g()),at&&m.state.next({name:Oe,...rt?{}:xt});if(!de&&rt&&m.state.next({...r}),t.resolver){const{errors:St}=await k([Oe]);if(Ne(Ie),He){const Yt=n7(r.errors,n,Oe),At=n7(St,n,Yt.name||Oe);ge=At.error,Oe=At.name,Be=ro(St)}}else v([Oe],!0),ge=(await a7(Ge,l.disabled,i,p,t.shouldUseNativeValidation))[Oe],v([Oe]),Ne(Ie),He&&(ge?Be=!1:(d.isValid||f.isValid)&&(Be=await P(n,!0)));He&&(Ge._f.deps&&M(Ge._f.deps),C(Oe,Be,ge,xt))}},Y=(ce,we)=>{if(Et(r.errors,we)&&ce.focus)return ce.focus(),1},M=async(ce,we={})=>{let Oe,He;const Ge=dy(ce);if(t.resolver){const Ne=await R(Fs(ce)?ce:Ge);Oe=ro(Ne),He=ce?!Ge.some(ee=>Et(Ne,ee)):Oe}else ce?(He=(await Promise.all(Ge.map(async Ne=>{const ee=Et(n,Ne);return await P(ee&&ee._f?{[Ne]:ee}:ee)}))).every(Boolean),!(!He&&!r.isValid)&&g()):He=Oe=await P(n);return m.state.next({...!Bc(ce)||(d.isValid||f.isValid)&&Oe!==r.isValid?{}:{name:ce},...t.resolver||!ce?{isValid:Oe}:{},errors:r.errors}),we.shouldFocus&&!He&&fy(n,Y,ce?Ge:l.mount),He},H=ce=>{const we={...o.mount?i:a};return Fs(ce)?we:Bc(ce)?Et(we,ce):ce.map(Oe=>Et(we,Oe))},Z=(ce,we)=>({invalid:!!Et((we||r).errors,ce),isDirty:!!Et((we||r).dirtyFields,ce),error:Et((we||r).errors,ce),isValidating:!!Et(r.validatingFields,ce),isTouched:!!Et((we||r).touchedFields,ce)}),L=ce=>{ce&&dy(ce).forEach(we=>Hs(r.errors,we)),m.state.next({errors:ce?r.errors:{}})},J=(ce,we,Oe)=>{const He=(Et(n,ce,{_f:{}})._f||{}).ref,Ge=Et(r.errors,ce)||{},{ref:Ne,message:ee,type:_e,...ge}=Ge;yn(r.errors,ce,{...ge,...we,ref:He}),m.state.next({name:ce,errors:r.errors,isValid:!1}),Oe&&Oe.shouldFocus&&He&&He.focus&&He.focus()},V=(ce,we)=>tc(ce)?m.state.subscribe({next:Oe=>"values"in Oe&&ce(D(void 0,we),Oe)}):D(ce,we,!0),X=ce=>m.state.subscribe({next:we=>{jCe(ce.name,we.name,ce.exact)&&_Ce(we,ce.formState||d,fe,ce.reRenderRoot)&&ce.callback({values:{...i},...r,...we,defaultValues:a})}}).unsubscribe,ne=ce=>(o.mount=!0,f={...f,...ce.formState},X({...ce,formState:f})),se=(ce,we={})=>{for(const Oe of ce?dy(ce):l.mount)l.mount.delete(Oe),l.array.delete(Oe),we.keepValue||(Hs(n,Oe),Hs(i,Oe)),!we.keepError&&Hs(r.errors,Oe),!we.keepDirty&&Hs(r.dirtyFields,Oe),!we.keepTouched&&Hs(r.touchedFields,Oe),!we.keepIsValidating&&Hs(r.validatingFields,Oe),!t.shouldUnregister&&!we.keepDefaultValue&&Hs(a,Oe);m.state.next({values:pa(i)}),m.state.next({...r,...we.keepDirty?{isDirty:A()}:{}}),!we.keepIsValid&&g()},ue=({disabled:ce,name:we})=>{(Ao(ce)&&o.mount||ce||l.disabled.has(we))&&(ce?l.disabled.add(we):l.disabled.delete(we))},W=(ce,we={})=>{let Oe=Et(n,ce);const He=Ao(we.disabled)||Ao(t.disabled);return yn(n,ce,{...Oe||{},_f:{...Oe&&Oe._f?Oe._f:{ref:{name:ce}},name:ce,mount:!0,...we}}),l.mount.add(ce),Oe?ue({disabled:Ao(we.disabled)?we.disabled:t.disabled,name:ce}):E(ce,!0,we.value),{...He?{disabled:we.disabled||t.disabled}:{},...t.progressive?{required:!!we.required,min:fv(we.min),max:fv(we.max),minLength:fv(we.minLength),maxLength:fv(we.maxLength),pattern:fv(we.pattern)}:{},name:ce,onChange:G,onBlur:G,ref:Ge=>{if(Ge){W(ce,we),Oe=Et(n,ce);const Ne=Fs(Ge.value)&&Ge.querySelectorAll&&Ge.querySelectorAll("input,select,textarea")[0]||Ge,ee=gCe(Ne),_e=Oe._f.refs||[];if(ee?_e.find(ge=>ge===Ne):Ne===Oe._f.ref)return;yn(n,ce,{_f:{...Oe._f,...ee?{refs:[..._e.filter(jT),Ne,...Array.isArray(Et(a,ce))?[{}]:[]],ref:{type:Ne.type,name:ce}}:{ref:Ne}}}),E(ce,!1,void 0,Ne)}else Oe=Et(n,ce,{}),Oe._f&&(Oe._f.mount=!1),(t.shouldUnregister||we.shouldUnregister)&&!(Sne(l.array,ce)&&o.action)&&l.unMount.add(ce)}}},ae=()=>t.shouldFocusError&&fy(n,Y,l.mount),oe=ce=>{Ao(ce)&&(m.state.next({disabled:ce}),fy(n,(we,Oe)=>{const He=Et(n,Oe);He&&(we.disabled=He._f.disabled||ce,Array.isArray(He._f.refs)&&He._f.refs.forEach(Ge=>{Ge.disabled=He._f.disabled||ce}))},0,!1))},K=(ce,we)=>async Oe=>{let He;Oe&&(Oe.preventDefault&&Oe.preventDefault(),Oe.persist&&Oe.persist());let Ge=pa(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Ne,values:ee}=await k();r.errors=Ne,Ge=pa(ee)}else await P(n);if(l.disabled.size)for(const Ne of l.disabled)Hs(Ge,Ne);if(Hs(r.errors,"root"),ro(r.errors)){m.state.next({errors:{}});try{await ce(Ge,Oe)}catch(Ne){He=Ne}}else we&&await we({...r.errors},Oe),ae(),setTimeout(ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ro(r.errors)&&!He,submitCount:r.submitCount+1,errors:r.errors}),He)throw He},be=(ce,we={})=>{Et(n,ce)&&(Fs(we.defaultValue)?q(ce,pa(Et(a,ce))):(q(ce,we.defaultValue),yn(a,ce,pa(we.defaultValue))),we.keepTouched||Hs(r.touchedFields,ce),we.keepDirty||(Hs(r.dirtyFields,ce),r.isDirty=we.defaultValue?A(ce,pa(Et(a,ce))):A()),we.keepError||(Hs(r.errors,ce),d.isValid&&g()),m.state.next({...r}))},pe=(ce,we={})=>{const Oe=ce?pa(ce):a,He=pa(Oe),Ge=ro(ce),Ne=Ge?a:He;if(we.keepDefaultValues||(a=Oe),!we.keepValues){if(we.keepDirtyValues){const ee=new Set([...l.mount,...Object.keys(dv(a,i))]);for(const _e of Array.from(ee))Et(r.dirtyFields,_e)?yn(Ne,_e,Et(i,_e)):q(_e,Et(Ne,_e))}else{if(OF&&Fs(ce))for(const ee of l.mount){const _e=Et(n,ee);if(_e&&_e._f){const ge=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(pN(ge)){const Be=ge.closest("form");if(Be){Be.reset();break}}}}if(we.keepFieldsRef)for(const ee of l.mount)q(ee,Et(Ne,ee));else n={}}i=t.shouldUnregister?we.keepDefaultValues?pa(a):{}:pa(Ne),m.array.next({values:{...Ne}}),m.state.next({values:{...Ne}})}l={mount:we.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!we.keepIsValid||!!we.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:we.keepSubmitCount?r.submitCount:0,isDirty:Ge?!1:we.keepDirty?r.isDirty:!!(we.keepDefaultValues&&!Au(ce,a)),isSubmitted:we.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ge?{}:we.keepDirtyValues?we.keepDefaultValues&&i?dv(a,i):r.dirtyFields:we.keepDefaultValues&&ce?dv(a,ce):we.keepDirty?r.dirtyFields:{},touchedFields:we.keepTouched?r.touchedFields:{},errors:we.keepErrors?r.errors:{},isSubmitSuccessful:we.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ee=(ce,we)=>pe(tc(ce)?ce(i):ce,we),Ae=(ce,we={})=>{const Oe=Et(n,ce),He=Oe&&Oe._f;if(He){const Ge=He.refs?He.refs[0]:He.ref;Ge.focus&&(Ge.focus(),we.shouldSelect&&tc(Ge.select)&&Ge.select())}},fe=ce=>{r={...r,...ce}},Ye={control:{register:W,unregister:se,getFieldState:Z,handleSubmit:K,setError:J,_subscribe:X,_runSchema:k,_focusError:ae,_getWatch:D,_getDirty:A,_setValid:g,_setFieldArray:_,_setDisabledField:ue,_setErrors:b,_getFieldArray:F,_reset:pe,_resetDefaultValues:()=>tc(t.defaultValues)&&t.defaultValues().then(ce=>{Ee(ce,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:oe,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(ce){o=ce},get _defaultValues(){return a},get _names(){return l},set _names(ce){l=ce},get _formState(){return r},get _options(){return t},set _options(ce){t={...t,...ce}}},subscribe:ne,trigger:M,register:W,handleSubmit:K,watch:V,setValue:q,getValues:H,reset:Ee,resetField:be,clearErrors:L,unregister:se,setError:J,setFocus:Ae,getFieldState:Z};return{...Ye,formControl:Ye}}function Pw(e={}){const t=le.useRef(void 0),r=le.useRef(void 0),[n,a]=le.useState({isDirty:!1,isValidating:!1,isLoading:tc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:tc(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!tc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=ECe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,MF(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),le.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),le.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),le.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),le.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),le.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),le.useEffect(()=>{e.values&&!Au(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),le.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=kne(n,i),t.current}const i7=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Et(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Ine=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?i7(n.ref,r,e):n.refs&&n.refs.forEach(a=>i7(a,r,e))}},TCe=(e,t)=>{t.shouldUseNativeValidation&&Ine(e,t);const r={};for(const n in e){const a=Et(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(ACe(t.names||Object.keys(e),n)){const o=Object.assign({},Et(r,n));yn(o,"root",i),yn(r,n,o)}else yn(r,n,i)}return r},ACe=(e,t)=>e.some(r=>r.startsWith(t+"."));var PCe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Ene(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ow=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Ine({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:TCe(PCe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ln;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ln||(ln={}));var o7;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(o7||(o7={}));const Ht=ln.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zd=e=>{switch(typeof e){case"undefined":return Ht.undefined;case"string":return Ht.string;case"number":return Number.isNaN(e)?Ht.nan:Ht.number;case"boolean":return Ht.boolean;case"function":return Ht.function;case"bigint":return Ht.bigint;case"symbol":return Ht.symbol;case"object":return Array.isArray(e)?Ht.array:e===null?Ht.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ht.promise:typeof Map<"u"&&e instanceof Map?Ht.map:typeof Set<"u"&&e instanceof Set?Ht.set:typeof Date<"u"&&e instanceof Date?Ht.date:Ht.object;default:return Ht.unknown}},bt=ln.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xu extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Xu))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ln.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Xu.create=e=>new Xu(e);const MD=(e,t)=>{let r;switch(e.code){case bt.invalid_type:e.received===Ht.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case bt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ln.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:r=`Unrecognized key(s) in object: ${ln.joinValues(e.keys,", ")}`;break;case bt.invalid_union:r="Invalid input";break;case bt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ln.joinValues(e.options)}`;break;case bt.invalid_enum_value:r=`Invalid enum value. Expected ${ln.joinValues(e.options)}, received '${e.received}'`;break;case bt.invalid_arguments:r="Invalid function arguments";break;case bt.invalid_return_type:r="Invalid function return type";break;case bt.invalid_date:r="Invalid date";break;case bt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ln.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case bt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case bt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case bt.custom:r="Invalid input";break;case bt.invalid_intersection_types:r="Intersection results could not be merged";break;case bt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case bt.not_finite:r="Number must be finite";break;default:r=t.defaultError,ln.assertNever(e)}return{message:r}};let OCe=MD;function RCe(){return OCe}const DCe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Dt(e,t){const r=RCe(),n=DCe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===MD?void 0:MD].filter(a=>!!a)});e.common.issues.push(n)}class Ko{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return kr;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ko.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return kr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const kr=Object.freeze({status:"aborted"}),Lv=e=>({status:"dirty",value:e}),Dl=e=>({status:"valid",value:e}),l7=e=>e.status==="aborted",c7=e=>e.status==="dirty",d0=e=>e.status==="valid",vN=e=>typeof Promise<"u"&&e instanceof Promise;var Kt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Kt||(Kt={}));class Af{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const u7=(e,t)=>{if(d0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Xu(e.common.issues);return this._error=r,this._error}}};function Wr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class sn{get description(){return this._def.description}_getType(t){return zd(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:zd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ko,ctx:{common:t.parent.common,data:t.data,parsedType:zd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(vN(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zd(t)},a=this._parseSync({data:t,path:n.path,parent:n});return u7(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zd(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return d0(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>d0(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zd(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(vN(a)?a:Promise.resolve(a));return u7(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:bt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new m0({schema:this,typeName:Cr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return hf.create(this,this._def)}nullable(){return p0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hc.create(this)}promise(){return _N.create(this,this._def)}or(t){return bN.create([this,t],this._def)}and(t){return wN.create(this,t,this._def)}transform(t){return new m0({...Wr(this._def),schema:this,typeName:Cr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new $D({...Wr(this._def),innerType:this,defaultValue:r,typeName:Cr.ZodDefault})}brand(){return new nEe({typeName:Cr.ZodBranded,type:this,...Wr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new BD({...Wr(this._def),innerType:this,catchValue:r,typeName:Cr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return $F.create(this,t)}readonly(){return UD.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ICe=/^c[^\s-]{8,}$/i,MCe=/^[0-9a-z]+$/,FCe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,LCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$Ce=/^[a-z0-9_-]{21}$/i,BCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let NT;const qCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,GCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,KCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,YCe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Mne="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XCe=new RegExp(`^${Mne}$`);function Fne(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function JCe(e){return new RegExp(`^${Fne(e)}$`)}function ZCe(e){let t=`${Mne}T${Fne(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function QCe(e,t){return!!((t==="v4"||!t)&&qCe.test(e)||(t==="v6"||!t)&&HCe.test(e))}function eEe(e,t){if(!BCe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function tEe(e,t){return!!((t==="v4"||!t)&&WCe.test(e)||(t==="v6"||!t)&&GCe.test(e))}class Ou extends sn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ht.string){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_type,expected:Ht.string,received:i.parsedType}),kr}const n=new Ko;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Dt(a,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Dt(a,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")VCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"email",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")NT||(NT=new RegExp(zCe,"u")),NT.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"emoji",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")LCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"uuid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")$Ce.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"nanoid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")ICe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"cuid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")MCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"cuid2",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")FCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"ulid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Dt(a,{validation:"url",code:bt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"regex",code:bt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?ZCe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?XCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?JCe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?UCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"duration",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?QCe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"ip",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?eEe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"jwt",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?tEe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"cidr",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?KCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"base64",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?YCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"base64url",code:bt.invalid_string,message:i.message}),n.dirty()):ln.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:bt.invalid_string,...Kt.errToObj(n)})}_addCheck(t){return new Ou({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Kt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Kt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Kt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Kt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Kt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Kt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Kt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Kt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Kt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Kt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Kt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Kt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Kt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Kt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Kt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Kt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Kt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Kt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Kt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Kt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Kt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Kt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Kt.errToObj(r)})}nonempty(t){return this.min(1,Kt.errToObj(t))}trim(){return new Ou({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ou({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ou({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ou.create=e=>new Ou({checks:[],typeName:Cr.ZodString,coerce:e?.coerce??!1,...Wr(e)});function rEe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class ym extends sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ht.number){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_type,expected:Ht.number,received:i.parsedType}),kr}let n;const a=new Ko;for(const i of this._def.checks)i.kind==="int"?ln.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?rEe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.not_finite,message:i.message}),a.dirty()):ln.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Kt.toString(r))}setLimit(t,r,n,a){return new ym({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Kt.toString(a)}]})}_addCheck(t){return new ym({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Kt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Kt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Kt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Kt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Kt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ln.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ym.create=e=>new ym({checks:[],typeName:Cr.ZodNumber,coerce:e?.coerce||!1,...Wr(e)});class bm extends sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ht.bigint)return this._getInvalidInput(t);let n;const a=new Ko;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ln.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Dt(r,{code:bt.invalid_type,expected:Ht.bigint,received:r.parsedType}),kr}gte(t,r){return this.setLimit("min",t,!0,Kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Kt.toString(r))}setLimit(t,r,n,a){return new bm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Kt.toString(a)}]})}_addCheck(t){return new bm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Kt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bm.create=e=>new bm({checks:[],typeName:Cr.ZodBigInt,coerce:e?.coerce??!1,...Wr(e)});class yN extends sn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ht.boolean){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.boolean,received:n.parsedType}),kr}return Dl(t.data)}}yN.create=e=>new yN({typeName:Cr.ZodBoolean,coerce:e?.coerce||!1,...Wr(e)});class f0 extends sn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ht.date){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_type,expected:Ht.date,received:i.parsedType}),kr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_date}),kr}const n=new Ko;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ln.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new f0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Kt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Kt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}f0.create=e=>new f0({checks:[],coerce:e?.coerce||!1,typeName:Cr.ZodDate,...Wr(e)});class d7 extends sn{_parse(t){if(this._getType(t)!==Ht.symbol){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.symbol,received:n.parsedType}),kr}return Dl(t.data)}}d7.create=e=>new d7({typeName:Cr.ZodSymbol,...Wr(e)});class f7 extends sn{_parse(t){if(this._getType(t)!==Ht.undefined){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.undefined,received:n.parsedType}),kr}return Dl(t.data)}}f7.create=e=>new f7({typeName:Cr.ZodUndefined,...Wr(e)});class h7 extends sn{_parse(t){if(this._getType(t)!==Ht.null){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.null,received:n.parsedType}),kr}return Dl(t.data)}}h7.create=e=>new h7({typeName:Cr.ZodNull,...Wr(e)});class m7 extends sn{constructor(){super(...arguments),this._any=!0}_parse(t){return Dl(t.data)}}m7.create=e=>new m7({typeName:Cr.ZodAny,...Wr(e)});class p7 extends sn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Dl(t.data)}}p7.create=e=>new p7({typeName:Cr.ZodUnknown,...Wr(e)});class Pf extends sn{_parse(t){const r=this._getOrReturnCtx(t);return Dt(r,{code:bt.invalid_type,expected:Ht.never,received:r.parsedType}),kr}}Pf.create=e=>new Pf({typeName:Cr.ZodNever,...Wr(e)});class g7 extends sn{_parse(t){if(this._getType(t)!==Ht.undefined){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.void,received:n.parsedType}),kr}return Dl(t.data)}}g7.create=e=>new g7({typeName:Cr.ZodVoid,...Wr(e)});class Hc extends sn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ht.array)return Dt(r,{code:bt.invalid_type,expected:Ht.array,received:r.parsedType}),kr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Dt(r,{code:o?bt.too_big:bt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Dt(r,{code:bt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Dt(r,{code:bt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Af(r,o,r.path,l)))).then(o=>Ko.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Af(r,o,r.path,l)));return Ko.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Hc({...this._def,minLength:{value:t,message:Kt.toString(r)}})}max(t,r){return new Hc({...this._def,maxLength:{value:t,message:Kt.toString(r)}})}length(t,r){return new Hc({...this._def,exactLength:{value:t,message:Kt.toString(r)}})}nonempty(t){return this.min(1,t)}}Hc.create=(e,t)=>new Hc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Cr.ZodArray,...Wr(t)});function cg(e){if(e instanceof Qs){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=hf.create(cg(n))}return new Qs({...e._def,shape:()=>t})}else return e instanceof Hc?new Hc({...e._def,type:cg(e.element)}):e instanceof hf?hf.create(cg(e.unwrap())):e instanceof p0?p0.create(cg(e.unwrap())):e instanceof wm?wm.create(e.items.map(t=>cg(t))):e}class Qs extends sn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ln.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ht.object){const u=this._getOrReturnCtx(t);return Dt(u,{code:bt.invalid_type,expected:Ht.object,received:u.parsedType}),kr}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Pf&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Af(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Pf){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Dt(a,{code:bt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Af(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Ko.mergeObjectSync(n,u)):Ko.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Kt.errToObj,new Qs({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Kt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Qs({...this._def,unknownKeys:"strip"})}passthrough(){return new Qs({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qs({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qs({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Cr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qs({...this._def,catchall:t})}pick(t){const r={};for(const n of ln.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Qs({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ln.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Qs({...this._def,shape:()=>r})}deepPartial(){return cg(this)}partial(t){const r={};for(const n of ln.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Qs({...this._def,shape:()=>r})}required(t){const r={};for(const n of ln.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof hf;)i=i._def.innerType;r[n]=i}return new Qs({...this._def,shape:()=>r})}keyof(){return Lne(ln.objectKeys(this.shape))}}Qs.create=(e,t)=>new Qs({shape:()=>e,unknownKeys:"strip",catchall:Pf.create(),typeName:Cr.ZodObject,...Wr(t)});Qs.strictCreate=(e,t)=>new Qs({shape:()=>e,unknownKeys:"strict",catchall:Pf.create(),typeName:Cr.ZodObject,...Wr(t)});Qs.lazycreate=(e,t)=>new Qs({shape:e,unknownKeys:"strip",catchall:Pf.create(),typeName:Cr.ZodObject,...Wr(t)});class bN extends sn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Xu(l.ctx.common.issues));return Dt(r,{code:bt.invalid_union,unionErrors:o}),kr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Xu(c));return Dt(r,{code:bt.invalid_union,unionErrors:l}),kr}}get options(){return this._def.options}}bN.create=(e,t)=>new bN({options:e,typeName:Cr.ZodUnion,...Wr(t)});function FD(e,t){const r=zd(e),n=zd(t);if(e===t)return{valid:!0,data:e};if(r===Ht.object&&n===Ht.object){const a=ln.objectKeys(t),i=ln.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=FD(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ht.array&&n===Ht.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=FD(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ht.date&&n===Ht.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class wN extends sn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(l7(i)||l7(o))return kr;const l=FD(i.value,o.value);return l.valid?((c7(i)||c7(o))&&r.dirty(),{status:r.value,value:l.data}):(Dt(n,{code:bt.invalid_intersection_types}),kr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}wN.create=(e,t,r)=>new wN({left:e,right:t,typeName:Cr.ZodIntersection,...Wr(r)});class wm extends sn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ht.array)return Dt(n,{code:bt.invalid_type,expected:Ht.array,received:n.parsedType}),kr;if(n.data.length<this._def.items.length)return Dt(n,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),kr;!this._def.rest&&n.data.length>this._def.items.length&&(Dt(n,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Af(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ko.mergeArray(r,o)):Ko.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new wm({...this._def,rest:t})}}wm.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wm({items:e,typeName:Cr.ZodTuple,rest:null,...Wr(t)})};class x7 extends sn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ht.map)return Dt(n,{code:bt.invalid_type,expected:Ht.map,received:n.parsedType}),kr;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Af(n,l,n.path,[u,"key"])),value:i._parse(new Af(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return kr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return kr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}x7.create=(e,t,r)=>new x7({valueType:t,keyType:e,typeName:Cr.ZodMap,...Wr(r)});class rb extends sn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ht.set)return Dt(n,{code:bt.invalid_type,expected:Ht.set,received:n.parsedType}),kr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Dt(n,{code:bt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Dt(n,{code:bt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return kr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Af(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new rb({...this._def,minSize:{value:t,message:Kt.toString(r)}})}max(t,r){return new rb({...this._def,maxSize:{value:t,message:Kt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}rb.create=(e,t)=>new rb({valueType:e,minSize:null,maxSize:null,typeName:Cr.ZodSet,...Wr(t)});class v7 extends sn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}v7.create=(e,t)=>new v7({getter:e,typeName:Cr.ZodLazy,...Wr(t)});class LD extends sn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Dt(r,{received:r.data,code:bt.invalid_literal,expected:this._def.value}),kr}return{status:"valid",value:t.data}}get value(){return this._def.value}}LD.create=(e,t)=>new LD({value:e,typeName:Cr.ZodLiteral,...Wr(t)});function Lne(e,t){return new h0({values:e,typeName:Cr.ZodEnum,...Wr(t)})}class h0 extends sn{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Dt(r,{expected:ln.joinValues(n),received:r.parsedType,code:bt.invalid_type}),kr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Dt(r,{received:r.data,code:bt.invalid_enum_value,options:n}),kr}return Dl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return h0.create(t,{...this._def,...r})}exclude(t,r=this._def){return h0.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}h0.create=Lne;class y7 extends sn{_parse(t){const r=ln.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ht.string&&n.parsedType!==Ht.number){const a=ln.objectValues(r);return Dt(n,{expected:ln.joinValues(a),received:n.parsedType,code:bt.invalid_type}),kr}if(this._cache||(this._cache=new Set(ln.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ln.objectValues(r);return Dt(n,{received:n.data,code:bt.invalid_enum_value,options:a}),kr}return Dl(t.data)}get enum(){return this._def.values}}y7.create=(e,t)=>new y7({values:e,typeName:Cr.ZodNativeEnum,...Wr(t)});class _N extends sn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ht.promise&&r.common.async===!1)return Dt(r,{code:bt.invalid_type,expected:Ht.promise,received:r.parsedType}),kr;const n=r.parsedType===Ht.promise?r.data:Promise.resolve(r.data);return Dl(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_N.create=(e,t)=>new _N({type:e,typeName:Cr.ZodPromise,...Wr(t)});class m0 extends sn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Cr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Dt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return kr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?kr:c.status==="dirty"||r.value==="dirty"?Lv(c.value):c});{if(r.value==="aborted")return kr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?kr:l.status==="dirty"||r.value==="dirty"?Lv(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?kr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?kr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!d0(o))return kr;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>d0(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):kr);ln.assertNever(a)}}m0.create=(e,t,r)=>new m0({schema:e,typeName:Cr.ZodEffects,effect:t,...Wr(r)});m0.createWithPreprocess=(e,t,r)=>new m0({schema:t,effect:{type:"preprocess",transform:e},typeName:Cr.ZodEffects,...Wr(r)});class hf extends sn{_parse(t){return this._getType(t)===Ht.undefined?Dl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}hf.create=(e,t)=>new hf({innerType:e,typeName:Cr.ZodOptional,...Wr(t)});class p0 extends sn{_parse(t){return this._getType(t)===Ht.null?Dl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}p0.create=(e,t)=>new p0({innerType:e,typeName:Cr.ZodNullable,...Wr(t)});class $D extends sn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ht.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$D.create=(e,t)=>new $D({innerType:e,typeName:Cr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Wr(t)});class BD extends sn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return vN(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xu(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Xu(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}BD.create=(e,t)=>new BD({innerType:e,typeName:Cr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Wr(t)});class b7 extends sn{_parse(t){if(this._getType(t)!==Ht.nan){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.nan,received:n.parsedType}),kr}return{status:"valid",value:t.data}}}b7.create=e=>new b7({typeName:Cr.ZodNaN,...Wr(e)});class nEe extends sn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class $F extends sn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?kr:i.status==="dirty"?(r.dirty(),Lv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?kr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new $F({in:t,out:r,typeName:Cr.ZodPipeline})}}class UD extends sn{_parse(t){const r=this._def.innerType._parse(t),n=a=>(d0(a)&&(a.value=Object.freeze(a.value)),a);return vN(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}UD.create=(e,t)=>new UD({innerType:e,typeName:Cr.ZodReadonly,...Wr(t)});var Cr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Cr||(Cr={}));const Kr=Ou.create;ym.create;bm.create;const Tc=yN.create;f0.create;Pf.create;const $ne=Hc.create,Zm=Qs.create;bN.create;wN.create;wm.create;const sEe=LD.create,BF=h0.create;_N.create;hf.create;p0.create;const gh={string:(e=>Ou.create({...e,coerce:!0})),number:(e=>ym.create({...e,coerce:!0})),boolean:(e=>yN.create({...e,coerce:!0})),bigint:(e=>bm.create({...e,coerce:!0})),date:(e=>f0.create({...e,coerce:!0}))},Rw=dCe,Bne=j.createContext({}),cr=({...e})=>s.jsx(Bne.Provider,{value:{name:e.name},children:s.jsx(pCe,{...e})}),D2=()=>{const e=j.useContext(Bne),t=j.useContext(Une),{getFieldState:r,formState:n}=R2(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Une=j.createContext({}),or=j.forwardRef(({className:e,...t},r)=>{const n=j.useId();return s.jsx(Une.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ut("space-y-2",e),...t})})});or.displayName="FormItem";const ur=j.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=D2();return s.jsx(ke,{ref:r,className:ut(n&&"text-destructive",e),htmlFor:a,...t})});ur.displayName="FormLabel";const lr=j.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=D2();return s.jsx(cJ,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});lr.displayName="FormControl";const Ai=j.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=D2();return s.jsx("p",{ref:r,id:n,className:ut("text-sm text-muted-foreground",e),...t})});Ai.displayName="FormDescription";const Dr=j.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=D2(),o=a?String(a?.message):t;return o?s.jsx("p",{ref:n,id:i,className:ut("text-sm font-medium text-destructive",e),...r,children:o}):null});Dr.displayName="FormMessage";const aEe=()=>{const e=Date.now(),t=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${t}`};var Vne="AlertDialog",[iEe]=Vs(Vne,[Bte]),od=Bte(),zne=e=>{const{__scopeAlertDialog:t,...r}=e,n=od(t);return s.jsx(hF,{...n,...r,modal:!0})};zne.displayName=Vne;var oEe="AlertDialogTrigger",lEe=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(rre,{...a,...n,ref:t})});lEe.displayName=oEe;var cEe="AlertDialogPortal",qne=e=>{const{__scopeAlertDialog:t,...r}=e,n=od(t);return s.jsx(mF,{...n,...r})};qne.displayName=cEe;var uEe="AlertDialogOverlay",Wne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(jw,{...a,...n,ref:t})});Wne.displayName=uEe;var qg="AlertDialogContent",[dEe,fEe]=iEe(qg),hEe=dJ("AlertDialogContent"),Hne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=od(r),o=j.useRef(null),l=Zt(t,o),c=j.useRef(null);return s.jsx(yNe,{contentName:qg,titleName:Gne,docsSlug:"alert-dialog",children:s.jsx(dEe,{scope:r,cancelRef:c,children:s.jsxs(Nw,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:dt(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(hEe,{children:n}),s.jsx(pEe,{contentRef:o})]})})})});Hne.displayName=qg;var Gne="AlertDialogTitle",Kne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(Sw,{...a,...n,ref:t})});Kne.displayName=Gne;var Yne="AlertDialogDescription",Xne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(kw,{...a,...n,ref:t})});Xne.displayName=Yne;var mEe="AlertDialogAction",Jne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(N2,{...a,...n,ref:t})});Jne.displayName=mEe;var Zne="AlertDialogCancel",Qne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=fEe(Zne,r),i=od(r),o=Zt(t,a);return s.jsx(N2,{...i,...n,ref:o})});Qne.displayName=Zne;var pEe=({contentRef:e})=>{const t=`\`${qg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qg}\` by passing a \`${Yne}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},gEe=zne,xEe=qne,ese=Wne,tse=Hne,rse=Jne,nse=Qne,sse=Kne,ase=Xne;const g0=gEe,vEe=xEe,ise=j.forwardRef(({className:e,...t},r)=>s.jsx(ese,{className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ise.displayName=ese.displayName;const _m=j.forwardRef(({className:e,...t},r)=>s.jsxs(vEe,{children:[s.jsx(ise,{}),s.jsx(tse,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_m.displayName=tse.displayName;const jm=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col space-y-2 text-center sm:text-left",e),...t});jm.displayName="AlertDialogHeader";const Nm=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Nm.displayName="AlertDialogFooter";const Sm=j.forwardRef(({className:e,...t},r)=>s.jsx(sse,{ref:r,className:ut("text-lg font-semibold",e),...t}));Sm.displayName=sse.displayName;const km=j.forwardRef(({className:e,...t},r)=>s.jsx(ase,{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));km.displayName=ase.displayName;const Cm=j.forwardRef(({className:e,...t},r)=>s.jsx(rse,{ref:r,className:ut(f2(),e),...t}));Cm.displayName=rse.displayName;const Em=j.forwardRef(({className:e,...t},r)=>s.jsx(nse,{ref:r,className:ut(f2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Em.displayName=nse.displayName;function ose({value:e,onChange:t,storeId:r}){const[n,a]=j.useState([]),[i,o]=j.useState(!1),[l,c]=j.useState(""),[u,d]=j.useState(!1),[f,m]=j.useState(null),[p,y]=j.useState(!1);j.useEffect(()=>{g()},[r]);const g=async()=>{if(r)try{const{data:b,error:E}=await Q.from("categories").select("id, name").eq("store_id",r).order("name");if(E)throw E;a(b||[])}catch(b){Me({title:"Error loading categories",description:b.message,variant:"destructive"})}},v=async()=>{if(!l.trim()){Me({title:"Invalid category",description:"Please enter a category name",variant:"destructive"});return}if(n.some(b=>b.name.toLowerCase()===l.trim().toLowerCase())){Me({title:"Category exists",description:"This category already exists",variant:"destructive"});return}try{const{data:b,error:E}=await Q.from("categories").insert({name:l.trim(),store_id:r}).select().single();if(E)throw E;a(S=>[...S,b].sort((C,k)=>C.name.localeCompare(k.name))),t(b.name),c(""),o(!1),Me({title:"Category added",description:`${b.name} has been added`})}catch(b){Me({title:"Error adding category",description:b.message,variant:"destructive"})}},_=(b,E)=>{b.stopPropagation(),m(E),d(!0)},w=async()=>{if(f){y(!0);try{const{error:b}=await Q.from("categories").delete().eq("id",f.id);if(b)throw b;a(E=>E.filter(S=>S.id!==f.id)),e===f.name&&t(""),Me({title:"Category deleted",description:`${f.name} has been removed`})}catch(b){Me({title:"Error deleting category",description:b.message,variant:"destructive"})}finally{y(!1),d(!1),m(null)}}};return s.jsxs(s.Fragment,{children:[i?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{placeholder:"Enter custom category",value:l,onChange:b=>c(b.target.value),onKeyPress:b=>{b.key==="Enter"&&(b.preventDefault(),v())}}),s.jsx(ie,{type:"button",size:"sm",onClick:v,children:"Add"}),s.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(!1),c("")},children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(_r,{value:e,onValueChange:t,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Select category"})}),s.jsx(yr,{className:"z-50 bg-popover",children:n.map(b=>s.jsx(Ke,{value:b.name,className:"flex items-center justify-between pr-2",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:b.name}),s.jsx(ie,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 hover:bg-destructive/10 hover:text-destructive",onClick:E=>_(E,b),children:s.jsx(Wn,{className:"h-3 w-3"})})]})},b.id))})]}),s.jsx(ie,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>o(!0),children:"+ Add custom category"})]}),s.jsx(g0,{open:u,onOpenChange:d,children:s.jsxs(_m,{children:[s.jsxs(jm,{children:[s.jsx(Sm,{children:"Delete Category"}),s.jsxs(km,{children:['Are you sure you want to delete "',f?.name,'"? This action cannot be undone.']})]}),s.jsxs(Nm,{children:[s.jsx(Em,{disabled:p,children:"Cancel"}),s.jsx(Cm,{onClick:w,disabled:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p?"Deleting...":"Delete"})]})]})})]})}const jN=["https://images.unsplash.com/photo-1763359161311-1a62681fb3c0?w=800&q=80","https://images.unsplash.com/photo-1763359161278-0cabc4924746?w=800&q=80","https://images.unsplash.com/photo-1763359161530-6631e16431fd?w=800&q=80","https://images.unsplash.com/photo-1763359161346-dbb620ef8fe9?w=800&q=80","https://images.unsplash.com/photo-1763359161317-5e4e5ea3075f?w=800&q=80","https://images.unsplash.com/photo-1763359161302-ccacb7b785da?w=800&q=80","https://images.unsplash.com/photo-1763358991454-2d0059bf6796?w=800&q=80","https://images.unsplash.com/photo-1763358958563-b9efe06f989f?w=800&q=80","https://images.unsplash.com/photo-1763358927011-ab7d82821124?w=800&q=80","https://images.unsplash.com/photo-1763358896930-3982ec4e3293?w=800&q=80"],yEe=()=>{const e=Math.floor(Math.random()*jN.length);return jN[e]},bEe=(e=1)=>{const t=[...jN];for(let n=t.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[t[n],t[a]]=[t[a],t[n]]}const r=Math.min(e,jN.length);return t.slice(0,r)},wEe=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),_Ee=Zm({id:Kr(),name:Kr().trim().min(1,"Variant name is required"),price:Kr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:Kr().trim().optional()}),jEe=Zm({name:Kr().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:Kr().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:Kr().min(1,"Category is required"),baseSku:Kr().trim().optional(),baseStock:Kr().refine(e=>{const t=parseInt(e);return!isNaN(t)&&t>=0},"Stock must be a valid number (0 or greater)"),status:BF(["published","draft","inactive"]),variants:$ne(_Ee).optional()}),NEe=()=>{const e=xr(),[t]=j.useState(aEe()),[r,n]=j.useState(!1),[a,i]=j.useState([]),[o,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState([]),[m,p]=j.useState({name:"",price:"",sku:""}),[y,g]=j.useState(null),[v,_]=j.useState(!1),[w,b]=j.useState(!1),[E,S]=j.useState(!1),[C,k]=j.useState([]),[R,P]=j.useState("vps"),[O,A]=j.useState([]),[D,F]=j.useState([]),B=E2(),z=Pw({resolver:Ow(jEe),defaultValues:{name:"",description:"",category:"",baseSku:"",baseStock:"",status:"published",variants:[]}});j.useEffect(()=>{q()},[]);const q=async()=>{try{const{data:{user:V}}=await Q.auth.getUser();if(!V)return;const{data:{session:X}}=await Q.auth.getSession(),ne=X?.provider_token,se=X?.provider_refresh_token,{data:ue,error:W}=await Q.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",V.id).single();if(W)throw W;if(ue)if(g(ue.id),ne&&!ue.google_access_token){const ae={google_access_token:ne};if(se){const oe=new Date(Date.now()+36e5).toISOString();ae.google_refresh_token=se,ae.google_token_expiry=oe}await Q.from("stores").update(ae).eq("id",ue.id),Me({title:"Google Drive Connected",description:"You can now upload images from your device."}),b(!0)}else b(!!ue.google_access_token)}catch(V){Me({title:"Error loading store",description:V.message,variant:"destructive"})}},G=async V=>{const X=Array.from(V.target.files||[]);if(X.length===0)return;const ne=X.filter(se=>se.type.startsWith("image/")?!0:(Me({title:"Invalid file type",description:`${se.name} is not a valid image file`,variant:"destructive"}),!1));if(ne.length!==0)try{const se=[];for(const W of ne)if(R==="vps")try{const ae=(W.size/1024/1024).toFixed(2),oe=await kF(W,5),K=(oe.size/1024/1024).toFixed(2);console.log(`Image compressed: ${ae}MB  ${K}MB`),se.push(oe)}catch(ae){console.error("Compression failed:",ae),Me({title:"Compression failed",description:`Failed to compress ${W.name}, using original`,variant:"destructive"}),se.push(W)}else se.push(W);A(W=>[...W,...se]);const ue=se.map(W=>URL.createObjectURL(W));F(W=>[...W,...ue]),Me({title:"Images ready",description:`${se.length} image(s) will be uploaded when you save the product`})}catch(se){console.error("Error processing images:",se),Me({title:"Error",description:"Failed to process images",variant:"destructive"})}finally{V.target.value=""}},Y=()=>{if(!o.trim()){Me({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let V=o.trim();if(V.includes("drive.google.com")){const X=V.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);X&&(V=`https://drive.google.com/thumbnail?id=${X[1]||X[2]}&sz=w1000`,Me({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(X=>[...X,V]),l("")},M=async V=>{const X=a.length;if(V<X){const ne=a[V];if(ne.includes("digitaldukandar.in/uploads/"))try{(await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:ne})})).json()).success&&console.log("Image deleted from VPS:",ne)}catch(se){console.error("Failed to delete image from VPS:",se)}i(se=>se.filter((ue,W)=>W!==V))}else{const ne=V-X;URL.revokeObjectURL(D[ne]),A(se=>se.filter((ue,W)=>W!==ne)),F(se=>se.filter((ue,W)=>W!==ne))}},H=()=>{if(!m.name.trim()||!m.price.trim()){Me({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const V={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(X=>[...X,V]),p({name:"",price:"",sku:""})},Z=V=>{f(X=>X.filter(ne=>ne.id!==V))},L=()=>{if(d.length===0)return null;const V=d.map(se=>parseFloat(se.price)),X=Math.min(...V),ne=Math.max(...V);return X===ne?`${X.toFixed(2)}`:`${X.toFixed(2)} - ${ne.toFixed(2)}`},J=async V=>{if(V.status==="published"&&!B.canPublishProduct()){Me({title:"Product Limit Reached",description:B.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{let X=[...a];if(O.length>0){k(O.map(Ee=>({name:Ee.name,progress:0})));const{data:{session:ue}}=await Q.auth.getSession();if(!ue)throw new Error("Not authenticated");const{data:{user:W}}=await Q.auth.getUser();if(!W)throw new Error("User not found");const{data:ae,error:oe}=await Q.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",W.id).single();if(oe||!ae)throw new Error("Store not found");const K=O.reduce((Ee,Ae)=>Ee+Ae.size/1024/1024,0);let be=ae.storage_used_mb||0;const pe=ae.storage_limit_mb||100;if(be+K>pe)throw new Error(`Storage limit reached. You have ${(pe-be).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);for(let Ee=0;Ee<O.length;Ee++){const Ae=O[Ee],fe=Ae.size/1024/1024;k(ce=>ce.map((we,Oe)=>Oe===Ee?{...we,progress:10}:we));const Je=new FormData;Je.append("file",Ae),Je.append("type","products");const Ye=setInterval(()=>{k(ce=>ce.map((we,Oe)=>Oe===Ee&&we.progress<90?{...we,progress:we.progress+10}:we))},200);try{let ce,we="",Oe="";if(R==="vps"){const He=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Je}),Ge=await He.json();if(!He.ok||!Ge.success)throw new Error(Ge.error||"Failed to upload image");ce={data:Ge,error:null},Oe=Ge.imageUrl,we=Ge.fileId||Ae.name;const{error:Ne}=await Q.from("media_library").insert({store_id:ae.id,file_url:Oe,file_name:we,file_size_mb:fe,file_type:"products"});Ne&&console.error("Failed to add to media library:",Ne),be+=fe;const{error:ee}=await Q.from("stores").update({storage_used_mb:be}).eq("id",ae.id);ee&&console.error("Failed to update storage usage:",ee)}else ce=await Q.functions.invoke("upload-to-drive",{body:Je,headers:{Authorization:`Bearer ${ue.access_token}`}});if(clearInterval(Ye),ce.error)throw new Error(ce.error.message||"Failed to upload image");ce.data?.imageUrl&&(k(He=>He.map((Ge,Ne)=>Ne===Ee?{...Ge,progress:100}:Ge)),X.push(ce.data.imageUrl))}catch(ce){throw clearInterval(Ye),ce}}k([])}const ne=X.length>0?X:bEe(3),se={id:t,name:V.name,slug:wEe(V.name),description:V.description,category:V.category,stock:parseInt(V.baseStock),sku:V.baseSku||void 0,status:V.status,images:ne,videoUrl:c.trim()||void 0,variants:d.map(ue=>({name:ue.name,price:parseFloat(ue.price),sku:ue.sku})),priceRange:L()||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};ske(se),D.forEach(ue=>URL.revokeObjectURL(ue)),Me({title:"Product created successfully",description:`${V.name} has been added to your catalog`}),e("/admin/products")}catch(X){console.error("Error saving product:",X),Me({title:"Error creating product",description:X.message||"Please try again later",variant:"destructive"})}finally{n(!1),k([])}};return s.jsx(vs,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Add New Product"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Create a new product listing for your store"})]}),B.getProductLimitMessage()&&s.jsxs(tn,{variant:B.canPublishProduct()?"default":"destructive",children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsx(rn,{children:B.getProductLimitMessage()})]}),s.jsx(Rw,{...z,children:s.jsx("form",{onSubmit:z.handleSubmit(J),className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Information"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ur,{className:"text-muted-foreground",children:"Product ID (Auto-generated)"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md font-mono text-sm text-foreground",children:t})]}),s.jsx(cr,{control:z.control,name:"name",render:({field:V})=>s.jsxs(or,{children:[s.jsx(lr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(ze,{...V,id:"product-name",className:"peer h-14 pt-4 px-3",placeholder:" "}),s.jsx("label",{htmlFor:"product-name",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Product Name"})]})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:z.control,name:"description",render:({field:V})=>s.jsxs(or,{children:[s.jsx(lr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(_a,{...V,id:"product-description",placeholder:" ",className:"peer min-h-[120px] pt-6 px-3"}),s.jsx("label",{htmlFor:"product-description",className:"absolute left-3 top-4 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Description"})]})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:z.control,name:"category",render:({field:V})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Category"}),s.jsx(lr,{children:s.jsx(ose,{value:V.value,onChange:V.onChange,storeId:y})}),s.jsx(Dr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(cr,{control:z.control,name:"baseSku",render:({field:V})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Base SKU (Optional)"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Product SKU (optional)",...V})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:z.control,name:"baseStock",render:({field:V})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Base Stock Quantity"}),s.jsx(lr,{children:s.jsx(ze,{type:"number",placeholder:"0",...V})}),s.jsx(Dr,{})]})})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(ze,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:V=>p(X=>({...X,name:V.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(ze,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:V=>p(X=>({...X,price:V.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"SKU (Optional)"}),s.jsx(ze,{placeholder:"Optional SKU",value:m.sku,onChange:V=>p(X=>({...X,sku:V.target.value}))})]})]}),s.jsxs(ie,{type:"button",onClick:H,size:"sm",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:L()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Variant Name"}),s.jsx(et,{children:"Price"}),s.jsx(et,{children:"SKU"}),s.jsx(et,{className:"w-[50px]"})]})}),s.jsx(ia,{children:d.map(V=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:V.name}),s.jsxs(Xe,{children:["$",parseFloat(V.price).toFixed(2)]}),s.jsx(Xe,{className:"text-muted-foreground",children:V.sku||""}),s.jsx(Xe,{children:s.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(V.id),className:"text-destructive hover:text-destructive",children:s.jsx(Wn,{className:"w-4 h-4"})})})]},V.id))})]})})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive or upload from your device"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(tn,{children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsx(rn,{className:"flex items-center justify-between gap-4",children:w?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm",children:"Connect Google Drive to upload images from your device"}),s.jsx(ie,{type:"button",size:"sm",variant:"outline",onClick:async()=>{S(!0);try{const{error:V}=await Q.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(V)throw V}catch(V){Me({title:"Connection Failed",description:V.message,variant:"destructive"}),S(!1)}},disabled:E,children:E?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ze,{id:"google-drive-url",placeholder:" ",value:o,onChange:V=>l(V.target.value),onKeyPress:V=>{V.key==="Enter"&&(V.preventDefault(),Y())},className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"google-drive-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Google Drive Image URL"})]}),s.jsx(ie,{type:"button",onClick:Y,size:"sm",className:"h-14",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"vps",checked:R==="vps",onChange:V=>P(V.target.value),className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"VPS Server"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"drive",checked:R==="drive",onChange:V=>P(V.target.value),className:"w-4 h-4 text-primary",disabled:!w}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Safe & Reliable)"})," ",!w&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R==="vps"?"Images will be compressed to max 5MB and stored on your server":"Images will be uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${v?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:G,className:"hidden",id:"image-upload",disabled:v}),s.jsx("label",{htmlFor:"image-upload",className:`block p-6 text-center ${v?"cursor-not-allowed":"cursor-pointer"}`,children:v&&C.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",C.length," image",C.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:C.map((V,X)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[V.progress<100?s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(cn,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:V.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:V.progress<100?`Uploading to ${R==="vps"?"VPS Server":"Google Drive"}...`:"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[V.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${V.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${V.progress}%`}})})]},`uploading-${X}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Kd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R==="vps"?"PNG, JPG images. Auto-compressed to max 5MB and stored on VPS.":"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),(a.length>0||D.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.map((V,X)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:V,alt:`Product Image ${X+1}`,className:"w-full h-full object-cover",onError:ne=>{ne.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(ie,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>M(X),children:s.jsx(La,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Image ",X+1]})]},`url-${X}`)),D.map((V,X)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-primary/50",children:s.jsx("img",{src:V,alt:`Pending Image ${X+1}`,className:"w-full h-full object-cover"})}),s.jsx(ie,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>M(a.length+X),children:s.jsx(La,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Pending ",X+1," (will upload on save)"]})]},`preview-${X}`))]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ze,{id:"youtube-video-url",placeholder:" ",value:c,onChange:V=>u(V.target.value),className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"youtube-video-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"YouTube Video URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const X=(ne=>{const se=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ue=ne.match(se);return ue&&ue[2].length===11?ue[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),X?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${X}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Status"})}),s.jsx(Te,{children:s.jsx(cr,{control:z.control,name:"status",render:({field:V})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Status"}),s.jsxs(_r,{onValueChange:V.onChange,defaultValue:V.value,children:[s.jsx(lr,{children:s.jsx(vr,{children:s.jsx(jr,{})})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"draft",children:"Draft"}),s.jsx(Ke,{value:"published",children:"Published"}),s.jsx(Ke,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Dr,{})]})})})]}),s.jsx(Se,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ie,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),r?"Creating...":"Create Product"]}),s.jsx(ie,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})},SEe=Zm({id:Kr(),name:Kr().trim().min(1,"Variant name is required"),price:Kr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:Kr().trim().optional()}),kEe=Zm({name:Kr().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:Kr().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:Kr().min(1,"Category is required"),baseSku:Kr().trim().optional(),baseStock:Kr().refine(e=>{const t=parseInt(e);return!isNaN(t)&&t>=0},"Stock must be a valid number (0 or greater)"),status:BF(["published","draft","inactive"]),variants:$ne(SEe).optional()}),CEe=()=>{const e=xr(),{id:t}=sd(),[r,n]=j.useState(!1),[a,i]=j.useState([]),[o,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState([]),[m,p]=j.useState({name:"",price:"",sku:""}),[y,g]=j.useState(!0),[v,_]=j.useState(null),[w,b]=j.useState(""),[E,S]=j.useState(!1),[C,k]=j.useState(!1),[R,P]=j.useState(!1),[O,A]=j.useState([]),D=E2(),F=Pw({resolver:Ow(kEe),defaultValues:{name:"",description:"",category:"",baseSku:"",baseStock:"",status:"draft",variants:[]}});j.useEffect(()=>{B()},[t,e,F]);const B=async()=>{if(!t){Me({title:"Error",description:"Product ID is missing",variant:"destructive"}),e("/admin/products");return}const L=await Aj(t);if(!L){Me({title:"Product not found",description:"The product you're trying to edit doesn't exist",variant:"destructive"}),e("/admin/products");return}try{const{data:{user:J}}=await Q.auth.getUser();if(!J)return;const{data:{session:V}}=await Q.auth.getSession(),X=V?.provider_token,ne=V?.provider_refresh_token,{data:se,error:ue}=await Q.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",J.id).single();if(ue)throw ue;if(se)if(_(se.id),X&&!se.google_access_token){const W={google_access_token:X};if(ne){const ae=new Date(Date.now()+36e5).toISOString();W.google_refresh_token=ne,W.google_token_expiry=ae}await Q.from("stores").update(W).eq("id",se.id),Me({title:"Google Drive Connected",description:"You can now upload images from your device."}),k(!0)}else k(!!se.google_access_token)}catch(J){Me({title:"Error loading store",description:J.message,variant:"destructive"})}F.reset({name:L.name,description:L.description,category:L.category,baseSku:L.sku||"",baseStock:L.stock?.toString()||"",status:L.status}),b(L.status),i(L.images||[]),u(L.videoUrl||L.video_url||""),L.variants&&f(L.variants.map((J,V)=>({id:`${V}`,name:J.name,price:J.price.toString(),sku:J.sku}))),g(!1)},z=()=>{if(!o.trim()){Me({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let L=o.trim();if(L.includes("drive.google.com")){const J=L.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);J&&(L=`https://drive.google.com/thumbnail?id=${J[1]||J[2]}&sz=w1000`,Me({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(J=>[...J,L]),l("")},q=async L=>{const J=Array.from(L.target.files||[]);if(J.length===0)return;const V=J.filter(X=>X.type.startsWith("image/")?!0:(Me({title:"Invalid file type",description:`${X.name} is not a valid image file`,variant:"destructive"}),!1));if(V.length!==0){S(!0),A(V.map(X=>({name:X.name,progress:0})));try{const{data:{session:X}}=await Q.auth.getSession();if(!X)throw new Error("Not authenticated");for(let ne=0;ne<V.length;ne++){const se=V[ne];A(ae=>ae.map((oe,K)=>K===ne?{...oe,progress:10}:oe));const ue=new FormData;ue.append("file",se);const W=setInterval(()=>{A(ae=>ae.map((oe,K)=>K===ne&&oe.progress<90?{...oe,progress:oe.progress+10}:oe))},200);try{const ae=await Q.functions.invoke("upload-to-drive",{body:ue,headers:{Authorization:`Bearer ${X.access_token}`}});if(clearInterval(W),ae.error)throw A(oe=>oe.filter((K,be)=>be!==ne)),new Error(ae.error.message||"Failed to upload image");ae.data?.imageUrl&&(A(oe=>oe.map((K,be)=>be===ne?{...K,progress:100}:K)),await new Promise(oe=>setTimeout(oe,300)),A(oe=>oe.filter((K,be)=>be!==ne)),i(oe=>[...oe,ae.data.imageUrl]),Me({title:"Image uploaded",description:`${se.name} uploaded successfully`}))}catch(ae){throw clearInterval(W),ae}}}catch(X){console.error("Upload error:",X),console.error("Error details:",JSON.stringify(X,null,2));let ne=X.message||"";if(X.context?.body)try{const se=JSON.parse(X.context.body);ne=se.error||se.message||ne}catch(se){console.error("Could not parse error body:",se)}console.log("Extracted error message:",ne),ne.toLowerCase().includes("drive")&&ne.toLowerCase().includes("not connected")?Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first, or use the Google Drive URL option instead.",variant:"destructive",duration:6e3}):ne.includes("Unauthorized")||ne.includes("authenticated")?Me({title:"Authentication Required",description:"Please sign in again to upload images.",variant:"destructive"}):ne.toLowerCase().includes("token")||ne.toLowerCase().includes("expired")?Me({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Me({title:"Upload Failed",description:ne||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),A([]),L.target.value=""}}},G=L=>{i(J=>J.filter((V,X)=>X!==L))},Y=()=>{if(!m.name.trim()||!m.price.trim()){Me({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const L={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(J=>[...J,L]),p({name:"",price:"",sku:""})},M=L=>{f(J=>J.filter(V=>V.id!==L))},H=()=>{if(d.length===0)return null;const L=d.map(X=>parseFloat(X.price)),J=Math.min(...L),V=Math.max(...L);return J===V?`${J.toFixed(2)}`:`${J.toFixed(2)} - ${V.toFixed(2)}`},Z=async L=>{if(!t)return;const J=w!=="published",V=L.status==="published";if(J&&V&&!D.canPublishProduct()){Me({title:"Product Limit Reached",description:D.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{await new Promise(ne=>setTimeout(ne,1e3));const X={id:t,name:L.name,description:L.description,category:L.category,stock:parseInt(L.baseStock),sku:L.baseSku||void 0,status:L.status,images:a.length>0?a:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"],videoUrl:c.trim()||void 0,variants:d.map(ne=>({name:ne.name,price:parseFloat(ne.price),sku:ne.sku})),priceRange:H()||void 0,createdAt:(await Aj(t))?.createdAt||(await Aj(t))?.created_at||new Date().toISOString(),updatedAt:new Date().toISOString()};await ake(t,X),Me({title:"Product updated successfully",description:`${L.name} has been updated`}),e("/admin/products")}catch{Me({title:"Error updating product",description:"Please try again later",variant:"destructive"})}finally{n(!1)}};return y?s.jsx(vs,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading product..."})})}):s.jsx(vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Product"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update product information"})]}),D.getProductLimitMessage()&&s.jsxs(tn,{variant:D.canPublishProduct()?"default":"destructive",children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsx(rn,{children:D.getProductLimitMessage()})]}),s.jsx(Rw,{...F,children:s.jsx("form",{onSubmit:F.handleSubmit(Z),className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Information"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx(cr,{control:F.control,name:"name",render:({field:L})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Product Name"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Enter product name",...L})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:F.control,name:"description",render:({field:L})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Description"}),s.jsx(lr,{children:s.jsx(_a,{placeholder:"Describe your product...",className:"min-h-[120px]",...L})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:F.control,name:"category",render:({field:L})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Category"}),s.jsx(lr,{children:s.jsx(ose,{value:L.value,onChange:L.onChange,storeId:v})}),s.jsx(Dr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(cr,{control:F.control,name:"baseSku",render:({field:L})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Base SKU (Optional)"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Product SKU (optional)",...L})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:F.control,name:"baseStock",render:({field:L})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Base Stock Quantity"}),s.jsx(lr,{children:s.jsx(ze,{type:"number",placeholder:"0",...L})}),s.jsx(Dr,{})]})})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(ze,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:L=>p(J=>({...J,name:L.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(ze,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:L=>p(J=>({...J,price:L.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"SKU (Optional)"}),s.jsx(ze,{placeholder:"Optional SKU",value:m.sku,onChange:L=>p(J=>({...J,sku:L.target.value}))})]})]}),s.jsxs(ie,{type:"button",onClick:Y,size:"sm",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:H()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Variant Name"}),s.jsx(et,{children:"Price"}),s.jsx(et,{children:"SKU"}),s.jsx(et,{className:"w-[50px]"})]})}),s.jsx(ia,{children:d.map(L=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:L.name}),s.jsxs(Xe,{children:["$",parseFloat(L.price).toFixed(2)]}),s.jsx(Xe,{className:"text-muted-foreground",children:L.sku||""}),s.jsx(Xe,{children:s.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(L.id),className:"text-destructive hover:text-destructive",children:s.jsx(Wn,{className:"w-4 h-4"})})})]},L.id))})]})})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(tn,{children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsx(rn,{className:"flex items-center justify-between gap-4",children:C?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm",children:"Connect Google Drive to upload images from your device"}),s.jsx(ie,{type:"button",size:"sm",variant:"outline",onClick:async()=>{P(!0);try{const{error:L}=await Q.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(L)throw L}catch(L){Me({title:"Connection Failed",description:L.message,variant:"destructive"}),P(!1)}},disabled:R,children:R?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Google Drive Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{placeholder:"Paste Google Drive shareable link",value:o,onChange:L=>l(L.target.value),onKeyPress:L=>{L.key==="Enter"&&(L.preventDefault(),z())}}),s.jsx(ie,{type:"button",onClick:z,size:"sm",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${E?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:q,className:"hidden",id:"image-upload-edit",disabled:E}),s.jsx("label",{htmlFor:"image-upload-edit",className:`block p-6 text-center ${E?"cursor-not-allowed":"cursor-pointer"}`,children:E&&O.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",O.length," image",O.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:O.map((L,J)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[L.progress<100?s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(cn,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:L.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:L.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[L.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${L.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${L.progress}%`}})})]},`uploading-${J}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Kd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((L,J)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:L,alt:`Preview ${J+1}`,className:"w-full h-full object-cover",onError:V=>{V.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(ie,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>G(J),children:s.jsx(La,{className:"w-3 h-3"})})]},J))})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"YouTube Video URL"}),s.jsx(ze,{placeholder:"https://www.youtube.com/watch?v=...",value:c,onChange:L=>u(L.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const J=(V=>{const X=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ne=V.match(X);return ne&&ne[2].length===11?ne[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),J?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${J}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Status"})}),s.jsx(Te,{children:s.jsx(cr,{control:F.control,name:"status",render:({field:L})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Status"}),s.jsxs(_r,{onValueChange:L.onChange,value:L.value,children:[s.jsx(lr,{children:s.jsx(vr,{children:s.jsx(jr,{})})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"draft",children:"Draft"}),s.jsx(Ke,{value:"published",children:"Published"}),s.jsx(Ke,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Dr,{})]})})})]}),s.jsx(Se,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ie,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Product"]}),s.jsx(ie,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var nb={};nb.version="0.18.5";var zo=1200,Tm=1252,EEe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UF={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},I2=function(e){EEe.indexOf(e)!=-1&&(Tm=UF[0]=e)};function TEe(){I2(1252)}var Nl=function(e){zo=e,I2(e)};function M2(){Nl(1200),TEe()}function NN(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function AEe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function lse(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var xg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?AEe(e.slice(2)):t==254&&r==255?lse(e.slice(2)):t==65279?e.slice(1):e},$v=function(t){return String.fromCharCode(t)},VD=function(t){return String.fromCharCode(t)},Jr;function PEe(e){Jr=e,Nl=function(t){zo=t,I2(t)},xg=function(t){return t.charCodeAt(0)===255&&t.charCodeAt(1)===254?Jr.utils.decode(1200,NN(t.slice(2))):t},$v=function(r){return zo===1200?String.fromCharCode(r):Jr.utils.decode(zo,[r&255,r>>8])[0]},VD=function(r){return Jr.utils.decode(Tm,[r])[0]},Fse()}var tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sb(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=tf.charAt(i)+tf.charAt(o)+tf.charAt(l)+tf.charAt(c);return t}function Yo(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=tf.indexOf(e.charAt(u++)),o=tf.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=tf.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=tf.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var $r=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ld=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Of(e){return $r?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function w7(e){return $r?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Mo=function(t){return $r?ld(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Dw(e){if(typeof ArrayBuffer>"u")return Mo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Wf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function OEe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function VF(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return VF(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ma=$r?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ld(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function REe(e){for(var t=[],r=0,n=e.length+250,a=Of(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Of(65535),n=65530)}return t.push(a.slice(0,r)),Ma(t)}var wi=/\u0000/g,Bv=/[\u0001-\u0006]/g;function Wg(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ac(e,t){var r=""+e;return r.length>=t?r:ws("0",t-r.length)+r}function zF(e,t){var r=""+e;return r.length>=t?r:ws(" ",t-r.length)+r}function SN(e,t){var r=""+e;return r.length>=t?r:r+ws(" ",t-r.length)}function DEe(e,t){var r=""+Math.round(e);return r.length>=t?r:ws("0",t-r.length)+r}function IEe(e,t){var r=""+e;return r.length>=t?r:ws("0",t-r.length)+r}var _7=Math.pow(2,32);function Jp(e,t){if(e>_7||e<-_7)return DEe(e,t);var r=Math.round(e);return IEe(r,t)}function kN(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var j7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ST=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function MEe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var sr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},N7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},FEe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function CN(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function rf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=zEe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var cse=new Date(1899,11,31,0,0,0),LEe=cse.getTime(),$Ee=new Date(1900,2,1,0,0,0);function use(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=$Ee&&(r+=1440*60*1e3),(r-(LEe+(e.getTimezoneOffset()-cse.getTimezoneOffset())*6e4))/(1440*60*1e3)}function qF(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BEe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function UEe(e){var t=e<0?12:11,r=qF(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function VEe(e){var t=qF(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ab(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=UEe(e):t===10?r=e.toFixed(10).substr(0,12):r=VEe(e),qF(BEe(r.toUpperCase()))}function Am(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ab(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Xo(14,use(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function zEe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function qEe(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return ST[r.m-1][1];case 5:return ST[r.m-1][0];default:return ST[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return j7[r.q][0];default:return j7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ac(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=ac(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?ac(c,u):"";return d}function nf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var dse=/%/g;function WEe(e,t,r){var n=t.replace(dse,""),a=t.length-n.length;return Bu(e,n,r*Math.pow(10,2*a))+ws("%",a)}function HEe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function fse(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fse(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var hse=/# (\?+)( ?)\/( ?)(\d+)/;function GEe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?ws(" ",e[1].length+1+e[4].length):zF(o,e[1].length)+e[2]+"/"+e[3]+ac(l,e[4].length))}function KEe(e,t,r){return r+(t===0?"":""+t)+ws(" ",e[1].length+2+e[4].length)}var mse=/^#*0*\.([0#]+)/,pse=/\).*[0#]/,gse=/\(###\) ###\\?-####/;function Ii(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function S7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function k7(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function YEe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function XEe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ll(e,t,r){if(e.charCodeAt(0)===40&&!t.match(pse)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ll("n",n,r):"("+ll("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return HEe(e,t,r);if(t.indexOf("%")!==-1)return WEe(e,t,r);if(t.indexOf("E")!==-1)return fse(t,r);if(t.charCodeAt(0)===36)return"$"+ll(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Jp(c,t.length);if(t.match(/^[#?]+$/))return a=Jp(r,0),a==="0"&&(a=""),a.length>t.length?a:Ii(t.substr(0,t.length-a.length))+a;if(i=t.match(hse))return GEe(i,c,u);if(t.match(/^#+0+$/))return u+Jp(c,t.length-t.indexOf("0"));if(i=t.match(mse))return a=S7(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ii(i[1])).replace(/\.$/,"."+Ii(i[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+ws("0",Ii(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+S7(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+nf(Jp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ll(e,t,-r):nf(""+(Math.floor(r)+YEe(r,i[1].length)))+"."+ac(k7(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ll(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Wg(ll(e,t.replace(/[\\-]/g,""),r)),o=0,Wg(Wg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(gse))return a=ll(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=CN(c,Math.pow(10,o)-1,!1),a=""+u,d=Bu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=SN(l[2],o),d.length<i[4].length&&(d=Ii(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=CN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zF(l[1],o)+i[2]+"/"+i[3]+SN(l[2],o):ws(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Jp(r,0),t.length<=a.length?a:Ii(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Ii(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=k7(r,i[1].length),r<0?"-"+ll(e,t,-r):nf(XEe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ac(0,3-y.length):"")+y})+"."+ac(o,i[1].length);switch(t){case"###,##0.00":return ll(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=nf(Jp(c,0));return p!=="0"?u+p:"";case"###,###.00":return ll(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ll(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function JEe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ZEe(e,t,r){var n=t.replace(dse,""),a=t.length-n.length;return Bu(e,n,r*Math.pow(10,2*a))+ws("%",a)}function xse(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xse(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ac(e,t,r){if(e.charCodeAt(0)===40&&!t.match(pse)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ac("n",n,r):"("+Ac("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return JEe(e,t,r);if(t.indexOf("%")!==-1)return ZEe(e,t,r);if(t.indexOf("E")!==-1)return xse(t,r);if(t.charCodeAt(0)===36)return"$"+Ac(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ac(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ii(t.substr(0,t.length-a.length))+a;if(i=t.match(hse))return KEe(i,c,u);if(t.match(/^#+0+$/))return u+ac(c,t.length-t.indexOf("0"));if(i=t.match(mse))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ii(i[1])).replace(/\.$/,"."+Ii(i[1])),a=a.replace(/\.(\d*)$/,function(y,g){return"."+g+ws("0",Ii(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+nf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ac(e,t,-r):nf(""+r)+"."+ws("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ac(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Wg(Ac(e,t.replace(/[\\-]/g,""),r)),o=0,Wg(Wg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(gse))return a=Ac(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=CN(c,Math.pow(10,o)-1,!1),a=""+u,d=Bu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=SN(l[2],o),d.length<i[4].length&&(d=Ii(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=CN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zF(l[1],o)+i[2]+"/"+i[3]+SN(l[2],o):ws(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ii(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Ii(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ac(e,t,-r):nf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ac(0,3-y.length):"")+y})+"."+ac(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=nf(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Ac(e,t.slice(0,t.lastIndexOf(".")),r)+Ii(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Bu(e,t,r){return(r|0)===r?Ac(e,t,r):ll(e,t,r)}function QEe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var vse=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Qm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":kN(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(vse))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function eTe(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!kN(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";a[a.length]={t:y,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=rf(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=rf(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=rf(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(vse)){if(u==null&&(u=rf(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Qm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,_=0,w;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",v<1&&(v=1);break;case"s":(w=a[o].v.match(/\.0+$/))&&(_=Math.max(_,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",E;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=qEe(a[o].t.charCodeAt(0),a[o].v,u,_),a[o].t="t";break;case"n":case"?":for(E=o+1;a[E]!=null&&((l=a[E].t)==="?"||l==="D"||(l===" "||l==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[o].v+=a[E].v,a[E]={v:"",t:";"},++E;b+=a[o].v,o=E-1;break;case"G":a[o].t="t",a[o].v=Am(t,r);break}var S="",C,k;if(b.length>0){b.charCodeAt(0)==40?(C=t<0&&b.charCodeAt(0)===45?-t:t,k=Bu("n",b,C)):(C=t<0&&n>1?-t:t,k=Bu("n",b,C),C<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),E=k.length-1;var R=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){R=o;break}var P=a.length;if(R===a.length&&k.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(E>=a[o].v.length-1?(E-=a[o].v.length,a[o].v=k.substr(E+1,a[o].v.length)):E<0?a[o].v="":(a[o].v=k.substr(0,E+1),E=-1),a[o].t="t",P=o);E>=0&&P<a.length&&(a[P].v=k.substr(0,E+1)+a[P].v)}else if(R!==a.length&&k.indexOf("E")===-1){for(E=k.indexOf(".")-1,o=R;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)E>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=k.charAt(E--)+S);a[o].v=S,a[o].t="t",P=o}for(E>=0&&P<a.length&&(a[P].v=k.substr(0,E+1)+a[P].v),E=k.indexOf(".")+1,o=R;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==R)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)E<k.length&&(S+=k.charAt(E++));a[o].v=S,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Bu(a[o].t,a[o].v,C),a[o].t="t");var O="";for(o=0;o!==a.length;++o)a[o]!=null&&(O+=a[o].v);return O}var C7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function E7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function tTe(e,t){var r=QEe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(C7),l=r[1].match(C7);return E7(t,o)?[n,r[0]]:E7(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Xo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:sr)[e],n==null&&(n=r.table&&r.table[N7[e]]||sr[N7[e]]),n==null&&(n=FEe[e]||"General");break}if(kN(n,0))return Am(t,r);t instanceof Date&&(t=use(t,r.date1904));var a=tTe(n,t);if(kN(a[1]))return Am(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return eTe(a[1],t,r,a[0])}function Gc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(sr[r]==null){t<0&&(t=r);continue}if(sr[r]==e){t=r;break}}t<0&&(t=391)}return sr[t]=e,t}function Iw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Gc(e[t],t)}function lx(){sr=MEe()}var yse={format:Xo,load:Gc,_table:sr,load_table:Iw,parse_date_code:rf,is_date:Qm,get_table:function(){return yse._table=sr}},rTe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},bse=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nTe(e){var t=typeof e=="number"?sr[e]:e;return t=t.replace(bse,"(\\d+)"),new RegExp("^"+t+"$")}function sTe(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(bse)||[]).forEach(function(f,m){var p=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var aTe=(function(){var e={};e.version="1.2.0";function t(){for(var k=0,R=new Array(256),P=0;P!=256;++P)k=P,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,R[P]=k;return typeof Int32Array<"u"?new Int32Array(R):R}var r=t();function n(k){var R=0,P=0,O=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)A[O]=k[O];for(O=0;O!=256;++O)for(P=k[O],R=256+O;R<4096;R+=256)P=A[R]=P>>>8^k[P&255];var D=[];for(O=1;O!=16;++O)D[O-1]=typeof Int32Array<"u"?A.subarray(O*256,O*256+256):A.slice(O*256,O*256+256);return D}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],p=a[8],y=a[9],g=a[10],v=a[11],_=a[12],w=a[13],b=a[14];function E(k,R){for(var P=R^-1,O=0,A=k.length;O<A;)P=P>>>8^r[(P^k.charCodeAt(O++))&255];return~P}function S(k,R){for(var P=R^-1,O=k.length-15,A=0;A<O;)P=b[k[A++]^P&255]^w[k[A++]^P>>8&255]^_[k[A++]^P>>16&255]^v[k[A++]^P>>>24]^g[k[A++]]^y[k[A++]]^p[k[A++]]^m[k[A++]]^f[k[A++]]^d[k[A++]]^u[k[A++]]^c[k[A++]]^l[k[A++]]^o[k[A++]]^i[k[A++]]^r[k[A++]];for(O+=15;A<O;)P=P>>>8^r[(P^k[A++])&255];return~P}function C(k,R){for(var P=R^-1,O=0,A=k.length,D=0,F=0;O<A;)D=k.charCodeAt(O++),D<128?P=P>>>8^r[(P^D)&255]:D<2048?(P=P>>>8^r[(P^(192|D>>6&31))&255],P=P>>>8^r[(P^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,F=k.charCodeAt(O++)&1023,P=P>>>8^r[(P^(240|D>>8&7))&255],P=P>>>8^r[(P^(128|D>>2&63))&255],P=P>>>8^r[(P^(128|F>>6&15|(D&3)<<4))&255],P=P>>>8^r[(P^(128|F&63))&255]):(P=P>>>8^r[(P^(224|D>>12&15))&255],P=P>>>8^r[(P^(128|D>>6&63))&255],P=P>>>8^r[(P^(128|D&63))&255]);return~P}return e.table=r,e.bstr=E,e.buf=S,e.str=C,e})(),Xt=(function(){var t={};t.version="1.2.1";function r(te,xe){for(var he=te.split("/"),me=xe.split("/"),ye=0,ve=0,Fe=Math.min(he.length,me.length);ye<Fe;++ye){if(ve=he[ye].length-me[ye].length)return ve;if(he[ye]!=me[ye])return he[ye]<me[ye]?-1:1}return he.length-me.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var xe=te.lastIndexOf("/");return xe===-1?te:te.slice(0,xe+1)}function a(te){if(te.charAt(te.length-1)=="/")return a(te.slice(0,-1));var xe=te.lastIndexOf("/");return xe===-1?te:te.slice(xe+1)}function i(te,xe){typeof xe=="string"&&(xe=new Date(xe));var he=xe.getHours();he=he<<6|xe.getMinutes(),he=he<<5|xe.getSeconds()>>>1,te.write_shift(2,he);var me=xe.getFullYear()-1980;me=me<<4|xe.getMonth()+1,me=me<<5|xe.getDate(),te.write_shift(2,me)}function o(te){var xe=te.read_shift(2)&65535,he=te.read_shift(2)&65535,me=new Date,ye=he&31;he>>>=5;var ve=he&15;he>>>=4,me.setMilliseconds(0),me.setFullYear(he+1980),me.setMonth(ve-1),me.setDate(ye);var Fe=xe&31;xe>>>=5;var qe=xe&63;return xe>>>=6,me.setHours(xe),me.setMinutes(qe),me.setSeconds(Fe<<1),me}function l(te){Ha(te,0);for(var xe={},he=0;te.l<=te.length-4;){var me=te.read_shift(2),ye=te.read_shift(2),ve=te.l+ye,Fe={};switch(me){case 21589:he=te.read_shift(1),he&1&&(Fe.mtime=te.read_shift(4)),ye>5&&(he&2&&(Fe.atime=te.read_shift(4)),he&4&&(Fe.ctime=te.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}te.l=ve,xe[me]=Fe}return xe}var c;function u(){return c||(c={})}function d(te,xe){if(te[0]==80&&te[1]==75)return fr(te,xe);if((te[0]|32)==109&&(te[1]|32)==105)return It(te,xe);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var he=3,me=512,ye=0,ve=0,Fe=0,qe=0,De=0,Ue=[],Le=te.slice(0,512);Ha(Le,0);var st=f(Le);switch(he=st[0],he){case 3:me=512;break;case 4:me=4096;break;case 0:if(st[1]==0)return fr(te,xe);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}me!==512&&(Le=te.slice(0,me),Ha(Le,28));var ht=te.slice(0,me);m(Le,he);var Ct=Le.read_shift(4,"i");if(he===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);Le.l+=4,Fe=Le.read_shift(4,"i"),Le.l+=4,Le.chk("00100000","Mini Stream Cutoff Size: "),qe=Le.read_shift(4,"i"),ye=Le.read_shift(4,"i"),De=Le.read_shift(4,"i"),ve=Le.read_shift(4,"i");for(var gt=-1,it=0;it<109&&(gt=Le.read_shift(4,"i"),!(gt<0));++it)Ue[it]=gt;var Ut=p(te,me);v(De,ve,Ut,me,Ue);var Br=w(Ut,Fe,Ue,me);Br[Fe].name="!Directory",ye>0&&qe!==F&&(Br[qe].name="!MiniFAT"),Br[Ue[0]].name="!FAT",Br.fat_addrs=Ue,Br.ssz=me;var mn={},rs=[],yo=[],ca=[];b(Fe,Br,Ut,rs,ye,mn,yo,qe),y(yo,ca,rs),rs.shift();var ti={FileIndex:yo,FullPaths:ca};return xe&&xe.raw&&(ti.raw={header:ht,sectors:Ut}),ti}function f(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(B,"Header Signature: "),te.l+=16;var xe=te.read_shift(2,"u");return[te.read_shift(2,"u"),xe]}function m(te,xe){var he=9;switch(te.l+=2,he=te.read_shift(2)){case 9:if(xe!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(xe!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function p(te,xe){for(var he=Math.ceil(te.length/xe)-1,me=[],ye=1;ye<he;++ye)me[ye-1]=te.slice(ye*xe,(ye+1)*xe);return me[he-1]=te.slice(he*xe),me}function y(te,xe,he){for(var me=0,ye=0,ve=0,Fe=0,qe=0,De=he.length,Ue=[],Le=[];me<De;++me)Ue[me]=Le[me]=me,xe[me]=he[me];for(;qe<Le.length;++qe)me=Le[qe],ye=te[me].L,ve=te[me].R,Fe=te[me].C,Ue[me]===me&&(ye!==-1&&Ue[ye]!==ye&&(Ue[me]=Ue[ye]),ve!==-1&&Ue[ve]!==ve&&(Ue[me]=Ue[ve])),Fe!==-1&&(Ue[Fe]=me),ye!==-1&&me!=Ue[me]&&(Ue[ye]=Ue[me],Le.lastIndexOf(ye)<qe&&Le.push(ye)),ve!==-1&&me!=Ue[me]&&(Ue[ve]=Ue[me],Le.lastIndexOf(ve)<qe&&Le.push(ve));for(me=1;me<De;++me)Ue[me]===me&&(ve!==-1&&Ue[ve]!==ve?Ue[me]=Ue[ve]:ye!==-1&&Ue[ye]!==ye&&(Ue[me]=Ue[ye]));for(me=1;me<De;++me)if(te[me].type!==0){if(qe=me,qe!=Ue[qe])do qe=Ue[qe],xe[me]=xe[qe]+"/"+xe[me];while(qe!==0&&Ue[qe]!==-1&&qe!=Ue[qe]);Ue[me]=-1}for(xe[0]+="/",me=1;me<De;++me)te[me].type!==2&&(xe[me]+="/")}function g(te,xe,he){for(var me=te.start,ye=te.size,ve=[],Fe=me;he&&ye>0&&Fe>=0;)ve.push(xe.slice(Fe*D,Fe*D+D)),ye-=D,Fe=Oh(he,Fe*4);return ve.length===0?tt(0):Ma(ve).slice(0,te.size)}function v(te,xe,he,me,ye){var ve=F;if(te===F){if(xe!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Fe=he[te],qe=(me>>>2)-1;if(!Fe)return;for(var De=0;De<qe&&(ve=Oh(Fe,De*4))!==F;++De)ye.push(ve);v(Oh(Fe,me-4),xe-1,he,me,ye)}}function _(te,xe,he,me,ye){var ve=[],Fe=[];ye||(ye=[]);var qe=me-1,De=0,Ue=0;for(De=xe;De>=0;){ye[De]=!0,ve[ve.length]=De,Fe.push(te[De]);var Le=he[Math.floor(De*4/me)];if(Ue=De*4&qe,me<4+Ue)throw new Error("FAT boundary crossed: "+De+" 4 "+me);if(!te[Le])break;De=Oh(te[Le],Ue)}return{nodes:ve,data:B7([Fe])}}function w(te,xe,he,me){var ye=te.length,ve=[],Fe=[],qe=[],De=[],Ue=me-1,Le=0,st=0,ht=0,Ct=0;for(Le=0;Le<ye;++Le)if(qe=[],ht=Le+xe,ht>=ye&&(ht-=ye),!Fe[ht]){De=[];var gt=[];for(st=ht;st>=0;){gt[st]=!0,Fe[st]=!0,qe[qe.length]=st,De.push(te[st]);var it=he[Math.floor(st*4/me)];if(Ct=st*4&Ue,me<4+Ct)throw new Error("FAT boundary crossed: "+st+" 4 "+me);if(!te[it]||(st=Oh(te[it],Ct),gt[st]))break}ve[ht]={nodes:qe,data:B7([De])}}return ve}function b(te,xe,he,me,ye,ve,Fe,qe){for(var De=0,Ue=me.length?2:0,Le=xe[te].data,st=0,ht=0,Ct;st<Le.length;st+=128){var gt=Le.slice(st,st+128);Ha(gt,64),ht=gt.read_shift(2),Ct=B2(gt,0,ht-Ue),me.push(Ct);var it={name:Ct,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Ut=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Ut!==0&&(it.ct=E(gt,gt.l-8));var Br=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Br!==0&&(it.mt=E(gt,gt.l-8)),it.start=gt.read_shift(4,"i"),it.size=gt.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=F,it.name=""),it.type===5?(De=it.start,ye>0&&De!==F&&(xe[De].name="!StreamData")):it.size>=4096?(it.storage="fat",xe[it.start]===void 0&&(xe[it.start]=_(he,it.start,xe.fat_addrs,xe.ssz)),xe[it.start].name=it.name,it.content=xe[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:De!==F&&it.start!==F&&xe[De]&&(it.content=g(it,xe[De].data,(xe[qe]||{}).data))),it.content&&Ha(it.content,0),ve[Ct]=it,Fe.push(it)}}function E(te,xe){return new Date((Da(te,xe+4)/1e7*Math.pow(2,32)+Da(te,xe)/1e7-11644473600)*1e3)}function S(te,xe){return u(),d(c.readFileSync(te),xe)}function C(te,xe){var he=xe&&xe.type;switch(he||$r&&Buffer.isBuffer(te)&&(he="buffer"),he||"base64"){case"file":return S(te,xe);case"base64":return d(Mo(Yo(te)),xe);case"binary":return d(Mo(te),xe)}return d(te,xe)}function k(te,xe){var he=xe||{},me=he.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=me+"/",te.FileIndex[0]={name:me,type:5}),he.CLSID&&(te.FileIndex[0].clsid=he.CLSID),R(te)}function R(te){var xe="Sh33tJ5";if(!Xt.find(te,"/"+xe)){var he=tt(4);he[0]=55,he[1]=he[3]=50,he[2]=54,te.FileIndex.push({name:xe,type:2,content:he,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+xe),P(te)}}function P(te,xe){k(te);for(var he=!1,me=!1,ye=te.FullPaths.length-1;ye>=0;--ye){var ve=te.FileIndex[ye];switch(ve.type){case 0:me?he=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(ve.R*ve.L*ve.C)&&(he=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!xe)){var Fe=new Date(1987,1,19),qe=0,De=Object.create?Object.create(null):{},Ue=[];for(ye=0;ye<te.FullPaths.length;++ye)De[te.FullPaths[ye]]=!0,te.FileIndex[ye].type!==0&&Ue.push([te.FullPaths[ye],te.FileIndex[ye]]);for(ye=0;ye<Ue.length;++ye){var Le=n(Ue[ye][0]);me=De[Le],me||(Ue.push([Le,{name:a(Le).replace("/",""),type:1,clsid:q,ct:Fe,mt:Fe,content:null}]),De[Le]=!0)}for(Ue.sort(function(Ct,gt){return r(Ct[0],gt[0])}),te.FullPaths=[],te.FileIndex=[],ye=0;ye<Ue.length;++ye)te.FullPaths[ye]=Ue[ye][0],te.FileIndex[ye]=Ue[ye][1];for(ye=0;ye<Ue.length;++ye){var st=te.FileIndex[ye],ht=te.FullPaths[ye];if(st.name=a(ht).replace("/",""),st.L=st.R=st.C=-(st.color=1),st.size=st.content?st.content.length:0,st.start=0,st.clsid=st.clsid||q,ye===0)st.C=Ue.length>1?1:-1,st.size=0,st.type=5;else if(ht.slice(-1)=="/"){for(qe=ye+1;qe<Ue.length&&n(te.FullPaths[qe])!=ht;++qe);for(st.C=qe>=Ue.length?-1:qe,qe=ye+1;qe<Ue.length&&n(te.FullPaths[qe])!=n(ht);++qe);st.R=qe>=Ue.length?-1:qe,st.type=1}else n(te.FullPaths[ye+1]||"")==n(ht)&&(st.R=ye+1),st.type=2}}}function O(te,xe){var he=xe||{};if(he.fileType=="mad")return er(te,he);switch(P(te),he.fileType){case"zip":return Fr(te,he)}var me=(function(Ct){for(var gt=0,it=0,Ut=0;Ut<Ct.FileIndex.length;++Ut){var Br=Ct.FileIndex[Ut];if(Br.content){var mn=Br.content.length;mn>0&&(mn<4096?gt+=mn+63>>6:it+=mn+511>>9)}}for(var rs=Ct.FullPaths.length+3>>2,yo=gt+7>>3,ca=gt+127>>7,ti=yo+it+rs+ca,ls=ti+127>>7,Ki=ls<=109?0:Math.ceil((ls-109)/127);ti+ls+Ki+127>>7>ls;)Ki=++ls<=109?0:Math.ceil((ls-109)/127);var Os=[1,Ki,ls,ca,rs,it,gt,0];return Ct.FileIndex[0].size=gt<<6,Os[7]=(Ct.FileIndex[0].start=Os[0]+Os[1]+Os[2]+Os[3]+Os[4]+Os[5])+(Os[6]+7>>3),Os})(te),ye=tt(me[7]<<9),ve=0,Fe=0;{for(ve=0;ve<8;++ve)ye.write_shift(1,z[ve]);for(ve=0;ve<8;++ve)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),ve=0;ve<3;++ve)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,me[2]),ye.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:F),ye.write_shift(4,me[3]),ye.write_shift(-4,me[1]?me[0]-1:F),ye.write_shift(4,me[1]),ve=0;ve<109;++ve)ye.write_shift(-4,ve<me[2]?me[1]+ve:-1)}if(me[1])for(Fe=0;Fe<me[1];++Fe){for(;ve<236+Fe*127;++ve)ye.write_shift(-4,ve<me[2]?me[1]+ve:-1);ye.write_shift(-4,Fe===me[1]-1?F:Fe+1)}var qe=function(Ct){for(Fe+=Ct;ve<Fe-1;++ve)ye.write_shift(-4,ve+1);Ct&&(++ve,ye.write_shift(-4,F))};for(Fe=ve=0,Fe+=me[1];ve<Fe;++ve)ye.write_shift(-4,G.DIFSECT);for(Fe+=me[2];ve<Fe;++ve)ye.write_shift(-4,G.FATSECT);qe(me[3]),qe(me[4]);for(var De=0,Ue=0,Le=te.FileIndex[0];De<te.FileIndex.length;++De)Le=te.FileIndex[De],Le.content&&(Ue=Le.content.length,!(Ue<4096)&&(Le.start=Fe,qe(Ue+511>>9)));for(qe(me[6]+7>>3);ye.l&511;)ye.write_shift(-4,G.ENDOFCHAIN);for(Fe=ve=0,De=0;De<te.FileIndex.length;++De)Le=te.FileIndex[De],Le.content&&(Ue=Le.content.length,!(!Ue||Ue>=4096)&&(Le.start=Fe,qe(Ue+63>>6)));for(;ye.l&511;)ye.write_shift(-4,G.ENDOFCHAIN);for(ve=0;ve<me[4]<<2;++ve){var st=te.FullPaths[ve];if(!st||st.length===0){for(De=0;De<17;++De)ye.write_shift(4,0);for(De=0;De<3;++De)ye.write_shift(4,-1);for(De=0;De<12;++De)ye.write_shift(4,0);continue}Le=te.FileIndex[ve],ve===0&&(Le.start=Le.size?Le.start-1:F);var ht=ve===0&&he.root||Le.name;if(Ue=2*(ht.length+1),ye.write_shift(64,ht,"utf16le"),ye.write_shift(2,Ue),ye.write_shift(1,Le.type),ye.write_shift(1,Le.color),ye.write_shift(-4,Le.L),ye.write_shift(-4,Le.R),ye.write_shift(-4,Le.C),Le.clsid)ye.write_shift(16,Le.clsid,"hex");else for(De=0;De<4;++De)ye.write_shift(4,0);ye.write_shift(4,Le.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,Le.start),ye.write_shift(4,Le.size),ye.write_shift(4,0)}for(ve=1;ve<te.FileIndex.length;++ve)if(Le=te.FileIndex[ve],Le.size>=4096)if(ye.l=Le.start+1<<9,$r&&Buffer.isBuffer(Le.content))Le.content.copy(ye,ye.l,0,Le.size),ye.l+=Le.size+511&-512;else{for(De=0;De<Le.size;++De)ye.write_shift(1,Le.content[De]);for(;De&511;++De)ye.write_shift(1,0)}for(ve=1;ve<te.FileIndex.length;++ve)if(Le=te.FileIndex[ve],Le.size>0&&Le.size<4096)if($r&&Buffer.isBuffer(Le.content))Le.content.copy(ye,ye.l,0,Le.size),ye.l+=Le.size+63&-64;else{for(De=0;De<Le.size;++De)ye.write_shift(1,Le.content[De]);for(;De&63;++De)ye.write_shift(1,0)}if($r)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function A(te,xe){var he=te.FullPaths.map(function(De){return De.toUpperCase()}),me=he.map(function(De){var Ue=De.split("/");return Ue[Ue.length-(De.slice(-1)=="/"?2:1)]}),ye=!1;xe.charCodeAt(0)===47?(ye=!0,xe=he[0].slice(0,-1)+xe):ye=xe.indexOf("/")!==-1;var ve=xe.toUpperCase(),Fe=ye===!0?he.indexOf(ve):me.indexOf(ve);if(Fe!==-1)return te.FileIndex[Fe];var qe=!ve.match(Bv);for(ve=ve.replace(wi,""),qe&&(ve=ve.replace(Bv,"!")),Fe=0;Fe<he.length;++Fe)if((qe?he[Fe].replace(Bv,"!"):he[Fe]).replace(wi,"")==ve||(qe?me[Fe].replace(Bv,"!"):me[Fe]).replace(wi,"")==ve)return te.FileIndex[Fe];return null}var D=64,F=-2,B="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(te,xe,he){u();var me=O(te,he);c.writeFileSync(xe,me)}function M(te){for(var xe=new Array(te.length),he=0;he<te.length;++he)xe[he]=String.fromCharCode(te[he]);return xe.join("")}function H(te,xe){var he=O(te,xe);switch(xe&&xe.type||"buffer"){case"file":return u(),c.writeFileSync(xe.filename,he),he;case"binary":return typeof he=="string"?he:M(he);case"base64":return sb(typeof he=="string"?he:M(he));case"buffer":if($r)return Buffer.isBuffer(he)?he:ld(he);case"array":return typeof he=="string"?Mo(he):he}return he}var Z;function L(te){try{var xe=te.InflateRaw,he=new xe;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)Z=te;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function J(te,xe){if(!Z)return At(te,xe);var he=Z.InflateRaw,me=new he,ye=me._processChunk(te.slice(te.l),me._finishFlushFlag);return te.l+=me.bytesRead,ye}function V(te){return Z?Z.deflateRawSync(te):Ie(te)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(te){var xe=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(xe>>16|xe>>8|xe)&255}for(var W=typeof Uint8Array<"u",ae=W?new Uint8Array(256):[],oe=0;oe<256;++oe)ae[oe]=ue(oe);function K(te,xe){var he=ae[te&255];return xe<=8?he>>>8-xe:(he=he<<8|ae[te>>8&255],xe<=16?he>>>16-xe:(he=he<<8|ae[te>>16&255],he>>>24-xe))}function be(te,xe){var he=xe&7,me=xe>>>3;return(te[me]|(he<=6?0:te[me+1]<<8))>>>he&3}function pe(te,xe){var he=xe&7,me=xe>>>3;return(te[me]|(he<=5?0:te[me+1]<<8))>>>he&7}function Ee(te,xe){var he=xe&7,me=xe>>>3;return(te[me]|(he<=4?0:te[me+1]<<8))>>>he&15}function Ae(te,xe){var he=xe&7,me=xe>>>3;return(te[me]|(he<=3?0:te[me+1]<<8))>>>he&31}function fe(te,xe){var he=xe&7,me=xe>>>3;return(te[me]|(he<=1?0:te[me+1]<<8))>>>he&127}function Je(te,xe,he){var me=xe&7,ye=xe>>>3,ve=(1<<he)-1,Fe=te[ye]>>>me;return he<8-me||(Fe|=te[ye+1]<<8-me,he<16-me)||(Fe|=te[ye+2]<<16-me,he<24-me)||(Fe|=te[ye+3]<<24-me),Fe&ve}function Ye(te,xe,he){var me=xe&7,ye=xe>>>3;return me<=5?te[ye]|=(he&7)<<me:(te[ye]|=he<<me&255,te[ye+1]=(he&7)>>8-me),xe+3}function ce(te,xe,he){var me=xe&7,ye=xe>>>3;return he=(he&1)<<me,te[ye]|=he,xe+1}function we(te,xe,he){var me=xe&7,ye=xe>>>3;return he<<=me,te[ye]|=he&255,he>>>=8,te[ye+1]=he,xe+8}function Oe(te,xe,he){var me=xe&7,ye=xe>>>3;return he<<=me,te[ye]|=he&255,he>>>=8,te[ye+1]=he&255,te[ye+2]=he>>>8,xe+16}function He(te,xe){var he=te.length,me=2*he>xe?2*he:xe+5,ye=0;if(he>=xe)return te;if($r){var ve=w7(me);if(te.copy)te.copy(ve);else for(;ye<te.length;++ye)ve[ye]=te[ye];return ve}else if(W){var Fe=new Uint8Array(me);if(Fe.set)Fe.set(te);else for(;ye<he;++ye)Fe[ye]=te[ye];return Fe}return te.length=me,te}function Ge(te){for(var xe=new Array(te),he=0;he<te;++he)xe[he]=0;return xe}function Ne(te,xe,he){var me=1,ye=0,ve=0,Fe=0,qe=0,De=te.length,Ue=W?new Uint16Array(32):Ge(32);for(ve=0;ve<32;++ve)Ue[ve]=0;for(ve=De;ve<he;++ve)te[ve]=0;De=te.length;var Le=W?new Uint16Array(De):Ge(De);for(ve=0;ve<De;++ve)Ue[ye=te[ve]]++,me<ye&&(me=ye),Le[ve]=0;for(Ue[0]=0,ve=1;ve<=me;++ve)Ue[ve+16]=qe=qe+Ue[ve-1]<<1;for(ve=0;ve<De;++ve)qe=te[ve],qe!=0&&(Le[ve]=Ue[qe+16]++);var st=0;for(ve=0;ve<De;++ve)if(st=te[ve],st!=0)for(qe=K(Le[ve],me)>>me-st,Fe=(1<<me+4-st)-1;Fe>=0;--Fe)xe[qe|Fe<<st]=st&15|ve<<4;return me}var ee=W?new Uint16Array(512):Ge(512),_e=W?new Uint16Array(32):Ge(32);if(!W){for(var ge=0;ge<512;++ge)ee[ge]=0;for(ge=0;ge<32;++ge)_e[ge]=0}(function(){for(var te=[],xe=0;xe<32;xe++)te.push(5);Ne(te,_e,32);var he=[];for(xe=0;xe<=143;xe++)he.push(8);for(;xe<=255;xe++)he.push(9);for(;xe<=279;xe++)he.push(7);for(;xe<=287;xe++)he.push(8);Ne(he,ee,288)})();var Be=(function(){for(var xe=W?new Uint8Array(32768):[],he=0,me=0;he<se.length-1;++he)for(;me<se[he+1];++me)xe[me]=he;for(;me<32768;++me)xe[me]=29;var ye=W?new Uint8Array(259):[];for(he=0,me=0;he<ne.length-1;++he)for(;me<ne[he+1];++me)ye[me]=he;function ve(qe,De){for(var Ue=0;Ue<qe.length;){var Le=Math.min(65535,qe.length-Ue),st=Ue+Le==qe.length;for(De.write_shift(1,+st),De.write_shift(2,Le),De.write_shift(2,~Le&65535);Le-- >0;)De[De.l++]=qe[Ue++]}return De.l}function Fe(qe,De){for(var Ue=0,Le=0,st=W?new Uint16Array(32768):[];Le<qe.length;){var ht=Math.min(65535,qe.length-Le);if(ht<10){for(Ue=Ye(De,Ue,+(Le+ht==qe.length)),Ue&7&&(Ue+=8-(Ue&7)),De.l=Ue/8|0,De.write_shift(2,ht),De.write_shift(2,~ht&65535);ht-- >0;)De[De.l++]=qe[Le++];Ue=De.l*8;continue}Ue=Ye(De,Ue,+(Le+ht==qe.length)+2);for(var Ct=0;ht-- >0;){var gt=qe[Le];Ct=(Ct<<5^gt)&32767;var it=-1,Ut=0;if((it=st[Ct])&&(it|=Le&-32768,it>Le&&(it-=32768),it<Le))for(;qe[it+Ut]==qe[Le+Ut]&&Ut<250;)++Ut;if(Ut>2){gt=ye[Ut],gt<=22?Ue=we(De,Ue,ae[gt+1]>>1)-1:(we(De,Ue,3),Ue+=5,we(De,Ue,ae[gt-23]>>5),Ue+=3);var Br=gt<8?0:gt-4>>2;Br>0&&(Oe(De,Ue,Ut-ne[gt]),Ue+=Br),gt=xe[Le-it],Ue=we(De,Ue,ae[gt]>>3),Ue-=3;var mn=gt<4?0:gt-2>>1;mn>0&&(Oe(De,Ue,Le-it-se[gt]),Ue+=mn);for(var rs=0;rs<Ut;++rs)st[Ct]=Le&32767,Ct=(Ct<<5^qe[Le])&32767,++Le;ht-=Ut-1}else gt<=143?gt=gt+48:Ue=ce(De,Ue,1),Ue=we(De,Ue,ae[gt]),st[Ct]=Le&32767,++Le}Ue=we(De,Ue,0)-1}return De.l=(Ue+7)/8|0,De.l}return function(De,Ue){return De.length<8?ve(De,Ue):Fe(De,Ue)}})();function Ie(te){var xe=tt(50+Math.floor(te.length*1.1)),he=Be(te,xe);return xe.slice(0,he)}var de=W?new Uint16Array(32768):Ge(32768),Re=W?new Uint16Array(32768):Ge(32768),rt=W?new Uint16Array(128):Ge(128),xt=1,at=1;function St(te,xe){var he=Ae(te,xe)+257;xe+=5;var me=Ae(te,xe)+1;xe+=5;var ye=Ee(te,xe)+4;xe+=4;for(var ve=0,Fe=W?new Uint8Array(19):Ge(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],De=1,Ue=W?new Uint8Array(8):Ge(8),Le=W?new Uint8Array(8):Ge(8),st=Fe.length,ht=0;ht<ye;++ht)Fe[X[ht]]=ve=pe(te,xe),De<ve&&(De=ve),Ue[ve]++,xe+=3;var Ct=0;for(Ue[0]=0,ht=1;ht<=De;++ht)Le[ht]=Ct=Ct+Ue[ht-1]<<1;for(ht=0;ht<st;++ht)(Ct=Fe[ht])!=0&&(qe[ht]=Le[Ct]++);var gt=0;for(ht=0;ht<st;++ht)if(gt=Fe[ht],gt!=0){Ct=ae[qe[ht]]>>8-gt;for(var it=(1<<7-gt)-1;it>=0;--it)rt[Ct|it<<gt]=gt&7|ht<<3}var Ut=[];for(De=1;Ut.length<he+me;)switch(Ct=rt[fe(te,xe)],xe+=Ct&7,Ct>>>=3){case 16:for(ve=3+be(te,xe),xe+=2,Ct=Ut[Ut.length-1];ve-- >0;)Ut.push(Ct);break;case 17:for(ve=3+pe(te,xe),xe+=3;ve-- >0;)Ut.push(0);break;case 18:for(ve=11+fe(te,xe),xe+=7;ve-- >0;)Ut.push(0);break;default:Ut.push(Ct),De<Ct&&(De=Ct);break}var Br=Ut.slice(0,he),mn=Ut.slice(he);for(ht=he;ht<286;++ht)Br[ht]=0;for(ht=me;ht<30;++ht)mn[ht]=0;return xt=Ne(Br,de,286),at=Ne(mn,Re,30),xe}function Yt(te,xe){if(te[0]==3&&!(te[1]&3))return[Of(xe),2];for(var he=0,me=0,ye=w7(xe||1<<18),ve=0,Fe=ye.length>>>0,qe=0,De=0;(me&1)==0;){if(me=pe(te,he),he+=3,me>>>1)me>>1==1?(qe=9,De=5):(he=St(te,he),qe=xt,De=at);else{he&7&&(he+=8-(he&7));var Ue=te[he>>>3]|te[(he>>>3)+1]<<8;if(he+=32,Ue>0)for(!xe&&Fe<ve+Ue&&(ye=He(ye,ve+Ue),Fe=ye.length);Ue-- >0;)ye[ve++]=te[he>>>3],he+=8;continue}for(;;){!xe&&Fe<ve+32767&&(ye=He(ye,ve+32767),Fe=ye.length);var Le=Je(te,he,qe),st=me>>>1==1?ee[Le]:de[Le];if(he+=st&15,st>>>=4,(st>>>8&255)===0)ye[ve++]=st;else{if(st==256)break;st-=257;var ht=st<8?0:st-4>>2;ht>5&&(ht=0);var Ct=ve+ne[st];ht>0&&(Ct+=Je(te,he,ht),he+=ht),Le=Je(te,he,De),st=me>>>1==1?_e[Le]:Re[Le],he+=st&15,st>>>=4;var gt=st<4?0:st-2>>1,it=se[st];for(gt>0&&(it+=Je(te,he,gt),he+=gt),!xe&&Fe<Ct&&(ye=He(ye,Ct+100),Fe=ye.length);ve<Ct;)ye[ve]=ye[ve-it],++ve}}}return xe?[ye,he+7>>>3]:[ye.slice(0,ve),he+7>>>3]}function At(te,xe){var he=te.slice(te.l||0),me=Yt(he,xe);return te.l+=me[1],me[0]}function Pt(te,xe){if(te)typeof console<"u"&&console.error(xe);else throw new Error(xe)}function fr(te,xe){var he=te;Ha(he,0);var me=[],ye=[],ve={FileIndex:me,FullPaths:ye};k(ve,{root:xe.root});for(var Fe=he.length-4;(he[Fe]!=80||he[Fe+1]!=75||he[Fe+2]!=5||he[Fe+3]!=6)&&Fe>=0;)--Fe;he.l=Fe+4,he.l+=4;var qe=he.read_shift(2);he.l+=6;var De=he.read_shift(4);for(he.l=De,Fe=0;Fe<qe;++Fe){he.l+=20;var Ue=he.read_shift(4),Le=he.read_shift(4),st=he.read_shift(2),ht=he.read_shift(2),Ct=he.read_shift(2);he.l+=8;var gt=he.read_shift(4),it=l(he.slice(he.l+st,he.l+st+ht));he.l+=st+ht+Ct;var Ut=he.l;he.l=gt+4,Ar(he,Ue,Le,ve,it),he.l=Ut}return ve}function Ar(te,xe,he,me,ye){te.l+=2;var ve=te.read_shift(2),Fe=te.read_shift(2),qe=o(te);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var De=te.read_shift(4),Ue=te.read_shift(4),Le=te.read_shift(4),st=te.read_shift(2),ht=te.read_shift(2),Ct="",gt=0;gt<st;++gt)Ct+=String.fromCharCode(te[te.l++]);if(ht){var it=l(te.slice(te.l,te.l+ht));(it[21589]||{}).mt&&(qe=it[21589].mt),((ye||{})[21589]||{}).mt&&(qe=ye[21589].mt)}te.l+=ht;var Ut=te.slice(te.l,te.l+Ue);switch(Fe){case 8:Ut=J(te,Le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var Br=!1;ve&8&&(De=te.read_shift(4),De==134695760&&(De=te.read_shift(4),Br=!0),Ue=te.read_shift(4),Le=te.read_shift(4)),Ue!=xe&&Pt(Br,"Bad compressed size: "+xe+" != "+Ue),Le!=he&&Pt(Br,"Bad uncompressed size: "+he+" != "+Le),Lt(me,Ct,Ut,{unsafe:!0,mt:qe})}function Fr(te,xe){var he=xe||{},me=[],ye=[],ve=tt(1),Fe=he.compression?8:0,qe=0,De=0,Ue=0,Le=0,st=0,ht=te.FullPaths[0],Ct=ht,gt=te.FileIndex[0],it=[],Ut=0;for(De=1;De<te.FullPaths.length;++De)if(Ct=te.FullPaths[De].slice(ht.length),gt=te.FileIndex[De],!(!gt.size||!gt.content||Ct=="Sh33tJ5")){var Br=Le,mn=tt(Ct.length);for(Ue=0;Ue<Ct.length;++Ue)mn.write_shift(1,Ct.charCodeAt(Ue)&127);mn=mn.slice(0,mn.l),it[st]=aTe.buf(gt.content,0);var rs=gt.content;Fe==8&&(rs=V(rs)),ve=tt(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,qe),ve.write_shift(2,Fe),gt.mt?i(ve,gt.mt):ve.write_shift(4,0),ve.write_shift(-4,it[st]),ve.write_shift(4,rs.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,mn.length),ve.write_shift(2,0),Le+=ve.length,me.push(ve),Le+=mn.length,me.push(mn),Le+=rs.length,me.push(rs),ve=tt(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,qe),ve.write_shift(2,Fe),ve.write_shift(4,0),ve.write_shift(-4,it[st]),ve.write_shift(4,rs.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,mn.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,Br),Ut+=ve.l,ye.push(ve),Ut+=mn.length,ye.push(mn),++st}return ve=tt(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,st),ve.write_shift(2,st),ve.write_shift(4,Ut),ve.write_shift(4,Le),ve.write_shift(2,0),Ma([Ma(me),Ma(ye),ve])}var Qr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kn(te,xe){if(te.ctype)return te.ctype;var he=te.name||"",me=he.match(/\.([^\.]+)$/);return me&&Qr[me[1]]||xe&&(me=(he=xe).match(/[\.\\]([^\.\\])+$/),me&&Qr[me[1]])?Qr[me[1]]:"application/octet-stream"}function Mt(te){for(var xe=sb(te),he=[],me=0;me<xe.length;me+=76)he.push(xe.slice(me,me+76));return he.join(`\r
`)+`\r
`}function ar(te){var xe=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var Le=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+(Le.length==1?"0"+Le:Le)});xe=xe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),xe.charAt(0)==`
`&&(xe="=0D"+xe.slice(1)),xe=xe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],me=xe.split(`\r
`),ye=0;ye<me.length;++ye){var ve=me[ye];if(ve.length==0){he.push("");continue}for(var Fe=0;Fe<ve.length;){var qe=76,De=ve.slice(Fe,Fe+qe);De.charAt(qe-1)=="="?qe--:De.charAt(qe-2)=="="?qe-=2:De.charAt(qe-3)=="="&&(qe-=3),De=ve.slice(Fe,Fe+qe),Fe+=qe,Fe<ve.length&&(De+="="),he.push(De)}}return he.join(`\r
`)}function Pr(te){for(var xe=[],he=0;he<te.length;++he){for(var me=te[he];he<=te.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+te[++he];xe.push(me)}for(var ye=0;ye<xe.length;++ye)xe[ye]=xe[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return Mo(xe.join(`\r
`))}function zt(te,xe,he){for(var me="",ye="",ve="",Fe,qe=0;qe<10;++qe){var De=xe[qe];if(!De||De.match(/^\s*$/))break;var Ue=De.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":me=Ue[2].trim();break;case"content-type":ve=Ue[2].trim();break;case"content-transfer-encoding":ye=Ue[2].trim();break}}switch(++qe,ye.toLowerCase()){case"base64":Fe=Mo(Yo(xe.slice(qe).join("")));break;case"quoted-printable":Fe=Pr(xe.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var Le=Lt(te,me.slice(he.length),Fe,{unsafe:!0});ve&&(Le.ctype=ve)}function It(te,xe){if(M(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=xe&&xe.root||"",me=($r&&Buffer.isBuffer(te)?te.toString("binary"):M(te)).split(`\r
`),ye=0,ve="";for(ye=0;ye<me.length;++ye)if(ve=me[ye],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),he||(he=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),ve.slice(0,he.length)!=he););var Fe=(me[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var qe="--"+(Fe[1]||""),De=[],Ue=[],Le={FileIndex:De,FullPaths:Ue};k(Le);var st,ht=0;for(ye=0;ye<me.length;++ye){var Ct=me[ye];Ct!==qe&&Ct!==qe+"--"||(ht++&&zt(Le,me.slice(st,ye),he),st=ye)}return Le}function er(te,xe){var he=xe||{},me=he.boundary||"SheetJS";me="------="+me;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],ve=te.FullPaths[0],Fe=ve,qe=te.FileIndex[0],De=1;De<te.FullPaths.length;++De)if(Fe=te.FullPaths[De].slice(ve.length),qe=te.FileIndex[De],!(!qe.size||!qe.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var Ue=qe.content,Le=$r&&Buffer.isBuffer(Ue)?Ue.toString("binary"):M(Ue),st=0,ht=Math.min(1024,Le.length),Ct=0,gt=0;gt<=ht;++gt)(Ct=Le.charCodeAt(gt))>=32&&Ct<128&&++st;var it=st>=ht*4/5;ye.push(me),ye.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Fe),ye.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),ye.push("Content-Type: "+kn(qe,Fe)),ye.push(""),ye.push(it?ar(Le):Mt(Le))}return ye.push(me+`--\r
`),ye.join(`\r
`)}function vt(te){var xe={};return k(xe,te),xe}function Lt(te,xe,he,me){var ye=me&&me.unsafe;ye||k(te);var ve=!ye&&Xt.find(te,xe);if(!ve){var Fe=te.FullPaths[0];xe.slice(0,Fe.length)==Fe?Fe=xe:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+xe).replace("//","/")),ve={name:a(xe),type:2},te.FileIndex.push(ve),te.FullPaths.push(Fe),ye||Xt.utils.cfb_gc(te)}return ve.content=he,ve.size=he?he.length:0,me&&(me.CLSID&&(ve.clsid=me.CLSID),me.mt&&(ve.mt=me.mt),me.ct&&(ve.ct=me.ct)),ve}function Ft(te,xe){k(te);var he=Xt.find(te,xe);if(he){for(var me=0;me<te.FileIndex.length;++me)if(te.FileIndex[me]==he)return te.FileIndex.splice(me,1),te.FullPaths.splice(me,1),!0}return!1}function Qt(te,xe,he){k(te);var me=Xt.find(te,xe);if(me){for(var ye=0;ye<te.FileIndex.length;++ye)if(te.FileIndex[ye]==me)return te.FileIndex[ye].name=a(he),te.FullPaths[ye]=he,!0}return!1}function Kn(te){P(te,!0)}return t.find=A,t.read=C,t.parse=d,t.write=H,t.writeFile=Y,t.utils={cfb_new:vt,cfb_add:Lt,cfb_del:Ft,cfb_mov:Qt,cfb_gc:Kn,ReadShift:hy,CheckField:Lse,prep_blob:Ha,bconcat:Ma,use_zlib:L,_deflateRaw:Ie,_inflateRaw:At,consts:G},t})();let sf;function iTe(e){sf=e}function oTe(e){return typeof e=="string"?Dw(e):Array.isArray(e)?OEe(e):e}function Mw(e,t,r){if(typeof sf<"u"&&sf.writeFileSync)return r?sf.writeFileSync(e,t,r):sf.writeFileSync(e,t);if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Dw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Uc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([oTe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Wf(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function lTe(e){if(typeof sf<"u")return sf.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function As(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function T7(e,t){for(var r=[],n=As(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function F2(e){for(var t=[],r=As(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function L2(e){for(var t=[],r=As(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function cTe(e){for(var t=[],r=As(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var EN=new Date(1899,11,30,0,0,0);function ja(e,t){var r=e.getTime(),n=EN.getTime()+(e.getTimezoneOffset()-EN.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var wse=new Date,uTe=EN.getTime()+(wse.getTimezoneOffset()-EN.getTimezoneOffset())*6e4,A7=wse.getTimezoneOffset();function $2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+uTe),t.getTimezoneOffset()!==A7&&t.setTime(t.getTime()+(t.getTimezoneOffset()-A7)*6e4),t}function dTe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var P7=new Date("2017-02-19T19:06:09.000Z"),_se=isNaN(P7.getFullYear())?new Date("2/19/17"):P7,fTe=_se.getFullYear()==2017;function ts(e,t){var r=new Date(e);if(fTe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(_se.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Pm(e,t){if($r&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Uc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Uc(lse(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Uc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Uc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function $n(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=$n(e[r]));return t}function ws(e,t){for(var r="";r.length<t;)r+=e;return r}function cc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var hTe=["january","february","march","april","may","june","july","august","september","october","november","december"];function x0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&hTe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var mTe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function jse(e){return e?e.content&&e.type?Pm(e.content,!0):e.data?xg(e.data):e.asNodeBuffer&&$r?xg(e.asNodeBuffer().toString("binary")):e.asBinary?xg(e.asBinary()):e._data&&e._data.getContent?xg(Pm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Nse(e){if(!e)return null;if(e.data)return NN(e.data);if(e.asNodeBuffer&&$r)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?NN(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function pTe(e){return e&&e.name.slice(-4)===".bin"?Nse(e):jse(e)}function ml(e,t){for(var r=e.FullPaths||As(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function WF(e,t){var r=ml(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Gs(e,t,r){if(!r)return pTe(WF(e,t));if(!t)return null;try{return Gs(e,t)}catch{return null}}function Fo(e,t,r){if(!r)return jse(WF(e,t));if(!t)return null;try{return Fo(e,t)}catch{return null}}function gTe(e,t,r){return Nse(WF(e,t))}function O7(e){for(var t=e.FullPaths||As(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Rr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return $r?n=ld(r):n=REe(r),Xt.utils.cfb_add(e,t,n)}Xt.utils.cfb_add(e,t,r)}else e.file(t,r)}function HF(){return Xt.utils.cfb_new()}function Sse(e,t){switch(t.type){case"base64":return Xt.read(e,{type:"base64"});case"binary":return Xt.read(e,{type:"binary"});case"buffer":case"array":return Xt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Uv(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var zs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,xTe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,R7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,vTe=/<[^>]*>/g,Si=zs.match(R7)?R7:vTe,yTe=/<\w*:/,bTe=/<(\/?)\w+:/;function mr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(xTe),l=0,c="",u=0,d="",f="",m=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(m=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+m,f.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function lu(e){return e.replace(bTe,"<$1")}var kse={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},GF=F2(kse),nn=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return kse[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),KF=/[&<>'"]/g,wTe=/[\u0000-\u0008\u000b-\u001f]/g;function Sn(e){var t=e+"";return t.replace(KF,function(r){return GF[r]}).replace(wTe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function D7(e){return Sn(e).replace(/ /g,"_x0020_")}var Cse=/[\u0000-\u001f]/g;function YF(e){var t=e+"";return t.replace(KF,function(r){return GF[r]}).replace(/\n/g,"<br/>").replace(Cse,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _Te(e){var t=e+"";return t.replace(KF,function(r){return GF[r]}).replace(Cse,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var I7=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function jTe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Qn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function kT(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function M7(e){var t=Of(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function F7(e){return ld(e,"binary").toString("utf8")}var L_="foo bar baz",On=$r&&(F7(L_)==kT(L_)&&F7||M7(L_)==kT(L_)&&M7)||kT,Uc=$r?function(e){return ld(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ib=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),Ese=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),NTe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),STe=/<\/?(?:vt:)?variant>/g,kTe=/<(?:vt:)([^>]*)>([\s\S]*)</;function L7(e,t){var r=mr(e),n=e.match(NTe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(STe,"").match(kTe);o&&a.push({v:On(o[2]),t:o[1]})}),a}var Tse=/(^\s|\s$|\n)/;function Xa(e,t){return"<"+e+(t.match(Tse)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ob(e){return As(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function _t(e,t,r){return"<"+e+(r!=null?ob(r):"")+(t!=null?(t.match(Tse)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function zD(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function CTe(e,t){switch(typeof e){case"string":var r=_t("vt:lpwstr",Sn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return _t((e|0)==e?"vt:i4":"vt:r8",Sn(String(e)));case"boolean":return _t("vt:bool",e?"true":"false")}if(e instanceof Date)return _t("vt:filetime",zD(e));throw new Error("Unable to serialize "+e)}function XF(e){if($r&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return On(Wf(VF(e)));throw new Error("Bad input format: expected Buffer or string")}var lb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ba={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ep=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ro={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ETe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function TTe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var $7=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},B7=$r?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ld(t)})):$7(e)}:$7,U7=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ru(e,a)));return n.join("").replace(wi,"")},B2=$r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(wi,""):U7(e,t,r)}:U7,V7=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Ase=$r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):V7(e,t,r)}:V7,z7=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(ug(e,a)));return n.join("")},cx=$r?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):z7(t,r,n)}:z7,Pse=function(e,t){var r=Da(e,t);return r>0?cx(e,t+4,t+4+r-1):""},JF=Pse,Ose=function(e,t){var r=Da(e,t);return r>0?cx(e,t+4,t+4+r-1):""},ZF=Ose,Rse=function(e,t){var r=2*Da(e,t);return r>0?cx(e,t+4,t+4+r-1):""},QF=Rse,Dse=function(t,r){var n=Da(t,r);return n>0?B2(t,r+4,r+4+n):""},e5=Dse,Ise=function(e,t){var r=Da(e,t);return r>0?cx(e,t+4,t+4+r):""},t5=Ise,Mse=function(e,t){return ETe(e,t)},TN=Mse,r5=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};$r&&(JF=function(t,r){if(!Buffer.isBuffer(t))return Pse(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ZF=function(t,r){if(!Buffer.isBuffer(t))return Ose(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},QF=function(t,r){if(!Buffer.isBuffer(t))return Rse(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},e5=function(t,r){if(!Buffer.isBuffer(t))return Dse(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},t5=function(t,r){if(!Buffer.isBuffer(t))return Ise(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},TN=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Mse(t,r)},r5=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function Fse(){B2=function(e,t,r){return Jr.utils.decode(1200,e.slice(t,r)).replace(wi,"")},cx=function(e,t,r){return Jr.utils.decode(65001,e.slice(t,r))},JF=function(e,t){var r=Da(e,t);return r>0?Jr.utils.decode(Tm,e.slice(t+4,t+4+r-1)):""},ZF=function(e,t){var r=Da(e,t);return r>0?Jr.utils.decode(zo,e.slice(t+4,t+4+r-1)):""},QF=function(e,t){var r=2*Da(e,t);return r>0?Jr.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},e5=function(e,t){var r=Da(e,t);return r>0?Jr.utils.decode(1200,e.slice(t+4,t+4+r)):""},t5=function(e,t){var r=Da(e,t);return r>0?Jr.utils.decode(65001,e.slice(t+4,t+4+r)):""}}typeof Jr<"u"&&Fse();var ug=function(e,t){return e[t]},Ru=function(e,t){return e[t+1]*256+e[t]},ATe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Da=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Oh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},PTe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function hy(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,$r&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Ru(this,u)),u+=2;e*=2;break;case"utf8":r=cx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=B2(this,this.l,this.l+e);break;case"wstr":if(typeof Jr<"u")r=Jr.utils.decode(zo,this.slice(this.l,this.l+2*e));else return hy.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=JF(this,this.l),e=4+Da(this,this.l);break;case"lpstr-cp":r=ZF(this,this.l),e=4+Da(this,this.l);break;case"lpwstr":r=QF(this,this.l),e=4+2*Da(this,this.l);break;case"lpp4":e=4+Da(this,this.l),r=e5(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Da(this,this.l),r=t5(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=ug(this,this.l+e++))!==0;)i.push($v(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Ru(this,this.l+e))!==0;)i.push($v(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ug(this,u),this.l=u+1,l=hy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($v(Ru(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":if(typeof Jr<"u"){r=Jr.utils.decode(zo,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ug(this,u),this.l=u+1,l=hy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($v(ug(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=ug(this,this.l),this.l++,n;case 2:return n=(t==="i"?ATe:Ru)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Oh:PTe)(this,this.l),this.l+=4,n):(a=Da(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=TN(this,this.l):a=TN([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Ase(this,this.l,e);break}}return this.l+=e,r}var OTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},RTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},DTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ITe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)DTe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){if(typeof Jr<"u"&&Tm==874)for(a=0;a!=t.length;++a){var i=Jr.utils.encode(Tm,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,OTe(this,t,this.l);break;case 8:if(n=8,r==="f"){TTe(this,t,this.l);break}case 16:break;case-4:n=4,RTe(this,t,this.l);break}return this.l+=n,this}function Lse(e,t){var r=Ase(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ha(e,t){e.l=t,e.read_shift=hy,e.chk=Lse,e.write_shift=ITe}function Ni(e,t){e.l+=t}function tt(e){var t=Of(e);return Ha(t,0),t}function cd(e,t,r){if(e){var n,a,i;Ha(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=mb[l]||mb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function go(){var e=[],t=$r?256:2048,r=function(u){var d=tt(u);return Ha(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Ma(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function lt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=mb[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&r5(r)&&e.push(r)}}function my(e,t,r){var n=$n(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function q7(e,t,r){var n=$n(e);return n.s=my(n.s,t.s,r),n.e=my(n.e,t.s,r),n}function py(e,t){if(e.cRel&&e.c<0)for(e=$n(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=$n(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=dr(e);return!e.cRel&&e.cRel!=null&&(r=LTe(r)),!e.rRel&&e.rRel!=null&&(r=MTe(r)),r}function CT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+es(e.s.c)+":"+(e.e.cRel?"":"$")+es(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Cs(e.s.r)+":"+(e.e.rRel?"":"$")+Cs(e.e.r):py(e.s,t.biff)+":"+py(e.e,t.biff)}function n5(e){return parseInt(FTe(e),10)-1}function Cs(e){return""+(e+1)}function MTe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function FTe(e){return e.replace(/\$(\d+)$/,"$1")}function s5(e){for(var t=$Te(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function es(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function LTe(e){return e.replace(/^([A-Z])/,"$$$1")}function $Te(e){return e.replace(/^\$([A-Z])/,"$1")}function BTe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function dr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Hi(e){var t=e.indexOf(":");return t==-1?{s:xs(e),e:xs(e)}:{s:xs(e.slice(0,t)),e:xs(e.slice(t+1))}}function Tr(e,t){return typeof t>"u"||typeof t=="number"?Tr(e.s,e.e):(typeof e!="string"&&(e=dr(e)),typeof t!="string"&&(t=dr(t)),e==t?e:e+":"+t)}function Yr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function W7(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Xo(e.z,r?ja(t):t)}catch{}try{return e.w=Xo((e.XF||{}).numFmtId||(r?14:0),r?ja(t):t)}catch{return""+t}}function tu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ud[e.v]||e.v:t==null?W7(e,e.v):W7(e,t))}function Hf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function $se(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?xs(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Yr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var p={v:t[f][m]},y=o+f,g=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))p=t[f][m];else if(Array.isArray(p.v)&&(p.f=t[f][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||sr[14],n.cellDates?(p.t="d",p.w=Xo(p.z,ja(p.v))):(p.t="n",p.v=ja(p.v),p.w=Xo(p.z,p.v))):p.t="s";if(a)i[y]||(i[y]=[]),i[y][g]&&i[y][g].z&&(p.z=i[y][g].z),i[y][g]=p;else{var v=dr({c:g,r:y});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return u.s.c<1e7&&(i["!ref"]=Tr(u)),i}function ux(e,t){return $se(null,e,t)}function UTe(e){return e.read_shift(4,"i")}function uc(e,t){return t||(t=tt(4)),t.write_shift(4,e),t}function _i(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Fa(e,t){var r=!1;return t==null&&(r=!0,t=tt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function VTe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function zTe(e,t){return t||(t=tt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function a5(e,t){var r=e.l,n=e.read_shift(1),a=_i(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(VTe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function qTe(e,t){var r=!1;return t==null&&(r=!0,t=tt(15+4*e.t.length)),t.write_shift(1,0),Fa(e.t,t),r?t.slice(0,t.l):t}var WTe=a5;function HTe(e,t){var r=!1;return t==null&&(r=!0,t=tt(23+4*e.t.length)),t.write_shift(1,1),Fa(e.t,t),t.write_shift(4,1),zTe({},t),r?t.slice(0,t.l):t}function Il(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function tp(e,t){return t==null&&(t=tt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function rp(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function np(e,t){return t==null&&(t=tt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var GTe=_i,Bse=Fa;function i5(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function AN(e,t){var r=!1;return t==null&&(r=!0,t=tt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var KTe=_i,qD=i5,o5=AN;function l5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?TN([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Oh(t,0)>>2;return r?a/100:a}function Use(e,t){t==null&&(t=tt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Vse(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function YTe(e,t){return t||(t=tt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var sp=Vse,dx=YTe;function xi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Om(e,t){return(t||tt(8)).write_shift(8,e,"f")}function XTe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=tm[a];u&&(t.rgb=ub(u));break;case 2:t.rgb=ub([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function PN(e,t){if(t||(t=tt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function JTe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ZTe(e,t){t||(t=tt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function zse(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function QTe(e){return zse(e,1)}function eAe(e){return zse(e,2)}var c5=2,ao=3,$_=11,H7=12,ON=19,B_=64,tAe=65,rAe=71,nAe=4108,sAe=4126,Pa=80,qse=81,aAe=[Pa,qse],WD={1:{n:"CodePage",t:c5},2:{n:"Category",t:Pa},3:{n:"PresentationFormat",t:Pa},4:{n:"ByteCount",t:ao},5:{n:"LineCount",t:ao},6:{n:"ParagraphCount",t:ao},7:{n:"SlideCount",t:ao},8:{n:"NoteCount",t:ao},9:{n:"HiddenCount",t:ao},10:{n:"MultimediaClipCount",t:ao},11:{n:"ScaleCrop",t:$_},12:{n:"HeadingPairs",t:nAe},13:{n:"TitlesOfParts",t:sAe},14:{n:"Manager",t:Pa},15:{n:"Company",t:Pa},16:{n:"LinksUpToDate",t:$_},17:{n:"CharacterCount",t:ao},19:{n:"SharedDoc",t:$_},22:{n:"HyperlinksChanged",t:$_},23:{n:"AppVersion",t:ao,p:"version"},24:{n:"DigSig",t:tAe},26:{n:"ContentType",t:Pa},27:{n:"ContentStatus",t:Pa},28:{n:"Language",t:Pa},29:{n:"Version",t:Pa},255:{},2147483648:{n:"Locale",t:ON},2147483651:{n:"Behavior",t:ON},1919054434:{}},HD={1:{n:"CodePage",t:c5},2:{n:"Title",t:Pa},3:{n:"Subject",t:Pa},4:{n:"Author",t:Pa},5:{n:"Keywords",t:Pa},6:{n:"Comments",t:Pa},7:{n:"Template",t:Pa},8:{n:"LastAuthor",t:Pa},9:{n:"RevNumber",t:Pa},10:{n:"EditTime",t:B_},11:{n:"LastPrinted",t:B_},12:{n:"CreatedDate",t:B_},13:{n:"ModifiedDate",t:B_},14:{n:"PageCount",t:ao},15:{n:"WordCount",t:ao},16:{n:"CharCount",t:ao},17:{n:"Thumbnail",t:rAe},18:{n:"Application",t:Pa},19:{n:"DocSecurity",t:ao},255:{},2147483648:{n:"Locale",t:ON},2147483651:{n:"Behavior",t:ON},1919054434:{}},G7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},iAe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function oAe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var lAe=oAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tm=$n(lAe),ud={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Wse={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},GD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},U_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function u5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cAe(e){var t=u5();if(!e||!e.match)return t;var r={};if((e.match(Si)||[]).forEach(function(n){var a=mr(n);switch(a[0].replace(yTe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[GD[a.ContentType]]!==void 0&&t[GD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ba.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Hse(e,t){var r=cTe(GD),n=[],a;n[n.length]=zs,n[n.length]=_t("Types",null,{xmlns:ba.CT,"xmlns:xsd":ba.xsd,"xmlns:xsi":ba.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return _t("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=_t("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:U_[c][t.bookType]||U_[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=_t("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:U_[c][t.bookType]||U_[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=_t("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var qr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function cb(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function gy(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Si)||[]).forEach(function(a){var i=mr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Uv(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function Hg(e){var t=[zs,_t("Relationships",null,{xmlns:ba.RELS})];return As(e["!id"]).forEach(function(r){t[t.length]=_t("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function _n(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[qr.HLINK,qr.XPATH,qr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var uAe="application/vnd.oasis.opendocument.spreadsheet";function dAe(e,t){for(var r=XF(e),n,a;n=lb.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=mr(n[0],!1),a.path=="/"&&a.type!==uAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function fAe(e){var t=[zs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function K7(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function hAe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function mAe(e){var t=[zs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(K7(e[r][0],e[r][1])),t.push(hAe("",e[r][0]));return t.push(K7("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Gse(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+nb.version+"</meta:generator></office:meta></office:document-meta>"}var Al=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],pAe=(function(){for(var e=new Array(Al.length),t=0;t<Al.length;++t){var r=Al[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function Kse(e){var t={};e=On(e);for(var r=0;r<Al.length;++r){var n=Al[r],a=e.match(pAe[r]);a!=null&&a.length>0&&(t[n[1]]=nn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ts(t[n[1]]))}return t}function ET(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Sn(t),n[n.length]=r?_t(e,t,r):Xa(e,t))}function Yse(e,t){var r=t||{},n=[zs,_t("cp:coreProperties",null,{"xmlns:cp":ba.CORE_PROPS,"xmlns:dc":ba.dc,"xmlns:dcterms":ba.dcterms,"xmlns:dcmitype":ba.dcmitype,"xmlns:xsi":ba.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&ET("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:zD(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&ET("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:zD(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Al.length;++i){var o=Al[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&ET(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Xse=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Jse(e,t,r,n){var a=[];if(typeof e=="string")a=L7(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?L7(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function gAe(e,t,r){var n={};return t||(t={}),e=On(e),rm.forEach(function(a){var i=(e.match(ib(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=nn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Jse(n.HeadingPairs,n.TitlesOfParts,t,r),t}function Zse(e){var t=[],r=_t;return e||(e={}),e.Application="SheetJS",t[t.length]=zs,t[t.length]=_t("Properties",null,{xmlns:ba.EXT_PROPS,"xmlns:vt":ba.vt}),rm.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Sn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Sn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var xAe=/<[^>]+>[^<]*/g;function vAe(e,t){var r={},n="",a=e.match(xAe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=mr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=nn(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=nn(d);break;case"bool":r[n]=Qn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ts(d);break;case"cy":case"error":r[n]=nn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function Qse(e){var t=[zs,_t("Properties",null,{xmlns:ba.CUST_PROPS,"xmlns:vt":ba.vt})];if(!e)return t.join("");var r=1;return As(e).forEach(function(a){++r,t[t.length]=_t("property",CTe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Sn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var KD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},TT;function yAe(e,t,r){TT||(TT=F2(KD)),t=TT[t]||t,e[t]=r}function bAe(e,t){var r=[];return As(KD).map(function(n){for(var a=0;a<Al.length;++a)if(Al[a][1]==n)return Al[a];for(a=0;a<rm.length;++a)if(rm[a][1]==n)return rm[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Xa(KD[n[1]]||n[1],a))}}),_t("DocumentProperties",r.join(""),{xmlns:Ro.o})}function wAe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&As(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Al.length;++o)if(i==Al[o][1])return;for(o=0;o<rm.length;++o)if(i==rm[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(_t(D7(i),l,{"dt:dt":c}))}}),t&&As(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(_t(D7(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ro.o+'">'+a.join("")+"</"+n+">"}function d5(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function _Ae(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=tt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function eae(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function tae(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function rae(e,t,r){return t===31?tae(e):eae(e,t,r)}function YD(e,t,r){return rae(e,t,r===!1?0:4)}function jAe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return rae(e,t,0)}function NAe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(wi,""),e.l-a&2&&(e.l+=2)}return r}function SAe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(wi,"");return r}function kAe(e){var t=e.l,r=RN(e,qse);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=RN(e,ao);return[r,n]}function CAe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(kAe(e));return r}function Y7(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(wi,"").replace(Bv,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function nae(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function EAe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function RN(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==H7&&n!==t&&aAe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===H7?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return eae(e,n,4).replace(wi,"");case 31:return tae(e);case 64:return d5(e);case 65:return nae(e);case 71:return EAe(e);case 80:return YD(e,n,!i.raw).replace(wi,"");case 81:return jAe(e,n).replace(wi,"");case 4108:return CAe(e);case 4126:case 4127:return n==4127?NAe(e):SAe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function X7(e,t){var r=tt(4),n=tt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=tt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=_Ae(t);break;case 31:case 80:for(n=tt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ma([r,n])}function J7(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(w,b){return w[1]-b[1]});var m={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[i[o][0]];if(m[y.n]=RN(e,y.t,{raw:!0}),y.p==="version"&&(m[y.n]=String(m[y.n]>>16)+"."+("0000"+String(m[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(m[y.n]){case 0:m[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Nl(l=m[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[y.n])}}else if(i[o][0]===1){if(l=m.CodePage=RN(e,c5),Nl(l),c!==-1){var g=e.l;e.l=i[c][1],u=Y7(e,l),e.l=g}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=Y7(e,l)}else{var v=u[i[o][0]],_;switch(e[e.l]){case 65:e.l+=4,_=nae(e);break;case 30:e.l+=4,_=YD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=YD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=Ds(e,4);break;case 64:e.l+=4,_=ts(d5(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[v]=_}}return e.l=r+n,m}var sae=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function TAe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Z7(e,t,r){var n=tt(8),a=[],i=[],o=8,l=0,c=tt(8),u=tt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=tt(8),u.write_shift(4,0),a.unshift(u);var d=[tt(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=tt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Ma(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(sae.indexOf(e[l][0])>-1||Xse.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=X7(y.t,m)}else{var v=TAe(m);v==-1&&(v=31,m=String(m)),c=X7(v,m)}i.push(c),u=tt(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var _=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,_),_+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Ma([n].concat(a).concat(i))}function Q7(e,t,r){var n=e.content;if(!n)return{};Ha(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Xt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=J7(n,t),m={SystemIdentifier:u};for(var p in f)m[p]=f[p];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=J7(n,null)}catch{}for(p in y)m[p]=y[p];return m.FMTID=[i,o],m}function eV(e,t,r,n,a,i){var o=tt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Xt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=Z7(e,r,n);if(l.push(c),a){var u=Z7(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Ma(l)}function Fd(e,t){return e.read_shift(t),null}function AAe(e,t){t||(t=tt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function PAe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ds(e,t){return e.read_shift(t)===1}function Mi(e,t){return t||(t=tt(2)),t.write_shift(2,+!!e),t}function Ks(e){return e.read_shift(2,"u")}function pl(e,t){return t||(t=tt(2)),t.write_shift(2,e),t}function aae(e,t){return PAe(e,t,Ks)}function OAe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function iae(e,t,r){return r||(r=tt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Fw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=zo;if(r&&r.biff>=8&&(zo=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return zo=i,l}function RAe(e){var t=zo;zo=1200;var r=e.read_shift(2),n=e.read_shift(1),a=n&4,i=n&8,o=1+(n&1),l=0,c,u={};i&&(l=e.read_shift(2)),a&&(c=e.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return i&&(e.l+=4*l),a&&(e.l+=c),u.t=f,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),zo=t,u}function DAe(e){var t=e.t||"",r=tt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=tt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ma(a)}function Rm(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Lw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Rm(e,n,r)}function ap(e,t,r){if(r.biff>5)return Lw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function oae(e,t,r){return r||(r=tt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function IAe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function MAe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(wi,"");return n&&(e.l+=24),a}function FAe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(wi,"");return r+o}function LAe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return MAe(e);case"0303000000000000c000000000000046":return FAe(e);default:throw new Error("Unsupported Moniker "+r)}}function V_(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(wi,""):"";return r}function tV(e,t){t||(t=tt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function $Ae(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=V_(e,r-e.l)),a&128&&(o=V_(e,r-e.l)),(a&257)===257&&(l=V_(e,r-e.l)),(a&257)===1&&(c=LAe(e,r-e.l)),a&8&&(u=V_(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=d5(e)),e.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function BAe(e){var t=tt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),tV(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&tV(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function lae(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function cae(e,t){var r=lae(e);return r[3]=0,r}function cu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Dm(e,t,r,n){return n||(n=tt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function UAe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function VAe(e,t,r){return t===0?"":ap(e,t,r)}function zAe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function uae(e){var t=e.read_shift(2),r=l5(e);return[t,r]}function qAe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Fw(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function U2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function dae(e,t){return t||(t=tt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function fae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var WAe=fae;function hae(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function HAe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function GAe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ii(e){e.l+=2,e.l+=e.read_shift(2)}var KAe={0:ii,4:ii,5:ii,6:ii,7:GAe,8:ii,9:ii,10:ii,11:ii,12:ii,13:HAe,14:ii,15:ii,16:ii,17:ii,18:ii,19:ii,20:ii,21:hae};function YAe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(KAe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function z_(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function f5(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=tt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function XAe(e,t){return t===0||e.read_shift(2),1200}function JAe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=ap(e,0,r);return e.read_shift(t+n-e.l),a}function ZAe(e,t){var r=!t||t.biff==8,n=tt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function QAe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function ePe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Fw(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function tPe(e,t){var r=!t||t.biff>=8?2:1,n=tt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function rPe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(RAe(e));return i.Count=n,i.Unique=a,i}function nPe(e,t){var r=tt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=DAe(e[a]);var i=Ma([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function sPe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function aPe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function iPe(e){var t=UAe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function oPe(e){return e.read_shift(2),e.read_shift(4)}function rV(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function lPe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function cPe(){var e=tt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function uPe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function dPe(e){var t=tt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function fPe(){}function hPe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Fw(e,0,r),n}function mPe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=tt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function pPe(e){var t=cu(e);return t.isst=e.read_shift(4),t}function gPe(e,t,r,n){var a=tt(10);return Dm(e,t,n,a),a.write_shift(4,r),a}function xPe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=cu(e);r.biff==2&&e.l++;var i=Lw(e,n-e.l,r);return a.val=i,a}function vPe(e,t,r,n,a){var i=!a||a.biff==8,o=tt(8+ +i+(1+i)*r.length);return Dm(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function yPe(e,t,r){var n=e.read_shift(2),a=ap(e,0,r);return[n,a]}function bPe(e,t,r,n){var a=r&&r.biff==5;n||(n=tt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var wPe=ap;function nV(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function _Pe(e,t){var r=t.biff==8||!t.biff?4:2,n=tt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function jPe(e){var t=e.read_shift(2),r=e.read_shift(2),n=uae(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function NPe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(uae(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function SPe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function kPe(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=iAe[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function CPe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=kPe(e,t,n.fStyle,r),n}function sV(e,t,r,n){var a=r&&r.biff==5;n||(n=tt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function EPe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function TPe(e){var t=tt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function aV(e,t,r){var n=cu(e);(r.biff==2||t==9)&&++e.l;var a=OAe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function APe(e,t,r,n,a,i){var o=tt(8);return Dm(e,t,n,o),iae(r,i,o),o}function PPe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=cu(e),a=xi(e);return n.val=a,n}function OPe(e,t,r,n){var a=tt(14);return Dm(e,t,n,a),Om(r,a),a}var iV=VAe;function RPe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Rm(e,i),l=[];n>e.l;)l.push(Lw(e));return[i,a,o,l]}function oV(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=qAe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var DPe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function lV(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Rm(e,o,r);a&32&&(u=DPe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:YDe(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function mae(e,t,r){if(r.biff<8)return IPe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(zAe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function IPe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Fw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function MPe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Rm(e,n,r),o=Rm(e,a,r);return[i,o]}function FPe(e,t,r){var n=fae(e);e.l++;var a=e.read_shift(1);return t-=8,[XDe(e,t,r),a,n]}function cV(e,t,r){var n=WAe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,GDe(e,t,r)]}function LPe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function $Pe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=ap(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function BPe(e,t,r){return $Pe(e,t,r)}function UPe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(U2(e));return r}function VPe(e){var t=tt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)dae(e[r],t);return t}function zPe(e,t,r){if(r&&r.biff<8)return WPe(e,t,r);var n=hae(e),a=YAe(e,t-22,n[1]);return{cmo:n,ft:a}}var qPe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function WPe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((qPe[n]||Ni)(e,t,r)),{cmo:[a,n,i],ft:o}}function HPe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=IAe(e,6,r);var l=e.read_shift(2);e.read_shift(2),Ks(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Rm(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function GPe(e,t){var r=U2(e);e.l+=16;var n=$Ae(e,t-24);return[r,n]}function KPe(e){var t=tt(24),r=xs(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ma([t,BAe(e[1])])}function YPe(e,t){e.read_shift(2);var r=U2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(wi,""),[r,n]}function XPe(e){var t=e[1].Tooltip,r=tt(10+2*(t.length+1));r.write_shift(2,2048);var n=xs(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function JPe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=G7[r]||r,r=e.read_shift(2),t[1]=G7[r]||r,t}function ZPe(e){return e||(e=tt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function QPe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cae(e));return r}function e4e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cae(e));return r}function t4e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function pae(e,t,r){if(!r.cellStyles)return Ni(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function r4e(e,t){var r=tt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function n4e(e,t){var r={};return t<32||(e.l+=16,r.header=xi(e),r.footer=xi(e),e.l+=2),r}function s4e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function a4e(e){for(var t=tt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var i4e=cu,o4e=aae,l4e=Lw;function c4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function u4e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=cu(e);++e.l;var a=ap(e,t-7,r);return n.t="str",n.val=a,n}function d4e(e){var t=cu(e);++e.l;var r=xi(e);return t.t="n",t.val=r,t}function f4e(e,t,r){var n=tt(15);return Vw(n,e,t),n.write_shift(8,r,"f"),n}function h4e(e){var t=cu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function m4e(e,t,r){var n=tt(9);return Vw(n,e,t),n.write_shift(2,r),n}function p4e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function g4e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function x4e(e,t,r){var n=e.l+t,a=cu(e),i=e.read_shift(2),o=Rm(e,i,r);return e.l=n,a.t="str",a.val=o,a}var v4e=[2,3,48,49,131,139,140,245],XD=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=F2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Of(1);switch(c.type){case"base64":d=Mo(Yo(l));break;case"binary":d=Mo(l);break;case"buffer":case"array":d=l;break}Ha(d,0);var f=d.read_shift(1),m=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var _=d.read_shift(2),w=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var b=[],E={},S=Math.min(d.length,f==2?521:v-10-(p?264:0)),C=y?32:11;d.l<S&&d[d.l]!=13;)switch(E={},E.name=Jr.utils.decode(w,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,E.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),f==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&b.push(E),f!=2&&(d.l+=y?13:14),E.type){case"B":(!p||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var k=0,R=0;for(u[0]=[],R=0;R!=b.length;++R)u[0][R]=b[R].name;for(;g-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++k]=[],R=0,R=0;R!=b.length;++R){var P=d.slice(d.l,d.l+b[R].len);d.l+=b[R].len,Ha(P,0);var O=Jr.utils.decode(w,P);switch(b[R].type){case"C":O.trim().length&&(u[k][R]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[k][R]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[k][R]=O;break;case"F":u[k][R]=parseFloat(O.trim());break;case"+":case"I":u[k][R]=y?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[k][R]=!0;break;case"N":case"F":u[k][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][R]="##MEMO##"+(y?parseInt(O.trim(),10):P.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[k][R]=+O||0);break;case"@":u[k][R]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[k][R]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[k][R]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][R]=-P.read_shift(-8,"f");break;case"B":if(p&&b[R].len==8){u[k][R]=P.read_shift(8,"f");break}case"G":case"P":P.l+=b[R].len;break;case"0":if(b[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[R].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=ux(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Hf(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Nl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=go(),f=FN(l,{header:1,raw:!0,cellDates:!0}),m=f[0],p=f.slice(1),y=l["!cols"]||[],g=0,v=0,_=0,w=1;for(g=0;g<m.length;++g){if(((y[g]||{}).DBF||{}).name){m[g]=y[g].DBF.name,++_;continue}if(m[g]!=null){if(++_,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(v=0;v<1024;++v)if(m.indexOf(m[g]+"_"+v)==-1){m[g]+="_"+v;break}}}}var b=Yr(l["!ref"]),E=[],S=[],C=[];for(g=0;g<=b.e.c-b.s.c;++g){var k="",R="",P=0,O=[];for(v=0;v<p.length;++v)p[v][g]!=null&&O.push(p[v][g]);if(O.length==0||m[g]==null){E[g]="?";continue}for(v=0;v<O.length;++v){switch(typeof O[v]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=O[v]instanceof Date?"D":"C";break;default:R="C"}P=Math.max(P,String(O[v]).length),k=k&&k!=R?"C":R}P>250&&(P=250),R=((y[g]||{}).DBF||{}).type,R=="C"&&y[g].DBF.len>P&&(P=y[g].DBF.len),k=="B"&&R=="N"&&(k="N",C[g]=y[g].DBF.dec,P=y[g].DBF.len),S[g]=k=="C"||R=="N"?P:i[k]||0,w+=S[g],E[g]=k}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,p.length),A.write_shift(2,296+32*_),A.write_shift(2,w),g=0;g<4;++g)A.write_shift(4,0);for(A.write_shift(4,0|(+t[Tm]||3)<<8),g=0,v=0;g<m.length;++g)if(m[g]!=null){var D=d.next(32),F=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,F,"sbcs"),D.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),D.write_shift(4,v),D.write_shift(1,S[g]||i[E[g]]||0),D.write_shift(1,C[g]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),v+=S[g]||i[E[g]]||0}var B=d.next(264);for(B.write_shift(4,13),g=0;g<65;++g)B.write_shift(4,0);for(g=0;g<p.length;++g){var z=d.next(w);for(z.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(E[v]){case"L":z.write_shift(1,p[g][v]==null?63:p[g][v]?84:70);break;case"B":z.write_shift(8,p[g][v]||0,"f");break;case"N":var q="0";for(typeof p[g][v]=="number"&&(q=p[g][v].toFixed(C[v]||0)),_=0;_<S[v]-q.length;++_)z.write_shift(1,32);z.write_shift(1,q,"sbcs");break;case"D":p[g][v]?(z.write_shift(4,("0000"+p[g][v].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(p[g][v].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+p[g][v].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[g][v]!=null?p[g][v]:"").slice(0,S[v]);for(z.write_shift(1,G,"sbcs"),_=0;_<S[v]-G.length;++_)z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),gae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+As(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var y=e[p];return typeof y=="number"?VD(y):y},n=function(m,p,y){var g=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?m:VD(g)};e["|"]=254;function a(m,p){switch(p.type){case"base64":return i(Yo(m),p);case"binary":return i(m,p);case"buffer":return i($r&&Buffer.isBuffer(m)?m.toString("binary"):Wf(m),p);case"array":return i(Pm(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var y=m.split(/[\n\r]+/),g=-1,v=-1,_=0,w=0,b=[],E=[],S=null,C={},k=[],R=[],P=[],O=0,A;for(+p.codepage>=0&&Nl(+p.codepage);_!==y.length;++_){O=0;var D=y[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=D.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),B=F[0],z;if(D.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&E.push(D.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,G=!1,Y=!1,M=!1,H=-1,Z=-1;for(w=1;w<F.length;++w)switch(F[w].charAt(0)){case"A":break;case"X":v=parseInt(F[w].slice(1))-1,G=!0;break;case"Y":for(g=parseInt(F[w].slice(1))-1,G||(v=0),A=b.length;A<=g;++A)b[A]=[];break;case"K":z=F[w].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(cc(z))?isNaN(x0(z).getDate())||(z=ts(z)):(z=cc(z),S!==null&&Qm(S)&&(z=$2(z))),typeof Jr<"u"&&typeof z=="string"&&(p||{}).type!="string"&&(p||{}).codepage&&(z=Jr.utils.decode(p.codepage,z)),q=!0;break;case"E":M=!0;var L=Gg(F[w].slice(1),{r:g,c:v});b[g][v]=[b[g][v],L];break;case"S":Y=!0,b[g][v]=[b[g][v],"S5S"];break;case"G":break;case"R":H=parseInt(F[w].slice(1))-1;break;case"C":Z=parseInt(F[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}if(q&&(b[g][v]&&b[g][v].length==2?b[g][v][0]=z:b[g][v]=z,S=null),Y){if(M)throw new Error("SYLK shared formula cannot have own formula");var J=H>-1&&b[H][Z];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");b[g][v][1]=Dae(J[1],{r:g-H,c:v-Z})}break;case"F":var V=0;for(w=1;w<F.length;++w)switch(F[w].charAt(0)){case"X":v=parseInt(F[w].slice(1))-1,++V;break;case"Y":for(g=parseInt(F[w].slice(1))-1,A=b.length;A<=g;++A)b[A]=[];break;case"M":O=parseInt(F[w].slice(1))/20;break;case"F":break;case"G":break;case"P":S=E[parseInt(F[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=F[w].slice(1).split(" "),A=parseInt(P[0],10);A<=parseInt(P[1],10);++A)O=parseInt(P[2],10),R[A-1]=O===0?{hidden:!0}:{wch:O},Rf(R[A-1]);break;case"C":v=parseInt(F[w].slice(1))-1,R[v]||(R[v]={});break;case"R":g=parseInt(F[w].slice(1))-1,k[g]||(k[g]={}),O>0?(k[g].hpt=O,k[g].hpx=y0(O)):O===0&&(k[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}V<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}}return k.length>0&&(C["!rows"]=k),R.length>0&&(C["!cols"]=R),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,C]}function o(m,p){var y=a(m,p),g=y[0],v=y[1],_=ux(g,p);return As(v).forEach(function(w){_[w]=v[w]}),_}function l(m,p){return Hf(o(m,p),p)}function c(m,p,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+v5(m.f,{r:y,c:g}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,p){p.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=db(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=fb(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,p){p.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*hb(y.hpx)+";"),v.length>2&&m.push(v+"R"+(g+1))})}function f(m,p){var y=["ID;PWXL;N;E"],g=[],v=Yr(m["!ref"]),_,w=Array.isArray(m),b=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var S=v.s.c;S<=v.e.c;++S){var C=dr({r:E,c:S});_=w?(m[E]||[])[S]:m[C],!(!_||_.v==null&&(!_.f||_.F))&&g.push(c(_,m,E,S))}return y.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:f}})(),xae=(function(){function e(i,o){switch(o.type){case"base64":return t(Yo(i),o);case"binary":return t(i,o);case"buffer":return t($r&&Buffer.isBuffer(i)?i.toString("binary"):Wf(i),o);case"array":return t(Pm(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],y=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(cc(y))?isNaN(x0(y).getDate())?f[c][u]=y:f[c][u]=ts(y):f[c][u]=cc(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return ux(e(i,o),o)}function n(i,o){return Hf(r(i,o),o)}var a=(function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Yr(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var g=dr({r:p,c:y});if(f=m?(c[p]||[])[y]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Xo(f.z||sr[14],ja(ts(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var _=`\r
`,w=u.join(_);return w}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),vae=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var p=f.split(`
`),y=-1,g=-1,v=0,_=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var b=xs(w[1]);if(_.length<=b.r)for(y=_.length;y<=b.r;++y)_[y]||(_[y]=[]);switch(y=b.r,g=b.c,w[2]){case"t":_[y][g]=e(w[3]);break;case"v":_[y][g]=+w[3];break;case"vtf":var E=w[w.length-1];case"vtc":switch(w[3]){case"nl":_[y][g]=!!+w[4];break;default:_[y][g]=+w[4];break}w[2]=="vtf"&&(_[y][g]=[_[y][g],E])}}}return m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),_}function n(f,m){return ux(r(f,m),m)}function a(f,m){return Hf(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],p=[],y,g="",v=Hi(f["!ref"]),_=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(g=dr({r:w,c:b}),y=_?(f[w]||[])[b]:f[g],!(!y||y.v==null||y.t==="z")){switch(p=["cell",g,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var E=ja(ts(y.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=y.w||Xo(y.z||sr[14],E);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),v0=(function(){function e(d,f,m,p,y){y.raw?f[m][p]=d:d===""||(d==="TRUE"?f[m][p]=!0:d==="FALSE"?f[m][p]=!1:isNaN(cc(d))?isNaN(x0(d).getDate())?f[m][p]=d:f[m][p]=ts(d):f[m][p]=cc(d))}function t(d,f){var m=f||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,_=0,w=0;w<=g;++w)_=y[w].indexOf(" "),_==-1?_=y[w].length:_++,v=Math.max(v,_);for(w=0;w<=g;++w){p[w]=[];var b=0;for(e(y[w].slice(0,v).trim(),p,w,b,m),b=1;b<=(y[w].length-v)/10+1;++b)e(y[w].slice(v+(b-1)*10,v+b*10).trim(),p,w,b,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?m=!m:!m&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[y.pop()[1]]||44}function i(d,f){var m=f||{},p="",y=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):m&&m.FS?p=m.FS:p=a(d.slice(0,1024));var v=0,_=0,w=0,b=0,E=0,S=p.charCodeAt(0),C=!1,k=0,R=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=m.dateNF!=null?nTe(m.dateNF):null;function O(){var A=d.slice(b,E),D={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)D.t="z";else if(m.raw)D.t="s",D.v=A;else if(A.trim().length===0)D.t="s",D.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(D.t="s",D.v=A.slice(2,-1).replace(/""/g,'"')):RRe(A)?(D.t="n",D.f=A.slice(1)):(D.t="s",D.v=A);else if(A=="TRUE")D.t="b",D.v=!0;else if(A=="FALSE")D.t="b",D.v=!1;else if(!isNaN(w=cc(A)))D.t="n",m.cellText!==!1&&(D.w=A),D.v=w;else if(!isNaN(x0(A).getDate())||P&&A.match(P)){D.z=m.dateNF||sr[14];var F=0;P&&A.match(P)&&(A=sTe(A,m.dateNF,A.match(P)||[]),F=1),m.cellDates?(D.t="d",D.v=ts(A,F)):(D.t="n",D.v=ja(ts(A,F))),m.cellText!==!1&&(D.w=Xo(D.z,D.v instanceof Date?ja(D.v):D.v)),m.cellNF||delete D.z}else D.t="s",D.v=A;if(D.t=="z"||(m.dense?(y[v]||(y[v]=[]),y[v][_]=D):y[dr({c:_,r:v})]=D),b=E+1,R=d.charCodeAt(b),g.e.c<_&&(g.e.c=_),g.e.r<v&&(g.e.r=v),k==S)++_;else if(_=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;E<d.length;++E)switch(k=d.charCodeAt(E)){case 34:R===34&&(C=!C);break;case S:case 10:case 13:if(!C&&O())break e;break}return E-b>0&&O(),y["!ref"]=Tr(g),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):ux(t(d,f),f)}function l(d,f){var m="",p=f.type=="string"?[0,0,0,0]:C5(d,f);switch(f.type){case"base64":m=Yo(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof Jr<"u"?m=Jr.utils.decode(f.codepage,d):m=$r&&Buffer.isBuffer(d)?d.toString("binary"):Wf(d);break;case"array":m=Pm(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=On(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=On(m):f.type=="binary"&&typeof Jr<"u"&&f.codepage&&(m=Jr.utils.decode(f.codepage,Jr.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?vae.to_sheet(f.type=="string"?m:On(m),f):o(m,f)}function c(d,f){return Hf(l(d,f),f)}function u(d){for(var f=[],m=Yr(d["!ref"]),p,y=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var v=[],_=m.s.c;_<=m.e.c;++_){var w=dr({r:g,c:_});if(p=y?(d[g]||[])[_]:d[w],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(tu(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(_===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function y4e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=gae.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return v0.to_workbook(e,t)}}var nm=(function(){function e(L,J,V){if(L){Ha(L,L.l||0);for(var X=V.Enum||H;L.l<L.length;){var ne=L.read_shift(2),se=X[ne]||X[65535],ue=L.read_shift(2),W=L.l+ue,ae=se.f&&se.f(L,ue,V);if(L.l=W,J(ae,se,ne))return}}}function t(L,J){switch(J.type){case"base64":return r(Mo(Yo(L)),J);case"binary":return r(Mo(L),J);case"buffer":case"array":return r(L,J)}throw"Unsupported type "+J.type}function r(L,J){if(!L)return L;var V=J||{},X=V.dense?[]:{},ne="Sheet1",se="",ue=0,W={},ae=[],oe=[],K={s:{r:0,c:0},e:{r:0,c:0}},be=V.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)V.Enum=H,e(L,function(fe,Je,Ye){switch(Ye){case 0:V.vers=fe,fe>=4096&&(V.qpro=!0);break;case 6:K=fe;break;case 204:fe&&(se=fe);break;case 222:se=fe;break;case 15:case 51:V.qpro||(fe[1].v=fe[1].v.slice(1));case 13:case 14:case 16:Ye==14&&(fe[2]&112)==112&&(fe[2]&15)>1&&(fe[2]&15)<15&&(fe[1].z=V.dateNF||sr[14],V.cellDates&&(fe[1].t="d",fe[1].v=$2(fe[1].v))),V.qpro&&fe[3]>ue&&(X["!ref"]=Tr(K),W[ne]=X,ae.push(ne),X=V.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},ue=fe[3],ne=se||"Sheet"+(ue+1),se="");var ce=V.dense?(X[fe[0].r]||[])[fe[0].c]:X[dr(fe[0])];if(ce){ce.t=fe[1].t,ce.v=fe[1].v,fe[1].z!=null&&(ce.z=fe[1].z),fe[1].f!=null&&(ce.f=fe[1].f);break}V.dense?(X[fe[0].r]||(X[fe[0].r]=[]),X[fe[0].r][fe[0].c]=fe[1]):X[dr(fe[0])]=fe[1];break}},V);else if(L[2]==26||L[2]==14)V.Enum=Z,L[2]==14&&(V.qpro=!0,L.l=0),e(L,function(fe,Je,Ye){switch(Ye){case 204:ne=fe;break;case 22:fe[1].v=fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(fe[3]>ue&&(X["!ref"]=Tr(K),W[ne]=X,ae.push(ne),X=V.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},ue=fe[3],ne="Sheet"+(ue+1)),be>0&&fe[0].r>=be)break;V.dense?(X[fe[0].r]||(X[fe[0].r]=[]),X[fe[0].r][fe[0].c]=fe[1]):X[dr(fe[0])]=fe[1],K.e.c<fe[0].c&&(K.e.c=fe[0].c),K.e.r<fe[0].r&&(K.e.r=fe[0].r);break;case 27:fe[14e3]&&(oe[fe[14e3][0]]=fe[14e3][1]);break;case 1537:oe[fe[0]]=fe[1],fe[0]==ue&&(ne=fe[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(X["!ref"]=Tr(K),W[se||ne]=X,ae.push(se||ne),!oe.length)return{SheetNames:ae,Sheets:W};for(var pe={},Ee=[],Ae=0;Ae<oe.length;++Ae)W[ae[Ae]]?(Ee.push(oe[Ae]||ae[Ae]),pe[oe[Ae]]=W[oe[Ae]]||W[ae[Ae]]):(Ee.push(oe[Ae]),pe[oe[Ae]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:pe}}function n(L,J){var V=J||{};if(+V.codepage>=0&&Nl(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var X=go(),ne=Yr(L["!ref"]),se=Array.isArray(L),ue=[];Nt(X,0,i(1030)),Nt(X,6,c(ne));for(var W=Math.min(ne.e.r,8191),ae=ne.s.r;ae<=W;++ae)for(var oe=Cs(ae),K=ne.s.c;K<=ne.e.c;++K){ae===ne.s.r&&(ue[K]=es(K));var be=ue[K]+oe,pe=se?(L[ae]||[])[K]:L[be];if(!(!pe||pe.t=="z"))if(pe.t=="n")(pe.v|0)==pe.v&&pe.v>=-32768&&pe.v<=32767?Nt(X,13,p(ae,K,pe.v)):Nt(X,14,g(ae,K,pe.v));else{var Ee=tu(pe);Nt(X,15,f(ae,K,Ee.slice(0,239)))}}return Nt(X,1),X.end()}function a(L,J){var V=J||{};if(+V.codepage>=0&&Nl(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var X=go();Nt(X,0,o(L));for(var ne=0,se=0;ne<L.SheetNames.length;++ne)(L.Sheets[L.SheetNames[ne]]||{})["!ref"]&&Nt(X,27,M(L.SheetNames[ne],se++));var ue=0;for(ne=0;ne<L.SheetNames.length;++ne){var W=L.Sheets[L.SheetNames[ne]];if(!(!W||!W["!ref"])){for(var ae=Yr(W["!ref"]),oe=Array.isArray(W),K=[],be=Math.min(ae.e.r,8191),pe=ae.s.r;pe<=be;++pe)for(var Ee=Cs(pe),Ae=ae.s.c;Ae<=ae.e.c;++Ae){pe===ae.s.r&&(K[Ae]=es(Ae));var fe=K[Ae]+Ee,Je=oe?(W[pe]||[])[Ae]:W[fe];if(!(!Je||Je.t=="z"))if(Je.t=="n")Nt(X,23,O(pe,Ae,ue,Je.v));else{var Ye=tu(Je);Nt(X,22,k(pe,Ae,ue,Ye.slice(0,239)))}}++ue}}return Nt(X,1),X.end()}function i(L){var J=tt(2);return J.write_shift(2,L),J}function o(L){var J=tt(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var V=0,X=0,ne=0,se=0;se<L.SheetNames.length;++se){var ue=L.SheetNames[se],W=L.Sheets[ue];if(!(!W||!W["!ref"])){++ne;var ae=Hi(W["!ref"]);V<ae.e.r&&(V=ae.e.r),X<ae.e.c&&(X=ae.e.c)}}return V>8191&&(V=8191),J.write_shift(2,V),J.write_shift(1,ne),J.write_shift(1,X),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function l(L,J,V){var X={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&V.qpro?(X.s.c=L.read_shift(1),L.l++,X.s.r=L.read_shift(2),X.e.c=L.read_shift(1),L.l++,X.e.r=L.read_shift(2),X):(X.s.c=L.read_shift(2),X.s.r=L.read_shift(2),J==12&&V.qpro&&(L.l+=2),X.e.c=L.read_shift(2),X.e.r=L.read_shift(2),J==12&&V.qpro&&(L.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function c(L){var J=tt(8);return J.write_shift(2,L.s.c),J.write_shift(2,L.s.r),J.write_shift(2,L.e.c),J.write_shift(2,L.e.r),J}function u(L,J,V){var X=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(X[0].c=L.read_shift(1),X[3]=L.read_shift(1),X[0].r=L.read_shift(2),L.l+=2):(X[2]=L.read_shift(1),X[0].c=L.read_shift(2),X[0].r=L.read_shift(2)),X}function d(L,J,V){var X=L.l+J,ne=u(L,J,V);if(ne[1].t="s",V.vers==20768){L.l++;var se=L.read_shift(1);return ne[1].v=L.read_shift(se,"utf8"),ne}return V.qpro&&L.l++,ne[1].v=L.read_shift(X-L.l,"cstr"),ne}function f(L,J,V){var X=tt(7+V.length);X.write_shift(1,255),X.write_shift(2,J),X.write_shift(2,L),X.write_shift(1,39);for(var ne=0;ne<X.length;++ne){var se=V.charCodeAt(ne);X.write_shift(1,se>=128?95:se)}return X.write_shift(1,0),X}function m(L,J,V){var X=u(L,J,V);return X[1].v=L.read_shift(2,"i"),X}function p(L,J,V){var X=tt(7);return X.write_shift(1,255),X.write_shift(2,J),X.write_shift(2,L),X.write_shift(2,V,"i"),X}function y(L,J,V){var X=u(L,J,V);return X[1].v=L.read_shift(8,"f"),X}function g(L,J,V){var X=tt(13);return X.write_shift(1,255),X.write_shift(2,J),X.write_shift(2,L),X.write_shift(8,V,"f"),X}function v(L,J,V){var X=L.l+J,ne=u(L,J,V);if(ne[1].v=L.read_shift(8,"f"),V.qpro)L.l=X;else{var se=L.read_shift(2);E(L.slice(L.l,L.l+se),ne),L.l+=se}return ne}function _(L,J,V){var X=J&32768;return J&=-32769,J=(X?L:0)+(J>=8192?J-16384:J),(X?"":"$")+(V?es(J):Cs(J))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(L,J){Ha(L,0);for(var V=[],X=0,ne="",se="",ue="",W="";L.l<L.length;){var ae=L[L.l++];switch(ae){case 0:V.push(L.read_shift(8,"f"));break;case 1:se=_(J[0].c,L.read_shift(2),!0),ne=_(J[0].r,L.read_shift(2),!1),V.push(se+ne);break;case 2:{var oe=_(J[0].c,L.read_shift(2),!0),K=_(J[0].r,L.read_shift(2),!1);se=_(J[0].c,L.read_shift(2),!0),ne=_(J[0].r,L.read_shift(2),!1),V.push(oe+K+":"+se+ne)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(L.read_shift(2));break;case 6:{for(var be="";ae=L[L.l++];)be+=String.fromCharCode(ae);V.push('"'+be.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:W=V.pop(),ue=V.pop(),V.push(["AND","OR"][ae-20]+"("+ue+","+W+")");break;default:if(ae<32&&b[ae])W=V.pop(),ue=V.pop(),V.push(ue+b[ae]+W);else if(w[ae]){if(X=w[ae][1],X==69&&(X=L[L.l++]),X>V.length){console.error("WK1 bad formula parse 0x"+ae.toString(16)+":|"+V.join("|")+"|");return}var pe=V.slice(-X);V.length-=X,V.push(w[ae][0]+"("+pe.join(",")+")")}else return ae<=7?console.error("WK1 invalid opcode "+ae.toString(16)):ae<=24?console.error("WK1 unsupported op "+ae.toString(16)):ae<=30?console.error("WK1 invalid opcode "+ae.toString(16)):ae<=115?console.error("WK1 unsupported function opcode "+ae.toString(16)):console.error("WK1 unrecognized opcode "+ae.toString(16))}}V.length==1?J[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function S(L){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=L.read_shift(2),J[3]=L[L.l++],J[0].c=L[L.l++],J}function C(L,J){var V=S(L);return V[1].t="s",V[1].v=L.read_shift(J-4,"cstr"),V}function k(L,J,V,X){var ne=tt(6+X.length);ne.write_shift(2,L),ne.write_shift(1,V),ne.write_shift(1,J),ne.write_shift(1,39);for(var se=0;se<X.length;++se){var ue=X.charCodeAt(se);ne.write_shift(1,ue>=128?95:ue)}return ne.write_shift(1,0),ne}function R(L,J){var V=S(L);V[1].v=L.read_shift(2);var X=V[1].v>>1;if(V[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return V[1].v=X,V}function P(L,J){var V=S(L),X=L.read_shift(4),ne=L.read_shift(4),se=L.read_shift(2);if(se==65535)return X===0&&ne===3221225472?(V[1].t="e",V[1].v=15):X===0&&ne===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var ue=se&32768;return se=(se&32767)-16446,V[1].v=(1-ue*2)*(ne*Math.pow(2,se+32)+X*Math.pow(2,se)),V}function O(L,J,V,X){var ne=tt(14);if(ne.write_shift(2,L),ne.write_shift(1,V),ne.write_shift(1,J),X==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var se=0,ue=0,W=0,ae=0;return X<0&&(se=1,X=-X),ue=Math.log2(X)|0,X/=Math.pow(2,ue-31),ae=X>>>0,(ae&2147483648)==0&&(X/=2,++ue,ae=X>>>0),X-=ae,ae|=2147483648,ae>>>=0,X*=Math.pow(2,32),W=X>>>0,ne.write_shift(4,W),ne.write_shift(4,ae),ue+=16383+(se?32768:0),ne.write_shift(2,ue),ne}function A(L,J){var V=P(L);return L.l+=J-14,V}function D(L,J){var V=S(L),X=L.read_shift(4);return V[1].v=X>>6,V}function F(L,J){var V=S(L),X=L.read_shift(8,"f");return V[1].v=X,V}function B(L,J){var V=F(L);return L.l+=J-10,V}function z(L,J){return L[L.l+J-1]==0?L.read_shift(J,"cstr"):""}function q(L,J){var V=L[L.l++];V>J-1&&(V=J-1);for(var X="";X.length<V;)X+=String.fromCharCode(L[L.l++]);return X}function G(L,J,V){if(!(!V.qpro||J<21)){var X=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ne=L.read_shift(J-21,"cstr");return[X,ne]}}function Y(L,J){for(var V={},X=L.l+J;L.l<X;){var ne=L.read_shift(2);if(ne==14e3){for(V[ne]=[0,""],V[ne][0]=L.read_shift(2);L[L.l];)V[ne][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return V}function M(L,J){var V=tt(5+L.length);V.write_shift(2,14e3),V.write_shift(2,J);for(var X=0;X<L.length;++X){var ne=L.charCodeAt(X);V[V.l++]=ne>127?95:ne}return V[V.l++]=0,V}var H={0:{n:"BOF",f:Ks},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function b4e(e){var t={},r=e.match(Si),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=mr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=UF[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var w4e=(function(){var e=ib("t"),t=ib("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:nn(o[1])},c=i.match(t);return c&&(l.s=b4e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),_4e=(function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),j4e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,N4e=/<(?:\w+:)?r>/,S4e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function h5(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=nn(On(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=On(e),r&&(n.h=YF(n.t))):e.match(N4e)&&(n.r=On(e),n.t=nn(On((e.replace(S4e,"").match(j4e)||[]).join("").replace(Si,""))),r&&(n.h=_4e(w4e(n.r)))),n):{t:""}}var k4e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,C4e=/<(?:\w+:)?(?:si|sstItem)>/g,E4e=/<\/(?:\w+:)?(?:si|sstItem)>/;function T4e(e,t){var r=[],n="";if(!e)return r;var a=e.match(k4e);if(a){n=a[2].replace(C4e,"").split(E4e);for(var i=0;i!=n.length;++i){var o=h5(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=mr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var A4e=/^\s|\s$|[\t\n\r]/;function yae(e,t){if(!t.bookSST)return"";var r=[zs];r[r.length]=_t("sst",null,{xmlns:ep[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(A4e)&&(i+=' xml:space="preserve"'),i+=">"+Sn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function P4e(e){return[e.read_shift(4),e.read_shift(4)]}function O4e(e,t){var r=[],n=!1;return cd(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function R4e(e,t){return t||(t=tt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var D4e=qTe;function I4e(e){var t=go();lt(t,159,R4e(e));for(var r=0;r<e.length;++r)lt(t,19,D4e(e[r]));return lt(t,160),t.end()}function bae(e){if(typeof Jr<"u")return Jr.utils.encode(Tm,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Uu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function M4e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Uu(e,4),t.U=Uu(e,4),t.W=Uu(e,4),t}function F4e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function L4e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(F4e(e));return t}function $4e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function B4e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Uu(e,4),t.U=Uu(e,4),t.W=Uu(e,4),t}function U4e(e){var t=B4e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function wae(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function _ae(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function V4e(e){var t=Uu(e);switch(t.Minor){case 2:return[t.Minor,z4e(e)];case 3:return[t.Minor,q4e()];case 4:return[t.Minor,W4e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function z4e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=wae(e,r),a=_ae(e,e.length-e.l);return{t:"Std",h:n,v:a}}function q4e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function W4e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Si,function(i){var o=mr(i);switch(lu(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function H4e(e,t){var r={},n=r.EncryptionVersionInfo=Uu(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=wae(e,a),t-=a,r.EncryptionVerifier=_ae(e,t),r}function G4e(e){var t={},r=t.EncryptionVersionInfo=Uu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function m5(e){var t=0,r,n=bae(e),a=n.length+1,i,o,l,c,u;for(r=Of(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var jae=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=bae(o),c=i(l),u=l.length,d=Of(16),f=0;f!=16;++f)d[f]=0;var m,p,y;for((u&1)===1&&(m=c>>8,d[u]=a(e[0],m),--u,m=c&255,p=l[l.length-1],d[u]=a(p,m));u>0;)--u,m=c>>8,d[u]=a(l[u],m),--u,m=c&255,d[u]=a(l[u],m);for(u=15,y=15-l.length;y>0;)m=c>>8,d[u]=a(e[y],m),--u,--y,m=c&255,d[u]=a(l[u],m),--u,--y;return d}})(),K4e=function(e,t,r,n,a){a||(a=t),n||(n=jae(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},Y4e=function(e){var t=0,r=jae(e);return function(n){var a=K4e("",n,t,r);return t=a[1],a[0]}};function X4e(e,t,r,n){var a={key:Ks(e),verificationBytes:Ks(e)};return r.password&&(a.verifier=m5(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Y4e(r.password)),a}function J4e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=G4e(e):n.Data=H4e(e,t),n}function Z4e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?J4e(e,t-2,n):X4e(e,r.biff>=8?t:t-2,r,n),n}var Nae=(function(){function e(a,i){switch(i.type){case"base64":return t(Yo(a),i);case"binary":return t(a,i);case"buffer":return t($r&&Buffer.isBuffer(a)?a.toString("binary"):Wf(a),i);case"array":return t(Pm(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,p=0,y,g=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var v=d.slice(p,m.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var _={v,t:"s"};Array.isArray(l)?l[f][g]=_:l[dr({r:f,c:g})]=_}break}p=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Tr(u),l}function r(a,i){return Hf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Yr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=dr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(tu(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function Q4e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function ub(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function eOe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function tOe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function DN(e,t){if(t===0)return e;var r=eOe(Q4e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),ub(tOe(r))}var Sae=6,rOe=15,nOe=1,fi=Sae;function db(e){return Math.floor((e+Math.round(128/fi)/256)*fi)}function fb(e){return Math.floor((e-5)/fi*100+.5)/100}function IN(e){return Math.round((e*fi+5)/fi*256)/256}function AT(e){return IN(fb(db(e)))}function p5(e){var t=Math.abs(e-AT(e)),r=fi;if(t>.005)for(fi=nOe;fi<rOe;++fi)Math.abs(e-AT(e))<=t&&(t=Math.abs(e-AT(e)),r=fi);fi=r}function Rf(e){e.width?(e.wpx=db(e.width),e.wch=fb(e.wpx),e.MDW=fi):e.wpx?(e.wch=fb(e.wpx),e.width=IN(e.wch),e.MDW=fi):typeof e.wch=="number"&&(e.width=IN(e.wch),e.wpx=db(e.width),e.MDW=fi),e.customWidth&&delete e.customWidth}var sOe=96,kae=sOe;function hb(e){return e*96/kae}function y0(e){return e*kae/96}var aOe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function iOe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Si)||[]).forEach(function(o){var l=mr(o);switch(lu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Qn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Qn(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function oOe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Si)||[]).forEach(function(o){var l=mr(o);switch(lu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function lOe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Si)||[]).forEach(function(o){var l=mr(o);switch(lu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=On(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Qn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Qn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Qn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Qn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Qn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Qn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Qn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=UF[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Qn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=tm[a.color.index];a.color.index==81&&(c=tm[1]),c||(c=tm[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=DN(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function cOe(e,t,r){t.NumberFmt=[];for(var n=As(sr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=sr[n[a]];var i=e[0].match(Si);if(i)for(a=0;a<i.length;++a){var o=mr(i[a]);switch(lu(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=nn(On(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Gc(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function uOe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=_t("numFmt",null,{numFmtId:n,formatCode:Sn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=_t("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var q_=["numFmtId","fillId","fontId","borderId","xfId"],W_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function dOe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Si)||[]).forEach(function(i){var o=mr(i),l=0;switch(lu(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<q_.length;++l)n[q_[l]]&&(n[q_[l]]=parseInt(n[q_[l]],10));for(l=0;l<W_.length;++l)n[W_[l]]&&(n[W_[l]]=Qn(n[W_[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Qn(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function fOe(e){var t=[];return t[t.length]=_t("cellXfs",null),e.forEach(function(r){t[t.length]=_t("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=_t("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var hOe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&cOe(f,d,u),(f=l.match(a))&&lOe(f,d,c,u),(f=l.match(n))&&oOe(f,d,c,u),(f=l.match(i))&&iOe(f,d,c,u),(f=l.match(r))&&dOe(f,d,u),d}})();function Cae(e,t){var r=[zs,_t("styleSheet",null,{xmlns:ep[0],"xmlns:vt":ba.vt})],n;return e.SSF&&(n=uOe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=fOe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function mOe(e,t){var r=e.read_shift(2),n=_i(e);return[r,n]}function pOe(e,t,r){r||(r=tt(6+4*t.length)),r.write_shift(2,e),Fa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function gOe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=JTe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=XTe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=_i(e),n}function xOe(e,t){t||(t=tt(153)),t.write_shift(2,e.sz*20),ZTe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),PN(e.color,t);var n=0;return n=2,t.write_shift(1,n),Fa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var vOe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],PT,yOe=Ni;function uV(e,t){t||(t=tt(84)),PT||(PT=F2(vOe));var r=PT[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(PN({auto:1},t),PN({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function bOe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Eae(e,t,r){r||(r=tt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function hv(e,t){return t||(t=tt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var wOe=Ni;function _Oe(e,t){return t||(t=tt(51)),t.write_shift(1,0),hv(null,t),hv(null,t),hv(null,t),hv(null,t),hv(null,t),t.length>t.l?t.slice(0,t.l):t}function jOe(e,t){return t||(t=tt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),AN(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function NOe(e,t,r){var n=tt(2052);return n.write_shift(4,e),AN(t,n),AN(r,n),n.length>n.l?n.slice(0,n.l):n}function SOe(e,t,r){var n={};n.NumberFmt=[];for(var a in sr)n.NumberFmt[a]=sr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return cd(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Gc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=DN(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function kOe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(lt(e,615,uc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&lt(e,44,pOe(a,t[a]))}),lt(e,616))}}function COe(e){var t=1;lt(e,611,uc(t)),lt(e,43,xOe({sz:12,color:{theme:1},name:"Calibri",family:2})),lt(e,612)}function EOe(e){var t=2;lt(e,603,uc(t)),lt(e,45,uV({patternType:"none"})),lt(e,45,uV({patternType:"gray125"})),lt(e,604)}function TOe(e){var t=1;lt(e,613,uc(t)),lt(e,46,_Oe()),lt(e,614)}function AOe(e){var t=1;lt(e,626,uc(t)),lt(e,47,Eae({numFmtId:0},65535)),lt(e,627)}function POe(e,t){lt(e,617,uc(t.length)),t.forEach(function(r){lt(e,47,Eae(r,0))}),lt(e,618)}function OOe(e){var t=1;lt(e,619,uc(t)),lt(e,48,jOe({xfId:0,name:"Normal"})),lt(e,620)}function ROe(e){var t=0;lt(e,505,uc(t)),lt(e,506)}function DOe(e){var t=0;lt(e,508,NOe(t,"TableStyleMedium9","PivotStyleMedium4")),lt(e,509)}function IOe(e,t){var r=go();return lt(r,278),kOe(r,e.SSF),COe(r),EOe(r),TOe(r),AOe(r),POe(r,t.cellXfs),OOe(r),ROe(r),DOe(r),lt(r,279),r.end()}var MOe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function FOe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Si)||[]).forEach(function(a){var i=mr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[MOe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function LOe(){}function $Oe(){}var BOe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,UOe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,VOe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function zOe(e,t,r){t.themeElements={};var n;[["clrScheme",BOe,FOe],["fontScheme",UOe,LOe],["fmtScheme",VOe,$Oe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var qOe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Tae(e,t){(!e||e.length===0)&&(e=g5());var r,n={};if(!(r=e.match(qOe)))throw new Error("themeElements not found in theme");return zOe(r[0],n,t),n.raw=e,n}function g5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[zs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function WOe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=Sse(i,{type:"array"})}catch{return}var l=Fo(o,"theme/theme/theme1.xml",!0);if(l)return Tae(l,r)}}function HOe(e){return e.read_shift(4)}function GOe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=KOe(e,4);break;case 2:t.xclrValue=lae(e);break;case 3:t.xclrValue=HOe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function KOe(e,t){return Ni(e,t)}function YOe(e,t){return Ni(e,t)}function XOe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=GOe(e);break;case 6:n[1]=YOe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function JOe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(XOe(e,r-e.l));return{ixfe:n,ext:i}}function ZOe(e,t){t.forEach(function(r){r[0]})}function QOe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_i(e)}}function eRe(e){var t=tt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Fa(e.name,t),t.slice(0,t.l)}function tRe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function rRe(e){var t=tt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function nRe(e,t){var r=tt(8+2*t.length);return r.write_shift(4,e),Fa(t,r),r.slice(0,r.l)}function sRe(e){return e.l+=4,e.read_shift(4)!=0}function aRe(e,t){var r=tt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function iRe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return cd(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function oRe(){var e=go();return lt(e,332),lt(e,334,uc(1)),lt(e,335,eRe({name:"XLDAPR",version:12e4,flags:3496657072})),lt(e,336),lt(e,339,nRe(1,"XLDAPR")),lt(e,52),lt(e,35,uc(514)),lt(e,4096,uc(0)),lt(e,4097,pl(1)),lt(e,36),lt(e,53),lt(e,340),lt(e,337,aRe(1)),lt(e,51,rRe([[1,0]])),lt(e,338),lt(e,333),e.end()}function lRe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Si,function(l){var c=mr(l);switch(lu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function Aae(){var e=[zs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function cRe(e){var t=[];if(!e)return t;var r=1;return(e.match(Si)||[]).forEach(function(n){var a=mr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function uRe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=dr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function dRe(e,t,r){var n=[];return cd(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function fRe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;cd(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function hRe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var vg=1024;function Pae(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[_t("xml",null,{"xmlns:v":Ro.v,"xmlns:o":Ro.o,"xmlns:x":Ro.x,"xmlns:mv":Ro.mv}).replace(/\/>/,">"),_t("o:shapelayout",_t("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),_t("v:shapetype",[_t("v:stroke",null,{joinstyle:"miter"}),_t("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];vg<e*1e3;)vg+=1e3;return t.forEach(function(i){var o=xs(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?_t("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=_t("v:fill",c,l),d={on:"t",obscured:"t"};++vg,a=a.concat(["<v:shape"+ob({id:"_x0000_s"+vg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,_t("v:shadow",null,d),_t("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xa("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Xa("x:AutoFill","False"),Xa("x:Row",String(o.r)),Xa("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function dV(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=xs(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Yr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Tr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function mRe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=mr(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=xs(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&h5(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function Oae(e){var t=[zs,_t("comments",null,{xmlns:ep[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Sn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Sn(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Xa("t",Sn(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Xa("t",Sn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function pRe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Si,function(l,c){var u=mr(l);switch(lu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function gRe(e,t,r){var n=[zs,_t("ThreadedComments",null,{xmlns:ba.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(_t("threadedComment",Xa("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function xRe(e,t){var r=[],n=!1;return e.replace(Si,function(i){var o=mr(i);switch(lu(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function vRe(e){var t=[zs,_t("personList",null,{xmlns:ba.TCMNT,"xmlns:x":ep[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(_t("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function yRe(e){var t={};t.iauthor=e.read_shift(4);var r=sp(e);return t.rfx=r.s,t.ref=dr(r.s),e.l+=16,t}function bRe(e,t){return t==null&&(t=tt(36)),t.write_shift(4,e[1].iauthor),dx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var wRe=_i;function _Re(e){return Fa(e.slice(0,54))}function jRe(e,t){var r=[],n=[],a={},i=!1;return cd(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function NRe(e){var t=go(),r=[];return lt(t,628),lt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),lt(t,632,_Re(a.a)))})}),lt(t,631),lt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:xs(n[0]),e:xs(n[0])};lt(t,635,bRe([i,a])),a.t&&a.t.length>0&&lt(t,637,HTe(a)),lt(t,636),delete a.iauthor})}),lt(t,634),lt(t,629),t.end()}var SRe="application/vnd.ms-office.vbaProject";function kRe(e){var t=Xt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Xt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Xt.write(t)}function CRe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Xt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Rae=["xlsb","xlsm","xlam","biff8","xla"];function ERe(){return{"!type":"dialog"}}function TRe(){return{"!type":"dialog"}}function ARe(){return{"!type":"macro"}}function PRe(){return{"!type":"macro"}}var Gg=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+es(d)+(c?"":"$")+Cs(u)}return function(a,i){return t=i,a.replace(e,r)}})(),x5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,v5=(function(){return function(t,r){return t.replace(x5,function(n,a,i,o,l,c){var u=s5(o)-(i?0:r.c),d=n5(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}})();function Dae(e,t){return e.replace(x5,function(r,n,a,i,o,l){return n+(a=="$"?a+i:es(s5(i)+t.c))+(o=="$"?o+l:Cs(n5(l)+t.r))})}function ORe(e,t,r){var n=Hi(t),a=n.s,i=xs(r),o={r:i.r-a.r,c:i.c-a.c};return Dae(e,o)}function RRe(e){return e.length!=1}function fV(e){return e.replace(/_xlfn\./g,"")}function Ws(e){e.l+=1}function Df(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Iae(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Mae(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Df(e),l=Df(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Mae(e){var t=Df(e),r=Df(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function DRe(e,t,r){if(r.biff<8)return Mae(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Df(e),o=Df(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Fae(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return IRe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Df(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function IRe(e){var t=Df(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function MRe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function FRe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return LRe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function LRe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function $Re(e,t,r){var n=(e[e.l++]&96)>>5,a=Iae(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function BRe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Iae(e,i,r);return[n,a,o]}function URe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function VRe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function zRe(e,t,r){var n=(e[e.l++]&96)>>5,a=DRe(e,t-1,r);return[n,a]}function qRe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function hV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function WRe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function HRe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function GRe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function KRe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function YRe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Lae(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function XRe(e){return e.read_shift(2),Lae(e)}function JRe(e){return e.read_shift(2),Lae(e)}function ZRe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Fae(e,0,r);return[n,a]}function QRe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=FRe(e,0,r);return[n,a]}function eDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Fae(e,0,r);return[n,a,i]}function tDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[sIe[a],Uae[a],n]}function rDe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:nDe(e);return[a,(i[0]===0?Uae:nIe)[i[1]]]}function nDe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function sDe(e,t,r){e.l+=r&&r.biff==2?3:4}function aDe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function iDe(e){return e.l++,ud[e.read_shift(1)]}function oDe(e){return e.l++,e.read_shift(2)}function lDe(e){return e.l++,e.read_shift(1)!==0}function cDe(e){return e.l++,xi(e)}function uDe(e,t,r){return e.l++,Fw(e,t-1,r)}function dDe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ds(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ud[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=xi(e);break;case 2:r[1]=ap(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fDe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?sp:U2)(e));return a}function hDe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=dDe(e,r.biff);return o}function mDe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function pDe(e,t,r){if(r.biff==5)return gDe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function gDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function xDe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function vDe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function yDe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function bDe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var wDe=Ni,_De=Ni,jDe=Ni;function $w(e,t,r){return e.l+=2,[MRe(e)]}function y5(e){return e.l+=6,[]}var NDe=$w,SDe=y5,kDe=y5,CDe=$w;function $ae(e){return e.l+=2,[Ks(e),e.read_shift(2)&1]}var EDe=$w,TDe=$ae,ADe=y5,PDe=$w,ODe=$w,RDe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function DDe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=RDe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function IDe(e){return e.l+=2,[e.read_shift(4)]}function MDe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function FDe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function LDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function $De(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function BDe(e){return e.l+=4,[0,0]}var mV={1:{n:"PtgExp",f:aDe},2:{n:"PtgTbl",f:jDe},3:{n:"PtgAdd",f:Ws},4:{n:"PtgSub",f:Ws},5:{n:"PtgMul",f:Ws},6:{n:"PtgDiv",f:Ws},7:{n:"PtgPower",f:Ws},8:{n:"PtgConcat",f:Ws},9:{n:"PtgLt",f:Ws},10:{n:"PtgLe",f:Ws},11:{n:"PtgEq",f:Ws},12:{n:"PtgGe",f:Ws},13:{n:"PtgGt",f:Ws},14:{n:"PtgNe",f:Ws},15:{n:"PtgIsect",f:Ws},16:{n:"PtgUnion",f:Ws},17:{n:"PtgRange",f:Ws},18:{n:"PtgUplus",f:Ws},19:{n:"PtgUminus",f:Ws},20:{n:"PtgPercent",f:Ws},21:{n:"PtgParen",f:Ws},22:{n:"PtgMissArg",f:Ws},23:{n:"PtgStr",f:uDe},26:{n:"PtgSheet",f:MDe},27:{n:"PtgEndSheet",f:FDe},28:{n:"PtgErr",f:iDe},29:{n:"PtgBool",f:lDe},30:{n:"PtgInt",f:oDe},31:{n:"PtgNum",f:cDe},32:{n:"PtgArray",f:qRe},33:{n:"PtgFunc",f:tDe},34:{n:"PtgFuncVar",f:rDe},35:{n:"PtgName",f:mDe},36:{n:"PtgRef",f:ZRe},37:{n:"PtgArea",f:$Re},38:{n:"PtgMemArea",f:xDe},39:{n:"PtgMemErr",f:wDe},40:{n:"PtgMemNoMem",f:_De},41:{n:"PtgMemFunc",f:vDe},42:{n:"PtgRefErr",f:yDe},43:{n:"PtgAreaErr",f:URe},44:{n:"PtgRefN",f:QRe},45:{n:"PtgAreaN",f:zRe},46:{n:"PtgMemAreaN",f:LDe},47:{n:"PtgMemNoMemN",f:$De},57:{n:"PtgNameX",f:pDe},58:{n:"PtgRef3d",f:eDe},59:{n:"PtgArea3d",f:BRe},60:{n:"PtgRefErr3d",f:bDe},61:{n:"PtgAreaErr3d",f:VRe},255:{}},UDe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VDe={1:{n:"PtgElfLel",f:$ae},2:{n:"PtgElfRw",f:PDe},3:{n:"PtgElfCol",f:NDe},6:{n:"PtgElfRwV",f:ODe},7:{n:"PtgElfColV",f:CDe},10:{n:"PtgElfRadical",f:EDe},11:{n:"PtgElfRadicalS",f:ADe},13:{n:"PtgElfColS",f:SDe},15:{n:"PtgElfColSV",f:kDe},16:{n:"PtgElfRadicalLel",f:TDe},25:{n:"PtgList",f:DDe},29:{n:"PtgSxName",f:IDe},255:{}},zDe={0:{n:"PtgAttrNoop",f:BDe},1:{n:"PtgAttrSemi",f:YRe},2:{n:"PtgAttrIf",f:GRe},4:{n:"PtgAttrChoose",f:WRe},8:{n:"PtgAttrGoto",f:HRe},16:{n:"PtgAttrSum",f:sDe},32:{n:"PtgAttrBaxcel",f:hV},33:{n:"PtgAttrBaxcel",f:hV},64:{n:"PtgAttrSpace",f:XRe},65:{n:"PtgAttrSpaceSemi",f:JRe},128:{n:"PtgAttrIfError",f:KRe},255:{}};function Bw(e,t,r,n){if(n.biff<8)return Ni(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=hDe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=fDe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Ni(e,t)),i}function Uw(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=mV[i]||mV[UDe[i]],(i===24||i===25)&&(a=(i===24?VDe:zDe)[e[e.l+1]]),!a||!a.f?Ni(e,t):o.push([a.n,a.f(e,t,r)]);return o}function qDe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var WDe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function HDe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Bae(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function pV(e,t,r){var n=Bae(e,t,r);return n=="#REF"?n:HDe(n,r)}function di(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,p,y="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",_=0,w=e[0].length;_<w;++_){var b=e[0][_];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=ws(" ",e[0][g][1][1]);break;case 1:v=ws("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+WDe[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=my(b[1][1],o,a),l.push(py(d,i));break;case"PtgRefN":d=r?my(b[1][1],r,a):b[1][1],l.push(py(d,i));break;case"PtgRef3d":f=b[1][1],d=my(b[1][2],o,a),y=pV(n,f,a),l.push(y+"!"+py(d,i));break;case"PtgFunc":case"PtgFuncVar":var E=b[1][0],S=b[1][1];E||(E=0),E&=127;var C=E==0?[]:l.slice(-E);l.length-=E,S==="User"&&(S=C.shift()),l.push(S+"("+C.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":p=q7(b[1][1],r?{s:r}:o,a),l.push(CT(p,a));break;case"PtgArea":p=q7(b[1][1],o,a),l.push(CT(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],y=pV(n,f,a),l.push(y+"!"+CT(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=b[1][2];var k=(n.names||[])[m-1]||(n[0]||[])[m],R=k?k.Name:"SH33TJSNAME"+String(m);R&&R.slice(0,6)=="_xlfn."&&!a.xlfn&&(R=R.slice(6)),l.push(R);break;case"PtgNameX":var P=b[1][1];m=b[1][2];var O;if(a.biff<=5)P<0&&(P=-P),n[P]&&(O=n[P][m]);else{var A="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][m]&&n[P][m].itab>0&&(A=n.SheetNames[n[P][m].itab-1]+"!"):A=n.SheetNames[m-1]+"!"),n[P]&&n[P][m])A+=n[P][m].Name;else if(n[0]&&n[0][m])A+=n[0][m].Name;else{var D=(Bae(n,P,a)||"").split(";;");D[m-1]?A=D[m-1]:A+="SH33TJSERRX"}l.push(A);break}O||(O={Name:"SH33TJSERRY"}),l.push(O.Name);break;case"PtgParen":var F="(",B=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:F=ws(" ",e[0][g][1][1])+F;break;case 3:F=ws("\r",e[0][g][1][1])+F;break;case 4:B=ws(" ",e[0][g][1][1])+B;break;case 5:B=ws("\r",e[0][g][1][1])+B;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(F+l.pop()+B);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var z={c:r.c,r:r.r};if(n.sharedf[dr(d)]){var q=n.sharedf[dr(d)];l.push(di(q,o,z,n,a))}else{var G=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(di(u[1],o,z,n,a)),G=!0;break}G||l.push(b[1])}break;case"PtgArray":l.push("{"+qDe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&Y.indexOf(e[0][_][0])==-1){b=e[0][g];var M=!0;switch(b[1][0]){case 4:M=!1;case 0:v=ws(" ",b[1][1]);break;case 5:M=!1;case 1:v=ws("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((M?v:"")+l.pop()+(M?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function GDe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ni(e,t-2)];var l=Uw(e,o,r);return t!==o+a&&(i=Bw(e,t-o-a,l,r)),e.l=n,[l,i]}function KDe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ni(e,t-2)];var l=Uw(e,o,r);return t!==o+a&&(i=Bw(e,t-o-a,l,r)),e.l=n,[l,i]}function YDe(e,t,r,n){var a=e.l+t,i=Uw(e,n,r),o;return a!==e.l&&(o=Bw(e,a-e.l,i,r)),[i,o]}function XDe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=Uw(e,i,r);return i==65535?[[],Ni(e,t-2)]:(t!==i+2&&(a=Bw(e,n-i-2,o,r)),[o,a])}function JDe(e){var t;if(Ru(e,e.l+6)!==65535)return[xi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function ZDe(e){if(e==null){var t=tt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Om(e);return Om(0)}function OT(e,t,r){var n=e.l+t,a=cu(e);r.biff==2&&++e.l;var i=JDe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=KDe(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function QDe(e,t,r,n,a){var i=Dm(t,r,a),o=ZDe(e.v),l=tt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=tt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Ma([i,o,l,u]);return f}function V2(e,t,r){var n=e.read_shift(4),a=Uw(e,n,r),i=e.read_shift(4),o=i>0?Bw(e,i,a,r):null;return[a,o]}var eIe=V2,z2=V2,tIe=V2,rIe=V2,nIe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Uae={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sIe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function gV(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function aIe(e){var t="of:="+e.replace(x5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function RT(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function iIe(e){return e.replace(/\./,"!")}var xy={},Kg={},vy=typeof Map<"u";function b5(e,t,r){var n=0,a=e.length;if(r){if(vy?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=vy?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(vy?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function q2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(fi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=fb(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=IN(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function sm(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Gf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Gc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Vae(e,t,r,n,a,i){try{n.cellNF&&(e.z=sr[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ts(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(sr[t]==null&&Gc(rTe[t]||"General",t),e.t==="e")e.w=e.w||ud[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ab(e.v);else if(e.t==="d"){var o=ja(e.v);(o|0)===o?e.w=o.toString(10):e.w=ab(o)}else{if(e.v===void 0)return"";e.w=Am(e.v,Kg)}else e.t==="d"?e.w=Xo(t,ja(e.v),Kg):e.w=Xo(t,e.v,Kg)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=DN(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=DN(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function oIe(e,t,r){if(e&&e["!ref"]){var n=Yr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function lIe(e,t){var r=Yr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Tr(r))}var cIe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,uIe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,dIe=/<(?:\w:)?hyperlink [^>]*>/mg,fIe=/"(\w*:\w*)"/,hIe=/<(?:\w:)?col\b[^>]*[\/]?>/g,mIe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,pIe=/<(?:\w:)?pageMargins[^>]*\/>/g,zae=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,gIe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,xIe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function vIe(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(uIe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var m=u.match(zae);m?w5(m[0],l,a,r):(m=u.match(gIe))&&bIe(m[0],m[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(fIe);y&&lIe(l,y[1])}var g=u.match(xIe);g&&g[1]&&RIe(g[1],a);var v=[];if(t.cellStyles){var _=u.match(hIe);_&&EIe(v,_)}f&&MIe(f[1],l,t,c,i,o);var w=d.match(mIe);w&&(l["!autofilter"]=AIe(w[0]));var b=[],E=d.match(cIe);if(E)for(p=0;p!=E.length;++p)b[p]=Yr(E[p].slice(E[p].indexOf('"')+1));var S=d.match(dIe);S&&SIe(l,S,n);var C=d.match(pIe);if(C&&(l["!margins"]=kIe(mr(C[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Tr(c)),t.sheetRows>0&&l["!ref"]){var k=Yr(l["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>c.e.r&&(k.e.r=c.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>c.e.c&&(k.e.c=c.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Tr(k))}return v.length>0&&(l["!cols"]=v),b.length>0&&(l["!merges"]=b),l}function yIe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Tr(e[r])+'"/>';return t+"</mergeCells>"}function w5(e,t,r,n){var a=mr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=nn(On(a.codeName)))}function bIe(e,t,r,n,a){w5(e.slice(0,e.indexOf(">")),r,n,a)}function wIe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Uc(Sn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+_t("outlinePr",null,u)}!i&&!l||(a[a.length]=_t("sheetPr",l,o))}var _Ie=["objects","scenarios","selectLockedCells","selectUnlockedCells"],jIe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function NIe(e){var t={sheet:1};return _Ie.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),jIe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=m5(e.password).toString(16).toUpperCase()),_t("sheetProtection",null,t)}function SIe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=mr(On(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+nn(i.location))):(i.Target="#"+nn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Yr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=dr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function kIe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function CIe(e){return sm(e),_t("pageMargins",null,e)}function EIe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=mr(t[n],!0);a.hidden&&(a.hidden=Qn(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,p5(a.width)),Rf(a);i<=o;)e[i++]=$n(a)}}function TIe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=_t("col",null,q2(a,n)));return r[r.length]="</cols>",r.join("")}function AIe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function PIe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Tr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Hi(a);o.s.r==o.e.r&&(o.e.r=Hi(t["!ref"]).e.r,a=Tr(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),_t("autoFilter",null,{ref:a})}var OIe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function RIe(e,t){t.Views||(t.Views=[{}]),(e.match(OIe)||[]).forEach(function(r,n){var a=mr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Qn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function DIe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),_t("sheetViews",_t("sheetView",null,a),{})}function IIe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=ud[e.v];break;case"d":n&&n.cellDates?a=ts(e.v,-1).toISOString():(e=$n(e),e.t="n",a=""+(e.v=ja(ts(e.v)))),typeof e.z>"u"&&(e.z=sr[14]);break;default:a=e.v;break}var l=Xa("v",Sn(a)),c={r:t},u=Gf(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Xa("v",""+b5(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=_t("f",Sn(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),_t("c",l,c)}var MIe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=ib("v"),o=ib("f");return function(c,u,d,f,m,p){for(var y=0,g="",v=[],_=[],w=0,b=0,E=0,S="",C,k,R=0,P=0,O,A,D=0,F=0,B=Array.isArray(p.CellXf),z,q=[],G=[],Y=Array.isArray(u),M=[],H={},Z=!1,L=!!d.sheetStubs,J=c.split(t),V=0,X=J.length;V!=X;++V){g=J[V].trim();var ne=g.length;if(ne!==0){var se=0;e:for(y=0;y<ne;++y)switch(g[y]){case">":if(g[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(k=mr(g.slice(se,y),!0),R=k.r!=null?parseInt(k.r,10):R+1,P=-1,d.sheetRows&&d.sheetRows<R)continue;H={},Z=!1,k.ht&&(Z=!0,H.hpt=parseFloat(k.ht),H.hpx=y0(H.hpt)),k.hidden=="1"&&(Z=!0,H.hidden=!0),k.outlineLevel!=null&&(Z=!0,H.level=+k.outlineLevel),Z&&(M[R-1]=H)}break;case"<":se=y;break}if(se>=y)break;if(k=mr(g.slice(se,y),!0),R=k.r!=null?parseInt(k.r,10):R+1,P=-1,!(d.sheetRows&&d.sheetRows<R)){f.s.r>R-1&&(f.s.r=R-1),f.e.r<R-1&&(f.e.r=R-1),d&&d.cellStyles&&(H={},Z=!1,k.ht&&(Z=!0,H.hpt=parseFloat(k.ht),H.hpx=y0(H.hpt)),k.hidden=="1"&&(Z=!0,H.hidden=!0),k.outlineLevel!=null&&(Z=!0,H.level=+k.outlineLevel),Z&&(M[R-1]=H)),v=g.slice(y).split(e);for(var ue=0;ue!=v.length&&v[ue].trim().charAt(0)=="<";++ue);for(v=v.slice(ue),y=0;y!=v.length;++y)if(g=v[y].trim(),g.length!==0){if(_=g.match(r),w=y,b=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(w=0,S=_[1],b=0;b!=S.length&&!((E=S.charCodeAt(b)-64)<1||E>26);++b)w=26*w+E;--w,P=w}else++P;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,k=mr(g.slice(0,b),!0),k.r||(k.r=dr({r:R-1,c:P})),S=g.slice(b),C={t:""},(_=S.match(i))!=null&&_[1]!==""&&(C.v=nn(_[1])),d.cellFormula){if((_=S.match(o))!=null&&_[1]!==""){if(C.f=nn(On(_[1])).replace(/\r\n/g,`
`),d.xlfn||(C.f=fV(C.f)),_[0].indexOf('t="array"')>-1)C.F=(S.match(a)||[])[1],C.F.indexOf(":")>-1&&q.push([Yr(C.F),C.F]);else if(_[0].indexOf('t="shared"')>-1){A=mr(_[0]);var W=nn(On(_[1]));d.xlfn||(W=fV(W)),G[parseInt(A.si,10)]=[A,W,k.r]}}else(_=S.match(/<f[^>]*\/>/))&&(A=mr(_[0]),G[A.si]&&(C.f=ORe(G[A.si][1],G[A.si][2],k.r)));var ae=xs(k.r);for(b=0;b<q.length;++b)ae.r>=q[b][0].s.r&&ae.r<=q[b][0].e.r&&ae.c>=q[b][0].s.c&&ae.c<=q[b][0].e.c&&(C.F=q[b][1])}if(k.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(L)C.t="z";else continue;else C.t=k.t||"n";switch(f.s.c>P&&(f.s.c=P),f.e.c<P&&(f.e.c=P),C.t){case"n":if(C.v==""||C.v==null){if(!L)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!L)continue;C.t="z"}else O=xy[parseInt(C.v,10)],C.v=O.t,C.r=O.r,d.cellHTML&&(C.h=O.h);break;case"str":C.t="s",C.v=C.v!=null?On(C.v):"",d.cellHTML&&(C.h=YF(C.v));break;case"inlineStr":_=S.match(n),C.t="s",_!=null&&(O=h5(_[1]))?(C.v=O.t,d.cellHTML&&(C.h=O.h)):C.v="";break;case"b":C.v=Qn(C.v);break;case"d":d.cellDates?C.v=ts(C.v,1):(C.v=ja(ts(C.v,1)),C.t="n");break;case"e":(!d||d.cellText!==!1)&&(C.w=C.v),C.v=Wse[C.v];break}if(D=F=0,z=null,B&&k.s!==void 0&&(z=p.CellXf[k.s],z!=null&&(z.numFmtId!=null&&(D=z.numFmtId),d.cellStyles&&z.fillId!=null&&(F=z.fillId))),Vae(C,D,F,d,m,p),d.cellDates&&B&&C.t=="n"&&Qm(sr[D])&&(C.t="d",C.v=$2(C.v)),k.cm&&d.xlmeta){var oe=(d.xlmeta.Cell||[])[+k.cm-1];oe&&oe.type=="XLDAPR"&&(C.D=!0)}if(Y){var K=xs(k.r);u[K.r]||(u[K.r]=[]),u[K.r][K.c]=C}else u[k.r]=C}}}}M.length>0&&(u["!rows"]=M)}})();function FIe(e,t,r,n){var a=[],i=[],o=Yr(e["!ref"]),l="",c,u="",d=[],f=0,m=0,p=e["!rows"],y=Array.isArray(e),g={r:u},v,_=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=es(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Cs(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var w=y?(e[f]||[])[m]:e[c];w!==void 0&&(l=IIe(w,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(v=p[f],v.hidden&&(g.hidden=1),_=-1,v.hpx?_=hb(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(g.ht=_,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=_t("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},v=p[f],v.hidden&&(g.hidden=1),_=-1,v.hpx?_=hb(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(g.ht=_,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=_t("row","",g));return a.join("")}function qae(e,t,r,n){var a=[zs,_t("worksheet",null,{xmlns:ep[0],"xmlns:r":ba.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Yr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Tr(d)}n||(n={}),c["!comments"]=[];var f=[];wIe(c,r,e,t,a),a[a.length]=_t("dimension",null,{ref:u}),a[a.length]=DIe(c,t,e,r),t.sheetFormat&&(a[a.length]=_t("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=TIe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=FIe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=NIe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=PIe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=yIe(c["!merges"]));var m=-1,p,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=_n(n,-1,Sn(g[1].Target).replace(/#.*$/,""),qr.HLINK),p["r:id"]="rId"+y),(m=g[1].Target.indexOf("#"))>-1&&(p.location=Sn(g[1].Target.slice(m+1))),g[1].Tooltip&&(p.tooltip=Sn(g[1].Tooltip)),a[a.length]=_t("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=CIe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Xa("ignoredErrors",_t("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=_n(n,-1,"../drawings/drawing"+(e+1)+".xml",qr.DRAW),a[a.length]=_t("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=_n(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",qr.VML),a[a.length]=_t("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function LIe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function $Ie(e,t,r){var n=tt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=hb(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[dr(u)];y&&(f<0&&(f=p),m=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function BIe(e,t,r,n){var a=$Ie(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&lt(e,0,a)}var UIe=sp,VIe=dx;function zIe(){}function qIe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=GTe(e),r}function WIe(e,t,r){r==null&&(r=tt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return PN({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Bse(e,r),r.slice(0,r.l)}function HIe(e){var t=Il(e);return[t]}function GIe(e,t,r){return r==null&&(r=tt(8)),tp(t,r)}function KIe(e){var t=rp(e);return[t]}function YIe(e,t,r){return r==null&&(r=tt(4)),np(t,r)}function XIe(e){var t=Il(e),r=e.read_shift(1);return[t,r,"b"]}function JIe(e,t,r){return r==null&&(r=tt(9)),tp(t,r),r.write_shift(1,e.v?1:0),r}function ZIe(e){var t=rp(e),r=e.read_shift(1);return[t,r,"b"]}function QIe(e,t,r){return r==null&&(r=tt(5)),np(t,r),r.write_shift(1,e.v?1:0),r}function e3e(e){var t=Il(e),r=e.read_shift(1);return[t,r,"e"]}function t3e(e,t,r){return r==null&&(r=tt(9)),tp(t,r),r.write_shift(1,e.v),r}function r3e(e){var t=rp(e),r=e.read_shift(1);return[t,r,"e"]}function n3e(e,t,r){return r==null&&(r=tt(8)),np(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function s3e(e){var t=Il(e),r=e.read_shift(4);return[t,r,"s"]}function a3e(e,t,r){return r==null&&(r=tt(12)),tp(t,r),r.write_shift(4,t.v),r}function i3e(e){var t=rp(e),r=e.read_shift(4);return[t,r,"s"]}function o3e(e,t,r){return r==null&&(r=tt(8)),np(t,r),r.write_shift(4,t.v),r}function l3e(e){var t=Il(e),r=xi(e);return[t,r,"n"]}function c3e(e,t,r){return r==null&&(r=tt(16)),tp(t,r),Om(e.v,r),r}function Wae(e){var t=rp(e),r=xi(e);return[t,r,"n"]}function u3e(e,t,r){return r==null&&(r=tt(12)),np(t,r),Om(e.v,r),r}function d3e(e){var t=Il(e),r=l5(e);return[t,r,"n"]}function f3e(e,t,r){return r==null&&(r=tt(12)),tp(t,r),Use(e.v,r),r}function h3e(e){var t=rp(e),r=l5(e);return[t,r,"n"]}function m3e(e,t,r){return r==null&&(r=tt(8)),np(t,r),Use(e.v,r),r}function p3e(e){var t=Il(e),r=a5(e);return[t,r,"is"]}function g3e(e){var t=Il(e),r=_i(e);return[t,r,"str"]}function x3e(e,t,r){return r==null&&(r=tt(12+4*e.v.length)),tp(t,r),Fa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function v3e(e){var t=rp(e),r=_i(e);return[t,r,"str"]}function y3e(e,t,r){return r==null&&(r=tt(8+4*e.v.length)),np(t,r),Fa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function b3e(e,t,r){var n=e.l+t,a=Il(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=z2(e,n-e.l,r);o[3]=di(l,null,a,r.supbooks,r)}else e.l=n;return o}function w3e(e,t,r){var n=e.l+t,a=Il(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=z2(e,n-e.l,r);o[3]=di(l,null,a,r.supbooks,r)}else e.l=n;return o}function _3e(e,t,r){var n=e.l+t,a=Il(e);a.r=r["!row"];var i=xi(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=z2(e,n-e.l,r);o[3]=di(l,null,a,r.supbooks,r)}else e.l=n;return o}function j3e(e,t,r){var n=e.l+t,a=Il(e);a.r=r["!row"];var i=_i(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=z2(e,n-e.l,r);o[3]=di(l,null,a,r.supbooks,r)}else e.l=n;return o}var N3e=sp,S3e=dx;function k3e(e,t){return t==null&&(t=tt(4)),t.write_shift(4,e),t}function C3e(e,t){var r=e.l+t,n=sp(e),a=i5(e),i=_i(e),o=_i(e),l=_i(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function E3e(e,t){var r=tt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));dx({s:xs(e[0]),e:xs(e[0])},r),o5("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Fa(a||"",r),Fa(e[1].Tooltip||"",r),Fa("",r),r.slice(0,r.l)}function T3e(){}function A3e(e,t,r){var n=e.l+t,a=Vse(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=eIe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function P3e(e,t,r){var n=e.l+t,a=sp(e),i=[a];if(r.cellFormula){var o=rIe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function O3e(e,t,r){r==null&&(r=tt(18));var n=q2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Hae=["left","right","top","bottom","header","footer"];function R3e(e){var t={};return Hae.forEach(function(r){t[r]=xi(e)}),t}function D3e(e,t){return t==null&&(t=tt(48)),sm(e),Hae.forEach(function(r){Om(e[r],t)}),t}function I3e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function M3e(e,t,r){r==null&&(r=tt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function F3e(e){var t=tt(24);return t.write_shift(4,4),t.write_shift(4,1),dx(e,t),t}function L3e(e,t){return t==null&&(t=tt(66)),t.write_shift(2,e.password?m5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function $3e(){}function B3e(){}function U3e(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,p,y,g,v,_,w,b,E,S,C=[];l.biff=12,l["!row"]=0;var k=0,R=!1,P=[],O={},A=l.supbooks||a.supbooks||[[]];if(A.sharedf=O,A.arrayf=P,A.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!l.supbooks&&(l.supbooks=A,a.Names))for(var D=0;D<a.Names.length;++D)A[0][D+1]=a.Names[D];var F=[],B=[],z=!1;mb[16]={n:"BrtShortReal",f:Wae};var q;if(cd(e,function(M,H,Z){if(!m)switch(Z){case 148:u=M;break;case 0:p=M,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),E=Cs(v=p.r),l["!row"]=p.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=y0(M.hpt)),B[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:M[2]},M[2]){case"n":y.v=M[1];break;case"s":b=xy[M[1]],y.v=b.t,y.r=b.r;break;case"b":y.v=!!M[1];break;case"e":y.v=M[1],l.cellText!==!1&&(y.w=ud[y.v]);break;case"str":y.t="s",y.v=M[1];break;case"is":y.t="s",y.v=M[1].t;break}if((g=o.CellXf[M[0].iStyleRef])&&Vae(y,g.numFmtId,null,l,i,o),_=M[0].c==-1?_+1:M[0].c,l.dense?(c[v]||(c[v]=[]),c[v][_]=y):c[es(_)+E]=y,l.cellFormula){for(R=!1,k=0;k<P.length;++k){var L=P[k];p.r>=L[0].s.r&&p.r<=L[0].e.r&&_>=L[0].s.c&&_<=L[0].e.c&&(y.F=Tr(L[0]),R=!0)}!R&&M.length>3&&(y.f=M[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>_&&(d.s.c=_),d.e.r<p.r&&(d.e.r=p.r),d.e.c<_&&(d.e.c=_),l.cellDates&&g&&y.t=="n"&&Qm(sr[g.numFmtId])){var J=rf(y.v);J&&(y.t="d",y.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}q&&(q.type=="XLDAPR"&&(y.D=!0),q=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;y={t:"z",v:void 0},_=M[0].c==-1?_+1:M[0].c,l.dense?(c[v]||(c[v]=[]),c[v][_]=y):c[es(_)+E]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>_&&(d.s.c=_),d.e.r<p.r&&(d.e.r=p.r),d.e.c<_&&(d.e.c=_),q&&(q.type=="XLDAPR"&&(y.D=!0),q=void 0);break;case 176:C.push(M);break;case 49:q=((l.xlmeta||{}).Cell||[])[M-1];break;case 494:var V=n["!id"][M.relId];for(V?(M.Target=V.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=V):M.relId==""&&(M.Target="#"+M.loc),v=M.rfx.s.r;v<=M.rfx.e.r;++v)for(_=M.rfx.s.c;_<=M.rfx.e.c;++_)l.dense?(c[v]||(c[v]=[]),c[v][_]||(c[v][_]={t:"z",v:void 0}),c[v][_].l=M):(w=dr({c:_,r:v}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=M);break;case 426:if(!l.cellFormula)break;P.push(M),S=l.dense?c[v][_]:c[es(_)+E],S.f=di(M[1],d,{r:p.r,c:_},A,l),S.F=Tr(M[0]);break;case 427:if(!l.cellFormula)break;O[dr(M[0].s)]=M[1],S=l.dense?c[v][_]:c[es(_)+E],S.f=di(M[1],d,{r:p.r,c:_},A,l);break;case 60:if(!l.cellStyles)break;for(;M.e>=M.s;)F[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},z||(z=!0,p5(M.w/256)),Rf(F[M.e+1]);break;case 161:c["!autofilter"]={ref:Tr(M)};break;case 476:c["!margins"]=M;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),M.name&&(a.Sheets[r].CodeName=M.name),(M.above||M.left)&&(c["!outline"]={above:M.above,left:M.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),M.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!H.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Tr(u||d)),l.sheetRows&&c["!ref"]){var G=Yr(c["!ref"]);l.sheetRows<=+G.e.r&&(G.e.r=l.sheetRows-1,G.e.r>d.e.r&&(G.e.r=d.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>d.e.c&&(G.e.c=d.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Tr(G))}return C.length>0&&(c["!merges"]=C),F.length>0&&(c["!cols"]=F),B.length>0&&(c["!rows"]=B),c}function V3e(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=$n(t),t.z=t.z||sr[14],t.v=ja(ts(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Gf(a.cellXfs,t,a),t.l&&i["!links"].push([dr(c),t.l]),t.c&&i["!comments"].push([dr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=b5(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?lt(e,18,o3e(t,c)):lt(e,7,a3e(t,c))):(c.t="str",o?lt(e,17,y3e(t,c)):lt(e,6,x3e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?lt(e,13,m3e(t,c)):lt(e,2,f3e(t,c)):o?lt(e,16,u3e(t,c)):lt(e,5,c3e(t,c)),!0;case"b":return c.t="b",o?lt(e,15,QIe(t,c)):lt(e,4,JIe(t,c)),!0;case"e":return c.t="e",o?lt(e,14,n3e(t,c)):lt(e,3,t3e(t,c)),!0}return o?lt(e,12,YIe(t,c)):lt(e,1,GIe(t,c)),!0}function z3e(e,t,r,n){var a=Yr(t["!ref"]||"A1"),i,o="",l=[];lt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Cs(d),BIe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=es(m)),i=l[m]+o;var p=c?(t[d]||[])[m]:t[i];if(!p){f=!1;continue}f=V3e(e,p,d,m,n,t,f)}}lt(e,146)}function q3e(e,t){!t||!t["!merges"]||(lt(e,177,k3e(t["!merges"].length)),t["!merges"].forEach(function(r){lt(e,176,S3e(r))}),lt(e,178))}function W3e(e,t){!t||!t["!cols"]||(lt(e,390),t["!cols"].forEach(function(r,n){r&&lt(e,60,O3e(n,r))}),lt(e,391))}function H3e(e,t){!t||!t["!ref"]||(lt(e,648),lt(e,649,F3e(Yr(t["!ref"]))),lt(e,650))}function G3e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=_n(r,-1,n[1].Target.replace(/#.*$/,""),qr.HLINK);lt(e,494,E3e(n,a))}}),delete t["!links"]}function K3e(e,t,r,n){if(t["!comments"].length>0){var a=_n(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",qr.VML);lt(e,551,o5("rId"+a)),t["!legacy"]=a}}function Y3e(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Tr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Hi(i);l.s.r==l.e.r&&(l.e.r=Hi(t["!ref"]).e.r,i=Tr(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),lt(e,161,dx(Yr(i))),lt(e,162)}}function X3e(e,t,r){lt(e,133),lt(e,137,M3e(t,r)),lt(e,138),lt(e,134)}function J3e(e,t){t["!protect"]&&lt(e,535,L3e(t["!protect"]))}function Z3e(e,t,r,n){var a=go(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Yr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],lt(a,129),(r.vbaraw||o["!outline"])&&lt(a,147,WIe(l,o["!outline"])),lt(a,148,VIe(c)),X3e(a,o,r.Workbook),W3e(a,o),z3e(a,o,e,t),J3e(a,o),Y3e(a,o,r,e),q3e(a,o),G3e(a,o,n),o["!margins"]&&lt(a,476,D3e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&H3e(a,o),K3e(a,o,e,n),lt(a,130),a.end()}function Q3e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=nn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function eMe(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=Q3e(f);d.s.r=d.s.c=0,d.e.c=l,u=es(l),m[0].forEach(function(p,y){o[u+Cs(y)]={t:"n",v:p,z:m[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Tr(d)),o}function tMe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(zae);return l&&w5(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function rMe(e,t){e.l+=10;var r=_i(e);return{name:r}}function nMe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return cd(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var _5=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sMe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],aMe=[],iMe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xV(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Qn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function vV(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Qn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Gae(e){vV(e.WBProps,_5),vV(e.CalcPr,iMe),xV(e.WBView,sMe),xV(e.Sheets,aMe),Kg.date1904=Qn(e.WBProps.date1904)}function oMe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Qn(e.Workbook.WBProps.date1904)?"true":"false"}var lMe="][*?/\\".split("");function Kae(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return lMe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function cMe(e,t,r){e.forEach(function(n,a){Kae(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Yae(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];cMe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)oIe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var uMe=/<\w+:workbook/;function dMe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Si,function(c,u){var d=mr(c);switch(lu(d[0])){case"<?xml":break;case"<workbook":c.match(uMe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":_5.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Qn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=On(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=nn(On(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=On(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Qn(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=nn(On(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),ep.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Gae(r),r}function Xae(e){var t=[zs];t[t.length]=_t("workbook",null,{xmlns:ep[0],"xmlns:r":ba.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(_5.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=_t("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Sn(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=_t("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=_t("definedName",Sn(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function fMe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=qD(e),r.name=_i(e),r}function hMe(e,t){return t||(t=tt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),o5(e.strRelID,t),Fa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function mMe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?_i(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function pMe(e,t){t||(t=tt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Bse(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function gMe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function xMe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=KTe(e),o=tIe(e,0,r),l=i5(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function vMe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],mb[16]={n:"BrtFRTArchID$",f:gMe},cd(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=di(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Gae(r),r.Names=i,r.supbooks=o,r}function yMe(e,t){lt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};lt(e,156,hMe(a))}lt(e,144)}function bMe(e,t){t||(t=tt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Fa("SheetJS",t),Fa(nb.version,t),Fa(nb.version,t),Fa("7262",t),t.length>t.l?t.slice(0,t.l):t}function wMe(e,t){t||(t=tt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function _Me(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(lt(e,135),lt(e,158,wMe(a)),lt(e,136))}}function jMe(e,t){var r=go();return lt(r,131),lt(r,128,bMe()),lt(r,153,pMe(e.Workbook&&e.Workbook.WBProps||null)),_Me(r,e),yMe(r,e),lt(r,132),r.end()}function NMe(e,t,r){return t.slice(-4)===".bin"?vMe(e,r):dMe(e,r)}function SMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?U3e(e,n,r,a,i,o,l):vIe(e,n,r,a,i,o,l)}function kMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?nMe(e,n,r,a,i):tMe(e,n,r,a,i)}function CMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?ARe():PRe()}function EMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?ERe():TRe()}function TMe(e,t,r,n){return t.slice(-4)===".bin"?SOe(e,r,n):hOe(e,r,n)}function AMe(e,t,r){return Tae(e,r)}function PMe(e,t,r){return t.slice(-4)===".bin"?O4e(e,r):T4e(e,r)}function OMe(e,t,r){return t.slice(-4)===".bin"?jRe(e,r):mRe(e,r)}function RMe(e,t,r){return t.slice(-4)===".bin"?dRe(e):cRe(e)}function DMe(e,t,r,n){return r.slice(-4)===".bin"?fRe(e,t,r,n):void 0}function IMe(e,t,r){return t.slice(-4)===".bin"?iRe(e,t,r):lRe(e,t,r)}function MMe(e,t,r){return(t.slice(-4)===".bin"?jMe:Xae)(e)}function FMe(e,t,r,n,a){return(t.slice(-4)===".bin"?Z3e:qae)(e,r,n,a)}function LMe(e,t,r){return(t.slice(-4)===".bin"?IOe:Cae)(e,r)}function $Me(e,t,r){return(t.slice(-4)===".bin"?I4e:yae)(e,r)}function BMe(e,t,r){return(t.slice(-4)===".bin"?NRe:Oae)(e)}function UMe(e){return(e.slice(-4)===".bin"?oRe:Aae)()}var Jae=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Zae=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wl(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Jae),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(Zae),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function VMe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Jae),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(Zae),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var yy;function zMe(e,t){var r=yy[e]||nn(e);return r==="General"?Am(t):Xo(r,t)}function qMe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Qn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ts(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[nn(t)]=a}function WMe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||ud[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ab(e.v):e.w=Am(e.v):e.w=zMe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=yy[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Qm(n)){var a=rf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function HMe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=aOe[n.Pattern]||n.Pattern)}e[t.ID]=t}function GMe(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,m={};u=u||{};var p=[],y=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Qn(e);break;case"String":n.t="s",n.r=I7(nn(e)),n.v=e.indexOf("<")>-1?nn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ts(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=nn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Wse[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=I7(t||e));break}if(WMe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=nn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Gg(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Gg("RC:RC",a):n.ArrayRange&&(n.F=Gg(n.ArrayRange,a),c.push([Yr(n.F),n.F]))}else for(y=0;y<c.length;++y)a.r>=c[y][0].s.r&&a.r<=c[y][0].e.r&&a.c>=c[y][0].s.c&&a.c<=c[y][0].e.c&&(n.F=c[y][1]);u.cellStyles&&(p.forEach(function(v){!m.patternType&&v.patternType&&(m.patternType=v.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function KMe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function DT(e,t){var r=t||{};lx();var n=xg(XF(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof Jr<"u"?n=Jr.utils.decode(65001,NN(n)):n=On(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=$n(r);return o.type="string",v0.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){a.indexOf("<"+Je)>=0&&(i=!0)}),i)return AFe(n,r);yy={"General Number":"General","General Date":sr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":sr[15],"Short Date":sr[14],"Long Time":sr[19],"Medium Time":sr[18],"Short Time":sr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:sr[2],Standard:sr[4],Percent:sr[10],Scientific:sr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],m=r.dense?[]:{},p="",y={},g={},v=Wl('<Data ss:Type="String">'),_=0,w=0,b=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},C={},k="",R=0,P=[],O={},A={},D=0,F=[],B=[],z={},q=[],G,Y=!1,M=[],H=[],Z={},L=0,J=0,V={Sheets:[],WBProps:{date1904:!1}},X={};lb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";l=lb.exec(n);)switch(l[3]=(ne=l[3]).toLowerCase()){case"data":if(ne=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?GMe(n.slice(_,l.index),k,v,c[c.length-1][0]=="comment"?z:y,{c:w,r:b},S,q[w],g,M,r):(k="",v=Wl(l[0]),_=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(B.length>0&&(y.c=B),(!r.sheetRows||r.sheetRows>b)&&y.v!==void 0&&(r.dense?(m[b]||(m[b]=[]),m[b][w]=y):m[es(w)+Cs(b)]=y),y.HRef&&(y.l={Target:nn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(L=w+(parseInt(y.MergeAcross,10)|0),J=b+(parseInt(y.MergeDown,10)|0),P.push({s:{c:w,r:b},e:{c:L,r:J}})),!r.sheetStubs)y.MergeAcross?w=L+1:++w;else if(y.MergeAcross||y.MergeDown){for(var se=w;se<=L;++se)for(var ue=b;ue<=J;++ue)(se>w||ue>b)&&(r.dense?(m[ue]||(m[ue]=[]),m[ue][se]={t:"z"}):m[es(se)+Cs(ue)]={t:"z"});w=L+1}else++w;else y=VMe(l[0]),y.Index&&(w=+y.Index-1),w<E.s.c&&(E.s.c=w),w>E.e.c&&(E.e.c=w),l[0].slice(-2)==="/>"&&++w,B=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<E.s.r&&(E.s.r=b),b>E.e.r&&(E.e.r=b),l[0].slice(-2)==="/>"&&(g=Wl(l[0]),g.Index&&(b=+g.Index-1)),w=0,++b):(g=Wl(l[0]),g.Index&&(b=+g.Index-1),Z={},(g.AutoFitHeight=="0"||g.Height)&&(Z.hpx=parseInt(g.Height,10),Z.hpt=hb(Z.hpx),H[b]=Z),g.Hidden=="1"&&(Z.hidden=!0,H[b]=Z));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(m["!ref"]=Tr(E),r.sheetRows&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=Tr(E))),P.length&&(m["!merges"]=P),q.length>0&&(m["!cols"]=q),H.length>0&&(m["!rows"]=H),d[p]=m}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,c.push([l[3],!1]),u=Wl(l[0]),p=nn(u.Name),m=r.dense?[]:{},P=[],M=[],H=[],X={name:p,Hidden:0},V.Sheets.push(X);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),q=[],Y=!1}break;case"style":l[1]==="/"?HMe(S,C,r):C=Wl(l[0]);break;case"numberformat":C.nf=nn(Wl(l[0]).Format||"General"),yy[C.nf]&&(C.nf=yy[C.nf]);for(var W=0;W!=392&&sr[W]!=C.nf;++W);if(W==392){for(W=57;W!=392;++W)if(sr[W]==null){Gc(C.nf,W);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(G=Wl(l[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!Y&&G.wpx>10){Y=!0,fi=Sae;for(var ae=0;ae<q.length;++ae)q[ae]&&Rf(q[ae])}Y&&Rf(G),q[G.Index-1||q.length]=G;for(var oe=0;oe<+G.Span;++oe)q[q.length]=$n(G);break;case"namedrange":if(l[1]==="/")break;V.Names||(V.Names=[]);var K=mr(l[0]),be={Name:K.Name,Ref:Gg(K.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(be.Sheet=V.Sheets.length-1),V.Names.push(be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?k+=n.slice(R,l.index):R=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=Wl(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?yAe(O,ne,n.slice(D,l.index)):D=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));KMe(z),B.push(z)}else c.push([l[3],!1]),u=Wl(l[0]),z={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var pe=Wl(l[0]);m["!autofilter"]={ref:Gg(pe.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return jV(n,r);var Ee=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ee=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ee=!1}break;case"excelworkbook":switch(l[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ee=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ee=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(D,l.index)){case"SheetHidden":X.Hidden=1;break;case"SheetVeryHidden":X.Hidden=2;break}else D=l.index+l[0].length;break;case"header":m["!margins"]||sm(m["!margins"]={},"xlml"),isNaN(+mr(l[0]).Margin)||(m["!margins"].header=+mr(l[0]).Margin);break;case"footer":m["!margins"]||sm(m["!margins"]={},"xlml"),isNaN(+mr(l[0]).Margin)||(m["!margins"].footer=+mr(l[0]).Margin);break;case"pagemargins":var Ae=mr(l[0]);m["!margins"]||sm(m["!margins"]={},"xlml"),isNaN(+Ae.Top)||(m["!margins"].top=+Ae.Top),isNaN(+Ae.Left)||(m["!margins"].left=+Ae.Left),isNaN(+Ae.Right)||(m["!margins"].right=+Ae.Right),isNaN(+Ae.Bottom)||(m["!margins"].bottom=+Ae.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ee=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ee=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ee=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ee=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ee=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ee=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ee=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ee=!1}break;case"smarttags":break;default:Ee=!1;break}if(Ee||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?qMe(A,ne,F,n.slice(D,l.index)):(F=l,D=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var fe={};return!r.bookSheets&&!r.bookProps&&(fe.Sheets=d),fe.SheetNames=f,fe.Workbook=V,fe.SSF=$n(sr),fe.Props=O,fe.Custprops=A,fe}function JD(e,t){switch(S5(t=t||{}),t.type||"base64"){case"base64":return DT(Yo(e),t);case"binary":case"buffer":case"file":return DT(e,t);case"array":return DT(Wf(e),t)}}function YMe(e,t){var r=[];return e.Props&&r.push(bAe(e.Props,t)),e.Custprops&&r.push(wAe(e.Props,e.Custprops)),r.join("")}function XMe(){return""}function JMe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(_t("NumberFormat",null,{"ss:Format":Sn(sr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(_t("Style",i.join(""),o))}),_t("Styles",r.join(""))}function Qae(e){return _t("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+v5(e.Ref,{r:0,c:0})})}function ZMe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Qae(a)))}return _t("Names",r.join(""))}function QMe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Qae(l)))}return i.join("")}function eFe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(_t("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(_t("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(_t("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(_t("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Xa("ProtectContents","True")),e["!protect"].objects&&a.push(Xa("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Xa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Xa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Xa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":_t("WorksheetOptions",a.join(""),{xmlns:Ro.x})}function tFe(e){return e.map(function(t){var r=jTe(t.t||""),n=_t("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return _t("Comment",n,{"ss:Author":t.a})}).join("")}function rFe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Sn(v5(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=xs(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Sn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Sn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=ud[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||sr[14]);break;case"s":f="String",m=_Te(e.v||"");break}var p=Gf(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(g+=tFe(e.c)),_t("Cell",g,l)}function nFe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=y0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function sFe(e,t,r,n){if(!e["!ref"])return"";var a=Yr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,_){Rf(v);var w=!!v.width,b=q2(_,v),E={"ss:Index":_+1};w&&(E["ss:Width"]=db(b.width)),v.hidden&&(E["ss:Hidden"]="1"),l.push(_t("Column",null,E))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[nFe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:f},y=dr(p),g=c?(e[u]||[])[f]:e[y];d.push(rFe(g,y,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function aFe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?QMe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?sFe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(eFe(i,t,e,r)),n.join("")}function iFe(e,t){t||(t={}),e.SSF||(e.SSF=$n(sr)),e.SSF&&(lx(),Iw(e.SSF),t.revssf=L2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Gf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(YMe(e,t)),r.push(XMe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(_t("Worksheet",aFe(n,t,e),{"ss:Name":Sn(e.SheetNames[n])}));return r[2]=JMe(e,t),r[3]=ZMe(e),zs+_t("Workbook",r.join(""),{xmlns:Ro.ss,"xmlns:o":Ro.o,"xmlns:x":Ro.x,"xmlns:ss":Ro.ss,"xmlns:dt":Ro.dt,"xmlns:html":Ro.html})}function oFe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=QTe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=eAe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var lFe=[60,1084,2066,2165,2175];function cFe(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Ru(r,r.l),u=ZD[c],d=0;u!=null&&lFe.indexOf(c)>-1;)i=Ru(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=ZD[c=Ru(r,r.l)];var f=Ma(o);Ha(f,0);var m=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(m),m+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Ec(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=sr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||ud[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ab(e.v):e.w=Am(e.v):e.w=Xo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Qm(sr[n]||String(n))){var a=rf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function H_(e,t,r){return{v:e,ixfe:t,t:r}}function uFe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,m="",p,y,g,v,_={},w=[],b,E,S=[],C=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},P=function(Ie){return Ie<8?tm[Ie]:Ie<64&&C[Ie-8]||tm[Ie]},O=function(Ie,de,Re){var rt=de.XF.data;if(!(!rt||!rt.patternType||!Re||!Re.cellStyles)){de.s={},de.s.patternType=rt.patternType;var xt;(xt=ub(P(rt.icvFore)))&&(de.s.fgColor={rgb:xt}),(xt=ub(P(rt.icvBack)))&&(de.s.bgColor={rgb:xt})}},A=function(Ie,de,Re){if(!(Z>1)&&!(Re.sheetRows&&Ie.r>=Re.sheetRows)){if(Re.cellStyles&&de.XF&&de.XF.data&&O(Ie,de,Re),delete de.ixfe,delete de.XF,f=Ie,m=dr(Ie),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Ie.r<o.s.r&&(o.s.r=Ie.r),Ie.c<o.s.c&&(o.s.c=Ie.c),Ie.r+1>o.e.r&&(o.e.r=Ie.r+1),Ie.c+1>o.e.c&&(o.e.c=Ie.c+1),Re.cellFormula&&de.f){for(var rt=0;rt<w.length;++rt)if(!(w[rt][0].s.c>Ie.c||w[rt][0].s.r>Ie.r)&&!(w[rt][0].e.c<Ie.c||w[rt][0].e.r<Ie.r)){de.F=Tr(w[rt][0]),(w[rt][0].s.c!=Ie.c||w[rt][0].s.r!=Ie.r)&&delete de.f,de.f&&(de.f=""+di(w[rt][1],o,Ie,M,D));break}}Re.dense?(a[Ie.r]||(a[Ie.r]=[]),a[Ie.r][Ie.c]=de):a[m]=de}},D={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(D.password=t.password);var F,B=[],z=[],q=[],G=[],Y=!1,M=[];M.SheetNames=D.snames,M.sharedf=D.sharedf,M.arrayf=D.arrayf,M.names=[],M.XTI=[];var H=0,Z=0,L=0,J=[],V=[],X;D.codepage=1200,Nl(1200);for(var ne=!1;e.l<e.length-1;){var se=e.l,ue=e.read_shift(2);if(ue===0&&H===10)break;var W=e.l===e.length?0:e.read_shift(2),ae=ZD[ue];if(ae&&ae.f){if(t.bookSheets&&H===133&&ue!==133)break;if(H=ue,ae.r===2||ae.r==12){var oe=e.read_shift(2);if(W-=2,!D.enc&&oe!==ue&&((oe&255)<<8|oe>>8)!==ue)throw new Error("rt mismatch: "+oe+"!="+ue);ae.r==12&&(e.l+=10,W-=10)}var K={};if(ue===10?K=ae.f(e,W,D):K=cFe(ue,ae,e,W,D),Z==0&&[9,521,1033,2057].indexOf(H)===-1)continue;switch(ue){case 34:r.opts.Date1904=k.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(D.enc||(e.l=0),D.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=K;break;case 66:var be=Number(K);switch(be){case 21010:be=1200;break;case 32768:be=1e4;break;case 32769:be=1252;break}Nl(D.codepage=be),ne=!0;break;case 317:D.rrtabid=K;break;case 25:D.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:D.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(a["!type"]="dialog"),K.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),K.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(K);break;case 430:M.push([K]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(K);break;case 24:case 536:X={Name:K.Name,Ref:di(K.rgce,o,null,M,D)},K.itab>0&&(X.Sheet=K.itab-1),M.names.push(X),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(V[K.itab-1]={ref:Tr(K.rgce[0][0][1][2])});break;case 22:D.ExternCount=K;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(K),M.XTI=M.XTI.concat(K);break;case 2196:if(D.biff<8)break;X!=null&&(X.Comment=K[1]);break;case 18:a["!protect"]=K;break;case 19:K!==0&&D.WTF&&console.error("Password verifier: "+K);break;case 133:i[K.pos]=K,D.snames.push(K.name);break;case 10:{if(--Z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Tr(o),t.sheetRows&&t.sheetRows<=o.e.r){var pe=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Tr(o),o.e.r=pe}o.e.r++,o.e.c++}B.length>0&&(a["!merges"]=B),z.length>0&&(a["!objects"]=z),q.length>0&&(a["!cols"]=q),G.length>0&&(a["!rows"]=G),k.Sheets.push(R)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),D.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(D.biff=5,ne=!0,Nl(D.codepage=28591)),D.biff==8&&K.BIFFVer==0&&K.dt==16&&(D.biff=2),Z++)break;if(a=t.dense?[]:{},D.biff<8&&!ne&&(ne=!0,Nl(D.codepage=t.codepage||1252)),D.biff<5||K.BIFFVer==0&&K.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ee={pos:e.l-W,name:u};i[Ee.pos]=Ee,D.snames.push(u)}else u=(i[se]||{name:""}).name;K.dt==32&&(a["!type"]="chart"),K.dt==64&&(a["!type"]="macro"),B=[],z=[],D.arrayf=w=[],q=[],G=[],Y=!1,R={Hidden:(i[se]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[K.r]||[])[K.c]:a[dr({c:K.c,r:K.r})])&&++K.c,b={ixfe:K.ixfe,XF:S[K.ixfe]||{},v:K.val,t:"n"},L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:K.c,r:K.r},b,t);break;case 5:case 517:b={ixfe:K.ixfe,XF:S[K.ixfe],v:K.val,t:K.t},L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:K.c,r:K.r},b,t);break;case 638:b={ixfe:K.ixfe,XF:S[K.ixfe],v:K.rknum,t:"n"},L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:K.c,r:K.r},b,t);break;case 189:for(var Ae=K.c;Ae<=K.C;++Ae){var fe=K.rkrec[Ae-K.c][0];b={ixfe:fe,XF:S[fe],v:K.rkrec[Ae-K.c][1],t:"n"},L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:Ae,r:K.r},b,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){l=K;break}if(b=H_(K.val,K.cell.ixfe,K.tt),b.XF=S[b.ixfe],t.cellFormula){var Je=K.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var Ye=Je[0][0][1][0],ce=Je[0][0][1][1],we=dr({r:Ye,c:ce});_[we]?b.f=""+di(K.formula,o,K.cell,M,D):b.F=((t.dense?(a[Ye]||[])[ce]:a[we])||{}).F}else b.f=""+di(K.formula,o,K.cell,M,D)}L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A(K.cell,b,t),l=K}break;case 7:case 519:if(l)l.val=K,b=H_(K,l.cell.ixfe,"s"),b.XF=S[b.ixfe],t.cellFormula&&(b.f=""+di(l.formula,o,l.cell,M,D)),L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(K);var Oe=dr(K[0].s);if(p=t.dense?(a[K[0].s.r]||[])[K[0].s.c]:a[Oe],t.cellFormula&&p){if(!l||!Oe||!p)break;p.f=""+di(K[1],o,K[0],M,D),p.F=Tr(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;_[dr(l.cell)]=K[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[dr(l.cell)],(p||{}).f=""+di(K[0],o,f,M,D)}}break;case 253:b=H_(c[K.isst].t,K.ixfe,"s"),c[K.isst].h&&(b.h=c[K.isst].h),b.XF=S[b.ixfe],L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:K.c,r:K.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:K.ixfe,XF:S[K.ixfe],t:"z"},L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:K.c,r:K.r},b,t));break;case 190:if(t.sheetStubs)for(var He=K.c;He<=K.C;++He){var Ge=K.ixfe[He-K.c];b={ixfe:Ge,XF:S[Ge],t:"z"},L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:He,r:K.r},b,t)}break;case 214:case 516:case 4:b=H_(K.val,K.ixfe,"s"),b.XF=S[b.ixfe],L>0&&(b.z=J[b.ixfe>>8&63]),Ec(b,t,r.opts.Date1904),A({c:K.c,r:K.r},b,t);break;case 0:case 512:Z===1&&(o=K);break;case 252:c=K;break;case 1054:if(D.biff==4){J[L++]=K[1];for(var Ne=0;Ne<L+163&&sr[Ne]!=K[1];++Ne);Ne>=163&&Gc(K[1],L+163)}else Gc(K[1],K[0]);break;case 30:{J[L++]=K;for(var ee=0;ee<L+163&&sr[ee]!=K;++ee);ee>=163&&Gc(K,L+163)}break;case 229:B=B.concat(K);break;case 93:z[K.cmo[0]]=D.lastobj=K;break;case 438:D.lastobj.TxO=K;break;case 127:D.lastobj.ImData=K;break;case 440:for(v=K[0].s.r;v<=K[0].e.r;++v)for(g=K[0].s.c;g<=K[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[dr({c:g,r:v})],p&&(p.l=K[1]);break;case 2048:for(v=K[0].s.r;v<=K[0].e.r;++v)for(g=K[0].s.c;g<=K[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[dr({c:g,r:v})],p&&p.l&&(p.l.Tooltip=K[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;p=t.dense?(a[K[0].r]||[])[K[0].c]:a[dr(K[0])];var _e=z[K[2]];p||(t.dense?(a[K[0].r]||(a[K[0].r]=[]),p=a[K[0].r][K[0].c]={t:"z"}):p=a[dr(K[0])]={t:"z"},o.e.r=Math.max(o.e.r,K[0].r),o.s.r=Math.min(o.s.r,K[0].r),o.e.c=Math.max(o.e.c,K[0].c),o.s.c=Math.min(o.s.c,K[0].c)),p.c||(p.c=[]),y={a:K[1],t:_e.TxO.t},p.c.push(y)}break;case 2173:ZOe(S[K.ixfe],K.ext);break;case 125:{if(!D.cellStyles)break;for(;K.e>=K.s;)q[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},Y||(Y=!0,p5(K.w/256)),Rf(q[K.e+1])}break;case 520:{var ge={};K.level!=null&&(G[K.r]=ge,ge.level=K.level),K.hidden&&(G[K.r]=ge,ge.hidden=!0),K.hpt&&(G[K.r]=ge,ge.hpt=K.hpt,ge.hpx=y0(K.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||sm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=K;break;case 161:a["!margins"]||sm(a["!margins"]={}),a["!margins"].header=K.header,a["!margins"].footer=K.footer;break;case 574:K.RTL&&(k.Views[0].RTL=!0);break;case 146:C=K;break;case 2198:F=K;break;case 140:E=K;break;case 442:u?R.CodeName=K||R.name:k.WBProps.CodeName=K||"ThisWorkbook";break}}else ae||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=W}return r.SheetNames=As(i).sort(function(Be,Ie){return Number(Be)-Number(Ie)}).map(function(Be){return i[Be].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&V.forEach(function(Be,Ie){r.Sheets[r.SheetNames[Ie]]["!autofilter"]=Be}),r.Strings=c,r.SSF=$n(sr),D.enc&&(r.Encryption=D.enc),F&&(r.Themes=F),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),M.names.length>0&&(k.Names=M.names),r.Workbook=k,r}var by={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dFe(e,t,r){var n=Xt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=Q7(n,WD,by.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Xt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=Q7(o,HD,by.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Jse(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function fFe(e,t){var r=[],n=[],a=[],i=0,o,l=T7(WD,"n"),c=T7(HD,"n");if(e.Props)for(o=As(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=As(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)sae.indexOf(a[i][0])>-1||Xse.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Xt.utils.cfb_add(t,"/SummaryInformation",eV(n,by.SI,c,HD)),(r.length||u.length)&&Xt.utils.cfb_add(t,"/DocumentSummaryInformation",eV(r,by.DSI,l,WD,u.length?u:null,by.UDI))}function j5(e,t){t||(t={}),S5(t),M2(),t.codepage&&I2(t.codepage);var r,n;if(e.FullPaths){if(Xt.find(e,"/encryption"))throw new Error("File is password-protected");r=Xt.find(e,"!CompObj"),n=Xt.find(e,"/Workbook")||Xt.find(e,"/Book")}else{switch(t.type){case"base64":e=Mo(Yo(e));break;case"binary":e=Mo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ha(e,0),n={content:e}}var a,i;if(r&&oFe(r),t.bookProps&&!t.bookSheets)a={};else{var o=$r?"buffer":"array";if(n&&n.content)a=uFe(n.content,t);else if((i=Xt.find(e,"PerfectOffice_MAIN"))&&i.content)a=nm.to_workbook(i.content,(t.type=o,t));else if((i=Xt.find(e,"NativeContent_MAIN"))&&i.content)a=nm.to_workbook(i.content,(t.type=o,t));else throw(i=Xt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Xt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=kRe(e))}var l={};return e.FullPaths&&dFe(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function hFe(e,t){var r=t||{},n=Xt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Xt.utils.cfb_add(n,a,eie(e,r)),r.biff==8&&(e.Props||e.Custprops)&&fFe(e,n),r.biff==8&&e.vbaraw&&CRe(n,Xt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var mb={0:{f:LIe},1:{f:HIe},2:{f:d3e},3:{f:e3e},4:{f:XIe},5:{f:l3e},6:{f:g3e},7:{f:s3e},8:{f:j3e},9:{f:_3e},10:{f:b3e},11:{f:w3e},12:{f:KIe},13:{f:h3e},14:{f:r3e},15:{f:ZIe},16:{f:Wae},17:{f:v3e},18:{f:i3e},19:{f:a5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xMe},40:{},42:{},43:{f:gOe},44:{f:mOe},45:{f:yOe},46:{f:wOe},47:{f:bOe},48:{},49:{f:UTe},50:{},51:{f:tRe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:pae},62:{f:p3e},63:{f:uRe},64:{f:$3e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ni,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:I3e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:qIe},148:{f:UIe,p:16},151:{f:T3e},152:{},153:{f:mMe},154:{},155:{},156:{f:fMe},157:{},158:{},159:{T:1,f:P4e},160:{T:-1},161:{T:1,f:sp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:N3e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:QOe},336:{T:-1},337:{f:sRe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:qD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:mae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:A3e},427:{f:P3e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:R3e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zIe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:C3e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:qD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:wRe},633:{T:1},634:{T:-1},635:{T:1,f:yRe},636:{T:-1},637:{f:WTe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rMe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:B3e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ZD={6:{f:OT},10:{f:Fd},12:{f:Ks},13:{f:Ks},14:{f:Ds},15:{f:Ds},16:{f:xi},17:{f:Ds},18:{f:Ds},19:{f:Ks},20:{f:iV},21:{f:iV},23:{f:mae},24:{f:lV},25:{f:Ds},26:{},27:{},28:{f:BPe},29:{},34:{f:Ds},35:{f:oV},38:{f:xi},39:{f:xi},40:{f:xi},41:{f:xi},42:{f:Ds},43:{f:Ds},47:{f:Z4e},49:{f:hPe},51:{f:Ks},60:{},61:{f:lPe},64:{f:Ds},65:{f:fPe},66:{f:Ks},77:{},80:{},81:{},82:{},85:{f:Ks},89:{},90:{},91:{},92:{f:JAe},93:{f:zPe},94:{},95:{f:Ds},96:{},97:{},99:{f:Ds},125:{f:pae},128:{f:EPe},129:{f:QAe},130:{f:Ks},131:{f:Ds},132:{f:Ds},133:{f:ePe},134:{},140:{f:JPe},141:{f:Ks},144:{},146:{f:e4e},151:{},152:{},153:{},154:{},155:{},156:{f:Ks},157:{},158:{},160:{f:o4e},161:{f:n4e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:NPe},190:{f:SPe},193:{f:Fd},197:{},198:{},199:{},200:{},201:{},202:{f:Ds},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ks},220:{},221:{f:Ds},222:{},224:{f:CPe},225:{f:XAe},226:{f:Fd},227:{},229:{f:UPe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:rPe},253:{f:pPe},255:{f:sPe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:aae},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ds},353:{f:Fd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:RPe},431:{f:Ds},432:{},433:{},434:{},437:{},438:{f:HPe},439:{f:Ds},440:{f:GPe},441:{},442:{f:Lw},443:{},444:{f:Ks},445:{},446:{},448:{f:Fd},449:{f:oPe,r:2},450:{f:Fd},512:{f:nV},513:{f:i4e},515:{f:PPe},516:{f:xPe},517:{f:aV},519:{f:l4e},520:{f:aPe},523:{},545:{f:cV},549:{f:rV},566:{},574:{f:uPe},638:{f:jPe},659:{},1048:{},1054:{f:yPe},1084:{},1212:{f:FPe},2048:{f:YPe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:z_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:t4e,r:12},2173:{f:JOe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ds,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:MPe,r:12},2197:{},2198:{f:WOe,r:12},2199:{},2200:{},2201:{},2202:{f:LPe,r:12},2203:{f:Fd},2204:{},2205:{},2206:{},2207:{},2211:{f:iPe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ks},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:s4e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:QPe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:nV},1:{},2:{f:h4e},3:{f:d4e},4:{f:u4e},5:{f:aV},7:{f:p4e},8:{},9:{f:z_},11:{},22:{f:Ks},30:{f:wPe},31:{},32:{},33:{f:cV},36:{},37:{f:rV},50:{f:g4e},62:{},52:{},67:{},68:{f:Ks},69:{},86:{},126:{},127:{f:c4e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:x4e},223:{},234:{},354:{},421:{},518:{f:OT},521:{f:z_},536:{f:lV},547:{f:oV},561:{},579:{},1030:{f:OT},1033:{f:z_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Nt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&r5(r)&&e.push(r)}}function mFe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Nt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Vw(e,t,r){return e||(e=tt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function pFe(e,t,r,n){var a=tt(9);return Vw(a,e,t),iae(r,n||"b",a),a}function gFe(e,t,r){var n=tt(8+2*r.length);return Vw(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function xFe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ja(ts(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Nt(e,2,m4e(r,n,a)):Nt(e,3,f4e(r,n,a));return;case"b":case"e":Nt(e,5,pFe(r,n,t.v,t.t));return;case"s":case"str":Nt(e,4,gFe(r,n,(t.v||"").slice(0,255)));return}Nt(e,1,Vw(null,r,n))}function vFe(e,t,r,n){var a=Array.isArray(t),i=Yr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Tr(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Cs(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=es(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&xFe(e,f,u,d)}}}function yFe(e,t){for(var r=t||{},n=go(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Nt(n,r.biff==4?1033:r.biff==3?521:9,f5(e,16,r)),vFe(n,e.Sheets[e.SheetNames[a]],a,r),Nt(n,10),n.end()}function bFe(e,t,r){Nt(e,49,mPe({sz:12,name:"Arial"},r))}function wFe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Nt(e,1054,bPe(a,t[a],r))})}function _Fe(e,t){var r=tt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Nt(e,2151,r),r=tt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),dae(Yr(t["!ref"]||"A1"),r),r.write_shift(4,4),Nt(e,2152,r)}function jFe(e,t){for(var r=0;r<16;++r)Nt(e,224,sV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Nt(e,224,sV(n,0,t))})}function NFe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Nt(e,440,KPe(n)),n[1].Tooltip&&Nt(e,2048,XPe(n))}delete t["!links"]}function SFe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Nt(e,125,r4e(q2(a,n),a))})}}function kFe(e,t,r,n,a){var i=16+Gf(a.cellXfs,t,a);if(t.v==null&&!t.bf){Nt(e,513,Dm(r,n,i));return}if(t.bf)Nt(e,6,QDe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?ja(ts(t.v)):t.v;Nt(e,515,OPe(r,n,o,i));break;case"b":case"e":Nt(e,517,APe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=b5(a.Strings,t.v,a.revStrings);Nt(e,253,gPe(r,n,l,i))}else Nt(e,516,vPe(r,n,(t.v||"").slice(0,255),i,a));break;default:Nt(e,513,Dm(r,n,i))}}function CFe(e,t,r){var n=go(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",m=[],p=Yr(i["!ref"]||"A1"),y=u?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}Nt(n,2057,f5(r,16,t)),Nt(n,13,pl(1)),Nt(n,12,pl(100)),Nt(n,15,Mi(!0)),Nt(n,17,Mi(!1)),Nt(n,16,Om(.001)),Nt(n,95,Mi(!0)),Nt(n,42,Mi(!1)),Nt(n,43,Mi(!1)),Nt(n,130,pl(1)),Nt(n,128,TPe()),Nt(n,131,Mi(!1)),Nt(n,132,Mi(!1)),u&&SFe(n,i["!cols"]),Nt(n,512,_Pe(p,t)),u&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Cs(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(m[v]=es(v)),d=m[v]+f;var _=c?(i[g]||[])[v]:i[d];_&&(kFe(n,_,g,v,t),u&&_.l&&i["!links"].push([d,_.l]))}}var w=l.CodeName||l.name||a;return u&&Nt(n,574,dPe((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Nt(n,229,VPe(i["!merges"])),u&&NFe(n,i),Nt(n,442,oae(w)),u&&_Fe(n,i),Nt(n,10),n.end()}function EFe(e,t,r){var n=go(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Nt(n,2057,f5(e,5,r)),r.bookType=="xla"&&Nt(n,135),Nt(n,225,l?pl(1200):null),Nt(n,193,AAe(2)),c&&Nt(n,191),c&&Nt(n,192),Nt(n,226),Nt(n,92,ZAe("SheetJS",r)),Nt(n,66,pl(l?1200:1252)),l&&Nt(n,353,pl(0)),l&&Nt(n,448),Nt(n,317,a4e(e.SheetNames.length)),l&&e.vbaraw&&Nt(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Nt(n,442,oae(u))}Nt(n,156,pl(17)),Nt(n,25,Mi(!1)),Nt(n,18,Mi(!1)),Nt(n,19,pl(0)),l&&Nt(n,431,Mi(!1)),l&&Nt(n,444,pl(0)),Nt(n,61,cPe()),Nt(n,64,Mi(!1)),Nt(n,141,pl(0)),Nt(n,34,Mi(oMe(e)=="true")),Nt(n,14,Mi(!0)),l&&Nt(n,439,Mi(!1)),Nt(n,218,pl(0)),bFe(n,e,r),wFe(n,e.SSF,r),jFe(n,r),l&&Nt(n,352,Mi(!1));var d=n.end(),f=go();l&&Nt(f,140,ZPe()),l&&r.Strings&&mFe(f,252,nPe(r.Strings)),Nt(f,10);var m=f.end(),p=go(),y=0,g=0;for(g=0;g<e.SheetNames.length;++g)y+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var v=d.length+y+m.length;for(g=0;g<e.SheetNames.length;++g){var _=i[g]||{};Nt(p,133,tPe({pos:v,hs:_.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var w=p.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var b=[];return d.length&&b.push(d),w.length&&b.push(w),m.length&&b.push(m),Ma(b)}function TFe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=$n(sr)),e&&e.SSF&&(lx(),Iw(e.SSF),r.revssf=L2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,k5(r),r.cellXfs=[],Gf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=CFe(a,r,e);return n.unshift(EFe(e,n,r)),Ma(n)}function eie(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Hi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return TFe(e,t);case 4:case 3:case 2:return yFe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function yV(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=mTe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var _=g.split(/<\/t[dh]>/i);for(l=0;l<_.length;++l){var w=_[l].trim();if(w.match(/<t[dh]/i)){for(var b=w,E=0;b.charAt(0)=="<"&&(E=b.indexOf(">"))>-1;)b=b.slice(E+1);for(var S=0;S<y.length;++S){var C=y[S];C.s.c==d&&C.s.r<u&&u<=C.e.r&&(d=C.e.c+1,S=-1)}var k=mr(w.slice(0,w.indexOf(">")));m=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||m>1)&&y.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var R=k.t||k["data-t"]||"";if(!b.length){d+=m;continue}if(b=Ese(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=m;continue}var P={t:"s",v:b};r.raw||!b.trim().length||R=="s"||(b==="TRUE"?P={t:"b",v:!0}:b==="FALSE"?P={t:"b",v:!1}:isNaN(cc(b))?isNaN(x0(b).getDate())||(P={t:"d",v:ts(b)},r.cellDates||(P={t:"n",v:ja(P.v)}),P.z=r.dateNF||sr[14]):P={t:"n",v:cc(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=P):n[dr({r:u,c:d})]=P,d+=m}}}}return n["!ref"]=Tr(p),y.length&&(n["!merges"]=y),n}function tie(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=dr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||YF(f.w||(tu(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(_t("td",m,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var rie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nie="</body></html>";function AFe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Hf(yV(r[0],t),t);var n=P5();return r.forEach(function(a,i){O5(n,yV(a,t),"Sheet"+(i+1))}),n}function sie(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function aie(e,t){var r=t||{},n=r.header!=null?r.header:rie,a=r.footer!=null?r.footer:nie,i=[n],o=Hi(e["!ref"]);r.dense=Array.isArray(e),i.push(sie(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(tie(e,o,l,r));return i.push("</table>"+a),i.join("")}function iie(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?xs(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Hi(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,p=e["!rows"]||(e["!rows"]=[]),y=0,g=0,v=0,_=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&g<c;++y){var E=l[y];if(bV(E)){if(n.display)continue;p[g]={hidden:!0}}var S=E.children;for(v=_=0;v<S.length;++v){var C=S[v];if(!(n.display&&bV(C))){var k=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):Ese(C.innerHTML),R=C.getAttribute("data-z")||C.getAttribute("z");for(m=0;m<f.length;++m){var P=f[m];P.s.c==_+i&&P.s.r<g+a&&g+a<=P.e.r&&(_=P.e.c+1-i,m=-1)}b=+C.getAttribute("colspan")||1,((w=+C.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:g+a,c:_+i},e:{r:g+a+(w||1)-1,c:_+i+(b||1)-1}});var O={t:"s",v:k},A=C.getAttribute("data-t")||C.getAttribute("t")||"";k!=null&&(k.length==0?O.t=A||"z":n.raw||k.trim().length==0||A=="s"||(k==="TRUE"?O={t:"b",v:!0}:k==="FALSE"?O={t:"b",v:!1}:isNaN(cc(k))?isNaN(x0(k).getDate())||(O={t:"d",v:ts(k)},n.cellDates||(O={t:"n",v:ja(O.v)}),O.z=n.dateNF||sr[14]):O={t:"n",v:cc(k)})),O.z===void 0&&R!=null&&(O.z=R);var D="",F=C.getElementsByTagName("A");if(F&&F.length)for(var B=0;B<F.length&&!(F[B].hasAttribute("href")&&(D=F[B].getAttribute("href"),D.charAt(0)!="#"));++B);D&&D.charAt(0)!="#"&&(O.l={Target:D}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][_+i]=O):e[dr({c:_+i,r:g+a})]=O,u.e.c<_+i&&(u.e.c=_+i),_+=b}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Tr(u),g>=c&&(e["!fullref"]=Tr((u.e.r=l.length-y+g-1+a,u))),e}function oie(e,t){var r=t||{},n=r.dense?[]:{};return iie(n,e,t)}function PFe(e,t){return Hf(oie(e,t),t)}function bV(e){var t="",r=OFe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function OFe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function RFe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=nn(t.replace(/<[^>]*>/g,""));return[r]}var wV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function lie(e,t){var r=t||{},n=XF(e),a=[],i,o,l={name:""},c="",u=0,d,f,m={},p=[],y=r.dense?[]:{},g,v,_={value:""},w="",b=0,E=[],S=-1,C=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,P={},O=[],A={},D=0,F=0,B=[],z=1,q=1,G=[],Y={Names:[]},M={},H=["",""],Z=[],L={},J="",V=0,X=!1,ne=!1,se=0;for(lb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=lb.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?y["!ref"]=Tr(k):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(y["!fullref"]=y["!ref"],k.e.r=r.sheetRows-1,y["!ref"]=Tr(k)),O.length&&(y["!merges"]=O),B.length&&(y["!rows"]=B),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=y,ne=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=mr(g[0],!1),S=C=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,y=r.dense?[]:{},O=[],B=[],ne=!0);break;case"table-row-group":g[1]==="/"?--R:++R;break;case"table-row":case"":if(g[1]==="/"){S+=z,z=1;break}if(f=mr(g[0],!1),f.?S=f.-1:S==-1&&(S=0),z=+f["number-rows-repeated"]||1,z<10)for(se=0;se<z;++se)R>0&&(B[S+se]={level:R});C=-1;break;case"covered-table-cell":g[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(y[S]||(y[S]=[]),y[S][C]={t:"z"}):y[dr({r:S,c:C})]={t:"z"}),w="",E=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++C,_=mr(g[0],!1),q=parseInt(_["number-columns-repeated"]||"1",10),v={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(v.f=gV(nn(_.formula))),(_.||_["value-type"])=="string"&&(v.t="s",v.v=nn(_["string-value"]||""),r.dense?(y[S]||(y[S]=[]),y[S][C]=v):y[dr({r:S,c:C})]=v),C+=q-1;else if(g[1]!=="/"){++C,w="",b=0,E=[],q=1;var ue=z?S+z-1:S;if(C>k.e.c&&(k.e.c=C),C<k.s.c&&(k.s.c=C),S<k.s.r&&(k.s.r=S),ue>k.e.r&&(k.e.r=ue),_=mr(g[0],!1),Z=[],L={},v={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=nn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(D=parseInt(_["number-matrix-rows-spanned"],10)||0,F=parseInt(_["number-matrix-columns-spanned"],10)||0,A={s:{r:S,c:C},e:{r:S+D-1,c:C+F-1}},v.F=Tr(A),G.push([A,v.F])),_.formula)v.f=gV(_.formula);else for(se=0;se<G.length;++se)S>=G[se][0].s.r&&S<=G[se][0].e.r&&C>=G[se][0].s.c&&C<=G[se][0].e.c&&(v.F=G[se][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(D=parseInt(_["number-rows-spanned"],10)||0,F=parseInt(_["number-columns-spanned"],10)||0,A={s:{r:S,c:C},e:{r:S+D-1,c:C+F-1}},O.push(A)),_["number-columns-repeated"]&&(q=parseInt(_["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Qn(_["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(_.value);break;case"percentage":v.t="n",v.v=parseFloat(_.value);break;case"currency":v.t="n",v.v=parseFloat(_.value);break;case"date":v.t="d",v.v=ts(_["date-value"]),r.cellDates||(v.t="n",v.v=ja(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=dTe(_["time-value"])/86400,r.cellDates&&(v.t="d",v.v=$2(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(_.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",_["string-value"]!=null&&(w=nn(_["string-value"]),E=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(X=!1,v.t==="s"&&(v.v=w||"",E.length&&(v.R=E),X=b==0),M.Target&&(v.l=M),Z.length>0&&(v.c=Z,Z=[]),w&&r.cellText!==!1&&(v.w=w),X&&(v.t="z",delete v.v),(!X||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var W=0;W<z;++W){if(q=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(y[S+W]||(y[S+W]=[]),y[S+W][C]=W==0?v:$n(v);--q>0;)y[S+W][C+q]=$n(v);else for(y[dr({r:S+W,c:C})]=v;--q>0;)y[dr({r:S+W,c:C+q})]=$n(v);k.e.c<=C&&(k.e.c=C)}q=parseInt(_["number-columns-repeated"]||"1",10),C+=q-1,q=0,v={},w="",E=[]}M={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;L.t=w,E.length&&(L.R=E),L.a=J,Z.push(L)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);J="",V=0,w="",b=0,E=[];break;case"creator":g[1]==="/"?J=n.slice(V,g.index):V=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);w="",b=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(P[l.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=mr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=mr(g[0],!1),c+=wV[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=mr(g[0],!1),c+=wV[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=mr(g[0],!1),H=RT(o["cell-range-address"]);var ae={Name:o.name,Ref:H[0]+"!"+H[1]};ne&&(ae.Sheet=p.length),Y.Names.push(ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var oe=RFe(n.slice(b,g.index));w=(w.length>0?w+`
`:"")+oe[0]}else mr(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{H=RT(mr(g[0])["target-range-address"]),m[H[0]]["!autofilter"]={ref:H[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(M=mr(g[0],!1),!M.href)break;M.Target=nn(M.href),delete M.href,M.Target.charAt(0)=="#"&&M.Target.indexOf(".")>-1?(H=RT(M.Target.slice(1)),M.Target="#"+H[0]+"!"+H[1]):M.Target.match(/^\.\.[\\\/]/)&&(M.Target=M.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var K={Sheets:m,SheetNames:p,Workbook:Y};return r.bookSheets&&delete K.Sheets,K}function _V(e,t){t=t||{},ml(e,"META-INF/manifest.xml")&&dAe(Gs(e,"META-INF/manifest.xml"),t);var r=Fo(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=lie(On(r),t);return ml(e,"meta.xml")&&(n.Props=Kse(Gs(e,"meta.xml"))),n}function jV(e,t){return lie(e,t)}var DFe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ob({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zs+t}})(),NV=(function(){var e=function(i){return Sn(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Sn(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Hi(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var _=!1,w={},b="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(_=!0),w["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,w["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(_){c.push(r);continue}var E=dr({r:u,c:d}),S=y?(i[u]||[])[d]:i[E];if(S&&S.f&&(w["table:formula"]=Sn(aIe(S.f)),S.F&&S.F.slice(0,E.length)==E)){var C=Hi(S.F);w["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,w["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":b=S.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=S.v?"true":"false";break;case"n":b=S.w||String(S.v||0),w["office:value-type"]="float",w["office:value"]=S.v||0;break;case"s":case"str":b=S.v==null?"":S.v,w["office:value-type"]="string";break;case"d":b=S.w||ts(S.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=ts(S.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(b);if(S.l&&S.l.Target){var R=S.l.Target;R=R.charAt(0)=="#"?"#"+iIe(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),k=_t("text:a",k,{"xlink:href":R.replace(/&/g,"&amp;")})}c.push("          "+_t("table:table-cell",_t("text:p",k,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Rf(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[zs],u=ob({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=ob({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(Gse().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function cie(e,t){if(t.bookType=="fods")return NV(e,t);var r=HF(),n="",a=[],i=[];return n="mimetype",Rr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Rr(r,n,NV(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Rr(r,n,DFe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Rr(r,n,zs+Gse()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Rr(r,n,mAe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Rr(r,n,fAe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Im(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function QD(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):On(Wf(e))}function IFe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Mo(Uc(e))}function MFe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function If(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function SV(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function FFe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function LFe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function pb(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function bn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Es(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function on(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=pb(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=pb(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function za(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(bn(n*8+a.type)),a.type==2&&t.push(bn(a.data.length)),t.push(a.data))})}),If(t)}function N5(e,t){return e?.map(function(r){return t(r.data)})||[]}function cl(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=pb(e,n),i=on(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Es(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=on(l.data),u=Es(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Es(i[3][0].data)>>>0>0),r.push(o)}return r}function Zp(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:bn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:bn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:bn(o.data.length)}],n[2].push({data:za(o.meta),type:2})});var i=za(n);t.push(bn(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),If(t)}function $Fe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=pb(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[If(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=If(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function ul(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push($Fe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return If(t)}function Qp(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=bn(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return If(t)}function BFe(e,t,r,n){var a=Im(e),i=a.getUint32(4,!0),o=(n>1?12:8)+SV(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=SV(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function UFe(e,t,r){var n=Im(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=FFe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function IT(e,t){var r=new Uint8Array(32),n=Im(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,LFe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function MT(e,t){var r=new Uint8Array(32),n=Im(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function VFe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return BFe(e,t,r,e[0]);case 5:return UFe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ui(e){var t=on(e);return pb(t[1][0].data)}function kV(e,t){var r=on(t.data),n=Es(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=on(o.data),c=Es(l[1][0].data)>>>0;switch(n){case 1:i[c]=QD(l[3][0].data);break;case 8:{var u=e[ui(l[9][0].data)][0],d=on(u.data),f=e[ui(d[1][0].data)][0],m=Es(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=on(f.data);i[c]=p[3].map(function(y){return QD(y.data)}).join("")}break}}),i}function zFe(e,t){var r,n,a,i,o,l,c,u,d,f,m,p,y,g,v=on(e),_=Es(v[1][0].data)>>>0,w=Es(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Es(v[8][0].data)>0||!1,E,S;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)E=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)E=(p=(m=v[4])==null?void 0:m[0])==null?void 0:p.data,S=(g=(y=v[3])==null?void 0:y[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=b?4:1,k=Im(E),R=[],P=0;P<E.length/2;++P){var O=k.getUint16(P*2,!0);O<65535&&R.push([P,O])}if(R.length!=w)throw"Expected ".concat(w," cells, found ").concat(R.length);var A=[];for(P=0;P<R.length-1;++P)A[R[P][0]]=S.subarray(R[P][1]*C,R[P+1][1]*C);return R.length>=1&&(A[R[R.length-1][0]]=S.subarray(R[R.length-1][1]*C)),{R:_,cells:A}}function qFe(e,t){var r,n=on(t.data),a=(r=n?.[7])!=null&&r[0]?Es(n[7][0].data)>>>0>0?1:0:-1,i=N5(n[5],function(o){return zFe(o,a)});return{nrows:Es(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function WFe(e,t,r){var n,a=on(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Es(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Es(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Tr(i);var o=on(a[4][0].data),l=kV(e,e[ui(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?kV(e,e[ui(o[17][0].data)][0]):[],u=on(o[3][0].data),d=0;u[1].forEach(function(f){var m=on(f.data),p=e[ui(m[2][0].data)][0],y=Es(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var g=qFe(e,p);g.data.forEach(function(v,_){v.forEach(function(w,b){var E=dr({r:d+_,c:b}),S=VFe(w,l,c);S&&(r[E]=S)})}),d+=g.nrows})}function HFe(e,t){var r=on(t.data),n={"!ref":"A1"},a=e[ui(r[2][0].data)],i=Es(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return WFe(e,a[0],n),n}function GFe(e,t){var r,n=on(t.data),a={name:(r=n[1])!=null&&r[0]?QD(n[1][0].data):"",sheets:[]},i=N5(n[2],ui);return i.forEach(function(o){e[o].forEach(function(l){var c=Es(l.meta[1][0].data);c==6e3&&a.sheets.push(HFe(e,l))})}),a}function KFe(e,t){var r=P5(),n=on(t.data),a=N5(n[1],ui);if(a.forEach(function(i){e[i].forEach(function(o){var l=Es(o.meta[1][0].data);if(l==2){var c=GFe(e,o);c.sheets.forEach(function(u,d){O5(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function FT(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=ul(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=cl(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Es(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Es(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return KFe(i,l)}function YFe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Es(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Im(e[7][0].data),d=0,f=[],m=Im(e[4][0].data),p=0,y=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,p,!0);var v,_;switch(typeof t[g]){case"string":v=IT({t:"s",v:t[g]},r),_=MT({t:"s",v:t[g]},r);break;case"number":v=IT({t:"n",v:t[g]},r),_=MT({t:"n",v:t[g]},r);break;case"boolean":v=IT({t:"b",v:t[g]},r),_=MT({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(v),d+=v.length,y.push(_),p+=_.length,++c}for(e[2][0].data=bn(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=If(f),e[3][0].data=If(y),c}function XFe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Hi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Tr(n)));var i=FN(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(J){return J.forEach(function(V){typeof V=="string"&&o.push(V)})});var l={},c=[],u=Xt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(J,V){return[J,u.FullPaths[V]]}).forEach(function(J){var V=J[0],X=J[1];if(V.type==2&&V.name.match(/\.iwa/)){var ne=V.content,se=ul(ne),ue=cl(se);ue.forEach(function(W){c.push(W.id),l[W.id]={deps:[],location:X,type:Es(W.messages[0].meta[1][0].data)}})}}),c.sort(function(J,V){return J-V});var d=c.filter(function(J){return J>1}).map(function(J){return[J,bn(J)]});u.FileIndex.map(function(J,V){return[J,u.FullPaths[V]]}).forEach(function(J){var V=J[0];if(J[1],!!V.name.match(/\.iwa/)){var X=cl(ul(V.content));X.forEach(function(ne){ne.messages.forEach(function(se){d.forEach(function(ue){ne.messages.some(function(W){return Es(W.meta[1][0].data)!=11006&&MFe(W.data,ue[1])})&&l[ue[0]].deps.push(ne.id)})})})}});for(var f=Xt.find(u,l[1].location),m=cl(ul(f.content)),p,y=0;y<m.length;++y){var g=m[y];g.id==1&&(p=g)}var v=ui(on(p.messages[0].data)[1][0].data);for(f=Xt.find(u,l[v].location),m=cl(ul(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=ui(on(p.messages[0].data)[2][0].data),f=Xt.find(u,l[v].location),m=cl(ul(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=ui(on(p.messages[0].data)[2][0].data),f=Xt.find(u,l[v].location),m=cl(ul(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);var _=on(p.messages[0].data);{_[6][0].data=bn(n.e.r+1),_[7][0].data=bn(n.e.c+1);var w=ui(_[46][0].data),b=Xt.find(u,l[w].location),E=cl(ul(b.content));{for(var S=0;S<E.length&&E[S].id!=w;++S);if(E[S].id!=w)throw"Bad ColumnRowUIDMapArchive";var C=on(E[S].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var k=0;k<=n.e.c;++k){var R=[];R[1]=R[2]=[{type:0,data:bn(k+420690)}],C[1].push({type:2,data:za(R)}),C[2].push({type:0,data:bn(k)}),C[3].push({type:0,data:bn(k)})}C[4]=[],C[5]=[],C[6]=[];for(var P=0;P<=n.e.r;++P)R=[],R[1]=R[2]=[{type:0,data:bn(P+726270)}],C[4].push({type:2,data:za(R)}),C[5].push({type:0,data:bn(P)}),C[6].push({type:0,data:bn(P)});E[S].messages[0].data=za(C)}b.content=Qp(Zp(E)),b.size=b.content.length,delete _[46];var O=on(_[4][0].data);{O[7][0].data=bn(n.e.r+1);var A=on(O[1][0].data),D=ui(A[2][0].data);b=Xt.find(u,l[D].location),E=cl(ul(b.content));{if(E[0].id!=D)throw"Bad HeaderStorageBucket";var F=on(E[0].messages[0].data);for(P=0;P<i.length;++P){var B=on(F[2][0].data);B[1][0].data=bn(P),B[4][0].data=bn(i[P].length),F[2][P]={type:F[2][0].type,data:za(B)}}E[0].messages[0].data=za(F)}b.content=Qp(Zp(E)),b.size=b.content.length;var z=ui(O[2][0].data);b=Xt.find(u,l[z].location),E=cl(ul(b.content));{if(E[0].id!=z)throw"Bad HeaderStorageBucket";for(F=on(E[0].messages[0].data),k=0;k<=n.e.c;++k)B=on(F[2][0].data),B[1][0].data=bn(k),B[4][0].data=bn(n.e.r+1),F[2][k]={type:F[2][0].type,data:za(B)};E[0].messages[0].data=za(F)}b.content=Qp(Zp(E)),b.size=b.content.length;var q=ui(O[4][0].data);(function(){for(var J=Xt.find(u,l[q].location),V=cl(ul(J.content)),X,ne=0;ne<V.length;++ne){var se=V[ne];se.id==q&&(X=se)}var ue=on(X.messages[0].data);{ue[3]=[];var W=[];o.forEach(function(K,be){W[1]=[{type:0,data:bn(be)}],W[2]=[{type:0,data:bn(1)}],W[3]=[{type:2,data:IFe(K)}],ue[3].push({type:2,data:za(W)})})}X.messages[0].data=za(ue);var ae=Zp(V),oe=Qp(ae);J.content=oe,J.size=J.content.length})();var G=on(O[3][0].data);{var Y=G[1][0];delete G[2];var M=on(Y.data);{var H=ui(M[2][0].data);(function(){for(var J=Xt.find(u,l[H].location),V=cl(ul(J.content)),X,ne=0;ne<V.length;++ne){var se=V[ne];se.id==H&&(X=se)}var ue=on(X.messages[0].data);{delete ue[6],delete G[7];var W=new Uint8Array(ue[5][0].data);ue[5]=[];for(var ae=0,oe=0;oe<=n.e.r;++oe){var K=on(W);ae+=YFe(K,i[oe],o),K[1][0].data=bn(oe),ue[5].push({data:za(K),type:2})}ue[1]=[{type:0,data:bn(n.e.c+1)}],ue[2]=[{type:0,data:bn(n.e.r+1)}],ue[3]=[{type:0,data:bn(ae)}],ue[4]=[{type:0,data:bn(n.e.r+1)}]}X.messages[0].data=za(ue);var be=Zp(V),pe=Qp(be);J.content=pe,J.size=J.content.length})()}Y.data=za(M)}O[3][0].data=za(G)}_[4][0].data=za(O)}p.messages[0].data=za(_);var Z=Zp(m),L=Qp(Z);return f.content=L,f.size=f.content.length,u}function uie(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function S5(e){uie([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function k5(e){uie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function JFe(e){return qr.WS.indexOf(e)>-1?"sheet":e==qr.CS?"chart":e==qr.DS?"dialog":e==qr.MS?"macro":e&&e.length?e:"sheet"}function ZFe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,JFe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function QFe(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=gy(Fo(e,r,!0),t);var m=Gs(e,t),p;switch(l){case"sheet":p=SMe(m,t,a,c,i[n],u,d,f);break;case"chart":if(p=kMe(m,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var y=Uv(p["!drawel"].Target,t),g=cb(y),v=hRe(Fo(e,y,!0),gy(Fo(e,g,!0),y)),_=Uv(v,y),w=cb(_);p=eMe(Fo(e,_,!0),_,c,gy(Fo(e,w,!0),_),u,p);break;case"macro":p=CMe(m,t,a,c,i[n],u,d,f);break;case"dialog":p=EMe(m,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var b=[];i&&i[n]&&As(i[n]).forEach(function(E){var S="";if(i[n][E].Type==qr.CMNT){S=Uv(i[n][E].Target,t);var C=OMe(Gs(e,S,!0),S,c);if(!C||!C.length)return;dV(p,C,!1)}i[n][E].Type==qr.TCMNT&&(S=Uv(i[n][E].Target,t),b=b.concat(pRe(Gs(e,S,!0),c)))}),b&&b.length&&dV(p,b,!0,c.people||[])}catch(E){if(c.WTF)throw E}}function nl(e){return e.charAt(0)=="/"?e.slice(1):e}function die(e,t){if(lx(),t=t||{},S5(t),ml(e,"META-INF/manifest.xml")||ml(e,"objectdata.xml"))return _V(e,t);if(ml(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof FT<"u"){if(e.FileIndex)return FT(e);var r=Xt.utils.cfb_new();return O7(e).forEach(function(B){Rr(r,B,gTe(e,B))}),FT(r)}throw new Error("Unsupported NUMBERS file")}if(!ml(e,"[Content_Types].xml"))throw ml(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ml(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=O7(e),a=cAe(Fo(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Gs(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Gs(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(xy=[],a.sst)try{xy=PMe(Gs(e,nl(a.sst)),a.sst,t)}catch(B){if(t.WTF)throw B}t.cellStyles&&a.themes.length&&(c=AMe(Fo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=TMe(Gs(e,nl(a.style)),a.style,c,t))}a.links.map(function(B){try{var z=gy(Fo(e,cb(nl(B))),B);return DMe(Gs(e,nl(B)),z,B,t)}catch{}});var d=NMe(Gs(e,nl(a.workbooks[0])),a.workbooks[0],t),f={},m="";a.coreprops.length&&(m=Gs(e,nl(a.coreprops[0]),!0),m&&(f=Kse(m)),a.extprops.length!==0&&(m=Gs(e,nl(a.extprops[0]),!0),m&&gAe(m,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=Fo(e,nl(a.custprops[0]),!0),m&&(p=vAe(m,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(z){return z.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var g={};t.bookDeps&&a.calcchain&&(g=RMe(Gs(e,nl(a.calcchain)),a.calcchain));var v=0,_={},w,b;{var E=d.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var S=0;S!=E.length;++S)f.SheetNames[S]=E[S].name}var C=i?"bin":"xml",k=a.workbooks[0].lastIndexOf("/"),R=(a.workbooks[0].slice(0,k+1)+"_rels/"+a.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");ml(e,R)||(R="xl/_rels/workbook."+C+".rels");var P=gy(Fo(e,R,!0),R.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=IMe(Gs(e,nl(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=xRe(Gs(e,nl(a.people[0])),t)),P&&(P=ZFe(P,d.Sheets));var O=Gs(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var A="sheet";if(P&&P[v]?(w="xl/"+P[v][1].replace(/[\/]?xl\//,""),ml(e,w)||(w=P[v][1]),ml(e,w)||(w=R.replace(/_rels\/.*$/,"")+P[v][1]),A=P[v][2]):(w="xl/worksheets/sheet"+(v+1-O)+"."+C,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var D=!1,F=0;F!=t.sheets.length;++F)typeof t.sheets[F]=="number"&&t.sheets[F]==v&&(D=1),typeof t.sheets[F]=="string"&&t.sheets[F].toLowerCase()==f.SheetNames[v].toLowerCase()&&(D=1);if(!D)continue e}}QFe(e,w,b,f.SheetNames[v],v,_,o,A,t,d,c,u)}return y={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:xy,Styles:u,Themes:c,SSF:$n(sr)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(B,z){B=B.replace(/^Root Entry[\/]/,""),y.keys.push(B),y.files[B]=e.FileIndex[z]}))),t&&t.bookVBA&&(a.vba.length>0?y.vbaraw=Gs(e,nl(a.vba[0]),!0):a.defaults&&a.defaults.bin===SRe&&(y.vbaraw=Gs(e,"xl/vbaProject.bin",!0))),y}function e5e(e,t){var r=t||{},n="Workbook",a=Xt.find(e,n);try{if(n="/!DataSpaces/Version",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(M4e(a.content),n="/!DataSpaces/DataSpaceMap",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=L4e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=$4e(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);U4e(a.content)}catch{}if(n="/EncryptionInfo",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=V4e(a.content);if(n="/EncryptedPackage",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function t5e(e,t){return t.bookType=="ods"?cie(e,t):t.bookType=="numbers"?XFe(e,t):t.bookType=="xlsb"?r5e(e,t):fie(e,t)}function r5e(e,t){vg=1024,e&&!e.SSF&&(e.SSF=$n(sr)),e&&e.SSF&&(lx(),Iw(e.SSF),t.revssf=L2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,vy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Rae.indexOf(t.bookType)>-1,a=u5();k5(t=t||{});var i=HF(),o="",l=0;if(t.cellXfs=[],Gf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Rr(i,o,Yse(e.Props,t)),a.coreprops.push(o),_n(t.rels,2,o,qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Rr(i,o,Zse(e.Props)),a.extprops.push(o),_n(t.rels,3,o,qr.EXT_PROPS),e.Custprops!==e.Props&&As(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Rr(i,o,Qse(e.Custprops)),a.custprops.push(o),_n(t.rels,4,o,qr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Rr(i,o,FMe(l-1,o,t,e,d)),a.sheets.push(o),_n(t.wbrels,-1,"worksheets/sheet"+l+"."+r,qr.WS[0])}if(f){var p=f["!comments"],y=!1,g="";p&&p.length>0&&(g="xl/comments"+l+"."+r,Rr(i,g,BMe(p,g)),a.comments.push(g),_n(d,-1,"../comments"+l+"."+r,qr.CMNT),y=!0),f["!legacy"]&&y&&Rr(i,"xl/drawings/vmlDrawing"+l+".vml",Pae(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Rr(i,cb(o),Hg(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Rr(i,o,$Me(t.Strings,o,t)),a.strs.push(o),_n(t.wbrels,-1,"sharedStrings."+r,qr.SST)),o="xl/workbook."+r,Rr(i,o,MMe(e,o)),a.workbooks.push(o),_n(t.rels,1,o,qr.WB),o="xl/theme/theme1.xml",Rr(i,o,g5(e.Themes,t)),a.themes.push(o),_n(t.wbrels,-1,"theme/theme1.xml",qr.THEME),o="xl/styles."+r,Rr(i,o,LMe(e,o,t)),a.styles.push(o),_n(t.wbrels,-1,"styles."+r,qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Rr(i,o,e.vbaraw),a.vba.push(o),_n(t.wbrels,-1,"vbaProject.bin",qr.VBA)),o="xl/metadata."+r,Rr(i,o,UMe(o)),a.metadata.push(o),_n(t.wbrels,-1,"metadata."+r,qr.XLMETA),Rr(i,"[Content_Types].xml",Hse(a,t)),Rr(i,"_rels/.rels",Hg(t.rels)),Rr(i,"xl/_rels/workbook."+r+".rels",Hg(t.wbrels)),delete t.revssf,delete t.ssf,i}function fie(e,t){vg=1024,e&&!e.SSF&&(e.SSF=$n(sr)),e&&e.SSF&&(lx(),Iw(e.SSF),t.revssf=L2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,vy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Rae.indexOf(t.bookType)>-1,a=u5();k5(t=t||{});var i=HF(),o="",l=0;if(t.cellXfs=[],Gf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Rr(i,o,Yse(e.Props,t)),a.coreprops.push(o),_n(t.rels,2,o,qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Rr(i,o,Zse(e.Props)),a.extprops.push(o),_n(t.rels,3,o,qr.EXT_PROPS),e.Custprops!==e.Props&&As(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Rr(i,o,Qse(e.Custprops)),a.custprops.push(o),_n(t.rels,4,o,qr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Rr(i,o,qae(l-1,t,e,f)),a.sheets.push(o),_n(t.wbrels,-1,"worksheets/sheet"+l+"."+r,qr.WS[0])}if(m){var y=m["!comments"],g=!1,v="";if(y&&y.length>0){var _=!1;y.forEach(function(w){w[1].forEach(function(b){b.T==!0&&(_=!0)})}),_&&(v="xl/threadedComments/threadedComment"+l+"."+r,Rr(i,v,gRe(y,d,t)),a.threadedcomments.push(v),_n(f,-1,"../threadedComments/threadedComment"+l+"."+r,qr.TCMNT)),v="xl/comments"+l+"."+r,Rr(i,v,Oae(y)),a.comments.push(v),_n(f,-1,"../comments"+l+"."+r,qr.CMNT),g=!0}m["!legacy"]&&g&&Rr(i,"xl/drawings/vmlDrawing"+l+".vml",Pae(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Rr(i,cb(o),Hg(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Rr(i,o,yae(t.Strings,t)),a.strs.push(o),_n(t.wbrels,-1,"sharedStrings."+r,qr.SST)),o="xl/workbook."+r,Rr(i,o,Xae(e)),a.workbooks.push(o),_n(t.rels,1,o,qr.WB),o="xl/theme/theme1.xml",Rr(i,o,g5(e.Themes,t)),a.themes.push(o),_n(t.wbrels,-1,"theme/theme1.xml",qr.THEME),o="xl/styles."+r,Rr(i,o,Cae(e,t)),a.styles.push(o),_n(t.wbrels,-1,"styles."+r,qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Rr(i,o,e.vbaraw),a.vba.push(o),_n(t.wbrels,-1,"vbaProject.bin",qr.VBA)),o="xl/metadata."+r,Rr(i,o,Aae()),a.metadata.push(o),_n(t.wbrels,-1,"metadata."+r,qr.XLMETA),d.length>1&&(o="xl/persons/person.xml",Rr(i,o,vRe(d)),a.people.push(o),_n(t.wbrels,-1,"persons/person.xml",qr.PEOPLE)),Rr(i,"[Content_Types].xml",Hse(a,t)),Rr(i,"_rels/.rels",Hg(t.rels)),Rr(i,"xl/_rels/workbook."+r+".rels",Hg(t.wbrels)),delete t.revssf,delete t.ssf,i}function C5(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Yo(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function n5e(e,t){return Xt.find(e,"EncryptedPackage")?e5e(e,t):j5(e,t)}function s5e(e,t){var r,n=e,a=t||{};return a.type||(a.type=$r&&Buffer.isBuffer(e)?"buffer":"base64"),r=Sse(n,a),die(r,a)}function hie(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return JD(e.slice(r),t);default:break e}return v0.to_workbook(e,t)}function a5e(e,t){var r="",n=C5(e,t);switch(t.type){case"base64":r=Yo(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Pm(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=On(r)),t.type="binary",hie(r,t)}function i5e(e,t){var r=e;return t.type=="base64"&&(r=Yo(r)),r=Jr.utils.decode(1200,r.slice(2),"str"),t.type="binary",hie(r,t)}function o5e(e){return e.match(/[^\x00-\x7F]/)?Uc(e):e}function LT(e,t,r,n){return n?(r.type="string",v0.to_workbook(e,r)):v0.to_workbook(t,r)}function MN(e,t){M2();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return MN(new Uint8Array(e),(r=$n(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Kg={},r.dateNF&&(Kg.dateNF=r.dateNF),r.type||(r.type=$r&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=$r?"buffer":"binary",n=lTe(e),typeof Uint8Array<"u"&&!$r&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=o5e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=$n(r),r.type="array",MN(VF(n),r)}switch((a=C5(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return n5e(Xt.read(n,r),r);break;case 9:if(a[1]<=8)return j5(n,r);break;case 60:return JD(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return y4e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return xae.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?s5e(n,r):LT(e,n,r,i);case 239:return a[3]===60?JD(n,r):LT(e,n,r,i);case 255:if(a[1]===254)return i5e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return nm.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return nm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return XD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Nae.to_workbook(n,r);break;case 10:case 13:case 32:return a5e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return v4e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?XD.to_workbook(n,r):LT(e,n,r,i)}function CV(e,t){var r=t||{};return r.type="file",MN(e,r)}function mie(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Mw(t.file,Xt.write(e,{type:$r?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Xt.write(e,t)}function l5e(e,t){var r=$n(t||{}),n=t5e(e,r);return pie(n,r)}function c5e(e,t){var r=$n(t||{}),n=fie(e,r);return pie(n,r)}function pie(e,t){var r={},n=$r?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Xt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Dw(a))}return t.password&&typeof encrypt_agile<"u"?mie(encrypt_agile(a,t.password),t):t.type==="file"?Mw(t.file,a):t.type=="string"?On(a):a}function u5e(e,t){var r=t||{},n=hFe(e,r);return mie(n,r)}function Pc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return sb(Uc(n));case"binary":return Uc(n);case"string":return e;case"file":return Mw(t.file,n,"utf8");case"buffer":return $r?ld(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Pc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function d5e(e,t){switch(t.type){case"base64":return sb(e);case"binary":return e;case"string":return e;case"file":return Mw(t.file,e,"binary");case"buffer":return $r?ld(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function G_(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?sb(r):t.type=="string"?On(r):r;case"file":return Mw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function E5(e,t){M2(),Yae(e);var r=$n(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=E5(e,r);return r.type="array",Dw(n)}return c5e(e,r)}function W2(e,t){M2(),Yae(e);var r=$n(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=W2(e,r);return r.type="array",Dw(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Pc(iFe(e,r),r);case"slk":case"sylk":return Pc(gae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Pc(aie(e.Sheets[e.SheetNames[a]],r),r);case"txt":return d5e(vie(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Pc(A5(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Pc(xae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return G_(XD.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Pc(v0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Pc(Nae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Pc(vae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Pc(cie(e,r),r);case"wk1":return G_(nm.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return G_(nm.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),G_(eie(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),u5e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return l5e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function T5(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Mm(e,t,r){var n=r||{};return n.type="file",n.file=t,T5(n),W2(e,n)}function f5e(e,t,r){var n=r||{};return n.type="file",n.file=t,T5(n),E5(e,n)}function h5e(e,t,r,n){var a=r||{};a.type="file",a.file=e,T5(a),a.type="buffer";var i=n;return i instanceof Function||(i=r),sf.writeFile(e,W2(t,a),i)}function gie(e,t,r,n,a,i,o,l){var c=Cs(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[r][p]:e[n[p]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[p]!=null&&(m[i[p]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(g==null)if(y.t=="e"&&g===null)m[i[p]]=null;else if(u!==void 0)m[i[p]]=u;else if(d&&g===null)m[i[p]]=null;else continue;else m[i[p]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?g:tu(y,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function FN(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Yr(d);break;case"number":c=Yr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Cs(c.s.r),m=[],p=[],y=0,g=0,v=Array.isArray(e),_=c.s.r,w=0,b={};v&&!e[_]&&(e[_]=[]);var E=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(E[w]||{}).hidden)switch(m[w]=es(w),r=v?e[_][w]:e[m[w]+f],n){case 1:i[w]=w-c.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=tu(r,null,u),g=b[o]||0,!g)b[o]=1;else{do l=o+"_"+g++;while(b[l]);b[o]=g,b[l]=1}i[w]=l}for(_=c.s.r+a;_<=c.e.r;++_)if(!(S[_]||{}).hidden){var C=gie(e,c,_,m,n,i,v,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=C.row)}return p.length=y,p}var EV=/"/g;function xie(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Cs(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=l.dense?(e[r]||[])[m]:e[n[m]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:tu(p,null,l));for(var y=0,g=0;y!==d.length;++y)if((g=d.charCodeAt(y))===a||g===i||g===34||l.forceQuotes){d='"'+d.replace(EV,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(EV,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function A5(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Yr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=es(y));for(var g=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=xie(e,a,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function vie(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=A5(e,t);if(typeof Jr>"u"||t.type=="string")return r;var n=Jr.utils.encode(1200,r,"str");return""+n}function m5e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Yr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=es(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Cs(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function yie(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?xs(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Yr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var m=n.header||[],p=0;t.forEach(function(g,v){As(g).forEach(function(_){(p=m.indexOf(_))==-1&&(m[p=m.length]=_);var w=g[_],b="z",E="",S=dr({c:l+p,r:o+v+a});u=gb(i,S),w&&typeof w=="object"&&!(w instanceof Date)?i[S]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=ja(w)),E=n.dateNF||sr[14]):w===null&&n.nullError&&(b="e",w=0),u?(u.t=b,u.v=w,delete u.w,delete u.R,E&&(u.z=E)):i[S]=u={t:b,v:w},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=Cs(o);if(a)for(p=0;p<m.length;++p)i[es(p+l)+y]={t:"s",v:m[p]};return i["!ref"]=Tr(d),i}function p5e(e,t){return yie(null,e,t)}function gb(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=xs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?gb(e,dr(t)):gb(e,dr({r:t,c:r||0}))}function g5e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function P5(){return{SheetNames:[],Sheets:{}}}function O5(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Kae(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function x5e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=g5e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function v5e(e,t){return e.z=t,e}function bie(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function y5e(e,t,r){return bie(e,"#"+t,r)}function b5e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function w5e(e,t,r,n){for(var a=typeof t!="string"?t:Yr(t),i=typeof t=="string"?t:Tr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=gb(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var na={encode_col:es,encode_row:Cs,encode_cell:dr,encode_range:Tr,decode_col:s5,decode_row:n5,split_cell:BTe,decode_cell:xs,decode_range:Hi,format_cell:tu,sheet_add_aoa:$se,sheet_add_json:yie,sheet_add_dom:iie,aoa_to_sheet:ux,json_to_sheet:p5e,table_to_sheet:oie,table_to_book:PFe,sheet_to_csv:A5,sheet_to_txt:vie,sheet_to_json:FN,sheet_to_html:aie,sheet_to_formulae:m5e,sheet_to_row_object_array:FN,sheet_get_cell:gb,book_new:P5,book_append_sheet:O5,book_set_sheet_visibility:x5e,cell_set_number_format:v5e,cell_set_hyperlink:bie,cell_set_internal_link:y5e,cell_add_comment:b5e,sheet_set_array_formula:w5e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},H2;function _5e(e){H2=e}function j5e(e,t){var r=H2(),n=t??{};if(e==null||e["!ref"]==null)return r.push(null),r;var a=Yr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=es(y));var g=a.s.r,v=!1,_=0;return r._read=function(){if(!v)return v=!0,r.push("\uFEFF");for(;g<=a.e.r;)if(++g,!(p[g-1]||{}).hidden&&(d=xie(e,a,g-1,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),d||n.blankrows!==!1)))return r.push((_++?l:"")+d);return r.push(null)},r}function N5e(e,t){var r=H2(),n=t||{},a=n.header!=null?n.header:rie,i=n.footer!=null?n.footer:nie;r.push(a);var o=Hi(e["!ref"]);n.dense=Array.isArray(e),r.push(sie(e,o,n));var l=o.s.r,c=!1;return r._read=function(){if(l>o.e.r)return c||(c=!0,r.push("</table>"+i)),r.push(null);for(;l<=o.e.r;){r.push(tie(e,o,l,n)),++l;break}},r}function S5e(e,t){var r=H2({objectMode:!0});if(e==null||e["!ref"]==null)return r.push(null),r;var n={t:"n",v:0},a=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)&&(a=3),typeof f){case"string":u=Yr(f);break;case"number":u=Yr(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(i=0);var m=Cs(u.s.r),p=[],y=0,g=Array.isArray(e),v=u.s.r,_=0,w={};g&&!e[v]&&(e[v]=[]);var b=d.skipHidden&&e["!cols"]||[],E=d.skipHidden&&e["!rows"]||[];for(_=u.s.c;_<=u.e.c;++_)if(!(b[_]||{}).hidden)switch(p[_]=es(_),n=g?e[v][_]:e[p[_]+m],a){case 1:o[_]=_-u.s.c;break;case 2:o[_]=p[_];break;case 3:o[_]=d.header[_-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=tu(n,null,d),y=w[l]||0,!y)w[l]=1;else{do c=l+"_"+y++;while(w[c]);w[l]=y,w[c]=1}o[_]=c}return v=u.s.r+i,r._read=function(){for(;v<=u.e.r;)if(!(E[v-1]||{}).hidden){var S=gie(e,u,v,p,a,o,g,d);if(++v,S.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows)){r.push(S.row);return}}return r.push(null)},r}var k5e={to_json:S5e,to_html:N5e,to_csv:j5e,set_readable:_5e};const C5e=nb.version,wie=Object.freeze(Object.defineProperty({__proto__:null,CFB:Xt,SSF:yse,parse_xlscfb:j5,parse_zip:die,read:MN,readFile:CV,readFileSync:CV,set_cptable:PEe,set_fs:iTe,stream:k5e,utils:na,version:C5e,write:W2,writeFile:Mm,writeFileAsync:h5e,writeFileSync:Mm,writeFileXLSX:f5e,writeXLSX:E5},Symbol.toStringTag,{value:"Module"}));var E5e="Separator",TV="horizontal",T5e=["horizontal","vertical"],_ie=j.forwardRef((e,t)=>{const{decorative:r,orientation:n=TV,...a}=e,i=A5e(n)?n:TV,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Tt.div,{"data-orientation":i,...l,...a,ref:t})});_ie.displayName=E5e;function A5e(e){return T5e.includes(e)}var jie=_ie;const yg=j.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(jie,{ref:a,decorative:r,orientation:t,className:ut("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));yg.displayName=jie.displayName;function P5e({order:e,open:t,onClose:r}){if(!e)return null;const n=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(o),a=o=>new Date(o).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}),i=o=>new Date(o).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return s.jsx(Tn,{open:t,onOpenChange:r,children:s.jsxs(jn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(An,{children:s.jsxs(Pn,{children:["Order Details - ",e.order_number]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(e0,{className:"h-4 w-4"}),"Customer Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(e0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:e.customer_name})]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(oc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_phone})]}),e.customer_email&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_email})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(_f,{className:"h-4 w-4"}),"Delivery Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",e.delivery_address]}),e.delivery_landmark&&s.jsxs("p",{children:[s.jsx("strong",{children:"Landmark:"})," ",e.delivery_landmark]}),e.delivery_pincode&&s.jsxs("p",{children:[s.jsx("strong",{children:"PIN Code:"})," ",e.delivery_pincode]}),e.delivery_time&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Time:"})," ",e.delivery_time]}),e.delivery_latitude&&e.delivery_longitude&&s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",s.jsx("a",{href:`https://www.google.com/maps?q=${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View on Map"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Order Items"]}),s.jsx("div",{className:"space-y-3",children:Array.isArray(e.items)&&e.items.map((o,l)=>s.jsxs("div",{className:"flex gap-3 p-3 bg-muted rounded-lg",children:[o.productImage&&s.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:o.productName}),o.variant&&s.jsx("p",{className:"text-sm text-muted-foreground",children:o.variant}),s.jsxs("p",{className:"text-sm",children:[n(o.price),"  ",o.quantity," = ",n(o.price*o.quantity)]})]})]},l))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:n(e.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Charge:"}),s.jsx("span",{children:e.delivery_charge>0?n(e.delivery_charge):"FREE"})]}),s.jsx(yg,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"text-primary",children:n(e.total)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Payment Method:"}),s.jsx(jt,{variant:"outline",children:e.payment_method.toUpperCase()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Status:"}),s.jsx(jt,{children:e.status})]})]})]}),e.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"bg-muted p-3 rounded-lg",children:e.notes})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),"Order Timeline"]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Placed on ",a(e.created_at)," at ",i(e.created_at)]})]})})]})]})]})})}function O5e({order:e,open:t,onClose:r,onSave:n}){const[a,i]=j.useState({}),[o,l]=j.useState(!1);if(j.useEffect(()=>{e&&i({customer_name:e.customer_name,customer_phone:e.customer_phone,customer_email:e.customer_email,delivery_address:e.delivery_address,delivery_landmark:e.delivery_landmark,delivery_pincode:e.delivery_pincode,delivery_time:e.delivery_time,status:e.status,payment_method:e.payment_method,notes:e.notes})},[e]),!e)return null;const c=async()=>{l(!0);try{await n(e.id,a),r()}finally{l(!1)}};return s.jsx(Tn,{open:t,onOpenChange:r,children:s.jsxs(jn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(An,{children:s.jsxs(Pn,{children:["Edit Order - ",e.order_number]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"customer_name",children:"Customer Name"}),s.jsx(ze,{id:"customer_name",value:a.customer_name||"",onChange:u=>i({...a,customer_name:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"customer_phone",children:"Phone"}),s.jsx(ze,{id:"customer_phone",value:a.customer_phone||"",onChange:u=>i({...a,customer_phone:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"customer_email",children:"Email (Optional)"}),s.jsx(ze,{id:"customer_email",type:"email",value:a.customer_email||"",onChange:u=>i({...a,customer_email:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_address",children:"Delivery Address"}),s.jsx(_a,{id:"delivery_address",value:a.delivery_address||"",onChange:u=>i({...a,delivery_address:u.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_landmark",children:"Landmark (Optional)"}),s.jsx(ze,{id:"delivery_landmark",value:a.delivery_landmark||"",onChange:u=>i({...a,delivery_landmark:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_pincode",children:"PIN Code"}),s.jsx(ze,{id:"delivery_pincode",value:a.delivery_pincode||"",onChange:u=>i({...a,delivery_pincode:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"delivery_time",children:"Delivery Time"}),s.jsx(ze,{id:"delivery_time",value:a.delivery_time||"",onChange:u=>i({...a,delivery_time:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"status",children:"Order Status"}),s.jsxs(_r,{value:a.status,onValueChange:u=>i({...a,status:u}),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"new",children:"New"}),s.jsx(Ke,{value:"processing",children:"Processing"}),s.jsx(Ke,{value:"delivered",children:"Delivered"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"payment_method",children:"Payment Method"}),s.jsxs(_r,{value:a.payment_method,onValueChange:u=>i({...a,payment_method:u}),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"cod",children:"Cash on Delivery"}),s.jsx(Ke,{value:"online",children:"Online Payment"}),s.jsx(Ke,{value:"card",children:"Card"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(_a,{id:"notes",value:a.notes||"",onChange:u=>i({...a,notes:u.target.value}),rows:3,placeholder:"Add any additional notes..."})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(ie,{onClick:c,disabled:o,children:o?"Saving...":"Save Changes"})]})]})})}const R5=async e=>{const{data:t,error:r}=await Q.functions.invoke("shiprocket",{body:e});if(r)throw new Error(r.message);return t},AV=async(e,t)=>{try{const r=await R5({action:"login",email:e,password:t});return r.token?{success:!0,token:r.token}:{success:!1,error:r.message||"Authentication failed"}}catch(r){return{success:!1,error:r.message||"Network error"}}},Ij=async e=>{try{const t=await R5({action:"get_pickup_locations",token:e});return t.data?.shipping_address?{success:!0,locations:t.data.shipping_address}:{success:!1,error:t.message||"Failed to get pickup locations"}}catch(t){return{success:!1,error:t.message||"Network error"}}},R5e=async(e,t)=>{try{const r=await R5({action:"create_order",token:e,data:t});return r.order_id?{success:!0,data:r}:{success:!1,error:r.message||"Failed to create order"}}catch(r){return{success:!1,error:r.message||"Network error"}}},D5e=(e,t,r)=>{const n=(e.customer_name||"Customer").split(" "),a=n[0]||"Customer",i=n.slice(1).join(" ")||"",o=e.delivery_address||"",l=e.delivery_pincode||"";return{order_id:e.order_number||e.id,order_date:new Date(e.created_at).toISOString().split("T")[0],pickup_location:t,billing_customer_name:a,billing_last_name:i,billing_address:o,billing_city:e.delivery_city||"City",billing_pincode:l,billing_state:e.delivery_state||"State",billing_country:"India",billing_email:e.customer_email||"",billing_phone:e.customer_phone||"",shipping_is_billing:!0,order_items:(e.items||[]).map(c=>({name:c.name||c.product_name||"Product",sku:c.sku||c.id||`SKU-${Date.now()}`,units:c.quantity||1,selling_price:c.price||0,discount:0,tax:0})),payment_method:e.payment_method==="cod"?"COD":"Prepaid",sub_total:e.total||e.subtotal||0,length:r.length,breadth:r.breadth,height:r.height,weight:r.weight}},I5e=()=>{const e=xr(),[t,r]=j.useState([]),[n,a]=j.useState(!0),[i,o]=j.useState(""),[l,c]=j.useState("all"),[u,d]=j.useState("all"),[f,m]=j.useState(new Date),[p,y]=j.useState(null),[g,v]=j.useState(!1),[_,w]=j.useState(!1),[b,E]=j.useState(0),[S,C]=j.useState(null),[k,R]=j.useState(""),[P,O]=j.useState(!1),[A,D]=j.useState(null),[F,B]=j.useState(""),[z,q]=j.useState({length:10,breadth:10,height:10,weight:.5}),[G,Y]=j.useState(null),[M,H]=j.useState(!1),[Z,L]=j.useState(null),[J,V]=j.useState(!1);j.useEffect(()=>{X()},[]);const X=async()=>{const{data:{session:Ne}}=await Q.auth.getSession();if(!Ne){e("/admin/login");return}await ne()},ne=async()=>{try{a(!0);const{data:{user:Ne}}=await Q.auth.getUser();if(!Ne)return;const{data:ee}=await Q.from("stores").select("id, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",Ne.id).single();if(!ee)return;if(V(ee.shipping_popup_enabled||!1),ee.shiprocket_token){O(!0),D(ee.shiprocket_token);const xt=await Ij(ee.shiprocket_token);xt.success&&xt.locations&&xt.locations.length>0&&B(xt.locations[0].pickup_location),ee.package_length&&q(at=>({...at,length:ee.package_length})),ee.package_breadth&&q(at=>({...at,breadth:ee.package_breadth})),ee.package_height&&q(at=>({...at,height:ee.package_height})),ee.package_weight&&q(at=>({...at,weight:ee.package_weight}))}const{data:_e}=await Q.from("subscriptions").select(`
          subscription_plans (
            name,
            orders_view_limit
          )
        `).eq("user_id",Ne.id).maybeSingle();let ge=null;if(_e?.subscription_plans?.orders_view_limit){const xt=_e.subscription_plans.orders_view_limit;ge=xt===999999?null:xt}R(_e?.subscription_plans?.name||""),C(ge);const{count:Be}=await Q.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",ee.id);E(Be||0);let Ie=Q.from("orders").select("*").eq("store_id",ee.id).order("created_at",{ascending:!0});ge!==null&&(Ie=Ie.limit(ge));const{data:de,error:Re}=await Ie;if(Re)throw Re;const rt=(de||[]).reverse();r(rt),m(new Date)}catch(Ne){Me({title:"Error",description:Ne.message,variant:"destructive"})}finally{a(!1)}},se=()=>{let Ne=t;if(i&&(Ne=Ne.filter(ee=>ee.customer_name.toLowerCase().includes(i.toLowerCase())||ee.customer_phone.includes(i)||ee.order_number.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(Ne=Ne.filter(ee=>ee.status===l)),u!=="all"){const ee=new Date,_e=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate());Ne=Ne.filter(ge=>{const Be=new Date(ge.created_at),Ie=new Date(Be.getFullYear(),Be.getMonth(),Be.getDate());switch(u){case"today":return Ie.getTime()===_e.getTime();case"yesterday":const de=new Date(_e);return de.setDate(de.getDate()-1),Ie.getTime()===de.getTime();case"last7days":const Re=new Date(_e);return Re.setDate(Re.getDate()-7),Ie>=Re;case"last30days":const rt=new Date(_e);return rt.setDate(rt.getDate()-30),Ie>=rt;default:return!0}})}return Ne},ue=Ne=>{const ee={new:{label:"New",variant:"default",icon:gs},processing:{label:"Processing",variant:"secondary",icon:Rn},delivered:{label:"Delivered",variant:"default",icon:cn},cancelled:{label:"Cancelled",variant:"destructive",icon:Hn}},_e=ee[Ne]||ee.new,ge=_e.icon;return s.jsxs(jt,{variant:_e.variant,className:"flex items-center gap-1",children:[s.jsx(ge,{className:"h-3 w-3"}),_e.label]})},W=Ne=>new Date(Ne).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),ae=Ne=>new Date(Ne).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),oe=Ne=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(Ne),K=(Ne,ee)=>{const _e=t.filter(de=>{const Re=new Date(de.created_at),rt=Re.toLocaleDateString("en-US",{month:"long"}),xt=Re.getFullYear().toString();return rt===Ne&&xt===ee});if(_e.length===0){Me({title:"No Orders",description:`No orders found for ${Ne} ${ee}`,variant:"destructive"});return}const ge=_e.map(de=>({"Order Number":de.order_number,Date:W(de.created_at),Time:ae(de.created_at),"Customer Name":de.customer_name,Phone:de.customer_phone,Email:de.customer_email||"N/A",Address:de.delivery_address,"Items Count":Array.isArray(de.items)?de.items.length:0,Items:Array.isArray(de.items)?de.items.map(Re=>`${Re.name} (${Re.quantity}x)`).join(", "):"N/A",Amount:de.total,"Payment Method":de.payment_method,Status:de.status})),Be=na.json_to_sheet(ge),Ie=na.book_new();na.book_append_sheet(Ie,Be,`${Ne}_${ee}`),Mm(Ie,`Orders_${Ne}_${ee}.xlsx`),Me({title:"Export Successful",description:`Downloaded ${_e.length} orders for ${Ne} ${ee}`})},be=()=>{const Ne=new Date;return{month:Ne.toLocaleDateString("en-US",{month:"long"}),year:Ne.getFullYear().toString()}},pe=()=>{const Ne=new Date;return Ne.setMonth(Ne.getMonth()-1),{month:Ne.toLocaleDateString("en-US",{month:"long"}),year:Ne.getFullYear().toString()}},Ee=Ne=>{y(Ne),v(!0)},Ae=Ne=>{y(Ne),w(!0)},fe=async(Ne,ee)=>{try{const{error:_e}=await Q.from("orders").update(ee).eq("id",Ne);if(_e)throw _e;Me({title:"Success",description:"Order updated successfully"}),ne()}catch(_e){Me({title:"Error",description:_e.message,variant:"destructive"})}},Je=Ne=>{J?(L(Ne),H(!0)):we(Ne)},Ye=async()=>{if(!(!Z||!A)){H(!1),Y(Z.id);try{const Ne=D5e(Z,F,z),ee=await R5e(A,Ne);ee.success&&ee.data?(await Q.from("orders").update({shiprocket_order_id:ee.data.order_id?.toString(),shiprocket_shipment_id:ee.data.shipment_id?.toString(),status:"processing"}).eq("id",Z.id),Me({title:"Order Created in Shiprocket",description:"Opening Shiprocket dashboard..."}),window.open(`https://app.shiprocket.in/seller/orders/details/${ee.data.order_id}`,"_blank"),ne()):Me({title:"Shiprocket Error",description:ee.error||"Failed to create order in Shiprocket",variant:"destructive"})}catch(Ne){Me({title:"Error",description:Ne.message||"Failed to ship order",variant:"destructive"})}finally{Y(null),L(null)}}},ce=async()=>{Z&&(H(!1),await we(Z),L(null))},we=async Ne=>{await fe(Ne.id,{status:"delivered"})},Oe=async Ne=>{await fe(Ne.id,{status:"cancelled"})},He=se(),Ge=t.filter(Ne=>{const ee=new Date;return new Date(Ne.created_at).toDateString()===ee.toDateString()});return s.jsx(vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Orders Management",S!==null&&b>0&&s.jsxs("span",{className:"text-muted-foreground text-xl ml-2",children:["(Showing ",Math.min(t.length,S)," of ",b,")"]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage customer orders (Auto-cleanup: Orders older than 2 months)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{onClick:()=>{const Ne=pe();K(Ne.month,Ne.year)},variant:"outline",size:"sm",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export Previous Month"]}),s.jsxs(ie,{onClick:()=>{const Ne=be();K(Ne.month,Ne.year)},variant:"outline",size:"sm",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export Current Month"]}),s.jsxs(ie,{onClick:ne,variant:"outline",size:"sm",children:[s.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Rn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:Ge.length})]})]})}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(cn,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Sync"}),s.jsx("p",{className:"text-sm font-medium",children:f.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),S!==null&&b>S&&s.jsxs(tn,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsx(rn,{className:"ml-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:[k," Plan Limit"]}),s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-1",children:["You can only view ",S," orders. ",b-S," more ",b-S===1?"order is":"orders are"," hidden."]})]}),s.jsxs(ie,{onClick:()=>e("/admin/subscription"),size:"sm",className:"ml-4 flex-shrink-0",children:[s.jsx(Pge,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})]})})]}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx(ze,{placeholder:"Search by name, phone, or order number...",value:i,onChange:Ne=>o(Ne.target.value),className:"flex-1"}),s.jsxs(_r,{value:u,onValueChange:d,children:[s.jsx(vr,{className:"w-full md:w-[180px]",children:s.jsx(jr,{placeholder:"Filter by date"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Time"}),s.jsx(Ke,{value:"today",children:"Today"}),s.jsx(Ke,{value:"yesterday",children:"Yesterday"}),s.jsx(Ke,{value:"last7days",children:"Last 7 Days"}),s.jsx(Ke,{value:"last30days",children:"Last 30 Days"})]})]}),s.jsxs(_r,{value:l,onValueChange:c,children:[s.jsx(vr,{className:"w-full md:w-[180px]",children:s.jsx(jr,{placeholder:"Filter by status"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"new",children:"New"}),s.jsx(Ke,{value:"processing",children:"Processing"}),s.jsx(Ke,{value:"delivered",children:"Delivered"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),n?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):He.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Rn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orders found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Order #"}),s.jsx(et,{children:"Date & Time"}),s.jsx(et,{children:"Customer"}),s.jsx(et,{children:"Phone"}),s.jsx(et,{children:"Items"}),s.jsx(et,{children:"Amount"}),s.jsx(et,{children:"Status"}),s.jsx(et,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:He.map(Ne=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:Ne.order_number}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:W(Ne.created_at)}),s.jsx("div",{className:"text-muted-foreground",children:ae(Ne.created_at)})]})}),s.jsx(Xe,{children:Ne.customer_name}),s.jsx(Xe,{children:Ne.customer_phone}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[Array.isArray(Ne.items)?Ne.items.length:0," item",Array.isArray(Ne.items)&&Ne.items.length!==1?"s":""]})}),s.jsx(Xe,{className:"font-medium",children:oe(Ne.total)}),s.jsx(Xe,{children:ue(Ne.status)}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>Ee(Ne),title:"View Details",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>Ae(Ne),title:"Edit Order",children:s.jsx(Wu,{className:"h-4 w-4"})}),Ne.status!=="delivered"&&Ne.status!=="cancelled"&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>Je(Ne),title:J?"Ship Order":"Mark as Delivered",className:"text-blue-600 hover:text-blue-700",disabled:G===Ne.id,children:G===Ne.id?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(lc,{className:"h-4 w-4"})}),Ne.status!=="cancelled"&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>Oe(Ne),title:"Cancel Order",className:"text-destructive hover:text-destructive",children:s.jsx(pj,{className:"h-4 w-4"})})]})})]},Ne.id))})]})}),He.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:["Showing ",He.length," order",He.length!==1?"s":""]})]}),s.jsx(P5e,{order:p,open:g,onClose:()=>v(!1)}),s.jsx(O5e,{order:p,open:_,onClose:()=>w(!1),onSave:fe}),s.jsx(Tn,{open:M,onOpenChange:H,children:s.jsxs(jn,{className:"sm:max-w-md",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-2",children:[s.jsx(lc,{className:"h-5 w-5"}),"Ship Order"]}),s.jsx(Ns,{children:Z&&s.jsxs("span",{children:["Order #",Z.order_number,"  ",Z.customer_name]})})]}),s.jsxs("div",{className:"grid gap-3 py-4",children:[P&&s.jsxs(ie,{onClick:Ye,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:s.jsx(lc,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Ship via Shiprocket"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Create shipment with courier partner"})]})]}),s.jsxs(ie,{onClick:ce,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900",children:s.jsx(cn,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Manual Delivery"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as delivered (self-delivery)"})]})]})]})]})})]})})},M5e=()=>{const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState("30");j.useEffect(()=>{u()},[l]);const u=async()=>{try{const{data:{session:m}}=await Q.auth.getSession();if(!m){e("/admin/login");return}const{data:p,error:y}=await Q.from("subscriptions").select("plan_id, status, subscription_plans(enable_analytics)").eq("user_id",m.user.id).maybeSingle();if(!p||y){a(!1),r(!1);return}const g=p?.subscription_plans?.enable_analytics||!1,v=["active","trial"].includes(p?.status);if(!g||!v){a(!1),r(!1);return}a(!0),await d()}catch(m){Me({title:"Error",description:m.message,variant:"destructive"}),r(!1)}},d=async()=>{try{r(!0);const{data:{user:m}}=await Q.auth.getUser();if(!m)return;const{data:p}=await Q.from("stores").select("id").eq("user_id",m.id).single();if(!p)return;const y=new Date;y.setDate(y.getDate()-parseInt(l));const{data:g,error:v}=await Q.from("orders").select("*").eq("store_id",p.id).gte("created_at",y.toISOString());if(v)throw v;const _=g?.reduce((C,k)=>C+k.total,0)||0,w=g?.length||0,b=w>0?_/w:0,E=new Map;g?.forEach(C=>{Array.isArray(C.items)&&C.items.forEach(k=>{const R=E.get(k.productId)||{name:k.productName,quantity:0,revenue:0};R.quantity+=k.quantity,R.revenue+=k.price*k.quantity,E.set(k.productId,R)})});const S=Array.from(E.values()).sort((C,k)=>k.revenue-C.revenue).slice(0,5);o({totalRevenue:_,ordersCount:w,averageOrderValue:b,topProducts:S})}catch(m){Me({title:"Error",description:m.message,variant:"destructive"})}finally{r(!1)}},f=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(m);return t?s.jsx(vs,{children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})})}):n?s.jsx(vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your store performance and sales"})]}),s.jsxs(_r,{value:l,onValueChange:c,children:[s.jsxs(vr,{className:"w-[180px]",children:[s.jsx(hc,{className:"h-4 w-4 mr-2"}),s.jsx(jr,{})]}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"7",children:"Last 7 Days"}),s.jsx(Ke,{value:"30",children:"Last 30 Days"}),s.jsx(Ke,{value:"90",children:"Last 90 Days"}),s.jsx(Ke,{value:"365",children:"Last Year"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Se,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Ya,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold",children:f(i?.totalRevenue||0)})]})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(jf,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:i?.ordersCount||0})]})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:s.jsx(Cl,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Order Value"}),s.jsx("p",{className:"text-2xl font-bold",children:f(i?.averageOrderValue||0)})]})]})})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Top Selling Products"})}),s.jsx(Te,{children:i?.topProducts&&i.topProducts.length>0?s.jsx("div",{className:"space-y-4",children:i.topProducts.map((m,p)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:m.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.quantity," units sold"]})]}),s.jsx("p",{className:"text-lg font-bold text-primary",children:f(m.revenue)})]},p))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales data available for this period"})})]})]})}):s.jsx(vs,{children:s.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[s.jsx(Rn,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Not Available"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need a subscription plan with analytics enabled to access this feature."})]})})};function F5e(){const[e,t]=j.useState([]),[r,n]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState(!0),[c,u]=j.useState(!1),[d,f]=j.useState(null),[m,p]=j.useState(null),[y,g]=j.useState(!1),[v,_]=j.useState(null),[w,b]=j.useState(!1),[E,S]=j.useState([]),[C,k]=j.useState(!1),[R,P]=j.useState(new Set),[O,A]=j.useState("vps"),[D,F]=j.useState(""),[B,z]=j.useState(null),[q,G]=j.useState(""),[Y,M]=j.useState(null),[H,Z]=j.useState("");j.useEffect(()=>{L()},[]);const L=async()=>{try{l(!0);const{data:{user:W}}=await Q.auth.getUser();if(!W)return;const{data:ae}=await Q.from("stores").select("id, google_access_token").eq("user_id",W.id).single();if(!ae)return;_(ae.id),k(!!ae.google_access_token);const{data:oe,error:K}=await Q.from("categories").select("*").eq("store_id",ae.id).order("name");if(K)throw K;t(oe||[])}catch(W){Me({title:"Error",description:W.message,variant:"destructive"})}finally{l(!1)}},J=async()=>{if(!r.trim()){F("Category name is required"),document.getElementById("categoryName")?.focus();return}if(F(""),!v){Me({title:"Error",description:"Store not found",variant:"destructive"});return}try{u(!0);let W=a.trim();if(B&&O==="vps"){const{data:{session:oe}}=await Q.auth.getSession();if(!oe)throw new Error("Not authenticated");const{data:{user:K}}=await Q.auth.getUser();if(!K)throw new Error("User not found");const{data:be,error:pe}=await Q.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",K.id).single();if(pe||!be)throw new Error("Store not found");const Ee=B.size/1024/1024,Ae=be.storage_used_mb||0,fe=be.storage_limit_mb||100;if(Ae+Ee>fe)throw new Error(`Storage limit reached. You have ${(fe-Ae).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);S([{name:B.name,progress:10}]);const Je=new FormData;Je.append("file",B),Je.append("type","categories");const Ye=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Je}),ce=await Ye.json();if(!Ye.ok||!ce.success)throw new Error(ce.error||"Failed to upload image");W=ce.imageUrl;const we=ce.fileId||B.name,{error:Oe}=await Q.from("media_library").insert({store_id:be.id,file_url:W,file_name:we,file_size_mb:Ee,file_type:"categories"});Oe&&console.error("Failed to add to media library:",Oe);const{error:He}=await Q.from("stores").update({storage_used_mb:Ae+Ee}).eq("id",be.id);He&&console.error("Failed to update storage usage:",He),S([])}W||(W=yEe());const{error:ae}=await Q.from("categories").insert([{name:r.trim(),store_id:v,image_url:W}]);if(ae)throw ae;q&&URL.revokeObjectURL(q),z(null),G(""),Me({title:"Success",description:"Category added successfully"}),n(""),i(""),F(""),L()}catch(W){Me({title:"Error",description:W.message,variant:"destructive"})}finally{u(!1),S([])}},V=async()=>{if(d)try{if(d.image_url&&d.image_url.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:d.image_url})}),await Q.from("media_library").delete().eq("file_url",d.image_url),console.log("Category image deleted from VPS and media library:",d.image_url)}catch(ae){console.error("Failed to delete image:",ae)}const{error:W}=await Q.from("categories").delete().eq("id",d.id);if(W)throw W;Me({title:"Success",description:"Category deleted successfully"}),L()}catch(W){Me({title:"Error",description:W.message,variant:"destructive"})}finally{f(null)}},X=W=>{p({...W,newName:W.name,newImageUrl:W.image_url||""})},ne=async()=>{if(m){if(!m.newName.trim()){Me({title:"Error",description:"Category name cannot be empty",variant:"destructive"});return}try{g(!0);let W=m.newImageUrl.trim();if(Y&&O==="vps"){const{data:{session:K}}=await Q.auth.getSession();if(!K)throw new Error("Not authenticated");const{data:{user:be}}=await Q.auth.getUser();if(!be)throw new Error("User not found");const{data:pe,error:Ee}=await Q.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",be.id).single();if(Ee||!pe)throw new Error("Store not found");const Ae=Y.size/1024/1024,fe=pe.storage_used_mb||0,Je=pe.storage_limit_mb||100;if(fe+Ae>Je)throw new Error(`Storage limit reached. You have ${(Je-fe).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);S([{name:Y.name,progress:10}]);const Ye=new FormData;Ye.append("file",Y),Ye.append("type","categories");const ce=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Ye}),we=await ce.json();if(!ce.ok||!we.success)throw new Error(we.error||"Failed to upload image");W=we.imageUrl;const Oe=we.fileId||Y.name,{error:He}=await Q.from("media_library").insert({store_id:pe.id,file_url:W,file_name:Oe,file_size_mb:Ae,file_type:"categories"});He&&console.error("Failed to add to media library:",He);const{error:Ge}=await Q.from("stores").update({storage_used_mb:fe+Ae}).eq("id",pe.id);Ge&&console.error("Failed to update storage usage:",Ge),S([])}const ae=m.image_url;if(ae&&ae!==W&&ae.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:ae})}),await Q.from("media_library").delete().eq("file_url",ae),console.log("Old category image deleted from VPS and media library:",ae)}catch(K){console.error("Failed to delete old image:",K)}const{error:oe}=await Q.from("categories").update({name:m.newName.trim(),image_url:W||null}).eq("id",m.id);if(oe)throw oe;H&&URL.revokeObjectURL(H),M(null),Z(""),Me({title:"Success",description:"Category updated successfully"}),p(null),L()}catch(W){Me({title:"Error",description:W.message,variant:"destructive"})}finally{g(!1),S([])}}},se=(W,ae)=>{if(!W.trim()){Me({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let oe=W.trim();if(oe.includes("drive.google.com")){const K=oe.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);K&&(oe=`https://drive.google.com/thumbnail?id=${K[1]||K[2]}&sz=w1000`,Me({title:" Google Drive Link Converted",description:"URL converted to direct image format. Preview shown below."}))}ae&&m?p(K=>K?{...K,newImageUrl:oe}:null):(i(oe),setTimeout(()=>{const K=document.querySelector("[data-image-preview]");K&&K.scrollIntoView({behavior:"smooth",block:"nearest"})},100))},ue=async(W,ae=!1)=>{let oe=W.target.files?.[0];if(oe){if(!oe.type.startsWith("image/")){Me({title:"Invalid file type",description:`${oe.name} is not a valid image file`,variant:"destructive"});return}try{if(O==="vps"){try{const Ae=(oe.size/1024/1024).toFixed(2),fe=await kF(oe,5),Je=(fe.size/1024/1024).toFixed(2);console.log(`Image compressed: ${Ae}MB  ${Je}MB`),oe=fe}catch(Ae){console.error("Compression failed:",Ae),Me({title:"Compression failed",description:`Failed to compress ${oe.name}, using original`,variant:"destructive"})}const Ee=URL.createObjectURL(oe);ae?(H&&URL.revokeObjectURL(H),M(oe),Z(Ee),m&&p(Ae=>Ae?{...Ae,newImageUrl:Ee}:null)):(q&&URL.revokeObjectURL(q),z(oe),G(Ee),i(Ee)),Me({title:"Image ready",description:`${oe.name} will be uploaded when you save the category`});return}b(!0),S([{name:oe.name,progress:0}]);const{data:{session:K}}=await Q.auth.getSession();if(!K)throw new Error("Not authenticated");S([{name:oe.name,progress:10}]);const be=new FormData;be.append("file",oe),be.append("type","categories");const pe=setInterval(()=>{S(Ee=>Ee.map(Ae=>Ae.progress<90?{...Ae,progress:Ae.progress+10}:Ae))},200);try{const Ee=await Q.functions.invoke("upload-to-drive",{body:be,headers:{Authorization:`Bearer ${K.access_token}`}});if(clearInterval(pe),Ee.error)throw new Error(Ee.error.message||"Failed to upload image");Ee.data?.imageUrl&&(S([{name:oe.name,progress:100}]),await new Promise(Ae=>setTimeout(Ae,500)),ae&&m?p(Ae=>Ae?{...Ae,newImageUrl:Ee.data.imageUrl}:null):(i(Ee.data.imageUrl),setTimeout(()=>{const Ae=document.querySelector("[data-image-preview]");Ae&&Ae.scrollIntoView({behavior:"smooth",block:"nearest"})},100)),Me({title:" Image uploaded successfully!",description:`${oe.name} is ready to use. Preview shown below.`}))}catch(Ee){throw clearInterval(pe),Ee}}catch(K){console.error("Upload error:",K);let be=K.message||"";if(K.context?.body)try{const pe=JSON.parse(K.context.body);be=pe.error||pe.message||be}catch(pe){console.error("Could not parse error body:",pe)}be.toLowerCase().includes("storage limit")?Me({title:"Storage Limit Reached",description:be,variant:"destructive",duration:6e3}):be.toLowerCase().includes("drive")&&be.toLowerCase().includes("not connected")?Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first.",variant:"destructive",duration:6e3}):be.toLowerCase().includes("token")||be.toLowerCase().includes("expired")?Me({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Me({title:"Upload Failed",description:be||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{b(!1),S([]),W.target.value=""}}};return s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Category Management"})}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(ke,{htmlFor:"categoryName",className:"text-base font-medium",children:["Category Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ze,{id:"categoryName",placeholder:"Enter category name...",value:r,onChange:W=>{n(W.target.value),D&&F("")},onKeyPress:W=>W.key==="Enter"&&!W.shiftKey&&J(),className:`mt-2 ${D?"border-destructive focus-visible:ring-destructive":""}`,"aria-invalid":!!D,"aria-describedby":D?"name-error":void 0}),D&&s.jsxs("p",{id:"name-error",className:"text-sm text-destructive mt-1.5 flex items-center gap-1",children:[s.jsx(mc,{className:"w-4 h-4"}),D]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{className:"text-base font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"vps",checked:O==="vps",onChange:W=>A(W.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"drive",checked:O==="drive",onChange:W=>A(W.target.value),className:"w-4 h-4 text-primary",disabled:!C}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!C&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:O==="vps"?"Images compressed to max 5MB and stored on server":"Images uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${w?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"categoryImageUpload",accept:"image/*",onChange:W=>ue(W,!1),className:"hidden",disabled:w||!C}),s.jsx("label",{htmlFor:"categoryImageUpload",className:`block p-6 text-center ${w||!C?"cursor-not-allowed":"cursor-pointer"}`,children:w&&E.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsx("span",{className:"font-medium text-foreground",children:"Uploading..."})]}),E.map((W,ae)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[W.progress<100?s.jsx(Jt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(cn,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:W.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:W.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[W.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${W.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${W.progress}%`}})})]},ae))]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(Kd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:C?"Click to upload image":"Google Drive Not Connected"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C?"PNG, JPG images. Will be uploaded to your Google Drive.":"Connect Google Drive in Store Settings to enable uploads"})]})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{placeholder:"https://drive.google.com/file/d/... (optional)",value:a,onChange:W=>i(W.target.value),onKeyPress:W=>{W.key==="Enter"&&(W.preventDefault(),se(a,!1))},className:"flex-1"}),s.jsx(ie,{type:"button",variant:"secondary",onClick:()=>se(a,!1),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted to a direct image URL."})]}),a&&s.jsxs("div",{"data-image-preview":!0,className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(""),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(La,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:ff(a)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:W=>{W.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:a})]})]})]})]}),s.jsxs(ie,{onClick:J,disabled:c,className:"w-full",children:[c?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(Wi,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Add Category"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(ke,{className:"text-base font-medium",children:["Your Categories (",e.length,")"]})}),o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jt,{className:"w-8 h-8 mx-auto mb-3 text-primary animate-spin"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading categories..."})]}):e.length===0?s.jsx("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(Rn,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"No categories yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first category using the form above"})]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(W=>s.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-lg hover:border-primary/50 transition-all duration-300",children:[s.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[s.jsx("img",{src:ff(W.image_url||"")||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",alt:W.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:ae=>{ae.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}}),s.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[s.jsxs(ie,{size:"sm",variant:"secondary",onClick:()=>X(W),className:"shadow-lg",title:"Edit category",children:[s.jsx(IB,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(ie,{size:"sm",variant:"destructive",onClick:()=>f(W),className:"shadow-lg",title:"Delete category",children:[s.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate group-hover:text-primary transition-colors",children:W.name}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Category"})]}),s.jsxs("div",{className:"sm:hidden border-t p-2 flex gap-2",children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>X(W),className:"flex-1",children:[s.jsx(IB,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>f(W),className:"flex-1 text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},W.id))})]}),s.jsx(g0,{open:!!d,onOpenChange:()=>f(null),children:s.jsxs(_m,{children:[s.jsxs(jm,{children:[s.jsx(Sm,{children:"Delete Category"}),s.jsxs(km,{children:['Are you sure you want to delete the category "',d?.name,'"? This action cannot be undone.']})]}),s.jsxs(Nm,{children:[s.jsx(Em,{children:"Cancel"}),s.jsx(Cm,{onClick:V,className:"bg-destructive",children:"Delete"})]})]})}),s.jsx(g0,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs(_m,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(jm,{children:[s.jsx(Sm,{children:"Edit Category"}),s.jsx(km,{children:"Update the category name and image."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Name"}),s.jsx(ze,{placeholder:"Enter category name...",value:m?.newName||"",onChange:W=>p(ae=>ae?{...ae,newName:W.target.value}:null)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"text-xs font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"vps",checked:O==="vps",onChange:W=>A(W.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-xs",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"drive",checked:O==="drive",onChange:W=>A(W.target.value),className:"w-4 h-4 text-primary",disabled:!C}),s.jsxs("span",{className:"text-xs",children:["Google Drive ",!C&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-xs font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${w?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"editCategoryImageUpload",accept:"image/*",onChange:W=>ue(W,!0),className:"hidden",disabled:w||!C}),s.jsx("label",{htmlFor:"editCategoryImageUpload",className:`block p-4 text-center ${w||!C?"cursor-not-allowed":"cursor-pointer"}`,children:w&&E.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Jt,{className:"w-4 h-4 text-primary animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Uploading..."})]}),E.map((W,ae)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-2 border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[W.progress<100?s.jsx(Jt,{className:"w-4 h-4 text-primary animate-spin flex-shrink-0"}):s.jsx(cn,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-foreground truncate",children:W.name})}),s.jsxs("span",{className:"text-xs font-medium text-primary",children:[W.progress,"%"]})]}),s.jsx("div",{className:"mt-1.5 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${W.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${W.progress}%`}})})]},ae))]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Kd,{className:"w-6 h-6 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-xs font-medium",children:C?"Click to upload":"Google Drive Not Connected"})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"text-xs font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{placeholder:"https://drive.google.com/file/d/...",value:m?.newImageUrl||"",onChange:W=>p(ae=>ae?{...ae,newImageUrl:W.target.value}:null),onKeyPress:W=>{W.key==="Enter"&&(W.preventDefault(),se(m?.newImageUrl||"",!0))},className:"flex-1"}),s.jsx(ie,{type:"button",variant:"secondary",onClick:()=>se(m?.newImageUrl||"",!0),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted."})]}),m?.newImageUrl&&s.jsxs("div",{className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(W=>W?{...W,newImageUrl:""}:null),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(La,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:ff(m.newImageUrl)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:W=>{W.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:m.newImageUrl})]})]})]})]})]}),s.jsxs(Nm,{children:[s.jsx(Em,{children:"Cancel"}),s.jsxs(Cm,{onClick:ne,disabled:y,children:[y?s.jsx(Jt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update"]})]})]})})]})]})}const L5e=()=>{const e=xr();j.useEffect(()=>{t()},[]);const t=async()=>{const{data:{session:r}}=await Q.auth.getSession();r||e("/admin/login")};return s.jsx(vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your product categories"})]}),s.jsx(F5e,{})]})})},$5e=()=>{const e=xr(),[t,r]=j.useState(null),[n,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(0),[u,d]=j.useState(!1),[f,m]=j.useState(null),[p,y]=j.useState(null);j.useEffect(()=>{g()},[]),j.useEffect(()=>{if(!p)return;const P=()=>{const A=new Date,D=p.getTime()-A.getTime();if(D<=0){m({days:0,hours:0,minutes:0,seconds:0});return}const F=Math.floor(D/(1e3*60*60*24)),B=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),z=Math.floor(D%(1e3*60*60)/(1e3*60)),q=Math.floor(D%(1e3*60)/1e3);m({days:F,hours:B,minutes:z,seconds:q})};P();const O=setInterval(P,1e3);return()=>clearInterval(O)},[p]);const g=async()=>{try{const{data:{user:P}}=await Q.auth.getUser();if(!P){e("/auth");return}const{data:O}=await Q.from("stores").select("id").eq("user_id",P.id).single();if(O){const{count:G}=await Q.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",O.id);c(G||0)}const{data:A,error:D}=await Q.from("subscriptions").select(`
          *,
          subscription_plans (*)
        `).eq("user_id",P.id).order("updated_at",{ascending:!1});let F=null;if(A&&A.length>0){const G=new Date,Y=A.filter(H=>!(H.status==="cancelled"||H.status==="expired"||H.current_period_end&&new Date(H.current_period_end)<G)),M=Y.filter(H=>H.status==="active");M.length>0?F=M[0]:F=Y[0]}if(D&&D.code!=="PGRST116")throw D;if(F){const G={...F,subscription_plans:{...F.subscription_plans,features:Array.isArray(F.subscription_plans.features)?F.subscription_plans.features:[]}};r(G),F.current_period_end?y(new Date(F.current_period_end)):F.trial_ends_at&&y(new Date(F.trial_ends_at))}const{data:B,error:z}=await Q.from("subscription_plans").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(z)throw z;const q=(B||[]).map(G=>({...G,features:Array.isArray(G.features)?G.features:[]}));a(q)}catch(P){console.error("Error fetching subscription data:",P),ot.error("Failed to load subscription data")}finally{o(!1)}},v=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P),_=P=>P?new Date(P).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",w=()=>{if(!t)return 0;const P=t.subscription_plans?.whatsapp_orders_limit;if(P===null||P===0)return 0;const O=t.whatsapp_orders_used||0,A=O/P*100;return console.log("WhatsApp Usage:",{used:O,limit:P,percentage:A}),Math.min(A,100)},b=()=>{if(!t)return 0;const P=t.subscription_plans?.website_orders_limit;if(P===null||P===0)return 0;const O=t.website_orders_used||0,A=O/P*100;return console.log("Website Usage:",{used:O,limit:P,percentage:A}),Math.min(A,100)},E=P=>P>=96?"bg-red-600":P>=81?"bg-orange-500":P>=51?"bg-yellow-500":"bg-green-500",S=P=>P>=100?{level:"error",message:"Limit reached - Upgrade now!"}:P>=90?{level:"warning",message:"Almost at limit"}:P>=80?{level:"caution",message:"Running low on orders"}:null,C=async()=>{d(!0);try{await g(),ot.success("Refreshed! Order usage updated successfully.")}catch(P){console.error("Error refreshing:",P),ot.error("Failed to refresh data. Please try again.")}finally{d(!1)}},k=()=>{e("/pricing")},R=()=>t?.current_period_end?new Date(t.current_period_end)<new Date:!1;return i?s.jsx(vs,{children:s.jsx("div",{className:"pt-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading subscription details..."})})}):s.jsx(vs,{children:s.jsxs("div",{className:"space-y-8 p-6 md:p-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Subscription"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription plan"})]}),t&&f&&p&&!R()&&s.jsx(Se,{className:`border-l-4 ${t.status==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:s.jsx(Te,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gs,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${t.status==="trial"?"text-warning":"text-primary"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:t.status==="trial"?"Trial Status":"Subscription Status"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.status==="trial"?"Your free trial ends in ":"Your subscription renews in ",s.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[f.days,"d ",f.hours,"h ",f.minutes,"m ",f.seconds,"s"]})]})]})]})})}),t&&R()&&s.jsxs(tn,{variant:"destructive",className:"border-destructive/50 bg-destructive/10",children:[s.jsx(ra,{className:"h-5 w-5"}),s.jsxs(rn,{className:"ml-2",children:[s.jsx("span",{className:"font-semibold",children:"Your subscription has expired!"})," ","Your store cannot accept new orders. Please upgrade your plan to continue using our services."]})]}),t&&s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:t.subscription_plans.name}),s.jsx(jt,{variant:R()?"destructive":t.status==="active"?"default":"secondary",children:R()?"Expired":t.status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(t.billing_cycle==="yearly"&&t.subscription_plans.yearly_price?t.subscription_plans.yearly_price:t.subscription_plans.monthly_price)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.billing_cycle==="yearly"?"year":"month"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Billing:"})," ",t.billing_cycle==="yearly"?"Yearly":"Monthly"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hc,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Expires:"})," ",_(t.current_period_end)]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Order Usage"}),s.jsxs(ie,{size:"sm",variant:"outline",onClick:C,disabled:u,children:[s.jsx(Wo,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.subscription_plans.whatsapp_orders_limit!==null&&(()=>{const P=w(),O=S(P);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"WhatsApp Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.whatsapp_orders_limit===0?`${t.whatsapp_orders_used||0} / Unlimited`:`${t.whatsapp_orders_used||0} / ${t.subscription_plans.whatsapp_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${E(P)}`,style:{width:`${P}%`}})})}),O&&s.jsxs(tn,{variant:O.level==="error"?"destructive":"default",className:`mt-2 ${O.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":O.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx(rn,{className:"ml-2 text-sm font-medium",children:O.message})]})]})})(),t.subscription_plans.website_orders_limit!==null&&(()=>{const P=b(),O=S(P);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Website Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.website_orders_limit===0?`${t.website_orders_used||0} / Unlimited`:`${t.website_orders_used||0} / ${t.subscription_plans.website_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${E(P)}`,style:{width:`${P}%`}})})}),O&&s.jsxs(tn,{variant:O.level==="error"?"destructive":"default",className:`mt-2 ${O.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":O.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx(rn,{className:"ml-2 text-sm font-medium",children:O.message})]})]})})()]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.next_billing_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(hc,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Next billing: ",_(t.next_billing_at)]})]})}),t.trial_ends_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Rn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Trial ends: ",_(t.trial_ends_at)]})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Plan Features"}),s.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.subscription_plans.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:t.subscription_plans.max_products===0?"Unlimited Products":`Max ${t.subscription_plans.max_products} Product${t.subscription_plans.max_products===1?"":"s"}`})]}),t.subscription_plans.features.filter(P=>{if(!P||typeof P!="string"||P.trim()==="")return!1;const O=P.toLowerCase();return!O.includes("analytics")&&!O.includes("email")&&!O.includes("notification")&&!O.includes("location")&&!O.includes("tracking")&&!O.includes("product")&&!O.includes("support")&&!O.includes("whatsapp order")&&!O.includes("website order")}).map((P,O)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P})]},O)),t.subscription_plans.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),t.subscription_plans.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),t.subscription_plans.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Available Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(P=>{const O=t?.plan_id===P.id;return s.jsxs(Se,{className:`p-6 flex flex-col ${O?"border-primary":"border-border"}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-1",children:P.name}),P.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(P.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"/month"})]}),s.jsxs("ul",{className:"space-y-2 mb-6 flex-1",children:[P.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P.max_products===0?"Unlimited Products":`Max ${P.max_products} Product${P.max_products===1?"":"s"}`})]}),P.features.filter(A=>{if(!A||typeof A!="string"||A.trim()==="")return!1;const D=A.toLowerCase();return!D.includes("analytics")&&!D.includes("email")&&!D.includes("notification")&&!D.includes("location")&&!D.includes("tracking")&&!D.includes("product")&&!D.includes("support")&&!D.includes("whatsapp order")&&!D.includes("website order")}).map((A,D)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:A})]},D)),P.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),P.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),P.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]}),P.whatsapp_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P.whatsapp_orders_limit===0?"Unlimited WhatsApp orders/month":`${P.whatsapp_orders_limit} WhatsApp order${P.whatsapp_orders_limit===1?"":"s"}/month`})]}),P.website_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P.website_orders_limit===0?"Unlimited Website orders/month":`${P.website_orders_limit} Website order${P.website_orders_limit===1?"":"s"}/month`})]})]}),s.jsx(ie,{className:"w-full",variant:O?"outline":"default",disabled:O,onClick:k,children:O?"Current Plan":s.jsxs(s.Fragment,{children:["Upgrade Now ",s.jsx(xR,{className:"w-4 h-4 ml-2"})]})})]},P.id)})})]})]})})},B5e=()=>{const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(""),[l,c]=j.useState(""),[u,d]=j.useState(null),[f,m]=j.useState(!1),[p,y]=j.useState(!1),[g,v]=j.useState(null),[_,w]=j.useState(null),[b,E]=j.useState({alternate_names:"",seo_description:"",business_phone:"",business_email:"",street_address:"",city:"",state:"",postal_code:"",country:"IN",opening_hours:"",price_range:""});j.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:{session:O}}=await Q.auth.getSession();if(!O){e("/auth");return}const{data:A,error:D}=await Q.from("stores").select("*").eq("user_id",O.user.id).single();if(D||!A){Me({variant:"destructive",title:"Error",description:"Could not load store data"});return}const{data:F}=await Q.from("profiles").select("phone, email").eq("user_id",O.user.id).single();d(A.id),o(A.name||""),c(A.slug||""),E({alternate_names:A.alternate_names||"",price_range:A.price_range||"",opening_hours:A.opening_hours||"",city:A.city||"",state:A.state||"",postal_code:A.postal_code||"",country:A.country||"IN",seo_description:A.seo_description||A.description||"",business_phone:A.business_phone||F?.phone||A.whatsapp_number||"",business_email:A.business_email||F?.email||"",street_address:A.street_address||A.address||""})}catch(O){console.error("Error loading store data:",O)}finally{r(!1)}},C=async()=>{if(u){a(!0);try{const{error:O}=await Q.from("stores").update({alternate_names:b.alternate_names,seo_description:b.seo_description,business_phone:b.business_phone,business_email:b.business_email,street_address:b.street_address,city:b.city,state:b.state,postal_code:b.postal_code,country:b.country,opening_hours:b.opening_hours,price_range:b.price_range}).eq("id",u);if(O)throw O;Me({title:"SEO Settings Saved",description:"Your SEO settings have been updated successfully. Changes may take a few days to reflect in search results."})}catch(O){Me({variant:"destructive",title:"Error",description:O.message||"Failed to save SEO settings"})}finally{a(!1)}}},k=()=>{if(!i)return;const O=i,A=[],D=O.replace(/([a-z])([A-Z])/g,"$1 $2");D!==O&&A.push(D);const F=O.replace(/\s+/g,"");F!==O&&A.push(F);const B=O.replace(/a/gi,"aa").replace(/e/gi,"ee");B!==O&&!A.includes(B)&&A.push(D.replace(/a/gi,"aa"));const z=[...new Set(A)].filter(q=>q!==O);E(q=>({...q,alternate_names:z.join(", ")})),Me({title:"Variations Generated",description:`Generated ${z.length} name variations`})},R=async()=>{if(!u){Me({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{m(!0),v(null),Me({title:"Submitting Sitemap",description:"Submitting your sitemap to Google Search Console..."});const{data:{session:O}}=await Q.auth.getSession();if(!O)throw new Error("Not authenticated. Please login again.");const D=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O.access_token}`},body:JSON.stringify({storeId:u})})).json();if(D.success)v(D.results?.[0]||{success:!0}),Me({title:"Sitemap Submitted!",description:"Your sitemap has been submitted to Google. It may take a few days to appear in search results."});else throw new Error(D.error||"Failed to submit sitemap")}catch(O){console.error("Error submitting sitemap:",O),v({success:!1,error:O.message}),Me({variant:"destructive",title:"Submission Failed",description:O.message||"Failed to submit sitemap to Google"})}finally{m(!1)}},P=async()=>{if(!u){Me({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{y(!0),w(null),Me({title:"Requesting Indexing",description:"Requesting immediate indexing from Google. This is faster than sitemap submission."});const{data:{session:O}}=await Q.auth.getSession();if(!O)throw new Error("Not authenticated. Please login again.");const D=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O.access_token}`},body:JSON.stringify({storeId:u})})).json();if(D.success)w(D.results?.[0]||{success:!0}),Me({title:"Indexing Requested!",description:"Successfully requested indexing. Your store should appear in Google within hours."});else throw new Error(D.error||"Failed to request indexing")}catch(O){console.error("Error requesting indexing:",O),w({success:!1,error:O.message}),Me({variant:"destructive",title:"Indexing Failed",description:O.message||"Failed to request indexing from Google"})}finally{y(!1)}};return t?s.jsx(vs,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(vs,{children:s.jsx(Dh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(xc,{className:"w-6 h-6"}),"SEO Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Optimize your store for search engines like Google"})]}),s.jsx(ie,{onClick:C,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(Se,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Te,{className:"flex items-start gap-3 pt-4",children:[s.jsx(nc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"How SEO helps your store"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:['These settings help Google understand your business better. When someone searches for "',i,'" or similar terms, Google will show rich information about your store including address, phone, and hours.']})]})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(cm,{className:"w-5 h-5"}),"Basic Information"]}),s.jsx(Ir,{children:"Help customers find your store with different search terms"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"storeName",children:"Store Name"}),s.jsx(ze,{id:"storeName",value:i,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Change this in Settings  Store Details"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ke,{htmlFor:"alternateNames",className:"flex items-center gap-2",children:["Also Known As",s.jsxs(fg,{children:[s.jsx(hg,{children:s.jsx(nc,{className:"w-3.5 h-3.5 text-muted-foreground"})}),s.jsx(Ih,{className:"max-w-xs",children:s.jsx("p",{children:"Add variations of your store name that customers might search for. Separate with commas."})})]})]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",onClick:k,className:"h-7 text-xs",children:[s.jsx(VJ,{className:"w-3 h-3 mr-1"}),"Auto Generate"]})]}),s.jsx(ze,{id:"alternateNames",placeholder:"Sasu Masale, Sasu Masaale, SasuMasaale",value:b.alternate_names,onChange:O=>E(A=>({...A,alternate_names:O.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Example: If store is "SasuMasale", add "Sasu Masale, Sasu Masaale"'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"seoDescription",children:["SEO Description",s.jsx(jt,{variant:"secondary",className:"ml-2 text-xs",children:"Important"})]}),s.jsx(_a,{id:"seoDescription",placeholder:"Fresh Indian spices store offering premium quality masale. Buy garam masala, turmeric, and more...",value:b.seo_description,onChange:O=>E(A=>({...A,seo_description:O.target.value})),rows:3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.seo_description.length,"/160 characters (recommended)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"priceRange",children:"Price Range"}),s.jsxs("select",{id:"priceRange",value:b.price_range,onChange:O=>E(A=>({...A,price_range:O.target.value})),className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",children:[s.jsx("option",{value:"",children:" - Budget Friendly"}),s.jsx("option",{value:"",children:" - Moderate"}),s.jsx("option",{value:"",children:" - Premium"}),s.jsx("option",{value:"",children:" - Luxury"})]})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(oc,{className:"w-5 h-5"}),"Contact Information"]}),s.jsx(Ir,{children:"Help customers reach you directly from Google search"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"businessPhone",className:"flex items-center gap-2",children:[s.jsx(oc,{className:"w-4 h-4"}),"Business Phone"]}),s.jsx(ze,{id:"businessPhone",placeholder:"+91-9876543210",value:b.business_phone,onChange:O=>E(A=>({...A,business_phone:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"businessEmail",className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4"}),"Business Email"]}),s.jsx(ze,{id:"businessEmail",type:"email",placeholder:"contact@yourstore.com",value:b.business_email,onChange:O=>E(A=>({...A,business_email:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"openingHours",className:"flex items-center gap-2",children:[s.jsx(gs,{className:"w-4 h-4"}),"Opening Hours"]}),s.jsx(ze,{id:"openingHours",placeholder:"Mon-Sat: 9AM-9PM, Sun: 10AM-6PM",value:b.opening_hours,onChange:O=>E(A=>({...A,opening_hours:O.target.value}))})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(_f,{className:"w-5 h-5"}),"Business Address"]}),s.jsx(Ir,{children:"Appears on Google Maps and local search results"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"streetAddress",children:"Street Address"}),s.jsx(ze,{id:"streetAddress",placeholder:"123 Spice Market, Main Road",value:b.street_address,onChange:O=>E(A=>({...A,street_address:O.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"city",children:"City"}),s.jsx(ze,{id:"city",placeholder:"Mumbai",value:b.city,onChange:O=>E(A=>({...A,city:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"state",children:"State"}),s.jsx(ze,{id:"state",placeholder:"Maharashtra",value:b.state,onChange:O=>E(A=>({...A,state:O.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"postalCode",children:"Postal Code"}),s.jsx(ze,{id:"postalCode",placeholder:"400001",value:b.postal_code,onChange:O=>E(A=>({...A,postal_code:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"country",children:"Country"}),s.jsx(ze,{id:"country",placeholder:"IN",value:b.country,onChange:O=>E(A=>({...A,country:O.target.value}))})]})]})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ls,{className:"w-5 h-5"}),"Google Search Preview"]}),s.jsx(Ir,{children:"How your store might appear in Google search results"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"bg-white dark:bg-zinc-900 border rounded-lg p-4 max-w-xl",children:[s.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:[l,".digitaldukandar.in"]}),s.jsxs("div",{className:"text-lg text-blue-600 dark:text-blue-400 font-medium hover:underline cursor-pointer",children:[i,b.alternate_names?` (${b.alternate_names.split(",")[0]?.trim()})`:""," - Online Store"]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:b.seo_description||`Shop at ${i}. Quality products at great prices.`}),(b.business_phone||b.city)&&s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[b.business_phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(oc,{className:"w-3 h-3"}),b.business_phone]}),b.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_f,{className:"w-3 h-3"}),b.city,", ",b.state]})]})]})})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"w-5 h-5"}),"Google Indexing"]}),s.jsx(Ir,{children:"Submit your store to Google for faster indexing"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Two ways to get indexed:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-blue-800 dark:text-blue-200",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Submit Sitemap:"})," Traditional method, takes 3-7 days"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Request Indexing:"})," Faster method using Google Indexing API, appears within hours"]})]})]})]})]})}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:"Submit Sitemap"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Submit your sitemap to Google Search Console (slower but comprehensive)"})]}),s.jsx(ie,{onClick:R,disabled:f,variant:"outline",className:"w-full",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Submit Sitemap"]})}),g&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${g.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[g.success?s.jsx(js,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Hn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:g.success?s.jsx("p",{className:"font-medium",children:"Submitted successfully!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Submission failed"}),g.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:g.error})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:["Request Indexing",s.jsx(jt,{variant:"secondary",className:"text-xs",children:"Faster"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Request immediate indexing via Google Indexing API (appears within hours)"})]}),s.jsx(ie,{onClick:P,disabled:p,className:"w-full",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Requesting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nM,{className:"w-4 h-4 mr-2"}),"Request Indexing"]})}),_&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${_.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[_.success?s.jsx(js,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Hn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:_.success?s.jsx("p",{className:"font-medium",children:"Indexing requested!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Request failed"}),_.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:_.error})]})})]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-2",children:"Note:"}),s.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Sitemap is automatically submitted when you create/update your store"}),s.jsx("li",{children:'Use "Request Indexing" when you make important changes and need Google to re-crawl quickly'}),s.jsx("li",{children:"You can use both methods - they complement each other"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ie,{onClick:C,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Save SEO Settings"]})})})]})})})},U5e=()=>{const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(""),[l,c]=j.useState(null),[u,d]=j.useState({facebook_url:"",instagram_url:"",twitter_url:"",youtube_url:"",linkedin_url:""});j.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{session:_}}=await Q.auth.getSession();if(!_){e("/auth");return}const{data:w,error:b}=await Q.from("stores").select("*").eq("user_id",_.user.id).single();if(b||!w){Me({variant:"destructive",title:"Error",description:"Could not load store data"});return}c(w.id),o(w.name||"");const E=w.social_links;d({facebook_url:w.facebook_url||E?.facebook||"",instagram_url:w.instagram_url||E?.instagram||"",twitter_url:w.twitter_url||E?.twitter||"",youtube_url:w.youtube_url||"",linkedin_url:w.linkedin_url||""})}catch(_){console.error("Error loading store data:",_)}finally{r(!1)}},m=async()=>{if(l){a(!0);try{const{error:_}=await Q.from("stores").update({facebook_url:u.facebook_url||null,instagram_url:u.instagram_url||null,twitter_url:u.twitter_url||null,youtube_url:u.youtube_url||null,linkedin_url:u.linkedin_url||null}).eq("id",l);if(_)throw _;Me({title:"Social Media Settings Saved",description:"Your social media links have been updated successfully."})}catch(_){Me({variant:"destructive",title:"Error",description:_.message||"Failed to save social media settings"})}finally{a(!1)}}},p=_=>{if(!_)return!0;try{return new URL(_),!0}catch{return!1}},y=_=>_?p(_)?"valid":"invalid":null;if(t)return s.jsx(vs,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})})});const g=[{key:"facebook_url",name:"Facebook",icon:Q3,placeholder:"https://facebook.com/yourstore",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30"},{key:"instagram_url",name:"Instagram",icon:ic,placeholder:"https://instagram.com/yourstore",color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30"},{key:"twitter_url",name:"Twitter / X",icon:rM,placeholder:"https://twitter.com/yourstore",color:"text-sky-500",bgColor:"bg-sky-100 dark:bg-sky-900/30"},{key:"youtube_url",name:"YouTube",icon:WJ,placeholder:"https://youtube.com/@yourstore",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900/30"},{key:"linkedin_url",name:"LinkedIn",icon:BJ,placeholder:"https://linkedin.com/company/yourstore",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"}],v=Object.values(u).filter(_=>_&&p(_)).length;return s.jsx(vs,{children:s.jsx(Dh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Pg,{className:"w-6 h-6"}),"Social Media"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your social profiles to increase visibility"})]}),s.jsx(ie,{onClick:m,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(Se,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Te,{className:"flex items-center justify-between pt-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Why Social Media Matters"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Social links appear in Google search results and help customers find and trust your store. Connected profiles also improve your SEO ranking."})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:v}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connected"})]})]})}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"w-5 h-5"}),"Social Media Profiles"]}),s.jsx(Ir,{children:"Add your social media profile URLs. These will appear on your store and in search results."})]}),s.jsx(Te,{className:"space-y-6",children:g.map(_=>{const w=u[_.key],b=y(w);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:_.key,className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 rounded-md ${_.bgColor}`,children:s.jsx(_.icon,{className:`w-4 h-4 ${_.color}`})}),_.name,b==="valid"&&s.jsxs(jt,{variant:"secondary",className:"ml-2 text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx(cn,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{id:_.key,placeholder:_.placeholder,value:w,onChange:E=>d(S=>({...S,[_.key]:E.target.value})),className:b==="invalid"?"border-red-500":""}),w&&p(w)&&s.jsxs(fg,{children:[s.jsx(hg,{asChild:!0,children:s.jsx(ie,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(w,"_blank"),children:s.jsx(Ga,{className:"w-4 h-4"})})}),s.jsx(Ih,{children:"Open in new tab"})]})]}),b==="invalid"&&s.jsx("p",{className:"text-xs text-red-500",children:"Please enter a valid URL"})]},_.key)})})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"w-5 h-5"}),"Preview"]}),s.jsx(Ir,{children:"How your social links will appear on your store footer"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Follow ",i," on social media:"]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:g.map(_=>{const w=u[_.key],b=w&&p(w);return s.jsx("div",{className:`p-3 rounded-lg transition-all ${b?`${_.bgColor} cursor-pointer hover:scale-105`:"bg-muted/50 opacity-50"}`,children:s.jsx(_.icon,{className:`w-5 h-5 ${b?_.color:"text-muted-foreground"}`})},_.key)})}),v===0&&s.jsx("p",{className:"text-sm text-muted-foreground mt-4 italic",children:"No social profiles connected yet. Add URLs above to display them here."})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ie,{onClick:m,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Save Social Media Settings"]})})})]})})})},V5e=()=>{const e=xr(),[t]=gw(),[r,n]=j.useState(!0),[a,i]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState(!1),[d,f]=j.useState(null),[m,p]=j.useState(null),[y,g]=j.useState({enabled:!1,default_message:"Thanks for your message! We'll get back to you soon.",rules:[]}),[v,_]=j.useState({enabled:!1,default_reply:"Thanks for your comment!"}),[w,b]=j.useState({enabled:!1,display_mode:"auto",max_reels:6,manual_reels:[],show_on_homepage:!0,section_title:"Follow Us on Instagram"}),[E,S]=j.useState(""),[C,k]=j.useState(!1),[R,P]=j.useState(""),[O,A]=j.useState("");j.useEffect(()=>{const V=t.get("status"),X=t.get("message");V==="success"?(ot.success(X||"Instagram connected successfully!"),e("/admin/growth/instagram",{replace:!0})):V==="error"&&(ot.error(X||"Failed to connect Instagram"),e("/admin/growth/instagram",{replace:!0})),D()},[t]);const D=async()=>{try{n(!0);const{data:{user:V}}=await Q.auth.getUser();if(!V){e("/auth");return}const{data:X,error:ne}=await Q.from("stores").select("id, instagram_connected, instagram_username, instagram_token_expiry, auto_reply_settings, comment_auto_reply_settings, instagram_reels_settings").eq("user_id",V.id).single();if(ne){console.error("Error loading store:",ne),ot.error("Failed to load settings");return}l(X.id),u(X.instagram_connected||!1),f(X.instagram_username),p(X.instagram_token_expiry),X.auto_reply_settings&&g(X.auto_reply_settings),X.comment_auto_reply_settings&&_(X.comment_auto_reply_settings),X.instagram_reels_settings&&b(X.instagram_reels_settings)}catch(V){console.error("Error:",V),ot.error("Failed to load settings")}finally{n(!1)}},F=()=>{if(!o){ot.error("Store not found");return}const V=`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=connect&store_id=${o}`;window.location.href=V},B=async()=>{if(o)try{(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=disconnect&store_id=${o}`)).ok?(u(!1),f(null),p(null),ot.success("Instagram disconnected")):ot.error("Failed to disconnect")}catch(V){console.error("Error disconnecting:",V),ot.error("Failed to disconnect Instagram")}},z=async()=>{if(o)try{i(!0);const{error:V}=await Q.from("stores").update({auto_reply_settings:JSON.parse(JSON.stringify(y)),comment_auto_reply_settings:JSON.parse(JSON.stringify(v)),instagram_reels_settings:JSON.parse(JSON.stringify(w))}).eq("id",o);if(V)throw V;ot.success("Settings saved successfully!")}catch(V){console.error("Error saving:",V),ot.error("Failed to save settings")}finally{i(!1)}},q=()=>{if(!E.trim()){ot.error("Please enter a reel URL");return}if(!E.includes("instagram.com/reel/")&&!E.includes("instagram.com/p/")){ot.error("Invalid URL. Please use format: https://www.instagram.com/reel/xxx");return}if(w.manual_reels.some(X=>X.url===E.trim())){ot.error("This reel is already added");return}const V={url:E.trim(),added_at:new Date().toISOString()};b(X=>({...X,manual_reels:[...X.manual_reels,V]})),S(""),ot.success("Reel added")},G=V=>{b(X=>({...X,manual_reels:X.manual_reels.filter(ne=>ne.url!==V)}))},Y=async()=>{if(o)try{k(!0);const X=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?action=refresh&store_id=${o}`,{method:"POST"})).json();X.success?ot.success(`Refreshed ${X.count} reels from Instagram`):ot.error(X.error||"Failed to refresh reels")}catch(V){console.error("Error refreshing reels:",V),ot.error("Failed to refresh reels")}finally{k(!1)}},M=V=>{const X=V.match(/\/(reel|p)\/([A-Za-z0-9_-]+)/);return X?X[2]:V},H=()=>{if(!R.trim()||!O.trim()){ot.error("Please enter keywords and reply message");return}const V=R.split(",").map(ne=>ne.trim()).filter(ne=>ne),X={id:Date.now().toString(),keywords:V,reply:O.trim()};g(ne=>({...ne,rules:[...ne.rules,X]})),P(""),A(""),ot.success("Rule added")},Z=V=>{g(X=>({...X,rules:X.rules.filter(ne=>ne.id!==V)}))},L=()=>m?(new Date(m).getTime()-Date.now())/(1e3*60*60*24)<7:!1,J=async()=>{if(o)try{const X=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=refresh&store_id=${o}`)).json();X.success?(p(X.expires_at),ot.success("Token refreshed successfully!")):ot.error(X.error||"Failed to refresh token")}catch(V){console.error("Error refreshing token:",V),ot.error("Failed to refresh token")}};return r?s.jsx(vs,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Instagram Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your Instagram Business account and configure auto-replies"})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"w-5 h-5"}),"Instagram Connection"]}),s.jsx(Ir,{children:"Connect your Instagram Business account to enable auto-replies"})]}),s.jsx(Te,{children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx(Cn,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Connected"}),d&&s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["@",d]})]}),s.jsx(ie,{variant:"outline",size:"sm",onClick:B,children:"Disconnect"})]}),m&&s.jsxs("div",{className:`p-3 rounded-lg ${L()?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200":"bg-muted"}`,children:[s.jsxs("p",{className:"text-sm",children:["Token expires: ",new Date(m).toLocaleDateString(),L()&&s.jsx("span",{className:"text-yellow-600 ml-2",children:"(Expiring soon!)"})]}),s.jsx(ie,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:J,children:"Refresh Token"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[s.jsx(La,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Not Connected"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your Instagram to enable features"})]})]}),s.jsxs(ie,{onClick:F,className:"w-full sm:w-auto",children:[s.jsx(ic,{className:"w-4 h-4 mr-2"}),"Connect Instagram"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll need an Instagram Business or Creator account connected to a Facebook Page."})]})})]}),c&&s.jsxs(s.Fragment,{children:[s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ag,{className:"w-5 h-5"}),"DM Auto-Reply"]}),s.jsx(Ir,{children:"Automatically reply to direct messages"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Enable Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to incoming DMs"})]}),s.jsx(Gr,{checked:y.enabled,onCheckedChange:V=>g(X=>({...X,enabled:V}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Default Reply Message"}),s.jsx(_a,{value:y.default_message,onChange:V=>g(X=>({...X,default_message:V.target.value})),placeholder:"Thanks for your message! We'll get back to you soon.",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This message is sent when no keyword rules match"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{children:"Keyword Rules"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set specific replies for messages containing certain keywords"}),y.rules.length>0&&s.jsx("div",{className:"space-y-2",children:y.rules.map(V=>s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Keywords: ",V.keywords.join(", ")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:V.reply})]}),s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>Z(V.id),children:s.jsx(Wn,{className:"w-4 h-4 text-destructive"})})]},V.id))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(ze,{value:R,onChange:V=>P(V.target.value),placeholder:"Keywords (comma separated): price, cost, how much"}),s.jsx(_a,{value:O,onChange:V=>A(V.target.value),placeholder:"Reply message for these keywords...",rows:2}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:H,children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ege,{className:"w-5 h-5"}),"Comment Auto-Reply"]}),s.jsx(Ir,{children:"Automatically reply to comments on your posts"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Enable Comment Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to new comments"})]}),s.jsx(Gr,{checked:v.enabled,onCheckedChange:V=>_(X=>({...X,enabled:V}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Default Comment Reply"}),s.jsx(_a,{value:v.default_reply,onChange:V=>_(X=>({...X,default_reply:V.target.value})),placeholder:"Thanks for your comment!",rows:2})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Rge,{className:"w-5 h-5"}),"Instagram Reels on Store"]}),s.jsx(Ir,{children:"Display your Instagram Reels on your store's homepage"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Show Reels on Store"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Instagram Reels to customers"})]}),s.jsx(Gr,{checked:w.enabled,onCheckedChange:V=>b(X=>({...X,enabled:V}))})]}),w.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Section Title"}),s.jsx(ze,{value:w.section_title,onChange:V=>b(X=>({...X,section_title:V.target.value})),placeholder:"Follow Us on Instagram"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Display Mode"}),s.jsxs(_r,{value:w.display_mode,onValueChange:V=>b(X=>({...X,display_mode:V})),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"auto",children:"Auto-fetch from Instagram"}),s.jsx(Ke,{value:"manual",children:"Manual URLs only"}),s.jsx(Ke,{value:"both",children:"Both (Auto + Manual)"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.display_mode==="auto"&&"Automatically fetch your latest reels from Instagram",w.display_mode==="manual"&&"Only show reels you manually add",w.display_mode==="both"&&"Combine auto-fetched reels with manual ones"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Maximum Reels to Show"}),s.jsxs(_r,{value:w.max_reels.toString(),onValueChange:V=>b(X=>({...X,max_reels:parseInt(V)})),children:[s.jsx(vr,{className:"w-24",children:s.jsx(jr,{})}),s.jsx(yr,{children:[3,4,6,8,9,12].map(V=>s.jsx(Ke,{value:V.toString(),children:V},V))})]})]}),(w.display_mode==="auto"||w.display_mode==="both")&&s.jsx("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-Fetch Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetch your latest reels from Instagram"})]}),s.jsx(ie,{variant:"outline",size:"sm",onClick:Y,disabled:C,children:C?s.jsx(Jt,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),(w.display_mode==="manual"||w.display_mode==="both")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{children:"Manual Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add specific reels you want to display on your store"}),w.manual_reels.length>0&&s.jsx("div",{className:"space-y-2",children:w.manual_reels.map(V=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[s.jsx(ic,{className:"w-4 h-4 text-pink-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:M(V.url)}),s.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-primary flex items-center gap-1",children:["View ",s.jsx(Ga,{className:"w-3 h-3"})]})]}),s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>G(V.url),children:s.jsx(Wn,{className:"w-4 h-4 text-destructive"})})]},V.url))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(ze,{value:E,onChange:V=>S(V.target.value),placeholder:"https://www.instagram.com/reel/ABC123..."}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:q,children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Add Reel"]})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ie,{onClick:z,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Settings"})})]})]})})},z5e=e=>({Truck:lc,BarChart3:Q0,MessageSquare:tM,Mail:pc,Target:ZS,Package:Rn})[e]||Rn,PV=e=>({shipping:"/admin/shipping",analytics:"/admin/analytics","live-chat":"/admin/live-chat","email-marketing":"/admin/email-marketing",ads:"/admin/ads"})[e]||`/admin/${e}`,q5e=()=>{const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState(!0),[c,u]=j.useState(null),[d,f]=j.useState([]),[m,p]=j.useState(""),[y,g]=j.useState("all");j.useEffect(()=>{v(),_()},[]);const v=async()=>{try{const{data:{session:C}}=await Q.auth.getSession();if(!C)return;const{data:k,error:R}=await Q.from("stores").select("id, enabled_features").eq("user_id",C.user.id).single();if(R)throw R;k&&(n({id:k.id,enabled_features:k.enabled_features||[]}),f(k.enabled_features||[]))}catch(C){console.error("Failed to fetch store data:",C)}},_=async()=>{try{const{data:C,error:k}=await Q.from("marketplace_features").select("*").eq("is_active",!0).order("menu_order");if(k)throw k;i(C||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{l(!1)}},w=C=>d.includes(C),b=j.useMemo(()=>a.filter(C=>{const k=m===""||C.name.toLowerCase().includes(m.toLowerCase())||C.description?.toLowerCase().includes(m.toLowerCase());let R=!0;switch(y){case"free":R=C.is_free;break;case"paid":R=!C.is_free;break;case"added":R=d.includes(C.slug);break;default:R=!0}return k&&R}),[a,m,y,d]),E=[{value:"all",label:"All"},{value:"free",label:"Free"},{value:"paid",label:"Paid"},{value:"added",label:"Added"}],S=async C=>{if(d.includes(C.slug)){e(PV(C.slug));return}if(!r){t({title:"Error",description:"Store data not found",variant:"destructive"});return}u(C.slug);try{const R=[...d,C.slug],{error:P}=await Q.from("stores").update({enabled_features:R}).eq("id",r.id);if(P)throw P;f(R),n({...r,enabled_features:R}),t({title:"Feature Added",description:`${C.name} has been added to your store`}),e(PV(C.slug))}catch(R){console.error("Failed to add feature:",R),t({title:"Error",description:"Failed to add feature. Please try again.",variant:"destructive"})}finally{u(null)}};return o?s.jsx(vs,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Marketplace"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover and add features to enhance your store"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ze,{placeholder:"Search features...",value:m,onChange:C=>p(C.target.value),className:"pl-9"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:E.map(C=>s.jsx(ie,{variant:y===C.value?"default":"outline",size:"sm",onClick:()=>g(C.value),children:C.label},C.value))})]}),b.length===0?s.jsx(Se,{children:s.jsxs(Te,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Rn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:m||y!=="all"?"No matching features":"No features available"}),s.jsx("p",{className:"text-muted-foreground",children:m||y!=="all"?"Try adjusting your search or filter":"Check back later for new features"}),(m||y!=="all")&&s.jsx(ie,{variant:"outline",className:"mt-4",onClick:()=>{p(""),g("all")},children:"Clear filters"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(C=>{const k=z5e(C.icon),R=w(C.slug);return s.jsxs(Se,{className:`transition-all duration-200 hover:shadow-lg ${R?"border-primary/50":""}`,children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:`p-3 rounded-xl ${R?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(k,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[R&&s.jsxs(jt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(cn,{className:"h-3 w-3 mr-1"}),"Added"]}),C.is_free?s.jsx(jt,{variant:"secondary",children:"Free"}):s.jsxs(jt,{children:["",C.price]})]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Qe,{className:"text-lg mb-1",children:C.name}),s.jsx(Ir,{className:"line-clamp-2",children:C.description})]}),s.jsx(ie,{onClick:()=>S(C),className:"w-full",variant:R?"outline":"default",disabled:c===C.slug,children:c===C.slug?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):R?s.jsxs(s.Fragment,{children:["Configure",s.jsx(ya,{className:"h-4 w-4 ml-2"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})})]})]},C.id)})}),s.jsx(Se,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Rn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"How Marketplace Works"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:`Click "Add Feature" to add it to your store. The feature will appear in your sidebar menu and you'll be taken to the configuration page.`})]})]})})})]})})},W5e=()=>{const{toast:e}=Ps(),[t,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,m]=j.useState([]),[p,y]=j.useState(null),[g,v]=j.useState(!1),[_,w]=j.useState(!1),[b,E]=j.useState({email:"",password:""}),[S,C]=j.useState({length:10,breadth:10,height:10,weight:.5});j.useEffect(()=>{k()},[]);const k=async()=>{try{const{data:{session:F}}=await Q.auth.getSession();if(!F)return;const{data:B}=await Q.from("stores").select("id, shiprocket_email, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",F.user.id).single();if(B){if(y(B.id),v(B.shipping_popup_enabled||!1),B.shiprocket_email&&E(z=>({...z,email:B.shiprocket_email})),B.shiprocket_token){c(!0);const z=await Ij(B.shiprocket_token);z.success&&z.locations&&m(z.locations)}B.package_length&&C(z=>({...z,length:B.package_length})),B.package_breadth&&C(z=>({...z,breadth:B.package_breadth})),B.package_height&&C(z=>({...z,height:B.package_height})),B.package_weight&&C(z=>({...z,weight:B.package_weight}))}}catch(F){console.error("Error loading shipping settings:",F)}finally{r(!1)}},R=async()=>{if(!b.email||!b.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}o(!0);try{const F=await AV(b.email,b.password);if(F.success&&F.token){e({title:"Connection Successful",description:"Shiprocket credentials are valid"});const B=await Ij(F.token);B.success&&B.locations&&m(B.locations)}else e({title:"Connection Failed",description:F.error||"Invalid credentials",variant:"destructive"})}catch(F){e({title:"Error",description:F.message||"Failed to test connection",variant:"destructive"})}finally{o(!1)}},P=async()=>{if(!b.email||!b.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}a(!0);try{const F=await AV(b.email,b.password);if(F.success&&F.token){const{error:B}=await Q.from("stores").update({shiprocket_email:b.email,shiprocket_token:F.token}).eq("id",p);if(B)throw B;c(!0);const z=await Ij(F.token);z.success&&z.locations&&m(z.locations),e({title:"Connected",description:"Shiprocket has been connected to your store"})}else e({title:"Connection Failed",description:F.error||"Invalid credentials",variant:"destructive"})}catch(F){e({title:"Error",description:F.message||"Failed to connect to Shiprocket",variant:"destructive"})}finally{a(!1)}},O=async()=>{try{const{error:F}=await Q.from("stores").update({shiprocket_email:null,shiprocket_token:null}).eq("id",p);if(F)throw F;c(!1),E({email:"",password:""}),m([]),e({title:"Disconnected",description:"Shiprocket has been disconnected from your store"})}catch(F){e({title:"Error",description:F.message||"Failed to disconnect",variant:"destructive"})}},A=async F=>{w(!0);try{const{error:B}=await Q.from("stores").update({shipping_popup_enabled:F}).eq("id",p);if(B)throw B;v(F),e({title:F?"Shipping Enabled":"Shipping Disabled",description:F?"Shipping popup will appear in Orders":"Orders will be marked as delivered directly"})}catch(B){e({title:"Error",description:B.message||"Failed to update setting",variant:"destructive"})}finally{w(!1)}},D=async()=>{a(!0);try{const{error:F}=await Q.from("stores").update({package_length:S.length,package_breadth:S.breadth,package_height:S.height,package_weight:S.weight}).eq("id",p);if(F)throw F;e({title:"Saved",description:"Package defaults have been saved"})}catch(F){e({title:"Error",description:F.message||"Failed to save package defaults",variant:"destructive"})}finally{a(!1)}};return t?s.jsx(vs,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(lc,{className:"h-6 w-6"}),"Shipping"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect Shiprocket to manage shipping for your orders"})]}),l&&s.jsxs(jt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(cn,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),s.jsx(Se,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${g?"bg-green-100 dark:bg-green-900":"bg-muted"}`,children:s.jsx(Lge,{className:`h-6 w-6 ${g?"text-green-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Shipping Feature"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g?"Enabled - Shipping popup will appear in Orders":"Disabled - Orders will be marked as delivered directly"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${g?"text-green-600":"text-muted-foreground"}`,children:g?"Enabled":"Disabled"}),s.jsx(Gr,{checked:g,onCheckedChange:A,disabled:_})]})]})})}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[l?s.jsx(cn,{className:"h-5 w-5 text-green-600"}):s.jsx(lc,{className:"h-5 w-5"}),l?"Shiprocket Connected":"Connect to Shiprocket"]}),s.jsx(Ir,{children:l?"Your store is connected to Shiprocket. You can now create shipments for your orders.":"Enter your Shiprocket API credentials to connect your account"})]}),s.jsxs(Te,{className:"space-y-4",children:[!l&&s.jsxs(tn,{children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsxs(rn,{children:["Don't have a Shiprocket account?"," ",s.jsx("a",{href:"https://www.shiprocket.in/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Sign up here"}),". Then go to Settings  API  Configure to create API credentials."]})]}),l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Se,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Rn,{className:"h-8 w-8 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pickup Locations"})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(lc,{className:"h-8 w-8 mx-auto text-blue-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Ready"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Status"})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(cn,{className:"h-8 w-8 mx-auto text-green-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Active"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection"})]})})})]}),f.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Pickup Locations"}),s.jsx("div",{className:"space-y-2",children:f.map(F=>s.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium",children:F.pickup_location}),s.jsxs("p",{className:"text-muted-foreground",children:[F.address,", ",F.city,", ",F.state," - ",F.pin_code]})]},F.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",onClick:()=>window.open("https://app.shiprocket.in/","_blank"),children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Open Shiprocket Dashboard"]}),s.jsx(ie,{variant:"destructive",onClick:O,children:"Disconnect"})]})]}):s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"email",children:"Shiprocket API Email"}),s.jsx(ze,{id:"email",type:"email",placeholder:"your-api-user@email.com",value:b.email,onChange:F=>E({...b,email:F.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the API user email from Settings  API  Configure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"password",children:"Shiprocket API Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ze,{id:"password",type:u?"text":"password",placeholder:"",value:b.password,onChange:F=>E({...b,password:F.target.value})}),s.jsx(ie,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>d(!u),children:u?s.jsx(wh,{className:"h-4 w-4"}):s.jsx(Ls,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check your email for the API password from Shiprocket"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",onClick:R,disabled:i,children:[i&&s.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Test Connection"]}),s.jsxs(ie,{onClick:P,disabled:n,children:[n&&s.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Connect Shiprocket"]})]})]})]})]}),l&&s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Default Package Dimensions"}),s.jsx(Ir,{children:"Set default package dimensions for your shipments (can be changed per order)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"length",children:"Length (cm)"}),s.jsx(ze,{id:"length",type:"number",value:S.length,onChange:F=>C({...S,length:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"breadth",children:"Breadth (cm)"}),s.jsx(ze,{id:"breadth",type:"number",value:S.breadth,onChange:F=>C({...S,breadth:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"height",children:"Height (cm)"}),s.jsx(ze,{id:"height",type:"number",value:S.height,onChange:F=>C({...S,height:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"weight",children:"Weight (kg)"}),s.jsx(ze,{id:"weight",type:"number",step:"0.1",value:S.weight,onChange:F=>C({...S,weight:parseFloat(F.target.value)||0})})]})]}),s.jsxs(ie,{onClick:D,disabled:n,children:[n&&s.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Defaults"]})]})]}),s.jsx(Se,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(va,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you can do with Shipping"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Create shipments directly from your orders"}),s.jsx("li",{children:" Get real-time tracking updates"}),s.jsx("li",{children:" Compare shipping rates from multiple couriers"}),s.jsx("li",{children:" Print shipping labels with one click"}),s.jsx("li",{children:" Automatic order status updates"})]})]})]})})})]})})};function H5e(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var D5="ScrollArea",[Nie]=Vs(D5),[G5e,Ml]=Nie(D5),Sie=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=j.useState(null),[u,d]=j.useState(null),[f,m]=j.useState(null),[p,y]=j.useState(null),[g,v]=j.useState(null),[_,w]=j.useState(0),[b,E]=j.useState(0),[S,C]=j.useState(!1),[k,R]=j.useState(!1),P=Zt(t,A=>c(A)),O=Uf(a);return s.jsx(G5e,{scope:r,type:n,dir:O,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:R,onCornerWidthChange:w,onCornerHeightChange:E,children:s.jsx(Tt.div,{dir:O,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Sie.displayName=D5;var kie="ScrollAreaViewport",Cie=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Ml(kie,r),l=j.useRef(null),c=Zt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Tt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Cie.displayName=kie;var uu="ScrollAreaScrollbar",I5=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ml(uu,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(K5e,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Y5e,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(Eie,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(M5,{...n,ref:t}):null});I5.displayName=uu;var K5e=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ml(uu,e.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(la,{present:r||i,children:s.jsx(Eie,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Y5e=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ml(uu,e.__scopeScrollArea),i=e.orientation==="horizontal",o=K2(()=>c("SCROLL_END"),100),[l,c]=H5e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),j.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(la,{present:r||l!=="hidden",children:s.jsx(M5,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Eie=j.forwardRef((e,t)=>{const r=Ml(uu,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=j.useState(!1),l=e.orientation==="horizontal",c=K2(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return b0(r.viewport,c),b0(r.content,c),s.jsx(la,{present:n||i,children:s.jsx(M5,{"data-state":i?"visible":"hidden",...a,ref:t})})}),M5=j.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ml(uu,e.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Rie(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return tLe(m,o.current,l,p)}return r==="horizontal"?s.jsx(X5e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=OV(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(J5e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=OV(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),X5e=j.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ml(uu,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Zt(t,c,i.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Aie,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":G2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),Iie(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$N(o.paddingLeft),paddingEnd:$N(o.paddingRight)}})}})}),J5e=j.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ml(uu,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Zt(t,c,i.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Aie,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":G2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),Iie(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$N(o.paddingTop),paddingEnd:$N(o.paddingBottom)}})}})}),[Z5e,Tie]=Nie(uu),Aie=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=Ml(uu,r),[y,g]=j.useState(null),v=Zt(t,P=>g(P)),_=j.useRef(null),w=j.useRef(""),b=p.viewport,E=n.content-n.viewport,S=Ss(d),C=Ss(c),k=K2(f,10);function R(P){if(_.current){const O=P.clientX-_.current.left,A=P.clientY-_.current.top;u({x:O,y:A})}}return j.useEffect(()=>{const P=O=>{const A=O.target;y?.contains(A)&&S(O,E)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,E,S]),j.useEffect(C,[n,C]),b0(y,k),b0(p.content,k),s.jsx(Z5e,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ss(i),onThumbPointerUp:Ss(o),onThumbPositionChange:C,onThumbPointerDown:Ss(l),children:s.jsx(Tt.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:dt(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),_.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(P))}),onPointerMove:dt(e.onPointerMove,R),onPointerUp:dt(e.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),LN="ScrollAreaThumb",Pie=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Tie(LN,e.__scopeScrollArea);return s.jsx(la,{present:r||a.hasThumb,children:s.jsx(Q5e,{ref:t,...n})})}),Q5e=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ml(LN,r),o=Tie(LN,r),{onThumbPositionChange:l}=o,c=Zt(t,f=>o.onThumbChange(f)),u=j.useRef(void 0),d=K2(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const p=rLe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),s.jsx(Tt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:dt(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:dt(e.onPointerUp,o.onThumbPointerUp)})});Pie.displayName=LN;var F5="ScrollAreaCorner",Oie=j.forwardRef((e,t)=>{const r=Ml(F5,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(eLe,{...e,ref:t}):null});Oie.displayName=F5;var eLe=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ml(F5,r),[i,o]=j.useState(0),[l,c]=j.useState(0),u=!!(i&&l);return b0(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),b0(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Tt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function $N(e){return e?parseInt(e,10):0}function Rie(e,t){const r=e/t;return isNaN(r)?0:r}function G2(e){const t=Rie(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function tLe(e,t,r,n="ltr"){const a=G2(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Die([c,u],f)(e)}function OV(e,t,r="ltr"){const n=G2(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=tb(e,c);return Die([0,o],[0,l])(u)}function Die(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Iie(e,t){return e>0&&e<t}var rLe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function K2(e,t){const r=Ss(e),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function b0(e,t){const r=Ss(t);Ts(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Mie=Sie,nLe=Cie,sLe=Oie;const Fie=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Mie,{ref:n,className:ut("relative overflow-hidden",e),...r,children:[s.jsx(nLe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Lie,{}),s.jsx(sLe,{})]}));Fie.displayName=Mie.displayName;const Lie=j.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(I5,{ref:n,orientation:t,className:ut("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(Pie,{className:"relative flex-1 rounded-full bg-border"})}));Lie.displayName=I5.displayName;var Y2="Popover",[$ie]=Vs(Y2,[Lf]),zw=Lf(),[aLe,Kf]=$ie(Y2),Bie=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=zw(t),c=j.useRef(null),[u,d]=j.useState(!1),[f,m]=ji({prop:n,defaultProp:a??!1,onChange:i,caller:Y2});return s.jsx(r2,{...l,children:s.jsx(aLe,{scope:t,contentId:uo(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:o,children:r})})};Bie.displayName=Y2;var Uie="PopoverAnchor",iLe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Kf(Uie,r),i=zw(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(mw,{...i,...n,ref:t})});iLe.displayName=Uie;var Vie="PopoverTrigger",zie=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Kf(Vie,r),i=zw(r),o=Zt(t,a.triggerRef),l=s.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Kie(a.open),...n,ref:o,onClick:dt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(mw,{asChild:!0,...i,children:l})});zie.displayName=Vie;var L5="PopoverPortal",[oLe,lLe]=$ie(L5,{forceMount:void 0}),qie=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Kf(L5,t);return s.jsx(oLe,{scope:t,forceMount:r,children:s.jsx(la,{present:r||i.open,children:s.jsx(J0,{asChild:!0,container:a,children:n})})})};qie.displayName=L5;var w0="PopoverContent",Wie=j.forwardRef((e,t)=>{const r=lLe(w0,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Kf(w0,e.__scopePopover);return s.jsx(la,{present:n||i.open,children:i.modal?s.jsx(uLe,{...a,ref:t}):s.jsx(dLe,{...a,ref:t})})});Wie.displayName=w0;var cLe=yf("PopoverContent.RemoveScroll"),uLe=j.forwardRef((e,t)=>{const r=Kf(w0,e.__scopePopover),n=j.useRef(null),a=Zt(t,n),i=j.useRef(!1);return j.useEffect(()=>{const o=n.current;if(o)return v2(o)},[]),s.jsx(bw,{as:cLe,allowPinchZoom:!0,children:s.jsx(Hie,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),dLe=j.forwardRef((e,t)=>{const r=Kf(w0,e.__scopePopover),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(Hie,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Hie=j.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Kf(w0,r),p=zw(r);return x2(),s.jsx(vw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(qm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(n2,{"data-state":Kie(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gie="PopoverClose",fLe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Kf(Gie,r);return s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>a.onOpenChange(!1))})});fLe.displayName=Gie;var hLe="PopoverArrow",mLe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=zw(r);return s.jsx(s2,{...a,...n,ref:t})});mLe.displayName=hLe;function Kie(e){return e?"open":"closed"}var pLe=Bie,gLe=zie,xLe=qie,Yie=Wie;const vLe=pLe,yLe=gLe,Xie=j.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(xLe,{children:s.jsx(Yie,{ref:a,align:t,sideOffset:r,className:ut("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Xie.displayName=Yie.displayName;const mf=({src:e,alt:t,className:r,fallback:n="/placeholder.svg",...a})=>{const[i,o]=j.useState(n),[l,c]=j.useState(!0),[u,d]=j.useState(!1),f=j.useRef(null),m=ff(e)||e;return j.useEffect(()=>{if(!f.current)return;const p=new IntersectionObserver(y=>{y.forEach(g=>{g.isIntersecting&&(d(!0),p.disconnect())})},{rootMargin:"50px"});return p.observe(f.current),()=>{p.disconnect()}},[]),j.useEffect(()=>{if(!u)return;const p=new Image;p.src=m,p.onload=()=>{o(m),c(!1)},p.onerror=()=>{o(n),c(!1)}},[m,u,n]),s.jsx("img",{ref:f,src:i,alt:t,className:ut("transition-opacity duration-300",l?"opacity-50":"opacity-100",r),loading:"lazy",...a})},bLe=()=>{const{cart:e,cartCount:t,cartTotal:r,removeItem:n}=u2(),[a,i]=j.useState(void 0);j.useEffect(()=>{e.length>0&&e[0].storeId&&(async()=>{const{data:f}=await Q.from("stores").select("slug").eq("id",e[0].storeId).maybeSingle();f&&i(f.slug)})()},[e]);const o=Qc(),l=o?"/products":a?`/${a}/products`:"/products",c=o?"/cart":a?`/${a}/cart`:"/cart",u=o?"/checkout":a?`/${a}/checkout`:"/checkout";return s.jsxs(vLe,{children:[s.jsx(yLe,{asChild:!0,children:s.jsxs(ie,{variant:"outline",size:"icon",className:"relative","data-cart-icon":!0,children:[s.jsx(jf,{className:"w-4 h-4"}),t>0&&s.jsx(jt,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t})]})}),s.jsxs(Xie,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Shopping Cart"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," items"]})]}),e.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(jf,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your cart is empty"}),s.jsx(kt,{to:l,children:s.jsx(ie,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Fie,{className:"h-80",children:s.jsx("div",{className:"p-4 space-y-4",children:e.map(d=>s.jsx(Se,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(mf,{src:d.productImage,alt:d.productName,className:"w-16 h-16 object-cover rounded flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:d.productName}),d.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d.variant}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("span",{className:"text-sm font-semibold text-primary",children:["",d.price,"  ",d.quantity]}),s.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(d.productId,d.variant),children:s.jsx(La,{className:"w-4 h-4"})})]})]})]})})},`${d.productId}-${d.variant}`))})}),s.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(kt,{to:c,className:"w-full",children:s.jsx(ie,{variant:"outline",className:"w-full min-h-[44px]",children:"View Cart"})}),s.jsx(kt,{to:u,className:"w-full",children:s.jsx(ie,{className:"w-full min-h-[44px]",children:"Checkout"})})]})]})]})]})]})},Jie=async e=>{const t=await BN(e),r=UN(t);return!(!t||t.trim()===""||r==="919876543210"||r==="9876543210"||r.length<10)},BN=async e=>{try{if(e){const{data:n}=await Q.from("stores").select("whatsapp_number").eq("id",e).single();return n?.whatsapp_number||"919876543210"}const{data:{user:t}}=await Q.auth.getUser();if(!t)return"919876543210";const{data:r}=await Q.from("stores").select("whatsapp_number").eq("user_id",t.id).single();return r?.whatsapp_number||"919876543210"}catch(t){return console.error("Error fetching WhatsApp number:",t),"919876543210"}},UN=e=>e.replace(/[^0-9+]/g,""),Zie=e=>{const t=new Date().toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"});let r=` *NEW ORDER REQUEST*
`;if(r+=` ${t}

`,r+=` *CUSTOMER DETAILS*
`,r+=`Name: ${e.customerName}
`,r+=`Phone: ${e.phone}
`,e.email&&(r+=`Email: ${e.email}
`),r+=`
 *DELIVERY ADDRESS*
`,r+=`${e.address}
`,e.landmark&&(r+=`Landmark: ${e.landmark}
`),r+=`PIN Code: ${e.pincode}
`,r+=`Preferred Time: ${e.deliveryTime}
`,e.latitude&&e.longitude){const n=`https://www.google.com/maps?q=${e.latitude},${e.longitude}`;r+=` Location: ${n}
`}return r+=`
`,r+=` *ORDER ITEMS*
`,r+=`
`,e.cart.forEach((n,a)=>{r+=`${a+1}. ${n.productName}
`,n.variant&&(r+=`   Variant: ${n.variant}
`),n.sku&&(r+=`   SKU: ${n.sku}
`),r+=`   Qty: ${n.quantity}  ${n.price.toFixed(2)}
`,r+=`   Subtotal: ${(n.quantity*n.price).toFixed(2)}

`}),r+=`
`,r+=` *PAYMENT SUMMARY*
`,r+=`Subtotal: ${e.subtotal.toFixed(2)}
`,r+=`Delivery: ${e.deliveryCharge.toFixed(2)}
`,r+=`*Total Amount: ${e.total.toFixed(2)}*

`,e.paymentMethod==="online"?(r+=` *PAYMENT COMPLETED*
`,r+=` Payment Method: Online Payment (${e.paymentGateway||"Gateway"})
`,e.orderNumber&&(r+=` Order Number: ${e.orderNumber}
`),e.transactionId&&(r+=` Transaction ID: ${e.transactionId}
`),r+=` Payment Status: PAID

`,r+="Order is confirmed and payment received. Please process this order. Thank you! "):(r+=` Payment Method: Cash on Delivery (COD)

`,r+="Please confirm this order. Thank you! "),r},wLe=()=>` Hi! I have a question about your products/services.

Could you please help me?

Thank you! `,Qie=async(e,t,r,n=!1)=>{if(!await Jie(r))return{success:!1,error:"WhatsApp number is not configured. Please contact the store owner to set up a valid WhatsApp number in admin settings."};const a=await BN(r),i=UN(a);if(i==="919876543210"||i==="9876543210")return{success:!1,error:"Invalid WhatsApp number. The default number 9876543210 is not allowed. Please contact the store owner to set up a valid WhatsApp number."};const o=encodeURIComponent(e),l=`https://wa.me/${i}?text=${o}`;if(n)if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const u=`whatsapp://send?phone=${i}&text=${o}`;window.location.href=u}else window.location.href=l;else{const c=document.createElement("a");c.href=l,c.target="_blank",c.rel="noopener noreferrer",c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}return{success:!0}},oo=({storeSlug:e,storeId:t})=>{const[r,n]=j.useState(!1),[a,i]=j.useState(""),o=xr(),{toast:l}=Ps(),c=Qc(),u=c?"/":e?`/${e}`:"/home",d=c?"/products":e?`/${e}/products`:"/products",f=c?"/categories":e?`/${e}/categories`:"/categories",m=y=>{y.preventDefault(),a.trim()&&(o(`${d}?search=${encodeURIComponent(a)}`),i(""))},p=async()=>{const y=wLe(),g=await Qie(y,void 0,t);g.success||l({title:"WhatsApp Not Configured",description:g.error,variant:"destructive"})};return s.jsxs("header",{className:"sticky top-0 z-50 bg-background border-b border-border shadow-sm",children:[s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs(kt,{to:u,className:"flex items-center gap-2 group",children:[s.jsx(pm,{size:24,className:"transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"}),s.jsx("span",{className:"text-xl font-bold text-foreground hidden sm:block transition-colors duration-300 group-hover:text-primary",children:"MyStore"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsx(kt,{to:u,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Home"}),s.jsx(kt,{to:d,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Products"}),s.jsx(kt,{to:f,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Categories"}),s.jsx(kt,{to:`${u}#about`,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"About"})]}),s.jsx("form",{onSubmit:m,className:"hidden lg:flex flex-1 max-w-md",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(ze,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(ie,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(xc,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{variant:"outline",size:"icon",onClick:p,className:"hidden sm:flex min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",children:s.jsx(oc,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"})}),s.jsx(ei,{}),s.jsx(bLe,{}),s.jsx(ie,{variant:"ghost",size:"icon",className:"md:hidden min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",onClick:()=>n(!r),children:r?s.jsx(La,{className:"w-5 h-5 animate-in spin-in-180 duration-300"}):s.jsx(eM,{className:"w-5 h-5 animate-in fade-in duration-300"})})]})]}),s.jsx("form",{onSubmit:m,className:"lg:hidden mt-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ze,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(ie,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(xc,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-border bg-background animate-in slide-in-from-top-2 duration-300",children:s.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[s.jsx(kt,{to:u,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300",onClick:()=>n(!1),children:"Home"}),s.jsx(kt,{to:d,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-75",onClick:()=>n(!1),children:"Products"}),s.jsx(kt,{to:f,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-150",onClick:()=>n(!1),children:"Categories"}),s.jsx(kt,{to:`${u}#about`,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-200",onClick:()=>n(!1),children:"About"}),s.jsxs(ie,{onClick:p,className:"w-full min-h-[48px] animate-in fade-in slide-in-from-bottom-2 duration-300 delay-300 group",children:[s.jsx(oc,{className:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12"}),"Contact on WhatsApp"]})]})})]})},Du=()=>s.jsx("footer",{className:"bg-muted border-t border-border mt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(pm,{size:28}),s.jsx("h3",{className:"font-bold text-foreground",children:"MyStore"})]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Your trusted online store for quality products at great prices. We deliver happiness to your doorstep."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(_f,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"123 Store Street, City, State 12345"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(oc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"+91 1234567890"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"contact@mystore.com"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(Q3,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(ic,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(rM,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-8 pt-8 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," MyStore. All rights reserved."]})})]})});function Vv(e){const{productName:t,storeName:r,category:n,variant:a,imageIndex:i}=e,o=[];if(o.push(t),a&&o.push(a),i!==void 0&&i>0){const u=["front view","side view","back view","detail view","alternate view"][i]||"additional view";o.push(u)}n&&o.push(`in ${n}`),r&&o.push(`at ${r}`);let l=o.join(" - ");return l.length>125&&(l=l.substring(0,122)+"..."),l}function _Le(e){const{storeName:t,imageType:r,description:n}=e;switch(r){case"logo":return`${t} logo`;case"banner":return n?`${t} - ${n}`:`${t} banner`;case"hero":return n?`${t} - ${n}`:`${t} hero image`;case"thumbnail":return`${t} thumbnail`;default:return`${t} image`}}function jLe(e,t){return t?`${e} category at ${t}`:`${e} category`}const $5=j.createContext({});function B5(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const U5=typeof window<"u",eoe=U5?j.useLayoutEffect:j.useEffect,X2=j.createContext(null);function V5(e,t){e.indexOf(t)===-1&&e.push(t)}function z5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ju=(e,t,r)=>r>t?t:r<e?e:r;let q5=()=>{};const Zu={},toe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function roe(e){return typeof e=="object"&&e!==null}const noe=e=>/^0[^.\s]+$/u.test(e);function W5(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pl=e=>e,NLe=(e,t)=>r=>t(e(r)),qw=(...e)=>e.reduce(NLe),xb=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class H5{constructor(){this.subscriptions=[]}add(t){return V5(this.subscriptions,t),()=>z5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kc=e=>e*1e3,Sl=e=>e/1e3;function soe(e,t){return t?e*(1e3/t):0}const aoe=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,SLe=1e-7,kLe=12;function CLe(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=aoe(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>SLe&&++l<kLe);return o}function Ww(e,t,r,n){if(e===t&&r===n)return Pl;const a=i=>CLe(i,0,1,e,r);return i=>i===0||i===1?i:aoe(a(i),t,n)}const ioe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ooe=e=>t=>1-e(1-t),loe=Ww(.33,1.53,.69,.99),G5=ooe(loe),coe=ioe(G5),uoe=e=>(e*=2)<1?.5*G5(e):.5*(2-Math.pow(2,-10*(e-1))),K5=e=>1-Math.sin(Math.acos(e)),doe=ooe(K5),foe=ioe(K5),ELe=Ww(.42,0,1,1),TLe=Ww(0,0,.58,1),hoe=Ww(.42,0,.58,1),ALe=e=>Array.isArray(e)&&typeof e[0]!="number",moe=e=>Array.isArray(e)&&typeof e[0]=="number",PLe={linear:Pl,easeIn:ELe,easeInOut:hoe,easeOut:TLe,circIn:K5,circInOut:foe,circOut:doe,backIn:G5,backInOut:coe,backOut:loe,anticipate:uoe},OLe=e=>typeof e=="string",RV=e=>{if(moe(e)){q5(e.length===4);const[t,r,n,a]=e;return Ww(t,r,n,a)}else if(OLe(e))return PLe[e];return e},K_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function RLe(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const y=m&&a?r:n;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const DLe=40;function poe(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=K_.reduce((b,E)=>(b[E]=RLe(i),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:p,postRender:y}=o,g=()=>{const b=Zu.useManualTiming?a.timestamp:performance.now();r=!1,Zu.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,DLe),1)),a.timestamp=b,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),m.process(a),p.process(a),y.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:K_.reduce((b,E)=>{const S=o[E];return b[E]=(C,k=!1,R=!1)=>(r||v(),S.schedule(C,k,R)),b},{}),cancel:b=>{for(let E=0;E<K_.length;E++)o[K_[E]].cancel(b)},state:a,steps:o}}const{schedule:is,cancel:Mf,state:Wa,steps:$T}=poe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pl,!0);let Mj;function ILe(){Mj=void 0}const lo={now:()=>(Mj===void 0&&lo.set(Wa.isProcessing||Zu.useManualTiming?Wa.timestamp:performance.now()),Mj),set:e=>{Mj=e,queueMicrotask(ILe)}},goe=e=>t=>typeof t=="string"&&t.startsWith(e),Y5=goe("--"),MLe=goe("var(--"),X5=e=>MLe(e)?FLe.test(e.split("/*")[0].trim()):!1,FLe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fx={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vb={...fx,transform:e=>Ju(0,1,e)},Y_={...fx,default:1},wy=e=>Math.round(e*1e5)/1e5,J5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LLe(e){return e==null}const $Le=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z5=(e,t)=>r=>!!(typeof r=="string"&&$Le.test(r)&&r.startsWith(e)||t&&!LLe(r)&&Object.prototype.hasOwnProperty.call(r,t)),xoe=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(J5);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},BLe=e=>Ju(0,255,e),BT={...fx,transform:e=>Math.round(BLe(e))},Bh={test:Z5("rgb","red"),parse:xoe("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+BT.transform(e)+", "+BT.transform(t)+", "+BT.transform(r)+", "+wy(vb.transform(n))+")"};function ULe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const eI={test:Z5("#"),parse:ULe,transform:Bh.transform},Hw=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vd=Hw("deg"),Yc=Hw("%"),hr=Hw("px"),VLe=Hw("vh"),zLe=Hw("vw"),DV={...Yc,parse:e=>Yc.parse(e)/100,transform:e=>Yc.transform(e*100)},bg={test:Z5("hsl","hue"),parse:xoe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Yc.transform(wy(t))+", "+Yc.transform(wy(r))+", "+wy(vb.transform(n))+")"},ea={test:e=>Bh.test(e)||eI.test(e)||bg.test(e),parse:e=>Bh.test(e)?Bh.parse(e):bg.test(e)?bg.parse(e):eI.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bh.transform(e):bg.transform(e),getAnimatableNone:e=>{const t=ea.parse(e);return t.alpha=0,ea.transform(t)}},qLe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WLe(e){return isNaN(e)&&typeof e=="string"&&(e.match(J5)?.length||0)+(e.match(qLe)?.length||0)>0}const voe="number",yoe="color",HLe="var",GLe="var(",IV="${}",KLe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yb(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(KLe,c=>(ea.test(c)?(n.color.push(i),a.push(yoe),r.push(ea.parse(c))):c.startsWith(GLe)?(n.var.push(i),a.push(HLe),r.push(c)):(n.number.push(i),a.push(voe),r.push(parseFloat(c))),++i,IV)).split(IV);return{values:r,split:l,indexes:n,types:a}}function boe(e){return yb(e).values}function woe(e){const{split:t,types:r}=yb(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===voe?i+=wy(a[o]):l===yoe?i+=ea.transform(a[o]):i+=a[o]}return i}}const YLe=e=>typeof e=="number"?0:ea.test(e)?ea.getAnimatableNone(e):e;function XLe(e){const t=boe(e);return woe(e)(t.map(YLe))}const Ff={test:WLe,parse:boe,createTransformer:woe,getAnimatableNone:XLe};function UT(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function JLe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=UT(c,l,e+1/3),i=UT(c,l,e),o=UT(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function VN(e,t){return r=>r>0?t:e}const ms=(e,t,r)=>e+(t-e)*r,VT=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},ZLe=[eI,Bh,bg],QLe=e=>ZLe.find(t=>t.test(e));function MV(e){const t=QLe(e);if(!t)return!1;let r=t.parse(e);return t===bg&&(r=JLe(r)),r}const FV=(e,t)=>{const r=MV(e),n=MV(t);if(!r||!n)return VN(e,t);const a={...r};return i=>(a.red=VT(r.red,n.red,i),a.green=VT(r.green,n.green,i),a.blue=VT(r.blue,n.blue,i),a.alpha=ms(r.alpha,n.alpha,i),Bh.transform(a))},tI=new Set(["none","hidden"]);function e6e(e,t){return tI.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function t6e(e,t){return r=>ms(e,t,r)}function Q5(e){return typeof e=="number"?t6e:typeof e=="string"?X5(e)?VN:ea.test(e)?FV:s6e:Array.isArray(e)?_oe:typeof e=="object"?ea.test(e)?FV:r6e:VN}function _oe(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>Q5(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function r6e(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Q5(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function n6e(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const s6e=(e,t)=>{const r=Ff.createTransformer(t),n=yb(e),a=yb(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?tI.has(e)&&!a.values.length||tI.has(t)&&!n.values.length?e6e(e,t):qw(_oe(n6e(n,a),a.values),r):VN(e,t)};function joe(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ms(e,t,r):Q5(e)(e,t)}const a6e=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>is.update(t,r),stop:()=>Mf(t),now:()=>Wa.isProcessing?Wa.timestamp:lo.now()}},Noe=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},zN=2e4;function eL(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<zN;)t+=r,n=e.next(t);return t>=zN?1/0:t}function i6e(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(eL(n),zN);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Sl(a)}}const o6e=5;function Soe(e,t,r){const n=Math.max(t-o6e,0);return soe(r-e(n),t-n)}const bs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zT=.001;function l6e({duration:e=bs.duration,bounce:t=bs.bounce,velocity:r=bs.velocity,mass:n=bs.mass}){let a,i,o=1-t;o=Ju(bs.minDamping,bs.maxDamping,o),e=Ju(bs.minDuration,bs.maxDuration,Sl(e)),o<1?(a=u=>{const d=u*o,f=d*e,m=d-r,p=rI(u,o),y=Math.exp(-f);return zT-m/p*y},i=u=>{const f=u*o*e,m=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),g=rI(Math.pow(u,2),o);return(-a(u)+zT>0?-1:1)*((m-p)*y)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-zT+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=u6e(a,i,l);if(e=Kc(e),isNaN(c))return{stiffness:bs.stiffness,damping:bs.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const c6e=12;function u6e(e,t,r){let n=r;for(let a=1;a<c6e;a++)n=n-e(n)/t(n);return n}function rI(e,t){return e*Math.sqrt(1-t*t)}const d6e=["duration","bounce"],f6e=["stiffness","damping","mass"];function LV(e,t){return t.some(r=>e[r]!==void 0)}function h6e(e){let t={velocity:bs.velocity,stiffness:bs.stiffness,damping:bs.damping,mass:bs.mass,isResolvedFromDuration:!1,...e};if(!LV(e,f6e)&&LV(e,d6e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Ju(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:bs.mass,stiffness:a,damping:i}}else{const r=l6e(e);t={...t,...r,mass:bs.mass},t.isResolvedFromDuration=!0}return t}function qN(e=bs.visualDuration,t=bs.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:p}=h6e({...r,velocity:-Sl(r.velocity||0)}),y=m||0,g=u/(2*Math.sqrt(c*d)),v=o-i,_=Sl(Math.sqrt(c/d)),w=Math.abs(v)<5;n||(n=w?bs.restSpeed.granular:bs.restSpeed.default),a||(a=w?bs.restDelta.granular:bs.restDelta.default);let b;if(g<1){const S=rI(_,g);b=C=>{const k=Math.exp(-g*_*C);return o-k*((y+g*_*v)/S*Math.sin(S*C)+v*Math.cos(S*C))}}else if(g===1)b=S=>o-Math.exp(-_*S)*(v+(y+_*v)*S);else{const S=_*Math.sqrt(g*g-1);b=C=>{const k=Math.exp(-g*_*C),R=Math.min(S*C,300);return o-k*((y+g*_*v)*Math.sinh(R)+S*v*Math.cosh(R))/S}}const E={calculatedDuration:p&&f||null,next:S=>{const C=b(S);if(p)l.done=S>=f;else{let k=S===0?y:0;g<1&&(k=S===0?Kc(y):Soe(b,S,C));const R=Math.abs(k)<=n,P=Math.abs(o-C)<=a;l.done=R&&P}return l.value=l.done?o:C,l},toString:()=>{const S=Math.min(eL(E),zN),C=Noe(k=>E.next(S*k).value,S,30);return S+"ms "+C},toTransition:()=>{}};return E}qN.applyToOptions=e=>{const t=i6e(e,100,qN);return e.ease=t.ease,e.duration=Kc(t.duration),e.type="keyframes",e};function nI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},p=R=>l!==void 0&&R<l||c!==void 0&&R>c,y=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let g=r*t;const v=f+g,_=o===void 0?v:o(v);_!==v&&(g=_-f);const w=R=>-g*Math.exp(-R/n),b=R=>_+w(R),E=R=>{const P=w(R),O=b(R);m.done=Math.abs(P)<=u,m.value=m.done?_:O};let S,C;const k=R=>{p(m.value)&&(S=R,C=qN({keyframes:[m.value,y(m.value)],velocity:Soe(b,R,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:R=>{let P=!1;return!C&&S===void 0&&(P=!0,E(R),k(R)),S!==void 0&&R>=S?C.next(R-S):(!P&&E(R),m)}}}function m6e(e,t,r){const n=[],a=r||Zu.mix||joe,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Pl:t;l=qw(c,l)}n.push(l)}return n}function p6e(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(q5(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=m6e(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=xb(e[f],e[f+1],d);return l[f](m)};return r?d=>u(Ju(e[0],e[i-1],d)):u}function g6e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=xb(0,t,n);e.push(ms(r,1,a))}}function x6e(e){const t=[0];return g6e(t,e.length-1),t}function v6e(e,t){return e.map(r=>r*t)}function y6e(e,t){return e.map(()=>t||hoe).splice(0,e.length-1)}function _y({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=ALe(n)?n.map(RV):RV(n),i={done:!1,value:t[0]},o=v6e(r&&r.length===t.length?r:x6e(t),e),l=p6e(o,t,{ease:Array.isArray(a)?a:y6e(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const b6e=e=>e!==null;function tL(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(b6e),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const w6e={decay:nI,inertia:nI,tween:_y,keyframes:_y,spring:qN};function koe(e){typeof e.type=="string"&&(e.type=w6e[e.type])}class rL{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const _6e=e=>e/100;class nL extends rL{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==lo.now()&&this.tick(lo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;koe(t);const{type:r=_y,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||_y;c!==_y&&typeof l[0]!="number"&&(this.mixKeyframes=qw(_6e,joe(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=eL(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:p,type:y,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?_<0:_>a;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,E=n;if(f){const R=Math.min(this.currentTime,a)/l;let P=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(m==="reverse"?(O=1-O,p&&(O-=p/l)):m==="mirror"&&(E=o)),b=Ju(0,1,O)*l}const S=w?{done:!1,value:d[0]}:E.next(b);i&&(S.value=i(S.value));let{done:C}=S;!w&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&y!==nI&&(S.value=tL(d,this.options,v,this.speed)),g&&g(S.value),k&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Sl(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sl(t)}get time(){return Sl(this.currentTime)}set time(t){t=Kc(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(lo.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Sl(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=a6e,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(lo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function j6e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Uh=e=>e*180/Math.PI,sI=e=>{const t=Uh(Math.atan2(e[1],e[0]));return aI(t)},N6e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:sI,rotateZ:sI,skewX:e=>Uh(Math.atan(e[1])),skewY:e=>Uh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},aI=e=>(e=e%360,e<0&&(e+=360),e),$V=sI,BV=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),UV=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),S6e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BV,scaleY:UV,scale:e=>(BV(e)+UV(e))/2,rotateX:e=>aI(Uh(Math.atan2(e[6],e[5]))),rotateY:e=>aI(Uh(Math.atan2(-e[2],e[0]))),rotateZ:$V,rotate:$V,skewX:e=>Uh(Math.atan(e[4])),skewY:e=>Uh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function iI(e){return e.includes("scale")?1:0}function oI(e,t){if(!e||e==="none")return iI(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=S6e,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=N6e,a=l}if(!a)return iI(t);const i=n[t],o=a[1].split(",").map(C6e);return typeof i=="function"?i(o):o[i]}const k6e=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return oI(r,t)};function C6e(e){return parseFloat(e.trim())}const hx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mx=new Set(hx),VV=e=>e===fx||e===hr,E6e=new Set(["x","y","z"]),T6e=hx.filter(e=>!E6e.has(e));function A6e(e){const t=[];return T6e.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const am={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>oI(t,"x"),y:(e,{transform:t})=>oI(t,"y")};am.translateX=am.x;am.translateY=am.y;const im=new Set;let lI=!1,cI=!1,uI=!1;function Coe(){if(cI){const e=Array.from(im).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=A6e(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}cI=!1,lI=!1,im.forEach(e=>e.complete(uI)),im.clear()}function Eoe(){im.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(cI=!0)})}function P6e(){uI=!0,Eoe(),Coe(),uI=!1}class sL{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(im.add(this),lI||(lI=!0,is.read(Eoe),is.resolveKeyframes(Coe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}j6e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),im.delete(this)}cancel(){this.state==="scheduled"&&(im.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const O6e=e=>e.startsWith("--");function R6e(e,t,r){O6e(t)?e.style.setProperty(t,r):e.style[t]=r}const D6e=W5(()=>window.ScrollTimeline!==void 0),I6e={};function M6e(e,t){const r=W5(e);return()=>I6e[t]??r()}const Toe=M6e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zv=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,zV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zv([0,.65,.55,1]),circOut:zv([.55,0,1,.45]),backIn:zv([.31,.01,.66,-.59]),backOut:zv([.33,1.53,.69,.99])};function Aoe(e,t){if(e)return typeof e=="function"?Toe()?Noe(e,t):"ease-out":moe(e)?zv(e):Array.isArray(e)?e.map(r=>Aoe(r,t)||zV.easeOut):zV[e]}function F6e(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Aoe(l,a);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function Poe(e){return typeof e=="function"&&"applyToOptions"in e}function L6e({type:e,...t}){return Poe(e)&&Toe()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $6e extends rL{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,q5(typeof t.type!="string");const u=L6e(t);this.animation=F6e(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=tL(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):R6e(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Sl(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sl(t)}get time(){return Sl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Kc(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&D6e()?(this.animation.timeline=t,Pl):r(this)}}const Ooe={anticipate:uoe,backInOut:coe,circInOut:foe};function B6e(e){return e in Ooe}function U6e(e){typeof e.ease=="string"&&B6e(e.ease)&&(e.ease=Ooe[e.ease])}const qV=10;class V6e extends $6e{constructor(t){U6e(t),koe(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new nL({...o,autoplay:!1}),c=Kc(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-qV).value,l.sample(c).value,qV),l.stop()}}const WV=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ff.test(e)||e==="0")&&!e.startsWith("url("));function z6e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function q6e(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=WV(a,t),l=WV(i,t);return!o||!l?!1:z6e(e)||(r==="spring"||Poe(r))&&n}function dI(e){e.duration=0,e.type="keyframes"}const W6e=new Set(["opacity","clipPath","filter","transform"]),H6e=W5(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G6e(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return H6e()&&r&&W6e.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const K6e=40;class Y6e extends rL{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=lo.now();const m={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},p=d?.KeyframeResolver||sL;this.keyframeResolver=new p(l,(y,g,v)=>this.onKeyframesResolved(y,g,m,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=lo.now(),q6e(t,i,o,l)||((Zu.instantAnimations||!c)&&d?.(tL(t,n,r)),t[0]=t[t.length-1],dI(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>K6e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&G6e(m)?new V6e({...m,element:m.motionValue.owner.current}):new nL(m);p.finished.then(()=>this.notifyFinished()).catch(Pl),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),P6e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const X6e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J6e(e){const t=X6e.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Roe(e,t,r=1){const[n,a]=J6e(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return toe(o)?parseFloat(o):o}return X5(a)?Roe(a,t,r+1):a}function aL(e,t){return e?.[t]??e?.default??e}const Doe=new Set(["width","height","top","left","right","bottom",...hx]),Z6e={test:e=>e==="auto",parse:e=>e},Ioe=e=>t=>t.test(e),Moe=[fx,hr,Yc,Vd,zLe,VLe,Z6e],HV=e=>Moe.find(Ioe(e));function Q6e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||noe(e):!0}const e8e=new Set(["brightness","contrast","saturate","opacity"]);function t8e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(J5)||[];if(!n)return e;const a=r.replace(n,"");let i=e8e.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const r8e=/\b([a-z-]*)\(.*?\)/gu,fI={...Ff,getAnimatableNone:e=>{const t=e.match(r8e);return t?t.map(t8e).join(" "):e}},GV={...fx,transform:Math.round},n8e={rotate:Vd,rotateX:Vd,rotateY:Vd,rotateZ:Vd,scale:Y_,scaleX:Y_,scaleY:Y_,scaleZ:Y_,skew:Vd,skewX:Vd,skewY:Vd,distance:hr,translateX:hr,translateY:hr,translateZ:hr,x:hr,y:hr,z:hr,perspective:hr,transformPerspective:hr,opacity:vb,originX:DV,originY:DV,originZ:hr},iL={borderWidth:hr,borderTopWidth:hr,borderRightWidth:hr,borderBottomWidth:hr,borderLeftWidth:hr,borderRadius:hr,radius:hr,borderTopLeftRadius:hr,borderTopRightRadius:hr,borderBottomRightRadius:hr,borderBottomLeftRadius:hr,width:hr,maxWidth:hr,height:hr,maxHeight:hr,top:hr,right:hr,bottom:hr,left:hr,padding:hr,paddingTop:hr,paddingRight:hr,paddingBottom:hr,paddingLeft:hr,margin:hr,marginTop:hr,marginRight:hr,marginBottom:hr,marginLeft:hr,backgroundPositionX:hr,backgroundPositionY:hr,...n8e,zIndex:GV,fillOpacity:vb,strokeOpacity:vb,numOctaves:GV},s8e={...iL,color:ea,backgroundColor:ea,outlineColor:ea,fill:ea,stroke:ea,borderColor:ea,borderTopColor:ea,borderRightColor:ea,borderBottomColor:ea,borderLeftColor:ea,filter:fI,WebkitFilter:fI},Foe=e=>s8e[e];function Loe(e,t){let r=Foe(e);return r!==fI&&(r=Ff),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const a8e=new Set(["auto","none","0"]);function i8e(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!a8e.has(i)&&yb(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Loe(r,a)}class o8e extends sL{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),X5(u))){const d=Roe(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Doe.has(n)||t.length!==2)return;const[a,i]=t,o=HV(a),l=HV(i);if(o!==l)if(VV(o)&&VV(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else am[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Q6e(t[a]))&&n.push(a);n.length&&i8e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=am[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=am[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function l8e(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const $oe=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Boe(e){return roe(e)&&"offsetHeight"in e}const KV=30,c8e=e=>!isNaN(parseFloat(e));class u8e{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=lo.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=lo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=c8e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new H5);const n=this.events[t].add(r);return t==="change"?()=>{n(),is.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=lo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>KV)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,KV);return soe(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _0(e,t){return new u8e(e,t)}const{schedule:oL}=poe(queueMicrotask,!1),Xl={x:!1,y:!1};function Uoe(){return Xl.x||Xl.y}function d8e(e){return e==="x"||e==="y"?Xl[e]?null:(Xl[e]=!0,()=>{Xl[e]=!1}):Xl.x||Xl.y?null:(Xl.x=Xl.y=!0,()=>{Xl.x=Xl.y=!1})}function Voe(e,t){const r=l8e(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function YV(e){return!(e.pointerType==="touch"||Uoe())}function f8e(e,t,r={}){const[n,a,i]=Voe(e,r),o=l=>{if(!YV(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{YV(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const zoe=(e,t)=>t?e===t?!0:zoe(e,t.parentElement):!1,lL=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,h8e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function m8e(e){return h8e.has(e.tagName)||e.tabIndex!==-1}const Fj=new WeakSet;function XV(e){return t=>{t.key==="Enter"&&e(t)}}function qT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const p8e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=XV(()=>{if(Fj.has(r))return;qT(r,"down");const a=XV(()=>{qT(r,"up")}),i=()=>qT(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function JV(e){return lL(e)&&!Uoe()}function g8e(e,t,r={}){const[n,a,i]=Voe(e,r),o=l=>{const c=l.currentTarget;if(!JV(l))return;Fj.add(c);const u=t(c,l),d=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Fj.has(c)&&Fj.delete(c),JV(p)&&typeof u=="function"&&u(p,{success:y})},f=p=>{d(p,c===window||c===document||r.useGlobalTarget||zoe(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),Boe(l)&&(l.addEventListener("focus",u=>p8e(u,a)),!m8e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function qoe(e){return roe(e)&&"ownerSVGElement"in e}function x8e(e){return qoe(e)&&e.tagName==="svg"}const yi=e=>!!(e&&e.getVelocity),v8e=[...Moe,ea,Ff],y8e=e=>v8e.find(Ioe(e)),cL=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ZV(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function b8e(...e){return t=>{let r=!1;const n=e.map(a=>{const i=ZV(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():ZV(e[a],null)}}}}function w8e(...e){return j.useCallback(b8e(...e),e)}class _8e extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Boe(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function j8e({children:e,isPresent:t,anchorX:r,root:n}){const a=j.useId(),i=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=j.useContext(cL),c=w8e(i,e?.ref);return j.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:p}=o.current;if(t||!i.current||!u||!d)return;const y=r==="left"?`left: ${m}`:`right: ${p}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const v=n??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),s.jsx(_8e,{isPresent:t,childRef:i,sizeRef:o,children:j.cloneElement(e,{ref:c})})}const N8e=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=B5(S8e),d=j.useId();let f=!0,m=j.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return i&&f&&(m={...m}),j.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[r]),j.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(j8e,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(X2.Provider,{value:m,children:e})};function S8e(){return new Map}function Woe(e=!0){const t=j.useContext(X2);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=j.useId();j.useEffect(()=>{if(e)return a(i)},[e]);const o=j.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const X_=e=>e.key||"";function QV(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const ez=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Woe(o),f=j.useMemo(()=>QV(e),[e]),m=o&&!u?[]:f.map(X_),p=j.useRef(!0),y=j.useRef(f),g=B5(()=>new Map),[v,_]=j.useState(f),[w,b]=j.useState(f);eoe(()=>{p.current=!1,y.current=f;for(let C=0;C<w.length;C++){const k=X_(w[C]);m.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[w,m.length,m.join("-")]);const E=[];if(f!==v){let C=[...f];for(let k=0;k<w.length;k++){const R=w[k],P=X_(R);m.includes(P)||(C.splice(k,0,R),E.push(R))}return i==="wait"&&E.length&&(C=E),b(QV(C)),_(f),null}const{forceRender:S}=j.useContext($5);return s.jsx(s.Fragment,{children:w.map(C=>{const k=X_(C),R=o&&!u?!1:f===w||m.includes(k),P=()=>{if(g.has(k))g.set(k,!0);else return;let O=!0;g.forEach(A=>{A||(O=!1)}),O&&(S?.(),b(y.current),o&&d?.(),n&&n())};return s.jsx(N8e,{isPresent:R,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:R?void 0:P,anchorX:l,children:C},k)})})},Hoe=j.createContext({strict:!1}),tz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},j0={};for(const e in tz)j0[e]={isEnabled:t=>tz[e].some(r=>!!t[r])};function k8e(e){for(const t in e)j0[t]={...j0[t],...e[t]}}const C8e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function WN(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||C8e.has(e)}let Goe=e=>!WN(e);function E8e(e){typeof e=="function"&&(Goe=t=>t.startsWith("on")?!WN(t):e(t))}try{E8e(require("@emotion/is-prop-valid").default)}catch{}function T8e(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Goe(a)||r===!0&&WN(a)||!t&&!WN(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const J2=j.createContext({});function Z2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bb(e){return typeof e=="string"||Array.isArray(e)}const uL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dL=["initial",...uL];function Q2(e){return Z2(e.animate)||dL.some(t=>bb(e[t]))}function Koe(e){return!!(Q2(e)||e.variants)}function A8e(e,t){if(Q2(e)){const{initial:r,animate:n}=e;return{initial:r===!1||bb(r)?r:void 0,animate:bb(n)?n:void 0}}return e.inherit!==!1?t:{}}function P8e(e){const{initial:t,animate:r}=A8e(e,j.useContext(J2));return j.useMemo(()=>({initial:t,animate:r}),[rz(t),rz(r)])}function rz(e){return Array.isArray(e)?e.join(" "):e}const wb={};function O8e(e){for(const t in e)wb[t]=e[t],Y5(t)&&(wb[t].isCSSVariable=!0)}function Yoe(e,{layout:t,layoutId:r}){return mx.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!wb[e]||e==="opacity")}const R8e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D8e=hx.length;function I8e(e,t,r){let n="",a=!0;for(let i=0;i<D8e;i++){const o=hx[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=$oe(l,iL[o]);if(!c){a=!1;const d=R8e[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function fL(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(mx.has(c)){o=!0;continue}else if(Y5(c)){a[c]=u;continue}else{const d=$oe(u,iL[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=I8e(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const hL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xoe(e,t,r){for(const n in t)!yi(t[n])&&!Yoe(n,r)&&(e[n]=t[n])}function M8e({transformTemplate:e},t){return j.useMemo(()=>{const r=hL();return fL(r,t,e),Object.assign({},r.vars,r.style)},[t])}function F8e(e,t){const r=e.style||{},n={};return Xoe(n,r,e),Object.assign(n,M8e(e,t)),n}function L8e(e,t){const r={},n=F8e(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const $8e={offset:"stroke-dashoffset",array:"stroke-dasharray"},B8e={offset:"strokeDashoffset",array:"strokeDasharray"};function U8e(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?$8e:B8e;e[i.offset]=hr.transform(-n);const o=hr.transform(t),l=hr.transform(r);e[i.array]=`${o} ${l}`}function Joe(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(fL(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&U8e(f,a,i,o,!1)}const Zoe=()=>({...hL(),attrs:{}}),Qoe=e=>typeof e=="string"&&e.toLowerCase()==="svg";function V8e(e,t,r,n){const a=j.useMemo(()=>{const i=Zoe();return Joe(i,t,Qoe(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Xoe(i,e.style,e),a.style={...i,...a.style}}return a}const z8e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mL(e){return typeof e!="string"||e.includes("-")?!1:!!(z8e.indexOf(e)>-1||/[A-Z]/u.test(e))}function q8e(e,t,r,{latestValues:n},a,i=!1){const l=(mL(e)?V8e:L8e)(t,n,a,e),c=T8e(t,typeof e=="string",i),u=e!==j.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=j.useMemo(()=>yi(d)?d.get():d,[d]);return j.createElement(e,{...u,children:f})}function nz(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function pL(e,t,r,n){if(typeof t=="function"){const[a,i]=nz(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=nz(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Lj(e){return yi(e)?e.get():e}function W8e({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:H8e(r,n,a,e),renderState:t()}}function H8e(e,t,r,n){const a={},i=n(e,{});for(const m in i)a[m]=Lj(i[m]);let{initial:o,animate:l}=e;const c=Q2(e),u=Koe(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Z2(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const y=pL(e,m[p]);if(y){const{transitionEnd:g,transition:v,..._}=y;for(const w in _){let b=_[w];if(Array.isArray(b)){const E=d?b.length-1:0;b=b[E]}b!==null&&(a[w]=b)}for(const w in g)a[w]=g[w]}}}return a}const ele=e=>(t,r)=>{const n=j.useContext(J2),a=j.useContext(X2),i=()=>W8e(e,t,n,a);return r?i():B5(i)};function gL(e,t,r){const{style:n}=e,a={};for(const i in n)(yi(n[i])||t.style&&yi(t.style[i])||Yoe(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const G8e=ele({scrapeMotionValuesFromProps:gL,createRenderState:hL});function tle(e,t,r){const n=gL(e,t,r);for(const a in e)if(yi(e[a])||yi(t[a])){const i=hx.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const K8e=ele({scrapeMotionValuesFromProps:tle,createRenderState:Zoe}),Y8e=Symbol.for("motionComponentSymbol");function wg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function X8e(e,t,r){return j.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):wg(r)&&(r.current=n))},[t])}const xL=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J8e="framerAppearId",rle="data-"+xL(J8e),nle=j.createContext({});function Z8e(e,t,r,n,a){const{visualElement:i}=j.useContext(J2),o=j.useContext(Hoe),l=j.useContext(X2),c=j.useContext(cL).reducedMotion,u=j.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=j.useContext(nle);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&Q8e(u.current,r,a,f);const m=j.useRef(!1);j.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const p=r[rle],y=j.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return eoe(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),y.current=!1),d.enteringChildren=void 0)}),d}function Q8e(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:sle(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&wg(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function sle(e){if(e)return e.options.allowProjection!==!1?e.projection:sle(e.parent)}function WT(e,{forwardMotionProps:t=!1}={},r,n){r&&k8e(r);const a=mL(e)?K8e:G8e;function i(l,c){let u;const d={...j.useContext(cL),...l,layoutId:e$e(l)},{isStatic:f}=d,m=P8e(l),p=a(l,f);if(!f&&U5){t$e();const y=r$e(d);u=y.MeasureLayout,m.visualElement=Z8e(e,p,d,n,y.ProjectionNode)}return s.jsxs(J2.Provider,{value:m,children:[u&&m.visualElement?s.jsx(u,{visualElement:m.visualElement,...d}):null,q8e(e,l,X8e(p,m.visualElement,c),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(i);return o[Y8e]=e,o}function e$e({layoutId:e}){const t=j.useContext($5).id;return t&&e!==void 0?t+"-"+e:e}function t$e(e,t){j.useContext(Hoe).strict}function r$e(e){const{drag:t,layout:r}=j0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function n$e(e,t){if(typeof Proxy>"u")return WT;const r=new Map,n=(i,o)=>WT(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,WT(o,void 0,e,t)),r.get(o))})}function ale({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function s$e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function a$e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function HT(e){return e===void 0||e===1}function hI({scale:e,scaleX:t,scaleY:r}){return!HT(e)||!HT(t)||!HT(r)}function kh(e){return hI(e)||ile(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ile(e){return sz(e.x)||sz(e.y)}function sz(e){return e&&e!=="0%"}function HN(e,t,r){const n=e-r,a=t*n;return r+a}function az(e,t,r,n,a){return a!==void 0&&(e=HN(e,a,n)),HN(e,r,n)+t}function mI(e,t=0,r=1,n,a){e.min=az(e.min,t,r,n,a),e.max=az(e.max,t,r,n,a)}function ole(e,{x:t,y:r}){mI(e.x,t.translate,t.scale,t.originPoint),mI(e.y,r.translate,r.scale,r.originPoint)}const iz=.999999999999,oz=1.0000000000001;function i$e(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ole(e,o)),n&&kh(i.latestValues)&&jg(e,i.latestValues))}t.x<oz&&t.x>iz&&(t.x=1),t.y<oz&&t.y>iz&&(t.y=1)}function _g(e,t){e.min=e.min+t,e.max=e.max+t}function lz(e,t,r,n,a=.5){const i=ms(e.min,e.max,a);mI(e,t,r,i,n)}function jg(e,t){lz(e.x,t.x,t.scaleX,t.scale,t.originX),lz(e.y,t.y,t.scaleY,t.scale,t.originY)}function lle(e,t){return ale(a$e(e.getBoundingClientRect(),t))}function o$e(e,t,r){const n=lle(e,r),{scroll:a}=t;return a&&(_g(n.x,a.offset.x),_g(n.y,a.offset.y)),n}const cz=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ng=()=>({x:cz(),y:cz()}),uz=()=>({min:0,max:0}),Is=()=>({x:uz(),y:uz()}),pI={current:null},cle={current:!1};function l$e(){if(cle.current=!0,!!U5)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pI.current=e.matches;e.addEventListener("change",t),t()}else pI.current=!1}const c$e=new WeakMap;function u$e(e,t,r){for(const n in t){const a=t[n],i=r[n];if(yi(a))e.addValue(n,a);else if(yi(i))e.addValue(n,_0(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,_0(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const dz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d$e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=lo.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,is.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Q2(r),this.isVariantNode=Koe(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&yi(p)&&p.set(c[m])}}mount(t){this.current=t,c$e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),cle.current||l$e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pI.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mf(this.notifyUpdate),Mf(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=mx.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&is.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in j0){const r=j0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Is()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<dz.length;n++){const a=dz[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=u$e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=_0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(toe(n)||noe(n))?n=parseFloat(n):!y8e(n)&&Ff.test(r)&&(n=Loe(t,r)),this.setBaseTarget(t,yi(n)?n.get():n)),yi(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=pL(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!yi(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new H5),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){oL.render(this.render)}}class ule extends d$e{constructor(){super(...arguments),this.KeyframeResolver=o8e}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function dle(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function f$e(e){return window.getComputedStyle(e)}class h$e extends ule{constructor(){super(...arguments),this.type="html",this.renderInstance=dle}readValueFromInstance(t,r){if(mx.has(r))return this.projection?.isProjecting?iI(r):k6e(t,r);{const n=f$e(t),a=(Y5(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return lle(t,r)}build(t,r,n){fL(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return gL(t,r,n)}}const fle=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m$e(e,t,r,n){dle(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(fle.has(a)?a:xL(a),t.attrs[a])}class p$e extends ule{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Is}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(mx.has(r)){const n=Foe(r);return n&&n.default||0}return r=fle.has(r)?r:xL(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return tle(t,r,n)}build(t,r,n){Joe(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){m$e(t,r,n,a)}mount(t){this.isSVGTag=Qoe(t.tagName),super.mount(t)}}const g$e=(e,t)=>mL(e)?new p$e(t):new h$e(t,{allowProjection:e!==j.Fragment});function Yg(e,t,r){const n=e.getProps();return pL(n,t,r!==void 0?r:n.custom,e)}const gI=e=>Array.isArray(e);function x$e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,_0(r))}function v$e(e){return gI(e)?e[e.length-1]||0:e}function y$e(e,t){const r=Yg(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=v$e(i[o]);x$e(e,o,l)}}function b$e(e){return!!(yi(e)&&e.add)}function xI(e,t){const r=e.getValue("willChange");if(b$e(r))return r.add(t);if(!r&&Zu.WillChange){const n=new Zu.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function hle(e){return e.props[rle]}const w$e=e=>e!==null;function _$e(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(w$e),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const j$e={type:"spring",stiffness:500,damping:25,restSpeed:10},N$e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S$e={type:"keyframes",duration:.8},k$e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C$e=(e,{keyframes:t})=>t.length>2?S$e:mx.has(e)?e.startsWith("scale")?N$e(t[1]):j$e:k$e;function E$e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const vL=(e,t,r,n={},a,i)=>o=>{const l=aL(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Kc(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};E$e(l)||Object.assign(d,C$e(e,d)),d.duration&&(d.duration=Kc(d.duration)),d.repeatDelay&&(d.repeatDelay=Kc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(dI(d),d.delay===0&&(f=!0)),(Zu.instantAnimations||Zu.skipAnimations)&&(f=!0,dI(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=_$e(d.keyframes,l);if(m!==void 0){is.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new nL(d):new Y6e(d)};function T$e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function mle(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&T$e(u,d))continue;const p={delay:r,...aL(i||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===y&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const _=hle(e);if(_){const w=window.MotionHandoffAnimation(_,d,is);w!==null&&(p.startTime=w,g=!0)}}xI(e,d),f.start(vL(d,f,m,e.shouldReduceMotion&&Doe.has(d)?{type:!1}:p,e,g));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{is.update(()=>{o&&y$e(e,o)})}),c}function ple(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function vI(e,t,r={}){const n=Yg(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(mle(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return A$e(e,t,c,u,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function A$e(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(vI(c,t,{...o,delay:r+(typeof n=="function"?0:n)+ple(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function P$e(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>vI(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=vI(e,t,r);else{const a=typeof t=="function"?Yg(e,t,r.custom):t;n=Promise.all(mle(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function gle(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const O$e=dL.length;function xle(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?xle(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<O$e;r++){const n=dL[r],a=e.props[n];(bb(a)||a===!1)&&(t[n]=a)}return t}const R$e=[...uL].reverse(),D$e=uL.length;function I$e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>P$e(e,r,n)))}function M$e(e){let t=I$e(e),r=fz(),n=!0;const a=c=>(u,d)=>{const f=Yg(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=xle(e.parent)||{},f=[],m=new Set;let p={},y=1/0;for(let v=0;v<D$e;v++){const _=R$e[v],w=r[_],b=u[_]!==void 0?u[_]:d[_],E=bb(b),S=_===c?w.isActive:null;S===!1&&(y=v);let C=b===d[_]&&b!==u[_]&&E;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...p},!w.isActive&&S===null||!b&&!w.prevProp||Z2(b)||typeof b=="boolean")continue;const k=F$e(w.prevProp,b);let R=k||_===c&&w.isActive&&!C&&E||v>y&&E,P=!1;const O=Array.isArray(b)?b:[b];let A=O.reduce(a(_),{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,F={...D,...A},B=G=>{R=!0,m.has(G)&&(P=!0,m.delete(G)),w.needsAnimating[G]=!0;const Y=e.getValue(G);Y&&(Y.liveStyle=!1)};for(const G in F){const Y=A[G],M=D[G];if(p.hasOwnProperty(G))continue;let H=!1;gI(Y)&&gI(M)?H=!gle(Y,M):H=Y!==M,H?Y!=null?B(G):m.add(G):Y!==void 0&&m.has(G)?B(G):w.protectedKeys[G]=!0}w.prevProp=b,w.prevResolvedValues=A,w.isActive&&(p={...p,...A}),n&&e.blockInitialAnimation&&(R=!1);const z=C&&k;R&&(!z||P)&&f.push(...O.map(G=>{const Y={type:_};if(typeof G=="string"&&n&&!z&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,H=Yg(M,G);if(M.enteringChildren&&H){const{delayChildren:Z}=H.transition||{};Y.delay=ple(M.enteringChildren,e,Z)}}return{animation:G,options:Y}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const _=Yg(e,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(v.transition=_.transition)}m.forEach(_=>{const w=e.getBaseTarget(_),b=e.getValue(_);b&&(b.liveStyle=!0),v[_]=w??null}),f.push({animation:v})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=fz()}}}function F$e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gle(t,e):!1}function xh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fz(){return{animate:xh(!0),whileInView:xh(),whileHover:xh(),whileTap:xh(),whileDrag:xh(),whileFocus:xh(),exit:xh()}}class Yf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class L$e extends Yf{constructor(t){super(t),t.animationState||(t.animationState=M$e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Z2(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $$e=0;class B$e extends Yf{constructor(){super(...arguments),this.id=$$e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const U$e={animation:{Feature:L$e},exit:{Feature:B$e}};function _b(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Gw(e){return{point:{x:e.pageX,y:e.pageY}}}const V$e=e=>t=>lL(t)&&e(t,Gw(t));function jy(e,t,r,n){return _b(e,t,V$e(r),n)}const vle=1e-4,z$e=1-vle,q$e=1+vle,yle=.01,W$e=0-yle,H$e=0+yle;function Ui(e){return e.max-e.min}function G$e(e,t,r){return Math.abs(e-t)<=r}function hz(e,t,r,n=.5){e.origin=n,e.originPoint=ms(t.min,t.max,e.origin),e.scale=Ui(r)/Ui(t),e.translate=ms(r.min,r.max,e.origin)-e.originPoint,(e.scale>=z$e&&e.scale<=q$e||isNaN(e.scale))&&(e.scale=1),(e.translate>=W$e&&e.translate<=H$e||isNaN(e.translate))&&(e.translate=0)}function Ny(e,t,r,n){hz(e.x,t.x,r.x,n?n.originX:void 0),hz(e.y,t.y,r.y,n?n.originY:void 0)}function mz(e,t,r){e.min=r.min+t.min,e.max=e.min+Ui(t)}function K$e(e,t,r){mz(e.x,t.x,r.x),mz(e.y,t.y,r.y)}function pz(e,t,r){e.min=t.min-r.min,e.max=e.min+Ui(t)}function Sy(e,t,r){pz(e.x,t.x,r.x),pz(e.y,t.y,r.y)}function fl(e){return[e("x"),e("y")]}const ble=({current:e})=>e?e.ownerDocument.defaultView:null,gz=(e,t)=>Math.abs(e-t);function Y$e(e,t){const r=gz(e.x,t.x),n=gz(e.y,t.y);return Math.sqrt(r**2+n**2)}class wle{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=KT(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=Y$e(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:g}=m,{timestamp:v}=Wa;this.history.push({...g,timestamp:v});const{onStart:_,onMove:w}=this.handlers;p||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=GT(p,this.transformPagePoint),is.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=KT(m.type==="pointercancel"?this.lastMoveEventInfo:GT(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,_),g&&g(m,_)},!lL(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Gw(t),c=GT(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Wa;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,KT(c,this.history)),this.removeListeners=qw(jy(this.contextWindow,"pointermove",this.handlePointerMove),jy(this.contextWindow,"pointerup",this.handlePointerUp),jy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mf(this.updatePoint)}}function GT(e,t){return t?{point:t(e.point)}:e}function xz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function KT({point:e},t){return{point:e,delta:xz(e,_le(t)),offset:xz(e,X$e(t)),velocity:J$e(t,.1)}}function X$e(e){return e[0]}function _le(e){return e[e.length-1]}function J$e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=_le(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Kc(t)));)r--;if(!n)return{x:0,y:0};const i=Sl(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Z$e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ms(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ms(r,e,n.max):Math.min(e,r)),e}function vz(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Q$e(e,{top:t,left:r,bottom:n,right:a}){return{x:vz(e.x,r,a),y:vz(e.y,t,n)}}function yz(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function eBe(e,t){return{x:yz(e.x,t.x),y:yz(e.y,t.y)}}function tBe(e,t){let r=.5;const n=Ui(e),a=Ui(t);return a>n?r=xb(t.min,t.max-n,e.min):n>a&&(r=xb(e.min,e.max-a,t.min)),Ju(0,1,r)}function rBe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const yI=.35;function nBe(e=yI){return e===!1?e=0:e===!0&&(e=yI),{x:bz(e,"left","right"),y:bz(e,"top","bottom")}}function bz(e,t,r){return{min:wz(e,t),max:wz(e,r)}}function wz(e,t){return typeof e=="number"?e:e[t]||0}const sBe=new WeakMap;class aBe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Is(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Gw(f).point)},o=(f,m)=>{const{drag:p,dragPropagation:y,onDragStart:g}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d8e(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fl(_=>{let w=this.getAxisMotionValue(_).get()||0;if(Yc.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[_];E&&(w=Ui(E)*(parseFloat(w)/100))}}this.originPoint[_]=w}),g&&is.postRender(()=>g(f,m)),xI(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=m;if(y&&this.currentDirection===null){this.currentDirection=iBe(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),v&&v(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>fl(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new wle(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:ble(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&is.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!J_(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Z$e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&wg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Q$e(n.layoutBox,t):this.constraints=!1,this.elastic=nBe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&fl(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=rBe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!wg(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=o$e(n,a.root,this.visualElement.getTransformPagePoint());let o=eBe(a.layout.layoutBox,i);if(r){const l=r(s$e(o));this.hasMutatedConstraints=!!l,l&&(o=ale(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=fl(d=>{if(!J_(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return xI(this.visualElement,t),n.start(vL(t,n,0,r,this.visualElement,!1))}stopAnimation(){fl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fl(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){fl(r=>{const{drag:n}=this.getProps();if(!J_(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-ms(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!wg(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fl(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=tBe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),fl(o=>{if(!J_(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ms(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;sBe.set(this.visualElement,this);const t=this.visualElement.current,r=jy(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();wg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),is.read(n);const o=_b(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=yI,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function J_(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function iBe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class oBe extends Yf{constructor(t){super(t),this.removeGroupControls=Pl,this.removeListeners=Pl,this.controls=new aBe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pl}unmount(){this.removeGroupControls(),this.removeListeners()}}const _z=e=>(t,r)=>{e&&is.postRender(()=>e(t,r))};class lBe extends Yf{constructor(){super(...arguments),this.removePointerDownListener=Pl}onPointerDown(t){this.session=new wle(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ble(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:_z(t),onStart:_z(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&is.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=jy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $j={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const mv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(hr.test(e))e=parseFloat(e);else return e;const r=jz(e,t.target.x),n=jz(e,t.target.y);return`${r}% ${n}%`}},cBe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ff.parse(e);if(a.length>5)return n;const i=Ff.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=ms(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let YT=!1;class uBe extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;O8e(dBe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),YT&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$j.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,YT=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||is.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oL.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;YT=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jle(e){const[t,r]=Woe(),n=j.useContext($5);return s.jsx(uBe,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(nle),isPresent:t,safeToRemove:r})}const dBe={borderRadius:{...mv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mv,borderTopRightRadius:mv,borderBottomLeftRadius:mv,borderBottomRightRadius:mv,boxShadow:cBe};function fBe(e,t,r){const n=yi(e)?e:_0(e);return n.start(vL("",n,t,r)),n.animation}const hBe=(e,t)=>e.depth-t.depth;class mBe{constructor(){this.children=[],this.isDirty=!1}add(t){V5(this.children,t),this.isDirty=!0}remove(t){z5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hBe),this.isDirty=!1,this.children.forEach(t)}}function pBe(e,t){const r=lo.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Mf(n),e(i-t))};return is.setup(n,!0),()=>Mf(n)}const Nle=["TopLeft","TopRight","BottomLeft","BottomRight"],gBe=Nle.length,Nz=e=>typeof e=="string"?parseFloat(e):e,Sz=e=>typeof e=="number"||hr.test(e);function xBe(e,t,r,n,a,i){a?(e.opacity=ms(0,r.opacity??1,vBe(n)),e.opacityExit=ms(t.opacity??1,0,yBe(n))):i&&(e.opacity=ms(t.opacity??1,r.opacity??1,n));for(let o=0;o<gBe;o++){const l=`border${Nle[o]}Radius`;let c=kz(t,l),u=kz(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Sz(c)===Sz(u)?(e[l]=Math.max(ms(Nz(c),Nz(u),n),0),(Yc.test(u)||Yc.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=ms(t.rotate||0,r.rotate||0,n))}function kz(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vBe=Sle(0,.5,doe),yBe=Sle(.5,.95,Pl);function Sle(e,t,r){return n=>n<e?0:n>t?1:r(xb(e,t,n))}function Cz(e,t){e.min=t.min,e.max=t.max}function sl(e,t){Cz(e.x,t.x),Cz(e.y,t.y)}function Ez(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tz(e,t,r,n,a){return e-=t,e=HN(e,1/r,n),a!==void 0&&(e=HN(e,1/a,n)),e}function bBe(e,t=0,r=1,n=.5,a,i=e,o=e){if(Yc.test(t)&&(t=parseFloat(t),t=ms(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ms(i.min,i.max,n);e===i&&(l-=t),e.min=Tz(e.min,t,r,l,a),e.max=Tz(e.max,t,r,l,a)}function Az(e,t,[r,n,a],i,o){bBe(e,t[r],t[n],t[a],t.scale,i,o)}const wBe=["x","scaleX","originX"],_Be=["y","scaleY","originY"];function Pz(e,t,r,n){Az(e.x,t,wBe,r?r.x:void 0,n?n.x:void 0),Az(e.y,t,_Be,r?r.y:void 0,n?n.y:void 0)}function Oz(e){return e.translate===0&&e.scale===1}function kle(e){return Oz(e.x)&&Oz(e.y)}function Rz(e,t){return e.min===t.min&&e.max===t.max}function jBe(e,t){return Rz(e.x,t.x)&&Rz(e.y,t.y)}function Dz(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Cle(e,t){return Dz(e.x,t.x)&&Dz(e.y,t.y)}function Iz(e){return Ui(e.x)/Ui(e.y)}function Mz(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NBe{constructor(){this.members=[]}add(t){V5(this.members,t),t.scheduleRender()}remove(t){if(z5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SBe(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:p,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const XT=["","X","Y","Z"],kBe=1e3;let CBe=0;function JT(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Ele(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=hle(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",is,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Ele(n)}function Tle({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=CBe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ABe),this.nodes.forEach(DBe),this.nodes.forEach(IBe),this.nodes.forEach(PBe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mBe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new H5),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=qoe(o)&&!x8e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;is.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=pBe(m,250),$j.hasAnimatedSinceResize&&($j.hasAnimatedSinceResize=!1,this.nodes.forEach($z)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||BBe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),_=!this.targetLayout||!Cle(this.targetLayout,p),w=!f&&m;if(this.options.layoutRoot||this.resumeFrom||w||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...aL(y,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,w)}else f||$z(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MBe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ele(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fz);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lz);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RBe),this.nodes.forEach(EBe),this.nodes.forEach(TBe)):this.nodes.forEach(Lz),this.clearAllSnapshots();const l=lo.now();Wa.delta=Ju(0,1e3/60,l-Wa.timestamp),Wa.timestamp=l,Wa.isProcessing=!0,$T.update.process(Wa),$T.preRender.process(Wa),$T.render.process(Wa),Wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OBe),this.sharedNodes.forEach(FBe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,is.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){is.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ui(this.snapshot.measuredBox.x)&&!Ui(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kle(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||kh(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),UBe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Is();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(VBe))){const{scroll:u}=this.root;u&&(_g(l.x,u.offset.x),_g(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Is();if(sl(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&sl(l,o),_g(l.x,d.offset.x),_g(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Is();sl(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),kh(d.latestValues)&&jg(c,d.latestValues)}return kh(this.latestValues)&&jg(c,this.latestValues),c}removeTransform(o){const l=Is();sl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!kh(u.latestValues))continue;hI(u.latestValues)&&u.updateSnapshot();const d=Is(),f=u.measurePageBox();sl(d,f),Pz(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return kh(this.latestValues)&&Pz(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Wa.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),Sy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),sl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Is(),this.targetWithTransforms=Is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),K$e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sl(this.target,this.layout.layoutBox),ole(this.target,this.targetDelta)):sl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),Sy(this.relativeTargetOrigin,this.target,m.target),sl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hI(this.parent.latestValues)||ile(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wa.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;sl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;i$e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Is());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ez(this.prevProjectionDelta.x,this.projectionDelta.x),Ez(this.prevProjectionDelta.y,this.projectionDelta.y)),Ny(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Mz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ng(),this.projectionDelta=Ng(),this.projectionDeltaWithTransform=Ng()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ng();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Is(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=p!==y,v=this.getStack(),_=!v||v.members.length<=1,w=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some($Be));this.animationProgress=0;let b;this.mixTargetDelta=E=>{const S=E/1e3;Bz(f.x,o.x,S),Bz(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sy(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LBe(this.relativeTarget,this.relativeTargetOrigin,m,S),b&&jBe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Is()),sl(b,this.relativeTarget)),g&&(this.animationValues=d,xBe(d,u,this.latestValues,S,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Mf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=is.update(()=>{$j.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_0(0)),this.currentAnimation=fBe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kBe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Ale(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Is();const f=Ui(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Ui(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}sl(l,c),jg(l,d),Ny(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NBe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&JT("z",o,u,this.animationValues);for(let d=0;d<XT.length;d++)JT(`rotate${XT[d]}`,o,u,this.animationValues),JT(`skew${XT[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Lj(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Lj(l?.pointerEvents)||""),this.hasProjected&&!kh(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=SBe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in wb){if(d[y]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:_}=wb[y],w=f==="none"?d[y]:g(d[y],u);if(v){const b=v.length;for(let E=0;E<b;E++)o[v[E]]=w}else _?this.options.visualElement.renderState.vars[y]=w:o[y]=w}this.options.layoutId&&(o.pointerEvents=u===this?Lj(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Fz),this.root.sharedNodes.clear()}}}function EBe(e){e.updateLayout()}function TBe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?fl(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Ui(f);f.min=r[d].min,f.max=f.min+m}):Ale(a,t.layoutBox,r)&&fl(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Ui(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=Ng();Ny(o,r,t.layoutBox);const l=Ng();i?Ny(l,e.applyTransform(n,!0),t.measuredBox):Ny(l,r,t.layoutBox);const c=!kle(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const p=Is();Sy(p,t.layoutBox,f.layoutBox);const y=Is();Sy(y,r,m.layoutBox),Cle(p,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ABe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function PBe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OBe(e){e.clearSnapshot()}function Fz(e){e.clearMeasurements()}function Lz(e){e.isLayoutDirty=!1}function RBe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $z(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DBe(e){e.resolveTargetDelta()}function IBe(e){e.calcProjection()}function MBe(e){e.resetSkewAndRotation()}function FBe(e){e.removeLeadSnapshot()}function Bz(e,t,r){e.translate=ms(t.translate,0,r),e.scale=ms(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Uz(e,t,r,n){e.min=ms(t.min,r.min,n),e.max=ms(t.max,r.max,n)}function LBe(e,t,r,n){Uz(e.x,t.x,r.x,n),Uz(e.y,t.y,r.y,n)}function $Be(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const BBe={duration:.45,ease:[.4,0,.1,1]},Vz=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zz=Vz("applewebkit/")&&!Vz("chrome/")?Math.round:Pl;function qz(e){e.min=zz(e.min),e.max=zz(e.max)}function UBe(e){qz(e.x),qz(e.y)}function Ale(e,t,r){return e==="position"||e==="preserve-aspect"&&!G$e(Iz(t),Iz(r),.2)}function VBe(e){return e!==e.root&&e.scroll?.wasRoot}const zBe=Tle({attachResizeListener:(e,t)=>_b(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZT={current:void 0},Ple=Tle({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ZT.current){const e=new zBe({});e.mount(window),e.setOptions({layoutScroll:!0}),ZT.current=e}return ZT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qBe={pan:{Feature:lBe},drag:{Feature:oBe,ProjectionNode:Ple,MeasureLayout:jle}};function Wz(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&is.postRender(()=>i(t,Gw(t)))}class WBe extends Yf{mount(){const{current:t}=this.node;t&&(this.unmount=f8e(t,(r,n)=>(Wz(this.node,n,"Start"),a=>Wz(this.node,a,"End"))))}unmount(){}}class HBe extends Yf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qw(_b(this.node.current,"focus",()=>this.onFocus()),_b(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hz(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&is.postRender(()=>i(t,Gw(t)))}class GBe extends Yf{mount(){const{current:t}=this.node;t&&(this.unmount=g8e(t,(r,n)=>(Hz(this.node,n,"Start"),(a,{success:i})=>Hz(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bI=new WeakMap,QT=new WeakMap,KBe=e=>{const t=bI.get(e.target);t&&t(e)},YBe=e=>{e.forEach(KBe)};function XBe({root:e,...t}){const r=e||document;QT.has(r)||QT.set(r,{});const n=QT.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(YBe,{root:e,...t})),n[a]}function JBe(e,t,r){const n=XBe(t);return bI.set(e,r),n.observe(e),()=>{bI.delete(e),n.unobserve(e)}}const ZBe={some:0,all:1};class QBe extends Yf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:ZBe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return JBe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(e9e(t,r))&&this.startObserver()}unmount(){}}function e9e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const t9e={inView:{Feature:QBe},tap:{Feature:GBe},focus:{Feature:HBe},hover:{Feature:WBe}},r9e={layout:{ProjectionNode:Ple,MeasureLayout:jle}},n9e={...U$e,...t9e,...qBe,...r9e},ku=n$e(n9e,g$e),N0=({id:e,slug:t,name:r,category:n,priceRange:a,price_range:i,images:o,status:l,storeSlug:c})=>{const u=xr(),[d,f]=j.useState(!1),m=o&&o.length>0?o[0]:"/placeholder.svg",p=a||i||"Price on request",y=t||e,v=Qc()?`/products/${y}`:c?`/${c}/products/${y}`:`/products/${y}`,_=w=>{w.preventDefault(),!d&&(f(!0),setTimeout(()=>{u(v)},700))};return s.jsx(ku.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},animate:d?{scale:.95}:{scale:1},onClick:_,className:"cursor-pointer",children:s.jsxs(Se,{className:"group hover:shadow-lg transition-all duration-300 overflow-hidden",children:[s.jsx(Te,{className:"p-0",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[s.jsx(mf,{src:m,alt:Vv({productName:r,storeName:c,category:n||void 0}),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l==="draft"&&s.jsx(jt,{className:"absolute top-2 right-2",variant:"secondary",children:"Coming Soon"})]})}),s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:n}),s.jsx("h3",{className:"font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:r}),s.jsx("p",{className:"text-lg font-bold text-primary",children:p})]}),s.jsx(lQ,{className:"p-4 pt-0",children:s.jsx(ie,{className:"w-full min-h-[44px]",variant:"outline",children:"View Details"})})]})})},yL=({name:e,image_url:t,productCount:r=0,slug:n})=>{const a=xr(),[i,o]=j.useState(!1),c=Qc()?`/products?category=${encodeURIComponent(e)}`:n?`/${n}/products?category=${encodeURIComponent(e)}`:`/products?category=${encodeURIComponent(e)}`,u=["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop"],f=t?ff(t):(()=>{const p=e.split("").reduce((y,g)=>y+g.charCodeAt(0),0);return u[p%u.length]})(),m=()=>{i||(o(!0),setTimeout(()=>{a(c)},700))};return s.jsx("div",{className:"block p-2 cursor-pointer",onClick:m,children:s.jsx(ku.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},className:"group h-full",animate:i?{scale:.95}:{scale:1},children:s.jsx(Se,{className:"relative h-full border-2 border-transparent bg-card/50 backdrop-blur-sm hover:bg-card hover:border-primary transition-all duration-500 shadow-md hover:shadow-[0_5px_40px_-20px_rgba(0,0,0,0.4)] rounded-2xl",children:s.jsx(Te,{className:"p-0 relative",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-xl",children:[s.jsx(mf,{src:f,alt:jLe(e),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-90 group-hover:brightness-100"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/40 to-transparent opacity-80 group-hover:opacity-70 transition-opacity duration-500"}),s.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 transform translate-y-0 transition-transform duration-500",children:[s.jsx("h3",{className:"font-bold text-base md:text-lg text-foreground drop-shadow-lg transition-colors duration-300",children:e}),r!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 opacity-90 group-hover:text-primary transition-colors duration-300",children:[r," ",r===1?"product":"products"]})]})]})})})})})},ek=({size:e="md",className:t,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return s.jsxs("div",{className:ut("flex flex-col items-center justify-center gap-3",t),children:[s.jsx(Jt,{className:ut("animate-spin text-primary",n[e])}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},s9e=({text:e="Loading..."})=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(ek,{size:"lg",text:e})});function a9e(e){return Object.prototype.toString.call(e)==="[object Object]"}function Gz(e){return a9e(e)||Array.isArray(e)}function i9e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function bL(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!Gz(l)||!Gz(c)?l===c:bL(l,c)})}function Kz(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function o9e(e,t){if(e.length!==t.length)return!1;const r=Kz(e),n=Kz(t);return r.every((a,i)=>{const o=n[i];return bL(a,o)})}function wL(e){return typeof e=="number"}function wI(e){return typeof e=="string"}function tk(e){return typeof e=="boolean"}function Yz(e){return Object.prototype.toString.call(e)==="[object Object]"}function ps(e){return Math.abs(e)}function _L(e){return Math.sign(e)}function ky(e,t){return ps(e-t)}function l9e(e,t){if(e===0||t===0||ps(e)<=ps(t))return 0;const r=ky(ps(e),ps(t));return ps(r/e)}function c9e(e){return Math.round(e*100)/100}function jb(e){return Nb(e).map(Number)}function dc(e){return e[Kw(e)]}function Kw(e){return Math.max(0,e.length-1)}function jL(e,t){return t===Kw(e)}function Xz(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Nb(e){return Object.keys(e)}function Ole(e,t){return[e,t].reduce((r,n)=>(Nb(n).forEach(a=>{const i=r[a],o=n[a],l=Yz(i)&&Yz(o);r[a]=l?Ole(i,o):o}),r),{})}function _I(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function u9e(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return wI(e)?r[e](c):e(t,c,u)}return{measure:o}}function Sb(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function d9e(e,t,r,n){const a=Sb(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(v){if(!c)return;o||(o=v,r(),r());const _=v-o;for(o=v,l+=_;l>=i;)r(),l-=i;const w=l/i;n(w),c&&(c=t.requestAnimationFrame(f))}function m(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:m,stop:p,update:r,render:n}}function f9e(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:g,width:v}=y;return n?g:v}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function Fm(e=0,t=0){const r=ps(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function Rle(e,t,r){const{constrain:n}=Fm(0,e),a=e+1;let i=o(t);function o(m){return r?ps((a+m)%a):n(m)}function l(){return i}function c(m){return i=o(m),f}function u(m){return d().set(l()+m)}function d(){return Rle(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function h9e(e,t,r,n,a,i,o,l,c,u,d,f,m,p,y,g,v,_,w){const{cross:b,direction:E}=e,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},k=Sb(),R=Sb(),P=Fm(50,225).constrain(p.measure(20)),O={mouse:300,touch:400},A={mouse:500,touch:600},D=y?43:25;let F=!1,B=0,z=0,q=!1,G=!1,Y=!1,M=!1;function H(K){if(!w)return;function be(Ee){(tk(w)||w(K,Ee))&&ne(Ee)}const pe=t;k.add(pe,"dragstart",Ee=>Ee.preventDefault(),C).add(pe,"touchmove",()=>{},C).add(pe,"touchend",()=>{}).add(pe,"touchstart",be).add(pe,"mousedown",be).add(pe,"touchcancel",ue).add(pe,"contextmenu",ue).add(pe,"click",W,!0)}function Z(){k.clear(),R.clear()}function L(){const K=M?r:t;R.add(K,"touchmove",se,C).add(K,"touchend",ue).add(K,"mousemove",se,C).add(K,"mouseup",ue)}function J(K){const be=K.nodeName||"";return S.includes(be)}function V(){return(y?A:O)[M?"mouse":"touch"]}function X(K,be){const pe=f.add(_L(K)*-1),Ee=d.byDistance(K,!y).distance;return y||ps(K)<P?Ee:v&&be?Ee*.5:d.byIndex(pe.get(),0).distance}function ne(K){const be=_I(K,n);M=be,Y=y&&be&&!K.buttons&&F,F=ky(a.get(),o.get())>=2,!(be&&K.button!==0)&&(J(K.target)||(q=!0,i.pointerDown(K),u.useFriction(0).useDuration(0),a.set(o),L(),B=i.readPoint(K),z=i.readPoint(K,b),m.emit("pointerDown")))}function se(K){if(!_I(K,n)&&K.touches.length>=2)return ue(K);const pe=i.readPoint(K),Ee=i.readPoint(K,b),Ae=ky(pe,B),fe=ky(Ee,z);if(!G&&!M&&(!K.cancelable||(G=Ae>fe,!G)))return ue(K);const Je=i.pointerMove(K);Ae>g&&(Y=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(E(Je)),K.preventDefault()}function ue(K){const pe=d.byDistance(0,!1).index!==f.get(),Ee=i.pointerUp(K)*V(),Ae=X(E(Ee),pe),fe=l9e(Ee,Ae),Je=D-10*fe,Ye=_+fe/50;G=!1,q=!1,R.clear(),u.useDuration(Je).useFriction(Ye),c.distance(Ae,!y),M=!1,m.emit("pointerUp")}function W(K){Y&&(K.stopPropagation(),K.preventDefault(),Y=!1)}function ae(){return q}return{init:H,destroy:Z,pointerDown:ae}}function m9e(e,t){let n,a;function i(f){return f.timeStamp}function o(f,m){const y=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(_I(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const m=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),m}function u(f){if(!n||!a)return 0;const m=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,g=m/p;return p&&!y&&ps(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function p9e(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function g9e(e){function t(n){return e*(n/100)}return{measure:t}}function x9e(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function m(v){return a.measureSize(o.measure(v))}function p(v){if(!i)return;u=m(e),d=n.map(m);function _(w){for(const b of w){if(f)return;const E=b.target===e,S=n.indexOf(b.target),C=E?u:d[S],k=m(E?e:n[S]);if(ps(k-C)>=.5){v.reInit(),t.emit("resize");break}}}c=new ResizeObserver(w=>{(tk(i)||i(v,w))&&_(w)}),r.requestAnimationFrame(()=>{l.forEach(w=>c.observe(w))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function v9e(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function m(){const C=n.get()-e.get(),k=!c;let R=0;return k?(o=0,r.set(n),e.set(n),R=C):(r.set(e),o+=C/c,o*=u,d+=o,e.add(o),R=d-f),l=_L(R),f=d,S}function p(){const C=n.get()-t.get();return ps(C)<.001}function y(){return c}function g(){return l}function v(){return o}function _(){return b(a)}function w(){return E(i)}function b(C){return c=C,S}function E(C){return u=C,S}const S={direction:g,duration:y,velocity:v,seek:m,settled:p,useBaseFriction:w,useBaseDuration:_,useFriction:E,useDuration:b};return S}function y9e(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=Fm(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",g=ps(e[y]-t.get()),v=r.get()-t.get(),_=l.constrain(g/o);r.subtract(v*_),!p&&ps(v)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function b9e(e,t,r,n,a){const i=Fm(-t+e,0),o=f(),l=d(),c=m();function u(y,g){return ky(y,g)<=1}function d(){const y=o[0],g=dc(o),v=o.lastIndexOf(y),_=o.indexOf(g)+1;return Fm(v,_)}function f(){return r.map((y,g)=>{const{min:v,max:_}=i,w=i.constrain(y),b=!g,E=jL(r,g);return b?_:E||u(v,w)?v:u(_,w)?_:w}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:g}=l;return o.slice(y,g)}return{snapsContained:c,scrollContainLimit:l}}function w9e(e,t,r){const n=t[0],a=r?n-e:dc(t);return{limit:Fm(a,n)}}function _9e(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=Fm(i,o);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function d(m){if(!u(m))return;const p=e*(m*-1);n.forEach(y=>y.add(p))}return{loop:d}}function j9e(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function N9e(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=m(),d=p();function f(){return l(n).map(g=>dc(g)[o]-g[0][i]).map(ps)}function m(){return n.map(g=>r[i]-g[i]).map(g=>-ps(g))}function p(){return l(u).map(g=>g[0]).map((g,v)=>g+c[v])}return{snaps:u,snapsAligned:d}}function S9e(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const m=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?m:m.slice(l,c).map((y,g,v)=>{const _=!g,w=jL(v,g);if(_){const b=dc(v[0])+1;return Xz(b)}if(w){const b=Kw(i)-dc(v)[0]+1;return Xz(b,dc(v)[0])}return y})}return{slideRegistry:u}}function k9e(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((g,v)=>ps(g)-ps(v))[0]}function u(y){const g=e?o(y):l(y),v=t.map((w,b)=>({diff:d(w-g,0),index:b})).sort((w,b)=>ps(w.diff)-ps(b.diff)),{index:_}=v[0];return{index:_,distance:g}}function d(y,g){const v=[y,y+r,y-r];if(!e)return y;if(!g)return c(v);const _=v.filter(w=>_L(w)===g);return _.length?c(_):dc(v)-r}function f(y,g){const v=t[y]-a.get(),_=d(v,g);return{index:y,distance:_}}function m(y,g){const v=a.get()+y,{index:_,distance:w}=u(v),b=!e&&i(v);if(!g||b)return{index:_,distance:y};const E=t[_]-w,S=y+d(E,0);return{index:_,distance:S}}return{byDistance:m,byIndex:f,shortcut:d}}function C9e(e,t,r,n,a,i,o){function l(f){const m=f.distance,p=f.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,m){const p=a.byDistance(f,m);l(p)}function u(f,m){const p=t.clone().set(f),y=a.byIndex(p.get(),m);l(y)}return{distance:c,index:u}}function E9e(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const w=r.findIndex(b=>b.includes(g));wL(w)&&(a.useDuration(0),n.index(w,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((g,v)=>{i.add(g,"focus",_=>{(tk(l)||l(p,_))&&y(v)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function qv(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return wL(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function Dle(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const p=c9e(e.direction(m));p!==a&&(n.transform=r(p),a=p)}function u(m){i=!m}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function T9e(e,t,r,n,a,i,o,l,c){const d=jb(a),f=jb(a).reverse(),m=_().concat(w());function p(k,R){return k.reduce((P,O)=>P-a[O],R)}function y(k,R){return k.reduce((P,O)=>p(P,R)>0?P.concat([O]):P,[])}function g(k){return i.map((R,P)=>({start:R-n[P]+.5+k,end:R+t-.5+k}))}function v(k,R,P){const O=g(R);return k.map(A=>{const D=P?0:-r,F=P?r:0,B=P?"end":"start",z=O[A][B];return{index:A,loopPoint:z,slideLocation:qv(-1),translate:Dle(e,c[A]),target:()=>l.get()>z?D:F}})}function _(){const k=o[0],R=y(f,k);return v(R,r,!1)}function w(){const k=t-o[0]-1,R=y(d,k);return v(R,-r,!0)}function b(){return m.every(({index:k})=>{const R=d.filter(P=>P!==k);return p(R,t)<=.1})}function E(){m.forEach(k=>{const{target:R,translate:P,slideLocation:O}=k,A=R();A!==O.get()&&(P.to(A),O.set(A))})}function S(){m.forEach(k=>k.translate.clear())}return{canLoop:b,clear:S,loop:E,loopPoints:m}}function A9e(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(tk(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function P9e(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(g=>{const v=t.indexOf(g.target);a[v]=g}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return Nb(a).reduce((g,v)=>{const _=parseInt(v),{isIntersecting:w}=a[_];return(y&&w||!y&&!w)&&g.push(_),g},[])}function m(y=!0){if(y&&i)return i;if(!y&&o)return o;const g=f(y);return y&&(i=g),y||(o=g),g}return{init:u,destroy:d,get:m}}function O9e(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=g(),m=r.map(o),p=v();function y(){if(!u)return 0;const w=r[0];return ps(t[l]-w[l])}function g(){if(!u)return 0;const w=i.getComputedStyle(dc(n));return parseFloat(w.getPropertyValue(`margin-${c}`))}function v(){return r.map((w,b,E)=>{const S=!b,C=jL(E,b);return S?m[b]+d:C?m[b]+f:E[b+1][l]-w[l]}).map(ps)}return{slideSizes:m,slideSizesWithGaps:p,startGap:d,endGap:f}}function R9e(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,m=wL(r);function p(_,w){return jb(_).filter(b=>b%w===0).map(b=>_.slice(b,b+w))}function y(_){return _.length?jb(_).reduce((w,b,E)=>{const S=dc(w)||0,C=S===0,k=b===Kw(_),R=a[u]-i[S][u],P=a[u]-i[b][d],O=!n&&C?f(o):0,A=!n&&k?f(l):0,D=ps(P-A-(R+O));return E&&D>t+c&&w.push(b),k&&w.push(_.length),w},[]).map((w,b,E)=>{const S=Math.max(E[b-1]||0);return _.slice(S,w)}):[]}function g(_){return m?p(_,r):y(_)}return{groupSlides:g}}function D9e(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:m,dragFree:p,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:_,containScroll:w,watchResize:b,watchSlides:E,watchDrag:S,watchFocus:C}=i,k=2,R=p9e(),P=R.measure(t),O=r.map(R.measure),A=f9e(c,u),D=A.measureSize(P),F=g9e(D),B=u9e(l,D),z=!f&&!!w,q=f||!!w,{slideSizes:G,slideSizesWithGaps:Y,startGap:M,endGap:H}=O9e(A,P,O,r,q,a),Z=R9e(A,D,v,f,P,O,M,H,k),{snaps:L,snapsAligned:J}=N9e(A,B,P,O,Z),V=-dc(L)+dc(Y),{snapsContained:X,scrollContainLimit:ne}=b9e(D,V,J,w,k),se=z?X:J,{limit:ue}=w9e(V,se,f),W=Rle(Kw(se),d,f),ae=W.clone(),oe=jb(r),K=({dragHandler:Ie,scrollBody:de,scrollBounds:Re,options:{loop:rt}})=>{rt||Re.constrain(Ie.pointerDown()),de.seek()},be=({scrollBody:Ie,translate:de,location:Re,offsetLocation:rt,previousLocation:xt,scrollLooper:at,slideLooper:St,dragHandler:Yt,animation:At,eventHandler:Pt,scrollBounds:fr,options:{loop:Ar}},Fr)=>{const Qr=Ie.settled(),kn=!fr.shouldConstrain(),Mt=Ar?Qr:Qr&&kn,ar=Mt&&!Yt.pointerDown();ar&&At.stop();const Pr=Re.get()*Fr+xt.get()*(1-Fr);rt.set(Pr),Ar&&(at.loop(Ie.direction()),St.loop()),de.to(rt.get()),ar&&Pt.emit("settle"),Mt||Pt.emit("scroll")},pe=d9e(n,a,()=>K(Be),Ie=>be(Be,Ie)),Ee=.68,Ae=se[W.get()],fe=qv(Ae),Je=qv(Ae),Ye=qv(Ae),ce=qv(Ae),we=v9e(fe,Ye,Je,ce,m,Ee),Oe=k9e(f,se,V,ue,ce),He=C9e(pe,W,ae,we,Oe,ce,o),Ge=j9e(ue),Ne=Sb(),ee=P9e(t,r,o,g),{slideRegistry:_e}=S9e(z,w,se,ne,Z,oe),ge=E9e(e,r,_e,He,we,Ne,o,C),Be={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:P,slideRects:O,animation:pe,axis:A,dragHandler:h9e(A,e,n,a,ce,m9e(A,a),fe,pe,He,we,Oe,W,o,F,p,y,_,Ee,S),eventStore:Ne,percentOfView:F,index:W,indexPrevious:ae,limit:ue,location:fe,offsetLocation:Ye,previousLocation:Je,options:i,resizeHandler:x9e(t,o,a,r,A,b,R),scrollBody:we,scrollBounds:y9e(ue,Ye,ce,we,F),scrollLooper:_9e(V,ue,Ye,[fe,Ye,Je,ce]),scrollProgress:Ge,scrollSnapList:se.map(Ge.get),scrollSnaps:se,scrollTarget:Oe,scrollTo:He,slideLooper:T9e(A,D,V,G,Y,L,se,Ye,r),slideFocus:ge,slidesHandler:A9e(t,o,E),slidesInView:ee,slideIndexes:oe,slideRegistry:_e,slidesToScroll:Z,target:ce,translate:Dle(A,t)};return Be}function I9e(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const M9e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function F9e(e){function t(i,o){return Ole(i,o||{})}function r(i){const o=i.breakpoints||{},l=Nb(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>Nb(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function L9e(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function GN(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=F9e(a),o=L9e(i),l=Sb(),c=I9e(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:m,off:p,emit:y}=c,g=A;let v=!1,_,w=u(M9e,GN.globalOptions),b=u(w),E=[],S,C,k;function R(){const{container:oe,slides:K}=b;C=(wI(oe)?e.querySelector(oe):oe)||e.children[0];const pe=wI(K)?C.querySelectorAll(K):K;k=[].slice.call(pe||C.children)}function P(oe){const K=D9e(e,C,k,n,a,oe,c);if(oe.loop&&!K.slideLooper.canLoop()){const be=Object.assign({},oe,{loop:!1});return P(be)}return K}function O(oe,K){v||(w=u(w,oe),b=d(w),E=K||E,R(),_=P(b),f([w,...E.map(({options:be})=>be)]).forEach(be=>l.add(be,"change",A)),b.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(ae),_.eventHandler.init(ae),_.resizeHandler.init(ae),_.slidesHandler.init(ae),_.options.loop&&_.slideLooper.loop(),C.offsetParent&&k.length&&_.dragHandler.init(ae),S=o.init(ae,E)))}function A(oe,K){const be=Z();D(),O(u({startIndex:be},oe),K),c.emit("reInit")}function D(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),l.clear()}function F(){v||(v=!0,l.clear(),D(),c.emit("destroy"),c.clear())}function B(oe,K,be){!b.active||v||(_.scrollBody.useBaseFriction().useDuration(K===!0?0:b.duration),_.scrollTo.index(oe,be||0))}function z(oe){const K=_.index.add(1).get();B(K,oe,-1)}function q(oe){const K=_.index.add(-1).get();B(K,oe,1)}function G(){return _.index.add(1).get()!==Z()}function Y(){return _.index.add(-1).get()!==Z()}function M(){return _.scrollSnapList}function H(){return _.scrollProgress.get(_.offsetLocation.get())}function Z(){return _.index.get()}function L(){return _.indexPrevious.get()}function J(){return _.slidesInView.get()}function V(){return _.slidesInView.get(!1)}function X(){return S}function ne(){return _}function se(){return e}function ue(){return C}function W(){return k}const ae={canScrollNext:G,canScrollPrev:Y,containerNode:ue,internalEngine:ne,destroy:F,off:p,on:m,emit:y,plugins:X,previousScrollSnap:L,reInit:g,rootNode:se,scrollNext:z,scrollPrev:q,scrollProgress:H,scrollSnapList:M,scrollTo:B,selectedScrollSnap:Z,slideNodes:W,slidesInView:J,slidesNotInView:V};return O(t,r),setTimeout(()=>c.emit("init"),0),ae}GN.globalOptions=void 0;function NL(e={},t=[]){const r=j.useRef(e),n=j.useRef(t),[a,i]=j.useState(),[o,l]=j.useState(),c=j.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return j.useEffect(()=>{bL(r.current,e)||(r.current=e,c())},[e,c]),j.useEffect(()=>{o9e(n.current,t)||(n.current=t,c())},[t,c]),j.useEffect(()=>{if(i9e()&&o){GN.globalOptions=NL.globalOptions;const u=GN(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}NL.globalOptions=void 0;const Ile=j.createContext(null);function rk(){const e=j.useContext(Ile);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const SL=j.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=NL({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=j.useState(!1),[m,p]=j.useState(!1),y=j.useCallback(w=>{w&&(f(w.canScrollPrev()),p(w.canScrollNext()))},[]),g=j.useCallback(()=>{u?.scrollPrev()},[u]),v=j.useCallback(()=>{u?.scrollNext()},[u]),_=j.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),v())},[g,v]);return j.useEffect(()=>{!u||!r||r(u)},[u,r]),j.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u?.off("select",y)}},[u,y]),s.jsx(Ile.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:_,className:ut("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});SL.displayName="Carousel";const kL=j.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=rk();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:ut("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});kL.displayName="CarouselContent";const KN=j.forwardRef(({className:e,...t},r)=>{const{orientation:n}=rk();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ut("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});KN.displayName="CarouselItem";const CL=j.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=rk();return s.jsxs(ie,{ref:a,variant:t,size:r,className:ut("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(Qa,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});CL.displayName="CarouselPrevious";const EL=j.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=rk();return s.jsxs(ie,{ref:a,variant:t,size:r,className:ut("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});EL.displayName="CarouselNext";const $9e={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function B9e(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function U9e(e,t){const r=e.rootNode();return t&&t(r)||r}function TL(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(B,z){r=B;const{mergeOptions:q,optionsAtMedia:G}=z,Y=q($9e,TL.globalOptions),M=q(Y,e);if(t=G(M),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=B9e(r,t.delay);const{eventStore:H,ownerDocument:Z}=r.internalEngine(),L=!!r.internalEngine().options.watchDrag,J=U9e(r,t.rootNode);H.add(Z,"visibilitychange",_),L&&r.on("pointerDown",b),L&&!t.stopOnInteraction&&r.on("pointerUp",E),t.stopOnMouseEnter&&H.add(J,"mouseenter",S),t.stopOnMouseEnter&&!t.stopOnInteraction&&H.add(J,"mouseleave",C),t.stopOnFocusIn&&r.on("slideFocusStart",v),t.stopOnFocusIn&&!t.stopOnInteraction&&H.add(r.containerNode(),"focusout",g),t.playOnInit&&g()}function m(){r.off("pointerDown",b).off("pointerUp",E).off("slideFocusStart",v),v(),n=!0,l=!1}function p(){const{ownerWindow:B}=r.internalEngine();B.clearTimeout(o),o=B.setTimeout(A,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:B}=r.internalEngine();B.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function g(){if(!n){if(w()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function v(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function _(){if(w())return u=l,v();u&&g()}function w(){const{ownerDocument:B}=r.internalEngine();return B.visibilityState==="hidden"}function b(){c||v()}function E(){c||g()}function S(){c=!0,v()}function C(){c=!1,g()}function k(B){typeof B<"u"&&(d=B),g()}function R(){l&&v()}function P(){l&&g()}function O(){return l}function A(){const{index:B}=r.internalEngine(),z=B.clone().add(1).get(),q=r.scrollSnapList().length-1,G=t.stopOnLastSnap&&z===q;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),G)return v();g()}function D(){if(!i)return null;const B=a[r.selectedScrollSnap()],z=new Date().getTime()-i;return B-z}return{name:"autoplay",options:e,init:f,destroy:m,play:k,stop:R,reset:P,isPlaying:O,timeUntilNext:D}}TL.globalOptions=void 0;const Mle=({bannerUrls:e,storeName:t,logoUrl:r,storeDescription:n})=>{const[a,i]=j.useState([]);return j.useEffect(()=>{const o=e.map(l=>ff(l)||l).filter(Boolean);i(o)},[e]),a.length?s.jsx("section",{className:"relative",children:s.jsxs(SL,{className:"w-full",plugins:[TL({delay:4e3,stopOnInteraction:!1})],opts:{loop:!0},children:[s.jsx(kL,{children:a.map((o,l)=>s.jsx(KN,{children:s.jsx("div",{className:"relative h-[300px] md:h-[380px] lg:h-[450px]",children:s.jsx(mf,{src:o,alt:_Le({storeName:t,imageType:"banner",description:n||void 0}),className:"absolute inset-0 w-full h-full object-fill"})})},l))}),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(CL,{className:"left-4 bg-white/20 border-white/30 text-white hover:bg-white/30"}),s.jsx(EL,{className:"right-4 bg-white/20 border-white/30 text-white hover:bg-white/30"})]})]})}):s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r&&s.jsx("img",{src:ff(r)||r,alt:t,className:"h-24 w-24 mx-auto mb-6 rounded-full object-cover border-4 border-background shadow-lg"}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:t}),n&&s.jsx("p",{className:"text-xl text-muted-foreground",children:n})]})})})},eA=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],V9e=()=>{const{data:e,isLoading:t}=_ye({queryKey:["home-data"],queryFn:async()=>{const{data:l}=await Q.from("stores").select("id, name, description, logo_url, hero_banner_url, hero_banner_urls").eq("slug","demo").eq("is_active",!0).maybeSingle();if(!l)return{allProducts:[],featuredProducts:[],newArrivals:[],categories:eA};const[c,u]=await Promise.all([eb(l.id),Q.from("categories").select("*").eq("store_id",l.id).order("name").then(f=>f.data)]),d=[...c].sort((f,m)=>new Date(m.created_at||"").getTime()-new Date(f.created_at||"").getTime());return{allProducts:c,featuredProducts:c.slice(0,4),newArrivals:d.slice(0,4),categories:u&&u.length>0?u:eA,store:l}},staleTime:3e5,gcTime:6e5}),{allProducts:r=[],featuredProducts:n=[],newArrivals:a=[],categories:i=eA,store:o}=e||{};return t?s.jsx(s9e,{text:"Loading store..."}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{}),s.jsxs("main",{className:"flex-1",children:[o&&s.jsx(Mle,{bannerUrls:o.hero_banner_urls&&o.hero_banner_urls.length>0?o.hero_banner_urls:o.hero_banner_url?[o.hero_banner_url]:[],storeName:o.name||"MyStore",logoUrl:o.logo_url,storeDescription:o.description}),!o&&s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Welcome to MyStore"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Discover quality products at unbeatable prices. Shop now!"})]})})}),s.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:i.map((l,c)=>{const u=r.filter(d=>d.category===l.name).length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",style:{animationDelay:`${c*100}ms`},children:s.jsx(yL,{name:l.name,image_url:l.image_url,productCount:u})},l.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(kt,{to:"/products",children:s.jsxs(ie,{variant:"outline",children:["View All",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]}),n.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>s.jsx(N0,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),a.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(l=>s.jsx(N0,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore thousands of products and great deals"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(kt,{to:"/products",children:s.jsxs(ie,{size:"lg",variant:"secondary",children:["Browse Products",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})}),s.jsx(kt,{to:"/pricing",children:s.jsxs(ie,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["View Pricing Plans",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]})]})})]}),s.jsx(Du,{})]})},kb=({storeName:e,storeDescription:t,whatsappNumber:r,phone:n,email:a,address:i,facebookUrl:o,instagramUrl:l,twitterUrl:c,youtubeUrl:u,linkedinUrl:d,socialLinks:f,policies:m})=>{const{slug:p}=sd(),y=p?`/${p}/policies`:"/policies",g=p?`/${p}`:"",v={facebook:o||f?.facebook||null,instagram:l||f?.instagram||null,twitter:c||f?.twitter||null,youtube:u||null,linkedin:d||null},_=Object.values(v).some(w=>w);return s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-foreground mb-4",children:["About ",e]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t||"Your trusted online store for quality products at great prices."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(kt,{to:g||"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(kt,{to:`${g}/products`,className:"text-muted-foreground hover:text-primary transition-colors",children:"All Products"})}),s.jsx("li",{children:s.jsx(kt,{to:`${g}/categories`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Categories"})}),s.jsx("li",{children:s.jsx(kt,{to:`${g}/cart`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shopping Cart"})}),s.jsx("li",{children:s.jsx(kt,{to:"/sitemap.xml",className:"text-muted-foreground hover:text-primary transition-colors",children:"Sitemap"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(kt,{to:`${y}#terms`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx(kt,{to:`${y}#return-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx(kt,{to:`${y}#shipping-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(kt,{to:`${y}#privacy-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[n&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(oc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:n})]}),r&&n!==r&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(oc,{className:"w-4 h-4 flex-shrink-0"}),s.jsxs("span",{children:["WhatsApp: ",r]})]}),a&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:a})]}),i&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(_f,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:i})]})]}),_&&s.jsxs("div",{className:"flex gap-3 mt-4",children:[v.facebook&&s.jsx("a",{href:v.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Facebook",children:s.jsx(Q3,{className:"w-4 h-4"})}),v.instagram&&s.jsx("a",{href:v.instagram,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Instagram",children:s.jsx(ic,{className:"w-4 h-4"})}),v.twitter&&s.jsx("a",{href:v.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Twitter",children:s.jsx(rM,{className:"w-4 h-4"})}),v.youtube&&s.jsx("a",{href:v.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"YouTube",children:s.jsx(WJ,{className:"w-4 h-4"})}),v.linkedin&&s.jsx("a",{href:v.linkedin,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"LinkedIn",children:s.jsx(BJ,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-4 pt-4 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," ",e,". All rights reserved."]})})]})})};var nk="Checkbox",[z9e]=Vs(nk),[q9e,AL]=z9e(nk);function W9e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,p]=ji({prop:r,defaultProp:a??!1,onChange:c,caller:nk}),[y,g]=j.useState(null),[v,_]=j.useState(null),w=j.useRef(!1),b=y?!!o||!!y.closest("form"):!0,E={checked:m,disabled:i,setChecked:p,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:pf(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:_};return s.jsx(q9e,{scope:t,...E,children:H9e(f)?f(E):n})}var Fle="CheckboxTrigger",Lle=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:y}=AL(Fle,e),g=Zt(a,d),v=j.useRef(c);return j.useEffect(()=>{const _=i?.form;if(_){const w=()=>f(v.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[i,f]),s.jsx(Tt.button,{type:"button",role:"checkbox","aria-checked":pf(c)?"mixed":c,"aria-required":u,"data-state":zle(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:dt(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:dt(r,_=>{f(w=>pf(w)?!0:!w),y&&p&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})})});Lle.displayName=Fle;var PL=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(W9e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(Lle,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(Vle,{__scopeCheckbox:r})]})})});PL.displayName=nk;var $le="CheckboxIndicator",Ble=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=AL($le,r);return s.jsx(la,{present:n||pf(i.checked)||i.checked===!0,children:s.jsx(Tt.span,{"data-state":zle(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Ble.displayName=$le;var Ule="CheckboxBubbleInput",Vle=j.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=AL(Ule,e),y=Zt(r,p),g=Ew(i),v=hw(n);j.useEffect(()=>{const w=m;if(!w)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,C=!a.current;if(g!==i&&S){const k=new Event("click",{bubbles:C});w.indeterminate=pf(i),S.call(w,pf(i)?!1:i),w.dispatchEvent(k)}},[m,g,i,a]);const _=j.useRef(pf(i)?!1:i);return s.jsx(Tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Vle.displayName=Ule;function H9e(e){return typeof e=="function"}function pf(e){return e==="indeterminate"}function zle(e){return pf(e)?"indeterminate":e?"checked":"unchecked"}const hi=j.forwardRef(({className:e,...t},r)=>s.jsx(PL,{ref:r,className:ut("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Ble,{className:ut("flex items-center justify-center text-current"),children:s.jsx(Cn,{className:"h-4 w-4"})})}));hi.displayName=PL.displayName;var qle=["PageUp","PageDown"],Wle=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Hle={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},px="Slider",[jI,G9e,K9e]=X0(px),[Gle]=Vs(px,[K9e]),[Y9e,sk]=Gle(px),Kle=j.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...g}=e,v=j.useRef(new Set),_=j.useRef(0),b=o==="horizontal"?X9e:J9e,[E=[],S]=ji({prop:d,defaultProp:u,onChange:A=>{[...v.current][_.current]?.focus(),f(A)}}),C=j.useRef(E);function k(A){const D=rUe(E,A);O(A,D)}function R(A){O(A,_.current)}function P(){const A=C.current[_.current];E[_.current]!==A&&m(E)}function O(A,D,{commit:F}={commit:!1}){const B=iUe(i),z=oUe(Math.round((A-n)/i)*i+n,B),q=tb(z,[n,a]);S((G=[])=>{const Y=eUe(G,q,D);if(aUe(Y,c*i)){_.current=Y.indexOf(q);const M=String(Y)!==String(G);return M&&F&&m(Y),M?Y:G}else return G})}return s.jsx(Y9e,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:_,thumbs:v.current,values:E,orientation:o,form:y,children:s.jsx(jI.Provider,{scope:e.__scopeSlider,children:s.jsx(jI.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:dt(g.onPointerDown,()=>{l||(C.current=E)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&O(n,0,{commit:!0}),onEndKeyDown:()=>!l&&O(a,E.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:D})=>{if(!l){const z=qle.includes(A.key)||A.shiftKey&&Wle.includes(A.key)?10:1,q=_.current,G=E[q],Y=i*z*D;O(G+Y,q,{commit:!0})}}})})})})});Kle.displayName=px;var[Yle,Xle]=Gle(px,{startEdge:"left",endEdge:"right",size:"width",direction:1}),X9e=j.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,m]=j.useState(null),p=Zt(t,b=>m(b)),y=j.useRef(void 0),g=Uf(a),v=g==="ltr",_=v&&!i||!v&&i;function w(b){const E=y.current||f.getBoundingClientRect(),S=[0,E.width],k=OL(S,_?[r,n]:[n,r]);return y.current=E,k(b-E.left)}return s.jsx(Yle,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:s.jsx(Jle,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const E=w(b.clientX);o?.(E)},onSlideMove:b=>{const E=w(b.clientX);l?.(E)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:b=>{const S=Hle[_?"from-left":"from-right"].includes(b.key);u?.({event:b,direction:S?-1:1})}})})}),J9e=j.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=j.useRef(null),f=Zt(t,d),m=j.useRef(void 0),p=!a;function y(g){const v=m.current||d.current.getBoundingClientRect(),_=[0,v.height],b=OL(_,p?[n,r]:[r,n]);return m.current=v,b(g-v.top)}return s.jsx(Yle,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(Jle,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);i?.(v)},onSlideMove:g=>{const v=y(g.clientY);o?.(v)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:g=>{const _=Hle[p?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:_?-1:1})}})})}),Jle=j.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=sk(px,r);return s.jsx(Tt.span,{...u,ref:t,onKeyDown:dt(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):qle.concat(Wle).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:dt(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:dt(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:dt(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),Zle="SliderTrack",Qle=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=sk(Zle,r);return s.jsx(Tt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});Qle.displayName=Zle;var NI="SliderRange",ece=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=sk(NI,r),i=Xle(NI,r),o=j.useRef(null),l=Zt(t,o),c=a.values.length,u=a.values.map(m=>nce(m,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Tt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});ece.displayName=NI;var SI="SliderThumb",tce=j.forwardRef((e,t)=>{const r=G9e(e.__scopeSlider),[n,a]=j.useState(null),i=Zt(t,l=>a(l)),o=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(Z9e,{...e,ref:i,index:o})}),Z9e=j.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=sk(SI,r),l=Xle(SI,r),[c,u]=j.useState(null),d=Zt(t,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,m=hw(c),p=o.values[n],y=p===void 0?0:nce(p,o.min,o.max),g=tUe(n,o.values.length),v=m?.[l.size],_=v?nUe(v,y,l.direction):0;return j.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${_}px)`},children:[s.jsx(jI.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Tt.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:dt(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(rce,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});tce.displayName=SI;var Q9e="RadioBubbleInput",rce=j.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=j.useRef(null),i=Zt(a,n),o=Ew(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Tt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});rce.displayName=Q9e;function eUe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function nce(e,t,r){const i=100/(r-t)*(e-t);return tb(i,[0,100])}function tUe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function rUe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function nUe(e,t,r){const n=e/2,i=OL([0,50],[0,n]);return(n-i(t)*r)*r}function sUe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function aUe(e,t){if(t>0){const r=sUe(e);return Math.min(...r)>=t}return!0}function OL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function iUe(e){return(String(e).split(".")[1]||"").length}function oUe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var sce=Kle,lUe=Qle,cUe=ece,uUe=tce;const ace=j.forwardRef(({className:e,...t},r)=>s.jsxs(sce,{ref:r,className:ut("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(lUe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(cUe,{className:"absolute h-full bg-primary"})}),s.jsx(uUe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ace.displayName=sce.displayName;const ice=({title:e="Something went wrong",message:t,onRetry:r,className:n})=>s.jsxs(tn,{variant:"destructive",className:n,children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsx(pF,{children:e}),s.jsxs(rn,{className:"flex flex-col gap-3",children:[s.jsx("span",{children:t}),r&&s.jsxs(ie,{variant:"outline",size:"sm",onClick:r,className:"w-fit",children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}),tA=({slug:e}={})=>{const[t,r]=gw(),{slug:n}=sd(),a=e||n;xr();const[i,o]=j.useState([]),[l,c]=j.useState(!0),[u,d]=j.useState(null),[f,m]=j.useState([]),[p,y]=j.useState([]),[g,v]=j.useState([]),[_,w]=j.useState([0,1e4]),[b,E]=j.useState("newest"),[S,C]=j.useState(!1),[k,R]=j.useState(null),[P,O]=j.useState(null),[A,D]=j.useState(null),F=Qc();j.useEffect(()=>{(async()=>{if(a)try{c(!0),d(null);const{data:Y}=await Q.from("stores").select("*").eq("slug",a).eq("is_active",!0).maybeSingle();if(Y){R(Y.id),O(Y);const{data:M}=await Q.from("profiles").select("phone, email").eq("user_id",Y.user_id).maybeSingle();M&&D(M);const H=await eb(Y.id);o(H)}}catch(Y){d(Y instanceof Error?Y.message:"Failed to load products")}finally{c(!1)}})()},[a]);const B=async()=>{if(k)try{const G=await eb(k);o(G)}catch(G){d(G instanceof Error?G.message:"Failed to reload products")}};j.useEffect(()=>{const G=[...new Set(i.map(Y=>Y.category))].filter(Boolean);y(G)},[i]),j.useEffect(()=>{const G=t.get("category");G&&p.includes(G)&&v([G]);const Y=()=>{B()};return window.addEventListener("focus",Y),()=>window.removeEventListener("focus",Y)},[t,p,B]),j.useEffect(()=>{if(!i||i.length===0){m([]);return}let G=[...i];k&&(G=G.filter(H=>H.store_id===k));const Y=t.get("search");Y&&(G=G.filter(H=>H.name.toLowerCase().includes(Y.toLowerCase())));const M=t.get("category");switch(M?G=G.filter(H=>H.category===M):g.length>0&&(G=G.filter(H=>g.includes(H.category))),(_[0]>0||_[1]<1e4)&&(G=G.filter(H=>{const Z=H.basePrice||(H.variants?.length?Math.min(...H.variants.map(J=>J.price)):0);return(H.variants?.length?Math.max(...H.variants.map(J=>J.price)):H.basePrice||0)>=_[0]&&Z<=_[1]})),b){case"price-low":G.sort((H,Z)=>{const L=H.basePrice||(H.variants?.length?H.variants[0].price:0),J=Z.basePrice||(Z.variants?.length?Z.variants[0].price:0);return L-J});break;case"price-high":G.sort((H,Z)=>{const L=H.basePrice||(H.variants?.length?H.variants[0].price:0);return(Z.basePrice||(Z.variants?.length?Z.variants[0].price:0))-L});break;case"name":G.sort((H,Z)=>H.name.localeCompare(Z.name));break}m(G)},[i,g,_,b,t,k]);const z=G=>{const Y=new URLSearchParams(t);Y.delete("category"),r(Y),v(M=>M.includes(G)?M.filter(H=>H!==G):[...M,G])},q=()=>{const G=new URLSearchParams(t);G.delete("category"),r(G),v([]),w([0,1e4]),E("newest")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:a}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:l?s.jsx("div",{className:"py-20",children:s.jsx(ek,{size:"lg",text:"Loading products..."})}):u?s.jsx("div",{className:"py-20",children:s.jsx(ice,{title:"Failed to load products",message:u,onRetry:B})}):s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:`lg:w-64 ${S?"block":"hidden lg:block"}`,children:s.jsx(Se,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[s.jsx(yR,{className:"w-5 h-5"}),"Filters"]}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:q,className:"text-xs",children:"Clear All"})]}),p.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx(ke,{className:"text-sm font-semibold mb-3 block",children:"Categories"}),s.jsx("div",{className:"space-y-3",children:p.map(G=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{id:G,checked:g.includes(G),onCheckedChange:()=>z(G)}),s.jsx("label",{htmlFor:G,className:"text-sm text-muted-foreground cursor-pointer",children:G})]},G))})]}),s.jsxs("div",{children:[s.jsx(ke,{className:"text-sm font-semibold mb-3 block",children:"Price Range"}),s.jsxs("div",{className:"px-2",children:[s.jsx(ace,{min:0,max:1e4,step:100,value:_,onValueChange:w,className:"mb-4"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["",_[0]]}),s.jsxs("span",{children:["",_[1]]})]})]})]})]})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"All Products"}),s.jsxs("p",{className:"text-muted-foreground",children:["Showing ",f.length," products"]})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsxs(ie,{variant:"outline",onClick:()=>C(!S),className:"lg:hidden flex-1",children:[s.jsx(yR,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsxs(_r,{value:b,onValueChange:E,children:[s.jsx(vr,{className:"w-full sm:w-[180px]",children:s.jsx(jr,{placeholder:"Sort by"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"newest",children:"Newest"}),s.jsx(Ke,{value:"price-low",children:"Price: Low to High"}),s.jsx(Ke,{value:"price-high",children:"Price: High to Low"}),s.jsx(Ke,{value:"name",children:"Name: A-Z"})]})]})]})]}),f.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(G=>s.jsx(N0,{...G,storeSlug:F?void 0:a},G.id))}):s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found matching your filters"}),s.jsx(ie,{onClick:q,variant:"outline",children:"Clear Filters"})]})]})]})}),P?s.jsx(kb,{storeName:P.name,storeDescription:P.description,whatsappNumber:P.whatsapp_number,phone:A?.phone,email:A?.email,address:P.address,facebookUrl:P.facebook_url,instagramUrl:P.instagram_url,twitterUrl:P.twitter_url,youtubeUrl:P.youtube_url,linkedinUrl:P.linkedin_url,socialLinks:P.social_links,policies:P.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})};function RL({title:e,description:t,canonical:r,image:n="https://digitaldukandar.in/placeholder.svg",type:a="website",keywords:i=[],author:o,price:l,currency:c="INR",availability:u}){const d=t.slice(0,160),f=e.slice(0,60);return s.jsxs(EM,{children:[s.jsx("title",{children:f}),s.jsx("meta",{name:"title",content:f}),s.jsx("meta",{name:"description",content:d}),i.length>0&&s.jsx("meta",{name:"keywords",content:i.join(", ")}),o&&s.jsx("meta",{name:"author",content:o}),s.jsx("link",{rel:"icon",type:"image/png",href:n}),s.jsx("link",{rel:"apple-touch-icon",href:n}),r&&s.jsx("link",{rel:"canonical",href:r}),s.jsx("meta",{property:"og:type",content:a}),s.jsx("meta",{property:"og:title",content:f}),s.jsx("meta",{property:"og:description",content:d}),s.jsx("meta",{property:"og:image",content:n}),r&&s.jsx("meta",{property:"og:url",content:r}),s.jsx("meta",{property:"og:site_name",content:"YesGive Shop"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:f}),s.jsx("meta",{name:"twitter:description",content:d}),s.jsx("meta",{name:"twitter:image",content:n}),a==="product"&&l&&s.jsxs(s.Fragment,{children:[s.jsx("meta",{property:"product:price:amount",content:l.toString()}),s.jsx("meta",{property:"product:price:currency",content:c}),u&&s.jsx("meta",{property:"product:availability",content:u==="in stock"?"in stock":"out of stock"})]}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{name:"theme-color",content:"#000000"}),s.jsx("link",{rel:"preconnect",href:"https://vexeuxsvckpfvuxqchqu.supabase.co"})]})}function oce(e){const{storeSlug:t,subdomain:r,customDomain:n,path:a=""}=e;return n&&n.trim()?`${n.startsWith("http")?n:`https://${n}`}${a}`:r&&r.trim()?`https://${r}.digitaldukandar.in${a}`:`https://digitaldukandar.in/${t}${a}`}function lce(e,t,r){return oce({storeSlug:e,subdomain:t,customDomain:r,path:""})}function dUe(e,t,r,n){return oce({storeSlug:e,subdomain:r,customDomain:n,path:`/products/${t}`})}const pv=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],rA=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,[n,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(null),[u,d]=j.useState("Store");return j.useEffect(()=>{(async()=>{try{o(!0);let m=null;if(r){const{data:p}=await Q.from("stores").select("id, name").eq("slug",r).eq("is_active",!0).maybeSingle();if(p)m=p.id,c(p.id),d(p.name);else{a(pv),o(!1);return}}else{const{data:{user:p}}=await Q.auth.getUser();if(p){const{data:y}=await Q.from("stores").select("id, name").eq("user_id",p.id).eq("is_active",!0).maybeSingle();y&&(m=y.id,c(y.id),d(y.name))}}if(m)try{const{data:p,error:y}=await Q.from("categories").select("*").eq("store_id",m).order("created_at",{ascending:!0});if(y)throw y;const g=await Promise.all((p||[]).map(async v=>{const{count:_,error:w}=await Q.from("products").select("*",{count:"exact",head:!0}).eq("store_id",m).eq("category",v.name).eq("status","published");return console.log(`Category "${v.name}": ${_} products`,{error:w}),{id:v.id,name:v.name,image_url:v.image_url,store_id:v.store_id,productCount:_||0}}));console.log("Categories with counts:",g),a(g.length>0?g:pv)}catch(p){console.error("Error fetching categories:",p),a(pv)}else a(pv)}catch(m){console.error("Error loading categories:",m),a(pv)}finally{o(!1)}})()},[r]),i?s.jsxs(s.Fragment,{children:[s.jsx(oo,{storeSlug:r,storeId:l}),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(ek,{size:"lg",text:"Loading categories..."})}),s.jsx(Du,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(RL,{title:`Categories - ${u} | Browse Our Collections`,description:`Explore all product categories at ${u}. Find exactly what you're looking for in our organized collections.`,canonical:lce(r||"",null,null),keywords:n.map(f=>f.name).concat([u,"categories","shop by category"]),type:"website"}),s.jsx(oo,{storeSlug:r,storeId:l}),s.jsx("main",{className:"flex-1",children:s.jsx("section",{className:"bg-gradient-to-b from-muted/30 to-background py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",children:n.map(f=>s.jsx(yL,{name:f.name,image_url:f.image_url,productCount:f.productCount,slug:r},f.id))})]})})}),s.jsx(Du,{})]})};var DL="Radio",[fUe,cce]=Vs(DL),[hUe,mUe]=fUe(DL),uce=j.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,m]=j.useState(null),p=Zt(t,v=>m(v)),y=j.useRef(!1),g=f?u||!!f.closest("form"):!0;return s.jsxs(hUe,{scope:r,checked:a,disabled:o,children:[s.jsx(Tt.button,{type:"button",role:"radio","aria-checked":a,"data-state":mce(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:dt(e.onClick,v=>{a||c?.(),g&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),g&&s.jsx(hce,{control:f,bubbles:!y.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});uce.displayName=DL;var dce="RadioIndicator",fce=j.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=mUe(dce,r);return s.jsx(la,{present:n||i.checked,children:s.jsx(Tt.span,{"data-state":mce(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});fce.displayName=dce;var pUe="RadioBubbleInput",hce=j.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=j.useRef(null),l=Zt(o,i),c=Ew(r),u=hw(t);return j.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx(Tt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hce.displayName=pUe;function mce(e){return e?"checked":"unchecked"}var gUe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ak="RadioGroup",[xUe]=Vs(ak,[ax,cce]),pce=ax(),gce=cce(),[vUe,yUe]=xUe(ak),xce=j.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,p=pce(r),y=Uf(u),[g,v]=ji({prop:i,defaultProp:a??null,onChange:f,caller:ak});return s.jsx(vUe,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(tF,{asChild:!0,...p,orientation:c,dir:y,loop:d,children:s.jsx(Tt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:t})})})});xce.displayName=ak;var vce="RadioGroupItem",yce=j.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=yUe(vce,r),o=i.disabled||n,l=pce(r),c=gce(r),u=j.useRef(null),d=Zt(t,u),f=i.value===a.value,m=j.useRef(!1);return j.useEffect(()=>{const p=g=>{gUe.includes(g.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),s.jsx(rF,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(uce,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:dt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:dt(a.onFocus,()=>{m.current&&u.current?.click()})})})});yce.displayName=vce;var bUe="RadioGroupIndicator",bce=j.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=gce(r);return s.jsx(fce,{...a,...n,ref:t})});bce.displayName=bUe;var wce=xce,_ce=yce,wUe=bce;const IL=j.forwardRef(({className:e,...t},r)=>s.jsx(wce,{className:ut("grid gap-2",e),...t,ref:r}));IL.displayName=wce.displayName;const Cy=j.forwardRef(({className:e,...t},r)=>s.jsx(_ce,{ref:r,className:ut("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(wUe,{className:"flex items-center justify-center",children:s.jsx(LJ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Cy.displayName=_ce.displayName;function _Ue(e){const{product:t,store:r,url:n,availability:a="InStock"}=e,i=t.base_price||t.basePrice,o=t.price_range||t.priceRange,l=t.sku||t.baseSku||t.id,c=t.images&&t.images.length>0?t.images[0]:null;return{"@context":"https://schema.org/","@type":"Product",name:t.name,description:t.description||`${t.name} available at ${r.name}`,sku:l,...c&&{image:t.images.filter(d=>d).map(d=>d.startsWith("http")?d:`${window.location.origin}${d}`)},...t.category&&{category:t.category},offers:{"@type":"Offer",url:n,priceCurrency:"USD",...i&&{price:i.toFixed(2)},...o&&!i&&{price:o},availability:`https://schema.org/${a}`,seller:{"@type":"Organization",name:r.name}}}}function jce(e){const{store:t,url:r,email:n}=e,a=t.seo_description||t.description,i=t.business_phone||t.whatsapp_number,o=t.business_email||n,l={"@context":"https://schema.org","@type":"Store",name:t.name,url:r,...a&&{description:a},...t.logo_url&&{image:t.logo_url.startsWith("http")?t.logo_url:`${window.location.origin}${t.logo_url}`},...i&&{telephone:i},...o&&{email:o}};if(t.alternate_names){const u=t.alternate_names.split(",").map(d=>d.trim()).filter(d=>d.length>0);u.length>0&&(l.alternateName=u)}t.street_address||t.city||t.state?l.address={"@type":"PostalAddress",...t.street_address&&{streetAddress:t.street_address},...t.city&&{addressLocality:t.city},...t.state&&{addressRegion:t.state},...t.postal_code&&{postalCode:t.postal_code},...t.country&&{addressCountry:t.country}}:t.address&&(l.address={"@type":"PostalAddress",streetAddress:t.address}),t.opening_hours&&(l.openingHours=t.opening_hours),t.price_range&&(l.priceRange=t.price_range);const c=[];return t.facebook_url&&c.push(t.facebook_url),t.instagram_url&&c.push(t.instagram_url),t.twitter_url&&c.push(t.twitter_url),t.social_links&&c.length===0&&(t.social_links.facebook&&c.push(t.social_links.facebook),t.social_links.instagram&&c.push(t.social_links.instagram),t.social_links.twitter&&c.push(t.social_links.twitter)),c.length>0&&(l.sameAs=c),l}function Nce(e){const{items:t}=e;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((n,a)=>({"@type":"ListItem",position:a+1,name:n.name,...n.url&&{item:n.url}}))}}function jUe(e){j.useEffect(()=>{if(!e)return;const{product:t,store:r,availability:n="InStock",email:a,breadcrumbs:i}=e,o=window.location.href,l=_Ue({product:t,store:r,url:o,availability:n}),c=jce({store:r,url:`${window.location.origin}/${r.slug}`,email:a}),u=document.createElement("script");u.id="product-schema",u.type="application/ld+json",u.textContent=JSON.stringify(l);const d=document.createElement("script");d.id="organization-schema",d.type="application/ld+json",d.textContent=JSON.stringify(c);const f=document.getElementById("product-schema"),m=document.getElementById("organization-schema");if(f&&f.remove(),m&&m.remove(),document.head.appendChild(u),document.head.appendChild(d),i&&i.length>0){const p=Nce({items:i}),y=document.createElement("script");y.id="breadcrumb-schema",y.type="application/ld+json",y.textContent=JSON.stringify(p);const g=document.getElementById("breadcrumb-schema");return g&&g.remove(),document.head.appendChild(y),()=>{const v=document.getElementById("breadcrumb-schema");v&&v.remove()}}return()=>{const p=document.getElementById("product-schema"),y=document.getElementById("organization-schema");p&&p.remove(),y&&y.remove()}},[e])}function NUe(e){j.useEffect(()=>{if(!e)return;const{store:t,email:r,breadcrumbs:n}=e,a=window.location.href,i=jce({store:t,url:a,email:r}),o=document.createElement("script");o.id="organization-schema",o.type="application/ld+json",o.textContent=JSON.stringify(i);const l=document.getElementById("organization-schema");if(l&&l.remove(),document.head.appendChild(o),n&&n.length>0){const c=Nce({items:n}),u=document.createElement("script");u.id="breadcrumb-schema",u.type="application/ld+json",u.textContent=JSON.stringify(c);const d=document.getElementById("breadcrumb-schema");return d&&d.remove(),document.head.appendChild(u),()=>{const f=document.getElementById("breadcrumb-schema");f&&f.remove()}}return()=>{const c=document.getElementById("organization-schema");c&&c.remove()}},[e])}const nA=({slug:e}={})=>{const t=sd(),r=t.productSlug||t.slug,n=xr(),{toast:a}=Ps(),{addToCart:i,triggerFlyAnimation:o}=u2(),[l,c]=j.useState(null),u=j.useRef(null),d=j.useRef(null),[f,m]=j.useState(""),[p,y]=j.useState(1),[g,v]=j.useState(0),[_,w]=j.useState(!0),[b,E]=j.useState(e),[S,C]=j.useState([]),[k,R]=j.useState(null),[P,O]=j.useState(null),[A,D]=j.useState(!1),F=Qc();if(j.useEffect(()=>{(async()=>{if(!r){n("/products");return}try{w(!0);let ae=await nke(r);if(!ae&&(ae=await Aj(r),ae&&ae.slug)){const be=Qc()?`/products/${ae.slug}`:b?`/${b}/products/${ae.slug}`:`/products/${ae.slug}`;n(be,{replace:!0});return}if(!ae){a({title:"Product not found",description:"This product doesn't exist or has been removed.",variant:"destructive"}),n("/products");return}c(ae);const oe=ae.store_id;if(oe){const{data:K}=await Q.from("stores").select("*").eq("id",oe).single();if(K){E(K.slug),R(K);const{data:fe}=await Q.from("profiles").select("phone, email").eq("user_id",K.user_id).maybeSingle();fe&&O(fe)}const pe=(await eb(oe)).filter(fe=>fe.id!==ae.id),Ee=pe.filter(fe=>fe.category===ae.category),Ae=Ee.length>0?Ee:pe;C(Ae)}}catch(ae){console.error("Error loading product:",ae),a({title:"Error",description:"Failed to load product details",variant:"destructive"}),n("/products")}finally{w(!1)}})()},[r,n,a,b,F]),j.useEffect(()=>{f&&d.current&&d.current.classList.remove("animate-pulse")},[f]),jUe(l&&k?{product:{id:l.id,name:l.name,description:l.description,images:l.images,base_price:l.base_price||l.basePrice,price_range:l.price_range||l.priceRange,sku:l.sku||l.baseSku,category:l.category,variants:l.variants,status:l.status},store:{id:k.id,name:k.name,slug:k.slug,description:k.description,logo_url:k.logo_url,address:k.address,whatsapp_number:k.whatsapp_number,social_links:k.social_links},availability:l.status==="published"?"InStock":"OutOfStock",email:P?.email,breadcrumbs:[{name:"Home",url:F?window.location.origin:`${window.location.origin}/${b}`},{name:"Products",url:F?`${window.location.origin}/products`:`${window.location.origin}/${b}/products`},{name:l.name,url:window.location.href}]}:null),_)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:b,storeId:l?.store_id||l?.storeId}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(ek,{size:"lg",text:"Loading product..."})}),k?s.jsx(kb,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:P?.phone,email:P?.email,address:k.address,facebookUrl:k.facebook_url,instagramUrl:k.instagram_url,twitterUrl:k.twitter_url,youtubeUrl:k.youtube_url,linkedinUrl:k.linkedin_url,socialLinks:k.social_links,policies:k.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]});if(!l)return null;const B=l.variants?.find(W=>W.name===f),q=l.variants&&l.variants.length>0&&!f,G=B?B.price:l.basePrice||l.base_price||0,Y=l.images&&l.images.length>0?l.images:["/placeholder.svg"],M=l.videoUrl||l.video_url,H=l.baseSku||l.sku,L=M?(W=>W.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||null)(M):null,J=L?`https://img.youtube.com/vi/${L}/hqdefault.jpg`:null,V=b?`/${b}`:"/home",X=b?`/${b}/products`:"/products",ne=W=>{y(Math.max(0,p+W))},se=()=>{if(!l)return;if(l.variants&&l.variants.length>0&&!f){a({title:"Please select a variant",description:"Redirecting to variant section...",variant:"destructive"}),setTimeout(()=>{d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"center"}),d.current.classList.add("animate-pulse"))},1e3);return}const W=l.store_id;if(!W){a({title:"Error",description:"Unable to add product to cart. Store information is missing.",variant:"destructive"});return}u.current&&o(Y[0],u.current),i({productId:l.id,productName:l.name,productImage:Y[0],variant:f||void 0,price:G,quantity:p,sku:B?.sku||H,storeId:W}),D(!0)},ue=()=>{navigator.share?navigator.share({title:l.name,text:`Check out ${l.name} on MyStore`,url:window.location.href}):(a({title:"Link copied",description:"Product link has been copied to clipboard"}),navigator.clipboard.writeText(window.location.href))};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(RL,{title:`${l.name} - ${k?.name||"Store"} | Buy Online`,description:l.description?.slice(0,160)||`Shop ${l.name} from ${k?.name}. ${B?`Price: ${B.price}`:l.base_price?`Starting from ${l.base_price}`:""}`,canonical:dUe(b||"",l.id,k?.subdomain,k?.custom_domain),image:Y[0],type:"product",price:B?.price||l.base_price,availability:l.status==="published"?"in stock":"out of stock",keywords:[l.name,l.category,k?.name||"store","buy online"]}),s.jsx(oo,{storeSlug:b,storeId:l.store_id||l.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 pb-32 md:pb-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(kt,{to:V,className:"hover:text-foreground",children:"Home"}),s.jsx(bf,{className:"w-4 h-4"}),s.jsx(kt,{to:X,className:"hover:text-foreground",children:"Products"}),s.jsx(bf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:l.name})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"lg:hidden mb-4",children:[s.jsxs(SL,{className:"w-full",opts:{loop:!0},children:[s.jsxs(kL,{children:[Y.map((W,ae)=>s.jsx(KN,{children:s.jsx(Se,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx(mf,{src:W,alt:Vv({productName:l.name,category:l.category,imageIndex:ae}),className:"w-full h-full object-contain"})})})})},ae)),M&&s.jsx(KN,{children:s.jsx(Se,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${M.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||M}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})},"video")]}),(Y.length>1||M)&&s.jsxs(s.Fragment,{children:[s.jsx(CL,{className:"left-2"}),s.jsx(EL,{className:"right-2"})]})]}),(Y.length>1||M)&&s.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[Y.map((W,ae)=>s.jsx("button",{onClick:()=>v(ae),className:`w-2 h-2 rounded-full transition-colors ${g===ae?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":`View image ${ae+1}`},ae)),M&&s.jsx("button",{onClick:()=>v(Y.length),className:`w-2 h-2 rounded-full transition-colors ${g===Y.length?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":"View video"},"video-dot")]})]}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsx(Se,{className:"overflow-hidden mb-4",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{ref:u,className:"aspect-square bg-muted",children:g<Y.length?s.jsx(mf,{src:Y[g],alt:Vv({productName:l.name,category:l.category,imageIndex:g}),className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${M?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||M}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})}),(Y.length>1||M)&&s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[Y.map((W,ae)=>s.jsx("button",{onClick:()=>v(ae),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] ${g===ae?"border-primary":"border-transparent hover:border-border"}`,children:s.jsx(mf,{src:W,alt:Vv({productName:l.name,category:l.category,imageIndex:ae}),className:"w-full h-full object-contain"})},ae)),M&&J&&s.jsxs("button",{onClick:()=>v(Y.length),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] relative ${g===Y.length?"border-primary":"border-transparent hover:border-border"}`,children:[s.jsx("img",{src:J,alt:`${l.name} - Product video`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]},"video-thumb")]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(jt,{variant:"secondary",className:"mb-2",children:l.category}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:l.name}),s.jsx("p",{className:"text-muted-foreground",children:l.description})]}),l.variants&&l.variants.length>0?s.jsx(Se,{ref:d,className:`mb-6 ${f?"":"ring-2 ring-primary/50 ring-offset-2"}`,children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(ke,{className:"text-base font-semibold",children:["Select Variant ",!f&&s.jsx("span",{className:"text-destructive",children:"*"})]}),!f&&s.jsx(jt,{variant:"destructive",className:"text-xs",children:"Required"})]}),s.jsx(IL,{value:f,onValueChange:m,children:s.jsx("div",{className:"space-y-3",children:l.variants.map(W=>s.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${f===W.name?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent"}`,onClick:()=>m(W.name),children:[s.jsx(Cy,{value:W.name,id:W.name,className:"min-w-[20px] min-h-[20px]"}),s.jsx(ke,{htmlFor:W.name,className:"flex-1 cursor-pointer font-normal",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:W.name}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["",W.price]})]})})]},W.name))})}),f?s.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected: ",f," - ",G]})}):s.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please select a variant to continue"]})})]})}):s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-3xl font-bold text-primary",children:l.price_range||l.priceRange||`${l.basePrice||l.base_price||0}`})}),s.jsxs("div",{className:"mb-6",children:[s.jsx(ke,{className:"text-base font-semibold mb-3 block",children:"Quantity"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx(ie,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>ne(-1),disabled:p<=1||q,children:s.jsx(UJ,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-16 text-center font-semibold text-lg",children:p}),s.jsx(ie,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>ne(1),disabled:q,children:s.jsx(Wi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",s.jsx("span",{className:"text-lg font-bold text-foreground",children:q?"":`${(G*p).toFixed(2)}`})]})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 hidden md:block",children:[s.jsxs(ie,{onClick:se,className:"w-full min-h-[48px]",size:"lg",disabled:p===0,children:[s.jsx(jf,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),s.jsxs(ie,{onClick:ue,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Pg,{className:"w-4 h-4 mr-2"}),"Share Product"]})]}),s.jsx("div",{className:"mb-6 md:hidden",children:s.jsxs(ie,{onClick:ue,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Pg,{className:"w-4 h-4 mr-2"}),"Share Product"]})}),s.jsx(Se,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Product Details"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Category:"}),s.jsx("dd",{className:"font-medium",children:l.category})]}),H&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"SKU:"}),s.jsx("dd",{className:"font-medium",children:H})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Availability:"}),s.jsx("dd",{className:"font-medium text-success",children:"In Stock"})]})]})]})})]})]}),S.length>0&&s.jsxs("div",{className:"mt-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"More Products"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map(W=>s.jsx(N0,{id:W.id,slug:W.slug,name:W.name,category:W.category,priceRange:W.price_range,images:W.images,status:W.status,storeSlug:F?void 0:b},W.id))})]})]}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background border-t border-border shadow-lg z-50 safe-area-inset-bottom",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:q?"Select variant":l.variants&&l.variants.length>0&&f?`${f}`:l.name}),s.jsx("p",{className:"text-lg font-bold text-primary",children:q?"":`${(G*p).toFixed(2)}`})]}),s.jsxs(ie,{onClick:se,size:"lg",className:"min-h-[48px] px-6 font-semibold",disabled:p===0,children:[s.jsx(jf,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-end sm:items-center justify-center p-4",onClick:()=>D(!1),children:s.jsxs("div",{className:"bg-background rounded-t-2xl sm:rounded-2xl w-full max-w-md p-6 space-y-4 animate-in slide-in-from-bottom sm:slide-in-from-bottom-0 duration-300",onClick:W=>W.stopPropagation(),children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:Y[0],alt:Vv({productName:l.name,category:l.category,imageIndex:0}),className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate",children:l.name}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",f]}),s.jsxs("p",{className:"text-sm font-medium text-primary",children:["",G,"  ",p]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),s.jsx("span",{className:"font-semibold",children:p})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",(G*p).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-green-600 dark:text-green-400",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-950 flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"font-semibold",children:"Added to cart"})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx(ie,{onClick:()=>{D(!1),n(F?"/cart":`/${b}/cart`)},className:"w-full min-h-[48px] font-semibold",children:"View Cart"}),s.jsx(ie,{onClick:()=>D(!1),variant:"outline",className:"w-full min-h-[48px]",children:"Continue Shopping"})]})]})}),k?s.jsx(kb,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:P?.phone,email:P?.email,address:k.address,facebookUrl:k.facebook_url,instagramUrl:k.instagram_url,twitterUrl:k.twitter_url,youtubeUrl:k.youtube_url,linkedinUrl:k.linkedin_url,socialLinks:k.social_links,policies:k.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})},sA=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,{cart:n,cartTotal:a,updateQuantity:i,removeItem:o}=u2(),[l,c]=j.useState(r),u=Qc();j.useEffect(()=>{r?c(r):n.length>0&&n[0].storeId&&(async()=>{const{data:y}=await Q.from("stores").select("slug").eq("id",n[0].storeId).maybeSingle();y&&c(y.slug)})()},[r,n]);const d=u?"/":l?`/${l}`:"/home",f=u?"/products":l?`/${l}/products`:"/products",m=u?"/checkout":l?`/${l}/checkout`:"/checkout";return n.length===0?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:l,storeId:n[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(wR,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to your cart to see them here"}),s.jsx(kt,{to:f,children:s.jsx(ie,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Du,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:l,storeId:n[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(kt,{to:d,className:"hover:text-foreground",children:"Home"}),s.jsx(bf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Shopping Cart"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Shopping Cart"}),s.jsx("div",{className:"space-y-4",children:n.map(p=>s.jsx(Se,{children:s.jsx(Te,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(mf,{src:p.productImage,alt:p.productName,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:p.productName}),p.variant&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",p.variant]}),p.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",p.sku]})]}),s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>o(p.productId,p.variant),children:s.jsx(La,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg w-fit",children:[s.jsx(ie,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity-1),disabled:p.quantity<=1,children:s.jsx(UJ,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-14 text-center font-semibold text-lg",children:p.quantity}),s.jsx(ie,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity+1),children:s.jsx(Wi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",p.price," each"]}),s.jsxs("p",{className:"text-xl font-bold text-primary",children:["",p.price*p.quantity]})]})]})]})]})})},`${p.productId}-${p.variant}`))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Se,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsxs("span",{children:["Subtotal (",n.reduce((p,y)=>p+y.quantity,0)," items)"]}),s.jsxs("span",{children:["",a]})]}),s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]}),s.jsxs("div",{className:"border-t border-border pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",a]})]})]}),s.jsx(ie,{asChild:!0,className:"w-full min-h-[48px]",size:"lg",children:s.jsx(kt,{to:m,children:"Proceed to Checkout"})}),s.jsx(ie,{asChild:!0,variant:"outline",className:"w-full min-h-[44px] mt-3",children:s.jsx(kt,{to:f,children:"Continue Shopping"})})]})})})]})]}),s.jsx(Du,{})]})};function SUe({onLocationSelect:e,enabled:t=!0}){const[r,n]=j.useState(!1),a=()=>{if(!t){Me({title:"Feature Not Available",description:"Location sharing is not enabled in your current subscription plan",variant:"destructive"});return}if(!navigator.geolocation){Me({title:"Not Supported",description:"Geolocation is not supported by your browser",variant:"destructive"});return}n(!0),navigator.geolocation.getCurrentPosition(i=>{const{latitude:o,longitude:l}=i.coords;e(o,l),Me({title:"Location Captured",description:"Your location has been added to the order"}),n(!1)},i=>{let o="Failed to get location";i.code===i.PERMISSION_DENIED&&(o="Location permission denied. Please enable location access in your browser settings."),Me({title:"Location Error",description:o,variant:"destructive"}),n(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return t?s.jsx(ie,{type:"button",variant:"outline",onClick:a,disabled:r,className:"w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Location..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_f,{className:"h-4 w-4 mr-2"}),"Share My Current Location"]})}):null}const kUe=()=>new Promise(e=>{if(window.Razorpay){e(!0);return}const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!1,t.onload=()=>e(!0),t.onerror=()=>e(!1),document.head.appendChild(t)}),CUe=async(e,t,r)=>{try{const{data:n,error:a}=await Q.functions.invoke("create-razorpay-order",{body:{amount:Math.round(e*100),currency:t,storeId:r}});if(a)throw a;return!n.orderId||!n.orderId.startsWith("order_")?(console.error("Invalid Razorpay order ID:",n.orderId),{orderId:"",error:"Invalid order ID format"}):(console.log(" Razorpay order created:",n.orderId),{orderId:n.orderId})}catch(n){return console.error("Error creating Razorpay order:",n),{orderId:"",error:n.message||"Failed to create order"}}},EUe=async(e,t,r)=>{try{if(!await kUe())return{success:!1,error:"Failed to load Razorpay SDK"};if(!e.orderId||!e.orderId.startsWith("order_"))return console.error("CRITICAL ERROR: Invalid Razorpay Order ID format:",e.orderId),{success:!1,error:"Invalid Order ID. Please try again."};console.log(" Opening Razorpay with order_id:",e.orderId);const a={key:t.key_id,amount:Math.round(e.amount*100),currency:e.currency,name:"Your Store Name",description:`Order #${e.orderNumber}`,order_id:String(e.orderId),prefill:{name:e.customerName,email:e.customerEmail||"",contact:e.customerPhone},theme:{color:"#3b82f6"},handler:function(o){console.log(" Razorpay handler response:",o),console.log("razorpay_payment_id:",o.razorpay_payment_id),console.log("razorpay_order_id:",o.razorpay_order_id),console.log("razorpay_signature:",o.razorpay_signature),r.onSuccess(o)},modal:{ondismiss:function(){r.onDismiss&&r.onDismiss()}}},i=new window.Razorpay(a);return i.on("payment.failed",function(o){r.onFailure({code:o.error.code,description:o.error.description,reason:o.error.reason})}),i.open(),{success:!0}}catch(n){return console.error("Razorpay checkout error:",n),{success:!1,error:n.message||"Payment failed"}}},TUe=async(e,t,r,n)=>{try{const{data:a,error:i}=await Q.functions.invoke("verify-razorpay-payment",{body:{razorpay_order_id:e,razorpay_payment_id:t,razorpay_signature:r,storeId:n}});if(i)throw i;return{verified:a.verified}}catch(a){return console.error("Error verifying Razorpay payment:",a),{verified:!1,error:a.message}}},AUe=async(e,t)=>{try{const{data:r,error:n}=await Q.functions.invoke("create-phonepe-payment",{body:{amount:Math.round(e.amount*100),orderId:e.orderNumber,dbOrderId:e.orderId,customerName:e.customerName,customerPhone:e.customerPhone,customerEmail:e.customerEmail,storeId:t}});if(n)throw n;return r.paymentUrl?(window.location.href=r.paymentUrl,{success:!0,gatewayOrderId:r.merchantTransactionId}):{success:!1,error:"No payment URL received"}}catch(r){return console.error("PhonePe payment error:",r),{success:!1,error:r.message||"Failed to initiate PhonePe payment"}}},PUe=(e,t)=>{const r=[];return e.razorpay?.enabled&&e.razorpay.key_id&&r.push({id:"razorpay",name:"Razorpay",icon:"",color:"bg-blue-500",enabled:!0}),e.phonepe?.enabled&&e.phonepe.merchant_id&&r.push({id:"phonepe",name:"PhonePe",icon:"",color:"bg-purple-500",enabled:!0}),e.cashfree?.enabled&&e.cashfree.app_id&&r.push({id:"cashfree",name:"Cashfree",icon:"",color:"bg-green-500",enabled:!0}),e.payu?.enabled&&e.payu.merchant_key&&r.push({id:"payu",name:"PayU",icon:"",color:"bg-orange-500",enabled:!0}),e.paytm?.enabled&&e.paytm.merchant_id&&r.push({id:"paytm",name:"Paytm",icon:"",color:"bg-sky-500",enabled:!0}),e.stripe?.enabled&&e.stripe.publishable_key&&r.push({id:"stripe",name:"Stripe",icon:"",color:"bg-indigo-500",enabled:!0}),(t==="online_and_cod"||r.length===0)&&r.push({id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}),r},OUe=Zm({fullName:Kr().trim().min(2,"Name must be at least 2 characters").max(100),phone:Kr().trim().regex(/^[6-9]\d{9}$/,"Enter a valid 10-digit phone number"),email:Kr().trim().email("Invalid email address").optional().or(sEe("")),address:Kr().trim().min(10,"Address must be at least 10 characters").max(200),landmark:Kr().trim().max(100).optional(),pincode:Kr().trim().regex(/^\d{6}$/,"Enter a valid 6-digit PIN code"),deliveryTime:BF(["morning","evening","anytime"],{required_error:"Please select a delivery time"})}),aA=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,n=xr(),{cart:a,cartTotal:i,clearCart:o}=u2(),{toast:l}=Ps(),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[m,p]=j.useState(!1),[y,g]=j.useState(null),[v,_]=j.useState(null),[w,b]=j.useState(!1),E=j.useRef(null),[S,C]=j.useState(!0),[k,R]=j.useState(r),[P,O]=j.useState(!1),[A,D]=j.useState(null),[F,B]=j.useState([]),[z,q]=j.useState(""),[G,Y]=j.useState("online_and_cod"),[M,H]=j.useState({}),[Z,L]=j.useState(!1),J=Pw({resolver:Ow(OUe),defaultValues:{fullName:"",phone:"",email:"",address:"",landmark:"",pincode:"",deliveryTime:"anytime"}}),V=async()=>{try{if(a.length===0)return;const be=a[0].storeId,{data:pe}=await Q.from("stores").select("payment_mode, payment_gateway_credentials").eq("id",be).maybeSingle();if(pe){const Ee=pe.payment_mode||"online_and_cod",Ae=pe.payment_gateway_credentials||{};Y(Ee),H(Ae);const fe=PUe(Ae,Ee);B(fe),fe.length>0&&q(fe[0].id)}}catch(be){console.error("Error loading payment settings:",be),B([{id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}]),q("cod")}},X=async be=>{try{L(!0);const pe=a[0]?.storeId;if(!pe||!M.razorpay?.key_id)throw new Error("Payment configuration error");const{orderId:Ee,error:Ae}=await CUe(be.amount,be.currency,pe);if(Ae)throw new Error(Ae);const fe=await EUe({...be,orderId:Ee},{key_id:M.razorpay.key_id},{onSuccess:async Je=>{console.log("Razorpay Success Response:",Je);const Ye=new URLSearchParams({gateway:"razorpay",orderId:be.orderId,storeId:pe,paymentId:Je.razorpay_payment_id,razorpayOrderId:Je.razorpay_order_id,signature:Je.razorpay_signature,storeSlug:k||""});o(),L(!1),window.location.href=`/payment-success?${Ye.toString()}`},onFailure:Je=>{l({title:"Payment failed",description:Je.description||"Please try again.",variant:"destructive"}),L(!1)},onDismiss:()=>{L(!1)}});if(!fe.success&&fe.error)throw new Error(fe.error)}catch(pe){console.error("Razorpay payment error:",pe),l({title:"Payment failed",description:pe.message||"Failed to process payment. Please try again.",variant:"destructive"}),L(!1)}},ne=async be=>{try{L(!0);const pe=a[0]?.storeId;if(!pe)throw new Error("Payment configuration error");await Q.from("orders").update({payment_status:"pending",payment_gateway:"phonepe"}).eq("id",be.orderId);const Ee=await AUe(be,pe);if(!Ee.success)throw new Error(Ee.error||"Failed to initiate PhonePe payment")}catch(pe){console.error("PhonePe payment error:",pe),l({title:"Payment failed",description:pe.message||"Failed to process payment. Please try again.",variant:"destructive"}),L(!1)}};j.useEffect(()=>{ue(),se(),V(),r?R(r):a.length>0&&a[0].storeId&&(async()=>{const{data:pe}=await Q.from("stores").select("slug").eq("id",a[0].storeId).maybeSingle();pe&&R(pe.slug)})()},[r,a]);const se=async()=>{try{if(C(!0),a.length===0){C(!1);return}const be=a[0]?.storeId;if(!be||be.trim()===""){console.error("Cart storeId is invalid:",be),_("Unable to process your order. Please clear your cart and add products again from the store."),C(!1);return}const{data:pe}=await Q.from("stores").select("id, user_id, whatsapp_number").eq("id",be).maybeSingle();if(!pe){_("Store not found."),C(!1);return}const{data:Ee}=await Q.from("subscriptions").select(`
          status,
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          subscription_plans (
            name,
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",pe.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Ae=Ee&&Ee.length>0?Ee[0]:null;if(!Ae){_("This store has no active subscription. Orders are currently unavailable."),C(!1);return}if(!["active","trial"].includes(Ae.status)){_("This store's subscription is not active. Orders are currently unavailable."),C(!1);return}const fe=new Date,Je=Ae.current_period_end?new Date(Ae.current_period_end):null;if(Je&&Je<fe){_("This store's subscription has expired. Orders are currently unavailable."),C(!1);return}if(Ae.subscription_plans){const Ye=Ae.subscription_plans.whatsapp_orders_limit,ce=Ae.whatsapp_orders_used||0,we=Ae.subscription_plans.website_orders_limit,Oe=Ae.website_orders_used||0;if(Ye===null&&we===null){_("Ordering is not available in this store's plan."),C(!1);return}const He=Ye!==null&&(Ye===0||ce<Ye),Ge=we!==null&&(we===0||Oe<we);if(!He&&!Ge){const Ne=Ye!==null?"whatsapp":"website",ee=Ne==="whatsapp"?ce:Oe,_e=Ne==="whatsapp"?Ye:we;D({planName:Ae.subscription_plans.name||"Current Plan",ordersUsed:ee,ordersLimit:_e||0,storeWhatsApp:pe.whatsapp_number}),O(!0),C(!1);return}}_(null),C(!1)}catch(be){console.error("Error checking subscription:",be),_("Unable to verify store subscription. Please try again later."),C(!1)}},ue=async()=>{try{if(a.length>0&&a[0].storeId){const be=a[0].storeId,{data:pe}=await Q.from("stores").select("id, user_id, force_location_sharing").eq("id",be).maybeSingle();if(!pe){f(!0),p(!1),console.log("No store found, enabling location by default");return}const{data:Ee}=await Q.from("subscriptions").select("plan_id, subscription_plans(enable_location_sharing)").eq("user_id",pe.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),fe=(Ee&&Ee.length>0?Ee[0]:null)?.subscription_plans?.enable_location_sharing||!1,Je=pe.force_location_sharing||!1;f(fe),p(Je),console.log("Location feature enabled:",fe,"forced:",Je,"for store:",pe.id)}else f(!1)}catch(be){console.error("Error checking location feature:",be),f(!1)}},W=(be,pe)=>{g({latitude:be,longitude:pe}),b(!1)};if(S)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx("div",{className:"max-w-md mx-auto text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Checking availability..."})})}),s.jsx(Du,{})]});if(v)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(wR,{className:"w-24 h-24 mx-auto mb-6 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Orders Unavailable"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:v}),s.jsx(kt,{to:k?`/${k}`:"/home",children:s.jsx(ie,{size:"lg",children:"Back to Home"})})]})}),s.jsx(Du,{})]});if(a.length===0)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(wR,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to proceed to checkout"}),s.jsx(kt,{to:k?`/${k}/products`:"/products",children:s.jsx(ie,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Du,{})]});const ae=async be=>{if(u(!0),m&&!y){E.current?.scrollIntoView({behavior:"smooth",block:"center"}),b(!0),u(!1);return}const pe={morning:"Morning (9 AM - 12 PM)",evening:"Evening (4 PM - 7 PM)",anytime:"Anytime"}[be.deliveryTime];try{const Ee=a[0]?.storeId;if(!Ee||Ee.trim()===""){l({title:"Cart Error",description:"Your cart contains invalid items. Please clear your cart and add products again.",variant:"destructive"}),u(!1);return}const{data:Ae}=await Q.from("stores").select("id, user_id").eq("id",Ee).maybeSingle();if(!Ae)throw new Error("Store not found");const{data:fe}=await Q.from("subscriptions").select(`
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          status,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",Ae.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Je=fe&&fe.length>0?fe[0]:null;if(Je){const He=new Date,Ge=Je.current_period_end?new Date(Je.current_period_end):null;if(Ge&&Ge<He)throw new Error("Your subscription has expired. Please upgrade your plan to continue accepting orders.");const Ne=z!=="cod";if(Je?.subscription_plans)if(Ne){const ee=Je.subscription_plans.website_orders_limit,_e=Je.website_orders_used||0;if(ee===null)throw new Error("Online ordering is not available in your current plan.");if(ee>0&&_e>=ee)throw new Error("Website order limit reached for this month. Please contact the store or try COD.")}else{const ee=Je.subscription_plans.whatsapp_orders_limit,_e=Je.whatsapp_orders_used||0;if(ee===null)throw new Error("WhatsApp ordering is not available in your current plan.");if(ee>0&&_e>=ee)throw new Error("WhatsApp order limit reached for this month. Please try online payment.")}}const Ye=`ORD${Date.now().toString().slice(-8)}`,ce={store_id:Ae.id,order_number:Ye,customer_name:be.fullName,customer_phone:be.phone,customer_email:be.email||null,delivery_address:be.address,delivery_landmark:be.landmark||null,delivery_pincode:be.pincode,delivery_time:pe,delivery_latitude:y?.latitude||null,delivery_longitude:y?.longitude||null,items:a,subtotal:i,delivery_charge:0,total:i,status:"new",payment_method:z,payment_status:"pending",payment_gateway:z==="cod"?"cod":z},{data:we,error:Oe}=await Q.from("orders").insert(ce).select("id").single();if(Oe)throw Oe;if(z==="razorpay")await X({orderId:we.id,orderNumber:Ye,customerName:be.fullName,customerEmail:be.email,customerPhone:be.phone,amount:i,currency:"INR"});else if(z==="phonepe")await ne({orderId:we.id,orderNumber:Ye,customerName:be.fullName,customerEmail:be.email,customerPhone:be.phone,amount:i,currency:"INR"});else{const He={customerName:be.fullName,phone:be.phone,email:be.email||void 0,address:be.address,landmark:be.landmark||void 0,pincode:be.pincode,deliveryTime:pe,latitude:y?.latitude,longitude:y?.longitude,cart:a,subtotal:i,deliveryCharge:0,total:i},Ge=Zie(He),Ne=await Qie(Ge,void 0,Ee);if(!Ne.success){l({title:"WhatsApp Not Configured",description:Ne.error,variant:"destructive"}),u(!1);return}l({title:"Order placed successfully!",description:"We'll contact you shortly on WhatsApp to confirm your order."}),o(),setTimeout(()=>{n(k?`/${k}`:"/home")},2e3)}u(!1)}catch(Ee){console.error("Checkout error:",Ee),l({title:"Order failed",description:Ee.message||"Failed to place order. Please try again.",variant:"destructive"}),u(!1)}},oe=k?`/${k}`:"/home",K=k?`/${k}/cart`:"/cart";return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(kt,{to:oe,className:"hover:text-foreground",children:"Home"}),s.jsx(bf,{className:"w-4 h-4"}),s.jsx(kt,{to:K,className:"hover:text-foreground",children:"Cart"}),s.jsx(bf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Checkout"})]}),s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Rw,{...J,children:s.jsxs("form",{onSubmit:J.handleSubmit(ae),className:"space-y-6",children:[s.jsx(Se,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(cr,{control:J.control,name:"fullName",render:({field:be})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Full Name *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Enter your full name",...be})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:J.control,name:"phone",render:({field:be})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Phone Number *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"10-digit mobile number",...be})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:J.control,name:"email",render:({field:be})=>s.jsxs(or,{className:"md:col-span-2",children:[s.jsx(ur,{children:"Email (Optional)"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"your.email@example.com",...be})}),s.jsx(Dr,{})]})})]})]})}),s.jsx(Se,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(cr,{control:J.control,name:"address",render:({field:be})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Complete Address *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"House/Flat No., Street, Area",...be})}),s.jsx(Dr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(cr,{control:J.control,name:"landmark",render:({field:be})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Landmark (Optional)"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Nearby location",...be})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:J.control,name:"pincode",render:({field:be})=>s.jsxs(or,{children:[s.jsx(ur,{children:"PIN Code *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"6-digit PIN code",...be})}),s.jsx(Dr,{})]})})]}),s.jsx(cr,{control:J.control,name:"deliveryTime",render:({field:be})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Preferred Delivery Time *"}),s.jsx(lr,{children:s.jsxs(IL,{onValueChange:be.onChange,defaultValue:be.value,className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Cy,{value:"morning",id:"morning"}),s.jsx(ke,{htmlFor:"morning",className:"flex-1 cursor-pointer font-normal",children:"Morning (9 AM - 12 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Cy,{value:"evening",id:"evening"}),s.jsx(ke,{htmlFor:"evening",className:"flex-1 cursor-pointer font-normal",children:"Evening (4 PM - 7 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Cy,{value:"anytime",id:"anytime"}),s.jsx(ke,{htmlFor:"anytime",className:"flex-1 cursor-pointer font-normal",children:"Anytime"})]})]})}),s.jsx(Dr,{})]})}),d&&s.jsxs("div",{ref:E,className:`space-y-3 p-4 rounded-lg border transition-all duration-300 ${m&&!y?"animate-pulse-border":""} ${w?"animate-attention-shake border-destructive bg-destructive/5 shadow-lg shadow-destructive/20":"bg-card/50 backdrop-blur-sm hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{className:"text-base font-medium",children:"Share Your Location"}),m?s.jsx(ku.span,{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full bg-primary/10 text-primary border border-primary/20",initial:{scale:0,x:-10},animate:{scale:1,x:0},transition:{type:"spring",stiffness:500,damping:15},children:"Required"}):s.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-muted text-muted-foreground",children:"Optional"})]}),m&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"We need your location for accurate delivery"]}),s.jsx(SUe,{onLocationSelect:W,enabled:d}),s.jsx(ez,{mode:"wait",children:y&&s.jsxs(ku.div,{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-950/30 px-3 py-2 rounded-md",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:500,damping:25},children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Location captured successfully"]})}),s.jsx(ez,{children:w&&!y&&s.jsxs(ku.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 text-sm text-destructive bg-destructive/10 px-3 py-2 rounded-md border border-destructive/20",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Please share your location to continue - it's required for delivery"]})})]})]})]})}),s.jsx(Se,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),F.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"Loading payment options..."})}):s.jsx("div",{className:"space-y-3",children:F.map(be=>s.jsxs(ku.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.01},whileTap:{scale:.99},className:`relative cursor-pointer rounded-xl border-2 transition-all duration-300 overflow-hidden ${z===be.id?"border-primary bg-gradient-to-br from-primary/10 via-primary/5 to-transparent shadow-lg shadow-primary/20":"border-border hover:border-primary/40 bg-card hover:shadow-md"}`,onClick:()=>q(be.id),children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 sm:p-5",children:[s.jsxs("div",{className:`relative w-14 h-14 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md transition-transform duration-300 ${z===be.id?"scale-105":""} ${be.color}`,children:[be.id==="razorpay"&&s.jsx(ss,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),be.id==="phonepe"&&s.jsx(_R,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),be.id==="cod"&&s.jsx(LB,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-lg tracking-tight",children:[be.id==="razorpay"&&"Paynow",be.id==="phonepe"&&"Paynow",be.id==="cod"&&"Cash on Delivery"]}),(be.id==="razorpay"||be.id==="phonepe")&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure"]})]}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground leading-tight",children:[be.id==="razorpay"&&"Pay with cards, UPI, net banking & wallets",be.id==="phonepe"&&"Pay with UPI, cards & bank accounts",be.id==="cod"&&"Pay cash when your order arrives"]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${z===be.id?"border-primary bg-primary shadow-md":"border-muted-foreground/30 hover:border-primary/50"}`,children:z===be.id&&s.jsx(ku.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:20},className:"w-3 h-3 rounded-full bg-white"})})})]}),z===be.id&&s.jsx(ku.div,{layoutId:"payment-indicator",className:"absolute inset-0 rounded-xl border-2 border-primary pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:500,damping:30}})]},be.id))}),z&&s.jsx(ku.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-accent/50 rounded-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 text-primary flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsxs("span",{className:"text-muted-foreground",children:[z==="cod"&&"No advance payment required. Pay cash when your order is delivered.",(z==="razorpay"||z==="phonepe")&&"Your payment is secure and encrypted. Complete payment to confirm your order."]})]})})]})}),s.jsx(ie,{type:"submit",size:"lg",className:"w-full md:w-auto",disabled:c||Z,children:Z?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):s.jsx(s.Fragment,{children:z==="cod"?s.jsxs(s.Fragment,{children:[s.jsx(Ag,{className:"w-5 h-5 mr-2"}),"Place Order via WhatsApp"]}):s.jsxs(s.Fragment,{children:[s.jsx(ss,{className:"w-5 h-5 mr-2"}),"Proceed to Payment"]})})})]})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Se,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:a.map(be=>s.jsxs("div",{className:"flex gap-3 pb-3 border-b border-border last:border-0",children:[s.jsx("img",{src:be.productImage,alt:be.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:be.productName}),be.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:be.variant}),s.jsxs("p",{className:"text-sm font-semibold text-primary",children:["",be.price,"  ",be.quantity]})]})]},`${be.productId}-${be.variant}`))}),s.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",a.reduce((be,pe)=>be+pe.quantity,0)," items)"]}),s.jsxs("span",{children:["",i]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",i]})]}),s.jsx("div",{className:"bg-accent p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[z==="razorpay"&&s.jsxs(s.Fragment,{children:[s.jsx(ss,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via Razorpay"})]}),z==="phonepe"&&s.jsxs(s.Fragment,{children:[s.jsx(_R,{className:"w-4 h-4 text-purple-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via PhonePe"})]}),z==="cod"&&s.jsxs(s.Fragment,{children:[s.jsx(LB,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash on Delivery"})]}),!z&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select payment method"})]})})]})})})]})]}),s.jsx(Du,{}),s.jsx(Tn,{open:P,onOpenChange:O,children:s.jsxs(jn,{className:"sm:max-w-md",children:[s.jsxs(An,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(ra,{className:"h-5 w-5"}),s.jsx(Pn,{children:"Order Limit Reached"})]}),s.jsxs(Ns,{className:"pt-3 space-y-3",children:[s.jsx("p",{className:"text-base",children:"This store has reached its monthly order limit"}),A&&s.jsxs("div",{className:"bg-accent p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"font-semibold",children:A.planName})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Orders Used:"}),s.jsxs("span",{className:"font-semibold",children:[A.ordersUsed," of ",A.ordersLimit]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The store owner needs to upgrade their plan to accept more orders."})]})]}),s.jsxs(Ra,{className:"flex-col sm:flex-row gap-2",children:[A?.storeWhatsApp&&s.jsxs(ie,{onClick:()=>{window.open(`https://wa.me/${A.storeWhatsApp}`,"_blank")},variant:"default",className:"w-full sm:w-auto",children:[s.jsx(Ag,{className:"h-4 w-4 mr-2"}),"Contact Store Owner"]}),s.jsx(ie,{onClick:()=>{O(!1),n(k?`/${k}`:"/")},variant:"outline",className:"w-full sm:w-auto",children:"Back to Store"})]})]})}),s.jsx("style",{children:`
        @keyframes pulse-border {
          0%, 100% { border-color: hsl(var(--border)); }
          50% { border-color: hsl(var(--primary) / 0.5); }
        }

        @keyframes attention-shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
          20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .animate-pulse-border {
          animation: pulse-border 2s ease-in-out infinite;
        }

        .animate-attention-shake {
          animation: attention-shake 0.6s ease-in-out;
        }
      `})]})};function iA(){const[e]=gw(),t=xr(),[r,n]=j.useState("verifying"),[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState(""),[m,p]=j.useState(""),[y,g]=j.useState(!1),[v,_]=j.useState(!1),w=j.useRef(!1),b=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),E=async(k,R)=>{if(!w.current){w.current=!0;try{if(!await Jie(R)){_(!0);return}const O=await BN(R),A=UN(O),D=encodeURIComponent(k);if(b){const F=/Android/i.test(navigator.userAgent),B=/iPhone|iPad|iPod/i.test(navigator.userAgent);if(F){const z=`intent://send/${A}#Intent;scheme=whatsapp;package=com.whatsapp;action=android.intent.action.SENDTO;S.android.intent.extra.TEXT=${D};end`;try{window.location.href=z}catch{window.location.href=`whatsapp://send?phone=${A}&text=${D}`}}else B?window.location.href=`whatsapp://send?phone=${A}&text=${D}`:window.location.href=`whatsapp://send?phone=${A}&text=${D}`;g(!0),setTimeout(()=>{_(!0)},3e3)}else{const F=`https://wa.me/${A}?text=${D}`;window.open(F,"_blank","noopener,noreferrer"),g(!0),_(!0)}}catch(P){console.error("WhatsApp auto-open error:",P),_(!0)}}};j.useEffect(()=>{(async()=>{const R=e.get("gateway"),P=e.get("orderId"),O=e.get("storeId"),A=e.get("storeSlug");if(f(O||""),p(A||""),!R||!P||!O){n("failed");return}try{let D=!1,F="";if(R==="razorpay"){const G=e.get("razorpayOrderId"),Y=e.get("paymentId"),M=e.get("signature");if(!G||!Y||!M)throw new Error("Missing Razorpay payment details");D=(await TUe(G,Y,M,O)).verified,F=Y,D&&await Q.from("orders").update({payment_status:"completed",payment_id:Y,payment_gateway:"razorpay",gateway_order_id:G,payment_response:{razorpay_payment_id:Y,razorpay_order_id:G,razorpay_signature:M}}).eq("id",P)}if(!D){n("failed");return}const{data:B,error:z}=await Q.from("orders").select("*").eq("id",P).single();if(z||!B)throw new Error("Failed to fetch order details");const q=Zie({customerName:B.customer_name,phone:B.customer_phone,email:B.customer_email,address:B.delivery_address,landmark:B.delivery_landmark,pincode:B.delivery_pincode,deliveryTime:B.delivery_time,latitude:B.delivery_latitude,longitude:B.delivery_longitude,cart:B.items,subtotal:B.subtotal,deliveryCharge:B.delivery_charge||0,total:B.total,paymentMethod:"online",paymentGateway:"Razorpay",transactionId:F,orderNumber:B.order_number});u(q),i(B.order_number),l(F),n("success"),setTimeout(()=>{E(q,O)},500)}catch(D){console.error("Payment processing error:",D),n("failed")}})()},[e]);const S=async()=>{if(!c||!d)return;const k=await BN(d),R=UN(k),P=encodeURIComponent(c);b?window.location.href=`whatsapp://send?phone=${R}&text=${P}`:window.open(`https://wa.me/${R}?text=${P}`,"_blank")},C=()=>{t(m?`/${m}`:"/home")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[r==="verifying"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx(Jt,{className:"h-20 w-20 text-blue-600 mx-auto animate-spin mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Payment"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your payment..."})]}),r==="success"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-white mb-4",children:s.jsx(gs,{className:"h-12 w-12 text-amber-600"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Payment Received"}),s.jsx("p",{className:"text-amber-100 text-lg",children:"Confirm on WhatsApp to complete your order"})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx(cn,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-green-600 font-medium",children:"Payment"})]}),s.jsx("div",{className:"absolute left-[15%] right-[52%] top-5 h-1 bg-green-500"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center ring-4 ring-amber-200",style:{animation:"pop 2s ease-in-out infinite"},children:s.jsx(Rn,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-amber-600 font-bold",children:"Confirm"})]}),s.jsx("div",{className:"absolute left-[52%] right-[15%] top-5 h-1 bg-gray-200"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(lc,{className:"w-6 h-6 text-gray-400"})}),s.jsx("span",{className:"text-xs mt-2 text-gray-400 font-medium",children:"Shipped"})]})]})}),s.jsxs("div",{className:"p-8 space-y-5",children:[s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Order Number"}),s.jsx("span",{className:"text-gray-900 font-bold",children:a})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Transaction ID"}),s.jsxs("span",{className:"text-gray-900 font-mono text-sm",children:[o.slice(0,20),"..."]})]})]}),!v&&y&&s.jsx("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-2xl p-5 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-800 font-medium",children:[s.jsx(Jt,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Opening WhatsApp..."})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{onClick:S,size:"lg",className:"w-full h-16 text-lg font-bold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl transition-all duration-200 animate-[pop_2s_ease-in-out_infinite]",style:{animation:"pop 2s ease-in-out infinite"},children:[s.jsx("img",{src:"/whatsapp-icon.png",alt:"WhatsApp",className:"w-7 h-7 mr-3"}),"Confirm My Order"]}),s.jsx("p",{className:"text-center text-sm text-gray-500",children:"Click to confirm order & send details via WhatsApp"})]}),s.jsx("style",{children:`
                @keyframes pop {
                  0%, 100% { transform: scale(1); }
                  50% { transform: scale(1.03); }
                }
              `}),s.jsx("div",{className:"text-center pt-2",children:s.jsx("button",{onClick:C,className:"text-sm text-gray-400 hover:text-gray-600 underline",children:"Return to store"})})]})]}),r==="failed"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 mb-6",children:s.jsx(Hn,{className:"h-12 w-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Verification Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue verifying your payment."}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"If the amount was deducted from your account, please contact our support with your transaction details."}),s.jsxs(ie,{onClick:C,size:"lg",variant:"outline",className:"w-full",children:[s.jsx($J,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})]})})}const RUe=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState("monthly"),[c,u]=j.useState(null),d=xr(),{toast:f}=Ps();j.useEffect(()=>{p(),m()},[]);const m=()=>{const _=document.createElement("script");_.src="https://checkout.razorpay.com/v1/checkout.js",_.async=!0,document.body.appendChild(_)},p=async()=>{try{n(!0),i(null);const{data:_,error:w}=await Q.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price",{ascending:!0});if(w)throw w;t(_||[])}catch(_){console.error("Error fetching plans:",_),i("Failed to load pricing plans. Please try again later.")}finally{n(!1)}},y=_=>{const w=[];return _.max_products?w.push(`Up to ${_.max_products.toLocaleString()} products`):w.push("Unlimited products"),_.whatsapp_orders_limit!==null&&(_.whatsapp_orders_limit===0?w.push("Unlimited WhatsApp orders"):w.push(`${_.whatsapp_orders_limit.toLocaleString()} WhatsApp orders/month`)),_.website_orders_limit!==null&&(_.website_orders_limit===0?w.push("Unlimited website orders"):w.push(`${_.website_orders_limit.toLocaleString()} website orders/month`)),_.enable_location_sharing&&w.push("Location sharing for deliveries"),_.enable_analytics&&w.push("Advanced analytics dashboard"),_.enable_order_emails&&w.push("Email notifications"),_.trial_days>0&&w.push(`${_.trial_days}-day free trial`),w},g=async _=>{try{u(_.id);const{data:{user:w}}=await Q.auth.getUser();if(!w){d("/auth");return}const{data:b}=await Q.from("subscriptions").select("*").eq("user_id",w.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),E=b&&b.length>0?b[0]:null;if(E&&E.status==="active"){f({title:"Already subscribed",description:"You already have an active subscription",variant:"destructive"});return}const S=o==="yearly"&&_.yearly_price?_.yearly_price:_.monthly_price,{data:C,error:k}=await Q.functions.invoke("razorpay-payment",{body:{action:"create_order",plan_id:_.id,billing_cycle:o,user_id:w.id}});if(k||!C.success)throw new Error(C?.error||"Failed to create payment order");const{data:R}=await Q.from("profiles").select("full_name, email, phone").eq("user_id",w.id).maybeSingle(),P={key:C.key_id,amount:C.amount,currency:C.currency,name:"StoreBuilder",description:`${_.name} - ${o==="yearly"?"Yearly":"Monthly"} Subscription`,order_id:C.order_id,prefill:{name:R?.full_name||w.email,email:R?.email||w.email,contact:R?.phone||""},theme:{color:"#3B82F6"},handler:async function(A){console.log(" Payment completed, verifying...",{order_id:A.razorpay_order_id,payment_id:A.razorpay_payment_id});try{f({title:"Verifying payment...",description:"Please wait while we confirm your payment"});let D=0,F=null,B=null;for(;D<3;){const z=await Q.functions.invoke("razorpay-payment",{body:{action:"verify_payment",razorpay_order_id:A.razorpay_order_id,razorpay_payment_id:A.razorpay_payment_id,razorpay_signature:A.razorpay_signature,subscription_id:C.subscription_id,user_id:w.id}});if(F=z.data,B=z.error,!B&&F?.success){console.log(" Payment verified successfully");break}D++,console.warn(` Verification attempt ${D} failed, retrying...`),D<3&&await new Promise(q=>setTimeout(q,1e3*D))}if(B||!F?.success)throw console.error(" Payment verification failed after 3 attempts:",{error:B,data:F}),new Error(F?.error||"Payment verification failed");f({title:"Payment successful! ",description:"Your subscription has been activated. Redirecting..."}),setTimeout(()=>{d("/admin/dashboard")},1500)}catch(D){console.error(" Payment verification error:",D),f({title:"Payment verification failed",description:D.message||"Please contact support with your payment details",variant:"destructive"}),setTimeout(()=>{d("/admin/dashboard")},3e3)}finally{u(null)}},modal:{ondismiss:function(){u(null)}}};new window.Razorpay(P).open()}catch(w){console.error("Payment error:",w),f({title:"Payment failed",description:w.message||"Unable to process payment",variant:"destructive"})}finally{u(null)}};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})});if(a)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ice,{message:a,onRetry:p})});const v={"@context":"https://schema.org","@type":"WebPage",name:"Pricing Plans - DigitalDukandar",description:"Affordable e-commerce platform pricing for Indian businesses. Start with free 14-day trial. Plans starting from 299/month with unlimited products, WhatsApp integration & analytics.",url:"https://digitaldukandar.in/pricing"};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(EM,{children:[s.jsx("title",{children:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"title",content:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month. Unlimited products, WhatsApp orders, custom domain, analytics. No hidden fees. Cancel anytime."}),s.jsx("meta",{name:"keywords",content:"online store pricing India, e-commerce platform cost, affordable store builder, WhatsApp store pricing, small business e-commerce plans, digital store subscription India"}),s.jsx("link",{rel:"canonical",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{property:"og:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{name:"twitter:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-20 flex items-center justify-between",children:[s.jsxs(kt,{to:"/",className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-2xl blur-sm opacity-70 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"relative w-11 h-11 bg-gradient-to-br from-primary via-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all",children:s.jsx(sg,{className:"w-6 h-6 text-primary-foreground"})})]}),s.jsx("span",{className:"font-playfair font-bold text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"StoreBuilder"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsx(kt,{to:"/",children:s.jsx(ie,{variant:"ghost",size:"sm",children:"Back to Home"})}),s.jsx(kt,{to:"/auth",children:s.jsxs(ie,{size:"sm",children:["Get Started",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Transparent Pricing"})}),s.jsx("h1",{className:"font-playfair text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6",children:"Choose Your Perfect Plan"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Simple, transparent pricing for your online store. Start free, upgrade as you grow."})]}),s.jsx("div",{className:"flex justify-center mb-12",children:s.jsxs("div",{className:"inline-flex items-center gap-3 bg-muted p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>l("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="monthly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Monthly"}),s.jsxs("button",{onClick:()=>l("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="yearly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["Yearly",s.jsx(jt,{variant:"secondary",className:"ml-2 bg-primary/10 text-primary",children:"Save 20%"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(_=>{const w=o==="yearly"&&_.yearly_price?_.yearly_price:_.monthly_price,b=y(_);return s.jsxs(Se,{className:`relative p-8 transition-all duration-300 bg-card ${_.is_popular?"border-2 border-primary shadow-2xl scale-105":"border hover:shadow-lg hover:-translate-y-1"}`,children:[_.is_popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx(jt,{className:"bg-primary text-primary-foreground px-4 py-1.5 text-sm font-semibold shadow-lg",children:_.badge_text||"Most Popular"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold text-foreground mb-4 tracking-tight",children:_.name}),_.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:_.description}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[s.jsxs("span",{className:"text-5xl font-semibold text-foreground tracking-tight",children:["",w.toLocaleString()]}),s.jsxs("span",{className:"text-lg text-muted-foreground font-medium",children:["/",o==="monthly"?"month":"year"]})]}),o==="yearly"&&_.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",Math.round(_.yearly_price/12).toLocaleString(),"/month billed annually"]})]}),s.jsx(ie,{size:"lg",className:`w-full font-semibold mb-8 ${_.is_popular?"shadow-lg":""}`,variant:_.is_popular?"default":"outline",onClick:()=>g(_),disabled:c===_.id,children:c===_.id?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Get Started",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-4",children:"Everything included:"}),b.map((E,S)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(Cn,{className:"w-3 h-3 text-green-500"})}),s.jsx("span",{className:"text-sm text-foreground font-medium leading-relaxed",children:E})]},S))]})]},_.id)})}),s.jsx("div",{className:"mt-20 text-center",children:s.jsxs("div",{className:"inline-flex flex-wrap justify-center items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Secure payment processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Instant activation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Cancel anytime"})]})]})})]})}),s.jsx("footer",{className:"border-t border-border/50 bg-muted/20 py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:" 2024 StoreBuilder. All rights reserved."})})})]})};function DUe(){const e=xr(),{toast:t}=Ps(),[r,n]=gw(),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1);j.useEffect(()=>{const y=r.get("ref");if(y&&(console.log("[Auth] Referral code captured:",y),sessionStorage.setItem("referral_code",y)),r.get("error")==="account_deleted"&&(u(!0),n({})),r.get("code")!==null){console.log("[Auth] OAuth callback detected - waiting for session to be established"),f(!0);return}Q.auth.getSession().then(async({data:{session:w}})=>{if(console.log("[Auth] Checking existing session:",w?"Found":"None"),w){l(!0),console.log("[Auth] Checking for helper with ID:",w.user.id);const{data:b,error:E}=await Q.from("helpers").select("*").eq("id",w.user.id).maybeSingle();if(console.log("[Auth] Helper query result:",{helperData:b,helperError:E}),b){console.log("[Auth] Helper found - redirecting to helper dashboard"),e("/helper/dashboard"),i(!1);return}const{data:S,error:C}=await Q.from("stores").select("*").eq("user_id",w.user.id).maybeSingle();console.log("[Auth] Store query error:",C),console.log("[Auth] Store found:",S?"Yes":"No",S),S?(console.log("[Auth] Redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),e("/onboarding/store-setup")),i(!1)}});const{data:{subscription:_}}=Q.auth.onAuthStateChange((w,b)=>{console.log("[Auth] Auth state changed:",w,b?"Session exists":"No session"),f(!1),w==="SIGNED_IN"&&b&&(l(!0),setTimeout(async()=>{try{console.log("[Auth] SIGNED_IN - Checking for helper with ID:",b.user.id);const{data:E,error:S}=await Q.from("helpers").select("*").eq("id",b.user.id).maybeSingle();if(console.log("[Auth] SIGNED_IN - Helper query result:",{helperData:E,helperError:S}),E){console.log("[Auth] Helper found - redirecting to helper dashboard"),t({title:"Welcome back!",description:"Redirecting to your helper dashboard."}),e("/helper/dashboard");return}const{data:C,error:k}=await Q.from("stores").select("*").eq("user_id",b.user.id).maybeSingle();console.log("[Auth] After sign in - Query error:",k),console.log("[Auth] After sign in - Store found:",C?"Yes":"No",C);const R=b.provider_token,P=b.provider_refresh_token;if(C&&R){console.log("[Auth] Saving Google Drive tokens to store");const O={google_access_token:R};if(P){const A=new Date(Date.now()+36e5);O.google_refresh_token=P,O.google_token_expiry=A.toISOString()}await Q.from("stores").update(O).eq("id",C.id)}C?(console.log("[Auth] Existing user - redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),t({title:"Welcome!",description:"Let's set up your store."}),e("/onboarding/store-setup"))}catch(E){console.error("[Auth] Error checking store:",E),t({variant:"destructive",title:"Error",description:"Failed to verify account. Please try again."})}},0))});return()=>_.unsubscribe()},[e,t]);const m=async()=>{try{i(!0),console.log("[Auth] Starting Google sign in...");const{error:y}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth`,scopes:"https://www.googleapis.com/auth/drive.file"}});y?(console.error("[Auth] Sign in error:",y),t({variant:"destructive",title:"Error",description:y.message})):console.log("[Auth] OAuth redirect initiated")}catch(y){console.error("[Auth] Unexpected error:",y),t({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{i(!1)}},p=async()=>{try{i(!0);const{error:y}=await Q.auth.signOut();if(y)throw y;t({title:"Signed out",description:"You have been signed out successfully."}),window.location.reload()}catch(y){t({variant:"destructive",title:"Error",description:y.message})}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-4",children:[c&&s.jsx(tn,{variant:"destructive",className:"border-2 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(mc,{className:"h-6 w-6 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(pF,{className:"text-lg font-semibold mb-2",children:"Account Deleted"}),s.jsx(rn,{className:"text-base",children:"Your account has been deleted by the administrator. All your data has been removed from the system."})]}),s.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>u(!1),children:s.jsx(Hn,{className:"h-5 w-5"})})]})}),s.jsxs(Se,{className:"w-full",children:[s.jsxs(Ze,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(pm,{size:48})}),s.jsx(Qe,{className:"text-2xl font-bold text-center",children:"Sign In"}),s.jsx(Ir,{className:"text-center",children:"Sign in to access your dashboard"})]}),s.jsx(Te,{className:"space-y-4",children:d?s.jsxs("div",{className:"text-center space-y-4 py-4",children:[s.jsx(Jt,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing sign in..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2 py-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"You're already signed in"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Redirecting to your dashboard..."})]}),s.jsx(ie,{onClick:p,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing out..."]}):"Sign out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ie,{onClick:m,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}function IUe(){const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),m="superadmin.digitaldukandar.in";j.useEffect(()=>{const y=window.location.hostname,g=y.endsWith(".lovable.app")||y.endsWith(".lovable.dev")||y.endsWith(".lovableproject.com");!(y===m)&&!(y==="localhost"||y==="127.0.0.1")&&!g&&f(!0)},[]);const p=async y=>{y.preventDefault(),u(!0);try{const{data:g,error:v}=await Q.auth.signInWithPassword({email:r,password:a});if(v)throw v;if(!g.user)throw new Error("Login failed");const{data:_,error:w}=await Q.from("user_roles").select("role").eq("user_id",g.user.id).eq("role","super_admin");if(w)throw w;if(!_||_.length===0)throw await Q.auth.signOut(),new Error("You do not have super admin access");const{data:b}=await Q.from("profiles").select("full_name").eq("user_id",g.user.id).single();sessionStorage.setItem("superadmin_session",JSON.stringify({id:g.user.id,email:g.user.email,fullName:b?.full_name||"Super Admin",loginAt:new Date().toISOString()})),o&&localStorage.setItem("superadmin_remember","true"),t({title:"Login Successful",description:"Welcome back to Super Admin Panel"}),e("/superadmin/dashboard")}catch(g){console.error("Login error:",g),t({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials or insufficient permissions"})}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:s.jsxs(Se,{className:"w-full max-w-md",children:[s.jsxs(Ze,{className:"space-y-4 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(qu,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(Qe,{className:"text-3xl font-bold",children:"Super Admin"}),s.jsx(Ir,{className:"mt-2",children:d?"Access Restricted":"Enter your credentials to access the admin panel"})]})]}),s.jsx(Te,{children:d?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-destructive font-medium",children:"Unauthorized Domain Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This super admin panel can only be accessed from authorized domains."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current domain: ",s.jsx("span",{className:"font-mono",children:window.location.hostname})]})]}):s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"email",children:"Email Address"}),s.jsx(ze,{id:"email",type:"email",placeholder:"admin@example.com",value:r,onChange:y=>n(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"password",children:"Password"}),s.jsx(ze,{id:"password",type:"password",placeholder:"",value:a,onChange:y=>i(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:"remember",checked:o,onCheckedChange:y=>l(y),disabled:c}),s.jsx(ke,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx(ie,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}function gv({className:e,...t}){return s.jsx("div",{className:ut("animate-pulse rounded-md bg-muted",e),...t})}function MUe(){const[e,t]=j.useState([]),[r,n]=j.useState(!0);j.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:o,error:l}=await Q.from("subscription_plans").select("id, name, enable_location_sharing, enable_analytics, enable_order_emails").order("display_order");if(l)throw l;t(o||[])}catch(o){Me({title:"Error",description:o.message,variant:"destructive"})}finally{n(!1)}},i=async(o,l,c)=>{try{const{error:u}=await Q.from("subscription_plans").update({[l]:c}).eq("id",o);if(u)throw u;Me({title:"Success",description:"Feature setting updated"}),a()}catch(u){Me({title:"Error",description:u.message,variant:"destructive"})}};return r?s.jsx(Se,{children:s.jsx(Te,{className:"p-6 text-center",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin mx-auto"})})}):s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Feature Management"})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-6",children:e.map(o=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:o.name}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:`location-${o.id}`,className:"cursor-pointer",children:"Location Sharing"}),s.jsx(Gr,{id:`location-${o.id}`,checked:o.enable_location_sharing,onCheckedChange:l=>i(o.id,"enable_location_sharing",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:`analytics-${o.id}`,className:"cursor-pointer",children:"Analytics"}),s.jsx(Gr,{id:`analytics-${o.id}`,checked:o.enable_analytics,onCheckedChange:l=>i(o.id,"enable_analytics",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Order Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for new orders"})]}),s.jsx(Gr,{checked:o.enable_order_emails,onCheckedChange:l=>i(o.id,"enable_order_emails",l)})]})]})]},o.id))})})]})}function FUe(){const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState([]),[d,f]=j.useState(null),[m,p]=j.useState(!0);j.useEffect(()=>{(async()=>{const E=sessionStorage.getItem("superadmin_session");if(E){const R=JSON.parse(E);n(R.fullName),y();return}const{data:{user:S}}=await Q.auth.getUser();if(!S){e("/superadmin/login");return}const{data:C}=await Q.from("user_roles").select("role").eq("user_id",S.id).eq("role","super_admin");if(!C||C.length===0){t({title:"Access Denied",description:"You need super admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:k}=await Q.from("profiles").select("full_name, email").eq("user_id",S.id).single();n(k?.full_name||k?.email||S.email||"Super Admin"),y()})();const b=setInterval(y,6e4);return()=>clearInterval(b)},[e]);const y=async()=>{try{const{data:w}=await Q.from("profiles").select("created_at, user_id"),b=w?.length||0,{data:E}=await Q.from("user_roles").select("user_id").eq("role","super_admin"),S=new Set(E?.map(de=>de.user_id)||[]),C=(w||[]).filter(de=>!S.has(de.user_id)),k=C.length,R=new Date;R.setHours(0,0,0,0);const P=C.filter(de=>new Date(de.created_at)>=R).length,O=new Date;O.setDate(O.getDate()-30);const A=new Date;A.setDate(A.getDate()-7);const{data:D}=await Q.from("stores").select("id, user_id, last_admin_visit, created_at"),{data:F}=await Q.from("orders").select("store_id").gte("created_at",O.toISOString()),B=new Set(F?.map(de=>de.store_id)||[]),q=(D||[]).filter(de=>!S.has(de.user_id)&&(B.has(de.id)||de.last_admin_visit&&new Date(de.last_admin_visit)>=A)).length,G=(D||[]).filter(de=>!S.has(de.user_id)).length,Y=G>0?q/G*100:0,M=new Date;M.setDate(1),M.setHours(0,0,0,0);const H=new Date(M);H.setMonth(H.getMonth()-1);const{data:Z}=await Q.from("transactions").select("total_amount").eq("status","success").gte("created_at",M.toISOString()),L=Z?.reduce((de,Re)=>de+(Re.total_amount||0),0)||0,{data:J}=await Q.from("transactions").select("total_amount").eq("status","success").gte("created_at",H.toISOString()).lt("created_at",M.toISOString()),V=J?.reduce((de,Re)=>de+(Re.total_amount||0),0)||0,X=V>0?(L-V)/V*100:L>0?100:0,ne=new Date;ne.setDate(ne.getDate()-60);const se=C.filter(de=>new Date(de.created_at)>=O).length,ue=C.filter(de=>{const Re=new Date(de.created_at);return Re>=ne&&Re<O}).length,W=ue>0?(se-ue)/ue*100:se>0?100:0;i({totalUsers:k,todayUsers:P,activeStores:q,activePercentage:Y,monthlyRevenue:L,revenueGrowth:X,newSignups:se,signupGrowth:W});const{data:ae}=await Q.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price"),{data:oe}=await Q.from("subscriptions").select("plan_id, user_id, status").in("status",["trial","active"]),K=(oe||[]).filter(de=>!S.has(de.user_id)),be=new Map;K.forEach(de=>{const Re=be.get(de.plan_id)||0;be.set(de.plan_id,Re+1)});const pe=["bg-gray-500","bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"],Ee=K.length,Ae=(ae||[]).map((de,Re)=>{const rt=be.get(de.id)||0;return{plan:de.name,users:rt,percentage:Ee>0?rt/Ee*100:0,revenue:rt*(de.monthly_price||0),color:pe[Re%pe.length]}});Ae.sort((de,Re)=>Re.users-de.users),l(Ae);const fe=[],Je=C.sort((de,Re)=>new Date(Re.created_at).getTime()-new Date(de.created_at).getTime()).slice(0,5),{data:Ye}=await Q.from("profiles").select("user_id, email, full_name, created_at").in("user_id",Je.map(de=>de.user_id));Ye?.forEach(de=>{fe.push({id:`signup-${de.user_id}`,type:"signup",description:`New user registered: ${de.full_name||"Unknown"}`,userEmail:de.email,timestamp:de.created_at,icon:"user-plus"})});const{data:ce}=await Q.from("subscriptions").select(`
          id,
          user_id,
          status,
          created_at,
          updated_at,
          subscription_plans(name)
        `).order("updated_at",{ascending:!1}).limit(5),we=ce?.map(de=>de.user_id)||[],{data:Oe}=await Q.from("profiles").select("user_id, email, full_name").in("user_id",we),He=new Map(Oe?.map(de=>[de.user_id,de])||[]);ce?.forEach(de=>{if(!S.has(de.user_id)){const Re=He.get(de.user_id);fe.push({id:`sub-${de.id}`,type:de.status==="active"?"upgrade":"subscription",description:`Subscription ${de.status}: ${de.subscription_plans?.name||"Plan"}`,userEmail:Re?.email||null,timestamp:de.updated_at,icon:"trending-up"})}}),fe.sort((de,Re)=>new Date(Re.timestamp).getTime()-new Date(de.timestamp).getTime()),u(fe.slice(0,10));const Ge=performance.now(),{data:Ne}=await Q.from("profiles").select("user_id").limit(1),ee=performance.now()-Ge,_e=ee<100?"healthy":ee<500?"degraded":"down",{data:ge}=await Q.from("platform_settings").select("razorpay_key_id").single(),Be=ge?.razorpay_key_id?"active":"inactive",{count:Ie}=await Q.from("orders").select("*",{count:"exact",head:!0});f({database:{status:_e,responseTime:Math.round(ee)},api:{status:"operational",uptime:99.98},payment:{status:Be,provider:"Razorpay"},storage:{totalUsers:k,totalStores:G,totalOrders:Ie||0}}),p(!1)}catch(w){console.error("Dashboard load error:",w),t({variant:"destructive",title:"Error Loading Data",description:w.message}),p(!1)}},g=()=>{sessionStorage.removeItem("superadmin_session"),localStorage.removeItem("superadmin_remember"),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/superadmin/login")},v=w=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(w),_=w=>{const b=new Date,E=new Date(w),S=b.getTime()-E.getTime(),C=Math.floor(S/6e4),k=Math.floor(S/36e5),R=Math.floor(S/864e5);return C<1?"Just now":C<60?`${C}m ago`:k<24?`${k}h ago`:`${R}d ago`};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qu,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"YourPlatform - Super Admin"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(wf,{className:"h-5 w-5"}),s.jsx("span",{children:r})]})}),s.jsxs(ou,{align:"end",className:"w-56",children:[s.jsxs(Fn,{onClick:()=>window.open("/","_blank"),children:[s.jsx(Ga,{className:"mr-2 h-4 w-4"}),"View Platform Site"]}),s.jsxs(Fn,{children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Ym,{}),s.jsxs(Fn,{onClick:g,className:"text-destructive",children:[s.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:"w-64 border-r bg-card min-h-screen p-4",children:s.jsxs("nav",{className:"space-y-2",children:[s.jsxs(ie,{variant:"default",className:"w-full justify-start",children:[s.jsx($J,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/users"),children:[s.jsx(Bi,{className:"mr-2 h-4 w-4"}),"Users & Stores"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/helpers"),children:[s.jsx(Bi,{className:"mr-2 h-4 w-4"}),"Helper Management"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commissions"),children:[s.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Commission Management"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commission-settings"),children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Commission Settings"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/reports-analytics"),children:[s.jsx(Q0,{className:"mr-2 h-4 w-4"}),"Reports & Analytics"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/subscription-plans"),children:[s.jsx(ss,{className:"mr-2 h-4 w-4"}),"Subscription Plans"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/transactions"),children:[s.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Transactions"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/billing"),children:[s.jsx(ss,{className:"mr-2 h-4 w-4"}),"Billing & Revenue"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/custom-domains"),children:[s.jsx(cm,{className:"mr-2 h-4 w-4"}),"Custom Domains"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/sitemaps"),children:[s.jsx(zc,{className:"mr-2 h-4 w-4"}),"SEO & Sitemaps"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/marketplace"),children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Marketplace"]}),s.jsxs(ie,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/settings"),children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Platform Settings"]})]})}),s.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m?Array(4).fill(0).map((w,b)=>s.jsx(gv,{className:"h-32"},b)):a&&s.jsxs(s.Fragment,{children:[s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.totalUsers.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Cl,{className:"h-4 w-4 text-green-500"}),"+",a.todayUsers," today"]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Active Stores"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.activeStores.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(cn,{className:"h-4 w-4 text-green-500"}),a.activePercentage.toFixed(1),"% active"]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:v(a.monthlyRevenue)}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Cl,{className:"h-4 w-4 text-green-500"}),"+",a.revenueGrowth,"% from last month"]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"New Signups (30 days)"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.newSignups}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Cl,{className:"h-4 w-4 text-green-500"}),"+",a.signupGrowth,"% growth"]})]})]})]})}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Subscriptions by Plan"})}),s.jsx(Te,{className:"space-y-4",children:m?s.jsx(gv,{className:"h-40"}):o.length>0?s.jsxs(s.Fragment,{children:[o.map(w=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:w.plan}),s.jsxs("span",{className:"text-muted-foreground",children:[w.users," users (",w.percentage.toFixed(1),"%)",w.revenue>0&&` - ${v(w.revenue)}/mo`]})]}),s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${w.color} transition-all`,style:{width:`${Math.max(w.percentage,2)}%`}})})]},w.plan)),s.jsxs("div",{className:"pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Total Subscribers"}),s.jsxs("span",{className:"text-muted-foreground",children:[o.reduce((w,b)=>w+b.users,0)," users"]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("span",{className:"font-medium",children:"Total MRR"}),s.jsx("span",{className:"text-muted-foreground",children:v(o.reduce((w,b)=>w+b.revenue,0))})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subscription plans available"})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Monthly Recurring Revenue"})}),s.jsxs(Te,{children:[m?s.jsx(gv,{className:"h-64"}):s.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed rounded-lg",children:s.jsx("p",{className:"text-muted-foreground",children:"Revenue chart will be displayed here"})}),a&&s.jsxs("div",{className:"mt-4 flex gap-6 text-sm",children:[s.jsxs("span",{children:["Current MRR: ",s.jsx("strong",{children:v(a.monthlyRevenue)})]}),s.jsxs("span",{children:["ARR: ",s.jsx("strong",{children:v(a.monthlyRevenue*12)})]})]})]})]}),s.jsx(MUe,{}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Recent Activity"})}),s.jsx(Te,{children:m?s.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((w,b)=>s.jsx(gv,{className:"h-16"},b))}):c.length>0?s.jsxs("div",{className:"space-y-4",children:[c.map(w=>s.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[s.jsx("div",{className:"p-2 bg-muted rounded-lg",children:s.jsx(Cge,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:w.description}),w.userEmail&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:w.userEmail})]}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:_(w.timestamp)})]},w.id)),s.jsxs(ie,{variant:"ghost",className:"w-full",children:["View All Activity",s.jsx(bf,{className:"ml-2 h-4 w-4"})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"System Status"})}),s.jsx(Te,{children:m?s.jsx(gv,{className:"h-32"}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.database.status==="healthy"?"bg-green-500":d.database.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Database"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.database.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.database.responseTime,"ms"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.api.status==="operational"?"bg-green-500":d.api.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"API"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.api.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.api.uptime,"% uptime"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.payment.status==="active"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Payment Gateway"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.payment.status}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.payment.provider})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Storage"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.storage.totalOrders.toLocaleString()," orders"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.storage.totalUsers," users, ",d.storage.totalStores," stores"]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString(),"  Auto-refresh every 60s"]})})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"System health data unavailable"})})]})]})]})]})}var oA={exports:{}},lA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jz;function LUe(){if(Jz)return lA;Jz=1;var e=KS();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var p=m(),y=n({inst:{value:p,getSnapshot:m}}),g=y[0].inst,v=y[1];return i(function(){g.value=p,g.getSnapshot=m,c(g)&&v({inst:g})},[f,p,m]),a(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),o(p),p}function c(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!r(f,p)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return lA.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,lA}var Zz;function $Ue(){return Zz||(Zz=1,oA.exports=LUe()),oA.exports}var BUe=$Ue();function UUe(){return BUe.useSyncExternalStore(VUe,()=>!0,()=>!1)}function VUe(){return()=>{}}var ML="Avatar",[zUe]=Vs(ML),[qUe,Sce]=zUe(ML),kce=j.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=j.useState("idle");return s.jsx(qUe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Tt.span,{...n,ref:t})})});kce.displayName=ML;var Cce="AvatarImage",Ece=j.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Sce(Cce,r),l=WUe(n,i),c=Ss(u=>{a(u),o.onImageLoadingStatusChange(u)});return Ts(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Tt.img,{...i,ref:t,src:n}):null});Ece.displayName=Cce;var Tce="AvatarFallback",Ace=j.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Sce(Tce,r),[o,l]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Tt.span,{...a,ref:t}):null});Ace.displayName=Tce;function Qz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function WUe(e,{referrerPolicy:t,crossOrigin:r}){const n=UUe(),a=j.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=j.useState(()=>Qz(i,e));return Ts(()=>{l(Qz(i,e))},[i,e]),Ts(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Pce=kce,Oce=Ece,Rce=Ace;const Dce=j.forwardRef(({className:e,...t},r)=>s.jsx(Pce,{ref:r,className:ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Dce.displayName=Pce.displayName;const HUe=j.forwardRef(({className:e,...t},r)=>s.jsx(Oce,{ref:r,className:ut("aspect-square h-full w-full",e),...t}));HUe.displayName=Oce.displayName;const Ice=j.forwardRef(({className:e,...t},r)=>s.jsx(Rce,{ref:r,className:ut("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ice.displayName=Rce.displayName;var ik="Tabs",[GUe]=Vs(ik,[ax]),Mce=ax(),[KUe,FL]=GUe(ik),Fce=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Uf(l),[f,m]=ji({prop:n,onChange:a,defaultProp:i??"",caller:ik});return s.jsx(KUe,{scope:r,baseId:uo(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(Tt.div,{dir:d,"data-orientation":o,...u,ref:t})})});Fce.displayName=ik;var Lce="TabsList",$ce=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=FL(Lce,r),o=Mce(r);return s.jsx(tF,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Tt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});$ce.displayName=Lce;var Bce="TabsTrigger",Uce=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=FL(Bce,r),l=Mce(r),c=qce(o.baseId,n),u=Wce(o.baseId,n),d=n===o.value;return s.jsx(rF,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Tt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:dt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:dt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:dt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Uce.displayName=Bce;var Vce="TabsContent",zce=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=FL(Vce,r),c=qce(l.baseId,n),u=Wce(l.baseId,n),d=n===l.value,f=j.useRef(d);return j.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(la,{present:a||d,children:({present:m})=>s.jsx(Tt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});zce.displayName=Vce;function qce(e,t){return`${e}-trigger-${t}`}function Wce(e,t){return`${e}-content-${t}`}var YUe=Fce,Hce=$ce,Gce=Uce,Kce=zce;const Qu=YUe,ru=j.forwardRef(({className:e,...t},r)=>s.jsx(Hce,{ref:r,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ru.displayName=Hce.displayName;const fn=j.forwardRef(({className:e,...t},r)=>s.jsx(Gce,{ref:r,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));fn.displayName=Gce.displayName;const hn=j.forwardRef(({className:e,...t},r)=>s.jsx(Kce,{ref:r,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));hn.displayName=Kce.displayName;function XUe({subscription:e,open:t,onClose:r,onSuccess:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(!0),c=async()=>{try{if(i(!0),console.log("Subscription object:",e),console.log("Subscription ID:",e?.id),!e?.id)throw new Error("Subscription ID is missing. Please refresh the page and try again.");const f=new Date,m=new Date;e.billing_cycle==="yearly"?m.setFullYear(m.getFullYear()+1):m.setMonth(m.getMonth()+1);const p={status:"active",current_period_start:f.toISOString(),current_period_end:m.toISOString(),next_billing_at:m.toISOString(),updated_at:new Date().toISOString()};o&&(p.whatsapp_orders_used=0,p.website_orders_used=0);const{error:y}=await Q.from("subscriptions").update(p).eq("id",e.id);if(y)throw y;Me({title:"Success",description:"Subscription renewed successfully"}),n(),r()}catch(f){console.error("Error renewing subscription:",f),Me({title:"Error",description:f.message||"Failed to renew subscription",variant:"destructive"})}finally{i(!1)}};if(!e)return null;const u=e.status==="expired"||e.status==="pending_payment",d={whatsapp:e.whatsapp_orders_used||0,website:e.website_orders_used||0};return s.jsx(Tn,{open:t,onOpenChange:r,children:s.jsxs(jn,{className:"sm:max-w-[500px]",children:[s.jsxs(An,{children:[s.jsx(Pn,{children:"Renew Subscription"}),s.jsx(Ns,{children:"Manually renew the subscription for this user"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(tn,{className:u?"border-red-500":"",children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsx(rn,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Plan:"}),s.jsx("span",{children:e.plan?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx("span",{className:"capitalize",children:e.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Current Period End:"}),s.jsx("span",{children:e.current_period_end?new Date(e.current_period_end).toLocaleDateString():"N/A"})]})]})})]}),s.jsx(tn,{children:s.jsx(rn,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Current Order Usage:"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"WhatsApp Orders:"}),s.jsx("span",{className:"font-mono",children:d.whatsapp})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Website Orders:"}),s.jsx("span",{className:"font-mono",children:d.website})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-md border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"reset-counters",className:"font-medium",children:"Reset Order Counters"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset WhatsApp and Website order counts to 0"})]}),s.jsx(Gr,{id:"reset-counters",checked:o,onCheckedChange:l})]}),s.jsxs(tn,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[s.jsx(cn,{className:"h-4 w-4 text-green-600"}),s.jsxs(rn,{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"After Renewal:"}),s.jsxs("ul",{className:"text-green-800 dark:text-green-200 space-y-1",children:[s.jsx("li",{children:" Status will be set to 'active'"}),s.jsxs("li",{children:[" New period: ",new Date().toLocaleDateString()," -"," ",e.billing_cycle==="yearly"?new Date(Date.now()+365*24*60*60*1e3).toLocaleDateString():new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]}),o&&s.jsx("li",{children:" Order counters will be reset to 0"}),!o&&s.jsx("li",{children:" Order counters will remain unchanged"})]})]})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:r,disabled:a,children:"Cancel"}),s.jsxs(ie,{onClick:c,disabled:a,children:[a&&s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Renew Subscription"]})]})]})})}function Yce({open:e,onOpenChange:t,userId:r,userEmail:n,currentSubscription:a,onSuccess:i}){const[o,l]=j.useState([]),[c,u]=j.useState(""),[d,f]=j.useState("monthly"),[m,p]=j.useState("trial"),[y,g]=j.useState(14),[v,_]=j.useState(!1);j.useEffect(()=>{e&&w()},[e]);const w=async()=>{try{const{data:S,error:C}=await Q.from("subscription_plans").select("id, name, trial_days").eq("is_active",!0).order("display_order");if(C)throw C;l(S||[])}catch(S){Me({title:"Error",description:S.message,variant:"destructive"})}},b=S=>{u(S);const C=o.find(k=>k.id===S);C&&g(C.trial_days||14)},E=async()=>{if(!c){Me({title:"Error",description:"Please select a plan",variant:"destructive"});return}try{_(!0);const S=new Date;let C=new Date;m==="trial"?C.setDate(C.getDate()+y):m==="active"?d==="monthly"?C.setMonth(C.getMonth()+1):C.setFullYear(C.getFullYear()+1):C=new Date(S.getTime()-864e5);const k=m==="trial"?new Date(S.getTime()+y*864e5):null,R=m==="active"?new Date(C.getTime()):null,{data:P}=await Q.from("subscriptions").select("id").eq("user_id",r).maybeSingle(),O={plan_id:c,billing_cycle:d,status:m,current_period_start:S.toISOString(),current_period_end:C.toISOString(),trial_ends_at:k?.toISOString()||null,next_billing_at:R?.toISOString()||null,started_at:S.toISOString()};if(P){const{error:A}=await Q.from("subscriptions").update({...O,updated_at:S.toISOString()}).eq("id",P.id);if(A)throw A}else{const{error:A}=await Q.from("subscriptions").insert({user_id:r,...O});if(A)throw A}Me({title:"Success",description:`Subscription plan assigned to ${n}`}),i(),t(!1)}catch(S){Me({title:"Error",description:S.message,variant:"destructive"})}finally{_(!1)}};return s.jsx(Tn,{open:e,onOpenChange:t,children:s.jsxs(jn,{className:"max-w-md",children:[s.jsxs(An,{children:[s.jsx(Pn,{children:"Assign Subscription Plan"}),s.jsxs(Ns,{children:["Assign or update subscription plan for ",n,a&&s.jsxs("span",{className:"block mt-2 text-sm",children:["Current: ",a.plan.name," (",a.status,")"]})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Select Plan"}),s.jsxs(_r,{value:c,onValueChange:b,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Choose a plan"})}),s.jsx(yr,{children:o.map(S=>s.jsx(Ke,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Status"}),s.jsxs(_r,{value:m,onValueChange:p,children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"trial",children:"Trial"}),s.jsx(Ke,{value:"active",children:"Active"}),s.jsx(Ke,{value:"expired",children:"Expired"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Billing Cycle"}),s.jsxs(_r,{value:d,onValueChange:f,children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"monthly",children:"Monthly"}),s.jsx(Ke,{value:"yearly",children:"Yearly"})]})]})]}),m==="trial"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Trial Days"}),s.jsx(ze,{type:"number",value:y,onChange:S=>g(parseInt(S.target.value)),min:0})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ie,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ie,{onClick:E,disabled:v,children:v?"Assigning...":"Assign Plan"})]})]})})}function JUe({user:e,open:t,onClose:r,onRefresh:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState("");j.useEffect(()=>{if(!e?.subscription)return;const g=()=>{const _=e.subscription.status==="trial"?e.subscription.trial_ends_at:e.subscription.current_period_end;if(!_)return"";const w=new Date().getTime(),E=new Date(_).getTime()-w;if(E<=0)return"Expired";const S=Math.floor(E/(1e3*60*60*24)),C=Math.floor(E%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(E%(1e3*60*60)/(1e3*60)),R=Math.floor(E%(1e3*60)/1e3);return`${S}d ${C}h ${k}m ${R}s`};f(g());const v=setInterval(()=>{f(g())},1e3);return()=>clearInterval(v)},[e?.subscription]);const m=g=>{navigator.clipboard.writeText(g),Me({title:"Copied",description:"Copied to clipboard"})},p=async()=>{try{console.log("Attempting to login as user:",e.id,e.email);const{data:g,error:v}=await Q.functions.invoke("login-as-user",{body:{user_id:e.id}});if(console.log("Edge function response:",{data:g,error:v}),v){if(console.error("Edge function error:",v),v.context?.body){const _=await v.context.text();console.error("Response body:",_);try{const w=JSON.parse(_);if(w.error)throw new Error(w.error)}catch(w){console.error("Could not parse response:",w)}}throw v}if(g?.error)throw console.error("Error from edge function:",g.error),new Error(g.error);if(g?.access_token){const{data:_}=await Q.auth.getSession();if(_.session){const w={..._.session,saved_at:Date.now(),user_id:_.session.user.id,reason:"impersonation"};localStorage.setItem("superadmin_session",JSON.stringify(w))}await Q.auth.setSession({access_token:g.access_token,refresh_token:g.refresh_token}),Me({title:"Success",description:`Logged in as ${e.email}`}),window.location.href="/admin/dashboard"}else throw new Error("No access token received from edge function")}catch(g){console.error("Login as user error:",g),Me({title:"Error",description:g.message||"Failed to login as user",variant:"destructive"})}},y=async()=>{if(!e.subscription){Me({title:"Error",description:"No active subscription to cancel",variant:"destructive"});return}if(confirm(`Are you sure you want to cancel the subscription for ${e.email}?

Plan: ${e.subscription.plan.name}
Status: ${e.subscription.status}

This action will cancel their subscription immediately.`))try{u(!0);const{error:v}=await Q.from("subscriptions").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e.subscription.id);if(v)throw v;Me({title:"Success",description:`Subscription cancelled for ${e.email}`}),n(),setTimeout(()=>{r()},1e3)}catch(v){console.error("Cancel subscription error:",v),Me({title:"Error",description:v.message||"Failed to cancel subscription",variant:"destructive"})}finally{u(!1)}};return s.jsxs(Tn,{open:t,onOpenChange:r,children:[s.jsxs(jn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","aria-describedby":void 0,children:[s.jsx(An,{children:s.jsxs(Pn,{children:["User Details - ",e.email]})}),s.jsxs(Qu,{defaultValue:"overview",className:"w-full",children:[s.jsxs(ru,{className:"grid w-full grid-cols-4",children:[s.jsx(fn,{value:"overview",children:"Overview"}),s.jsx(fn,{value:"subscription",children:"Subscription"}),s.jsx(fn,{value:"store",children:"Store Details"}),s.jsx(fn,{value:"activity",children:"Activity Log"})]}),s.jsxs(hn,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Account Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"User ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-mono text-sm",children:[e.id.slice(0,8),"..."]}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>m(e.id),children:s.jsx(Ql,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:e.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:e.full_name||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:e.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Joined"}),s.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),e.store?.whatsapp_number&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.whatsapp_number}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>m(e.store.whatsapp_number),children:s.jsx(Ql,{className:"w-4 h-4"})})]})]})]})]}),e.store&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Store Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Slug"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.slug}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>window.open(`/${e.store.slug}`,"_blank"),children:s.jsx(Ga,{className:"w-4 h-4"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ie,{onClick:p,children:[s.jsx(qu,{className:"w-4 h-4 mr-2"}),"Login as User"]}),s.jsxs(ie,{variant:"outline",children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Reset Password"]}),s.jsxs(ie,{variant:"outline",children:[s.jsx(pc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsxs(ie,{variant:"destructive",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),s.jsx(hn,{value:"subscription",className:"space-y-6",children:e.subscription?s.jsxs(s.Fragment,{children:[d&&d!=="Expired"&&s.jsx("div",{className:`relative overflow-hidden rounded-lg border ${e.subscription.status==="trial"?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30":"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30"} backdrop-blur-sm`,children:s.jsxs("div",{className:"p-4 flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${e.subscription.status==="trial"?"bg-blue-500/20":"bg-green-500/20"}`,children:s.jsx(gs,{className:`w-6 h-6 ${e.subscription.status==="trial"?"text-blue-400":"text-green-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:e.subscription.status==="trial"?"Trial Period":"Active Subscription"}),s.jsx(jt,{variant:"outline",className:`text-xs ${e.subscription.status==="trial"?"border-blue-500/50 text-blue-400":"border-green-500/50 text-green-400"}`,children:e.subscription.status==="trial"?"Trial":"Paid"})]}),s.jsx("p",{className:"text-xl font-semibold mb-1",children:e.subscription.status==="trial"?`Ends in ${d}`:`Renews in ${d}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.subscription.status==="trial"?"Trial will expire on "+new Date(e.subscription.trial_ends_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Next billing on "+new Date(e.subscription.current_period_end).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Current Subscription"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Plan"}),s.jsx(jt,{variant:"outline",children:e.subscription.plan.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(jt,{className:e.subscription.status==="active"?"bg-green-500":e.subscription.status==="trial"?"bg-orange-500":"bg-gray-500",children:e.subscription.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Billing Cycle"}),s.jsx("p",{className:"font-medium capitalize",children:e.subscription.billing_cycle})]}),e.subscription.started_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Started On"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.started_at).toLocaleDateString()})]}),e.subscription.current_period_start&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period Start"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_start).toLocaleDateString()})]}),e.subscription.current_period_end&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period End"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_end).toLocaleDateString()})]}),e.subscription.trial_ends_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Ends"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.trial_ends_at).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{onClick:()=>i(!0),variant:"default",children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Renew Subscription"]}),s.jsx(ie,{variant:"outline",onClick:()=>l(!0),children:"Change Plan"}),s.jsx(ie,{variant:"destructive",onClick:y,disabled:c,children:c?"Cancelling...":"Cancel Subscription"})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No active subscription"})})}),s.jsx(hn,{value:"store",className:"space-y-6",children:e.store?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Slug"}),s.jsx("p",{className:"font-medium",children:e.store.slug})]})]}),s.jsx(ie,{children:"Edit Store Settings"})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No store created"})})}),s.jsx(hn,{value:"activity",className:"space-y-4",children:s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Activity log will be shown here"})})})]})]}),e.subscription&&s.jsx(XUe,{subscription:e.subscription,open:a,onClose:()=>i(!1),onSuccess:n}),s.jsx(Yce,{open:o,onOpenChange:l,userId:e.id,userEmail:e.email,currentSubscription:e.subscription,onSuccess:n})]})}function ZUe({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(!1),d=async()=>{try{u(!0),Me({title:"Feature Not Available",description:"Account suspension requires database migration. Coming soon.",variant:"destructive"}),r()}catch(f){Me({title:"Error",description:f.message,variant:"destructive"})}finally{u(!1)}};return s.jsx(Tn,{open:t,onOpenChange:r,children:s.jsxs(jn,{children:[s.jsx(An,{children:s.jsx(Pn,{children:"Suspend Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[s.jsx(mc,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Warning"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Suspending this account will prevent the user from logging in and make their store inaccessible."})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"reason",children:"Reason for Suspension"}),s.jsxs(_r,{value:a,onValueChange:i,children:[s.jsx(vr,{id:"reason",children:s.jsx(jr,{placeholder:"Select a reason"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"violation",children:"Policy Violation"}),s.jsx(Ke,{value:"non-payment",children:"Non-payment"}),s.jsx(Ke,{value:"fraud",children:"Fraudulent Activity"}),s.jsx(Ke,{value:"spam",children:"Spam"}),s.jsx(Ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"notes",children:"Internal Notes"}),s.jsx(_a,{id:"notes",placeholder:"Add any additional notes about this suspension...",value:o,onChange:f=>l(f.target.value),rows:4})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:r,disabled:c,children:"Cancel"}),s.jsx(ie,{variant:"destructive",onClick:d,disabled:!a||c,children:c?"Suspending...":"Confirm Suspend"})]})]})})}function QUe({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=j.useState(""),[o,l]=j.useState(!1),c=async()=>{if(a!=="DELETE"){Me({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:u,error:d}=await Q.functions.invoke("delete-user-account",{body:{userId:e.id}});if(d)throw d;if(!u.success)throw new Error(u.error||"Failed to delete user account");Me({title:"Account Completely Deleted",description:`${e.email}'s account, all data, and authentication records have been permanently deleted`}),n(),r()}catch(u){Me({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"})}finally{l(!1)}};return s.jsx(Tn,{open:t,onOpenChange:r,children:s.jsxs(jn,{children:[s.jsx(An,{children:s.jsx(Pn,{children:"Delete Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(ra,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"Permanent Action"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This action cannot be undone. All data will be permanently deleted."})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"What will be deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Authentication credentials (cannot login anymore)"}),s.jsx("li",{children:"User account and profile"}),s.jsx("li",{children:"Store data and settings"}),s.jsx("li",{children:"All products"}),s.jsx("li",{children:"Subscription history"}),s.jsx("li",{children:"All transactions"}),s.jsx("li",{children:"Files and assets"})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"confirmation",children:["Type ",s.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm"]}),s.jsx(ze,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here"})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(ie,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,children:o?"Deleting...":"Permanently Delete"})]})]})})}function un(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function bc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function e7e(e,t){const r=un(e);return isNaN(t)?bc(e,NaN):(r.setDate(r.getDate()+t),r)}function t7e(e,t){const r=un(e);if(isNaN(t))return bc(e,NaN);if(!t)return r;const n=r.getDate(),a=bc(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Xce=6048e5,r7e=864e5,Z_=43200,eq=1440;let n7e={};function Yw(){return n7e}function Cb(e,t){const r=Yw(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=un(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function YN(e){return Cb(e,{weekStartsOn:1})}function Jce(e){const t=un(e),r=t.getFullYear(),n=bc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=YN(n),i=bc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=YN(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function tq(e){const t=un(e);return t.setHours(0,0,0,0),t}function XN(e){const t=un(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Zce(e,t){const r=tq(e),n=tq(t),a=+r-XN(r),i=+n-XN(n);return Math.round((a-i)/r7e)}function s7e(e){const t=Jce(e),r=bc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),YN(r)}function Bj(e,t){const r=un(e),n=un(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function a7e(e){return bc(e,Date.now())}function i7e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function o7e(e){if(!i7e(e)&&typeof e!="number")return!1;const t=un(e);return!isNaN(Number(t))}function l7e(e,t){const r=un(e),n=un(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function JN(e,t){const r=un(e),n=un(t),a=rq(r,n),i=Math.abs(Zce(r,n));r.setDate(r.getDate()-a*i);const o=+(rq(r,n)===-a),l=a*(i-o);return l===0?0:l}function rq(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function c7e(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function u7e(e,t){return+un(e)-+un(t)}function d7e(e){const t=un(e);return t.setHours(23,59,59,999),t}function Qce(e){const t=un(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function f7e(e){const t=un(e);return+d7e(t)==+Qce(t)}function h7e(e,t){const r=un(e),n=un(t),a=Bj(r,n),i=Math.abs(l7e(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Bj(r,n)===-a;f7e(un(e))&&i===1&&Bj(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function m7e(e,t,r){const n=u7e(e,t)/1e3;return c7e(r?.roundingMethod)(n)}function nq(e){const t=un(e);return t.setDate(1),t.setHours(0,0,0,0),t}function p7e(e){const t=un(e),r=bc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const g7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x7e=(e,t,r)=>{let n;const a=g7e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function cA(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const v7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w7e={date:cA({formats:v7e,defaultWidth:"full"}),time:cA({formats:y7e,defaultWidth:"full"}),dateTime:cA({formats:b7e,defaultWidth:"full"})},_7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j7e=(e,t,r,n)=>_7e[e];function xv(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const N7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A7e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},P7e={ordinalNumber:A7e,era:xv({values:N7e,defaultWidth:"wide"}),quarter:xv({values:S7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xv({values:k7e,defaultWidth:"wide"}),day:xv({values:C7e,defaultWidth:"wide"}),dayPeriod:xv({values:E7e,defaultWidth:"wide",formattingValues:T7e,defaultFormattingWidth:"wide"})};function vv(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?R7e(l,f=>f.test(o)):O7e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function O7e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function R7e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function D7e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const I7e=/^(\d+)(th|st|nd|rd)?/i,M7e=/\d+/i,F7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L7e={any:[/^b/i,/^(a|c)/i]},$7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},B7e={any:[/1/i,/2/i,/3/i,/4/i]},U7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},q7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G7e={ordinalNumber:D7e({matchPattern:I7e,parsePattern:M7e,valueCallback:e=>parseInt(e,10)}),era:vv({matchPatterns:F7e,defaultMatchWidth:"wide",parsePatterns:L7e,defaultParseWidth:"any"}),quarter:vv({matchPatterns:$7e,defaultMatchWidth:"wide",parsePatterns:B7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vv({matchPatterns:U7e,defaultMatchWidth:"wide",parsePatterns:V7e,defaultParseWidth:"any"}),day:vv({matchPatterns:z7e,defaultMatchWidth:"wide",parsePatterns:q7e,defaultParseWidth:"any"}),dayPeriod:vv({matchPatterns:W7e,defaultMatchWidth:"any",parsePatterns:H7e,defaultParseWidth:"any"})},eue={code:"en-US",formatDistance:x7e,formatLong:w7e,formatRelative:j7e,localize:P7e,match:G7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K7e(e){const t=un(e);return Zce(t,p7e(t))+1}function Y7e(e){const t=un(e),r=+YN(t)-+s7e(t);return Math.round(r/Xce)+1}function tue(e,t){const r=un(e),n=r.getFullYear(),a=Yw(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=bc(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Cb(o,t),c=bc(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Cb(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function X7e(e,t){const r=Yw(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=tue(e,t),i=bc(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Cb(i,t)}function J7e(e,t){const r=un(e),n=+Cb(r,t)-+X7e(r,t);return Math.round(n/Xce)+1}function wn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ld={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return wn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):wn(r+1,2)},d(e,t){return wn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return wn(e.getHours()%12||12,t.length)},H(e,t){return wn(e.getHours(),t.length)},m(e,t){return wn(e.getMinutes(),t.length)},s(e,t){return wn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return wn(a,t.length)}},eg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sq={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ld.y(e,t)},Y:function(e,t,r,n){const a=tue(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return wn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):wn(i,t.length)},R:function(e,t){const r=Jce(e);return wn(r,t.length)},u:function(e,t){const r=e.getFullYear();return wn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return wn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return wn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ld.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return wn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=J7e(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):wn(a,t.length)},I:function(e,t,r){const n=Y7e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):wn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ld.d(e,t)},D:function(e,t,r){const n=K7e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):wn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return wn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return wn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return wn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=eg.noon:n===0?a=eg.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=eg.evening:n>=12?a=eg.afternoon:n>=4?a=eg.morning:a=eg.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ld.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ld.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):wn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):wn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ld.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ld.s(e,t)},S:function(e,t){return Ld.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iq(n);case"XXXX":case"XX":return Ch(n);case"XXXXX":case"XXX":default:return Ch(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iq(n);case"xxxx":case"xx":return Ch(n);case"xxxxx":case"xxx":default:return Ch(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aq(n,":");case"OOOO":default:return"GMT"+Ch(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aq(n,":");case"zzzz":default:return"GMT"+Ch(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return wn(n,t.length)},T:function(e,t,r){const n=e.getTime();return wn(n,t.length)}};function aq(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+wn(i,2)}function iq(e,t){return e%60===0?(e>0?"-":"+")+wn(Math.abs(e)/60,2):Ch(e,t)}function Ch(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=wn(Math.trunc(n/60),2),i=wn(n%60,2);return r+a+t+i}const oq=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},rue=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z7e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return oq(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",oq(n,t)).replace("{{time}}",rue(a,t))},Q7e={p:rue,P:Z7e},eVe=/^D+$/,tVe=/^Y+$/,rVe=["D","DD","YY","YYYY"];function nVe(e){return eVe.test(e)}function sVe(e){return tVe.test(e)}function aVe(e,t,r){const n=iVe(e,t,r);if(console.warn(n),rVe.includes(e))throw new RangeError(n)}function iVe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oVe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lVe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cVe=/^'([^]*?)'?$/,uVe=/''/g,dVe=/[a-zA-Z]/;function br(e,t,r){const n=Yw(),a=n.locale??eue,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=un(e);if(!o7e(l))throw new RangeError("Invalid time value");let c=t.match(lVe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=Q7e[f];return m(d,a.formatLong)}return d}).join("").match(oVe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:fVe(d)};if(sq[f])return{isToken:!0,value:d};if(f.match(dVe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(sVe(f)||nVe(f))&&aVe(f,t,String(e));const m=sq[f[0]];return m(l,f,a.localize,u)}).join("")}function fVe(e){const t=e.match(cVe);return t?t[1].replace(uVe,"'"):e}function hVe(e,t,r){const n=Yw(),a=r?.locale??n.locale??eue,i=2520,o=Bj(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=un(t),u=un(e)):(c=un(e),u=un(t));const d=m7e(u,c),f=(XN(u)-XN(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<eq){const y=Math.round(m/60);return a.formatDistance("aboutXHours",y,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<Z_){const y=Math.round(m/eq);return a.formatDistance("xDays",y,l)}else if(m<Z_*2)return p=Math.round(m/Z_),a.formatDistance("aboutXMonths",p,l)}if(p=h7e(u,c),p<12){const y=Math.round(m/Z_);return a.formatDistance("xMonths",y,l)}else{const y=p%12,g=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",g,l):y<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Xg(e,t){return hVe(e,a7e(e),t)}function mVe(e,t){return t7e(e,-t)}function pVe(){const e=xr(),[t,r]=j.useState([]),[n,a]=j.useState({totalUsers:0,activeStores:0,trialUsers:0,paidUsers:0,expired:0,cancelled:0,inactiveStores:0,noStore:0}),[i,o]=j.useState(!0),[l,c]=j.useState(""),[u,d]=j.useState("all"),[f,m]=j.useState("all"),[p,y]=j.useState("all"),[g,v]=j.useState("newest"),[_,w]=j.useState([]),[b,E]=j.useState(1),[S,C]=j.useState(50),[k,R]=j.useState(0),[P,O]=j.useState(1),[A,D]=j.useState(null),[F,B]=j.useState(!1),[z,q]=j.useState(!1),[G,Y]=j.useState(!1),[M,H]=j.useState(!1),[Z,L]=j.useState(!1);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){J(),V();return}const{data:{user:Ae}}=await Q.auth.getUser();if(!Ae){Me({title:"Access Denied",description:"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}const{data:fe,error:Je}=await Q.from("user_roles").select("role").eq("user_id",Ae.id).eq("role","super_admin");if(Je||!fe||fe.length===0){Me({title:"Access Denied",description:Je?.message||"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}J(),V()})()},[e]);const J=async(pe=b)=>{try{o(!0);const{data:{session:Ee}}=await Q.auth.getSession();if(!Ee?.access_token)throw new Error("Not authenticated");const Ae=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/get-all-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee.access_token}`},body:JSON.stringify({page:pe,perPage:S})});if(!Ae.ok){const Je=await Ae.json();throw new Error(Je.error||"Failed to fetch users")}const fe=await Ae.json();r(fe.users||[]),R(fe.pagination?.totalCount||0),O(fe.pagination?.totalPages||1),E(fe.pagination?.page||1),fe.pagination?.totalCount!==void 0&&a(Je=>({...Je,totalUsers:fe.pagination.totalCount}))}catch(Ee){console.error("Error fetching users:",Ee),Me({title:"Error",description:Ee.message,variant:"destructive"})}finally{o(!1)}},V=async()=>{try{const{data:pe}=await Q.from("profiles").select("user_id"),{data:Ee}=await Q.from("user_roles").select("user_id").eq("role","super_admin"),Ae=new Set(Ee?.map(Be=>Be.user_id)||[]),fe=(pe||[]).filter(Be=>!Ae.has(Be.user_id)).length,{count:Je}=await Q.from("stores").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:Ye}=await Q.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","trial"),{count:ce}=await Q.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active"),{count:we}=await Q.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","expired"),{count:Oe}=await Q.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","cancelled"),He=new Date;He.setDate(He.getDate()-60);const{data:Ge}=await Q.from("stores").select("id, last_admin_visit");let Ne=0;if(Ge)for(const Be of Ge){const{data:Ie}=await Q.from("orders").select("id").eq("store_id",Be.id).gte("created_at",He.toISOString()).limit(1),de=Ie&&Ie.length>0,Re=Be.last_admin_visit&&new Date(Be.last_admin_visit)>=He;!de&&!Re&&Ne++}const{data:ee}=await Q.from("stores").select("user_id"),_e=new Set(ee?.map(Be=>Be.user_id)||[]),ge=(pe||[]).filter(Be=>!_e.has(Be.user_id)&&!Ae.has(Be.user_id)).length;a({totalUsers:fe,activeStores:Je||0,trialUsers:Ye||0,paidUsers:ce||0,expired:we||0,cancelled:Oe||0,inactiveStores:Ne,noStore:ge})}catch(pe){console.error("Error fetching stats:",pe)}},X=t.filter(pe=>{const Ee=pe.email.toLowerCase().includes(l.toLowerCase())||pe.store?.name?.toLowerCase().includes(l.toLowerCase())||pe.store?.slug?.toLowerCase().includes(l.toLowerCase()),Ae=u==="all"||pe.subscription?.plan?.name?.toLowerCase()===u.toLowerCase(),fe=f==="all"||pe.subscription?.status===f;return Ee&&Ae&&fe&&(()=>{if(p==="all")return!0;if(p==="no-store")return!pe.store;if(p==="inactive"){if(!pe.store)return!1;const Ye=new Date;Ye.setDate(Ye.getDate()-60);const ce=pe.lastOrderDate&&new Date(pe.lastOrderDate)>=Ye,we=pe.store.last_admin_visit&&new Date(pe.store.last_admin_visit)>=Ye;return!ce&&!we}if(p==="active"){if(!pe.store)return!1;const Ye=new Date;Ye.setDate(Ye.getDate()-60);const ce=pe.lastOrderDate&&new Date(pe.lastOrderDate)>=Ye,we=pe.store.last_admin_visit&&new Date(pe.store.last_admin_visit)>=Ye;return ce||we}return!0})()}),se=[...X].sort((pe,Ee)=>{switch(g){case"newest":return new Date(Ee.created_at).getTime()-new Date(pe.created_at).getTime();case"oldest":return new Date(pe.created_at).getTime()-new Date(Ee.created_at).getTime();case"name":return(pe.full_name||pe.email).localeCompare(Ee.full_name||Ee.email);default:return 0}}),ue=pe=>{pe>=1&&pe<=P&&pe!==b&&J(pe)},W=pe=>{w(pe?se.map(Ee=>Ee.id):[])},ae=(pe,Ee)=>{w(Ee?[..._,pe]:_.filter(Ae=>Ae!==pe))},oe=async()=>{try{const pe=await Xm(()=>Promise.resolve().then(()=>wie),void 0),Ee=await Promise.all(X.map(async Ye=>{let ce=null;if(Ye.store?.id){const{data:we}=await Q.from("stores").select("whatsapp_number, description, hero_banner_url, logo_url, custom_domain, social_links").eq("id",Ye.store.id).single();ce=we}return{"User ID":Ye.id,Email:Ye.email,"Full Name":Ye.full_name||"N/A",Phone:Ye.phone||"N/A","Store Name":Ye.store?.name||"No Store","Store Slug":Ye.store?.slug||"N/A","Store WhatsApp":ce?.whatsapp_number||"N/A","Store Description":ce?.description||"N/A","Custom Domain":ce?.custom_domain||"N/A","Store Logo":ce?.logo_url||"N/A","Hero Banner":ce?.hero_banner_url||"N/A","Social Links":ce?.social_links?JSON.stringify(ce.social_links):"N/A","Total Orders":Ye.orderCount,"Total Revenue":`${Ye.totalRevenue}`,"Last Order Date":Ye.lastOrderDate?new Date(Ye.lastOrderDate).toLocaleString():"No orders","Last Admin Visit":Ye.store?.last_admin_visit?new Date(Ye.store.last_admin_visit).toLocaleString():"No visits","Subscription Plan":Ye.subscription?.plan?.name||"Free","Plan Status":Ye.subscription?.status||"None","Billing Cycle":Ye.subscription?.billing_cycle||"N/A","Trial Ends":Ye.subscription?.trial_ends_at?new Date(Ye.subscription.trial_ends_at).toLocaleDateString():"N/A","Joined Date":new Date(Ye.created_at).toLocaleString()}})),Ae=pe.utils.json_to_sheet(Ee),fe=[{wch:36},{wch:30},{wch:20},{wch:15},{wch:25},{wch:20},{wch:15},{wch:40},{wch:25},{wch:50},{wch:50},{wch:30},{wch:12},{wch:15},{wch:20},{wch:20},{wch:15},{wch:12},{wch:12},{wch:15},{wch:20}];Ae["!cols"]=fe;const Je=pe.utils.book_new();pe.utils.book_append_sheet(Je,Ae,"Users"),pe.writeFile(Je,`users_export_${new Date().toISOString().split("T")[0]}.xlsx`),Me({title:"Success",description:`Exported ${Ee.length} users to Excel`})}catch(pe){Me({title:"Export Failed",description:pe.message,variant:"destructive"})}},K=async()=>{try{H(!0);const pe=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/sync-missing-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(!pe.ok)throw new Error("Failed to sync profiles");const Ee=await pe.json();Me({title:"Success",description:Ee.message+(Ee.count>0?` (${Ee.count} profiles synced)`:"")}),Ee.count>0&&J()}catch(pe){Me({title:"Error",description:pe.message,variant:"destructive"})}finally{H(!1)}},be=pe=>{if(!pe)return s.jsx(jt,{variant:"secondary",children:"No Plan"});const{status:Ee,trial_ends_at:Ae}=pe;if(Ee==="active")return s.jsx(jt,{className:"bg-green-500",children:"Active"});if(Ee==="trial"){const fe=Ae?Math.ceil((new Date(Ae).getTime()-new Date().getTime())/864e5):0;return s.jsxs(jt,{variant:"outline",className:"border-orange-500 text-orange-500",children:["Trial (",fe,"d left)"]})}else{if(Ee==="expired")return s.jsx(jt,{variant:"destructive",children:"Expired"});if(Ee==="cancelled")return s.jsx(jt,{variant:"secondary",children:"Cancelled"})}return s.jsx(jt,{variant:"secondary",children:Ee})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Users & Stores Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all users and their stores"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ie,{children:[s.jsx(qJ,{className:"w-4 h-4 mr-2"}),"Manually Add User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.totalUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Stores"}),s.jsx("p",{className:"text-2xl font-bold",children:n.activeStores})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-yellow-500 cursor-pointer",onClick:()=>y("no-store"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No Store"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.noStore}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Not created store"})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.trialUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.paidUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),s.jsx("p",{className:"text-2xl font-bold",children:n.expired})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),s.jsx("p",{className:"text-2xl font-bold",children:n.cancelled})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-orange-500 cursor-pointer",onClick:()=>y("inactive"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Stores"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:n.inactiveStores}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No activity in 60 days"})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(ze,{placeholder:"Search by email, store name, or slug",value:l,onChange:pe=>c(pe.target.value),className:"w-full"})}),s.jsxs(_r,{value:u,onValueChange:d,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"All Plans"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Plans"}),s.jsx(Ke,{value:"free",children:"Free"}),s.jsx(Ke,{value:"starter",children:"Starter"}),s.jsx(Ke,{value:"pro",children:"Pro"}),s.jsx(Ke,{value:"enterprise",children:"Enterprise"})]})]}),s.jsxs(_r,{value:f,onValueChange:m,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"All Status"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"active",children:"Active"}),s.jsx(Ke,{value:"trial",children:"Trial"}),s.jsx(Ke,{value:"expired",children:"Expired"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(_r,{value:p,onValueChange:pe=>y(pe),children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Activity"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Users"}),s.jsx(Ke,{value:"no-store",children:"No Store Created"}),s.jsx(Ke,{value:"active",children:"Active (recent orders)"}),s.jsx(Ke,{value:"inactive",children:"Inactive (60+ days)"})]})]}),s.jsxs(_r,{value:g,onValueChange:v,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Sort by"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"newest",children:"Newest First"}),s.jsx(Ke,{value:"oldest",children:"Oldest First"}),s.jsx(Ke,{value:"name",children:"Name A-Z"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",onClick:()=>{J(),V()},disabled:i,children:[s.jsx(Wo,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh Data"]}),s.jsxs(ie,{variant:"outline",onClick:K,disabled:M,children:[s.jsx(Wo,{className:`w-4 h-4 mr-2 ${M?"animate-spin":""}`}),"Sync Profiles"]}),s.jsxs(ie,{variant:"outline",onClick:oe,children:[s.jsx($i,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),_.length>0&&s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium",children:[_.length," users selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",children:[s.jsx($i,{className:"w-4 h-4 mr-2"}),"Export Selected"]}),s.jsx(ie,{variant:"outline",size:"sm",children:"Change Plan"}),s.jsx(ie,{variant:"outline",size:"sm",children:"Suspend"}),s.jsxs(ie,{variant:"outline",size:"sm",children:[s.jsx(pc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>w([]),children:"Deselect All"})]})]}),s.jsxs("div",{className:"bg-card rounded-lg border",children:[s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{className:"w-12",children:s.jsx(hi,{checked:se.length>0&&_.length===se.length,onCheckedChange:W})}),s.jsx(et,{children:"User Info"}),s.jsx(et,{children:"Store Info"}),s.jsx(et,{children:"Revenue"}),s.jsx(et,{children:"Plan"}),s.jsx(et,{children:"Status"}),s.jsx(et,{children:"Created Date"}),s.jsx(et,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:i?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):se.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:8,className:"text-center py-8",children:"No users found"})}):se.map(pe=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(hi,{checked:_.includes(pe.id),onCheckedChange:Ee=>ae(pe.id,Ee)})}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dce,{children:s.jsx(Ice,{children:pe.email[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:pe.email}),pe.full_name&&s.jsx("p",{className:"text-sm text-muted-foreground",children:pe.full_name}),pe.phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:pe.phone})]})]})}),s.jsx(Xe,{children:pe.store?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:pe.store.name}),(()=>{const Ee=new Date;Ee.setDate(Ee.getDate()-60);const Ae=pe.lastOrderDate&&new Date(pe.lastOrderDate)>=Ee,fe=pe.store.last_admin_visit&&new Date(pe.store.last_admin_visit)>=Ee;if(!Ae&&!fe){const Ye=[pe.lastOrderDate,pe.store.last_admin_visit].filter(Boolean).map(we=>new Date(we)).sort((we,Oe)=>Oe.getTime()-we.getTime())[0],ce=Ye?Math.floor((Date.now()-Ye.getTime())/(1e3*60*60*24)):null;return s.jsxs(jt,{variant:"outline",className:"border-orange-500 text-orange-500 text-xs",children:["Inactive ",ce?`${ce}d`:""]})}return null})()]}),s.jsxs("a",{href:`/${pe.store.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[pe.store.slug,s.jsx(Ga,{className:"h-3 w-3"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[pe.orderCount," orders",pe.lastOrderDate&&s.jsxs(s.Fragment,{children:["  Last: ",Xg(new Date(pe.lastOrderDate),{addSuffix:!0})]}),!pe.lastOrderDate&&s.jsx(s.Fragment,{children:"  No orders yet"})]}),pe.store.last_admin_visit&&s.jsxs("p",{children:["Admin visit: ",Xg(new Date(pe.store.last_admin_visit),{addSuffix:!0})]}),!pe.store.last_admin_visit&&s.jsx("p",{children:"No admin visits tracked"})]})]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(jt,{variant:"outline",className:"border-yellow-500 text-yellow-600 bg-yellow-50",children:"No Store Created"})})}),s.jsxs(Xe,{children:[s.jsxs("p",{className:"font-medium",children:["",pe.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"total revenue"})]}),s.jsxs(Xe,{children:[s.jsx(jt,{variant:"outline",children:pe.subscription?.plan?.name||"Free"}),pe.subscription&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:pe.subscription.billing_cycle})]}),s.jsx(Xe,{children:be(pe.subscription)}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(pe.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(pe.created_at),{addSuffix:!0})})]})}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{D(pe),B(!0)},children:s.jsx(Ls,{className:"w-4 h-4"})}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsx(ie,{variant:"ghost",size:"sm",children:s.jsx(Oge,{className:"w-4 h-4"})})}),s.jsxs(ou,{align:"end",children:[s.jsxs(Fn,{onClick:()=>{D(pe),B(!0)},children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs(Fn,{onClick:()=>{D(pe),L(!0)},children:[s.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Assign Plan"]}),pe.store&&s.jsxs(Fn,{onClick:()=>window.open(`/${pe.store.slug}`,"_blank"),children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Visit Store"]}),s.jsxs(Fn,{onClick:async()=>{const Ee=prompt("Enter email subject:");if(!Ee)return;const Ae=prompt("Enter email message:");if(Ae)try{const{error:fe}=await Q.functions.invoke("send-user-email",{body:{to:pe.email,subject:Ee,message:Ae}});if(fe)throw fe;Me({title:"Email sent",description:`Email sent successfully to ${pe.email}`})}catch(fe){Me({title:"Error",description:fe.message,variant:"destructive"})}},children:[s.jsx(pc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(Fn,{onClick:()=>{D(pe),q(!0)},children:"Suspend Account"}),s.jsxs(Fn,{onClick:()=>{D(pe),Y(!0)},className:"text-destructive",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},pe.id))})]}),P>1&&s.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*S+1,"-",Math.min(b*S,k)," of"," ",k," users"]}),s.jsx(EF,{children:s.jsxs(TF,{children:[s.jsx(em,{children:s.jsx(AF,{onClick:()=>ue(b-1),className:b===1?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{const pe=[];let Ae=Math.max(1,b-Math.floor(2.5)),fe=Math.min(P,Ae+5-1);fe-Ae+1<5&&(Ae=Math.max(1,fe-5+1));for(let Je=Ae;Je<=fe;Je++)pe.push(s.jsx(em,{children:s.jsx(Tw,{onClick:()=>ue(Je),isActive:b===Je,className:"cursor-pointer",children:Je})},Je));return pe})(),s.jsx(em,{children:s.jsx(PF,{onClick:()=>ue(b+1),className:b===P?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]}),A&&s.jsxs(s.Fragment,{children:[s.jsx(JUe,{user:A,open:F,onClose:()=>{B(!1),D(null)},onRefresh:J}),s.jsx(ZUe,{user:A,open:z,onClose:()=>{q(!1),D(null)},onSuccess:J}),s.jsx(QUe,{user:A,open:G,onClose:()=>{Y(!1),D(null)},onSuccess:J}),s.jsx(Yce,{userId:A.id,userEmail:A.email,currentSubscription:A.subscription,open:Z,onOpenChange:pe=>{L(pe),pe||D(null)},onSuccess:J})]})]})}function gVe({open:e,onOpenChange:t,helperId:r,helperName:n}){const[a,i]=j.useState(!0),[o,l]=j.useState(null),[c,u]=j.useState(null),[d,f]=j.useState([]),[m,p]=j.useState({total_earned:0,store_referrals:0,product_sales:0,network_bonus:0}),[y,g]=j.useState(null),[v,_]=j.useState(null);j.useEffect(()=>{e&&r&&w()},[e,r]);const w=async()=>{i(!0);try{await Promise.all([b(),E(),S(),C()])}catch(A){console.error("Error loading helper data:",A),ot.error("Failed to load helper details")}finally{i(!1)}},b=async()=>{const{data:A,error:D}=await Q.from("helpers").select("*").eq("id",r).single();if(D)throw D;l(A)},E=async()=>{const{data:A,error:D}=await Q.from("helper_applications").select("*").eq("user_id",r).single();if(D){console.warn("No application found for helper");return}if(u(A),A.recruited_by_helper_id){const{data:F}=await Q.from("helpers").select("full_name").eq("id",A.recruited_by_helper_id).single();F&&g(F.full_name)}if(A.approved_by_admin){const{data:F}=await Q.from("profiles").select("full_name").eq("user_id",A.approved_by_admin).single();F&&_(F.full_name)}},S=async()=>{const{data:A,error:D}=await Q.from("store_referrals").select(`
        store_id,
        store_owner_name,
        created_at,
        stores (
          name,
          slug
        )
      `).eq("helper_id",r);if(D){console.error("Error loading recruited stores:",D);return}const F=(A||[]).map(B=>({store_id:B.store_id,store_name:B.stores?.name||"Unknown Store",store_slug:B.stores?.slug||"",store_owner_name:B.store_owner_name,created_at:B.created_at}));f(F)},C=async()=>{const{data:A,error:D}=await Q.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status").eq("earning_helper_id",r);if(D){console.error("Error loading commission data:",D);return}let F=0,B=0,z=0,q=0;(A||[]).forEach(G=>{const Y=G.amount||0;F+=Y,G.commission_type==="store_referral"?B+=Y:G.commission_type==="product_sale"?z+=Y:G.commission_type==="network_bonus"&&(q+=Y)}),p({total_earned:F,store_referrals:B,product_sales:z,network_bonus:q})},k=(A,D)=>{navigator.clipboard.writeText(A),ot.success(`${D} copied to clipboard!`)},R=()=>{const A=`/helper/dashboard?impersonate=${r}`;window.open(A,"_blank")},P=()=>{ot.info("PDF export feature coming soon!")};if(a||!o)return s.jsx(Tn,{open:e,onOpenChange:t,children:s.jsx(jn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper details..."})]})})})});const O=Math.floor((new Date().getTime()-new Date(o.created_at).getTime())/(1e3*60*60*24));return s.jsx(Tn,{open:e,onOpenChange:t,children:s.jsxs(jn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(An,{children:s.jsxs(Pn,{className:"flex items-center gap-2",children:[s.jsx(e0,{className:"h-5 w-5"}),"Helper Details - ",n]})}),s.jsxs(Qu,{defaultValue:"overview",className:"w-full",children:[s.jsxs(ru,{className:"grid w-full grid-cols-4",children:[s.jsx(fn,{value:"overview",children:"Overview"}),s.jsx(fn,{value:"performance",children:"Performance"}),s.jsxs(fn,{value:"stores",children:["Recruited Stores (",d.length,")"]}),s.jsx(fn,{value:"activity",children:"Activity"})]}),s.jsxs(hn,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(e0,{className:"h-4 w-4"}),"Personal Information"]})}),s.jsxs(Te,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:o.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:o.email}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>k(o.email,"Email"),children:s.jsx(Ql,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:o.phone}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>k(o.phone,"Phone"),children:s.jsx(Ql,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helper ID"}),s.jsx("p",{className:"font-mono text-sm",children:o.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),s.jsx(jt,{variant:o.status==="Active"?"default":"destructive",children:o.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Referral Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono font-medium",children:o.referral_code}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>k(o.referral_code,"Referral Code"),children:s.jsx(Ql,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(ss,{className:"h-4 w-4"}),"Bank Account Details"]})}),s.jsx(Te,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Name"}),s.jsx("p",{className:"font-medium",children:c.bank_account_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_account_number}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>k(c.bank_account_number,"Account Number"),children:s.jsx(Ql,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"IFSC Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_ifsc_code}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>k(c.bank_ifsc_code,"IFSC Code"),children:s.jsx(Ql,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank Name"}),s.jsx("p",{className:"font-medium",children:c.bank_name})]}),s.jsx("div",{className:"pt-2",children:s.jsx(jt,{variant:"outline",className:"bg-green-50",children:" Verified"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No bank details available"})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(zc,{className:"h-4 w-4"}),"Application Information"]})}),s.jsx(Te,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Applied On"}),s.jsx("p",{className:"font-medium text-sm",children:br(new Date(c.created_at),"PPp")})]}),c.approved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved On"}),s.jsx("p",{className:"font-medium text-sm",children:br(new Date(c.approved_at),"PPp")})]}),v&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved By"}),s.jsx("p",{className:"font-medium",children:v})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:c.why_helper||"Not provided"})]}),y&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recruited By"}),s.jsx("p",{className:"font-medium",children:y})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No application details available"})})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-sm",children:"Quick Statistics"})}),s.jsx(Te,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",m.total_earned.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total Earned"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stores Recruited"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:O}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days Active"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[o.direct_commission_rate,"% / ",o.network_commission_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct / Network Rate"})]})]})})]})]}),s.jsxs(hn,{value:"performance",className:"space-y-4",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(Cl,{className:"h-4 w-4"}),"Commission Breakdown"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hh,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Store Referrals"})]}),s.jsxs("span",{className:"font-bold text-blue-600",children:["",m.store_referrals.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Product Sales"})]}),s.jsxs("span",{className:"font-bold text-green-600",children:["",m.product_sales.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm",children:"Network Bonus"})]}),s.jsxs("span",{className:"font-bold text-purple-600",children:["",m.network_bonus.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded-lg border-2 border-primary",children:[s.jsx("span",{className:"font-semibold",children:"Total Earned"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",m.total_earned.toLocaleString()]})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-sm",children:"Status History"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Active"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[br(new Date(o.created_at),"PPp"),v&&` (Approved by ${v})`]})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Application Received"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:br(new Date(c.created_at),"PPp")})]})]})]})})]})]}),s.jsx(hn,{value:"stores",className:"space-y-4",children:s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(Hh,{className:"h-4 w-4"}),"Recruited Stores (",d.length," Total)"]}),d.length>0&&s.jsxs(jt,{variant:"outline",children:["Avg. Commission: ",d.length>0?Math.round(m.store_referrals/d.length):0]})]})}),s.jsx(Te,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Hh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No recruited stores yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Helper hasn't referred any stores"})]}):s.jsx("div",{className:"space-y-3",children:d.map((A,D)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-semibold",children:[D+1,". ",A.store_name]}),s.jsx(jt,{variant:"outline",className:"text-xs",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Owner: ",A.store_owner_name," | Joined:"," ",br(new Date(A.created_at),"PP")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>window.open(`/store/${A.store_id}`,"_blank"),children:[s.jsx(Ls,{className:"h-3 w-3 mr-1"}),"View Store"]}),A.store_slug&&s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>window.open(`https://${A.store_slug}.digitaldukandar.in`,"_blank"),children:[s.jsx(Ga,{className:"h-3 w-3 mr-1"}),"Visit Website"]})]})]})})},A.store_id))})})]})}),s.jsx(hn,{value:"activity",className:"space-y-4",children:s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),"Recent Activity"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[d.slice(0,5).map(A=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsxs("p",{children:["Recruited store ",s.jsxs("span",{className:"font-semibold",children:['"',A.store_name,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:br(new Date(A.created_at),"PPp")})]})]},A.store_id)),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Approved as helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.approved_at?br(new Date(c.approved_at),"PPp"):"N/A"})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Applied for helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:br(new Date(c.created_at),"PPp")})]})]})]})})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end mt-4 pt-4 border-t",children:[s.jsxs(ie,{variant:"outline",onClick:R,children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"View as Helper"]}),s.jsxs(ie,{variant:"outline",onClick:P,children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsx(ie,{variant:"outline",onClick:()=>t(!1),children:"Close"})]})]})})}function xVe(){const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState("pending"),[i,o]=j.useState(""),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState(!1),[p,y]=j.useState(!1),[g,v]=j.useState(!1),[_,w]=j.useState(!1),[b,E]=j.useState(!1),[S,C]=j.useState(null),[k,R]=j.useState(null),[P,O]=j.useState(""),[A,D]=j.useState({direct_rate:10,network_rate:5,reason:""});j.useEffect(()=>{F()},[]);const F=async()=>{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await B(),r(!1)},B=async()=>{await Promise.all([z(),q()])},z=async()=>{try{const{data:ue,error:W}=await Q.from("helper_applications").select("*").order("created_at",{ascending:!1});if(W)throw W;c(ue||[])}catch(ue){console.error("Error loading applications:",ue),ot.error("Failed to load applications")}},q=async()=>{try{const{data:ue,error:W}=await Q.from("helpers").select("*").order("created_at",{ascending:!1});if(W)throw W;d(ue||[])}catch(ue){console.error("Error loading helpers:",ue),ot.error("Failed to load helpers")}},Y={total:l.filter(ue=>ue.application_status!=="Approved").length+u.length,pending:l.filter(ue=>ue.application_status==="Pending").length,approved:u.filter(ue=>ue.status==="Active").length,rejected:l.filter(ue=>ue.application_status==="Rejected").length,suspended:u.filter(ue=>ue.status==="Suspended").length},M=()=>{let ue=[];switch(n){case"pending":ue=l.filter(W=>W.application_status==="Pending").map(W=>({...W,type:"application"}));break;case"approved":ue=u.map(W=>({...W,type:"helper"}));break;case"rejected":ue=l.filter(W=>W.application_status==="Rejected").map(W=>({...W,type:"application"}));break;case"all":ue=[...l.filter(W=>W.application_status!=="Approved").map(W=>({...W,type:"application"})),...u.map(W=>({...W,type:"helper"}))];break}return i&&(ue=ue.filter(W=>W.full_name?.toLowerCase().includes(i.toLowerCase())||W.email?.toLowerCase().includes(i.toLowerCase())||W.phone?.includes(i))),ue},H=async ue=>{try{const{data:W,error:ae}=await Q.rpc("approve_helper_application",{p_application_id:ue.id});if(ae)throw console.error("Error calling approve RPC:",ae),new Error(ae.message||"Failed to approve helper");const oe=W;if(!oe?.success)throw console.error("Approve helper failed:",W),new Error(oe?.error||"Approval operation failed");ot.success(`Helper approved! Referral code: ${oe.referralCode}`),await B()}catch(W){console.error("Error approving application:",W),ot.error(W.message||"Failed to approve application")}},Z=async()=>{if(!P.trim()||!S){ot.error("Please provide a rejection reason");return}try{const{error:ue}=await Q.from("helper_applications").update({application_status:"Rejected",rejection_reason:P}).eq("id",S.id);if(ue)throw ue;ot.success("Application rejected"),v(!1),O(""),C(null),await B()}catch(ue){console.error("Error rejecting application:",ue),ot.error("Failed to reject application")}},L=async ue=>{try{const{error:W}=await Q.from("helper_applications").update({application_status:"Pending",rejection_reason:null}).eq("id",ue.id);if(W)throw W;ot.success("Application moved to pending"),await B()}catch(W){console.error("Error reconsidering application:",W),ot.error("Failed to reconsider application")}},J=async ue=>{try{const W=ue.status==="Active"?"Suspended":"Active",{error:ae}=await Q.from("helpers").update({status:W}).eq("id",ue.id);if(ae)throw ae;ot.success(`Helper ${W.toLowerCase()}`),await B()}catch(W){console.error("Error updating helper status:",W),ot.error("Failed to update helper status")}},V=async()=>{if(!(!S&&!k))try{const ue=S?.user_id||k?.id,W=S?"application":"helper";if(!ue){ot.error("Cannot delete: User ID not found");return}const{data:ae,error:oe}=await Q.functions.invoke("delete-helper",{body:{userId:ue,deleteType:W}});if(oe){if(oe.message?.includes("BLOCKED")||oe.message?.includes("store owner")){ot.error(` ${oe.message}`,{duration:8e3}),w(!1);return}throw new Error(oe.message||"Failed to delete")}if(!ae?.success){if(ae?.error?.includes("BLOCKED")||ae?.error?.includes("store owner")){ot.error(` ${ae.error}`,{duration:8e3}),w(!1);return}throw new Error(ae?.error||"Delete operation failed")}S?await Q.from("helper_applications").delete().eq("id",S.id):k&&await Q.from("helpers").delete().eq("id",k.id),ot.success("Deleted successfully"),w(!1),C(null),R(null),await B()}catch(ue){console.error("Error deleting:",ue),ot.error(ue.message||"Failed to delete")}},X=async()=>{if(!A.reason||!k){ot.error("Please provide a reason for changing rates");return}try{const{error:ue}=await Q.from("helpers").update({direct_commission_rate:A.direct_rate,network_commission_rate:A.network_rate,updated_at:new Date().toISOString()}).eq("id",k.id);if(ue)throw ue;ot.success("Commission rates updated successfully"),E(!1),await B()}catch(ue){console.error("Error updating rates:",ue),ot.error("Failed to update commission rates")}},ne=ue=>{let W="",ae="";if(ue.type==="application")switch(W=ue.application_status,W){case"Pending":ae="bg-yellow-500";break;case"Rejected":ae="bg-red-500";break;case"Approved":ae="bg-green-500";break;default:ae="bg-gray-500"}else switch(W=ue.status,W){case"Active":ae="bg-green-500";break;case"Suspended":ae="bg-orange-500";break;default:ae="bg-gray-500"}return s.jsx(jt,{className:ae,children:W})};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper management..."})]})});const se=M();return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Bi,{className:"h-8 w-8"}),"Helper Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all helper applications and approved helpers in one place"})]}),s.jsx(ie,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Se,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("all"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full",children:s.jsx(Bi,{className:"h-5 w-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:Y.total})]})]})})}),s.jsx(Se,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("pending"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-full",children:s.jsx(zc,{className:"h-5 w-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:Y.pending})]})]})})}),s.jsx(Se,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("approved"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:s.jsx(js,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:Y.approved})]})]})})}),s.jsx(Se,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("rejected"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500/10 rounded-full",children:s.jsx(Hn,{className:"h-5 w-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:Y.rejected})]})]})})}),s.jsx(Se,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-full",children:s.jsx(pj,{className:"h-5 w-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspended"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:Y.suspended})]})]})})})]}),s.jsx(Se,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(ze,{placeholder:"Search by name, email, or phone...",value:i,onChange:ue=>o(ue.target.value),className:"pl-10"})]})})}),s.jsxs(Qu,{value:n,onValueChange:a,className:"space-y-4",children:[s.jsxs(ru,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(fn,{value:"pending",className:"gap-2",children:[s.jsx(zc,{className:"h-4 w-4"}),"Pending ",s.jsx(jt,{variant:"secondary",className:"ml-1",children:Y.pending})]}),s.jsxs(fn,{value:"approved",className:"gap-2",children:[s.jsx(js,{className:"h-4 w-4"}),"Approved ",s.jsx(jt,{variant:"secondary",className:"ml-1",children:Y.approved+Y.suspended})]}),s.jsxs(fn,{value:"rejected",className:"gap-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),"Rejected ",s.jsx(jt,{variant:"secondary",className:"ml-1",children:Y.rejected})]}),s.jsxs(fn,{value:"all",className:"gap-2",children:[s.jsx(Bi,{className:"h-4 w-4"}),"All ",s.jsx(jt,{variant:"secondary",className:"ml-1",children:Y.total})]})]}),s.jsx(hn,{value:"pending",children:s.jsx(Se,{children:s.jsx(Te,{className:"p-0",children:se.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(zc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Name"}),s.jsx(et,{children:"Email"}),s.jsx(et,{children:"Phone"}),s.jsx(et,{children:"Applied On"}),s.jsx(et,{children:"Status"}),s.jsx(et,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:se.map(ue=>{const W=ue;return s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:W.full_name}),s.jsx(Xe,{children:W.email}),s.jsx(Xe,{children:W.phone}),s.jsx(Xe,{children:br(new Date(W.created_at),"PP")}),s.jsx(Xe,{children:ne(ue)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>{C(W),m(!0)},children:[s.jsx(Ls,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(ie,{size:"sm",variant:"default",onClick:()=>H(W),children:[s.jsx(js,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(ie,{size:"sm",variant:"destructive",onClick:()=>{C(W),v(!0)},children:[s.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(ie,{size:"sm",variant:"destructive",onClick:()=>{C(W),w(!0)},children:[s.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},W.id)})})]})})})})}),s.jsx(hn,{value:"approved",children:s.jsx(Se,{children:s.jsx(Te,{className:"p-0",children:se.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(js,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No approved helpers"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Helper ID"}),s.jsx(et,{children:"Name"}),s.jsx(et,{children:"Email"}),s.jsx(et,{children:"Phone"}),s.jsx(et,{children:"Referral Code"}),s.jsx(et,{children:"Commission Rates"}),s.jsx(et,{children:"Status"}),s.jsx(et,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:se.map(ue=>{const W=ue;return s.jsxs(Nr,{children:[s.jsxs(Xe,{className:"font-mono",children:[W.id.slice(0,8),"..."]}),s.jsx(Xe,{className:"font-medium",children:W.full_name}),s.jsx(Xe,{children:W.email}),s.jsx(Xe,{children:W.phone}),s.jsx(Xe,{className:"font-mono",children:W.referral_code}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Direct: ",W.direct_commission_rate,"%"]}),s.jsxs("div",{children:["Network: ",W.network_commission_rate,"%"]})]})}),s.jsx(Xe,{children:ne(ue)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(ie,{size:"sm",variant:W.status==="Active"?"destructive":"default",onClick:()=>J(W),children:W.status==="Active"?s.jsxs(s.Fragment,{children:[s.jsx(pj,{className:"h-4 w-4 mr-1"}),"Suspend"]}):s.jsxs(s.Fragment,{children:[s.jsx(jR,{className:"h-4 w-4 mr-1"}),"Activate"]})}),s.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>{R(W),w(!0)},children:s.jsx(Wn,{className:"h-4 w-4"})})]})})]},W.id)})})]})})})})}),s.jsx(hn,{value:"rejected",children:s.jsx(Se,{children:s.jsx(Te,{className:"p-0",children:se.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Hn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No rejected applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Name"}),s.jsx(et,{children:"Email"}),s.jsx(et,{children:"Phone"}),s.jsx(et,{children:"Rejected On"}),s.jsx(et,{children:"Reason"}),s.jsx(et,{children:"Status"}),s.jsx(et,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:se.map(ue=>{const W=ue;return s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:W.full_name}),s.jsx(Xe,{children:W.email}),s.jsx(Xe,{children:W.phone}),s.jsx(Xe,{children:br(new Date(W.created_at),"PP")}),s.jsx(Xe,{className:"max-w-xs truncate",children:W.rejection_reason||"No reason provided"}),s.jsx(Xe,{children:ne(ue)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>{C(W),m(!0)},children:[s.jsx(Ls,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(ie,{size:"sm",variant:"default",onClick:()=>L(W),children:[s.jsx(js,{className:"h-4 w-4 mr-1"}),"Reconsider"]}),s.jsxs(ie,{size:"sm",variant:"destructive",onClick:()=>{C(W),w(!0)},children:[s.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},W.id)})})]})})})})}),s.jsx(hn,{value:"all",children:s.jsx(Se,{children:s.jsx(Te,{className:"p-0",children:se.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No helpers or applications found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Type"}),s.jsx(et,{children:"Name"}),s.jsx(et,{children:"Email"}),s.jsx(et,{children:"Phone"}),s.jsx(et,{children:"Date"}),s.jsx(et,{children:"Status"}),s.jsx(et,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:se.map(ue=>{const W=ue.type==="helper",ae=W?ue:null,oe=W?null:ue;return s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(jt,{variant:"outline",children:W?"Helper":"Application"})}),s.jsx(Xe,{className:"font-medium",children:ue.full_name}),s.jsx(Xe,{children:ue.email}),s.jsx(Xe,{children:ue.phone}),s.jsx(Xe,{children:br(new Date(ue.created_at),"PP")}),s.jsx(Xe,{children:ne(ue)}),s.jsx(Xe,{className:"text-right",children:s.jsx("div",{className:"flex gap-2 justify-end",children:W?s.jsxs(s.Fragment,{children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>{R(ae),y(!0)},children:[s.jsx(Ls,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{R(ae),D({direct_rate:ae.direct_commission_rate,network_rate:ae.network_commission_rate,reason:""}),E(!0)},children:s.jsx(Wu,{className:"h-4 w-4"})}),s.jsx(ie,{size:"sm",variant:ae.status==="Active"?"destructive":"default",onClick:()=>J(ae),children:ae.status==="Active"?s.jsx(pj,{className:"h-4 w-4"}):s.jsx(jR,{className:"h-4 w-4"})}),s.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>{R(ae),w(!0)},children:s.jsx(Wn,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{C(oe),m(!0)},children:s.jsx(Ls,{className:"h-4 w-4"})}),oe.application_status==="Pending"&&s.jsxs(s.Fragment,{children:[s.jsx(ie,{size:"sm",variant:"default",onClick:()=>H(oe),children:s.jsx(js,{className:"h-4 w-4"})}),s.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>{C(oe),v(!0)},children:s.jsx(Hn,{className:"h-4 w-4"})})]}),oe.application_status==="Rejected"&&s.jsx(ie,{size:"sm",variant:"default",onClick:()=>L(oe),children:s.jsx(js,{className:"h-4 w-4"})}),s.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>{C(oe),w(!0)},children:s.jsx(Wn,{className:"h-4 w-4"})})]})})})]},W?ae.id:oe.id)})})]})})})})})]}),s.jsx(Tn,{open:f,onOpenChange:m,children:s.jsxs(jn,{className:"max-w-2xl",children:[s.jsxs(An,{children:[s.jsx(Pn,{children:"Application Details"}),s.jsxs(Ns,{children:[S?.full_name," - ",S?.email]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Full Name"}),s.jsx("p",{className:"text-sm",children:S.full_name})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Email"}),s.jsx("p",{className:"text-sm",children:S.email})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Phone"}),s.jsx("p",{className:"text-sm",children:S.phone})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Applied On"}),s.jsx("p",{className:"text-sm",children:br(new Date(S.created_at),"PPP")})]})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:S.why_helper||"Not provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Bank Account Name"}),s.jsx("p",{className:"text-sm",children:S.bank_account_name})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Bank Name"}),s.jsx("p",{className:"text-sm",children:S.bank_name})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Account Number"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_account_number})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"IFSC Code"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_ifsc_code})]})]}),S.rejection_reason&&s.jsxs("div",{children:[s.jsx(ke,{children:"Rejection Reason"}),s.jsx("p",{className:"text-sm mt-1 text-red-500",children:S.rejection_reason})]})]})]})}),s.jsx(Tn,{open:g,onOpenChange:v,children:s.jsxs(jn,{children:[s.jsxs(An,{children:[s.jsx(Pn,{children:"Reject Application"}),s.jsxs(Ns,{children:["Provide a reason for rejecting ",S?.full_name,"'s application"]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(ke,{children:"Rejection Reason *"}),s.jsx(_a,{value:P,onChange:ue=>O(ue.target.value),placeholder:"Enter the reason for rejection...",className:"mt-2"})]})}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(ie,{variant:"destructive",onClick:Z,children:"Reject Application"})]})]})}),s.jsx(Tn,{open:b,onOpenChange:E,children:s.jsxs(jn,{children:[s.jsxs(An,{children:[s.jsx(Pn,{children:"Edit Commission Rates"}),s.jsxs(Ns,{children:["Update commission rates for ",k?.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ke,{children:"Direct Commission Rate (%)"}),s.jsx(ze,{type:"number",value:A.direct_rate,onChange:ue=>D({...A,direct_rate:parseFloat(ue.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Network Commission Rate (%)"}),s.jsx(ze,{type:"number",value:A.network_rate,onChange:ue=>D({...A,network_rate:parseFloat(ue.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ke,{children:"Reason for Change *"}),s.jsx(_a,{value:A.reason,onChange:ue=>D({...A,reason:ue.target.value}),placeholder:"Explain why rates are being changed..."})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),s.jsx(ie,{onClick:X,children:"Save Changes"})]})]})}),s.jsx(g0,{open:_,onOpenChange:w,children:s.jsxs(_m,{children:[s.jsxs(jm,{children:[s.jsx(Sm,{children:" Permanently Delete?"}),s.jsxs(km,{children:["This will permanently delete"," ",s.jsx("strong",{children:S?.full_name||k?.full_name})," and ALL related data:",s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[k?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Helper account and profile"}),s.jsx("li",{children:"All store referrals"}),s.jsx("li",{children:"All commission records"}),s.jsx("li",{children:"All network connections"})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Application record"}),s.jsx("li",{children:"Profile information"})]}),s.jsx("li",{children:"User authentication account"})]}),s.jsx("p",{className:"mt-3 font-bold text-destructive",children:"This action cannot be undone!"})]})]}),s.jsxs(Nm,{children:[s.jsx(Em,{children:"Cancel"}),s.jsx(Cm,{onClick:V,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Permanently"})]})]})}),k&&s.jsx(gVe,{open:p,onOpenChange:y,helperId:k.id,helperName:k.full_name})]})})}function vVe(){const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState([]),[p,y]=j.useState(!1),[g,v]=j.useState("direct"),[_,w]=j.useState({payment_date:br(new Date,"yyyy-MM-dd"),payment_reference:""}),[b,E]=j.useState({direct:{total:0,count:0,oldestDays:0},network:{total:0,count:0,oldestDays:0},paid:{total:0,count:0}});j.useEffect(()=>{S()},[]);const S=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await C(),r(!1)}catch(D){console.error("Error checking super admin access:",D),e("/superadmin/login")}},C=async()=>{try{const{data:D,error:F}=await Q.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("direct_commission_amount",0).order("created_at",{ascending:!0});if(F)throw F;const B=(D||[]).map(ne=>({id:ne.id,helper_name:ne.helper?.full_name||"N/A",helper_id:ne.helper?.id||"N/A",store_owner_name:ne.store_referral?.store_owner_name||"N/A",plan_name:ne.store_referral?.subscription_plan||"N/A",plan_amount:ne.store_referral?.subscription_amount||0,commission_amount:ne.direct_commission_amount,earned_date:ne.created_at,days_pending:JN(new Date,new Date(ne.created_at))}));a(B);const{data:z,error:q}=await Q.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("network_commission_amount",0).order("created_at",{ascending:!0});if(q)throw q;const G=(z||[]).map(ne=>({id:ne.id,helper_name:ne.helper?.full_name||"N/A",helper_id:ne.helper?.id||"N/A",store_owner_name:ne.store_referral?.store_owner_name||"N/A",plan_name:ne.store_referral?.subscription_plan||"N/A",plan_amount:ne.store_referral?.subscription_amount||0,commission_amount:ne.network_commission_amount,earned_date:ne.created_at,days_pending:JN(new Date,new Date(ne.created_at))}));o(G);const{data:Y,error:M}=await Q.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Paid").order("payment_date",{ascending:!1}).limit(100);if(M)throw M;const H=(Y||[]).map(ne=>({id:ne.id,helper_name:ne.helper?.full_name||"N/A",helper_id:ne.helper?.id||"N/A",store_owner_name:ne.store_referral?.store_owner_name||"N/A",plan_name:ne.store_referral?.subscription_plan||"N/A",plan_amount:ne.store_referral?.subscription_amount||0,commission_amount:(ne.direct_commission_amount||0)+(ne.network_commission_amount||0),earned_date:ne.created_at,days_pending:0,payment_date:ne.payment_date,payment_reference:ne.payment_reference}));c(H);const Z=B.reduce((ne,se)=>ne+se.commission_amount,0),L=B.length>0?Math.max(...B.map(ne=>ne.days_pending)):0,J=G.reduce((ne,se)=>ne+se.commission_amount,0),V=G.length>0?Math.max(...G.map(ne=>ne.days_pending)):0,X=H.reduce((ne,se)=>ne+se.commission_amount,0);E({direct:{total:Z,count:B.length,oldestDays:L},network:{total:J,count:G.length,oldestDays:V},paid:{total:X,count:H.length}})}catch(D){console.error("Error loading commissions:",D),ot.error("Failed to load commissions")}},k=(D,F)=>{D==="direct"?d(F?n.map(B=>B.id):[]):m(F?i.map(B=>B.id):[])},R=(D,F,B)=>{D==="direct"?d(B?[...u,F]:u.filter(z=>z!==F)):m(B?[...f,F]:f.filter(z=>z!==F))},P=async()=>{const D=g==="direct"?u:f;if(D.length===0){ot.error("Please select at least one commission");return}if(!_.payment_reference){ot.error("Please enter payment reference");return}try{const{error:F}=await Q.from("network_commissions").update({commission_status:"Paid",payment_date:_.payment_date,payment_reference:_.payment_reference,updated_at:new Date().toISOString()}).in("id",D);if(F)throw F;ot.success(`Successfully marked ${D.length} commission(s) as paid`),y(!1),d([]),m([]),w({payment_date:br(new Date,"yyyy-MM-dd"),payment_reference:""}),await C()}catch(F){console.error("Error marking commissions as paid:",F),ot.error("Failed to mark commissions as paid")}},O=D=>{try{let F=[],B="";D==="direct"?(F=n,B="Pending Direct Commissions"):D==="network"?(F=i,B="Pending Network Commissions"):(F=l,B="Paid Commissions");const z=F.map(M=>({"Helper Name":M.helper_name,"Helper ID":M.helper_id,"Store Owner":M.store_owner_name,Plan:M.plan_name,"Plan Amount":`${M.plan_amount.toLocaleString()}`,"Commission Amount":`${M.commission_amount.toLocaleString()}`,"Earned Date":br(new Date(M.earned_date),"PPP"),...D==="paid"?{"Payment Date":M.payment_date?br(new Date(M.payment_date),"PPP"):"N/A","Payment Reference":M.payment_reference||"N/A"}:{"Days Pending":M.days_pending}})),q=na.book_new(),G=na.json_to_sheet(z);na.book_append_sheet(q,G,B);const Y=`${B.toLowerCase().replace(/ /g,"_")}_${br(new Date,"yyyy-MM-dd")}.xlsx`;Mm(q,Y),ot.success("Export successful!")}catch(F){console.error("Error exporting:",F),ot.error("Failed to export data")}},A=()=>{try{const D=[{Category:"Pending Direct Commissions",Count:b.direct.count,Amount:`${b.direct.total.toLocaleString()}`},{Category:"Pending Network Commissions",Count:b.network.count,Amount:`${b.network.total.toLocaleString()}`},{Category:"Total Pending",Count:b.direct.count+b.network.count,Amount:`${(b.direct.total+b.network.total).toLocaleString()}`},{Category:"",Count:"",Amount:""},{Category:"Paid Commissions (Last 100)",Count:b.paid.count,Amount:`${b.paid.total.toLocaleString()}`}],F=na.book_new(),B=na.json_to_sheet(D);na.book_append_sheet(F,B,"Payment Report");const z=`payment_report_${br(new Date,"yyyy-MM-dd")}.xlsx`;Mm(F,z),ot.success("Payment report generated!")}catch(D){console.error("Error generating report:",D),ot.error("Failed to generate report")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commissions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Ya,{className:"h-8 w-8"}),"Commission Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage pending and paid commission payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",onClick:A,children:[s.jsx(zc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsx(ie,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Se,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Direct"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",b.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.direct.count," payments"]})]})}),s.jsx(Se,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Network"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",b.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.network.count," payments"]})]})}),s.jsx(Se,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pending"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-500",children:["",(b.direct.total+b.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.direct.count+b.network.count," payments"]})]})}),s.jsx(Se,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid (Last 100)"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",b.paid.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.paid.count," payments"]})]})})]}),s.jsxs(Qu,{defaultValue:"direct",onValueChange:D=>v(D),children:[s.jsxs(ru,{className:"grid w-full grid-cols-4",children:[s.jsxs(fn,{value:"direct",children:["Pending Direct (",b.direct.count,")"]}),s.jsxs(fn,{value:"network",children:["Pending Network (",b.network.count,")"]}),s.jsxs(fn,{value:"paid",children:["Paid History (",b.paid.count,")"]}),s.jsx(fn,{value:"reports",children:"Reports"})]}),s.jsx(hn,{value:"direct",className:"space-y-4",children:s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:"Pending Direct Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",b.direct.total.toLocaleString()," | Oldest: ",b.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>O("direct"),disabled:n.length===0,children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(ie,{size:"sm",onClick:()=>{v("direct"),y(!0)},disabled:u.length===0,children:[s.jsx(js,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",u.length,")"]})]})]})}),s.jsx(Te,{className:"p-0",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(js,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending direct commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{className:"w-12",children:s.jsx(hi,{checked:u.length===n.length,onCheckedChange:D=>k("direct",D)})}),s.jsx(et,{children:"Helper"}),s.jsx(et,{children:"Store Owner"}),s.jsx(et,{children:"Plan"}),s.jsx(et,{children:"Plan Amount"}),s.jsx(et,{children:"Commission"}),s.jsx(et,{children:"Earned Date"}),s.jsx(et,{children:"Days Pending"})]})}),s.jsx(ia,{children:n.map(D=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(hi,{checked:u.includes(D.id),onCheckedChange:F=>R("direct",D.id,F)})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Xe,{children:D.store_owner_name}),s.jsx(Xe,{children:D.plan_name}),s.jsxs(Xe,{children:["",D.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:br(new Date(D.earned_date),"PP")}),s.jsx(Xe,{children:s.jsxs(jt,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),s.jsx(hn,{value:"network",className:"space-y-4",children:s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:"Pending Network Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",b.network.total.toLocaleString()," | Oldest: ",b.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>O("network"),disabled:i.length===0,children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(ie,{size:"sm",onClick:()=>{v("network"),y(!0)},disabled:f.length===0,children:[s.jsx(js,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",f.length,")"]})]})]})}),s.jsx(Te,{className:"p-0",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(js,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending network commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{className:"w-12",children:s.jsx(hi,{checked:f.length===i.length,onCheckedChange:D=>k("network",D)})}),s.jsx(et,{children:"Helper"}),s.jsx(et,{children:"Store Owner"}),s.jsx(et,{children:"Plan"}),s.jsx(et,{children:"Plan Amount"}),s.jsx(et,{children:"Commission"}),s.jsx(et,{children:"Earned Date"}),s.jsx(et,{children:"Days Pending"})]})}),s.jsx(ia,{children:i.map(D=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(hi,{checked:f.includes(D.id),onCheckedChange:F=>R("network",D.id,F)})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Xe,{children:D.store_owner_name}),s.jsx(Xe,{children:D.plan_name}),s.jsxs(Xe,{children:["",D.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-blue-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:br(new Date(D.earned_date),"PP")}),s.jsx(Xe,{children:s.jsxs(jt,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),s.jsx(hn,{value:"paid",className:"space-y-4",children:s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{children:"Paid Commissions (Last 100)"}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>O("paid"),disabled:l.length===0,children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsx(Te,{className:"p-0",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(gs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No paid commissions yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Helper"}),s.jsx(et,{children:"Store Owner"}),s.jsx(et,{children:"Plan"}),s.jsx(et,{children:"Commission"}),s.jsx(et,{children:"Earned Date"}),s.jsx(et,{children:"Payment Date"}),s.jsx(et,{children:"Reference"})]})}),s.jsx(ia,{children:l.map(D=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Xe,{children:D.store_owner_name}),s.jsx(Xe,{children:D.plan_name}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:br(new Date(D.earned_date),"PP")}),s.jsx(Xe,{children:D.payment_date&&br(new Date(D.payment_date),"PP")}),s.jsx(Xe,{className:"text-sm",children:D.payment_reference})]},D.id))})]})})})]})}),s.jsx(hn,{value:"reports",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Pending Commissions Summary"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",b.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.direct.count," payments"]})]}),s.jsx(gs,{className:"h-8 w-8 text-yellow-500"})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Network Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",b.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.network.count," payments"]})]}),s.jsx(gs,{className:"h-8 w-8 text-yellow-500"})]}),s.jsx("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-500",children:["",(b.direct.total+b.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs",children:[b.direct.count+b.network.count," payments"]})]})})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Payment Analytics"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Direct)"}),s.jsxs("span",{className:"font-semibold",children:[b.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Network)"}),s.jsxs("span",{className:"font-semibold",children:[b.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Paid (Last 100)"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",b.paid.total.toLocaleString()]})]})]}),s.jsxs(ie,{className:"w-full mt-4",onClick:A,children:[s.jsx(zc,{className:"h-4 w-4 mr-2"}),"Download Full Report"]})]})]})]})})]})]}),s.jsx(Tn,{open:p,onOpenChange:y,children:s.jsxs(jn,{children:[s.jsxs(An,{children:[s.jsx(Pn,{children:"Mark Commissions as Paid"}),s.jsxs(Ns,{children:["Mark ",g==="direct"?u.length:f.length," selected commission(s) as paid"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Date"}),s.jsx(ze,{type:"date",value:_.payment_date,onChange:D=>w({..._,payment_date:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Reference / Transaction ID *"}),s.jsx(ze,{value:_.payment_reference,onChange:D=>w({..._,payment_reference:D.target.value}),placeholder:"Enter transaction ID or reference number"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3",children:s.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[s.jsx(js,{className:"inline w-4 h-4 mr-2"}),'This will update the commission status to "Paid" and record the payment details.']})})]}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(ie,{onClick:P,children:"Mark as Paid"})]})]})})]})}var _c="Accordion",yVe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[LL,bVe,wVe]=X0(_c),[ok]=Vs(_c,[wVe,Ire]),$L=Ire(),nue=le.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(LL.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(SVe,{...i,ref:t}):s.jsx(NVe,{...a,ref:t})})});nue.displayName=_c;var[sue,_Ve]=ok(_c),[aue,jVe]=ok(_c,{collapsible:!1}),NVe=le.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=ji({prop:r,defaultProp:n??"",onChange:a,caller:_c});return s.jsx(sue,{scope:e.__scopeAccordion,value:le.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:le.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(aue,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(iue,{...o,ref:t})})})}),SVe=le.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ji({prop:r,defaultProp:n??[],onChange:a,caller:_c}),c=le.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=le.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return s.jsx(sue,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(aue,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(iue,{...i,ref:t})})})}),[kVe,lk]=ok(_c),iue=le.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=le.useRef(null),c=Zt(l,t),u=bVe(r),f=Uf(a)==="ltr",m=dt(e.onKeyDown,p=>{if(!yVe.includes(p.key))return;const y=p.target,g=u().filter(R=>!R.ref.current?.disabled),v=g.findIndex(R=>R.ref.current===y),_=g.length;if(v===-1)return;p.preventDefault();let w=v;const b=0,E=_-1,S=()=>{w=v+1,w>E&&(w=b)},C=()=>{w=v-1,w<b&&(w=E)};switch(p.key){case"Home":w=b;break;case"End":w=E;break;case"ArrowRight":i==="horizontal"&&(f?S():C());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?C():S());break;case"ArrowUp":i==="vertical"&&C();break}const k=w%_;g[k].ref.current?.focus()});return s.jsx(kVe,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(LL.Slot,{scope:r,children:s.jsx(Tt.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),ZN="AccordionItem",[CVe,BL]=ok(ZN),oue=le.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=lk(ZN,r),o=_Ve(ZN,r),l=$L(r),c=uo(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(CVe,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Lre,{"data-orientation":i.orientation,"data-state":hue(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});oue.displayName=ZN;var lue="AccordionHeader",cue=le.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=lk(_c,r),i=BL(lue,r);return s.jsx(Tt.h3,{"data-orientation":a.orientation,"data-state":hue(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});cue.displayName=lue;var kI="AccordionTrigger",uue=le.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=lk(_c,r),i=BL(kI,r),o=jVe(kI,r),l=$L(r);return s.jsx(LL.ItemSlot,{scope:r,children:s.jsx(yke,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});uue.displayName=kI;var due="AccordionContent",fue=le.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=lk(_c,r),i=BL(due,r),o=$L(r);return s.jsx(bke,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});fue.displayName=due;function hue(e){return e?"open":"closed"}var EVe=nue,TVe=oue,AVe=cue,mue=uue,pue=fue;const PVe=EVe,gue=j.forwardRef(({className:e,...t},r)=>s.jsx(TVe,{ref:r,className:ut("border-b",e),...t}));gue.displayName="AccordionItem";const xue=j.forwardRef(({className:e,children:t,...r},n)=>s.jsx(AVe,{className:"flex",children:s.jsxs(mue,{ref:n,className:ut("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(Lu,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));xue.displayName=mue.displayName;const vue=j.forwardRef(({className:e,children:t,...r},n)=>s.jsx(pue,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:ut("pb-4 pt-0",e),children:t})}));vue.displayName=pue.displayName;function OVe(){const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[l,c]=j.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[u,d]=j.useState("monthly"),[f,m]=j.useState([]),[p,y]=j.useState({}),[g,v]=j.useState(!0),[_,w]=j.useState(!1),[b,E]=j.useState(!0),[S,C]=j.useState(!0),[k,R]=j.useState(500),[P,O]=j.useState("monthly"),[A,D]=j.useState("1st"),[F,B]=j.useState(-1),[z,q]=j.useState("HELP"),[G,Y]=j.useState(!0),[M,H]=j.useState([]),[Z,L]=j.useState(!1),[J,V]=j.useState({}),[X,ne]=j.useState(!1),[se,ue]=j.useState({commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]}),[W,ae]=j.useState(null),oe=ee=>{y(_e=>({..._e,[ee]:{..._e[ee],enabled:!_e[ee].enabled}}))},K=(ee,_e,ge,Be)=>{y(Ie=>({...Ie,[ee]:{...Ie[ee],[_e]:{...Ie[ee][_e],[ge]:Be}}}))},be=(ee,_e,ge)=>{let Be="";switch(ee){case"networkMonthlyOnetimeValue":case"networkYearlyOnetimeValue":ge==="percentage"&&(_e<0||_e>100)?Be="Percentage must be between 0-100%":ge==="fixed"&&_e<0&&(Be="Amount cannot be negative");break;case"networkMonthlyRecurringValue":case"networkYearlyRecurringValue":ge==="percentage"&&(_e<0||_e>100)?Be="Percentage must be between 0-100%":ge==="fixed"&&_e<0&&(Be="Amount cannot be negative");break;case"networkMonthlyRecurringDuration":case"networkYearlyRecurringDuration":(_e<1||_e>24)&&(Be="Duration must be between 1-24 months");break;case"minPayoutThreshold":_e<0&&(Be="Minimum payout cannot be negative");break;case"referralCodePrefix":!_e||_e.trim()===""?Be="Referral code prefix is required":_e.length>6&&(Be="Prefix must be 6 characters or less");break;case"maxHelpersPerRecruiter":_e<-1&&(Be="Value must be -1 (unlimited) or greater");break}return V(Ie=>{const de={...Ie};return Be?de[ee]=Be:delete de[ee],de}),Be===""};j.useEffect(()=>{pe()},[]);const pe=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await fe(),r(!1)}catch(ee){console.error("Error checking super admin access:",ee),e("/superadmin/login")}},Ee=async()=>{try{const{data:ee,error:_e}=await Q.from("subscription_plans").select("id, name, slug, monthly_price, yearly_price, is_active").eq("is_active",!0).order("display_order");if(_e)throw _e;const ge=ee||[];m(ge);const Be={};ge.forEach(Ie=>{Be[Ie.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),y(Be)}catch(ee){console.error("Error fetching subscription plans:",ee),ot.error("Failed to load subscription plans")}},Ae=async()=>{try{const{data:ee,error:_e}=await Q.from("commission_audit").select("*").order("created_at",{ascending:!1}).limit(50);if(_e){if(_e.message.includes("does not exist")){console.info("Audit trail table not yet created"),H([]);return}throw _e}H(ee||[])}catch(ee){console.error("Error fetching audit records:",ee),String(ee).includes("does not exist")||ot.error("Failed to load audit trail")}},fe=async()=>{try{await Ee();const{data:ee,error:_e}=await Q.from("commission_settings").select("*").eq("is_active",!0).single();if(_e){console.error("Error loading commission settings:",_e),ot.error("Failed to load commission settings");return}if(ee){v(ee.enable_multi_tier),w(ee.auto_approve_applications),E(ee.send_welcome_email),C(ee.send_commission_notifications),R(ee.min_payout_threshold),O(ee.payment_schedule),D(ee.payment_day),B(ee.max_helpers_per_recruiter),q(ee.referral_code_prefix),Y(ee.auto_generate_codes);const{data:ge,error:Be}=await Q.from("network_commission").select("*").eq("settings_id",ee.id);let Ie={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},de={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12};!Be&&ge&&ge.forEach(at=>{const St={model:at.commission_model,onetimeType:at.onetime_type,onetimeValue:at.onetime_value,recurringType:at.recurring_type,recurringValue:at.recurring_value,recurringDuration:at.recurring_duration};at.subscription_type==="monthly"?(o(St),Ie=St):at.subscription_type==="yearly"&&(c(St),de=St)});const{data:Re,error:rt}=await Q.from("plan_commission").select("*").eq("settings_id",ee.id);let xt={};if(!rt&&Re){const at={};f.forEach(St=>{at[St.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),Re.forEach(St=>{at[St.plan_id]||(at[St.plan_id]={enabled:St.enabled,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}});const Yt={model:St.commission_model,onetimeType:St.onetime_type,onetimeValue:St.onetime_value,recurringType:St.recurring_type,recurringValue:St.recurring_value,recurringDuration:St.recurring_duration};St.subscription_type==="monthly"?(at[St.plan_id].monthly=Yt,at[St.plan_id].enabled=St.enabled):St.subscription_type==="yearly"&&(at[St.plan_id].yearly=Yt)}),xt=at,y(at)}ot.success("Settings loaded successfully"),ae({networkMonthly:Ie,networkYearly:de,planCommissions:JSON.parse(JSON.stringify(xt)),enableMultiTier:ee.enable_multi_tier,autoApproveApplications:ee.auto_approve_applications,sendWelcomeEmail:ee.send_welcome_email,sendCommissionNotifications:ee.send_commission_notifications,minPayoutThreshold:ee.min_payout_threshold,paymentSchedule:ee.payment_schedule,paymentDay:ee.payment_day,maxHelpersPerRecruiter:ee.max_helpers_per_recruiter,referralCodePrefix:ee.referral_code_prefix,autoGenerateCodes:ee.auto_generate_codes})}}catch(ee){console.error("Error loading settings:",ee),ot.error("Failed to load settings")}},Je=()=>{const ee=[];return(i.model==="onetime"||i.model==="hybrid")&&(i.onetimeType==="percentage"&&(i.onetimeValue<0||i.onetimeValue>100)&&ee.push("Network Monthly: One-time percentage must be between 0-100%"),i.onetimeType==="fixed"&&i.onetimeValue<0&&ee.push("Network Monthly: One-time fixed amount cannot be negative")),(i.model==="recurring"||i.model==="hybrid")&&(i.recurringType==="percentage"&&(i.recurringValue<0||i.recurringValue>100)&&ee.push("Network Monthly: Recurring percentage must be between 0-100%"),i.recurringType==="fixed"&&i.recurringValue<0&&ee.push("Network Monthly: Recurring fixed amount cannot be negative"),(i.recurringDuration<1||i.recurringDuration>24)&&ee.push("Network Monthly: Duration must be between 1-24 months")),(l.model==="onetime"||l.model==="hybrid")&&(l.onetimeType==="percentage"&&(l.onetimeValue<0||l.onetimeValue>100)&&ee.push("Network Yearly: One-time percentage must be between 0-100%"),l.onetimeType==="fixed"&&l.onetimeValue<0&&ee.push("Network Yearly: One-time fixed amount cannot be negative")),(l.model==="recurring"||l.model==="hybrid")&&(l.recurringType==="percentage"&&(l.recurringValue<0||l.recurringValue>100)&&ee.push("Network Yearly: Recurring percentage must be between 0-100%"),l.recurringType==="fixed"&&l.recurringValue<0&&ee.push("Network Yearly: Recurring fixed amount cannot be negative"),(l.recurringDuration<1||l.recurringDuration>24)&&ee.push("Network Yearly: Duration must be between 1-24 months")),Object.entries(p).forEach(([_e,ge])=>{if(ge.enabled){const Ie=f.find(rt=>rt.id===_e)?.name||"Unknown Plan";(ge.monthly.model==="onetime"||ge.monthly.model==="hybrid")&&(ge.monthly.onetimeType==="percentage"&&(ge.monthly.onetimeValue<0||ge.monthly.onetimeValue>100)&&ee.push(`${Ie} (Monthly): One-time percentage must be between 0-100%`),ge.monthly.onetimeType==="fixed"&&ge.monthly.onetimeValue<0&&ee.push(`${Ie} (Monthly): One-time fixed amount cannot be negative`)),(ge.monthly.model==="recurring"||ge.monthly.model==="hybrid")&&(ge.monthly.recurringType==="percentage"&&(ge.monthly.recurringValue<0||ge.monthly.recurringValue>100)&&ee.push(`${Ie} (Monthly): Recurring percentage must be between 0-100%`),ge.monthly.recurringType==="fixed"&&ge.monthly.recurringValue<0&&ee.push(`${Ie} (Monthly): Recurring fixed amount cannot be negative`),(ge.monthly.recurringDuration<1||ge.monthly.recurringDuration>24)&&ee.push(`${Ie} (Monthly): Duration must be between 1-24 months`)),(ge.yearly.model==="onetime"||ge.yearly.model==="hybrid")&&(ge.yearly.onetimeType==="percentage"&&(ge.yearly.onetimeValue<0||ge.yearly.onetimeValue>100)&&ee.push(`${Ie} (Yearly): One-time percentage must be between 0-100%`),ge.yearly.onetimeType==="fixed"&&ge.yearly.onetimeValue<0&&ee.push(`${Ie} (Yearly): One-time fixed amount cannot be negative`)),(ge.yearly.model==="recurring"||ge.yearly.model==="hybrid")&&(ge.yearly.recurringType==="percentage"&&(ge.yearly.recurringValue<0||ge.yearly.recurringValue>100)&&ee.push(`${Ie} (Yearly): Recurring percentage must be between 0-100%`),ge.yearly.recurringType==="fixed"&&ge.yearly.recurringValue<0&&ee.push(`${Ie} (Yearly): Recurring fixed amount cannot be negative`),(ge.yearly.recurringDuration<1||ge.yearly.recurringDuration>24)&&ee.push(`${Ie} (Yearly): Duration must be between 1-24 months`));const de=ge.monthly.model==="onetime"&&ge.monthly.onetimeValue>0||ge.monthly.model==="recurring"&&ge.monthly.recurringValue>0||ge.monthly.model==="hybrid"&&(ge.monthly.onetimeValue>0||ge.monthly.recurringValue>0),Re=ge.yearly.model==="onetime"&&ge.yearly.onetimeValue>0||ge.yearly.model==="recurring"&&ge.yearly.recurringValue>0||ge.yearly.model==="hybrid"&&(ge.yearly.onetimeValue>0||ge.yearly.recurringValue>0);!de&&!Re&&ee.push(`${Ie}: Commission is enabled but all values are 0 - helpers will not earn anything`)}}),k<0&&ee.push("Minimum Payout Threshold cannot be negative"),(!z||z.trim()==="")&&ee.push("Referral Code Prefix cannot be empty"),z.length>6&&ee.push("Referral Code Prefix must be 6 characters or less"),F<-1&&ee.push("Max Helpers Per Recruiter must be -1 (unlimited) or a positive number"),{isValid:ee.length===0,errors:ee}},Ye=(ee,_e)=>{const ge={..._e};return ee==="onetime"?(ge.recurring_value=0,ge.recurring_duration=12):ee==="recurring"&&(ge.onetime_value=0),ge},ce=()=>{if(!W)return{commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]};const ee={commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]},_e=(Be,Ie)=>Be==="percentage"?`${Ie}%`:`${Ie}`,ge={onetime:"One-time",recurring:"Recurring",hybrid:"Hybrid"};if(JSON.stringify(i)!==JSON.stringify(W.networkMonthly)&&(i.model!==W.networkMonthly.model&&ee.commissionModel.push(`Monthly: ${ge[W.networkMonthly.model]}  ${ge[i.model]}`),i.onetimeValue!==W.networkMonthly.onetimeValue&&ee.commissionRates.push(`Monthly One-time: ${_e(W.networkMonthly.onetimeType,W.networkMonthly.onetimeValue)}  ${_e(i.onetimeType,i.onetimeValue)}`),i.recurringValue!==W.networkMonthly.recurringValue&&ee.commissionRates.push(`Monthly Recurring: ${_e(W.networkMonthly.recurringType,W.networkMonthly.recurringValue)}  ${_e(i.recurringType,i.recurringValue)}`),i.recurringDuration!==W.networkMonthly.recurringDuration&&ee.commissionRates.push(`Monthly Duration: ${W.networkMonthly.recurringDuration}  ${i.recurringDuration} months`)),JSON.stringify(l)!==JSON.stringify(W.networkYearly)&&(l.model!==W.networkYearly.model&&ee.commissionModel.push(`Yearly: ${ge[W.networkYearly.model]}  ${ge[l.model]}`),l.onetimeValue!==W.networkYearly.onetimeValue&&ee.commissionRates.push(`Yearly One-time: ${_e(W.networkYearly.onetimeType,W.networkYearly.onetimeValue)}  ${_e(l.onetimeType,l.onetimeValue)}`),l.recurringValue!==W.networkYearly.recurringValue&&ee.commissionRates.push(`Yearly Recurring: ${_e(W.networkYearly.recurringType,W.networkYearly.recurringValue)}  ${_e(l.recurringType,l.recurringValue)}`)),Object.keys(p).forEach(Be=>{const Ie=f.find(rt=>rt.id===Be);if(!Ie)return;const de=p[Be],Re=W.planCommissions?.[Be];Re&&(de.enabled!==Re.enabled&&ee.featureToggles.push(`${Ie.name}: ${de.enabled?"Enabled":"Disabled"}`),JSON.stringify(de.monthly)!==JSON.stringify(Re.monthly)&&(de.monthly.model!==Re.monthly.model&&ee.commissionModel.push(`${Ie.name} Monthly: ${ge[Re.monthly.model]}  ${ge[de.monthly.model]}`),de.monthly.onetimeValue!==Re.monthly.onetimeValue&&ee.commissionRates.push(`${Ie.name} Monthly: ${_e(Re.monthly.onetimeType,Re.monthly.onetimeValue)}  ${_e(de.monthly.onetimeType,de.monthly.onetimeValue)}`)),JSON.stringify(de.yearly)!==JSON.stringify(Re.yearly)&&(de.yearly.onetimeValue!==Re.yearly.onetimeValue||de.yearly.recurringValue!==Re.yearly.recurringValue)&&ee.commissionRates.push(`${Ie.name} Yearly: Commission updated`))}),g!==W.enableMultiTier&&ee.featureToggles.push(`Multi-Tier Program: ${g?"Enabled":"Disabled"}`),_!==W.autoApproveApplications&&ee.featureToggles.push(`Auto-approve Applications: ${_?"Enabled":"Disabled"}`),b!==W.sendWelcomeEmail&&ee.featureToggles.push(`Welcome Email: ${b?"Enabled":"Disabled"}`),S!==W.sendCommissionNotifications&&ee.featureToggles.push(`Commission Notifications: ${S?"Enabled":"Disabled"}`),k!==W.minPayoutThreshold&&ee.paymentSettings.push(`Minimum Payout: ${W.minPayoutThreshold}  ${k}`),P!==W.paymentSchedule&&ee.paymentSettings.push(`Schedule: ${W.paymentSchedule}  ${P}`),A!==W.paymentDay&&ee.paymentSettings.push(`Payment Day: ${W.paymentDay}  ${A}`),F!==W.maxHelpersPerRecruiter){const Be=W.maxHelpersPerRecruiter===-1?"Unlimited":W.maxHelpersPerRecruiter,Ie=F===-1?"Unlimited":F;ee.recruitmentSettings.push(`Max Helpers: ${Be}  ${Ie}`)}return z!==W.referralCodePrefix&&ee.recruitmentSettings.push(`Code Prefix: ${W.referralCodePrefix}  ${z}`),ee},we=async()=>{if(Object.keys(J).length>0){ot.error("Please fix all field errors before saving",{description:"Check the red-highlighted fields above",duration:4e3});return}const _e=Je();if(!_e.isValid){_e.errors.forEach((ge,Be)=>{setTimeout(()=>{ot.error(ge,{duration:5e3})},Be*100)});return}a(!0);try{const{data:ge}=await Q.from("commission_settings").select("id, version").eq("is_active",!0).single(),Be=ge?ge.version+1:1;ge&&await Q.from("commission_settings").update({is_active:!1}).eq("id",ge.id);const{data:Ie,error:de}=await Q.from("commission_settings").insert({version:Be,enable_multi_tier:g,auto_approve_applications:_,send_welcome_email:b,send_commission_notifications:S,min_payout_threshold:k,payment_schedule:P,payment_day:A,max_helpers_per_recruiter:F,referral_code_prefix:z,auto_generate_codes:G,is_active:!0}).select().single();if(de)throw de;const Re=Ye(i.model,{onetime_type:i.onetimeType,onetime_value:i.onetimeValue,recurring_type:i.recurringType,recurring_value:i.recurringValue,recurring_duration:i.recurringDuration}),{error:rt}=await Q.from("network_commission").insert({settings_id:Ie.id,subscription_type:"monthly",commission_model:i.model,...Re});if(rt)throw rt;const xt=Ye(l.model,{onetime_type:l.onetimeType,onetime_value:l.onetimeValue,recurring_type:l.recurringType,recurring_value:l.recurringValue,recurring_duration:l.recurringDuration}),{error:at}=await Q.from("network_commission").insert({settings_id:Ie.id,subscription_type:"yearly",commission_model:l.model,...xt});if(at)throw at;for(const[Yt,At]of Object.entries(p)){const Pt=Ye(At.monthly.model,{onetime_type:At.monthly.onetimeType,onetime_value:At.monthly.onetimeValue,recurring_type:At.monthly.recurringType,recurring_value:At.monthly.recurringValue,recurring_duration:At.monthly.recurringDuration}),{error:fr}=await Q.from("plan_commission").insert({settings_id:Ie.id,plan_id:Yt,subscription_type:"monthly",enabled:At.enabled,commission_model:At.monthly.model,...Pt});if(fr)throw fr;const Ar=Ye(At.yearly.model,{onetime_type:At.yearly.onetimeType,onetime_value:At.yearly.onetimeValue,recurring_type:At.yearly.recurringType,recurring_value:At.yearly.recurringValue,recurring_duration:At.yearly.recurringDuration}),{error:Fr}=await Q.from("plan_commission").insert({settings_id:Ie.id,plan_id:Yt,subscription_type:"yearly",enabled:At.enabled,commission_model:At.yearly.model,...Ar});if(Fr)throw Fr}const St=ce();ue(St),ne(!0),ot.success(`Settings saved successfully! (Version ${Be})`),a(!1),ae({networkMonthly:{...i},networkYearly:{...l},planCommissions:JSON.parse(JSON.stringify(p)),enableMultiTier:g,autoApproveApplications:_,sendWelcomeEmail:b,sendCommissionNotifications:S,minPayoutThreshold:k,paymentSchedule:P,paymentDay:A,maxHelpersPerRecruiter:F,referralCodePrefix:z,autoGenerateCodes:G})}catch(ge){console.error("Error saving settings:",ge),ot.error("Failed to save settings"),a(!1)}};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})});const Oe=[{label:"1 month",value:1},{label:"3 months",value:3},{label:"6 months",value:6},{label:"12 months",value:12},{label:"24 months",value:24}],He=100,Ge=1e3,Ne=(ee,_e=!1)=>{const ge=_e?Ge:He,Be=_e?l:i;if(Be.model==="onetime")return ee===1?Be.onetimeType==="percentage"?ge*Be.onetimeValue/100:Be.onetimeValue:0;if(Be.model==="recurring")return ee<=Be.recurringDuration?Be.recurringType==="percentage"?ge*Be.recurringValue/100:Be.recurringValue:0;{const Ie=ee===1?Be.onetimeType==="percentage"?ge*Be.onetimeValue/100:Be.onetimeValue:0,de=ee>1&&ee<=Be.recurringDuration+1?Be.recurringType==="percentage"?ge*Be.recurringValue/100:Be.recurringValue:0;return Ie+de}};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(va,{className:"h-8 w-8"}),"Commission Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure commission rates, payment settings, and helper program rules"})]}),s.jsx(ie,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Network Commission Settings"}),s.jsx(Ir,{children:"Commission when helper recruits a another helper (multi-tier)"})]}),s.jsx(Te,{children:s.jsxs(Qu,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(ru,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(fn,{value:"monthly",children:"Monthly Subscription"}),s.jsx(fn,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(hn,{value:"monthly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-onetime",name:"network-monthly-model",checked:i.model==="onetime",onChange:()=>o(ee=>({...ee,model:"onetime"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-monthly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-recurring",name:"network-monthly-model",checked:i.model==="recurring",onChange:()=>o(ee=>({...ee,model:"recurring"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-monthly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-hybrid",name:"network-monthly-model",checked:i.model==="hybrid",onChange:()=>o(ee=>({...ee,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-monthly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(_r,{value:i.onetimeType,onValueChange:ee=>o(_e=>({..._e,onetimeType:ee})),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:i.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:i.onetimeValue,onChange:ee=>{const _e=ee.target.value===""?0:Number(ee.target.value);o(ge=>({...ge,onetimeValue:_e})),be("networkMonthlyOnetimeValue",_e,i.onetimeType)},onBlur:()=>be("networkMonthlyOnetimeValue",i.onetimeValue,i.onetimeType),min:0,max:i.onetimeType==="percentage"?100:void 0,className:J.networkMonthlyOnetimeValue?"border-red-500 focus-visible:ring-red-500":""}),J.networkMonthlyOnetimeValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.networkMonthlyOnetimeValue]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store completes onboarding and first subscription payment"})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(_r,{value:i.recurringType,onValueChange:ee=>o(_e=>({..._e,recurringType:ee})),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:i.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:i.recurringValue,onChange:ee=>{const _e=ee.target.value===""?0:Number(ee.target.value);o(ge=>({...ge,recurringValue:_e})),be("networkMonthlyRecurringValue",_e,i.recurringType)},onBlur:()=>be("networkMonthlyRecurringValue",i.recurringValue,i.recurringType),min:0,max:i.recurringType==="percentage"?100:void 0,className:J.networkMonthlyRecurringValue?"border-red-500 focus-visible:ring-red-500":""}),J.networkMonthlyRecurringValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.networkMonthlyRecurringValue]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Months)"}),s.jsxs(_r,{value:i.recurringDuration.toString(),onValueChange:ee=>o(_e=>({..._e,recurringDuration:parseInt(ee)})),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsx(yr,{children:Oe.map(ee=>s.jsx(Ke,{value:ee.value.toString(),children:ee.label},ee.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid monthly for the specified duration while store remains active"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(nc,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:["Earnings Preview (Store pays ",He,"/month):"]}),s.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 space-y-1",children:[s.jsxs("p",{children:[" Month 1: ",Ne(1,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 2: ",Ne(2,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 12: ",Ne(12,!1).toFixed(2)]}),i.recurringDuration>12&&s.jsxs("p",{children:[" Month ",i.recurringDuration+1,": ",Ne(i.recurringDuration+1,!1).toFixed(2)]})]})]})]})})]}),s.jsxs(hn,{value:"yearly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-onetime",name:"network-yearly-model",checked:l.model==="onetime",onChange:()=>c(ee=>({...ee,model:"onetime"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-yearly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-recurring",name:"network-yearly-model",checked:l.model==="recurring",onChange:()=>c(ee=>({...ee,model:"recurring"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-yearly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-hybrid",name:"network-yearly-model",checked:l.model==="hybrid",onChange:()=>c(ee=>({...ee,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(ke,{htmlFor:"network-yearly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(_r,{value:l.onetimeType,onValueChange:ee=>c(_e=>({..._e,onetimeType:ee})),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:l.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:l.onetimeValue,onChange:ee=>c(_e=>({..._e,onetimeValue:ee.target.value===""?0:Number(ee.target.value)})),min:0,max:l.onetimeType==="percentage"?100:void 0})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store purchases yearly subscription (higher to incentivize yearly sales)"})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Commission Type"}),s.jsxs(_r,{value:l.recurringType,onValueChange:ee=>c(_e=>({..._e,recurringType:ee})),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:l.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:l.recurringValue,onChange:ee=>c(_e=>({..._e,recurringValue:ee.target.value===""?0:Number(ee.target.value)})),min:0,max:l.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Years)"}),s.jsxs(_r,{value:l.recurringDuration.toString(),onValueChange:ee=>c(_e=>({..._e,recurringDuration:parseInt(ee)})),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsx(yr,{children:Oe.map(ee=>s.jsxs(Ke,{value:ee.value.toString(),children:[ee.label," ",ee.value>1?"years":"year"]},ee.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid yearly for the specified duration while store renews subscription"})]}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(nc,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:["Earnings Preview (Store pays ",Ge,"/year):"]}),s.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-200 space-y-1",children:[s.jsxs("p",{children:[" Year 1: ",Ne(1,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 2: ",Ne(2,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 12: ",Ne(12,!0).toFixed(2)]}),l.recurringDuration>12&&s.jsxs("p",{children:[" Year ",l.recurringDuration+1,": ",Ne(l.recurringDuration+1,!0).toFixed(2)]})]})]})]})})]})]})})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Plan-Specific Commission"}),s.jsx(Ir,{children:"Customize commission rates for specific subscription plans. When disabled, global settings apply."})]}),s.jsx(Te,{children:f.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(va,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No subscription plans found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please create subscription plans first before configuring plan-specific commissions."})]}):s.jsx(PVe,{type:"multiple",className:"w-full",children:f.map(ee=>{const _e=p[ee.id];return _e?s.jsxs(gue,{value:ee.id,children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx(xue,{className:"flex-1 hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`font-semibold ${_e.enabled?"":"text-red-600 dark:text-red-400"}`,children:ee.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["",ee.monthly_price,"/month  ",ee.yearly_price,"/year"]})]})}),s.jsxs("div",{className:"flex items-center gap-2 pr-4",children:[s.jsx(Gr,{checked:_e.enabled,onCheckedChange:()=>oe(ee.id)}),s.jsx("span",{className:`text-sm ${_e.enabled?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:_e.enabled?"Enabled":"Disabled"})]})]}),s.jsx(vue,{children:_e.enabled?s.jsxs(Qu,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(ru,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(fn,{value:"monthly",children:"Monthly Subscription"}),s.jsx(fn,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(hn,{value:"monthly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(ge=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${ee.id}-monthly-${ge}`,name:`${ee.id}-monthly-model`,checked:_e.monthly.model===ge,onChange:()=>K(ee.id,"monthly","model",ge),className:"h-4 w-4"}),s.jsxs(ke,{htmlFor:`${ee.id}-monthly-${ge}`,className:"font-normal cursor-pointer",children:["Model ",ge==="onetime"?"1":ge==="recurring"?"2":"3",":",ge==="onetime"?" One-time Only":ge==="recurring"?" Recurring Only":" Hybrid"]})]},ge))})]}),(_e.monthly.model==="onetime"||_e.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(_r,{value:_e.monthly.onetimeType,onValueChange:ge=>K(ee.id,"monthly","onetimeType",ge),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:_e.monthly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:_e.monthly.onetimeValue,onChange:ge=>K(ee.id,"monthly","onetimeValue",ge.target.value===""?0:Number(ge.target.value)),min:0,max:_e.monthly.onetimeType==="percentage"?100:void 0})]})]})]}),(_e.monthly.model==="recurring"||_e.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(_r,{value:_e.monthly.recurringType,onValueChange:ge=>K(ee.id,"monthly","recurringType",ge),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:_e.monthly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:_e.monthly.recurringValue,onChange:ge=>K(ee.id,"monthly","recurringValue",ge.target.value===""?0:Number(ge.target.value)),min:0,max:_e.monthly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Months)"}),s.jsxs(_r,{value:_e.monthly.recurringDuration.toString(),onValueChange:ge=>K(ee.id,"monthly","recurringDuration",parseInt(ge)),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsx(yr,{children:Oe.map(ge=>s.jsx(Ke,{value:ge.value.toString(),children:ge.label},ge.value))})]})]})]})]})]}),s.jsxs(hn,{value:"yearly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(ge=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${ee.id}-yearly-${ge}`,name:`${ee.id}-yearly-model`,checked:_e.yearly.model===ge,onChange:()=>K(ee.id,"yearly","model",ge),className:"h-4 w-4"}),s.jsxs(ke,{htmlFor:`${ee.id}-yearly-${ge}`,className:"font-normal cursor-pointer",children:["Model ",ge==="onetime"?"1":ge==="recurring"?"2":"3",":",ge==="onetime"?" One-time Only":ge==="recurring"?" Recurring Only":" Hybrid"]})]},ge))})]}),(_e.yearly.model==="onetime"||_e.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(_r,{value:_e.yearly.onetimeType,onValueChange:ge=>K(ee.id,"yearly","onetimeType",ge),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:_e.yearly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:_e.yearly.onetimeValue,onChange:ge=>K(ee.id,"yearly","onetimeValue",ge.target.value===""?0:Number(ge.target.value)),min:0,max:_e.yearly.onetimeType==="percentage"?100:void 0})]})]})]}),(_e.yearly.model==="recurring"||_e.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(ke,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Type"}),s.jsxs(_r,{value:_e.yearly.recurringType,onValueChange:ge=>K(ee.id,"yearly","recurringType",ge),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:_e.yearly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(ze,{type:"number",value:_e.yearly.recurringValue,onChange:ge=>K(ee.id,"yearly","recurringValue",ge.target.value===""?0:Number(ge.target.value)),min:0,max:_e.yearly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Duration (Years)"}),s.jsxs(_r,{value:_e.yearly.recurringDuration.toString(),onValueChange:ge=>K(ee.id,"yearly","recurringDuration",parseInt(ge)),children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsx(yr,{children:Oe.map(ge=>s.jsxs(Ke,{value:ge.value.toString(),children:[ge.label," ",ge.value>1?"years":"year"]},ge.value))})]})]})]})]})]})]}):s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-900 dark:text-red-100 font-semibold",children:" Commission Disabled"}),s.jsxs("p",{className:"text-red-700 dark:text-red-300 text-sm mt-2",children:["Helpers will receive ",s.jsx("strong",{children:"NO commission"})," for recruiting store owners on this plan. Enable commission above to set rates."]})]})})]},ee.id):null})})})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Feature Controls"}),s.jsx(Ir,{children:"Enable or disable helper program features"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Enable Multi-Tier Helper Program"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow helpers to recruit other helpers and earn network commissions"})]}),s.jsx(Gr,{checked:g,onCheckedChange:v})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Auto-approve Helper Applications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve all helper applications without manual review"})]}),s.jsx(Gr,{checked:_,onCheckedChange:w})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Send Helper Welcome Email"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send welcome email when helper application is approved"})]}),s.jsx(Gr,{checked:b,onCheckedChange:E})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Send Commission Earned Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify helpers when they earn new commissions"})]}),s.jsx(Gr,{checked:S,onCheckedChange:C})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Payment Settings"}),s.jsx(Ir,{children:"Configure payment schedules and thresholds"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Minimum Payout Threshold ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(ze,{type:"number",value:k,onChange:ee=>{const _e=parseFloat(ee.target.value);R(_e),be("minPayoutThreshold",_e)},onBlur:()=>be("minPayoutThreshold",k),min:0,className:J.minPayoutThreshold?"border-red-500 focus-visible:ring-red-500":""}),J.minPayoutThreshold&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.minPayoutThreshold]})]}),!J.minPayoutThreshold&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helpers must earn at least this amount before payment is processed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Schedule"}),s.jsxs(_r,{value:P,onValueChange:O,children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"weekly",children:"Weekly"}),s.jsx(Ke,{value:"biweekly",children:"Bi-weekly"}),s.jsx(Ke,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Payment Day"}),s.jsxs(_r,{value:A,onValueChange:D,children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsx(yr,{children:P==="weekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:"monday",children:"Every Monday"}),s.jsx(Ke,{value:"tuesday",children:"Every Tuesday"}),s.jsx(Ke,{value:"wednesday",children:"Every Wednesday"}),s.jsx(Ke,{value:"thursday",children:"Every Thursday"}),s.jsx(Ke,{value:"friday",children:"Every Friday"})]}):P==="biweekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:"1st-15th",children:"1st and 15th of month"}),s.jsx(Ke,{value:"monday",children:"Every other Monday"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:"1st",children:"1st of month"}),s.jsx(Ke,{value:"15th",children:"15th of month"}),s.jsx(Ke,{value:"last",children:"Last day of month"})]})})]})]})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Helper Recruitment Settings"}),s.jsx(Ir,{children:"Configure helper recruitment rules and referral codes"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Maximum Helpers Per Recruiter"}),s.jsx(ze,{type:"number",value:F===-1?"":F,onChange:ee=>B(ee.target.value?parseInt(ee.target.value):-1),placeholder:"Leave empty for unlimited",min:0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty or enter -1 for unlimited recruitment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Referral Code Prefix"}),s.jsxs("div",{className:"relative",children:[s.jsx(ze,{value:z,onChange:ee=>{const _e=ee.target.value.toUpperCase();q(_e),be("referralCodePrefix",_e)},onBlur:()=>be("referralCodePrefix",z),placeholder:"HELP",maxLength:6,className:J.referralCodePrefix?"border-red-500 focus-visible:ring-red-500":""}),J.referralCodePrefix&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.referralCodePrefix]})]}),!J.referralCodePrefix&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix for auto-generated referral codes (e.g., HELP001, HELP002)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{children:"Auto-generate Referral Codes"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate unique referral codes for new helpers"})]}),s.jsx(Gr,{checked:G,onCheckedChange:Y})]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(PB,{className:"h-5 w-5"}),"Audit Trail"]}),s.jsx(Ir,{children:"Track all changes to commission settings"})]}),s.jsxs(ie,{variant:"outline",onClick:()=>{L(!Z),Z||Ae()},children:[Z?"Hide":"Show"," History"]})]})}),Z&&s.jsx(Te,{children:M.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(PB,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No audit records yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Changes to commission settings will appear here"})]}):s.jsx("div",{className:"space-y-3",children:M.map(ee=>{let _e="",ge="";return ee.table_name==="plan_commission"&&ee.new_value?.plan_id?(_e=f.find(Ie=>Ie.id===ee.new_value.plan_id)?.name||"Unknown Plan",ge=ee.new_value.subscription_type?` - ${ee.new_value.subscription_type.charAt(0).toUpperCase()+ee.new_value.subscription_type.slice(1)}`:""):ee.table_name==="network_commission"&&ee.new_value?.subscription_type&&(ge=` - ${ee.new_value.subscription_type.charAt(0).toUpperCase()+ee.new_value.subscription_type.slice(1)}`),s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ee.action==="created"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":ee.action==="updated"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":ee.action==="deleted"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:ee.action.toUpperCase()}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[ee.table_name.replace(/_/g," ").replace(/\b\w/g,Be=>Be.toUpperCase()),_e&&` - "${_e}"${ge}`,!_e&&ge]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(hc,{className:"h-3 w-3"}),new Date(ee.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(e0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:ee.changed_by_email||"Unknown User"})]}),ee.field_changed&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Field:"})," ",s.jsx("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded",children:ee.field_changed})]}),(ee.old_value||ee.new_value)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[ee.old_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Previous Values:"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-3 text-xs space-y-1",children:Object.entries(ee.old_value).map(([Be,Ie])=>{if(["id","created_at","settings_id","plan_id"].includes(Be))return null;const de=Be.split("_").map(rt=>rt.charAt(0).toUpperCase()+rt.slice(1)).join(" ");let Re=Ie;if(Be==="commission_model")Re=Ie==="onetime"?"One-time":Ie==="recurring"?"Recurring":"Hybrid";else if(Be==="subscription_type")Re=Ie.charAt(0).toUpperCase()+Ie.slice(1);else if(Be.includes("_type")&&(Ie==="percentage"||Ie==="fixed"))Re=Ie==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Be.includes("_value")&&Be.includes("onetime")){const rt=Be.replace("value","type");Re=ee.old_value[rt]==="percentage"?`${Ie}%`:`${Ie}`}else if(Be.includes("_value")&&Be.includes("recurring")){const rt=Be.replace("value","type");Re=ee.old_value[rt]==="percentage"?`${Ie}%`:`${Ie}`}else Be.includes("duration")?Re=`${Ie} months`:typeof Ie=="boolean"&&(Re=Ie?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-red-200 dark:border-red-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[de,":"]}),s.jsx("span",{className:"font-medium",children:String(Re)})]},Be)})})]}),ee.new_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"New Values:"}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3 text-xs space-y-1",children:Object.entries(ee.new_value).map(([Be,Ie])=>{if(["id","created_at","settings_id","plan_id"].includes(Be))return null;const de=Be.split("_").map(rt=>rt.charAt(0).toUpperCase()+rt.slice(1)).join(" ");let Re=Ie;if(Be==="commission_model")Re=Ie==="onetime"?"One-time":Ie==="recurring"?"Recurring":"Hybrid";else if(Be==="subscription_type")Re=Ie.charAt(0).toUpperCase()+Ie.slice(1);else if(Be.includes("_type")&&(Ie==="percentage"||Ie==="fixed"))Re=Ie==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Be.includes("_value")&&Be.includes("onetime")){const rt=Be.replace("value","type");Re=ee.new_value[rt]==="percentage"?`${Ie}%`:`${Ie}`}else if(Be.includes("_value")&&Be.includes("recurring")){const rt=Be.replace("value","type");Re=ee.new_value[rt]==="percentage"?`${Ie}%`:`${Ie}`}else Be.includes("duration")?Re=`${Ie} months`:typeof Ie=="boolean"&&(Re=Ie?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-green-200 dark:border-green-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[de,":"]}),s.jsx("span",{className:"font-medium",children:String(Re)})]},Be)})})]})]}),ee.change_reason&&s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reason:"})," ",s.jsx("span",{className:"italic",children:ee.change_reason})]})]},ee.id)})})})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Object.keys(J).length>0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[s.jsx("span",{children:""})," Fix ",Object.keys(J).length," error",Object.keys(J).length>1?"s":""," before saving"]}),s.jsxs(ie,{size:"lg",onClick:we,disabled:n||Object.keys(J).length>0,className:Object.keys(J).length>0?"opacity-50 cursor-not-allowed":"",children:[s.jsx(gc,{className:"h-5 w-5 mr-2"}),n?"Saving...":"Save All Settings"]})]}),s.jsx(Tn,{open:X,onOpenChange:ne,children:s.jsxs(jn,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsxs(Pn,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(cn,{className:"h-6 w-6 text-green-600"}),"Settings Saved Successfully"]}),s.jsxs(Ns,{className:"text-base",children:[se.commissionModel.length+se.commissionRates.length+se.featureToggles.length+se.paymentSettings.length+se.recruitmentSettings.length," changes applied to your commission settings"]})]}),s.jsx("div",{className:"mt-6 space-y-6",children:se.commissionModel.length+se.commissionRates.length+se.featureToggles.length+se.paymentSettings.length+se.recruitmentSettings.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(nc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No changes detected"})]}):s.jsxs(s.Fragment,{children:[W&&(JSON.stringify(i)!==JSON.stringify(W.networkMonthly)||JSON.stringify(l)!==JSON.stringify(W.networkYearly))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),W&&W.planCommissions&&Object.keys(p).some(ee=>{const _e=W.planCommissions[ee];return _e&&JSON.stringify(p[ee])!==JSON.stringify(_e)})&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(ee=>{const _e=f.find(Ie=>Ie.id===ee),ge=p[ee],Be=W?.planCommissions?.[ee];return!_e||!Be||JSON.stringify(ge)===JSON.stringify(Be)?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:_e.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${ge.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:ge.enabled?"Enabled":"Disabled"})]}),ge.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:ge.monthly.model==="onetime"?"One-time":ge.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(ge.monthly.model==="onetime"||ge.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:ge.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.monthly.onetimeType==="percentage"?`${ge.monthly.onetimeValue}%`:`${ge.monthly.onetimeValue}`})]})]}),(ge.monthly.model==="recurring"||ge.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:ge.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.monthly.recurringType==="percentage"?`${ge.monthly.recurringValue}%`:`${ge.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[ge.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:ge.yearly.model==="onetime"?"One-time":ge.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(ge.yearly.model==="onetime"||ge.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:ge.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.yearly.onetimeType==="percentage"?`${ge.yearly.onetimeValue}%`:`${ge.yearly.onetimeValue}`})]})]}),(ge.yearly.model==="recurring"||ge.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:ge.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.yearly.recurringType==="percentage"?`${ge.yearly.recurringValue}%`:`${ge.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[ge.yearly.recurringDuration," months"]})]})]})]})]})]})]},ee)})})]}),(se.commissionModel.length>0||se.commissionRates.length>0)&&(!W||JSON.stringify(i)===JSON.stringify(W.networkMonthly)&&JSON.stringify(l)===JSON.stringify(W.networkYearly)&&!Object.keys(p).some(ee=>{const _e=W.planCommissions?.[ee];return _e&&JSON.stringify(p[ee])!==JSON.stringify(_e)}))&&s.jsxs(s.Fragment,{children:[(se.commissionModel.some(ee=>ee.startsWith("Monthly:")||ee.startsWith("Yearly:"))||se.commissionRates.some(ee=>ee.startsWith("Monthly")||ee.startsWith("Yearly")))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),Object.keys(p).filter(ee=>{const _e=f.find(ge=>ge.id===ee);return _e&&(se.commissionModel.some(ge=>ge.includes(_e.name))||se.commissionRates.some(ge=>ge.includes(_e.name))||se.featureToggles.some(ge=>ge.includes(_e.name)))}).length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(ee=>{const _e=f.find(Be=>Be.id===ee),ge=p[ee];return!_e||!(se.commissionModel.some(Be=>Be.includes(_e.name))||se.commissionRates.some(Be=>Be.includes(_e.name))||se.featureToggles.some(Be=>Be.includes(_e.name)))?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:_e.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${ge.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:ge.enabled?"Enabled":"Disabled"})]}),ge.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:ge.monthly.model==="onetime"?"One-time":ge.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(ge.monthly.model==="onetime"||ge.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:ge.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.monthly.onetimeType==="percentage"?`${ge.monthly.onetimeValue}%`:`${ge.monthly.onetimeValue}`})]})]}),(ge.monthly.model==="recurring"||ge.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:ge.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.monthly.recurringType==="percentage"?`${ge.monthly.recurringValue}%`:`${ge.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[ge.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:ge.yearly.model==="onetime"?"One-time":ge.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(ge.yearly.model==="onetime"||ge.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:ge.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.yearly.onetimeType==="percentage"?`${ge.yearly.onetimeValue}%`:`${ge.yearly.onetimeValue}`})]})]}),(ge.yearly.model==="recurring"||ge.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:ge.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ge.yearly.recurringType==="percentage"?`${ge.yearly.recurringValue}%`:`${ge.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[ge.yearly.recurringDuration," months"]})]})]})]})]})]})]},ee)})})]})]}),(se.featureToggles.length>0||se.paymentSettings.length>0||se.recruitmentSettings.length>0)&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Other Settings Updated"})}),s.jsxs("div",{className:"p-4 space-y-4",children:[se.featureToggles.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Feature Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:se.featureToggles.map((ee,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(cn,{className:"h-4 w-4 text-green-600"}),ee]},_e))})]}),se.paymentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Payment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:se.paymentSettings.map((ee,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(cn,{className:"h-4 w-4 text-green-600"}),ee]},_e))})]}),se.recruitmentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Recruitment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:se.recruitmentSettings.map((ee,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(cn,{className:"h-4 w-4 text-green-600"}),ee]},_e))})]})]})]})]})}),s.jsx("div",{className:"mt-6 flex justify-end border-t pt-4",children:s.jsx(ie,{onClick:()=>ne(!1),size:"lg",children:"Close"})})]})})]})})}var uA,lq;function vo(){if(lq)return uA;lq=1;var e=Array.isArray;return uA=e,uA}var dA,cq;function yue(){if(cq)return dA;cq=1;var e=typeof o_=="object"&&o_&&o_.Object===Object&&o_;return dA=e,dA}var fA,uq;function du(){if(uq)return fA;uq=1;var e=yue(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return fA=r,fA}var hA,dq;function Xw(){if(dq)return hA;dq=1;var e=du(),t=e.Symbol;return hA=t,hA}var mA,fq;function RVe(){if(fq)return mA;fq=1;var e=Xw(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return mA=i,mA}var pA,hq;function DVe(){if(hq)return pA;hq=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return pA=r,pA}var gA,mq;function dd(){if(mq)return gA;mq=1;var e=Xw(),t=RVe(),r=DVe(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return gA=o,gA}var xA,pq;function fd(){if(pq)return xA;pq=1;function e(t){return t!=null&&typeof t=="object"}return xA=e,xA}var vA,gq;function gx(){if(gq)return vA;gq=1;var e=dd(),t=fd(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return vA=n,vA}var yA,xq;function UL(){if(xq)return yA;xq=1;var e=vo(),t=gx(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return yA=a,yA}var bA,vq;function Xf(){if(vq)return bA;vq=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return bA=e,bA}var wA,yq;function VL(){if(yq)return wA;yq=1;var e=dd(),t=Xf(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==a||c==r||c==i}return wA=o,wA}var _A,bq;function IVe(){if(bq)return _A;bq=1;var e=du(),t=e["__core-js_shared__"];return _A=t,_A}var jA,wq;function MVe(){if(wq)return jA;wq=1;var e=IVe(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return jA=r,jA}var NA,_q;function bue(){if(_q)return NA;_q=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return NA=r,NA}var SA,jq;function FVe(){if(jq)return SA;jq=1;var e=VL(),t=MVe(),r=Xf(),n=bue(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!r(m)||t(m))return!1;var p=e(m)?d:i;return p.test(n(m))}return SA=f,SA}var kA,Nq;function LVe(){if(Nq)return kA;Nq=1;function e(t,r){return t?.[r]}return kA=e,kA}var CA,Sq;function ip(){if(Sq)return CA;Sq=1;var e=FVe(),t=LVe();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return CA=r,CA}var EA,kq;function ck(){if(kq)return EA;kq=1;var e=ip(),t=e(Object,"create");return EA=t,EA}var TA,Cq;function $Ve(){if(Cq)return TA;Cq=1;var e=ck();function t(){this.__data__=e?e(null):{},this.size=0}return TA=t,TA}var AA,Eq;function BVe(){if(Eq)return AA;Eq=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return AA=e,AA}var PA,Tq;function UVe(){if(Tq)return PA;Tq=1;var e=ck(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return PA=a,PA}var OA,Aq;function VVe(){if(Aq)return OA;Aq=1;var e=ck(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return OA=n,OA}var RA,Pq;function zVe(){if(Pq)return RA;Pq=1;var e=ck(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return RA=r,RA}var DA,Oq;function qVe(){if(Oq)return DA;Oq=1;var e=$Ve(),t=BVe(),r=UVe(),n=VVe(),a=zVe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,DA=i,DA}var IA,Rq;function WVe(){if(Rq)return IA;Rq=1;function e(){this.__data__=[],this.size=0}return IA=e,IA}var MA,Dq;function zL(){if(Dq)return MA;Dq=1;function e(t,r){return t===r||t!==t&&r!==r}return MA=e,MA}var FA,Iq;function uk(){if(Iq)return FA;Iq=1;var e=zL();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return FA=t,FA}var LA,Mq;function HVe(){if(Mq)return LA;Mq=1;var e=uk(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return LA=n,LA}var $A,Fq;function GVe(){if(Fq)return $A;Fq=1;var e=uk();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return $A=t,$A}var BA,Lq;function KVe(){if(Lq)return BA;Lq=1;var e=uk();function t(r){return e(this.__data__,r)>-1}return BA=t,BA}var UA,$q;function YVe(){if($q)return UA;$q=1;var e=uk();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return UA=t,UA}var VA,Bq;function dk(){if(Bq)return VA;Bq=1;var e=WVe(),t=HVe(),r=GVe(),n=KVe(),a=YVe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,VA=i,VA}var zA,Uq;function qL(){if(Uq)return zA;Uq=1;var e=ip(),t=du(),r=e(t,"Map");return zA=r,zA}var qA,Vq;function XVe(){if(Vq)return qA;Vq=1;var e=qVe(),t=dk(),r=qL();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return qA=n,qA}var WA,zq;function JVe(){if(zq)return WA;zq=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return WA=e,WA}var HA,qq;function fk(){if(qq)return HA;qq=1;var e=JVe();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return HA=t,HA}var GA,Wq;function ZVe(){if(Wq)return GA;Wq=1;var e=fk();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return GA=t,GA}var KA,Hq;function QVe(){if(Hq)return KA;Hq=1;var e=fk();function t(r){return e(this,r).get(r)}return KA=t,KA}var YA,Gq;function eze(){if(Gq)return YA;Gq=1;var e=fk();function t(r){return e(this,r).has(r)}return YA=t,YA}var XA,Kq;function tze(){if(Kq)return XA;Kq=1;var e=fk();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return XA=t,XA}var JA,Yq;function WL(){if(Yq)return JA;Yq=1;var e=XVe(),t=ZVe(),r=QVe(),n=eze(),a=tze();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,JA=i,JA}var ZA,Xq;function wue(){if(Xq)return ZA;Xq=1;var e=WL(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,ZA=r,ZA}var QA,Jq;function rze(){if(Jq)return QA;Jq=1;var e=wue(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return QA=r,QA}var eP,Zq;function nze(){if(Zq)return eP;Zq=1;var e=rze(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return eP=n,eP}var tP,Qq;function HL(){if(Qq)return tP;Qq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return tP=e,tP}var rP,eW;function sze(){if(eW)return rP;eW=1;var e=Xw(),t=HL(),r=vo(),n=gx(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return rP=o,rP}var nP,tW;function _ue(){if(tW)return nP;tW=1;var e=sze();function t(r){return r==null?"":e(r)}return nP=t,nP}var sP,rW;function jue(){if(rW)return sP;rW=1;var e=vo(),t=UL(),r=nze(),n=_ue();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return sP=a,sP}var aP,nW;function hk(){if(nW)return aP;nW=1;var e=gx();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return aP=t,aP}var iP,sW;function GL(){if(sW)return iP;sW=1;var e=jue(),t=hk();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return iP=r,iP}var oP,aW;function Nue(){if(aW)return oP;aW=1;var e=GL();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return oP=t,oP}var aze=Nue();const qo=Zr(aze);var lP,iW;function ize(){if(iW)return lP;iW=1;function e(t){return t==null}return lP=e,lP}var oze=ize();const Hr=Zr(oze);var cP,oW;function lze(){if(oW)return cP;oW=1;var e=dd(),t=vo(),r=fd(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return cP=a,cP}var cze=lze();const Lm=Zr(cze);var uze=VL();const wr=Zr(uze);var dze=Xf();const xx=Zr(dze);var uP={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lW;function fze(){if(lW)return pn;lW=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var _=v.$$typeof;switch(_){case e:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case f:case i:return v;default:return _}}case t:return _}}}return pn.ContextConsumer=o,pn.ContextProvider=i,pn.Element=e,pn.ForwardRef=c,pn.Fragment=r,pn.Lazy=m,pn.Memo=f,pn.Portal=t,pn.Profiler=a,pn.StrictMode=n,pn.Suspense=u,pn.SuspenseList=d,pn.isAsyncMode=function(){return!1},pn.isConcurrentMode=function(){return!1},pn.isContextConsumer=function(v){return g(v)===o},pn.isContextProvider=function(v){return g(v)===i},pn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},pn.isForwardRef=function(v){return g(v)===c},pn.isFragment=function(v){return g(v)===r},pn.isLazy=function(v){return g(v)===m},pn.isMemo=function(v){return g(v)===f},pn.isPortal=function(v){return g(v)===t},pn.isProfiler=function(v){return g(v)===a},pn.isStrictMode=function(v){return g(v)===n},pn.isSuspense=function(v){return g(v)===u},pn.isSuspenseList=function(v){return g(v)===d},pn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},pn.typeOf=g,pn}var cW;function hze(){return cW||(cW=1,uP.exports=fze()),uP.exports}var mze=hze(),dP,uW;function Sue(){if(uW)return dP;uW=1;var e=dd(),t=fd(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return dP=n,dP}var fP,dW;function pze(){if(dW)return fP;dW=1;var e=Sue();function t(r){return e(r)&&r!=+r}return fP=t,fP}var gze=pze();const Jw=Zr(gze);var xze=Sue();const vze=Zr(xze);var Vi=function(t){return t===0?0:t>0?1:-1},Vh=function(t){return Lm(t)&&t.indexOf("%")===t.length-1},wt=function(t){return vze(t)&&!Jw(t)},yze=function(t){return Hr(t)},wa=function(t){return wt(t)||Lm(t)},bze=0,Zw=function(t){var r=++bze;return"".concat(t||"").concat(r)},zi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wt(t)&&!Lm(t))return n;var i;if(Vh(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Jw(i)&&(i=n),a&&i>r&&(i=r),i},Gd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},wze=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},qd=function(t,r){return wt(t)&&wt(r)?function(n){return t+n*(r-t)}:function(){return r}};function CI(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):qo(n,t))===r})}var _ze=function(t,r){return wt(t)&&wt(r)?t-r:Lm(t)&&Lm(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Jg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function EI(e){"@babel/helpers - typeof";return EI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EI(e)}var jze=["viewBox","children"],Nze=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fW=["points","pathLength"],hP={svg:jze,polygon:fW,polyline:fW},KL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],QN=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!xx(n))return null;var a={};return Object.keys(n).forEach(function(i){KL.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Sze=function(t,r,n){return function(a){return t(r,n,a),null}},$m=function(t,r,n){if(!xx(t)||EI(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];KL.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Sze(o,r,n))}),a},kze=["children"],Cze=["children"];function hW(e,t){if(e==null)return{};var r=Eze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mW={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},pW=null,mP=null,YL=function e(t){if(t===pW&&Array.isArray(mP))return mP;var r=[];return j.Children.forEach(t,function(n){Hr(n)||(mze.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),mP=r,pW=t,r};function Ol(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Vu(a)}):n=[Vu(t)],YL(e).forEach(function(a){var i=qo(a,"type.displayName")||qo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Eo(e,t){var r=Ol(e,t);return r&&r[0]}var gW=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!wt(n)||n<=0||!wt(a)||a<=0)},Tze=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Aze=function(t){return t&&t.type&&Lm(t.type)&&Tze.indexOf(t.type)>=0},Pze=function(t,r,n,a){var i,o=(i=hP?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!wr(t)&&(a&&o.includes(r)||Nze.includes(r))||n&&KL.includes(r)},pr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!xx(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Pze((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},TI=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xW(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!xW(i,o))return!1}return!0},xW=function(t,r){if(Hr(t)&&Hr(r))return!0;if(!Hr(t)&&!Hr(r)){var n=t.props||{},a=n.children,i=hW(n,kze),o=r.props||{},l=o.children,c=hW(o,Cze);return a&&l?Jg(i,c)&&TI(a,l):!a&&!l?Jg(i,c):!1}return!1},vW=function(t,r){var n=[],a={};return YL(t).forEach(function(i,o){if(Aze(i))n.push(i);else if(i){var l=Vu(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Oze=function(t){var r=t&&t.type;return r&&mW[r]?mW[r]:null},Rze=function(t,r){return YL(r).indexOf(t)},Dze=["children","width","height","viewBox","className","style","title","desc"];function AI(){return AI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AI.apply(this,arguments)}function Ize(e,t){if(e==null)return{};var r=Mze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PI(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Ize(e,Dze),d=a||{width:r,height:n,x:0,y:0},f=Mr("recharts-surface",i);return le.createElement("svg",AI({},pr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),le.createElement("title",null,l),le.createElement("desc",null,c),t)}var Fze=["children","className"];function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OI.apply(this,arguments)}function Lze(e,t){if(e==null)return{};var r=$ze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nn=le.forwardRef(function(e,t){var r=e.children,n=e.className,a=Lze(e,Fze),i=Mr("recharts-layer",n);return le.createElement("g",OI({className:i},pr(a,!0),{ref:t}),r)}),fc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},pP,yW;function Bze(){if(yW)return pP;yW=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return pP=e,pP}var gP,bW;function Uze(){if(bW)return gP;bW=1;var e=Bze();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return gP=t,gP}var xP,wW;function kue(){if(wW)return xP;wW=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return xP=c,xP}var vP,_W;function Vze(){if(_W)return vP;_W=1;function e(t){return t.split("")}return vP=e,vP}var yP,jW;function zze(){if(jW)return yP;jW=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",g="["+i+"]?",v="(?:"+p+"(?:"+[d,f,m].join("|")+")"+g+y+")*",_=g+y+v,w="(?:"+[d+l+"?",l,f,m,o].join("|")+")",b=RegExp(c+"(?="+c+")|"+w+_,"g");function E(S){return S.match(b)||[]}return yP=E,yP}var bP,NW;function qze(){if(NW)return bP;NW=1;var e=Vze(),t=kue(),r=zze();function n(a){return t(a)?r(a):e(a)}return bP=n,bP}var wP,SW;function Wze(){if(SW)return wP;SW=1;var e=Uze(),t=kue(),r=qze(),n=_ue();function a(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return wP=a,wP}var _P,kW;function Hze(){if(kW)return _P;kW=1;var e=Wze(),t=e("toUpperCase");return _P=t,_P}var Gze=Hze();const mk=Zr(Gze);function qn(e){return function(){return e}}const Cue=Math.cos,eS=Math.sin,jc=Math.sqrt,tS=Math.PI,pk=2*tS,RI=Math.PI,DI=2*RI,Eh=1e-6,Kze=DI-Eh;function Eue(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Yze(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Eue;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Xze{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Eue:Yze(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Eh)if(!(Math.abs(f*c-u*d)>Eh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,g=c*c+u*u,v=p*p+y*y,_=Math.sqrt(g),w=Math.sqrt(m),b=i*Math.tan((RI-Math.acos((g+m-v)/(2*_*w)))/2),E=b/w,S=b/_;Math.abs(E-1)>Eh&&this._append`L${t+E*d},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Eh||Math.abs(this._y1-d)>Eh)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%DI+DI),m>Kze?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Eh&&this._append`A${n},${n},0,${+(m>=RI)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function XL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Xze(t)}function JL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tue(e){this._context=e}Tue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gk(e){return new Tue(e)}function Aue(e){return e[0]}function Pue(e){return e[1]}function Oue(e,t){var r=qn(!0),n=null,a=gk,i=null,o=XL(l);e=typeof e=="function"?e:e===void 0?Aue:qn(e),t=typeof t=="function"?t:t===void 0?Pue:qn(t);function l(c){var u,d=(c=JL(c)).length,f,m=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Q_(e,t,r){var n=null,a=qn(!0),i=null,o=gk,l=null,c=XL(u);e=typeof e=="function"?e:e===void 0?Aue:qn(+e),t=typeof t=="function"?t:qn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Pue:qn(+r);function u(f){var m,p,y,g=(f=JL(f)).length,v,_=!1,w,b=new Array(g),E=new Array(g);for(i==null&&(l=o(w=c())),m=0;m<=g;++m){if(!(m<g&&a(v=f[m],m,f))===_)if(_=!_)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(b[y],E[y]);l.lineEnd(),l.areaEnd()}_&&(b[m]=+e(v,m,f),E[m]=+t(v,m,f),l.point(n?+n(v,m,f):b[m],r?+r(v,m,f):E[m]))}if(w)return l=null,w+""||null}function d(){return Oue().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:qn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Rue{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Jze(e){return new Rue(e,!0)}function Zze(e){return new Rue(e,!1)}const ZL={draw(e,t){const r=jc(t/tS);e.moveTo(r,0),e.arc(0,0,r,0,pk)}},Qze={draw(e,t){const r=jc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Due=jc(1/3),eqe=Due*2,tqe={draw(e,t){const r=jc(t/eqe),n=r*Due;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rqe={draw(e,t){const r=jc(t),n=-r/2;e.rect(n,n,r,r)}},nqe=.8908130915292852,Iue=eS(tS/10)/eS(7*tS/10),sqe=eS(pk/10)*Iue,aqe=-Cue(pk/10)*Iue,iqe={draw(e,t){const r=jc(t*nqe),n=sqe*r,a=aqe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=pk*i/5,l=Cue(o),c=eS(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},jP=jc(3),oqe={draw(e,t){const r=-jc(t/(jP*3));e.moveTo(0,r*2),e.lineTo(-jP*r,-r),e.lineTo(jP*r,-r),e.closePath()}},al=-.5,il=jc(3)/2,II=1/jc(12),lqe=(II/2+1)*3,cqe={draw(e,t){const r=jc(t/lqe),n=r/2,a=r*II,i=n,o=r*II+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(al*n-il*a,il*n+al*a),e.lineTo(al*i-il*o,il*i+al*o),e.lineTo(al*l-il*c,il*l+al*c),e.lineTo(al*n+il*a,al*a-il*n),e.lineTo(al*i+il*o,al*o-il*i),e.lineTo(al*l+il*c,al*c-il*l),e.closePath()}};function uqe(e,t){let r=null,n=XL(a);e=typeof e=="function"?e:qn(e||ZL),t=typeof t=="function"?t:qn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:qn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:qn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function rS(){}function nS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Mue(e){this._context=e}Mue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dqe(e){return new Mue(e)}function Fue(e){this._context=e}Fue.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fqe(e){return new Fue(e)}function Lue(e){this._context=e}Lue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hqe(e){return new Lue(e)}function $ue(e){this._context=e}$ue.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mqe(e){return new $ue(e)}function CW(e){return e<0?-1:1}function EW(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(CW(i)+CW(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function TW(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function NP(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function sS(e){this._context=e}sS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:NP(this,this._t0,TW(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,NP(this,TW(this,r=EW(this,e,t)),r);break;default:NP(this,this._t0,r=EW(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Bue(e){this._context=new Uue(e)}(Bue.prototype=Object.create(sS.prototype)).point=function(e,t){sS.prototype.point.call(this,t,e)};function Uue(e){this._context=e}Uue.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function pqe(e){return new sS(e)}function gqe(e){return new Bue(e)}function Vue(e){this._context=e}Vue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AW(e),a=AW(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AW(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function xqe(e){return new Vue(e)}function xk(e,t){this._context=e,this._t=t}xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function vqe(e){return new xk(e,.5)}function yqe(e){return new xk(e,0)}function bqe(e){return new xk(e,1)}function S0(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function MI(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function wqe(e,t){return e[t]}function _qe(e){const t=[];return t.key=e,t}function jqe(){var e=qn([]),t=MI,r=S0,n=wqe;function a(i){var o=Array.from(e.apply(this,arguments),_qe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=JL(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:qn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?MI:typeof i=="function"?i:qn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??S0,a):r},a}function Nqe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}S0(e,t)}}function Sqe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}S0(e,t)}}function kqe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,_=g[n-1][1]||0;p+=v-_}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,S0(e,t)}}function Eb(e){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eb(e)}var Cqe=["type","size","sizeType"];function FI(){return FI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FI.apply(this,arguments)}function PW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PW(Object(r),!0).forEach(function(n){Eqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eqe(e,t,r){return t=Tqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tqe(e){var t=Aqe(e,"string");return Eb(t)=="symbol"?t:t+""}function Aqe(e,t){if(Eb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pqe(e,t){if(e==null)return{};var r=Oqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zue={symbolCircle:ZL,symbolCross:Qze,symbolDiamond:tqe,symbolSquare:rqe,symbolStar:iqe,symbolTriangle:oqe,symbolWye:cqe},Rqe=Math.PI/180,Dqe=function(t){var r="symbol".concat(mk(t));return zue[r]||ZL},Iqe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Rqe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mqe=function(t,r){zue["symbol".concat(mk(t))]=r},QL=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Pqe(t,Cqe),u=OW(OW({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=Dqe(n),_=uqe().type(v).size(Iqe(i,l,n));return _()},f=u.className,m=u.cx,p=u.cy,y=pr(u,!0);return m===+m&&p===+p&&i===+i?le.createElement("path",FI({},y,{className:Mr("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};QL.registerSymbol=Mqe;function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function LI(){return LI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LI.apply(this,arguments)}function RW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fqe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RW(Object(r),!0).forEach(function(n){Tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wue(n.key),n)}}function Bqe(e,t,r){return t&&$qe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uqe(e,t,r){return t=aS(t),Vqe(e,que()?Reflect.construct(t,r||[],aS(e).constructor):t.apply(e,r))}function Vqe(e,t){if(t&&(k0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zqe(e)}function zqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function que(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(que=function(){return!!e})()}function aS(e){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aS(e)}function qqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$I(e,t)}function $I(e,t){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$I(e,t)}function Tb(e,t,r){return t=Wue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=Wqe(e,"string");return k0(t)=="symbol"?t:t+""}function Wqe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ol=32,e6=(function(e){function t(){return Lqe(this,t),Uqe(this,t,arguments)}return qqe(t,e),Bqe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ol/2,o=ol/6,l=ol/3,c=n.inactive?a:n.color;if(n.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ol,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ol,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return le.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ol/8,"h").concat(ol,"v").concat(ol*3/4,"h").concat(-ol,"z"),className:"recharts-legend-icon"});if(le.isValidElement(n.legendIcon)){var u=Fqe({},n);return delete u.legendIcon,le.cloneElement(n.legendIcon,u)}return le.createElement(QL,{fill:c,cx:i,cy:i,size:ol,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ol,height:ol},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var g=p.formatter||c,v=Mr(Tb(Tb({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=wr(p.value)?null:p.value;fc(!wr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return le.createElement("li",LI({className:v,style:f,key:"legend-item-".concat(y)},$m(n.props,p,y)),le.createElement(PI,{width:o,height:o,viewBox:d,style:m},n.renderIcon(p)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(_,p,y):_))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);Tb(e6,"displayName","Legend");Tb(e6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var SP,DW;function Hqe(){if(DW)return SP;DW=1;var e=dk();function t(){this.__data__=new e,this.size=0}return SP=t,SP}var kP,IW;function Gqe(){if(IW)return kP;IW=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return kP=e,kP}var CP,MW;function Kqe(){if(MW)return CP;MW=1;function e(t){return this.__data__.get(t)}return CP=e,CP}var EP,FW;function Yqe(){if(FW)return EP;FW=1;function e(t){return this.__data__.has(t)}return EP=e,EP}var TP,LW;function Xqe(){if(LW)return TP;LW=1;var e=dk(),t=qL(),r=WL(),n=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return TP=a,TP}var AP,$W;function Hue(){if($W)return AP;$W=1;var e=dk(),t=Hqe(),r=Gqe(),n=Kqe(),a=Yqe(),i=Xqe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,AP=o,AP}var PP,BW;function Jqe(){if(BW)return PP;BW=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return PP=t,PP}var OP,UW;function Zqe(){if(UW)return OP;UW=1;function e(t){return this.__data__.has(t)}return OP=e,OP}var RP,VW;function Gue(){if(VW)return RP;VW=1;var e=WL(),t=Jqe(),r=Zqe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,RP=n,RP}var DP,zW;function Kue(){if(zW)return DP;zW=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return DP=e,DP}var IP,qW;function Yue(){if(qW)return IP;qW=1;function e(t,r){return t.has(r)}return IP=e,IP}var MP,WW;function Xue(){if(WW)return MP;WW=1;var e=Gue(),t=Kue(),r=Yue(),n=1,a=2;function i(o,l,c,u,d,f){var m=c&n,p=o.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var g=f.get(o),v=f.get(l);if(g&&v)return g==l&&v==o;var _=-1,w=!0,b=c&a?new e:void 0;for(f.set(o,l),f.set(l,o);++_<p;){var E=o[_],S=l[_];if(u)var C=m?u(S,E,_,l,o,f):u(E,S,_,o,l,f);if(C!==void 0){if(C)continue;w=!1;break}if(b){if(!t(l,function(k,R){if(!r(b,R)&&(E===k||d(E,k,c,u,f)))return b.push(R)})){w=!1;break}}else if(!(E===S||d(E,S,c,u,f))){w=!1;break}}return f.delete(o),f.delete(l),w}return MP=i,MP}var FP,HW;function Qqe(){if(HW)return FP;HW=1;var e=du(),t=e.Uint8Array;return FP=t,FP}var LP,GW;function eWe(){if(GW)return LP;GW=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return LP=e,LP}var $P,KW;function t6(){if(KW)return $P;KW=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return $P=e,$P}var BP,YW;function tWe(){if(YW)return BP;YW=1;var e=Xw(),t=Qqe(),r=zL(),n=Xue(),a=eWe(),i=t6(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",b=e?e.prototype:void 0,E=b?b.valueOf:void 0;function S(C,k,R,P,O,A,D){switch(R){case w:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case _:return!(C.byteLength!=k.byteLength||!A(new t(C),new t(k)));case c:case u:case m:return r(+C,+k);case d:return C.name==k.name&&C.message==k.message;case p:case g:return C==k+"";case f:var F=a;case y:var B=P&o;if(F||(F=i),C.size!=k.size&&!B)return!1;var z=D.get(C);if(z)return z==k;P|=l,D.set(C,k);var q=n(F(C),F(k),P,O,A,D);return D.delete(C),q;case v:if(E)return E.call(C)==E.call(k)}return!1}return BP=S,BP}var UP,XW;function Jue(){if(XW)return UP;XW=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return UP=e,UP}var VP,JW;function rWe(){if(JW)return VP;JW=1;var e=Jue(),t=vo();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return VP=r,VP}var zP,ZW;function nWe(){if(ZW)return zP;ZW=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return zP=e,zP}var qP,QW;function sWe(){if(QW)return qP;QW=1;function e(){return[]}return qP=e,qP}var WP,eH;function aWe(){if(eH)return WP;eH=1;var e=nWe(),t=sWe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return WP=i,WP}var HP,tH;function iWe(){if(tH)return HP;tH=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return HP=e,HP}var GP,rH;function oWe(){if(rH)return GP;rH=1;var e=dd(),t=fd(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return GP=n,GP}var KP,nH;function r6(){if(nH)return KP;nH=1;var e=oWe(),t=fd(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return KP=i,KP}var Wv={exports:{}},YP,sH;function lWe(){if(sH)return YP;sH=1;function e(){return!1}return YP=e,YP}Wv.exports;var aH;function Zue(){return aH||(aH=1,(function(e,t){var r=du(),n=lWe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Wv,Wv.exports)),Wv.exports}var XP,iH;function n6(){if(iH)return XP;iH=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return XP=r,XP}var JP,oH;function s6(){if(oH)return JP;oH=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return JP=t,JP}var ZP,lH;function cWe(){if(lH)return ZP;lH=1;var e=dd(),t=s6(),r=fd(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",b="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",A={};A[w]=A[b]=A[E]=A[S]=A[C]=A[k]=A[R]=A[P]=A[O]=!0,A[n]=A[a]=A[v]=A[i]=A[_]=A[o]=A[l]=A[c]=A[u]=A[d]=A[f]=A[m]=A[p]=A[y]=A[g]=!1;function D(F){return r(F)&&t(F.length)&&!!A[e(F)]}return ZP=D,ZP}var QP,cH;function Que(){if(cH)return QP;cH=1;function e(t){return function(r){return t(r)}}return QP=e,QP}var Hv={exports:{}};Hv.exports;var uH;function uWe(){return uH||(uH=1,(function(e,t){var r=yue(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Hv,Hv.exports)),Hv.exports}var e4,dH;function ede(){if(dH)return e4;dH=1;var e=cWe(),t=Que(),r=uWe(),n=r&&r.isTypedArray,a=n?t(n):e;return e4=a,e4}var t4,fH;function dWe(){if(fH)return t4;fH=1;var e=iWe(),t=r6(),r=vo(),n=Zue(),a=n6(),i=ede(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),m=!f&&t(u),p=!f&&!m&&n(u),y=!f&&!m&&!p&&i(u),g=f||m||p||y,v=g?e(u.length,String):[],_=v.length;for(var w in u)(d||l.call(u,w))&&!(g&&(w=="length"||p&&(w=="offset"||w=="parent")||y&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,_)))&&v.push(w);return v}return t4=c,t4}var r4,hH;function fWe(){if(hH)return r4;hH=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return r4=t,r4}var n4,mH;function tde(){if(mH)return n4;mH=1;function e(t,r){return function(n){return t(r(n))}}return n4=e,n4}var s4,pH;function hWe(){if(pH)return s4;pH=1;var e=tde(),t=e(Object.keys,Object);return s4=t,s4}var a4,gH;function mWe(){if(gH)return a4;gH=1;var e=fWe(),t=hWe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return a4=a,a4}var i4,xH;function Qw(){if(xH)return i4;xH=1;var e=VL(),t=s6();function r(n){return n!=null&&t(n.length)&&!e(n)}return i4=r,i4}var o4,vH;function vk(){if(vH)return o4;vH=1;var e=dWe(),t=mWe(),r=Qw();function n(a){return r(a)?e(a):t(a)}return o4=n,o4}var l4,yH;function pWe(){if(yH)return l4;yH=1;var e=rWe(),t=aWe(),r=vk();function n(a){return e(a,r,t)}return l4=n,l4}var c4,bH;function gWe(){if(bH)return c4;bH=1;var e=pWe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,u,d){var f=l&t,m=e(i),p=m.length,y=e(o),g=y.length;if(p!=g&&!f)return!1;for(var v=p;v--;){var _=m[v];if(!(f?_ in o:n.call(o,_)))return!1}var w=d.get(i),b=d.get(o);if(w&&b)return w==o&&b==i;var E=!0;d.set(i,o),d.set(o,i);for(var S=f;++v<p;){_=m[v];var C=i[_],k=o[_];if(c)var R=f?c(k,C,_,o,i,d):c(C,k,_,i,o,d);if(!(R===void 0?C===k||u(C,k,l,c,d):R)){E=!1;break}S||(S=_=="constructor")}if(E&&!S){var P=i.constructor,O=o.constructor;P!=O&&"constructor"in i&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(E=!1)}return d.delete(i),d.delete(o),E}return c4=a,c4}var u4,wH;function xWe(){if(wH)return u4;wH=1;var e=ip(),t=du(),r=e(t,"DataView");return u4=r,u4}var d4,_H;function vWe(){if(_H)return d4;_H=1;var e=ip(),t=du(),r=e(t,"Promise");return d4=r,d4}var f4,jH;function rde(){if(jH)return f4;jH=1;var e=ip(),t=du(),r=e(t,"Set");return f4=r,f4}var h4,NH;function yWe(){if(NH)return h4;NH=1;var e=ip(),t=du(),r=e(t,"WeakMap");return h4=r,h4}var m4,SH;function bWe(){if(SH)return m4;SH=1;var e=xWe(),t=qL(),r=vWe(),n=rde(),a=yWe(),i=dd(),o=bue(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",p=o(e),y=o(t),g=o(r),v=o(n),_=o(a),w=i;return(e&&w(new e(new ArrayBuffer(1)))!=m||t&&w(new t)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=d||a&&w(new a)!=f)&&(w=function(b){var E=i(b),S=E==c?b.constructor:void 0,C=S?o(S):"";if(C)switch(C){case p:return m;case y:return l;case g:return u;case v:return d;case _:return f}return E}),m4=w,m4}var p4,kH;function wWe(){if(kH)return p4;kH=1;var e=Hue(),t=Xue(),r=tWe(),n=gWe(),a=bWe(),i=vo(),o=Zue(),l=ede(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(g,v,_,w,b,E){var S=i(g),C=i(v),k=S?d:a(g),R=C?d:a(v);k=k==u?f:k,R=R==u?f:R;var P=k==f,O=R==f,A=k==R;if(A&&o(g)){if(!o(v))return!1;S=!0,P=!1}if(A&&!P)return E||(E=new e),S||l(g)?t(g,v,_,w,b,E):r(g,v,k,_,w,b,E);if(!(_&c)){var D=P&&p.call(g,"__wrapped__"),F=O&&p.call(v,"__wrapped__");if(D||F){var B=D?g.value():g,z=F?v.value():v;return E||(E=new e),b(B,z,_,w,E)}}return A?(E||(E=new e),n(g,v,_,w,b,E)):!1}return p4=y,p4}var g4,CH;function a6(){if(CH)return g4;CH=1;var e=wWe(),t=fd();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,l)}return g4=r,g4}var x4,EH;function _We(){if(EH)return x4;EH=1;var e=Hue(),t=a6(),r=1,n=2;function a(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var m=l[u];if(f&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=l[u];var p=m[0],y=i[p],g=m[1];if(f&&m[2]){if(y===void 0&&!(p in i))return!1}else{var v=new e;if(c)var _=c(y,g,p,i,o,v);if(!(_===void 0?t(g,y,r|n,c,v):_))return!1}}return!0}return x4=a,x4}var v4,TH;function nde(){if(TH)return v4;TH=1;var e=Xf();function t(r){return r===r&&!e(r)}return v4=t,v4}var y4,AH;function jWe(){if(AH)return y4;AH=1;var e=nde(),t=vk();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,e(l)]}return a}return y4=r,y4}var b4,PH;function sde(){if(PH)return b4;PH=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return b4=e,b4}var w4,OH;function NWe(){if(OH)return w4;OH=1;var e=_We(),t=jWe(),r=sde();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return w4=n,w4}var _4,RH;function SWe(){if(RH)return _4;RH=1;function e(t,r){return t!=null&&r in Object(t)}return _4=e,_4}var j4,DH;function kWe(){if(DH)return j4;DH=1;var e=jue(),t=r6(),r=vo(),n=n6(),a=s6(),i=hk();function o(l,c,u){c=e(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var p=i(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&a(f)&&n(p,f)&&(r(l)||t(l)))}return j4=o,j4}var N4,IH;function CWe(){if(IH)return N4;IH=1;var e=SWe(),t=kWe();function r(n,a){return n!=null&&t(n,a,e)}return N4=r,N4}var S4,MH;function EWe(){if(MH)return S4;MH=1;var e=a6(),t=Nue(),r=CWe(),n=UL(),a=nde(),i=sde(),o=hk(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(m){var p=t(m,d);return p===void 0&&p===f?r(m,d):e(f,p,l|c)}}return S4=u,S4}var k4,FH;function vx(){if(FH)return k4;FH=1;function e(t){return t}return k4=e,k4}var C4,LH;function TWe(){if(LH)return C4;LH=1;function e(t){return function(r){return r?.[t]}}return C4=e,C4}var E4,$H;function AWe(){if($H)return E4;$H=1;var e=GL();function t(r){return function(n){return e(n,r)}}return E4=t,E4}var T4,BH;function PWe(){if(BH)return T4;BH=1;var e=TWe(),t=AWe(),r=UL(),n=hk();function a(i){return r(i)?e(n(i)):t(i)}return T4=a,T4}var A4,UH;function fu(){if(UH)return A4;UH=1;var e=NWe(),t=EWe(),r=vx(),n=vo(),a=PWe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return A4=i,A4}var P4,VH;function ade(){if(VH)return P4;VH=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return P4=e,P4}var O4,zH;function OWe(){if(zH)return O4;zH=1;function e(t){return t!==t}return O4=e,O4}var R4,qH;function RWe(){if(qH)return R4;qH=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return R4=e,R4}var D4,WH;function DWe(){if(WH)return D4;WH=1;var e=ade(),t=OWe(),r=RWe();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return D4=n,D4}var I4,HH;function IWe(){if(HH)return I4;HH=1;var e=DWe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return I4=t,I4}var M4,GH;function MWe(){if(GH)return M4;GH=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return M4=e,M4}var F4,KH;function FWe(){if(KH)return F4;KH=1;function e(){}return F4=e,F4}var L4,YH;function LWe(){if(YH)return L4;YH=1;var e=rde(),t=FWe(),r=t6(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return L4=a,L4}var $4,XH;function $We(){if(XH)return $4;XH=1;var e=Gue(),t=IWe(),r=MWe(),n=Yue(),a=LWe(),i=t6(),o=200;function l(c,u,d){var f=-1,m=t,p=c.length,y=!0,g=[],v=g;if(d)y=!1,m=r;else if(p>=o){var _=u?null:a(c);if(_)return i(_);y=!1,m=n,v=new e}else v=u?[]:g;e:for(;++f<p;){var w=c[f],b=u?u(w):w;if(w=d||w!==0?w:0,y&&b===b){for(var E=v.length;E--;)if(v[E]===b)continue e;u&&v.push(b),g.push(w)}else m(v,b,d)||(v!==g&&v.push(b),g.push(w))}return g}return $4=l,$4}var B4,JH;function BWe(){if(JH)return B4;JH=1;var e=fu(),t=$We();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return B4=r,B4}var UWe=BWe();const ZH=Zr(UWe);function ide(e,t,r){return t===!0?ZH(e,r):wr(t)?ZH(e,t):e}function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var VWe=["ref"];function QH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QH(Object(r),!0).forEach(function(n){yk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lde(n.key),n)}}function qWe(e,t,r){return t&&eG(e.prototype,t),r&&eG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WWe(e,t,r){return t=iS(t),HWe(e,ode()?Reflect.construct(t,r||[],iS(e).constructor):t.apply(e,r))}function HWe(e,t){if(t&&(C0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GWe(e)}function GWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ode(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ode=function(){return!!e})()}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(e)}function KWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BI(e,t)}function BI(e,t){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BI(e,t)}function yk(e,t,r){return t=lde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lde(e){var t=YWe(e,"string");return C0(t)=="symbol"?t:t+""}function YWe(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XWe(e,t){if(e==null)return{};var r=JWe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZWe(e){return e.value}function QWe(e,t){if(le.isValidElement(e))return le.cloneElement(e,t);if(typeof e=="function")return le.createElement(e,t);t.ref;var r=XWe(t,VWe);return le.createElement(e6,r)}var tG=1,gf=(function(e){function t(){var r;zWe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WWe(this,t,[].concat(a)),yk(r,"lastBoundingBox",{width:-1,height:-1}),r}return KWe(t,e),qWe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>tG||Math.abs(a.height-this.lastBoundingBox.height)>tG)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ju({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ju(ju({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ju(ju({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},QWe(i,ju(ju({},this.props),{},{payload:ide(d,u,ZWe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ju(ju({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&wt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(j.PureComponent);yk(gf,"displayName","Legend");yk(gf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var U4,rG;function eHe(){if(rG)return U4;rG=1;var e=Xw(),t=r6(),r=vo(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return U4=a,U4}var V4,nG;function cde(){if(nG)return V4;nG=1;var e=Jue(),t=eHe();function r(n,a,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return V4=r,V4}var z4,sG;function tHe(){if(sG)return z4;sG=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return z4=e,z4}var q4,aG;function rHe(){if(aG)return q4;aG=1;var e=tHe(),t=e();return q4=t,q4}var W4,iG;function ude(){if(iG)return W4;iG=1;var e=rHe(),t=vk();function r(n,a){return n&&e(n,a,t)}return W4=r,W4}var H4,oG;function nHe(){if(oG)return H4;oG=1;var e=Qw();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return H4=t,H4}var G4,lG;function i6(){if(lG)return G4;lG=1;var e=ude(),t=nHe(),r=t(e);return G4=r,G4}var K4,cG;function dde(){if(cG)return K4;cG=1;var e=i6(),t=Qw();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=a(l,c,u)}),o}return K4=r,K4}var Y4,uG;function sHe(){if(uG)return Y4;uG=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Y4=e,Y4}var X4,dG;function aHe(){if(dG)return X4;dG=1;var e=gx();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return X4=t,X4}var J4,fG;function iHe(){if(fG)return J4;fG=1;var e=aHe();function t(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return J4=t,J4}var Z4,hG;function oHe(){if(hG)return Z4;hG=1;var e=HL(),t=GL(),r=fu(),n=dde(),a=sHe(),i=Que(),o=iHe(),l=vx(),c=vo();function u(d,f,m){f.length?f=e(f,function(g){return c(g)?function(v){return t(v,g.length===1?g[0]:g)}:g}):f=[l];var p=-1;f=e(f,i(r));var y=n(d,function(g,v,_){var w=e(f,function(b){return b(g)});return{criteria:w,index:++p,value:g}});return a(y,function(g,v){return o(g,v,m)})}return Z4=u,Z4}var Q4,mG;function lHe(){if(mG)return Q4;mG=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Q4=e,Q4}var eO,pG;function cHe(){if(pG)return eO;pG=1;var e=lHe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=i(u),e(n,this,d)}}return eO=r,eO}var tO,gG;function uHe(){if(gG)return tO;gG=1;function e(t){return function(){return t}}return tO=e,tO}var rO,xG;function fde(){if(xG)return rO;xG=1;var e=ip(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return rO=t,rO}var nO,vG;function dHe(){if(vG)return nO;vG=1;var e=uHe(),t=fde(),r=vx(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return nO=n,nO}var sO,yG;function fHe(){if(yG)return sO;yG=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return sO=n,sO}var aO,bG;function hHe(){if(bG)return aO;bG=1;var e=dHe(),t=fHe(),r=t(e);return aO=r,aO}var iO,wG;function mHe(){if(wG)return iO;wG=1;var e=vx(),t=cHe(),r=hHe();function n(a,i){return r(t(a,i,e),a+"")}return iO=n,iO}var oO,_G;function bk(){if(_G)return oO;_G=1;var e=zL(),t=Qw(),r=n6(),n=Xf();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return oO=a,oO}var lO,jG;function pHe(){if(jG)return lO;jG=1;var e=cde(),t=oHe(),r=mHe(),n=bk(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return lO=a,lO}var gHe=pHe();const o6=Zr(gHe);function Ab(e){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ab(e)}function UI(){return UI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UI.apply(this,arguments)}function xHe(e,t){return wHe(e)||bHe(e,t)||yHe(e,t)||vHe()}function vHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yHe(e,t){if(e){if(typeof e=="string")return NG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NG(e,t)}}function NG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wHe(e){if(Array.isArray(e))return e}function SG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SG(Object(r),!0).forEach(function(n){_He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _He(e,t,r){return t=jHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jHe(e){var t=NHe(e,"string");return Ab(t)=="symbol"?t:t+""}function NHe(e,t){if(Ab(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ab(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SHe(e){return Array.isArray(e)&&wa(e[0])&&wa(e[1])?e.join(" ~ "):e}var kHe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,g=t.label,v=t.labelFormatter,_=t.accessibilityLayer,w=_===void 0?!1:_,b=function(){if(d&&d.length){var D={padding:0,margin:0},F=(m?o6(d,m):d).map(function(B,z){if(B.type==="none")return null;var q=cO({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),G=B.formatter||f||SHe,Y=B.value,M=B.name,H=Y,Z=M;if(G&&H!=null&&Z!=null){var L=G(Y,M,B,z,d);if(Array.isArray(L)){var J=xHe(L,2);H=J[0],Z=J[1]}else H=L}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:q},wa(Z)?le.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,wa(Z)?le.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,le.createElement("span",{className:"recharts-tooltip-item-value"},H),le.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:D},F)}return null},E=cO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=cO({margin:0},u),C=!Hr(g),k=C?g:"",R=Mr("recharts-default-tooltip",p),P=Mr("recharts-tooltip-label",y);C&&v&&d!==void 0&&d!==null&&(k=v(g,d));var O=w?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",UI({className:R,style:E},O),le.createElement("p",{className:P,style:S},le.isValidElement(k)?k:"".concat(k)),b())};function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}function ej(e,t,r){return t=CHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CHe(e){var t=EHe(e,"string");return Pb(t)=="symbol"?t:t+""}function EHe(e,t){if(Pb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yv="recharts-tooltip-wrapper",THe={visibility:"hidden"};function AHe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mr(yv,ej(ej(ej(ej({},"".concat(yv,"-right"),wt(r)&&t&&wt(t.x)&&r>=t.x),"".concat(yv,"-left"),wt(r)&&t&&wt(t.x)&&r<t.x),"".concat(yv,"-bottom"),wt(n)&&t&&wt(t.y)&&n>=t.y),"".concat(yv,"-top"),wt(n)&&t&&wt(t.y)&&n<t.y))}function kG(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&wt(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(f,c[n])}function PHe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function OHe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=kG({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=kG({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=PHe({translateX:d,translateY:f,useTranslate3d:l})):u=THe,{cssProperties:u,cssClasses:AHe({translateX:d,translateY:f,coordinate:r})}}function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function CG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CG(Object(r),!0).forEach(function(n){zI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mde(n.key),n)}}function IHe(e,t,r){return t&&DHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MHe(e,t,r){return t=oS(t),FHe(e,hde()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function FHe(e,t){if(t&&(E0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LHe(e)}function LHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hde=function(){return!!e})()}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function $He(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VI(e,t)}function VI(e,t){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VI(e,t)}function zI(e,t,r){return t=mde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mde(e){var t=BHe(e,"string");return E0(t)=="symbol"?t:t+""}function BHe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TG=1,UHe=(function(e){function t(){var r;RHe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=MHe(this,t,[].concat(a)),zI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zI(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return $He(t,e),IHe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>TG||Math.abs(n.height-this.state.lastBoundingBox.height)>TG)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,y=a.position,g=a.reverseDirection,v=a.useTranslate3d,_=a.viewBox,w=a.wrapperStyle,b=OHe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),E=b.cssClasses,S=b.cssProperties,C=EG(EG({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return le.createElement("div",{tabIndex:-1,className:E,style:C,ref:function(R){n.wrapperNode=R}},u)}}])})(j.PureComponent),VHe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yx={isSsr:VHe()};function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function AG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AG(Object(r),!0).forEach(function(n){l6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gde(n.key),n)}}function WHe(e,t,r){return t&&qHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HHe(e,t,r){return t=lS(t),GHe(e,pde()?Reflect.construct(t,r||[],lS(e).constructor):t.apply(e,r))}function GHe(e,t){if(t&&(T0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KHe(e)}function KHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pde=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lS(e)}function YHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qI(e,t)}function qI(e,t){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qI(e,t)}function l6(e,t,r){return t=gde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gde(e){var t=XHe(e,"string");return T0(t)=="symbol"?t:t+""}function XHe(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function JHe(e){return e.dataKey}function ZHe(e,t){return le.isValidElement(e)?le.cloneElement(e,t):typeof e=="function"?le.createElement(e,t):le.createElement(kHe,t)}var xl=(function(e){function t(){return zHe(this,t),HHe(this,t,arguments)}return YHe(t,e),WHe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,y=a.payload,g=a.payloadUniqBy,v=a.position,_=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,E=a.wrapperStyle,S=y??[];f&&S.length&&(S=ide(y.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),g,JHe));var C=S.length>0;return le.createElement(UHe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:C,offset:p,position:v,reverseDirection:_,useTranslate3d:w,viewBox:b,wrapperStyle:E},ZHe(u,PG(PG({},this.props),{},{payload:S})))}}])})(j.PureComponent);l6(xl,"displayName","Tooltip");l6(xl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yx.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uO,OG;function QHe(){if(OG)return uO;OG=1;var e=du(),t=function(){return e.Date.now()};return uO=t,uO}var dO,RG;function eGe(){if(RG)return dO;RG=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return dO=t,dO}var fO,DG;function tGe(){if(DG)return fO;DG=1;var e=eGe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return fO=r,fO}var hO,IG;function xde(){if(IG)return hO;IG=1;var e=tGe(),t=Xf(),r=gx(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return hO=c,hO}var mO,MG;function rGe(){if(MG)return mO;MG=1;var e=Xf(),t=QHe(),r=xde(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,f,m,p,y,g,v=0,_=!1,w=!1,b=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(_=!!u.leading,w="maxWait"in u,m=w?a(r(u.maxWait)||0,c):m,b="trailing"in u?!!u.trailing:b);function E(F){var B=d,z=f;return d=f=void 0,v=F,p=l.apply(z,B),p}function S(F){return v=F,y=setTimeout(R,c),_?E(F):p}function C(F){var B=F-g,z=F-v,q=c-B;return w?i(q,m-z):q}function k(F){var B=F-g,z=F-v;return g===void 0||B>=c||B<0||w&&z>=m}function R(){var F=t();if(k(F))return P(F);y=setTimeout(R,C(F))}function P(F){return y=void 0,b&&d?E(F):(d=f=void 0,p)}function O(){y!==void 0&&clearTimeout(y),v=0,d=g=f=y=void 0}function A(){return y===void 0?p:P(t())}function D(){var F=t(),B=k(F);if(d=arguments,f=this,g=F,B){if(y===void 0)return S(g);if(w)return clearTimeout(y),y=setTimeout(R,c),E(g)}return y===void 0&&(y=setTimeout(R,c)),p}return D.cancel=O,D.flush=A,D}return mO=o,mO}var pO,FG;function nGe(){if(FG)return pO;FG=1;var e=rGe(),t=Xf(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return pO=n,pO}var sGe=nGe();const vde=Zr(sGe);function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}function LG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LG(Object(r),!0).forEach(function(n){aGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aGe(e,t,r){return t=iGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iGe(e){var t=oGe(e,"string");return Ob(t)=="symbol"?t:t+""}function oGe(e,t){if(Ob(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lGe(e,t){return fGe(e)||dGe(e,t)||uGe(e,t)||cGe()}function cGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uGe(e,t){if(e){if(typeof e=="string")return $G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $G(e,t)}}function $G(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fGe(e){if(Array.isArray(e))return e}var gO=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,p=e.children,y=e.debounce,g=y===void 0?0:y,v=e.id,_=e.className,w=e.onResize,b=e.style,E=b===void 0?{}:b,S=j.useRef(null),C=j.useRef();C.current=w,j.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=j.useState({containerWidth:a.width,containerHeight:a.height}),R=lGe(k,2),P=R[0],O=R[1],A=j.useCallback(function(F,B){O(function(z){var q=Math.round(F),G=Math.round(B);return z.containerWidth===q&&z.containerHeight===G?z:{containerWidth:q,containerHeight:G}})},[]);j.useEffect(function(){var F=function(M){var H,Z=M[0].contentRect,L=Z.width,J=Z.height;A(L,J),(H=C.current)===null||H===void 0||H.call(C,L,J)};g>0&&(F=vde(F,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(F),z=S.current.getBoundingClientRect(),q=z.width,G=z.height;return A(q,G),B.observe(S.current),function(){B.disconnect()}},[A,g]);var D=j.useMemo(function(){var F=P.containerWidth,B=P.containerHeight;if(F<0||B<0)return null;fc(Vh(o)||Vh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),fc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=Vh(o)?F:o,q=Vh(c)?B:c;r&&r>0&&(z?q=z/r:q&&(z=q*r),m&&q>m&&(q=m)),fc(z>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,q,o,c,d,f,r);var G=!Array.isArray(p)&&Vu(p.type).endsWith("Chart");return le.Children.map(p,function(Y){return le.isValidElement(Y)?j.cloneElement(Y,tj({width:z,height:q},G?{style:tj({height:"100%",width:"100%",maxHeight:q,maxWidth:z},Y.props.style)}:{})):Y})},[r,p,c,m,f,d,P,o]);return le.createElement("div",{id:v?"".concat(v):void 0,className:Mr("recharts-responsive-container",_),style:tj(tj({},E),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},D)}),wk=function(t){return null};wk.displayName="Cell";function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}function BG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BG(Object(r),!0).forEach(function(n){hGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hGe(e,t,r){return t=mGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mGe(e){var t=pGe(e,"string");return Rb(t)=="symbol"?t:t+""}function pGe(e,t){if(Rb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg={widthCache:{},cacheCount:0},gGe=2e3,xGe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UG="recharts_measurement_span";function vGe(e){var t=WI({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ey=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yx.isSsr)return{width:0,height:0};var n=vGe(r),a=JSON.stringify({text:t,copyStyle:n});if(tg.widthCache[a])return tg.widthCache[a];try{var i=document.getElementById(UG);i||(i=document.createElement("span"),i.setAttribute("id",UG),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=WI(WI({},xGe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return tg.widthCache[a]=c,++tg.cacheCount>gGe&&(tg.cacheCount=0,tg.widthCache={}),c}catch{return{width:0,height:0}}},yGe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}function cS(e,t){return jGe(e)||_Ge(e,t)||wGe(e,t)||bGe()}function bGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wGe(e,t){if(e){if(typeof e=="string")return VG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VG(e,t)}}function VG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Ge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jGe(e){if(Array.isArray(e))return e}function NGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kGe(n.key),n)}}function SGe(e,t,r){return t&&zG(e.prototype,t),r&&zG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kGe(e){var t=CGe(e,"string");return Db(t)=="symbol"?t:t+""}function CGe(e,t){if(Db(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Db(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EGe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TGe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},AGe=Object.keys(yde),Sg="NaN";function PGe(e,t){return e*yde[t]}var rj=(function(){function e(t,r){NGe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!EGe.test(r)&&(this.num=NaN,this.unit=""),AGe.includes(r)&&(this.num=PGe(t,r),this.unit="px")}return SGe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=TGe.exec(r))!==null&&n!==void 0?n:[],i=cS(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function bde(e){if(e.includes(Sg))return Sg;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=qG.exec(t))!==null&&r!==void 0?r:[],a=cS(n,4),i=a[1],o=a[2],l=a[3],c=rj.parse(i??""),u=rj.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Sg;t=t.replace(qG,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=WG.exec(t))!==null&&f!==void 0?f:[],p=cS(m,4),y=p[1],g=p[2],v=p[3],_=rj.parse(y??""),w=rj.parse(v??""),b=g==="+"?_.add(w):_.subtract(w);if(b.isNaN())return Sg;t=t.replace(WG,b.toString())}return t}var HG=/\(([^()]*)\)/;function OGe(e){for(var t=e;t.includes("(");){var r=HG.exec(t),n=cS(r,2),a=n[1];t=t.replace(HG,bde(a))}return t}function RGe(e){var t=e.replace(/\s+/g,"");return t=OGe(t),t=bde(t),t}function DGe(e){try{return RGe(e)}catch{return Sg}}function xO(e){var t=DGe(e.slice(5,-1));return t===Sg?"":t}var IGe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MGe=["dx","dy","angle","className","breakAll"];function HI(){return HI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HI.apply(this,arguments)}function GG(e,t){if(e==null)return{};var r=FGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KG(e,t){return UGe(e)||BGe(e,t)||$Ge(e,t)||LGe()}function LGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ge(e,t){if(e){if(typeof e=="string")return YG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YG(e,t)}}function YG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function UGe(e){if(Array.isArray(e))return e}var wde=/[ \f\n\r\t\v\u2028\u2029]+/,_de=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Hr(r)||(n?i=r.toString().split(""):i=r.toString().split(wde));var o=i.map(function(c){return{word:c,width:Ey(c,a).width}}),l=n?0:Ey("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},VGe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=wt(o),f=l,m=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(q,G){var Y=G.word,M=G.width,H=q[q.length-1];if(H&&(a==null||i||H.width+M+n<Number(a)))H.words.push(Y),H.width+=M+n;else{var Z={words:[Y],width:M};q.push(Z)}return q},[])},p=m(r),y=function(z){return z.reduce(function(q,G){return q.width>G.width?q:G})};if(!d)return p;for(var g="",v=function(z){var q=f.slice(0,z),G=_de({breakAll:u,style:c,children:q+g}).wordsWithComputedWidth,Y=m(G),M=Y.length>o||y(Y).width>Number(a);return[M,Y]},_=0,w=f.length-1,b=0,E;_<=w&&b<=f.length-1;){var S=Math.floor((_+w)/2),C=S-1,k=v(C),R=KG(k,2),P=R[0],O=R[1],A=v(S),D=KG(A,1),F=D[0];if(!P&&!F&&(_=S+1),P&&F&&(w=S-1),!P&&F){E=O;break}b++}return E||p},XG=function(t){var r=Hr(t)?[]:t.toString().split(wde);return[{words:r}]},zGe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!yx.isSsr){var c,u,d=_de({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return XG(a);return VGe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return XG(a)},JG="#808080",Bm=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,p=m===void 0?"start":m,y=t.verticalAnchor,g=y===void 0?"end":y,v=t.fill,_=v===void 0?JG:v,w=GG(t,IGe),b=j.useMemo(function(){return zGe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),E=w.dx,S=w.dy,C=w.angle,k=w.className,R=w.breakAll,P=GG(w,MGe);if(!wa(n)||!wa(i))return null;var O=n+(wt(E)?E:0),A=i+(wt(S)?S:0),D;switch(g){case"start":D=xO("calc(".concat(u,")"));break;case"middle":D=xO("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=xO("calc(".concat(b.length-1," * -").concat(l,")"));break}var F=[];if(f){var B=b[0].width,z=w.width;F.push("scale(".concat((wt(z)?z/B:1)/B,")"))}return C&&F.push("rotate(".concat(C,", ").concat(O,", ").concat(A,")")),F.length&&(P.transform=F.join(" ")),le.createElement("text",HI({},pr(P,!0),{x:O,y:A,className:Mr("recharts-text",k),textAnchor:p,fill:_.includes("url")?JG:_}),b.map(function(q,G){var Y=q.words.join(R?"":" ");return le.createElement("tspan",{x:O,dy:G===0?D:l,key:"".concat(Y,"-").concat(G)},Y)}))};function xf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qGe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function c6(e){let t,r,n;e.length!==2?(t=xf,r=(l,c)=>xf(e(l),c),n=(l,c)=>e(l)-c):(t=e===xf||e===qGe?e:WGe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function WGe(){return 0}function jde(e){return e===null?NaN:+e}function*HGe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const GGe=c6(xf),e1=GGe.right;c6(jde).center;class ZG extends Map{constructor(t,r=XGe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(QG(this,t))}has(t){return super.has(QG(this,t))}set(t,r){return super.set(KGe(this,t),r)}delete(t){return super.delete(YGe(this,t))}}function QG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function KGe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function YGe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function XGe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JGe(e=xf){if(e===xf)return Nde;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Nde(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ZGe=Math.sqrt(50),QGe=Math.sqrt(10),eKe=Math.sqrt(2);function uS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=ZGe?10:i>=QGe?5:i>=eKe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?uS(e,t,r*2):[l,c,u]}function GI(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?uS(t,e,r):uS(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function KI(e,t,r){return t=+t,e=+e,r=+r,uS(e,t,r)[2]}function YI(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?KI(t,e,r):KI(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function eK(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tK(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Sde(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Nde:JGe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+m)),y=Math.min(n,Math.floor(t+(c-u)*f/c+m));Sde(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(bv(e,r,t),a(e[n],i)>0&&bv(e,r,n);o<l;){for(bv(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?bv(e,r,l):(++l,bv(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function bv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function tKe(e,t,r){if(e=Float64Array.from(HGe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return tK(e);if(t>=1)return eK(e);var n,a=(n-1)*t,i=Math.floor(a),o=eK(Sde(e,i).subarray(0,i+1)),l=tK(e.subarray(i+1));return o+(l-o)*(a-i)}}function rKe(e,t,r=jde){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function nKe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Fl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const XI=Symbol("implicit");function u6(){var e=new ZG,t=[],r=[],n=XI;function a(i){let o=e.get(i);if(o===void 0){if(n!==XI)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ZG;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return u6(t,r).unknown(n)},Fl.apply(a,arguments),a}function Ib(){var e=u6().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,p=a<n,y=p?a:n,g=p?n:a;i=(g-y)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(m-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=nKe(m).map(function(_){return y+i*_});return r(p?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Ib(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Fl.apply(f(),arguments)}function kde(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kde(t())},e}function Ty(){return kde(Ib.apply(null,arguments).paddingInner(1))}function d6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Cde(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function t1(){}var Mb=.7,dS=1/Mb,Zg="\\s*([+-]?\\d+)\\s*",Fb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sKe=/^#([0-9a-f]{3,8})$/,aKe=new RegExp(`^rgb\\(${Zg},${Zg},${Zg}\\)$`),iKe=new RegExp(`^rgb\\(${Xc},${Xc},${Xc}\\)$`),oKe=new RegExp(`^rgba\\(${Zg},${Zg},${Zg},${Fb}\\)$`),lKe=new RegExp(`^rgba\\(${Xc},${Xc},${Xc},${Fb}\\)$`),cKe=new RegExp(`^hsl\\(${Fb},${Xc},${Xc}\\)$`),uKe=new RegExp(`^hsla\\(${Fb},${Xc},${Xc},${Fb}\\)$`),rK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d6(t1,Lb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nK,formatHex:nK,formatHex8:dKe,formatHsl:fKe,formatRgb:sK,toString:sK});function nK(){return this.rgb().formatHex()}function dKe(){return this.rgb().formatHex8()}function fKe(){return Ede(this).formatHsl()}function sK(){return this.rgb().formatRgb()}function Lb(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sKe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aK(t):r===3?new co(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aKe.exec(e))?new co(t[1],t[2],t[3],1):(t=iKe.exec(e))?new co(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oKe.exec(e))?nj(t[1],t[2],t[3],t[4]):(t=lKe.exec(e))?nj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cKe.exec(e))?lK(t[1],t[2]/100,t[3]/100,1):(t=uKe.exec(e))?lK(t[1],t[2]/100,t[3]/100,t[4]):rK.hasOwnProperty(e)?aK(rK[e]):e==="transparent"?new co(NaN,NaN,NaN,0):null}function aK(e){return new co(e>>16&255,e>>8&255,e&255,1)}function nj(e,t,r,n){return n<=0&&(e=t=r=NaN),new co(e,t,r,n)}function hKe(e){return e instanceof t1||(e=Lb(e)),e?(e=e.rgb(),new co(e.r,e.g,e.b,e.opacity)):new co}function JI(e,t,r,n){return arguments.length===1?hKe(e):new co(e,t,r,n??1)}function co(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}d6(co,JI,Cde(t1,{brighter(e){return e=e==null?dS:Math.pow(dS,e),new co(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mb:Math.pow(Mb,e),new co(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new co(om(this.r),om(this.g),om(this.b),fS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iK,formatHex:iK,formatHex8:mKe,formatRgb:oK,toString:oK}));function iK(){return`#${zh(this.r)}${zh(this.g)}${zh(this.b)}`}function mKe(){return`#${zh(this.r)}${zh(this.g)}${zh(this.b)}${zh((isNaN(this.opacity)?1:this.opacity)*255)}`}function oK(){const e=fS(this.opacity);return`${e===1?"rgb(":"rgba("}${om(this.r)}, ${om(this.g)}, ${om(this.b)}${e===1?")":`, ${e})`}`}function fS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function om(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zh(e){return e=om(e),(e<16?"0":"")+e.toString(16)}function lK(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new rc(e,t,r,n)}function Ede(e){if(e instanceof rc)return new rc(e.h,e.s,e.l,e.opacity);if(e instanceof t1||(e=Lb(e)),!e)return new rc;if(e instanceof rc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new rc(o,l,c,e.opacity)}function pKe(e,t,r,n){return arguments.length===1?Ede(e):new rc(e,t,r,n??1)}function rc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}d6(rc,pKe,Cde(t1,{brighter(e){return e=e==null?dS:Math.pow(dS,e),new rc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mb:Math.pow(Mb,e),new rc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new co(vO(e>=240?e-240:e+120,a,n),vO(e,a,n),vO(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new rc(cK(this.h),sj(this.s),sj(this.l),fS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fS(this.opacity);return`${e===1?"hsl(":"hsla("}${cK(this.h)}, ${sj(this.s)*100}%, ${sj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cK(e){return e=(e||0)%360,e<0?e+360:e}function sj(e){return Math.max(0,Math.min(1,e||0))}function vO(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const f6=e=>()=>e;function gKe(e,t){return function(r){return e+r*t}}function xKe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vKe(e){return(e=+e)==1?Tde:function(t,r){return r-t?xKe(t,r,e):f6(isNaN(t)?r:t)}}function Tde(e,t){var r=t-e;return r?gKe(e,r):f6(isNaN(e)?t:e)}const uK=(function e(t){var r=vKe(t);function n(a,i){var o=r((a=JI(a)).r,(i=JI(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Tde(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function yKe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function bKe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wKe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=bx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function _Ke(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jKe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bx(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ZI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yO=new RegExp(ZI.source,"g");function NKe(e){return function(){return e}}function SKe(e){return function(t){return e(t)+""}}function kKe(e,t){var r=ZI.lastIndex=yO.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ZI.exec(e))&&(a=yO.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:hS(n,a)})),r=yO.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?SKe(c[0].x):NKe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function bx(e,t){var r=typeof t,n;return t==null||r==="boolean"?f6(t):(r==="number"?hS:r==="string"?(n=Lb(t))?(t=n,uK):kKe:t instanceof Lb?uK:t instanceof Date?_Ke:bKe(t)?yKe:Array.isArray(t)?wKe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jKe:hS)(e,t)}function h6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function CKe(e,t){t===void 0&&(t=e,e=bx);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function EKe(e){return function(){return e}}function mS(e){return+e}var dK=[0,1];function qi(e){return e}function QI(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:EKe(isNaN(t)?NaN:.5)}function TKe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function AKe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=QI(a,n),i=r(o,i)):(n=QI(n,a),i=r(i,o)),function(l){return i(n(l))}}function PKe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=QI(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=e1(e,l,1,n)-1;return i[c](a[c](l))}}function r1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _k(){var e=dK,t=dK,r=bx,n,a,i,o=qi,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==qi&&(o=TKe(e[0],e[m-1])),l=m>2?PKe:AKe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),hS)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,mS),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=h6,d()},f.clamp=function(m){return arguments.length?(o=m?!0:qi,d()):o!==qi},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,p){return n=m,a=p,d()}}function m6(){return _k()(qi,qi)}function OKe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function A0(e){return e=pS(Math.abs(e)),e?e[1]:NaN}function RKe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function DKe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var IKe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $b(e){if(!(t=IKe.exec(e)))throw new Error("invalid format: "+e);var t;return new p6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$b.prototype=p6.prototype;function p6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}p6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MKe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Ade;function FKe(e,t){var r=pS(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Ade=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pS(e,Math.max(0,t+i-1))[0]}function fK(e,t){var r=pS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const hK={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:OKe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fK(e*100,t),r:fK,s:FKe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mK(e){return e}var pK=Array.prototype.map,gK=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LKe(e){var t=e.grouping===void 0||e.thousands===void 0?mK:RKe(pK.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?mK:DKe(pK.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=$b(f);var m=f.fill,p=f.align,y=f.sign,g=f.symbol,v=f.zero,_=f.width,w=f.comma,b=f.precision,E=f.trim,S=f.type;S==="n"?(w=!0,S="g"):hK[S]||(b===void 0&&(b=12),E=!0,S="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=g==="$"?n:/[%p]/.test(S)?o:"",R=hK[S],P=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(A){var D=C,F=k,B,z,q;if(S==="c")F=R(A)+F,A="";else{A=+A;var G=A<0||1/A<0;if(A=isNaN(A)?c:R(Math.abs(A),b),E&&(A=MKe(A)),G&&+A==0&&y!=="+"&&(G=!1),D=(G?y==="("?y:l:y==="-"||y==="("?"":y)+D,F=(S==="s"?gK[8+Ade/3]:"")+F+(G&&y==="("?")":""),P){for(B=-1,z=A.length;++B<z;)if(q=A.charCodeAt(B),48>q||q>57){F=(q===46?a+A.slice(B+1):A.slice(B))+F,A=A.slice(0,B);break}}}w&&!v&&(A=t(A,1/0));var Y=D.length+A.length+F.length,M=Y<_?new Array(_-Y+1).join(m):"";switch(w&&v&&(A=t(M+A,M.length?_-F.length:1/0),M=""),p){case"<":A=D+A+F+M;break;case"=":A=D+M+A+F;break;case"^":A=M.slice(0,Y=M.length>>1)+D+A+F+M.slice(Y);break;default:A=M+D+A+F;break}return i(A)}return O.toString=function(){return f+""},O}function d(f,m){var p=u((f=$b(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(A0(m)/3)))*3,g=Math.pow(10,-y),v=gK[8+y/3];return function(_){return p(g*_)+v}}return{format:u,formatPrefix:d}}var aj,g6,Pde;$Ke({thousands:",",grouping:[3],currency:["$",""]});function $Ke(e){return aj=LKe(e),g6=aj.format,Pde=aj.formatPrefix,aj}function BKe(e){return Math.max(0,-A0(Math.abs(e)))}function UKe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(A0(t)/3)))*3-A0(Math.abs(e)))}function VKe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,A0(t)-A0(e))+1}function Ode(e,t,r,n){var a=YI(e,t,r),i;switch(n=$b(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=UKe(a,o))&&(n.precision=i),Pde(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=VKe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=BKe(a))&&(n.precision=i-(n.type==="%")*2);break}}return g6(n)}function Jf(e){var t=e.domain;return e.ticks=function(r){var n=t();return GI(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Ode(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=KI(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function gS(){var e=m6();return e.copy=function(){return r1(e,gS())},Fl.apply(e,arguments),Jf(e)}function Rde(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,mS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Rde(e).unknown(t)},e=arguments.length?Array.from(e,mS):[0,1],Jf(r)}function Dde(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function xK(e){return Math.log(e)}function vK(e){return Math.exp(e)}function zKe(e){return-Math.log(-e)}function qKe(e){return-Math.exp(-e)}function WKe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HKe(e){return e===10?WKe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GKe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yK(e){return(t,r)=>-e(-t,r)}function x6(e){const t=e(xK,vK),r=t.domain;let n=10,a,i;function o(){return a=GKe(n),i=HKe(n),r()[0]<0?(a=yK(a),i=yK(i),e(zKe,qKe)):e(xK,vK),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),y,g;const v=l==null?10:+l;let _=[];if(!(n%1)&&p-m<v){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<n;++y)if(g=m<0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;_.push(g)}}else for(;m<=p;++m)for(y=n-1;y>=1;--y)if(g=m>0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;_.push(g)}_.length*2<v&&(_=GI(u,d,v))}else _=GI(m,p,Math.min(p-m,v)).map(i);return f?_.reverse():_},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$b(c)).precision==null&&(c.trim=!0),c=g6(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Dde(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Ide(){const e=x6(_k()).domain([1,10]);return e.copy=()=>r1(e,Ide()).base(e.base()),Fl.apply(e,arguments),e}function bK(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wK(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function v6(e){var t=1,r=e(bK(t),wK(t));return r.constant=function(n){return arguments.length?e(bK(t=+n),wK(t)):t},Jf(r)}function Mde(){var e=v6(_k());return e.copy=function(){return r1(e,Mde()).constant(e.constant())},Fl.apply(e,arguments)}function _K(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function KKe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YKe(e){return e<0?-e*e:e*e}function y6(e){var t=e(qi,qi),r=1;function n(){return r===1?e(qi,qi):r===.5?e(KKe,YKe):e(_K(r),_K(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Jf(t)}function b6(){var e=y6(_k());return e.copy=function(){return r1(e,b6()).exponent(e.exponent())},Fl.apply(e,arguments),e}function XKe(){return b6.apply(null,arguments).exponent(.5)}function jK(e){return Math.sign(e)*e*e}function JKe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Fde(){var e=m6(),t=[0,1],r=!1,n;function a(i){var o=JKe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(jK(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,mS)).map(jK)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Fde(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fl.apply(a,arguments),Jf(a)}function Lde(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=rKe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[e1(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(xf),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Lde().domain(e).range(t).unknown(n)},Fl.apply(i,arguments)}function $de(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[e1(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return $de().domain([e,t]).range(a).unknown(i)},Fl.apply(Jf(o),arguments)}function Bde(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[e1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Bde().domain(e).range(t).unknown(r)},Fl.apply(a,arguments)}const bO=new Date,wO=new Date;function Na(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Na(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(bO.setTime(+i),wO.setTime(+o),e(bO),e(wO),Math.floor(r(bO,wO))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const xS=Na(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Na(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xS);xS.range;const Iu=1e3,kl=Iu*60,Mu=kl*60,ed=Mu*24,w6=ed*7,NK=ed*30,_O=ed*365,qh=Na(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Iu)},(e,t)=>(t-e)/Iu,e=>e.getUTCSeconds());qh.range;const _6=Na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Iu)},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getMinutes());_6.range;const j6=Na(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getUTCMinutes());j6.range;const N6=Na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Iu-e.getMinutes()*kl)},(e,t)=>{e.setTime(+e+t*Mu)},(e,t)=>(t-e)/Mu,e=>e.getHours());N6.range;const S6=Na(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mu)},(e,t)=>(t-e)/Mu,e=>e.getUTCHours());S6.range;const n1=Na(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kl)/ed,e=>e.getDate()-1);n1.range;const jk=Na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ed,e=>e.getUTCDate()-1);jk.range;const Ude=Na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ed,e=>Math.floor(e/ed));Ude.range;function op(e){return Na(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*kl)/w6)}const Nk=op(0),vS=op(1),ZKe=op(2),QKe=op(3),P0=op(4),eYe=op(5),tYe=op(6);Nk.range;vS.range;ZKe.range;QKe.range;P0.range;eYe.range;tYe.range;function lp(e){return Na(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/w6)}const Sk=lp(0),yS=lp(1),rYe=lp(2),nYe=lp(3),O0=lp(4),sYe=lp(5),aYe=lp(6);Sk.range;yS.range;rYe.range;nYe.range;O0.range;sYe.range;aYe.range;const k6=Na(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());k6.range;const C6=Na(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());C6.range;const td=Na(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());td.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Na(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});td.range;const rd=Na(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Na(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});rd.range;function Vde(e,t,r,n,a,i){const o=[[qh,1,Iu],[qh,5,5*Iu],[qh,15,15*Iu],[qh,30,30*Iu],[i,1,kl],[i,5,5*kl],[i,15,15*kl],[i,30,30*kl],[a,1,Mu],[a,3,3*Mu],[a,6,6*Mu],[a,12,12*Mu],[n,1,ed],[n,2,2*ed],[r,1,w6],[t,1,NK],[t,3,3*NK],[e,1,_O]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,p=c6(([,,v])=>v).right(o,m);if(p===o.length)return e.every(YI(u/_O,d/_O,f));if(p===0)return xS.every(Math.max(YI(u,d,f),1));const[y,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return y.every(g)}return[l,c]}const[iYe,oYe]=Vde(rd,C6,Sk,Ude,S6,j6),[lYe,cYe]=Vde(td,k6,Nk,n1,N6,_6);function jO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function NO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uYe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=_v(a),d=jv(a),f=_v(i),m=jv(i),p=_v(o),y=jv(o),g=_v(l),v=jv(l),_=_v(c),w=jv(c),b={a:G,A:Y,b:M,B:H,c:null,d:AK,e:AK,f:RYe,g:zYe,G:WYe,H:AYe,I:PYe,j:OYe,L:zde,m:DYe,M:IYe,p:Z,q:L,Q:RK,s:DK,S:MYe,u:FYe,U:LYe,V:$Ye,w:BYe,W:UYe,x:null,X:null,y:VYe,Y:qYe,Z:HYe,"%":OK},E={a:J,A:V,b:X,B:ne,c:null,d:PK,e:PK,f:XYe,g:iXe,G:lXe,H:GYe,I:KYe,j:YYe,L:Wde,m:JYe,M:ZYe,p:se,q:ue,Q:RK,s:DK,S:QYe,u:eXe,U:tXe,V:rXe,w:nXe,W:sXe,x:null,X:null,y:aXe,Y:oXe,Z:cXe,"%":OK},S={a:O,A,b:D,B:F,c:B,d:EK,e:EK,f:kYe,g:CK,G:kK,H:TK,I:TK,j:_Ye,L:SYe,m:wYe,M:jYe,p:P,q:bYe,Q:EYe,s:TYe,S:NYe,u:pYe,U:gYe,V:xYe,w:mYe,W:vYe,x:z,X:q,y:CK,Y:kK,Z:yYe,"%":CYe};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),E.x=C(r,E),E.X=C(n,E),E.c=C(t,E);function C(W,ae){return function(oe){var K=[],be=-1,pe=0,Ee=W.length,Ae,fe,Je;for(oe instanceof Date||(oe=new Date(+oe));++be<Ee;)W.charCodeAt(be)===37&&(K.push(W.slice(pe,be)),(fe=SK[Ae=W.charAt(++be)])!=null?Ae=W.charAt(++be):fe=Ae==="e"?" ":"0",(Je=ae[Ae])&&(Ae=Je(oe,fe)),K.push(Ae),pe=be+1);return K.push(W.slice(pe,be)),K.join("")}}function k(W,ae){return function(oe){var K=wv(1900,void 0,1),be=R(K,W,oe+="",0),pe,Ee;if(be!=oe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ae&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(pe=NO(wv(K.y,0,1)),Ee=pe.getUTCDay(),pe=Ee>4||Ee===0?yS.ceil(pe):yS(pe),pe=jk.offset(pe,(K.V-1)*7),K.y=pe.getUTCFullYear(),K.m=pe.getUTCMonth(),K.d=pe.getUTCDate()+(K.w+6)%7):(pe=jO(wv(K.y,0,1)),Ee=pe.getDay(),pe=Ee>4||Ee===0?vS.ceil(pe):vS(pe),pe=n1.offset(pe,(K.V-1)*7),K.y=pe.getFullYear(),K.m=pe.getMonth(),K.d=pe.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Ee="Z"in K?NO(wv(K.y,0,1)).getUTCDay():jO(wv(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Ee+5)%7:K.w+K.U*7-(Ee+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,NO(K)):jO(K)}}function R(W,ae,oe,K){for(var be=0,pe=ae.length,Ee=oe.length,Ae,fe;be<pe;){if(K>=Ee)return-1;if(Ae=ae.charCodeAt(be++),Ae===37){if(Ae=ae.charAt(be++),fe=S[Ae in SK?ae.charAt(be++):Ae],!fe||(K=fe(W,oe,K))<0)return-1}else if(Ae!=oe.charCodeAt(K++))return-1}return K}function P(W,ae,oe){var K=u.exec(ae.slice(oe));return K?(W.p=d.get(K[0].toLowerCase()),oe+K[0].length):-1}function O(W,ae,oe){var K=p.exec(ae.slice(oe));return K?(W.w=y.get(K[0].toLowerCase()),oe+K[0].length):-1}function A(W,ae,oe){var K=f.exec(ae.slice(oe));return K?(W.w=m.get(K[0].toLowerCase()),oe+K[0].length):-1}function D(W,ae,oe){var K=_.exec(ae.slice(oe));return K?(W.m=w.get(K[0].toLowerCase()),oe+K[0].length):-1}function F(W,ae,oe){var K=g.exec(ae.slice(oe));return K?(W.m=v.get(K[0].toLowerCase()),oe+K[0].length):-1}function B(W,ae,oe){return R(W,t,ae,oe)}function z(W,ae,oe){return R(W,r,ae,oe)}function q(W,ae,oe){return R(W,n,ae,oe)}function G(W){return o[W.getDay()]}function Y(W){return i[W.getDay()]}function M(W){return c[W.getMonth()]}function H(W){return l[W.getMonth()]}function Z(W){return a[+(W.getHours()>=12)]}function L(W){return 1+~~(W.getMonth()/3)}function J(W){return o[W.getUTCDay()]}function V(W){return i[W.getUTCDay()]}function X(W){return c[W.getUTCMonth()]}function ne(W){return l[W.getUTCMonth()]}function se(W){return a[+(W.getUTCHours()>=12)]}function ue(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var ae=C(W+="",b);return ae.toString=function(){return W},ae},parse:function(W){var ae=k(W+="",!1);return ae.toString=function(){return W},ae},utcFormat:function(W){var ae=C(W+="",E);return ae.toString=function(){return W},ae},utcParse:function(W){var ae=k(W+="",!0);return ae.toString=function(){return W},ae}}}var SK={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,dYe=/^%/,fYe=/[\\^$*+?|[\]().{}]/g;function dn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function hYe(e){return e.replace(fYe,"\\$&")}function _v(e){return new RegExp("^(?:"+e.map(hYe).join("|")+")","i")}function jv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mYe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pYe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function gYe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xYe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vYe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kK(e,t,r){var n=Ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function CK(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function yYe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bYe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wYe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function EK(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function _Ye(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function TK(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jYe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function NYe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function SYe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kYe(e,t,r){var n=Ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function CYe(e,t,r){var n=dYe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function EYe(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function TYe(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function AK(e,t){return dn(e.getDate(),t,2)}function AYe(e,t){return dn(e.getHours(),t,2)}function PYe(e,t){return dn(e.getHours()%12||12,t,2)}function OYe(e,t){return dn(1+n1.count(td(e),e),t,3)}function zde(e,t){return dn(e.getMilliseconds(),t,3)}function RYe(e,t){return zde(e,t)+"000"}function DYe(e,t){return dn(e.getMonth()+1,t,2)}function IYe(e,t){return dn(e.getMinutes(),t,2)}function MYe(e,t){return dn(e.getSeconds(),t,2)}function FYe(e){var t=e.getDay();return t===0?7:t}function LYe(e,t){return dn(Nk.count(td(e)-1,e),t,2)}function qde(e){var t=e.getDay();return t>=4||t===0?P0(e):P0.ceil(e)}function $Ye(e,t){return e=qde(e),dn(P0.count(td(e),e)+(td(e).getDay()===4),t,2)}function BYe(e){return e.getDay()}function UYe(e,t){return dn(vS.count(td(e)-1,e),t,2)}function VYe(e,t){return dn(e.getFullYear()%100,t,2)}function zYe(e,t){return e=qde(e),dn(e.getFullYear()%100,t,2)}function qYe(e,t){return dn(e.getFullYear()%1e4,t,4)}function WYe(e,t){var r=e.getDay();return e=r>=4||r===0?P0(e):P0.ceil(e),dn(e.getFullYear()%1e4,t,4)}function HYe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dn(t/60|0,"0",2)+dn(t%60,"0",2)}function PK(e,t){return dn(e.getUTCDate(),t,2)}function GYe(e,t){return dn(e.getUTCHours(),t,2)}function KYe(e,t){return dn(e.getUTCHours()%12||12,t,2)}function YYe(e,t){return dn(1+jk.count(rd(e),e),t,3)}function Wde(e,t){return dn(e.getUTCMilliseconds(),t,3)}function XYe(e,t){return Wde(e,t)+"000"}function JYe(e,t){return dn(e.getUTCMonth()+1,t,2)}function ZYe(e,t){return dn(e.getUTCMinutes(),t,2)}function QYe(e,t){return dn(e.getUTCSeconds(),t,2)}function eXe(e){var t=e.getUTCDay();return t===0?7:t}function tXe(e,t){return dn(Sk.count(rd(e)-1,e),t,2)}function Hde(e){var t=e.getUTCDay();return t>=4||t===0?O0(e):O0.ceil(e)}function rXe(e,t){return e=Hde(e),dn(O0.count(rd(e),e)+(rd(e).getUTCDay()===4),t,2)}function nXe(e){return e.getUTCDay()}function sXe(e,t){return dn(yS.count(rd(e)-1,e),t,2)}function aXe(e,t){return dn(e.getUTCFullYear()%100,t,2)}function iXe(e,t){return e=Hde(e),dn(e.getUTCFullYear()%100,t,2)}function oXe(e,t){return dn(e.getUTCFullYear()%1e4,t,4)}function lXe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?O0(e):O0.ceil(e),dn(e.getUTCFullYear()%1e4,t,4)}function cXe(){return"+0000"}function OK(){return"%"}function RK(e){return+e}function DK(e){return Math.floor(+e/1e3)}var rg,Gde,Kde;uXe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uXe(e){return rg=uYe(e),Gde=rg.format,rg.parse,Kde=rg.utcFormat,rg.utcParse,rg}function dXe(e){return new Date(e)}function fXe(e){return e instanceof Date?+e:+new Date(+e)}function E6(e,t,r,n,a,i,o,l,c,u){var d=m6(),f=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),w=u("%b %d"),b=u("%B"),E=u("%Y");function S(C){return(c(C)<C?p:l(C)<C?y:o(C)<C?g:i(C)<C?v:n(C)<C?a(C)<C?_:w:r(C)<C?b:E)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,fXe)):m().map(dXe)},d.ticks=function(C){var k=m();return e(k[0],k[k.length-1],C??10)},d.tickFormat=function(C,k){return k==null?S:u(k)},d.nice=function(C){var k=m();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?m(Dde(k,C)):d},d.copy=function(){return r1(d,E6(e,t,r,n,a,i,o,l,c,u))},d}function hXe(){return Fl.apply(E6(lYe,cYe,td,k6,Nk,n1,N6,_6,qh,Gde).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mXe(){return Fl.apply(E6(iYe,oYe,rd,C6,Sk,jk,S6,j6,qh,Kde).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kk(){var e=0,t=1,r,n,a,i,o=qi,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var p,y;return arguments.length?([p,y]=m,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(bx),u.rangeRound=d(h6),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Zf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Yde(){var e=Jf(kk()(qi));return e.copy=function(){return Zf(e,Yde())},hd.apply(e,arguments)}function Xde(){var e=x6(kk()).domain([1,10]);return e.copy=function(){return Zf(e,Xde()).base(e.base())},hd.apply(e,arguments)}function Jde(){var e=v6(kk());return e.copy=function(){return Zf(e,Jde()).constant(e.constant())},hd.apply(e,arguments)}function T6(){var e=y6(kk());return e.copy=function(){return Zf(e,T6()).exponent(e.exponent())},hd.apply(e,arguments)}function pXe(){return T6.apply(null,arguments).exponent(.5)}function Zde(){var e=[],t=qi;function r(n){if(n!=null&&!isNaN(n=+n))return t((e1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(xf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>tKe(e,i/n))},r.copy=function(){return Zde(t).domain(e)},hd.apply(r,arguments)}function Ck(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=qi,d,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(v){var _,w,b;return arguments.length?([_,w,b]=v,u=CKe(g,[_,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(bx),p.rangeRound=y(h6),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function Qde(){var e=Jf(Ck()(qi));return e.copy=function(){return Zf(e,Qde())},hd.apply(e,arguments)}function efe(){var e=x6(Ck()).domain([.1,1,10]);return e.copy=function(){return Zf(e,efe()).base(e.base())},hd.apply(e,arguments)}function tfe(){var e=v6(Ck());return e.copy=function(){return Zf(e,tfe()).constant(e.constant())},hd.apply(e,arguments)}function A6(){var e=y6(Ck());return e.copy=function(){return Zf(e,A6()).exponent(e.exponent())},hd.apply(e,arguments)}function gXe(){return A6.apply(null,arguments).exponent(.5)}const IK=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ib,scaleDiverging:Qde,scaleDivergingLog:efe,scaleDivergingPow:A6,scaleDivergingSqrt:gXe,scaleDivergingSymlog:tfe,scaleIdentity:Rde,scaleImplicit:XI,scaleLinear:gS,scaleLog:Ide,scaleOrdinal:u6,scalePoint:Ty,scalePow:b6,scaleQuantile:Lde,scaleQuantize:$de,scaleRadial:Fde,scaleSequential:Yde,scaleSequentialLog:Xde,scaleSequentialPow:T6,scaleSequentialQuantile:Zde,scaleSequentialSqrt:pXe,scaleSequentialSymlog:Jde,scaleSqrt:XKe,scaleSymlog:Mde,scaleThreshold:Bde,scaleTime:hXe,scaleUtc:mXe,tickFormat:Ode},Symbol.toStringTag,{value:"Module"}));var SO,MK;function Ek(){if(MK)return SO;MK=1;var e=gx();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=l}return d}return SO=t,SO}var kO,FK;function rfe(){if(FK)return kO;FK=1;function e(t,r){return t>r}return kO=e,kO}var CO,LK;function xXe(){if(LK)return CO;LK=1;var e=Ek(),t=rfe(),r=vx();function n(a){return a&&a.length?e(a,r,t):void 0}return CO=n,CO}var vXe=xXe();const Tk=Zr(vXe);var EO,$K;function nfe(){if($K)return EO;$K=1;function e(t,r){return t<r}return EO=e,EO}var TO,BK;function yXe(){if(BK)return TO;BK=1;var e=Ek(),t=nfe(),r=vx();function n(a){return a&&a.length?e(a,r,t):void 0}return TO=n,TO}var bXe=yXe();const Ak=Zr(bXe);var AO,UK;function wXe(){if(UK)return AO;UK=1;var e=HL(),t=fu(),r=dde(),n=vo();function a(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return AO=a,AO}var PO,VK;function _Xe(){if(VK)return PO;VK=1;var e=cde(),t=wXe();function r(n,a){return e(t(n,a),1)}return PO=r,PO}var jXe=_Xe();const NXe=Zr(jXe);var OO,zK;function SXe(){if(zK)return OO;zK=1;var e=a6();function t(r,n){return e(r,n)}return OO=t,OO}var kXe=SXe();const Pk=Zr(kXe);var wx=1e9,CXe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O6,os=!0,Rl="[DecimalError] ",lm=Rl+"Invalid argument: ",P6=Rl+"Exponent out of range: ",_x=Math.floor,Th=Math.pow,EXe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lo,Oa=1e7,Zn=7,sfe=9007199254740991,bS=_x(sfe/Zn),Bt={};Bt.absoluteValue=Bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Bt.comparedTo=Bt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Bt.decimalPlaces=Bt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Bt.dividedBy=Bt.div=function(e){return zu(this,new this.constructor(e))};Bt.dividedToIntegerBy=Bt.idiv=function(e){var t=this,r=t.constructor;return Ln(zu(t,new r(e),0,1),r.precision)};Bt.equals=Bt.eq=function(e){return!this.cmp(e)};Bt.exponent=function(){return oa(this)};Bt.greaterThan=Bt.gt=function(e){return this.cmp(e)>0};Bt.greaterThanOrEqualTo=Bt.gte=function(e){return this.cmp(e)>=0};Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2};Bt.isNegative=Bt.isneg=function(){return this.s<0};Bt.isPositive=Bt.ispos=function(){return this.s>0};Bt.isZero=function(){return this.s===0};Bt.lessThan=Bt.lt=function(e){return this.cmp(e)<0};Bt.lessThanOrEqualTo=Bt.lte=function(e){return this.cmp(e)<1};Bt.logarithm=Bt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Lo))throw Error(Rl+"NaN");if(r.s<1)throw Error(Rl+(r.s?"NaN":"-Infinity"));return r.eq(Lo)?new n(0):(os=!1,t=zu(Bb(r,i),Bb(e,i),i),os=!0,Ln(t,a))};Bt.minus=Bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ofe(t,e):afe(t,(e.s=-e.s,e))};Bt.modulo=Bt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Rl+"NaN");return r.s?(os=!1,t=zu(r,e,0,1).times(e),os=!0,r.minus(t)):Ln(new n(r),a)};Bt.naturalExponential=Bt.exp=function(){return ife(this)};Bt.naturalLogarithm=Bt.ln=function(){return Bb(this)};Bt.negated=Bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Bt.plus=Bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?afe(t,e):ofe(t,(e.s=-e.s,e))};Bt.precision=Bt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lm+e);if(t=oa(a)+1,n=a.d.length-1,r=n*Zn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Bt.squareRoot=Bt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Rl+"NaN")}for(e=oa(l),os=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Vc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_x((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(zu(l,i,o+2)).times(.5),Vc(i.d).slice(0,o)===(t=Vc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ln(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return os=!0,Ln(n,r)};Bt.times=Bt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(i=m,m=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*m[a-n-1]+t,i[a--]=l%Oa|0,t=l/Oa|0;i[a]=(i[a]+t)%Oa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,os?Ln(e,f.precision):e};Bt.toDecimalPlaces=Bt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(nu(e,0,wx),t===void 0?t=n.rounding:nu(t,0,8),Ln(r,e+oa(r)+1,t))};Bt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Um(n,!0):(nu(e,0,wx),t===void 0?t=a.rounding:nu(t,0,8),n=Ln(new a(n),e+1,t),r=Um(n,!0,e+1)),r};Bt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Um(a):(nu(e,0,wx),t===void 0?t=i.rounding:nu(t,0,8),n=Ln(new i(a),e+oa(a)+1,t),r=Um(n.abs(),!1,e+oa(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Bt.toInteger=Bt.toint=function(){var e=this,t=e.constructor;return Ln(new t(e),oa(e)+1,t.rounding)};Bt.toNumber=function(){return+this};Bt.toPower=Bt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Lo);if(l=new c(l),!l.s){if(e.s<1)throw Error(Rl+"Infinity");return l}if(l.eq(Lo))return l;if(n=c.precision,e.eq(Lo))return Ln(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=sfe){for(a=new c(Lo),t=Math.ceil(n/Zn+4),os=!1;r%2&&(a=a.times(l),WK(a.d,t)),r=_x(r/2),r!==0;)l=l.times(l),WK(l.d,t);return os=!0,e.s<0?new c(Lo).div(a):Ln(a,n)}}else if(i<0)throw Error(Rl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,os=!1,a=e.times(Bb(l,n+u)),os=!0,a=ife(a),a.s=i,a};Bt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=oa(a),n=Um(a,r<=i.toExpNeg||r>=i.toExpPos)):(nu(e,1,wx),t===void 0?t=i.rounding:nu(t,0,8),a=Ln(new i(a),e,t),r=oa(a),n=Um(a,e<=r||r<=i.toExpNeg,e)),n};Bt.toSignificantDigits=Bt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(nu(e,1,wx),t===void 0?t=n.rounding:nu(t,0,8)),Ln(new n(r),e,t)};Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=oa(e),r=e.constructor;return Um(e,t<=r.toExpNeg||t>=r.toExpPos)};function afe(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),os?Ln(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Zn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Oa|0,c[i]%=Oa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,os?Ln(t,f):t}function nu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lm+e)}function Vc(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Zn-n.length,r&&(i+=Wd(r)),i+=n;o=e[t],n=o+"",r=Zn-n.length,r&&(i+=Wd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var zu=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Oa|0,o=i/Oa|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Oa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,p,y,g,v,_,w,b,E,S,C,k,R,P=n.constructor,O=n.s==a.s?1:-1,A=n.d,D=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Rl+"Division by zero");for(c=n.e-a.e,k=D.length,S=A.length,p=new P(O),y=p.d=[],u=0;D[u]==(A[u]||0);)++u;if(D[u]>(A[u]||0)&&--c,i==null?w=i=P.precision:o?w=i+(oa(n)-oa(a))+1:w=i,w<0)return new P(0);if(w=w/Zn+2|0,u=0,k==1)for(d=0,D=D[0],w++;(u<S||d)&&w--;u++)b=d*Oa+(A[u]||0),y[u]=b/D|0,d=b%D|0;else{for(d=Oa/(D[0]+1)|0,d>1&&(D=e(D,d),A=e(A,d),k=D.length,S=A.length),E=k,g=A.slice(0,k),v=g.length;v<k;)g[v++]=0;R=D.slice(),R.unshift(0),C=D[0],D[1]>=Oa/2&&++C;do d=0,l=t(D,g,k,v),l<0?(_=g[0],k!=v&&(_=_*Oa+(g[1]||0)),d=_/C|0,d>1?(d>=Oa&&(d=Oa-1),f=e(D,d),m=f.length,v=g.length,l=t(f,g,m,v),l==1&&(d--,r(f,k<m?R:D,m))):(d==0&&(l=d=1),f=D.slice()),m=f.length,m<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(D,g,k,v),l<1&&(d++,r(g,k<v?R:D,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=A[E]||0:(g=[A[E]],v=1);while((E++<S||g[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=c,Ln(p,o?i+oa(p)+1:i)}})();function ife(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(oa(e)>16)throw Error(P6+oa(e));if(!e.s)return new d(Lo);for(os=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Th(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Lo),d.precision=l;;){if(a=Ln(a.times(e),l),r=r.times(++c),o=i.plus(zu(a,r,l)),Vc(o.d).slice(0,l)===Vc(i.d).slice(0,l)){for(;u--;)i=Ln(i.times(i),l);return d.precision=f,t==null?(os=!0,Ln(i,f)):i}i=o}}function oa(e){for(var t=e.e*Zn,r=e.d[0];r>=10;r/=10)t++;return t}function RO(e,t,r){if(t>e.LN10.sd())throw os=!0,r&&(e.precision=r),Error(Rl+"LN10 precision limit exceeded");return Ln(new e(e.LN10),t)}function Wd(e){for(var t="";e--;)t+="0";return t}function Bb(e,t){var r,n,a,i,o,l,c,u,d,f=1,m=10,p=e,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Rl+(p.s?"NaN":"-Infinity"));if(p.eq(Lo))return new g(0);if(t==null?(os=!1,u=v):u=t,p.eq(10))return t==null&&(os=!0),RO(g,u);if(u+=m,g.precision=u,r=Vc(y),n=r.charAt(0),i=oa(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Vc(p.d),n=r.charAt(0),f++;i=oa(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=RO(g,u+2,v).times(i+""),p=Bb(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=v,t==null?(os=!0,Ln(p,v)):p;for(l=o=p=zu(p.minus(Lo),p.plus(Lo),u),d=Ln(p.times(p),u),a=3;;){if(o=Ln(o.times(d),u),c=l.plus(zu(o,new g(a),u)),Vc(c.d).slice(0,u)===Vc(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(RO(g,u+2,v).times(i+""))),l=zu(l,new g(f),u),g.precision=v,t==null?(os=!0,Ln(l,v)):l;l=c,a+=2}}function qK(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=_x(r/Zn),e.d=[],n=(r+1)%Zn,r<0&&(n+=Zn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Zn;n<a;)e.d.push(+t.slice(n,n+=Zn));t=t.slice(n),n=Zn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),os&&(e.e>bS||e.e<-bS))throw Error(P6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ln(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Zn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Zn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Zn,a=n-Zn+o}if(r!==void 0&&(i=Th(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Th(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=oa(e),f.length=1,t=t-i-1,f[0]=Th(10,(Zn-t%Zn)%Zn),e.e=_x(-t/Zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Th(10,Zn-n),f[d]=a>0?(u/Th(10,o-a)%Th(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Oa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Oa)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(os&&(e.e>bS||e.e<-bS))throw Error(P6+oa(e));return e}function ofe(e,t){var r,n,a,i,o,l,c,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),os?Ln(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Zn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Oa-1;--c[i],c[a]+=Oa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,os?Ln(t,p):t):new m(0)}function Um(e,t,r){var n,a=oa(e),i=Vc(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Wd(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wd(-a-1)+i,r&&(n=r-o)>0&&(i+=Wd(n))):a>=o?(i+=Wd(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Wd(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Wd(n))),e.s<0?"-"+i:i}function WK(e,t){if(e.length>t)return e.length=t,!0}function lfe(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return qK(o,i.toString())}else if(typeof i!="string")throw Error(lm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,EXe.test(i))qK(o,i);else throw Error(lm+i)}if(a.prototype=Bt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=lfe,a.config=a.set=TXe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function TXe(e){if(!e||typeof e!="object")throw Error(Rl+"Object expected");var t,r,n,a=["precision",1,wx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(_x(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(lm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lm+r+": "+n);return this}var O6=lfe(CXe);Lo=new O6(1);const En=O6;function AXe(e){return DXe(e)||RXe(e)||OXe(e)||PXe()}function PXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OXe(e,t){if(e){if(typeof e=="string")return e3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(e,t)}}function RXe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DXe(e){if(Array.isArray(e))return e3(e)}function e3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IXe=function(t){return t},cfe={},ufe=function(t){return t===cfe},HK=function(t){return function r(){return arguments.length===0||arguments.length===1&&ufe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},MXe=function e(t,r){return t===1?r:HK(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==cfe}).length;return o>=t?r.apply(void 0,a):e(t-o,HK(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return ufe(f)?c.shift():f});return r.apply(void 0,AXe(d).concat(c))}))})},Ok=function(t){return MXe(t.length,t)},t3=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},FXe=Ok(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),LXe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return IXe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},r3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dfe=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function $Xe(e){var t;return e===0?t=1:t=Math.floor(new En(e).abs().log(10).toNumber())+1,t}function BXe(e,t,r){for(var n=new En(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var UXe=Ok(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),VXe=Ok(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),zXe=Ok(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rk={rangeStep:BXe,getDigitCount:$Xe,interpolateNumber:UXe,uninterpolateNumber:VXe,uninterpolateTruncation:zXe};function n3(e){return HXe(e)||WXe(e)||ffe(e)||qXe()}function qXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WXe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HXe(e){if(Array.isArray(e))return s3(e)}function Ub(e,t){return YXe(e)||KXe(e,t)||ffe(e,t)||GXe()}function GXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ffe(e,t){if(e){if(typeof e=="string")return s3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s3(e,t)}}function s3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KXe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function YXe(e){if(Array.isArray(e))return e}function hfe(e){var t=Ub(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function mfe(e,t,r){if(e.lte(0))return new En(0);var n=Rk.getDigitCount(e.toNumber()),a=new En(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new En(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new En(Math.ceil(c))}function XXe(e,t,r){var n=1,a=new En(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new En(10).pow(Rk.getDigitCount(e)-1),a=new En(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new En(Math.floor(e)))}else e===0?a=new En(Math.floor((t-1)/2)):r||(a=new En(Math.floor(e)));var o=Math.floor((t-1)/2),l=LXe(FXe(function(c){return a.add(new En(c-o).mul(n)).toNumber()}),t3);return l(0,t)}function pfe(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new En(0),tickMin:new En(0),tickMax:new En(0)};var i=mfe(new En(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new En(0):(o=new En(e).add(t).div(2),o=o.sub(new En(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new En(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?pfe(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new En(l).mul(i)),tickMax:o.add(new En(c).mul(i))})}function JXe(e){var t=Ub(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=hfe([r,n]),c=Ub(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(n3(t3(0,a-1).map(function(){return 1/0}))):[].concat(n3(t3(0,a-1).map(function(){return-1/0})),[d]);return r>n?r3(f):f}if(u===d)return XXe(u,a,i);var m=pfe(u,d,o,i),p=m.step,y=m.tickMin,g=m.tickMax,v=Rk.rangeStep(y,g.add(new En(.1).mul(p)),p);return r>n?r3(v):v}function ZXe(e,t){var r=Ub(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=hfe([n,a]),l=Ub(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=mfe(new En(u).sub(c).div(d-1),i,0),m=[].concat(n3(Rk.rangeStep(new En(c),new En(u).sub(new En(.99).mul(f)),f)),[u]);return n>a?r3(m):m}var QXe=dfe(JXe),eJe=dfe(ZXe),tJe="Invariant failed";function Vm(e,t){throw new Error(tJe)}var rJe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wS.apply(this,arguments)}function nJe(e,t){return oJe(e)||iJe(e,t)||aJe(e,t)||sJe()}function sJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aJe(e,t){if(e){if(typeof e=="string")return GK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GK(e,t)}}function GK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oJe(e){if(Array.isArray(e))return e}function lJe(e,t){if(e==null)return{};var r=cJe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vfe(n.key),n)}}function fJe(e,t,r){return t&&dJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hJe(e,t,r){return t=_S(t),mJe(e,gfe()?Reflect.construct(t,r||[],_S(e).constructor):t.apply(e,r))}function mJe(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pJe(e)}function pJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gfe=function(){return!!e})()}function _S(e){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_S(e)}function gJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function xfe(e,t,r){return t=vfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vfe(e){var t=xJe(e,"string");return R0(t)=="symbol"?t:t+""}function xJe(e,t){if(R0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dk=(function(e){function t(){return uJe(this,t),hJe(this,t,arguments)}return gJe(t,e),fJe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=lJe(n,rJe),p=pr(m,!1);this.props.direction==="x"&&d.type!=="number"&&Vm();var y=c.map(function(g){var v=u(g,l),_=v.x,w=v.y,b=v.value,E=v.errorVal;if(!E)return null;var S=[],C,k;if(Array.isArray(E)){var R=nJe(E,2);C=R[0],k=R[1]}else C=k=E;if(i==="vertical"){var P=d.scale,O=w+a,A=O+o,D=O-o,F=P(b-C),B=P(b+k);S.push({x1:B,y1:A,x2:B,y2:D}),S.push({x1:F,y1:O,x2:B,y2:O}),S.push({x1:F,y1:A,x2:F,y2:D})}else if(i==="horizontal"){var z=f.scale,q=_+a,G=q-o,Y=q+o,M=z(b-C),H=z(b+k);S.push({x1:G,y1:H,x2:Y,y2:H}),S.push({x1:q,y1:M,x2:q,y2:H}),S.push({x1:G,y1:M,x2:Y,y2:M})}return le.createElement(Nn,wS({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),S.map(function(Z){return le.createElement("line",wS({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return le.createElement(Nn,{className:"recharts-errorBars"},y)}}])})(le.Component);xfe(Dk,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xfe(Dk,"displayName","ErrorBar");function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function KK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KK(Object(r),!0).forEach(function(n){vJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJe(e,t,r){return t=yJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJe(e){var t=bJe(e,"string");return Vb(t)=="symbol"?t:t+""}function bJe(e,t){if(Vb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yfe=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Eo(r,gf);if(!o)return null;var l=gf.defaultProps,c=l!==void 0?vh(vh({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?vh(vh({},m),f.props):{},y=p.dataKey,g=p.name,v=p.legendType,_=p.hide;return{inactive:_,dataKey:y,type:c.iconType||v||"square",color:R6(f),value:g||y,payload:p}}),vh(vh(vh({},c),gf.getWithHeight(o,a)),{},{payload:u,item:o})};function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}function YK(e){return NJe(e)||jJe(e)||_Je(e)||wJe()}function wJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Je(e,t){if(e){if(typeof e=="string")return i3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i3(e,t)}}function jJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NJe(e){if(Array.isArray(e))return i3(e)}function i3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XK(Object(r),!0).forEach(function(n){Qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qg(e,t,r){return t=SJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJe(e){var t=kJe(e,"string");return zb(t)=="symbol"?t:t+""}function kJe(e,t){if(zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vi(e,t,r){return Hr(e)||Hr(t)?r:wa(t)?qo(e,t,r):wr(t)?t(e):r}function Ay(e,t,r,n){var a=NXe(e,function(l){return vi(l,t)});if(r==="number"){var i=a.filter(function(l){return wt(l)||parseFloat(l)});return i.length?[Ak(i),Tk(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Hr(l)}):a;return o.map(function(l){return wa(l)||l instanceof Date?l:""})}var CJe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Vi(f-d)!==Vi(m-f)){var y=[];if(Vi(m-f)===Vi(c[1]-c[0])){p=m;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=m+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>_[0]&&t<=_[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var w=Math.min(d,m),b=Math.max(d,m);if(t>(w+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var E=0;E<l;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},R6=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?_s(_s({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},EJe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var y=d[f[m]],g=y.items,v=y.cateAxisId,_=g.filter(function(k){return Vu(k.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,b=w!==void 0?_s(_s({},w),_[0].props):_[0].props,E=b.barSize,S=b[v];o[S]||(o[S]=[]);var C=Hr(E)?r:E;o[S].push({item:_[0],stackList:_.slice(1),barSize:Hr(C)?void 0:zi(C,n,0)})}}return o},TJe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=zi(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=a/c,y=o.reduce(function(E,S){return E+S.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(m=!0,p*=.9,y=c*p);var g=(a-y)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(E,S){var C={item:S.item,position:{offset:v.offset+v.size+u,size:m?p:S.barSize}},k=[].concat(YK(E),[C]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){k.push({item:R,position:v})}),k},f)}else{var _=zi(n,a,0,!0);a-2*_-(c-1)*u<=0&&(u=0);var w=(a-2*_-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=o.reduce(function(E,S,C){var k=[].concat(YK(E),[{item:S.item,position:{offset:_+(w+u)*C+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){k.push({item:R,position:k[k.length-1].position})}),k},f)}return d},AJe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=yfe({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&wt(t[p]))return _s(_s({},t),{},Qg({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&wt(t[y]))return _s(_s({},t),{},Qg({},y,t[y]+(m||0)))}return t},PJe=function(t,r,n){return Hr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},bfe=function(t,r,n,a,i){var o=r.props.children,l=Ol(o,Dk).filter(function(u){return PJe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=vi(d,n);if(Hr(f))return u;var m=Array.isArray(f)?[Ak(f),Tk(f)]:[f,f],p=c.reduce(function(y,g){var v=vi(d,g,0),_=m[0]-Math.abs(Array.isArray(v)?v[0]:v),w=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},OJe=function(t,r,n,a,i){var o=r.map(function(l){return bfe(t,l,n,i,a)}).filter(function(l){return!Hr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},wfe=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&bfe(t,c,u,a)||Ay(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},_fe=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},jfe=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Fu=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?Vi(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!Jw(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},DO=new WeakMap,ij=function(t,r){if(typeof r!="function")return t;DO.has(t)||DO.set(t,new WeakMap);var n=DO.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Nfe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ib(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:gS(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ty(),realScaleType:"point"}:i==="category"?{scale:Ib(),realScaleType:"band"}:{scale:gS(),realScaleType:"linear"};if(Lm(a)){var c="scale".concat(mk(a));return{scale:(IK[c]||Ty)(),realScaleType:IK[c]?c:"point"}}return wr(a)?{scale:a}:{scale:Ty(),realScaleType:"point"}},JK=1e-4,Sfe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-JK,o=Math.max(a[0],a[1])+JK,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},RJe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},DJe=function(t,r){if(!r||r.length!==2||!wt(r[0])||!wt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!wt(t[0])||t[0]<n)&&(i[0]=n),(!wt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},IJe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Jw(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},MJe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Jw(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},FJe={sign:IJe,expand:Nqe,none:S0,silhouette:Sqe,wiggle:kqe,positive:MJe},LJe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=FJe[n],o=jqe().keys(a).value(function(l,c){return+vi(l,c,0)}).order(MI).offset(i);return o(t)},$Je=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?_s(_s({},m.type.defaultProps),m.props):m.props,g=y.stackId,v=y.hide;if(v)return f;var _=y[n],w=f[_]||{hasStack:!1,stackGroups:{}};if(wa(g)){var b=w.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(m),w.hasStack=!0,w.stackGroups[g]=b}else w.stackGroups[Zw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return _s(_s({},f),{},Qg({},_,w))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var _=p.stackGroups[v];return _s(_s({},g),{},Qg({},v,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:LJe(t,_.items,i)}))},y)}return _s(_s({},f),{},Qg({},m,p))},d)},kfe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=QXe(u,i,l);return t.domain([Ak(d),Tk(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),m=eJe(f,i,l);return{niceTicks:m}}return null},ZK=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=vi(o,r.dataKey,r.domain[l]);return Hr(c)?null:r.scale(c)-i/2+a},BJe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},UJe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?_s(_s({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(wa(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},VJe=function(t){return t.reduce(function(r,n){return[Ak(n.concat([r[0]]).filter(wt)),Tk(n.concat([r[1]]).filter(wt))]},[1/0,-1/0])},Cfe=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=VJe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},QK=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o3=function(t,r,n){if(wr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(wt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(QK.test(t[0])){var i=+QK.exec(t[0])[1];a[0]=r[0]-i}else wr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(wt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(eY.test(t[1])){var o=+eY.exec(t[1])[1];a[1]=r[1]+o}else wr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},jS=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=o6(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},tY=function(t,r,n){return!t||!t.length||Pk(t,qo(n,"type.defaultProps.domain"))?r:t},Efe=function(t,r){var n=t.type.defaultProps?_s(_s({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return _s(_s({},pr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:R6(t),value:vi(r,a),type:c,payload:r,chartType:u,hide:d})};function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function rY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rY(Object(r),!0).forEach(function(n){Tfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tfe(e,t,r){return t=zJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJe(e){var t=qJe(e,"string");return qb(t)=="symbol"?t:t+""}function qJe(e,t){if(qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WJe(e,t){return YJe(e)||KJe(e,t)||GJe(e,t)||HJe()}function HJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJe(e,t){if(e){if(typeof e=="string")return nY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nY(e,t)}}function nY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YJe(e){if(Array.isArray(e))return e}var NS=Math.PI/180,XJe=function(t){return t*180/Math.PI},Gn=function(t,r,n,a){return{x:t+Math.cos(-NS*a)*n,y:r+Math.sin(-NS*a)*n}},Afe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},JJe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=zi(t.cx,o,o/2),f=zi(t.cy,l,l/2),m=Afe(o,l,n),p=zi(t.innerRadius,m,0),y=zi(t.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(v,_){var w=r[_],b=w.domain,E=w.reversed,S;if(Hr(w.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,y]),E&&(S=[S[1],S[0]]);else{S=w.range;var C=S,k=WJe(C,2);c=k[0],u=k[1]}var R=Nfe(w,i),P=R.realScaleType,O=R.scale;O.domain(b).range(S),Sfe(O);var A=kfe(O,Cu(Cu({},w),{},{realScaleType:P})),D=Cu(Cu(Cu({},w),A),{},{range:S,radius:y,realScaleType:P,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Cu(Cu({},v),{},Tfe({},_,D))},{})},ZJe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},QJe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=ZJe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:XJe(u),angleInRadian:u}},eZe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},tZe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},sY=function(t,r){var n=t.x,a=t.y,i=QJe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=eZe(r),f=d.startAngle,m=d.endAngle,p=l,y;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=f}return y?Cu(Cu({},r),{},{radius:o,angle:tZe(p,r)}):null},Pfe=function(t){return!j.isValidElement(t)&&!wr(t)&&typeof t!="boolean"?t.className:""};function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}var rZe=["offset"];function nZe(e){return oZe(e)||iZe(e)||aZe(e)||sZe()}function sZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZe(e,t){if(e){if(typeof e=="string")return l3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(e,t)}}function iZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oZe(e){if(Array.isArray(e))return l3(e)}function l3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lZe(e,t){if(e==null)return{};var r=cZe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aY(Object(r),!0).forEach(function(n){uZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uZe(e,t,r){return t=dZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZe(e){var t=fZe(e,"string");return Wb(t)=="symbol"?t:t+""}function fZe(e,t){if(Wb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(this,arguments)}var hZe=function(t){var r=t.value,n=t.formatter,a=Hr(t.children)?r:t.children;return wr(n)?n(a):a},mZe=function(t,r){var n=Vi(r-t),a=Math.min(Math.abs(r-t),360);return n*a},pZe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+m)/2,_=mZe(p,y),w=_>=0?1:-1,b,E;a==="insideStart"?(b=p+w*o,E=g):a==="insideEnd"?(b=y-w*o,E=!g):a==="end"&&(b=y+w*o,E=g),E=_<=0?E:!E;var S=Gn(u,d,v,b),C=Gn(u,d,v,b+(E?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),R=Hr(t.id)?Zw("recharts-radial-line-"):t.id;return le.createElement("text",Hb({},n,{dominantBaseline:"central",className:Mr("recharts-radial-bar-label",l)}),le.createElement("defs",null,le.createElement("path",{id:R,d:k})),le.createElement("textPath",{xlinkHref:"#".concat(R)},r))},gZe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var p=Gn(o,l,u+n,m),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,_=Gn(o,l,v,m),w=_.x,b=_.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},xZe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*a,_=g>0?"end":"start",w=g>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ha(ha({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var E={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return ha(ha({},E),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return ha(ha({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return ha(ha({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?ha({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideRight"?ha({x:l+u-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},k):i==="insideTop"?ha({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?ha({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?ha({x:l+v,y:c+m,textAnchor:w,verticalAnchor:y},k):i==="insideTopRight"?ha({x:l+u-v,y:c+m,textAnchor:_,verticalAnchor:y},k):i==="insideBottomLeft"?ha({x:l+v,y:c+d-m,textAnchor:w,verticalAnchor:p},k):i==="insideBottomRight"?ha({x:l+u-v,y:c+d-m,textAnchor:_,verticalAnchor:p},k):xx(i)&&(wt(i.x)||Vh(i.x))&&(wt(i.y)||Vh(i.y))?ha({x:l+zi(i.x,u),y:c+zi(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):ha({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},vZe=function(t){return"cx"in t&&wt(t.cx)};function Ia(e){var t=e.offset,r=t===void 0?5:t,n=lZe(e,rZe),a=ha({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||Hr(l)&&Hr(c)&&!j.isValidElement(u)&&!wr(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var p;if(wr(u)){if(p=j.createElement(u,a),j.isValidElement(p))return p}else p=hZe(a);var y=vZe(i),g=pr(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return pZe(a,p,g);var v=y?gZe(a):xZe(a);return le.createElement(Bm,Hb({className:Mr("recharts-label",f)},g,v,{breakAll:m}),p)}Ia.displayName="Label";var Ofe=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,p=t.top,y=t.left,g=t.width,v=t.height,_=t.clockWise,w=t.labelViewBox;if(w)return w;if(wt(g)&&wt(v)){if(wt(f)&&wt(m))return{x:f,y:m,width:g,height:v};if(wt(p)&&wt(y))return{x:p,y,width:g,height:v}}return wt(f)&&wt(m)?{x:f,y:m,width:0,height:0}:wt(r)&&wt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:_}:t.viewBox?t.viewBox:{}},yZe=function(t,r){return t?t===!0?le.createElement(Ia,{key:"label-implicit",viewBox:r}):wa(t)?le.createElement(Ia,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===Ia?j.cloneElement(t,{key:"label-implicit",viewBox:r}):le.createElement(Ia,{key:"label-implicit",content:t,viewBox:r}):wr(t)?le.createElement(Ia,{key:"label-implicit",content:t,viewBox:r}):xx(t)?le.createElement(Ia,Hb({viewBox:r},t,{key:"label-implicit"})):null:null},bZe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Ofe(t),o=Ol(a,Ia).map(function(c,u){return j.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=yZe(t.label,r||i);return[l].concat(nZe(o))};Ia.parseViewBox=Ofe;Ia.renderCallByParent=bZe;var IO,iY;function wZe(){if(iY)return IO;iY=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return IO=e,IO}var _Ze=wZe();const jZe=Zr(_Ze);function Gb(e){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gb(e)}var NZe=["valueAccessor"],SZe=["data","dataKey","clockWise","id","textBreakAll"];function kZe(e){return AZe(e)||TZe(e)||EZe(e)||CZe()}function CZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZe(e,t){if(e){if(typeof e=="string")return c3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c3(e,t)}}function TZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AZe(e){if(Array.isArray(e))return c3(e)}function c3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SS.apply(this,arguments)}function oY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oY(Object(r),!0).forEach(function(n){PZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PZe(e,t,r){return t=OZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZe(e){var t=RZe(e,"string");return Gb(t)=="symbol"?t:t+""}function RZe(e,t){if(Gb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cY(e,t){if(e==null)return{};var r=DZe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IZe=function(t){return Array.isArray(t.value)?jZe(t.value):t.value};function vf(e){var t=e.valueAccessor,r=t===void 0?IZe:t,n=cY(e,NZe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=cY(n,SZe);return!a||!a.length?null:le.createElement(Nn,{className:"recharts-label-list"},a.map(function(d,f){var m=Hr(i)?r(d,f):vi(d&&d.payload,i),p=Hr(l)?{}:{id:"".concat(l,"-").concat(f)};return le.createElement(Ia,SS({},pr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ia.parseViewBox(Hr(o)?d:lY(lY({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}vf.displayName="LabelList";function MZe(e,t){return e?e===!0?le.createElement(vf,{key:"labelList-implicit",data:t}):le.isValidElement(e)||wr(e)?le.createElement(vf,{key:"labelList-implicit",data:t,content:e}):xx(e)?le.createElement(vf,SS({data:t},e,{key:"labelList-implicit"})):null:null}function FZe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ol(n,vf).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=MZe(e.label,t);return[i].concat(kZe(a))}vf.renderCallByParent=FZe;function Kb(e){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(e)}function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u3.apply(this,arguments)}function uY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uY(Object(r),!0).forEach(function(n){LZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZe(e,t,r){return t=$Ze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ze(e){var t=BZe(e,"string");return Kb(t)=="symbol"?t:t+""}function BZe(e,t){if(Kb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UZe=function(t,r){var n=Vi(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},oj=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/NS,m=u?i:i+o*f,p=Gn(r,n,d,m),y=Gn(r,n,a,m),g=u?i-o*f:i,v=Gn(r,n,d*Math.cos(f*NS),g);return{center:p,circleTangency:y,lineTangency:v,theta:f}},Rfe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=UZe(o,l),u=o+c,d=Gn(r,n,i,o),f=Gn(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Gn(r,n,a,o),y=Gn(r,n,a,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},VZe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Vi(d-u),m=oj({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,g=m.theta,v=oj({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),_=v.circleTangency,w=v.lineTangency,b=v.theta,E=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(E<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Rfe({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var C=oj({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=C.circleTangency,R=C.lineTangency,P=C.theta,O=oj({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=O.circleTangency,D=O.lineTangency,F=O.theta,B=c?Math.abs(u-d):Math.abs(u-d)-P-F;if(B<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},zZe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dfe=function(t){var r=dY(dY({},zZe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var p=Mr("recharts-sector",m),y=o-i,g=zi(l,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=VZe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Rfe({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),le.createElement("path",u3({},pr(r,!0),{className:p,d:v,role:"img"}))};function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}function d3(){return d3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d3.apply(this,arguments)}function fY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fY(Object(r),!0).forEach(function(n){qZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZe(e,t,r){return t=WZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WZe(e){var t=HZe(e,"string");return Yb(t)=="symbol"?t:t+""}function HZe(e,t){if(Yb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mY={curveBasisClosed:fqe,curveBasisOpen:hqe,curveBasis:dqe,curveBumpX:Jze,curveBumpY:Zze,curveLinearClosed:mqe,curveLinear:gk,curveMonotoneX:pqe,curveMonotoneY:gqe,curveNatural:xqe,curveStep:vqe,curveStepAfter:bqe,curveStepBefore:yqe},lj=function(t){return t.x===+t.x&&t.y===+t.y},Nv=function(t){return t.x},Sv=function(t){return t.y},GZe=function(t,r){if(wr(t))return t;var n="curve".concat(mk(t));return(n==="curveMonotone"||n==="curveBump")&&r?mY["".concat(n).concat(r==="vertical"?"Y":"X")]:mY[n]||gk},KZe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=GZe(n,l),f=u?i.filter(function(g){return lj(g)}):i,m;if(Array.isArray(o)){var p=u?o.filter(function(g){return lj(g)}):o,y=f.map(function(g,v){return hY(hY({},g),{},{base:p[v]})});return l==="vertical"?m=Q_().y(Sv).x1(Nv).x0(function(g){return g.base.x}):m=Q_().x(Nv).y1(Sv).y0(function(g){return g.base.y}),m.defined(lj).curve(d),m(y)}return l==="vertical"&&wt(o)?m=Q_().y(Sv).x1(Nv).x0(o):wt(o)?m=Q_().x(Nv).y1(Sv).y0(o):m=Oue().x(Nv).y(Sv),m.defined(lj).curve(d),m(f)},f3=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?KZe(t):a;return j.createElement("path",d3({},pr(t,!1),QN(t),{className:Mr("recharts-curve",r),d:o,ref:i}))},MO={exports:{}},FO,pY;function YZe(){if(pY)return FO;pY=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return FO=e,FO}var LO,gY;function XZe(){if(gY)return LO;gY=1;var e=YZe();function t(){}function r(){}return r.resetWarningCache=t,LO=function(){function n(o,l,c,u,d,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},LO}var xY;function JZe(){return xY||(xY=1,MO.exports=XZe()()),MO.exports}var ZZe=JZe();const gn=Zr(ZZe);var QZe=Object.getOwnPropertyNames,eQe=Object.getOwnPropertySymbols,tQe=Object.prototype.hasOwnProperty;function vY(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function cj(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function yY(e){return QZe(e).concat(eQe(e))}var rQe=Object.hasOwn||(function(e,t){return tQe.call(e,t)});function cp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var nQe="__v",sQe="__o",aQe="_owner",bY=Object.getOwnPropertyDescriptor,wY=Object.keys;function iQe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function oQe(e,t){return cp(e.getTime(),t.getTime())}function lQe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cQe(e,t){return e===t}function _Y(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=o.value,p=l.value;if(r.equals(m[0],p[0],c,f,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var uQe=cp;function dQe(e,t,r){var n=wY(e),a=n.length;if(wY(t).length!==a)return!1;for(;a-- >0;)if(!Ife(e,t,r,n[a]))return!1;return!0}function kv(e,t,r){var n=yY(e),a=n.length;if(yY(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!Ife(e,t,r,i)||(o=bY(e,i),l=bY(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function fQe(e,t){return cp(e.valueOf(),t.valueOf())}function hQe(e,t){return e.source===t.source&&e.flags===t.flags}function jY(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function mQe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function pQe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ife(e,t,r,n){return(n===aQe||n===sQe||n===nQe)&&(e.$$typeof||t.$$typeof)?!0:rQe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var gQe="[object Arguments]",xQe="[object Boolean]",vQe="[object Date]",yQe="[object Error]",bQe="[object Map]",wQe="[object Number]",_Qe="[object Object]",jQe="[object RegExp]",NQe="[object Set]",SQe="[object String]",kQe="[object URL]",CQe=Array.isArray,NY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SY=Object.assign,EQe=Object.prototype.toString.call.bind(Object.prototype.toString);function TQe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var _=typeof y;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?o(y,g,v):_==="function"?a(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(y,g,v);if(CQe(y))return t(y,g,v);if(NY!=null&&NY(y))return f(y,g,v);if(w===Date)return r(y,g,v);if(w===RegExp)return u(y,g,v);if(w===Map)return i(y,g,v);if(w===Set)return d(y,g,v);var b=EQe(y);return b===vQe?r(y,g,v):b===jQe?u(y,g,v):b===bQe?i(y,g,v):b===NQe?d(y,g,v):b===_Qe?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,v):b===kQe?m(y,g,v):b===yQe?n(y,g,v):b===gQe?l(y,g,v):b===xQe||b===wQe||b===SQe?c(y,g,v):!1}}function AQe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?kv:iQe,areDatesEqual:oQe,areErrorsEqual:lQe,areFunctionsEqual:cQe,areMapsEqual:n?vY(_Y,kv):_Y,areNumbersEqual:uQe,areObjectsEqual:n?kv:dQe,arePrimitiveWrappersEqual:fQe,areRegExpsEqual:hQe,areSetsEqual:n?vY(jY,kv):jY,areTypedArraysEqual:n?kv:mQe,areUrlsEqual:pQe};if(r&&(a=SY({},a,r(a))),t){var i=cj(a.areArraysEqual),o=cj(a.areMapsEqual),l=cj(a.areObjectsEqual),c=cj(a.areSetsEqual);a=SY({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function PQe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function OQe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var RQe=Qf();Qf({strict:!0});Qf({circular:!0});Qf({circular:!0,strict:!0});Qf({createInternalComparator:function(){return cp}});Qf({strict:!0,createInternalComparator:function(){return cp}});Qf({circular:!0,createInternalComparator:function(){return cp}});Qf({circular:!0,createInternalComparator:function(){return cp},strict:!0});function Qf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=AQe(e),c=TQe(l),u=n?n(c):PQe(c);return OQe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function DQe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function kY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):DQe(a)};requestAnimationFrame(n)}function h3(e){"@babel/helpers - typeof";return h3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h3(e)}function IQe(e){return $Qe(e)||LQe(e)||FQe(e)||MQe()}function MQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FQe(e,t){if(e){if(typeof e=="string")return CY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CY(e,t)}}function CY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Qe(e){if(Array.isArray(e))return e}function BQe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=IQe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){kY(a.bind(null,u),c);return}a(c),kY(a.bind(null,u));return}h3(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function EY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EY(Object(r),!0).forEach(function(n){Mfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mfe(e,t,r){return t=UQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQe(e){var t=VQe(e,"string");return Xb(t)==="symbol"?t:String(t)}function VQe(e,t){if(Xb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},qQe=function(t){return t},WQe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Py=function(t,r){return Object.keys(r).reduce(function(n,a){return TY(TY({},n),{},Mfe({},a,t(a,r[a])))},{})},AY=function(t,r,n){return t.map(function(a){return"".concat(WQe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function HQe(e,t){return YQe(e)||KQe(e,t)||Ffe(e,t)||GQe()}function GQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YQe(e){if(Array.isArray(e))return e}function XQe(e){return QQe(e)||ZQe(e)||Ffe(e)||JQe()}function JQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(e,t){if(e){if(typeof e=="string")return m3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(e,t)}}function ZQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QQe(e){if(Array.isArray(e))return m3(e)}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kS=1e-4,Lfe=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},$fe=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},PY=function(t,r){return function(n){var a=Lfe(t,r);return $fe(a,n)}},eet=function(t,r){return function(n){var a=Lfe(t,r),i=[].concat(XQe(a.map(function(o,l){return o*l}).slice(1)),[0]);return $fe(i,n)}},OY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=HQe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=PY(a,o),m=PY(i,l),p=eet(a,o),y=function(_){return _>1?1:_<0?0:_},g=function(_){for(var w=_>1?1:_,b=w,E=0;E<8;++E){var S=f(b)-w,C=p(b);if(Math.abs(S-w)<kS||C<kS)return m(b);b=y(b-S/C)}return m(b)};return g.isStepper=!1,g},tet=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var p=-(d-f)*n,y=m*i,g=m+(p-y)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<kS&&Math.abs(g)<kS?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},ret=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OY(a);case"spring":return tet();default:if(a.split("(")[0]==="cubic-bezier")return OY(a)}return typeof a=="function"?a:null};function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}function RY(e){return aet(e)||set(e)||Bfe(e)||net()}function net(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function set(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aet(e){if(Array.isArray(e))return g3(e)}function DY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DY(Object(r),!0).forEach(function(n){p3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p3(e,t,r){return t=iet(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iet(e){var t=oet(e,"string");return Jb(t)==="symbol"?t:String(t)}function oet(e,t){if(Jb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cet(e,t){return fet(e)||det(e,t)||Bfe(e,t)||uet()}function uet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(e,t){if(e){if(typeof e=="string")return g3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g3(e,t)}}function g3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function det(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fet(e){if(Array.isArray(e))return e}var CS=function(t,r,n){return t+(r-t)*n},x3=function(t){var r=t.from,n=t.to;return r!==n},het=function e(t,r,n){var a=Py(function(i,o){if(x3(o)){var l=t(o.from,o.to,o.velocity),c=cet(l,2),u=c[0],d=c[1];return qa(qa({},o),{},{from:u,velocity:d})}return o},r);return n<1?Py(function(i,o){return x3(o)?qa(qa({},o),{},{velocity:CS(o.velocity,a[i].velocity,n),from:CS(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const met=(function(e,t,r,n,a){var i=zQe(e,t),o=i.reduce(function(v,_){return qa(qa({},v),{},p3({},_,[e[_],t[_]]))},{}),l=i.reduce(function(v,_){return qa(qa({},v),{},p3({},_,{from:e[_],velocity:0,to:t[_]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Py(function(_,w){return w.from},l)},p=function(){return!Object.values(l).filter(x3).length},y=function(_){u||(u=_);var w=_-u,b=w/r.dt;l=het(r,l,b),a(qa(qa(qa({},e),t),m())),u=_,p()||(c=requestAnimationFrame(f))},g=function(_){d||(d=_);var w=(_-d)/n,b=Py(function(S,C){return CS.apply(void 0,RY(C).concat([r(w)]))},o);if(a(qa(qa(qa({},e),t),b)),w<1)c=requestAnimationFrame(f);else{var E=Py(function(S,C){return CS.apply(void 0,RY(C).concat([r(1)]))},o);a(qa(qa(qa({},e),t),E))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}var pet=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function get(e,t){if(e==null)return{};var r=xet(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xet(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function $O(e){return wet(e)||bet(e)||yet(e)||vet()}function vet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yet(e,t){if(e){if(typeof e=="string")return v3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v3(e,t)}}function bet(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wet(e){if(Array.isArray(e))return v3(e)}function v3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IY(Object(r),!0).forEach(function(n){Gv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gv(e,t,r){return t=Ufe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jet(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ufe(n.key),n)}}function Net(e,t,r){return t&&jet(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ufe(e){var t=ket(e,"string");return D0(t)==="symbol"?t:String(t)}function ket(e,t){if(D0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y3(e,t)}function y3(e,t){return y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y3(e,t)}function Eet(e){var t=Tet();return function(){var n=ES(e),a;if(t){var i=ES(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return b3(this,a)}}function b3(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w3(e)}function w3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ES(e)}var nd=(function(e){Cet(r,e);var t=Eet(r);function r(n,a){var i;_et(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(w3(i)),i.changeStyle=i.changeStyle.bind(w3(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),b3(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},b3(i);i.state={style:c?Gv({},c,u):u}}else i.state={style:{}};return i}return Net(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var p={style:c?Gv({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(RQe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:a.to;if(this.state&&m){var v={style:c?Gv({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(v)}this.runAnimation(Hl(Hl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=met(o,l,ret(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(g,v,_){if(_===0)return g;var w=v.duration,b=v.easing,E=b===void 0?"ease":b,S=v.style,C=v.properties,k=v.onAnimationEnd,R=_>0?o[_-1]:v,P=C||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat($O(g),[i.runJSAnimation.bind(i,{from:R.style,to:S,duration:w,easing:E}),w]);var O=AY(P,w,E),A=Hl(Hl(Hl({},R.style),S),{},{transition:O});return[].concat($O(g),[A,w,k]).filter(qQe)};return this.manager.start([c].concat($O(o.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BQe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?Gv({},l,c):c,v=AY(Object.keys(g),o,u);y.start([d,i,Hl(Hl({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=get(a,pet),u=j.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,_=y.className,w=j.cloneElement(p,Hl(Hl({},c),{},{style:Hl(Hl({},v),d),className:_}));return w};return u===1?f(j.Children.only(i)):le.createElement("div",null,j.Children.map(i,function(m){return f(m)}))}}]),r})(j.PureComponent);nd.displayName="Animate";nd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};nd.propTypes={from:gn.oneOfType([gn.object,gn.string]),to:gn.oneOfType([gn.object,gn.string]),attributeName:gn.string,duration:gn.number,begin:gn.number,easing:gn.oneOfType([gn.string,gn.func]),steps:gn.arrayOf(gn.shape({duration:gn.number.isRequired,style:gn.object.isRequired,easing:gn.oneOfType([gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gn.func]),properties:gn.arrayOf("string"),onAnimationEnd:gn.func})),children:gn.oneOfType([gn.node,gn.func]),isActive:gn.bool,canBegin:gn.bool,onAnimationEnd:gn.func,shouldReAnimate:gn.bool,onAnimationStart:gn.func,onAnimationReStart:gn.func};function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TS.apply(this,arguments)}function Aet(e,t){return Det(e)||Ret(e,t)||Oet(e,t)||Pet()}function Pet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oet(e,t){if(e){if(typeof e=="string")return MY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MY(e,t)}}function MY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ret(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Det(e){if(Array.isArray(e))return e}function FY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FY(Object(r),!0).forEach(function(n){Iet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iet(e,t,r){return t=Met(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Met(e){var t=Fet(e,"string");return Zb(t)=="symbol"?t:t+""}function Fet(e,t){if(Zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Y=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Let=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},$et={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D6=function(t){var r=LY(LY({},$et),t),n=j.useRef(),a=j.useState(-1),i=Aet(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,_=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Mr("recharts-rectangle",p);return w?le.createElement(nd,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:w},function(E){var S=E.width,C=E.height,k=E.x,R=E.y;return le.createElement(nd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:_,easing:y},le.createElement("path",TS({},pr(r,!0),{className:b,d:$Y(k,R,S,C,m),ref:n})))}):le.createElement("path",TS({},pr(r,!0),{className:b,d:$Y(c,u,d,f,m)}))},Bet=["points","className","baseLinePoints","connectNulls"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function Uet(e,t){if(e==null)return{};var r=Vet(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vet(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BY(e){return Het(e)||Wet(e)||qet(e)||zet()}function zet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qet(e,t){if(e){if(typeof e=="string")return _3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _3(e,t)}}function Wet(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Het(e){if(Array.isArray(e))return _3(e)}function _3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UY=function(t){return t&&t.x===+t.x&&t.y===+t.y},Get=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){UY(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),UY(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Oy=function(t,r){var n=Get(t);r&&(n=[n.reduce(function(i,o){return[].concat(BY(i),BY(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Ket=function(t,r,n){var a=Oy(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Oy(r.reverse(),n).slice(1))},Yet=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Uet(t,Bet);if(!r||!r.length)return null;var l=Mr("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Ket(r,a,i);return le.createElement("g",{className:l},le.createElement("path",kg({},pr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?le.createElement("path",kg({},pr(o,!0),{fill:"none",d:Oy(r,i)})):null,c?le.createElement("path",kg({},pr(o,!0),{fill:"none",d:Oy(a,i)})):null)}var d=Oy(r,i);return le.createElement("path",kg({},pr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function j3(){return j3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j3.apply(this,arguments)}var I6=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Mr("recharts-dot",i);return r===+r&&n===+n&&a===+a?j.createElement("circle",j3({},pr(t,!1),QN(t),{className:o,cx:r,cy:n,r:a})):null};function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}var Xet=["x","y","top","left","width","height","className"];function N3(){return N3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N3.apply(this,arguments)}function VY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jet(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VY(Object(r),!0).forEach(function(n){Zet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zet(e,t,r){return t=Qet(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qet(e){var t=ett(e,"string");return Qb(t)=="symbol"?t:t+""}function ett(e,t){if(Qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ttt(e,t){if(e==null)return{};var r=rtt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rtt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ntt=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},stt=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,p=m===void 0?0:m,y=t.className,g=ttt(t,Xet),v=Jet({x:n,y:i,top:l,left:u,width:f,height:p},g);return!wt(n)||!wt(i)||!wt(f)||!wt(p)||!wt(l)||!wt(u)?null:le.createElement("path",N3({},pr(v,!0),{className:Mr("recharts-cross",y),d:ntt(n,i,f,p,l,u)}))},BO,zY;function att(){if(zY)return BO;zY=1;var e=Ek(),t=rfe(),r=fu();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return BO=n,BO}var itt=att();const ott=Zr(itt);var UO,qY;function ltt(){if(qY)return UO;qY=1;var e=Ek(),t=fu(),r=nfe();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return UO=n,UO}var ctt=ltt();const utt=Zr(ctt);var dtt=["cx","cy","angle","ticks","axisLine"],ftt=["ticks","tick","angle","tickFormatter","stroke"];function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function WY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WY(Object(r),!0).forEach(function(n){Ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t){if(e==null)return{};var r=htt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function htt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zfe(n.key),n)}}function ptt(e,t,r){return t&&GY(e.prototype,t),r&&GY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gtt(e,t,r){return t=AS(t),xtt(e,Vfe()?Reflect.construct(t,r||[],AS(e).constructor):t.apply(e,r))}function xtt(e,t){if(t&&(I0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vtt(e)}function vtt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vfe=function(){return!!e})()}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AS(e)}function ytt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S3(e,t)}function S3(e,t){return S3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S3(e,t)}function Ik(e,t,r){return t=zfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zfe(e){var t=btt(e,"string");return I0(t)=="symbol"?t:t+""}function btt(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mk=(function(e){function t(){return mtt(this,t),gtt(this,t,arguments)}return ytt(t,e),ptt(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Gn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=ott(l,function(d){return d.coordinate||0}),u=utt(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=HY(n,dtt),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Gn(a,i,d[0],o),m=Gn(a,i,d[1],o),p=yh(yh(yh({},pr(u,!1)),{},{fill:"none"},pr(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return le.createElement("line",Ry({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=HY(a,ftt),f=this.getTickTextAnchor(),m=pr(d,!1),p=pr(o,!1),y=i.map(function(g,v){var _=n.getTickValueCoord(g),w=yh(yh(yh(yh({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:v},_),{},{payload:g});return le.createElement(Nn,Ry({className:Mr("recharts-polar-radius-axis-tick",Pfe(o)),key:"tick-".concat(g.coordinate)},$m(n.props,g,v)),t.renderTickItem(o,w,c?c(g.value,v):g.value))});return le.createElement(Nn,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:le.createElement(Nn,{className:Mr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ia.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return le.isValidElement(n)?o=le.cloneElement(n,a):wr(n)?o=n(a):o=le.createElement(Bm,Ry({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(j.PureComponent);Ik(Mk,"displayName","PolarRadiusAxis");Ik(Mk,"axisType","radiusAxis");Ik(Mk,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}function KY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KY(Object(r),!0).forEach(function(n){Fk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wfe(n.key),n)}}function _tt(e,t,r){return t&&YY(e.prototype,t),r&&YY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jtt(e,t,r){return t=PS(t),Ntt(e,qfe()?Reflect.construct(t,r||[],PS(e).constructor):t.apply(e,r))}function Ntt(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Stt(e)}function Stt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qfe=function(){return!!e})()}function PS(e){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PS(e)}function ktt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k3(e,t)}function k3(e,t){return k3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k3(e,t)}function Fk(e,t,r){return t=Wfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wfe(e){var t=Ctt(e,"string");return M0(t)=="symbol"?t:t+""}function Ctt(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ett=Math.PI/180,XY=1e-5,Lk=(function(e){function t(){return wtt(this,t),jtt(this,t,arguments)}return ktt(t,e),_tt(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Gn(i,o,l,n.coordinate),m=Gn(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Ett),o;return i>XY?o=a==="outer"?"start":"end":i<-XY?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=bh(bh({},pr(this.props,!1)),{},{fill:"none"},pr(l,!1));if(c==="circle")return le.createElement(I6,Rh({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return Gn(a,i,o,m.coordinate)});return le.createElement(Yet,Rh({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=pr(this.props,!1),f=pr(o,!1),m=bh(bh({},d),{},{fill:"none"},pr(l,!1)),p=i.map(function(y,g){var v=n.getTickLineCoord(y),_=n.getTickTextAnchor(y),w=bh(bh(bh({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:v.x2,y:v.y2});return le.createElement(Nn,Rh({className:Mr("recharts-polar-angle-axis-tick",Pfe(o)),key:"tick-".concat(y.coordinate)},$m(n.props,y,g)),l&&le.createElement("line",Rh({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,w,c?c(y.value,g):y.value))});return le.createElement(Nn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:le.createElement(Nn,{className:Mr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return le.isValidElement(n)?o=le.cloneElement(n,a):wr(n)?o=n(a):o=le.createElement(Bm,Rh({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(j.PureComponent);Fk(Lk,"displayName","PolarAngleAxis");Fk(Lk,"axisType","angleAxis");Fk(Lk,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var VO,JY;function Ttt(){if(JY)return VO;JY=1;var e=tde(),t=e(Object.getPrototypeOf,Object);return VO=t,VO}var zO,ZY;function Att(){if(ZY)return zO;ZY=1;var e=dd(),t=Ttt(),r=fd(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return zO=u,zO}var Ptt=Att();const Ott=Zr(Ptt);var qO,QY;function Rtt(){if(QY)return qO;QY=1;var e=dd(),t=fd(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return qO=n,qO}var Dtt=Rtt();const Itt=Zr(Dtt);function ew(e){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ew(e)}function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(this,arguments)}function Mtt(e,t){return Btt(e)||$tt(e,t)||Ltt(e,t)||Ftt()}function Ftt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ltt(e,t){if(e){if(typeof e=="string")return eX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eX(e,t)}}function eX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $tt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Btt(e){if(Array.isArray(e))return e}function tX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tX(Object(r),!0).forEach(function(n){Utt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Utt(e,t,r){return t=Vtt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vtt(e){var t=ztt(e,"string");return ew(t)=="symbol"?t:t+""}function ztt(e,t){if(ew(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nX=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},qtt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wtt=function(t){var r=rX(rX({},qtt),t),n=j.useRef(),a=j.useState(-1),i=Mtt(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var w=Mr("recharts-trapezoid",p);return _?le.createElement(nd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:y,isActive:_},function(b){var E=b.upperWidth,S=b.lowerWidth,C=b.height,k=b.x,R=b.y;return le.createElement(nd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},le.createElement("path",OS({},pr(r,!0),{className:w,d:nX(k,R,E,S,C),ref:n})))}):le.createElement("g",null,le.createElement("path",OS({},pr(r,!0),{className:w,d:nX(c,u,d,f,m)})))},Htt=["option","shapeType","propTransformer","activeClassName","isActive"];function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function Gtt(e,t){if(e==null)return{};var r=Ktt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ktt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(r),!0).forEach(function(n){Ytt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ytt(e,t,r){return t=Xtt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xtt(e){var t=Jtt(e,"string");return tw(t)=="symbol"?t:t+""}function Jtt(e,t){if(tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ztt(e,t){return RS(RS({},t),e)}function Qtt(e,t){return e==="symbols"}function aX(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return le.createElement(D6,r);case"trapezoid":return le.createElement(Wtt,r);case"sector":return le.createElement(Dfe,r);case"symbols":if(Qtt(t))return le.createElement(QL,r);break;default:return null}}function ert(e){return j.isValidElement(e)?e.props:e}function Hfe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Ztt:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Gtt(e,Htt),u;if(j.isValidElement(t))u=j.cloneElement(t,RS(RS({},c),ert(t)));else if(wr(t))u=t(c);else if(Ott(t)&&!Itt(t)){var d=a(t,c);u=le.createElement(aX,{shapeType:r,elementProps:d})}else{var f=c;u=le.createElement(aX,{shapeType:r,elementProps:f})}return l?le.createElement(Nn,{className:o},u):u}function $k(e,t){return t!=null&&"trapezoids"in e.props}function Bk(e,t){return t!=null&&"sectors"in e.props}function rw(e,t){return t!=null&&"points"in e.props}function trt(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function rrt(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function nrt(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function srt(e,t){var r;return $k(e,t)?r=trt:Bk(e,t)?r=rrt:rw(e,t)&&(r=nrt),r}function art(e,t){var r;return $k(e,t)?r="trapezoids":Bk(e,t)?r="sectors":rw(e,t)&&(r="points"),r}function irt(e,t){if($k(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Bk(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return rw(e,t)?t.payload:{}}function ort(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=art(r,t),i=irt(r,t),o=n.filter(function(c,u){var d=Pk(i,c),f=r.props[a].filter(function(y){var g=srt(r,t);return g(y,t)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Uj;function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function iX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iX(Object(r),!0).forEach(function(n){wl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kfe(n.key),n)}}function crt(e,t,r){return t&&oX(e.prototype,t),r&&oX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function urt(e,t,r){return t=DS(t),drt(e,Gfe()?Reflect.construct(t,r||[],DS(e).constructor):t.apply(e,r))}function drt(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return frt(e)}function frt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gfe=function(){return!!e})()}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DS(e)}function hrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C3(e,t)}function C3(e,t){return C3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C3(e,t)}function wl(e,t,r){return t=Kfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kfe(e){var t=mrt(e,"string");return F0(t)=="symbol"?t:t+""}function mrt(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var md=(function(e){function t(r){var n;return lrt(this,t),n=urt(this,t,[r]),wl(n,"pieRef",null),wl(n,"sectorRefs",[]),wl(n,"id",Zw("recharts-pie-")),wl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),wr(a)&&a()}),wl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),wr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hrt(t,e),crt(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=pr(this.props,!1),f=pr(o,!1),m=pr(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(g,v){var _=(g.startAngle+g.endAngle)/2,w=Gn(g.cx,g.cy,g.outerRadius+p,_),b=zn(zn(zn(zn({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(w.x,g.cx)},w),E=zn(zn(zn(zn({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:v,points:[Gn(g.cx,g.cy,g.outerRadius,_),w]}),S=c;return Hr(c)&&Hr(u)?S="value":Hr(c)&&(S=u),le.createElement(Nn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,E,"line"),t.renderLabelItem(o,b,vi(g,S)))});return le.createElement(Nn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,p=f?o:m,y=zn(zn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return le.createElement(Nn,Cg({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},$m(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),le.createElement(Hfe,Cg({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,p=f.prevIsAnimationActive;return le.createElement(nd,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],_=i&&i[0],w=_.startAngle;return i.forEach(function(b,E){var S=m&&m[E],C=E>0?qo(b,"paddingAngle",0):0;if(S){var k=qd(S.endAngle-S.startAngle,b.endAngle-b.startAngle),R=zn(zn({},b),{},{startAngle:w+C,endAngle:w+k(g)+C});v.push(R),w=R.endAngle}else{var P=b.endAngle,O=b.startAngle,A=qd(0,P-O),D=A(g),F=zn(zn({},b),{},{startAngle:w+C,endAngle:w+D+C});v.push(F),w=F.endAngle}}),le.createElement(Nn,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Pk(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!wt(u)||!wt(d)||!wt(f)||!wt(m))return null;var g=Mr("recharts-pie",l);return le.createElement(Nn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(_){n.pieRef=_}},this.renderSectors(),c&&this.renderLabels(o),Ia.renderCallByParent(this.props,null,!1),(!p||y)&&vf.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(le.isValidElement(n))return le.cloneElement(n,a);if(wr(n))return n(a);var o=Mr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return le.createElement(f3,Cg({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(le.isValidElement(n))return le.cloneElement(n,a);var o=i;if(wr(n)&&(o=n(a),le.isValidElement(o)))return o;var l=Mr("recharts-pie-label-text",typeof n!="boolean"&&!wr(n)?n.className:"");return le.createElement(Bm,Cg({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(j.PureComponent);Uj=md;wl(md,"displayName","Pie");wl(md,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!yx.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wl(md,"parseDeltaAngle",function(e,t){var r=Vi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});wl(md,"getRealPieData",function(e){var t=e.data,r=e.children,n=pr(e,!1),a=Ol(r,wk);return t&&t.length?t.map(function(i,o){return zn(zn(zn({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return zn(zn({},n),i.props)}):[]});wl(md,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Afe(a,i),l=n+zi(e.cx,a,a/2),c=r+zi(e.cy,i,i/2),u=zi(e.innerRadius,o,0),d=zi(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});wl(md,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?zn(zn({},t.type.defaultProps),t.props):t.props,a=Uj.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),y=Uj.parseCoordinateOfPie(n,r),g=Uj.parseDeltaAngle(o,l),v=Math.abs(g),_=u;Hr(u)&&Hr(f)?(fc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Hr(u)&&(fc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var w=a.filter(function(R){return vi(R,_,0)!==0}).length,b=(v>=360?w:w-1)*c,E=v-w*p-b,S=a.reduce(function(R,P){var O=vi(P,_,0);return R+(wt(O)?O:0)},0),C;if(S>0){var k;C=a.map(function(R,P){var O=vi(R,_,0),A=vi(R,d,P),D=(wt(O)?O:0)/S,F;P?F=k.endAngle+Vi(g)*c*(O!==0?1:0):F=o;var B=F+Vi(g)*((O!==0?p:0)+D*E),z=(F+B)/2,q=(y.innerRadius+y.outerRadius)/2,G=[{name:A,value:O,payload:R,dataKey:_,type:m}],Y=Gn(y.cx,y.cy,q,z);return k=zn(zn(zn({percent:D,cornerRadius:i,name:A,tooltipPayload:G,midAngle:z,middleRadius:q,tooltipPosition:Y},R),y),{},{value:vi(R,_),startAngle:F,endAngle:B,payload:R,paddingAngle:Vi(g)*c}),k})}return zn(zn({},y),{},{sectors:C,data:a})});var WO,lX;function prt(){if(lX)return WO;lX=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var l=-1,c=t(e((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return WO=r,WO}var HO,cX;function Yfe(){if(cX)return HO;cX=1;var e=xde(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return HO=n,HO}var GO,uX;function grt(){if(uX)return GO;uX=1;var e=prt(),t=bk(),r=Yfe();function n(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,a)}}return GO=n,GO}var KO,dX;function xrt(){if(dX)return KO;dX=1;var e=grt(),t=e();return KO=t,KO}var vrt=xrt();const IS=Zr(vrt);function nw(e){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nw(e)}function fX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fX(Object(r),!0).forEach(function(n){Xfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xfe(e,t,r){return t=yrt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yrt(e){var t=brt(e,"string");return nw(t)=="symbol"?t:t+""}function brt(e,t){if(nw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wrt=["Webkit","Moz","O","ms"],_rt=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=wrt.reduce(function(i,o){return hX(hX({},i),{},Xfe({},o+n,r))},{});return a[t]=r,a};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(this,arguments)}function mX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mX(Object(r),!0).forEach(function(n){So(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zfe(n.key),n)}}function Nrt(e,t,r){return t&&pX(e.prototype,t),r&&pX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Srt(e,t,r){return t=FS(t),krt(e,Jfe()?Reflect.construct(t,r||[],FS(e).constructor):t.apply(e,r))}function krt(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Crt(e)}function Crt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jfe=function(){return!!e})()}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FS(e)}function Ert(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E3(e,t)}function E3(e,t){return E3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E3(e,t)}function So(e,t,r){return t=Zfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zfe(e){var t=Trt(e,"string");return L0(t)=="symbol"?t:t+""}function Trt(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Art=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ty().domain(IS(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},gX=function(t){return t.changedTouches&&!!t.changedTouches.length},$0=(function(e){function t(r){var n;return jrt(this,t),n=Srt(this,t,[r]),So(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),So(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),So(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),So(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),So(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),So(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),So(n,"handleSlideDragStart",function(a){var i=gX(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Ert(t,e),Nrt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=vi(i[n],l,n);return wr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==m||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=gX(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,_={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+m-p-u):w<0&&(w=Math.max(w,f-u)),_[o]=u+w;var b=this.getIndex(_),E=b.startIndex,S=b.endIndex,C=function(){var R=v.length-1;return o==="startX"&&(l>c?E%g===0:S%g===0)||l<c&&S===R||o==="endX"&&(l>c?S%g===0:E%g===0)||l>c&&S===R};this.setState(So(So({},o,u+w),"brushMoveStartX",n.pageX),function(){y&&C()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(So({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return le.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?le.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,_=Math.max(n,this.props.x),w=YO(YO({},pr(this.props,!1)),{},{x:_,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return le.createElement(Nn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return le.createElement(Nn,{className:"recharts-brush-texts"},le.createElement(Bm,MS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:o+l/2},y),this.getTextOfTick(a)),le.createElement(Bm,MS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,y=m.endX,g=m.isTextActive,v=m.isSlideMoving,_=m.isTravellerMoving,w=m.isTravellerFocused;if(!a||!a.length||!wt(l)||!wt(c)||!wt(u)||!wt(d)||u<=0||d<=0)return null;var b=Mr("recharts-brush",i),E=le.Children.count(o)===1,S=_rt("userSelect","none");return le.createElement(Nn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||_||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),le.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return le.isValidElement(n)?i=le.cloneElement(n,a):wr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return YO({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Art({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(j.PureComponent);So($0,"displayName","Brush");So($0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XO,xX;function Prt(){if(xX)return XO;xX=1;var e=i6();function t(r,n){var a;return e(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return XO=t,XO}var JO,vX;function Ort(){if(vX)return JO;vX=1;var e=Kue(),t=fu(),r=Prt(),n=vo(),a=bk();function i(o,l,c){var u=n(o)?e:r;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return JO=i,JO}var Rrt=Ort();const Drt=Zr(Rrt);var Jc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},ZO,yX;function Irt(){if(yX)return ZO;yX=1;var e=fde();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return ZO=t,ZO}var QO,bX;function Mrt(){if(bX)return QO;bX=1;var e=Irt(),t=ude(),r=fu();function n(a,i){var o={};return i=r(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return QO=n,QO}var Frt=Mrt();const Lrt=Zr(Frt);var eR,wX;function $rt(){if(wX)return eR;wX=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return eR=e,eR}var tR,_X;function Brt(){if(_X)return tR;_X=1;var e=i6();function t(r,n){var a=!0;return e(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return tR=t,tR}var rR,jX;function Urt(){if(jX)return rR;jX=1;var e=$rt(),t=Brt(),r=fu(),n=vo(),a=bk();function i(o,l,c){var u=n(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return rR=i,rR}var Vrt=Urt();const Qfe=Zr(Vrt);var zrt=["x","y"];function sw(e){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sw(e)}function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T3.apply(this,arguments)}function NX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NX(Object(r),!0).forEach(function(n){qrt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qrt(e,t,r){return t=Wrt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wrt(e){var t=Hrt(e,"string");return sw(t)=="symbol"?t:t+""}function Hrt(e,t){if(sw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Grt(e,t){if(e==null)return{};var r=Krt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Krt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yrt(e,t){var r=e.x,n=e.y,a=Grt(e,zrt),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Cv(Cv(Cv(Cv(Cv({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function SX(e){return le.createElement(Hfe,T3({shapeType:"rectangle",propTransformer:Yrt,activeClassName:"recharts-active-bar"},e))}var Xrt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=wt(n)||yze(n);return i?t(n,a):(i||Vm(),r)}},Jrt=["value","background"],ehe;function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function Zrt(e,t){if(e==null)return{};var r=Qrt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qrt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LS.apply(this,arguments)}function kX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kX(Object(r),!0).forEach(function(n){af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ent(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rhe(n.key),n)}}function tnt(e,t,r){return t&&CX(e.prototype,t),r&&CX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rnt(e,t,r){return t=$S(t),nnt(e,the()?Reflect.construct(t,r||[],$S(e).constructor):t.apply(e,r))}function nnt(e,t){if(t&&(B0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return snt(e)}function snt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function the(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(the=function(){return!!e})()}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$S(e)}function ant(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A3(e,t)}function A3(e,t){return A3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A3(e,t)}function af(e,t,r){return t=rhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rhe(e){var t=int(e,"string");return B0(t)=="symbol"?t:t+""}function int(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bl=(function(e){function t(){var r;ent(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rnt(this,t,[].concat(a)),af(r,"state",{isAnimationFinished:!1}),af(r,"id",Zw("recharts-bar-")),af(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),af(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ant(t,e),tnt(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=pr(this.props,!1);return n&&n.map(function(f,m){var p=m===c,y=p?u:o,g=Ys(Ys(Ys({},d),f),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return le.createElement(Nn,LS({className:"recharts-bar-rectangle"},$m(a.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),le.createElement(SX,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return le.createElement(nd,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=i.map(function(v,_){var w=m&&m[_];if(w){var b=qd(w.x,v.x),E=qd(w.y,v.y),S=qd(w.width,v.width),C=qd(w.height,v.height);return Ys(Ys({},v),{},{x:b(y),y:E(y),width:S(y),height:C(y)})}if(o==="horizontal"){var k=qd(0,v.height),R=k(y);return Ys(Ys({},v),{},{y:v.y+v.height-R,height:R})}var P=qd(0,v.width),O=P(y);return Ys(Ys({},v),{},{width:O})});return le.createElement(Nn,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Pk(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=pr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=Zrt(u,Jrt);if(!f)return null;var p=Ys(Ys(Ys(Ys(Ys({},m),{},{fill:"#eee"},f),c),$m(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return le.createElement(SX,LS({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ol(d,Dk);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,_){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:vi(v,_)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return le.createElement(Nn,y,f.map(function(g){return le.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,p=n.isAnimationActive,y=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,_=Mr("recharts-bar",o),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,E=w||b,S=Hr(g)?this.id:g;return le.createElement(Nn,{className:_},w||b?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(S)},le.createElement("rect",{x:w?u:u-f/2,y:b?d:d-m/2,width:w?f:f*2,height:b?m:m*2}))):null,le.createElement(Nn,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||v)&&vf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(j.PureComponent);ehe=bl;af(bl,"displayName","Bar");af(bl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yx.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});af(bl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,p=RJe(n,r);if(!p)return null;var y=t.layout,g=r.type.defaultProps,v=g!==void 0?Ys(Ys({},g),r.props):r.props,_=v.dataKey,w=v.children,b=v.minPointSize,E=y==="horizontal"?o:i,S=u?E.scale.domain():null,C=BJe({numericAxis:E}),k=Ol(w,wk),R=f.map(function(P,O){var A,D,F,B,z,q;u?A=DJe(u[d+O],S):(A=vi(P,_),Array.isArray(A)||(A=[C,A]));var G=Xrt(b,ehe.defaultProps.minPointSize)(A[1],O);if(y==="horizontal"){var Y,M=[o.scale(A[0]),o.scale(A[1])],H=M[0],Z=M[1];D=ZK({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:O}),F=(Y=Z??H)!==null&&Y!==void 0?Y:void 0,B=p.size;var L=H-Z;if(z=Number.isNaN(L)?0:L,q={x:D,y:o.y,width:B,height:o.height},Math.abs(G)>0&&Math.abs(z)<Math.abs(G)){var J=Vi(z||G)*(Math.abs(G)-Math.abs(z));F-=J,z+=J}}else{var V=[i.scale(A[0]),i.scale(A[1])],X=V[0],ne=V[1];if(D=X,F=ZK({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:O}),B=ne-X,z=p.size,q={x:i.x,y:F,width:i.width,height:z},Math.abs(G)>0&&Math.abs(B)<Math.abs(G)){var se=Vi(B||G)*(Math.abs(G)-Math.abs(B));B+=se}}return Ys(Ys(Ys({},P),{},{x:D,y:F,width:B,height:z,value:u?A:A[1],payload:P,background:q},k&&k[O]&&k[O].props),{},{tooltipPayload:[Efe(r,P)],tooltipPosition:{x:D+B/2,y:F+z/2}})});return Ys({data:R,layout:y},m)});function aw(e){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aw(e)}function ont(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nhe(n.key),n)}}function lnt(e,t,r){return t&&EX(e.prototype,t),r&&EX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(r),!0).forEach(function(n){Uk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uk(e,t,r){return t=nhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nhe(e){var t=cnt(e,"string");return aw(t)=="symbol"?t:t+""}function cnt(e,t){if(aw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var unt=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Eo(u,bl);return d.reduce(function(p,y){var g=r[y],v=g.orientation,_=g.domain,w=g.padding,b=w===void 0?{}:w,E=g.mirror,S=g.reversed,C="".concat(v).concat(E?"Mirror":""),k,R,P,O,A;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var D=_[1]-_[0],F=1/0,B=g.categoricalDomain.sort(_ze);if(B.forEach(function(V,X){X>0&&(F=Math.min((V||0)-(B[X-1]||0),F))}),Number.isFinite(F)){var z=F/D,q=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(k=z*q/2),g.padding==="no-gap"){var G=zi(t.barCategoryGap,z*q),Y=z*q/2;k=Y-G-(Y-G)/q*G}}}a==="xAxis"?R=[n.left+(b.left||0)+(k||0),n.left+n.width-(b.right||0)-(k||0)]:a==="yAxis"?R=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(k||0),n.top+n.height-(b.bottom||0)-(k||0)]:R=g.range,S&&(R=[R[1],R[0]]);var M=Nfe(g,i,m),H=M.scale,Z=M.realScaleType;H.domain(_).range(R),Sfe(H);var L=kfe(H,Zl(Zl({},g),{},{realScaleType:Z}));a==="xAxis"?(A=v==="top"&&!E||v==="bottom"&&E,P=n.left,O=f[C]-A*g.height):a==="yAxis"&&(A=v==="left"&&!E||v==="right"&&E,P=f[C]-A*g.width,O=n.top);var J=Zl(Zl(Zl({},g),L),{},{realScaleType:Z,x:P,y:O,scale:H,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return J.bandSize=jS(J,L),!g.hide&&a==="xAxis"?f[C]+=(A?-1:1)*J.height:g.hide||(f[C]+=(A?-1:1)*J.width),Zl(Zl({},p),{},Uk({},y,J))},{})},she=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},dnt=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return she({x:r,y:n},{x:a,y:i})},ahe=(function(){function e(t){ont(this,e),this.scale=t}return lnt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Uk(ahe,"EPS",1e-4);var M6=function(t){var r=Object.keys(t).reduce(function(n,a){return Zl(Zl({},n),{},Uk({},a,ahe.create(t[a])))},{});return Zl(Zl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Lrt(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Qfe(a,function(i,o){return r[o].isInRange(i)})}})};function fnt(e){return(e%180+180)%180}var hnt=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fnt(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nR,AX;function mnt(){if(AX)return nR;AX=1;var e=fu(),t=Qw(),r=vk();function n(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=a(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return nR=n,nR}var sR,PX;function pnt(){if(PX)return sR;PX=1;var e=Yfe();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return sR=t,sR}var aR,OX;function gnt(){if(OX)return aR;OX=1;var e=ade(),t=fu(),r=pnt(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return aR=a,aR}var iR,RX;function xnt(){if(RX)return iR;RX=1;var e=mnt(),t=gnt(),r=e(t);return iR=r,iR}var vnt=xnt();const ynt=Zr(vnt);var bnt=wue();const wnt=Zr(bnt);var _nt=wnt(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),F6=j.createContext(void 0),L6=j.createContext(void 0),ihe=j.createContext(void 0),ohe=j.createContext({}),lhe=j.createContext(void 0),che=j.createContext(0),uhe=j.createContext(0),DX=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=_nt(i);return le.createElement(F6.Provider,{value:n},le.createElement(L6.Provider,{value:a},le.createElement(ohe.Provider,{value:i},le.createElement(ihe.Provider,{value:d},le.createElement(lhe.Provider,{value:o},le.createElement(che.Provider,{value:u},le.createElement(uhe.Provider,{value:c},l)))))))},jnt=function(){return j.useContext(lhe)},dhe=function(t){var r=j.useContext(F6);r==null&&Vm();var n=r[t];return n==null&&Vm(),n},Nnt=function(){var t=j.useContext(F6);return Gd(t)},Snt=function(){var t=j.useContext(L6),r=ynt(t,function(n){return Qfe(n.domain,Number.isFinite)});return r||Gd(t)},fhe=function(t){var r=j.useContext(L6);r==null&&Vm();var n=r[t];return n==null&&Vm(),n},knt=function(){var t=j.useContext(ihe);return t},Cnt=function(){return j.useContext(ohe)},$6=function(){return j.useContext(uhe)},B6=function(){return j.useContext(che)};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function Ent(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tnt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mhe(n.key),n)}}function Ant(e,t,r){return t&&Tnt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pnt(e,t,r){return t=BS(t),Ont(e,hhe()?Reflect.construct(t,r||[],BS(e).constructor):t.apply(e,r))}function Ont(e,t){if(t&&(U0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rnt(e)}function Rnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hhe=function(){return!!e})()}function BS(e){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},BS(e)}function Dnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P3(e,t)}function P3(e,t){return P3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P3(e,t)}function IX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IX(Object(r),!0).forEach(function(n){U6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U6(e,t,r){return t=mhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mhe(e){var t=Int(e,"string");return U0(t)=="symbol"?t:t+""}function Int(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mnt(e,t){return Bnt(e)||$nt(e,t)||Lnt(e,t)||Fnt()}function Fnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lnt(e,t){if(e){if(typeof e=="string")return FX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FX(e,t)}}function FX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $nt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Bnt(e){if(Array.isArray(e))return e}function O3(){return O3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O3.apply(this,arguments)}var Unt=function(t,r){var n;return le.isValidElement(t)?n=le.cloneElement(t,r):wr(t)?n=t(r):n=le.createElement("line",O3({},r,{className:"recharts-reference-line-line"})),n},Vnt=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,p=i.height;if(n){var y=u.y,g=t.y.apply(y,{position:o});if(Jc(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var _=u.x,w=t.x.apply(_,{position:o});if(Jc(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+p},{x:w,y:f}];return l==="top"?b.reverse():b}if(a){var E=u.segment,S=E.map(function(C){return t.apply(C,{position:o})});return Jc(u,"discard")&&Drt(S,function(C){return!t.isInRange(C)})?null:S}return null};function znt(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=jnt(),d=dhe(a),f=fhe(i),m=knt();if(!u||!m)return null;fc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=M6({x:d.scale,y:f.scale}),y=wa(t),g=wa(r),v=n&&n.length===2,_=Vnt(p,y,g,v,m,e.position,d.orientation,f.orientation,e);if(!_)return null;var w=Mnt(_,2),b=w[0],E=b.x,S=b.y,C=w[1],k=C.x,R=C.y,P=Jc(e,"hidden")?"url(#".concat(u,")"):void 0,O=MX(MX({clipPath:P},pr(e,!0)),{},{x1:E,y1:S,x2:k,y2:R});return le.createElement(Nn,{className:Mr("recharts-reference-line",l)},Unt(o,O),Ia.renderCallByParent(e,dnt({x1:E,y1:S,x2:k,y2:R})))}var V6=(function(e){function t(){return Ent(this,t),Pnt(this,t,arguments)}return Dnt(t,e),Ant(t,[{key:"render",value:function(){return le.createElement(znt,this.props)}}])})(le.Component);U6(V6,"displayName","ReferenceLine");U6(V6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function R3(){return R3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R3.apply(this,arguments)}function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function LX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LX(Object(r),!0).forEach(function(n){Vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wnt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ghe(n.key),n)}}function Hnt(e,t,r){return t&&Wnt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gnt(e,t,r){return t=US(t),Knt(e,phe()?Reflect.construct(t,r||[],US(e).constructor):t.apply(e,r))}function Knt(e,t){if(t&&(V0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ynt(e)}function Ynt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function phe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(phe=function(){return!!e})()}function US(e){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},US(e)}function Xnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D3(e,t)}function D3(e,t){return D3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D3(e,t)}function Vk(e,t,r){return t=ghe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ghe(e){var t=Jnt(e,"string");return V0(t)=="symbol"?t:t+""}function Jnt(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Znt=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=M6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Jc(t,"discard")&&!o.isInRange(l)?null:l},zk=(function(e){function t(){return qnt(this,t),Gnt(this,t,arguments)}return Xnt(t,e),Hnt(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=wa(a),d=wa(i);if(fc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Znt(this.props);if(!f)return null;var m=f.x,p=f.y,y=this.props,g=y.shape,v=y.className,_=Jc(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=$X($X({clipPath:_},pr(this.props,!0)),{},{cx:m,cy:p});return le.createElement(Nn,{className:Mr("recharts-reference-dot",v)},t.renderDot(g,w),Ia.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])})(le.Component);Vk(zk,"displayName","ReferenceDot");Vk(zk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vk(zk,"renderDot",function(e,t){var r;return le.isValidElement(e)?r=le.cloneElement(e,t):wr(e)?r=e(t):r=le.createElement(I6,R3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function I3(){return I3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I3.apply(this,arguments)}function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function BX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BX(Object(r),!0).forEach(function(n){qk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function est(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vhe(n.key),n)}}function tst(e,t,r){return t&&est(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rst(e,t,r){return t=VS(t),nst(e,xhe()?Reflect.construct(t,r||[],VS(e).constructor):t.apply(e,r))}function nst(e,t){if(t&&(z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sst(e)}function sst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xhe=function(){return!!e})()}function VS(e){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VS(e)}function ast(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M3(e,t)}function M3(e,t){return M3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M3(e,t)}function qk(e,t,r){return t=vhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vhe(e){var t=ist(e,"string");return z0(t)=="symbol"?t:t+""}function ist(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ost=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=M6({x:d.scale,y:f.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Jc(i,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:she(p,y)},Wk=(function(e){function t(){return Qnt(this,t),rst(this,t,arguments)}return ast(t,e),tst(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;fc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wa(a),m=wa(i),p=wa(o),y=wa(l),g=this.props.shape;if(!f&&!m&&!p&&!y&&!g)return null;var v=ost(f,m,p,y,this.props);if(!v&&!g)return null;var _=Jc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return le.createElement(Nn,{className:Mr("recharts-reference-area",c)},t.renderRect(g,UX(UX({clipPath:_},pr(this.props,!0)),v)),Ia.renderCallByParent(this.props,v))}}])})(le.Component);qk(Wk,"displayName","ReferenceArea");qk(Wk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qk(Wk,"renderRect",function(e,t){var r;return le.isValidElement(e)?r=le.cloneElement(e,t):wr(e)?r=e(t):r=le.createElement(D6,I3({},t,{className:"recharts-reference-area-rect"})),r});function yhe(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function lst(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hnt(n,r)}function cst(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function zS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ust(e,t){return yhe(e,t+1)}function dst(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n?.[c];if(y===void 0)return{v:yhe(n,u)};var g=c,v,_=function(){return v===void 0&&(v=r(y,g)),v},w=y.coordinate,b=c===0||zS(e,w,_,d,l);b||(c=0,d=o,u+=1),b&&(d=w+e*(_()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}function VX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VX(Object(r),!0).forEach(function(n){fst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fst(e,t,r){return t=hst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hst(e){var t=mst(e,"string");return iw(t)=="symbol"?t:t+""}function mst(e,t){if(iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pst(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var p=i[m],y,g=function(){return y===void 0&&(y=r(p,m)),y};if(m===o-1){var v=e*(p.coordinate+e*g()/2-c);i[m]=p=li(li({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[m]=p=li(li({},p),{},{tickCoord:p.coordinate});var _=zS(e,p.tickCoord,g,l,c);_&&(c=p.tickCoord-e*(g()/2+a),i[m]=li(li({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function gst(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=li(li({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=zS(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=li(li({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(w){var b=o[w],E,S=function(){return E===void 0&&(E=r(b,w)),E};if(w===0){var C=e*(b.coordinate-e*S()/2-c);o[w]=b=li(li({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[w]=b=li(li({},b),{},{tickCoord:b.coordinate});var k=zS(e,b.tickCoord,S,c,u);k&&(c=b.tickCoord+e*(S()/2+a),o[w]=li(li({},b),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function z6(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(wt(c)||yx.isSsr)return ust(a,typeof c=="number"&&wt(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Ey(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(b,E){var S=wr(u)?u(b.value,E):b.value;return p==="width"?lst(Ey(S,{fontSize:t,letterSpacing:r}),y,f):Ey(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Vi(a[1].coordinate-a[0].coordinate):1,_=cst(i,v,p);return c==="equidistantPreserveStart"?dst(v,_,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=gst(v,_,g,a,o,c==="preserveStartEnd"):m=pst(v,_,g,a,o),m.filter(function(w){return w.isShow}))}var xst=["viewBox"],vst=["viewBox"],yst=["ticks"];function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function zX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zX(Object(r),!0).forEach(function(n){q6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oR(e,t){if(e==null)return{};var r=bst(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bst(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,whe(n.key),n)}}function _st(e,t,r){return t&&qX(e.prototype,t),r&&qX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jst(e,t,r){return t=qS(t),Nst(e,bhe()?Reflect.construct(t,r||[],qS(e).constructor):t.apply(e,r))}function Nst(e,t){if(t&&(q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sst(e)}function Sst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bhe=function(){return!!e})()}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qS(e)}function kst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F3(e,t)}function F3(e,t){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F3(e,t)}function q6(e,t,r){return t=whe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function whe(e){var t=Cst(e,"string");return q0(t)=="symbol"?t:t+""}function Cst(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jx=(function(e){function t(r){var n;return wst(this,t),n=jst(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kst(t,e),_st(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=oR(n,xst),l=this.props,c=l.viewBox,u=oR(l,vst);return!Jg(i,c)||!Jg(o,u)||!Jg(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,p,y,g,v,_,w,b=f?-1:1,E=n.tickSize||d,S=wt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,g=v-b*E,w=g-b*m,_=S;break;case"left":g=v=n.coordinate,y=i+ +!f*l,p=y-b*E,_=p-b*m,w=S;break;case"right":g=v=n.coordinate,y=i+ +f*l,p=y+b*E,_=p+b*m,w=S;break;default:p=y=n.coordinate,v=o+ +f*c,g=v+b*E,w=g+b*m,_=S;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=fa(fa(fa({},pr(this.props,!1)),pr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=fa(fa({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=fa(fa({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return le.createElement("line",Eg({},f,{className:Mr("recharts-cartesian-axis-line",qo(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,p=z6(fa(fa({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=pr(this.props,!1),_=pr(d,!1),w=fa(fa({},v),{},{fill:"none"},pr(c,!1)),b=p.map(function(E,S){var C=o.getTickLineCoord(E),k=C.line,R=C.tick,P=fa(fa(fa(fa({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},_),R),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:f});return le.createElement(Nn,Eg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},$m(o.props,E,S)),c&&le.createElement("line",Eg({},w,k,{className:Mr("recharts-cartesian-axis-tick-line",qo(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(wr(f)?f(E.value,S):E.value).concat(m||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,p=oR(f,yst),y=m;return wr(c)&&(y=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:le.createElement(Nn,{className:Mr("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ia.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Mr(a.className,"recharts-cartesian-axis-tick-value");return le.isValidElement(n)?o=le.cloneElement(n,fa(fa({},a),{},{className:l})):wr(n)?o=n(fa(fa({},a),{},{className:l})):o=le.createElement(Bm,Eg({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);q6(jx,"displayName","CartesianAxis");q6(jx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Est=["x1","y1","x2","y2","key"],Tst=["offset"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function WX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WX(Object(r),!0).forEach(function(n){Ast(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ast(e,t,r){return t=Pst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pst(e){var t=Ost(e,"string");return zm(t)=="symbol"?t:t+""}function Ost(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(this,arguments)}function HX(e,t){if(e==null)return{};var r=Rst(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rst(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dst=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return le.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _he(e,t){var r;if(le.isValidElement(e))r=le.cloneElement(e,t);else if(wr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=HX(t,Est),u=pr(c,!1);u.offset;var d=HX(u,Tst);r=le.createElement("line",Wh({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Ist(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=mi(mi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return _he(a,u)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Mst(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=mi(mi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return _he(a,u)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Fst(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,p){return m-p});a!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?a+o-m:d[p+1]-m;if(g<=0)return null;var v=p%t.length;return le.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Lst(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?i+l-m:d[p+1]-m;if(g<=0)return null;var v=p%n.length;return le.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var $st=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return jfe(z6(mi(mi(mi({},jx.defaultProps),n),{},{ticks:Fu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Bst=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return jfe(z6(mi(mi(mi({},jx.defaultProps),n),{},{ticks:Fu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ng={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function L3(e){var t,r,n,a,i,o,l=$6(),c=B6(),u=Cnt(),d=mi(mi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ng.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ng.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ng.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ng.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ng.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ng.verticalFill,x:wt(e.x)?e.x:u.left,y:wt(e.y)?e.y:u.top,width:wt(e.width)?e.width:u.width,height:wt(e.height)?e.height:u.height}),f=d.x,m=d.y,p=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,_=d.verticalValues,w=Nnt(),b=Snt();if(!wt(p)||p<=0||!wt(y)||y<=0||!wt(f)||f!==+f||!wt(m)||m!==+m)return null;var E=d.verticalCoordinatesGenerator||$st,S=d.horizontalCoordinatesGenerator||Bst,C=d.horizontalPoints,k=d.verticalPoints;if((!C||!C.length)&&wr(S)){var R=v&&v.length,P=S({yAxis:b?mi(mi({},b),{},{ticks:R?v:b.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);fc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zm(P),"]")),Array.isArray(P)&&(C=P)}if((!k||!k.length)&&wr(E)){var O=_&&_.length,A=E({xAxis:w?mi(mi({},w),{},{ticks:O?_:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:g);fc(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zm(A),"]")),Array.isArray(A)&&(k=A)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(Dst,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),le.createElement(Ist,Wh({},d,{offset:u,horizontalPoints:C,xAxis:w,yAxis:b})),le.createElement(Mst,Wh({},d,{offset:u,verticalPoints:k,xAxis:w,yAxis:b})),le.createElement(Fst,Wh({},d,{horizontalPoints:C})),le.createElement(Lst,Wh({},d,{verticalPoints:k})))}L3.displayName="CartesianGrid";function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function Ust(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vst(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,She(n.key),n)}}function zst(e,t,r){return t&&Vst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qst(e,t,r){return t=WS(t),Wst(e,jhe()?Reflect.construct(t,r||[],WS(e).constructor):t.apply(e,r))}function Wst(e,t){if(t&&(W0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hst(e)}function Hst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jhe=function(){return!!e})()}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},WS(e)}function Gst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$3(e,t)}function $3(e,t){return $3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$3(e,t)}function Nhe(e,t,r){return t=She(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function She(e){var t=Kst(e,"string");return W0(t)=="symbol"?t:t+""}function Kst(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B3(){return B3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B3.apply(this,arguments)}function Yst(e){var t=e.xAxisId,r=$6(),n=B6(),a=dhe(t);return a==null?null:j.createElement(jx,B3({},a,{className:Mr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Fu(o,!0)}}))}var ow=(function(e){function t(){return Ust(this,t),qst(this,t,arguments)}return Gst(t,e),zst(t,[{key:"render",value:function(){return j.createElement(Yst,this.props)}}])})(j.Component);Nhe(ow,"displayName","XAxis");Nhe(ow,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function Xst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jst(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ehe(n.key),n)}}function Zst(e,t,r){return t&&Jst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qst(e,t,r){return t=HS(t),eat(e,khe()?Reflect.construct(t,r||[],HS(e).constructor):t.apply(e,r))}function eat(e,t){if(t&&(H0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tat(e)}function tat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function khe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(khe=function(){return!!e})()}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HS(e)}function rat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U3(e,t)}function U3(e,t){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U3(e,t)}function Che(e,t,r){return t=Ehe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ehe(e){var t=nat(e,"string");return H0(t)=="symbol"?t:t+""}function nat(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}var sat=function(t){var r=t.yAxisId,n=$6(),a=B6(),i=fhe(r);return i==null?null:j.createElement(jx,V3({},i,{className:Mr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Fu(l,!0)}}))},lw=(function(e){function t(){return Xst(this,t),Qst(this,t,arguments)}return rat(t,e),Zst(t,[{key:"render",value:function(){return j.createElement(sat,this.props)}}])})(j.Component);Che(lw,"displayName","YAxis");Che(lw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GX(e){return lat(e)||oat(e)||iat(e)||aat()}function aat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iat(e,t){if(e){if(typeof e=="string")return z3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z3(e,t)}}function oat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lat(e){if(Array.isArray(e))return z3(e)}function z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q3=function(t,r,n,a,i){var o=Ol(t,V6),l=Ol(t,zk),c=[].concat(GX(o),GX(l)),u=Ol(t,Wk),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,v){if(v.props[d]===n&&Jc(v.props,"extendDomain")&&wt(v.props[f])){var _=v.props[f];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},m)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(g,v){if(v.props[d]===n&&Jc(v.props,"extendDomain")&&wt(v.props[p])&&wt(v.props[y])){var _=v.props[p],w=v.props[y];return[Math.min(g[0],_,w),Math.max(g[1],_,w)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,v){return wt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},m)),m},lR={exports:{}},KX;function cat(){return KX||(KX=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,y){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],_=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,y),!0}for(b=1,w=new Array(_-1);b<_;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var E=v.length,S;for(b=0;b<E;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),_){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,m);break;default:if(!w)for(S=1,w=new Array(_-1);S<_;S++)w[S-1]=arguments[S];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var g=0,v=[],_=y.length;g<_;g++)(y[g].fn!==d||m&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(lR)),lR.exports}var uat=cat();const dat=Zr(uat);var cR=new dat,uR="recharts.syncMouseEvents";function cw(e){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(e)}function fat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,The(n.key),n)}}function mat(e,t,r){return t&&hat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dR(e,t,r){return t=The(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function The(e){var t=pat(e,"string");return cw(t)=="symbol"?t:t+""}function pat(e,t){if(cw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gat=(function(){function e(){fat(this,e),dR(this,"activeIndex",0),dR(this,"coordinateList",[]),dR(this,"layout","horizontal")}return mat(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function xat(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&wt(n)&&wt(a))return!0}return!1}function vat(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ahe(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Gn(t,r,n,a),l=Gn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function yat(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=Gn(l,c,u,f),p=Gn(l,c,d,f);n=m.x,a=m.y,i=p.x,o=p.y}else return Ahe(t);return[{x:n,y:a},{x:i,y:o}]}function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function YX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YX(Object(r),!0).forEach(function(n){bat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bat(e,t,r){return t=wat(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wat(e){var t=_at(e,"string");return uw(t)=="symbol"?t:t+""}function _at(e,t){if(uw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jat(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var y,g=f3;if(m==="ScatterChart")y=o,g=stt;else if(m==="BarChart")y=vat(f,o,c,d),g=D6;else if(f==="radial"){var v=Ahe(o),_=v.cx,w=v.cy,b=v.radius,E=v.startAngle,S=v.endAngle;y={cx:_,cy:w,startAngle:E,endAngle:S,innerRadius:b,outerRadius:b},g=Dfe}else y={points:yat(f,o,c)},g=f3;var C=uj(uj(uj(uj({stroke:"#ccc",pointerEvents:"none"},c),y),pr(p,!1)),{},{payload:l,payloadIndex:u,className:Mr("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,C):j.createElement(g,C)}var Nat=["item"],Sat=["children","className","width","height","style","compact","title","desc"];function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function XX(e,t){return Eat(e)||Cat(e,t)||Ohe(e,t)||kat()}function kat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cat(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Eat(e){if(Array.isArray(e))return e}function JX(e,t){if(e==null)return{};var r=Tat(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tat(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rhe(n.key),n)}}function Oat(e,t,r){return t&&Pat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rat(e,t,r){return t=GS(t),Dat(e,Phe()?Reflect.construct(t,r||[],GS(e).constructor):t.apply(e,r))}function Dat(e,t){if(t&&(G0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iat(e)}function Iat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Phe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Phe=function(){return!!e})()}function GS(e){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GS(e)}function Mat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W3(e,t)}function W3(e,t){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W3(e,t)}function K0(e){return $at(e)||Lat(e)||Ohe(e)||Fat()}function Fat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ohe(e,t){if(e){if(typeof e=="string")return H3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H3(e,t)}}function Lat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $at(e){if(Array.isArray(e))return H3(e)}function H3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZX(Object(r),!0).forEach(function(n){ir(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ir(e,t,r){return t=Rhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rhe(e){var t=Bat(e,"string");return G0(t)=="symbol"?t:t+""}function Bat(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uat={xAxis:["bottom","top"],yAxis:["left","right"]},Vat={width:"100%",height:"100%"},Dhe={x:0,y:0};function dj(e){return e}var zat=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},qat=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return nt(nt(nt({},a),Gn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return nt(nt(nt({},a),Gn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Dhe},Hk=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(K0(l),K0(u)):l},[]);return o.length>0?o:t&&t.length&&wt(a)&&wt(i)?t.slice(a,i+1):[]};function Ihe(e){return e==="number"?[0,"auto"]:void 0}var G3=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Hk(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;m=CI(p,o.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(K0(c),[Efe(u,m)]):c},[])},QX=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=zat(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=CJe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=G3(t,r,d,f),p=qat(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},Wat=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,p=_fe(d,i);return n.reduce(function(y,g){var v,_=g.type.defaultProps!==void 0?nt(nt({},g.type.defaultProps),g.props):g.props,w=_.type,b=_.dataKey,E=_.allowDataOverflow,S=_.allowDuplicatedCategory,C=_.scale,k=_.ticks,R=_.includeHidden,P=_[o];if(y[P])return y;var O=Hk(t.data,{graphicalItems:a.filter(function(L){var J,V=o in L.props?L.props[o]:(J=L.type.defaultProps)===null||J===void 0?void 0:J[o];return V===P}),dataStartIndex:c,dataEndIndex:u}),A=O.length,D,F,B;xat(_.domain,E,w)&&(D=o3(_.domain,null,E),p&&(w==="number"||C!=="auto")&&(B=Ay(O,b,"category")));var z=Ihe(w);if(!D||D.length===0){var q,G=(q=_.domain)!==null&&q!==void 0?q:z;if(b){if(D=Ay(O,b,w),w==="category"&&p){var Y=wze(D);S&&Y?(F=D,D=IS(0,A)):S||(D=tY(G,D,g).reduce(function(L,J){return L.indexOf(J)>=0?L:[].concat(K0(L),[J])},[]))}else if(w==="category")S?D=D.filter(function(L){return L!==""&&!Hr(L)}):D=tY(G,D,g).reduce(function(L,J){return L.indexOf(J)>=0||J===""||Hr(J)?L:[].concat(K0(L),[J])},[]);else if(w==="number"){var M=OJe(O,a.filter(function(L){var J,V,X=o in L.props?L.props[o]:(J=L.type.defaultProps)===null||J===void 0?void 0:J[o],ne="hide"in L.props?L.props.hide:(V=L.type.defaultProps)===null||V===void 0?void 0:V.hide;return X===P&&(R||!ne)}),b,i,d);M&&(D=M)}p&&(w==="number"||C!=="auto")&&(B=Ay(O,b,"category"))}else p?D=IS(0,A):l&&l[P]&&l[P].hasStack&&w==="number"?D=m==="expand"?[0,1]:Cfe(l[P].stackGroups,c,u):D=wfe(O,a.filter(function(L){var J=o in L.props?L.props[o]:L.type.defaultProps[o],V="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return J===P&&(R||!V)}),w,d,!0);if(w==="number")D=q3(f,D,P,i,k),G&&(D=o3(G,D,E));else if(w==="category"&&G){var H=G,Z=D.every(function(L){return H.indexOf(L)>=0});Z&&(D=H)}}return nt(nt({},y),{},ir({},P,nt(nt({},_),{},{axisType:i,domain:D,categoricalDomain:B,duplicateDomain:F,originalDomain:(v=_.domain)!==null&&v!==void 0?v:z,isCategorical:p,layout:d})))},{})},Hat=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=Hk(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=_fe(d,i),g=-1;return n.reduce(function(v,_){var w=_.type.defaultProps!==void 0?nt(nt({},_.type.defaultProps),_.props):_.props,b=w[o],E=Ihe("number");if(!v[b]){g++;var S;return y?S=IS(0,p):l&&l[b]&&l[b].hasStack?(S=Cfe(l[b].stackGroups,c,u),S=q3(f,S,b,i)):(S=o3(E,wfe(m,n.filter(function(C){var k,R,P=o in C.props?C.props[o]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in C.props?C.props.hide:(R=C.type.defaultProps)===null||R===void 0?void 0:R.hide;return P===b&&!O}),"number",d),a.defaultProps.allowDataOverflow),S=q3(f,S,b,i)),nt(nt({},v),{},ir({},b,nt(nt({axisType:i},a.defaultProps),{},{hide:!0,orientation:qo(Uat,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:E,isCategorical:y,layout:d})))}return v},{})},Gat=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),m=Ol(d,i),p={};return m&&m.length?p=Wat(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Hat(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Kat=function(t){var r=Gd(t),n=Fu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:o6(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jS(r,n)}},eJ=function(t){var r=t.children,n=t.defaultShowTooltip,a=Eo(r,$0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Yat=function(t){return!t||!t.length?!1:t.some(function(r){var n=Vu(r&&r.type);return n&&n.indexOf("Bar")>=0})},tJ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xat=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=Eo(f,$0),y=Eo(f,gf),g=Object.keys(c).reduce(function(S,C){var k=c[C],R=k.orientation;return!k.mirror&&!k.hide?nt(nt({},S),{},ir({},R,S[R]+k.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,C){var k=o[C],R=k.orientation;return!k.mirror&&!k.hide?nt(nt({},S),{},ir({},R,qo(S,"".concat(R))+k.height)):S},{top:m.top||0,bottom:m.bottom||0}),_=nt(nt({},v),g),w=_.bottom;p&&(_.bottom+=p.props.height||$0.defaultProps.height),y&&r&&(_=AJe(_,a,n,r));var b=u-_.left-_.right,E=d-_.top-_.bottom;return nt(nt({brushBottom:w},_),{},{width:Math.max(b,0),height:Math.max(E,0)})},Jat=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Mhe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(_,w){var b=w.graphicalItems,E=w.stackGroups,S=w.offset,C=w.updateId,k=w.dataStartIndex,R=w.dataEndIndex,P=_.barSize,O=_.layout,A=_.barGap,D=_.barCategoryGap,F=_.maxBarSize,B=tJ(O),z=B.numericAxisName,q=B.cateAxisName,G=Yat(b),Y=[];return b.forEach(function(M,H){var Z=Hk(_.data,{graphicalItems:[M],dataStartIndex:k,dataEndIndex:R}),L=M.type.defaultProps!==void 0?nt(nt({},M.type.defaultProps),M.props):M.props,J=L.dataKey,V=L.maxBarSize,X=L["".concat(z,"Id")],ne=L["".concat(q,"Id")],se={},ue=c.reduce(function(we,Oe){var He=w["".concat(Oe.axisType,"Map")],Ge=L["".concat(Oe.axisType,"Id")];He&&He[Ge]||Oe.axisType==="zAxis"||Vm();var Ne=He[Ge];return nt(nt({},we),{},ir(ir({},Oe.axisType,Ne),"".concat(Oe.axisType,"Ticks"),Fu(Ne)))},se),W=ue[q],ae=ue["".concat(q,"Ticks")],oe=E&&E[X]&&E[X].hasStack&&UJe(M,E[X].stackGroups),K=Vu(M.type).indexOf("Bar")>=0,be=jS(W,ae),pe=[],Ee=G&&EJe({barSize:P,stackGroups:E,totalSize:Jat(ue,q)});if(K){var Ae,fe,Je=Hr(V)?F:V,Ye=(Ae=(fe=jS(W,ae,!0))!==null&&fe!==void 0?fe:Je)!==null&&Ae!==void 0?Ae:0;pe=TJe({barGap:A,barCategoryGap:D,bandSize:Ye!==be?Ye:be,sizeList:Ee[ne],maxBarSize:Je}),Ye!==be&&(pe=pe.map(function(we){return nt(nt({},we),{},{position:nt(nt({},we.position),{},{offset:we.position.offset-Ye/2})})}))}var ce=M&&M.type&&M.type.getComposedData;ce&&Y.push({props:nt(nt({},ce(nt(nt({},ue),{},{displayedData:Z,props:_,dataKey:J,item:M,bandSize:be,barPosition:pe,offset:S,stackedData:oe,layout:O,dataStartIndex:k,dataEndIndex:R}))),{},ir(ir(ir({key:M.key||"item-".concat(H)},z,ue[z]),q,ue[q]),"animationId",C)),childIndex:Rze(M,_.children),item:M})}),Y},p=function(_,w){var b=_.props,E=_.dataStartIndex,S=_.dataEndIndex,C=_.updateId;if(!gW({props:b}))return null;var k=b.children,R=b.layout,P=b.stackOffset,O=b.data,A=b.reverseStackOrder,D=tJ(R),F=D.numericAxisName,B=D.cateAxisName,z=Ol(k,n),q=$Je(O,z,"".concat(F,"Id"),"".concat(B,"Id"),P,A),G=c.reduce(function(L,J){var V="".concat(J.axisType,"Map");return nt(nt({},L),{},ir({},V,Gat(b,nt(nt({},J),{},{graphicalItems:z,stackGroups:J.axisType===F&&q,dataStartIndex:E,dataEndIndex:S}))))},{}),Y=Xat(nt(nt({},G),{},{props:b,graphicalItems:z}),w?.legendBBox);Object.keys(G).forEach(function(L){G[L]=d(b,G[L],Y,L.replace("Map",""),r)});var M=G["".concat(B,"Map")],H=Kat(M),Z=m(b,nt(nt({},G),{},{dataStartIndex:E,dataEndIndex:S,updateId:C,graphicalItems:z,stackGroups:q,offset:Y}));return nt(nt({formattedGraphicalItems:Z,graphicalItems:z,offset:Y,stackGroups:q},H),G)},y=(function(v){function _(w){var b,E,S;return Aat(this,_),S=Rat(this,_,[w]),ir(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ir(S,"accessibilityManager",new gat),ir(S,"handleLegendBBoxUpdate",function(C){if(C){var k=S.state,R=k.dataStartIndex,P=k.dataEndIndex,O=k.updateId;S.setState(nt({legendBBox:C},p({props:S.props,dataStartIndex:R,dataEndIndex:P,updateId:O},nt(nt({},S.state),{},{legendBBox:C}))))}}),ir(S,"handleReceiveSyncEvent",function(C,k,R){if(S.props.syncId===C){if(R===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),ir(S,"handleBrushChange",function(C){var k=C.startIndex,R=C.endIndex;if(k!==S.state.dataStartIndex||R!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return nt({dataStartIndex:k,dataEndIndex:R},p({props:S.props,dataStartIndex:k,dataEndIndex:R,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:R})}}),ir(S,"handleMouseEnter",function(C){var k=S.getMouseInfo(C);if(k){var R=nt(nt({},k),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var P=S.props.onMouseEnter;wr(P)&&P(R,C)}}),ir(S,"triggeredAfterMouseMove",function(C){var k=S.getMouseInfo(C),R=k?nt(nt({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(R),S.triggerSyncEvent(R);var P=S.props.onMouseMove;wr(P)&&P(R,C)}),ir(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ir(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ir(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),ir(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var R=S.props.onMouseLeave;wr(R)&&R(k,C)}),ir(S,"handleOuterEvent",function(C){var k=Oze(C),R=qo(S.props,"".concat(k));if(k&&wr(R)){var P,O;/.*touch.*/i.test(k)?O=S.getMouseInfo(C.changedTouches[0]):O=S.getMouseInfo(C),R((P=O)!==null&&P!==void 0?P:{},C)}}),ir(S,"handleClick",function(C){var k=S.getMouseInfo(C);if(k){var R=nt(nt({},k),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var P=S.props.onClick;wr(P)&&P(R,C)}}),ir(S,"handleMouseDown",function(C){var k=S.props.onMouseDown;if(wr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"handleMouseUp",function(C){var k=S.props.onMouseUp;if(wr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ir(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),ir(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),ir(S,"handleDoubleClick",function(C){var k=S.props.onDoubleClick;if(wr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"handleContextMenu",function(C){var k=S.props.onContextMenu;if(wr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&cR.emit(uR,S.props.syncId,C,S.eventEmitterSymbol)}),ir(S,"applySyncEvent",function(C){var k=S.props,R=k.layout,P=k.syncMethod,O=S.state.updateId,A=C.dataStartIndex,D=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(nt({dataStartIndex:A,dataEndIndex:D},p({props:S.props,dataStartIndex:A,dataEndIndex:D,updateId:O},S.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,B=C.chartY,z=C.activeTooltipIndex,q=S.state,G=q.offset,Y=q.tooltipTicks;if(!G)return;if(typeof P=="function")z=P(Y,C);else if(P==="value"){z=-1;for(var M=0;M<Y.length;M++)if(Y[M].value===C.activeLabel){z=M;break}}var H=nt(nt({},G),{},{x:G.left,y:G.top}),Z=Math.min(F,H.x+H.width),L=Math.min(B,H.y+H.height),J=Y[z]&&Y[z].value,V=G3(S.state,S.props.data,z),X=Y[z]?{x:R==="horizontal"?Y[z].coordinate:Z,y:R==="horizontal"?L:Y[z].coordinate}:Dhe;S.setState(nt(nt({},C),{},{activeLabel:J,activeCoordinate:X,activePayload:V,activeTooltipIndex:z}))}else S.setState(C)}),ir(S,"renderCursor",function(C){var k,R=S.state,P=R.isTooltipActive,O=R.activeCoordinate,A=R.activePayload,D=R.offset,F=R.activeTooltipIndex,B=R.tooltipAxisBandSize,z=S.getTooltipEventType(),q=(k=C.props.active)!==null&&k!==void 0?k:P,G=S.props.layout,Y=C.key||"_recharts-cursor";return le.createElement(jat,{key:Y,activeCoordinate:O,activePayload:A,activeTooltipIndex:F,chartName:r,element:C,isActive:q,layout:G,offset:D,tooltipAxisBandSize:B,tooltipEventType:z})}),ir(S,"renderPolarAxis",function(C,k,R){var P=qo(C,"type.axisType"),O=qo(S.state,"".concat(P,"Map")),A=C.type.defaultProps,D=A!==void 0?nt(nt({},A),C.props):C.props,F=O&&O[D["".concat(P,"Id")]];return j.cloneElement(C,nt(nt({},F),{},{className:Mr(P,F.className),key:C.key||"".concat(k,"-").concat(R),ticks:Fu(F,!0)}))}),ir(S,"renderPolarGrid",function(C){var k=C.props,R=k.radialLines,P=k.polarAngles,O=k.polarRadius,A=S.state,D=A.radiusAxisMap,F=A.angleAxisMap,B=Gd(D),z=Gd(F),q=z.cx,G=z.cy,Y=z.innerRadius,M=z.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(P)?P:Fu(z,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(O)?O:Fu(B,!0).map(function(H){return H.coordinate}),cx:q,cy:G,innerRadius:Y,outerRadius:M,key:C.key||"polar-grid",radialLines:R})}),ir(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,k=S.props,R=k.children,P=k.width,O=k.height,A=S.props.margin||{},D=P-(A.left||0)-(A.right||0),F=yfe({children:R,formattedGraphicalItems:C,legendWidth:D,legendContent:u});if(!F)return null;var B=F.item,z=JX(F,Nat);return j.cloneElement(B,nt(nt({},z),{},{chartWidth:P,chartHeight:O,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ir(S,"renderTooltip",function(){var C,k=S.props,R=k.children,P=k.accessibilityLayer,O=Eo(R,xl);if(!O)return null;var A=S.state,D=A.isTooltipActive,F=A.activeCoordinate,B=A.activePayload,z=A.activeLabel,q=A.offset,G=(C=O.props.active)!==null&&C!==void 0?C:D;return j.cloneElement(O,{viewBox:nt(nt({},q),{},{x:q.left,y:q.top}),active:G,label:z,payload:G?B:[],coordinate:F,accessibilityLayer:P})}),ir(S,"renderBrush",function(C){var k=S.props,R=k.margin,P=k.data,O=S.state,A=O.offset,D=O.dataStartIndex,F=O.dataEndIndex,B=O.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:ij(S.handleBrushChange,C.props.onChange),data:P,x:wt(C.props.x)?C.props.x:A.left,y:wt(C.props.y)?C.props.y:A.top+A.height+A.brushBottom-(R.bottom||0),width:wt(C.props.width)?C.props.width:A.width,startIndex:D,endIndex:F,updateId:"brush-".concat(B)})}),ir(S,"renderReferenceElement",function(C,k,R){if(!C)return null;var P=S,O=P.clipPathId,A=S.state,D=A.xAxisMap,F=A.yAxisMap,B=A.offset,z=C.type.defaultProps||{},q=C.props,G=q.xAxisId,Y=G===void 0?z.xAxisId:G,M=q.yAxisId,H=M===void 0?z.yAxisId:M;return j.cloneElement(C,{key:C.key||"".concat(k,"-").concat(R),xAxis:D[Y],yAxis:F[H],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:O})}),ir(S,"renderActivePoints",function(C){var k=C.item,R=C.activePoint,P=C.basePoint,O=C.childIndex,A=C.isRange,D=[],F=k.props.key,B=k.item.type.defaultProps!==void 0?nt(nt({},k.item.type.defaultProps),k.item.props):k.item.props,z=B.activeDot,q=B.dataKey,G=nt(nt({index:O,dataKey:q,cx:R.x,cy:R.y,r:4,fill:R6(k.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},pr(z,!1)),QN(z));return D.push(_.renderActiveDot(z,G,"".concat(F,"-activePoint-").concat(O))),P?D.push(_.renderActiveDot(z,nt(nt({},G),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(O))):A&&D.push(null),D}),ir(S,"renderGraphicChild",function(C,k,R){var P=S.filterFormatItem(C,k,R);if(!P)return null;var O=S.getTooltipEventType(),A=S.state,D=A.isTooltipActive,F=A.tooltipAxis,B=A.activeTooltipIndex,z=A.activeLabel,q=S.props.children,G=Eo(q,xl),Y=P.props,M=Y.points,H=Y.isRange,Z=Y.baseLine,L=P.item.type.defaultProps!==void 0?nt(nt({},P.item.type.defaultProps),P.item.props):P.item.props,J=L.activeDot,V=L.hide,X=L.activeBar,ne=L.activeShape,se=!!(!V&&D&&G&&(J||X||ne)),ue={};O!=="axis"&&G&&G.props.trigger==="click"?ue={onClick:ij(S.handleItemMouseEnter,C.props.onClick)}:O!=="axis"&&(ue={onMouseLeave:ij(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:ij(S.handleItemMouseEnter,C.props.onMouseEnter)});var W=j.cloneElement(C,nt(nt({},P.props),ue));function ae(Oe){return typeof F.dataKey=="function"?F.dataKey(Oe.payload):null}if(se)if(B>=0){var oe,K;if(F.dataKey&&!F.allowDuplicatedCategory){var be=typeof F.dataKey=="function"?ae:"payload.".concat(F.dataKey.toString());oe=CI(M,be,z),K=H&&Z&&CI(Z,be,z)}else oe=M?.[B],K=H&&Z&&Z[B];if(ne||X){var pe=C.props.activeIndex!==void 0?C.props.activeIndex:B;return[j.cloneElement(C,nt(nt(nt({},P.props),ue),{},{activeIndex:pe})),null,null]}if(!Hr(oe))return[W].concat(K0(S.renderActivePoints({item:P,activePoint:oe,basePoint:K,childIndex:B,isRange:H})))}else{var Ee,Ae=(Ee=S.getItemByXY(S.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:W},fe=Ae.graphicalItem,Je=fe.item,Ye=Je===void 0?C:Je,ce=fe.childIndex,we=nt(nt(nt({},P.props),ue),{},{activeIndex:ce});return[j.cloneElement(Ye,we),null,null]}return H?[W,null,null]:[W,null]}),ir(S,"renderCustomized",function(C,k,R){return j.cloneElement(C,nt(nt({key:"recharts-customized-".concat(R)},S.props),S.state))}),ir(S,"renderMap",{CartesianGrid:{handler:dj,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:dj},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:dj},YAxis:{handler:dj},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Zw("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=vde(S.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return Mat(_,v),Oat(_,[{key:"componentDidMount",value:function(){var b,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,E=b.children,S=b.data,C=b.height,k=b.layout,R=Eo(E,xl);if(R){var P=R.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=G3(this.state,S,P,O),D=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+C)/2,B=k==="horizontal",z=B?{x:D,y:F}:{y:D,x:F},q=this.state.formattedGraphicalItems.find(function(Y){var M=Y.item;return M.type.name==="Scatter"});q&&(z=nt(nt({},z),q.props.points[P].tooltipPosition),A=q.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:A,activeCoordinate:z};this.setState(G),this.renderCursor(R),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){TI([Eo(b.children,xl)],[Eo(this.props.children,xl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Eo(this.props.children,xl);if(b&&typeof b.props.shared=="boolean"){var E=b.props.shared?"axis":"item";return l.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),C=yGe(S),k={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},R=S.width/E.offsetWidth||1,P=this.inRange(k.chartX,k.chartY,R);if(!P)return null;var O=this.state,A=O.xAxisMap,D=O.yAxisMap,F=this.getTooltipEventType(),B=QX(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&A&&D){var z=Gd(A).scale,q=Gd(D).scale,G=z&&z.invert?z.invert(k.chartX):null,Y=q&&q.invert?q.invert(k.chartY):null;return nt(nt({},k),{},{xValue:G,yValue:Y},B)}return B?nt(nt({},k),B):null}},{key:"inRange",value:function(b,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=b/S,R=E/S;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,O=k>=P.left&&k<=P.left+P.width&&R>=P.top&&R<=P.top+P.height;return O?{x:k,y:R}:null}var A=this.state,D=A.angleAxisMap,F=A.radiusAxisMap;if(D&&F){var B=Gd(D);return sY({x:k,y:R},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,E=this.getTooltipEventType(),S=Eo(b,xl),C={};S&&E==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=QN(this.props,this.handleOuterEvent);return nt(nt({},k),C)}},{key:"addListener",value:function(){cR.on(uR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cR.removeListener(uR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,E,S){for(var C=this.state.formattedGraphicalItems,k=0,R=C.length;k<R;k++){var P=C[k];if(P.item===b||P.props.key===b.key||E===Vu(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,E=this.state.offset,S=E.left,C=E.top,k=E.height,R=E.width;return le.createElement("defs",null,le.createElement("clipPath",{id:b},le.createElement("rect",{x:S,y:C,height:k,width:R})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(E,S){var C=XX(S,2),k=C[0],R=C[1];return nt(nt({},E),{},ir({},k,R.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(E,S){var C=XX(S,2),k=C[0],R=C[1];return nt(nt({},E),{},ir({},k,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[b])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(b){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[b])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(b){var E=this.state,S=E.formattedGraphicalItems,C=E.activeItem;if(S&&S.length)for(var k=0,R=S.length;k<R;k++){var P=S[k],O=P.props,A=P.item,D=A.type.defaultProps!==void 0?nt(nt({},A.type.defaultProps),A.props):A.props,F=Vu(A.type);if(F==="Bar"){var B=(O.data||[]).find(function(Y){return Let(b,Y)});if(B)return{graphicalItem:P,payload:B}}else if(F==="RadialBar"){var z=(O.data||[]).find(function(Y){return sY(b,Y)});if(z)return{graphicalItem:P,payload:z}}else if($k(P,C)||Bk(P,C)||rw(P,C)){var q=ort({graphicalItem:P,activeTooltipItem:C,itemData:D.data}),G=D.activeIndex===void 0?q:D.activeIndex;return{graphicalItem:nt(nt({},P),{},{childIndex:G}),payload:rw(P,C)?D.data[q]:P.props.data[q]}}}return null}},{key:"render",value:function(){var b=this;if(!gW(this))return null;var E=this.props,S=E.children,C=E.className,k=E.width,R=E.height,P=E.style,O=E.compact,A=E.title,D=E.desc,F=JX(E,Sat),B=pr(F,!1);if(O)return le.createElement(DX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(PI,Tg({},B,{width:k,height:R,title:A,desc:D}),this.renderClipPath(),vW(S,this.renderMap)));if(this.props.accessibilityLayer){var z,q;B.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,B.role=(q=this.props.role)!==null&&q!==void 0?q:"application",B.onKeyDown=function(Y){b.accessibilityManager.keyboardEvent(Y)},B.onFocus=function(){b.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return le.createElement(DX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",Tg({className:Mr("recharts-wrapper",C),style:nt({position:"relative",cursor:"default",width:k,height:R},P)},G,{ref:function(M){b.container=M}}),le.createElement(PI,Tg({},B,{width:k,height:R,title:A,desc:D,style:Vat}),this.renderClipPath(),vW(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);ir(y,"displayName",r),ir(y,"defaultProps",nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ir(y,"getDerivedStateFromProps",function(v,_){var w=v.dataKey,b=v.data,E=v.children,S=v.width,C=v.height,k=v.layout,R=v.stackOffset,P=v.margin,O=_.dataStartIndex,A=_.dataEndIndex;if(_.updateId===void 0){var D=eJ(v);return nt(nt(nt({},D),{},{updateId:0},p(nt(nt({props:v},D),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:R,prevMargin:P,prevChildren:E})}if(w!==_.prevDataKey||b!==_.prevData||S!==_.prevWidth||C!==_.prevHeight||k!==_.prevLayout||R!==_.prevStackOffset||!Jg(P,_.prevMargin)){var F=eJ(v),B={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},z=nt(nt({},QX(_,b,k)),{},{updateId:_.updateId+1}),q=nt(nt(nt({},F),B),z);return nt(nt(nt({},q),p(nt({props:v},q),_)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:R,prevMargin:P,prevChildren:E})}if(!TI(E,_.prevChildren)){var G,Y,M,H,Z=Eo(E,$0),L=Z&&(G=(Y=Z.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&G!==void 0?G:O,J=Z&&(M=(H=Z.props)===null||H===void 0?void 0:H.endIndex)!==null&&M!==void 0?M:A,V=L!==O||J!==A,X=!Hr(b),ne=X&&!V?_.updateId:_.updateId+1;return nt(nt({updateId:ne},p(nt(nt({props:v},_),{},{updateId:ne,dataStartIndex:L,dataEndIndex:J}),_)),{},{prevChildren:E,dataStartIndex:L,dataEndIndex:J})}return null}),ir(y,"renderActiveDot",function(v,_,w){var b;return j.isValidElement(v)?b=j.cloneElement(v,_):wr(v)?b=v(_):b=le.createElement(I6,_),le.createElement(Nn,{className:"recharts-active-dot",key:w},b)});var g=j.forwardRef(function(_,w){return le.createElement(y,Tg({},_,{ref:w}))});return g.displayName=y.displayName,g},rJ=Mhe({chartName:"BarChart",GraphicalChild:bl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ow},{axisType:"yAxis",AxisComp:lw}],formatAxisMap:unt}),Zat=Mhe({chartName:"PieChart",GraphicalChild:md,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Lk},{axisType:"radiusAxis",AxisComp:Mk}],formatAxisMap:JJe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Qat=()=>{const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState(null),[i,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState([]),[p,y]=j.useState({start:"",end:""}),[g,v]=j.useState({applications:!0,approvals:!0,referrals:!0,commissions:!0,payments:!0,networkStats:!0}),[_,w]=j.useState("month");j.useEffect(()=>{b()},[]);const b=async()=>{if(!(sessionStorage.getItem("isSuperAdmin")==="true")){ot.error("Access denied. Super Admin only."),e("/superadmin/login");return}await E()},E=async()=>{r(!0);try{await Promise.all([S(),C(),k(),R(),P()])}catch(F){console.error("Error loading analytics data:",F),ot.error("Failed to load analytics data")}finally{r(!1)}},S=async()=>{const{data:F}=await Q.from("helper_applications").select("id, application_status"),B=F?.length||0,z=F?.filter(ce=>ce.application_status==="Pending").length||0,q=F?.filter(ce=>ce.application_status==="Rejected").length||0,{data:G}=await Q.from("helpers").select("id, status"),Y=G?.length||0,M=G?.filter(ce=>ce.status==="Active").length||0,H=G?.filter(ce=>ce.status==="Suspended").length||0,{data:Z}=await Q.from("store_referrals").select("id, trial_status, subscription_purchased"),L=Z?.length||0,J=Z?.filter(ce=>ce.trial_status==="Active").length||0,V=Z?.filter(ce=>ce.subscription_purchased===!0).length||0,X=L>0?V/L*100:0,{data:ne}=await Q.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status, created_at"),se=ne?.reduce((ce,we)=>ce+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,ue=ne?.reduce((ce,we)=>ce+(we.direct_commission_amount||0),0)||0,W=ne?.reduce((ce,we)=>ce+(we.network_commission_amount||0),0)||0,ae=ne?.filter(ce=>ce.commission_status==="Earned-Pending").reduce((ce,we)=>ce+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,oe=nq(new Date),K=ne?.filter(ce=>ce.commission_status==="Paid"&&new Date(ce.created_at)>=oe).reduce((ce,we)=>ce+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,{data:be}=await Q.from("helpers").select("id, recruited_by_helper_id"),pe=be?.filter(ce=>ce.recruited_by_helper_id)||[],Ee=new Set(pe.map(ce=>ce.recruited_by_helper_id)).size,Ae=new Map;pe.forEach(ce=>{const we=Ae.get(ce.recruited_by_helper_id)||0;Ae.set(ce.recruited_by_helper_id,we+1)});const fe=Ae.size>0?Math.max(...Array.from(Ae.values())):0,Je=Ee>0?pe.length/Ee:0,Ye=ne?.filter(ce=>ce.commission_status==="Paid").reduce((ce,we)=>ce+(we.network_commission_amount||0),0)||0;a({helperProgram:{totalApplications:B,pendingApplications:z,approvedHelpers:Y,rejectedApplications:q,activeHelpers:M,suspendedHelpers:H},referralPerformance:{totalReferrals:L,onTrial:J,convertedToPaid:V,conversionRate:X},commissionOverview:{totalEarned:se,directCommissions:ue,networkCommissions:W,pendingPayment:ae,paidThisMonth:K},networkGrowth:{totalNetworks:Ee,largestNetwork:fe,averageNetworkSize:Je,networkCommissionsPaid:Ye}})},C=async()=>{const F=[];for(let B=11;B>=0;B--){const z=mVe(new Date,B),q=nq(z),G=Qce(z),{data:Y}=await Q.from("helper_applications").select("id, application_status, created_at").gte("created_at",q.toISOString()).lte("created_at",G.toISOString()),M=Y?.length||0,H=Y?.filter(X=>X.application_status==="Approved").length||0,Z=Y?.filter(X=>X.application_status==="Rejected").length||0,{data:L}=await Q.from("network_commissions").select("direct_commission_amount, network_commission_amount").gte("date_earned",q.toISOString()).lte("date_earned",G.toISOString()),J=L?.reduce((X,ne)=>X+(ne.direct_commission_amount||0),0)||0,V=L?.reduce((X,ne)=>X+(ne.network_commission_amount||0),0)||0;F.push({month:br(z,"MMM yyyy"),applications:M,approved:H,rejected:Z,directCommissions:J,networkCommissions:V,total:J+V})}o(F)},k=async()=>{const{data:F}=await Q.from("helpers").select("id, full_name, created_at");if(!F)return;const z=(await Promise.all(F.map(async q=>{const{data:G}=await Q.from("store_referrals").select("id").eq("helper_id",q.id),{data:Y}=await Q.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",q.id),M=Y?.reduce((L,J)=>L+(J.direct_commission_amount||0),0)||0,H=Y?.reduce((L,J)=>L+(J.network_commission_amount||0),0)||0,{data:Z}=await Q.from("helpers").select("id").eq("recruited_by_helper_id",q.id);return{id:q.id,name:q.full_name,directCommissions:M,referralCount:G?.length||0,networkSize:Z?.length||0,totalEarnings:M+H,joinedDate:q.created_at}}))).sort((q,G)=>G.totalEarnings-q.totalEarnings).slice(0,20);c(z)},R=async()=>{const{data:F}=await Q.from("helpers").select("id");if(!F)return;const B=await Promise.all(F.map(async Z=>{const{data:L}=await Q.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",Z.id);return L?.reduce((J,V)=>J+(V.direct_commission_amount||0)+(V.network_commission_amount||0),0)||0}));B.sort((Z,L)=>L-Z);const z=B.length,q=Math.ceil(z*.1),G=Math.ceil(z*.4),Y=B.slice(0,q),M=B.slice(q,q+G),H=B.slice(q+G);d([{name:"Top 10%",value:Y.length,earnings:Y.reduce((Z,L)=>Z+L,0)},{name:"Middle 40%",value:M.length,earnings:M.reduce((Z,L)=>Z+L,0)},{name:"Bottom 50%",value:H.length,earnings:H.reduce((Z,L)=>Z+L,0)}])},P=async()=>{const{data:F}=await Q.from("helper_applications").select("id, status"),{data:B}=await Q.from("helpers").select("id"),z=await Promise.all((B||[]).map(async q=>{const{data:G}=await Q.from("store_referrals").select("id, subscription_purchased").eq("helper_id",q.id),Y=G?.some(H=>H.subscription_purchased===!0),{data:M}=await Q.from("helpers").select("id").eq("recruited_by_helper_id",q.id);return{hasReferrals:(G?.length||0)>0,hasPaidReferrals:Y,hasRecruited:(M?.length||0)>0}}));m([{stage:"Applications Submitted",count:F?.length||0,percentage:100},{stage:"Applications Approved",count:B?.length||0,percentage:F?.length?(B?.length||0)/F.length*100:0},{stage:"Helpers with Referrals",count:z.filter(q=>q.hasReferrals).length,percentage:B?.length?z.filter(q=>q.hasReferrals).length/B.length*100:0},{stage:"Helpers with Paid Referrals",count:z.filter(q=>q.hasPaidReferrals).length,percentage:B?.length?z.filter(q=>q.hasPaidReferrals).length/B.length*100:0},{stage:"Helpers who Recruited",count:z.filter(q=>q.hasRecruited).length,percentage:B?.length?z.filter(q=>q.hasRecruited).length/B.length*100:0}])},O=()=>{try{const F=l.map((G,Y)=>({Rank:Y+1,"Helper Name":G.name,"Helper ID":G.id,"Direct Commissions":`${G.directCommissions.toLocaleString()}`,"Referral Count":G.referralCount,"Network Size":G.networkSize,"Total Earnings":`${G.totalEarnings.toLocaleString()}`,"Joined Date":br(new Date(G.joinedDate),"PPP")})),B=na.json_to_sheet(F),z=na.book_new();na.book_append_sheet(z,B,"Top Performers");const q=`top_helpers_${br(new Date,"yyyy-MM-dd")}.xlsx`;Mm(z,q),ot.success("Report exported successfully!")}catch{ot.error("Failed to export report")}},A=()=>{if(!p.start||!p.end){ot.error("Please select date range");return}ot.success("Custom report generated!")},D=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q0,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reports & Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive insights into helper program performance"})]})]}),s.jsx(jt,{variant:"default",className:"text-sm px-3 py-1",children:"Super Admin"})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(Bi,{className:"h-5 w-5 text-blue-500"}),"Helper Program Stats"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total applications:"}),s.jsx("span",{className:"font-semibold",children:n?.helperProgram.totalApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:n?.helperProgram.pendingApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.approvedHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rejected:"}),s.jsx("span",{className:"font-semibold text-red-600",children:n?.helperProgram.rejectedApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.activeHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Suspended:"}),s.jsx("span",{className:"font-semibold text-orange-600",children:n?.helperProgram.suspendedHelpers})]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(jR,{className:"h-5 w-5 text-green-500"}),"Referral Performance"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total referrals:"}),s.jsx("span",{className:"font-semibold",children:n?.referralPerformance.totalReferrals})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Currently on trial:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:n?.referralPerformance.onTrial})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Converted to paid:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.referralPerformance.convertedToPaid})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversion rate:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[n?.referralPerformance.conversionRate.toFixed(1),"%"]})]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(Ya,{className:"h-5 w-5 text-green-500"}),"Commission Overview"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total earned:"}),s.jsxs("span",{className:"font-bold",children:["",n?.commissionOverview.totalEarned.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Direct:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Network:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending payment:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid this month:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(bR,{className:"h-5 w-5 text-purple-500"}),"Network Growth"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest network:"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[n?.networkGrowth.largestNetwork," helpers"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Network commissions:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Performance Charts"}),s.jsx(Ir,{children:"Visual representation of key metrics over time"})]}),s.jsx(Te,{children:s.jsxs(Qu,{defaultValue:"applications",children:[s.jsxs(ru,{className:"grid w-full grid-cols-4",children:[s.jsx(fn,{value:"applications",children:"Applications"}),s.jsx(fn,{value:"commissions",children:"Commissions"}),s.jsx(fn,{value:"distribution",children:"Distribution"}),s.jsx(fn,{value:"funnel",children:"Funnel"})]}),s.jsx(hn,{value:"applications",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications Over Time"}),s.jsx(gO,{width:"100%",height:400,children:s.jsxs(rJ,{data:i,children:[s.jsx(L3,{strokeDasharray:"3 3"}),s.jsx(ow,{dataKey:"month"}),s.jsx(lw,{}),s.jsx(xl,{}),s.jsx(gf,{}),s.jsx(bl,{dataKey:"applications",fill:"#8884d8",name:"Total Applications"}),s.jsx(bl,{dataKey:"approved",fill:"#82ca9d",name:"Approved"}),s.jsx(bl,{dataKey:"rejected",fill:"#ff8042",name:"Rejected"})]})})]})}),s.jsx(hn,{value:"commissions",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Commission Payouts"}),s.jsx(gO,{width:"100%",height:400,children:s.jsxs(rJ,{data:i,children:[s.jsx(L3,{strokeDasharray:"3 3"}),s.jsx(ow,{dataKey:"month"}),s.jsx(lw,{}),s.jsx(xl,{}),s.jsx(gf,{}),s.jsx(bl,{dataKey:"directCommissions",fill:"#0088FE",name:"Direct Commissions"}),s.jsx(bl,{dataKey:"networkCommissions",fill:"#00C49F",name:"Network Commissions"}),s.jsx(bl,{dataKey:"total",fill:"#FFBB28",name:"Total"})]})})]})}),s.jsx(hn,{value:"distribution",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Helper Performance Distribution"}),s.jsx(gO,{width:"100%",height:400,children:s.jsxs(Zat,{children:[s.jsx(md,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:F=>`${F.name}: ${F.value} helpers`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:u.map((F,B)=>s.jsx(wk,{fill:D[B%D.length]},`cell-${B}`))}),s.jsx(xl,{})]})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:u.map((F,B)=>s.jsx(Se,{children:s.jsxs(Te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:D[B%D.length]}}),s.jsx("span",{className:"font-semibold",children:F.name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.value," helpers"]}),s.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",F.earnings?.toLocaleString()," earned"]})]})},B))})]})}),s.jsx(hn,{value:"funnel",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conversion Funnel"}),s.jsx("div",{className:"space-y-3",children:f.map((F,B)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-semibold",children:F.stage}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[F.percentage.toFixed(1),"%"]}),s.jsx("span",{className:"font-bold",children:F.count})]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-8 relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-full flex items-center justify-center text-white text-sm font-semibold transition-all",style:{width:`${F.percentage}%`},children:F.percentage>20&&`${F.count} helpers`})})]},B))})]})})]})})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Detailed Reports"}),s.jsx(Ir,{children:"In-depth analysis and performance reports"})]}),s.jsx(Te,{children:s.jsxs(Qu,{defaultValue:"top-performers",children:[s.jsxs(ru,{className:"grid w-full grid-cols-4",children:[s.jsx(fn,{value:"top-performers",children:"Top Performers"}),s.jsx(fn,{value:"network",children:"Network Analytics"}),s.jsx(fn,{value:"payments",children:"Payment Reports"}),s.jsx(fn,{value:"applications",children:"Applications"})]}),s.jsxs(hn,{value:"top-performers",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Top 20 Performing Helpers"}),s.jsxs(ie,{onClick:O,children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{className:"w-16",children:"Rank"}),s.jsx(et,{children:"Helper Name"}),s.jsx(et,{children:"Direct Commissions"}),s.jsx(et,{children:"Referral Count"}),s.jsx(et,{children:"Network Size"}),s.jsx(et,{children:"Total Earnings"}),s.jsx(et,{children:"Joined Date"})]})}),s.jsx(ia,{children:l.map((F,B)=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs(jt,{variant:B<3?"default":"secondary",children:["#",B+1]})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:F.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:F.id})]})}),s.jsxs(Xe,{className:"font-semibold",children:["",F.directCommissions.toLocaleString()]}),s.jsx(Xe,{children:F.referralCount}),s.jsx(Xe,{children:F.networkSize}),s.jsxs(Xe,{className:"font-bold text-green-600",children:["",F.totalEarnings.toLocaleString()]}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:br(new Date(F.joinedDate),"PP")})]},F.id))})]})})]}),s.jsxs(hn,{value:"network",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Helper Network Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Network Distribution"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average Size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.largestNetwork})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Network Commissions"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Paid:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Growth Metrics"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active Recruiters:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Recruitment Rate:"}),s.jsxs("span",{className:"font-semibold",children:[n?.helperProgram.approvedHelpers&&n?.networkGrowth.totalNetworks?(n.networkGrowth.totalNetworks/n.helperProgram.approvedHelpers*100).toFixed(1):0,"%"]})]})]})})]})]})]}),s.jsxs(hn,{value:"payments",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Reports"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Commission Type Breakdown"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Direct Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.directCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Network Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.networkCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Payment Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Paid This Month"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Pending Payment"}),s.jsxs("span",{className:"font-bold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]})]})]}),s.jsxs(hn,{value:"applications",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Application Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Total Applications"})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold",children:n?.helperProgram.totalApplications})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Approval Rate"})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.approvedHelpers/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Rejection Rate"})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.rejectedApplications/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Pending Review"})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?.helperProgram.pendingApplications})})]})]})]})]})})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Custom Report Builder"}),s.jsx(Ir,{children:"Generate custom reports based on your requirements"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Start Date"}),s.jsx("input",{type:"date",value:p.start,onChange:F=>y({...p,start:F.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"End Date"}),s.jsx("input",{type:"date",value:p.end,onChange:F=>y({...p,end:F.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Select Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:"metric-applications",checked:g.applications,onCheckedChange:F=>v({...g,applications:F})}),s.jsx("label",{htmlFor:"metric-applications",className:"text-sm",children:"Applications"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:"metric-approvals",checked:g.approvals,onCheckedChange:F=>v({...g,approvals:F})}),s.jsx("label",{htmlFor:"metric-approvals",className:"text-sm",children:"Approvals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:"metric-referrals",checked:g.referrals,onCheckedChange:F=>v({...g,referrals:F})}),s.jsx("label",{htmlFor:"metric-referrals",className:"text-sm",children:"Referrals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:"metric-commissions",checked:g.commissions,onCheckedChange:F=>v({...g,commissions:F})}),s.jsx("label",{htmlFor:"metric-commissions",className:"text-sm",children:"Commissions"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:"metric-payments",checked:g.payments,onCheckedChange:F=>v({...g,payments:F})}),s.jsx("label",{htmlFor:"metric-payments",className:"text-sm",children:"Payments"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:"metric-network",checked:g.networkStats,onCheckedChange:F=>v({...g,networkStats:F})}),s.jsx("label",{htmlFor:"metric-network",className:"text-sm",children:"Network Stats"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Group By"}),s.jsxs(_r,{value:_,onValueChange:w,children:[s.jsx(vr,{children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"day",children:"By Day"}),s.jsx(Ke,{value:"week",children:"By Week"}),s.jsx(Ke,{value:"month",children:"By Month"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ie,{onClick:A,className:"flex-1",children:[s.jsx(zc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsxs(ie,{variant:"outline",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export to Excel"]}),s.jsxs(ie,{variant:"outline",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export to PDF"]}),s.jsxs(ie,{variant:"outline",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})]})]})]})]})]})},eit=Zm({name:Kr().min(1,"Name is required"),slug:Kr().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase with hyphens only"),description:Kr().optional(),monthly_price:gh.number().min(0,"Price must be 0 or greater"),yearly_price:gh.number().min(0,"Price must be 0 or greater").optional(),max_products:gh.number().optional(),enable_whatsapp_orders:Tc().default(!1),whatsapp_orders_limit:gh.number().optional(),enable_website_orders:Tc().default(!1),website_orders_limit:gh.number().optional(),trial_days:gh.number().min(0).default(14),is_active:Tc().default(!0),is_popular:Tc().default(!1),badge_text:Kr().optional(),badge_color:Kr().optional(),display_order:gh.number().default(0),enable_location_sharing:Tc().default(!1),enable_analytics:Tc().default(!1),enable_custom_domain:Tc().default(!1),enable_order_emails:Tc().default(!1),enable_ai_voice:Tc().default(!1)}),tit=({open:e,onOpenChange:t,onSubmit:r,defaultValues:n,mode:a})=>{const i=Pw({resolver:Ow(eit),defaultValues:{name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1}});j.useEffect(()=>{e&&n?i.reset(n):e&&!n&&i.reset({name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1})},[e,n,i]);const o=async l=>{await r(l),i.reset()};return s.jsx(Tn,{open:e,onOpenChange:t,children:s.jsxs(jn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsx(Pn,{children:a==="add"?"Add New Plan":"Edit Plan"}),s.jsx(Ns,{children:a==="add"?"Create a new subscription plan with custom features.":"Update the subscription plan details and features."})]}),s.jsx(Rw,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Basic Information"}),s.jsx(cr,{control:i.control,name:"name",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Plan Name"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"e.g., Free, Pro, Business",...l})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:i.control,name:"slug",render:({field:l})=>s.jsxs(or,{children:[s.jsxs(ur,{className:"flex items-center gap-2",children:["Slug",s.jsx(Dh,{children:s.jsxs(fg,{children:[s.jsx(hg,{asChild:!0,children:s.jsx(nc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ih,{children:s.jsx("p",{className:"max-w-xs",children:"Unique identifier used in URLs and code. Must be lowercase with hyphens only."})})]})})]}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"e.g., free, pro, business",...l})}),s.jsx(Ai,{children:"Lowercase letters, numbers, and hyphens only"}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:i.control,name:"description",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Description"}),s.jsx(lr,{children:s.jsx(_a,{placeholder:"Brief description of the plan",...l,value:l.value||""})}),s.jsx(Dr,{})]})})]}),s.jsx(yg,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(cr,{control:i.control,name:"monthly_price",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Monthly Price ()"}),s.jsx(lr,{children:s.jsx(ze,{type:"number",placeholder:"0",...l})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:i.control,name:"yearly_price",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Yearly Price ()"}),s.jsx(lr,{children:s.jsx(ze,{type:"number",placeholder:"0",...l,value:l.value||""})}),s.jsx(Dr,{})]})})]})]}),s.jsx(yg,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Limits & Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(cr,{control:i.control,name:"max_products",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Max Products"}),s.jsx(lr,{children:s.jsx(ze,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(Ai,{children:"Empty = Unlimited"}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:i.control,name:"trial_days",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Trial Days"}),s.jsx(lr,{children:s.jsx(ze,{type:"number",...l})}),s.jsx(Dr,{})]})})]}),s.jsx(cr,{control:i.control,name:"display_order",render:({field:l})=>s.jsxs(or,{children:[s.jsxs(ur,{className:"flex items-center gap-2",children:["Display Order",s.jsx(Dh,{children:s.jsxs(fg,{children:[s.jsx(hg,{asChild:!0,children:s.jsx(nc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ih,{children:s.jsx("p",{className:"max-w-xs",children:"Controls the order in which plans appear on the pricing page. Lower numbers (0, 1, 2...) appear first."})})]})})]}),s.jsx(lr,{children:s.jsx(ze,{type:"number",...l})}),s.jsx(Ai,{children:"Lower numbers appear first"}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:i.control,name:"enable_whatsapp_orders",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"WhatsApp Orders Limit"}),s.jsx(Ai,{children:"Set a monthly limit for WhatsApp orders"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_whatsapp_orders")&&s.jsx(cr,{control:i.control,name:"whatsapp_orders_limit",render:({field:l})=>s.jsxs(or,{children:[s.jsxs(ur,{className:"flex items-center gap-2",children:["WhatsApp Orders per Month",s.jsx(Dh,{children:s.jsxs(fg,{children:[s.jsx(hg,{asChild:!0,children:s.jsx(nc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ih,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via WhatsApp per billing period."})})]})})]}),s.jsx(lr,{children:s.jsx(ze,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(Ai,{children:"Empty = Unlimited"}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:i.control,name:"enable_website_orders",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"Website Orders Limit"}),s.jsx(Ai,{children:"Set a monthly limit for website orders"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_website_orders")&&s.jsx(cr,{control:i.control,name:"website_orders_limit",render:({field:l})=>s.jsxs(or,{children:[s.jsxs(ur,{className:"flex items-center gap-2",children:["Website Orders per Month",s.jsx(Dh,{children:s.jsxs(fg,{children:[s.jsx(hg,{asChild:!0,children:s.jsx(nc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Ih,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via website per billing period."})})]})})]}),s.jsx(lr,{children:s.jsx(ze,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(Ai,{children:"Empty = Unlimited"}),s.jsx(Dr,{})]})})]}),s.jsx(yg,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Features"}),s.jsx(cr,{control:i.control,name:"enable_location_sharing",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"Location Sharing"}),s.jsx(Ai,{children:"Allow users to share delivery locations"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(cr,{control:i.control,name:"enable_analytics",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"Analytics"}),s.jsx(Ai,{children:"Access to analytics dashboard and reports"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(cr,{control:i.control,name:"enable_custom_domain",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"Custom Domain"}),s.jsx(Ai,{children:"Allow store owners to connect their own domain"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(cr,{control:i.control,name:"enable_order_emails",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"Order Email Notifications"}),s.jsx(Ai,{children:"Send email notifications to store owners when new orders arrive"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(cr,{control:i.control,name:"enable_ai_voice",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"AI Voice Assistant"}),s.jsx(Ai,{children:"Allow store owners to add ElevenLabs AI voice embed code"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsx(yg,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Badge & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(cr,{control:i.control,name:"badge_text",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Badge Text"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"e.g., Most Popular",...l,value:l.value||""})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:i.control,name:"badge_color",render:({field:l})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Badge Color"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"e.g., blue, green",...l,value:l.value||""})}),s.jsx(Dr,{})]})})]}),s.jsx(cr,{control:i.control,name:"is_popular",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"Mark as Popular"}),s.jsx(Ai,{children:"Highlight this plan with a special border"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(cr,{control:i.control,name:"is_active",render:({field:l})=>s.jsxs(or,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ur,{className:"text-base",children:"Active"}),s.jsx(Ai,{children:"Make this plan available to users"})]}),s.jsx(lr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ie,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Saving...":a==="add"?"Create Plan":"Update Plan"})]})]})})]})})},rit=()=>{const e=xr(),{toast:t}=Ps(),[r,n]=j.useState([]),[a,i]=j.useState(!0),[o,l]=j.useState(!1),[c,u]=j.useState("add"),[d,f]=j.useState(null),[m,p]=j.useState(!1),[y,g]=j.useState(null),[v,_]=j.useState(0),[w,b]=j.useState(!1);j.useEffect(()=>{(async()=>{const{data:{user:D}}=await Q.auth.getUser();if(!D&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(D){const{data:F}=await Q.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!F||F.length===0){e("/superadmin/login");return}}E()})()},[e]);const E=async()=>{try{const{data:A,error:D}=await Q.from("subscription_plans").select("*").order("display_order");if(D)throw D;n(A||[])}catch{t({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{i(!1)}},S=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(A),C=()=>{u("add"),f(null),l(!0)},k=A=>{u("edit");const D={...A,enable_whatsapp_orders:A.whatsapp_orders_limit!==null,enable_website_orders:A.website_orders_limit!==null};f(D),l(!0)},R=async A=>{g(A),b(!0),p(!0);try{const{count:D,error:F}=await Q.from("subscriptions").select("*",{count:"exact",head:!0}).eq("plan_id",A).in("status",["active","trial"]);if(F)throw F;_(D||0)}catch(D){console.error("Error checking active subscribers:",D),_(0)}finally{b(!1)}},P=async()=>{if(y){if(v>0){t({title:"Cannot Delete Plan",description:`This plan has ${v} active subscriber${v>1?"s":""}. Please deactivate the plan instead or migrate users to another plan first.`,variant:"destructive"}),p(!1),g(null);return}try{const{error:A}=await Q.from("subscription_plans").delete().eq("id",y);if(A)throw A;n(r.filter(D=>D.id!==y)),t({title:"Success",description:"Plan deleted successfully"})}catch{t({title:"Error",description:"Failed to delete plan",variant:"destructive"}),E()}finally{p(!1),g(null),_(0)}}},O=async A=>{try{const D={...A,whatsapp_orders_limit:A.enable_whatsapp_orders?A.whatsapp_orders_limit||0:null,website_orders_limit:A.enable_website_orders?A.website_orders_limit||0:null};if(delete D.enable_whatsapp_orders,delete D.enable_website_orders,c==="add"){const{data:F,error:B}=await Q.from("subscription_plans").insert([D]).select().single();if(B)throw B;n([...r,F]),t({title:"Success",description:"Plan created successfully"})}else if(d){const{data:F,error:B}=await Q.from("subscription_plans").update(D).eq("id",d.id).select().single();if(B)throw B;n(r.map(z=>z.id===d.id?F:z)),t({title:"Success",description:"Plan updated successfully"})}l(!1)}catch{t({title:"Error",description:`Failed to ${c} plan`,variant:"destructive"}),E()}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Plans"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscription plans and pricing"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ie,{onClick:C,children:[s.jsx(Wi,{className:"mr-2 h-4 w-4"}),"Add Plan"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading plans..."}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(A=>s.jsxs(Se,{className:A.is_popular?"border-primary":"",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:A.name}),s.jsx(Ir,{className:"mt-2",children:A.description})]}),A.is_popular&&s.jsx(jt,{variant:"default",children:"Popular"})]}),A.badge_text&&s.jsx(jt,{variant:"outline",className:"w-fit",children:A.badge_text})]}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold",children:S(A.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"}),A.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[S(A.yearly_price),"/year"]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:["Max Products: ",A.max_products===0||A.max_products===null?"Unlimited":A.max_products]}),s.jsxs("p",{children:["WhatsApp Orders: ",A.whatsapp_orders_limit===0||A.whatsapp_orders_limit===null?"Unlimited":A.whatsapp_orders_limit]}),s.jsxs("p",{children:["Website Orders: ",A.website_orders_limit===0||A.website_orders_limit===null?"Unlimited":A.website_orders_limit]}),s.jsxs("p",{children:["Status: ",A.is_active?"Active":"Inactive"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[A.enable_location_sharing&&s.jsx(jt,{variant:"secondary",children:"Location"}),A.enable_analytics&&s.jsx(jt,{variant:"secondary",children:"Analytics"}),A.enable_custom_domain&&s.jsx(jt,{variant:"secondary",children:"Custom Domain"}),A.enable_ai_voice&&s.jsx(jt,{variant:"secondary",children:"AI Voice"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>k(A),children:[s.jsx(Wu,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>R(A.id),children:s.jsx(Wn,{className:"h-4 w-4"})})]})]})})]},A.id))})}),s.jsx(tit,{open:o,onOpenChange:l,onSubmit:O,mode:c,defaultValues:d||void 0}),s.jsx(g0,{open:m,onOpenChange:p,children:s.jsxs(_m,{children:[s.jsxs(jm,{children:[s.jsx(Sm,{children:w?"Checking Active Subscribers...":"Delete Subscription Plan"}),s.jsx(km,{className:"space-y-3",children:w?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{children:"Checking for active subscribers..."})]}):s.jsx(s.Fragment,{children:v>0?s.jsxs("div",{className:"rounded-lg border-2 border-destructive bg-destructive/10 p-4",children:[s.jsx("p",{className:"font-semibold text-destructive",children:" Cannot Delete This Plan"}),s.jsxs("p",{className:"mt-2 text-sm",children:["This plan currently has"," ",s.jsx("span",{className:"font-bold",children:v})," ","active subscriber",v>1?"s":"","."]}),s.jsxs("p",{className:"mt-2 text-sm",children:[s.jsx("strong",{children:"Recommended:"}),' Use the "Active" toggle to deactivate this plan instead. This will hide it from new users while keeping existing subscriptions working.']})]}):s.jsxs("div",{className:"rounded-lg border border-green-500 bg-green-50 p-4 dark:bg-green-950",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Safe to Delete"}),s.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["This plan has ",s.jsx("span",{className:"font-bold",children:"0 active subscribers"}),"."]}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this subscription plan? This action cannot be undone."})]})})})]}),s.jsxs(Nm,{children:[s.jsx(Em,{children:"Cancel"}),s.jsx(Cm,{onClick:P,disabled:w||v>0,className:v>0?"bg-gray-400 hover:bg-gray-400":"bg-destructive hover:bg-destructive/90",children:v>0?"Cannot Delete":"Delete Plan"})]})]})})]})},nit=()=>{const e=xr(),{toast:t}=Ps(),[r,n]=j.useState([]),[a,i]=j.useState(!0);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:m}}=await Q.auth.getUser();if(!m){e("/superadmin/login");return}const{data:p}=await Q.from("user_roles").select("role").eq("user_id",m.id).eq("role","super_admin");if(!p||p.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:d,error:f}=await Q.from("transactions").select("*").order("created_at",{ascending:!1});if(f)throw f;const m=[...new Set(d?.map(g=>g.user_id)||[])],{data:p}=await Q.from("profiles").select("user_id, email, full_name").in("user_id",m),y=d?.map(g=>({...g,profiles:p?.find(v=>v.user_id===g.user_id)||{email:"",full_name:""}}))||[];n(y)}catch{t({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{i(!1)}},l=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),c=d=>new Date(d).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=d=>{const f={completed:"default",pending:"secondary",failed:"destructive"};return s.jsx(jt,{variant:f[d]||"secondary",children:d})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Transactions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View all payment transactions"})]})]}),s.jsx(ei,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading transactions..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Invoice"}),s.jsx(et,{children:"User"}),s.jsx(et,{children:"Amount"}),s.jsx(et,{children:"Gateway"}),s.jsx(et,{children:"Status"}),s.jsx(et,{children:"Date"})]})}),s.jsx(ia,{children:r.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground",children:"No transactions found"})}):r.map(d=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:d.invoice_number||"N/A"}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.profiles?.email})]})}),s.jsx(Xe,{children:l(d.total_amount)}),s.jsx(Xe,{children:d.payment_gateway}),s.jsx(Xe,{children:u(d.status)}),s.jsx(Xe,{children:c(d.created_at)})]},d.id))})]})})})]})};function sit(){const e=xr(),[t,r]=j.useState(!0),[n,a]=j.useState({totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[i,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState(""),[p,y]=j.useState("all"),[g,v]=j.useState("30"),[_,w]=j.useState(!1);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){b();return}const{data:{user:D}}=await Q.auth.getUser();if(!D){Me({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:F}=await Q.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!F||F.length===0){Me({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}b()})()},[e]);const b=async()=>{try{r(!0);const{data:O,error:A}=await Q.from("subscriptions").select(`
          id,
          user_id,
          plan_id,
          status,
          billing_cycle,
          created_at,
          current_period_end,
          trial_ends_at,
          subscription_plans (
            name,
            monthly_price,
            yearly_price
          )
        `).order("created_at",{ascending:!1});if(A)throw A;const D=[...new Set(O?.map(oe=>oe.user_id)||[])],{data:F}=await Q.from("profiles").select("user_id, email, full_name").in("user_id",D),B=O?.map(oe=>({...oe,profiles:F?.find(K=>K.user_id===oe.user_id)||{email:"",full_name:null}}))||[];o(B);const z=B.filter(oe=>oe.status==="pending_payment");d(z);const{data:q,error:G}=await Q.from("transactions").select("*").order("created_at",{ascending:!1}).limit(100);if(G)throw G;const Y=[...new Set(q?.map(oe=>oe.user_id)||[])],{data:M}=await Q.from("profiles").select("user_id, email, full_name").in("user_id",Y),H=q?.map(oe=>({...oe,profiles:M?.find(K=>K.user_id===oe.user_id)||{email:"",full_name:null}}))||[];c(H);const Z=new Date,L=new Date(Z.getTime()-720*60*60*1e3),J=new Date(Z.getTime()-1440*60*60*1e3),V=H.filter(oe=>oe.status==="success"||oe.status==="completed").reduce((oe,K)=>oe+(K.total_amount||0),0),X=H.filter(oe=>(oe.status==="success"||oe.status==="completed")&&new Date(oe.created_at)>=L).reduce((oe,K)=>oe+(K.total_amount||0),0),ne=H.filter(oe=>(oe.status==="success"||oe.status==="completed")&&new Date(oe.created_at)>=J&&new Date(oe.created_at)<L).reduce((oe,K)=>oe+(K.total_amount||0),0),se=ne>0?(X-ne)/ne*100:0,ue=B.filter(oe=>oe.status==="active").length,W=z.length,ae=H.filter(oe=>oe.status==="failed").length;a({totalRevenue:V,monthlyRevenue:X,revenueGrowth:se,activeSubscriptions:ue,pendingPayments:W,failedPayments:ae})}catch(O){Me({title:"Error",description:O.message,variant:"destructive"})}finally{r(!1)}},E=async()=>{try{w(!0);const O=new Date(Date.now()-1440*60*1e3),{error:A}=await Q.from("subscriptions").delete().eq("status","pending_payment").lt("created_at",O.toISOString());if(A)throw A;Me({title:"Success",description:"Old pending payments cleaned up successfully"}),b()}catch(O){Me({title:"Error",description:O.message,variant:"destructive"})}finally{w(!1)}},S=async()=>{try{const O=await Xm(()=>Promise.resolve().then(()=>wie),void 0),A=C.map(B=>({Invoice:B.invoice_number||"N/A","User Email":B.profiles?.email||"N/A","User Name":B.profiles?.full_name||"N/A",Amount:`${B.total_amount}`,Gateway:B.payment_gateway,Method:B.payment_method||"N/A",Status:B.status,Date:new Date(B.created_at).toLocaleString()})),D=O.utils.json_to_sheet(A),F=O.utils.book_new();O.utils.book_append_sheet(F,D,"Transactions"),O.writeFile(F,`transactions_${new Date().toISOString().split("T")[0]}.xlsx`),Me({title:"Success",description:`Exported ${A.length} transactions`})}catch(O){Me({title:"Error",description:O.message,variant:"destructive"})}},C=l.filter(O=>{const A=O.profiles?.email?.toLowerCase().includes(f.toLowerCase())||O.invoice_number?.toLowerCase().includes(f.toLowerCase()),D=p==="all"||O.status===p,F=parseInt(g),B=new Date(Date.now()-F*24*60*60*1e3),z=new Date(O.created_at)>=B;return A&&D&&z}),k=i.filter(O=>{const A=O.profiles?.email?.toLowerCase().includes(f.toLowerCase())||O.subscription_plans?.name?.toLowerCase().includes(f.toLowerCase()),D=p==="all"||O.status===p;return A&&D}),R=O=>{const D={success:{variant:"default",icon:js,label:"Success"},completed:{variant:"default",icon:js,label:"Completed"},pending:{variant:"secondary",icon:gs,label:"Pending"},pending_payment:{variant:"outline",icon:ra,label:"Pending Payment"},failed:{variant:"destructive",icon:Hn,label:"Failed"},active:{variant:"default",icon:js,label:"Active"},trial:{variant:"secondary",icon:gs,label:"Trial"},expired:{variant:"destructive",icon:Hn,label:"Expired"},cancelled:{variant:"outline",icon:Hn,label:"Cancelled"}}[O]||{variant:"secondary",icon:gs,label:O},F=D.icon;return s.jsxs(jt,{variant:D.variant,className:"flex items-center gap-1 w-fit",children:[s.jsx(F,{className:"w-3 h-3"}),D.label]})},P=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O);return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wo,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Loading billing data..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card sticky top-0 z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Billing & Revenue"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscriptions, transactions, and revenue"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{}),s.jsxs(ie,{variant:"outline",onClick:b,children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(Se,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Ya,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P(n.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Monthly Revenue"}),s.jsx(Cl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P(n.monthlyRevenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.revenueGrowth>=0?"+":"",n.revenueGrowth.toFixed(1),"% from last month"]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.activeSubscriptions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Pending Payments"}),s.jsx(ra,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.pendingPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Failed Payments"}),s.jsx(Hn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.failedPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unsuccessful transactions"})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Subscriptions"}),s.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscriptions"})]})]})]}),n.pendingPayments>0&&s.jsxs(Se,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-5 w-5 text-orange-500"}),s.jsxs(Qe,{className:"text-orange-700 dark:text-orange-300",children:[n.pendingPayments," Pending Payment",n.pendingPayments>1?"s":""]})]}),s.jsxs(ie,{variant:"destructive",size:"sm",onClick:E,disabled:_,children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),_?"Cleaning...":"Clean Old (>24h)"]})]}),s.jsx(Ir,{className:"text-orange-600 dark:text-orange-400",children:"These subscriptions are awaiting payment. Old pending payments (>24 hours) are automatically cleaned up every hour."})]}),u.length>0&&s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2",children:[u.slice(0,5).map(O=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:O.profiles?.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.subscription_plans?.name," - ",P(O.billing_cycle==="yearly"&&O.subscription_plans?.yearly_price?O.subscription_plans.yearly_price:O.subscription_plans?.monthly_price||0)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(O.created_at),{addSuffix:!0})})})]},O.id)),u.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",u.length-5," more pending"]})]})})]}),s.jsxs(Qu,{defaultValue:"transactions",className:"w-full",children:[s.jsxs(ru,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsx(fn,{value:"transactions",children:"Transactions"}),s.jsx(fn,{value:"subscriptions",children:"Subscriptions"})]}),s.jsx(hn,{value:"transactions",className:"space-y-4",children:s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:"Transaction History"}),s.jsx(Ir,{children:"View and manage all payment transactions"})]}),s.jsxs(ie,{variant:"outline",onClick:S,children:[s.jsx($i,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ze,{placeholder:"Search by email or invoice...",value:f,onChange:O=>m(O.target.value),className:"pl-10"})]}),s.jsxs(_r,{value:p,onValueChange:y,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Status"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"success",children:"Success"}),s.jsx(Ke,{value:"completed",children:"Completed"}),s.jsx(Ke,{value:"pending",children:"Pending"}),s.jsx(Ke,{value:"failed",children:"Failed"})]})]}),s.jsxs(_r,{value:g,onValueChange:v,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Date Range"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"7",children:"Last 7 days"}),s.jsx(Ke,{value:"30",children:"Last 30 days"}),s.jsx(Ke,{value:"90",children:"Last 90 days"}),s.jsx(Ke,{value:"365",children:"Last year"}),s.jsx(Ke,{value:"9999",children:"All time"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Invoice"}),s.jsx(et,{children:"User"}),s.jsx(et,{children:"Amount"}),s.jsx(et,{children:"Gateway"}),s.jsx(et,{children:"Status"}),s.jsx(et,{children:"Date"})]})}),s.jsx(ia,{children:C.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No transactions found"})}):C.map(O=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:O.invoice_number||"N/A"}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:O.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.profiles?.email})]})}),s.jsx(Xe,{className:"font-medium",children:P(O.total_amount)}),s.jsx(Xe,{children:s.jsx(jt,{variant:"outline",children:O.payment_gateway})}),s.jsx(Xe,{children:R(O.status)}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(O.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(O.created_at),{addSuffix:!0})})]})})]},O.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",C.length," of ",l.length," transactions"]})]})]})}),s.jsx(hn,{value:"subscriptions",className:"space-y-4",children:s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(Qe,{children:"All Subscriptions"}),s.jsx(Ir,{children:"Manage all user subscriptions"})]})})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ze,{placeholder:"Search by email or plan...",value:f,onChange:O=>m(O.target.value),className:"pl-10"})]}),s.jsxs(_r,{value:p,onValueChange:y,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Status"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"active",children:"Active"}),s.jsx(Ke,{value:"trial",children:"Trial"}),s.jsx(Ke,{value:"pending_payment",children:"Pending Payment"}),s.jsx(Ke,{value:"expired",children:"Expired"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"User"}),s.jsx(et,{children:"Plan"}),s.jsx(et,{children:"Amount"}),s.jsx(et,{children:"Billing Cycle"}),s.jsx(et,{children:"Status"}),s.jsx(et,{children:"Period End"})]})}),s.jsx(ia,{children:k.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No subscriptions found"})}):k.map(O=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:O.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.profiles?.email})]})}),s.jsx(Xe,{children:s.jsx(jt,{variant:"outline",children:O.subscription_plans?.name})}),s.jsx(Xe,{className:"font-medium",children:P(O.billing_cycle==="yearly"&&O.subscription_plans?.yearly_price?O.subscription_plans.yearly_price:O.subscription_plans?.monthly_price||0)}),s.jsx(Xe,{children:s.jsx(jt,{variant:"secondary",children:O.billing_cycle})}),s.jsx(Xe,{children:R(O.status)}),s.jsx(Xe,{children:O.current_period_end?s.jsxs("div",{children:[s.jsx("p",{children:new Date(O.current_period_end).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(O.current_period_end),{addSuffix:!0})})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},O.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",k.length," of ",i.length," subscriptions"]})]})]})})]})]})]})}const ait=()=>{const e=xr(),{toast:t}=Ps(),[r,n]=j.useState([]),[a,i]=j.useState(!0);j.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:u}}=await Q.auth.getUser();if(!u){e("/superadmin/login");return}const{data:d}=await Q.from("user_roles").select("role").eq("user_id",u.id).eq("role","super_admin");if(!d||d.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:l,error:c}=await Q.from("stores").select("id, name, slug, custom_domain, user_id").not("custom_domain","is",null).order("name");if(c)throw c;const u=[...new Set(l?.map(m=>m.user_id)||[])],{data:d}=await Q.from("profiles").select("user_id, email, full_name").in("user_id",u),f=l?.map(m=>({id:m.id,name:m.name,slug:m.slug,custom_domain:m.custom_domain,profiles:d?.find(p=>p.user_id===m.user_id)||{email:"",full_name:""}}))||[];n(f)}catch{t({title:"Error",description:"Failed to load custom domains",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Custom Domains"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage custom domains for stores"})]})]}),s.jsx(ei,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading domains..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Store"}),s.jsx(et,{children:"Owner"}),s.jsx(et,{children:"Domain"}),s.jsx(et,{children:"Status"}),s.jsx(et,{children:"Actions"})]})}),s.jsx(ia,{children:r.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:5,className:"text-center text-muted-foreground",children:"No custom domains found"})}):r.map(l=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.slug})]})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.profiles?.email})]})}),s.jsx(Xe,{children:s.jsxs("a",{href:`https://${l.custom_domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[l.custom_domain,s.jsx(Ga,{className:"h-3 w-3"})]})}),s.jsx(Xe,{children:s.jsx(jt,{variant:"default",children:"Active"})}),s.jsx(Xe,{children:s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>t({title:"Coming soon",description:"Domain management features"}),children:"Manage"})})]},l.id))})]})})})]})},nJ="00000000-0000-0000-0000-000000000000",iit=()=>{const e=xr(),{toast:t}=Ps(),[r,n]=j.useState({sender_email:"",sender_name:"",platform_name:"",auto_cleanup_orders:!1,orders_cleanup_months:6,auto_cleanup_active_logs:!1,active_logs_cleanup_months:6,auto_cleanup_inactive_logs:!1,inactive_logs_cleanup_months:6,razorpay_key_id:"",razorpay_key_secret:"",razorpay_test_mode:!1}),[a,i]=j.useState(!1),[o,l]=j.useState(!0),[c,u]=j.useState(!1),[d,f]=j.useState([]),[m,p]=j.useState(""),[y,g]=j.useState(""),[v,_]=j.useState(""),[w,b]=j.useState(""),[E,S]=j.useState(!1),[C,k]=j.useState(!1);j.useEffect(()=>{const A=async()=>{if(sessionStorage.getItem("superadmin_session")){await Promise.all([D(),F()]);return}const{data:{user:z}}=await Q.auth.getUser();if(!z){e("/superadmin/login");return}const{data:q}=await Q.from("user_roles").select("role").eq("user_id",z.id).eq("role","super_admin");!q||q.length===0?e("/superadmin/login"):await Promise.all([D(),F()])},D=async()=>{const{data:B}=await Q.from("subscription_plans").select("*").eq("is_active",!0).order("display_order");if(B){f(B);const z=B.find(q=>q.is_default_plan);z&&p(z.id)}},F=async()=>{try{const{data:B,error:z}=await Q.from("platform_settings").select("*").eq("id",nJ).single();if(z)throw z;B&&n({sender_email:B.sender_email||"",sender_name:B.sender_name||"",platform_name:B.platform_name||"",auto_cleanup_orders:B.auto_cleanup_orders||!1,orders_cleanup_months:B.orders_cleanup_months||6,auto_cleanup_active_logs:B.auto_cleanup_active_logs||!1,active_logs_cleanup_months:B.active_logs_cleanup_months||6,auto_cleanup_inactive_logs:B.auto_cleanup_inactive_logs||!1,inactive_logs_cleanup_months:B.inactive_logs_cleanup_months||6,razorpay_key_id:B.razorpay_key_id||"",razorpay_key_secret:B.razorpay_key_secret||"",razorpay_test_mode:B.razorpay_test_mode||!1})}catch(B){console.error("Error loading settings:",B),t({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{l(!1)}};A()},[e,t]);const R=async()=>{i(!0);try{const{error:A}=await Q.from("platform_settings").update({sender_email:r.sender_email,sender_name:r.sender_name,platform_name:r.platform_name,auto_cleanup_orders:r.auto_cleanup_orders,orders_cleanup_months:r.orders_cleanup_months,auto_cleanup_active_logs:r.auto_cleanup_active_logs,active_logs_cleanup_months:r.active_logs_cleanup_months,auto_cleanup_inactive_logs:r.auto_cleanup_inactive_logs,inactive_logs_cleanup_months:r.inactive_logs_cleanup_months,razorpay_key_id:r.razorpay_key_id,razorpay_key_secret:r.razorpay_key_secret,razorpay_test_mode:r.razorpay_test_mode}).eq("id",nJ);if(A)throw A;m&&(await Q.from("subscription_plans").update({is_default_plan:!1}).neq("id",m),await Q.from("subscription_plans").update({is_default_plan:!0}).eq("id",m)),t({title:"Settings saved",description:"Platform settings have been updated successfully."})}catch(A){console.error("Save error:",A),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{i(!1)}},P=async A=>{u(!0);try{const D={ordersMonths:9999,activeLogsMonths:9999,inactiveLogsMonths:9999,cleanupOrders:A==="all"||A==="orders",cleanupActiveLogs:A==="all"||A==="activeLogs",cleanupInactiveLogs:A==="all"||A==="inactiveLogs"},{data:F,error:B}=await Q.functions.invoke("cleanup-old-orders",{body:D});if(B)throw B;const z=[];F.results.orders?.deleted&&z.push(`${F.results.orders.deleted} orders`),F.results.activeLogs?.deleted&&z.push(`${F.results.activeLogs.deleted} active logs`),F.results.inactiveLogs?.deleted&&z.push(`${F.results.inactiveLogs.deleted} inactive logs`),t({title:"Cleanup completed",description:`Successfully deleted: ${z.join(", ")}`})}catch(D){t({title:"Cleanup failed",description:D.message||"Failed to cleanup data.",variant:"destructive"})}finally{u(!1)}},O=async()=>{if(!y||!v||!w){t({title:"Validation Error",description:"All fields are required",variant:"destructive"});return}if(v!==w){t({title:"Validation Error",description:"New password and confirm password do not match",variant:"destructive"});return}if(v.length<8){t({title:"Validation Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}S(!0);try{const{data:{user:A}}=await Q.auth.getUser();if(!A?.email)throw new Error("User not authenticated");const{error:D}=await Q.auth.signInWithPassword({email:A.email,password:y});if(D)throw new Error("Current password is incorrect");const{error:F}=await Q.auth.updateUser({password:v});if(F)throw F;g(""),_(""),b(""),t({title:"Password Changed",description:"Your password has been updated successfully"})}catch(A){t({title:"Error",description:A.message||"Failed to change password",variant:"destructive"})}finally{S(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Platform Settings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-wide settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ie,{onClick:R,disabled:a,children:[s.jsx(gc,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Email Settings"}),s.jsx(Ir,{children:"Configure the sender information for emails sent to users"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"senderEmail",children:"Sender Email"}),s.jsx(ze,{id:"senderEmail",type:"email",placeholder:"onboarding@resend.dev",value:r.sender_email,onChange:A=>n({...r,sender_email:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This email will be used as the sender when sending emails to users"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"senderName",children:"Sender Name"}),s.jsx(ze,{id:"senderName",type:"text",placeholder:"Super Admin",value:r.sender_name,onChange:A=>n({...r,sender_name:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'The name that will appear in the "From" field of emails'})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"General Settings"}),s.jsx(Ir,{children:"Configure general platform settings"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"platformName",children:"Platform Name"}),s.jsx(ze,{id:"platformName",type:"text",placeholder:"Vendy Platform",value:r.platform_name,onChange:A=>n({...r,platform_name:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The name of your platform"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"defaultPlan",children:"Default Subscription Plan"}),s.jsxs(_r,{value:m,onValueChange:p,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Select default plan for new stores"})}),s.jsx(yr,{children:d.map(A=>s.jsxs(Ke,{value:A.id,children:[A.name," - ",A.monthly_price>0?`${A.monthly_price}/mo`:"Free"]},A.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This plan will be automatically assigned to new store owners"})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Account Security"}),s.jsx(Ir,{children:"Change your super admin password"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(ze,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:y,onChange:A=>g(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"newPassword",children:"New Password"}),s.jsx(ze,{id:"newPassword",type:"password",placeholder:"Enter new password (min 8 characters)",value:v,onChange:A=>_(A.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(ze,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:w,onChange:A=>b(A.target.value)})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(ie,{onClick:O,disabled:E||!y||!v||!w,className:"w-full",children:[s.jsx(dg,{className:"mr-2 h-4 w-4"}),E?"Changing Password...":"Change Password"]})})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Razorpay Payment Gateway"}),s.jsx(Ir,{children:"Configure Razorpay API credentials for subscription payments"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"razorpayKeyId",children:"Razorpay API Key ID"}),s.jsx(ze,{id:"razorpayKeyId",type:"text",placeholder:"rzp_live_xxxxxxxxxxxxxx or rzp_test_xxxxxxxxxxxxxx",value:r.razorpay_key_id,onChange:A=>n({...r,razorpay_key_id:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key ID (starts with rzp_live_ for production or rzp_test_ for testing)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"razorpayKeySecret",children:"Razorpay API Key Secret"}),s.jsx(ze,{id:"razorpayKeySecret",type:"password",placeholder:"Enter your Razorpay Key Secret",value:r.razorpay_key_secret,onChange:A=>n({...r,razorpay_key_secret:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key Secret (keep this secure and never share)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"razorpayTestMode",children:"Test Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable only if using test credentials (rzp_test_)"})]}),s.jsx(Gr,{id:"razorpayTestMode",checked:r.razorpay_test_mode,onCheckedChange:A=>n({...r,razorpay_test_mode:A})})]}),s.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-foreground",children:[s.jsx("strong",{children:" Production Credentials:"})," Use your LIVE Razorpay credentials (rzp_live_) to accept real payments. These credentials will process actual subscription payments from store owners. Keep them secure and ensure your Razorpay account is properly configured with bank details."]})})]})]}),s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Data Cleanup Management"}),s.jsx(Ir,{children:"Configure automatic cleanup settings and manually clean data"})]}),s.jsx(Te,{children:s.jsxs(Pj,{open:C,onOpenChange:k,children:[s.jsx(Oj,{asChild:!0,children:s.jsxs(ie,{variant:"outline",className:"w-full justify-between mb-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),C?"Hide Cleanup Settings":"Show Cleanup Settings"]}),C?s.jsx(FJ,{className:"h-4 w-4"}):s.jsx(Lu,{className:"h-4 w-4"})]})}),s.jsxs(Rj,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Orders Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"autoCleanupOrders",children:"Auto Cleanup Orders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old orders"})]}),s.jsx(Gr,{id:"autoCleanupOrders",checked:r.auto_cleanup_orders,onCheckedChange:A=>n({...r,auto_cleanup_orders:A})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"ordersCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(ze,{id:"ordersCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.orders_cleanup_months,onChange:A=>n({...r,orders_cleanup_months:parseInt(A.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete orders older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Active Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"autoCleanupActiveLogs",children:"Auto Cleanup Active Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old active store logs"})]}),s.jsx(Gr,{id:"autoCleanupActiveLogs",checked:r.auto_cleanup_active_logs,onCheckedChange:A=>n({...r,auto_cleanup_active_logs:A})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"activeLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(ze,{id:"activeLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.active_logs_cleanup_months,onChange:A=>n({...r,active_logs_cleanup_months:parseInt(A.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete active logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Inactive Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ke,{htmlFor:"autoCleanupInactiveLogs",children:"Auto Cleanup Inactive Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old inactive store logs"})]}),s.jsx(Gr,{id:"autoCleanupInactiveLogs",checked:r.auto_cleanup_inactive_logs,onCheckedChange:A=>n({...r,auto_cleanup_inactive_logs:A})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"inactiveLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(ze,{id:"inactiveLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.inactive_logs_cleanup_months,onChange:A=>n({...r,inactive_logs_cleanup_months:parseInt(A.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete inactive logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Manual Cleanup Actions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a cleanup action to execute immediately"}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"destructive",className:"w-full",disabled:c,children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),c?"Cleaning up...":"Select Cleanup Action",s.jsx(Lu,{className:"ml-2 h-4 w-4"})]})}),s.jsxs(ou,{className:"w-full",align:"center",children:[s.jsxs(Fn,{onClick:()=>P("orders"),disabled:c||!r.auto_cleanup_orders,className:"cursor-pointer",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Cleanup Orders Only"]}),s.jsxs(Fn,{onClick:()=>P("activeLogs"),disabled:c||!r.auto_cleanup_active_logs,className:"cursor-pointer",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Cleanup Active Logs Only"]}),s.jsxs(Fn,{onClick:()=>P("inactiveLogs"),disabled:c||!r.auto_cleanup_inactive_logs,className:"cursor-pointer",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Cleanup Inactive Logs Only"]}),s.jsxs(Fn,{onClick:()=>P("all"),disabled:c||!r.auto_cleanup_orders||!r.auto_cleanup_active_logs||!r.auto_cleanup_inactive_logs,className:"cursor-pointer text-destructive",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Cleanup All Data"]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable the corresponding auto-cleanup toggle above to activate each cleanup action"})]})]})]})})]})]})})]})},oit="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",lit="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google";function cit(){const[e,t]=j.useState(!1),[r,n]=j.useState([]),[a,i]=j.useState(!1),[o,l]=j.useState([]),{toast:c}=Ps(),u=async()=>{try{t(!0),n([]),c({title:"Submitting sitemaps...",description:"This may take a few minutes for all stores."});const{data:{session:f}}=await Q.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(oit,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)n(p.results),c({title:"Sitemaps submitted!",description:`Successfully processed ${p.processed} stores.`});else throw new Error(p.error||"Failed to submit sitemaps")}catch(f){console.error("Error submitting sitemaps:",f),c({title:"Error",description:f.message||"Failed to submit sitemaps",variant:"destructive"})}finally{t(!1)}},d=async()=>{try{i(!0),l([]),c({title:"Indexing URLs...",description:"Submitting URLs to Google for immediate indexing. This may take a few minutes."});const{data:{session:f}}=await Q.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(lit,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)l(p.results),c({title:"URLs indexed!",description:`Successfully: ${p.successful} | Failed: ${p.failed} | Total: ${p.processed}`});else throw new Error(p.error||"Failed to index URLs")}catch(f){console.error("Error indexing URLs:",f),c({title:"Error",description:f.message||"Failed to index URLs",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Google Search Console Sitemap Manager"}),s.jsx(Ir,{children:"Automatically submit sitemaps for all stores to Google Search Console"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool will automatically submit sitemaps for all stores with subdomains or custom domains to Google Search Console. New stores will automatically get their sitemaps submitted."}),s.jsx(ie,{onClick:u,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Sitemaps..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Submit All Sitemaps to Google"]})})]}),r.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Submission Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:f.domain}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:f.sitemapUrl}),f.message&&s.jsx("p",{className:"text-xs mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(js,{className:"h-5 w-5 text-green-500"}):s.jsx(Hn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Automatically submits sitemaps when new stores are created"}),s.jsx("li",{children:"Automatically re-submits when subdomain or custom domain changes"}),s.jsx("li",{children:"Uses Google Search Console API for instant submission"}),s.jsx("li",{children:"No manual work needed for each store"}),s.jsx("li",{children:"Tracks submission status in database"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Create Google Cloud Project"}),s.jsx("li",{children:"Enable Google Search Console API"}),s.jsx("li",{children:"Create Service Account and download JSON key"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase environment variables:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]})]})]}),s.jsxs(Se,{className:"mt-6",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Google Indexing API - Immediate URL Indexing"}),s.jsx(Ir,{children:"Submit URLs for immediate indexing in Google Search (faster than sitemap submission)"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool uses the Google Web Search Indexing API to request immediate indexing of store homepages only. Unlike sitemaps which can take days or weeks, this API can get your pages indexed within hours."}),s.jsx(ie,{onClick:d,disabled:a,className:"w-full",variant:"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Indexing URLs..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nM,{className:"mr-2 h-4 w-4"}),"Index All URLs to Google"]})})]}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Indexing Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:o.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:f.url}),f.message&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(js,{className:"h-5 w-5 text-green-500"}):s.jsx(Hn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Submits URLs directly to Google for immediate indexing"}),s.jsx("li",{children:"Much faster than sitemap submission (hours vs days/weeks)"}),s.jsx("li",{children:"Indexes only store homepages (not product pages)"}),s.jsx("li",{children:"Processes up to 20 stores at a time to avoid rate limits"}),s.jsx("li",{children:"Rate limited to prevent API quota issues"})]})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Enable Google Web Search Indexing API in Google Cloud"}),s.jsx("li",{children:"Create Service Account for indexing"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase secrets:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-amber-800",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-700 space-y-1 list-disc list-inside mt-2",children:[s.jsx("li",{children:"This is for immediate indexing of important updates"}),s.jsx("li",{children:"Google has daily quotas - use wisely for critical pages"}),s.jsx("li",{children:"Sitemap submission is still important for comprehensive crawling"}),s.jsx("li",{children:"Don't spam this - Google may penalize excessive usage"})]})]})]})]})]})}const uit=[{value:"Truck",label:"Truck (Shipping)",icon:lc},{value:"BarChart3",label:"Chart (Analytics)",icon:Q0},{value:"MessageSquare",label:"Chat (Live Chat)",icon:tM},{value:"Mail",label:"Mail (Email)",icon:pc},{value:"Target",label:"Target (Ads)",icon:ZS},{value:"Package",label:"Package (Default)",icon:Rn}],dit=e=>({Truck:lc,BarChart3:Q0,MessageSquare:tM,Mail:pc,Target:ZS,Package:Rn})[e]||Rn,fit=()=>{const e=xr(),{toast:t}=Ps(),[r,n]=j.useState([]),[a,i]=j.useState(!0),[o,l]=j.useState(!1),[c,u]=j.useState("add"),[d,f]=j.useState(null),[m,p]=j.useState(!1),[y,g]=j.useState(null),[v,_]=j.useState(!1),[w,b]=j.useState({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:0});j.useEffect(()=>{(async()=>{const{data:{user:A}}=await Q.auth.getUser();if(!A&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(A){const{data:D}=await Q.from("user_roles").select("role").eq("user_id",A.id).eq("role","super_admin");if(!D||D.length===0){e("/superadmin/login");return}}E()})()},[e]);const E=async()=>{try{const{data:O,error:A}=await Q.from("marketplace_features").select("*").order("menu_order");if(A)throw A;n(O||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{i(!1)}},S=()=>{u("add"),f(null),b({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:r.length+1}),l(!0)},C=O=>{u("edit"),f(O),b({name:O.name,slug:O.slug,description:O.description||"",icon:O.icon,is_free:O.is_free,price:O.price,is_active:O.is_active,menu_order:O.menu_order}),l(!0)},k=async()=>{if(!w.name||!w.slug){t({title:"Error",description:"Name and slug are required",variant:"destructive"});return}_(!0);try{if(c==="add"){const{error:O}=await Q.from("marketplace_features").insert({name:w.name,slug:w.slug.toLowerCase().replace(/\s+/g,"-"),description:w.description,icon:w.icon,is_free:w.is_free,price:w.is_free?0:w.price,is_active:w.is_active,menu_order:w.menu_order});if(O)throw O;t({title:"Success",description:"Feature added to marketplace"})}else{const{error:O}=await Q.from("marketplace_features").update({name:w.name,slug:w.slug.toLowerCase().replace(/\s+/g,"-"),description:w.description,icon:w.icon,is_free:w.is_free,price:w.is_free?0:w.price,is_active:w.is_active,menu_order:w.menu_order}).eq("id",d?.id);if(O)throw O;t({title:"Success",description:"Feature updated successfully"})}l(!1),E()}catch(O){t({title:"Error",description:O.message||"Failed to save feature",variant:"destructive"})}finally{_(!1)}},R=async()=>{if(y)try{const{error:O}=await Q.from("marketplace_features").delete().eq("id",y);if(O)throw O;t({title:"Success",description:"Feature deleted from marketplace"}),p(!1),g(null),E()}catch(O){t({title:"Error",description:O.message||"Failed to delete feature",variant:"destructive"})}},P=O=>O.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin"),children:s.jsx(Qa,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Marketplace Features"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage features available to store owners"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{}),s.jsxs(ie,{onClick:S,children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?s.jsx(Se,{children:s.jsxs(Te,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Rn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No features yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first marketplace feature"}),s.jsxs(ie,{onClick:S,children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(O=>{const A=dit(O.icon);return s.jsxs(Se,{className:O.is_active?"":"opacity-60",children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(A,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Qe,{className:"text-lg",children:O.name}),s.jsx("code",{className:"text-xs text-muted-foreground",children:O.slug})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>C(O),children:s.jsx(Wu,{className:"h-4 w-4"})}),s.jsx(ie,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{g(O.id),p(!0)},children:s.jsx(Wn,{className:"h-4 w-4"})})]})]})}),s.jsxs(Te,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:O.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[O.is_free?s.jsx(jt,{variant:"secondary",children:"Free"}):s.jsxs(jt,{variant:"default",children:["",O.price]}),O.is_active?s.jsx(jt,{variant:"outline",className:"text-green-600 border-green-600",children:"Active"}):s.jsx(jt,{variant:"outline",className:"text-red-600 border-red-600",children:"Inactive"})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Order: ",O.menu_order]})]})]})]},O.id)})})}),s.jsx(Tn,{open:o,onOpenChange:l,children:s.jsxs(jn,{className:"sm:max-w-[500px]",children:[s.jsxs(An,{children:[s.jsx(Pn,{children:c==="add"?"Add Feature":"Edit Feature"}),s.jsx(Ns,{children:c==="add"?"Add a new feature to the marketplace":"Update feature details"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"name",children:"Feature Name"}),s.jsx(ze,{id:"name",value:w.name,onChange:O=>{b({...w,name:O.target.value,slug:c==="add"?P(O.target.value):w.slug})},placeholder:"e.g., Shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"slug",children:"Slug (URL identifier)"}),s.jsx(ze,{id:"slug",value:w.slug,onChange:O=>b({...w,slug:O.target.value}),placeholder:"e.g., shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"description",children:"Description"}),s.jsx(_a,{id:"description",value:w.description,onChange:O=>b({...w,description:O.target.value}),placeholder:"Describe what this feature does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"icon",children:"Icon"}),s.jsxs(_r,{value:w.icon,onValueChange:O=>b({...w,icon:O}),children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Select an icon"})}),s.jsx(yr,{children:uit.map(O=>{const A=O.icon;return s.jsx(Ke,{value:O.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A,{className:"h-4 w-4"}),O.label]})},O.value)})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:"is_free",children:"Free Feature"}),s.jsx(Gr,{id:"is_free",checked:w.is_free,onCheckedChange:O=>b({...w,is_free:O})})]}),!w.is_free&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"price",children:"Price ()"}),s.jsx(ze,{id:"price",type:"number",value:w.price,onChange:O=>b({...w,price:parseFloat(O.target.value)||0}),placeholder:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ke,{htmlFor:"is_active",children:"Active"}),s.jsx(Gr,{id:"is_active",checked:w.is_active,onCheckedChange:O=>b({...w,is_active:O})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"menu_order",children:"Menu Order"}),s.jsx(ze,{id:"menu_order",type:"number",value:w.menu_order,onChange:O=>b({...w,menu_order:parseInt(O.target.value)||0}),placeholder:"1"})]})]}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(ie,{onClick:k,disabled:v,children:[v&&s.jsx(Jt,{className:"h-4 w-4 mr-2 animate-spin"}),c==="add"?"Add Feature":"Save Changes"]})]})]})}),s.jsx(g0,{open:m,onOpenChange:p,children:s.jsxs(_m,{children:[s.jsxs(jm,{children:[s.jsx(Sm,{children:"Delete Feature?"}),s.jsx(km,{children:"This will remove the feature from the marketplace. Store owners who have enabled this feature will lose access."})]}),s.jsxs(Nm,{children:[s.jsx(Em,{children:"Cancel"}),s.jsx(Cm,{onClick:R,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})};function hit(){const[e,t]=j.useState(!1),[r,n]=j.useState(!1),a=iu();return j.useEffect(()=>{(async()=>{console.log("[SuperAdminGuard] Checking session...");try{const{data:{session:o}}=await Q.auth.getSession();if(o?.user){console.log("[SuperAdminGuard] Current user:",o.user.id);const{data:c}=await Q.from("user_roles").select("role").eq("user_id",o.user.id).eq("role","super_admin").maybeSingle();if(c){console.log("[SuperAdminGuard] Valid superadmin session found"),n(!0),t(!0);return}}const l=localStorage.getItem("superadmin_session");if(console.log("[SuperAdminGuard] Stored session found:",!!l),l)try{const c=JSON.parse(l);if(!c.access_token||!c.refresh_token){console.warn("[SuperAdminGuard] Invalid stored session structure"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}const u=c.saved_at||0,d=(Date.now()-u)/(1e3*60*60);if(d>24){console.warn("[SuperAdminGuard] Stored session too old:",d,"hours"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] Restoring superadmin session...");const{error:f}=await Q.auth.setSession({access_token:c.access_token,refresh_token:c.refresh_token});if(f){console.error("[SuperAdminGuard] Session restoration failed:",f),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}localStorage.removeItem("superadmin_session"),await new Promise(p=>setTimeout(p,100));const{data:{session:m}}=await Q.auth.getSession();if(m?.user){const{data:p}=await Q.from("user_roles").select("role").eq("user_id",m.user.id).eq("role","super_admin").maybeSingle();if(p){console.log("[SuperAdminGuard] Session restored and verified successfully"),n(!0),t(!0);return}}console.warn("[SuperAdminGuard] Restored session is not superadmin"),n(!1),t(!0);return}catch(c){console.error("[SuperAdminGuard] Error during restoration:",c),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] No valid superadmin session"),n(!1),t(!0)}catch(o){console.error("[SuperAdminGuard] Unexpected error:",o),n(!1),t(!0)}})()},[a.key]),e?r?s.jsx(pbe,{}):s.jsx(mbe,{to:"/superadmin/login",replace:!0}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Restoring admin session..."})]})})}const mit=[{name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation and superior sound quality. Perfect for music lovers and professionals.",category:"Electronics",base_price:2999,price_range:"2,999 - 3,499",stock:50,status:"published",images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80","https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800&q=80"],variants:[{name:"Black",price:2999,sku:"WH-BLK"},{name:"White",price:3199,sku:"WH-WHT"},{name:"Blue",price:3499,sku:"WH-BLU"}]},{name:"Smart Watch",description:"Feature-rich smartwatch with fitness tracking, heart rate monitor, and notification support. Stay connected on the go.",category:"Electronics",base_price:4999,price_range:"4,999 - 5,999",stock:30,status:"published",images:["https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80","https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=800&q=80"],variants:[{name:"Black Band",price:4999,sku:"SW-BLK"},{name:"Sport Band",price:5499,sku:"SW-SPT"},{name:"Leather Band",price:5999,sku:"SW-LTH"}]},{name:"Classic T-Shirt",description:"Comfortable cotton t-shirt perfect for everyday wear. Made from premium quality fabric that lasts.",category:"Fashion",base_price:599,price_range:"599 - 699",stock:100,status:"published",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800&q=80","https://images.unsplash.com/photo-1503341504253-dff4815485f1?w=800&q=80"],variants:[{name:"Small",price:599,sku:"TS-S"},{name:"Medium",price:599,sku:"TS-M"},{name:"Large",price:649,sku:"TS-L"},{name:"XL",price:699,sku:"TS-XL"}]},{name:"Denim Jeans",description:"Stylish and durable denim jeans with a perfect fit. Essential wardrobe staple for any occasion.",category:"Fashion",base_price:1499,price_range:"1,499 - 1,799",stock:75,status:"published",images:["https://images.unsplash.com/photo-1542272604-787c3835535d?w=800&q=80","https://images.unsplash.com/photo-1475178626620-a4d074967452?w=800&q=80"],variants:[{name:"30",price:1499,sku:"DJ-30"},{name:"32",price:1599,sku:"DJ-32"},{name:"34",price:1699,sku:"DJ-34"},{name:"36",price:1799,sku:"DJ-36"}]},{name:"Leather Wallet",description:"Genuine leather wallet with multiple card slots and compartments. Sleek design meets functionality.",category:"Accessories",base_price:899,price_range:"899 - 1,099",stock:60,status:"published",images:["https://images.unsplash.com/photo-1627123424574-724758594e93?w=800&q=80","https://images.unsplash.com/photo-1608666619878-e5f5c9c6ff04?w=800&q=80"],variants:[{name:"Brown",price:899,sku:"LW-BRN"},{name:"Black",price:999,sku:"LW-BLK"},{name:"Tan",price:1099,sku:"LW-TAN"}]},{name:"Sunglasses",description:"UV protection sunglasses with polarized lenses. Stylish eyewear for sunny days.",category:"Accessories",base_price:1299,price_range:"1,299 - 1,599",stock:45,status:"published",images:["https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&q=80","https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=800&q=80"],variants:[{name:"Classic Black",price:1299,sku:"SG-BLK"},{name:"Aviator Gold",price:1499,sku:"SG-GLD"},{name:"Sport Blue",price:1599,sku:"SG-BLU"}]},{name:"Coffee Maker",description:"Automatic coffee maker for perfect brew every time. Start your morning right with fresh coffee.",category:"Home & Kitchen",base_price:3499,price_range:"3,499",stock:25,status:"published",images:["https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=800&q=80"],variants:[]},{name:"Yoga Mat",description:"Non-slip yoga mat with extra cushioning. Perfect for yoga, pilates, and home workouts.",category:"Sports",base_price:799,price_range:"799 - 999",stock:80,status:"published",images:["https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=800&q=80"],variants:[{name:"Purple",price:799,sku:"YM-PUR"},{name:"Blue",price:899,sku:"YM-BLU"},{name:"Pink",price:999,sku:"YM-PNK"}]}],pit=[{name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&q=80"},{name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&q=80"},{name:"Accessories",image_url:"https://images.unsplash.com/photo-1523293182086-7651a899d37f?w=400&q=80"},{name:"Home & Kitchen",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400&q=80"},{name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&q=80"},{name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&q=80"}],git=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),xit=async e=>{try{console.log("Seeding demo data for store:",e);const t=pit.map(i=>({...i,store_id:e})),{error:r}=await Q.from("categories").insert(t);r&&console.error("Error inserting demo categories:",r);const n=mit.map(i=>({...i,store_id:e,slug:git(i.name)}));console.log(`[SEED] Inserting ${n.length} demo products with slugs...`);const{error:a}=await Q.from("products").insert(n);return a?(console.error("[SEED] Error inserting demo products:",a),!1):(console.log(`[SEED]  Successfully seeded ${n.length} demo products`),console.log("Demo data seeded successfully"),!0)}catch(t){return console.error("Error seeding demo data:",t),!1}},vit=()=>{const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(""),[c,u]=j.useState(!1),[d,f]=j.useState(""),[m,p]=j.useState({storeName:"",storeSlug:"",description:"",whatsappNumber:"",countryCode:"+91"}),[y,g]=j.useState("idle");j.useEffect(()=>{v()},[e]);const v=async()=>{const{data:{user:k}}=await Q.auth.getUser();if(!k){t({title:"Authentication required",description:"Please log in to continue with onboarding",variant:"destructive"}),e("/auth");return}const{data:R}=await Q.from("helpers").select("id, full_name, status").eq("id",k.id).maybeSingle();if(R){f("You are registered as a helper. Helpers cannot create stores. Please contact support if you need assistance."),u(!0),setTimeout(()=>e("/helper/dashboard"),3e3);return}const{data:P}=await Q.from("helper_applications").select("id, application_status").eq("user_id",k.id).maybeSingle();if(P){f("You have applied or are registered as a helper. Helpers cannot create stores."),u(!0),setTimeout(()=>e("/application-status"),3e3);return}const{data:O}=await Q.from("profiles").select("full_name").eq("user_id",k.id).maybeSingle();l(O?.full_name||k.email||"Guest")},_=k=>k.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").substring(0,30),w=k=>{p(R=>({...R,storeName:k,storeSlug:_(k)})),k&&E(_(k))},b=k=>{const R=_(k);p(P=>({...P,storeSlug:R})),R&&E(R)},E=async k=>{if(k.length<3){g("idle");return}i(!0);const{data:R}=await Q.from("stores").select("slug").eq("slug",k).maybeSingle();g(R?"taken":"available"),i(!1)},S=()=>m.storeName.length>=2&&m.storeName.length<=50&&m.storeSlug.length>=3&&m.storeSlug.length<=30&&y==="available"&&m.whatsappNumber.length>=10,C=async()=>{if(S()){n(!0);try{const{data:{user:k}}=await Q.auth.getUser();if(!k)throw new Error("No user found");const{data:{session:R}}=await Q.auth.getSession(),P=R?.provider_token,O=R?.provider_refresh_token,A=P?new Date(Date.now()+3600*1e3).toISOString():null,{data:D,error:F}=await Q.from("stores").insert({user_id:k.id,name:m.storeName,slug:m.storeSlug,subdomain:m.storeSlug,description:m.description||null,whatsapp_number:`${m.countryCode}${m.whatsappNumber}`,google_access_token:P||null,google_refresh_token:O||null,google_token_expiry:A}).select();if(F)throw F;const B=D&&D.length>0?D[0].id:null;B&&await xit(B);const z=sessionStorage.getItem("referral_code");if(z&&B){console.log("[StoreSetup] Processing referral code:",z);const{data:G}=await Q.from("helpers").select("id").eq("referral_code",z).eq("status","Active").maybeSingle();if(G){const{data:Y}=await Q.from("profiles").select("full_name, email, phone").eq("user_id",k.id).maybeSingle(),M=new Date;M.setDate(M.getDate()+14);const{error:H}=await Q.from("store_referrals").insert({helper_id:G.id,store_id:B,store_owner_name:Y?.full_name||m.storeName,store_owner_email:Y?.email||k.email||"",store_owner_phone:m.whatsappNumber,trial_start_date:new Date().toISOString().split("T")[0],trial_end_date:M.toISOString().split("T")[0],trial_status:"Active",subscription_purchased:!1,commission_status:"Not Applicable"});H?console.error("[StoreSetup] Error creating referral record:",H):console.log("[StoreSetup] Referral record created successfully"),sessionStorage.removeItem("referral_code")}else console.log("[StoreSetup] No active helper found for referral code:",z)}const{data:q}=await Q.from("subscription_plans").select("*").eq("is_default_plan",!0).maybeSingle();if(q){const G=new Date;G.setDate(G.getDate()+(q.trial_days||14)),await Q.from("subscriptions").insert({user_id:k.id,plan_id:q.id,status:"trial",trial_ends_at:G.toISOString(),current_period_start:new Date().toISOString(),current_period_end:G.toISOString()})}t({title:"Store created!",description:"Your store is ready with demo products."}),e("/admin/dashboard")}catch(k){t({title:"Error",description:k.message,variant:"destructive"})}finally{n(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-1/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2,3,4].map(k=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${k===1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:k}),k<4&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${k<1?"bg-primary":"bg-muted"}`})]},k))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 1 of 4"})]}),s.jsx("div",{className:"container max-w-2xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(Hh,{className:"w-8 h-8 text-primary"})}),s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome, ",o,"! "]}),s.jsx("p",{className:"text-muted-foreground",children:"Let's set up your online store"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"storeName",children:["Store Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ze,{id:"storeName",placeholder:"My Awesome Store",value:m.storeName,onChange:k=>w(k.target.value),maxLength:50}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed to your customers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"storeSlug",children:["Store Slug ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap hidden md:inline",children:"yourplatform.com/"}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ze,{id:"storeSlug",value:m.storeSlug,onChange:k=>b(k.target.value),maxLength:30,className:"pr-8"}),a&&s.jsx(Jt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"}),!a&&y==="available"&&s.jsx(Cn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}),!a&&y==="taken"&&s.jsx(La,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-destructive"})]})]}),y==="available"&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3 h-3"})," Available"]}),y==="taken"&&s.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[s.jsx(La,{className:"w-3 h-3"})," Already taken"]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:" 3-30 characters"}),s.jsx("p",{children:" Lowercase letters, numbers, hyphens only"}),s.jsx("p",{children:" Must start with letter"})]}),m.storeSlug&&s.jsxs("p",{className:"text-xs text-primary font-medium",children:["Your store will be: ",m.storeSlug,".yourplatform.com"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{htmlFor:"description",children:"Store Description"}),s.jsx(_a,{id:"description",placeholder:"Tell customers about your store...",value:m.description,onChange:k=>p(R=>({...R,description:k.target.value})),maxLength:500,rows:4}),s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[m.description.length,"/500"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ke,{htmlFor:"whatsapp",children:["WhatsApp Business Number ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(_r,{value:m.countryCode,onValueChange:k=>p(R=>({...R,countryCode:k})),children:[s.jsx(vr,{className:"w-24",children:s.jsx(jr,{})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"+91",children:" +91"}),s.jsx(Ke,{value:"+1",children:" +1"}),s.jsx(Ke,{value:"+44",children:" +44"}),s.jsx(Ke,{value:"+971",children:" +971"})]})]}),s.jsx(ze,{id:"whatsapp",type:"tel",placeholder:"9876543210",value:m.whatsappNumber,onChange:k=>p(R=>({...R,whatsappNumber:k.target.value.replace(/\D/g,"")})),className:"flex-1"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers will place orders via WhatsApp to this number"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t",children:[s.jsx(ie,{variant:"ghost",onClick:()=>e("/admin/dashboard"),className:"order-2 sm:order-1",children:"I'll do this later"}),s.jsx(ie,{onClick:C,disabled:!S()||r,className:"w-full sm:w-auto order-1 sm:order-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):"Continue"})]})]})}),s.jsx(Tn,{open:c,onOpenChange:u,children:s.jsxs(jn,{className:"sm:max-w-md",children:[s.jsxs(An,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Hn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(Pn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(Ns,{className:"text-center text-base pt-4",children:d})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(ie,{onClick:()=>u(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})},yit=({storeId:e,settings:t,instagramUsername:r})=>{const[n,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(null);j.useEffect(()=>{t?.enabled?u():o(!1)},[e,t?.enabled]);const u=async()=>{try{o(!0),c(null);const f=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?store_id=${e}`)).json();f.success?a(f.reels||[]):(console.log("Failed to fetch reels:",f.error),t?.manual_reels?.length&&a(t.manual_reels.map(m=>({id:m.url,type:"manual",permalink:m.url,thumbnail_url:m.thumbnail_url,caption:m.caption}))))}catch(d){console.error("Error fetching reels:",d),t?.manual_reels?.length&&a(t.manual_reels.map(f=>({id:f.url,type:"manual",permalink:f.url,thumbnail_url:f.thumbnail_url,caption:f.caption})))}finally{o(!1)}};return t?.enabled?i?s.jsx("section",{className:"py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(ic,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((d,f)=>s.jsx("div",{className:"aspect-[9/16] bg-muted animate-pulse rounded-lg"},f))})]})}):n.length===0?null:s.jsx("section",{className:"py-12 px-4 bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(ic,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]}),r&&s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-pink-500 transition-colors inline-flex items-center gap-1",children:["@",r,s.jsx(Ga,{className:"w-3 h-3"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4",children:n.slice(0,t?.max_reels||6).map(d=>s.jsx(bit,{reel:d},d.id))}),r&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-medium rounded-full hover:opacity-90 transition-opacity",children:[s.jsx(ic,{className:"w-5 h-5"}),"Follow on Instagram"]})})]})}):null},bit=({reel:e})=>{const[t,r]=j.useState(!1);return s.jsxs("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"relative aspect-[9/16] rounded-lg overflow-hidden bg-muted group cursor-pointer",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.thumbnail_url?s.jsx("img",{src:e.thumbnail_url,alt:e.caption||"Instagram Reel",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500/20 via-pink-500/20 to-orange-500/20",children:s.jsx(ic,{className:"w-12 h-12 text-pink-500/50"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx(Fge,{className:"w-6 h-6 text-pink-500 ml-1",fill:"currentColor"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"w-6 h-6 rounded bg-black/50 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"})})})}),e.caption&&s.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent transition-opacity ${t?"opacity-100":"opacity-0"}`,children:s.jsx("p",{className:"text-white text-xs line-clamp-2",children:e.caption})})]})};Mn.registerPlugin(Er);function fj({children:e,className:t="",animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}){const u=j.useRef(null);return j.useEffect(()=>{if(!u.current)return;const d=u.current;let f={opacity:0};switch(r){case"fadeSlideUp":f={opacity:0,y:i};break;case"fadeSlideDown":f={opacity:0,y:-i};break;case"fadeSlideLeft":f={opacity:0,x:i};break;case"fadeSlideRight":f={opacity:0,x:-i};break;case"fadeIn":f={opacity:0};break;case"scaleUp":f={opacity:0,scale:.8};break;case"slideUp":f={y:i};break}return Mn.set(d,f),Mn.to(d,{opacity:1,x:0,y:0,scale:1,duration:n,delay:a,ease:"power2.out",scrollTrigger:{trigger:d,start:`top ${100-o*100}%`,toggleActions:"play none none none"},stagger:l>0?l:void 0,...c}),()=>{Er.getAll().forEach(m=>{m.trigger===d&&m.kill()})}},[r,n,a,i,o,l,c]),s.jsx("div",{ref:u,className:t,children:e})}Mn.registerPlugin(Er);function fR(e={}){const t=j.useRef(null),{animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}=e;return j.useEffect(()=>{const u=t.current;if(!u)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){Mn.set(u,{opacity:1,x:0,y:0,scale:1}),u.children.length>0&&Mn.set(Array.from(u.children),{opacity:1,x:0,y:0,scale:1});return}const f={fadeIn:{from:{opacity:0},to:{opacity:1,duration:n,delay:a}},slideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideDown:{from:{opacity:0,y:-i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideLeft:{from:{opacity:0,x:i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},slideRight:{from:{opacity:0,x:-i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},scale:{from:{opacity:0,scale:.8},to:{opacity:1,scale:1,duration:n,delay:a,ease:"back.out(1.2)"}},fadeSlideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}}},m=f[r]||f.fadeSlideUp,p=l>0&&u.children.length>0,y=p?Array.from(u.children):u;Mn.set(y,m.from);const g=Mn.context(()=>{u.getBoundingClientRect().top<window.innerHeight*.9?Mn.to(y,{...m.to,stagger:p?l:0,...c}):Er.create({trigger:u,start:"top 90%",once:!0,onEnter:()=>{Mn.to(y,{...m.to,stagger:p?l:0,...c})}})});return()=>{g.revert(),Er.getAll().forEach(v=>{v.trigger===u&&v.kill()})}},[r,n,a,i,o,l,c]),t}const sJ=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,[n,a]=j.useState(null),[i,o]=j.useState(null),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,m]=j.useState([]),[p,y]=j.useState([]),[g,v]=j.useState(!0),[_,w]=j.useState(!1),b=fR({animation:"slideUp",duration:.6,stagger:.1,delay:.2}),E=fR({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),S=fR({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),C=Qc(),k=C?"/products":`/${r}/products`;j.useEffect(()=>{R()},[r]),j.useEffect(()=>{if(!n?.ai_voice_embed_code)return;if(document.querySelector('script[src*="elevenlabs"]')){w(!0);return}const O=document.createElement("script");return O.src="https://unpkg.com/@elevenlabs/convai-widget-embed",O.async=!0,O.type="text/javascript",O.onload=()=>{console.log("ElevenLabs widget script loaded successfully"),w(!0)},O.onerror=A=>{console.error("Failed to load ElevenLabs widget script:",A)},document.body.appendChild(O),()=>{O.parentNode&&O.parentNode.removeChild(O)}},[n?.ai_voice_embed_code]),NUe(n&&i?{store:{id:n.id,name:n.name,slug:n.slug,description:n.description,logo_url:n.logo_url,address:n.address,whatsapp_number:n.whatsapp_number,social_links:n.social_links,alternate_names:n.alternate_names,seo_description:n.seo_description,business_phone:n.business_phone,business_email:n.business_email,street_address:n.street_address,city:n.city,state:n.state,postal_code:n.postal_code,country:n.country,opening_hours:n.opening_hours,facebook_url:n.facebook_url,instagram_url:n.instagram_url,twitter_url:n.twitter_url,price_range:n.price_range},email:i.email||void 0,breadcrumbs:[{name:"Home",url:window.location.origin},{name:n.name,url:window.location.href}]}:null);const R=async()=>{try{v(!0);const P=Qc();let O=Q.from("stores").select("*").eq("is_active",!0);P&&r?r.includes(".")?O=O.or(`custom_domain.eq.${r},subdomain.eq.${r}`):O=O.or(`subdomain.eq.${r},slug.eq.${r}`):O=O.eq("slug",r);const{data:A,error:D}=await O.maybeSingle();if(D)throw D;if(!A){Me({title:"Store not found",description:"The store you're looking for doesn't exist or is inactive.",variant:"destructive"});return}a({...A,social_links:A.social_links,policies:A.policies,instagram_reels_settings:A.instagram_reels_settings});const{data:F}=await Q.from("profiles").select("phone, email").eq("user_id",A.user_id).maybeSingle();F&&o(F);const{data:B,error:z}=await Q.from("categories").select("*").eq("store_id",A.id).order("name");z?console.error("Error fetching categories:",z):B&&y(B);const q=await eb(A.id);c(q),d(q.slice(0,16));const G=[...q].sort((Y,M)=>new Date(M.created_at||"").getTime()-new Date(Y.created_at||"").getTime());m(G.slice(0,4))}catch(P){console.error("Error loading store:",P),Me({title:"Error",description:P.message,variant:"destructive"})}finally{v(!1)}};return g?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin"})}):n?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(RL,{title:`${n.name} - Online Store | Shop Quality Products`,description:n.description||`Browse ${n.name}'s collection of quality products. ${p.length>0?"Explore categories: "+p.map(P=>P.name).slice(0,3).join(", "):""}`,canonical:lce(n.slug,n.subdomain,n.custom_domain),image:n.logo_url||n.hero_banner_url||"https://digitaldukandar.in/logo.png",keywords:p.map(P=>P.name).concat([n.name,"online store","shop"]),type:"website"}),s.jsx(oo,{storeSlug:n.slug,storeId:n.id}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Mle,{bannerUrls:n.hero_banner_urls&&n.hero_banner_urls.length>0?n.hero_banner_urls:n.hero_banner_url?[n.hero_banner_url]:[],storeName:n.name,logoUrl:n.logo_url,storeDescription:n.description}),p.length>0&&s.jsx("section",{className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsx(fj,{animation:"fadeSlideUp",duration:.8,children:s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]})}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{ref:b,className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:p.map((P,O)=>{const A=l.filter(D=>D.category===P.name&&D.status==="published").length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",children:s.jsx(yL,{name:P.name,image_url:P.image_url,productCount:A,slug:C?void 0:n?.slug})},P.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(fj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(kt,{to:k,children:s.jsxs(ie,{variant:"outline",children:["See All",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]})}),u.length>0?s.jsx("div",{ref:E,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(P=>s.jsx(N0,{id:P.id,slug:P.slug,name:P.name,category:P.category,priceRange:P.price_range||"",images:P.images,status:P.status,storeSlug:C?void 0:n.slug},P.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),n.instagram_reels_settings?.enabled&&n.instagram_reels_settings?.show_on_homepage&&s.jsx(yit,{storeId:n.id,settings:n.instagram_reels_settings,instagramUsername:n.instagram_username||void 0}),f.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(fj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx(kt,{to:k,children:s.jsxs(ie,{variant:"outline",children:["See All",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("div",{ref:S,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(P=>s.jsx(N0,{id:P.id,slug:P.slug,name:P.name,category:P.category,priceRange:P.price_range||"",images:P.images,status:P.status,storeSlug:C?void 0:n.slug},P.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground mb-0",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(fj,{animation:"scaleUp",duration:.8,children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore our full collection of amazing products"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(kt,{to:k,children:s.jsxs(ie,{size:"lg",variant:"secondary",children:["Browse All Products",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})}),n.whatsapp_number&&s.jsx("a",{href:`https://wa.me/${n.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(ie,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["Contact on WhatsApp",s.jsx(ya,{className:"w-4 h-4 ml-2"})]})})]})]})})})]}),s.jsx(kb,{storeName:n.name,storeDescription:n.description,whatsappNumber:n.whatsapp_number,phone:i?.phone,email:i?.email,address:n.address,facebookUrl:n.facebook_url,instagramUrl:n.instagram_url,twitterUrl:n.twitter_url,youtubeUrl:n.youtube_url,linkedinUrl:n.linkedin_url,socialLinks:n.social_links,policies:n.policies}),n.ai_voice_embed_code&&_&&(()=>{const P=n.ai_voice_embed_code.match(/agent-id="([^"]+)"/),O=P?P[1]:null;return O?s.jsx("elevenlabs-convai",{"agent-id":O,style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999}}):(console.error("No agent-id found in ai_voice_embed_code"),null)})()]}):s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Store Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The store you're looking for doesn't exist."}),s.jsx(kt,{to:"/",children:s.jsx(ie,{children:"Go Home"})})]})},aJ=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,n=xr(),[a,i]=j.useState(!0),[o,l]=j.useState(null),[c,u]=j.useState(null);j.useEffect(()=>{d()},[r]),j.useEffect(()=>{if(window.location.hash){const m=document.querySelector(window.location.hash);m&&setTimeout(()=>{m.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[a]);const d=async()=>{try{i(!0);const{data:m,error:p}=await Q.from("stores").select("*").eq("slug",r).eq("is_active",!0).single();if(p||!m){ot.error("Store not found"),n("/");return}l(m);const{data:y}=await Q.from("profiles").select("phone, email").eq("user_id",m.user_id).single();y&&u(y)}catch(m){console.error("Error loading store:",m),ot.error("Failed to load store information")}finally{i(!1)}};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return null;const f=o.policies||{};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oo,{storeSlug:r}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[s.jsxs(ie,{variant:"ghost",onClick:()=>n(`/${r}`),className:"mb-6",children:[s.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Store Policies"}),s.jsx("p",{className:"text-muted-foreground",children:"Learn about our policies and terms of service"})]}),s.jsx("section",{id:"terms",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Terms & Conditions"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.termsConditions||"Terms and conditions will be available soon."})]})}),s.jsx("section",{id:"return-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Return Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.returnPolicy||"Return policy will be available soon."})]})}),s.jsx("section",{id:"shipping-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Shipping Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.shippingPolicy||"Shipping policy will be available soon."})]})}),s.jsx("section",{id:"privacy-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Privacy Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.privacyPolicy||"Privacy policy will be available soon."})]})}),f.deliveryAreas&&s.jsx("section",{id:"delivery-areas",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Delivery Areas"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.deliveryAreas})]})}),o.address&&s.jsx("section",{id:"address",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Store Address"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:o.address})]})})]})]}),s.jsx(kb,{storeName:o.name,storeDescription:o.description,whatsappNumber:o.whatsapp_number,phone:c?.phone,email:c?.email,address:o.address,facebookUrl:o.facebook_url,instagramUrl:o.instagram_url,twitterUrl:o.twitter_url,youtubeUrl:o.youtube_url,linkedinUrl:o.linkedin_url,socialLinks:o.social_links,policies:o.policies})]})},wit=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(kt,{to:"/",children:s.jsxs(ie,{variant:"ghost",size:"sm",children:[s.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['Welcome to Digital Dukandar ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website ',s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"})," and use our multi-vendor store platform services."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Personal Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Register for an account (name, email address, phone number)"}),s.jsx("li",{children:"Create a store or product listing"}),s.jsx("li",{children:"Make a purchase through our platform"}),s.jsx("li",{children:"Contact our customer support"}),s.jsx("li",{children:"Sign in using Google OAuth (email, profile picture, name)"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"2.2 Automatically Collected Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you visit our website, we automatically collect certain information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Device information (browser type, operating system)"}),s.jsx("li",{children:"IP address and location data"}),s.jsx("li",{children:"Usage data (pages visited, time spent on pages)"}),s.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To process transactions and deliver products/services"}),s.jsx("li",{children:"To send order confirmations and updates"}),s.jsx("li",{children:"To provide customer support"}),s.jsx("li",{children:"To improve our platform and user experience"}),s.jsx("li",{children:"To send promotional communications (with your consent)"}),s.jsx("li",{children:"To comply with legal obligations"}),s.jsx("li",{children:"To detect and prevent fraud or abuse"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing and Disclosure"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may share your information in the following situations:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"With Store Owners:"})," When you make a purchase, we share your order details with the relevant store owner"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Providers:"})," We may share data with third-party service providers (payment processors, hosting services, analytics providers)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We do not sell your personal information to third parties."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Your Privacy Rights"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the following rights regarding your personal information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Cookies and Tracking Technologies"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your experience on our platform. Cookies help us remember your preferences, analyze site usage, and provide personalized content. You can control cookie settings through your browser preferences."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Third-Party Services"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our platform integrates with third-party services:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Google OAuth:"})," For authentication (subject to Google's Privacy Policy)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase:"})," For database and authentication services"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"WhatsApp:"})," For order notifications"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"These services have their own privacy policies, and we encourage you to review them."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our services are not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Data Transfers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. We encourage you to review this Privacy Policy periodically.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),_it=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(kt,{to:"/",children:s.jsxs(ie,{variant:"ghost",size:"sm",children:[s.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["By accessing or using Digital Dukandar's services available at ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"}),' ("Platform"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our Platform.']})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"YesGive is a multi-vendor e-commerce platform that enables:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Store owners to create and manage online stores"}),s.jsx("li",{children:"Product listing and inventory management"}),s.jsx("li",{children:"Order processing through WhatsApp and website checkouts"}),s.jsx("li",{children:"Customer management and analytics"}),s.jsx("li",{children:"Subscription-based access to platform features"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Account Creation"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features, you must create an account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate, current, and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Notify us immediately of any unauthorized access"}),s.jsx("li",{children:"Be responsible for all activities under your account"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"3.2 Account Types"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Store Owners:"})," Can create stores, manage products, and process orders"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Customers:"})," Can browse stores, place orders, and manage their profiles"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Super Admin:"})," Platform administrators with full access"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Subscription Plans and Payments"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.1 Subscription Tiers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We offer various subscription plans (Free, Basic, Pro, Enterprise) with different features and limits. Plan details are available on our Pricing page."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.2 Payment Terms"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Subscriptions are billed monthly or yearly in advance"}),s.jsx("li",{children:"Payments are non-refundable except as required by law"}),s.jsx("li",{children:"You authorize automatic renewal unless cancelled before the renewal date"}),s.jsx("li",{children:"We reserve the right to change pricing with 30 days' notice"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"4.3 Free Trials"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Free trial periods are subject to terms disclosed at sign-up. We may require payment information upfront but won't charge until the trial ends unless you cancel."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Store Owner Responsibilities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"As a store owner, you agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate product descriptions and pricing"}),s.jsx("li",{children:"Honor all orders placed through your store"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"}),s.jsx("li",{children:"Not sell prohibited items (illegal goods, counterfeit products, etc.)"}),s.jsx("li",{children:"Handle customer data responsibly and securely"}),s.jsx("li",{children:"Respond to customer inquiries in a timely manner"}),s.jsx("li",{children:"Process refunds and returns according to your stated policies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You may not use our Platform to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate any laws or regulations"}),s.jsx("li",{children:"Infringe on intellectual property rights"}),s.jsx("li",{children:"Transmit harmful code, viruses, or malware"}),s.jsx("li",{children:"Engage in fraudulent activities or scams"}),s.jsx("li",{children:"Harass, abuse, or harm other users"}),s.jsx("li",{children:"Scrape or copy content without permission"}),s.jsx("li",{children:"Interfere with the Platform's operation"}),s.jsx("li",{children:"Create fake accounts or impersonate others"}),s.jsx("li",{children:"Manipulate prices, reviews, or ratings"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Content and Intellectual Property"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.1 Your Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You retain ownership of content you upload (products, images, descriptions). By uploading content, you grant us a license to display, store, and distribute it as necessary to provide our services."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.2 Our Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Platform, including its design, features, and code, is protected by copyright and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Order Processing and Transactions"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"8.1 Order Placement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Orders placed through the Platform constitute an offer to purchase. Store owners reserve the right to accept or decline orders."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.2 Payment Processing"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Currently, orders are processed via Cash on Delivery (COD) or direct WhatsApp communication. Future payment integrations may be added."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.3 Disputes"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"YesGive acts as a platform provider. Disputes regarding orders, refunds, or product quality should be resolved directly between customers and store owners. We may assist in mediation but are not responsible for transaction outcomes."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Termination"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may suspend or terminate your account if you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate these Terms"}),s.jsx("li",{children:"Engage in fraudulent or illegal activities"}),s.jsx("li",{children:"Fail to pay subscription fees"}),s.jsx("li",{children:"Create risk or legal liability for us"})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You may cancel your account at any time through account settings. Upon termination, you lose access to your store and data."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Disclaimers and Limitations of Liability"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"10.1 Service Availability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We strive for 99.9% uptime but do not guarantee uninterrupted service. We are not liable for downtime, data loss, or service interruptions."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.2 No Warranty"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Platform is provided "as is" without warranties of any kind, express or implied. We do not guarantee that the service will be error-free or secure.'}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.3 Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To the maximum extent permitted by law, YesGive shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Indemnification"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to indemnify and hold YesGive harmless from any claims, damages, or expenses arising from your use of the Platform, violation of these Terms, or infringement of any rights."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may modify these Terms at any time. Changes will be effective upon posting. Continued use of the Platform constitutes acceptance of modified Terms. Material changes will be communicated via email or platform notifications."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Governing Law and Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"These Terms are governed by the laws of India. Any disputes shall be resolved through:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Informal negotiation (30 days)"}),s.jsx("li",{children:"Binding arbitration (if negotiation fails)"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For questions about these Terms, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Severability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If any provision of these Terms is found to be unenforceable, the remaining provisions will continue in full effect."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Entire Agreement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and YesGive regarding use of the Platform."})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),jit=Zm({full_name:Kr().min(2,"Name must be at least 2 characters"),email:Kr().email("Invalid email address"),phone:Kr().regex(/^\d{10}$/,"Phone number must be 10 digits"),why_helper:Kr().optional(),bank_account_name:Kr().min(2,"Account holder name is required"),bank_account_number:Kr().min(8,"Invalid account number"),bank_ifsc_code:Kr().regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),bank_name:Kr().min(2,"Bank name is required"),terms:Tc().refine(e=>e===!0,"You must agree to terms and conditions")});function Nit(){const[e]=gw(),[t,r]=j.useState(!1),[n,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,m]=j.useState(null),[p,y]=j.useState(!1),[g,v]=j.useState(""),_=e.get("ref"),w=Pw({resolver:Ow(jit),defaultValues:{full_name:"",email:"",phone:"",why_helper:"",bank_account_name:"",bank_account_number:"",bank_ifsc_code:"",bank_name:"",terms:!1}});j.useEffect(()=>{(async()=>{const{data:{session:C}}=await Q.auth.getSession();if(C?.user){const k=C.user;k.app_metadata?.provider==="google"&&(d(!0),m(k.id),w.setValue("email",k.email||""),w.setValue("full_name",k.user_metadata?.full_name||k.user_metadata?.name||""),ot.info("Signed in with Google! Please complete the remaining fields."))}})()},[]),j.useEffect(()=>{_&&Q.from("helpers").select("full_name").eq("referral_code",_).single().then(({data:S})=>{S&&o(S.full_name)})},[_]);const b=async()=>{try{c(!0),console.log("[BecomeHelper] Starting Google sign up...");const S=_?`${window.location.origin}/become-helper?ref=${_}`:`${window.location.origin}/become-helper`,{error:C}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:S}});C?(console.error("[BecomeHelper] Google sign up error:",C),ot.error(C.message||"Failed to sign up with Google")):console.log("[BecomeHelper] Google OAuth redirect initiated")}catch(S){console.error("[BecomeHelper] Unexpected error:",S),ot.error(S.message||"An unexpected error occurred")}finally{c(!1)}},E=async S=>{try{const{data:C}=await Q.from("stores").select("id, name, user_id").eq("user_id",await Q.from("profiles").select("user_id").eq("email",S.email).maybeSingle().then(({data:z})=>z?.user_id)).maybeSingle();if(C){v(`This email (${S.email}) is already registered as a store owner of "${C.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}const{data:k}=await Q.from("profiles").select("user_id").eq("email",S.email).maybeSingle();if(k){const{data:z}=await Q.from("stores").select("id, name").eq("user_id",k.user_id).maybeSingle();if(z){v(`This email is registered as store owner of "${z.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}}const{data:R}=await Q.from("stores").select("id, name, whatsapp_number").eq("whatsapp_number",S.phone).maybeSingle();if(R){v(`This phone number is already registered for store "${R.name}". Store owners cannot become helpers. Please use a different phone number.`),y(!0);return}const{data:P}=await Q.from("helper_applications").select("email").eq("email",S.email).maybeSingle();if(P){ot.error("This email is already registered as a helper");return}const{data:O}=await Q.from("helper_applications").select("phone").eq("phone",S.phone).maybeSingle();if(O){ot.error("This phone number is already registered as a helper");return}if(!u||!f){ot.error("Please sign in with Google first to submit your application");return}const A=f;let D=null;if(_){const{data:z}=await Q.from("helpers").select("id").eq("referral_code",_).single();z&&(D=z.id)}const{data:F,error:B}=await Q.from("helper_applications").insert({user_id:A,full_name:S.full_name,email:S.email,phone:S.phone,why_helper:S.why_helper,bank_account_name:S.bank_account_name,bank_account_number:S.bank_account_number,bank_ifsc_code:S.bank_ifsc_code,bank_name:S.bank_name,recruited_by_helper_id:D}).select().single();if(B)throw B;a(F.id.slice(0,8).toUpperCase()),r(!0),ot.success("Account created! Application submitted successfully!")}catch(C){console.error("Error submitting application:",C),ot.error(C.message||"Failed to submit application. Please try again.")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(Se,{className:"max-w-2xl w-full",children:[s.jsxs(Ze,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-4",children:s.jsx(js,{className:"w-10 h-10 text-white"})}),s.jsx(Qe,{className:"text-3xl",children:"Application Submitted Successfully! "}),s.jsx(Ir,{className:"text-lg mt-4",children:"We'll review your application within 2-3 business days and notify you via email"})]}),s.jsxs(Te,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Application ID"}),s.jsxs("p",{className:"text-2xl font-bold",children:["#",n]})]}),s.jsx(kt,{to:"/application-status",children:s.jsx(ie,{className:"w-full",children:"Check Application Status"})})]})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground py-16 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Join Our Helper Program & Earn Commissions"}),s.jsx("p",{className:"text-xl opacity-90 mb-8",children:"Help businesses grow and earn money for every paying customer you bring"}),i&&s.jsx("div",{className:"bg-primary-foreground text-primary p-4 rounded-lg inline-block mb-8",children:s.jsxs("p",{className:"font-semibold",children:["You're applying via ",s.jsxs("span",{className:"text-primary",children:[i,"'s"]})," referral"]})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Ya,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Earn 10% commission on every subscription you refer"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Bi,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Build your own helper network and earn additional 5%"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(_f,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Flexible working - work from anywhere"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(js,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"No investment required - completely free to join"})]})]})]})}),s.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4",children:s.jsxs(Se,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Application Form"}),s.jsx(Ir,{children:"Fill in your details to become a helper"})]}),s.jsxs(Te,{children:[!u&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Please sign in with Google to continue with your application"}),s.jsx(ie,{type:"button",onClick:b,disabled:l,variant:"outline",className:"w-full",size:"lg",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing up..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),u&&s.jsx(Rw,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(E),className:"space-y-6",children:[s.jsx(cr,{control:w.control,name:"full_name",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Full Name *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Enter your full name",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:w.control,name:"email",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Email Address *"}),s.jsx(lr,{children:s.jsx(ze,{type:"email",placeholder:"Enter your email",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:w.control,name:"phone",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"UPI Phone Number *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Enter 10-digit phone number",...S})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:w.control,name:"why_helper",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Why do you want to become a helper?"}),s.jsx(lr,{children:s.jsx(_a,{placeholder:"Tell us why you want to join our helper program",className:"min-h-32",...S})}),s.jsx(Dr,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Bank Account Details"}),s.jsx(cr,{control:w.control,name:"bank_account_name",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Account Holder Name *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"As per bank records",...S})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:w.control,name:"bank_account_number",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Account Number *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Enter account number",...S})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:w.control,name:"bank_ifsc_code",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"IFSC Code *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"e.g., SBIN0001234",...S})}),s.jsx(Dr,{})]})}),s.jsx(cr,{control:w.control,name:"bank_name",render:({field:S})=>s.jsxs(or,{children:[s.jsx(ur,{children:"Bank Name *"}),s.jsx(lr,{children:s.jsx(ze,{placeholder:"Enter your bank name",...S})}),s.jsx(Dr,{})]})})]}),s.jsx(cr,{control:w.control,name:"terms",render:({field:S})=>s.jsxs(or,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(lr,{children:s.jsx(hi,{checked:S.value,onCheckedChange:S.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(ur,{children:"I agree to terms and conditions *"}),s.jsx(Dr,{})]})]})}),s.jsx(ie,{type:"submit",className:"w-full",size:"lg",children:"Apply Now"})]})})]})]})}),s.jsx(Tn,{open:p,onOpenChange:y,children:s.jsxs(jn,{className:"sm:max-w-md",children:[s.jsxs(An,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Hn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(Pn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(Ns,{className:"text-center text-base pt-4",children:g})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(ie,{onClick:()=>y(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})}function Sit(){const[e,t]=j.useState(""),[r,n]=j.useState(null),[a,i]=j.useState(!1),[o,l]=j.useState(!1),c=async()=>{if(!e.trim()){ot.error("Please enter an email or phone number");return}i(!0),l(!0);try{const{data:d,error:f}=await Q.from("helper_applications").select("*").or(`email.eq.${e},phone.eq.${e}`).single();if(f||!d){n(null);return}n(d)}catch(d){console.error("Error searching application:",d),ot.error("Failed to search application")}finally{i(!1)}},u=d=>{switch(d){case"Pending":return s.jsxs(jt,{className:"bg-yellow-500 text-white",children:[s.jsx(gs,{className:"w-4 h-4 mr-1"}),"Application Pending"]});case"Approved":return s.jsxs(jt,{className:"bg-green-500 text-white",children:[s.jsx(js,{className:"w-4 h-4 mr-1"}),"Application Approved!"]});case"Rejected":return s.jsxs(jt,{className:"bg-red-500 text-white",children:[s.jsx(Hn,{className:"w-4 h-4 mr-1"}),"Application Not Approved"]});default:return null}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Check Application Status"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Enter your email or phone number to check your helper application status"})]}),s.jsxs(Se,{className:"mb-8",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Search Your Application"}),s.jsx(Ir,{children:"Enter the email or phone number you used to apply"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(ze,{placeholder:"Enter email or phone number",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),s.jsxs(ie,{onClick:c,disabled:a,children:[s.jsx(xc,{className:"w-4 h-4 mr-2"}),a?"Searching...":"Check Status"]})]})})]}),o&&!a&&s.jsx(s.Fragment,{children:r?s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{children:"Application Details"}),u(r.application_status)]})}),s.jsxs(Te,{className:"space-y-6",children:[r.application_status==="Pending"&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg mb-2 text-yellow-900 dark:text-yellow-100",children:"Your application is under review. We'll notify you within 2-3 business days."}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Application ID:"})," ",r.id.slice(0,8).toUpperCase()]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Applied on:"})," ",br(new Date(r.created_at),"PPP")]})]})]}),r.application_status==="Approved"&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Congratulations! Your application has been approved."}),s.jsx("div",{className:"mt-4 space-y-2 text-sm text-green-800 dark:text-green-200",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"Approved on:"})," ",r.approved_at?br(new Date(r.approved_at),"PPP"):"N/A"]})}),s.jsx(kt,{to:"/auth",children:s.jsx(ie,{className:"mt-4 w-full",children:"Login to Dashboard"})})]}),r.application_status==="Rejected"&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-4",children:"Your application was not approved at this time."}),r.rejection_reason&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-1 text-red-900 dark:text-red-100",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r.rejection_reason})]}),s.jsxs("div",{className:"space-y-2 text-sm text-red-800 dark:text-red-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Rejected on:"})," ",br(new Date(r.created_at),"PPP")]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Can reapply on:"})," ",br(e7e(new Date(r.created_at),30),"PPP")]})]}),s.jsx("p",{className:"mt-4 text-sm text-red-700 dark:text-red-300",children:"You can reapply after 30 days from rejection date"})]})]})]}):s.jsx(Se,{children:s.jsxs(Te,{className:"py-12 text-center",children:[s.jsx(Hn,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Application Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find an application with this email or phone number"}),s.jsx(kt,{to:"/become-helper",children:s.jsx(ie,{children:"Apply Now"})})]})})})]})})}function kit(){const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState({directReferrals:{total:0,trial:0,paid:0,conversionRate:0},helperNetwork:{total:0,pending:0,approved:0,suspended:0},directCommission:{total:0,pending:0,paid:0},networkCommission:{total:0,pending:0,paid:0}});j.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:y}}=await Q.auth.getUser();if(!y){e("/auth");return}const{data:g,error:v}=await Q.from("helpers").select("*").eq("email",y.email).single();if(v||!g){const{data:_}=await Q.from("helper_applications").select("*").eq("email",y.email).single();if(_){if(_.application_status==="Pending"){e("/application-status");return}else if(_.application_status==="Rejected"){t({title:"Application Rejected",description:_.rejection_reason||"Your application was not approved",variant:"destructive"}),e("/application-status");return}}else{e("/become-helper");return}}if(g.status==="Suspended"){t({title:"Account Suspended",description:"Your helper account has been suspended. Please contact support.",variant:"destructive"});return}i(g),await u(g.id),n(!1)}catch(y){console.error("Error checking helper access:",y),e("/auth")}},u=async y=>{try{const{data:g}=await Q.from("store_referrals").select("*").eq("helper_id",y),v=g?.length||0,_=g?.filter(q=>!q.subscription_purchased).length||0,w=g?.filter(q=>q.subscription_purchased).length||0,b=v>0?w/v*100:0,{data:E}=await Q.from("helpers").select("*, helper_applications!inner(*)").eq("recruited_by_helper_id",y),S=E?.length||0,{data:C}=await Q.from("helper_applications").select("*").eq("recruited_by_helper_id",y).eq("application_status","Pending"),k=E?.filter(q=>q.status==="Active").length||0,R=E?.filter(q=>q.status==="Suspended").length||0,{data:P}=await Q.from("network_commissions").select("*").eq("earning_helper_id",y),O=P?.reduce((q,G)=>q+(G.direct_commission_amount||0),0)||0,A=P?.reduce((q,G)=>q+(G.network_commission_amount||0),0)||0,D=P?.filter(q=>q.commission_status.includes("Pending")).reduce((q,G)=>q+(G.direct_commission_amount||0),0)||0,F=P?.filter(q=>q.commission_status==="Paid").reduce((q,G)=>q+(G.direct_commission_amount||0),0)||0,B=P?.filter(q=>q.commission_status.includes("Pending")).reduce((q,G)=>q+(G.network_commission_amount||0),0)||0,z=P?.filter(q=>q.commission_status==="Paid").reduce((q,G)=>q+(G.network_commission_amount||0),0)||0;l({directReferrals:{total:v,trial:_,paid:w,conversionRate:Math.round(b)},helperNetwork:{total:S,pending:C?.length||0,approved:k,suspended:R},directCommission:{total:O,pending:D,paid:F},networkCommission:{total:A,pending:B,paid:z}})}catch(g){console.error("Error loading stats:",g)}},d=(y,g)=>{navigator.clipboard.writeText(y),ot.success(`${g} link copied to clipboard!`)},f=async()=>{await Q.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});if(!a)return null;const m=`${window.location.origin}/auth?ref=${a.referral_code}`,p=`${window.location.origin}/become-helper?ref=${a.referral_code}`;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qu,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Helper Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(wf,{className:"h-5 w-5"}),s.jsx("span",{children:a.full_name})]})}),s.jsxs(ou,{align:"end",className:"w-56",children:[s.jsxs(Fn,{onClick:()=>e("/helper/profile"),children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Ym,{}),s.jsxs(Fn,{onClick:f,className:"text-destructive",children:[s.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold",children:["Welcome back, ",a.full_name,"!"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs(jt,{variant:"outline",className:"font-mono",children:["ID: ",a.referral_code]}),s.jsx(jt,{className:a.status==="Active"?"bg-green-500":"bg-yellow-500",children:a.status})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Se,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Direct Referrals"}),s.jsx(Bi,{className:"h-5 w-5 text-blue-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:o.directReferrals.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.directReferrals.trial," on trial"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.directReferrals.paid," paid customers"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"h-3 w-3"}),s.jsxs("span",{children:["Conversion: ",o.directReferrals.conversionRate,"%"]})]})]})]})]}),s.jsxs(Se,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Helper Network"}),s.jsx(cm,{className:"h-5 w-5 text-purple-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:o.helperNetwork.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.helperNetwork.pending," pending approval"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.helperNetwork.approved," approved & active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-3 w-3 text-red-500"}),s.jsxs("span",{children:[o.helperNetwork.suspended," suspended"]})]})]})]})]}),s.jsxs(Se,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Direct Commission"}),s.jsx(Ya,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500 mb-2",children:["",o.directCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.directCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.directCommission.paid.toLocaleString()," paid"]})]})]})]})]}),s.jsxs(Se,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Network Commission"}),s.jsx(RB,{className:"h-5 w-5 text-orange-500"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:["",o.networkCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.networkCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.networkCommission.paid.toLocaleString()," paid"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(Se,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-referrals"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Store Referrals"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.directReferrals.total," store owners you've referred"]})]}),s.jsx(ya,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(Se,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-helper-network"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Helper Network"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.helperNetwork.total," helpers you've recruited"]})]}),s.jsx(ya,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(Se,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/commission-history"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Commission History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View earnings & payment details"})]}),s.jsx(ya,{className:"h-6 w-6 text-primary"})]})})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(RB,{className:"h-5 w-5"}),"Your Referral Links"]})}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Store Owner Referral Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to refer store owners"})]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(MB,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:m}),s.jsxs(ie,{onClick:()=>d(m,"Store referral"),className:"gap-2",children:[s.jsx(Ql,{className:"h-4 w-4"}),"Copy"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Helper Recruitment Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to recruit helpers"})]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(MB,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:p}),s.jsxs(ie,{onClick:()=>d(p,"Helper recruitment"),className:"gap-2",children:[s.jsx(Ql,{className:"h-4 w-4"}),"Copy"]})]})]})]})]})]})]})}function Cit(){const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState([]),[d,f]=j.useState(""),[m,p]=j.useState("all"),[y,g]=j.useState(""),[v,_]=j.useState(""),[w,b]=j.useState({totalReferrals:0,onTrial:0,convertedToPaid:0,conversionRate:0,totalCommission:0,pendingPayment:0,alreadyPaid:0});j.useEffect(()=>{E()},[]),j.useEffect(()=>{C()},[o,d,m,y,v]);const E=async()=>{try{const{data:{user:O}}=await Q.auth.getUser();if(!O){e("/auth");return}const{data:A,error:D}=await Q.from("helpers").select("*").eq("email",O.email).single();if(D||!A){e("/helper/dashboard");return}i(A),await S(A.id),n(!1)}catch(O){console.error("Error checking helper access:",O),e("/auth")}},S=async O=>{try{const{data:A,error:D}=await Q.from("store_referrals").select("*").eq("helper_id",O).order("signup_date",{ascending:!1});if(D)throw D;const F=A?.length||0,B=A?.filter(L=>L.trial_status==="Active"&&!L.subscription_purchased).length||0,z=A?.filter(L=>L.subscription_purchased).length||0,q=F>0?z/F*100:0,{data:G}=await Q.from("network_commissions").select("*").eq("earning_helper_id",O).in("store_referral_id",A?.map(L=>L.id)||[]),Y=G?.reduce((L,J)=>L+(J.direct_commission_amount||0),0)||0,M=G?.filter(L=>L.commission_status.includes("Pending")).reduce((L,J)=>L+(J.direct_commission_amount||0),0)||0,H=G?.filter(L=>L.commission_status==="Paid").reduce((L,J)=>L+(J.direct_commission_amount||0),0)||0;b({totalReferrals:F,onTrial:B,convertedToPaid:z,conversionRate:Math.round(q),totalCommission:Y,pendingPayment:M,alreadyPaid:H});const Z=A?.map(L=>{const J=G?.find(V=>V.store_referral_id===L.id);return{...L,commissionEarned:J?.direct_commission_amount||0,commissionStatus:J?.commission_status||"Not Earned",paymentDate:J?.payment_date||null}})||[];l(Z),u(Z)}catch(A){console.error("Error loading referrals:",A),ot.error("Failed to load referrals")}},C=()=>{let O=[...o];d&&(O=O.filter(A=>A.store_owner_name?.toLowerCase().includes(d.toLowerCase())||A.store_owner_email?.toLowerCase().includes(d.toLowerCase()))),m==="paid"?O=O.filter(A=>A.subscription_purchased):m==="trial"&&(O=O.filter(A=>!A.subscription_purchased)),y&&(O=O.filter(A=>new Date(A.signup_date)>=new Date(y))),v&&(O=O.filter(A=>new Date(A.signup_date)<=new Date(v))),u(O)},k=O=>{if(O.subscription_purchased)return{label:"Purchased",color:"bg-green-500",icon:cn};if(O.trial_status==="Active"){const A=O.trial_end_date?JN(new Date(O.trial_end_date),new Date):0;return A>0?{label:`Active Trial (${A}d left)`,color:"bg-yellow-500",icon:gs}:{label:"Trial Expired",color:"bg-red-500",icon:Hn}}return{label:"Trial Expired",color:"bg-red-500",icon:Hn}},R=O=>O==="Paid"?s.jsx(jt,{className:"bg-blue-500",children:"Paid"}):O.includes("Pending")?s.jsx(jt,{className:"bg-yellow-500",children:"Pending"}):O.includes("Earned")?s.jsx(jt,{className:"bg-green-500",children:"Earned"}):s.jsx(jt,{variant:"outline",children:"Not Earned"}),P=async()=>{await Q.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading referrals..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ie,{variant:"ghost",size:"sm",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qu,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Referrals"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(wf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(ou,{align:"end",className:"w-56",children:[s.jsxs(Fn,{children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Ym,{}),s.jsxs(Fn,{onClick:P,className:"text-destructive",children:[s.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Referrals"})}),s.jsx(Te,{children:s.jsx("div",{className:"text-3xl font-bold",children:w.totalReferrals})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"On Trial / Paid"})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[s.jsx("span",{className:"text-yellow-500",children:w.onTrial})," / ",s.jsx("span",{className:"text-green-500",children:w.convertedToPaid})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Conversion: ",w.conversionRate,"%"]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"})}),s.jsx(Te,{children:s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",w.totalCommission.toLocaleString()]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",w.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",w.alreadyPaid.toLocaleString()]})]})]})})]})]}),s.jsx(Se,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(ze,{placeholder:"Search by name or email...",value:d,onChange:O=>f(O.target.value),className:"pl-10"})]}),s.jsxs(_r,{value:m,onValueChange:p,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Filter by status"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"Show All"}),s.jsx(Ke,{value:"paid",children:"Show Only Paid"}),s.jsx(Ke,{value:"trial",children:"Show Only Trials"})]})]}),s.jsx(ze,{type:"date",placeholder:"From date",value:y,onChange:O=>g(O.target.value)}),s.jsx(ze,{type:"date",placeholder:"To date",value:v,onChange:O=>_(O.target.value)})]})})}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{children:["Store Referrals (",c.length,")"]})}),s.jsx(Te,{children:c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No referrals found"})]}):s.jsx("div",{className:"space-y-4",children:c.map(O=>{const A=k(O),D=A.icon;return s.jsx(Se,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:O.store_owner_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:O.store_owner_email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:O.store_owner_phone}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx(hc,{className:"inline w-3 h-3 mr-1"}),"Signed up: ",br(new Date(O.signup_date),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Status"}),s.jsxs(jt,{className:`${A.color} flex items-center gap-1 w-fit`,children:[s.jsx(D,{className:"w-3 h-3"}),A.label]}),O.subscription_purchased&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsxs("div",{className:"text-muted-foreground",children:["Plan: ",O.subscription_plan]}),s.jsxs("div",{className:"text-muted-foreground",children:["Amount: ",O.subscription_amount?.toLocaleString()]}),O.purchase_date&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Purchased: ",br(new Date(O.purchase_date),"PP")]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500",children:["",O.commissionEarned.toLocaleString()]}),s.jsx("div",{className:"mt-2",children:R(O.commissionStatus)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Payment"}),O.paymentDate?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:"Paid on:"}),s.jsx("div",{className:"font-medium",children:br(new Date(O.paymentDate),"PPP")})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not paid yet"})]})]})})},O.id)})})})]})]})]})}function Eit(){const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState({totalRecruited:0,pendingApproval:0,active:0,suspended:0,totalNetworkCommission:0,pendingCommission:0,paidCommission:0,bestPerformer:{name:"",earned:0}});j.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:v}}=await Q.auth.getUser();if(!v){e("/auth");return}const{data:_,error:w}=await Q.from("helpers").select("*").eq("email",v.email).single();if(w||!_){e("/helper/dashboard");return}i(_),await f(_.id),n(!1)}catch(v){console.error("Error checking helper access:",v),e("/auth")}},f=async v=>{try{const{data:_,error:w}=await Q.from("helpers").select(`
          *,
          helper_applications!inner(application_status)
        `).eq("recruited_by_helper_id",v).order("created_at",{ascending:!1});if(w)throw w;const b=await Promise.all((_||[]).map(async D=>{const{data:F}=await Q.from("store_referrals").select("id").eq("helper_id",D.id),{data:B}=await Q.from("network_commissions").select("direct_commission_amount, commission_status").eq("earning_helper_id",D.id),z=B?.reduce((M,H)=>M+(H.direct_commission_amount||0),0)||0,{data:q}=await Q.from("network_commissions").select("network_commission_amount, commission_status").eq("earning_helper_id",D.id).eq("recruiting_helper_id",v),G=q?.reduce((M,H)=>M+(H.network_commission_amount||0),0)||0;let Y="Not Earned";if(q&&q.length>0){const M=q.some(Z=>Z.commission_status.includes("Pending"));q.every(Z=>Z.commission_status==="Paid")?Y="Paid":M?Y="Pending":Y="Earned"}return{...D,store_referrals_count:F?.length||0,total_commission_earned:z,network_commission_to_recruiter:G,commission_status:Y,application_status:D.helper_applications?.application_status||"Pending"}}));l(b);const E=b.length,S=b.filter(D=>D.application_status==="Pending").length,C=b.filter(D=>D.status==="Active").length,k=b.filter(D=>D.status==="Suspended").length,R=b.reduce((D,F)=>D+F.network_commission_to_recruiter,0),P=b.filter(D=>D.commission_status==="Pending").reduce((D,F)=>D+F.network_commission_to_recruiter,0),O=b.filter(D=>D.commission_status==="Paid").reduce((D,F)=>D+F.network_commission_to_recruiter,0),A=b.reduce((D,F)=>F.network_commission_to_recruiter>D.earned?{name:F.full_name,earned:F.network_commission_to_recruiter}:D,{name:"",earned:0});u({totalRecruited:E,pendingApproval:S,active:C,suspended:k,totalNetworkCommission:R,pendingCommission:P,paidCommission:O,bestPerformer:A})}catch(_){console.error("Error loading recruited helpers:",_),ot.error("Failed to load network data")}},m=(v,_)=>_==="Pending"?s.jsxs(jt,{className:"bg-yellow-500",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Pending Approval"]}):v==="Active"?s.jsxs(jt,{className:"bg-green-500",children:[s.jsx(cn,{className:"w-3 h-3 mr-1"}),"Active"]}):v==="Suspended"?s.jsxs(jt,{className:"bg-red-500",children:[s.jsx(Hn,{className:"w-3 h-3 mr-1"}),"Suspended"]}):s.jsx(jt,{variant:"outline",children:"Unknown"}),p=v=>v==="Paid"?s.jsx(jt,{className:"bg-blue-500",children:"Paid"}):v==="Pending"?s.jsx(jt,{className:"bg-yellow-500",children:"Pending"}):v==="Earned"?s.jsx(jt,{className:"bg-green-500",children:"Earned"}):s.jsx(jt,{variant:"outline",children:"Not Earned"}),y=(v,_)=>{navigator.clipboard.writeText(v),ot.success(`${_} copied to clipboard!`)},g=async()=>{await Q.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading network..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ie,{variant:"ghost",size:"sm",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bR,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Helper Network"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(wf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(ou,{align:"end",className:"w-56",children:[s.jsxs(Fn,{children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Ym,{}),s.jsxs(Fn,{onClick:g,className:"text-destructive",children:[s.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Network Size"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:c.totalRecruited}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Pending: ",c.pendingApproval," | Active: ",c.active]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Network Commission"})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",c.totalNetworkCommission.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["From ",c.active," active helpers"]})]})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Commission Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",c.pendingCommission.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",c.paidCommission.toLocaleString()]})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Best Performer"})}),s.jsx(Te,{children:c.bestPerformer.name?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold text-lg truncate",children:c.bestPerformer.name}),s.jsxs("p",{className:"text-sm text-green-500",children:["Earned you ",c.bestPerformer.earned.toLocaleString()]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet"})})]})]}),o.length===0?s.jsx(Se,{children:s.jsx(Te,{className:"py-16",children:s.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[s.jsx(bR,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Build Your Helper Network"}),s.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"You haven't recruited any helpers yet. Start building your network to earn 5% network commission on their earnings!"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(Ya,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Passive Income"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 5% of everything your recruited helpers earn"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(Cl,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Unlimited Potential"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No limit on how many helpers you can recruit"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(vR,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Build Your Team"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a strong network and grow together"})]})]}),s.jsxs("div",{className:"bg-primary/5 border-2 border-primary/20 rounded-lg p-6",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center justify-center gap-2",children:[s.jsx(Mge,{className:"h-5 w-5"}),"Your Helper Recruitment Link"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-4 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(ie,{onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this link with people interested in becoming helpers"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(Se,{className:"bg-primary/5 border-primary/20",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(wf,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",children:["You (",a?.full_name," - ",a?.helper_id,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Network Builder | ",o.length," Helper",o.length!==1?"s":""," Recruited"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-3 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(ie,{size:"sm",onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Your Recruited Helpers (",o.length,")"]}),o.map((v,_)=>s.jsx(Se,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Bi,{className:"h-4 w-4 text-primary"})}),_<o.length-1&&s.jsx("div",{className:"w-0.5 h-full bg-primary/20 mt-2"})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:v.full_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.id," | ",v.referral_code]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx(hc,{className:"inline w-3 h-3 mr-1"}),"Joined: ",br(new Date(v.created_at),"PPP")]}),s.jsx("div",{className:"mt-2",children:m(v.status,v.application_status)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Their Performance"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qu,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Store Referrals:"}),s.jsx("span",{className:"font-semibold",children:v.store_referrals_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Their Earnings:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",v.total_commission_earned.toLocaleString()]})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Your Network Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500 mb-2",children:["",v.network_commission_to_recruiter.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["5% of their ",v.total_commission_earned.toLocaleString()]}),p(v.commission_status)]}),s.jsx("div",{className:"flex items-center",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})})]})})},v.id))]})]})]})]})}function Tit(){const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState([]),[d,f]=j.useState([]),[m,p]=j.useState([]),[y,g]=j.useState(""),[v,_]=j.useState(""),[w,b]=j.useState("all"),[E,S]=j.useState("all"),[C,k]=j.useState({direct:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},network:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},grand:{total:0,pending:0,paid:0,nextPaymentDate:""}});j.useEffect(()=>{R()},[]),j.useEffect(()=>{O()},[o,c,y,v,w,E]);const R=async()=>{try{const{data:{user:B}}=await Q.auth.getUser();if(!B){e("/auth");return}const{data:z,error:q}=await Q.from("helpers").select("*").eq("email",B.email).single();if(q||!z){e("/helper/dashboard");return}i(z),await P(z.id),n(!1)}catch(B){console.error("Error checking helper access:",B),e("/auth")}},P=async B=>{try{const{data:z,error:q}=await Q.from("network_commissions").select(`
          *,
          store_referral:store_referrals(
            store_owner_name,
            store_owner_email,
            subscription_plan,
            subscription_amount
          )
        `).eq("earning_helper_id",B).order("created_at",{ascending:!1});if(q)throw q;const G=[],Y=[];for(const oe of z||[])if(oe.direct_commission_amount>0&&G.push({id:oe.id,date_earned:oe.created_at,store_owner_name:oe.store_referral?.store_owner_name||"N/A",subscription_plan:oe.store_referral?.subscription_plan||"N/A",plan_amount:oe.store_referral?.subscription_amount||0,commission_amount:oe.direct_commission_amount,commission_status:oe.commission_status,payment_date:oe.payment_date,payment_reference:oe.payment_reference}),oe.network_commission_amount>0&&oe.recruiting_helper_id){const{data:K}=await Q.from("helpers").select("full_name").eq("id",oe.earning_helper_id).single();Y.push({id:oe.id,date_earned:oe.created_at,helper_name:K?.full_name||"N/A",customer_name:oe.store_referral?.store_owner_name||"N/A",helper_commission:oe.direct_commission_amount,network_commission:oe.network_commission_amount,commission_status:oe.commission_status,payment_date:oe.payment_date,payment_reference:oe.payment_reference})}l(G),u(Y);const M=G.reduce((oe,K)=>oe+K.commission_amount,0),H=G.filter(oe=>oe.commission_status.includes("Pending")).reduce((oe,K)=>oe+K.commission_amount,0),Z=G.filter(oe=>oe.commission_status==="Paid").reduce((oe,K)=>oe+K.commission_amount,0),L=G.filter(oe=>oe.commission_status.includes("Pending")).length,J=G.filter(oe=>oe.commission_status==="Paid").length,V=Y.reduce((oe,K)=>oe+K.network_commission,0),X=Y.filter(oe=>oe.commission_status.includes("Pending")).reduce((oe,K)=>oe+K.network_commission,0),ne=Y.filter(oe=>oe.commission_status==="Paid").reduce((oe,K)=>oe+K.network_commission,0),se=Y.filter(oe=>oe.commission_status.includes("Pending")).length,ue=Y.filter(oe=>oe.commission_status==="Paid").length,W=[...G,...Y].filter(oe=>oe.commission_status.includes("Pending")&&oe.payment_date).map(oe=>new Date(oe.payment_date).getTime()).sort((oe,K)=>oe-K),ae=W.length>0?br(new Date(W[0]),"PPP"):"TBD";k({direct:{total:M,pending:H,paid:Z,pendingCount:L,paidCount:J},network:{total:V,pending:X,paid:ne,pendingCount:se,paidCount:ue},grand:{total:M+V,pending:H+X,paid:Z+ne,nextPaymentDate:ae}})}catch(z){console.error("Error loading commissions:",z),ot.error("Failed to load commission history")}},O=()=>{let B=[...o],z=[...c];y&&(B=B.filter(q=>new Date(q.date_earned)>=new Date(y)),z=z.filter(q=>new Date(q.date_earned)>=new Date(y))),v&&(B=B.filter(q=>new Date(q.date_earned)<=new Date(v)),z=z.filter(q=>new Date(q.date_earned)<=new Date(v))),w==="pending"?(B=B.filter(q=>q.commission_status.includes("Pending")),z=z.filter(q=>q.commission_status.includes("Pending"))):w==="paid"&&(B=B.filter(q=>q.commission_status==="Paid"),z=z.filter(q=>q.commission_status==="Paid")),E==="direct"?z=[]:E==="network"&&(B=[]),f(B),p(z)},A=B=>B==="Paid"?s.jsxs(jt,{className:"bg-green-500",children:[s.jsx(cn,{className:"w-3 h-3 mr-1"}),"Paid"]}):B.includes("Pending")?s.jsxs(jt,{className:"bg-yellow-500",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Pending"]}):s.jsx(jt,{variant:"outline",children:B}),D=()=>{try{const B=d.map(H=>({"Date Earned":br(new Date(H.date_earned),"PPP"),"Store Owner":H.store_owner_name,"Subscription Plan":H.subscription_plan,"Plan Amount":`${H.plan_amount.toLocaleString()}`,"Your Commission (10%)":`${H.commission_amount.toLocaleString()}`,Status:H.commission_status,"Payment Date":H.payment_date?br(new Date(H.payment_date),"PPP"):"N/A","Payment Reference":H.payment_reference||"N/A"})),z=m.map(H=>({"Date Earned":br(new Date(H.date_earned),"PPP"),"Helper Name":H.helper_name,"Their Customer":H.customer_name,"Their Commission":`${H.helper_commission.toLocaleString()}`,"Your Network Commission (5%)":`${H.network_commission.toLocaleString()}`,Status:H.commission_status,"Payment Date":H.payment_date?br(new Date(H.payment_date),"PPP"):"N/A","Payment Reference":H.payment_reference||"N/A"})),q=na.book_new();if(B.length>0){const H=na.json_to_sheet(B);na.book_append_sheet(q,H,"Direct Commissions")}if(z.length>0){const H=na.json_to_sheet(z);na.book_append_sheet(q,H,"Network Commissions")}const G=[{Category:"Direct Commissions",Total:`${C.direct.total.toLocaleString()}`,Pending:`${C.direct.pending.toLocaleString()}`,Paid:`${C.direct.paid.toLocaleString()}`},{Category:"Network Commissions",Total:`${C.network.total.toLocaleString()}`,Pending:`${C.network.pending.toLocaleString()}`,Paid:`${C.network.paid.toLocaleString()}`},{Category:"GRAND TOTAL",Total:`${C.grand.total.toLocaleString()}`,Pending:`${C.grand.pending.toLocaleString()}`,Paid:`${C.grand.paid.toLocaleString()}`}],Y=na.json_to_sheet(G);na.book_append_sheet(q,Y,"Summary");const M=`commission_history_${br(new Date,"yyyy-MM-dd")}.xlsx`;Mm(q,M),ot.success("Commission history exported successfully!")}catch(B){console.error("Error exporting to Excel:",B),ot.error("Failed to export commission history")}},F=async()=>{await Q.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commission history..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ie,{variant:"ghost",size:"sm",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Commission History"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(wf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(ou,{align:"end",className:"w-56",children:[s.jsxs(Fn,{children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Ym,{}),s.jsxs(Fn,{onClick:F,className:"text-destructive",children:[s.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(Se,{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border-green-500/20",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Earned"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",C.grand.total.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct + Network"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-500",children:["",C.grand.pending.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting payment"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Paid"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-500",children:["",C.grand.paid.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Received"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Next Payment"}),s.jsx("p",{className:"text-xl font-bold",children:C.grand.nextPaymentDate}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expected date"})]})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(ze,{type:"date",placeholder:"From date",value:y,onChange:B=>g(B.target.value)}),s.jsx(ze,{type:"date",placeholder:"To date",value:v,onChange:B=>_(B.target.value)}),s.jsxs(_r,{value:w,onValueChange:b,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Status"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"pending",children:"Pending Only"}),s.jsx(Ke,{value:"paid",children:"Paid Only"})]})]}),s.jsxs(_r,{value:E,onValueChange:S,children:[s.jsx(vr,{children:s.jsx(jr,{placeholder:"Type"})}),s.jsxs(yr,{children:[s.jsx(Ke,{value:"all",children:"All Types"}),s.jsx(Ke,{value:"direct",children:"Direct Only"}),s.jsx(Ke,{value:"network",children:"Network Only"})]})]}),s.jsxs(ie,{onClick:D,className:"w-full",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]})})}),E!=="network"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Direct Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Store Owners You Referred)"})]}),s.jsx(Se,{className:"bg-green-500/5 border-green-500/20",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Direct Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",C.direct.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.direct.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.pendingCount," customer",C.direct.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-blue-500",children:["",C.direct.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.paidCount," customer",C.direct.paidCount!==1?"s":""]})]})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"p-0",children:d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ya,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No direct commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Date Earned"}),s.jsx(et,{children:"Store Owner"}),s.jsx(et,{children:"Subscription Plan"}),s.jsx(et,{children:"Plan Amount"}),s.jsx(et,{children:"Your Commission (10%)"}),s.jsx(et,{children:"Status"}),s.jsx(et,{children:"Payment Date"}),s.jsx(et,{children:"Reference"})]})}),s.jsx(ia,{children:d.map(B=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4 text-muted-foreground"}),br(new Date(B.date_earned),"PP")]})}),s.jsx(Xe,{className:"font-medium",children:B.store_owner_name}),s.jsx(Xe,{children:B.subscription_plan}),s.jsxs(Xe,{children:["",B.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",B.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:A(B.commission_status)}),s.jsx(Xe,{children:B.payment_date?br(new Date(B.payment_date),"PP"):"-"}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:B.payment_reference||"-"})]},B.id))})]})})})})]}),E!=="direct"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Network Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Helpers You Recruited)"})]}),s.jsx(Se,{className:"bg-blue-500/5 border-blue-500/20",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Network Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",C.network.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.network.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.pendingCount," helper",C.network.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",C.network.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.paidCount," helper",C.network.paidCount!==1?"s":""]})]})]})})}),s.jsx(Se,{children:s.jsx(Te,{className:"p-0",children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ya,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No network commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Nr,{children:[s.jsx(et,{children:"Date Earned"}),s.jsx(et,{children:"Helper Name"}),s.jsx(et,{children:"Their Customer"}),s.jsx(et,{children:"Their Commission"}),s.jsx(et,{children:"Your Network Commission (5%)"}),s.jsx(et,{children:"Status"}),s.jsx(et,{children:"Payment Date"}),s.jsx(et,{children:"Reference"})]})}),s.jsx(ia,{children:m.map(B=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4 text-muted-foreground"}),br(new Date(B.date_earned),"PP")]})}),s.jsx(Xe,{className:"font-medium",children:B.helper_name}),s.jsx(Xe,{children:B.customer_name}),s.jsxs(Xe,{children:["",B.helper_commission.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-blue-500",children:["",B.network_commission.toLocaleString()]}),s.jsx(Xe,{children:A(B.commission_status)}),s.jsx(Xe,{children:B.payment_date?br(new Date(B.payment_date),"PP"):"-"}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:B.payment_reference||"-"})]},B.id))})]})})})})]})]})]})}function Ait(){const e=xr(),{toast:t}=Ps(),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[m,p]=j.useState(null),[y,g]=j.useState({full_name:"",phone:""}),[v,_]=j.useState({account_holder_name:"",account_number:"",ifsc_code:"",bank_name:""}),[w,b]=j.useState(""),[E,S]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,k]=j.useState({memberSince:"",daysActive:0,totalEarnings:0,rank:"Bronze",badges:[]});j.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{user:q}}=await Q.auth.getUser();if(!q){e("/auth");return}const{data:G,error:Y}=await Q.from("helpers").select("*").eq("email",q.email).single();if(Y||!G){e("/helper/dashboard");return}if(i(G),g({full_name:G.full_name,phone:G.phone}),G.application_id){const{data:M}=await Q.from("helper_applications").select("bank_account_name, bank_account_number, bank_ifsc_code, bank_name").eq("id",G.application_id).single();M&&_({account_holder_name:M.bank_account_name||"",account_number:M.bank_account_number||"",ifsc_code:M.bank_ifsc_code||"",bank_name:M.bank_name||""})}await P(G.id,G.created_at),n(!1)}catch(q){console.error("Error checking helper access:",q),e("/auth")}},P=async(q,G)=>{try{const Y=JN(new Date,new Date(G)),{data:M}=await Q.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",q),H=M?.reduce((J,V)=>J+(V.direct_commission_amount||0)+(V.network_commission_amount||0),0)||0;let Z="Bronze";const L=[];H>=1e5?(Z="Gold",L.push("Gold Member","Top Performer","Network Builder")):H>=5e4?(Z="Silver",L.push("Silver Member","Rising Star")):(Z="Bronze",Y>=30&&L.push("Consistent Helper"),H>0&&L.push("First Earnings")),k({memberSince:br(new Date(G),"PPP"),daysActive:Y,totalEarnings:H,rank:Z,badges:L})}catch(Y){console.error("Error loading performance:",Y)}},O=async()=>{try{const{error:q}=await Q.from("helpers").update({full_name:y.full_name,phone:y.phone,updated_at:new Date().toISOString()}).eq("id",a.id);if(q)throw q;i({...a,full_name:y.full_name,phone:y.phone}),l(!1),ot.success("Profile updated successfully!")}catch(q){console.error("Error updating profile:",q),ot.error("Failed to update profile")}},A=()=>{p(v),f(!0)},D=async()=>{try{const{data:{user:q}}=await Q.auth.getUser();if(!q?.email)throw new Error("User not found");const{error:G}=await Q.auth.signInWithPassword({email:q.email,password:w});if(G){ot.error("Incorrect password");return}const{error:Y}=await Q.from("helper_applications").update({bank_account_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}).eq("id",a.application_id);if(Y)throw Y;i({...a,bank_account_holder_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}),u(!1),f(!1),b(""),p(null),ot.success("Bank details updated successfully!")}catch(q){console.error("Error updating bank details:",q),ot.error("Failed to update bank details")}},F=async()=>{if(E.newPassword!==E.confirmPassword){ot.error("New passwords do not match");return}if(E.newPassword.length<6){ot.error("Password must be at least 6 characters");return}try{const{data:{user:q}}=await Q.auth.getUser();if(!q?.email)throw new Error("User not found");const{error:G}=await Q.auth.signInWithPassword({email:q.email,password:E.currentPassword});if(G){ot.error("Current password is incorrect");return}const{error:Y}=await Q.auth.updateUser({password:E.newPassword});if(Y)throw Y;S({currentPassword:"",newPassword:"",confirmPassword:""}),ot.success("Password changed successfully!")}catch(q){console.error("Error changing password:",q),ot.error("Failed to change password")}},B=q=>{const G={Bronze:"bg-orange-500",Silver:"bg-gray-400",Gold:"bg-yellow-500"};return s.jsxs(jt,{className:`${G[q]} text-white text-lg px-4 py-1`,children:[s.jsx(vR,{className:"w-4 h-4 mr-2"}),q]})},z=async()=>{await Q.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ie,{variant:"ghost",size:"sm",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(va,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Profile & Settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ei,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(wf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(ou,{align:"end",className:"w-56",children:[s.jsxs(Fn,{children:[s.jsx(va,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Ym,{}),s.jsxs(Fn,{onClick:z,className:"text-destructive",children:[s.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsx("main",{className:"container mx-auto p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(wf,{className:"h-5 w-5"}),"Profile Information"]}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>{l(!1),g({full_name:a.full_name,phone:a.phone})},children:[s.jsx(La,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ie,{size:"sm",onClick:O,children:[s.jsx(gc,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>l(!0),children:[s.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Te,{className:"space-y-4",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Full Name"}),s.jsx(ze,{value:y.full_name,onChange:q=>g({...y,full_name:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Phone"}),s.jsx(ze,{value:y.phone,onChange:q=>g({...y,phone:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Email (Cannot be changed)"}),s.jsx(ze,{value:a.email,disabled:!0})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Full Name"}),s.jsx("p",{className:"font-semibold",children:a.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(pc,{className:"h-4 w-4"}),a.email]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(oc,{className:"h-4 w-4"}),a.phone]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Helper ID"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(qu,{className:"h-4 w-4"}),a.helper_id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Referral Code"}),s.jsx("p",{className:"font-semibold text-primary",children:a.referral_code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Joined Date"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),br(new Date(a.created_at),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(jt,{className:a.status==="Active"?"bg-green-500":"bg-red-500",children:a.status})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"h-5 w-5"}),"Bank Details"]}),c?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>{u(!1),_({account_holder_name:a.bank_account_holder_name||"",account_number:a.bank_account_number||"",ifsc_code:a.bank_ifsc_code||"",bank_name:a.bank_name||""})},children:[s.jsx(La,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ie,{size:"sm",onClick:A,children:[s.jsx(gc,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>u(!0),children:[s.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Te,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Account Holder Name"}),s.jsx(ze,{value:v.account_holder_name,onChange:q=>_({...v,account_holder_name:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Account Number"}),s.jsx(ze,{value:v.account_number,onChange:q=>_({...v,account_number:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"IFSC Code"}),s.jsx(ze,{value:v.ifsc_code,onChange:q=>_({...v,ifsc_code:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Bank Name"}),s.jsx(ze,{value:v.bank_name,onChange:q=>_({...v,bank_name:q.target.value})})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.bank_account_holder_name?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Holder Name"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_holder_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Number"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_number?`****${a.bank_account_number.slice(-4)}`:"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"IFSC Code"}),s.jsx("p",{className:"font-semibold",children:a.bank_ifsc_code||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Bank Name"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Tge,{className:"h-4 w-4"}),a.bank_name||"Not provided"]})]})]}):s.jsxs("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:[s.jsx(ss,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No bank details added yet"})]})})})]}),s.jsxs(Se,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(dg,{className:"h-5 w-5"}),"Change Password"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Current Password"}),s.jsx(ze,{type:"password",value:E.currentPassword,onChange:q=>S({...E,currentPassword:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"New Password"}),s.jsx(ze,{type:"password",value:E.newPassword,onChange:q=>S({...E,newPassword:q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Confirm New Password"}),s.jsx(ze,{type:"password",value:E.confirmPassword,onChange:q=>S({...E,confirmPassword:q.target.value})})]}),s.jsx(ie,{onClick:F,children:"Update Password"})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(Se,{className:"bg-gradient-to-br from-primary/10 to-purple-500/10",children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"h-5 w-5"}),"Your Performance"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("div",{className:"text-center py-4",children:B(C.rank)}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Member Since"}),s.jsx("span",{className:"font-semibold",children:C.memberSince})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Days Active"}),s.jsxs("span",{className:"font-semibold text-blue-500",children:[C.daysActive," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),s.jsxs("span",{className:"font-bold text-green-500 text-lg",children:["",C.totalEarnings.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),s.jsx("span",{className:"font-semibold",children:C.rank})]})]}),C.badges.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(vR,{className:"h-4 w-4"}),"Achievement Badges"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.badges.map((q,G)=>s.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(cn,{className:"h-3 w-3"}),q]},G))})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Rank Progression"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bronze"}),s.jsx("span",{className:"text-muted-foreground",children:"0+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Silver"}),s.jsx("span",{className:"text-muted-foreground",children:"50,000+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Gold"}),s.jsx("span",{className:"text-muted-foreground",children:"100,000+"})]})]})]})]})]})})]})}),s.jsx(Tn,{open:d,onOpenChange:f,children:s.jsxs(jn,{children:[s.jsxs(An,{children:[s.jsx(Pn,{children:"Verify Password"}),s.jsx(Ns,{children:"Please enter your password to confirm bank details update"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{children:"Password"}),s.jsx(ze,{type:"password",value:w,onChange:q=>b(q.target.value),placeholder:"Enter your password"})]})}),s.jsxs(Ra,{children:[s.jsx(ie,{variant:"outline",onClick:()=>{f(!1),b(""),p(null)},children:"Cancel"}),s.jsx(ie,{onClick:D,children:"Verify & Update"})]})]})})]})}function Pit(){const e=xr(),[t,r]=j.useState(!1),[n,a]=j.useState(!0);j.useEffect(()=>{const o=async c=>{try{console.log("[HelperLogin] Checking helper status for user:",c);const{data:u,error:d}=await Q.from("helpers").select("*").eq("id",c).maybeSingle();if(d){console.error("[HelperLogin] Error checking helper status:",d);return}if(u){console.log("[HelperLogin] Approved helper found, redirecting to dashboard"),ot.success("Welcome back!"),e("/helper/dashboard");return}const{data:f,error:m}=await Q.from("helper_applications").select("*").eq("user_id",c).maybeSingle();if(m){console.error("[HelperLogin] Error checking application:",m);return}if(f){console.log("[HelperLogin] Application found with status:",f.application_status),f.application_status==="Pending"?ot.info("Your application is under review"):f.application_status==="Rejected"?ot.error("Your helper application was rejected"):ot.info("Checking your application status..."),e("/application-status");return}console.log("[HelperLogin] No helper or application found"),ot.error("You are not registered as a helper. Please apply to become a helper first."),await Q.auth.signOut()}catch(u){console.error("[HelperLogin] Error in session check:",u)}};Q.auth.getSession().then(async({data:{session:c}})=>{c&&(console.log("[HelperLogin] Existing session found"),await o(c.user.id)),a(!1)});const{data:{subscription:l}}=Q.auth.onAuthStateChange(async(c,u)=>{console.log("[HelperLogin] Auth state changed:",c),c==="SIGNED_IN"&&u&&(console.log("[HelperLogin] User signed in, checking helper status"),a(!0),setTimeout(async()=>{await o(u.user.id),a(!1)},100))});return()=>l.unsubscribe()},[e]);const i=async()=>{try{r(!0),console.log("[HelperLogin] Starting Google sign in for helper...");const{error:o}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/helper/login`}});o?(console.error("[HelperLogin] Google sign in error:",o),ot.error(o.message||"Failed to sign in with Google")):console.log("[HelperLogin] Google OAuth redirect initiated")}catch(o){console.error("[HelperLogin] Unexpected error:",o),ot.error(o.message||"An unexpected error occurred")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"mb-4",children:s.jsx(kt,{to:"/",children:s.jsxs(ie,{variant:"ghost",size:"sm",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),s.jsxs(Se,{className:"shadow-xl",children:[s.jsxs(Ze,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:s.jsx(Bi,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx(Qe,{className:"text-2xl font-bold",children:"Helper Login"}),s.jsx(Ir,{children:"Sign in to access your helper dashboard"})]}),s.jsx(Te,{children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking your session..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ie,{onClick:i,disabled:t,variant:"outline",className:"w-full",size:"lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Don't have a helper account?"}),s.jsx(kt,{to:"/become-helper",children:s.jsx(ie,{variant:"link",className:"text-blue-600 dark:text-blue-400",children:"Apply to become a helper"})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Are you a store owner?"," ",s.jsx(kt,{to:"/auth",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Login here"})]})})]})})]}),s.jsx(Se,{className:"mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:s.jsx(Te,{className:"pt-4",children:s.jsxs("p",{className:"text-xs text-blue-900 dark:text-blue-200 text-center",children:[s.jsx("strong",{children:"Note:"})," This login is exclusively for helpers. Store owners should use the main login page."]})})})]})})}function iJ(){const[e,t]=j.useState(""),[r,n]=j.useState(!0);return j.useEffect(()=>{const a=async(l,c)=>{console.log("[SITEMAP] Generating store-specific sitemap for:",l);const{data:u,error:d}=await Q.from("stores").select("id, slug, subdomain, custom_domain, updated_at").or(`slug.eq.${l},subdomain.eq.${l},custom_domain.eq.${l}`).single();if(d||!u){console.error("[SITEMAP] Store not found:",d),t(`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
</urlset>`);return}let f="";u.custom_domain?f=`https://${u.custom_domain}`:u.subdomain?f=`https://${u.subdomain}.digitaldukandar.in`:f=`https://digitaldukandar.in/${u.slug}`;const{data:m,error:p}=await Q.from("products").select("id, name, slug, updated_at").eq("store_id",u.id).eq("status","published").order("created_at",{ascending:!1});p&&console.error("[SITEMAP] Error fetching products:",p),console.log("[SITEMAP] Store products found:",m?.length||0);let y=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Store Home -->
  <url>
    <loc>${f}</loc>
    <lastmod>${u.updated_at?new Date(u.updated_at).toISOString().split("T")[0]:c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Store Pages -->
  <url>
    <loc>${f}/products</loc>
    <lastmod>${c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>${f}/categories</loc>
    <lastmod>${c}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>${f}/policies</loc>
    <lastmod>${c}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>

  <!-- Individual Products (${m?.length||0} products) -->`;if(m&&m.length>0)for(const g of m){const v=g.slug||g.id,_=`${f}/products/${v}`,w=g.updated_at?new Date(g.updated_at).toISOString().split("T")[0]:c;y+=`
  <url>
    <loc>${_}</loc>
    <lastmod>${w}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.7</priority>
  </url>`}y+=`
</urlset>`,t(y)},i=async l=>{console.log("[SITEMAP] Generating platform-wide sitemap");const{data:c,error:u}=await Q.from("stores").select("slug, subdomain, custom_domain, updated_at").order("created_at",{ascending:!1});console.log("[SITEMAP] Stores query result:",{stores:c,error:u}),console.log("[SITEMAP] Number of stores:",c?.length||0);let d=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Platform Pages -->
  <url>
    <loc>https://digitaldukandar.in/</loc>
    <lastmod>${l}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/pricing</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/auth</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.6</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/become-helper</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.7</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/privacy-policy</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/terms-of-service</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>

  <!-- Store Pages (${c?.length||0} stores found) -->`;if(c&&c.length>0){console.log("[SITEMAP] Adding",c.length,"stores to sitemap");for(const f of c){let m="";f.custom_domain?(m=`https://${f.custom_domain}`,console.log(`[SITEMAP] Store ${f.slug}: using custom_domain -> ${m}`)):f.subdomain?(m=`https://${f.subdomain}.digitaldukandar.in`,console.log(`[SITEMAP] Store ${f.slug}: using subdomain -> ${m}`)):(m=`https://digitaldukandar.in/${f.slug}`,console.log(`[SITEMAP] Store ${f.slug}: using slug fallback -> ${m}`));const p=f.updated_at?new Date(f.updated_at).toISOString().split("T")[0]:l;d+=`
  <url>
    <loc>${m}</loc>
    <lastmod>${p}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>`}}d+=`
</urlset>`,t(d)};(async()=>{try{n(!0);const l=d2(),c=oQ(),u=new Date().toISOString().split("T")[0];console.log("[SITEMAP] Domain Info:",l),console.log("[SITEMAP] Store Identifier:",c),l.isStoreSpecific&&c?await a(c,u):await i(u)}catch(l){console.error("[SITEMAP] Error generating sitemap:",l)}finally{n(!1)}})()},[]),j.useEffect(()=>{e&&document.querySelector('meta[http-equiv="Content-Type"]')?.setAttribute("content","application/xml")},[e]),r?s.jsx("div",{style:{padding:"20px"},children:"Generating sitemap..."}):s.jsx("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:e})}const Oit=new aye,Rit=()=>{const e=d2(),t=oQ();return console.log("Domain Info:",e),console.log("Store Identifier:",t),s.jsx(uye,{client:Oit,children:s.jsx(aQ,{children:s.jsx(N0e,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(Dh,{children:s.jsxs(Mbe,{children:[s.jsx(w0e,{}),s.jsx(rxe,{}),s.jsxs(Sbe,{children:[s.jsx(cwe,{}),s.jsx(xbe,{children:e.isStoreSpecific&&t?s.jsxs(s.Fragment,{children:[s.jsx(Ot,{path:"/",element:s.jsx(sJ,{slug:t})}),s.jsx(Ot,{path:"/policies",element:s.jsx(aJ,{slug:t})}),s.jsx(Ot,{path:"/categories",element:s.jsx(rA,{slug:t})}),s.jsx(Ot,{path:"/products",element:s.jsx(tA,{slug:t})}),s.jsx(Ot,{path:"/products/:slug",element:s.jsx(nA,{slug:t})}),s.jsx(Ot,{path:"/cart",element:s.jsx(sA,{slug:t})}),s.jsx(Ot,{path:"/checkout",element:s.jsx(aA,{slug:t})}),s.jsx(Ot,{path:"/payment-success",element:s.jsx(iA,{})}),s.jsx(Ot,{path:"/sitemap.xml",element:s.jsx(iJ,{})}),s.jsx(Ot,{path:"*",element:s.jsx(wU,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ot,{path:"/",element:s.jsx(ENe,{})}),s.jsx(Ot,{path:"/pricing",element:s.jsx(RUe,{})}),s.jsx(Ot,{path:"/auth",element:s.jsx(DUe,{})}),s.jsx(Ot,{path:"/sitemap.xml",element:s.jsx(iJ,{})}),s.jsx(Ot,{path:"/privacy-policy",element:s.jsx(wit,{})}),s.jsx(Ot,{path:"/terms-of-service",element:s.jsx(_it,{})}),s.jsx(Ot,{path:"/become-helper",element:s.jsx(Nit,{})}),s.jsx(Ot,{path:"/application-status",element:s.jsx(Sit,{})}),s.jsx(Ot,{path:"/helper/login",element:s.jsx(Pit,{})}),s.jsx(Ot,{path:"/helper/dashboard",element:s.jsx(kit,{})}),s.jsx(Ot,{path:"/helper/my-referrals",element:s.jsx(Cit,{})}),s.jsx(Ot,{path:"/helper/my-helper-network",element:s.jsx(Eit,{})}),s.jsx(Ot,{path:"/helper/commission-history",element:s.jsx(Tit,{})}),s.jsx(Ot,{path:"/helper/profile",element:s.jsx(Ait,{})}),s.jsx(Ot,{path:"/home",element:s.jsx(V9e,{})}),s.jsx(Ot,{path:"/categories",element:s.jsx(rA,{})}),s.jsx(Ot,{path:"/products",element:s.jsx(tA,{})}),s.jsx(Ot,{path:"/products/:slug",element:s.jsx(nA,{})}),s.jsx(Ot,{path:"/cart",element:s.jsx(sA,{})}),s.jsx(Ot,{path:"/checkout",element:s.jsx(aA,{})}),s.jsx(Ot,{path:"/payment-success",element:s.jsx(iA,{})}),s.jsx(Ot,{path:"/admin/dashboard",element:s.jsx(lke,{})}),s.jsx(Ot,{path:"/admin/products",element:s.jsx(lCe,{})}),s.jsx(Ot,{path:"/admin/products/add",element:s.jsx(NEe,{})}),s.jsx(Ot,{path:"/admin/products/edit/:id",element:s.jsx(CEe,{})}),s.jsx(Ot,{path:"/admin/categories",element:s.jsx(L5e,{})}),s.jsx(Ot,{path:"/admin/orders",element:s.jsx(I5e,{})}),s.jsx(Ot,{path:"/admin/analytics",element:s.jsx(M5e,{})}),s.jsx(Ot,{path:"/admin/subscription",element:s.jsx($5e,{})}),s.jsx(Ot,{path:"/admin/growth/seo",element:s.jsx(B5e,{})}),s.jsx(Ot,{path:"/admin/growth/social-media",element:s.jsx(U5e,{})}),s.jsx(Ot,{path:"/admin/growth/instagram",element:s.jsx(V5e,{})}),s.jsx(Ot,{path:"/admin/marketplace",element:s.jsx(q5e,{})}),s.jsx(Ot,{path:"/admin/shipping",element:s.jsx(W5e,{})}),s.jsx(Ot,{path:"/admin/settings",element:s.jsx(Eke,{})}),s.jsx(Ot,{path:"/superadmin/login",element:s.jsx(IUe,{})}),s.jsxs(Ot,{path:"/superadmin",element:s.jsx(hit,{}),children:[s.jsx(Ot,{path:"dashboard",element:s.jsx(FUe,{})}),s.jsx(Ot,{path:"users",element:s.jsx(pVe,{})}),s.jsx(Ot,{path:"helpers",element:s.jsx(xVe,{})}),s.jsx(Ot,{path:"commissions",element:s.jsx(vVe,{})}),s.jsx(Ot,{path:"commission-settings",element:s.jsx(OVe,{})}),s.jsx(Ot,{path:"reports-analytics",element:s.jsx(Qat,{})}),s.jsx(Ot,{path:"subscription-plans",element:s.jsx(rit,{})}),s.jsx(Ot,{path:"transactions",element:s.jsx(nit,{})}),s.jsx(Ot,{path:"billing",element:s.jsx(sit,{})}),s.jsx(Ot,{path:"custom-domains",element:s.jsx(ait,{})}),s.jsx(Ot,{path:"settings",element:s.jsx(iit,{})}),s.jsx(Ot,{path:"sitemaps",element:s.jsx(cit,{})}),s.jsx(Ot,{path:"marketplace",element:s.jsx(fit,{})})]}),s.jsx(Ot,{path:"/onboarding/store-setup",element:s.jsx(vit,{})}),s.jsx(Ot,{path:"/:slug",element:s.jsx(sJ,{})}),s.jsx(Ot,{path:"/:slug/policies",element:s.jsx(aJ,{})}),s.jsx(Ot,{path:"/:slug/categories",element:s.jsx(rA,{})}),s.jsx(Ot,{path:"/:slug/products",element:s.jsx(tA,{})}),s.jsx(Ot,{path:"/:slug/products/:productSlug",element:s.jsx(nA,{})}),s.jsx(Ot,{path:"/:slug/cart",element:s.jsx(sA,{})}),s.jsx(Ot,{path:"/:slug/checkout",element:s.jsx(aA,{})}),s.jsx(Ot,{path:"/:slug/payment-success",element:s.jsx(iA,{})}),s.jsx(Ot,{path:"*",element:s.jsx(wU,{})})]})})]})]})})})})})};Ape.createRoot(document.getElementById("root")).render(s.jsx(Rit,{}));
